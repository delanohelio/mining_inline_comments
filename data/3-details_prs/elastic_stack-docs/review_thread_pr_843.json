{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTA0NzE0", "number": 843, "reviewThreads": {"totalCount": 125, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Nzo0N1rODfrfZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQyMjoyNjoxNlrODiB-ew==", "hasNextPage": false, "hasPreviousPage": true}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0OTk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Nzo0N1rOFphnDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Nzo0N1rOFphnDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NjYwNw==", "bodyText": "If we do start using these tagged regions from other books, however, we'll need to make sure our links work externally too.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            end::apache-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379086607", "createdAt": "2020-02-13T19:57:47Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ1NjIzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1OTozN1rOFphq0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1OTozN1rOFphq0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NzU3MQ==", "bodyText": "Ditto\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            filter.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379087571", "createdAt": "2020-02-13T19:59:37Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ1OTk5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowMDo1NlrOFphtUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowMDo1NlrOFphtUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4ODIwOQ==", "bodyText": "Duplicates first bullet, IMO:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if web access log data exists matching the defined", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379088209", "createdAt": "2020-02-13T20:00:56Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ2MDczOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowMToxMVrOFphtyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowMToxMVrOFphtyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4ODMzMA==", "bodyText": "Ditto.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            filter.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379088330", "createdAt": "2020-02-13T20:01:11Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ3OTg0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowODoxNlrOFph6OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowODoxNlrOFph6OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5MTUxMw==", "bodyText": "Do these jobs appear by default in the Logs UI? If so, I think we should clarify how you get them with something like this:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            tag::logs-jobs[]\n          \n          \n            \n            These {anomaly-jobs} appear by default in the {kibana-ref}/xpack-logs.html[Logs app] in {kib}.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379091513", "createdAt": "2020-02-13T20:08:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 293}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ4NDU5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowOTo1M1rOFph9UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDowOTo1M1rOFph9UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5MjMwNQ==", "bodyText": "This now seems redundant to me:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if web access log data exists matching the defined", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379092305", "createdAt": "2020-02-13T20:09:53Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 398}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ4NTI4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxMDoxMFrOFph9wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxMDoxMFrOFph9wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5MjQxNw==", "bodyText": "Ditto:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            filter.\n          \n          \n            \n            filter.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379092417", "createdAt": "2020-02-13T20:10:10Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 399}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUwNzg0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxODoxN1rOFpiL2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxODoxN1rOFpiL2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5NjAyNA==", "bodyText": "I think we should clarify how/where you get these by using text similar to what's in https://www.elastic.co/guide/en/siem/guide/7.6/machine-learning.html#included-jobs and https://www.elastic.co/guide/en/siem/guide/7.6/prebuilt-ml-jobs.html. For example:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            These {anomaly-jobs} appear by default in the Anomaly Detection interface of the {siem-guide}/machine-learning.html[SIEM app] in {kib}. They help you automatically detect file system and network anomalies on your hosts.\n          \n      \n    \n    \n  \n\nIt might be worthwhile to move/single-source the \"The jobs are available when... you ship data using Beats, and Kibana is configured with the required index patterns...\" etc here too.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379096024", "createdAt": "2020-02-13T20:18:17Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 471}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUxMTY2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxOTozNVrOFpiOOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxOTozNVrOFpiOOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5NjYzNQ==", "bodyText": "I think this sentence is redundant after you add the intro to the SIEM section (since otherwise it just duplicates the first bullet):\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if auditbeat or winlogbeat data exists, matching the \n          \n          \n            \n            This job can be created if auditbeat or winlogbeat data exists, matching the", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379096635", "createdAt": "2020-02-13T20:19:35Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 484}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUxMjI5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxOTo0OVrOFpiOrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoxOTo0OVrOFpiOrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5Njc0OA==", "bodyText": "Ditto:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            defined filter, and is available via the SIEM application.\n          \n          \n            \n            defined filter, and is available via the SIEM application.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379096748", "createdAt": "2020-02-13T20:19:49Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 485}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUxNDAxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMDoyOVrOFpiPyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMDoyOVrOFpiPyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5NzAzNQ==", "bodyText": "Likewise, I think this sentence is redundant:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if auditbeat data exists, matching the defined filter, \n          \n          \n            \n            This job can be created if auditbeat data exists, matching the defined filter,", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379097035", "createdAt": "2020-02-13T20:20:29Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 509}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUxNDgyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMDo0OFrOFpiQUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMDo0OFrOFpiQUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5NzE2OA==", "bodyText": "Ditto re redundancy:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if auditbeat data exists, matching the defined filter, \n          \n          \n            \n            This job can be created if auditbeat data exists, matching the defined filter,", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379097168", "createdAt": "2020-02-13T20:20:48Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 534}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTUxNTc4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMToxMFrOFpiQ6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMDoyMToxMFrOFpiQ6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA5NzMyMA==", "bodyText": "Ditto re redundancy:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if auditbeat data exists, matching the defined filter,", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379097320", "createdAt": "2020-02-13T20:21:10Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 559}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MjY5MzQwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMjo0MFrOFsBASQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMjo0MFrOFsBASQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTY5ODEyMQ==", "bodyText": "These tags are appearing in the preview, so I think we have to comment them like this (see https://github.com/elastic/elasticsearch/blob/7.6/docs/reference/release-notes/highlights-7.6.0.asciidoc for working example):\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            tag::apache-jobs[]\n          \n          \n            \n            // tag::apache-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r381698121", "createdAt": "2020-02-20T03:02:40Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+tag::apache-jobs[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a3cc9c6cde74717bb3c813c32d767c8c31af8a6"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MjY5NDEyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMjo1NVrOFsBAwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMjo1NVrOFsBAwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTY5ODI0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            end::apache-jobs[]\n          \n          \n            \n            // end::apache-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r381698240", "createdAt": "2020-02-20T03:02:55Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+end::apache-jobs[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a3cc9c6cde74717bb3c813c32d767c8c31af8a6"}, "originalPosition": 99}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MjY5NTAwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMzoxMlrOFsBBSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMzoxMlrOFsBBSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTY5ODM3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            tag::apm-jobs[]\n          \n          \n            \n            // tag::apm-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r381698376", "createdAt": "2020-02-20T03:03:12Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+tag::apm-jobs[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a3cc9c6cde74717bb3c813c32d767c8c31af8a6"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MjY5NTkwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMzoyOFrOFsBB3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwMzowMzoyOFrOFsBB3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTY5ODUyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            end::apm-jobs[]\n          \n          \n            \n            // end::apm-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r381698526", "createdAt": "2020-02-20T03:03:28Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+  \n+This job can help detect browser compatibility issues.\n+\n+////\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+\n+This job is useful in identifying bots.\n+\n+////\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+end::apm-jobs[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a3cc9c6cde74717bb3c813c32d767c8c31af8a6"}, "originalPosition": 222}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTc4NjIzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNzo0NDowM1rOFsc98w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNzo0NDowM1rOFsc98w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE1NjI3NQ==", "bodyText": "This job name isn't formatted properly in the preview. I think the solution is to have a preceding blank line:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            log_entry_categories_count::\n          \n          \n            \n            \n          \n          \n            \n            log_entry_categories_count::", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382156275", "createdAt": "2020-02-20T17:44:03Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+  \n+This job can help detect browser compatibility issues.\n+\n+////\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+\n+This job is useful in identifying bots.\n+\n+////\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+// end::apm-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+// tag::auditbeat-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers \n+  (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers (using the \n+  <<ml-rare,`rare` function>>).\n+\n+////\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+////\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates (using the \n+  <<ml-nonzero-count,`high_non_zero_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts (using the \n+  <<ml-rare,`rare` function>>).\n+\n+////\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+////\n+// end::auditbeat-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+// tag::logs-jobs[]\n+These {anomaly-jobs} appear by default in the {kibana-ref}/xpack-logs.html[Logs app] in {kib}. \n+log_entry_categories_count::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 315}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTkyMjMyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjoyNFrOFseS0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjoyNFrOFseS0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3ODAwMg==", "bodyText": "@blaklaybul is this enough of an intro to this section of APM jobs?:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            These {anomaly-job} wizards appear in {kib} if you have data from APM Agents or an APM Server stored in {es}.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382178002", "createdAt": "2020-02-20T18:26:24Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTkyOTM5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyODozNFrOFseXOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxOTo1NToxNlrOFshHxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3OTEyOQ==", "bodyText": "@blaklaybul I've heard rum-js replaces js-base. Do our jobs pick those up too?:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * For APM data where `agent.name` is `js-base` or `nodejs`.\n          \n          \n            \n            * For data from {apm-rum-agents} or {apm-node-agents} (where `agent.name` is `js-base` or `nodejs`).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382179129", "createdAt": "2020-02-20T18:28:34Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwMTA0Mw==", "bodyText": "I was wrong. It looks like agent.name hasn't been changed from js-base to rum-js yet, but it will be soon. Here's the open PR elastic/apm-agent-rum-js#548.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382201043", "createdAt": "2020-02-20T19:10:43Z", "author": {"login": "bmorelli25"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3OTEyOQ=="}, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIwMzAwMg==", "bodyText": "The PR I linked above is the last change required to rename the Agent (also see elastic/apm-agent-rum-js#108). Not sure if it's too late, but it might make more sense to name this abnormal_span_durations_rumjs instead of abnormal_span_durations_jsbase. A similar rename for the other anomaly detection jobs to *_rumjs should also be considered. cc @jahtalab / @vigneshshanmugam", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382203002", "createdAt": "2020-02-20T19:14:14Z", "author": {"login": "bmorelli25"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3OTEyOQ=="}, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIyNDMyNg==", "bodyText": "Per a quick chat with @blaklaybul, we can/should update the name when APM makes the change", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382224326", "createdAt": "2020-02-20T19:55:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3OTEyOQ=="}, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk1MDY2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozNToyNFrOFselKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozNToyNFrOFselKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4MjY5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * For APM data where `agent.name` is `nodejs`.\n          \n          \n            \n            * For data from {apm-node-agents} (where `agent.name` is `nodejs`).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382182696", "createdAt": "2020-02-20T18:35:24Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 129}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk1OTk1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozODoxOVrOFseqyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozODoxOVrOFseqyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NDEzNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * For APM data where `agent.name` is `js-base`.\n          \n          \n            \n            * For data from {apm-rum-agents} (where `agent.name` is `js-base`).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382184137", "createdAt": "2020-02-20T18:38:19Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 148}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2Mzg4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozOTozNVrOFsetMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODozOTozNVrOFsetMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NDc1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * For APM data where `agent.name` is `js-base` or `nodejs`.\n          \n          \n            \n            * For data from {apm-rum-agents} or {apm-node-agents} (where `agent.name` is `js-base` or `nodejs`).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382184752", "createdAt": "2020-02-20T18:39:35Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+  \n+This job can help detect browser compatibility issues.\n+\n+////\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 172}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTk2NjM0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDoyN1rOFseu2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODo0MDoyN1rOFseu2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE4NTE3OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * For APM data where `agent.name` is `js-base`.\n          \n          \n            \n            * For data from {apm-rum-agents} (where `agent.name` is `js-base`).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382185178", "createdAt": "2020-02-20T18:40:27Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,931 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+// tag::apache-jobs[]\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+  rate (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate (using the <<ml-count,`high_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+////\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log (using the <<ml-distinct-count,`high_distinct_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+////\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates (using the <<ml-count,`count` function>>).\n+\n+////\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+////\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates (using the <<ml-nonzero-count,`non_zero_count` function>>).\n+\n+////\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+////\n+// end::apache-jobs[]\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+// tag::apm-jobs[]\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual (using the \n+  <<ml-metric-mean,`high_mean` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+////\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate \n+  (using the <<ml-nonzero-count,`high_non_zero_count` function>>).\n+  \n+This job can help detect browser compatibility issues.\n+\n+////\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+////\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal (using the <<ml-count,`low_count` function>>).\n+\n+////\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+////\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28cc2aa6b953962336862d3310e87b65b11278"}, "originalPosition": 190}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MDEwNTU1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQyMjoyNjoxNlrOFtGcBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQwODoxOTo0MlrOFtYKvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjgzNTcxNg==", "bodyText": "FYI, we are in the process of renaming the agent name to rum-js elastic/apm-agent-rum-js#548 from the next major version 5.x", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r382835716", "createdAt": "2020-02-21T22:26:16Z", "author": {"login": "vigneshshanmugam"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -145,7 +145,7 @@ Function: `high_mean`.\n \n anomalous_error_rate_for_user_agents_jsbase::\n \n-* For APM data where `agent.name` is `js-base`.\n+* For data from {apm-rum-agents} (where `agent.name` is `js-base`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4575130c7b5ae5e63a5f90b17270a4d0edaaee6c"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzEyNjIwNw==", "bodyText": "@vigneshshanmugam Thanks for the info! I subscribed to the related PR that you linked and will open one for changing the agent name here in the OOTB ML jobs page. After elastic/apm-agent-rum-js#548 is merged, I'll merge mine that changes js-base to rum-js on this page.\nEDIT: I opened the PR: #902", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r383126207", "createdAt": "2020-02-24T08:19:42Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -145,7 +145,7 @@ Function: `high_mean`.\n \n anomalous_error_rate_for_user_agents_jsbase::\n \n-* For APM data where `agent.name` is `js-base`.\n+* For data from {apm-rum-agents} (where `agent.name` is `js-base`).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjgzNTcxNg=="}, "originalCommit": {"oid": "4575130c7b5ae5e63a5f90b17270a4d0edaaee6c"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNTQ3MDU2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0NzoyOFrOFmkYow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0NzoyOFrOFmkYow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4NjMzOQ==", "bodyText": "Should we also have a quick sentence/link that explains how you get these prebuilt jobs? E.g. Per http://stack-docs_843.docs-preview.app.elstc.co/guide/en/machine-learning/master/create-jobs.html \"Kibana recognizes certain types of data in Elasticsearch and provides specialized anomaly detection job wizards for that context\".", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r375986339", "createdAt": "2020-02-06T17:47:28Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNTQ3NTU2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0OTowNlrOFmkbyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0OTowNlrOFmkbyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4NzE0NQ==", "bodyText": "It's never been entirely clear to me what these \"modules\" were, so unless we can define it I think we should remove it:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            == Modules with prebuilt {anomaly-detect} jobs\n          \n          \n            \n            == Prebuilt {anomaly-detect} jobs", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r375987145", "createdAt": "2020-02-06T17:49:06Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNTQ4MDcxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo1MDo0MFrOFmkfEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo1MDo0MFrOFmkfEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4Nzk4NA==", "bodyText": "Likewise I'm not sure what \"modules\" adds here:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n          \n          \n            \n            This page lists the available prebuilt {anomaly-jobs}. Every", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r375987984", "createdAt": "2020-02-06T17:50:40Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDgxNTU1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTozNzoyMlrOFn7dpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTozNzoyMlrOFn7dpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxMzAyOQ==", "bodyText": "While playing with an APM sample data set, this was the only job that was suggested for my data.  If possible, it would be nice to clarify which type of data / products / scenarios are required to have each of these wizards to appear.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r377413029", "createdAt": "2020-02-11T01:37:22Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+low_request_rate_ecs::\n+Detects low request rates in HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+--\n+\n+source_ip_request_rate_ecs::\n+Detects source IPs with unusually high request rates in the HTTP access log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+source_ip_url_count_ecs::\n+Detects source IPs with unusually high distinct count of URLs in the HTTP access \n+log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+status_code_rate_ecs::\n+Detects unusual status code rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+--\n+\n+visitor_rate_ecs::\n+Detects unusual visitor rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+--\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+Searches for spans that are taking longer than usual to process.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+--\n+\n+abnormal_trace_durations_nodejs::\n+Identifies trace transactions that are processing more slowly than usual.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+--\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+Detects user agents that are encountering errors at an above normal rate. This \n+can help detect browser compatibility issues.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+--\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+Identifies periods during which the application is processing fewer requests \n+than normal.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+--\n+\n+high_count_by_user_agent_jsbase::\n+Detects user agents that are making requests at a suspiciously high rate. This \n+is useful in identifying bots.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+--\n+\n+high_mean_response_time::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 160}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDgyMDQ5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0MTowMFrOFn7glA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0MTowMFrOFn7glA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxMzc4MA==", "bodyText": "Could we add something like this (moved out of https://www.elastic.co/guide/en/machine-learning/master/create-jobs.html)?:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            These {anomaly-job} wizards appear in {kib} if you use {filebeat-ref}/index.html[{filebeat}] to ship access logs from your https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields and datatypes from the Elastic Common Schema (ECS).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r377413780", "createdAt": "2020-02-11T01:41:00Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDgyMTY5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0MTo1OFrOFn7hSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0MTo1OFrOFn7hSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxMzk2Mg==", "bodyText": "Could we add something like this here too (moved out of https://www.elastic.co/guide/en/machine-learning/master/create-jobs.html)?:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n             These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access logs from your \n          \n          \n            \n            http://nginx.org/[Nginx] HTTP servers to {es} and store it using fields and datatypes from the Elastic Common Schema (ECS).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r377413962", "createdAt": "2020-02-11T01:41:58Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+low_request_rate_ecs::\n+Detects low request rates in HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+--\n+\n+source_ip_request_rate_ecs::\n+Detects source IPs with unusually high request rates in the HTTP access log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+source_ip_url_count_ecs::\n+Detects source IPs with unusually high distinct count of URLs in the HTTP access \n+log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+status_code_rate_ecs::\n+Detects unusual status code rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+--\n+\n+visitor_rate_ecs::\n+Detects unusual visitor rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+--\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+Searches for spans that are taking longer than usual to process.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+--\n+\n+abnormal_trace_durations_nodejs::\n+Identifies trace transactions that are processing more slowly than usual.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+--\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+Detects user agents that are encountering errors at an above normal rate. This \n+can help detect browser compatibility issues.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+--\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+Identifies periods during which the application is processing fewer requests \n+than normal.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+--\n+\n+high_count_by_user_agent_jsbase::\n+Detects user agents that are making requests at a suspiciously high rate. This \n+is useful in identifying bots.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+--\n+\n+high_mean_response_time::\n+Detects anomalies in high mean of transaction duration.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+docker_high_count_process_events_ecs::\n+Detects unusual increases in process execution rates in Docker containers.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+--\n+\n+docker_rare_process_activity_ecs::\n+Detects rare process executions in Docker containers.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+--\n+\n+hosts_high_count_process_events_ecs::\n+Detects unusual increases in process execution rates.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+--\n+\n+hosts_rare_process_activity_ecs::\n+Detects rare process executions on hosts.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+Detects anomalies in count of log entries by category.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+--\n+\n+log_entry_rate::\n+Detects anomalies in the log entry ingestion rate.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `event.dataset`\n+--\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+high_mean_cpu_iowait_ecs::\n+Detects unusual increases in cpu time spent in iowait.\n++\n+--\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `host.name`\n+--\n+\n+max_disk_utilization_ecs::\n+Detects unusual increases in disk utilization.\n++\n+--\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+Influencers:\n+\n+* `host.name`\n+--\n+\n+metricbeat_outages_ecs::\n+Detects unusual decreases in Metricbeat documents.\n++\n+--\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+Influencers:\n+\n+* `event.dataset`\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 309}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDgyNDg2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0NDoxNlrOFn7jKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0NDoxNlrOFn7jKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxNDQ0MA==", "bodyText": "Could we add something like this (moved out of https://www.elastic.co/guide/en/machine-learning/master/create-jobs.html)?:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            > These {anomaly-job} wizards appear in {kib} if you use {auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your systems.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r377414440", "createdAt": "2020-02-11T01:44:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+low_request_rate_ecs::\n+Detects low request rates in HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+--\n+\n+source_ip_request_rate_ecs::\n+Detects source IPs with unusually high request rates in the HTTP access log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+source_ip_url_count_ecs::\n+Detects source IPs with unusually high distinct count of URLs in the HTTP access \n+log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+status_code_rate_ecs::\n+Detects unusual status code rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+--\n+\n+visitor_rate_ecs::\n+Detects unusual visitor rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+--\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+Searches for spans that are taking longer than usual to process.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+--\n+\n+abnormal_trace_durations_nodejs::\n+Identifies trace transactions that are processing more slowly than usual.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+--\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+Detects user agents that are encountering errors at an above normal rate. This \n+can help detect browser compatibility issues.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+--\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+Identifies periods during which the application is processing fewer requests \n+than normal.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+--\n+\n+high_count_by_user_agent_jsbase::\n+Detects user agents that are making requests at a suspiciously high rate. This \n+is useful in identifying bots.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+--\n+\n+high_mean_response_time::\n+Detects anomalies in high mean of transaction duration.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 173}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDgzMTM1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0OTozNVrOFn7m_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMTo0OTozNVrOFn7m_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQxNTQyMg==", "bodyText": "Per https://www.elastic.co/guide/en/machine-learning/master/create-jobs.html:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            These {anomaly-job} wizards appear in {kib} if you use the {metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to monitor your servers.", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r377415422", "createdAt": "2020-02-11T01:49:35Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,757 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Modules with prebuilt {anomaly-detect} jobs\n+\n+This page lists the available modules with prebuilt {anomaly-detect} jobs. Every \n+module item in the list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+low_request_rate_ecs::\n+Detects low request rates in HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+--\n+\n+source_ip_request_rate_ecs::\n+Detects source IPs with unusually high request rates in the HTTP access log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+source_ip_url_count_ecs::\n+Detects source IPs with unusually high distinct count of URLs in the HTTP access \n+log.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+Influencers:\n+\n+* `source.address`\n+--\n+\n+status_code_rate_ecs::\n+Detects unusual status code rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+--\n+\n+visitor_rate_ecs::\n+Detects unusual visitor rates in the HTTP access log.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+--\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+Searches for spans that are taking longer than usual to process.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+--\n+\n+abnormal_trace_durations_nodejs::\n+Identifies trace transactions that are processing more slowly than usual.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+--\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+Detects user agents that are encountering errors at an above normal rate. This \n+can help detect browser compatibility issues.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+--\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+Identifies periods during which the application is processing fewer requests \n+than normal.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+--\n+\n+high_count_by_user_agent_jsbase::\n+Detects user agents that are making requests at a suspiciously high rate. This \n+is useful in identifying bots.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+--\n+\n+high_mean_response_time::\n+Detects anomalies in high mean of transaction duration.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+docker_high_count_process_events_ecs::\n+Detects unusual increases in process execution rates in Docker containers.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+--\n+\n+docker_rare_process_activity_ecs::\n+Detects rare process executions in Docker containers.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+--\n+\n+hosts_high_count_process_events_ecs::\n+Detects unusual increases in process execution rates.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+--\n+\n+hosts_rare_process_activity_ecs::\n+Detects rare process executions on hosts.\n++\n+--\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+--\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+Detects anomalies in count of log entries by category.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+--\n+\n+log_entry_rate::\n+Detects anomalies in the log entry ingestion rate.\n++\n+--\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+Influencers:\n+\n+* `event.dataset`\n+--\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6832390d9b203e9c5f131d31a7cf758f6b79a92a"}, "originalPosition": 265}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM4NTEzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozNjo1OVrOFpg-Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozNjo1OVrOFpg-Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3NjE5NQ==", "bodyText": "I think it might be worthwhile to add tagged sections here so that the content can be potentially re-used in other books. For example:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            tag::apache-jobs[]", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379076195", "createdAt": "2020-02-13T19:36:59Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM4ODIyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozNzo1MVrOFphANw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozNzo1MVrOFphANw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3NjY2Mw==", "bodyText": "This sentence seems to duplicate the first item in the list, so I'd recommend omitting it:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This job can be created if web access log data exists matching the defined", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379076663", "createdAt": "2020-02-13T19:37:51Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM5MzE0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozOToyMlrOFphDSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTozOToyMlrOFphDSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3NzQ0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Detects unusually low counts of HTTP requests compared to the previous event \n          \n          \n            \n            * Detects unusually low counts of HTTP requests compared to the previous event (using the <<ml-count,`low_count` function>>)", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379077448", "createdAt": "2020-02-13T19:39:22Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM5NTg1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MDoxOFrOFphE_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MDoxOFrOFphE_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3Nzg4Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              compared to the previous rate.\n          \n          \n            \n              compared to the previous rate (using the <<ml-count,`high_count` function>>).", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379077887", "createdAt": "2020-02-13T19:40:18Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM5ODYyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MToxMlrOFphGwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MToxMlrOFphGwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODMzOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078338", "createdAt": "2020-02-13T19:41:12Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTM5OTU2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MToyOVrOFphHVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MToyOVrOFphHVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODQ4NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078484", "createdAt": "2020-02-13T19:41:29Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMDM4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTozOVrOFphHww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTozOVrOFphHww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODU5NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078595", "createdAt": "2020-02-13T19:41:39Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMDgwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTo0OFrOFphICA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTo0OFrOFphICA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODY2NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078664", "createdAt": "2020-02-13T19:41:48Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMTI5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTo1N1rOFphIVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MTo1N1rOFphIVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODc0MA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078740", "createdAt": "2020-02-13T19:41:57Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMTk2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjowOVrOFphIuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjowOVrOFphIuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODg0MA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078840", "createdAt": "2020-02-13T19:42:09Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMjQ4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjoxOVrOFphJBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjoxOVrOFphJBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODkxOQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078919", "createdAt": "2020-02-13T19:42:19Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMzA0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjoyOFrOFphJVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjoyOFrOFphJVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3ODk5OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379078998", "createdAt": "2020-02-13T19:42:28Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMzUzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjozN1rOFphJpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MjozN1rOFphJpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTA3Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079076", "createdAt": "2020-02-13T19:42:37Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 99}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwMzk1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mjo0NlrOFphJ5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mjo0NlrOFphJ5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTE0Mw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079143", "createdAt": "2020-02-13T19:42:46Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNDQ1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mjo1NlrOFphKNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mjo1NlrOFphKNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTIyMg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079222", "createdAt": "2020-02-13T19:42:56Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 115}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNTExOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzowNVrOFphKkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzowNVrOFphKkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTMxNA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079314", "createdAt": "2020-02-13T19:43:05Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 126}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNTUxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzoxNFrOFphK2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzoxNFrOFphK2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTM4NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079384", "createdAt": "2020-02-13T19:43:14Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 133}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNjIyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzoyNVrOFphLRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzoyNVrOFphLRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTQ5Mg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079492", "createdAt": "2020-02-13T19:43:25Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNjgyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzozN1rOFphLqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0MzozN1rOFphLqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTU5Mw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079593", "createdAt": "2020-02-13T19:43:37Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwNzQ2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mzo0OFrOFphMDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Mzo0OFrOFphMDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTY5NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079694", "createdAt": "2020-02-13T19:43:48Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 164}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwODEzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDowMlrOFphMig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDowMlrOFphMig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTgxOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079818", "createdAt": "2020-02-13T19:44:02Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 173}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwODU4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDowOVrOFphMzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDowOVrOFphMzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTg4Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079886", "createdAt": "2020-02-13T19:44:09Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 182}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwOTAwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDoxOFrOFphNEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDoxOFrOFphNEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA3OTk1NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379079955", "createdAt": "2020-02-13T19:44:18Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 192}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwOTYyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDozM1rOFphNhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDozM1rOFphNhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDA3MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080071", "createdAt": "2020-02-13T19:44:33Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 201}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQwOTk5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDo0MVrOFphN0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDo0MVrOFphN0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDE0NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080144", "createdAt": "2020-02-13T19:44:41Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 209}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMDQzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDo1MVrOFphOEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NDo1MVrOFphOEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDIxMA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080210", "createdAt": "2020-02-13T19:44:51Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 213}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMDg4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTowMlrOFphOXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTowMlrOFphOXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDI4Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080287", "createdAt": "2020-02-13T19:45:02Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 229}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMTMwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NToxMVrOFphOpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NToxMVrOFphOpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDM1Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080357", "createdAt": "2020-02-13T19:45:11Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 238}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMTczOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NToxOVrOFphO7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NToxOVrOFphO7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDQzMA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080430", "createdAt": "2020-02-13T19:45:19Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 247}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMjM1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTozMVrOFphPWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTozMVrOFphPWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDUzNg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080536", "createdAt": "2020-02-13T19:45:31Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 256}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMjgwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTozOVrOFphPmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTozOVrOFphPmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDYwMw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080603", "createdAt": "2020-02-13T19:45:39Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 263}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMzQ1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTo0OFrOFphP9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTo0OFrOFphP9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDY5NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080695", "createdAt": "2020-02-13T19:45:48Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 272}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxMzkzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTo1N1rOFphQQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NTo1N1rOFphQQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDc3MA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080770", "createdAt": "2020-02-13T19:45:57Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 279}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxNDM4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjowNVrOFphQlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjowNVrOFphQlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDg1NA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080854", "createdAt": "2020-02-13T19:46:05Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 288}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxNTA5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjoyMVrOFphREg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjoyMVrOFphREg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MDk3OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379080978", "createdAt": "2020-02-13T19:46:21Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 300}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxNTYyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjozMVrOFphRZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjozMVrOFphRZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTA2MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081061", "createdAt": "2020-02-13T19:46:31Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 309}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxNjE1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjozOVrOFphRsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NjozOVrOFphRsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTEzOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081138", "createdAt": "2020-02-13T19:46:39Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 316}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxNjYzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Njo0N1rOFphR8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Njo0N1rOFphR8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTIwMg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081202", "createdAt": "2020-02-13T19:46:47Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 324}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxODQ3OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NzoyN1rOFphTKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NzoyN1rOFphTKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTUxMg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081512", "createdAt": "2020-02-13T19:47:27Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 340}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxODgwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NzozNFrOFphTXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0NzozNFrOFphTXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTU2Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081567", "createdAt": "2020-02-13T19:47:34Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 348}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxOTE2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Nzo0MVrOFphTmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Nzo0MVrOFphTmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTYyNA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081624", "createdAt": "2020-02-13T19:47:41Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 356}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQxOTc4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Nzo1M1rOFphT9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0Nzo1M1rOFphT9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTcxNw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081717", "createdAt": "2020-02-13T19:47:53Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 364}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMDMyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODowM1rOFphUSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODowM1rOFphUSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTgwMQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081801", "createdAt": "2020-02-13T19:48:03Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 373}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMDk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODoxNlrOFphUsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODoxNlrOFphUsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTkwNw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081907", "createdAt": "2020-02-13T19:48:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 381}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMTUxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODoyNlrOFphVAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODoyNlrOFphVAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MTk4Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379081986", "createdAt": "2020-02-13T19:48:26Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 400}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMjExOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODozNlrOFphVYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODozNlrOFphVYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjA4MA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082080", "createdAt": "2020-02-13T19:48:36Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 404}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMjczOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODo0NVrOFphVtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODo0NVrOFphVtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjE2Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082167", "createdAt": "2020-02-13T19:48:45Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 412}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMzI4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODo1NVrOFphWBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0ODo1NVrOFphWBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjI0Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082247", "createdAt": "2020-02-13T19:48:55Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 420}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyMzcxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTowNFrOFphWSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTowNFrOFphWSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjMxNQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082315", "createdAt": "2020-02-13T19:49:04Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 428}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNDAxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OToxMlrOFphWgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OToxMlrOFphWgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjM2OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082368", "createdAt": "2020-02-13T19:49:12Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 436}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNDU2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OToyMVrOFphW1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OToyMVrOFphW1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjQ1Mw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082453", "createdAt": "2020-02-13T19:49:21Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 445}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNTA4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTozMVrOFphXLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTozMVrOFphXLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjU0MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082541", "createdAt": "2020-02-13T19:49:31Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 454}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNTUxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTo0MVrOFphXfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTo0MVrOFphXfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjYyMA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082620", "createdAt": "2020-02-13T19:49:41Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 462}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNTk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTo1MFrOFphXxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo0OTo1MFrOFphXxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjY5Mw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082693", "createdAt": "2020-02-13T19:49:50Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 466}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNzA4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDowN1rOFphYZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDowN1rOFphYZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4Mjg1NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082855", "createdAt": "2020-02-13T19:50:07Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 486}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNzU4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDoxNlrOFphYuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDoxNlrOFphYuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MjkzNg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379082936", "createdAt": "2020-02-13T19:50:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 497}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyNzk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDoyNlrOFphZAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDoyNlrOFphZAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzAxMA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083010", "createdAt": "2020-02-13T19:50:26Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 511}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyODQ0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDozNFrOFphZPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDozNFrOFphZPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzA2OQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083069", "createdAt": "2020-02-13T19:50:34Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 522}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyOTQ3OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDo0OVrOFphZ0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDo0OVrOFphZ0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzIxOQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083219", "createdAt": "2020-02-13T19:50:49Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 536}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQyOTk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDo1OVrOFphaHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MDo1OVrOFphaHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzI5NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083295", "createdAt": "2020-02-13T19:50:59Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 546}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMDU1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTowOVrOFphadA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTowOVrOFphadA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzM4MA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083380", "createdAt": "2020-02-13T19:51:09Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 561}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMDg4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MToxOFrOFphaqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MToxOFrOFphaqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzQzNA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083434", "createdAt": "2020-02-13T19:51:18Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 571}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMTM2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MToyN1rOFpha_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MToyN1rOFpha_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzUxNw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083517", "createdAt": "2020-02-13T19:51:27Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 584}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMjAxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTozNlrOFphbWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTozNlrOFphbWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzYwOQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083609", "createdAt": "2020-02-13T19:51:36Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 594}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMjUxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTo0NVrOFphbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTo0NVrOFphbqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzY4OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083688", "createdAt": "2020-02-13T19:51:45Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 606}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMzAwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTo1NFrOFphb9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MTo1NFrOFphb9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4Mzc2Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083766", "createdAt": "2020-02-13T19:51:54Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 616}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMzQ1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjowNlrOFphcTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjowNlrOFphcTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4Mzg1NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083855", "createdAt": "2020-02-13T19:52:06Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 626}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzMzg1OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjoxNVrOFphcmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjoxNVrOFphcmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4MzkzMQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379083931", "createdAt": "2020-02-13T19:52:15Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 636}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNDMwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjoyNFrOFphc5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjoyNFrOFphc5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDAwNQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084005", "createdAt": "2020-02-13T19:52:24Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 645}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNDY2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjozM1rOFphdJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MjozM1rOFphdJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDA2OQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084069", "createdAt": "2020-02-13T19:52:33Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 653}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNTIzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mjo0NFrOFphdhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mjo0NFrOFphdhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDE2Nw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084167", "createdAt": "2020-02-13T19:52:44Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 664}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNTYyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mjo1M1rOFphdxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mjo1M1rOFphdxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDIzMA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084230", "createdAt": "2020-02-13T19:52:53Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 674}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNjE2OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzowM1rOFpheFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzowM1rOFpheFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDMwOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084308", "createdAt": "2020-02-13T19:53:03Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 684}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNjU5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzoxMlrOFpheXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzoxMlrOFpheXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDM4MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084381", "createdAt": "2020-02-13T19:53:12Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 693}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNzI5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzoyM1rOFphexg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzoyM1rOFphexg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDQ4Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084486", "createdAt": "2020-02-13T19:53:23Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 704}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzNzc5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzozMVrOFphfDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1MzozMVrOFphfDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDU1OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084558", "createdAt": "2020-02-13T19:53:31Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 713}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzODE3OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo0MFrOFphfVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo0MFrOFphfVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDYyOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084628", "createdAt": "2020-02-13T19:53:40Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 721}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzODUzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo0OVrOFphfmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo0OVrOFphfmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDY5Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084696", "createdAt": "2020-02-13T19:53:49Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 731}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzOTAzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo1OFrOFphf5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1Mzo1OFrOFphf5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDc3NQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084775", "createdAt": "2020-02-13T19:53:58Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 739}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQzOTQ4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDowN1rOFphgMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDowN1rOFphgMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDg0OA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084848", "createdAt": "2020-02-13T19:54:07Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 749}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MDAzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDoxNlrOFphghg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDoxNlrOFphghg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NDkzNA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379084934", "createdAt": "2020-02-13T19:54:16Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 759}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MDUxOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDoyNVrOFphg0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDoyNVrOFphg0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTAxMQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085011", "createdAt": "2020-02-13T19:54:25Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 769}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MTAwOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDozNlrOFphhIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDozNlrOFphhIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTA5MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085091", "createdAt": "2020-02-13T19:54:36Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 781}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MTU5OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDo0NVrOFphhcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDo0NVrOFphhcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTE3MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085171", "createdAt": "2020-02-13T19:54:45Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 791}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MjExOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDo1NlrOFphhzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NDo1NlrOFphhzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTI2Mg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085262", "createdAt": "2020-02-13T19:54:56Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 802}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MjUyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTowNlrOFphiEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTowNlrOFphiEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTMyOQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085329", "createdAt": "2020-02-13T19:55:06Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 812}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0Mjk4OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NToxNFrOFphiXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NToxNFrOFphiXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTQwNg==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085406", "createdAt": "2020-02-13T19:55:14Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 823}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0MzQyOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NToyM1rOFphirg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NToyM1rOFphirg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTQ4Ng==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085486", "createdAt": "2020-02-13T19:55:23Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `winlog.event_data.ServiceName`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 832}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0NDA0OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTozM1rOFphjDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTozM1rOFphjDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTU4Mw==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085583", "createdAt": "2020-02-13T19:55:33Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `winlog.event_data.ServiceName`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_runas_event::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user context switches.\n+* Detects user context switches that occur rarely compared to other user context \n+  switches.\n+\n+Unusual user context switches can be due to privilege escalation.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 842}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0NDQ3OnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTo0MVrOFphjXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTo0MVrOFphjXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTY2MQ==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085661", "createdAt": "2020-02-13T19:55:41Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `winlog.event_data.ServiceName`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_runas_event::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user context switches.\n+* Detects user context switches that occur rarely compared to other user context \n+  switches.\n+\n+Unusual user context switches can be due to privilege escalation.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 852}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0NDgzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTo1MFrOFphjoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NTo1MFrOFphjoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTcyOA==", "bodyText": "I recommend omitting these low-level details:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085728", "createdAt": "2020-02-13T19:55:50Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `winlog.event_data.ServiceName`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_runas_event::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user context switches.\n+* Detects user context switches that occur rarely compared to other user context \n+  switches.\n+\n+Unusual user context switches can be due to privilege escalation.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_type10_remote_login::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user remote login activities.\n+* Detects user remote login activities that occur rarely compared to other \n+  user remote login activities.\n+\n+Looks for unusual user remote logins. Unusual RDP (remote desktop protocol) \n+user logins can indicate account takeover or credentialed access.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 863}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTQ0NTkzOnYy", "diffSide": "RIGHT", "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NjoxNFrOFphkZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxOTo1NjoxNFrOFphkZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTA4NTkyNg==", "bodyText": "Closing the commented-out block\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Function: `rare`.\n          \n          \n            \n            Function: `rare`.\n          \n          \n            \n            ////", "url": "https://github.com/elastic/stack-docs/pull/843#discussion_r379085926", "createdAt": "2020-02-13T19:56:14Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/anomaly-detection/ootb-ml-jobs.asciidoc", "diffHunk": "@@ -0,0 +1,872 @@\n+[role=\"xpack\"]\n+[[ootb-ml-jobs]]\n+== Prebuilt {anomaly-jobs}\n+\n+{anomaly-jobs-cap} contain the configuration information and metadata necessary \n+to perform an analytics task. {kib} can recognize certain types of data and \n+provide specialized wizards for that context. This page lists the available \n+prebuilt {anomaly-jobs} that you can use via {kib}. Every module item in the \n+list contains a name, a short description, information about \n+the {ml-docs}/ml-buckets.html#ml-buckets[`bucket_span`] and the \n+{ml-docs}/ml-functions.html[analysis function] as well as the influencers \u2013 the \n+entities that have contributed to, or are to blame for, the anomalies \u2013 of the \n+{anomaly-detect} job.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apache]]\n+=== Apache\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{filebeat-ref}/index.html[{filebeat}] to ship access logs from your \n+https://httpd.apache.org/[Apache] HTTP servers to {es} and store it using fields \n+and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `apache.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-apm]]\n+=== APM\n+\n+abnormal_span_durations_jsbase::\n+abnormal_span_durations_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the duration of spans (`partition_field_name` is `span.type`).\n+* Detects for spans that are taking longer than usual to process.\n+\n+Influencers:\n+\n+* `service.name` \n+* `span.name`\n+* `span.type` \n+* `trace.id`\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+abnormal_trace_durations_nodejs::\n+\n+* For APM data where `agent.name` is `nodejs`.\n+* Models the duration of trace transactions.\n+* Detects trace transactions that are processing slower than usual.\n+\n+Influencers:\n+\n+* `service.name` \n+* `trace.id`\n+* `transaction.name` \n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+anomalous_error_rate_for_user_agents_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the error rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are encountering errors at an above normal rate.\n+  \n+This job can help detect browser compatibility issues.\n+\n+Influencers:\n+\n+* `user_agent.name`\n+* `error.exception.message.keyword`\n+* `error.page.url`\n+* `service.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+decreased_throughput_jsbase::\n+decreased_throughput_nodejs::\n+\n+* For APM data where `agent.name` is `js-base` or `nodejs`.\n+* Models the transaction rate of the application.\n+* Detects periods during which the application is processing fewer requests \n+than normal.\n+\n+Influencers:\n+\n+* `service.name`\n+* `transaction.name`\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+high_count_by_user_agent_jsbase::\n+\n+* For APM data where `agent.name` is `js-base`.\n+* Models the request rate of user agents (`partition_field_name` is \n+  `user_agent.name`).\n+* Detects user agents that are making requests at a suspiciously high rate.\n+\n+This job is useful in identifying bots.\n+\n+Influencers:\n+\n+* `service.name`\n+* `user_agent.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+high_mean_response_time::\n+\n+* For transaction data where `processor.event` is `transaction` and \n+`transaction.type` is `request`.\n+* Models response time duration of transactions.\n+* Detects anomalies in high mean of transaction duration.\n+\n+Bucket span: 15m.\n+\n+Function: `high_mean`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-auditbeat]]\n+=== Auditbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use \n+{auditbeat-ref}/index.html[{auditbeat}] to audit process activity on your \n+systems.\n+\n+docker_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models process execution rates (`partition_field_name` is `container.name`).\n+* Detects unusual increases in process execution rates in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+docker_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd` and `container.runtime` is \n+`docker`.\n+* Models occurrences of process execution (`partition_field_name` is \n+  `container.name`).\n+* Detects rare process executions in Docker containers.\n+\n+Influencers:\n+\n+* `container.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+hosts_high_count_process_events_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects unusual increases in process execution rates.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+hosts_rare_process_activity_ecs::\n+\n+* For Auditbeat data where `event.module` is `auditd`.\n+* Models process execution rates (`partition_field_name` is `host.name`).\n+* Detects rare process executions on hosts.\n+\n+Influencers:\n+\n+* `host.name`\n+* `process.executable`\n+\n+Bucket span: 1h.\n+\n+Function: `rare`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-logs-ui]]\n+=== Logs UI\n+\n+log_entry_categories_count::\n+\n+* For log entry categories via the Logs UI.\n+* Models the occurrences of log events (`partition_field_name` is \n+  `event.dataset`).\n+* Detects anomalies in count of log entries by category.\n+\n+Influencers:\n+\n+* `event.dataset`\n+* `mlcategory`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+log_entry_rate::\n+\n+* For log entries via the Logs UI.\n+* Models ingestion rates (`partition_field_name` is `event.dataset`). \n+* Detects anomalies in the log entry ingestion rate.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-metricbeat]]\n+=== Metricbeat\n+\n+These {anomaly-job} wizards appear in {kib} if you use the \n+{metricbeat-ref}/metricbeat-module-system.html[{metricbeat} system module] to \n+monitor your servers.\n+\n+high_mean_cpu_iowait_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models CPU time spent in iowait (`partition_field_name` is `host.name`).\n+* Detects unusual increases in cpu time spent in iowait.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `high_mean`.\n+\n+\n+max_disk_utilization_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models disc utilization (`partition_field_name` is `host.name`).\n+* Detects unusual increases in disk utilization.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 10m.\n+\n+Function: `max`.\n+\n+\n+metricbeat_outages_ecs::\n+\n+* For {metricbeat} data where `event.dataset` is `system.cpu` and \n+  `system.filesystem`.\n+* Models counts of {metricbeat} documents \n+  (`partition_field_name` is `event.dataset`).\n+* Detects unusual decreases in {metricbeat} documents.\n+\n+Influencers:\n+\n+* `event.dataset`\n+\n+Bucket span: 10m.\n+\n+Function: `low_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-nginx]]\n+=== Nginx\n+\n+These {anomaly-job} wizards appear in {kib} if you use {filebeat} to ship access \n+logs from your http://nginx.org/[Nginx] HTTP servers to {es} and store it using \n+fields and datatypes from the Elastic Common Schema (ECS).\n+\n+low_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of http requests. \n+* Detects unusually low counts of HTTP requests compared to the previous event \n+rate.\n+\n+This job can be created if web access log data exists matching the defined \n+filter.\n+\n+Bucket span: 15m.\n+\n+Function: `low_count`.\n+\n+\n+source_ip_request_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high request rates in the HTTP access log \n+  compared to the previous rate. \n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_count`.\n+\n+\n+source_ip_url_count_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the event rate of HTTP requests by source IP.\n+* Detects source IPs with unusually high distinct count of URLs in the HTTP \n+  access log.\n+\n+Influencers:\n+\n+* `source.address`\n+\n+Bucket span: 1h.\n+\n+Function: `high_distinct_count`.\n+\n+\n+status_code_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models the occurrences of HTTP response status codes (`partition_field_name` \n+  is `http.response.status_code`).\n+* Detects unusual status code rates in the HTTP access log compared to previous \n+  rates.\n+\n+Influencers:\n+\n+* `http.response.status_code` \n+* `source.address`\n+\n+Bucket span: 15m.\n+\n+Function: `count`.\n+\n+\n+visitor_rate_ecs::\n+\n+* For HTTP web access logs where `event.dataset` is `nginx.access`.\n+* Models visitor rates.\n+* Detects unusual visitor rates in the HTTP access log ompared to previous \n+  rates.\n+\n+Bucket span: 15m.\n+\n+Function: `non_zero_count`.\n+\n+\n+[float]\n+[[ootb-ml-jobs-siem]]\n+=== SIEM\n+\n+linux_anomalous_network_activity_ecs::\n+windows_anomalous_network_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes that cause network activity.\n+* Detects network activity caused by processes that occur rarely compared to \n+  other processes.\n+\n+Looks for unusual processes using the network which could indicate\n+command-and-control, lateral movement, persistence, or data exfiltration\n+activity.\n+\n+This job can be created if auditbeat or winlogbeat data exists, matching the \n+defined filter, and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_port_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models destination port activity.\n+* Detects destination port activity that occurs rarely compared to other port \n+  activities.\n+\n+Looks for unusual destination port activity that could indicate \n+command-and-control, persistence mechanism, or data exfiltration activity.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_service::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models listening port activity.\n+* Detects unusual listening port activity that occurs rarely compared to \n+  other port activities.\n+\n+Looks for unusual listening ports that could indicate execution of unauthorized \n+services, backdoors, or persistence mechanisms.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_network_url_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models the occurrences of URL requests.\n+* Detects unusual web URL request that is rare compared to other web URL \n+  requests.\n+\n+Looks for an unusual web URL request from a Linux instance. Curl and wget web \n+request activity is very common but unusual web requests from a Linux server can \n+sometimes be malware delivery or execution.\n+\n+This job can be created if auditbeat data exists, matching the defined filter, \n+and is available via the SIEM application.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `destination.port` \n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_process_all_hosts_ecs::\n+windows_anomalous_process_all_hosts_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models the occurrences of processes on all hosts.\n+* Detects processes that occur rarely compared to other processes to all \n+  Linux/Windows hosts.\n+\n+Looks for processes that are unusual to all Linux/Windows hosts. Such unusual \n+processes may indicate unauthorized services, malware, or persistence \n+mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+linux_anomalous_user_name_ecs::\n+windows_anomalous_user_name_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models user activity.\n+* Detects users that are rarely or unusually active compared to other users.\n+\n+Rare and unusual users that are not normally active may indicate unauthorized \n+changes or activity by an unauthorized user which may be credentialed access or \n+lateral movement.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_dns_tunneling::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrances of DNS activity.\n+* Detects unusual DNS activity.\n+\n+Looks for unusual DNS activity that could indicate command-and-control or data \n+exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `dns.question.etld_plus_one`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+packetbeat_rare_dns_question::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of DNS activity.\n+* Detects DNS activity that is rare compared to other DNS activities.\n+\n+Looks for unusual DNS activity that could indicate command-and-control activity.\n+\n+Influencers:\n+\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_server_domain::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models HTTP or TLS domain activity.\n+* Detects HTTP or TLS domain activity that is rarely occurs compared to other \n+  activities.\n+\n+Looks for unusual HTTP or TLS destination domain activity that could indicate \n+execution, persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+* `source.ip`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_urls::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of web browsing URL activity.\n+* Detects URL activity that rarely occurs compared to other URL activities.\n+\n+Looks for unusual web browsing URL activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+packetbeat_rare_user_agent::\n+\n+* For network activity logs where `agent.type` is `packetbeat`.\n+* Models occurrences of HTTP user agent activity.\n+* Detects HTTP user agent activity that occurs rarely compared to other HTTP \n+  user agent activities.\n+\n+Looks for unusual HTTP user agent activity that could indicate execution, \n+persistence, command-and-control or data exfiltration activity.\n+\n+Influencers:\n+\n+* `destination.ip`\n+* `host.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+rare_process_by_host_linux_ecs::\n+rare_process_by_host_windows_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat` or `winlogbeat`.\n+* Models occurrences of process activities on the host. \n+* Detect unusually rare processes compared to other processes on Linux/Windows.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+suspicious_login_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `auditbeat`.\n+* Models occurrences of authentication attempts (`partition_field_name` is \n+  `host.name`).\n+* Detects unusually high number of authentication attempts.\n+\n+Influencers:\n+\n+* `host.name` \n+* `source.ip`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `high_non_zero_count`.\n+\n+\n+windows_anomalous_path_activity_ecs::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of processes in paths.\n+* Detects activity in unusual paths.\n+\n+Activities in unusual paths may indicate execution of malware or persistence \n+mechanisms. Windows payloads often execute from user profile paths.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_process_creation::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of process creation activities (`partition_field_name` is \n+  `process.parent.name`).\n+* Detects process relationships that are rare compared to other process \n+  relationships.\n+\n+Looks for unusual process relationships which may indicate execution of malware \n+or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_anomalous_script::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of powershell script activities.\n+* Detects unusual powershell script execution compared to other powershell \n+  script activities.\n+\n+Looks for unusual powershell scripts that may indicate execution of malware, or \n+persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `user.name`\n+* `winlog.event_data.Path`\n+\n+Bucket span: 15m.\n+\n+Function: `high_info_content`.\n+\n+\n+windows_anomalous_service::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of Windows service activities.\n+* Detects Windows service activities that occur rarely compared to other Windows \n+  service activities.\n+\n+Looks for rare and unusual Windows services which may indicate execution of \n+unauthorized services, malware, or persistence mechanisms.\n+\n+Influencers:\n+\n+* `host.name` \n+* `winlog.event_data.ServiceName`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_runas_event::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user context switches.\n+* Detects user context switches that occur rarely compared to other user context \n+  switches.\n+\n+Unusual user context switches can be due to privilege escalation.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.\n+\n+\n+windows_rare_user_type10_remote_login::\n+\n+* For network activity logs where `agent.type` is `winlogbeat`.\n+* Models occurrences of user remote login activities.\n+* Detects user remote login activities that occur rarely compared to other \n+  user remote login activities.\n+\n+Looks for unusual user remote logins. Unusual RDP (remote desktop protocol) \n+user logins can indicate account takeover or credentialed access.\n+\n+Influencers:\n+\n+* `host.name` \n+* `process.name`\n+* `user.name`\n+\n+Bucket span: 15m.\n+\n+Function: `rare`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c396db96cd4edcf8aa5a23743b3beeac663ad"}, "originalPosition": 872}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1210, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}