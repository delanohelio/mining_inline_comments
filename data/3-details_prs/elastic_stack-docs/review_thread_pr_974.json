{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NjQ1NjM5", "number": 974, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo0Mjo1OVrODvQgfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMToyNjoyOFrODvv3kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODgwMTI3OnYy", "diffSide": "RIGHT", "path": "docs/en/siem/machine-learning.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo0Mjo1OVrOGBlFWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo0Mjo1OVrOGBlFWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMwOTMzNw==", "bodyText": "I'm sure you're aware, but with #62396 this is changing to ML job settings and will only be visible on the Detections page.", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r404309337", "createdAt": "2020-04-06T18:42:59Z", "author": {"login": "rylnd"}, "path": "docs/en/siem/machine-learning.asciidoc", "diffHunk": "@@ -20,9 +20,9 @@ image::ml-ui.png[]\n [float]\n [[manage-jobs]]\n === Manage machine learning jobs\n-For users with the `ml_admin` role, the `Anomaly Detection` interface within\n-the main navigation header can be used for for viewing, starting, and stopping\n-SIEM machine learning jobs.\n+For users with the `machine_learning_admin` role, the `Anomaly Detection`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499ef64241aed96d43489ad2290d42a2f2244f9a"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODgzMzU3OnYy", "diffSide": "RIGHT", "path": "docs/en/siem/machine-learning.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODo1MTo1OFrOGBlZqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTowMTo1MVrOGBlwDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxNDUzOQ==", "bodyText": "This isn't new, but I think that the same feedback as this comment applies, where the verb \"tag\" is potentially misleading.", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r404314539", "createdAt": "2020-04-06T18:51:58Z", "author": {"login": "rylnd"}, "path": "docs/en/siem/machine-learning.asciidoc", "diffHunk": "@@ -20,9 +20,9 @@ image::ml-ui.png[]\n [float]\n [[manage-jobs]]\n === Manage machine learning jobs\n-For users with the `ml_admin` role, the `Anomaly Detection` interface within\n-the main navigation header can be used for for viewing, starting, and stopping\n-SIEM machine learning jobs.\n+For users with the `machine_learning_admin` role, the `Anomaly Detection`\n+interface within the main navigation header can be used for for viewing,\n+starting, and stopping SIEM machine learning jobs.\n \n TIP: To add a custom job to the `Anomaly Detection` interface, add a `SIEM` tag ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499ef64241aed96d43489ad2290d42a2f2244f9a"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMyMDI2OQ==", "bodyText": "Thanks @rylnd - I'll update it", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r404320269", "createdAt": "2020-04-06T19:01:51Z", "author": {"login": "benskelker"}, "path": "docs/en/siem/machine-learning.asciidoc", "diffHunk": "@@ -20,9 +20,9 @@ image::ml-ui.png[]\n [float]\n [[manage-jobs]]\n === Manage machine learning jobs\n-For users with the `ml_admin` role, the `Anomaly Detection` interface within\n-the main navigation header can be used for for viewing, starting, and stopping\n-SIEM machine learning jobs.\n+For users with the `machine_learning_admin` role, the `Anomaly Detection`\n+interface within the main navigation header can be used for for viewing,\n+starting, and stopping SIEM machine learning jobs.\n \n TIP: To add a custom job to the `Anomaly Detection` interface, add a `SIEM` tag ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxNDUzOQ=="}, "originalCommit": {"oid": "499ef64241aed96d43489ad2290d42a2f2244f9a"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODk0NDQ4OnYy", "diffSide": "RIGHT", "path": "docs/en/siem/rules-ui-create.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOToyMzozNVrOGBmfWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxOTo0Mjo0N1rOGBnIXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMzMjM3OA==", "bodyText": "I think you want base to be based here.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * To create a rule base on a KQL or Lucene query, select _Custom query_ and\n          \n          \n            \n            * To create a rule based on a KQL or Lucene query, select _Custom query_ and", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r404332378", "createdAt": "2020-04-06T19:23:35Z", "author": {"login": "dhurley14"}, "path": "docs/en/siem/rules-ui-create.asciidoc", "diffHunk": "@@ -70,25 +71,41 @@ ones.\n [[create-rule-ui]]\n === Create a new rule\n \n+You can create two types of rules:\n+\n+* *Custom query*: Query-based rule, which searches the defined indices and creates a signal when a document matches the rule's query.\n+* *Machine learning*: {ml-cap} rule, which creates a signal when a {ml} job discovers an anomaly above the defined threshold (see <<machine-learning>>).\n+\n+IMPORTANT: You can only create {ml} jobs when you have a\n+https://www.elastic.co/subscriptions[Platinum License] or you are using a\n+{ess-trial}[Cloud] deployment.\n+\n . Go to *SIEM* -> *Detections* -> *Manage signal detection rules*.\n . Click *Create new rule*.\n +\n The *Create new rule* page is displayed.\n [role=\"screenshot\"]\n-image::create-new-rule.png[]\n-. Define which {es} indices the rule analyzes for signals.\n-. Use the filter and query fields to create the criteria used for detecting \n+image::images/create-new-rule.png[]\n+. Do *one* of the following:\n+* To create a rule based on a {ml} anomaly threshold, select _Machine Learning_\n+and then:\n+.. The required {ml} job.\n+.. The anomaly score threshold above which signals are created.\n+* To create a rule base on a KQL or Lucene query, select _Custom query_ and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "499ef64241aed96d43489ad2290d42a2f2244f9a"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM0Mjg3Nw==", "bodyText": "sure do - thanks @dhurley14", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r404342877", "createdAt": "2020-04-06T19:42:47Z", "author": {"login": "benskelker"}, "path": "docs/en/siem/rules-ui-create.asciidoc", "diffHunk": "@@ -70,25 +71,41 @@ ones.\n [[create-rule-ui]]\n === Create a new rule\n \n+You can create two types of rules:\n+\n+* *Custom query*: Query-based rule, which searches the defined indices and creates a signal when a document matches the rule's query.\n+* *Machine learning*: {ml-cap} rule, which creates a signal when a {ml} job discovers an anomaly above the defined threshold (see <<machine-learning>>).\n+\n+IMPORTANT: You can only create {ml} jobs when you have a\n+https://www.elastic.co/subscriptions[Platinum License] or you are using a\n+{ess-trial}[Cloud] deployment.\n+\n . Go to *SIEM* -> *Detections* -> *Manage signal detection rules*.\n . Click *Create new rule*.\n +\n The *Create new rule* page is displayed.\n [role=\"screenshot\"]\n-image::create-new-rule.png[]\n-. Define which {es} indices the rule analyzes for signals.\n-. Use the filter and query fields to create the criteria used for detecting \n+image::images/create-new-rule.png[]\n+. Do *one* of the following:\n+* To create a rule based on a {ml} anomaly threshold, select _Machine Learning_\n+and then:\n+.. The required {ml} job.\n+.. The anomaly score threshold above which signals are created.\n+* To create a rule base on a KQL or Lucene query, select _Custom query_ and", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMzMjM3OA=="}, "originalCommit": {"oid": "499ef64241aed96d43489ad2290d42a2f2244f9a"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzkxOTk2OnYy", "diffSide": "RIGHT", "path": "docs/en/siem/machine-learning.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMToyMDo0M1rOGCWk7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMToyMDo0M1rOGCWk7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEyMDIzNg==", "bodyText": "Thanks for the distinction here as we've (myself at least \ud83d\ude05) been conflating the users/roles -- ml_admin is the user, with the roles being machine_learning_admin, machine_learning_user, etc.", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r405120236", "createdAt": "2020-04-07T21:20:43Z", "author": {"login": "spong"}, "path": "docs/en/siem/machine-learning.asciidoc", "diffHunk": "@@ -20,12 +20,12 @@ image::ml-ui.png[]\n [float]\n [[manage-jobs]]\n === Manage machine learning jobs\n-For users with the `ml_admin` role, the `Anomaly Detection` interface within\n-the main navigation header can be used for for viewing, starting, and stopping\n-SIEM machine learning jobs.\n+For users with the `machine_learning_admin` role, the `ML job settings`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6c8a5c67aa6c662e2c2f200afb46be87dd37c57"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzkzOTM2OnYy", "diffSide": "RIGHT", "path": "docs/en/siem/rules-ui-create.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMToyNjoyOFrOGCWwmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMToyNjoyOFrOGCWwmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEyMzIyNw==", "bodyText": "Docs render fine of course, but extra space here:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . Select the timeline template used when you  send a signal created by the rule\n          \n          \n            \n            . Select the timeline template used when you send a signal created by the rule", "url": "https://github.com/elastic/stack-docs/pull/974#discussion_r405123227", "createdAt": "2020-04-07T21:26:28Z", "author": {"login": "spong"}, "path": "docs/en/siem/rules-ui-create.asciidoc", "diffHunk": "@@ -99,11 +116,17 @@ image::rule-query-example.png[]\n TIP: This example is based on the\n <<volume-shadow-copy-deletion-via-vssadmin, Volume Shadow Copy Deletion via VssAdmin>> prebuilt rule.\n \n+. Select the timeline template used when you  send a signal created by the rule", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6c8a5c67aa6c662e2c2f200afb46be87dd37c57"}, "originalPosition": 92}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1165, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}