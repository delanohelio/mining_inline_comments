{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNjk5Nzc5", "number": 920, "title": "[ML] adding multi-field limitation for inference + analytics", "bodyText": "Adds limitation to data frame analytics explaining training on multi-field fields and how that affects inference.\nPreview: http://stack-docs_920.docs-preview.app.elstc.co/guide/en/machine-learning/master/ml-dfa-limitations.html", "createdAt": "2020-03-04T16:53:48Z", "url": "https://github.com/elastic/stack-docs/pull/920", "merged": true, "mergeCommit": {"oid": "a2b4e74b1cfa291d7cb814dba8734679e15f2c0e"}, "closed": true, "closedAt": "2020-03-04T18:23:45Z", "author": {"login": "benwtrent"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKZ1vXgH2gAyMzgzNjk5Nzc5OjBmN2Q1NjE4MjgwZWI2OGIyYWI0MjUyNjA2MDg2ZGMxYmIwMDJlY2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKayQagH2gAyMzgzNjk5Nzc5OjliOGQ1YWExMjQzOTViZTc3NzI2OGJkYTBmNTk5Mzk1MzI5MDk4ODA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/stack-docs/commit/0f7d5618280eb68b2ab4252606086dc1bb002ecd", "committedDate": "2020-03-04T16:51:39Z", "message": "[ML] adding multi-field limitation for inference + analytics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTczNjAz", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368973603", "createdAt": "2020-03-04T17:23:51Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyMzo1MlrOFx2fJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyMzo1MlrOFx2fJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgxNzI1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {dfanalytics-jobs-cap} will dynamically select the best field when multi-field\n          \n          \n            \n            {dfanalytics-jobs-cap} dynamically select the best field when multi-field", "url": "https://github.com/elastic/stack-docs/pull/920#discussion_r387817253", "createdAt": "2020-03-04T17:23:52Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,3 +135,29 @@ If a reduction in runtime is important to you, try strategies such as disabling\n feature importance, using a smaller {transform}, setting \n {ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values, or \n only selecting fields that are relevant for analysis.\n+\n+[float]\n+[[dfa-inference-multi-field]]\n+=== Analytics training on multi-field values may affect {infer}\n+\n+{dfanalytics-jobs-cap} will dynamically select the best field when multi-field", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTc0MjA3", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368974207", "createdAt": "2020-03-04T17:24:45Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNDo0NVrOFx2g6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNDo0NVrOFx2g6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgxNzcwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            values are included. This means that if a multi-field `foo` is included for training,\n          \n          \n            \n            values are included. For example, if a multi-field `foo` is included for training,", "url": "https://github.com/elastic/stack-docs/pull/920#discussion_r387817705", "createdAt": "2020-03-04T17:24:45Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,3 +135,29 @@ If a reduction in runtime is important to you, try strategies such as disabling\n feature importance, using a smaller {transform}, setting \n {ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values, or \n only selecting fields that are relevant for analysis.\n+\n+[float]\n+[[dfa-inference-multi-field]]\n+=== Analytics training on multi-field values may affect {infer}\n+\n+{dfanalytics-jobs-cap} will dynamically select the best field when multi-field\n+values are included. This means that if a multi-field `foo` is included for training,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTc0MzYw", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368974360", "createdAt": "2020-03-04T17:25:00Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNTowMFrOFx2haA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNTowMFrOFx2haA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgxNzgzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            the `foo.keyword` is actually used instead. This poses a complication for {infer} with\n          \n          \n            \n            the `foo.keyword` is actually used. This poses a complication for {infer} with", "url": "https://github.com/elastic/stack-docs/pull/920#discussion_r387817832", "createdAt": "2020-03-04T17:25:00Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,3 +135,29 @@ If a reduction in runtime is important to you, try strategies such as disabling\n feature importance, using a smaller {transform}, setting \n {ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values, or \n only selecting fields that are relevant for analysis.\n+\n+[float]\n+[[dfa-inference-multi-field]]\n+=== Analytics training on multi-field values may affect {infer}\n+\n+{dfanalytics-jobs-cap} will dynamically select the best field when multi-field\n+values are included. This means that if a multi-field `foo` is included for training,\n+the `foo.keyword` is actually used instead. This poses a complication for {infer} with", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTc0OTgx", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368974981", "createdAt": "2020-03-04T17:25:50Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNTo1MFrOFx2jZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNTo1MFrOFx2jZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgxODM0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            will not take the field `foo` into account.\n          \n          \n            \n            does not take the field `foo` into account.", "url": "https://github.com/elastic/stack-docs/pull/920#discussion_r387818343", "createdAt": "2020-03-04T17:25:50Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,3 +135,29 @@ If a reduction in runtime is important to you, try strategies such as disabling\n feature importance, using a smaller {transform}, setting \n {ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values, or \n only selecting fields that are relevant for analysis.\n+\n+[float]\n+[[dfa-inference-multi-field]]\n+=== Analytics training on multi-field values may affect {infer}\n+\n+{dfanalytics-jobs-cap} will dynamically select the best field when multi-field\n+values are included. This means that if a multi-field `foo` is included for training,\n+the `foo.keyword` is actually used instead. This poses a complication for {infer} with\n+the inference processor. Documents supplied to ingest pipelines are not mapped. Consequently,\n+only the field `foo` is present. This means that a model trained with the field `foo.keyword`\n+will not take the field `foo` into account.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTc1NTgy", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368975582", "createdAt": "2020-03-04T17:26:37Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNjozN1rOFx2lXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzoyNjozN1rOFx2lXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgxODg0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            A work around is by using the `field_mappings` parameter in the inference processor.\n          \n          \n            \n            You can work around this limitation by using the `field_mappings` parameter in the inference processor.", "url": "https://github.com/elastic/stack-docs/pull/920#discussion_r387818846", "createdAt": "2020-03-04T17:26:37Z", "author": {"login": "lcawl"}, "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,3 +135,29 @@ If a reduction in runtime is important to you, try strategies such as disabling\n feature importance, using a smaller {transform}, setting \n {ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values, or \n only selecting fields that are relevant for analysis.\n+\n+[float]\n+[[dfa-inference-multi-field]]\n+=== Analytics training on multi-field values may affect {infer}\n+\n+{dfanalytics-jobs-cap} will dynamically select the best field when multi-field\n+values are included. This means that if a multi-field `foo` is included for training,\n+the `foo.keyword` is actually used instead. This poses a complication for {infer} with\n+the inference processor. Documents supplied to ingest pipelines are not mapped. Consequently,\n+only the field `foo` is present. This means that a model trained with the field `foo.keyword`\n+will not take the field `foo` into account.\n+\n+A work around is by using the `field_mappings` parameter in the inference processor.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTc1Nzcx", "url": "https://github.com/elastic/stack-docs/pull/920#pullrequestreview-368975771", "createdAt": "2020-03-04T17:26:54Z", "commit": {"oid": "0f7d5618280eb68b2ab4252606086dc1bb002ecd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b8d5aa124395be777268bda0f59939532909880", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/stack-docs/commit/9b8d5aa124395be777268bda0f59939532909880", "committedDate": "2020-03-04T17:57:45Z", "message": "Apply suggestions from code review\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4898, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}