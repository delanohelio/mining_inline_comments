{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2Njk3MzM4", "number": 1507, "title": "[DOCS] Add scatterplot matrix to outlier detection example", "bodyText": "Related to elastic/kibana#84420\nThis PR updates the screenshots in the outlier detection example (https://www.elastic.co/guide/en/machine-learning/master/ecommerce-outliers.html) and adds a paragraph about the new scatterplot matrix.\nPreview:\n\nhttps://stack-docs_1507.docs-preview.app.elstc.co/guide/en/machine-learning/master/ecommerce-outliers.html", "createdAt": "2020-12-30T02:06:07Z", "url": "https://github.com/elastic/stack-docs/pull/1507", "merged": true, "mergeCommit": {"oid": "b1d12c625d7970e89fd3d053f5d1540ee3068be1"}, "closed": true, "closedAt": "2021-01-21T18:21:17Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdyCEZuAH2gAyNTQ2Njk3MzM4OmU2ZDUxMTYwYjYxOTM0MzI2ODJjOGM5ZjNlZGNlMmE1MWFmMDQ0YTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdyYVb3gH2gAyNTQ2Njk3MzM4OjkwMjNkZjYzNDRlZjYyZTM3ZDljOWI0MmNjOWQ4ZGRjMWJiOTE3OGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e6d51160b6193432682c8c9f3edce2a51af044a9", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/e6d51160b6193432682c8c9f3edce2a51af044a9", "committedDate": "2021-01-20T15:58:04Z", "message": "[DOCS] Add scatterplot matrix to outlier detection example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/5c27552d155c916950a75e7f7509772fcf4c61a3", "committedDate": "2021-01-20T21:28:02Z", "message": "[DOCS] Add scatterplot screenshot in outlier wizard"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ad1a86e2b8dab76f0e2f842e7cda2ecf04c75f0", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/6ad1a86e2b8dab76f0e2f842e7cda2ecf04c75f0", "committedDate": "2020-12-30T02:04:18Z", "message": "[DOCS] Add scatterplot matrix to outlier detection example"}, "afterCommit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/5c27552d155c916950a75e7f7509772fcf4c61a3", "committedDate": "2021-01-20T21:28:02Z", "message": "[DOCS] Add scatterplot screenshot in outlier wizard"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMDQ5Nzc5", "url": "https://github.com/elastic/stack-docs/pull/1507#pullrequestreview-573049779", "createdAt": "2021-01-21T07:39:05Z", "commit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwNzozOTowNVrOIXo2gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwNzozOTowNVrOIXo2gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY1NzQ3NA==", "bodyText": "slow down the performance of the matrix\n\nMaybe this can be clarified with a bit more detail:\n\nA larger sample size might slow down the performance of the matrix on the client side.\nA randomized selection will create a \"heavier\" query and potentially put more load on the ES cluster. It will not affect the client side performance of the matrix in comparison with a non-randomized matrix with the same sample size.", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561657474", "createdAt": "2021-01-21T07:39:05Z", "author": {"login": "walterra"}, "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -152,12 +153,24 @@ POST _data_frame/transforms/ecommerce-customer-sales/_start\n . Create a {dfanalytics-job} to detect outliers in the new entity-centric index.\n +\n --\n-There is a wizard for creating {dfanalytics-jobs} on the\n-*Machine Learning* > *Data Frame Analytics* page in {kib}:\n+In the wizard on the *Machine Learning* > *Data Frame Analytics* page in {kib},\n+select your new index pattern then use the default values for {oldetection}. For\n+example:\n \n [role=\"screenshot\"]\n image::images/ecommerce-outlier-job-1.png[\"Create a {dfanalytics-job} in {kib}\"]\n \n+The wizard includes a scatterplot matrix, which enables you to explore the \n+relationships between the fields. You can use that information to help you\n+decide which fields to include or exclude from the analysis.\n+\n+[role=\"screenshot\"]\n+image::images/ecommerce-outlier-scatterplot.png[\"A scatterplot matrix for three fields in {kib}\"]\n+\n+If you want these charts to represent data from a larger sample size or from a\n+randomized selection of documents, you can change the default behavior. However, \n+these options might slow down the performance of the matrix.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMTQyMTM4", "url": "https://github.com/elastic/stack-docs/pull/1507#pullrequestreview-573142138", "createdAt": "2021-01-21T09:39:57Z", "commit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwOTozOTo1N1rOIXtUhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwOTo0MDozMVrOIXtWWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTczMDY5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            affected by its outlier score; that is to say, the largest points have the\n          \n          \n            \n            affected by its {olscore}; that is to say, the largest points have the", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561730693", "createdAt": "2021-01-21T09:39:57Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -248,16 +261,40 @@ The search results include the following {oldetection} scores:\n [source,js]\n --------------------------------------------------\n ...\n-\"ml\" : {\n-  \"outlier_score\" : 0.9653657078742981,\n-  \"feature_influence.products.quantity.sum\" : 0.00592468399554491,\n-  \"feature_influence.order_id.value_count\" : 0.01975759118795395,\n-  \"feature_influence.products.taxful_price.sum\" : 0.974317729473114\n+  \"ml\" : {\n+    \"outlier_score\" : 0.9706582427024841,\n+    \"feature_influence\" : [\n+      {\n+        \"feature_name\" : \"order_id.value_count\",\n+        \"influence\" : 0.015179949812591076\n+      },\n+      {\n+        \"feature_name\" : \"products.quantity.sum\",\n+        \"influence\" : 0.003752298653125763\n+      },\n+      {\n+        \"feature_name\" : \"products.taxful_price.sum\",\n+        \"influence\" : 0.9810677766799927\n+      }\n+    ]\n   }\n ...\n --------------------------------------------------\n // NOTCONSOLE\n ====\n+\n+{kib} also provides a scatterplot matrix in the results. Outliers with a score \n+that exceeds the threshold are highlighted in each chart:\n+\n+[role=\"screenshot\"]\n+image::images/outliers-scatterplot.png[\"View scatterplot in {oldetection} results\"]\n+\n+In addition to the sample size and random scoring options, there is a\n+*Dynamic size* option. If you enable this option, the size of each point is \n+affected by its outlier score; that is to say, the largest points have the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTczMTE2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            highest outlier scores. The goal of these charts and options is to help you \n          \n          \n            \n            highest {olscores}. The goal of these charts and options is to help you", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561731163", "createdAt": "2021-01-21T09:40:31Z", "author": {"login": "szabosteve"}, "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -248,16 +261,40 @@ The search results include the following {oldetection} scores:\n [source,js]\n --------------------------------------------------\n ...\n-\"ml\" : {\n-  \"outlier_score\" : 0.9653657078742981,\n-  \"feature_influence.products.quantity.sum\" : 0.00592468399554491,\n-  \"feature_influence.order_id.value_count\" : 0.01975759118795395,\n-  \"feature_influence.products.taxful_price.sum\" : 0.974317729473114\n+  \"ml\" : {\n+    \"outlier_score\" : 0.9706582427024841,\n+    \"feature_influence\" : [\n+      {\n+        \"feature_name\" : \"order_id.value_count\",\n+        \"influence\" : 0.015179949812591076\n+      },\n+      {\n+        \"feature_name\" : \"products.quantity.sum\",\n+        \"influence\" : 0.003752298653125763\n+      },\n+      {\n+        \"feature_name\" : \"products.taxful_price.sum\",\n+        \"influence\" : 0.9810677766799927\n+      }\n+    ]\n   }\n ...\n --------------------------------------------------\n // NOTCONSOLE\n ====\n+\n+{kib} also provides a scatterplot matrix in the results. Outliers with a score \n+that exceeds the threshold are highlighted in each chart:\n+\n+[role=\"screenshot\"]\n+image::images/outliers-scatterplot.png[\"View scatterplot in {oldetection} results\"]\n+\n+In addition to the sample size and random scoring options, there is a\n+*Dynamic size* option. If you enable this option, the size of each point is \n+affected by its outlier score; that is to say, the largest points have the\n+highest outlier scores. The goal of these charts and options is to help you ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3"}, "originalPosition": 93}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3712ab01f3dbcf4cfce2b5e5c8d3f28d6ca49c7", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/c3712ab01f3dbcf4cfce2b5e5c8d3f28d6ca49c7", "committedDate": "2021-01-21T17:43:47Z", "message": "Update docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc\n\nCo-authored-by: Istv\u00e1n Zolt\u00e1n Szab\u00f3 <istvan.szabo@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4edc3646a0604130b7028a8aa4b1f6044082a192", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/4edc3646a0604130b7028a8aa4b1f6044082a192", "committedDate": "2021-01-21T17:43:53Z", "message": "Update docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc\n\nCo-authored-by: Istv\u00e1n Zolt\u00e1n Szab\u00f3 <istvan.szabo@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9023df6344ef62e37d9c9b42cc9d8ddc1bb9178d", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/9023df6344ef62e37d9c9b42cc9d8ddc1bb9178d", "committedDate": "2021-01-21T17:54:35Z", "message": "[DOCS] Clarify performance impact"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4608, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}