{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNDMzOTMx", "number": 810, "title": "[DOCS] Augment datafeed overview", "bodyText": "Related to elastic/elasticsearch#50389 and elastic/elasticsearch#51280\nThis PR augments the \"datafeed\" conceptual topic (https://www.elastic.co/guide/en/machine-learning/master/ml-dfeeds.html) with information about queries, query delays, aggregations, and frequency intervals.\nPreview: http://stack-docs_810.docs-preview.app.elstc.co/guide/en/machine-learning/master/ml-dfeeds.html", "createdAt": "2020-01-16T03:10:44Z", "url": "https://github.com/elastic/stack-docs/pull/810", "merged": true, "mergeCommit": {"oid": "428c77e13986cd03ab450fb2dbe8066b160d5a51"}, "closed": true, "closedAt": "2020-01-23T17:47:25Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6xSsNAH2gAyMzYzNDMzOTMxOjgyNzQ3NTI3ZjUzNWQyZmM4NmQyN2MwZWQyN2ZhOWJhYmFlOGU2N2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb84FpNAH2gAyMzYzNDMzOTMxOjNiYzk0ZGQ4ZjEyYTNhMWUzODNiNTYzMDk4NDA4MTJmZWUxY2JkOWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "82747527f535d2fc86d27c0ed27fa9babae8e67a", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/82747527f535d2fc86d27c0ed27fa9babae8e67a", "committedDate": "2020-01-16T03:08:18Z", "message": "[DOCS] Augment datafeed overview"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NTAxMjg2", "url": "https://github.com/elastic/stack-docs/pull/810#pullrequestreview-346501286", "createdAt": "2020-01-22T10:57:28Z", "commit": {"oid": "82747527f535d2fc86d27c0ed27fa9babae8e67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMDo1NzoyOVrOFgYF6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMDo1NzoyOVrOFgYF6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ5MzQ4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //TBD: Comment on interplay between date_histogram aggregation's interval and the\n          \n          \n            \n            Such aggregations must include a `histogram` or `date_histogram` using the\n          \n          \n            \n            {anomaly-job}'s `time_field`, and the `fixed_interval`/`calendar_interval` of\n          \n          \n            \n            this must divide exactly into both the {anomaly-job}'s `bucket_span` and the\n          \n          \n            \n            {dfeed}'s `frequency`.", "url": "https://github.com/elastic/stack-docs/pull/810#discussion_r369493480", "createdAt": "2020-01-22T10:57:29Z", "author": {"login": "droberts195"}, "path": "docs/en/stack/ml/anomaly-detection/datafeeds.asciidoc", "diffHunk": "@@ -6,11 +6,21 @@\n sent from some other source via an API. _{dfeeds-cap}_ retrieve data from {es}\n for analysis, which is the simpler and more common scenario.\n \n-If you create {anomaly-jobs} in {kib}, you must use {dfeeds}. When you create a\n-job, you select an index pattern and {kib} configures the {dfeed} for you under\n-the covers. If you use APIs instead, you can create a {dfeed} by using the\n-create {dfeeds} API after you create an {anomaly-job}. You can associate only\n-one {dfeed} with each job. For a description of all the {dfeed} properties, see\n+You can associate only one {dfeed} with each {anomaly-job}. The {dfeed} contains\n+a query that runs at a defined interval (`frequency`). By default, this interval\n+is calculated relative to the <<ml-buckets,bucket span>> of the {anomaly-job}.\n+If you are concerned about delayed data, you can add a delay before the query\n+runs at each interval. See <<ml-delayed-data-detection>>.\n+\n+{dfeeds-cap} can also aggregate data before sending it to the {anomaly-job}.\n+There are some limitations, however, and aggregations should generally be used\n+only for low cardinality data. See <<ml-configuring-aggregation>>.\n+//TBD: Comment on interplay between date_histogram aggregation's interval and the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82747527f535d2fc86d27c0ed27fa9babae8e67a"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bc94dd8f12a3a1e383b56309840812fee1cbd9b", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/stack-docs/commit/3bc94dd8f12a3a1e383b56309840812fee1cbd9b", "committedDate": "2020-01-22T16:11:14Z", "message": "[DOCS] Removes TBD from datafeeds overview"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4931, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}