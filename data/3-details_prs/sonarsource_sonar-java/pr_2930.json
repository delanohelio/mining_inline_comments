{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNTU3NzM0", "number": 2930, "title": "SONARJAVA-3354 Rule S5777: Exception testing via JUnit @Test annotation should be avoided", "bodyText": "", "createdAt": "2020-04-30T14:23:11Z", "url": "https://github.com/SonarSource/sonar-java/pull/2930", "merged": true, "mergeCommit": {"oid": "0029946b32c1f7a7b3a37f7394bc391f436a41b6"}, "closed": true, "closedAt": "2020-05-05T07:22:06Z", "author": {"login": "sebastian-hungerecker-sonarsource"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcc93O7AFqTQwNDA1MDU0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABceO2CJAFqTQwNTU0NTQzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MDUwNTQ3", "url": "https://github.com/SonarSource/sonar-java/pull/2930#pullrequestreview-404050547", "createdAt": "2020-05-01T07:24:08Z", "commit": {"oid": "9062b58d1c19f537e45150275d9c1726cc8e9942"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwNzoyNDowOFrOGPD4TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwNzoyNDowOFrOGPD4TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ0NTM4OA==", "bodyText": "This * should be an HTML list, it's a bug in rule API, I fixed the RSPEC description, in case it happens again, it's due to one space before the * in the rule description, removing it solves the problem.", "url": "https://github.com/SonarSource/sonar-java/pull/2930#discussion_r418445388", "createdAt": "2020-05-01T07:24:08Z", "author": {"login": "quentin-jaquier-sonarsource"}, "path": "java-checks/src/main/resources/org/sonar/l10n/java/rules/java/S5777_java.html", "diffHunk": "@@ -0,0 +1,49 @@\n+<p>When testing exception via <code>@Test</code> annotation, any code after the raised exception will not be executed. It will prevent you to test the\n+state of the program after the raised exception and, at worst, make you&nbsp;misleadingly think that it is executed.</p>\n+<p>You should consider moving any assertions into a separate test method where possible, or using <a\n+href=\"https://github.com/junit-team/junit4/wiki/Exception-testing#using-assertthrows-method\">org.junit.Assert.assertThrows</a> instead.</p>\n+<p> Alternatively, you could use <a href=\"https://github.com/junit-team/junit4/wiki/Exception-testing#trycatch-idiom\">try-catch idiom</a> for JUnit\n+version &lt; 4.13 or if your project does not support lambdas.</p>\n+<h2>Noncompliant Code Example</h2>\n+<pre>\n+@Test(expected = IndexOutOfBoundsException.class)\n+public void testShouldFail() {\n+  get();\n+  // This test pass since execution will never get past this line.\n+  Assert.assertEquals(0, 1);\n+}\n+\n+private Object get() {\n+  throw new IndexOutOfBoundsException();\n+}\n+</pre>\n+<h2>Compliant Solution</h2>\n+<p> * For JUnit &gt;= 4.13, use <a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9062b58d1c19f537e45150275d9c1726cc8e9942"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7962930d2716cbfab84c2ff64c6aefb45359579", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/a7962930d2716cbfab84c2ff64c6aefb45359579", "committedDate": "2020-05-04T17:18:07Z", "message": "Rule S5777: Exception testing via JUnit @Test annotation should ...\n\n... be avoided"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2b24a486032e86aca51646dfa294abfef31d2d4", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/d2b24a486032e86aca51646dfa294abfef31d2d4", "committedDate": "2020-05-04T17:18:07Z", "message": "Only complain if annotated method contains assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d1c00eca3cccc03250243e8a5d646f5bc68a1dd", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/2d1c00eca3cccc03250243e8a5d646f5bc68a1dd", "committedDate": "2020-05-04T17:18:07Z", "message": "Update message and rule description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0e12064025e1fc6f26ad3fd3d6c17cc45fa567b", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/b0e12064025e1fc6f26ad3fd3d6c17cc45fa567b", "committedDate": "2020-05-04T17:18:07Z", "message": "Change issue location to match rule description"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9062b58d1c19f537e45150275d9c1726cc8e9942", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/9062b58d1c19f537e45150275d9c1726cc8e9942", "committedDate": "2020-04-30T14:17:57Z", "message": "Only complain if annotated method contains assertions"}, "afterCommit": {"oid": "b0e12064025e1fc6f26ad3fd3d6c17cc45fa567b", "author": {"user": {"login": "sebastian-hungerecker-sonarsource", "name": "Sebastian Hungerecker"}}, "url": "https://github.com/SonarSource/sonar-java/commit/b0e12064025e1fc6f26ad3fd3d6c17cc45fa567b", "committedDate": "2020-05-04T17:18:07Z", "message": "Change issue location to match rule description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NTQ1NDMx", "url": "https://github.com/SonarSource/sonar-java/pull/2930#pullrequestreview-405545431", "createdAt": "2020-05-05T07:21:30Z", "commit": {"oid": "b0e12064025e1fc6f26ad3fd3d6c17cc45fa567b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1796, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}