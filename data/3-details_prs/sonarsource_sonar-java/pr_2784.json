{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNDE3Njg1", "number": 2784, "title": "SONARJAVA-3201 Rule S4830: Server certificates should be verified during SSL/TLS connections", "bodyText": "Implementation is a copy of S4830.", "createdAt": "2020-02-03T16:49:59Z", "url": "https://github.com/SonarSource/sonar-java/pull/2784", "merged": true, "mergeCommit": {"oid": "f1e43a2f1efdc3bb602fbfb299f511c398c86633"}, "closed": true, "closedAt": "2020-02-05T13:25:33Z", "author": {"login": "quentin-jaquier-sonarsource"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA95F1gBqjMwMDUyNTg4MzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBVieSABqjMwMDk4NDczNzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "934b53610f359f73aa2943d10de3cb5f6d6dae4e", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/934b53610f359f73aa2943d10de3cb5f6d6dae4e", "committedDate": "2020-02-03T16:44:34Z", "message": "Deprecate rule S4424"}, "afterCommit": {"oid": "0d6fc1dbe39d8e46fba744ba1f6a9948929a4e44", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/0d6fc1dbe39d8e46fba744ba1f6a9948929a4e44", "committedDate": "2020-02-04T09:09:02Z", "message": "Update key from  S4424 to S4830 for server certificates check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyODE5OTk4", "url": "https://github.com/SonarSource/sonar-java/pull/2784#pullrequestreview-352819998", "createdAt": "2020-02-04T09:15:28Z", "commit": {"oid": "0d6fc1dbe39d8e46fba744ba1f6a9948929a4e44"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOToxNToyOFrOFlMzig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOToxNToyOFrOFlMzig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU1MTQzNA==", "bodyText": "Pay special attention to these lines.\nTo me, this is required to support update from both:\n\nversion < 6.0 to 6.1 (first DeprecatedRuleKey)\nversion > 6.0 to 6.1 (second)\n\nSee documentation.", "url": "https://github.com/SonarSource/sonar-java/pull/2784#discussion_r374551434", "createdAt": "2020-02-04T09:15:28Z", "author": {"login": "quentin-jaquier-sonarsource"}, "path": "java-checks/src/main/java/org/sonar/java/checks/security/ServerCertificatesCheck.java", "diffHunk": "@@ -33,9 +33,12 @@\n import org.sonar.plugins.java.api.tree.NewClassTree;\n import org.sonar.plugins.java.api.tree.ThrowStatementTree;\n import org.sonar.plugins.java.api.tree.Tree;\n+import org.sonarsource.analyzer.commons.annotations.DeprecatedRuleKey;\n \n-@Rule(key = \"S4424\")\n-public class TrustManagerCertificateCheck extends IssuableSubscriptionVisitor {\n+@DeprecatedRuleKey(ruleKey = \"S4424\", repositoryKey = \"squid\")\n+@DeprecatedRuleKey(ruleKey = \"S4424\", repositoryKey = \"java\")\n+@Rule(key = \"S4830\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d6fc1dbe39d8e46fba744ba1f6a9948929a4e44"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTIwNDgw", "url": "https://github.com/SonarSource/sonar-java/pull/2784#pullrequestreview-353120480", "createdAt": "2020-02-04T16:30:36Z", "commit": {"oid": "2c1c4f05c8739f4081b467972253006b11b1122b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjozMDozNlrOFla0IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjozMDozNlrOFla0IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4MDk2MQ==", "bodyText": "this should be seen as list of bullets, not paragraphs!", "url": "https://github.com/SonarSource/sonar-java/pull/2784#discussion_r374780961", "createdAt": "2020-02-04T16:30:36Z", "author": {"login": "m-g-sonar"}, "path": "java-checks/src/main/resources/org/sonar/l10n/java/rules/java/S4830_java.html", "diffHunk": "@@ -1,7 +1,11 @@\n-<p>Empty implementations of the <code>X509TrustManager</code> interface are often created to allow connection to a host that is not signed by a root\n-certificate authority. Such an implementation will accept any certificate, which leaves the application vulnerable to Man-in-the-middle attacks. The\n-correct solution is to provide an appropriate trust store.</p>\n-<p>This rule raises an issue when an implementation of <code>X509TrustManager</code> never throws exception.</p>\n+<p>Validation of X.509 certificates is essential to create secure SSL/TLS sessions not vulnerable to man-in-the-middle attacks. </p>\n+<p>The certificate chain validation includes these steps:</p>\n+<p> * The certificate is issued by its parent Certificate Authority or the root CA trusted by the system.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c1c4f05c8739f4081b467972253006b11b1122b"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c1c4f05c8739f4081b467972253006b11b1122b", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/2c1c4f05c8739f4081b467972253006b11b1122b", "committedDate": "2020-02-04T09:30:10Z", "message": "Improve rule message and tests"}, "afterCommit": {"oid": "11bf20bbc77428cdad606713651a834cb4ba2b30", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/11bf20bbc77428cdad606713651a834cb4ba2b30", "committedDate": "2020-02-05T08:25:43Z", "message": "Update rules descriptions to support bullet points\n\nSee RULEAPI-520"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e5834bd33c3df268da3ee748e314a6c75c8baa3", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/3e5834bd33c3df268da3ee748e314a6c75c8baa3", "committedDate": "2020-02-05T12:43:59Z", "message": "SONARJAVA-3201 Rule S4830: Server certificates should be verified during SSL/TLS connections\n\nImplementation is from S4424"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e8167fce6d2d1b2ee0f4b166e66a144cc28ed0", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/32e8167fce6d2d1b2ee0f4b166e66a144cc28ed0", "committedDate": "2020-02-05T12:44:00Z", "message": "Update rules descriptions to support bullet points\n\nSee RULEAPI-520"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "11bf20bbc77428cdad606713651a834cb4ba2b30", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/11bf20bbc77428cdad606713651a834cb4ba2b30", "committedDate": "2020-02-05T08:25:43Z", "message": "Update rules descriptions to support bullet points\n\nSee RULEAPI-520"}, "afterCommit": {"oid": "32e8167fce6d2d1b2ee0f4b166e66a144cc28ed0", "author": {"user": {"login": "quentin-jaquier-sonarsource", "name": null}}, "url": "https://github.com/SonarSource/sonar-java/commit/32e8167fce6d2d1b2ee0f4b166e66a144cc28ed0", "committedDate": "2020-02-05T12:44:00Z", "message": "Update rules descriptions to support bullet points\n\nSee RULEAPI-520"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1817, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}