{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNzM2MDA1", "number": 3010, "title": "SONARJAVA-3410 S5838: Optional-related rules for AssertJ chain simplification", "bodyText": "", "createdAt": "2020-06-12T15:07:24Z", "url": "https://github.com/SonarSource/sonar-java/pull/3010", "merged": true, "mergeCommit": {"oid": "f4a22584c75c3bc21d7985355f93d49d13cc105f"}, "closed": true, "closedAt": "2020-06-15T12:24:12Z", "author": {"login": "johann-beleites-sonarsource"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqin4VAH2gAyNDMzNzM2MDA1OjQ2NDRhNTViYWFkYTQwZWQ5ZTI5YmM1NjM5NmExOTFkZmQ5NWY4MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrfs2KAFqTQzMDU4OTQxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4644a55baada40ed9e29bc56396a191dfd95f822", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/4644a55baada40ed9e29bc56396a191dfd95f822", "committedDate": "2020-06-12T13:11:14Z", "message": "SONARJAVA-3410 Implemented Optional-related rules."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be41e1a29331520210cd6e9a35b0cf99cd8bc7e4", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/be41e1a29331520210cd6e9a35b0cf99cd8bc7e4", "committedDate": "2020-06-12T14:37:49Z", "message": "Merge branch 'master' into SONARJAVA-3410-OptionalRelatedRules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c60f3e33e5d0468487fa13b303c7823e97e177e", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/3c60f3e33e5d0468487fa13b303c7823e97e177e", "committedDate": "2020-06-12T14:40:09Z", "message": "Fixed small merge error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73939844099789bfad224da32edccec017c5bf43", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/73939844099789bfad224da32edccec017c5bf43", "committedDate": "2020-06-12T15:04:56Z", "message": "SONARJAVA-3410 added missing ruling findings."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "222f37cdc363cd2a5afe912f6277ebfb7c3d364e", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/222f37cdc363cd2a5afe912f6277ebfb7c3d364e", "committedDate": "2020-06-12T15:06:42Z", "message": "Replaced string literals with constants"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODQxMzMy", "url": "https://github.com/SonarSource/sonar-java/pull/3010#pullrequestreview-429841332", "createdAt": "2020-06-12T15:35:59Z", "commit": {"oid": "222f37cdc363cd2a5afe912f6277ebfb7c3d364e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNTozNjowMFrOGjIgFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNjoxNToyNVrOGjJ4Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ5MjYyOA==", "bodyText": "The name is misleading, it does not target only Strings.", "url": "https://github.com/SonarSource/sonar-java/pull/3010#discussion_r439492628", "createdAt": "2020-06-12T15:36:00Z", "author": {"login": "quentin-jaquier-sonarsource"}, "path": "java-checks/src/main/java/org/sonar/java/checks/tests/AssertJChainSimplificationIndex.java", "diffHunk": "@@ -260,8 +294,12 @@ private AssertJChainSimplificationIndex() {\n       .addWithoutParametersMatcher().build();\n     public static final MethodMatchers INDEX_OF_STRING = MethodMatchers.create().ofTypes(JAVA_LANG_STRING)\n       .names(\"indexOf\").addParametersMatcher(JAVA_LANG_STRING).build();\n-    public static final MethodMatchers IS_EMPTY = MethodMatchers.create().ofTypes(JAVA_LANG_STRING, JAVA_UTIL_COLLECTION, JAVA_UTIL_MAP)\n-      .names(AssertJChainSimplificationIndex.IS_EMPTY).addWithoutParametersMatcher().build();\n+    public static final MethodMatchers IS_EMPTY_STRING = MethodMatchers.create().ofTypes(JAVA_LANG_STRING, JAVA_UTIL_COLLECTION, JAVA_UTIL_MAP)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "222f37cdc363cd2a5afe912f6277ebfb7c3d364e"}, "originalPosition": 173}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTUxNTE3NA==", "bodyText": "Do we really want to propose isNotEmpty() here?\nSame for the others, I feel that we should stick to one variant.", "url": "https://github.com/SonarSource/sonar-java/pull/3010#discussion_r439515174", "createdAt": "2020-06-12T16:15:25Z", "author": {"login": "quentin-jaquier-sonarsource"}, "path": "java-checks-test-sources/src/main/java/checks/AssertJChainSimplificationCheckTest.java", "diffHunk": "@@ -305,6 +310,17 @@ void pathRelatedAssertionChains() {\n     assertThat(getPath().isAbsolute()).isFalse(); // Noncompliant\t{{Use assertThat(actual).isRelative() instead}}\n   }\n \n+  void optionalRelatedAssertionChains() {\n+    assertThat(Optional.empty().isPresent()).isTrue(); // Noncompliant {{Use assertThat(actual).isPresent() or assertThat(actual).isNotEmpty() instead}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "222f37cdc363cd2a5afe912f6277ebfb7c3d364e"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "696ff2da92d2642d87327b0d1d3e395342625784", "author": {"user": {"login": "johann-beleites-sonarsource", "name": "Johann Beleites"}}, "url": "https://github.com/SonarSource/sonar-java/commit/696ff2da92d2642d87327b0d1d3e395342625784", "committedDate": "2020-06-15T11:41:58Z", "message": "SONARJAVA-3410 Improved messages, naming and updated rule description."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTg5NDE0", "url": "https://github.com/SonarSource/sonar-java/pull/3010#pullrequestreview-430589414", "createdAt": "2020-06-15T12:20:52Z", "commit": {"oid": "696ff2da92d2642d87327b0d1d3e395342625784"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1720, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}