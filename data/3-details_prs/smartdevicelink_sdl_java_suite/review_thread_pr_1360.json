{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwOTg5MjI4", "number": 1360, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOToxMTowNlrOD-t3DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxODoxOTo0MVrOD_COXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDg5Njc3OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOToxMTowNlrOGY_W9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOToxMTowNlrOGY_W9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg1NzA3OA==", "bodyText": "I think we should call this method first thing in onCreate() because currently, the service could enter foreground before adding the exception handler", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1360#discussion_r428857078", "createdAt": "2020-05-21T19:11:06Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "diffHunk": "@@ -1170,6 +1178,9 @@ protected void deployNextRouterService(){\n \t}\n \t\n \tpublic void startUpSequence(){\n+\n+\t\tsetRouterServiceExceptionHandler();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9abcf88a4253faae9405d74d82bb224bb425c9b2"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDIzMjYzOnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxODoxOToyMlrOGZf_gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxODoxOToyMlrOGZf_gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM5MTc0NQ==", "bodyText": "Spacing seems to be strange here.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1360#discussion_r429391745", "createdAt": "2020-05-22T18:19:22Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "diffHunk": "@@ -1107,7 +1107,9 @@ private boolean initCheck(){\n \t@Override\n \tpublic void onCreate() {\n \t\tsuper.onCreate();\n-\t\t//This must be done regardless of if this service shuts down or not\n+\t\t//Add this first to avoid the runtime exceptions for the entire lifecycle of the service\n+        setRouterServiceExceptionHandler();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1e5a2da78b4e5f13fbffcb9f873d3b5c8978c5d"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDIzMzI2OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxODoxOTo0MVrOGZf_8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxODoxOTo0MVrOGZf_8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM5MTg1OA==", "bodyText": "Spacing seems to be strange here as well.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1360#discussion_r429391858", "createdAt": "2020-05-22T18:19:41Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/SdlRouterService.java", "diffHunk": "@@ -1229,7 +1229,11 @@ public void uncaughtException(Thread t, Throwable e) {\n \t\t\t\t\t\t\t&& e.getMessage().contains(\"invalid channel for service notification\")) { //This is the message received in the exception for notification channel issues\n \n \t\t\t\t\t\t// Set the flag to not delete the notification channel to avoid this exception in the future\n-\t\t\t\t\t\tSdlRouterService.this.setSdlRouterServicePrefs(KEY_AVOID_NOTIFICATION_CHANNEL_DELETE, true);\n+\t\t\t\t\t\ttry{\n+\t\t\t\t\t\t    SdlRouterService.this.setSdlRouterServicePrefs(KEY_AVOID_NOTIFICATION_CHANNEL_DELETE, true);\n+                        }catch (Exception exception){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3622bf7bafb6aa7553ef5a08e6ea0d45eb2a7e77"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4405, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}