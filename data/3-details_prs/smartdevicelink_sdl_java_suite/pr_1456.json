{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NjkyMDk5", "number": 1456, "title": "Remove onError from RPC response listeners ", "bodyText": "Fixes #1455\nThis PR is ready for review.\nRisk\nThis PR makes major API changes.\nTesting Plan\n\n I have verified that I have not introduced new warnings in this PR (or explain why below)\n I have run the unit tests with this PR\n I have tested this PR against Core and verified behavior (if applicable, if not applicable, explain why below).\n I have tested Android, Java SE, and Java EE\n\nUnit Tests\nUnit tests have been updated to remove all onError usages\nCore Tests\nTo smoke test the PR:\n\nUse SdlManager.sendRPC() to send a valid RPC\nMake sure that onResponse gets called correctly with a success response\nUse SdlManager.sendRPC() to send a not valid RPC (maybe skip a mandatory param)\nMake sure that onResponse gets called correctly with a failure response\nUse SdlManager.sendRPCs() and send a three RPCs (1st: valid, 2nd: not valid, 3rd: valid)\nMake sure that onResponse() gets called 2 times with success response and one time with a failure\nRepeat steps 5 & 6 using sendSequentailRPCs() instead of sendRPCs()\nMake sure that the basic features in screen managers still work well\n\nModule tested against: SYNC 3.4\nSummary\nThis PR makes the following changes:\n\nRemoves the onError() from RPC response listeners to make it less confusing to the developers. In this PR, onResponse should be always called whether there is a success or not to completely replace onError callback.\nUpdate managers to replace onError implementations with onResponse\nUpdate unit tests to remove onError implementations\n\nCLA\n\n I have signed the CLA", "createdAt": "2020-08-18T19:26:45Z", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1456", "merged": true, "mergeCommit": {"oid": "ee8e3f15a1222853a7f64c6760e2ee51524e492e"}, "closed": true, "closedAt": "2020-08-21T17:22:41Z", "author": {"login": "bilal-alsharifi"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdALbkNAH2gAyNDY5NjkyMDk5OmE0ODU2NjdhNTY3YTFhZGZmYzYyZjAxMzk5ODEzODQyM2NjMDFmZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBIJy9AFqTQ3MjY2MTUwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a485667a567a1adffc62f013998138423cc01fda", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a485667a567a1adffc62f013998138423cc01fda", "committedDate": "2020-08-18T18:36:18Z", "message": "Remove onError from response listener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aec1af8205ef3b23cae6996d614b0e4ad888359b", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/aec1af8205ef3b23cae6996d614b0e4ad888359b", "committedDate": "2020-08-18T18:38:08Z", "message": "Remove onError from LCM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e2b977e4178145d9bbc44d759ffea7d8ff16ea", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/87e2b977e4178145d9bbc44d759ffea7d8ff16ea", "committedDate": "2020-08-18T18:38:20Z", "message": "Remove onError from SdlProxyBase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7471761be9a13e96d4ef742f45c5bc32a2317f1", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b7471761be9a13e96d4ef742f45c5bc32a2317f1", "committedDate": "2020-08-18T19:12:54Z", "message": "Remove onError from SystemCapabilityManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5435d38c1a5a136487a5617247ec8a8faf6549c1", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/5435d38c1a5a136487a5617247ec8a8faf6549c1", "committedDate": "2020-08-18T19:13:59Z", "message": "Remove onError from SdlManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0200fabf9e41fc0ce3b8a405164ee262138754a", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b0200fabf9e41fc0ce3b8a405164ee262138754a", "committedDate": "2020-08-18T19:15:57Z", "message": "Remove onError from SoftButtonManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd92e18447571592661fff2e2e3191f403bd4283", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/dd92e18447571592661fff2e2e3191f403bd4283", "committedDate": "2020-08-18T19:17:12Z", "message": "Remove onError from MenuManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db1988f63c0eb01512df34dcdfc641ea6c75f82f", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/db1988f63c0eb01512df34dcdfc641ea6c75f82f", "committedDate": "2020-08-18T19:21:08Z", "message": "Remove onError from ChoiceSetManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faeb0e9ee70af8bb81eda226bbac0082f72e6417", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/faeb0e9ee70af8bb81eda226bbac0082f72e6417", "committedDate": "2020-08-18T19:21:22Z", "message": "Remove onError from TextAndGraphicManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09dfd3f5c54d91c975a0905f01f0b537baba462e", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/09dfd3f5c54d91c975a0905f01f0b537baba462e", "committedDate": "2020-08-18T19:22:45Z", "message": "Remove onError from SubscribeButtonManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae37d9852744884c8d8d456eb7eadfbd06189193", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ae37d9852744884c8d8d456eb7eadfbd06189193", "committedDate": "2020-08-18T19:24:29Z", "message": "Remove onError from FileManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2e88bd105eda59c50c75fa79213538a6cf6ef17", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/b2e88bd105eda59c50c75fa79213538a6cf6ef17", "committedDate": "2020-08-18T21:36:41Z", "message": "Fix unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxODQwMTkx", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1456#pullrequestreview-471840191", "createdAt": "2020-08-20T17:36:14Z", "commit": {"oid": "b2e88bd105eda59c50c75fa79213538a6cf6ef17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNzozNjoxNFrOHEMY2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNzozNjoxNFrOHEMY2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE1OTMyMQ==", "bodyText": "Should we keep this logging is response is successful?", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1456#discussion_r474159321", "createdAt": "2020-08-20T17:36:14Z", "author": {"login": "RHenigan"}, "path": "base/src/main/java/com/smartdevicelink/managers/BaseSdlManager.java", "diffHunk": "@@ -219,18 +219,10 @@ public void onResponse(int correlationId, RPCResponse response) {\n                             if (lcu.getVoiceRecognitionCommandNames() != null) {\n                                 vrSynonyms = lcu.getVoiceRecognitionCommandNames();\n                             }\n+                        } else {\n+                            DebugTool.logError(TAG, \"Change Registration onError: \" + response.getSuccess() + \" | Info: \" + response.getInfo());\n+                            retryChangeRegistration();\n                         }\n-                        try {\n-                            DebugTool.logInfo(TAG, response.serializeJSON().toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2e88bd105eda59c50c75fa79213538a6cf6ef17"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d27d47885cc983ba9c9f49df4ff329654dea0de", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/7d27d47885cc983ba9c9f49df4ff329654dea0de", "committedDate": "2020-08-21T17:08:18Z", "message": "Remove unsed imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNjYxNTAw", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1456#pullrequestreview-472661500", "createdAt": "2020-08-21T17:21:06Z", "commit": {"oid": "7d27d47885cc983ba9c9f49df4ff329654dea0de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2074, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}