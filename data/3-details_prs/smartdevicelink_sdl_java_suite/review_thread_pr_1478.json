{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3OTMzMzY4", "number": 1478, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjoyNDo1MFrOEfiKig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjoyNDo1MFrOEfiKig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNTAxMDY2OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/ManagerUtilityTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjoyNDo1MFrOHL3Oag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNjoyNDo1MFrOHL3Oag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIwMTE5NA==", "bodyText": "This passes after the fix, right? can we remove the comment if it is not relevant anymore?", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1478#discussion_r482201194", "createdAt": "2020-09-02T16:24:50Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/androidTest/java/com/smartdevicelink/managers/ManagerUtilityTests.java", "diffHunk": "@@ -0,0 +1,206 @@\n+package com.smartdevicelink.managers;\n+\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.smartdevicelink.proxy.rpc.ImageField;\n+import com.smartdevicelink.proxy.rpc.TextField;\n+import com.smartdevicelink.proxy.rpc.WindowCapability;\n+import com.smartdevicelink.proxy.rpc.enums.CharacterSet;\n+import com.smartdevicelink.proxy.rpc.enums.FileType;\n+import com.smartdevicelink.proxy.rpc.enums.ImageFieldName;\n+import com.smartdevicelink.proxy.rpc.enums.TextFieldName;\n+\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import static junit.framework.TestCase.assertEquals;\n+import static junit.framework.TestCase.assertNotNull;\n+import static junit.framework.TestCase.assertTrue;\n+import static junit.framework.TestCase.assertFalse;\n+\n+/**\n+ * This is a unit test class for the SmartDeviceLink library manager class :\n+ * {@link ManagerUtility}\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class ManagerUtilityTests {\n+\n+\n+\t@Before\n+\tpublic void setUp() throws Exception{\n+\n+\t}\n+\n+\t// TESTS\n+\n+\t@Test\n+\tpublic void testGetAllImageFields(){\n+\n+\t\tList<ImageField> fields = ManagerUtility.WindowCapabilityUtility.getAllImageFields();\n+\t\tassertNotNull(fields);\n+\t\tint size = fields.size();\n+\t\tassertEquals(ImageFieldName.values().length, size);\n+\n+\t\tImageFieldName[] names = ImageFieldName.values();\n+\n+\t\tboolean found;\n+\t\tfor (ImageFieldName name : names) {\n+\t\t\tfound = false;\n+\t\t\tfor(ImageField field : fields) {\n+\t\t\t\tif(field != null\n+\t\t\t\t\t\t&& field.getName() != null\n+\t\t\t\t\t\t&& field.getName().equals(name)) {\n+\t\t\t\t\tfound = true;\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tassertTrue(found);\n+\t\t}\n+\n+\t}\n+\n+\t@Test\n+\tpublic void testGetAllTextFields(){\n+\n+\t\tList<TextField> fields = ManagerUtility.WindowCapabilityUtility.getAllTextFields();\n+\t\tassertNotNull(fields);\n+\t\tint size = fields.size();\n+\t\tassertEquals(TextFieldName.values().length, size);\n+\n+\t\tTextFieldName[] names = TextFieldName.values();\n+\n+\t\tboolean found;\n+\t\tfor (TextFieldName name : names) {\n+\t\t\tfound = false;\n+\t\t\tfor(TextField field : fields) {\n+\t\t\t\tif(field != null\n+\t\t\t\t\t\t&& field.getName() != null\n+\t\t\t\t\t\t&& field.getName().equals(name)) {\n+\t\t\t\t\tfound = true;\n+\t\t\t\t\tbreak;\n+\t\t\t\t}\n+\t\t\t}\n+\t\t\tassertTrue(found);\n+\t\t}\n+\n+\t}\n+\n+\t@Test\n+\tpublic void testHasTextFieldOfName() {\n+\t\tWindowCapability capability = new WindowCapability();\n+\t\tList<TextField> textFieldList = new ArrayList<>();\n+\t\ttextFieldList.add(new TextField(TextFieldName.mainField1, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(textFieldList);\n+\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.mainField1));\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.alertText3));\n+\n+\t\ttextFieldList.add(new TextField(TextFieldName.alertText3, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(textFieldList);\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.mainField1));\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.alertText3));\n+\n+\t\ttextFieldList.clear();\n+\t\ttextFieldList.add(null);\n+\t\tcapability.setTextFields(textFieldList);\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.mainField1));\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.alertText3));\n+\n+\t\ttextFieldList.add(new TextField(TextFieldName.alertText3, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(textFieldList);\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.mainField1));\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasTextFieldOfName(capability, TextFieldName.alertText3));\n+\n+\t}\n+\n+\t@Test\n+\tpublic void testHasImageFieldOfName() {\n+\n+\t\tWindowCapability capability = new WindowCapability();\n+\t\tList<FileType> allImageFileTypes = Arrays.asList(FileType.GRAPHIC_BMP, FileType.GRAPHIC_JPEG, FileType.GRAPHIC_PNG);\n+\n+\t\tList<ImageField> imageFieldList = new ArrayList<>();\n+\t\timageFieldList.add(new ImageField(ImageFieldName.graphic, allImageFileTypes));\n+\t\tcapability.setImageFields(imageFieldList);\n+\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.graphic));\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.alertIcon));\n+\n+\t\timageFieldList.add(new ImageField(ImageFieldName.alertIcon, allImageFileTypes));\n+\t\tcapability.setImageFields(imageFieldList);\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.graphic));\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.alertIcon));;\n+\n+\t\timageFieldList.clear();\n+\t\timageFieldList.add(null);\n+\t\tcapability.setImageFields(imageFieldList);\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.graphic));\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.alertIcon));\n+\n+\t\timageFieldList.add(new ImageField(ImageFieldName.alertIcon, allImageFileTypes));\n+\t\tcapability.setImageFields(imageFieldList);\n+\t\tassertFalse(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.graphic));\n+\t\tassertTrue(ManagerUtility.WindowCapabilityUtility.hasImageFieldOfName(capability, ImageFieldName.alertIcon));\n+\n+\t}\n+\n+\n+\t@Test\n+\tpublic void testGetMaxNumberOfMainFieldLines() {\n+\n+\t\tWindowCapability capability = new WindowCapability();\n+\t\tcapability.setTextFields(ManagerUtility.WindowCapabilityUtility.getAllTextFields());\n+\n+\t\tint maxNumerOfLines = ManagerUtility.WindowCapabilityUtility.getMaxNumberOfMainFieldLines(capability);\n+\n+\t\tassertEquals(4, maxNumerOfLines);\n+\n+\t\t//Single line\n+\t\tList<TextField> singleLineList = new ArrayList<>();\n+\t\tsingleLineList.add(new TextField(TextFieldName.mainField1, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(singleLineList);\n+\t\tmaxNumerOfLines = ManagerUtility.WindowCapabilityUtility.getMaxNumberOfMainFieldLines(capability);\n+\t\tassertEquals(1, maxNumerOfLines);\n+\n+\t\tsingleLineList.add(new TextField(TextFieldName.mainField2, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(singleLineList);\n+\t\tmaxNumerOfLines = ManagerUtility.WindowCapabilityUtility.getMaxNumberOfMainFieldLines(capability);\n+\t\tassertEquals(2, maxNumerOfLines);\n+\n+\t\tsingleLineList.add(new TextField(TextFieldName.mainField3, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(singleLineList);\n+\t\tmaxNumerOfLines = ManagerUtility.WindowCapabilityUtility.getMaxNumberOfMainFieldLines(capability);\n+\t\tassertEquals(3, maxNumerOfLines);\n+\n+\t\tsingleLineList.add(new TextField(TextFieldName.mainField4, CharacterSet.UTF_8, 500, 8));\n+\t\tcapability.setTextFields(singleLineList);\n+\t\tmaxNumerOfLines = ManagerUtility.WindowCapabilityUtility.getMaxNumberOfMainFieldLines(capability);\n+\t\tassertEquals(4, maxNumerOfLines);\n+\n+\t\tList<TextField> nullList = new ArrayList<>();\n+\t\tnullList.add(null);\n+\t\tassertNotNull(nullList);\n+\t\tcapability.setTextFields(nullList);\n+\t\tassertNotNull(capability);\n+\t\tassertNotNull(capability.getTextFields()); //Fails", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9829fb3228e8bd8a38a67a32a3666fcc45acf066"}, "originalPosition": 192}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4279, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}