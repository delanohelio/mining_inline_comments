{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MjgyNzI3", "number": 1309, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjoyNTowOFrODqk7cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODo1OTowNFrODq7d1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1OTcxODI0OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjoyNTowOFrOF6aWVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjoyNTowOFrOF6aWVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc5MzQzMA==", "bodyText": "The error message is not accurate anymore cause video can stream in limited", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r396793430", "createdAt": "2020-03-23T22:25:08Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -303,7 +303,7 @@ public void onError(String info) {\n \t */\n \tprotected void startStreaming(VideoStreamingParameters parameters, boolean encrypted){\n \t\tthis.parameters = parameters;\n-\t\tif(hmiLevel != HMILevel.HMI_FULL){\n+\t\tif(hmiLevel != HMILevel.HMI_FULL && hmiLevel != HMILevel.HMI_LIMITED){\n \t\t\tLog.e(TAG, \"Cannot start video service if HMILevel is not FULL.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f23ed45aa7ff17030a473269f1db2164799f8542"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1OTcyNTE1OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjoyNzoyNVrOF6aaXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNTowMjoxMVrOF60hCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc5NDQ2Mw==", "bodyText": "Shouldn't we also check alow calling checkState() method on line 154 when level = LIMTED?", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r396794463", "createdAt": "2020-03-23T22:27:25Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -205,7 +205,7 @@ private synchronized void checkState(){\n \t\tif(this.getState() == SETTING_UP", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f23ed45aa7ff17030a473269f1db2164799f8542"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIyMjE1NA==", "bodyText": "Agreed! Added", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r397222154", "createdAt": "2020-03-24T15:02:11Z", "author": {"login": "JulianKast"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -205,7 +205,7 @@ private synchronized void checkState(){\n \t\tif(this.getState() == SETTING_UP", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc5NDQ2Mw=="}, "originalCommit": {"oid": "f23ed45aa7ff17030a473269f1db2164799f8542"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1OTczOTA0OnYy", "diffSide": "LEFT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjozMzoxMVrOF6ajSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNTowMjoyMVrOF60hjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc5Njc0NA==", "bodyText": "Do isStreaming() and is isPaused() need to be updated as well? Please double-check how iOS handle that. Also, all usages for HMILevel in this class should be revisited to make sure they make sense for streaming video in LIMITED.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r396796744", "createdAt": "2020-03-23T22:33:11Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -205,7 +205,7 @@ private synchronized void checkState(){\n \t\tif(this.getState() == SETTING_UP\n \t\t\t\t&& isTransportAvailable\n \t\t\t\t&& hmiLevel != null\n-\t\t\t\t&& hmiLevel.equals(HMILevel.HMI_FULL)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f23ed45aa7ff17030a473269f1db2164799f8542"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIyMjI4Ng==", "bodyText": "Agreed! Added!", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r397222286", "createdAt": "2020-03-24T15:02:21Z", "author": {"login": "JulianKast"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -205,7 +205,7 @@ private synchronized void checkState(){\n \t\tif(this.getState() == SETTING_UP\n \t\t\t\t&& isTransportAvailable\n \t\t\t\t&& hmiLevel != null\n-\t\t\t\t&& hmiLevel.equals(HMILevel.HMI_FULL)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc5Njc0NA=="}, "originalCommit": {"oid": "f23ed45aa7ff17030a473269f1db2164799f8542"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MzMyMzU2OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODozNDo0NFrOF699GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODozNDo0NFrOF699GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM3Njc5Mg==", "bodyText": "Can we simplify it like that? also applies to the other list\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate List<HMILevel> streamableLevels = new ArrayList<>(Arrays.asList(HMILevel.HMI_FULL, HMILevel.HMI_LIMITED));\n          \n          \n            \n            \tprivate List<HMILevel> streamableLevels = Arrays.asList(HMILevel.HMI_FULL, HMILevel.HMI_LIMITED);", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r397376792", "createdAt": "2020-03-24T18:34:44Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -95,6 +97,8 @@\n \tprivate IVideoStreamListener streamListener;\n \tprivate boolean isTransportAvailable = false;\n \tprivate boolean hasStarted;\n+\tprivate List<HMILevel> streamableLevels = new ArrayList<>(Arrays.asList(HMILevel.HMI_FULL, HMILevel.HMI_LIMITED));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "303827d04666d2e6bcf00669b93d3a7c19e44530"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MzQxMDc2OnYy", "diffSide": "RIGHT", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODo1OTowNFrOF6-1bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxODo1OTowNFrOF6-1bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5MTIxMg==", "bodyText": "this import is unused", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1309#discussion_r397391212", "createdAt": "2020-03-24T18:59:04Z", "author": {"login": "bilal-alsharifi"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -73,7 +73,9 @@\n import com.smartdevicelink.util.Version;\n \n import java.lang.ref.WeakReference;\n+import java.lang.reflect.Array;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc213739f0d96219b1a9cff1d57359c2ce325027"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4359, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}