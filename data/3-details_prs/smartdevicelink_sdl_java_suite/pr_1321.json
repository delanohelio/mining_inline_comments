{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzODM4Mjk0", "number": 1321, "title": "Align SystemCapabilityManager with iOS (part3)", "bodyText": "Fixes #1324\nThis PR is ready for review.\nRisk\nThis PR makes minor API changes.\nTesting Plan\n\n I have verified that I have not introduced new warnings in this PR (or explain why below)\n I have run the unit tests with this PR\n I have tested this PR against Core and verified behavior (if applicable, if not applicable, explain why below).\n I have tested Android, Java SE, and Java EE\n\nUnit Tests\nAdded new unit tests to test getting capabilities on different HMI levels and confirm that GetSystemCapability request doesn't get sent out on HMILevel NONE\nCore Tests\nDid the following test on both Sync 3.2 and Core 6.0:\n\nTest getCapablity() for a not cached capability on HMI NONE and confirm onError() is called\nTest getCapablity() for a not cached capability on HMI FULL and confirm GetSystemCapbalbity request is sent to Core and the capability is received correctly\nTest using ScreenManager and make sure it gets the DISPLAYS capability correctly and works well with no errors in logcat\nTest streaming video and make sure it gets the VideoStraming capability correctly and works well with no errors in logcat\n\nSummary\nThis PR updates SystemCapabilityManager to align with iOS:\n\nAvoid sending  GetSystemCapability if the app is already subscribed to the capability (since all the updated values will be received via notifications).\nAvoid sending GetSystemCapability requests if hmilevel is NONE\n\nCLA\n\n I have signed the CLA", "createdAt": "2020-03-25T21:31:11Z", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321", "merged": true, "mergeCommit": {"oid": "7bf138ffe0bf858f2de06696e04f5da7024d24d3"}, "closed": true, "closedAt": "2020-04-09T19:32:57Z", "author": {"login": "bilal-alsharifi"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRJwA1gH2gAyMzkzODM4Mjk0OmFkYTRhNmFhYjQ5M2I0OGE3MmNlMTdhZDFhYzBiOTFkMjMyMjAyZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWACQkgFqTM5MDk5NTUxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ada4a6aab493b48a72ce17ad1ac0b91d232202d7", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ada4a6aab493b48a72ce17ad1ac0b91d232202d7", "committedDate": "2020-03-25T16:04:23Z", "message": "Update comments in SCM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7e73066397e3abec6578be6bbe7c317577b08f2", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a7e73066397e3abec6578be6bbe7c317577b08f2", "committedDate": "2020-03-25T17:05:35Z", "message": "Update SCM to avoid force updating if subscribed to capability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ead0466e11c82a8894a6764c33ef3f6d64784093", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ead0466e11c82a8894a6764c33ef3f6d64784093", "committedDate": "2020-03-25T18:49:20Z", "message": "Update SCM to not send GSCR in HMI NONE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c77e4412e77b8825b9e940727af8d8f18c43ed94", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/c77e4412e77b8825b9e940727af8d8f18c43ed94", "committedDate": "2020-03-25T21:28:16Z", "message": "Fix broken SCM unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6c872e283b0022f75336a4d8eb9cffb64c3d245", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/f6c872e283b0022f75336a4d8eb9cffb64c3d245", "committedDate": "2020-03-25T21:43:21Z", "message": "Add test to get capability on HMI NONE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dfa046a78250d7e9d0f45d2d3d42a69863e200c", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/7dfa046a78250d7e9d0f45d2d3d42a69863e200c", "committedDate": "2020-03-26T18:37:54Z", "message": "Add the new getCapability() method to Isdl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bee9f979499f88a041590290b811896883f6bbe4", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/bee9f979499f88a041590290b811896883f6bbe4", "committedDate": "2020-03-26T18:46:36Z", "message": "Add the new getCapability() method to LifecycleManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32ba00131305e45ce094b970473fa474b4a12ddc", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/32ba00131305e45ce094b970473fa474b4a12ddc", "committedDate": "2020-03-26T22:39:00Z", "message": "Update VideoStreamManager to avoid querying for capabilities in HMI NONE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a97d392533f167fb93ad0bffa363e60412c29bf7", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a97d392533f167fb93ad0bffa363e60412c29bf7", "committedDate": "2020-03-27T16:28:04Z", "message": "Mark DISPLAYS as auto subscribed when the SCM is created"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "205cb94cc7b80ab6adf9c8704ce3e468ea026a63", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/205cb94cc7b80ab6adf9c8704ce3e468ea026a63", "committedDate": "2020-03-27T16:49:31Z", "message": "Fix SCM unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9340f4a3bd113c9f85b41c770d68b3a94d21d11", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/d9340f4a3bd113c9f85b41c770d68b3a94d21d11", "committedDate": "2020-03-27T22:22:33Z", "message": "Fix spacing issue in SCM"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NzAyMDgw", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-386702080", "createdAt": "2020-04-02T18:46:35Z", "commit": {"oid": "d9340f4a3bd113c9f85b41c770d68b3a94d21d11"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxODo1MDoyNFrOF_47VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxODo1MTo1OVrOF_4_LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUzNzMwMQ==", "bodyText": "This indentation doesn't seem correct", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r402537301", "createdAt": "2020-04-02T18:50:24Z", "author": {"login": "joeljfischer"}, "path": "base/src/main/java/com/smartdevicelink/proxy/SystemCapabilityManager.java", "diffHunk": "@@ -284,6 +289,13 @@ public void onReceived(RPCMessage message) {\n                         }\n                     } else if (RPCMessage.KEY_NOTIFICATION.equals(message.getMessageType())) {\n                         switch (message.getFunctionID()) {\n+\t\t\t\t\t\t\tcase ON_HMI_STATUS:\n+\t\t\t\t\t\t\t\tOnHMIStatus onHMIStatus = (OnHMIStatus) message;\n+\t\t\t\t\t\t\t\tif (onHMIStatus.getWindowID() != null && onHMIStatus.getWindowID() != PredefinedWindows.DEFAULT_WINDOW.getValue()) {\n+\t\t\t\t\t\t\t\t\treturn;\n+\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\tcurrentHMILevel = onHMIStatus.getHmiLevel();\n+\t\t\t\t\t\t\t\tbreak;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9340f4a3bd113c9f85b41c770d68b3a94d21d11"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUzODI4NQ==", "bodyText": "Indentation?", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r402538285", "createdAt": "2020-04-02T18:51:59Z", "author": {"login": "joeljfischer"}, "path": "base/src/main/java/com/smartdevicelink/proxy/SystemCapabilityManager.java", "diffHunk": "@@ -325,11 +336,12 @@ public void onReceived(RPCMessage message) {\n             }\n         };\n \n-        if (callback != null) {\n-        \tcallback.addOnRPCListener(FunctionID.GET_SYSTEM_CAPABILITY, rpcListener);\n-            callback.addOnRPCListener(FunctionID.SET_DISPLAY_LAYOUT, rpcListener);\n-            callback.addOnRPCListener(FunctionID.ON_SYSTEM_CAPABILITY_UPDATED, rpcListener);\n-        }\n+\t\tif (callback != null) {\n+\t\t\tcallback.addOnRPCListener(FunctionID.GET_SYSTEM_CAPABILITY, rpcListener);\n+\t\t\tcallback.addOnRPCListener(FunctionID.SET_DISPLAY_LAYOUT, rpcListener);\n+\t\t\tcallback.addOnRPCListener(FunctionID.ON_SYSTEM_CAPABILITY_UPDATED, rpcListener);\n+\t\t\tcallback.addOnRPCListener(FunctionID.ON_HMI_STATUS, rpcListener);\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9340f4a3bd113c9f85b41c770d68b3a94d21d11"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "416188dc8a9afd69756d16705a44fe735b5bedbd", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/416188dc8a9afd69756d16705a44fe735b5bedbd", "committedDate": "2020-04-03T14:20:05Z", "message": "Fix Indentation issues in SCM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/4dd9dff6eb45603dc963076f3dc0a4069e48d67a", "committedDate": "2020-04-03T14:22:35Z", "message": "Fix Indentation issues in SCM"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDYzNTkw", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390063590", "createdAt": "2020-04-08T15:05:20Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowNToyMFrOGCzlCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowNToyMFrOGCzlCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTU5NTQwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (proxy.getSystemCapabilityManager() != null) {\n          \n          \n            \n            \t\t\tif (proxy != null && proxy.getSystemCapabilityManager() != null) {", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405595401", "createdAt": "2020-04-08T15:05:20Z", "author": {"login": "joeygrover"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/SdlManager.java", "diffHunk": "@@ -866,6 +866,14 @@ public void getCapability(SystemCapabilityType systemCapabilityType, OnSystemCap\n \t\t\tproxy.getCapability(systemCapabilityType, scListener);\n \t\t}\n \n+\t\t@Override\n+\t\tpublic Object getCapability(SystemCapabilityType systemCapabilityType, OnSystemCapabilityListener scListener, boolean forceUpdate) {\n+\t\t\tif (proxy.getSystemCapabilityManager() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDY0NDY3", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390064467", "createdAt": "2020-04-08T15:06:15Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowNjoxNVrOGCznjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowNjoxNVrOGCznjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTU5NjA0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tif (!hmiLevel.equals(HMILevel.HMI_NONE) && VideoStreamManager.this.parameters == null) {\n          \n          \n            \n            \t\t\t\tif (!HMILevel.HMI_NONE.equals(hmiLevel) && VideoStreamManager.this.parameters == null) {", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405596046", "createdAt": "2020-04-08T15:06:15Z", "author": {"login": "joeygrover"}, "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java", "diffHunk": "@@ -151,6 +151,9 @@ public void onNotified(RPCNotification notification) {\n \t\t\t\t}\n \t\t\t\tHMILevel prevHMILevel = hmiLevel;\n \t\t\t\thmiLevel = onHMIStatus.getHmiLevel();\n+\t\t\t\tif (!hmiLevel.equals(HMILevel.HMI_NONE) && VideoStreamManager.this.parameters == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDY3NDE2", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390067416", "createdAt": "2020-04-08T15:09:25Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowOToyNlrOGCzwaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowOToyNlrOGCzwaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTU5ODMxMw==", "bodyText": "Is this what iOS does? IMO our currentHMILevel would be none until we are at least registered on the IVI and even then we are inferring that. However, I'm not sure if it makes much of a difference to simply put this as the initial state or not so if it is what iOS does then this comment can be resolved without action.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405598313", "createdAt": "2020-04-08T15:09:26Z", "author": {"login": "joeygrover"}, "path": "base/src/main/java/com/smartdevicelink/proxy/SystemCapabilityManager.java", "diffHunk": "@@ -78,14 +80,17 @@\n \tprivate final ISdl callback;\n \tprivate OnRPCListener rpcListener;\n \tprivate boolean shouldConvertDeprecatedDisplayCapabilities;\n+\tprivate HMILevel currentHMILevel;\n \n \tpublic SystemCapabilityManager(ISdl callback) {\n \t\tthis.callback = callback;\n \t\tthis.LISTENER_LOCK = new Object();\n \t\tthis.onSystemCapabilityListeners = new HashMap<>();\n \t\tthis.cachedSystemCapabilities = new HashMap<>();\n \t\tthis.systemCapabilitiesSubscriptionStatus = new HashMap<>();\n+\t\tthis.systemCapabilitiesSubscriptionStatus.put(SystemCapabilityType.DISPLAYS, true);\n \t\tthis.shouldConvertDeprecatedDisplayCapabilities = true;\n+\t\tthis.currentHMILevel = HMILevel.HMI_NONE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDcyNzMy", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390072732", "createdAt": "2020-04-08T15:15:06Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTowN1rOGC0A7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTowN1rOGC0A7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYwMjU0Mw==", "bodyText": "Do we need the message variable here, or couldn't this simply be inline with the DebugTool call?", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405602543", "createdAt": "2020-04-08T15:15:07Z", "author": {"login": "joeygrover"}, "path": "base/src/main/java/com/smartdevicelink/proxy/SystemCapabilityManager.java", "diffHunk": "@@ -541,6 +555,15 @@ public boolean removeOnSystemCapabilityListener(final SystemCapabilityType syste\n \t * @param subscribe flag to subscribe to updates of the supplied capability type. True means subscribe; false means cancel subscription; null means don't change current subscription status.\n \t */\n \tprivate void retrieveCapability(final SystemCapabilityType systemCapabilityType, final OnSystemCapabilityListener scListener, final Boolean subscribe) {\n+\t\tif (currentHMILevel != null && currentHMILevel.equals(HMILevel.HMI_NONE)) {\n+\t\t\tString message = String.format(\"Attempted to update type: %s in HMI level NONE, which is not allowed. \" +\n+\t\t\t\t\t\"Please wait until you are in HMI BACKGROUND, LIMITED, or FULL before attempting to update any SystemCapabilityType\", systemCapabilityType);\n+\t\t\tDebugTool.logError(message);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 219}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDczMjQx", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390073241", "createdAt": "2020-04-08T15:15:40Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTo0MFrOGC0CcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTo0MFrOGC0CcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYwMjkyOA==", "bodyText": "Please add javadoc as to what method should be used instead of this one because of deprecation.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405602928", "createdAt": "2020-04-08T15:15:40Z", "author": {"login": "joeygrover"}, "path": "base/src/main/java/com/smartdevicelink/proxy/interfaces/ISdl.java", "diffHunk": "@@ -208,6 +208,7 @@\n      * @param systemCapabilityType a system capability type that should be retrieved\n      * @return the system capability provided if available, null if not\n      */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDczMzMx", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390073331", "createdAt": "2020-04-08T15:15:45Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTo0NVrOGC0Crg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNTo0NVrOGC0Crg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYwMjk5MA==", "bodyText": "Please add javadoc as to what method should be used instead of this one because of deprecation.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405602990", "createdAt": "2020-04-08T15:15:45Z", "author": {"login": "joeygrover"}, "path": "base/src/main/java/com/smartdevicelink/proxy/interfaces/ISdl.java", "diffHunk": "@@ -216,8 +217,18 @@\n      * @param scListener listener that will be called when the system capability is retrieved. If already cached, it\n      *                   will be called immediately\n      */\n+    @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMDc0Nzg4", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390074788", "createdAt": "2020-04-08T15:17:15Z", "commit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNzoxNVrOGC0G3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNToxNzoxNVrOGC0G3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTYwNDA2Mg==", "bodyText": "There should probably be some null checks here and in the isCapabilitySupported methods to make sure that LifecycleManager.this.systemCapabilityManager isn't null before simply accessing it.", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#discussion_r405604062", "createdAt": "2020-04-08T15:17:15Z", "author": {"login": "joeygrover"}, "path": "javaSE/src/main/java/com/smartdevicelink/managers/lifecycle/LifecycleManager.java", "diffHunk": "@@ -1145,6 +1145,11 @@ public void getCapability(SystemCapabilityType systemCapabilityType, OnSystemCap\n \n         }\n \n+        @Override\n+        public Object getCapability(SystemCapabilityType systemCapabilityType, OnSystemCapabilityListener scListener, boolean forceUpdate) {\n+            return LifecycleManager.this.systemCapabilityManager.getCapability(systemCapabilityType, scListener, forceUpdate);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dd9dff6eb45603dc963076f3dc0a4069e48d67a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a7a25302033513ee7bfd86885f2725fb73698c6", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/0a7a25302033513ee7bfd86885f2725fb73698c6", "committedDate": "2020-04-08T17:46:02Z", "message": "Update android/sdl_android/src/main/java/com/smartdevicelink/managers/SdlManager.java\n\nCo-Authored-By: Joey Grover <joeygrover@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce273f914a1f1b30446bc1bbac8cee75ee8a05ad", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ce273f914a1f1b30446bc1bbac8cee75ee8a05ad", "committedDate": "2020-04-08T17:46:41Z", "message": "Update android/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java\n\nCo-Authored-By: Joey Grover <joeygrover@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb483682f1f36d49f68225069afbece15c5074fb", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/fb483682f1f36d49f68225069afbece15c5074fb", "committedDate": "2020-04-08T17:58:15Z", "message": "Add some null checks to LifecycleManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f4f1de22f213c67a665451df551ece890693c9", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/89f4f1de22f213c67a665451df551ece890693c9", "committedDate": "2020-04-08T18:13:08Z", "message": "Add use @link Javadoc annotation to ISdl and SCM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f119e40af55c2ce1e5014f6c1d647b2fce7f68ff", "author": {"user": {"login": "bilal-alsharifi", "name": "Bilal Alsharifi"}}, "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/f119e40af55c2ce1e5014f6c1d647b2fce7f68ff", "committedDate": "2020-04-08T18:42:00Z", "message": "Merge branch 'develop' into feature/scm_align_part3\n\n# Conflicts:\n#\tandroid/sdl_android/src/androidTest/java/com/smartdevicelink/test/proxy/SystemCapabilityManagerTests.java\n#\tandroid/sdl_android/src/main/java/com/smartdevicelink/managers/SdlManager.java\n#\tandroid/sdl_android/src/main/java/com/smartdevicelink/managers/video/VideoStreamManager.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODcwODA4", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390870808", "createdAt": "2020-04-09T14:56:40Z", "commit": {"oid": "f119e40af55c2ce1e5014f6c1d647b2fce7f68ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTk1NTE0", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1321#pullrequestreview-390995514", "createdAt": "2020-04-09T17:34:53Z", "commit": {"oid": "f119e40af55c2ce1e5014f6c1d647b2fce7f68ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2144, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}