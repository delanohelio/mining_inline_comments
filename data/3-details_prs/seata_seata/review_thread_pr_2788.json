{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMzYwNDA2", "number": 2788, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMzoxMzo1N1rOEGLalg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMToyMFrOEGr_SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTEzOTQyOnYy", "diffSide": "RIGHT", "path": "server/src/main/resources/logback.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMzoxMzo1N1rOGk0JFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMzo1ODoxMlrOGk0xhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI1NjIxNA==", "bodyText": "logger length original is 56, now is 39, is there a difference?", "url": "https://github.com/seata/seata/pull/2788#discussion_r441256214", "createdAt": "2020-06-17T03:13:57Z", "author": {"login": "jsbxyyx"}, "path": "server/src/main/resources/logback.xml", "diffHunk": "@@ -16,11 +16,20 @@\n   -->\n \n <configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\">\n+    <!-- Copied from spring-boot.jar -->\n+    <conversionRule conversionWord=\"clr\" converterClass=\"io.seata.server.logging.logback.ColorConverter\" />\n+    <conversionRule conversionWord=\"wex\" converterClass=\"io.seata.server.logging.logback.WhitespaceThrowableProxyConverter\" />\n+    <conversionRule conversionWord=\"wEx\" converterClass=\"io.seata.server.logging.logback.ExtendedWhitespaceThrowableProxyConverter\" />\n+    <conversionRule conversionWord=\"pid\" converterClass=\"io.seata.server.logging.logback.PidConverter\" />\n+    <property name=\"CONSOLE_LOG_PATTERN\" value=\"%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(%pid){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx\"/>\n+    <property name=\"FILE_LOG_PATTERN\" value=\"%d{yyyy-MM-dd HH:mm:ss.SSS} %5p %pid --- [%t] %-40.40logger{39} : %m%n%wEx\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "defff17337dde7a2bd56d25ea6156bdcb55c3a47"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI2NjU2NA==", "bodyText": "More info added before, so 56 to 39.\nAvoid the log message can't look on the small screen.", "url": "https://github.com/seata/seata/pull/2788#discussion_r441266564", "createdAt": "2020-06-17T03:58:12Z", "author": {"login": "wangliang181230"}, "path": "server/src/main/resources/logback.xml", "diffHunk": "@@ -16,11 +16,20 @@\n   -->\n \n <configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\">\n+    <!-- Copied from spring-boot.jar -->\n+    <conversionRule conversionWord=\"clr\" converterClass=\"io.seata.server.logging.logback.ColorConverter\" />\n+    <conversionRule conversionWord=\"wex\" converterClass=\"io.seata.server.logging.logback.WhitespaceThrowableProxyConverter\" />\n+    <conversionRule conversionWord=\"wEx\" converterClass=\"io.seata.server.logging.logback.ExtendedWhitespaceThrowableProxyConverter\" />\n+    <conversionRule conversionWord=\"pid\" converterClass=\"io.seata.server.logging.logback.PidConverter\" />\n+    <property name=\"CONSOLE_LOG_PATTERN\" value=\"%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(%pid){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx\"/>\n+    <property name=\"FILE_LOG_PATTERN\" value=\"%d{yyyy-MM-dd HH:mm:ss.SSS} %5p %pid --- [%t] %-40.40logger{39} : %m%n%wEx\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI1NjIxNA=="}, "originalCommit": {"oid": "defff17337dde7a2bd56d25ea6156bdcb55c3a47"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NDQ3Mjk3OnYy", "diffSide": "RIGHT", "path": "server/src/main/resources/logback.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMDoyM1rOGlovgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMDoyM1rOGlovgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExODAxOA==", "bodyText": "original value is ${user.home}/logs/seata", "url": "https://github.com/seata/seata/pull/2788#discussion_r442118018", "createdAt": "2020-06-18T10:10:23Z", "author": {"login": "jsbxyyx"}, "path": "server/src/main/resources/logback.xml", "diffHunk": "@@ -16,39 +16,91 @@\n   -->\n \n <configuration scan=\"true\" scanPeriod=\"60 seconds\" debug=\"false\">\n-    <property name=\"LOG_HOME\" value=\"${user.home}/logs/seata\"/>\n+    <!-- Context listeners -->\n+    <contextListener class=\"io.seata.server.logging.listener.SystemPropertyLoggerContextListener\" />\n \n-    <appender name=\"stdout\" class=\"ch.qos.logback.core.ConsoleAppender\">\n-        <encoder class=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\">\n-            <Pattern>%date{yyyy-MM-dd HH:mm:ss.SSS} %-5level[%thread]%logger{56}.%method:%L -%msg%n</Pattern>\n+    <!-- Copied from spring-boot.jar -->\n+    <conversionRule conversionWord=\"clr\" converterClass=\"io.seata.server.logging.logback.ColorConverter\" />\n+    <conversionRule conversionWord=\"wex\" converterClass=\"io.seata.server.logging.logback.WhitespaceThrowableProxyConverter\" />\n+    <conversionRule conversionWord=\"wEx\" converterClass=\"io.seata.server.logging.logback.ExtendedWhitespaceThrowableProxyConverter\" />\n+    <property name=\"CONSOLE_LOG_PATTERN\" value=\"%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx\"/>\n+    <property name=\"FILE_LOG_PATTERN\" value=\"%d{yyyy-MM-dd HH:mm:ss.SSS} %5p --- [%t] %-40.40logger{39} : %m%n%wEx\"/>\n+\n+    <property name=\"LOG_HOME\" value=\"./logs\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40a2075a3868c05d2814dfea57d13e2ec837f512"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NDQ3NjI1OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMToyMFrOGloxog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMToyMFrOGloxog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExODU2Mg==", "bodyText": "The class not used?", "url": "https://github.com/seata/seata/pull/2788#discussion_r442118562", "createdAt": "2020-06-18T10:11:20Z", "author": {"login": "jsbxyyx"}, "path": "server/src/main/java/io/seata/server/logging/logback/ApplicationPid.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server.logging.logback;\n+\n+import java.lang.management.ManagementFactory;\n+\n+/**\n+ * An application process ID.\n+ *\n+ * @author wang.liang\n+ */\n+public class ApplicationPid {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40a2075a3868c05d2814dfea57d13e2ec837f512"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1474, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}