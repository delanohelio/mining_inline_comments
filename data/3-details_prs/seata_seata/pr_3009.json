{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2NTMwNjYy", "number": 3009, "title": "feature: support server start with springboot and config with application.yaml", "bodyText": "fixes #2984\n1\u3001server\u7aef\u53ef\u4ee5\u901a\u8fc7 springboot/\u811a\u672c/java -jar \u7b49\u65b9\u5f0f\u6b63\u5e38\u542f\u52a8\n2\u3001server\u7aef\u5f15\u7528 seata-spring-autoconfigure-server \u540e\u53ef\u4ee5\u6b63\u5e38\u8bfb\u53d6\u5230\u914d\u7f6e\u9879\n3\u3001\u5ba2\u6237\u7aef\u5f15\u7528 seata-spring-boot-starter \u540e\u53ef\u4ee5\u6b63\u5e38\u8bfb\u53d6\u5230\u914d\u7f6e\u9879\n\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u6539\u9020\uff1a\n1\u3001\u5c06 seata-spring-boot-starter \u4e2d\u548c\u914d\u7f6e\u76f8\u5173\u7684\u5185\u5bb9\u63d0\u53d6\u51fa\u6765\uff0c\u5c01\u88c5\u6210\u5355\u72ec\u7684\u6a21\u5757 seata-spring-autoconfigure\n2\u3001client\u548cserver\u7aef\u4f9d\u8d56\u7684\u5c5e\u6027\u4e0d\u540c\uff0c\u56e0\u6b64\u5c06seata-spring-autoconfigure\u5206\u6210\u4e09\u4e2a\u5b50\u6a21\u5757\uff1a seata-spring-autoconfigure-client\u3001 seata-spring-autoconfigure-server\u3001 seata-spring-autoconfigure-core\u3002seata-spring-autoconfigure-core\u8868\u793a\u4e00\u4e9b\u901a\u7528\u5c5e\u6027\uff0c\u540c\u65f6\u88abseata-spring-autoconfigure-client\u548cseata-spring-autoconfigure-server \u5f15\u7528\n3\u3001\u9488\u5bf9\u5ba2\u6237\u7aef\uff1a\u5728seata-spring-boot-starter\u4e2d\u5f15\u7528seata-spring-autoconfigure-client\n4\u3001\u9488\u5bf9\u670d\u52a1\u7aef\uff1a\u5728seata-server\u4e2d\u5f15\u7528seata-spring-autoconfigure-server", "createdAt": "2020-08-12T05:45:52Z", "url": "https://github.com/seata/seata/pull/3009", "merged": true, "mergeCommit": {"oid": "9beea741e0ddcb5bbd072a15845307770965fc9f"}, "closed": true, "closedAt": "2021-05-20T16:06:28Z", "author": {"login": "spilledyear"}, "timelineItems": {"totalCount": 92, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-El4ZgH2gAyNDY2NTMwNjYyOmIzMmQ2YTI3YTQ0NDBkZGZkMjU1NjhkMTY2OWY5ZGU5NGI2NjllZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeYpU9HAH2gAyNDY2NTMwNjYyOmFmMTY1MmUzZTBjODM3OTJlNDJkYTFlOGIyNWUyMmMzNTE5MTBjMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b32d6a27a4440ddfd25568d1669f9de94b669ef9", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/b32d6a27a4440ddfd25568d1669f9de94b669ef9", "committedDate": "2020-08-12T05:30:23Z", "message": "make server to support srpingboot and config with application.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3185dddd2340b1e37b2928e8c5cc58364f9c473", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/f3185dddd2340b1e37b2928e8c5cc58364f9c473", "committedDate": "2020-08-12T06:12:44Z", "message": "checkStyle fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d456e503a5cb4e8590c9de748355ff59244c673", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/8d456e503a5cb4e8590c9de748355ff59244c673", "committedDate": "2020-08-12T06:25:27Z", "message": "bug fix:fix checkstyle UnusedImports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efcdd1e47e965ed36544e2d0bfd937662a14da07", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/efcdd1e47e965ed36544e2d0bfd937662a14da07", "committedDate": "2020-09-30T10:44:50Z", "message": "feature: create a new module with name server-starter for support springboot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df0ef8409c6632878e58f4b815fbc41cb6039468", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/df0ef8409c6632878e58f4b815fbc41cb6039468", "committedDate": "2020-10-15T02:11:32Z", "message": "Merge branch 'develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "115dc74ab602d246b3ddca2e967028f40436af20", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/115dc74ab602d246b3ddca2e967028f40436af20", "committedDate": "2020-10-18T05:51:31Z", "message": "Merge remote-tracking branch 'ups/develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f0fd689fd99b13f8518c68b1c8f87a057c2a8d2", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/0f0fd689fd99b13f8518c68b1c8f87a057c2a8d2", "committedDate": "2020-10-18T06:11:59Z", "message": "server-boot: resolve code conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f1e19cc83864f3a2972b2fbd8f1ec81662c5f2e", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/1f1e19cc83864f3a2972b2fbd8f1ec81662c5f2e", "committedDate": "2020-10-18T13:03:49Z", "message": "Merge branch 'develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51b546ae944bc489807cdb1d51ba92458bd9a5a4", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/51b546ae944bc489807cdb1d51ba92458bd9a5a4", "committedDate": "2020-10-19T05:06:41Z", "message": "bind git user.name to github account"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48a883079ffb9df98afdc01b94e81aa81acb7276", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/48a883079ffb9df98afdc01b94e81aa81acb7276", "committedDate": "2020-11-24T02:29:39Z", "message": "bugfix:resolve code conflict with server-boot and develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzNjY4ODU2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-543668856", "createdAt": "2020-12-03T07:27:38Z", "commit": {"oid": "48a883079ffb9df98afdc01b94e81aa81acb7276"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzoyNzozOVrOH-B81w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzoyNzozOVrOH-B81w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDgwNTcxOQ==", "bodyText": "\u8fd9\u4e2afile.conf\u7684\u7248\u672c\u662f\u4e0d\u662f\u6709\u70b9\u65e7\u4e86\uff1f", "url": "https://github.com/seata/seata/pull/3009#discussion_r534805719", "createdAt": "2020-12-03T07:27:39Z", "author": {"login": "caohdgege"}, "path": "server-starter/src/test/resources/file.conf", "diffHunk": "@@ -0,0 +1,44 @@\n+#reduce delay for test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48a883079ffb9df98afdc01b94e81aa81acb7276"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c9dd9c8d33d9b619c7cc52fb0c308c15cd7c44f", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/8c9dd9c8d33d9b619c7cc52fb0c308c15cd7c44f", "committedDate": "2020-12-14T04:53:57Z", "message": "Merge remote-tracking branch 'ups/develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0db82fbd70ff62f90b368e62c593014151e31c37", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/0db82fbd70ff62f90b368e62c593014151e31c37", "committedDate": "2020-12-14T05:01:05Z", "message": "fix #3009 delete no use config file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "494cebee27039ecc346b25a296e9b233761b3d5f", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/494cebee27039ecc346b25a296e9b233761b3d5f", "committedDate": "2020-12-14T05:43:10Z", "message": "fix #3009 add health check api for server-starter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c30e2ff0f9d061067807ca768c409d9f2b185bbc", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/c30e2ff0f9d061067807ca768c409d9f2b185bbc", "committedDate": "2020-12-14T05:57:47Z", "message": "fix #3009 add statement for new file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbdb04024404bc0181f6e9fff31ec1ba7029b1a9", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/bbdb04024404bc0181f6e9fff31ec1ba7029b1a9", "committedDate": "2020-12-14T05:58:48Z", "message": "fix #3009 delete unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4249bcf0b258d96af46f3a8568b1ba9f61a274c2", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/4249bcf0b258d96af46f3a8568b1ba9f61a274c2", "committedDate": "2020-12-14T06:21:17Z", "message": "fix #3009 delete unused tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a628c8d7e24ac77c8501fc466fbd8ae0077d5d1", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/3a628c8d7e24ac77c8501fc466fbd8ae0077d5d1", "committedDate": "2020-12-14T06:49:30Z", "message": "fix #3009 unnecessary parentheses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "929e2f2ceb7b8815a475deb93c6741796dabfffb", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/929e2f2ceb7b8815a475deb93c6741796dabfffb", "committedDate": "2020-12-14T06:49:44Z", "message": "fix #3009 unnecessary parentheses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb16215b4768442091c244e03f945e09371c64ce", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/bb16215b4768442091c244e03f945e09371c64ce", "committedDate": "2021-01-03T11:15:15Z", "message": "feature #3009: resolve code conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9d901d6ce939f91e5e296f5555d657200ac3f94", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/d9d901d6ce939f91e5e296f5555d657200ac3f94", "committedDate": "2021-01-03T11:43:45Z", "message": "feature #3009: remove server-starter module and server module support springboot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99be383ca29fa93c12b2e889a57f3f938b41924c", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/99be383ca29fa93c12b2e889a57f3f938b41924c", "committedDate": "2021-01-10T07:27:43Z", "message": "feature #3009: add properties of server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df85601eb494853ad3d3707a74514abc71735513", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/df85601eb494853ad3d3707a74514abc71735513", "committedDate": "2021-01-10T07:50:21Z", "message": "feature #3009: fix code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4473f139ec10a6002af50992793ec8437faffba1", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/4473f139ec10a6002af50992793ec8437faffba1", "committedDate": "2021-01-10T09:09:41Z", "message": "feature #3009: build package fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26a010d8e923d302d8c16caeb691c5f74f303ce3", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/26a010d8e923d302d8c16caeb691c5f74f303ce3", "committedDate": "2021-01-17T07:05:27Z", "message": "Merge remote-tracking branch 'ups/develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee786e5f9fe4c1ca126044cde8f06b829ffde71e", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/ee786e5f9fe4c1ca126044cde8f06b829ffde71e", "committedDate": "2021-01-17T07:24:53Z", "message": "feature #3009: build package fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "243d827daf92a3a52a7cc7547acb71008bab2d01", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/243d827daf92a3a52a7cc7547acb71008bab2d01", "committedDate": "2021-01-17T07:52:20Z", "message": "feature #3009: build package fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7443f966c797dc61643ac44b603a7bc4b5278b4", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/c7443f966c797dc61643ac44b603a7bc4b5278b4", "committedDate": "2021-01-17T08:40:03Z", "message": "feature #3009: add a  doc for build package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6da49a049eab19a43ce8950720126f3d28a45f15", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/6da49a049eab19a43ce8950720126f3d28a45f15", "committedDate": "2021-01-17T09:25:17Z", "message": "feature #3009: fix seata-server.sh"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc0OTEwMzc4", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-574910378", "createdAt": "2021-01-24T09:18:10Z", "commit": {"oid": "6da49a049eab19a43ce8950720126f3d28a45f15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNFQwOToxODoxMFrOIZK0yQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNFQwOToxODoxMFrOIZK0yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzI2MjY2NQ==", "bodyText": "english description", "url": "https://github.com/seata/seata/pull/3009#discussion_r563262665", "createdAt": "2021-01-24T09:18:10Z", "author": {"login": "a364176773"}, "path": "distribution/release-seata.xml", "diffHunk": "@@ -45,18 +45,20 @@\n \n         <fileSet>\n             <includes>\n-                <include>lib/**</include>\n+                <include>logs/**</include>\n             </includes>\n-            <excludes>\n-                <exclude>lib/mysql-connector-java-*.jar</exclude>\n-            </excludes>\n         </fileSet>\n     </fileSets>\n     <files>\n         <file>\n             <source>LICENSE-BIN</source>\n             <destName>LICENSE</destName>\n         </file>\n+        <file>\n+            <!--\u6253\u597d\u7684jar\u5305\u540d\u79f0\u548c\u653e\u7f6e\u76ee\u5f55-->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da49a049eab19a43ce8950720126f3d28a45f15"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bd0dcd693166fdebd097d0dd757bd5d1ba21fcd", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/9bd0dcd693166fdebd097d0dd757bd5d1ba21fcd", "committedDate": "2021-02-23T16:10:27Z", "message": "feature #3009: Resolve code conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "054784c1161ae49aa0a25378e14365880a7414f4", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/054784c1161ae49aa0a25378e14365880a7414f4", "committedDate": "2021-02-23T17:20:58Z", "message": "feature #3009: seata-spring-autoconfigure spearation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7526e8d2031024b7bc0f79ca97b9d66ce51e50f3", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/7526e8d2031024b7bc0f79ca97b9d66ce51e50f3", "committedDate": "2021-02-25T15:46:19Z", "message": "feature #3009: bug fix seata-spring-autoconfigure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53ff452a4d4f31dfc0ae80f474011e5873ddb375", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/53ff452a4d4f31dfc0ae80f474011e5873ddb375", "committedDate": "2021-02-25T16:04:46Z", "message": "feature #3009: seata-spring-autoconfigure check-style fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0db7c3433506c92eeb921efcd194289e4989555c", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/0db7c3433506c92eeb921efcd194289e4989555c", "committedDate": "2021-02-25T16:12:44Z", "message": "feature #3009: seata-spring-autoconfigure check-style fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0aeeb578e6c0cc4b64c218540c5e19b9fdc2bb3a", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/0aeeb578e6c0cc4b64c218540c5e19b9fdc2bb3a", "committedDate": "2021-02-25T16:32:02Z", "message": "feature #3009: add testcase for seata-spring-autoconfigure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0506d5c9d674bc9b5810e40769b92e09b76aaa8", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/a0506d5c9d674bc9b5810e40769b92e09b76aaa8", "committedDate": "2021-02-25T16:33:05Z", "message": "feature #3009: seata-spring-autoconfigure check-style fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f26a0aa2fca0f27da48d13198be157bb6818ec45", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/f26a0aa2fca0f27da48d13198be157bb6818ec45", "committedDate": "2021-03-13T12:44:16Z", "message": "feature #3009: update notation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebe5f7a5113127dae92e118e3393175023a6c3bc", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/ebe5f7a5113127dae92e118e3393175023a6c3bc", "committedDate": "2021-03-26T11:36:49Z", "message": "feature #3009: resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/d9afba0b8b92f4868e6fecd85a8da24392c206e1", "committedDate": "2021-03-26T11:46:47Z", "message": "feature #3009: check-style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjMyOTMyMTU0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-632932154", "createdAt": "2021-04-10T15:58:59Z", "commit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xMFQxNTo1OTowMFrOJGwPMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xMFQxNjoxMjoyMlrOJGwVGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MTU1Mw==", "bodyText": "import static", "url": "https://github.com/seata/seata/pull/3009#discussion_r611061553", "createdAt": "2021-04-10T15:59:00Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/java/io/seata/spring/boot/autoconfigure/properties/SeataProperties.java", "diffHunk": "@@ -16,17 +16,17 @@\n package io.seata.spring.boot.autoconfigure.properties;\n \n import io.seata.common.DefaultValues;\n+import io.seata.spring.boot.autoconfigure.StarterConstants;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.boot.context.properties.ConfigurationProperties;\n import org.springframework.stereotype.Component;\n \n-import static io.seata.spring.boot.autoconfigure.StarterConstants.SEATA_PREFIX;\n \n /**\n  * @author xingfudeshi@gmail.com\n  */\n @Component\n-@ConfigurationProperties(prefix = SEATA_PREFIX)\n+@ConfigurationProperties(prefix = StarterConstants.SEATA_PREFIX)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MTc5Mg==", "bodyText": "please restore the code formatting style", "url": "https://github.com/seata/seata/pull/3009#discussion_r611061792", "createdAt": "2021-04-10T16:00:44Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/java/io/seata/spring/boot/autoconfigure/provider/SpringBootConfigurationProvider.java", "diffHunk": "@@ -32,6 +26,12 @@\n import org.springframework.cglib.proxy.MethodProxy;\n import org.springframework.context.ApplicationContext;\n \n+import java.lang.reflect.Field;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjE1Mw==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062153", "createdAt": "2021-04-10T16:04:59Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/MetricsProperties.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.METRICS_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = METRICS_PREFIX)\n+public class MetricsProperties {\n+    Boolean enabled = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjE4NQ==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062185", "createdAt": "2021-04-10T16:05:27Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/ServerProperties.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import java.time.Duration;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SERVER_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = SERVER_PREFIX)\n+public class ServerProperties {\n+    Duration maxCommitRetryTimeout = Duration.ofMillis(-1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjI0MA==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062240", "createdAt": "2021-04-10T16:05:40Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/ServerRecoveryProperties.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SERVER_RECOVERY_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = SERVER_RECOVERY_PREFIX)\n+public class ServerRecoveryProperties {\n+    Integer committingRetryPeriod = 1000;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjI1Ng==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062256", "createdAt": "2021-04-10T16:05:46Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/ServerUndoProperties.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SERVER_UNDO_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = SERVER_UNDO_PREFIX)\n+public class ServerUndoProperties {\n+    Integer logSaveDays = 7;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjM0Ng==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062346", "createdAt": "2021-04-10T16:06:26Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreDBProperties.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_DB_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_DB_PREFIX)\n+public class StoreDBProperties {\n+    String datasource = \"druid\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjQwNw==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062407", "createdAt": "2021-04-10T16:07:01Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreFileProperties.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_FILE_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_FILE_PREFIX)\n+public class StoreFileProperties {\n+    String dir = \"sessionStore\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjQzNA==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062434", "createdAt": "2021-04-10T16:07:14Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreProperties.java", "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_PREFIX)\n+public class StoreProperties {\n+    /**\n+     * file, db, redis\n+     */\n+    private String mode = \"file\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MjU3OA==", "bodyText": "please add private", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062578", "createdAt": "2021-04-10T16:07:55Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreRedisProperties.java", "diffHunk": "@@ -0,0 +1,160 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_REDIS_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_REDIS_SINGLE_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_REDIS_SENTINEL_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_REDIS_PREFIX)\n+public class StoreRedisProperties {\n+    /**\n+     * single, sentinel\n+     */\n+    String mode = \"single\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2Mjk5OQ==", "bodyText": "private static final", "url": "https://github.com/seata/seata/pull/3009#discussion_r611062999", "createdAt": "2021-04-10T16:11:44Z", "author": {"login": "a364176773"}, "path": "server/src/main/java/io/seata/server/controller/HealthController.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server.controller;\n+\n+import io.seata.server.ServerRunner;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.ResponseBody;\n+\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Controller\n+@RequestMapping\n+public class HealthController {\n+    private Logger logger = LoggerFactory.getLogger(HealthController.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTA2MzA2Nw==", "bodyText": "started = Boolean.FALSE;", "url": "https://github.com/seata/seata/pull/3009#discussion_r611063067", "createdAt": "2021-04-10T16:12:22Z", "author": {"login": "a364176773"}, "path": "server/src/main/java/io/seata/server/ServerRunner.java", "diffHunk": "@@ -0,0 +1,53 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.boot.CommandLineRunner;\n+import org.springframework.stereotype.Component;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+public class ServerRunner implements CommandLineRunner {\n+\n+    final Logger logger = LoggerFactory.getLogger(ServerRunner.class);\n+\n+    private Boolean started = Boolean.FALSE;\n+\n+\n+    @Override\n+    public void run(String... args) {\n+        try {\n+            long start = System.currentTimeMillis();\n+            Server.main(args);\n+            started = true;\n+\n+            long cost = System.currentTimeMillis() - start;\n+            logger.info(\"seata server started in {} millSeconds\", cost);\n+        } catch (Throwable e) {\n+            logger.error(\"seata server start error: {} \", e.getMessage(), e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjMzMDE0NTI0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-633014524", "createdAt": "2021-04-11T13:42:41Z", "commit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xMVQxMzo0Mjo0MVrOJG4H4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xMVQxMzo0Mjo0MVrOJG4H4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMTE5MDc1NQ==", "bodyText": "application: \"seata-server\"", "url": "https://github.com/seata/seata/pull/3009#discussion_r611190755", "createdAt": "2021-04-11T13:42:41Z", "author": {"login": "a364176773"}, "path": "server/src/main/resources/application.yaml", "diffHunk": "@@ -0,0 +1,134 @@\n+server:\n+  port: 9098\n+\n+logging:\n+  config: classpath:logback.xml\n+  file:\n+    path: ${user.home}/logs\n+\n+seata:\n+  config:\n+    type: file\n+    file:\n+      name: file.conf\n+    apollo:\n+      appId: seata-server\n+      apolloMeta: http://localhost:8801\n+      namespace: application\n+    nacos:\n+      serverAddr: 127.0.0.1:8848\n+      namespace:\n+      group: SEATA_GROUP\n+      username:\n+      password:\n+    consul:\n+      serverAddr: 127.0.0.1:8500\n+    zk:\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username:\n+      password:\n+    etcd3:\n+      serverAddr: http://localhost:2379\n+  registry:\n+    type: file\n+    file:\n+      name: file.conf\n+    zk:\n+      cluster: default\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username: \"\"\n+      password: \"\"\n+    nacos:\n+      application:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9afba0b8b92f4868e6fecd85a8da24392c206e1"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1ddbee6a4573581ce5d39e3c11006e6530b065e", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/c1ddbee6a4573581ce5d39e3c11006e6530b065e", "committedDate": "2021-04-13T05:12:20Z", "message": "Merge branch 'develop' into server-boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "054e6a2a5f3b4a4033b3cf29da70a9fb90959344", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/054e6a2a5f3b4a4033b3cf29da70a9fb90959344", "committedDate": "2021-04-13T08:11:30Z", "message": "feature #3009: seata-server springboot support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM0NjU0MTgz", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-634654183", "createdAt": "2021-04-13T14:22:28Z", "commit": {"oid": "054e6a2a5f3b4a4033b3cf29da70a9fb90959344"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xM1QxNDoyMjoyOFrOJIHrBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xM1QxNDoyMjoyOFrOJIHrBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMjQ5NDA4NA==", "bodyText": "\u9488\u5bf9\u8fd9\u4e9b\u914d\u7f6e\u5e94\u8be5\u5199\u4e00\u4e2aapplication.yaml.example", "url": "https://github.com/seata/seata/pull/3009#discussion_r612494084", "createdAt": "2021-04-13T14:22:28Z", "author": {"login": "a364176773"}, "path": "server/src/main/resources/application.yaml", "diffHunk": "@@ -0,0 +1,138 @@\n+server:\n+  port: 9091\n+\n+logging:\n+  config: classpath:logback.xml\n+  file:\n+    path: ${user.home}/logs\n+\n+seata:\n+  config:\n+    type: file\n+    nacos:\n+      serverAddr: 127.0.0.1:8848\n+      namespace:\n+      group: SEATA_GROUP\n+      username:\n+      password:\n+      dataId: seataServer.properties\n+    consul:\n+      serverAddr: 127.0.0.1:8500\n+      aclToken:\n+    apollo:\n+      appId: seata-server\n+      apolloMeta: http://192.168.1.204:8801\n+      apolloConfigService: http://192.168.1.204:8080\n+      namespace: application\n+      apolloAccesskeySecret:\n+      cluster: seata\n+    zk:\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username:\n+      password:\n+      nodePath: /seata/seata.properties\n+    etcd3:\n+      serverAddr: http://localhost:2379\n+  registry:\n+    type: file\n+    nacos:\n+      application: seata-server\n+      serverAddr: 127.0.0.1:8848\n+      group: SEATA_GROUP\n+      namespace:\n+      cluster: default\n+      username:\n+      password:\n+    eureka:\n+      serviceUrl: http://localhost:8761/eureka\n+      application: default\n+      weight: 1\n+    redis:\n+      serverAddr: localhost:6379\n+      db: 0\n+      password:\n+      cluster: default\n+      timeout: 0\n+    zk:\n+      cluster: default\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username: \"\"\n+      password: \"\"\n+    consul:\n+      cluster: default\n+      serverAddr: 127.0.0.1:8500\n+      aclToken:\n+    etcd3:\n+      cluster: default\n+      serverAddr: http://localhost:2379\n+    sofa:\n+      serverAddr: 127.0.0.1:9603\n+      application: default\n+      region: DEFAULT_ZONE\n+      datacenter: DefaultDataCenter\n+      cluster: default\n+      group: SEATA_GROUP\n+      addressWaitTime: 3000\n+\n+  server:\n+    maxCommitRetryTimeout: -1\n+    maxRollbackRetryTimeout: -1\n+    rollbackRetryTimeoutUnlockEnable: false\n+    recovery:\n+      rollbackingRetryPeriod: 1000\n+      timeoutRetryPeriod: 1000\n+    undo:\n+      logSaveDays: 7\n+      logDeletePeriod: 86400000\n+  store:\n+    mode: file\n+    file:\n+      dir: sessionStore", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "054e6a2a5f3b4a4033b3cf29da70a9fb90959344"}, "originalPosition": 94}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM0NjYzNDYy", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-634663462", "createdAt": "2021-04-13T14:29:52Z", "commit": {"oid": "054e6a2a5f3b4a4033b3cf29da70a9fb90959344"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xM1QxNDoyOTo1MlrOJIIF9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xM1QxNDoyOTo1MlrOJIIF9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMjUwMDk4MQ==", "bodyText": "SeataClientPropertiesAutoConfiguration", "url": "https://github.com/seata/seata/pull/3009#discussion_r612500981", "createdAt": "2021-04-13T14:29:52Z", "author": {"login": "a364176773"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/spring.factories", "diffHunk": "@@ -0,0 +1,2 @@\n+# Auto Configure\n+org.springframework.boot.autoconfigure.EnableAutoConfiguration=io.seata.spring.boot.autoconfigure.SeataServerPropertiesAutoConfiguration", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "054e6a2a5f3b4a4033b3cf29da70a9fb90959344"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e639b2e338677eb81615649cab3e0a84acb73a21", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/e639b2e338677eb81615649cab3e0a84acb73a21", "committedDate": "2021-04-13T16:02:52Z", "message": "feature #3009: server boot support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07eb6e5d098f6ed4af2e91dd59687527ea4ee23e", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/07eb6e5d098f6ed4af2e91dd59687527ea4ee23e", "committedDate": "2021-04-13T16:08:48Z", "message": "feature #3009: server boot support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e77f29e80f56c376eaf5abafdc2ae3604390a25", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/1e77f29e80f56c376eaf5abafdc2ae3604390a25", "committedDate": "2021-04-13T16:23:28Z", "message": "feature #3009: fix spring-configuration-metadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00d8cb755584ea8b17b9c6e1c2f7dadf5ac39d4e", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/00d8cb755584ea8b17b9c6e1c2f7dadf5ac39d4e", "committedDate": "2021-04-13T16:25:32Z", "message": "feature #3009: test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0abcaa4bb908bf9304f46b9097202bd5b914599", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/d0abcaa4bb908bf9304f46b9097202bd5b914599", "committedDate": "2021-04-15T10:46:22Z", "message": "feature #3009: server boot support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c82013376b242d6abf128da13d98c7e0d87b16e2", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/c82013376b242d6abf128da13d98c7e0d87b16e2", "committedDate": "2021-04-15T10:51:51Z", "message": "feature #3009: server boot support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/6288c8db69b1e4ac256325b8011f6b396a33a96b", "committedDate": "2021-04-15T14:22:28Z", "message": "feature #3009: test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca428694f4c22bcdb59a8a63766e54de74f54342", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/ca428694f4c22bcdb59a8a63766e54de74f54342", "committedDate": "2021-04-15T15:27:31Z", "message": "feature #3009: bat fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM2NzcxMzA0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-636771304", "createdAt": "2021-04-15T14:40:26Z", "commit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNVQxNDo0MDoyN1rOJJrklA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNVQxNToyMToxOVrOJJtt3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDEzMDgzNg==", "bodyText": "simple to return serverRunner.started() ? OK : NOT_OK; ?", "url": "https://github.com/seata/seata/pull/3009#discussion_r614130836", "createdAt": "2021-04-15T14:40:27Z", "author": {"login": "caohdgege"}, "path": "server/src/main/java/io/seata/server/controller/HealthController.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server.controller;\n+\n+import io.seata.server.ServerRunner;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Controller;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.ResponseBody;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Controller\n+@RequestMapping\n+public class HealthController {\n+\n+    private static final String OK = \"ok\";\n+    private static final String NOT_OK = \"not_ok\";\n+\n+    @Autowired\n+    private ServerRunner serverRunner;\n+\n+\n+    @RequestMapping(\"/health\")\n+    @ResponseBody\n+    String healthCheck() {\n+        boolean started = serverRunner.started();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE0MTQzOA==", "bodyText": "\u6839\u636e\u4f20\u7edf\uff0clogger->LOGGER", "url": "https://github.com/seata/seata/pull/3009#discussion_r614141438", "createdAt": "2021-04-15T14:52:34Z", "author": {"login": "caohdgege"}, "path": "server/src/main/java/io/seata/server/ServerRunner.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.boot.CommandLineRunner;\n+import org.springframework.stereotype.Component;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+public class ServerRunner implements CommandLineRunner {\n+\n+    final Logger logger = LoggerFactory.getLogger(ServerRunner.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE0MjEwNg==", "bodyText": "Boolean or boolean ?", "url": "https://github.com/seata/seata/pull/3009#discussion_r614142106", "createdAt": "2021-04-15T14:53:23Z", "author": {"login": "caohdgege"}, "path": "server/src/main/java/io/seata/server/ServerRunner.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.server;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.boot.CommandLineRunner;\n+import org.springframework.stereotype.Component;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+public class ServerRunner implements CommandLineRunner {\n+\n+    final Logger logger = LoggerFactory.getLogger(ServerRunner.class);\n+\n+    private Boolean started = Boolean.FALSE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE2MTIwMQ==", "bodyText": "./mvnw ?", "url": "https://github.com/seata/seata/pull/3009#discussion_r614161201", "createdAt": "2021-04-15T15:15:29Z", "author": {"login": "caohdgege"}, "path": "server/src/main/resources/README-zh.md", "diffHunk": "@@ -28,3 +28,5 @@\n - etcd3: \u7528\u4e8e\u5411 Etcd3 \u4e2d\u6dfb\u52a0\u914d\u7f6e\n - consul: \u7528\u4e8e\u5411 consul \u4e2d\u6dfb\u52a0\u914d\u7f6e\n \n+## \u6253\u5305\n+mvn -Prelease-seata -Dmaven.test.skip=true clean install -U", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE2MzM5Nw==", "bodyText": "\u6839\u636eSpringBoot\u7684\u4f7f\u7528\u4e60\u60ef\u4e0a\u662f\u4e0d\u662f\u5e94\u8be5\u7528-\u800c\u4e0d\u662f\u5c0f\u5199\u9a7c\u5cf0\uff1f", "url": "https://github.com/seata/seata/pull/3009#discussion_r614163397", "createdAt": "2021-04-15T15:18:04Z", "author": {"login": "caohdgege"}, "path": "server/src/main/resources/application.example.yaml", "diffHunk": "@@ -0,0 +1,134 @@\n+server:\n+  port: 9091\n+\n+logging:\n+  config: classpath:logback.xml\n+  file:\n+    path: ${user.home}/logs\n+\n+seata:\n+  config:\n+    type: file\n+    nacos:\n+      serverAddr: 127.0.0.1:8848\n+      namespace:\n+      group: SEATA_GROUP\n+      username:\n+      password:\n+      dataId: seataServer.properties\n+    consul:\n+      serverAddr: 127.0.0.1:8500\n+      aclToken:\n+    apollo:\n+      appId: seata-server\n+      apolloMeta: http://192.168.1.204:8801\n+      apolloConfigService: http://192.168.1.204:8080\n+      namespace: application\n+      apolloAccesskeySecret:\n+      cluster: seata\n+    zk:\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username:\n+      password:\n+      nodePath: /seata/seata.properties\n+    etcd3:\n+      serverAddr: http://localhost:2379\n+  registry:\n+    type: file\n+    nacos:\n+      application: seata-server\n+      serverAddr: 127.0.0.1:8848\n+      group: SEATA_GROUP\n+      namespace:\n+      cluster: default\n+      username:\n+      password:\n+    eureka:\n+      serviceUrl: http://localhost:8761/eureka\n+      application: default\n+      weight: 1\n+    redis:\n+      serverAddr: localhost:6379\n+      db: 0\n+      password:\n+      cluster: default\n+      timeout: 0\n+    zk:\n+      cluster: default\n+      serverAddr: 127.0.0.1:2181\n+      sessionTimeout: 6000\n+      connectTimeout: 2000\n+      username: \"\"\n+      password: \"\"\n+    consul:\n+      cluster: default\n+      serverAddr: 127.0.0.1:8500\n+      aclToken:\n+    etcd3:\n+      cluster: default\n+      serverAddr: http://localhost:2379\n+    sofa:\n+      serverAddr: 127.0.0.1:9603\n+      application: default\n+      region: DEFAULT_ZONE\n+      datacenter: DefaultDataCenter\n+      cluster: default\n+      group: SEATA_GROUP\n+      addressWaitTime: 3000\n+\n+  server:\n+    maxCommitRetryTimeout: -1\n+    maxRollbackRetryTimeout: -1\n+    rollbackRetryTimeoutUnlockEnable: false\n+    recovery:\n+      committingRetryPeriod: 1000\n+      asynCommittingRetryPeriod: 1000\n+      rollbackingRetryPeriod: 1000\n+      timeoutRetryPeriod: 1000\n+    undo:\n+      logSaveDays: 7\n+      logDeletePeriod: 86400000\n+  store:\n+    mode: file\n+    file:\n+      dir: sessionStore\n+      maxBranchSessionSize: 16384", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE2MzU1OQ==", "bodyText": "./mvnw ?", "url": "https://github.com/seata/seata/pull/3009#discussion_r614163559", "createdAt": "2021-04-15T15:18:17Z", "author": {"login": "caohdgege"}, "path": "server/src/main/resources/README.md", "diffHunk": "@@ -28,3 +28,6 @@\n - etcd3: Initialize script for Etcd3\n - consul: Initialize script for consul\n \n+## build packege \n+mvn -Prelease-seata -Dmaven.test.skip=true clean install -U", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE2NTU5Nw==", "bodyText": "com.mysql.jdbc.Driver \u5e94\u8be5\u8ddfapplication.example.yaml\u540c\u6b65", "url": "https://github.com/seata/seata/pull/3009#discussion_r614165597", "createdAt": "2021-04-15T15:20:50Z", "author": {"login": "caohdgege"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreDBProperties.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_DB_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_DB_PREFIX)\n+public class StoreDBProperties {\n+    private String datasource = \"druid\";\n+    private String dbType = \"mysql\";\n+    private String driverClassName = \"com.mysql.cj.jdbc.Driver\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDE2NTk4Mw==", "bodyText": "jdbc:mysql://127.0.0.1:3306/seata?rewriteBatchedStatements=true \u4e0b\u540c", "url": "https://github.com/seata/seata/pull/3009#discussion_r614165983", "createdAt": "2021-04-15T15:21:19Z", "author": {"login": "caohdgege"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/store/StoreDBProperties.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server.store;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.STORE_DB_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = STORE_DB_PREFIX)\n+public class StoreDBProperties {\n+    private String datasource = \"druid\";\n+    private String dbType = \"mysql\";\n+    private String driverClassName = \"com.mysql.cj.jdbc.Driver\";\n+    private String url = \"jdbc:mysql://localhost:3306/seata?useUnicode=true\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6288c8db69b1e4ac256325b8011f6b396a33a96b"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af9e258a66572214e6c5737501a9e8b7e235172d", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/af9e258a66572214e6c5737501a9e8b7e235172d", "committedDate": "2021-04-16T06:03:18Z", "message": "feature #3009: Code optimization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/6c78b80aa5496f1e55c5a3b494b6350bc046b311", "committedDate": "2021-04-16T06:03:23Z", "message": "Merge remote-tracking branch 'ups/develop' into server-boot"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM3Mzc2OTUw", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-637376950", "createdAt": "2021-04-16T06:44:08Z", "commit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM3Mzk4Njk4", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-637398698", "createdAt": "2021-04-16T07:17:10Z", "commit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNlQwNzoxNzoxMFrOJKJHkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNlQwNzoxNzoxMFrOJKJHkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDYxNDkzMQ==", "bodyText": "Where s the groupId and version?", "url": "https://github.com/seata/seata/pull/3009#discussion_r614614931", "createdAt": "2021-04-16T07:17:10Z", "author": {"login": "l81893521"}, "path": "server/pom.xml", "diffHunk": "@@ -136,213 +162,61 @@\n         </dependency>\n     </dependencies>\n \n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-assembly-plugin</artifactId>\n+                <version>3.0.0</version>\n+                <configuration>\n+                    <archive>\n+                        <manifest>\n+                            <mainClass>io.seata.server.ServerApplication</mainClass>\n+                        </manifest>\n+                    </archive>\n+                    <descriptorRefs>\n+                        <descriptorRef>jar-with-dependencies</descriptorRef>\n+                    </descriptorRefs>\n+                </configuration>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n     <profiles>\n         <profile>\n             <id>release-seata</id>\n             <build>\n+                <finalName>seata-server</finalName>\n                 <plugins>\n                     <plugin>\n-                        <groupId>org.apache.maven.plugins</groupId>\n-                        <artifactId>maven-clean-plugin</artifactId>\n-                        <version>3.0.0</version>\n+                        <artifactId>maven-jar-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM3NDg3MDM2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-637487036", "createdAt": "2021-04-16T09:03:28Z", "commit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNlQwOTowMzoyOFrOJKNLEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0xNlQwOTowMzoyOFrOJKNLEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDY4MTM2Mw==", "bodyText": "I think can remove\naddDefaultImplementationEntries\n\nand\naddDefaultSpecificationEntries", "url": "https://github.com/seata/seata/pull/3009#discussion_r614681363", "createdAt": "2021-04-16T09:03:28Z", "author": {"login": "l81893521"}, "path": "server/pom.xml", "diffHunk": "@@ -136,213 +162,61 @@\n         </dependency>\n     </dependencies>\n \n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-assembly-plugin</artifactId>\n+                <version>3.0.0</version>\n+                <configuration>\n+                    <archive>\n+                        <manifest>\n+                            <mainClass>io.seata.server.ServerApplication</mainClass>\n+                        </manifest>\n+                    </archive>\n+                    <descriptorRefs>\n+                        <descriptorRef>jar-with-dependencies</descriptorRef>\n+                    </descriptorRefs>\n+                </configuration>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n     <profiles>\n         <profile>\n             <id>release-seata</id>\n             <build>\n+                <finalName>seata-server</finalName>\n                 <plugins>\n                     <plugin>\n-                        <groupId>org.apache.maven.plugins</groupId>\n-                        <artifactId>maven-clean-plugin</artifactId>\n-                        <version>3.0.0</version>\n+                        <artifactId>maven-jar-plugin</artifactId>\n                         <configuration>\n-                            <excludeDefaultDirectories>false</excludeDefaultDirectories>\n-                            <filesets>\n-                                <fileset>\n-                                    <directory>../distribution</directory>\n-                                    <includes>\n-                                        <include>bin/**</include>\n-                                        <include>conf/**</include>\n-                                        <include>logs/**</include>\n-                                        <include>lib/**</include>\n-                                        <include>seata-server-${revision}/**</include>\n-                                    </includes>\n-                                </fileset>\n-                            </filesets>\n+                            <archive>\n+                                <manifest>\n+                                    <addDefaultImplementationEntries>true</addDefaultImplementationEntries>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c78b80aa5496f1e55c5a3b494b6350bc046b311"}, "originalPosition": 97}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f", "committedDate": "2021-04-16T14:36:00Z", "message": "feature #3009: maven-jar-plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjM1MjQ1", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653635245", "createdAt": "2021-05-06T16:07:15Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjowNzoxNVrOJWfWog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjowNzoxNVrOJWfWog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU2MjE0Ng==", "bodyText": "\u8fd9\u4e2a\u4e0d\u7528\u6ce8\u91ca\u5427\u3002\u65b0\u65e7\u7248\u672c\u7684\u5206\u652f\u5207\u6362\u6765\u5207\u6362\u53bb\uff0c\u65e7\u7248\u672c\u7684\u6253\u5305\u8fc7\uff0c\u5207\u6362\u5230\u65b0\u7248\u672c\u5206\u652f\u7684\u65f6\u5019\uff0c\u90a3\u4e9b\u65e7\u7248\u672c\u6253\u5305\u751f\u6210\u51fa\u6765\u7684\u6587\u4ef6\u4f1a\u63d0\u793a\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627562146", "createdAt": "2021-05-06T16:07:15Z", "author": {"login": "wangliang181230"}, "path": ".gitignore", "diffHunk": "@@ -26,8 +26,8 @@ dependency-reduced-pom.xml\n *.diff\n *.patch\n *.tmp\n-/distribution/bin/\n-/distribution/conf/\n+#/distribution/bin/\n+#/distribution/conf/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY3MDE5", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653667019", "createdAt": "2021-05-06T16:36:03Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjowM1rOJWhNiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjowM1rOJWhNiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5MjU4NA==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627592584", "createdAt": "2021-05-06T16:36:03Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY3MDk0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653667094", "createdAt": "2021-05-06T16:36:08Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjowOFrOJWhNzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjowOFrOJWhNzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5MjY1Mw==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627592653", "createdAt": "2021-05-06T16:36:08Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"defaultValue\": \"${spring.application.name:}\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.application-id\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY3MjM4", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653667238", "createdAt": "2021-05-06T16:36:19Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjoxOVrOJWhOOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjoxOVrOJWhOOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5Mjc2Mg==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627592762", "createdAt": "2021-05-06T16:36:19Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"defaultValue\": \"${spring.application.name:}\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.application-id\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The tx-service-group.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.tx-service-group\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.application-id\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY3MzU5", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653667359", "createdAt": "2021-05-06T16:36:27Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjoyN1rOJWhOlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNjoyN1rOJWhOlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5Mjg1Mw==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627592853", "createdAt": "2021-05-06T16:36:27Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"defaultValue\": \"${spring.application.name:}\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.application-id\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The tx-service-group.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.tx-service-group\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"${spring.application.name:}\"\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY4MDI1", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653668025", "createdAt": "2021-05-06T16:37:15Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNzoxNVrOJWhQqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNzoxNVrOJWhQqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5MzM4NA==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627593384", "createdAt": "2021-05-06T16:37:15Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"defaultValue\": \"${spring.application.name:}\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.application-id\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The tx-service-group.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.tx-service-group\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"${spring.application.name:}\"\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"AT\"\n+    },\n+    {\n+      \"name\": \"seata.transport.heartbeat\",\n+      \"type\": \"java.lang.Boolean\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.TransportProperties\",\n+      \"defaultValue\": true\n+    },\n+    {\n+      \"name\": \"seata.transport.enable-client-batch-send-request\",\n+      \"type\": \"java.lang.Boolean\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.TransportProperties\",\n+      \"defaultValue\": true\n+    },\n+    {\n+      \"name\": \"seata.transport.shutdown.wait\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ShutdownProperties\",\n+      \"defaultValue\": 3\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.boss-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyBoss\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.worker-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyServerNIOWorker\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.server-executor-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyServerBizHandler\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-selector-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyClientSelector\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-selector-thread-size\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": 1\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-worker-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyClientWorkerThread\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.worker-thread-size\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"Default\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.boss-thread-size\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": 1\n+    },\n+    {\n+      \"name\": \"seata.registry.load-balance\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties\",\n+      \"defaultValue\": \"RandomLoadBalance\",\n+      \"deprecation\": {\n+        \"level\": \"error\",\n+        \"replacement\": \"seata.client.load-balance.type\",\n+        \"reason\": \"Please configure to 'seata.client.load-balance.type'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.registry.load-balance-virtual-nodes\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties\",\n+      \"defaultValue\": 10,\n+      \"deprecation\": {\n+        \"level\": \"error\",\n+        \"replacement\": \"seata.client.load-balance.virtual-nodes\",\n+        \"reason\": \"Please configure to 'seata.client.load-balance.virtual-nodes'.\"\n+      }\n+    }\n+  ],\n+  \"hints\": [\n+    {\n+      \"name\": \"seata.config.type\",\n+      \"providers\": [\n+        {\n+          \"name\": \"handle-as\",\n+          \"parameters\": {\n+            \"target\": \"io.seata.config.ConfigType\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"name\": \"seata.registry.type\",\n+      \"providers\": [\n+        {\n+          \"name\": \"handle-as\",\n+          \"parameters\": {\n+            \"target\": \"io.seata.discovery.registry.RegistryType\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 152}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjY4MTgw", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653668180", "createdAt": "2021-05-06T16:37:25Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNzoyNlrOJWhRNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjozNzoyNlrOJWhRNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5MzUyNA==", "bodyText": "\u8fd9\u4e2a\u662f\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627593524", "createdAt": "2021-05-06T16:37:26Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,230 @@\n+{\n+  \"groups\": [],\n+  \"properties\": [\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"defaultValue\": \"${spring.application.name:}\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.application-id\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",\n+      \"type\": \"java.lang.String\",\n+      \"description\": \"The tx-service-group.\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n+      \"deprecation\": {\n+        \"level\": \"warning\",\n+        \"replacement\": \"seata.tx-service-group\",\n+        \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"${spring.application.name:}\"\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"AT\"\n+    },\n+    {\n+      \"name\": \"seata.transport.heartbeat\",\n+      \"type\": \"java.lang.Boolean\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.TransportProperties\",\n+      \"defaultValue\": true\n+    },\n+    {\n+      \"name\": \"seata.transport.enable-client-batch-send-request\",\n+      \"type\": \"java.lang.Boolean\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.TransportProperties\",\n+      \"defaultValue\": true\n+    },\n+    {\n+      \"name\": \"seata.transport.shutdown.wait\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ShutdownProperties\",\n+      \"defaultValue\": 3\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.boss-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyBoss\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.worker-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyServerNIOWorker\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.server-executor-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyServerBizHandler\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-selector-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyClientSelector\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-selector-thread-size\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": 1\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.client-worker-thread-prefix\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"NettyClientWorkerThread\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.worker-thread-size\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": \"Default\"\n+    },\n+    {\n+      \"name\": \"seata.transport.thread-factory.boss-thread-size\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.ThreadFactoryProperties\",\n+      \"defaultValue\": 1\n+    },\n+    {\n+      \"name\": \"seata.registry.load-balance\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties\",\n+      \"defaultValue\": \"RandomLoadBalance\",\n+      \"deprecation\": {\n+        \"level\": \"error\",\n+        \"replacement\": \"seata.client.load-balance.type\",\n+        \"reason\": \"Please configure to 'seata.client.load-balance.type'.\"\n+      }\n+    },\n+    {\n+      \"name\": \"seata.registry.load-balance-virtual-nodes\",\n+      \"type\": \"java.lang.Integer\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties\",\n+      \"defaultValue\": 10,\n+      \"deprecation\": {\n+        \"level\": \"error\",\n+        \"replacement\": \"seata.client.load-balance.virtual-nodes\",\n+        \"reason\": \"Please configure to 'seata.client.load-balance.virtual-nodes'.\"\n+      }\n+    }\n+  ],\n+  \"hints\": [\n+    {\n+      \"name\": \"seata.config.type\",\n+      \"providers\": [\n+        {\n+          \"name\": \"handle-as\",\n+          \"parameters\": {\n+            \"target\": \"io.seata.config.ConfigType\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"name\": \"seata.registry.type\",\n+      \"providers\": [\n+        {\n+          \"name\": \"handle-as\",\n+          \"parameters\": {\n+            \"target\": \"io.seata.discovery.registry.RegistryType\"\n+          }\n+        }\n+      ]\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",\n+      \"values\": [\n+        {\n+          \"value\": \"AT\",\n+          \"description\": \"the default mode.\"\n+        },\n+        {\n+          \"value\": \"XA\"\n+        }\n+      ]\n+    },\n+    {\n+      \"name\": \"seata.excludes-for-auto-proxying\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 164}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcwNjEz", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653670613", "createdAt": "2021-05-06T16:40:08Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MDowOVrOJWhYEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MDowOVrOJWhYEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NTI4Mw==", "bodyText": "\u89e3\u51b3\u51b2\u7a81\u65f6\uff0c\u5f04\u9519\u4e86\u5427\u3002\n\u8fd9\u4e2a\u539f\u56e0\u63cf\u8ff0\u7b80\u5316\u6389\u4e86\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627595283", "createdAt": "2021-05-06T16:40:09Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -187,7 +152,7 @@\n       \"deprecation\": {\n         \"level\": \"error\",\n         \"replacement\": \"seata.log.exception-rate\",\n-        \"reason\": \"Please configure to 'seata.log.exception-rate'.\"\n+        \"reason\": \"The location of this configuration has been changed to 'seata.log.exception-rate'.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcxMTkw", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653671190", "createdAt": "2021-05-06T16:40:49Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MDo0OVrOJWhZ9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MDo0OVrOJWhZ9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NTc2NA==", "bodyText": "\u4ee5\u4e0a4\u4e2a\u662f\u5c5e\u4e8eclient\u7684\uff0c\u65e0\u9700\u79fb\u9664\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627595764", "createdAt": "2021-05-06T16:40:49Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -1,41 +1,6 @@\n {\n   \"groups\": [],\n   \"properties\": [\n-    {\n-      \"name\": \"spring.cloud.alibaba.seata.application-id\",\n-      \"type\": \"java.lang.String\",\n-      \"description\": \"The application id, default value if '${spring.application.name}'.\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n-      \"defaultValue\": \"${spring.application.name:}\",\n-      \"deprecation\": {\n-        \"level\": \"warning\",\n-        \"replacement\": \"seata.application-id\",\n-        \"reason\": \"It may be removed in a future release, please configure to 'seata.application-id'.\"\n-      }\n-    },\n-    {\n-      \"name\": \"spring.cloud.alibaba.seata.tx-service-group\",\n-      \"type\": \"java.lang.String\",\n-      \"description\": \"The tx-service-group.\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration\",\n-      \"deprecation\": {\n-        \"level\": \"warning\",\n-        \"replacement\": \"seata.tx-service-group\",\n-        \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n-      }\n-    },\n-    {\n-      \"name\": \"seata.application-id\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n-      \"defaultValue\": \"${spring.application.name:}\"\n-    },\n-    {\n-      \"name\": \"seata.data-source-proxy-mode\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n-      \"defaultValue\": \"AT\"\n-    },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcxNzc1", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653671775", "createdAt": "2021-05-06T16:41:24Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MToyNFrOJWhboA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MToyNFrOJWhboA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NjE5Mg==", "bodyText": "\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627596192", "createdAt": "2021-05-06T16:41:24Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -202,130 +167,20 @@\n       \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ServiceProperties\",\n       \"defaultValue\": false\n     },\n-    {\n-      \"name\": \"seata.transport.heartbeat\",\n-      \"type\": \"java.lang.Boolean\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.TransportProperties\",\n-      \"defaultValue\": true\n-    },\n-    {\n-      \"name\": \"seata.transport.enable-client-batch-send-request\",\n-      \"type\": \"java.lang.Boolean\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.TransportProperties\",\n-      \"defaultValue\": true\n-    },\n-    {\n-      \"name\": \"seata.transport.shutdown.wait\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ShutdownProperties\",\n-      \"defaultValue\": 3\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.boss-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyBoss\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.worker-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyServerNIOWorker\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.server-executor-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyServerBizHandler\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-selector-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyClientSelector\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-selector-thread-size\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": 1\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-worker-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyClientWorkerThread\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.worker-thread-size\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"Default\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.boss-thread-size\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": 1\n-    },\n-    {\n-      \"name\": \"seata.registry.load-balance\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 122}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcxODU2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653671856", "createdAt": "2021-05-06T16:41:29Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MToyOVrOJWhb1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MToyOVrOJWhb1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NjI0NA==", "bodyText": "\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627596244", "createdAt": "2021-05-06T16:41:29Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -202,130 +167,20 @@\n       \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ServiceProperties\",\n       \"defaultValue\": false\n     },\n-    {\n-      \"name\": \"seata.transport.heartbeat\",\n-      \"type\": \"java.lang.Boolean\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.TransportProperties\",\n-      \"defaultValue\": true\n-    },\n-    {\n-      \"name\": \"seata.transport.enable-client-batch-send-request\",\n-      \"type\": \"java.lang.Boolean\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.TransportProperties\",\n-      \"defaultValue\": true\n-    },\n-    {\n-      \"name\": \"seata.transport.shutdown.wait\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ShutdownProperties\",\n-      \"defaultValue\": 3\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.boss-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyBoss\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.worker-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyServerNIOWorker\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.server-executor-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyServerBizHandler\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-selector-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyClientSelector\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-selector-thread-size\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": 1\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.client-worker-thread-prefix\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"NettyClientWorkerThread\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.worker-thread-size\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": \"Default\"\n-    },\n-    {\n-      \"name\": \"seata.transport.thread-factory.boss-thread-size\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ThreadFactoryProperties\",\n-      \"defaultValue\": 1\n-    },\n-    {\n-      \"name\": \"seata.registry.load-balance\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties\",\n-      \"defaultValue\": \"RandomLoadBalance\",\n-      \"deprecation\": {\n-        \"level\": \"error\",\n-        \"replacement\": \"seata.client.load-balance.type\",\n-        \"reason\": \"Please configure to 'seata.client.load-balance.type'.\"\n-      }\n-    },\n-    {\n-      \"name\": \"seata.registry.load-balance-virtual-nodes\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 133}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcyMTI2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653672126", "createdAt": "2021-05-06T16:41:48Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MTo0OFrOJWhcvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MTo0OFrOJWhcvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NjQ3OQ==", "bodyText": "\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627596479", "createdAt": "2021-05-06T16:41:48Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -344,29 +199,6 @@\n         }\n       ]\n     },\n-    {\n-      \"name\": \"seata.data-source-proxy-mode\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 189}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjcyMjA0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653672204", "createdAt": "2021-05-06T16:41:52Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MTo1MlrOJWhdCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo0MTo1MlrOJWhdCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzU5NjU1Mw==", "bodyText": "\u5c5e\u4e8eclient\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627596553", "createdAt": "2021-05-06T16:41:52Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -344,29 +199,6 @@\n         }\n       ]\n     },\n-    {\n-      \"name\": \"seata.data-source-proxy-mode\",\n-      \"values\": [\n-        {\n-          \"value\": \"AT\",\n-          \"description\": \"the default mode.\"\n-        },\n-        {\n-          \"value\": \"XA\"\n-        }\n-      ]\n-    },\n-    {\n-      \"name\": \"seata.excludes-for-auto-proxying\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 201}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzNjgyMDIw", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-653682020", "createdAt": "2021-05-06T16:52:17Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo1MjoxN1rOJWh5bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxNjo1MjoxN1rOJWh5bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzYwMzgyMw==", "bodyText": "Before\u79fb\u9664\u4e86\u3002\n\u90a3\u4e48\u9700\u8981\u5728SeataAutoConfiguration\u548cSeataDataSourceAutoConfiguration\u4e2d\u90fd\u8981\u6dfb\u52a0\n@AutoConfigureAfter({SeataCorePropertiesAutoConfiguration.class, SeataClientPropertiesAutoConfiguration.class})", "url": "https://github.com/seata/seata/pull/3009#discussion_r627603823", "createdAt": "2021-05-06T16:52:17Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/java/io/seata/spring/boot/autoconfigure/SeataCorePropertiesAutoConfiguration.java", "diffHunk": "@@ -44,72 +36,54 @@\n import io.seata.spring.boot.autoconfigure.properties.registry.RegistryRedisProperties;\n import io.seata.spring.boot.autoconfigure.properties.registry.RegistrySofaProperties;\n import io.seata.spring.boot.autoconfigure.properties.registry.RegistryZooKeeperProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.LoadBalanceProperties;\n-import org.springframework.boot.autoconfigure.AutoConfigureBefore;\n+import io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider;\n+\n import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\n import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.ComponentScan;\n+import org.springframework.context.annotation.Configuration;\n \n import static io.seata.common.Constants.BEAN_NAME_SPRING_APPLICATION_CONTEXT_PROVIDER;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CLIENT_RM_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CLIENT_TM_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.COMPRESS_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_APOLLO_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_CONSUL_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_CUSTOM_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_ETCD3_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.PROPERTY_BEAN_MAP;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SEATA_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_FILE_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_NACOS_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_CONSUL_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_ZK_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.LOCK_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.LOG_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.PROPERTY_BEAN_MAP;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_APOLLO_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_ETCD3_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.CONFIG_CUSTOM_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_CONSUL_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_CUSTOM_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_ETCD3_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_EUREKA_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_NACOS_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_REDIS_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_SOFA_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_ZK_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.SEATA_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.SERVICE_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.SHUTDOWN_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.REGISTRY_CUSTOM_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.THREAD_FACTORY_PREFIX;\n import static io.seata.spring.boot.autoconfigure.StarterConstants.TRANSPORT_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.UNDO_PREFIX;\n-import static io.seata.spring.boot.autoconfigure.StarterConstants.LOAD_BALANCE_PREFIX;\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SHUTDOWN_PREFIX;\n \n /**\n- * The type Seata properties auto configuration\n- *\n  * @author xingfudeshi@gmail.com\n  */\n @ConditionalOnProperty(prefix = SEATA_PREFIX, name = \"enabled\", havingValue = \"true\", matchIfMissing = true)\n @ComponentScan(basePackages = \"io.seata.spring.boot.autoconfigure.properties\")\n-@AutoConfigureBefore({SeataAutoConfiguration.class, SeataDataSourceAutoConfiguration.class})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU0MDExODk2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-654011896", "createdAt": "2021-05-07T01:27:13Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMToyNzoxM1rOJWxyYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMToyNzoxM1rOJWxyYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzg2NDE2Mw==", "bodyText": "\u5347\u7ea7\u52302.3.10.RELEASE\u5427\uff0c\u4fee\u590d\u8fc7\u6ee1\u591aBUG\u7684\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627864163", "createdAt": "2021-05-07T01:27:13Z", "author": {"login": "wangliang181230"}, "path": "server/pom.xml", "diffHunk": "@@ -28,11 +28,36 @@\n     <name>seata-server ${project.version}</name>\n \n     <properties>\n+        <spring-boot.version>2.3.2.RELEASE</spring-boot.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU0MDI4MzEy", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-654028312", "createdAt": "2021-05-07T02:19:01Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMjoxOTowMVrOJWyrCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMjoxOTowMVrOJWyrCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzg3ODY2NQ==", "bodyText": "LogProperties\u662f\u901a\u7528\u7684\u3002\u76f8\u5173\u4ee3\u7801\u8bf7\u8f6c\u79fb\u5230core\u4e2d\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r627878665", "createdAt": "2021-05-07T02:19:01Z", "author": {"login": "wangliang181230"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/test/java/io/seata/spring/boot/autoconfigure/ClientPropertiesTest.java", "diffHunk": "@@ -0,0 +1,112 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure;\n+\n+import java.util.Map;\n+\n+import io.seata.spring.boot.autoconfigure.properties.client.LockProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.LogProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.RmProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.ServiceProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.TmProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.UndoProperties;\n+import io.seata.spring.boot.autoconfigure.properties.client.LoadBalanceProperties;\n+\n+import org.junit.jupiter.api.AfterAll;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.context.annotation.AnnotationConfigApplicationContext;\n+\n+import static io.seata.common.DefaultValues.DEFAULT_GLOBAL_TRANSACTION_TIMEOUT;\n+import static io.seata.common.DefaultValues.DEFAULT_TM_COMMIT_RETRY_COUNT;\n+import static io.seata.common.DefaultValues.DEFAULT_TM_ROLLBACK_RETRY_COUNT;\n+import static io.seata.common.DefaultValues.DEFAULT_TRANSACTION_UNDO_LOG_TABLE;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+/**\n+ * @author xingfudeshi@gmail.com\n+ */\n+public class ClientPropertiesTest {\n+    private static AnnotationConfigApplicationContext context;\n+\n+    @BeforeAll\n+    public static void initContext() {\n+        context = new AnnotationConfigApplicationContext(\"io.seata.spring.boot.autoconfigure.properties\");\n+    }\n+\n+    @Test\n+    public void testLockProperties() {\n+        assertEquals(10, context.getBean(LockProperties.class).getRetryInterval());\n+        assertEquals(30, context.getBean(LockProperties.class).getRetryTimes());\n+        assertTrue(context.getBean(LockProperties.class).isRetryPolicyBranchRollbackOnConflict());\n+    }\n+\n+    @Test\n+    public void testLogProperties() {\n+        assertEquals(100, context.getBean(LogProperties.class).getExceptionRate());\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU0MDM0OTI4", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-654034928", "createdAt": "2021-05-07T02:40:39Z", "commit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMjo0MDozOVrOJWzB2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wN1QwMjo0MDozOVrOJWzB2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzg4NDUwNA==", "bodyText": "\u8fd9\u4e2a\u6a21\u5757\u4e0d\u9700\u8981deploy\u5427\uff1f\u4e3a\u4ec0\u4e48\u8981\u628a\u8fd9\u4e2askip\u79fb\u9664\u6389\uff1f", "url": "https://github.com/seata/seata/pull/3009#discussion_r627884504", "createdAt": "2021-05-07T02:40:39Z", "author": {"login": "wangliang181230"}, "path": "distribution/pom.xml", "diffHunk": "@@ -101,16 +70,4 @@\n             </build>\n         </profile>\n     </profiles>\n-    <build>\n-        <plugins>\n-            <plugin>\n-                <groupId>org.apache.maven.plugins</groupId>\n-                <artifactId>maven-deploy-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09f31e01d26ff5a36dee520b1dda4ca5e1b6c4f"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd35ee9f4870de4db05cd40ced39b33bddf1613", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/3dd35ee9f4870de4db05cd40ced39b33bddf1613", "committedDate": "2021-05-12T04:10:25Z", "message": "feature #3009: Resolve code conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b1f7d1aa0e8f6afd6a052b4fd9b337f692f1b67", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/6b1f7d1aa0e8f6afd6a052b4fd9b337f692f1b67", "committedDate": "2021-05-12T05:01:50Z", "message": "feature #3009: add maven-deploy-plugin for seata-distribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/0dbb13d74f7c5866d4fd32c29dcdc64f30116b40", "committedDate": "2021-05-12T07:31:46Z", "message": "Resolve code conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU3NTY2NTQx", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-657566541", "createdAt": "2021-05-12T07:48:27Z", "commit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU3NTc0NDgx", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-657574481", "createdAt": "2021-05-12T07:57:10Z", "commit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQwNzo1NzoxMFrOJZlphQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQwNzo1NzoxMFrOJZlphQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDgxMTAxMw==", "bodyText": "\u52a0\u4e00\u884cchcp 65001\u5427\u3002\u8868\u793a\u7f16\u7801\u8f6c\u4e3aUTF-8\uff0c\u907f\u514d\u4e2d\u6587\u4e71\u7801\u3002", "url": "https://github.com/seata/seata/pull/3009#discussion_r630811013", "createdAt": "2021-05-12T07:57:10Z", "author": {"login": "wangliang181230"}, "path": "distribution/bin/seata-server.bat", "diffHunk": "@@ -0,0 +1,120 @@\n+@REM ----------------------------------------------------------------------------\n+@REM  Copyright 2001-2006 The Apache Software Foundation.\n+@REM\n+@REM  Licensed under the Apache License, Version 2.0 (the \"License\");\n+@REM  you may not use this file except in compliance with the License.\n+@REM  You may obtain a copy of the License at\n+@REM\n+@REM       http://www.apache.org/licenses/LICENSE-2.0\n+@REM\n+@REM  Unless required by applicable law or agreed to in writing, software\n+@REM  distributed under the License is distributed on an \"AS IS\" BASIS,\n+@REM  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+@REM  See the License for the specific language governing permissions and\n+@REM  limitations under the License.\n+@REM ----------------------------------------------------------------------------\n+@REM\n+@REM   Copyright (c) 2001-2006 The Apache Software Foundation.  All rights\n+@REM   reserved.\n+\n+@echo off\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU3NjQ4MzU2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-657648356", "createdAt": "2021-05-12T09:09:51Z", "commit": {"oid": "6b1f7d1aa0e8f6afd6a052b4fd9b337f692f1b67"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU3NzYyNTM0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-657762534", "createdAt": "2021-05-12T11:19:51Z", "commit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxMToxOTo1MVrOJZuLJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxMToxOTo1MVrOJZuLJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDk1MDY5Mw==", "bodyText": "Where s the enableCheckAuth and retryDeadThreshold?", "url": "https://github.com/seata/seata/pull/3009#discussion_r630950693", "createdAt": "2021-05-12T11:19:51Z", "author": {"login": "l81893521"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-server/src/main/java/io/seata/spring/boot/autoconfigure/properties/server/ServerProperties.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.spring.boot.autoconfigure.properties.server;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+import org.springframework.stereotype.Component;\n+\n+import java.time.Duration;\n+\n+import static io.seata.spring.boot.autoconfigure.StarterConstants.SERVER_PREFIX;\n+\n+/**\n+ * @author spilledyear@outlook.com\n+ */\n+@Component\n+@ConfigurationProperties(prefix = SERVER_PREFIX)\n+public class ServerProperties {\n+    private Duration maxCommitRetryTimeout = Duration.ofMillis(-1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dbb13d74f7c5866d4fd32c29dcdc64f30116b40"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14a74fbcefe6509b9974248f6b797976228e05cd", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/14a74fbcefe6509b9974248f6b797976228e05cd", "committedDate": "2021-05-12T14:02:15Z", "message": "feature #3009: add Properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/3a783bb41fd64fd080512ab65bc3cea112aa42e6", "committedDate": "2021-05-12T14:15:42Z", "message": "feature #3009: delete no use files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU4Nzg4NDE2", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-658788416", "createdAt": "2021-05-13T10:46:12Z", "commit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMDo0NjoxMlrOJadXIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMDo0NjoxMlrOJadXIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTcyMzgwOQ==", "bodyText": "Is necessary add more properties of SeataProperties?", "url": "https://github.com/seata/seata/pull/3009#discussion_r631723809", "createdAt": "2021-05-13T10:46:12Z", "author": {"login": "l81893521"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -1,6 +1,18 @@\n {\n   \"groups\": [],\n   \"properties\": [\n+    {\n+      \"name\": \"seata.application-id\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"${spring.application.name:}\"\n+    },\n+    {\n+      \"name\": \"seata.data-source-proxy-mode\",\n+      \"type\": \"java.lang.String\",\n+      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n+      \"defaultValue\": \"AT\"\n+    },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU4NzkxNzgz", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-658791783", "createdAt": "2021-05-13T10:51:40Z", "commit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMDo1MTo0MFrOJadhVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMDo1MTo0MFrOJadhVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTcyNjQyMA==", "bodyText": "Look like lack of tableMetaCheckerInterval", "url": "https://github.com/seata/seata/pull/3009#discussion_r631726420", "createdAt": "2021-05-13T10:51:40Z", "author": {"login": "l81893521"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -24,18 +36,7 @@\n         \"reason\": \"It may be removed in a future release, please configure to 'seata.tx-service-group'.\"\n       }\n     },\n-    {\n-      \"name\": \"seata.application-id\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n-      \"defaultValue\": \"${spring.application.name:}\"\n-    },\n-    {\n-      \"name\": \"seata.data-source-proxy-mode\",\n-      \"type\": \"java.lang.String\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.SeataProperties\",\n-      \"defaultValue\": \"AT\"\n-    },\n+\n     {\n       \"name\": \"seata.client.rm.async-commit-buffer-limit\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU4ODAyOTc0", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-658802974", "createdAt": "2021-05-13T11:09:45Z", "commit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMTowOTo0NVrOJaeC-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMTowOTo0NVrOJaeC-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTczNTAzNA==", "bodyText": "And please check ServiceProperties.", "url": "https://github.com/seata/seata/pull/3009#discussion_r631735034", "createdAt": "2021-05-13T11:09:45Z", "author": {"login": "l81893521"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-client/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -192,93 +193,23 @@\n       \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.UndoCompressProperties\",\n       \"defaultValue\": \"64k\"\n     },\n-    {\n-      \"name\": \"seata.client.log.exception-rate\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.LogProperties\",\n-      \"deprecation\": {\n-        \"level\": \"error\",\n-        \"replacement\": \"seata.log.exception-rate\",\n-        \"reason\": \"Please configure to 'seata.log.exception-rate'.\"\n-      }\n-    },\n-    {\n-      \"name\": \"seata.log.exception-rate\",\n-      \"type\": \"java.lang.Integer\",\n-      \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.LogProperties\",\n-      \"defaultValue\": 100\n-    },\n     {\n       \"name\": \"seata.service.disable-global-transaction\",\n       \"type\": \"java.lang.Boolean\",\n       \"sourceType\": \"io.seata.spring.boot.autoconfigure.properties.client.ServiceProperties\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjU4ODA1Mjgx", "url": "https://github.com/seata/seata/pull/3009#pullrequestreview-658805281", "createdAt": "2021-05-13T11:13:38Z", "commit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMToxMzozOFrOJaeKBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xM1QxMToxMzozOFrOJaeKBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTczNjgzNg==", "bodyText": "And check this file make sure each properties is right.", "url": "https://github.com/seata/seata/pull/3009#discussion_r631736836", "createdAt": "2021-05-13T11:13:38Z", "author": {"login": "l81893521"}, "path": "seata-spring-autoconfigure/seata-spring-autoconfigure-core/src/main/resources/META-INF/additional-spring-configuration-metadata.json", "diffHunk": "@@ -0,0 +1,166 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a783bb41fd64fd080512ab65bc3cea112aa42e6"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af1652e3e0c83792e42da1e8b25e22c351910c27", "author": {"user": {"login": "spilledyear", "name": "spilledyear"}}, "url": "https://github.com/seata/seata/commit/af1652e3e0c83792e42da1e8b25e22c351910c27", "committedDate": "2021-05-20T15:11:34Z", "message": "resolve the conflict"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3612, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}