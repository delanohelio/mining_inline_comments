{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwMTUyODU0", "number": 3325, "title": "bugfix: fix retry commit unsuccess when record subMachineInst failed", "bodyText": "\u2160. Describe what this PR did\nfix: \u5f53\u5b50\u72b6\u6001\u673a\u5b9e\u4f8b\u521b\u5efa\u5931\u8d25\u540e\uff0c\u4fee\u590d\u627e\u4e0d\u5230\u4e0a\u4e00\u6b21\u5b50\u72b6\u6001\u673a\u5b9e\u4f8b\uff0c\u5bfc\u81f4\u91cd\u8bd5\u4e00\u76f4\u5931\u8d25\u95ee\u9898\n\u2161. Does this pull request fix one issue?\n\nfixes #3324\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-12-01T09:20:09Z", "url": "https://github.com/seata/seata/pull/3325", "merged": true, "mergeCommit": {"oid": "7ba2e8180550b741535e3b964c84141f8ee09ca7"}, "closed": true, "closedAt": "2020-12-09T02:46:34Z", "author": {"login": "anselleeyy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh2EfhgH2gAyNTMwMTUyODU0OmM2ZjU0NDY2ODQwMjA0ZjEyY2JjMzA3MDVjNjY0MzNlMmY5NjI1NDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkVjemAFqTU0Nzc5NDU5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6f54466840204f12cbc30705c66433e2f962547", "author": {"user": {"login": "anselleeyy", "name": "Yaoyu Li"}}, "url": "https://github.com/seata/seata/commit/c6f54466840204f12cbc30705c66433e2f962547", "committedDate": "2020-12-01T08:56:31Z", "message": "bugfix: fix retry-commit failed on record subMachineInst failed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1875ca6b9161d4b34144b892a62ed8e5218cbced", "author": {"user": {"login": "anselleeyy", "name": "Yaoyu Li"}}, "url": "https://github.com/seata/seata/commit/1875ca6b9161d4b34144b892a62ed8e5218cbced", "committedDate": "2020-12-02T04:52:21Z", "message": "fix: use originalStateInst instead"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxOTAxMzQ5", "url": "https://github.com/seata/seata/pull/3325#pullrequestreview-541901349", "createdAt": "2020-12-01T13:39:18Z", "commit": {"oid": "c6f54466840204f12cbc30705c66433e2f962547"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMzozOToxOFrOH8s85Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxMzozOToxOFrOH8s85Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQxMzA5Mw==", "bodyText": "Need to use originalStateInst", "url": "https://github.com/seata/seata/pull/3325#discussion_r533413093", "createdAt": "2020-12-01T13:39:18Z", "author": {"login": "long187"}, "path": "saga/seata-saga-engine/src/main/java/io/seata/saga/engine/pcext/handlers/SubStateMachineHandler.java", "diffHunk": "@@ -190,9 +190,7 @@ private StateMachineInstance forwardStateMachine(Map<String, Object> startParams\n \n             return engine.forward(subInstId, startParams);\n         } else {\n-            throw new ForwardInvalidException(\n-                \"Cannot find sub statemachine [\" + subStateMachine.getStateMachineName() + \"]\",\n-                FrameworkErrorCode.ObjectNotExists);\n+            return startNewStateMachine(startParams, engine, stateInstance, subStateMachine);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6f54466840204f12cbc30705c66433e2f962547"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NzI0NDIy", "url": "https://github.com/seata/seata/pull/3325#pullrequestreview-546724422", "createdAt": "2020-12-08T03:48:05Z", "commit": {"oid": "1875ca6b9161d4b34144b892a62ed8e5218cbced"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3Nzk0NTk5", "url": "https://github.com/seata/seata/pull/3325#pullrequestreview-547794599", "createdAt": "2020-12-09T02:45:16Z", "commit": {"oid": "1875ca6b9161d4b34144b892a62ed8e5218cbced"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3528, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}