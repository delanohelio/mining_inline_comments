{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMzcwMzIz", "number": 3336, "title": "optimize: get netty config property from system properties.", "bodyText": "\u2160. Describe what this PR did\noptimize: get netty config property from system properties.\n\u2161. Does this pull request fix one issue?\n\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-12-04T08:18:15Z", "url": "https://github.com/seata/seata/pull/3336", "merged": true, "mergeCommit": {"oid": "f6193e30498ef791a22cf8cba9e6571f13c07d10"}, "closed": true, "closedAt": "2020-12-14T12:50:59Z", "author": {"login": "jsbxyyx"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdizQyGgH2gAyNTMyMzcwMzIzOmZiMzI1MTJhMDE5M2QyMGY5Zjg1NjNjODI2OWIyNWNmMjFhOTYzYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmTLLnAFqTU1MjEwOTE3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fb32512a0193d20f9f8563c8269b25cf21a963c3", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/fb32512a0193d20f9f8563c8269b25cf21a963c3", "committedDate": "2020-12-04T08:14:09Z", "message": "optimize: get netty config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/89d0c7178da6945bf9557f223eae902d6977c67f", "committedDate": "2020-12-04T08:18:34Z", "message": "Merge branch 'develop' into netty_config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTc1NDQx", "url": "https://github.com/seata/seata/pull/3336#pullrequestreview-544975441", "createdAt": "2020-12-04T13:52:31Z", "commit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzo1MjozMVrOH_Rz8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzo1MjozMVrOH_Rz8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjExNDE2Mw==", "bodyText": "\u8fd9\u6837\u7684\u914d\u7f6e\u786e\u5b9e\u770b\u8d77\u6765\u5f88\u65b9\u4fbf\uff0c \u53ea\u662f\u548c\u76ee\u524d\u7684\u914d\u7f6e\u65b9\u5f0f\u4e0d\u7edf\u4e00\u4e86\u3002\n\u6bd4\u5982\u4f60\u53ef\u4ee5\u53c2\u8003\u7236\u7c7b  NettyBaseConfig.BOSS_THREAD_PREFIX \u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u6bcf\u79cd\u65b9\u5f0f\u90fd\u53ef\u4ee5\u652f\u6301\u4f60\u76ee\u524d\u7684\u5199\u6cd5\uff0c \u6709\u9650\u4ece\u7cfb\u7edf\u5c5e\u6027\u4e2d\u83b7\u53d6\uff0c \u83b7\u53d6\u4e0d\u5230\u4f1a\u4ece\u914d\u7f6e\u4e2d\u5fc3\u83b7\u53d6\u3002", "url": "https://github.com/seata/seata/pull/3336#discussion_r536114163", "createdAt": "2020-12-04T13:52:31Z", "author": {"login": "ls9527"}, "path": "core/src/main/java/io/seata/core/rpc/netty/NettyServerConfig.java", "diffHunk": "@@ -33,16 +33,23 @@\n  */\n public class NettyServerConfig extends NettyBaseConfig {\n \n-    private int serverSelectorThreads = WORKER_THREAD_SIZE;\n-    private int serverSocketSendBufSize = 153600;\n-    private int serverSocketResvBufSize = 153600;\n+    private int serverSelectorThreads = Integer.parseInt(System.getProperty(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4OTAxNDA5", "url": "https://github.com/seata/seata/pull/3336#pullrequestreview-548901409", "createdAt": "2020-12-10T07:01:14Z", "commit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd26cc065edb7b6f3fb3b896515961baa1d42deb", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/bd26cc065edb7b6f3fb3b896515961baa1d42deb", "committedDate": "2020-12-11T05:49:22Z", "message": "fix: reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36f88fa226721f7efae392b6f2803662934d4685", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/36f88fa226721f7efae392b6f2803662934d4685", "committedDate": "2020-12-11T05:49:51Z", "message": "Merge branch 'netty_config' of https://github.com/jsbxyyx/seata into netty_config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTM1MzA5", "url": "https://github.com/seata/seata/pull/3336#pullrequestreview-551135309", "createdAt": "2020-12-14T08:27:19Z", "commit": {"oid": "36f88fa226721f7efae392b6f2803662934d4685"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMTA5MTc2", "url": "https://github.com/seata/seata/pull/3336#pullrequestreview-552109176", "createdAt": "2020-12-15T05:06:45Z", "commit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNTowNjo0NVrOIF5Iag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNTowNjo0NVrOIF5Iag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzA0OTgzNA==", "bodyText": "private int serverSocketSendBufSize = Integer.getInteger(TRANSPORT_PREFIX + \"serverSocketSendBufSize\", 153600);\n\u6539\u6210\u8fd9\u6837\u662f\u4e0d\u662f\u66f4\u76f4\u89c2\u70b9", "url": "https://github.com/seata/seata/pull/3336#discussion_r543049834", "createdAt": "2020-12-15T05:06:45Z", "author": {"login": "liaozan"}, "path": "core/src/main/java/io/seata/core/rpc/netty/NettyServerConfig.java", "diffHunk": "@@ -33,16 +33,23 @@\n  */\n public class NettyServerConfig extends NettyBaseConfig {\n \n-    private int serverSelectorThreads = WORKER_THREAD_SIZE;\n-    private int serverSocketSendBufSize = 153600;\n-    private int serverSocketResvBufSize = 153600;\n+    private int serverSelectorThreads = Integer.parseInt(System.getProperty(\n+            ConfigurationKeys.TRANSPORT_PREFIX + \"serverSelectorThreads\", String.valueOf(WORKER_THREAD_SIZE)));\n+    private int serverSocketSendBufSize = Integer.parseInt(System.getProperty(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d0c7178da6945bf9557f223eae902d6977c67f"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3533, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}