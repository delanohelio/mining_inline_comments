{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0MDcxOTIy", "number": 2242, "title": "optimize: optimize PreparedStatementProxy initialization logic", "bodyText": "\u2160. Describe what this PR did\n\u2002\u2002Change the data structure of ParameterHolder from 2 Dimension Array to Map so that we don't need to execute getParameterCount() while initializing PreparedStatementProxy,which will execute an additional business independent SQL query.\n\u2002\u2002A further explanation of the present deficiencies:\n\u2002\u2002If the ParameterHolder uses ArrayList as storage structure,  the method \"targetStatement.getParameterMetaData ().getparametercount()\" will be executed when initializing parameterholder to determine the size of the ArrayList. In some database drivers (such as postgressql), this method will execute a database query, which will lead to performance degradation. In addition,  this method may throw a SQLException , if that happen , the Exception that was thrown before the real business SQL will lead to an error that is hard to understand for the users.\n\u2161. Does this pull request fix one issue?\n\nfixes #2394\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-02-12T03:02:58Z", "url": "https://github.com/seata/seata/pull/2242", "merged": true, "mergeCommit": {"oid": "485facfcecd75daf81eb44168910572501259d4d"}, "closed": true, "closedAt": "2020-07-03T09:35:55Z", "author": {"login": "booogu"}, "timelineItems": {"totalCount": 78, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABbk4lcTgH2gAyMzc0MDcxOTIyOjg0NTQ2MTNiYTY5ZTY1OWZmNzQ1ODc0Y2NlYzE5M2QwYTM2YjE0NmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxQIHZgFqTQ0MjI4NDQxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8454613ba69e659ff745874ccec193d0a36b146e", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/8454613ba69e659ff745874ccec193d0a36b146e", "committedDate": "2019-11-09T03:11:47Z", "message": "restructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "387b7cbb08becf632ec62633c456e7c1fc77badc", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/387b7cbb08becf632ec62633c456e7c1fc77badc", "committedDate": "2019-11-09T06:38:09Z", "message": "Restructure SQLRecognizer and UndoExecutor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "472cb658328284dedb9b66d3369419428ce2616d", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/472cb658328284dedb9b66d3369419428ce2616d", "committedDate": "2019-11-11T06:35:24Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96de7fd8499b1a8344532465b92661485b59b2e1", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/96de7fd8499b1a8344532465b92661485b59b2e1", "committedDate": "2019-11-11T06:37:05Z", "message": "optimize concurrency of UndoExecutorGruopFactory and SQLRecognizerGroupFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4f090ff64ca12f4d9a47a51d8d88f70cba90804", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/d4f090ff64ca12f4d9a47a51d8d88f70cba90804", "committedDate": "2019-11-11T07:14:20Z", "message": "remove @version tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "550f6e12e528e0b891f7fa5244cfd75ad40aa9dc", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/550f6e12e528e0b891f7fa5244cfd75ad40aa9dc", "committedDate": "2019-11-11T08:13:55Z", "message": "add javaDoc;optimize UndoExecutorGroupFactory and SQLOperateRecognizerGroupFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0e250e7424b5c023e29c8cb302c90257fc6865f", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/b0e250e7424b5c023e29c8cb302c90257fc6865f", "committedDate": "2019-11-11T09:17:47Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d06df2e0f95590f70c50cede0e91a0769b88047a", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/d06df2e0f95590f70c50cede0e91a0769b88047a", "committedDate": "2019-11-12T01:04:52Z", "message": "rename **Group to **Holder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d46a4660cb487c73ddfc6da7bbab5122f7cda9f", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/3d46a4660cb487c73ddfc6da7bbab5122f7cda9f", "committedDate": "2019-11-12T01:06:40Z", "message": "Merge branch 'develop' of https://github.com/CharmingRabbit/seata into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28322ac0b56e79b26f156d9e927371ece2799c8b", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/28322ac0b56e79b26f156d9e927371ece2799c8b", "committedDate": "2019-11-12T10:07:28Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57fb2d033e654890bc34adf3f5f2a3001c7600a7", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/57fb2d033e654890bc34adf3f5f2a3001c7600a7", "committedDate": "2019-11-12T11:08:51Z", "message": "remove @data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3ae74a5359eec9b2d6fa7051cbe22f27ec79426", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c3ae74a5359eec9b2d6fa7051cbe22f27ec79426", "committedDate": "2019-11-12T11:10:06Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9a163e1535ded6ad4d93884a7e4e6d38b938423", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/e9a163e1535ded6ad4d93884a7e4e6d38b938423", "committedDate": "2019-11-12T11:10:36Z", "message": "Merge branch 'develop' of https://github.com/CharmingRabbit/seata into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78f456fc5e4af3f86fc117f43d6f21acd16dac86", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/78f456fc5e4af3f86fc117f43d6f21acd16dac86", "committedDate": "2019-11-13T04:52:40Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c0f5d28d0fe236ef2cb783435b2df1e28d672e1", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/8c0f5d28d0fe236ef2cb783435b2df1e28d672e1", "committedDate": "2019-11-13T09:24:52Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e9a6bdbc44384652899470b6185958fc11a69b4", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/3e9a6bdbc44384652899470b6185958fc11a69b4", "committedDate": "2019-11-14T01:18:52Z", "message": "fix NPE in UndoExecutorFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19ef256b49f428f07e88a4600850cccc2d900e47", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/19ef256b49f428f07e88a4600850cccc2d900e47", "committedDate": "2019-11-14T01:21:18Z", "message": "restructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43bc2c344dd8f44ad4f60dcadcbe54a6ba4ddbb1", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/43bc2c344dd8f44ad4f60dcadcbe54a6ba4ddbb1", "committedDate": "2019-11-14T01:21:19Z", "message": "Restructure SQLRecognizer and UndoExecutor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45a275caf806f3d9aae5edd7f27fcc27f5d1b9d8", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/45a275caf806f3d9aae5edd7f27fcc27f5d1b9d8", "committedDate": "2019-11-14T01:21:19Z", "message": "optimize concurrency of UndoExecutorGruopFactory and SQLRecognizerGroupFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96fe5e8e36bbd242ad44d05c767c3263a2e75be", "author": {"user": null}, "url": "https://github.com/seata/seata/commit/a96fe5e8e36bbd242ad44d05c767c3263a2e75be", "committedDate": "2019-11-14T01:21:20Z", "message": "remove @version tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5febb227411c5594506c9c8eb1fabf7ad7e40a0a", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/5febb227411c5594506c9c8eb1fabf7ad7e40a0a", "committedDate": "2019-11-14T01:21:21Z", "message": "add javaDoc;optimize UndoExecutorGroupFactory and SQLOperateRecognizerGroupFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9a3696a94eecda0715732aff2eca04b0ec5bc8c", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/b9a3696a94eecda0715732aff2eca04b0ec5bc8c", "committedDate": "2019-11-14T01:21:21Z", "message": "rename **Group to **Holder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca8813429e12ef93c754c05efd3c496a9acab069", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/ca8813429e12ef93c754c05efd3c496a9acab069", "committedDate": "2019-11-14T01:21:21Z", "message": "remove @data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05adb694c15ddff8379f3858afa8e821c44497f0", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/05adb694c15ddff8379f3858afa8e821c44497f0", "committedDate": "2019-11-14T01:21:21Z", "message": "optimize: xid header lowercase (#1789)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1b05a94656883c8ad4582dffa1581426715fce7", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/b1b05a94656883c8ad4582dffa1581426715fce7", "committedDate": "2019-11-14T01:21:21Z", "message": "clean: reformat saga module (#1890)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c5fe29ea4352dc7a01713e405ad228c4bdd52b5", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/2c5fe29ea4352dc7a01713e405ad228c4bdd52b5", "committedDate": "2019-11-14T01:21:21Z", "message": "fix NPE in UndoExecutorFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92bba972a2d761ca185dc256749b5194e199ffdc", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/92bba972a2d761ca185dc256749b5194e199ffdc", "committedDate": "2019-11-14T02:54:43Z", "message": "Merge branch 'develop' of https://github.com/CharmingRabbit/seata into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c116c9b0fb4b1e3e6cb6ff7c1ef77c2d453c8cd9", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c116c9b0fb4b1e3e6cb6ff7c1ef77c2d453c8cd9", "committedDate": "2019-11-14T12:02:14Z", "message": "merge latest code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59fe1cf5118baed2467d3d9b5471fc9a415f96fa", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/59fe1cf5118baed2467d3d9b5471fc9a415f96fa", "committedDate": "2019-11-14T12:04:39Z", "message": "bugfix:fix NPE in UndoExecutorFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "378e89c316845148800674914e9c740a03091178", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/378e89c316845148800674914e9c740a03091178", "committedDate": "2019-11-21T07:16:01Z", "message": "local commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8dcb893e02ee7d11f4692267c650a412aa4891e", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/b8dcb893e02ee7d11f4692267c650a412aa4891e", "committedDate": "2019-11-22T02:59:42Z", "message": "merge remote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9755622cb16b6014a7a8ed8a2ecb1c0e23551a65", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/9755622cb16b6014a7a8ed8a2ecb1c0e23551a65", "committedDate": "2019-11-22T02:59:54Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ade3c8529a29485631b6f639d29fb255a52cb24a", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/ade3c8529a29485631b6f639d29fb255a52cb24a", "committedDate": "2019-11-22T03:03:21Z", "message": "bugfix:A bug that will appear when the default constructor is declared private"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0867c6aac833153e6eeddef3b3929a5fd3fc162", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c0867c6aac833153e6eeddef3b3929a5fd3fc162", "committedDate": "2019-11-22T08:51:55Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fc4f5eacf38028b5bddbe726dfaff86159110f9", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/9fc4f5eacf38028b5bddbe726dfaff86159110f9", "committedDate": "2019-11-22T08:53:44Z", "message": "code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbf102fa9528b7cc8e6b2b40182520f589392731", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/dbf102fa9528b7cc8e6b2b40182520f589392731", "committedDate": "2019-11-23T09:00:46Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea397a7bf89d48a98a29385e5a3836edad7bdf5f", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/ea397a7bf89d48a98a29385e5a3836edad7bdf5f", "committedDate": "2019-11-24T07:24:40Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f4dd2bed800b7291fb6bbe69b82fd86340a6a85", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/3f4dd2bed800b7291fb6bbe69b82fd86340a6a85", "committedDate": "2019-11-29T03:44:56Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "028a80d963f9393724256bd6bcb0b54429b94404", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/028a80d963f9393724256bd6bcb0b54429b94404", "committedDate": "2019-11-29T13:10:28Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1968bb425a2ce25123fff1de6165f596e876be8", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/e1968bb425a2ce25123fff1de6165f596e876be8", "committedDate": "2019-12-02T07:34:12Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd36c51a528ee06691ca976f0c44f0fa4b0f25b7", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/fd36c51a528ee06691ca976f0c44f0fa4b0f25b7", "committedDate": "2019-12-02T07:34:45Z", "message": "Merge branch 'develop' of https://github.com/CharmingRabbit/seata into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f01d15f86cb359c5fe59826b7572352548afd378", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/f01d15f86cb359c5fe59826b7572352548afd378", "committedDate": "2019-12-05T11:26:23Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9aa49b922a67e8257b420166e2a1da724cd3eb0", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c9aa49b922a67e8257b420166e2a1da724cd3eb0", "committedDate": "2019-12-17T07:57:43Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f195d869e57125771712dc79439fb61241bfd3b4", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/f195d869e57125771712dc79439fb61241bfd3b4", "committedDate": "2019-12-30T00:55:57Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3399fff0c4bfd65b79afae3c8a55a66560f7410", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c3399fff0c4bfd65b79afae3c8a55a66560f7410", "committedDate": "2020-01-04T06:59:02Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac3a43e717e5601dc658016db28f4b40a60b35cb", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/ac3a43e717e5601dc658016db28f4b40a60b35cb", "committedDate": "2020-01-17T00:57:17Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c5fbdfeeec3905e9faf378d64ded71783021ab8", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/7c5fbdfeeec3905e9faf378d64ded71783021ab8", "committedDate": "2020-02-10T09:04:42Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b41d9f1c3920d3eeeee746e4ebf43ab4e99e24ed", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/b41d9f1c3920d3eeeee746e4ebf43ab4e99e24ed", "committedDate": "2020-02-11T07:12:43Z", "message": "Merge remote-tracking branch 'upstream/develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5eef46b9ca605b46c74e9cb574024df9105ae02b", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/5eef46b9ca605b46c74e9cb574024df9105ae02b", "committedDate": "2020-02-12T02:48:32Z", "message": "optimize: optimize PreparedStatementProxy initialization logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4272645971da0acadbb7d0e8ebd2eede272fc162", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/4272645971da0acadbb7d0e8ebd2eede272fc162", "committedDate": "2020-02-12T09:33:56Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0be6a4f3caa85efc0c3db138129bedf9b5ac577", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/b0be6a4f3caa85efc0c3db138129bedf9b5ac577", "committedDate": "2020-02-20T15:05:08Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05cf5c4896b97be0e8f58cfa4fcd3ff440b1343d", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/05cf5c4896b97be0e8f58cfa4fcd3ff440b1343d", "committedDate": "2020-02-22T08:10:21Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d678cf8ce76024a928d074d34185e79566d6cadf", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/d678cf8ce76024a928d074d34185e79566d6cadf", "committedDate": "2020-02-28T16:57:45Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ebbedcae1dcd3953a1636541e2718d364c8c657", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/7ebbedcae1dcd3953a1636541e2718d364c8c657", "committedDate": "2020-03-05T01:09:29Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39319068a3f8e44b91edb4e3fbb7fa567a693f42", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/39319068a3f8e44b91edb4e3fbb7fa567a693f42", "committedDate": "2020-03-06T12:58:05Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aff40a6b4a1649b6ca33bebc42e401ac7137934", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/9aff40a6b4a1649b6ca33bebc42e401ac7137934", "committedDate": "2020-03-15T16:11:24Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NTQ3Mjcy", "url": "https://github.com/seata/seata/pull/2242#pullrequestreview-377547272", "createdAt": "2020-03-19T09:25:49Z", "commit": {"oid": "9aff40a6b4a1649b6ca33bebc42e401ac7137934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwOToyNTo1MFrOF4mLeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwOToyNTo1MFrOF4mLeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg5MDEwNg==", "bodyText": "I think we should use a dynamic array instead of HashMap, because only random access capability is needed.", "url": "https://github.com/seata/seata/pull/2242#discussion_r394890106", "createdAt": "2020-03-19T09:25:50Z", "author": {"login": "ggndnn"}, "path": "rm-datasource/src/main/java/io/seata/rm/datasource/AbstractPreparedStatementProxy.java", "diffHunk": "@@ -49,14 +51,10 @@\n     /**\n      * The Parameters.\n      */\n-    protected ArrayList<Object>[] parameters;\n+    protected Map<Integer,ArrayList<Object>> parameters;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9aff40a6b4a1649b6ca33bebc42e401ac7137934"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NTQ4MjY0", "url": "https://github.com/seata/seata/pull/2242#pullrequestreview-377548264", "createdAt": "2020-03-19T09:27:09Z", "commit": {"oid": "9aff40a6b4a1649b6ca33bebc42e401ac7137934"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwOToyNzowOVrOF4mOig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwOToyNzowOVrOF4mOig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDg5MDg5MA==", "bodyText": "What's the purpose of op --? It looks inconsistent with method getParamsByIndex .", "url": "https://github.com/seata/seata/pull/2242#discussion_r394890890", "createdAt": "2020-03-19T09:27:09Z", "author": {"login": "ggndnn"}, "path": "rm-datasource/src/main/java/io/seata/rm/datasource/AbstractPreparedStatementProxy.java", "diffHunk": "@@ -103,7 +101,10 @@ public AbstractPreparedStatementProxy(AbstractConnectionProxy connectionProxy, P\n      * @param x     the x\n      */\n     protected void setParamByIndex(int index, Object x) {\n-        parameters[--index].add(x);\n+        if (!parameters.containsKey(--index)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9aff40a6b4a1649b6ca33bebc42e401ac7137934"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "530940f7df3ad0ebbefb8e3a62aef4ba9f787fb8", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/530940f7df3ad0ebbefb8e3a62aef4ba9f787fb8", "committedDate": "2020-03-23T07:16:17Z", "message": "Merge remote-tracking branch 'upstream/develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d7da987508c139dc8d5f4709f15cf1e594fb421", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/6d7da987508c139dc8d5f4709f15cf1e594fb421", "committedDate": "2020-03-24T05:41:31Z", "message": "make get() and set() in AbsPreparedStmtProxy has the same meaning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92c00900223385921da828e782a8636572a4c0df", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/92c00900223385921da828e782a8636572a4c0df", "committedDate": "2020-03-24T05:42:03Z", "message": "Merge remote-tracking branch 'upstream/develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04b9bef84926f063f970b3923a412e594132990d", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/04b9bef84926f063f970b3923a412e594132990d", "committedDate": "2020-03-25T00:42:24Z", "message": "Merge remote-tracking branch 'upstream/develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a4a0f24aafcde1bd82e048dec447f67c9315f5e", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/2a4a0f24aafcde1bd82e048dec447f67c9315f5e", "committedDate": "2020-04-10T03:41:19Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8afec660b3aee3a65e9b3931fa851ce1196558e", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/d8afec660b3aee3a65e9b3931fa851ce1196558e", "committedDate": "2020-04-10T13:31:44Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2271663002fc3406fa96480647ccc1e9981be888", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/2271663002fc3406fa96480647ccc1e9981be888", "committedDate": "2020-04-23T15:29:56Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca2eca31bce273c9d18751024152ca69b234da05", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/ca2eca31bce273c9d18751024152ca69b234da05", "committedDate": "2020-05-09T04:18:49Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "022a9112b7cd41cb4ed0f5103f371fd8b9397b36", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/022a9112b7cd41cb4ed0f5103f371fd8b9397b36", "committedDate": "2020-06-30T08:02:32Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3f06625d68d1e0b7acdcaf13a54974a57d6744b", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/c3f06625d68d1e0b7acdcaf13a54974a57d6744b", "committedDate": "2020-06-30T08:52:04Z", "message": "adjust unitTests to the new parameters data structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d6f8fefe9757646fdac5e43acc4c536da5b1f6a", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/2d6f8fefe9757646fdac5e43acc4c536da5b1f6a", "committedDate": "2020-06-30T09:20:09Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0b05c19aa9e6536d136784a23578c945d824ce2", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/b0b05c19aa9e6536d136784a23578c945d824ce2", "committedDate": "2020-06-30T10:17:55Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNzE0OTA3", "url": "https://github.com/seata/seata/pull/2242#pullrequestreview-440714907", "createdAt": "2020-07-01T09:46:35Z", "commit": {"oid": "b0b05c19aa9e6536d136784a23578c945d824ce2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0NjozNlrOGre2Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTo0NjozNlrOGre2Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI0NzM1OQ==", "bodyText": "if  need index+1 ?", "url": "https://github.com/seata/seata/pull/2242#discussion_r448247359", "createdAt": "2020-07-01T09:46:36Z", "author": {"login": "slievrly"}, "path": "sqlparser/seata-sqlparser-druid/src/main/java/io/seata/sqlparser/druid/oracle/BaseOracleRecognizer.java", "diffHunk": "@@ -50,7 +50,7 @@ public OracleOutputVisitor createOutputVisitor(final ParametersHolder parameters\n             @Override\n             public boolean visit(SQLVariantRefExpr x) {\n                 if (\"?\".equals(x.getName())) {\n-                    ArrayList<Object> oneParamValues = parametersHolder.getParameters()[x.getIndex()];\n+                    ArrayList<Object> oneParamValues = parametersHolder.getParameters().get(x.getIndex());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0b05c19aa9e6536d136784a23578c945d824ce2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "626ccdb8e0ecdbd8f53c42043a646b3980676131", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/626ccdb8e0ecdbd8f53c42043a646b3980676131", "committedDate": "2020-07-01T09:46:49Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbbcf9f3a786218566299f4f34d1c9c850d26e3d", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/bbbcf9f3a786218566299f4f34d1c9c850d26e3d", "committedDate": "2020-07-01T12:33:32Z", "message": "fix getParamByIndex in BaseDBRecognizer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bee5400d3be346dcce0653d30530422c6999e20a", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/bee5400d3be346dcce0653d30530422c6999e20a", "committedDate": "2020-07-01T13:12:07Z", "message": "code format and adjust test cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNTE4MjQ4", "url": "https://github.com/seata/seata/pull/2242#pullrequestreview-441518248", "createdAt": "2020-07-02T09:42:18Z", "commit": {"oid": "bee5400d3be346dcce0653d30530422c6999e20a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17cec1014ba332fa3886b5907d7f4e52baa4c454", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/17cec1014ba332fa3886b5907d7f4e52baa4c454", "committedDate": "2020-07-02T10:06:56Z", "message": "Merge branch 'develop' into f_parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3b2ede8860867a9b4c490926c7bebbd16c380ab", "author": {"user": {"login": "booogu", "name": "haozhibei"}}, "url": "https://github.com/seata/seata/commit/b3b2ede8860867a9b4c490926c7bebbd16c380ab", "committedDate": "2020-07-03T06:40:18Z", "message": "resolve conflicts with the feature multiPK"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMjg0NDEy", "url": "https://github.com/seata/seata/pull/2242#pullrequestreview-442284412", "createdAt": "2020-07-03T09:35:43Z", "commit": {"oid": "b3b2ede8860867a9b4c490926c7bebbd16c380ab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4005, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}