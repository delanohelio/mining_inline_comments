{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzk4NTI5", "number": 2179, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMzo1ODowNlrODXug_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwMDo1Njo1MFrODZr40g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MjA1OTQ5OnYy", "diffSide": "RIGHT", "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/registry/RegistryRedisProperties.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMzo1ODowNlrOFdLmSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMzo1ODowNlrOFdLmSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjE0MzA0OA==", "bodyText": "@guojingyinan219 Can you adapt other attributes of redis?\n\nThis pr is also good, other attributes are not optional.", "url": "https://github.com/seata/seata/pull/2179#discussion_r366143048", "createdAt": "2020-01-14T03:58:06Z", "author": {"login": "slievrly"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/registry/RegistryRedisProperties.java", "diffHunk": "@@ -27,7 +27,11 @@\n @ConfigurationProperties(prefix = REGISTRY_REDIS_PREFIX)\n public class RegistryRedisProperties {\n     private String serverAddr = \"localhost:6379\";\n-    private String db = \"0\";\n+    private int db = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "62ac72e2aa57d8da48b635be3fa64a38e28332fa"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NTY3MjM0OnYy", "diffSide": "RIGHT", "path": "seata-spring-boot-starter/src/main/resources/spring/redis_auto_injectio_test.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwNjowNzo1M1rOFduGmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwNjowNzo1M1rOFduGmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcwODM3Ng==", "bodyText": "@guojingyinan219 remove to test/resource ?", "url": "https://github.com/seata/seata/pull/2179#discussion_r366708376", "createdAt": "2020-01-15T06:07:53Z", "author": {"login": "slievrly"}, "path": "seata-spring-boot-starter/src/main/resources/spring/redis_auto_injectio_test.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  ~  Copyright 1999-2019 Seata.io Group.\n+  ~\n+  ~  Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~  you may not use this file except in compliance with the License.\n+  ~  You may obtain a copy of the License at\n+  ~\n+  ~       http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~  Unless required by applicable law or agreed to in writing, software\n+  ~  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~  See the License for the specific language governing permissions and\n+  ~  limitations under the License.\n+  -->\n+\n+<beans xmlns=\"http://www.springframework.org/schema/beans\"\n+       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+       xmlns:context=\"http://www.springframework.org/schema/context\"\n+       xsi:schemaLocation=\"\n+\t   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n+       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\">\n+\n+\n+    <bean id=\"registryRedisProperties\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e48ed1705f13fb229aa3737d797bc46b0830305"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2OTE2NTg3OnYy", "diffSide": "RIGHT", "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/registry/RegistryRedisProperties.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQwNjo1NTo1NVrOFePlpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQwNDoxNjowM1rOFfNFLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzI1Njk5Nw==", "bodyText": "Please add these config items into files under script folder.", "url": "https://github.com/seata/seata/pull/2179#discussion_r367256997", "createdAt": "2020-01-16T06:55:55Z", "author": {"login": "xingfudeshi"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/registry/RegistryRedisProperties.java", "diffHunk": "@@ -27,7 +27,11 @@\n @ConfigurationProperties(prefix = REGISTRY_REDIS_PREFIX)\n public class RegistryRedisProperties {\n     private String serverAddr = \"localhost:6379\";\n-    private String db = \"0\";\n+    private int db = 0;\n+    private String password;\n+    private String cluster;\n+    private int timeout = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf9d2eb4758bf21e8ee76e8d01bcae3b81167601"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI2NDQ5Mg==", "bodyText": "https://github.com/seata/seata/blob/develop/script/client/conf/registry.conf\nhttps://github.com/seata/seata/tree/develop/script/client/spring", "url": "https://github.com/seata/seata/pull/2179#discussion_r368264492", "createdAt": "2020-01-19T04:16:03Z", "author": {"login": "slievrly"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/registry/RegistryRedisProperties.java", "diffHunk": "@@ -27,7 +27,11 @@\n @ConfigurationProperties(prefix = REGISTRY_REDIS_PREFIX)\n public class RegistryRedisProperties {\n     private String serverAddr = \"localhost:6379\";\n-    private String db = \"0\";\n+    private int db = 0;\n+    private String password;\n+    private String cluster;\n+    private int timeout = 0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzI1Njk5Nw=="}, "originalCommit": {"oid": "cf9d2eb4758bf21e8ee76e8d01bcae3b81167601"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MjYwMDUwOnYy", "diffSide": "RIGHT", "path": "seata-spring-boot-starter/src/test/java/io/seata/spring/boot/autoconfigure/RedisAutoInjectionTypeConvertTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwMDo1Njo1MFrOFgNs2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwMDo1Njo1MFrOFgNs2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTMyMzIyNA==", "bodyText": "Please remove annotations other than @Author.Thank u.", "url": "https://github.com/seata/seata/pull/2179#discussion_r369323224", "createdAt": "2020-01-22T00:56:50Z", "author": {"login": "xingfudeshi"}, "path": "seata-spring-boot-starter/src/test/java/io/seata/spring/boot/autoconfigure/RedisAutoInjectionTypeConvertTest.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package io.seata.spring.boot.autoconfigure;\n+\n+import io.seata.common.loader.EnhancedServiceLoader;\n+import io.seata.config.Configuration;\n+import io.seata.config.ExtConfigurationProvider;\n+import io.seata.config.FileConfiguration;\n+import io.seata.spring.boot.autoconfigure.properties.registry.RegistryRedisProperties;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.context.ApplicationContext;\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\n+\n+import static org.mockito.Mockito.mock;\n+\n+/**\n+ * @version 1.0\n+ * @ClassName RedisAutoInjectionTypeConvertTest\n+ * @Description\n+ * @Author zhangheng\n+ * @Date 2020/1/14 17:09", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba7115177bb044df8634e606d27f6cb9c2f6ed75"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1743, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}