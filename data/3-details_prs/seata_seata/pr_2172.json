{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNzg4NzI2", "number": 2172, "title": "bugfix: fix configuration center can't read configuration using SpringCloudConfig", "bodyText": "\u2160. Describe what this PR did\nFix configuration center cannot read configuration using SpringCloudConfig\n\u2161. Does this pull request fix one issue?\n\nfixes #2104\n\u2162. Why don't you add test cases (unit test/integration test)?\nI've done integration testing and already added a UT.\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-01-12T02:51:43Z", "url": "https://github.com/seata/seata/pull/2172", "merged": true, "mergeCommit": {"oid": "1f226264efeba6e40ccdcb9cfa9945e4021aadb4"}, "closed": true, "closedAt": "2020-02-05T07:29:11Z", "author": {"login": "xingfudeshi"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5ekEvAH2gAyMzYxNzg4NzI2OjE1Yjk5OTc1Yjg1YTc0ZmM3ZGE2NWJiZmEwOTk5NGRlNDY2YWI2MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBQ3clgH2gAyMzYxNzg4NzI2OjkzNmRkMzY3MjJmNzI1NWJkYzkwMTQyMGM4NGMyMmZiNDc3OTBmMjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "15b99975b85a74fc7da65bbfa09994de466ab621", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/15b99975b85a74fc7da65bbfa09994de466ab621", "committedDate": "2020-01-12T02:45:10Z", "message": "fix#2104 merge SpringUtils and SpringContextProvider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c3902b034ca9b3f402aab5f022ede35cea3a55", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/90c3902b034ca9b3f402aab5f022ede35cea3a55", "committedDate": "2020-01-12T02:53:13Z", "message": "fix bean name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cccd9131f4001454907f834adbc758c2c74b602", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/6cccd9131f4001454907f834adbc758c2c74b602", "committedDate": "2020-01-12T03:05:04Z", "message": "change bean name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "509c5eaf0ac529553670926e9cde3e0d89410050", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/509c5eaf0ac529553670926e9cde3e0d89410050", "committedDate": "2020-01-12T03:25:05Z", "message": "add UT."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "227ca61946dd463b13fb619318dbc46c1ea5339b", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/227ca61946dd463b13fb619318dbc46c1ea5339b", "committedDate": "2020-01-13T10:40:48Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52b865b34eeabd22945da463ad4dc9c53dfeea42", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/52b865b34eeabd22945da463ad4dc9c53dfeea42", "committedDate": "2020-01-14T14:37:23Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d68424cdd7a488fa92a594b506f4a55616189827", "author": {"user": {"login": "lovepoem", "name": "Xin Wang"}}, "url": "https://github.com/seata/seata/commit/d68424cdd7a488fa92a594b506f4a55616189827", "committedDate": "2020-01-15T02:58:14Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "093070faac0ea321f0ab906d173267fb657542ec", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/093070faac0ea321f0ab906d173267fb657542ec", "committedDate": "2020-01-15T03:06:45Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyOTcyODY4", "url": "https://github.com/seata/seata/pull/2172#pullrequestreview-342972868", "createdAt": "2020-01-15T03:34:24Z", "commit": {"oid": "093070faac0ea321f0ab906d173267fb657542ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwMzozNDoyNFrOFdsiWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwMzozNDoyNFrOFdsiWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY4MjcxMw==", "bodyText": "extract SeataSpringApplicationContextHolder.getApplicationContext()", "url": "https://github.com/seata/seata/pull/2172#discussion_r366682713", "createdAt": "2020-01-15T03:34:24Z", "author": {"login": "jsbxyyx"}, "path": "config/seata-config-spring-cloud/src/main/java/io/seata/config/springcloud/SpringCloudConfiguration.java", "diffHunk": "@@ -49,10 +50,10 @@ public String getTypeName() {\n \n     @Override\n     public String getConfig(String dataId, String defaultValue, long timeoutMills) {\n-        if (null == SpringContextProvider.getEnvironment()) {\n+        if (null == SeataSpringApplicationContextHolder.getApplicationContext() || null == SeataSpringApplicationContextHolder.getApplicationContext().getEnvironment()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "093070faac0ea321f0ab906d173267fb657542ec"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8386332e6b0bebea5aec8d7b2a9b0bc6c9cc8ef", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/f8386332e6b0bebea5aec8d7b2a9b0bc6c9cc8ef", "committedDate": "2020-01-15T03:45:46Z", "message": "fix reviews."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "908a9fe321f1ed60a8c2e22d0fcee775bb33b670", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/908a9fe321f1ed60a8c2e22d0fcee775bb33b670", "committedDate": "2020-01-16T01:47:05Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa9f15df799d9ad1b192214c008c22a30ad595c5", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/fa9f15df799d9ad1b192214c008c22a30ad595c5", "committedDate": "2020-01-16T09:36:42Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "545a3393388ff459c164a03ecc5299b50d88451f", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/545a3393388ff459c164a03ecc5299b50d88451f", "committedDate": "2020-01-18T11:34:00Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b3af9d1adda551bc346a9cb961c4934e86ad3c7", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/7b3af9d1adda551bc346a9cb961c4934e86ad3c7", "committedDate": "2020-01-19T06:04:25Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80552cdf35d430fd07ae7679fa775a64a5471897", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/80552cdf35d430fd07ae7679fa775a64a5471897", "committedDate": "2020-01-19T09:32:06Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e51bff198bbcfbdd7ed3398b87be79203bed2d2", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/5e51bff198bbcfbdd7ed3398b87be79203bed2d2", "committedDate": "2020-01-22T04:21:11Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95f349177616680f3960328ef1272059cffa92ef", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/95f349177616680f3960328ef1272059cffa92ef", "committedDate": "2020-01-22T13:11:16Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36b47144eef9769be1e89fc4e281da53e90571de", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/36b47144eef9769be1e89fc4e281da53e90571de", "committedDate": "2020-01-23T02:32:53Z", "message": "optimize UT."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe4538850f7b75ac578c2d0e45382d7508f7e535", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/fe4538850f7b75ac578c2d0e45382d7508f7e535", "committedDate": "2020-01-23T02:50:14Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcf845de1661c828c9135d7757de85fb27fded2f", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/bcf845de1661c828c9135d7757de85fb27fded2f", "committedDate": "2020-01-23T05:42:26Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "108e212ac6be6cf6a52045339dde7cef109fd986", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/108e212ac6be6cf6a52045339dde7cef109fd986", "committedDate": "2020-01-23T11:16:16Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3MzI3NDQ2", "url": "https://github.com/seata/seata/pull/2172#pullrequestreview-347327446", "createdAt": "2020-01-23T14:16:05Z", "commit": {"oid": "108e212ac6be6cf6a52045339dde7cef109fd986"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNDoxNjowNlrOFg_org==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNDoxNjowNlrOFg_org==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDE0MTM1OA==", "bodyText": "seata-spring depends on tm, rm, rm-datasource, etc. It is recommended to exclude all.", "url": "https://github.com/seata/seata/pull/2172#discussion_r370141358", "createdAt": "2020-01-23T14:16:06Z", "author": {"login": "zjinlei"}, "path": "config/seata-config-spring-cloud/pom.xml", "diffHunk": "@@ -18,8 +18,9 @@\n             <version>${project.parent.version}</version>\n         </dependency>\n         <dependency>\n-            <groupId>org.springframework</groupId>\n-            <artifactId>spring-context</artifactId>\n+            <groupId>io.seata</groupId>\n+            <artifactId>seata-spring</artifactId>\n+            <version>${project.parent.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "108e212ac6be6cf6a52045339dde7cef109fd986"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7eefd869e27fe7ad4e4626f31536bd782a00172", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/b7eefd869e27fe7ad4e4626f31536bd782a00172", "committedDate": "2020-01-23T16:22:13Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd2199f1c048aac7ac662d1809ff681b6adbc00d", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/cd2199f1c048aac7ac662d1809ff681b6adbc00d", "committedDate": "2020-01-24T02:08:32Z", "message": "add copyright comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "076b937f03d1c8f44d03292a6b285efb9ae87b4e", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/076b937f03d1c8f44d03292a6b285efb9ae87b4e", "committedDate": "2020-01-24T02:21:50Z", "message": "fix review."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d95e38e22bc995719ecd29578f50af3081321e7", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/6d95e38e22bc995719ecd29578f50af3081321e7", "committedDate": "2020-01-24T02:41:01Z", "message": "fix review."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8de41e034ea098da87089856d1ef74ae6d08570", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/d8de41e034ea098da87089856d1ef74ae6d08570", "committedDate": "2020-01-25T02:14:31Z", "message": "fix reviews."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5548d3ad999e378c1831e2689b750c31542f5800", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/5548d3ad999e378c1831e2689b750c31542f5800", "committedDate": "2020-01-25T09:29:54Z", "message": "fix constant name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c95b52e55bba46dcd108a76dd4aea24e8ffc037", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/7c95b52e55bba46dcd108a76dd4aea24e8ffc037", "committedDate": "2020-01-25T10:09:33Z", "message": "avoid duplicate operations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a3379901abed5b7ec30616003b0fc213d7bc69b", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/5a3379901abed5b7ec30616003b0fc213d7bc69b", "committedDate": "2020-02-04T14:08:17Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTA4NTY1", "url": "https://github.com/seata/seata/pull/2172#pullrequestreview-353108565", "createdAt": "2020-02-04T16:16:17Z", "commit": {"oid": "5a3379901abed5b7ec30616003b0fc213d7bc69b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70f24baae0bbf229754f15a25d9652831406f7fa", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/70f24baae0bbf229754f15a25d9652831406f7fa", "committedDate": "2020-02-05T05:20:41Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ab3df1edb8fa021616867adb308f80a4581d4ac", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/7ab3df1edb8fa021616867adb308f80a4581d4ac", "committedDate": "2020-02-05T05:22:10Z", "message": "Merge branch 'develop' into fix_2104"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNDk4MDU4", "url": "https://github.com/seata/seata/pull/2172#pullrequestreview-353498058", "createdAt": "2020-02-05T06:56:01Z", "commit": {"oid": "7ab3df1edb8fa021616867adb308f80a4581d4ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "936dd36722f7255bdc901420c84c22fb47790f29", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/936dd36722f7255bdc901420c84c22fb47790f29", "committedDate": "2020-02-05T07:19:03Z", "message": "Merge branch 'develop' into fix_2104"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4137, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}