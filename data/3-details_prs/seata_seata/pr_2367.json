{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NzAzMjA4", "number": 2367, "title": "feature:added permission configuration support for nacos 1.2", "bodyText": "\u2160. Describe what this PR did\nadded permission configuration support for nacos 1.2\n\u2161. Does this pull request fix one issue?\n\n#2365\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-03-06T08:51:31Z", "url": "https://github.com/seata/seata/pull/2367", "merged": true, "mergeCommit": {"oid": "6ddcf2763ecec11e488e6dbd6e60049953a4d0c5"}, "closed": true, "closedAt": "2020-03-19T16:46:17Z", "author": {"login": "a364176773"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcK8FlsAH2gAyMzg0NzAzMjA4OjM5MmNiOWViMDc0MjE3MTUwNWM5YTBmNDNhNzU2OTU4YmQyZGNmMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPKBNVgFqTM3NzYyNDY2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "392cb9eb0742171505c9a0f43a756958bd2dcf2d", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/392cb9eb0742171505c9a0f43a756958bd2dcf2d", "committedDate": "2020-03-06T08:45:44Z", "message": "added permission configuration support for nacos 1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e804abf19407cb0db8bff53a273092f17a6ae864", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/e804abf19407cb0db8bff53a273092f17a6ae864", "committedDate": "2020-03-06T08:54:07Z", "message": "remove excess dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5613e063e269bd47ee7d1802f004209841e3eeb", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/c5613e063e269bd47ee7d1802f004209841e3eeb", "committedDate": "2020-03-06T09:02:33Z", "message": "server added nacos configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e308be09b644de4d244a9db73bcafc00f4c9b55", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/8e308be09b644de4d244a9db73bcafc00f4c9b55", "committedDate": "2020-03-06T09:08:34Z", "message": "supplement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/45b2471fd1b28165883f903c55cffd77f7216f02", "committedDate": "2020-03-06T09:29:04Z", "message": "uniform code style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODM0MDkz", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-370834093", "createdAt": "2020-03-08T14:26:57Z", "commit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxNDoyNjo1N1rOFzVhig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxNDoyNjo1N1rOFzVhig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM3NDM0Ng==", "bodyText": "Would it be better to write like this\uff1a\nString userName = StringUtils.isNotBlank(System.getProperty(USER_NAME))\n            ? System.getProperty(USER_NAME)\n            : FILE_CONFIG.getConfig(getNacosUserName());\n        String password = StringUtils.isNotBlank(System.getProperty(PASSWORD))\n            ? System.getProperty(PASSWORD)\n            : FILE_CONFIG.getConfig(getNacosPassword());\n        if (StringUtils.isNotBlank(userName) && StringUtils.isNotBlank(password)) {\n            properties.setProperty(USER_NAME, userName);\n            properties.setProperty(PASSWORD, password);\n        }", "url": "https://github.com/seata/seata/pull/2367#discussion_r389374346", "createdAt": "2020-03-08T14:26:57Z", "author": {"login": "objcoding"}, "path": "config/seata-config-nacos/src/main/java/io/seata/config/nacos/NacosConfiguration.java", "diffHunk": "@@ -191,6 +194,17 @@ private static Properties getConfigProperties() {\n             }\n             properties.setProperty(PRO_NAMESPACE_KEY, namespace);\n         }\n+        if (StringUtils.isNotBlank(System.getProperty(USER_NAME))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODM0Mzc4", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-370834378", "createdAt": "2020-03-08T14:31:06Z", "commit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c72ea0fef327fe27754e77ddfb7e8291e6da6c31", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/c72ea0fef327fe27754e77ddfb7e8291e6da6c31", "committedDate": "2020-03-08T14:45:25Z", "message": "modify code logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODM1MDEw", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-370835010", "createdAt": "2020-03-08T14:40:53Z", "commit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxNDo0MDo1M1rOFzVlvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxNDo0MDo1M1rOFzVlvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM3NTQyMQ==", "bodyText": "Would it be better to write like this\uff1a\nString userName = StringUtils.isNotBlank(System.getProperty(USER_NAME))\n            ? System.getProperty(USER_NAME)\n            : FILE_CONFIG.getConfig(getNacosUserName());\n        String password = StringUtils.isNotBlank(System.getProperty(PASSWORD))\n            ? System.getProperty(PASSWORD)\n            : FILE_CONFIG.getConfig(getNacosPassword());\n        if (StringUtils.isNotBlank(userName) && StringUtils.isNotBlank(password)) {\n            properties.setProperty(USER_NAME, userName);\n            properties.setProperty(PASSWORD, password);\n        }\n\nthx,i under reference", "url": "https://github.com/seata/seata/pull/2367#discussion_r389375421", "createdAt": "2020-03-08T14:40:53Z", "author": {"login": "a364176773"}, "path": "config/seata-config-nacos/src/main/java/io/seata/config/nacos/NacosConfiguration.java", "diffHunk": "@@ -191,6 +194,17 @@ private static Properties getConfigProperties() {\n             }\n             properties.setProperty(PRO_NAMESPACE_KEY, namespace);\n         }\n+        if (StringUtils.isNotBlank(System.getProperty(USER_NAME))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM3NDM0Ng=="}, "originalCommit": {"oid": "45b2471fd1b28165883f903c55cffd77f7216f02"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8a9e121494116063ec0aed88c6ace469b2c4ee8", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/b8a9e121494116063ec0aed88c6ace469b2c4ee8", "committedDate": "2020-03-08T15:27:48Z", "message": "nacos the registry supports authentication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b95395653462887d9923cad9baf6b2e0ac99f8c3", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/b95395653462887d9923cad9baf6b2e0ac99f8c3", "committedDate": "2020-03-08T15:37:17Z", "message": "supplement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "340639ef9a1800a9d3d53f8f34d3c46777d5c988", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/340639ef9a1800a9d3d53f8f34d3c46777d5c988", "committedDate": "2020-03-10T09:43:13Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c4fa389b6fc8c7f2ec7362781c564200e34b051", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/0c4fa389b6fc8c7f2ec7362781c564200e34b051", "committedDate": "2020-03-11T12:13:52Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0a2830e56c664c9d7a1224b6fe11daf0eae4b4c", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/e0a2830e56c664c9d7a1224b6fe11daf0eae4b4c", "committedDate": "2020-03-12T07:45:00Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "078af3f921affd2d53b77d580b15b593ba8dd6db", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/078af3f921affd2d53b77d580b15b593ba8dd6db", "committedDate": "2020-03-15T16:12:31Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODk5MDU5", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-374899059", "createdAt": "2020-03-16T03:53:38Z", "commit": {"oid": "078af3f921affd2d53b77d580b15b593ba8dd6db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9e37de5b3eb222e60f67b4f730d0f9f94cacbff", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/b9e37de5b3eb222e60f67b4f730d0f9f94cacbff", "committedDate": "2020-03-17T05:14:34Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd99eb31062b66015d20962d06ab2cbadc46a1b2", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/dd99eb31062b66015d20962d06ab2cbadc46a1b2", "committedDate": "2020-03-18T01:22:31Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2ODM4ODEz", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-376838813", "createdAt": "2020-03-18T13:00:51Z", "commit": {"oid": "dd99eb31062b66015d20962d06ab2cbadc46a1b2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daa3fad04f38aa17e968ee52485832eb74c741d3", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/daa3fad04f38aa17e968ee52485832eb74c741d3", "committedDate": "2020-03-19T01:43:26Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "682997b3a8c630fb4f392b98c55e73b585662178", "author": {"user": {"login": "l81893521", "name": "will"}}, "url": "https://github.com/seata/seata/commit/682997b3a8c630fb4f392b98c55e73b585662178", "committedDate": "2020-03-19T11:14:48Z", "message": "Merge branch 'develop' into nacos1.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjI0NjY1", "url": "https://github.com/seata/seata/pull/2367#pullrequestreview-377624665", "createdAt": "2020-03-19T11:15:19Z", "commit": {"oid": "682997b3a8c630fb4f392b98c55e73b585662178"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4058, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}