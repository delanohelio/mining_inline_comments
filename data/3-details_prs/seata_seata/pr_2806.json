{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1Njc4NDcw", "number": 2806, "title": "feature: support configuring default global transaction timeoutMillis", "bodyText": "\u2160. Describe what this PR did\noptimize: Configurable default global transaction timeoutMillis\nseata.client.tm.default-global-transaction-timeout=60000\n\u2161. Does this pull request fix one issue?\n\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-06-17T08:10:16Z", "url": "https://github.com/seata/seata/pull/2806", "merged": true, "mergeCommit": {"oid": "17fa7c28de9644c379e28295a83ce7319d50d076"}, "closed": true, "closedAt": "2020-08-28T03:32:16Z", "author": {"login": "wangliang181230"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsFRtSgH2gAyNDM1Njc4NDcwOmVhZGM3MGI2M2UyMjYwNTBmNmQ4NTg4OWEwNjY4Nzg1MmJhZWVkNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdaY4XKgFqTUyNTcwNDYxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eadc70b63e226050f6d85889a06687852baeed69", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/eadc70b63e226050f6d85889a06687852baeed69", "committedDate": "2020-06-17T08:07:37Z", "message": "optimize: Configurable global transaction timeoutMillis"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMTg3NDIw", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-432187420", "createdAt": "2020-06-17T08:45:15Z", "commit": {"oid": "eadc70b63e226050f6d85889a06687852baeed69"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODo0NToxNVrOGk76rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODo0NToxNVrOGk76rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM4MzU5Ng==", "bodyText": "not elegant.", "url": "https://github.com/seata/seata/pull/2806#discussion_r441383596", "createdAt": "2020-06-17T08:45:15Z", "author": {"login": "slievrly"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactional.java", "diffHunk": "@@ -33,10 +32,11 @@\n \n     /**\n      * Global transaction timeoutMills in MILLISECONDS.\n+     * The default value is the config: client.tm.global-transaction-timeout\n      *\n      * @return timeoutMills in MILLISECONDS.\n      */\n-    int timeoutMills() default TransactionInfo.DEFAULT_TIME_OUT;\n+    int timeoutMills() default -1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eadc70b63e226050f6d85889a06687852baeed69"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52c535c196f6aef9c8bea7137eaedeb6959d54ad", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/52c535c196f6aef9c8bea7137eaedeb6959d54ad", "committedDate": "2020-06-17T10:32:30Z", "message": "\u6ce8\u89e3\u503c\u66f4\u4f18\u96c5\u3002"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMzQyNjIx", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-432342621", "createdAt": "2020-06-17T12:20:09Z", "commit": {"oid": "52c535c196f6aef9c8bea7137eaedeb6959d54ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMjoyMDowOVrOGlDHzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMjoyMDowOVrOGlDHzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUwMTY0NA==", "bodyText": "if GLOBAL_TRANSACTION_TIMEOUT is  an illegal value\uff0chow to process\uff1f", "url": "https://github.com/seata/seata/pull/2806#discussion_r441501644", "createdAt": "2020-06-17T12:20:09Z", "author": {"login": "slievrly"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -151,8 +154,13 @@ public String name() {\n \n                 @Override\n                 public TransactionInfo getTransactionInfo() {\n+                    int timeout = globalTrxAnno.timeoutMills();\n+                    if (timeout <= 0 || timeout == DEFAULT_GLOBAL_TRANSACTION_TIMEOUT) {\n+                        timeout = GLOBAL_TRANSACTION_TIMEOUT;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52c535c196f6aef9c8bea7137eaedeb6959d54ad"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d4e581727fdfcde3f8c93b630822306ce7ba160", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/7d4e581727fdfcde3f8c93b630822306ce7ba160", "committedDate": "2020-06-17T12:20:47Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609", "committedDate": "2020-06-17T15:17:07Z", "message": "\u5904\u7406\u975e\u6cd5\u7684\u4ee5\u53ca\u4e0d\u5408\u7406\u7684timeout\u7684\u503c\u3002"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTQ3NjUz", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-433947653", "createdAt": "2020-06-19T09:51:55Z", "commit": {"oid": "cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwOTo1MTo1NVrOGmO-UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwOTo1MTo1NVrOGmO-UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc0NDQwMA==", "bodyText": "why not move to the constructor block?", "url": "https://github.com/seata/seata/pull/2806#discussion_r442744400", "createdAt": "2020-06-19T09:51:55Z", "author": {"login": "a364176773"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -74,6 +74,33 @@\n     private static ScheduledThreadPoolExecutor executor =\n         new ScheduledThreadPoolExecutor(1, new NamedThreadFactory(\"degradeCheckWorker\", 1, true));\n \n+    //region GLOBAL_TRANSACTION_TIMEOUT\n+\n+    private static int GLOBAL_TRANSACTION_TIMEOUT;\n+    private static int MIN_GLOBAL_TRANSACTION_TIMEOUT = DEFAULT_GLOBAL_TRANSACTION_TIMEOUT / 2;\n+\n+    static {\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "638739599d20f6d17f38aace56f411f96c41d2ad", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/638739599d20f6d17f38aace56f411f96c41d2ad", "committedDate": "2020-06-21T12:56:22Z", "message": "\u5e38\u91cf\u4f7f\u7528final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e39f00fc8e660c163102f19db4a157aefb93f9c0", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/e39f00fc8e660c163102f19db4a157aefb93f9c0", "committedDate": "2020-06-21T14:30:56Z", "message": "\u521d\u59cb\u5316timeout\u7684\u4ee3\u7801\u7531 static{} \u8f6c\u79fb\u5230 \u6784\u9020\u51fd\u6570 \u4e2d\u3002"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDg5Mzcx", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-434489371", "createdAt": "2020-06-21T10:32:45Z", "commit": {"oid": "cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQxMDozMjo0NVrOGmrH9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQxMDozMjo0NVrOGmrH9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzIwNTYyMA==", "bodyText": "why not declared as final?", "url": "https://github.com/seata/seata/pull/2806#discussion_r443205620", "createdAt": "2020-06-21T10:32:45Z", "author": {"login": "slievrly"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -74,6 +74,33 @@\n     private static ScheduledThreadPoolExecutor executor =\n         new ScheduledThreadPoolExecutor(1, new NamedThreadFactory(\"degradeCheckWorker\", 1, true));\n \n+    //region GLOBAL_TRANSACTION_TIMEOUT\n+\n+    private static int GLOBAL_TRANSACTION_TIMEOUT;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cadf7dca44d02c9853a97e7c2bcb9f3be2f3f609"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e24530034169104fd49f0aa5ad8a059ad02e8a", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/87e24530034169104fd49f0aa5ad8a059ad02e8a", "committedDate": "2020-06-22T02:45:58Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTcxMDAz", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-434571003", "createdAt": "2020-06-22T02:37:19Z", "commit": {"oid": "e39f00fc8e660c163102f19db4a157aefb93f9c0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjozNzoxOVrOGmwXaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MDoxOVrOGmwhJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5MTQ5Nw==", "bodyText": "why do you want to change the configuration item location", "url": "https://github.com/seata/seata/pull/2806#discussion_r443291497", "createdAt": "2020-06-22T02:37:19Z", "author": {"login": "a364176773"}, "path": "script/client/spring/application.yml", "diffHunk": "@@ -17,11 +17,12 @@ seata:\n         retry-times: 30\n         retry-policy-branch-rollback-on-conflict: true\n     tm:\n+      commit-retry-count: 5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e39f00fc8e660c163102f19db4a157aefb93f9c0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5MzM5Ng==", "bodyText": "remove static \uff1f", "url": "https://github.com/seata/seata/pull/2806#discussion_r443293396", "createdAt": "2020-06-22T02:47:26Z", "author": {"login": "a364176773"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -74,6 +74,37 @@\n     private static ScheduledThreadPoolExecutor executor =\n         new ScheduledThreadPoolExecutor(1, new NamedThreadFactory(\"degradeCheckWorker\", 1, true));\n \n+    //region GLOBAL_TRANSACTION_TIMEOUT\n+\n+    private static int GLOBAL_TRANSACTION_TIMEOUT = 0;\n+    private static int MIN_GLOBAL_TRANSACTION_TIMEOUT = 0;\n+\n+    private static void initGlobalTransactionTimeout() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87e24530034169104fd49f0aa5ad8a059ad02e8a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5Mzk4OA==", "bodyText": "<= MIN_GLOBAL_TRANSACTION_TIMEOUT?\n\u56e0\u4e3a\u8fdb\u8fd9\u5757\u4ee3\u7801\u7684\u65f6\u5019\uff0cMIN_GLOBAL_TRANSACTION_TIMEOUT\u7684\u503c\u4e3a0\uff0c\u90a3\u4e48\u65e0\u9700\u518d\u505aglobaltimeout<min global timeout\u5427\uff1f \u4e0b\u9762\u7684\u903b\u8f91\u662f\u5426\u5e94\u8be5\u66f4\u6539\uff1f", "url": "https://github.com/seata/seata/pull/2806#discussion_r443293988", "createdAt": "2020-06-22T02:50:19Z", "author": {"login": "a364176773"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -74,6 +74,37 @@\n     private static ScheduledThreadPoolExecutor executor =\n         new ScheduledThreadPoolExecutor(1, new NamedThreadFactory(\"degradeCheckWorker\", 1, true));\n \n+    //region GLOBAL_TRANSACTION_TIMEOUT\n+\n+    private static int GLOBAL_TRANSACTION_TIMEOUT = 0;\n+    private static int MIN_GLOBAL_TRANSACTION_TIMEOUT = 0;\n+\n+    private static void initGlobalTransactionTimeout() {\n+        if (GLOBAL_TRANSACTION_TIMEOUT <= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87e24530034169104fd49f0aa5ad8a059ad02e8a"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1dd976a248f98989fb996fb3b6784c83bada13d", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/e1dd976a248f98989fb996fb3b6784c83bada13d", "committedDate": "2020-06-22T03:12:07Z", "message": "\u8c03\u6574\u547d\u540d\u89c4\u8303\uff0c\u4e14\u914d\u7f6e\u503c\u4e0d\u80fd\u5c0f\u4e8e\u9ed8\u8ba4\u503c\u3002"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6718be4d5051626a124a9b2fe20e960ad766b237", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/6718be4d5051626a124a9b2fe20e960ad766b237", "committedDate": "2020-06-22T03:19:50Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51b524a5209d677b443173d3e4c5bca3be5fb69f", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/51b524a5209d677b443173d3e4c5bca3be5fb69f", "committedDate": "2020-06-22T03:39:26Z", "message": "\u79fb\u9664\u6700\u5c0f\u503c\u9650\u5236\u3002"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e26a5ca240313aba52d7fb80388612233c445437", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/e26a5ca240313aba52d7fb80388612233c445437", "committedDate": "2020-06-22T03:39:56Z", "message": "Merge remote-tracking branch 'origin/timeout-global-config' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c927e10543403ea90539bea7a86371eabc13d98", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/1c927e10543403ea90539bea7a86371eabc13d98", "committedDate": "2020-06-23T13:41:39Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05143696faaceb8955534766818f3c8e8a204acf", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/05143696faaceb8955534766818f3c8e8a204acf", "committedDate": "2020-06-28T03:01:31Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45334bd1edc700017ee61e7a8e756faaf0ee5fbb", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/45334bd1edc700017ee61e7a8e756faaf0ee5fbb", "committedDate": "2020-06-28T05:38:32Z", "message": "\u79fb\u9664initGlobalTransactionTimeout\u65b9\u6cd5\u7684static"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "750ca760e20caa0a511cac40e81bf8fc7ddc78a4", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/750ca760e20caa0a511cac40e81bf8fc7ddc78a4", "committedDate": "2020-06-28T09:36:42Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1443fcaa74e2f6db1795e8a4cf41b3444c482b56", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/1443fcaa74e2f6db1795e8a4cf41b3444c482b56", "committedDate": "2020-06-29T01:31:36Z", "message": "\u5c0f\u8c03\u6574"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "723bf942c9549b5b47e2ddaa611b09720eb2e45c", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/723bf942c9549b5b47e2ddaa611b09720eb2e45c", "committedDate": "2020-06-30T04:49:32Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f14f0816bdd0db6d2e3057af916614b15b1ffd84", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/f14f0816bdd0db6d2e3057af916614b15b1ffd84", "committedDate": "2020-07-03T04:43:52Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8b0d645fefa73e89c37300262c7c1f58e58d9fc", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/f8b0d645fefa73e89c37300262c7c1f58e58d9fc", "committedDate": "2020-07-03T04:53:01Z", "message": "\u91cd\u547d\u540d\u914d\u7f6e\u3002"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e3bf798741619248e361c1951265c46ae8c1096", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/9e3bf798741619248e361c1951265c46ae8c1096", "committedDate": "2020-07-13T05:01:15Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcb0feb5629e99a0467d9ba44f5596987d9ee873", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/fcb0feb5629e99a0467d9ba44f5596987d9ee873", "committedDate": "2020-07-13T09:57:04Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b10a08dded964dd60fb858d3e19b4704c562d554", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/b10a08dded964dd60fb858d3e19b4704c562d554", "committedDate": "2020-07-16T01:40:55Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a92bc81cd760b6343a17c34e42bc9c5491097f3", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/9a92bc81cd760b6343a17c34e42bc9c5491097f3", "committedDate": "2020-07-16T10:00:12Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86ed5c4533b6785be7dddcdb836ae927985a70b9", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/86ed5c4533b6785be7dddcdb836ae927985a70b9", "committedDate": "2020-07-23T01:02:28Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39f416d6c9b097a1dce29f18aeebecdd80ea4913", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/39f416d6c9b097a1dce29f18aeebecdd80ea4913", "committedDate": "2020-07-31T07:13:49Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37bfdbf2eadc07be5d27ddb2811a7700cab568e3", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/37bfdbf2eadc07be5d27ddb2811a7700cab568e3", "committedDate": "2020-08-05T10:48:00Z", "message": "Merge remote-tracking branch 'remotes/upstream/develop' into timeout-global-config\n\n# Conflicts:\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/properties/client/TmProperties.java\n#\tseata-spring-boot-starter/src/test/java/io/seata/spring/boot/autoconfigure/PropertiesTest.java\n#\tspring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89fce4aaa9042e780d472dfd7717031d6c377e14", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/89fce4aaa9042e780d472dfd7717031d6c377e14", "committedDate": "2020-08-05T10:49:32Z", "message": "DefaultValues\u7c7b\u547d\u540d\u7a7a\u95f4\u8c03\u6574\u3002"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1062504109de3b5740bdf0cb0ee37d1fa43d3abb", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/1062504109de3b5740bdf0cb0ee37d1fa43d3abb", "committedDate": "2020-08-13T01:33:44Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fe18f9423722977e60552f50e702f3152981614", "author": {"user": {"login": "wangliang181230", "name": "WangLiang/\u738b\u826f"}}, "url": "https://github.com/seata/seata/commit/4fe18f9423722977e60552f50e702f3152981614", "committedDate": "2020-08-17T10:39:27Z", "message": "\u6dfb\u52a0defaultGlobalTransactionTimeout\u914d\u7f6e\u7684\u63d0\u793a\u4fe1\u606f\u3002"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjAzMjU1", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-477203255", "createdAt": "2020-08-28T02:35:51Z", "commit": {"oid": "4fe18f9423722977e60552f50e702f3152981614"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624", "author": {"user": {"login": "l81893521", "name": "will"}}, "url": "https://github.com/seata/seata/commit/8d09a91f94ec6b6e152394e38d24157e24788624", "committedDate": "2020-08-28T02:35:57Z", "message": "Merge branch 'develop' into timeout-global-config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjA1Nzc4", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-477205778", "createdAt": "2020-08-28T02:45:18Z", "commit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjA2MDU2", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-477206056", "createdAt": "2020-08-28T02:46:17Z", "commit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjEwMTgz", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-477210183", "createdAt": "2020-08-28T03:01:06Z", "commit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1NzA0NjEz", "url": "https://github.com/seata/seata/pull/2806#pullrequestreview-525704613", "createdAt": "2020-11-08T04:57:57Z", "commit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwNDo1Nzo1N1rOHvM64w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwNDo1Nzo1N1rOHvM64w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTI1NjgwMw==", "bodyText": "\u5bf9\u4e8e\u573a\u666f\uff1a \u5168\u5c40\u9ed8\u8ba415\u79d2\uff0c \u6307\u5b9a\u63a5\u53e3\u5e0c\u671b60\u79d2\u3002\u53ef\u548b\u6574\uff1f\n\u6ce8\u89e3\u5e94\u8be5\u9ed8\u8ba4-1\uff0c\u7136\u540e\u8fd9\u91cc\u53d6\u6d88 timeout == DEFAULT_GLOBAL_TRANSACTION_TIMEOUT \u7684\u5224\u65ad\u624d\u5bf9\u3002\nfile.properties:\nclient.tm.defaultGlobalTransactionTimeout=15000\n\n\u4ee3\u7801\u5982\u4e0b:\n    @GlobalTransactional(timeoutMills = 60000, name = \"dubbo-gts-seata-example\")\n    public ObjectResponse handleBusiness(BusinessDTO businessDTO) {\n    }", "url": "https://github.com/seata/seata/pull/2806#discussion_r519256803", "createdAt": "2020-11-08T04:57:57Z", "author": {"login": "ls9527"}, "path": "spring/src/main/java/io/seata/spring/annotation/GlobalTransactionalInterceptor.java", "diffHunk": "@@ -160,8 +186,14 @@ public String name() {\n \n                 @Override\n                 public TransactionInfo getTransactionInfo() {\n+                    // reset the value of timeout\n+                    int timeout = globalTrxAnno.timeoutMills();\n+                    if (timeout <= 0 || timeout == DEFAULT_GLOBAL_TRANSACTION_TIMEOUT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d09a91f94ec6b6e152394e38d24157e24788624"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3770, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}