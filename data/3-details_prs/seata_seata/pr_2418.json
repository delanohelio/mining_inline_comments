{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5ODk4OTUx", "number": 2418, "title": "Feature: added fst serialization", "bodyText": "\u2160. Describe what this PR did\nadded fst serialization\n\u2161. Does this pull request fix one issue?\n\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\ntransport.serialization=fst\n\u2164. Special notes for reviews", "createdAt": "2020-03-17T15:15:03Z", "url": "https://github.com/seata/seata/pull/2418", "merged": true, "mergeCommit": {"oid": "be542242dabe927f86ea92a0498ea70f33a0e606"}, "closed": true, "closedAt": "2020-03-20T14:21:58Z", "author": {"login": "a364176773"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOkLaOAH2gAyMzg5ODk4OTUxOjE0ZjMxNjJhZTcwNmI0YTMyNjdjNTE4NmM4NzUwOWQ0MTEwMzNhZDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPhSIWgFqTM3ODUyNDgxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "14f3162ae706b4a3267c5186c87509d411033ad1", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/14f3162ae706b4a3267c5186c87509d411033ad1", "committedDate": "2020-03-17T15:10:04Z", "message": "added fst serialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41bcb22c62c617ecb46785b11d417855210de698", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/41bcb22c62c617ecb46785b11d417855210de698", "committedDate": "2020-03-17T15:12:34Z", "message": "supplement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "026198bffbe82d39a144695299ec5da3335ab6a7", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/026198bffbe82d39a144695299ec5da3335ab6a7", "committedDate": "2020-03-17T15:14:00Z", "message": "modify author"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MjI0ODIy", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-376224822", "createdAt": "2020-03-17T16:55:15Z", "commit": {"oid": "026198bffbe82d39a144695299ec5da3335ab6a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNjo1NToxNVrOF3lU3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNjo1NToxNVrOF3lU3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgyNzU0OQ==", "bodyText": "Kryo\uff1f", "url": "https://github.com/seata/seata/pull/2418#discussion_r393827549", "createdAt": "2020-03-17T16:55:15Z", "author": {"login": "slievrly"}, "path": "serializer/seata-serializer-fst/src/test/java/io/seata/serializer/fst/KryoSerializerTest.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.serializer.fst;\n+\n+import io.seata.core.exception.TransactionExceptionCode;\n+import io.seata.core.model.BranchStatus;\n+import io.seata.core.model.BranchType;\n+import io.seata.core.protocol.ResultCode;\n+import io.seata.core.protocol.transaction.BranchCommitRequest;\n+import io.seata.core.protocol.transaction.BranchCommitResponse;\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+/**\n+ * @author funkye\n+ */\n+public class KryoSerializerTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "026198bffbe82d39a144695299ec5da3335ab6a7"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f206b623dfe6c1aaf3582ee40bd2dc5ffac296f", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/9f206b623dfe6c1aaf3582ee40bd2dc5ffac296f", "committedDate": "2020-03-18T01:06:57Z", "message": "modify class name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ace26a9a02f214d6218dffd5aad343224ff61fd7", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/ace26a9a02f214d6218dffd5aad343224ff61fd7", "committedDate": "2020-03-18T03:55:08Z", "message": "load Serializer FST"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzkxNDM1", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-376791435", "createdAt": "2020-03-18T11:52:02Z", "commit": {"oid": "ace26a9a02f214d6218dffd5aad343224ff61fd7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTo1MjowMlrOF4Bi0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTo1MjowMlrOF4Bi0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4OTg3Mw==", "bodyText": "default is compile\uff1f", "url": "https://github.com/seata/seata/pull/2418#discussion_r394289873", "createdAt": "2020-03-18T11:52:02Z", "author": {"login": "slievrly"}, "path": "serializer/seata-serializer-fst/pom.xml", "diffHunk": "@@ -0,0 +1,41 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~  Copyright 1999-2019 Seata.io Group.\n+  ~\n+  ~  Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~  you may not use this file except in compliance with the License.\n+  ~  You may obtain a copy of the License at\n+  ~\n+  ~       http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~  Unless required by applicable law or agreed to in writing, software\n+  ~  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~  See the License for the specific language governing permissions and\n+  ~  limitations under the License.\n+  -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>seata-serializer</artifactId>\n+        <groupId>io.seata</groupId>\n+        <version>${revision}</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>seata-serializer-fst</artifactId>\n+    <dependencies>\n+        <dependency>\n+            <groupId>de.ruedigermoeller</groupId>\n+            <artifactId>fst</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.seata</groupId>\n+            <artifactId>seata-core</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ace26a9a02f214d6218dffd5aad343224ff61fd7"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5524985c7e165f978b8b12f019cbb7c4793edb19", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/5524985c7e165f978b8b12f019cbb7c4793edb19", "committedDate": "2020-03-18T12:36:42Z", "message": "Remove the default scope type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "712995aae0853c3bc096d6566d4f7fc36c507af9", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/712995aae0853c3bc096d6566d4f7fc36c507af9", "committedDate": "2020-03-18T12:55:34Z", "message": "modify name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d35efda7002ebea30a4c20a5dac09f1464b1376", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/8d35efda7002ebea30a4c20a5dac09f1464b1376", "committedDate": "2020-03-19T01:23:48Z", "message": "Merge branch 'develop' into serialize_fst"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MzU1MDgx", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-377355081", "createdAt": "2020-03-19T01:25:07Z", "commit": {"oid": "712995aae0853c3bc096d6566d4f7fc36c507af9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwMToyNTowN1rOF4c3aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwMToyNTowN1rOF4c3aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDczNzUxMw==", "bodyText": "Math.pow(2, 3) = 8", "url": "https://github.com/seata/seata/pull/2418#discussion_r394737513", "createdAt": "2020-03-19T01:25:07Z", "author": {"login": "jsbxyyx"}, "path": "core/src/main/java/io/seata/core/serializer/SerializerType.java", "diffHunk": "@@ -42,6 +42,13 @@\n      * Math.pow(2, 2)\n      */\n     KRYO((byte)0x4),\n+\n+    /**\n+     * The fst.\n+     * <p>\n+     * Math.pow(2, 3)\n+     */\n+    FST((byte)0x6),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "712995aae0853c3bc096d6566d4f7fc36c507af9"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7105e766aef3888a5dba0fe66fe967b88b61fe38", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/7105e766aef3888a5dba0fe66fe967b88b61fe38", "committedDate": "2020-03-19T01:33:42Z", "message": "modify SerializerType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbb0d1a988878a6430f3b85a280c9aab226c427f", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/dbb0d1a988878a6430f3b85a280c9aab226c427f", "committedDate": "2020-03-20T01:27:03Z", "message": "Merge branch 'develop' into serialize_fst"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4Mzc4Mjgw", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-378378280", "createdAt": "2020-03-20T10:42:05Z", "commit": {"oid": "dbb0d1a988878a6430f3b85a280c9aab226c427f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/cd4a7670af24bd909a58a6ed5435a46f7974d0ac", "committedDate": "2020-03-20T13:32:23Z", "message": "Merge branch 'develop' into serialize_fst"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NDk2ODE5", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-378496819", "createdAt": "2020-03-20T13:48:02Z", "commit": {"oid": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0ODowMlrOF5UY1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0ODowMlrOF5UY1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0NzE5MA==", "bodyText": "static ? need register class?", "url": "https://github.com/seata/seata/pull/2418#discussion_r395647190", "createdAt": "2020-03-20T13:48:02Z", "author": {"login": "jsbxyyx"}, "path": "serializer/seata-serializer-fst/src/main/java/io.seata.serializer.fst/FstSerializer.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ *  Copyright 1999-2019 Seata.io Group.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+package io.seata.serializer.fst;\n+\n+import org.nustaq.serialization.FSTConfiguration;\n+\n+import io.seata.common.loader.LoadLevel;\n+import io.seata.core.serializer.Serializer;\n+\n+/**\n+ * @author funkye\n+ */\n+@LoadLevel(name = \"FST\")\n+public class FstSerializer implements Serializer {\n+\n+    private final FSTConfiguration conf = FSTConfiguration.createDefaultConfiguration();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NTI0ODE1", "url": "https://github.com/seata/seata/pull/2418#pullrequestreview-378524815", "createdAt": "2020-03-20T14:21:37Z", "commit": {"oid": "cd4a7670af24bd909a58a6ed5435a46f7974d0ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4102, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}