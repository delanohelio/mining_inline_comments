{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3OTAyNzEy", "number": 3309, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwODo0Nzo0M1rOE9iHlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwOTozMjo1N1rOE-X2rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyOTU3NTkxOnYy", "diffSide": "RIGHT", "path": "test/src/test/java/io/seata/saga/engine/db/StateMachineDBTests.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwODo0Nzo0M1rOH6RNZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMTo0MDoyOFrOH6Xz5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2MTQxMw==", "bodyText": "Useless code?", "url": "https://github.com/seata/seata/pull/3309#discussion_r530861413", "createdAt": "2020-11-26T08:47:43Z", "author": {"login": "wangliang181230"}, "path": "test/src/test/java/io/seata/saga/engine/db/StateMachineDBTests.java", "diffHunk": "@@ -107,6 +107,26 @@ public void testSimpleStateMachineWithChoice() {\n         System.out.println(\"====== cost :\" + cost);\n     }\n \n+    @Test\n+    public void testSimpleStateMachineWithChoiceNoDefault() {\n+\n+        long start = System.currentTimeMillis();\n+\n+        Map<String, Object> paramMap = new HashMap<>();\n+        paramMap.put(\"a\", 3);\n+\n+        String stateMachineName = \"simpleChoiceNoDefaultTestStateMachine\";\n+\n+        try {\n+            stateMachineEngine.start(stateMachineName, null, paramMap);\n+        } catch (EngineExecutionException e) {\n+            e.printStackTrace(System.out);\n+            Assertions.assertNotNull(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f37447074792128b827880887ac3c7f8123dbb5f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2NTE4NA==", "bodyText": "No, this unit test is expected to throw an exception", "url": "https://github.com/seata/seata/pull/3309#discussion_r530865184", "createdAt": "2020-11-26T08:53:40Z", "author": {"login": "long187"}, "path": "test/src/test/java/io/seata/saga/engine/db/StateMachineDBTests.java", "diffHunk": "@@ -107,6 +107,26 @@ public void testSimpleStateMachineWithChoice() {\n         System.out.println(\"====== cost :\" + cost);\n     }\n \n+    @Test\n+    public void testSimpleStateMachineWithChoiceNoDefault() {\n+\n+        long start = System.currentTimeMillis();\n+\n+        Map<String, Object> paramMap = new HashMap<>();\n+        paramMap.put(\"a\", 3);\n+\n+        String stateMachineName = \"simpleChoiceNoDefaultTestStateMachine\";\n+\n+        try {\n+            stateMachineEngine.start(stateMachineName, null, paramMap);\n+        } catch (EngineExecutionException e) {\n+            e.printStackTrace(System.out);\n+            Assertions.assertNotNull(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2MTQxMw=="}, "originalCommit": {"oid": "f37447074792128b827880887ac3c7f8123dbb5f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2NjI4Ng==", "bodyText": "I mean this line of the code\uff1aAssertions.assertNotNull(e);", "url": "https://github.com/seata/seata/pull/3309#discussion_r530866286", "createdAt": "2020-11-26T08:55:30Z", "author": {"login": "wangliang181230"}, "path": "test/src/test/java/io/seata/saga/engine/db/StateMachineDBTests.java", "diffHunk": "@@ -107,6 +107,26 @@ public void testSimpleStateMachineWithChoice() {\n         System.out.println(\"====== cost :\" + cost);\n     }\n \n+    @Test\n+    public void testSimpleStateMachineWithChoiceNoDefault() {\n+\n+        long start = System.currentTimeMillis();\n+\n+        Map<String, Object> paramMap = new HashMap<>();\n+        paramMap.put(\"a\", 3);\n+\n+        String stateMachineName = \"simpleChoiceNoDefaultTestStateMachine\";\n+\n+        try {\n+            stateMachineEngine.start(stateMachineName, null, paramMap);\n+        } catch (EngineExecutionException e) {\n+            e.printStackTrace(System.out);\n+            Assertions.assertNotNull(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2MTQxMw=="}, "originalCommit": {"oid": "f37447074792128b827880887ac3c7f8123dbb5f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk2OTU3Mg==", "bodyText": "fixed", "url": "https://github.com/seata/seata/pull/3309#discussion_r530969572", "createdAt": "2020-11-26T11:40:28Z", "author": {"login": "long187"}, "path": "test/src/test/java/io/seata/saga/engine/db/StateMachineDBTests.java", "diffHunk": "@@ -107,6 +107,26 @@ public void testSimpleStateMachineWithChoice() {\n         System.out.println(\"====== cost :\" + cost);\n     }\n \n+    @Test\n+    public void testSimpleStateMachineWithChoiceNoDefault() {\n+\n+        long start = System.currentTimeMillis();\n+\n+        Map<String, Object> paramMap = new HashMap<>();\n+        paramMap.put(\"a\", 3);\n+\n+        String stateMachineName = \"simpleChoiceNoDefaultTestStateMachine\";\n+\n+        try {\n+            stateMachineEngine.start(stateMachineName, null, paramMap);\n+        } catch (EngineExecutionException e) {\n+            e.printStackTrace(System.out);\n+            Assertions.assertNotNull(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2MTQxMw=="}, "originalCommit": {"oid": "f37447074792128b827880887ac3c7f8123dbb5f"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzODM3OTk5OnYy", "diffSide": "RIGHT", "path": "saga/seata-saga-statelang/src/main/java/io/seata/saga/statelang/parser/impl/StateMachineParserImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwOTozMjo1N1rOH7h0Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMzowODo0OFrOH7qi2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE4MjA2Nw==", "bodyText": "\u6784\u9020\u65b9\u6cd5\u662f\u4e0d\u662f\u5e94\u8be5\u653e\u5230\u5b57\u6bb5\u5b9a\u4e49\u540e\u9762\uff1f", "url": "https://github.com/seata/seata/pull/3309#discussion_r532182067", "createdAt": "2020-11-29T09:32:57Z", "author": {"login": "caohdgege"}, "path": "saga/seata-saga-statelang/src/main/java/io/seata/saga/statelang/parser/impl/StateMachineParserImpl.java", "diffHunk": "@@ -42,6 +42,12 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(StateMachineParserImpl.class);\n \n+    public StateMachineParserImpl(String jsonParserName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60ebe16a43333412acb53bc1a2fd2c158c1900fe"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjMyNTA4Mg==", "bodyText": "fixed", "url": "https://github.com/seata/seata/pull/3309#discussion_r532325082", "createdAt": "2020-11-30T03:08:48Z", "author": {"login": "long187"}, "path": "saga/seata-saga-statelang/src/main/java/io/seata/saga/statelang/parser/impl/StateMachineParserImpl.java", "diffHunk": "@@ -42,6 +42,12 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(StateMachineParserImpl.class);\n \n+    public StateMachineParserImpl(String jsonParserName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE4MjA2Nw=="}, "originalCommit": {"oid": "60ebe16a43333412acb53bc1a2fd2c158c1900fe"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1351, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}