{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNjUwNzgz", "number": 2730, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMDo1MjoyMFrOD_WGzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMzo1MjoxOFrOD_g3AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NzQ5MDY5OnYy", "diffSide": "RIGHT", "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMDo1MjoyMFrOGZ9ORQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxNDowMjoyOVrOGaCJ3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MDY2MQ==", "bodyText": "How about do not change here?", "url": "https://github.com/seata/seata/pull/2730#discussion_r429870661", "createdAt": "2020-05-25T10:52:20Z", "author": {"login": "l81893521"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigType.java", "diffHunk": "@@ -66,6 +66,6 @@ public static ConfigType getType(String name) {\n                 return configType;\n             }\n         }\n-        throw new IllegalArgumentException(\"illegal type:\" + name);\n+        throw new IllegalArgumentException(\"not support config type: \" + name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf09d90e8b438e3a8e6561263f992c2b090d66"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk1MTQ1Mg==", "bodyText": "Because this is the getType method of the Enum class, the reason for the exception here is that the input parameter is illegal.", "url": "https://github.com/seata/seata/pull/2730#discussion_r429951452", "createdAt": "2020-05-25T14:02:29Z", "author": {"login": "PeineLiang"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigType.java", "diffHunk": "@@ -66,6 +66,6 @@ public static ConfigType getType(String name) {\n                 return configType;\n             }\n         }\n-        throw new IllegalArgumentException(\"illegal type:\" + name);\n+        throw new IllegalArgumentException(\"not support config type: \" + name);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MDY2MQ=="}, "originalCommit": {"oid": "9ccf09d90e8b438e3a8e6561263f992c2b090d66"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NzQ5NDQ0OnYy", "diffSide": "RIGHT", "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMDo1Mzo0NVrOGZ9QlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMDo1NDo0MVrOGZ9R7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MTI1Mg==", "bodyText": "if (configTypeName == null)\n\nThat s enough.", "url": "https://github.com/seata/seata/pull/2730#discussion_r429871252", "createdAt": "2020-05-25T10:53:45Z", "author": {"login": "l81893521"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "diffHunk": "@@ -101,9 +102,14 @@ private static Configuration buildConfiguration() {\n             configTypeName = CURRENT_FILE_INSTANCE.getConfig(\n                 ConfigurationKeys.FILE_ROOT_CONFIG + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR\n                     + ConfigurationKeys.FILE_ROOT_TYPE);\n+\n+            if (StringUtils.isEmpty(configTypeName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf09d90e8b438e3a8e6561263f992c2b090d66"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MTU5OQ==", "bodyText": "Because if\nconfigTypeName.equals(\"\")\n\nConfigType.getType would throw exception.", "url": "https://github.com/seata/seata/pull/2730#discussion_r429871599", "createdAt": "2020-05-25T10:54:41Z", "author": {"login": "l81893521"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "diffHunk": "@@ -101,9 +102,14 @@ private static Configuration buildConfiguration() {\n             configTypeName = CURRENT_FILE_INSTANCE.getConfig(\n                 ConfigurationKeys.FILE_ROOT_CONFIG + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR\n                     + ConfigurationKeys.FILE_ROOT_TYPE);\n+\n+            if (StringUtils.isEmpty(configTypeName)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MTI1Mg=="}, "originalCommit": {"oid": "9ccf09d90e8b438e3a8e6561263f992c2b090d66"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTA4MTg4OnYy", "diffSide": "RIGHT", "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMTozNjo0M1rOGaMMUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMTozNjo0M1rOGaMMUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDExNTkyMA==", "bodyText": "If throw it directly, is it would throw other exception?", "url": "https://github.com/seata/seata/pull/2730#discussion_r430115920", "createdAt": "2020-05-26T01:36:43Z", "author": {"login": "l81893521"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "diffHunk": "@@ -101,9 +102,14 @@ private static Configuration buildConfiguration() {\n             configTypeName = CURRENT_FILE_INSTANCE.getConfig(\n                 ConfigurationKeys.FILE_ROOT_CONFIG + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR\n                     + ConfigurationKeys.FILE_ROOT_TYPE);\n+\n+            if (StringUtils.isBlank(configTypeName)) {\n+                throw new NotSupportYetException(\"can not get config type: \" + configTypeName);\n+            }\n+\n             configType = ConfigType.getType(configTypeName);\n         } catch (Exception e) {\n-            throw new NotSupportYetException(\"not support register type: \" + configTypeName, e);\n+            throw e;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f88a4ec2695c3070a3df80de649ef6aa44cf5700"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTI1MjQ4OnYy", "diffSide": "RIGHT", "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMzo1MjoxOFrOGaN0EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwNDozOToyM1rOGaOYVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDE0MjQ4MA==", "bodyText": "configTypeName is blank\uff0cwhy not print it out explicitly\uff1f", "url": "https://github.com/seata/seata/pull/2730#discussion_r430142480", "createdAt": "2020-05-26T03:52:18Z", "author": {"login": "slievrly"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "diffHunk": "@@ -101,9 +102,14 @@ private static Configuration buildConfiguration() {\n             configTypeName = CURRENT_FILE_INSTANCE.getConfig(\n                 ConfigurationKeys.FILE_ROOT_CONFIG + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR\n                     + ConfigurationKeys.FILE_ROOT_TYPE);\n+\n+            if (StringUtils.isBlank(configTypeName)) {\n+                throw new NotSupportYetException(\"can not get config type: \" + configTypeName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f88a4ec2695c3070a3df80de649ef6aa44cf5700"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDE1MTc2Ng==", "bodyText": "you are right ,i change the message to \"config type can not be null\"", "url": "https://github.com/seata/seata/pull/2730#discussion_r430151766", "createdAt": "2020-05-26T04:39:23Z", "author": {"login": "PeineLiang"}, "path": "config/seata-config-core/src/main/java/io/seata/config/ConfigurationFactory.java", "diffHunk": "@@ -101,9 +102,14 @@ private static Configuration buildConfiguration() {\n             configTypeName = CURRENT_FILE_INSTANCE.getConfig(\n                 ConfigurationKeys.FILE_ROOT_CONFIG + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR\n                     + ConfigurationKeys.FILE_ROOT_TYPE);\n+\n+            if (StringUtils.isBlank(configTypeName)) {\n+                throw new NotSupportYetException(\"can not get config type: \" + configTypeName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDE0MjQ4MA=="}, "originalCommit": {"oid": "f88a4ec2695c3070a3df80de649ef6aa44cf5700"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1460, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}