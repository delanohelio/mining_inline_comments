{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NDkxNjcz", "number": 2379, "title": "feature: support custom service name when registering with nacos", "bodyText": "\u2026 with nacos\n\n\u2160. Describe what this PR did\nSet configurable service name automatically when registering with nacos\n\u2161. Does this pull request fix one issue?\n\nfixes #2355\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-03-09T10:07:29Z", "url": "https://github.com/seata/seata/pull/2379", "merged": true, "mergeCommit": {"oid": "c5f928f3b23a996f25c84e4d1b579ba4389861b9"}, "closed": true, "closedAt": "2020-04-04T14:25:04Z", "author": {"login": "CvShrimp"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL69NaAH2gAyMzg1NDkxNjczOmNhNTIwZTFjMDU4NTI0YjM4Y2JjNzY3NThkNzkyNTllZGVkMTEyYjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcUVcsfgH2gAyMzg1NDkxNjczOmM0NWIwOWQ3MzEyNWEyYmVmNzIxYjczMTExZGVmZWI1ZGY3NTVkMjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/ca520e1c058524b38cbc76758d79259eded112b7", "committedDate": "2020-03-09T10:00:36Z", "message": "feature: Set configurable service name automatically when registering with nacos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjkwOTM5", "url": "https://github.com/seata/seata/pull/2379#pullrequestreview-371690939", "createdAt": "2020-03-10T05:34:53Z", "commit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwNTozNDo1NFrOF0CBvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwNTozNzo1M1rOF0CEaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEwMzQ4Nw==", "bodyText": "getConfig support defaultValue", "url": "https://github.com/seata/seata/pull/2379#discussion_r390103487", "createdAt": "2020-03-10T05:34:54Z", "author": {"login": "slievrly"}, "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -203,6 +205,14 @@ private static String getClusterName() {\n         return cluster;\n     }\n \n+    private static String getServiceName() {\n+        String serviceName = FILE_CONFIG.getConfig(getNacosApplicationFileKey());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEwMzgyMw==", "bodyText": "may be can remove unused.", "url": "https://github.com/seata/seata/pull/2379#discussion_r390103823", "createdAt": "2020-03-10T05:36:12Z", "author": {"login": "slievrly"}, "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -43,10 +43,12 @@\n public class NacosRegistryServiceImpl implements RegistryService<EventListener> {\n     private static final String DEFAULT_NAMESPACE = \"\";\n     private static final String DEFAULT_CLUSTER = \"default\";\n+    private static final String DEFAULT_APPLICATION = \"seata\";\n     private static final String PRO_SERVER_ADDR_KEY = \"serverAddr\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEwMzkxMw==", "bodyText": "how about seata-server ?", "url": "https://github.com/seata/seata/pull/2379#discussion_r390103913", "createdAt": "2020-03-10T05:36:36Z", "author": {"login": "slievrly"}, "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -43,10 +43,12 @@\n public class NacosRegistryServiceImpl implements RegistryService<EventListener> {\n     private static final String DEFAULT_NAMESPACE = \"\";\n     private static final String DEFAULT_CLUSTER = \"default\";\n+    private static final String DEFAULT_APPLICATION = \"seata\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEwNDE3MQ==", "bodyText": "where your client configuration item application", "url": "https://github.com/seata/seata/pull/2379#discussion_r390104171", "createdAt": "2020-03-10T05:37:53Z", "author": {"login": "slievrly"}, "path": "server/src/main/resources/registry.conf", "diffHunk": "@@ -3,6 +3,7 @@ registry {\n   type = \"file\"\n \n   nacos {\n+    application = \"seata\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca520e1c058524b38cbc76758d79259eded112b7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7fa0187e4e55d9bd8806f341c780a680c91ecd7", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/c7fa0187e4e55d9bd8806f341c780a680c91ecd7", "committedDate": "2020-03-10T06:22:50Z", "message": "feature: Set configurable service name automatically when registering with nacos, optimize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef53d3a48a243e77c605eeb83c046e64236cab03", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/ef53d3a48a243e77c605eeb83c046e64236cab03", "committedDate": "2020-03-10T06:30:35Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c3894160a2c6130b6c0174685412fd87ea4c4a0", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/4c3894160a2c6130b6c0174685412fd87ea4c4a0", "committedDate": "2020-03-11T09:34:04Z", "message": "Merge branch 'develop-upstream' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "981a7d026402fc2e5955dbd859f439b20261bec6", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/981a7d026402fc2e5955dbd859f439b20261bec6", "committedDate": "2020-03-11T10:01:57Z", "message": "feature: Set configurable service name automatically when registering with nacos, add the client configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjE5MzI1", "url": "https://github.com/seata/seata/pull/2379#pullrequestreview-377619325", "createdAt": "2020-03-19T11:07:17Z", "commit": {"oid": "981a7d026402fc2e5955dbd859f439b20261bec6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b20113082ec1241382a89bd5137888c20c2bb16", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/2b20113082ec1241382a89bd5137888c20c2bb16", "committedDate": "2020-03-20T01:57:36Z", "message": "Merge branch 'develop-upstream' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "470f5d19dbaf74b20ed2a4bc9741e469c85e05fd", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/470f5d19dbaf74b20ed2a4bc9741e469c85e05fd", "committedDate": "2020-03-27T08:01:37Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c120fb78b6a2b1aa2c7af7521e829695b1cecbaa", "author": {"user": {"login": "CvShrimp", "name": null}}, "url": "https://github.com/seata/seata/commit/c120fb78b6a2b1aa2c7af7521e829695b1cecbaa", "committedDate": "2020-04-03T00:49:35Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3Njk4OTk5", "url": "https://github.com/seata/seata/pull/2379#pullrequestreview-387698999", "createdAt": "2020-04-04T13:22:52Z", "commit": {"oid": "c120fb78b6a2b1aa2c7af7521e829695b1cecbaa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c45b09d73125a2bef721b73111defeb5df755d22", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/c45b09d73125a2bef721b73111defeb5df755d22", "committedDate": "2020-04-04T13:23:55Z", "message": "Merge branch 'develop' into develop"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4073, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}