{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDEyMzg2", "number": 2659, "title": "bugfix: fix mysql insert use select last insert id is undo_log id value", "bodyText": "\u2160. Describe what this PR did\nmysql business insert use select last insert id is undo_log id's value.\n\u2161. Does this pull request fix one issue?\n\nfixes: #2655\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-05-06T10:34:05Z", "url": "https://github.com/seata/seata/pull/2659", "merged": true, "mergeCommit": {"oid": "9463b2b97183e94d0d9e077974ffa1d67e6fad13"}, "closed": true, "closedAt": "2020-05-07T13:35:58Z", "author": {"login": "jsbxyyx"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcemKQGAH2gAyNDE0MDEyMzg2OjZiNzI5ZWM2Njk1M2ZlZmE3ZTk0MTJiNzIxYjVmMjRhOGZmMTBiN2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce9YHzAFqTQwNzQ3NTkxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b729ec66953fefa7e9412b721b5f24a8ff10b7e", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/6b729ec66953fefa7e9412b721b5f24a8ff10b7e", "committedDate": "2020-05-06T10:31:24Z", "message": "fix: mysql business insert use select last insert id is undo_log id value."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "355f92794fe892bf983290b525a574be1080268b", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/355f92794fe892bf983290b525a574be1080268b", "committedDate": "2020-05-07T01:07:02Z", "message": "Merge branch 'develop' into fix_2655"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0453190b43011d056533cbd229fd555ef0232b54", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/0453190b43011d056533cbd229fd555ef0232b54", "committedDate": "2020-05-07T01:59:59Z", "message": "fix reviews."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MTI2MzE3", "url": "https://github.com/seata/seata/pull/2659#pullrequestreview-407126317", "createdAt": "2020-05-07T03:28:27Z", "commit": {"oid": "0453190b43011d056533cbd229fd555ef0232b54"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMzoyODoyOFrOGRtFOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwMzoyODoyOFrOGRtFOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTIxNzU5Mg==", "bodyText": "Where is used the precision of time compared?", "url": "https://github.com/seata/seata/pull/2659#discussion_r421217592", "createdAt": "2020-05-07T03:28:28Z", "author": {"login": "slievrly"}, "path": "script/client/at/db/mysql.sql", "diffHunk": "@@ -1,16 +1,14 @@\n -- for AT mode you must to init this sql for you business database. the seata server not need it.\n CREATE TABLE IF NOT EXISTS `undo_log`\n (\n-    `id`            BIGINT(20)   NOT NULL AUTO_INCREMENT COMMENT 'increment id',\n     `branch_id`     BIGINT(20)   NOT NULL COMMENT 'branch transaction id',\n     `xid`           VARCHAR(100) NOT NULL COMMENT 'global transaction id',\n     `context`       VARCHAR(128) NOT NULL COMMENT 'undo_log context,such as serialization',\n     `rollback_info` LONGBLOB     NOT NULL COMMENT 'rollback info',\n     `log_status`    INT(11)      NOT NULL COMMENT '0:normal status,1:defense status',\n-    `log_created`   DATETIME     NOT NULL COMMENT 'create datetime',\n-    `log_modified`  DATETIME     NOT NULL COMMENT 'modify datetime',\n-    PRIMARY KEY (`id`),\n-    UNIQUE KEY `ux_undo_log` (`xid`, `branch_id`)\n+    `log_created`   DATETIME(6)  NOT NULL COMMENT 'create datetime',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0453190b43011d056533cbd229fd555ef0232b54"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "312e60f6d16e7187a085508476eecae685ba4061", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/312e60f6d16e7187a085508476eecae685ba4061", "committedDate": "2020-05-07T10:31:37Z", "message": "fix reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "938407bb699fc80240e3b6f20e8b0d057b778730", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/938407bb699fc80240e3b6f20e8b0d057b778730", "committedDate": "2020-05-07T10:32:51Z", "message": "Merge branch 'develop' into fix_2655"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3Mzg3NTIz", "url": "https://github.com/seata/seata/pull/2659#pullrequestreview-407387523", "createdAt": "2020-05-07T11:36:51Z", "commit": {"oid": "938407bb699fc80240e3b6f20e8b0d057b778730"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b449d5d61982111c8c1ec27f97b5a36a2e2bfea", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/1b449d5d61982111c8c1ec27f97b5a36a2e2bfea", "committedDate": "2020-05-07T13:19:38Z", "message": "fix reviews"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NDc0Nzc4", "url": "https://github.com/seata/seata/pull/2659#pullrequestreview-407474778", "createdAt": "2020-05-07T13:33:07Z", "commit": {"oid": "1b449d5d61982111c8c1ec27f97b5a36a2e2bfea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NDc1OTE0", "url": "https://github.com/seata/seata/pull/2659#pullrequestreview-407475914", "createdAt": "2020-05-07T13:34:22Z", "commit": {"oid": "1b449d5d61982111c8c1ec27f97b5a36a2e2bfea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3959, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}