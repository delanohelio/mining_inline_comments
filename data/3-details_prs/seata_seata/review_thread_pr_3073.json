{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MDk5Nzg1", "number": 3073, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMjo0MzozMlrOEfKtYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMjo0MzozMlrOEfKtYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMTE2NzY5OnYy", "diffSide": "RIGHT", "path": "rm-datasource/src/main/java/io/seata/rm/datasource/xa/DataSourceProxyXA.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMjo0MzozMlrOHLRBJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMzoxNDo0OFrOHLSPUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTU3NTIwNQ==", "bodyText": "\u591a\u4f59\u7684\u7a7a\u884c", "url": "https://github.com/seata/seata/pull/3073#discussion_r481575205", "createdAt": "2020-09-02T02:43:32Z", "author": {"login": "wangliang181230"}, "path": "rm-datasource/src/main/java/io/seata/rm/datasource/xa/DataSourceProxyXA.java", "diffHunk": "@@ -56,6 +56,20 @@ public Connection getConnection(String username, String password) throws SQLExce\n     }\n \n     protected Connection getConnectionProxy(Connection connection) throws SQLException {\n+        if (!RootContext.inGlobalTransaction()) {\n+            return connection;\n+        }\n+        return getConnectionProxyXA(connection);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa34899a018611011c45b56fb998f51e7cfa3c21"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTU5NTIxNg==", "bodyText": "ok", "url": "https://github.com/seata/seata/pull/3073#discussion_r481595216", "createdAt": "2020-09-02T03:14:48Z", "author": {"login": "a364176773"}, "path": "rm-datasource/src/main/java/io/seata/rm/datasource/xa/DataSourceProxyXA.java", "diffHunk": "@@ -56,6 +56,20 @@ public Connection getConnection(String username, String password) throws SQLExce\n     }\n \n     protected Connection getConnectionProxy(Connection connection) throws SQLException {\n+        if (!RootContext.inGlobalTransaction()) {\n+            return connection;\n+        }\n+        return getConnectionProxyXA(connection);\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTU3NTIwNQ=="}, "originalCommit": {"oid": "aa34899a018611011c45b56fb998f51e7cfa3c21"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1414, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}