{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2OTA5NDgy", "number": 2816, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MDo0MFrOEHabuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MDo0MFrOEHabuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjA4NTcxOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/io/seata/common/loader/EnhancedServiceLoader.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMjo1MDo0MFrOGmwhcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwMzo0MzozNlrOGnYM1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5NDA2Ng==", "bodyText": "the classloader may be null? use Objects.equals ?", "url": "https://github.com/seata/seata/pull/2816#discussion_r443294066", "createdAt": "2020-06-22T02:50:40Z", "author": {"login": "jsbxyyx"}, "path": "common/src/main/java/io/seata/common/loader/EnhancedServiceLoader.java", "diffHunk": "@@ -516,6 +520,18 @@ private ExtensionDefinition getUnloadedExtensionDefinition(Class<?> clazz) {\n             return null;\n         }\n \n+        private boolean isDefinitionContainsClazz(String className, ClassLoader loader) {\n+            for (Map.Entry<Class<?>, ExtensionDefinition> entry : classToDefinitionMap.entrySet()) {\n+                if (!entry.getKey().getName().equals(className)) {\n+                    continue;\n+                }\n+                if (entry.getValue().getServiceClass().getClassLoader().equals(loader)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342efb2247a84d6d7adbefd5680a26ae2364db15"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzk0NDE1MA==", "bodyText": "classLoader alway not null", "url": "https://github.com/seata/seata/pull/2816#discussion_r443944150", "createdAt": "2020-06-23T03:43:36Z", "author": {"login": "slievrly"}, "path": "common/src/main/java/io/seata/common/loader/EnhancedServiceLoader.java", "diffHunk": "@@ -516,6 +520,18 @@ private ExtensionDefinition getUnloadedExtensionDefinition(Class<?> clazz) {\n             return null;\n         }\n \n+        private boolean isDefinitionContainsClazz(String className, ClassLoader loader) {\n+            for (Map.Entry<Class<?>, ExtensionDefinition> entry : classToDefinitionMap.entrySet()) {\n+                if (!entry.getKey().getName().equals(className)) {\n+                    continue;\n+                }\n+                if (entry.getValue().getServiceClass().getClassLoader().equals(loader)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5NDA2Ng=="}, "originalCommit": {"oid": "342efb2247a84d6d7adbefd5680a26ae2364db15"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1479, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}