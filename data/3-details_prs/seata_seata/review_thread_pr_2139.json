{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjI0Mjkw", "number": 2139, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNzowNToyN1rODWKofw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQxMDoxMDoxOFrODXXjzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTY5NDcxOnYy", "diffSide": "RIGHT", "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNzowNToyN1rOFaxSRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNzowNToyN1rOFaxSRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYxNDc4OA==", "bodyText": "The close method of ByteArrayOutputStream actually does nothing.The close method of ObjectOutputStream should be called.", "url": "https://github.com/seata/seata/pull/2139#discussion_r363614788", "createdAt": "2020-01-07T07:05:27Z", "author": {"login": "xingfudeshi"}, "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "diffHunk": "@@ -38,24 +39,14 @@\n \n         byte[] result = null;\n         if (o != null) {\n-            ObjectOutputStream oos = null;\n-            try {\n-                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-                oos = new ObjectOutputStream(baos);\n+            try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+                ObjectOutputStream oos = new ObjectOutputStream(baos)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae7ff6175e7f5afcc4aeca2d19cb17818c7a83bc"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTY5NjA3OnYy", "diffSide": "RIGHT", "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNzowNjoyNVrOFaxTHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNzowODozNVrOFaxVIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYxNTAwNQ==", "bodyText": "The close method of ByteArrayInputStream actually does nothing.The close method of ObjectInputStream should be called.", "url": "https://github.com/seata/seata/pull/2139#discussion_r363615005", "createdAt": "2020-01-07T07:06:25Z", "author": {"login": "xingfudeshi"}, "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "diffHunk": "@@ -75,25 +66,15 @@ public static Object deserializeByObjectInputStream(byte[] bytes) {\n \n         Object result = null;\n         if (bytes != null) {\n-            ObjectInputStream ois = null;\n-            try {\n-                ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n-                ois = new ObjectInputStream(bais);\n+            try (ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n+                ObjectInputStream ois = new ObjectInputStream(bais)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae7ff6175e7f5afcc4aeca2d19cb17818c7a83bc"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYxNTUyMA==", "bodyText": "I see. I'll take care of that", "url": "https://github.com/seata/seata/pull/2139#discussion_r363615520", "createdAt": "2020-01-07T07:08:35Z", "author": {"login": "a364176773"}, "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "diffHunk": "@@ -75,25 +66,15 @@ public static Object deserializeByObjectInputStream(byte[] bytes) {\n \n         Object result = null;\n         if (bytes != null) {\n-            ObjectInputStream ois = null;\n-            try {\n-                ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n-                ois = new ObjectInputStream(bais);\n+            try (ByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n+                ObjectInputStream ois = new ObjectInputStream(bais)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYxNTAwNQ=="}, "originalCommit": {"oid": "ae7ff6175e7f5afcc4aeca2d19cb17818c7a83bc"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODI5ODM5OnYy", "diffSide": "RIGHT", "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQxMDoxMDoxOFrOFcot8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQxMDoxMDoxOFrOFcot8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU3MTU3MA==", "bodyText": "if ObjectOutputStream close error , it will throw an exception?", "url": "https://github.com/seata/seata/pull/2139#discussion_r365571570", "createdAt": "2020-01-12T10:10:18Z", "author": {"login": "slievrly"}, "path": "saga/seata-saga-engine-store/src/main/java/io/seata/saga/engine/serializer/impl/ExceptionSerializer.java", "diffHunk": "@@ -38,24 +39,14 @@\n \n         byte[] result = null;\n         if (o != null) {\n-            ObjectOutputStream oos = null;\n-            try {\n-                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-                oos = new ObjectOutputStream(baos);\n+            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+            try (ObjectOutputStream oos = new ObjectOutputStream(baos)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac8a58c002a0c0118da4cd098e5487af189fc70"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1724, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}