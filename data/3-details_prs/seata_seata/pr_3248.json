{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNjAyMzE2", "number": 3248, "title": "optimize: refactor loadBalance config from registry.conf to file.conf.", "bodyText": "\u2160. Describe what this PR did\nloadbalance\u7684\u914d\u7f6e\u5728 registry.conf \u6587\u4ef6\uff0c \u8fd9\u4e2a\u6587\u4ef6\u5c5e\u4e8e\u914d\u7f6e\u4e2d\u5fc3\u7684\u57fa\u7840\u914d\u7f6e\uff0c \u9664\u4e86\u6307\u5b9a\u65b9\u5f0f\u548c\u57fa\u7840\u4fe1\u606f\u4ee5\u5916\uff0c\u5176\u4ed6\u4fe1\u606f\u4e0d\u5e94\u8be5\u5728\u8fd9\u4e2a\u6587\u4ef6\u3002 \u628aloadBalance\u6539\u5230\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\u4e2d(file.conf).\n\u4f8b\u5982\u968f\u673a\u8d1f\u8f7d\u5747\u8861\nloadBalance = {\ntype = \"RandomLoadBalance\"\n}\n\u8fd8\u6709\u4e00\u81f4\u6027hash\u8d1f\u8f7d\u5747\u8861\nloadBalance = {\ntype = \"ConsistentHashLoadBalance\"\nvisualNodes=10\n}\n\u2161. Does this pull request fix one issue?\n\n\u2162. Why don't you add test cases (unit test/integration test)?\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-11-01T11:14:36Z", "url": "https://github.com/seata/seata/pull/3248", "merged": true, "mergeCommit": {"oid": "d28274d4f29ce58d62aac37d87296446feb5ae4b"}, "closed": true, "closedAt": "2021-03-19T02:48:41Z", "author": {"login": "ls9527"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYOCsjAH2gAyNTEzNjAyMzE2OjNjYzE0YTBjMzFiNTM0YzZhNTAyYjFmYTZhYmFjMzYzZTRlMmM1OGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeEhiZBgFqTYxNjAyMjIzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3cc14a0c31b534c6a502b1fa6abac363e4e2c58e", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/3cc14a0c31b534c6a502b1fa6abac363e4e2c58e", "committedDate": "2020-11-01T11:13:02Z", "message": "refactor: loadBalance config from registry.conf to file.conf."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMzAxNDc0", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-521301474", "createdAt": "2020-11-02T02:37:34Z", "commit": {"oid": "3cc14a0c31b534c6a502b1fa6abac363e4e2c58e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwMjozNzozNVrOHr0sYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwMjozODowOFrOHr0svQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTcxNDE0Ng==", "bodyText": "is not allowed", "url": "https://github.com/seata/seata/pull/3248#discussion_r515714146", "createdAt": "2020-11-02T02:37:35Z", "author": {"login": "a364176773"}, "path": "seata-spring-boot-starter/src/test/java/io/seata/spring/boot/autoconfigure/PropertiesTest.java", "diffHunk": "@@ -36,15 +36,7 @@\n import io.seata.spring.boot.autoconfigure.properties.config.ConfigNacosProperties;\n import io.seata.spring.boot.autoconfigure.properties.config.ConfigProperties;\n import io.seata.spring.boot.autoconfigure.properties.config.ConfigZooKeeperProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryConsulProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryCustomProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryEtcd3Properties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryEurekaProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryNacosProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryRedisProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistrySofaProperties;\n-import io.seata.spring.boot.autoconfigure.properties.registry.RegistryZooKeeperProperties;\n+import io.seata.spring.boot.autoconfigure.properties.registry.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cc14a0c31b534c6a502b1fa6abac363e4e2c58e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTcxNDIzNw==", "bodyText": "Blank lines can be removed", "url": "https://github.com/seata/seata/pull/3248#discussion_r515714237", "createdAt": "2020-11-02T02:38:08Z", "author": {"login": "a364176773"}, "path": "server/src/main/resources/registry.conf", "diffHunk": "@@ -1,8 +1,7 @@\n registry {\n   # file \u3001nacos \u3001eureka\u3001redis\u3001zk\u3001consul\u3001etcd3\u3001sofa\n   type = \"file\"\n-  loadBalance = \"RandomLoadBalance\"\n-  loadBalanceVirtualNodes = 10\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cc14a0c31b534c6a502b1fa6abac363e4e2c58e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dad6cb9c482ad11e58bf47b41c8971fb79a2305", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/3dad6cb9c482ad11e58bf47b41c8971fb79a2305", "committedDate": "2020-11-02T02:51:53Z", "message": "Merge branch 'develop' into feature/loadbalance_1101"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29cc9be20a34b2916aeb58492d1bafbdfbe4c0ed", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/29cc9be20a34b2916aeb58492d1bafbdfbe4c0ed", "committedDate": "2020-11-02T10:15:42Z", "message": "Merge branch 'develop' into feature/loadbalance_1101"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "078f4c7a5b52298278175e49d234bb11ab1d8644", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/078f4c7a5b52298278175e49d234bb11ab1d8644", "committedDate": "2020-11-02T12:39:43Z", "message": "\u652f\u6301CI\u6301\u7eed\u96c6\u6210, \u8865\u5145\u9057\u6f0f\u63d0\u4ea4\u7684 LoadBalanceProperties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7baba8cbbbb0b1a28e936bbae58a68044719a1a8", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/7baba8cbbbb0b1a28e936bbae58a68044719a1a8", "committedDate": "2020-11-02T13:12:10Z", "message": "\u4fee\u6539\u5404\u5927\u6a21\u5757\u7684\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e, \u4eceregistry.conf\u79fb\u52a8\u5230file.conf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07bb4a96398e05b258bc7539af56985cc89c4d99", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/07bb4a96398e05b258bc7539af56985cc89c4d99", "committedDate": "2020-11-03T11:43:37Z", "message": "\u6539\u4e3aclient.loadBalance\u3002  \u4fee\u590d SpringBootConfigurationProvider \u914d\u7f6e\u652f\u6301"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/c2c051e4e06f71d0caaf8b3182a50f1ef478d23a", "committedDate": "2020-11-04T06:18:41Z", "message": "\u4fee\u590dspringboot\u914d\u7f6e\u63d0\u793a, \u589e\u52a0\u914d\u7f6e\u4e2d\u5fc3\u83b7\u53d6\u8d1f\u8f7d\u5747\u8861\u7684\u6d4b\u8bd5\u7528\u4f8b"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTQwMDM1", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-523940035", "createdAt": "2020-11-05T05:43:31Z", "commit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNTo0MzozMVrOHt0R-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwNTo0Njo1MVrOHt0Vxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwNDUzNg==", "bodyText": "Change this name\n\u6539\u4e00\u4e0b\u8fd9\u4e2a\u540d\u5b57", "url": "https://github.com/seata/seata/pull/3248#discussion_r517804536", "createdAt": "2020-11-05T05:43:31Z", "author": {"login": "ph3636"}, "path": "discovery/seata-discovery-core/src/main/java/io/seata/discovery/loadbalance/ConsistentHashLoadBalance.java", "diffHunk": "@@ -36,8 +35,14 @@\n @LoadLevel(name = \"ConsistentHashLoadBalance\")\n public class ConsistentHashLoadBalance extends AbstractLoadBalance {\n \n-    private static final String VIRTUAL_NODES = FILE_ROOT_REGISTRY + FILE_CONFIG_SPLIT_CHAR + \"loadBalanceVirtualNodes\";\n-    private static final int VIRTUAL_NODES_NUM = ConfigurationFactory.CURRENT_FILE_INSTANCE.getInt(VIRTUAL_NODES, VIRTUAL_NODES_DEFAULT);\n+    /**\n+     * The constant LOAD_BALANCE_TYPE.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwNTM3Mg==", "bodyText": "These are redundant\n\u8fd9\u4e9b\u662f\u591a\u4f59", "url": "https://github.com/seata/seata/pull/3248#discussion_r517805372", "createdAt": "2020-11-05T05:46:18Z", "author": {"login": "ph3636"}, "path": "script/server/config/file.properties", "diffHunk": "@@ -25,3 +25,5 @@ store.redis.database=0\n store.redis.minConn=1\n store.redis.maxConn=10\n store.redis.queryLimit=100\n+loadBalance.type=RandomLoadBalance\n+loadBalance.consistentHash.virtualNodes=10", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwNTUxMQ==", "bodyText": "These are redundant\n\u8fd9\u4e9b\u662f\u591a\u4f59", "url": "https://github.com/seata/seata/pull/3248#discussion_r517805511", "createdAt": "2020-11-05T05:46:51Z", "author": {"login": "ph3636"}, "path": "script/server/config/file.yml", "diffHunk": "@@ -44,4 +44,9 @@ store:\n     minConn: 1\n     maxConn: 10\n     queryLimit: 100\n+loadBalance:\n+  type: RandomLoadBalance\n+  consistentHash:\n+    virtualNodes: 10", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48ca9130e0e710bae8651ab47b45e9fbd43fba31", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/48ca9130e0e710bae8651ab47b45e9fbd43fba31", "committedDate": "2020-11-05T13:43:43Z", "message": "\u5220\u9664\u65e0\u7528\u7684\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0ODkyOTAx", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-524892901", "createdAt": "2020-11-06T06:50:58Z", "commit": {"oid": "48ca9130e0e710bae8651ab47b45e9fbd43fba31"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwNjo1MDo1OVrOHuiBTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwNjo1MDo1OVrOHuiBTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODU1MzkzMg==", "bodyText": "Change the name or delete it", "url": "https://github.com/seata/seata/pull/3248#discussion_r518553932", "createdAt": "2020-11-06T06:50:59Z", "author": {"login": "ph3636"}, "path": "discovery/seata-discovery-core/src/main/java/io/seata/discovery/loadbalance/ConsistentHashLoadBalance.java", "diffHunk": "@@ -36,8 +35,14 @@\n @LoadLevel(name = \"ConsistentHashLoadBalance\")\n public class ConsistentHashLoadBalance extends AbstractLoadBalance {\n \n-    private static final String VIRTUAL_NODES = FILE_ROOT_REGISTRY + FILE_CONFIG_SPLIT_CHAR + \"loadBalanceVirtualNodes\";\n-    private static final int VIRTUAL_NODES_NUM = ConfigurationFactory.CURRENT_FILE_INSTANCE.getInt(VIRTUAL_NODES, VIRTUAL_NODES_DEFAULT);\n+    /**\n+     * The constant LOAD_BALANCE_TYPE.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzgwNDUzNg=="}, "originalCommit": {"oid": "c2c051e4e06f71d0caaf8b3182a50f1ef478d23a"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "147595a5f482c36f0d456171e50e02ebc2a286e0", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/147595a5f482c36f0d456171e50e02ebc2a286e0", "committedDate": "2020-11-10T15:37:45Z", "message": "Merge branch 'develop' into feature/loadbalance_1101"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "811dd9fd91d86bc74f5d18a152d22cab71c62770", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/811dd9fd91d86bc74f5d18a152d22cab71c62770", "committedDate": "2020-11-11T16:33:27Z", "message": "Merge remote-tracking branch 'seata/develop' into feature/loadbalance_1101\n\n# Conflicts:\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/StarterConstants.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1daf10780e90ce79658c11aed200c68bef4494a5", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/1daf10780e90ce79658c11aed200c68bef4494a5", "committedDate": "2020-11-11T16:34:48Z", "message": "\u4fee\u590d\u4ee3\u7801\u5408\u5e76"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/882e4eeb1d4a226b1f4581bdd617d0e9c694dca5", "committedDate": "2020-11-22T12:26:03Z", "message": "Merge branch 'develop' into feature/loadbalance_1101"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDU4MDE4", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-536058018", "createdAt": "2020-11-22T12:39:36Z", "commit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxMjozOTozNlrOH32rrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxMjozOTozNlrOH32rrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMyOTY0Nw==", "bodyText": "unwanted file", "url": "https://github.com/seata/seata/pull/3248#discussion_r528329647", "createdAt": "2020-11-22T12:39:36Z", "author": {"login": "a364176773"}, "path": "discovery/seata-discovery-core/src/test/resources/file.conf", "diffHunk": "@@ -0,0 +1,23 @@\n+#", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "986942ea2f109d6d8abeac3c28eadf6430f43c46", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/986942ea2f109d6d8abeac3c28eadf6430f43c46", "committedDate": "2020-11-22T12:43:09Z", "message": "\u4fee\u6539 LOAD_BALANCE_CONSISTENT_HASH_VISUAL_NODES \u7684\u6ce8\u91ca"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDU4MjIy", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-536058222", "createdAt": "2020-11-22T12:41:18Z", "commit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxMjo0MToxOFrOH32srg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxMjo0MzowMVrOH32tqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMyOTkwMg==", "bodyText": "unnecessary change", "url": "https://github.com/seata/seata/pull/3248#discussion_r528329902", "createdAt": "2020-11-22T12:41:18Z", "author": {"login": "a364176773"}, "path": "script/server/config/file.conf", "diffHunk": "@@ -49,5 +49,4 @@ store {\n     maxConn = 10\n     queryLimit = 100\n   }\n-\n-}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMyOTkxNw==", "bodyText": "unnecessary change", "url": "https://github.com/seata/seata/pull/3248#discussion_r528329917", "createdAt": "2020-11-22T12:41:27Z", "author": {"login": "a364176773"}, "path": "script/server/config/file.properties", "diffHunk": "@@ -24,4 +24,4 @@ store.redis.password=\n store.redis.database=0\n store.redis.minConn=1\n store.redis.maxConn=10\n-store.redis.queryLimit=100\n+store.redis.queryLimit=100", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMyOTk0NQ==", "bodyText": "unnecessary change", "url": "https://github.com/seata/seata/pull/3248#discussion_r528329945", "createdAt": "2020-11-22T12:41:32Z", "author": {"login": "a364176773"}, "path": "script/server/config/file.yml", "diffHunk": "@@ -43,5 +43,4 @@ store:\n     database: 0\n     minConn: 1\n     maxConn: 10\n-    queryLimit: 100\n-\n+    queryLimit: 100", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODMzMDE1NA==", "bodyText": "unnecessary change", "url": "https://github.com/seata/seata/pull/3248#discussion_r528330154", "createdAt": "2020-11-22T12:43:01Z", "author": {"login": "a364176773"}, "path": "server/src/main/resources/file.conf", "diffHunk": "@@ -50,4 +50,4 @@ store {\n     queryLimit = 100\n   }\n \n-}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "882e4eeb1d4a226b1f4581bdd617d0e9c694dca5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f645e9fc4518c90d56bf4549be3ade45b65fd779", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/f645e9fc4518c90d56bf4549be3ade45b65fd779", "committedDate": "2020-11-22T13:11:07Z", "message": "\u56de\u6eda\u4e0d\u5fc5\u8981\u7684\u914d\u7f6e\u66f4\u6539"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4f8a118aa62ded53c50c8b39e967152ca91afd7", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/b4f8a118aa62ded53c50c8b39e967152ca91afd7", "committedDate": "2021-01-15T08:58:53Z", "message": "Merge remote-tracking branch 'origin/feature/loadbalance_1101' into feature/loadbalance_1101\n\n# Conflicts:\n#\tdiscovery/seata-discovery-core/src/main/java/io/seata/discovery/loadbalance/ConsistentHashLoadBalance.java\n#\tscript/client/conf/file.conf\n#\tscript/client/spring/application.properties\n#\tscript/client/spring/application.yml\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/SeataAutoConfiguration.java\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/StarterConstants.java"}, "afterCommit": {"oid": "f645e9fc4518c90d56bf4549be3ade45b65fd779", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/f645e9fc4518c90d56bf4549be3ade45b65fd779", "committedDate": "2020-11-22T13:11:07Z", "message": "\u56de\u6eda\u4e0d\u5fc5\u8981\u7684\u914d\u7f6e\u66f4\u6539"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f977d55d029afa8797c432acca97262ed23d0a9a", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/f977d55d029afa8797c432acca97262ed23d0a9a", "committedDate": "2021-01-16T16:48:43Z", "message": "Merge remote-tracking branch 'github-seata/develop' into feature/loadbalance_1101\n\n# Conflicts:\n#\tdiscovery/seata-discovery-core/src/main/java/io/seata/discovery/loadbalance/ConsistentHashLoadBalance.java\n#\tscript/client/conf/file.conf\n#\tscript/client/spring/application.properties\n#\tscript/client/spring/application.yml\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/SeataAutoConfiguration.java\n#\tseata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/StarterConstants.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTcwMDM5NTE2", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-570039516", "createdAt": "2021-01-17T09:37:43Z", "commit": {"oid": "f977d55d029afa8797c432acca97262ed23d0a9a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbe8743bc4f5b845f7b5eea5f610fddc78273953", "author": {"user": {"login": "ls9527", "name": "Karen"}}, "url": "https://github.com/seata/seata/commit/dbe8743bc4f5b845f7b5eea5f610fddc78273953", "committedDate": "2021-01-17T09:57:51Z", "message": "\u589e\u52a01.5.0\u7684\u66f4\u65b0\u63cf\u8ff0\u6587\u6863"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTkyNzk3MzAy", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-592797302", "createdAt": "2021-02-18T02:23:00Z", "commit": {"oid": "dbe8743bc4f5b845f7b5eea5f610fddc78273953"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xOFQwMjoyMzowMFrOInTQ-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xOFQwMjoyMzowMFrOInTQ-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3ODA4MTAxNg==", "bodyText": "migrate instead of migration, migration is not a verb.", "url": "https://github.com/seata/seata/pull/3248#discussion_r578081016", "createdAt": "2021-02-18T02:23:00Z", "author": {"login": "l81893521"}, "path": "changes/en-us/1.5.0.md", "diffHunk": "@@ -59,7 +59,7 @@\n   - [[#3420](https://github.com/seata/seata/pull/3420)] optimize enumerated classes and add unit tests\t\n   - [[#3436](https://github.com/seata/seata/pull/3436)] optimize typo in SQLType class \t\n   - [[#3439](https://github.com/seata/seata/pull/3439)] adjust the order of springApplicationContextProvider\n-\n+  - [[#3248](https://github.com/seata/seata/pull/3248)] optimize the config of load-balance migration to belong the client node", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbe8743bc4f5b845f7b5eea5f610fddc78273953"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTkyODI0MTc5", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-592824179", "createdAt": "2021-02-18T03:27:00Z", "commit": {"oid": "dbe8743bc4f5b845f7b5eea5f610fddc78273953"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a8e38e5c1a1908a86627bcf338d1b2ee67593a5", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/3a8e38e5c1a1908a86627bcf338d1b2ee67593a5", "committedDate": "2021-03-19T02:31:09Z", "message": "Merge branch 'develop' into feature/loadbalance_1101"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dea89bd54896cfbe2d71a92f9efc161419baf9ed", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/dea89bd54896cfbe2d71a92f9efc161419baf9ed", "committedDate": "2021-03-19T02:37:21Z", "message": "Update SeataPropertiesAutoConfiguration.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjE2MDIyMjMz", "url": "https://github.com/seata/seata/pull/3248#pullrequestreview-616022233", "createdAt": "2021-03-19T02:48:31Z", "commit": {"oid": "dea89bd54896cfbe2d71a92f9efc161419baf9ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3485, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}