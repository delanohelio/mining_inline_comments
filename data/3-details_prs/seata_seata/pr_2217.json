{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1NjY1MzE2", "number": 2217, "title": "bugfix:correct wrong property names in seata-spring-boot-starter.", "bodyText": "\u2160. Describe what this PR did\nCorret wrong property names in seata-spring-boot-starter.\n\u2161. Does this pull request fix one issue?\n\nfixes #2114\n\u2162. Why don't you add test cases (unit test/integration test)?\nI've done integration testing.\n\u2163. Describe how to verify it\n\u2164. Special notes for reviews", "createdAt": "2020-01-22T05:02:44Z", "url": "https://github.com/seata/seata/pull/2217", "merged": true, "mergeCommit": {"oid": "b8a35d121c0f1abd1a24d03c842082d0e3219541"}, "closed": true, "closedAt": "2020-02-05T05:55:04Z", "author": {"login": "xingfudeshi"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8uP5fgH2gAyMzY1NjY1MzE2OmYwYWM4YWJmODc3OTI3YWRiNzMyOWQwMTNlNDkxZTExNGI5NDlkNzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBPjIGgFqTM1MzQ3ODI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f0ac8abf877927adb7329d013e491e114b949d74", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/f0ac8abf877927adb7329d013e491e114b949d74", "committedDate": "2020-01-22T04:43:23Z", "message": "correct wrong property names."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e6e6362482b4e524a259ad9802cd1bcfd0e7c97", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/6e6e6362482b4e524a259ad9802cd1bcfd0e7c97", "committedDate": "2020-01-22T05:10:56Z", "message": "divide ClientProperties into TmProperties and RmProperties,"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDEwMjk4", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-346410298", "createdAt": "2020-01-22T08:27:21Z", "commit": {"oid": "6e6e6362482b4e524a259ad9802cd1bcfd0e7c97"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwODoyNzoyMVrOFgTwVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwODoyNzoyMVrOFgTwVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQyMjQyMA==", "bodyText": "Is it ok to just write log here?", "url": "https://github.com/seata/seata/pull/2217#discussion_r369422420", "createdAt": "2020-01-22T08:27:21Z", "author": {"login": "slievrly"}, "path": "script/client/spring/application.yml", "diffHunk": "@@ -5,21 +5,22 @@ seata:\n   enable-auto-data-source-proxy: true\n   use-jdk-proxy: false\n   client:\n-    rm-async-commit-buffer-limit: 1000\n-    rm-report-retry-count: 5\n-    rm-table-meta-check-enable: false\n-    rm-report-success-enable: true\n     rm:\n+      sync-commit-buffer-limit: 1000\n+      report-retry-count: 5\n+      table-meta-check-enable: false\n+      report-success-enable: true\n       lock:\n-        lock-retry-interval: 10\n-        lock-retry-times: 30\n-        lock-retry-policy-branch-rollback-on-conflict: true\n-    tm-commit-retry-count: 5\n-    tm-rollback-retry-count: 5\n+        retry-interval: 10\n+        retry-times: 30\n+        retry-policy-branch-rollback-on-conflict: true\n+    tm:\n+      commit-retry-count: 5\n+      rollback-retry-count: 5\n     undo:\n-      undo-data-validation: true\n-      undo-log-serialization: jackson\n-      undo-log-table: undo_log\n+      data-validation: true\n+      log-serialization: jackson\n+      log-table: undo_log\n     client:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e6e6362482b4e524a259ad9802cd1bcfd0e7c97"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDIyMjI1", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-346422225", "createdAt": "2020-01-22T08:50:21Z", "commit": {"oid": "6e6e6362482b4e524a259ad9802cd1bcfd0e7c97"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54a6518f3f713c59bdcbab087333de9f7670f338", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/54a6518f3f713c59bdcbab087333de9f7670f338", "committedDate": "2020-01-22T13:10:31Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "684f1d9db2919fc4a1b01167a1750b7a77a79d62", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/684f1d9db2919fc4a1b01167a1750b7a77a79d62", "committedDate": "2020-01-23T00:46:54Z", "message": "fix reviews."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da43eacbf6ba08a2c2045cdfb61821d5a64668e8", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/da43eacbf6ba08a2c2045cdfb61821d5a64668e8", "committedDate": "2020-01-23T01:04:29Z", "message": "add UT."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38307a4d1180f1ae656a7312bf7077e107bc2b56", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/38307a4d1180f1ae656a7312bf7077e107bc2b56", "committedDate": "2020-01-23T02:05:52Z", "message": "update UT."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ecce00d02ac086e813db4c21222165947fab7c3", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/2ecce00d02ac086e813db4c21222165947fab7c3", "committedDate": "2020-01-23T02:49:11Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48db92b6bd162f9d931db82f3681a0142995e264", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/48db92b6bd162f9d931db82f3681a0142995e264", "committedDate": "2020-01-23T05:43:08Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "988632487bb98b066bcf4a26c0d8d30ec6d9e8aa", "author": {"user": {"login": "lovepoem", "name": "Xin Wang"}}, "url": "https://github.com/seata/seata/commit/988632487bb98b066bcf4a26c0d8d30ec6d9e8aa", "committedDate": "2020-01-23T08:27:46Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f549510d3679a87cdd9e6d481637c03a7c5ea19", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/5f549510d3679a87cdd9e6d481637c03a7c5ea19", "committedDate": "2020-01-24T02:22:40Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMjA4ODQ0", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-350208844", "createdAt": "2020-01-29T15:44:09Z", "commit": {"oid": "5f549510d3679a87cdd9e6d481637c03a7c5ea19"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwOTA2NjM2", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-350906636", "createdAt": "2020-01-30T15:21:43Z", "commit": {"oid": "5f549510d3679a87cdd9e6d481637c03a7c5ea19"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNToyMTo0M1rOFju6Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNToyMTo1MlrOFju60g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAxMzA5NA==", "bodyText": "minusToCamel?", "url": "https://github.com/seata/seata/pull/2217#discussion_r373013094", "createdAt": "2020-01-30T15:21:43Z", "author": {"login": "slievrly"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/provider/SpringBootConfigurationProvider.java", "diffHunk": "@@ -114,42 +125,46 @@ private Object get(String dataId) throws IllegalAccessException {\n      */\n     private String convertDataId(String rawDataId) {\n         if (rawDataId.startsWith(SPECIAL_KEY_VGROUP_MAPPING)) {\n-            return StarterConstants.SERVICE_PREFIX + \".\" + NORMALIZED_KEY_VGROUP_MAPPING;\n+            return SERVICE_PREFIX + DOT + NORMALIZED_KEY_VGROUP_MAPPING;\n         }\n         if (rawDataId.endsWith(SPECIAL_KEY_GROUPLIST)) {\n-            return StarterConstants.SERVICE_PREFIX + \".\" + NORMALIZED_KEY_GROUPLIST;\n+            return SERVICE_PREFIX + DOT + NORMALIZED_KEY_GROUPLIST;\n         }\n         if (rawDataId.startsWith(SPECIAL_KEY_UNDO)) {\n             String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_UNDO);\n-            return StarterConstants.UNDO_PREFIX + \".\" + StringFormatUtils.dotToCamel(suffix);\n+            return UNDO_PREFIX + DOT + StringFormatUtils.dotToCamel(suffix);\n         }\n         if (rawDataId.startsWith(SPECIAL_KEY_CLIENT_LOCK)) {\n             String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT_LOCK);\n-            return StarterConstants.LOCK_PREFIX + \".\" + StringFormatUtils.minusToCamel(\n+            return LOCK_PREFIX + DOT + StringFormatUtils.minusToCamel(\n                 StringFormatUtils.dotToCamel(suffix));\n         }\n-        if (rawDataId.startsWith(SPECIAL_KEY_CLIENT)) {\n-            String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT);\n-            return StarterConstants.CLIENT_PREFIX + \".\" + StringFormatUtils.dotToCamel(suffix);\n+        if (rawDataId.startsWith(SPECIAL_KEY_CLIENT_RM)) {\n+            String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT_RM);\n+            return CLIENT_RM_PREFIX + DOT + StringFormatUtils.dotToCamel(suffix);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f549510d3679a87cdd9e6d481637c03a7c5ea19"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAxMzIwMg==", "bodyText": "minusToCamel?", "url": "https://github.com/seata/seata/pull/2217#discussion_r373013202", "createdAt": "2020-01-30T15:21:52Z", "author": {"login": "slievrly"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/provider/SpringBootConfigurationProvider.java", "diffHunk": "@@ -114,42 +125,46 @@ private Object get(String dataId) throws IllegalAccessException {\n      */\n     private String convertDataId(String rawDataId) {\n         if (rawDataId.startsWith(SPECIAL_KEY_VGROUP_MAPPING)) {\n-            return StarterConstants.SERVICE_PREFIX + \".\" + NORMALIZED_KEY_VGROUP_MAPPING;\n+            return SERVICE_PREFIX + DOT + NORMALIZED_KEY_VGROUP_MAPPING;\n         }\n         if (rawDataId.endsWith(SPECIAL_KEY_GROUPLIST)) {\n-            return StarterConstants.SERVICE_PREFIX + \".\" + NORMALIZED_KEY_GROUPLIST;\n+            return SERVICE_PREFIX + DOT + NORMALIZED_KEY_GROUPLIST;\n         }\n         if (rawDataId.startsWith(SPECIAL_KEY_UNDO)) {\n             String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_UNDO);\n-            return StarterConstants.UNDO_PREFIX + \".\" + StringFormatUtils.dotToCamel(suffix);\n+            return UNDO_PREFIX + DOT + StringFormatUtils.dotToCamel(suffix);\n         }\n         if (rawDataId.startsWith(SPECIAL_KEY_CLIENT_LOCK)) {\n             String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT_LOCK);\n-            return StarterConstants.LOCK_PREFIX + \".\" + StringFormatUtils.minusToCamel(\n+            return LOCK_PREFIX + DOT + StringFormatUtils.minusToCamel(\n                 StringFormatUtils.dotToCamel(suffix));\n         }\n-        if (rawDataId.startsWith(SPECIAL_KEY_CLIENT)) {\n-            String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT);\n-            return StarterConstants.CLIENT_PREFIX + \".\" + StringFormatUtils.dotToCamel(suffix);\n+        if (rawDataId.startsWith(SPECIAL_KEY_CLIENT_RM)) {\n+            String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT_RM);\n+            return CLIENT_RM_PREFIX + DOT + StringFormatUtils.dotToCamel(suffix);\n+        }\n+        if (rawDataId.startsWith(SPECIAL_KEY_CLIENT_TM)) {\n+            String suffix = StringUtils.removeStart(rawDataId, SPECIAL_KEY_CLIENT_TM);\n+            return CLIENT_TM_PREFIX + DOT + StringFormatUtils.dotToCamel(suffix);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f549510d3679a87cdd9e6d481637c03a7c5ea19"}, "originalPosition": 71}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f81e2812c5e3f33a9e41846245db29d70711ef03", "author": {"user": {"login": "slievrly", "name": "jimin"}}, "url": "https://github.com/seata/seata/commit/f81e2812c5e3f33a9e41846245db29d70711ef03", "committedDate": "2020-02-03T07:23:55Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffbfc1dd950c9dfc926280ec26c1a4519d04eab7", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/ffbfc1dd950c9dfc926280ec26c1a4519d04eab7", "committedDate": "2020-02-03T12:09:53Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01509eb219cd5cd8405970a889d3b82005e67ff5", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/01509eb219cd5cd8405970a889d3b82005e67ff5", "committedDate": "2020-02-04T03:23:10Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ace87e67a4bf8d144b225c6587536da9db4e541", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/4ace87e67a4bf8d144b225c6587536da9db4e541", "committedDate": "2020-02-04T14:04:24Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79b41db9cb27d1db9d091f5e7fd36eff3864c359", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/79b41db9cb27d1db9d091f5e7fd36eff3864c359", "committedDate": "2020-02-05T05:21:54Z", "message": "Merge branch 'develop' into fix2114"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNDc1NTAz", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-353475503", "createdAt": "2020-02-05T05:36:00Z", "commit": {"oid": "79b41db9cb27d1db9d091f5e7fd36eff3864c359"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwNTozNjowMFrOFlsRNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwNTozNjowMFrOFlsRNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTA2NjkzNA==", "bodyText": "please check the import", "url": "https://github.com/seata/seata/pull/2217#discussion_r375066934", "createdAt": "2020-02-05T05:36:00Z", "author": {"login": "l81893521"}, "path": "seata-spring-boot-starter/src/main/java/io/seata/spring/boot/autoconfigure/provider/SpringBootConfigurationProvider.java", "diffHunk": "@@ -23,26 +23,37 @@\n \n import io.seata.config.Configuration;\n import io.seata.config.ExtConfigurationProvider;\n-import io.seata.spring.boot.autoconfigure.StarterConstants;\n import io.seata.spring.boot.autoconfigure.util.SpringUtils;\n import io.seata.spring.boot.autoconfigure.util.StringFormatUtils;\n import org.apache.commons.lang.StringUtils;\n import org.springframework.cglib.proxy.Enhancer;\n import org.springframework.cglib.proxy.MethodInterceptor;\n import org.springframework.cglib.proxy.MethodProxy;\n \n+import static com.alipay.lookout.common.LookoutConstants.DOT;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79b41db9cb27d1db9d091f5e7fd36eff3864c359"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "150e46abac7d5152c189f23abc1e4b6cb782b370", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/150e46abac7d5152c189f23abc1e4b6cb782b370", "committedDate": "2020-02-05T05:39:43Z", "message": "fix review."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e550ab11b26dd6cc44eff8515be0b082f4158464", "author": {"user": {"login": "xingfudeshi", "name": "xingfudeshi"}}, "url": "https://github.com/seata/seata/commit/e550ab11b26dd6cc44eff8515be0b082f4158464", "committedDate": "2020-02-05T05:46:32Z", "message": "fix item name."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNDc4Mjg5", "url": "https://github.com/seata/seata/pull/2217#pullrequestreview-353478289", "createdAt": "2020-02-05T05:46:57Z", "commit": {"oid": "e550ab11b26dd6cc44eff8515be0b082f4158464"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3990, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}