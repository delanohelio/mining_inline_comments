{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNTYzOTUy", "number": 2351, "title": "optimize: add get local global status", "bodyText": "\u2160. Describe what this PR did\nadd get local global status\n\u2161. Does this pull request fix one issue?\n\n#2325", "createdAt": "2020-03-04T13:43:34Z", "url": "https://github.com/seata/seata/pull/2351", "merged": true, "mergeCommit": {"oid": "6d63d72548f4af3af37cbe50ce50279df6ab5c1f"}, "closed": true, "closedAt": "2020-03-10T06:02:10Z", "author": {"login": "a364176773"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKXHDrgH2gAyMzgzNTYzOTUyOjc4OThkZDNhZjMzNTM1NTVmYzNhNGNlZmIyYTQ5NTNhNzMyMmMxNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMMHsJAFqTM3MTY5NzM2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7898dd3af3353555fc3a4cefb2a4953a7322c15e", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/7898dd3af3353555fc3a4cefb2a4953a7322c15e", "committedDate": "2020-03-04T13:40:51Z", "message": "add globalStatus now"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10ca2ab87ddeeb7de7b1a39cb9d4af1fe54265f1", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/10ca2ab87ddeeb7de7b1a39cb9d4af1fe54265f1", "committedDate": "2020-03-04T14:08:51Z", "message": "change method name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c103bf4ef1c907474af70e77762fa732cbd86552", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/c103bf4ef1c907474af70e77762fa732cbd86552", "committedDate": "2020-03-04T14:12:35Z", "message": "modify annotate"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "818b11d36391eb964a7ffff1b7ace60ca404d500", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/818b11d36391eb964a7ffff1b7ace60ca404d500", "committedDate": "2020-03-07T15:53:06Z", "message": "adjust the fetch state to the local state"}, "afterCommit": {"oid": "f333252e50acd540afd63d9f2aac5568fa263a14", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/f333252e50acd540afd63d9f2aac5568fa263a14", "committedDate": "2020-03-07T08:53:39Z", "message": "Merge pull request #26 from seata/develop\n\nbugfix:modify the error configuration name"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f333252e50acd540afd63d9f2aac5568fa263a14", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/f333252e50acd540afd63d9f2aac5568fa263a14", "committedDate": "2020-03-07T08:53:39Z", "message": "Merge pull request #26 from seata/develop\n\nbugfix:modify the error configuration name"}, "afterCommit": {"oid": "c103bf4ef1c907474af70e77762fa732cbd86552", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/c103bf4ef1c907474af70e77762fa732cbd86552", "committedDate": "2020-03-04T14:12:35Z", "message": "modify annotate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29026f633c9f1a4365980c10044c93039a33e2b0", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/29026f633c9f1a4365980c10044c93039a33e2b0", "committedDate": "2020-03-07T16:02:59Z", "message": "Merge pull request #27 from seata/develop\n\nupdate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4706655a68e7cfa33f8105fa4464b1addfdc0dab", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/4706655a68e7cfa33f8105fa4464b1addfdc0dab", "committedDate": "2020-03-07T16:04:20Z", "message": "adjust the fetch state to the local state"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODExODUy", "url": "https://github.com/seata/seata/pull/2351#pullrequestreview-370811852", "createdAt": "2020-03-08T08:07:14Z", "commit": {"oid": "4706655a68e7cfa33f8105fa4464b1addfdc0dab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODowNzoxNFrOFzTyPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODowNzoxNFrOFzTyPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0NTg1Mg==", "bodyText": "simplify the conditional judgment", "url": "https://github.com/seata/seata/pull/2351#discussion_r389345852", "createdAt": "2020-03-08T08:07:14Z", "author": {"login": "slievrly"}, "path": "tm/src/main/java/io/seata/tm/api/TransactionalTemplate.java", "diffHunk": "@@ -145,8 +145,9 @@ private void rollbackTransaction(GlobalTransaction tx, Throwable ex) throws Tran\n         triggerAfterRollback();\n         // 3.1 Successfully rolled back\n         throw new TransactionalExecutor.ExecutionException(tx,\n-            tx.getStatus().equals(GlobalStatus.RollbackRetrying) ? TransactionalExecutor.Code.RollbackRetrying :\n-                TransactionalExecutor.Code.RollbackDone, ex);\n+            null != tx.getLocalStatus() && tx.getLocalStatus().equals(GlobalStatus.RollbackRetrying)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4706655a68e7cfa33f8105fa4464b1addfdc0dab"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94262361def3c089443d7137e8f2b0a859232fc3", "author": {"user": {"login": "a364176773", "name": "FUNKYE"}}, "url": "https://github.com/seata/seata/commit/94262361def3c089443d7137e8f2b0a859232fc3", "committedDate": "2020-03-08T09:31:08Z", "message": "simplify the conditional judgment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjkzMjQ1", "url": "https://github.com/seata/seata/pull/2351#pullrequestreview-371693245", "createdAt": "2020-03-10T05:44:22Z", "commit": {"oid": "94262361def3c089443d7137e8f2b0a859232fc3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjk3MzY5", "url": "https://github.com/seata/seata/pull/2351#pullrequestreview-371697369", "createdAt": "2020-03-10T06:00:26Z", "commit": {"oid": "94262361def3c089443d7137e8f2b0a859232fc3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4048, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}