{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4OTI0ODU1", "number": 2407, "title": "optimize: Inaccurate judgment will lead to NPE.", "bodyText": "\u2160. Describe what this PR did\nInaccurate judgment will lead to NullPointerException. After the global web exception is caught, the successful return result will be misjudged as a failure.", "createdAt": "2020-03-16T01:58:50Z", "url": "https://github.com/seata/seata/pull/2407", "merged": true, "mergeCommit": {"oid": "7f385b236a6a0732783c0a1afc6ce3281bd2d02b"}, "closed": true, "closedAt": "2020-03-17T01:40:19Z", "author": {"login": "threefish"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOEL7KAH2gAyMzg4OTI0ODU1Ojk5ODMyM2JmMDIyZDYyYTUxMmU5MTc1ODljYzg2YjllZWUwODkxZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOYlmogFqTM3NTY4NTc3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "998323bf022d62a512e917589cc86b9eee0891fe", "author": {"user": {"login": "threefish", "name": "threefish"}}, "url": "https://github.com/seata/seata/commit/998323bf022d62a512e917589cc86b9eee0891fe", "committedDate": "2020-03-16T01:53:40Z", "message": "Update XidResource.java\n\nInaccurate judgment will lead to NullPointerException. After the global web exception is caught, the successful return result will be misjudged as a failure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46971df6bbaa1e2c347ad6775a6d521094c16db1", "author": {"user": {"login": "threefish", "name": "threefish"}}, "url": "https://github.com/seata/seata/commit/46971df6bbaa1e2c347ad6775a6d521094c16db1", "committedDate": "2020-03-16T01:54:14Z", "message": "Update XidResource.java\n\nInaccurate judgment will lead to NullPointerException. After the global web exception is caught, the successful return result will be misjudged as a failure."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODgxNTc5", "url": "https://github.com/seata/seata/pull/2407#pullrequestreview-374881579", "createdAt": "2020-03-16T02:30:01Z", "commit": {"oid": "46971df6bbaa1e2c347ad6775a6d521094c16db1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0OTAzOTI3", "url": "https://github.com/seata/seata/pull/2407#pullrequestreview-374903927", "createdAt": "2020-03-16T04:18:25Z", "commit": {"oid": "46971df6bbaa1e2c347ad6775a6d521094c16db1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5276c0b9fbeb043b6683af227accd207708a7b57", "author": {"user": {"login": "zjinlei", "name": null}}, "url": "https://github.com/seata/seata/commit/5276c0b9fbeb043b6683af227accd207708a7b57", "committedDate": "2020-03-16T05:36:20Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0OTI2NjY0", "url": "https://github.com/seata/seata/pull/2407#pullrequestreview-374926664", "createdAt": "2020-03-16T05:55:58Z", "commit": {"oid": "5276c0b9fbeb043b6683af227accd207708a7b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNTo1NTo1OFrOF2mSww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNTo1NTo1OFrOF2mSww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5NDgxOQ==", "bodyText": "!StringUtils.equalsIgnoreCase ?", "url": "https://github.com/seata/seata/pull/2407#discussion_r392794819", "createdAt": "2020-03-16T05:55:58Z", "author": {"login": "jsbxyyx"}, "path": "integration/http/src/main/java/io/seata/integration/http/XidResource.java", "diffHunk": "@@ -36,7 +36,7 @@ public static void cleanXid(String rpcXid) {\n             if (LOGGER.isDebugEnabled()) {\n                 LOGGER.debug(\"unbind[{}] from RootContext\", unbindXid);\n             }\n-            if (!rpcXid.equalsIgnoreCase(unbindXid)) {\n+            if (rpcXid != null && !rpcXid.equalsIgnoreCase(unbindXid)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5276c0b9fbeb043b6683af227accd207708a7b57"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "857dedfe9abe4e1ea3d2d9812ceaa9255deed52d", "author": {"user": {"login": "jsbxyyx", "name": "jsbxyyx"}}, "url": "https://github.com/seata/seata/commit/857dedfe9abe4e1ea3d2d9812ceaa9255deed52d", "committedDate": "2020-03-16T06:12:17Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a9d31cdf6ed8c9595d89779acd950c75f85c8b9", "author": {"user": {"login": "threefish", "name": "threefish"}}, "url": "https://github.com/seata/seata/commit/9a9d31cdf6ed8c9595d89779acd950c75f85c8b9", "committedDate": "2020-03-16T06:56:22Z", "message": "optimize: Inaccurate judgment will lead to NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c55e6d1775fac66199f6f5de90e95464de8f4577", "author": {"user": {"login": "threefish", "name": "threefish"}}, "url": "https://github.com/seata/seata/commit/c55e6d1775fac66199f6f5de90e95464de8f4577", "committedDate": "2020-03-16T13:27:59Z", "message": "Pass format checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1Njg1Nzcw", "url": "https://github.com/seata/seata/pull/2407#pullrequestreview-375685770", "createdAt": "2020-03-17T01:39:49Z", "commit": {"oid": "c55e6d1775fac66199f6f5de90e95464de8f4577"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4093, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}