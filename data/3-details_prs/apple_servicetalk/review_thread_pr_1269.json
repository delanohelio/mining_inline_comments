{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2Mjk3NDU3", "number": 1269, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMjozOToyMVrOFDt6yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMjozOToyMVrOFDt6yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NDQyMzc5OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci-release.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMjozOToyMVrOIDgjIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMzowOTozMFrOIDhqjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0OTkyMg==", "bodyText": "for 3rd party actions is better to use a commit hash instead of a tag.\ntags are not immutable and a bad actor could change Action code, harvest secrets, etc..", "url": "https://github.com/apple/servicetalk/pull/1269#discussion_r540549922", "createdAt": "2020-12-10T22:39:21Z", "author": {"login": "jerrinot"}, "path": ".github/workflows/ci-release.yml", "diffHunk": "@@ -0,0 +1,43 @@\n+name: Release Builder\n+on:\n+  push:\n+    branches: [ main ]\n+    tags:\n+      - \"[0-9]+.[0-9]+.[0-9]+\"\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Checkout Code\n+        uses: actions/checkout@v2\n+      - name: Check NO SNAPSHOT version suffix\n+        run: if [[ $(cat gradle.properties | grep version= | sed 's/^version=//') =~ .*-SNAPSHOT ]]; then exit 1; else exit 0; fi\n+      - name: Set up JDK 8\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8\n+      - name: Grant execute permission for gradlew\n+        run: chmod +x gradlew\n+      - name: Cache Gradle packages\n+        uses: actions/cache@v2\n+        with:\n+          path: |\n+            ~/.gradle/caches\n+            ~/.gradle/wrapper\n+          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+          restore-keys: ${{ runner.os }}-gradle\n+      - name: Build with Gradle\n+        env:\n+          ORG_GRADLE_PROJECT_signingKey: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGKEY }}\n+          ORG_GRADLE_PROJECT_signingPassword: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGPASSWORD }}\n+          SONATYPE_USER: ${{ secrets.SONATYPE_USER }}\n+          SONATYPE_TOKEN: ${{ secrets.SONATYPE_TOKEN }}\n+          CI: true\n+        run: ./gradlew --parallel --max-workers=4 -PreleaseBuild=true clean check && ./gradlew -PreleaseBuild=true publish\n+      - name: Publish Test Results\n+        if: ${{ always() }}\n+        uses: scacap/action-surefire-report@v1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eddaf6fc6258288364e87d55e9029ecb7db0c27f"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU1NzQ5MQ==", "bodyText": "thank @jerrinot! I will submit a followup PR to address this and make it consistent for other actions as well.", "url": "https://github.com/apple/servicetalk/pull/1269#discussion_r540557491", "createdAt": "2020-12-10T22:54:31Z", "author": {"login": "Scottmitch"}, "path": ".github/workflows/ci-release.yml", "diffHunk": "@@ -0,0 +1,43 @@\n+name: Release Builder\n+on:\n+  push:\n+    branches: [ main ]\n+    tags:\n+      - \"[0-9]+.[0-9]+.[0-9]+\"\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Checkout Code\n+        uses: actions/checkout@v2\n+      - name: Check NO SNAPSHOT version suffix\n+        run: if [[ $(cat gradle.properties | grep version= | sed 's/^version=//') =~ .*-SNAPSHOT ]]; then exit 1; else exit 0; fi\n+      - name: Set up JDK 8\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8\n+      - name: Grant execute permission for gradlew\n+        run: chmod +x gradlew\n+      - name: Cache Gradle packages\n+        uses: actions/cache@v2\n+        with:\n+          path: |\n+            ~/.gradle/caches\n+            ~/.gradle/wrapper\n+          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+          restore-keys: ${{ runner.os }}-gradle\n+      - name: Build with Gradle\n+        env:\n+          ORG_GRADLE_PROJECT_signingKey: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGKEY }}\n+          ORG_GRADLE_PROJECT_signingPassword: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGPASSWORD }}\n+          SONATYPE_USER: ${{ secrets.SONATYPE_USER }}\n+          SONATYPE_TOKEN: ${{ secrets.SONATYPE_TOKEN }}\n+          CI: true\n+        run: ./gradlew --parallel --max-workers=4 -PreleaseBuild=true clean check && ./gradlew -PreleaseBuild=true publish\n+      - name: Publish Test Results\n+        if: ${{ always() }}\n+        uses: scacap/action-surefire-report@v1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0OTkyMg=="}, "originalCommit": {"oid": "eddaf6fc6258288364e87d55e9029ecb7db0c27f"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU2ODIwNg==", "bodyText": "#1271", "url": "https://github.com/apple/servicetalk/pull/1269#discussion_r540568206", "createdAt": "2020-12-10T23:09:30Z", "author": {"login": "Scottmitch"}, "path": ".github/workflows/ci-release.yml", "diffHunk": "@@ -0,0 +1,43 @@\n+name: Release Builder\n+on:\n+  push:\n+    branches: [ main ]\n+    tags:\n+      - \"[0-9]+.[0-9]+.[0-9]+\"\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Checkout Code\n+        uses: actions/checkout@v2\n+      - name: Check NO SNAPSHOT version suffix\n+        run: if [[ $(cat gradle.properties | grep version= | sed 's/^version=//') =~ .*-SNAPSHOT ]]; then exit 1; else exit 0; fi\n+      - name: Set up JDK 8\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8\n+      - name: Grant execute permission for gradlew\n+        run: chmod +x gradlew\n+      - name: Cache Gradle packages\n+        uses: actions/cache@v2\n+        with:\n+          path: |\n+            ~/.gradle/caches\n+            ~/.gradle/wrapper\n+          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+          restore-keys: ${{ runner.os }}-gradle\n+      - name: Build with Gradle\n+        env:\n+          ORG_GRADLE_PROJECT_signingKey: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGKEY }}\n+          ORG_GRADLE_PROJECT_signingPassword: ${{ secrets.ORG_GRADLE_PROJECT_SIGNINGPASSWORD }}\n+          SONATYPE_USER: ${{ secrets.SONATYPE_USER }}\n+          SONATYPE_TOKEN: ${{ secrets.SONATYPE_TOKEN }}\n+          CI: true\n+        run: ./gradlew --parallel --max-workers=4 -PreleaseBuild=true clean check && ./gradlew -PreleaseBuild=true publish\n+      - name: Publish Test Results\n+        if: ${{ always() }}\n+        uses: scacap/action-surefire-report@v1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0OTkyMg=="}, "originalCommit": {"oid": "eddaf6fc6258288364e87d55e9029ecb7db0c27f"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2482, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}