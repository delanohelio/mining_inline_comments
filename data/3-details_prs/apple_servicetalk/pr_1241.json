{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODcyNzM3", "number": 1241, "title": "TestPublisherSubscriber API updates", "bodyText": "Motivation:\nTestPublisherSubscriber supports some consumers which can be tested via\nother means. TestPublisherSubscriber#pollTerminal doesn't inform the\ncaller as to which terminal event has arrived, and there are only\nblocking alternatives to get the terminal event, so if you call the\nwrong method you may block indefinitely.\nModifications:\n\nRemove onSubscribe and onNext Consumers\nChange the return type of TestPublisherSubscriber#pollTerminal so the\ncaller knows which type of terminal was processed\nChange the pollOnNext to avoid a null Optional value which is\ngenerally discouraged, and make the API more inline with pollTerminal\n\nResult:\nTestPublisherSubscriber has smaller API surface and poll methods provide\nresults in a more consistent fashion.", "createdAt": "2020-12-05T01:45:40Z", "url": "https://github.com/apple/servicetalk/pull/1241", "merged": true, "mergeCommit": {"oid": "d5b438502c9f66b1ec782b9c426737582f8c727f"}, "closed": true, "closedAt": "2020-12-07T23:18:26Z", "author": {"login": "Scottmitch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjCOzlAH2gAyNTMyODcyNzM3OjkyZTgzMWU5ODE2Mjk5NzQyMTc0MjE2M2NiNWZhOGM2NzA4YWEwYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj7ljUAH2gAyNTMyODcyNzM3OjY0NDc3YjUzM2ExMTE1YTE5ZTBkNjFjZDhlODNlOTk3Y2ZmZWI1MDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92e831e98162997421742163cb5fa8c6708aa0bd", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/92e831e98162997421742163cb5fa8c6708aa0bd", "committedDate": "2020-12-05T01:40:34Z", "message": "TestPublisherSubscriber API updates\n\nMotivation:\nTestPublisherSubscriber supports some consumers which can be tested via\nother means. TestPublisherSubscriber#pollTerminal doesn't inform the\ncaller as to which terminal event has arrived, and there are only\nblocking alternatives to get the terminal event, so if you call the\nwrong method you may block indefinitely.\n\nModifications:\n- Remove onSubscribe and onNext Consumers\n- Change the return type of TestPublisherSubscriber#pollTerminal so the\ncaller knows which type of terminal was processed\n- Change the pollOnNext to avoid a null Optional value which is\ngenerally discouraged, and make the API more inline with pollTerminal\n\nResult:\nTestPublisherSubscriber has smaller API surface and poll methods provide\nresults in a more consistent fashion."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca262b9062865618c6cb2dd18cb1cad647076634", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/ca262b9062865618c6cb2dd18cb1cad647076634", "committedDate": "2020-12-05T02:00:34Z", "message": "checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1Nzc2NzA5", "url": "https://github.com/apple/servicetalk/pull/1241#pullrequestreview-545776709", "createdAt": "2020-12-07T01:17:10Z", "commit": {"oid": "ca262b9062865618c6cb2dd18cb1cad647076634"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToxNzoxMFrOIASUYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToxNzoxMFrOIASUYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MTA0Mg==", "bodyText": "It returns Supplier, not an item", "url": "https://github.com/apple/servicetalk/pull/1241#discussion_r537171042", "createdAt": "2020-12-07T01:17:10Z", "author": {"login": "idelpivnitskiy"}, "path": "servicetalk-concurrent-test-internal/src/main/java/io/servicetalk/concurrent/test/internal/TestPublisherSubscriber.java", "diffHunk": "@@ -246,12 +217,13 @@ public T takeOnNext() {\n      *\n      * @param timeout The amount of time to wait.\n      * @param unit The units of {@code timeout}.\n-     * @return item delivered to {@link #onNext(Object)}, or {@code null} if a timeout occurred.\n+     * @return item delivered to {@link #onNext(Object)}, or {@code null} if a timeout occurred or a terminal signal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca262b9062865618c6cb2dd18cb1cad647076634"}, "originalPosition": 82}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64477b533a1115a19e0d61cd8e83e997cffeb500", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/64477b533a1115a19e0d61cd8e83e997cffeb500", "committedDate": "2020-12-07T20:30:00Z", "message": "fix javadoc"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3369, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}