{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMTE0MTIw", "number": 910, "title": "Move RPC paths to generated RPC interfaces", "bodyText": "Motivation\ngRPC generated code uses an Enum to define all RPC paths. It is convenient to have all paths together but they are detached from the actual RPC methods for which the paths are defined.\nModification\n\nRemove RpcPaths Enum from generated code.\nGenerate a PATH constant for all individual RPC interfaces.\nAsync interfaces defines the PATH constant with the actual path String.\nBlocking interfaces define the PATH constant which referr to the async PATH constant.\n\nResult\nRPC paths are attached to the associate RPC interfaces.", "createdAt": "2020-01-07T18:24:04Z", "url": "https://github.com/apple/servicetalk/pull/910", "merged": true, "mergeCommit": {"oid": "9edcc9d3a868fb18de630f18a52b50f8c354ff67"}, "closed": true, "closedAt": "2020-01-08T17:34:05Z", "author": {"login": "NiteshKant"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4E-UxgH2gAyMzYwMTE0MTIwOjMxMWEwNGI3NWUwOGY0YTJjNzMyOTk1Njk2ZWQxNTA4OTU0YmQ0YzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4H5-igFqTMzOTUyODQwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "311a04b75e08f4a2c732995696ed1508954bd4c4", "author": {"user": {"login": "NiteshKant", "name": "Nitesh Kant"}}, "url": "https://github.com/apple/servicetalk/commit/311a04b75e08f4a2c732995696ed1508954bd4c4", "committedDate": "2020-01-07T18:22:23Z", "message": "Move RPC paths to generated RPC interfaces\n\n__Motivation__\n\ngRPC generated code uses an `Enum` to define all RPC paths. It is convenient to have all paths together but they are detached from the actual RPC methods for which the paths are defined.\n\n__Modification__\n\n- Remove `RpcPaths` `Enum` from generated code.\n- Generate a `PATH` constant for all individual RPC interfaces.\n- Async interfaces defines the `PATH` constant with the actual path `String`.\n- Blocking interfaces define the `PATH` constant which referr to the async `PATH` constant.\n\n__Result__\n\nRPC paths are attached to the associate RPC interfaces."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NDYzNjI1", "url": "https://github.com/apple/servicetalk/pull/910#pullrequestreview-339463625", "createdAt": "2020-01-07T19:43:17Z", "commit": {"oid": "311a04b75e08f4a2c732995696ed1508954bd4c4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxOTo0MzoxN1rOFbDyyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxOTo0MzoxN1rOFbDyyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzkxODAyNw==", "bodyText": "What was the reason to decouple async and blocking interfaces generation? The code for them is almost similar. With your changes you will need to do different pathSpecBuilder.initializer depending on the blocking flag. For everything else all conditions were preexisting. Consider reverting the previous logic.", "url": "https://github.com/apple/servicetalk/pull/910#discussion_r363918027", "createdAt": "2020-01-07T19:43:17Z", "author": {"login": "idelpivnitskiy"}, "path": "servicetalk-grpc-protoc/src/main/java/io/servicetalk/grpc/protoc/Generator.java", "diffHunk": "@@ -250,26 +222,50 @@ private void addSerializationProviderInit(final State state, final TypeSpec.Buil\n \n     private void addServiceRpcInterfaces(final State state, final TypeSpec.Builder serviceClassBuilder) {\n         state.serviceRpcInterfaces = new ArrayList<>(2 * state.serviceProto.getMethodCount());\n-\n-        state.serviceProto.getMethodList().forEach(methodProto -> Stream.of(false, true).forEach(blocking -> {\n-            final String name = context.deconflictJavaTypeName((blocking ? Blocking : \"\") +\n+        state.serviceProto.getMethodList().forEach(methodProto -> {\n+            final String name = context.deconflictJavaTypeName(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "311a04b75e08f4a2c732995696ed1508954bd4c4"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NTI4NDAy", "url": "https://github.com/apple/servicetalk/pull/910#pullrequestreview-339528402", "createdAt": "2020-01-07T21:47:21Z", "commit": {"oid": "311a04b75e08f4a2c732995696ed1508954bd4c4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3233, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}