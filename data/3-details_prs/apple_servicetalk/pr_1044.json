{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MzA3OTEz", "number": 1044, "title": "Release `DnsRawRecord`s after SRV response", "bodyText": "Motivation:\nSRV response returns a list of DnsRawRecords that are\nByteBufHolders and contain reference counted content.\nModifications:\n\nRelease DnsRawRecords after processing content;\n\nResult:\nNo memory leak in DNS client.\n\nFollow-up PR for #1018 (comment)", "createdAt": "2020-05-08T16:03:36Z", "url": "https://github.com/apple/servicetalk/pull/1044", "merged": true, "mergeCommit": {"oid": "592b47786829b9441dd91354bb563b03429c47f6"}, "closed": true, "closedAt": "2020-05-08T20:36:21Z", "author": {"login": "idelpivnitskiy"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfL-fmgH2gAyNDE1MzA3OTEzOmRiNDQ0M2JmOTc4ZTE5MTE0NzFiMDdlM2Y3YWQ5MWEyZDEwNTY5MmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfW7h0AFqTQwODQ2Njk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "db4443bf978e1911471b07e3f7ad91a2d105692d", "author": {"user": {"login": "idelpivnitskiy", "name": "Idel Pivnitskiy"}}, "url": "https://github.com/apple/servicetalk/commit/db4443bf978e1911471b07e3f7ad91a2d105692d", "committedDate": "2020-05-08T06:34:57Z", "message": "Release `DnsRawRecord`s after SRV response\n\nMotivation:\n\nSRV response returns a list of `DnsRawRecord`s that are\n`ByteBufHolder`s and contain reference counted content.\n\nModifications:\n\n- Release `DnsRawRecord`s after processing content;\n\nResult:\n\nNo memory leak in DNS client."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Mzc3NzM2", "url": "https://github.com/apple/servicetalk/pull/1044#pullrequestreview-408377736", "createdAt": "2020-05-08T16:56:45Z", "commit": {"oid": "db4443bf978e1911471b07e3f7ad91a2d105692d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjo1Njo0NVrOGSsZsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNjo1Njo0NVrOGSsZsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI1NTAyNg==", "bodyText": "We have been favoring annotations for suppression instead of comments.", "url": "https://github.com/apple/servicetalk/pull/1044#discussion_r422255026", "createdAt": "2020-05-08T16:56:45Z", "author": {"login": "NiteshKant"}, "path": "servicetalk-dns-discovery-netty/src/main/java/io/servicetalk/dns/discovery/netty/DefaultDnsClient.java", "diffHunk": "@@ -254,9 +255,10 @@ protected AbstractDnsSubscription newSubscription(\n                                 } else {\n                                     final DnsAnswer<HostAndPort> dnsAnswer;\n                                     long minTTLSeconds = Long.MAX_VALUE;\n+                                    List<DnsRecord> dnsRecords = null;\n                                     try {\n-                                        @SuppressWarnings(\"unchecked\")\n-                                        final List<DnsRecord> dnsRecords = (List<DnsRecord>) completedFuture.getNow();\n+                                        //noinspection unchecked", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db4443bf978e1911471b07e3f7ad91a2d105692d"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Mzg4NjI2", "url": "https://github.com/apple/servicetalk/pull/1044#pullrequestreview-408388626", "createdAt": "2020-05-08T17:14:15Z", "commit": {"oid": "db4443bf978e1911471b07e3f7ad91a2d105692d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNzoxNDoxNVrOGSs7jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxNzoxNDoxNVrOGSs7jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI2MzY5NA==", "bodyText": "Is this comment IDE specific? if so consider keeping the local variable to preserve the previous @ SuppressWarnings and re-assign to outer scope variable.", "url": "https://github.com/apple/servicetalk/pull/1044#discussion_r422263694", "createdAt": "2020-05-08T17:14:15Z", "author": {"login": "Scottmitch"}, "path": "servicetalk-dns-discovery-netty/src/main/java/io/servicetalk/dns/discovery/netty/DefaultDnsClient.java", "diffHunk": "@@ -254,9 +255,10 @@ protected AbstractDnsSubscription newSubscription(\n                                 } else {\n                                     final DnsAnswer<HostAndPort> dnsAnswer;\n                                     long minTTLSeconds = Long.MAX_VALUE;\n+                                    List<DnsRecord> dnsRecords = null;\n                                     try {\n-                                        @SuppressWarnings(\"unchecked\")\n-                                        final List<DnsRecord> dnsRecords = (List<DnsRecord>) completedFuture.getNow();\n+                                        //noinspection unchecked", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjI1NTAyNg=="}, "originalCommit": {"oid": "db4443bf978e1911471b07e3f7ad91a2d105692d"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9972fb430409458dbe099f9d1b11aa31005c33a3", "author": {"user": {"login": "idelpivnitskiy", "name": "Idel Pivnitskiy"}}, "url": "https://github.com/apple/servicetalk/commit/9972fb430409458dbe099f9d1b11aa31005c33a3", "committedDate": "2020-05-08T17:21:12Z", "message": "address comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDYzNjI5", "url": "https://github.com/apple/servicetalk/pull/1044#pullrequestreview-408463629", "createdAt": "2020-05-08T19:15:07Z", "commit": {"oid": "9972fb430409458dbe099f9d1b11aa31005c33a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDY2OTU5", "url": "https://github.com/apple/servicetalk/pull/1044#pullrequestreview-408466959", "createdAt": "2020-05-08T19:20:40Z", "commit": {"oid": "9972fb430409458dbe099f9d1b11aa31005c33a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3672, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}