{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0Nzk3MDIw", "number": 1258, "title": "Github Actions Pull Request Builder", "bodyText": "", "createdAt": "2020-12-08T23:40:31Z", "url": "https://github.com/apple/servicetalk/pull/1258", "merged": true, "mergeCommit": {"oid": "6f7f8c45e188f0f4e69097afac41398bc4921ac0"}, "closed": true, "closedAt": "2020-12-10T19:08:39Z", "author": {"login": "Scottmitch"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkrImMgFqTU0ODc5MjQ2NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk4BItABqjQwOTY3MDUyMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NzkyNDY1", "url": "https://github.com/apple/servicetalk/pull/1258#pullrequestreview-548792465", "createdAt": "2020-12-10T03:29:21Z", "commit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwMzoyOToyMVrOICz3Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwMzo0NjozMVrOIC0Nxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgxNzgxMQ==", "bodyText": "Because we release using JDK8 we should run quality task on JDK8 as well. Otherwise, there is a risk to fail the release. We observed behavior different for spotbugs on different JDK versions.", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539817811", "createdAt": "2020-12-10T03:29:21Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK8\n+      uses: actions/setup-java@v1.4.3\n+      with:\n+        java-version: 1.8\n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+    - name: Cache Gradle packages\n+      uses: actions/cache@v2\n+      with:\n+        path: |\n+          ~/.gradle/caches\n+          ~/.gradle/wrapper\n+        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+        restore-keys: ${{ runner.os }}-gradle\n+    - name: Build with Gradle\n+      run: ./gradlew --parallel --max-workers=4 clean test\n+    - name: Publish Test Results\n+      if: ${{ always() }}\n+      uses: scacap/action-surefire-report@v1.0.5\n+      with:\n+        github_token: ${{ secrets.GITHUB_TOKEN }}\n+        report_paths: '**/build/test-results/test/TEST-*.xml'\n+        check_name: JDK8 Test Report\n+\n+  build-jdk11:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK11\n+      uses: actions/setup-java@v1.4.3\n+      with:\n+        java-version: 1.11\n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+    - name: Cache Gradle packages\n+      uses: actions/cache@v2\n+      with:\n+        path: |\n+          ~/.gradle/caches\n+          ~/.gradle/wrapper\n+        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+        restore-keys: ${{ runner.os }}-gradle\n+    - name: Build with Gradle\n+      run: ./gradlew --parallel --max-workers=4 clean test\n+    - name: Publish Test Results\n+      if: ${{ always() }}\n+      uses: scacap/action-surefire-report@v1.0.5\n+      with:\n+        github_token: ${{ secrets.GITHUB_TOKEN }}\n+        report_paths: '**/build/test-results/test/TEST-*.xml'\n+        check_name: JDK11 Test Report\n+\n+  quality-jdk11:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgxODQ4Ng==", "bodyText": "You use name for all other steps, consider using a name here as well", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539818486", "createdAt": "2020-12-10T03:31:16Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyMDc1NQ==", "bodyText": "Will be nice to try matrix testing: https://github.com/actions/setup-java#matrix-testing\nIf that works in parallel, we can reduce duplication in config file. Will be also great to include the latest JDK15.", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539820755", "createdAt": "2020-12-10T03:37:35Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK8\n+      uses: actions/setup-java@v1.4.3\n+      with:\n+        java-version: 1.8\n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+    - name: Cache Gradle packages\n+      uses: actions/cache@v2\n+      with:\n+        path: |\n+          ~/.gradle/caches\n+          ~/.gradle/wrapper\n+        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+        restore-keys: ${{ runner.os }}-gradle\n+    - name: Build with Gradle\n+      run: ./gradlew --parallel --max-workers=4 clean test\n+    - name: Publish Test Results\n+      if: ${{ always() }}\n+      uses: scacap/action-surefire-report@v1.0.5\n+      with:\n+        github_token: ${{ secrets.GITHUB_TOKEN }}\n+        report_paths: '**/build/test-results/test/TEST-*.xml'\n+        check_name: JDK8 Test Report\n+\n+  build-jdk11:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK11", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyMDg4MA==", "bodyText": "Consider using v1 to always get the latest version", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539820880", "createdAt": "2020-12-10T03:38:00Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK8\n+      uses: actions/setup-java@v1.4.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyMzEwMg==", "bodyText": "Sad that it doesn't print the installed version build number. I believe, 1.8 has the latest version of 1.8.212. Then they switched to 8.0.x pattern. Consider using the major version format (8 and 11) as described here: https://github.com/actions/setup-java#basic", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539823102", "createdAt": "2020-12-10T03:44:58Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK8\n+      uses: actions/setup-java@v1.4.3\n+      with:\n+        java-version: 1.8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgyMzU1OA==", "bodyText": "Consider using v1 to always get the latest minor version", "url": "https://github.com/apple/servicetalk/pull/1258#discussion_r539823558", "createdAt": "2020-12-10T03:46:31Z", "author": {"login": "idelpivnitskiy"}, "path": ".github/workflows/prb.yml", "diffHunk": "@@ -0,0 +1,86 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Pull Request Builder\n+\n+on:\n+  pull_request:\n+    branches: [ main ]\n+\n+jobs:\n+  build-jdk8:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK8\n+      uses: actions/setup-java@v1.4.3\n+      with:\n+        java-version: 1.8\n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+    - name: Cache Gradle packages\n+      uses: actions/cache@v2\n+      with:\n+        path: |\n+          ~/.gradle/caches\n+          ~/.gradle/wrapper\n+        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n+        restore-keys: ${{ runner.os }}-gradle\n+    - name: Build with Gradle\n+      run: ./gradlew --parallel --max-workers=4 clean test\n+    - name: Publish Test Results\n+      if: ${{ always() }}\n+      uses: scacap/action-surefire-report@v1.0.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12404d1cc358f3e8391640f0eeb3bf73f35e6ff5"}, "originalPosition": 33}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cdfd4983adce8e5ae5eb5f04aa0ceae2f5f48c8c", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/cdfd4983adce8e5ae5eb5f04aa0ceae2f5f48c8c", "committedDate": "2020-12-10T04:56:02Z", "message": "use matrix, address review comments"}, "afterCommit": {"oid": "0906c72b778a78de5853f118e757133e6839f09b", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/0906c72b778a78de5853f118e757133e6839f09b", "committedDate": "2020-12-10T05:02:46Z", "message": "move CI env"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDE2NzU0", "url": "https://github.com/apple/servicetalk/pull/1258#pullrequestreview-549416754", "createdAt": "2020-12-10T17:07:15Z", "commit": {"oid": "ff4a4683a4a1144d395a13a2e11c378fbe1d85df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff4a4683a4a1144d395a13a2e11c378fbe1d85df", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/ff4a4683a4a1144d395a13a2e11c378fbe1d85df", "committedDate": "2020-12-10T17:06:07Z", "message": "remove windows build"}, "afterCommit": {"oid": "1b5d1b251f6194b8d0a5cacf0b21ba492b6f522c", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/1b5d1b251f6194b8d0a5cacf0b21ba492b6f522c", "committedDate": "2020-12-10T17:39:10Z", "message": "Ignore BufferStrategy#sizeOrDurationConcurrent test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b5d1b251f6194b8d0a5cacf0b21ba492b6f522c", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/1b5d1b251f6194b8d0a5cacf0b21ba492b6f522c", "committedDate": "2020-12-10T17:39:10Z", "message": "Ignore BufferStrategy#sizeOrDurationConcurrent test"}, "afterCommit": {"oid": "2d62da57d8ecb58f3df056c8e40093891a67c3ed", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/2d62da57d8ecb58f3df056c8e40093891a67c3ed", "committedDate": "2020-12-10T17:42:31Z", "message": "Ignore BufferStrategy#sizeOrDurationConcurrent test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d62da57d8ecb58f3df056c8e40093891a67c3ed", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/2d62da57d8ecb58f3df056c8e40093891a67c3ed", "committedDate": "2020-12-10T17:42:31Z", "message": "Ignore BufferStrategy#sizeOrDurationConcurrent test"}, "afterCommit": {"oid": "4782e8e4467ee18833bea42739fcd7efc1a96bd7", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/4782e8e4467ee18833bea42739fcd7efc1a96bd7", "committedDate": "2020-12-10T17:50:03Z", "message": "Ignore BufferStrategyTest#sizeOrDurationConcurrent"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2879f33ef1192e76cb5f838f874a44dcea468f7", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/f2879f33ef1192e76cb5f838f874a44dcea468f7", "committedDate": "2020-12-10T18:09:22Z", "message": "add quality reports"}, "afterCommit": {"oid": "c0b8046542ecf0d01295521308c1ea71cd23a5ff", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/c0b8046542ecf0d01295521308c1ea71cd23a5ff", "committedDate": "2020-12-10T18:21:01Z", "message": "Ignore BufferStrategyTest#sizeOrDurationConcurrent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcbc59afcbfb41aa5810f946f7b018f70ef70bc2", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/fcbc59afcbfb41aa5810f946f7b018f70ef70bc2", "committedDate": "2020-12-10T18:54:10Z", "message": "Github Actions Pull Request Builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2d999c2f1a0ea1eb82ec48d423f9557adf2f936", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/c2d999c2f1a0ea1eb82ec48d423f9557adf2f936", "committedDate": "2020-12-10T18:54:16Z", "message": "Ignore TcpTransportObserverTest#testConnectionObserverEvents"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9c666c205112788d0b2a509fe8c0e8c75e30939", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/c9c666c205112788d0b2a509fe8c0e8c75e30939", "committedDate": "2020-12-10T18:54:16Z", "message": "Ignore StreamObserverTest#maxActiveStreamsViolationError"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e40c0a4eb6ae05a0da5c6ab11b8fe0ea34375063", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/e40c0a4eb6ae05a0da5c6ab11b8fe0ea34375063", "committedDate": "2020-12-10T18:54:16Z", "message": "Ignore BufferStrategyTest#sizeOrDurationConcurrent"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60ba3f28005813d768aca70f34b91a60113baefb", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/60ba3f28005813d768aca70f34b91a60113baefb", "committedDate": "2020-12-10T18:47:28Z", "message": "fix version info"}, "afterCommit": {"oid": "e40c0a4eb6ae05a0da5c6ab11b8fe0ea34375063", "author": {"user": {"login": "Scottmitch", "name": "Scott Mitchell"}}, "url": "https://github.com/apple/servicetalk/commit/e40c0a4eb6ae05a0da5c6ab11b8fe0ea34375063", "committedDate": "2020-12-10T18:54:16Z", "message": "Ignore BufferStrategyTest#sizeOrDurationConcurrent"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3377, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}