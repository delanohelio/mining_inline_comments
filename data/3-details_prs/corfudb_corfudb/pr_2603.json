{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1NzUxMTI4", "number": 2603, "title": "Handle the case where Version Table is empty.", "bodyText": "If the version table is dropped using the CorfuStoreBrowser(UFO) for testing, it will be empty and should be re-created.", "createdAt": "2020-07-07T23:08:41Z", "url": "https://github.com/CorfuDB/CorfuDB/pull/2603", "merged": true, "mergeCommit": {"oid": "c052298592f45c6d541407e6f8d31580a657928d"}, "closed": true, "closedAt": "2020-07-08T19:25:43Z", "author": {"login": "pankti-m"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyuHFaAH2gAyNDQ1NzUxMTI4OjBlNThkZDlmYjRmODZlNDhlOGM0NGFiZTgyNjQ4ZGIxYjRhZGIzNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy_igIAFqTQ0NTA2MzQyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0e58dd9fb4f86e48e8c44abe82648db1b4adb36f", "author": {"user": {"login": "pankti-m", "name": null}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/0e58dd9fb4f86e48e8c44abe82648db1b4adb36f", "committedDate": "2020-07-07T23:05:40Z", "message": "Handle the case where Version Table is empty."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDIwNzI4", "url": "https://github.com/CorfuDB/CorfuDB/pull/2603#pullrequestreview-445020728", "createdAt": "2020-07-08T18:21:17Z", "commit": {"oid": "0e58dd9fb4f86e48e8c44abe82648db1b4adb36f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxODoyMToxN1rOGu0Dsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxODoyMToxN1rOGu0Dsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc0MDU5NQ==", "bodyText": "Add a log message for this case.", "url": "https://github.com/CorfuDB/CorfuDB/pull/2603#discussion_r451740595", "createdAt": "2020-07-08T18:21:17Z", "author": {"login": "xiaoqin2012"}, "path": "infrastructure/src/main/java/org/corfudb/infrastructure/logreplication/utils/LogReplicationStreamNameTableManager.java", "diffHunk": "@@ -124,8 +124,14 @@ private boolean tableVersionMatchesPlugin() {\n         corfuStore.openTable(CORFU_SYSTEM_NAMESPACE, LOG_REPLICATION_PLUGIN_VERSION_TABLE);\n         LogReplicationStreams.VersionString versionString = LogReplicationStreams.VersionString.newBuilder().setName(\"VERSION\").build();\n         Query q = corfuStore.query(CORFU_SYSTEM_NAMESPACE);\n+\n+        // If the version table is dropped using the CorfuStoreBrowser(UFO) for testing, it will be empty.\n+        // In this case, it should be re-created\n+        if (q.getRecord(LOG_REPLICATION_PLUGIN_VERSION_TABLE, versionString) == null) {\n+            return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e58dd9fb4f86e48e8c44abe82648db1b4adb36f"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDIwODEz", "url": "https://github.com/CorfuDB/CorfuDB/pull/2603#pullrequestreview-445020813", "createdAt": "2020-07-08T18:21:24Z", "commit": {"oid": "0e58dd9fb4f86e48e8c44abe82648db1b4adb36f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDYzNDIw", "url": "https://github.com/CorfuDB/CorfuDB/pull/2603#pullrequestreview-445063420", "createdAt": "2020-07-08T19:24:00Z", "commit": {"oid": "0e58dd9fb4f86e48e8c44abe82648db1b4adb36f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4215, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}