{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1OTUwOTY4", "number": 2604, "title": "Correct Behavior of Failed Negotiation", "bodyText": "Overview\nDescription:\nIf negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.", "createdAt": "2020-07-08T04:37:37Z", "url": "https://github.com/CorfuDB/CorfuDB/pull/2604", "merged": true, "mergeCommit": {"oid": "76920fce3fb00c3319a182f1e66927bbc42bc84f"}, "closed": true, "closedAt": "2020-07-08T18:53:25Z", "author": {"login": "annym"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyzurFABqjM1MjM1MTQzNjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy_GIsgBqjM1MjY1ODA5MDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b192c6c03653aaaa82c5f36f3f0a6c6ba7239752", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/b192c6c03653aaaa82c5f36f3f0a6c6ba7239752", "committedDate": "2020-07-08T04:22:00Z", "message": "Correct Behavior of Failed Negotiation\n\nIf negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation."}, "afterCommit": {"oid": "a658d5ebf1a15967494d1a37d164a48b47774ca0", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/a658d5ebf1a15967494d1a37d164a48b47774ca0", "committedDate": "2020-07-08T05:38:08Z", "message": "Correct Behavior of Failed Negotiation\n\nIf negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a658d5ebf1a15967494d1a37d164a48b47774ca0", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/a658d5ebf1a15967494d1a37d164a48b47774ca0", "committedDate": "2020-07-08T05:38:08Z", "message": "Correct Behavior of Failed Negotiation\n\nIf negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation."}, "afterCommit": {"oid": "e884765b3f46f5f6a0581dd9eb0af4069b244971", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/e884765b3f46f5f6a0581dd9eb0af4069b244971", "committedDate": "2020-07-08T05:43:26Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e884765b3f46f5f6a0581dd9eb0af4069b244971", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/e884765b3f46f5f6a0581dd9eb0af4069b244971", "committedDate": "2020-07-08T05:43:26Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}, "afterCommit": {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "committedDate": "2020-07-08T06:13:32Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDAwOTM4", "url": "https://github.com/CorfuDB/CorfuDB/pull/2604#pullrequestreview-445000938", "createdAt": "2020-07-08T17:53:36Z", "commit": {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzo1MzozNlrOGuzHUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzo1MzozNlrOGuzHUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNTEzNg==", "bodyText": "nit - extra whitespace", "url": "https://github.com/CorfuDB/CorfuDB/pull/2604#discussion_r451725136", "createdAt": "2020-07-08T17:53:36Z", "author": {"login": "pankti-m"}, "path": "infrastructure/src/main/java/org/corfudb/infrastructure/logreplication/runtime/fsm/VerifyingRemoteLeaderState.java", "diffHunk": "@@ -108,7 +108,7 @@ public synchronized void verifyLeadership() {\n                                 .toArray(new CompletableFuture<?>[pendingLeadershipQueries.size()])).get(CorfuLogReplicationRuntime.DEFAULT_TIMEOUT, TimeUnit.MILLISECONDS);\n \n                         if (leadershipResponse.isLeader()) {\n-                            log.info(\"Leader for remote cluster, node={}\", leadershipResponse.getEndpoint());\n+                                log.info(\"Leader for remote cluster, node={}\", leadershipResponse.getEndpoint());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDI4NDE0", "url": "https://github.com/CorfuDB/CorfuDB/pull/2604#pullrequestreview-445028414", "createdAt": "2020-07-08T18:32:23Z", "commit": {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11e99237b0fefbd5bcd01e247309dcc4e66760d5", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/11e99237b0fefbd5bcd01e247309dcc4e66760d5", "committedDate": "2020-07-08T18:52:47Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/f4f993d02d40511bb06278fbbf5d0f2d8523b2db", "committedDate": "2020-07-08T06:13:32Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}, "afterCommit": {"oid": "11e99237b0fefbd5bcd01e247309dcc4e66760d5", "author": {"user": {"login": "annym", "name": "Anny Martinez"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/11e99237b0fefbd5bcd01e247309dcc4e66760d5", "committedDate": "2020-07-08T18:52:47Z", "message": "Correct Behavior of Failed Negotiation + Leadership Retry\n\n- If negotiation fails due to version or topologyConfigId mismatch\nthe behavior will be to retry negotiation.\n- Retry Leadership request if failed to query for a leader."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4218, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}