{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNTUwODQ0", "number": 2790, "title": "CorfuStore: Stream tails per table api needed for search", "bodyText": "Overview\nDescription:\nWhy should this be merged:\nRelated issue(s) (if applicable): #\nChecklist (Definition of Done):\n\n There are no TODOs left in the code\n Coding conventions (e.g. for logging, unit tests) have been followed\n Change is covered by automated tests\n Public API has Javadoc", "createdAt": "2020-10-14T18:08:08Z", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790", "merged": true, "mergeCommit": {"oid": "c89d7c5ce85d51db02aead45bab63ad369109ec9"}, "closed": true, "closedAt": "2020-10-21T23:17:57Z", "author": {"login": "hisundar"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSkH6lABqjM4Nzg2MTQ0NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUw5IbAH2gAyNTAzNTUwODQ0Ojk4Y2EzZmY1NDVhMDA2NTBiNzZiM2JhN2NkNzUzMzQ3YzVjNTc3ODA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26c6ff206768ddb1526db7e3bab2cd23781a4d38", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/26c6ff206768ddb1526db7e3bab2cd23781a4d38", "committedDate": "2020-10-14T18:07:08Z", "message": "CorfuStore: Stream tails per table api needed for search"}, "afterCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/c5776d6686856fc30387f069931f108ac483450f", "committedDate": "2020-10-14T21:32:47Z", "message": "CorfuStore: Stream tails per table api needed for search"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODQ4MDk0", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#pullrequestreview-508848094", "createdAt": "2020-10-14T23:55:12Z", "commit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODYwOTc0", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#pullrequestreview-508860974", "createdAt": "2020-10-15T00:35:39Z", "commit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMDozNTo0MFrOHhstwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMDozNTo0MFrOHhstwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5NzY2NQ==", "bodyText": "Missing @return in javadoc", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#discussion_r505097665", "createdAt": "2020-10-15T00:35:40Z", "author": {"login": "WenbinZhu"}, "path": "runtime/src/main/java/org/corfudb/runtime/collections/Table.java", "diffHunk": "@@ -293,6 +293,14 @@ public int count() {\n         return corfuTable.keySet();\n     }\n \n+    /**\n+     * Return the address of the latest updated made in this table.\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODY1MTg5", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#pullrequestreview-508865189", "createdAt": "2020-10-15T00:49:56Z", "commit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODYyMDE4", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#pullrequestreview-508862018", "createdAt": "2020-10-15T00:39:08Z", "commit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMDozOTowOFrOHhsxTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTozMzoxMVrOHhtodg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5ODU3Mw==", "bodyText": "typo - update", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#discussion_r505098573", "createdAt": "2020-10-15T00:39:08Z", "author": {"login": "pankti-m"}, "path": "runtime/src/main/java/org/corfudb/runtime/collections/Table.java", "diffHunk": "@@ -293,6 +293,14 @@ public int count() {\n         return corfuTable.keySet();\n     }\n \n+    /**\n+     * Return the address of the latest updated made in this table.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA5OTUwNA==", "bodyText": "should we add an api in CorfuStore for this?  Otherwise users will directly access the table", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#discussion_r505099504", "createdAt": "2020-10-15T00:42:14Z", "author": {"login": "pankti-m"}, "path": "runtime/src/main/java/org/corfudb/runtime/collections/Table.java", "diffHunk": "@@ -293,6 +293,14 @@ public int count() {\n         return corfuTable.keySet();\n     }\n \n+    /**\n+     * Return the address of the latest updated made in this table.\n+     *\n+     */\n+    public long getHighestSequence() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTExMjY5NA==", "bodyText": "can we rename the test to something more explanatory?  something like testSecondaryIndexes()", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#discussion_r505112694", "createdAt": "2020-10-15T01:33:11Z", "author": {"login": "pankti-m"}, "path": "test/src/test/java/org/corfudb/runtime/collections/CorfuStoreShimTest.java", "diffHunk": "@@ -104,6 +109,58 @@ public void checkDirtyReads() throws Exception {\n         log.debug(table.getMetrics().toString());\n     }\n \n+    @Test\n+    public void checkIndexes() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTU4MDEz", "url": "https://github.com/CorfuDB/CorfuDB/pull/2790#pullrequestreview-509958013", "createdAt": "2020-10-16T01:46:12Z", "commit": {"oid": "c5776d6686856fc30387f069931f108ac483450f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5776d6686856fc30387f069931f108ac483450f", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/c5776d6686856fc30387f069931f108ac483450f", "committedDate": "2020-10-14T21:32:47Z", "message": "CorfuStore: Stream tails per table api needed for search"}, "afterCommit": {"oid": "9a8f434355dea3284863919f1f0568c3b40e7426", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/9a8f434355dea3284863919f1f0568c3b40e7426", "committedDate": "2020-10-17T00:07:52Z", "message": "CorfuStore: Stream tails per table api needed for search\n\nMinor fix to getRecord() to handle null values."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e7ae9bf4753de73bc8b7bc69e1ad0675169e1ca", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/8e7ae9bf4753de73bc8b7bc69e1ad0675169e1ca", "committedDate": "2020-10-17T00:21:09Z", "message": "CorfuStore: Stream tails per table api needed for search\n\nMinor fix to getRecord() to handle null values.\nUse getOrCreate on SharedMetricRegistry for compatability with 3.1.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a8f434355dea3284863919f1f0568c3b40e7426", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/9a8f434355dea3284863919f1f0568c3b40e7426", "committedDate": "2020-10-17T00:07:52Z", "message": "CorfuStore: Stream tails per table api needed for search\n\nMinor fix to getRecord() to handle null values."}, "afterCommit": {"oid": "8e7ae9bf4753de73bc8b7bc69e1ad0675169e1ca", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/8e7ae9bf4753de73bc8b7bc69e1ad0675169e1ca", "committedDate": "2020-10-17T00:21:09Z", "message": "CorfuStore: Stream tails per table api needed for search\n\nMinor fix to getRecord() to handle null values.\nUse getOrCreate on SharedMetricRegistry for compatability with 3.1.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98ca3ff545a00650b76b3ba7cd753347c5c57780", "author": {"user": {"login": "hisundar", "name": "Sundar Sridharan"}}, "url": "https://github.com/CorfuDB/CorfuDB/commit/98ca3ff545a00650b76b3ba7cd753347c5c57780", "committedDate": "2020-10-21T17:33:34Z", "message": "Merge branch 'master' into ufo-table-tails"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4094, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}