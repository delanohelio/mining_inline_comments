{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MDIyODI1", "number": 3115, "title": "fix: honor resource config on name field in method flattening", "bodyText": "We generate flattening overload methods where resource name strings are replaced by resource name types. Previously we only check resource_reference to see if a field is a resource name, this is not enough as the field name in a resource message is also a resource name field, but does not have resource_reference annotation.\nI found this while generating the method CreateSubscription for PubSub. The pattern is strongly discouraged for new APIs; but we can't break PubSub.", "createdAt": "2020-03-05T01:51:07Z", "url": "https://github.com/googleapis/gapic-generator/pull/3115", "merged": true, "mergeCommit": {"oid": "06463219f95bedb0f9c788dffa888c5ebfc199cc"}, "closed": true, "closedAt": "2020-03-05T22:06:48Z", "author": {"login": "yihanzhen"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKhVwEgH2gAyMzg0MDIyODI1OjQ2MTAwOTU5MzQzMjljNTYzNGYyNjBlNjZiNzE5OWE1MjAyMDJjYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKy6HDgFqTM2OTk0ODQ4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4610095934329c5634f260e66b7199a520202cab", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/4610095934329c5634f260e66b7199a520202cab", "committedDate": "2020-03-05T01:35:57Z", "message": "Fix pubsub"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjQ3ODIw", "url": "https://github.com/googleapis/gapic-generator/pull/3115#pullrequestreview-369247820", "createdAt": "2020-03-05T01:52:14Z", "commit": {"oid": "4610095934329c5634f260e66b7199a520202cab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMTo1MjoxNFrOFyD8zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMTo1MjoxNFrOFyD8zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzNzgzNg==", "bodyText": "This is the only baseline change that matters... everything else is caused by adding an RPC.", "url": "https://github.com/googleapis/gapic-generator/pull/3115#discussion_r388037836", "createdAt": "2020-03-05T01:52:14Z", "author": {"login": "yihanzhen"}, "path": "src/test/java/com/google/api/codegen/protoannotations/testdata/java_library.baseline", "diffHunk": "@@ -9192,6 +9193,121 @@ public class LibraryClient implements BackgroundResource {\n     return stub.streamingArchiveBooksCallable();\n   }\n \n+  // AUTO-GENERATED DOCUMENTATION AND METHOD\n+  /**\n+   * Test use resource message as request objects. Only used by PubSub (CreateSubscription) for historical reasons.\n+   * New APIs should always create a separate message for a request.\n+   *\n+   * Sample code:\n+   * <pre><code>\n+   * try (LibraryClient libraryClient = LibraryClient.create()) {\n+   *   BookName name = BookName.ofShelfBookName(\"[SHELF]\", \"[BOOK]\");\n+   *   String author = \"\";\n+   *   String title = \"\";\n+   *   Book.Rating rating = Book.Rating.GOOD;\n+   *   libraryClient.saveBook(name, author, title, rating);\n+   * }\n+   * </code></pre>\n+   *\n+   * @param name The resource name of the book.\n+   * Book names have the form `bookShelves/{shelf_id}/books/{book_id}`.\n+   * Message field comment may include special characters: &lt;&gt;&amp;\"`'{@literal @}.\n+   * @param author The name of the book author.\n+   * @param title The title of the book.\n+   * @param rating For testing enums.\n+   * @throws com.google.api.gax.rpc.ApiException if the remote call fails\n+   */\n+  public final void saveBook(BookName name, String author, String title, Book.Rating rating) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4610095934329c5634f260e66b7199a520202cab"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9407891bd316381a44f6e564cfff1acbb967351f", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/9407891bd316381a44f6e564cfff1acbb967351f", "committedDate": "2020-03-05T01:54:00Z", "message": "format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ead8ba4e37492dfddaed6ac9c983c2ba2b69a31f", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/ead8ba4e37492dfddaed6ac9c983c2ba2b69a31f", "committedDate": "2020-03-05T02:37:23Z", "message": "update baseline"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5OTQ4NDgy", "url": "https://github.com/googleapis/gapic-generator/pull/3115#pullrequestreview-369948482", "createdAt": "2020-03-05T22:04:03Z", "commit": {"oid": "ead8ba4e37492dfddaed6ac9c983c2ba2b69a31f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1417, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}