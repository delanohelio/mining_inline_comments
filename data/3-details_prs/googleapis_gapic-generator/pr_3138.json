{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2ODM1MTIw", "number": 3138, "title": "Assign the proto file where the interface is defined when generating samples and tests for arbitrary resource names", "bodyText": "Follow-up of #3027\nWhen picking a SingleResourceNameConfig to use to generate samples for AnyResourceNameConfig, we need to assign the correct proto file to the SingleResourceNameConfig so that we know the correct full classpath of the generated resource name class.\n#3027 uses the package where the method is defined, which fixed a common case of IAM methods where request objects are imported from the IAM package.\nThat did not cover the case for PubSub where the IAM methods are added by reroute_to_grpc_interface in gapic config. In this case the method is also defined in IAM package.\nThis PR change the behavior to assigning the proto file where the interface we are generating is defined, which should cover both cases.\nCaught this when trying to generate PubSub from gapic v2. Had the following error:\nERROR: /tmpfs/src/piper/google3/third_party/googleapis/google/pubsub/v1/BUILD.bazel:69:1: Building google/pubsub/v1/libpubsub_java_gapic_test.jar (1 source jar) failed (Exit 1)\n/com/google/cloud/pubsub/v1/TopicAdminClientTest.java:438: error: cannot find symbol\n    ResourceName resource = com.google.iam.v1.ProjectName.of(\"[PROJECT]\");\n                                             ^\n  symbol:   class ProjectName\n  location: package com.google.iam.v1", "createdAt": "2020-03-11T17:50:44Z", "url": "https://github.com/googleapis/gapic-generator/pull/3138", "merged": true, "mergeCommit": {"oid": "43a8733bac1590f13fe1a04c8dedb9e4a7069deb"}, "closed": true, "closedAt": "2020-03-12T00:34:35Z", "author": {"login": "yihanzhen"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMqeNbgH2gAyMzg2ODM1MTIwOmQ2NGQ5M2VhZTYwZjc0YmU1YjNkYjgwOGYyZjExMGFiZjVlMGEzZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMvObKAFqTM3MzE4MDQzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d64d93eae60f74be5b3db808f2f110abf5e0a3db", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/d64d93eae60f74be5b3db808f2f110abf5e0a3db", "committedDate": "2020-03-11T17:22:11Z", "message": "use interface:"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMDM3NTg3", "url": "https://github.com/googleapis/gapic-generator/pull/3138#pullrequestreview-373037587", "createdAt": "2020-03-11T18:53:20Z", "commit": {"oid": "d64d93eae60f74be5b3db808f2f110abf5e0a3db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxODo1MzoyMFrOF1EezA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxODo1MzoyMFrOF1EezA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTE5MjI2OA==", "bodyText": "Why are these deleted all over the place? (i.e. please explain the connection between the code change and this change in the generated comments)", "url": "https://github.com/googleapis/gapic-generator/pull/3138#discussion_r391192268", "createdAt": "2020-03-11T18:53:20Z", "author": {"login": "vam-google"}, "path": "src/test/java/com/google/api/codegen/gapic/testdata/csharp/csharp_library.baseline", "diffHunk": "@@ -16556,7 +16556,6 @@ namespace Google.Example.Library.V1\n         /// </summary>\n         /// <param name=\"resource\">\n         /// REQUIRED: The resource which the label is being added to.\n-        /// In the form \"shelves/{shelf_id}/books/{book_id}\".", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64d93eae60f74be5b3db808f2f110abf5e0a3db"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMTgwNDM5", "url": "https://github.com/googleapis/gapic-generator/pull/3138#pullrequestreview-373180439", "createdAt": "2020-03-11T22:54:28Z", "commit": {"oid": "d64d93eae60f74be5b3db808f2f110abf5e0a3db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1367, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}