{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NzM2NTUz", "number": 3067, "title": "Support empty method signatures", "bodyText": "When an rpc has a method_signature = \"\", make sure gapic generator generates an overload with no parameters in Java and C#.\nAdd a test to demonstrate that, and slightly tweak the format of templates to make generated code look prettier.\nAlso update Java initcode.snip to make code that instantiates request objects indent correctly when the code takes up multiple lines.", "createdAt": "2020-01-06T22:14:32Z", "url": "https://github.com/googleapis/gapic-generator/pull/3067", "merged": true, "mergeCommit": {"oid": "bcf77f997685140eb5fc2e40fc4ebf8a5c56d28f"}, "closed": true, "closedAt": "2020-01-08T22:10:07Z", "author": {"login": "yihanzhen"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3zrrlAH2gAyMzU5NzM2NTUzOjU1YjAzOWI2YzEyNDVjNjNlNTFiYzI2ZGRlOGVjZDk4NTljZmU3NjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4cmdJAH2gAyMzU5NzM2NTUzOmYyZmQwZGUzNGMyY2M0NjU2ZmY0NzExNGNlNGQzOWYxN2Y2MGI2OTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "55b039b6c1245c63e51bc26dde8ecd9859cfe762", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/55b039b6c1245c63e51bc26dde8ecd9859cfe762", "committedDate": "2020-01-06T22:13:38Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48f449f222894d1801e32e39ecdfea183089f944", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/48f449f222894d1801e32e39ecdfea183089f944", "committedDate": "2020-01-06T22:29:23Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "115779378cd2e5de28f84550eb7c961829e0be10", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/115779378cd2e5de28f84550eb7c961829e0be10", "committedDate": "2020-01-06T22:39:09Z", "message": "wip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c73b366f376d3d74f2cbf58af860bbdd1a17aad9", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/c73b366f376d3d74f2cbf58af860bbdd1a17aad9", "committedDate": "2020-01-06T23:43:57Z", "message": "update-baseline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c59501f5aaa0fa5583caa80129328a885e465f76", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/c59501f5aaa0fa5583caa80129328a885e465f76", "committedDate": "2020-01-06T23:59:45Z", "message": "baseline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/6b1c44842b3da6d20511b34ca401190d64667ca8", "committedDate": "2020-01-07T00:07:59Z", "message": "done"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4OTcwNjky", "url": "https://github.com/googleapis/gapic-generator/pull/3067#pullrequestreview-338970692", "createdAt": "2020-01-07T00:17:03Z", "commit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwMDoxNzowNFrOFas4Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwMDoyNzowNlrOFatBFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0MjU4Nw==", "bodyText": "It is ok to keep it here, but please try to not mix unrelated refactoring/formatting with new features. For cases, when it happens, please mention it in the PR description.", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363542587", "createdAt": "2020-01-07T00:17:04Z", "author": {"login": "vam-google"}, "path": "src/test/java/com/google/api/codegen/discogapic/testdata/java/java_simplecompute.v1.json.baseline", "diffHunk": "@@ -8890,8 +8890,8 @@ public class AddressClient implements BackgroundResource {\n   public final AggregatedListAddressesPagedResponse aggregatedListAddresses(ProjectName project) {\n     AggregatedListAddressesHttpRequest request =\n         AggregatedListAddressesHttpRequest.newBuilder()\n-        .setProject(project == null ? null : project.toString())\n-        .build();\n+            .setProject(project == null ? null : project.toString())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDIzOQ==", "bodyText": "Probably the logic like this should be in the view object itself or in the @snippetArgTypes() \"snip\" method (so you can avoid repeating the @if statement everywhere).", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544239", "createdAt": "2020-01-07T00:24:10Z", "author": {"login": "vam-google"}, "path": "src/main/resources/com/google/api/codegen/csharp/gapic_snippets.snip", "diffHunk": "@@ -67,7 +67,7 @@\n @private flattenedMethodSync(snippetMethod)\n     public void {@snippetMethod.snippetMethodName}()\n     {\n-        // Snippet: {@snippetMethod.method.name}({@snippetArgTypes(snippetMethod.method.methodParams)},CallSettings)\n+        // Snippet: {@snippetMethod.method.name}({@snippetArgTypes(snippetMethod.method.methodParams)}{@if(snippetMethod.method.methodParams, \",\", \"\")}CallSettings)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDQwMA==", "bodyText": "Why is this needed?", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544400", "createdAt": "2020-01-07T00:24:56Z", "author": {"login": "vam-google"}, "path": "src/main/resources/com/google/api/codegen/java/grpc_test.snip", "diffHunk": "@@ -82,8 +82,10 @@\n   public void {@test.name}() {\n     {@addResponse(test)}\n \n-    {@initCode(test.testCaseInitCode)}\n+    @if test.testCaseInitCode.lines", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU0NDg1Mw==", "bodyText": "Can @builderSetCalls method return nothing if apiMethod.requestObjectParams is empty? I is subjective, but it seems like moving the check to the @builderSetCalls snip method is cleaner, than having the if-else statement here. Also it can reduce code duplication (seems same check is done on L613)", "url": "https://github.com/googleapis/gapic-generator/pull/3067#discussion_r363544853", "createdAt": "2020-01-07T00:27:06Z", "author": {"login": "vam-google"}, "path": "src/main/resources/com/google/api/codegen/java/main.snip", "diffHunk": "@@ -452,9 +452,13 @@\n       {@pathTemplateCheckLine(pathTemplateCheck)}\n     @end\n     {@apiMethod.serviceRequestTypeName} request =\n-        {@apiMethod.serviceRequestTypeName}.newBuilder()\n-        {@builderSetCalls(apiMethod.requestObjectParams)}\n-        .build();\n+        @if apiMethod.requestObjectParams\n+          {@apiMethod.serviceRequestTypeName}.newBuilder()\n+              {@builderSetCalls(apiMethod.requestObjectParams)}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMTYyMDg1", "url": "https://github.com/googleapis/gapic-generator/pull/3067#pullrequestreview-340162085", "createdAt": "2020-01-08T21:39:22Z", "commit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMTYyMzYz", "url": "https://github.com/googleapis/gapic-generator/pull/3067#pullrequestreview-340162363", "createdAt": "2020-01-08T21:39:57Z", "commit": {"oid": "6b1c44842b3da6d20511b34ca401190d64667ca8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05b01e335ff05f82fec3e54fd8bef478a8e7df81", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/05b01e335ff05f82fec3e54fd8bef478a8e7df81", "committedDate": "2020-01-08T21:44:28Z", "message": "Merge branch 'master' into empty-method-signature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2fd0de34c2cc4656ff47114ce4d39f17f60b699", "author": {"user": {"login": "yihanzhen", "name": "Hanzhen Yi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/f2fd0de34c2cc4656ff47114ce4d39f17f60b699", "committedDate": "2020-01-08T21:54:02Z", "message": "merge conflict"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1405, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}