{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NjU0NDA3", "number": 3122, "title": "bazel: Update `gapic_assembly_pkg` rules surface", "bodyText": "Add assembly_name attribute. This allows us to simplify the name attribute value and as result simplify and unify command used to generate the final package.\nFor example\ncoommand before:\nbazel build //google/cloud/language/v1:google-cloud-language-v1-csharp\n\ncommand after:\nbazel build //google/cloud/language/v1:csharp\n\nThe changes are backward-compatible", "createdAt": "2020-03-06T06:21:23Z", "url": "https://github.com/googleapis/gapic-generator/pull/3122", "merged": true, "mergeCommit": {"oid": "b78461fe2ee0273d5135aeff699249a0828a80b5"}, "closed": true, "closedAt": "2020-03-06T20:13:06Z", "author": {"login": "vam-google"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcK5_yNgH2gAyMzg0NjU0NDA3OjNlZjAwZTcwOGZlMzRmYTlkNzgzZDRkZjllN2ZlYWQwZGEzYTU2MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLB-EagFqTM3MDQxNDkzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3ef00e708fe34fa9d783d4df9e7fead0da3a5608", "author": {"user": {"login": "vam-google", "name": "Vadym Matsishevskyi"}}, "url": "https://github.com/googleapis/gapic-generator/commit/3ef00e708fe34fa9d783d4df9e7fead0da3a5608", "committedDate": "2020-03-06T06:19:35Z", "message": "bazel: Update `gapic_assembly_pkg` rules surface\n\nAdd `assembly_name` attribute. This allows us to simplify the `name` attribute value and as result simplify and unify command used to generate the final package.\n\nFor example\ncoommand before:\n`bazel build //google/cloud/language/v1:csharp`\ncommand after:\n`bazel build //google/cloud/language/v1:google-cloud-language-v1-csharp`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMTA3MDk1", "url": "https://github.com/googleapis/gapic-generator/pull/3122#pullrequestreview-370107095", "createdAt": "2020-03-06T06:34:10Z", "commit": {"oid": "3ef00e708fe34fa9d783d4df9e7fead0da3a5608"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDE0Mzgz", "url": "https://github.com/googleapis/gapic-generator/pull/3122#pullrequestreview-370414383", "createdAt": "2020-03-06T15:36:14Z", "commit": {"oid": "3ef00e708fe34fa9d783d4df9e7fead0da3a5608"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNTozNjoxNFrOFy9D6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNTozNjoxNFrOFy9D6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk3MzU0NQ==", "bodyText": "Is it possible that Ads wants to use this new feature, but we are encoding \"cloud\" into the package names?", "url": "https://github.com/googleapis/gapic-generator/pull/3122#discussion_r388973545", "createdAt": "2020-03-06T15:36:14Z", "author": {"login": "noahdietz"}, "path": "rules_gapic/csharp/csharp_gapic_pkg.bzl", "diffHunk": "@@ -74,11 +74,14 @@ _csharp_gapic_src_pkg = rule(\n     implementation = _csharp_gapic_src_pkg_impl,\n )\n \n-def csharp_gapic_assembly_pkg(name, deps, **kwargs):\n+def csharp_gapic_assembly_pkg(name, deps, assembly_name = None, **kwargs):\n+    package_dir = name\n+    if assembly_name:\n+        package_dir = \"google-cloud-%s-%s\" % (assembly_name, name)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ef00e708fe34fa9d783d4df9e7fead0da3a5608"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDE0OTM3", "url": "https://github.com/googleapis/gapic-generator/pull/3122#pullrequestreview-370414937", "createdAt": "2020-03-06T15:36:58Z", "commit": {"oid": "3ef00e708fe34fa9d783d4df9e7fead0da3a5608"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1418, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}