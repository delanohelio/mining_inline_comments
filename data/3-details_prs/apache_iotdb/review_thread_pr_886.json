{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MjY1NTA2", "number": 886, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMjozMzowOFrODlqW6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMzoyNjozNlrODlq1Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODE3ODk3OnYy", "diffSide": "RIGHT", "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMjozMzowOFrOFyrZng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMjo0NTowNFrOFyrkHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY4NDE5MA==", "bodyText": "add UT for this", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388684190", "createdAt": "2020-03-06T02:33:08Z", "author": {"login": "qiaojialin"}, "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "diffHunk": "@@ -654,8 +648,7 @@ public void executeNonQueryStatement(String sql) throws TException, IoTDBRPCExce\n   private void checkPathValidity(String path) throws IoTDBSessionException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c4d81e7bcef981d5fb12fc9fb2c68f72574ba39"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY4Njg3Nw==", "bodyText": "Added. Thanks for reminding.", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388686877", "createdAt": "2020-03-06T02:45:04Z", "author": {"login": "samperson1997"}, "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "diffHunk": "@@ -654,8 +648,7 @@ public void executeNonQueryStatement(String sql) throws TException, IoTDBRPCExce\n   private void checkPathValidity(String path) throws IoTDBSessionException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY4NDE5MA=="}, "originalCommit": {"oid": "2c4d81e7bcef981d5fb12fc9fb2c68f72574ba39"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODI1NTY1OnYy", "diffSide": "RIGHT", "path": "session/src/main/java/org/apache/iotdb/session/Config.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMzoyNTo1MFrOFysH2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwNjoxOTo1NFrOFyuNhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY5NjAyNQ==", "bodyText": "Why not use Pattern here?", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388696025", "createdAt": "2020-03-06T03:25:50Z", "author": {"login": "vesense"}, "path": "session/src/main/java/org/apache/iotdb/session/Config.java", "diffHunk": "@@ -28,7 +28,12 @@\n   public static final int DEFAULT_FETCH_SIZE = 10000;\n   public static final int DEFAULT_TIMEOUT_MS = 0;\n \n+  public static final String NODE_MATCHER = \"[\" + PATH_SEPARATOR + \"]\" + \"([a-zA-Z0-9_]+)\";\n+\n+  // for path like: root.sg1.d1.\"1.2.3\" or root.sg1.d1.'1.2.3', only occurs in the end of the path and only occurs once\n+  public static final String NODE_WITH_QUOTATION_MARK_MATCHER =\n+      \"[\" + PATH_SEPARATOR + \"][\\\"|\\']([a-zA-Z0-9_]+)(\" + NODE_MATCHER + \")+[\\\"|\\']\";\n   public static final String PATH_MATCHER =\n-      PATH_ROOT + \"([\" + PATH_SEPARATOR + \"](([a-zA-Z_][a-zA-Z0-9_-]*)|([+-]?[0-9]+)))+\";\n+      PATH_ROOT + \"(\" + NODE_MATCHER + \")+(\" + NODE_WITH_QUOTATION_MARK_MATCHER + \")?\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbf5fe0c69a86f376a4353f97c9224249f55f0a9"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczMDI0Ng==", "bodyText": "Fixed.", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388730246", "createdAt": "2020-03-06T06:19:54Z", "author": {"login": "samperson1997"}, "path": "session/src/main/java/org/apache/iotdb/session/Config.java", "diffHunk": "@@ -28,7 +28,12 @@\n   public static final int DEFAULT_FETCH_SIZE = 10000;\n   public static final int DEFAULT_TIMEOUT_MS = 0;\n \n+  public static final String NODE_MATCHER = \"[\" + PATH_SEPARATOR + \"]\" + \"([a-zA-Z0-9_]+)\";\n+\n+  // for path like: root.sg1.d1.\"1.2.3\" or root.sg1.d1.'1.2.3', only occurs in the end of the path and only occurs once\n+  public static final String NODE_WITH_QUOTATION_MARK_MATCHER =\n+      \"[\" + PATH_SEPARATOR + \"][\\\"|\\']([a-zA-Z0-9_]+)(\" + NODE_MATCHER + \")+[\\\"|\\']\";\n   public static final String PATH_MATCHER =\n-      PATH_ROOT + \"([\" + PATH_SEPARATOR + \"](([a-zA-Z_][a-zA-Z0-9_-]*)|([+-]?[0-9]+)))+\";\n+      PATH_ROOT + \"(\" + NODE_MATCHER + \")+(\" + NODE_WITH_QUOTATION_MARK_MATCHER + \")?\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY5NjAyNQ=="}, "originalCommit": {"oid": "cbf5fe0c69a86f376a4353f97c9224249f55f0a9"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwODI1Njg3OnYy", "diffSide": "RIGHT", "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwMzoyNjozNlrOFysIjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwNjoyMDo0MVrOFyuOPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY5NjIwNA==", "bodyText": "If a pattern is to be used multiple times, compiling it once and reusing it will be more efficient than invoking this method each time.", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388696204", "createdAt": "2020-03-06T03:26:36Z", "author": {"login": "vesense"}, "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "diffHunk": "@@ -654,8 +648,7 @@ public void executeNonQueryStatement(String sql) throws TException, IoTDBRPCExce\n   private void checkPathValidity(String path) throws IoTDBSessionException {\n     if (!Pattern.matches(PATH_MATCHER, path)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbf5fe0c69a86f376a4353f97c9224249f55f0a9"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODczMDQzMQ==", "bodyText": "Hi, thanks a lot for this suggestion! That's quite useful, and I have updated it in the latest commit. : )", "url": "https://github.com/apache/iotdb/pull/886#discussion_r388730431", "createdAt": "2020-03-06T06:20:41Z", "author": {"login": "samperson1997"}, "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "diffHunk": "@@ -654,8 +648,7 @@ public void executeNonQueryStatement(String sql) throws TException, IoTDBRPCExce\n   private void checkPathValidity(String path) throws IoTDBSessionException {\n     if (!Pattern.matches(PATH_MATCHER, path)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY5NjIwNA=="}, "originalCommit": {"oid": "cbf5fe0c69a86f376a4353f97c9224249f55f0a9"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 292, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}