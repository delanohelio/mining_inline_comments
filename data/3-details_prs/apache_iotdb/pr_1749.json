{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNzE1NTgz", "number": 1749, "title": "Avoid type conversion when encoding MeasureSchema", "bodyText": "", "createdAt": "2020-09-22T06:15:11Z", "url": "https://github.com/apache/iotdb/pull/1749", "merged": true, "mergeCommit": {"oid": "c2ca774ee88c00bebef019067e250157b1577826"}, "closed": true, "closedAt": "2020-09-27T03:15:45Z", "author": {"login": "yanhongwangg"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLTdDeAFqTQ5MzIxNjM1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdM2O-_AFqTQ5NzA0NjY5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjE2MzU4", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-493216358", "createdAt": "2020-09-22T08:07:42Z", "commit": {"oid": "36b4f557004cacce8e92851a4c4a69cd68219760"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowNzo0MlrOHVuquw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowNzo0MlrOHVuquw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0Njc0Nw==", "bodyText": "byte i\uff0c why call this name", "url": "https://github.com/apache/iotdb/pull/1749#discussion_r492546747", "createdAt": "2020-09-22T08:07:42Z", "author": {"login": "mychaow"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/file/metadata/enums/CompressionType.java", "diffHunk": "@@ -52,6 +52,35 @@ public static CompressionType deserialize(short i) {\n     }\n   }\n \n+  /**\n+   * give an byte to return a compression type.\n+   *\n+   * @param i byte number\n+   * @return CompressionType\n+   */\n+  public static CompressionType byteToEnum(byte i) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36b4f557004cacce8e92851a4c4a69cd68219760"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjQyMDk3", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-493242097", "createdAt": "2020-09-22T08:41:18Z", "commit": {"oid": "36b4f557004cacce8e92851a4c4a69cd68219760"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo0MToxOFrOHVv6nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo0MzowNFrOHVv-tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2NzE5OQ==", "bodyText": "better to check the size of this parameter as TSDataType", "url": "https://github.com/apache/iotdb/pull/1749#discussion_r492567199", "createdAt": "2020-09-22T08:41:18Z", "author": {"login": "neuyilan"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/file/metadata/enums/TSEncoding.java", "diffHunk": "@@ -51,6 +51,35 @@ public static TSEncoding deserialize(short i) {\n     }\r\n   }\r\n \r\n+  /**\r\n+   * give an byte to return a encoding type.\r\n+   *\r\n+   * @param i byte number\r\n+   * @return encoding type\r\n+   */\r\n+  public static TSEncoding byteToEnum(byte i) {\r\n+    switch (i) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36b4f557004cacce8e92851a4c4a69cd68219760"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2ODI0Ng==", "bodyText": "Add one UT of the serialize and deserialize method", "url": "https://github.com/apache/iotdb/pull/1749#discussion_r492568246", "createdAt": "2020-09-22T08:43:04Z", "author": {"login": "neuyilan"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/write/schema/MeasurementSchema.java", "diffHunk": "@@ -98,12 +98,11 @@ public static MeasurementSchema deserializeFrom(InputStream inputStream) throws\n \n     measurementSchema.measurementId = ReadWriteIOUtils.readString(inputStream);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36b4f557004cacce8e92851a4c4a69cd68219760"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MzAxOTEw", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-494301910", "createdAt": "2020-09-23T07:02:29Z", "commit": {"oid": "a02a588bf99148f562229b32f03e2666c04053c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNzowMjoyOVrOHWZJ5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNzowMjoyOVrOHWZJ5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI0Mjg1Mw==", "bodyText": "Please add the Apache header.", "url": "https://github.com/apache/iotdb/pull/1749#discussion_r493242853", "createdAt": "2020-09-23T07:02:29Z", "author": {"login": "HTHou"}, "path": "tsfile/src/test/java/org/apache/iotdb/tsfile/write/writer/MeasurementSchemaSerializeTest.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package org.apache.iotdb.tsfile.write.writer;\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a02a588bf99148f562229b32f03e2666c04053c3"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NTM1MjEw", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-494535210", "createdAt": "2020-09-23T10:53:48Z", "commit": {"oid": "a02a588bf99148f562229b32f03e2666c04053c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMDo1Mzo0OFrOHWllWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMDo1Mzo0OFrOHWllWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ0NjQ4OA==", "bodyText": "hm.. this method is overdesigned..\nIf you read InputStream.read(byte[]) method, you will find it actually just call byte c = (byte)read();\nSo, just return (byte) read() is ok.", "url": "https://github.com/apache/iotdb/pull/1749#discussion_r493446488", "createdAt": "2020-09-23T10:53:48Z", "author": {"login": "jixuan1989"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/utils/ReadWriteIOUtils.java", "diffHunk": "@@ -82,6 +83,19 @@ public static boolean readBool(ByteBuffer buffer) {\n     return a == 1;\n   }\n \n+  /**\n+   * read a byte from inputStream.\n+   */\n+  public static byte readByte(InputStream inputStream) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a02a588bf99148f562229b32f03e2666c04053c3"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a02a588bf99148f562229b32f03e2666c04053c3", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/a02a588bf99148f562229b32f03e2666c04053c3", "committedDate": "2020-09-22T12:22:00Z", "message": "\u201cimprove\u201d"}, "afterCommit": {"oid": "2e4338814390f0c32e95aed22943b81e68b4e0dd", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/2e4338814390f0c32e95aed22943b81e68b4e0dd", "committedDate": "2020-09-24T08:40:51Z", "message": "serializeTo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e4338814390f0c32e95aed22943b81e68b4e0dd", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/2e4338814390f0c32e95aed22943b81e68b4e0dd", "committedDate": "2020-09-24T08:40:51Z", "message": "serializeTo"}, "afterCommit": {"oid": "6ed142e4958dcf20f59b46116a0729e8387cfb1d", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/6ed142e4958dcf20f59b46116a0729e8387cfb1d", "committedDate": "2020-09-24T11:03:34Z", "message": "serializeTo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "895b59ef97aaafd0ca01f27568bed421301fc684", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/895b59ef97aaafd0ca01f27568bed421301fc684", "committedDate": "2020-09-25T08:19:29Z", "message": "Cancel type conversion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b486b1ada40153aacf2cd19c3b67075138ef7aac", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/b486b1ada40153aacf2cd19c3b67075138ef7aac", "committedDate": "2020-09-25T08:19:29Z", "message": "modify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "602a2993746dc7f900751d6a9b21da79aa648c9a", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/602a2993746dc7f900751d6a9b21da79aa648c9a", "committedDate": "2020-09-25T08:19:29Z", "message": "modify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0028bc89f7fa78c64fb1476230e2d07965467062", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/0028bc89f7fa78c64fb1476230e2d07965467062", "committedDate": "2020-09-25T08:19:29Z", "message": "modify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4add6136b00bb5f55891e498ab54d3edc1e616b", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/b4add6136b00bb5f55891e498ab54d3edc1e616b", "committedDate": "2020-09-25T08:19:29Z", "message": "modify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "655fe19b1c5ddf6caa38a55cba8df12b33c869bc", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/655fe19b1c5ddf6caa38a55cba8df12b33c869bc", "committedDate": "2020-09-25T08:19:29Z", "message": "\u201cimprove\u201d"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f38fb081ce3b50ad0e4636c457faa8c3ea03876c", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/f38fb081ce3b50ad0e4636c457faa8c3ea03876c", "committedDate": "2020-09-25T08:19:29Z", "message": "\u201cimprove\u201d"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b036d285319d05896550af594fb5b538bb57f97", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/9b036d285319d05896550af594fb5b538bb57f97", "committedDate": "2020-09-25T08:19:29Z", "message": "serializeTo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ed142e4958dcf20f59b46116a0729e8387cfb1d", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/6ed142e4958dcf20f59b46116a0729e8387cfb1d", "committedDate": "2020-09-24T11:03:34Z", "message": "serializeTo"}, "afterCommit": {"oid": "9b036d285319d05896550af594fb5b538bb57f97", "author": {"user": {"login": "yanhongwangg", "name": "yanhong wang"}}, "url": "https://github.com/apache/iotdb/commit/9b036d285319d05896550af594fb5b538bb57f97", "committedDate": "2020-09-25T08:19:29Z", "message": "serializeTo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDQ0ODAx", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-497044801", "createdAt": "2020-09-27T02:36:02Z", "commit": {"oid": "9b036d285319d05896550af594fb5b538bb57f97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDQ2Njk4", "url": "https://github.com/apache/iotdb/pull/1749#pullrequestreview-497046698", "createdAt": "2020-09-27T03:15:34Z", "commit": {"oid": "9b036d285319d05896550af594fb5b538bb57f97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3870, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}