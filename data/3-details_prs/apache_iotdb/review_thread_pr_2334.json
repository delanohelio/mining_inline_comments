{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NTI4NTI2", "number": 2334, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzowMjo1MVrOFJbHSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzoxNjo0NlrOFJbNOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDI1NzM3OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzowMjo1MVrOILwcPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMjoxMToyMVrOIL4LuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA==", "bodyText": "Why not delete this method as you have implemented it in Coordinator.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549198908", "createdAt": "2020-12-28T03:02:51Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwODQ4Mw==", "bodyText": "DataGroupMember use the method, so I have to support the method in metaGroupMember.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549208483", "createdAt": "2020-12-28T04:16:00Z", "author": {"login": "mychaow"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNzEyOA==", "bodyText": "Where does DataGroupMember use this? It does not seem quite reasonable.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549317128", "createdAt": "2020-12-28T11:39:10Z", "author": {"login": "jt2594838"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMyMDg3OA==", "bodyText": "It seems that we can move  executeNonQueryPlan from RaftService to TSDataService in cluster.thrift", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549320878", "createdAt": "2020-12-28T11:53:18Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMyNTc1Mw==", "bodyText": "ok\uff0cI will remove the method.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549325753", "createdAt": "2020-12-28T12:11:21Z", "author": {"login": "mychaow"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDI2NzY4OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzoxMjozNVrOILwhdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNToyNzoxNlrOILxuZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDI0Ng==", "bodyText": "As you have abstract coordinator to cooperate with metaGroupMember and dataGroupMember, I think maybe it's better to remove metaGroupMember in ClientServer to decouple clientServer(service logic) and metaGroupMember(internal logic).", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549200246", "createdAt": "2020-12-28T03:12:35Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -90,6 +91,12 @@\n    */\n   private MetaGroupMember metaGroupMember;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIxOTk0Mw==", "bodyText": "ok", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549219943", "createdAt": "2020-12-28T05:27:16Z", "author": {"login": "mychaow"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -90,6 +91,12 @@\n    */\n   private MetaGroupMember metaGroupMember;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDI0Ng=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDI3MjU5OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzoxNjo0NlrOILwjzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNDoxMjozMlrOILxAEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDg0NQ==", "bodyText": "update javadoc", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549200845", "createdAt": "2020-12-28T03:16:46Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -203,7 +210,7 @@ protected TSStatus executeNonQueryPlan(PhysicalPlan plan) {\n       logger.warn(\"Illegal plan detected\uff1a {}\", plan);\n       return RpcUtils.getStatus(TSStatusCode.EXECUTE_STATEMENT_ERROR, e.getMessage());\n     }\n-    return metaGroupMember.executeNonQueryPlan(plan);\n+    return coordinator.executeNonQueryPlan(plan);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwODA4Mg==", "bodyText": "ok", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549208082", "createdAt": "2020-12-28T04:12:32Z", "author": {"login": "mychaow"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -203,7 +210,7 @@ protected TSStatus executeNonQueryPlan(PhysicalPlan plan) {\n       logger.warn(\"Illegal plan detected\uff1a {}\", plan);\n       return RpcUtils.getStatus(TSStatusCode.EXECUTE_STATEMENT_ERROR, e.getMessage());\n     }\n-    return metaGroupMember.executeNonQueryPlan(plan);\n+    return coordinator.executeNonQueryPlan(plan);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDg0NQ=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 471, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}