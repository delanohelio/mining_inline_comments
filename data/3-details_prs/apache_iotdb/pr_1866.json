{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5OTc4MjMw", "number": 1866, "title": "fix some regression bugs", "bodyText": "This pull request fixes some regression bugs, including:\n\nerror message in distributed version containing unnecessary exception information\nalways showing error message when deleting timeseries", "createdAt": "2020-10-26T11:57:22Z", "url": "https://github.com/apache/iotdb/pull/1866", "merged": true, "mergeCommit": {"oid": "5c76102d84a307f510c678f06cde419cd1de900f"}, "closed": true, "closedAt": "2020-10-28T07:50:29Z", "author": {"login": "Ring-k"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWOPUFAH2gAyNTA5OTc4MjMwOjZkNWY4YzZhMzhiMWEyMjk2MmQ3ODljNzgzMDQ0MGRkZjUwNDBhYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWkTFmAH2gAyNTA5OTc4MjMwOjUzYTU4ZWM1NzAyZjhhYzRlY2FjMmYwNjMwYTJmNDUzNzI0ZTJlMmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d5f8c6a38b1a22962d789c7830440ddf5040ab2", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/6d5f8c6a38b1a22962d789c7830440ddf5040ab2", "committedDate": "2020-10-26T06:18:58Z", "message": "remove detailed error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec5cc5daf6ebb077c3e7dea49a1b738a33d385c0", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/ec5cc5daf6ebb077c3e7dea49a1b738a33d385c0", "committedDate": "2020-10-26T06:25:29Z", "message": "points -> measurements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1f91d998dede8b2e8addc5839452e5cdc79b472", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/d1f91d998dede8b2e8addc5839452e5cdc79b472", "committedDate": "2020-10-26T06:32:00Z", "message": "final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "324689ec293fe368e04be0add6533db663d97e03", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/324689ec293fe368e04be0add6533db663d97e03", "committedDate": "2020-10-26T11:10:31Z", "message": "delete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0c1a3313ddb02331889aa94b9d088851532c7ef", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/f0c1a3313ddb02331889aa94b9d088851532c7ef", "committedDate": "2020-10-26T11:13:23Z", "message": "delete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33c0b3f07aff017bdb93e0971407c87d05ff42d6", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/33c0b3f07aff017bdb93e0971407c87d05ff42d6", "committedDate": "2020-10-26T11:49:00Z", "message": "index out of bound"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3", "committedDate": "2020-10-26T11:58:44Z", "message": "format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfcec2710c5f19b095e19b40ecdd7338fa9bd396", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/cfcec2710c5f19b095e19b40ecdd7338fa9bd396", "committedDate": "2020-10-26T12:04:43Z", "message": "log"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzM0NDUx", "url": "https://github.com/apache/iotdb/pull/1866#pullrequestreview-516734451", "createdAt": "2020-10-26T12:39:14Z", "commit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjkwNTA3", "url": "https://github.com/apache/iotdb/pull/1866#pullrequestreview-517290507", "createdAt": "2020-10-27T01:44:01Z", "commit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMTo0NDowMlrOHooY3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMTo0NDowMlrOHooY3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM2NjgxMw==", "bodyText": "Sorry, I'm a little confused about when will this method throw a IndexOutOfBoundsException?", "url": "https://github.com/apache/iotdb/pull/1866#discussion_r512366813", "createdAt": "2020-10-27T01:44:02Z", "author": {"login": "LebronAl"}, "path": "server/src/main/java/org/apache/iotdb/db/qp/executor/PlanExecutor.java", "diffHunk": "@@ -371,7 +374,12 @@ protected QueryDataSet processDataQuery(QueryPlan queryPlan, QueryContext contex\n       } else if (queryPlan instanceof LastQueryPlan) {\n         queryDataSet = queryRouter.lastQuery((LastQueryPlan) queryPlan, context);\n       } else {\n-        queryDataSet = queryRouter.rawDataQuery((RawDataQueryPlan) queryPlan, context);\n+        try {\n+          queryDataSet = queryRouter.rawDataQuery((RawDataQueryPlan) queryPlan, context);\n+        } catch (IndexOutOfBoundsException e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3Mjk2NDgx", "url": "https://github.com/apache/iotdb/pull/1866#pullrequestreview-517296481", "createdAt": "2020-10-27T02:03:16Z", "commit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMjowMzoxNlrOHootwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMjowMzoxNlrOHootwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM3MjE2MQ==", "bodyText": "This is not relevant to this PR, but it occurs to me that RunTimeExceptions sometimes does not provide useful messages, and it would difficult to locate the problem.\nSo please add this:\nif (cause instanceof RunTimeException) {\n  logger.error(\"RuntimeException during executing {}\", log , cause);\n}", "url": "https://github.com/apache/iotdb/pull/1866#discussion_r512372161", "createdAt": "2020-10-27T02:03:16Z", "author": {"login": "jt2594838"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/RaftMember.java", "diffHunk": "@@ -1334,7 +1338,7 @@ private TSStatus handleLogExecutionException(\n           .getStatus(Arrays.asList(((BatchInsertionException) cause).getFailingStatus()));\n     }\n     TSStatus tsStatus = StatusUtils.getStatus(StatusUtils.EXECUTE_STATEMENT_ERROR,\n-        cause.getClass().getName() + \":\" + cause.getMessage());\n+        cause.getMessage());\n     if (cause instanceof IoTDBException) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8b3876b5ed4ce16bf5f4918321d4d07693e5fe3"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a862a4f5f8d16d6237bc46b16d679bca17232ed", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/7a862a4f5f8d16d6237bc46b16d679bca17232ed", "committedDate": "2020-10-27T07:17:08Z", "message": "EmptyIntervalException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd69eff1a630113fb35576f2ee640a73711dcc48", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/cd69eff1a630113fb35576f2ee640a73711dcc48", "committedDate": "2020-10-27T07:21:03Z", "message": "formaty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53a58ec5702f8ac4ecac2f0630a2f453724e2e2d", "author": {"user": {"login": "Ring-k", "name": null}}, "url": "https://github.com/apache/iotdb/commit/53a58ec5702f8ac4ecac2f0630a2f453724e2e2d", "committedDate": "2020-10-27T08:01:00Z", "message": "license"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3742, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}