{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5NzM5MDc0", "number": 1588, "title": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "bodyText": "It is convenient to change the corresponding variables in the code by modifying the configuration file during testing. It is not necessary to change the code and recompile before each test.", "createdAt": "2020-07-31T02:58:40Z", "url": "https://github.com/apache/iotdb/pull/1588", "merged": true, "mergeCommit": {"oid": "dbd7a5e66742981ea53e18350f6d0ad00ce56762"}, "closed": true, "closedAt": "2020-08-14T01:50:02Z", "author": {"login": "yanhongwangg"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6LC33gH2gAyNDU5NzM5MDc0OjVhZTc3NzRmN2ZkODcwZGZiYjIzN2M5YTk3NjE3YTc3OWZmMDI4NmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-glZoAFqTQ2Njc5NjAxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "author": {"user": null}, "url": "https://github.com/apache/iotdb/commit/5ae7774f7fd870dfbb237c9a97617a779ff0286e", "committedDate": "2020-07-31T02:45:47Z", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODg5NDQw", "url": "https://github.com/apache/iotdb/pull/1588#pullrequestreview-458889440", "createdAt": "2020-07-31T03:02:43Z", "commit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMzowMjo0M1rOG56ikQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMzowNDo1NVrOG56kSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTEzNw==", "bodyText": "please make the annotation more clearer.", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381137", "createdAt": "2020-07-31T03:02:43Z", "author": {"login": "neuyilan"}, "path": "cluster/src/assembly/resources/conf/iotdb-cluster.properties", "diffHunk": "@@ -107,6 +107,12 @@ enable_auto_create_schema=true\n # Weak consistency do not synchronize with the leader and simply use the local data\n consistency_level=mid\n \n+#is use async server\n+is_use_async_server=true\n+\n+#is use sync applier\n+is_use_async_applier=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTE4NA==", "bodyText": "remove the debug log", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381184", "createdAt": "2020-07-31T03:03:01Z", "author": {"login": "neuyilan"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/config/ClusterDescriptor.java", "diffHunk": "@@ -244,6 +244,16 @@ private void loadProps() {\n         .getProperty(\"enable_auto_create_schema\",\n             String.valueOf(config.isEnableAutoCreateSchema()))));\n \n+    config.setUseAsyncServer(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_server\",\n+                    String.valueOf(config.isUseAsyncServer()))));\n+    logger.info(\"server+{}\",config.isUseAsyncServer());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTIxNA==", "bodyText": "the same as above", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381214", "createdAt": "2020-07-31T03:03:12Z", "author": {"login": "neuyilan"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/config/ClusterDescriptor.java", "diffHunk": "@@ -244,6 +244,16 @@ private void loadProps() {\n         .getProperty(\"enable_auto_create_schema\",\n             String.valueOf(config.isEnableAutoCreateSchema()))));\n \n+    config.setUseAsyncServer(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_server\",\n+                    String.valueOf(config.isUseAsyncServer()))));\n+    logger.info(\"server+{}\",config.isUseAsyncServer());\n+\n+    config.setUseAsyncApplier(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_applier\",\n+                    String.valueOf(config.isUseAsyncApplier()))));\n+    logger.info(\"app+{}\",config.isUseAsyncApplier());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTU3OQ==", "bodyText": "the default value is false. make sure consistent with the code", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381579", "createdAt": "2020-07-31T03:04:55Z", "author": {"login": "neuyilan"}, "path": "cluster/src/assembly/resources/conf/iotdb-cluster.properties", "diffHunk": "@@ -107,6 +107,12 @@ enable_auto_create_schema=true\n # Weak consistency do not synchronize with the leader and simply use the local data\n consistency_level=mid\n \n+#is use async server\n+is_use_async_server=true\n+\n+#is use sync applier\n+is_use_async_applier=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8eea20a7e8fa1077acc74159ce79a1b976dbb8f3", "author": {"user": null}, "url": "https://github.com/apache/iotdb/commit/8eea20a7e8fa1077acc74159ce79a1b976dbb8f3", "committedDate": "2020-07-31T03:33:22Z", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODk4MjE3", "url": "https://github.com/apache/iotdb/pull/1588#pullrequestreview-458898217", "createdAt": "2020-07-31T03:41:35Z", "commit": {"oid": "8eea20a7e8fa1077acc74159ce79a1b976dbb8f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7325ae5290a98dee84c6ab582743e373505d370c", "author": {"user": null}, "url": "https://github.com/apache/iotdb/commit/7325ae5290a98dee84c6ab582743e373505d370c", "committedDate": "2020-07-31T06:51:19Z", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b225bf199e99e910510f889e87445923ecfd555e", "author": {"user": null}, "url": "https://github.com/apache/iotdb/commit/b225bf199e99e910510f889e87445923ecfd555e", "committedDate": "2020-07-31T06:59:22Z", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTQzMDA5", "url": "https://github.com/apache/iotdb/pull/1588#pullrequestreview-459543009", "createdAt": "2020-08-01T02:17:20Z", "commit": {"oid": "b225bf199e99e910510f889e87445923ecfd555e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDA4MTky", "url": "https://github.com/apache/iotdb/pull/1588#pullrequestreview-463008192", "createdAt": "2020-08-07T03:15:47Z", "commit": {"oid": "b225bf199e99e910510f889e87445923ecfd555e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2Nzk2MDE2", "url": "https://github.com/apache/iotdb/pull/1588#pullrequestreview-466796016", "createdAt": "2020-08-13T14:07:12Z", "commit": {"oid": "b225bf199e99e910510f889e87445923ecfd555e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3360, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}