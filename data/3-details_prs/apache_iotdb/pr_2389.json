{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2OTIxNjMz", "number": 2389, "title": "show devices limit", "bodyText": "now SHOW DEVICES does not support limit and offset keyword. This pr add limit offset to SHOW DEVICES", "createdAt": "2020-12-30T12:10:38Z", "url": "https://github.com/apache/iotdb/pull/2389", "merged": true, "mergeCommit": {"oid": "70b228aa08db386f3c3ed6504009b1c76ced5686"}, "closed": true, "closedAt": "2021-01-12T05:37:06Z", "author": {"login": "haimeiguo"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdrOQ7CABqjQxNTcwOTQ0NTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvUYV_AFqTU2NTk1MTA3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e9b549649086356225a49f640dd2721f8fabf4e", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/8e9b549649086356225a49f640dd2721f8fabf4e", "committedDate": "2020-12-30T11:41:56Z", "message": "show devices limit"}, "afterCommit": {"oid": "02579ce2bd99b0981ba0f2cd6b3dbc6b435fd606", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/02579ce2bd99b0981ba0f2cd6b3dbc6b435fd606", "committedDate": "2020-12-30T12:12:41Z", "message": "show devices limit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02579ce2bd99b0981ba0f2cd6b3dbc6b435fd606", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/02579ce2bd99b0981ba0f2cd6b3dbc6b435fd606", "committedDate": "2020-12-30T12:12:41Z", "message": "show devices limit"}, "afterCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/4a1795e084ebd525371408b2f0086d0327323a7a", "committedDate": "2020-12-30T12:17:22Z", "message": "show devices limit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMDMzNDY4", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-560033468", "createdAt": "2020-12-30T12:44:25Z", "commit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjQ5MTA0", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-560249104", "createdAt": "2020-12-31T02:29:14Z", "commit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjoyOToxNVrOIM4fqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjo0NToxNlrOIM4nFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3OTQzNQ==", "bodyText": "Rename this to getDevices or change the other to showDevices to implement overloading.", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r550379435", "createdAt": "2020-12-31T02:29:15Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/metadata/MManager.java", "diffHunk": "@@ -688,6 +689,10 @@ public TSDataType getSeriesType(PartialPath path) throws MetadataException {\n     return mtree.getDevices(prefixPath);\n   }\n \n+  public Set<PartialPath> showDevices(ShowDevicesPlan plan) throws MetadataException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3OTk0Mw==", "bodyText": "Do this in PhysicalGenerator or the constructor of ShowDevicePlan, not here.", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r550379943", "createdAt": "2020-12-31T02:34:25Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/service/TSServiceImpl.java", "diffHunk": "@@ -672,6 +673,17 @@ private TSExecuteStatementResp internalExecuteQueryStatement(String statement,\n           ((ShowTimeSeriesPlan) plan).setHasLimit(true);\n         }\n       }\n+\n+      if (plan instanceof ShowDevicesPlan) {\n+        //If the user does not pass the limit, then set limit = fetchSize and haslimit=false,else set haslimit = true\n+        if (((ShowDevicesPlan) plan).getLimit() == 0) {\n+          ((ShowDevicesPlan) plan).setLimit(fetchSize);\n+          ((ShowDevicesPlan) plan).setHasLimit(false);\n+        } else {\n+          ((ShowDevicesPlan) plan).setHasLimit(true);\n+        }\n+      }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM4MTMzMg==", "bodyText": "Line 1134: Set devices = new TreeSet<>();", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r550381332", "createdAt": "2020-12-31T02:45:16Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/metadata/MTree.java", "diffHunk": "@@ -1121,7 +1122,32 @@ private void findChildNodePathInNextLevel(\n       throw new IllegalPathException(prefixPath.getFullPath());\n     }\n     Set<PartialPath> devices = new TreeSet<>();\n-    findDevices(root, nodes, 1, devices);\n+    findDevices(root, nodes, 1, devices, false);\n+    return devices;\n+  }\n+\n+  Set<PartialPath> getDevices(ShowDevicesPlan plan) throws MetadataException {\n+    String[] nodes = plan.getPath().getNodes();\n+    if (nodes.length == 0 || !nodes[0].equals(root.getName())) {\n+      throw new IllegalPathException(plan.getPath().getFullPath());\n+    }\n+    Set<PartialPath> devices;\n+    limit.set(plan.getLimit());\n+    offset.set(plan.getOffset());\n+    curOffset.set(-1);\n+    count.set(0);\n+    if (offset.get() != 0 || limit.get() != 0) {\n+      devices = new TreeSet<>();\n+      findDevices(root, nodes, 1, devices, true);\n+    } else {\n+      devices = new TreeSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjUzMjA5", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-560253209", "createdAt": "2020-12-31T03:11:40Z", "commit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMzoxMTo0MFrOIM40Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMzoxMTo1N1rOIM40HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM4NDY1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      if (hasLimit) {\n          \n          \n            \n                        curOffset.set(curOffset.get() + 1);\n          \n          \n            \n                        if (curOffset.get() < offset.get() || count.get().intValue() == limit.get().intValue()) {\n          \n          \n            \n                          return;\n          \n          \n            \n                        }\n          \n          \n            \n                      }\n          \n          \n            \n                      res.add(node.getPartialPath());\n          \n          \n            \n                      if (hasLimit) {\n          \n          \n            \n                        count.set(count.get() + 1);\n          \n          \n            \n                      }\n          \n          \n            \n                      if (hasLimit) {\n          \n          \n            \n                        curOffset.set(curOffset.get() + 1);\n          \n          \n            \n                        if (curOffset.get() < offset.get() || count.get().intValue() == limit.get().intValue()) {\n          \n          \n            \n                          return;\n          \n          \n            \n                        }\n          \n          \n            \n                        count.set(count.get() + 1);\n          \n          \n            \n                      }\n          \n          \n            \n                      res.add(node.getPartialPath());", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r550384655", "createdAt": "2020-12-31T03:11:40Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/metadata/MTree.java", "diffHunk": "@@ -1134,16 +1160,25 @@ private void findChildNodePathInNextLevel(\n    * @param res   store all matched device names\n    */\n   @SuppressWarnings(\"squid:S3776\")\n-  private void findDevices(MNode node, String[] nodes, int idx, Set<PartialPath> res) {\n+  private void findDevices(MNode node, String[] nodes, int idx, Set<PartialPath> res, boolean hasLimit) {\n     String nodeReg = MetaUtils.getNodeRegByIdx(idx, nodes);\n     // the node path doesn't contains '*'\n     if (!nodeReg.contains(PATH_WILDCARD)) {\n       MNode next = node.getChild(nodeReg);\n       if (next != null) {\n         if (next instanceof MeasurementMNode && idx >= nodes.length) {\n+          if (hasLimit) {\n+            curOffset.set(curOffset.get() + 1);\n+            if (curOffset.get() < offset.get() || count.get().intValue() == limit.get().intValue()) {\n+              return;\n+            }\n+          }\n           res.add(node.getPartialPath());\n+          if (hasLimit) {\n+            count.set(count.get() + 1);\n+          }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM4NDY2OQ==", "bodyText": "The same.", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r550384669", "createdAt": "2020-12-31T03:11:57Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/metadata/MTree.java", "diffHunk": "@@ -1155,10 +1190,19 @@ private void findDevices(MNode node, String[] nodes, int idx, Set<PartialPath> r\n           continue;\n         }\n         if (child instanceof MeasurementMNode && !deviceAdded && idx >= nodes.length) {\n+          if (hasLimit) {\n+            curOffset.set(curOffset.get() + 1);\n+            if (curOffset.get() < offset.get() || count.get().intValue() == limit.get().intValue()) {\n+              return;\n+            }\n+          }\n           res.add(node.getPartialPath());\n+          if (hasLimit) {\n+            count.set(count.get() + 1);\n+          }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a"}, "originalPosition": 83}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79b9037656ab5d66388b59ecc4da3a1fce04fa10", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/79b9037656ab5d66388b59ecc4da3a1fce04fa10", "committedDate": "2020-12-31T08:36:15Z", "message": "set limit"}, "afterCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/4a1795e084ebd525371408b2f0086d0327323a7a", "committedDate": "2020-12-30T12:17:22Z", "message": "show devices limit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a1795e084ebd525371408b2f0086d0327323a7a", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/4a1795e084ebd525371408b2f0086d0327323a7a", "committedDate": "2020-12-30T12:17:22Z", "message": "show devices limit"}, "afterCommit": {"oid": "daf609ca59da7081852333c0a02d899296806902", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/daf609ca59da7081852333c0a02d899296806902", "committedDate": "2020-12-31T09:34:11Z", "message": "show devices limit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNzUyNzI3", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-560752727", "createdAt": "2021-01-04T02:23:57Z", "commit": {"oid": "daf609ca59da7081852333c0a02d899296806902"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQwMjoyMzo1OFrOINj7Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNFQwMjoyNToxMVrOINj8Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA5MDk5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public ShowDevicesPlan(ShowContentType showContentType, PartialPath path, int limit, int offset) {\n          \n          \n            \n                this(showContentType, path);\n          \n          \n            \n                this.limit = limit;\n          \n          \n            \n                this.offset = offset;\n          \n          \n            \n              }\n          \n          \n            \n              public ShowDevicesPlan(ShowContentType showContentType, PartialPath path, int limit, int offset) {\n          \n          \n            \n                this(showContentType, path);\n          \n          \n            \n                this.offset = offset;\n          \n          \n            \n                 if (limit == 0) {\n          \n          \n            \n                      this.limit = fetchSize;\n          \n          \n            \n                      this.hasLimit = false;\n          \n          \n            \n                    } else {\n          \n          \n            \n                      this.hasLimit = true;\n          \n          \n            \n                    }\n          \n          \n            \n              }", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r551090995", "createdAt": "2021-01-04T02:23:58Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/qp/physical/sys/ShowDevicesPlan.java", "diffHunk": "@@ -21,15 +21,49 @@\n import org.apache.iotdb.db.metadata.PartialPath;\n \n public class ShowDevicesPlan extends ShowPlan{\n+\n   private PartialPath path;\n+  private int limit = 0;\n+  private int offset = 0;\n+  private boolean hasLimit;\n \n   public ShowDevicesPlan(ShowContentType showContentType, PartialPath path) {\n     super(showContentType);\n     this.path = path;\n   }\n \n+  public ShowDevicesPlan(ShowContentType showContentType, PartialPath path, int limit, int offset) {\n+    this(showContentType, path);\n+    this.limit = limit;\n+    this.offset = offset;\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daf609ca59da7081852333c0a02d899296806902"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA5MTIyMw==", "bodyText": "Why not put the initialization here? :D", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r551091223", "createdAt": "2021-01-04T02:25:11Z", "author": {"login": "Alima777"}, "path": "server/src/main/java/org/apache/iotdb/db/qp/physical/sys/ShowDevicesPlan.java", "diffHunk": "@@ -21,15 +21,49 @@\n import org.apache.iotdb.db.metadata.PartialPath;\n \n public class ShowDevicesPlan extends ShowPlan{\n+\n   private PartialPath path;\n+  private int limit = 0;\n+  private int offset = 0;\n+  private boolean hasLimit;\n \n   public ShowDevicesPlan(ShowContentType showContentType, PartialPath path) {\n     super(showContentType);\n     this.path = path;\n   }\n \n+  public ShowDevicesPlan(ShowContentType showContentType, PartialPath path, int limit, int offset) {\n+    this(showContentType, path);\n+    this.limit = limit;\n+    this.offset = offset;\n+  }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA5MDk5NQ=="}, "originalCommit": {"oid": "daf609ca59da7081852333c0a02d899296806902"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1MTE0MzQy", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-565114342", "createdAt": "2021-01-11T07:37:44Z", "commit": {"oid": "cb171848a63ba3cba704ec5b58c731ccccf518a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1MTE4Mjk3", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-565118297", "createdAt": "2021-01-11T07:46:45Z", "commit": {"oid": "cb171848a63ba3cba704ec5b58c731ccccf518a1"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ca804a55ccb5176fdac08c2a54259e85b4af3be", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/3ca804a55ccb5176fdac08c2a54259e85b4af3be", "committedDate": "2021-01-11T10:07:03Z", "message": "show devices limit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7d0ebc024edda2929dfd4d0c4035144aca68d99", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/d7d0ebc024edda2929dfd4d0c4035144aca68d99", "committedDate": "2021-01-11T10:07:04Z", "message": "edit ShowPlan, ShowDataSet"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c3ceb32aec5347d7371b628da0f4c99179a1270", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/0c3ceb32aec5347d7371b628da0f4c99179a1270", "committedDate": "2021-01-11T09:37:48Z", "message": "fix code smell"}, "afterCommit": {"oid": "76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51", "committedDate": "2021-01-11T11:15:34Z", "message": "fix code smell"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1NDI0NDc5", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-565424479", "createdAt": "2021-01-11T14:50:36Z", "commit": {"oid": "76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNDo1MDozNlrOIRYmcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNDo1MDozNlrOIRYmcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTA5OTc2Mw==", "bodyText": "The sonar test shows these lines are duplicated with some lines in ShowTimeseriesPlan. How do you think remove the lines in ShowTimeseriesPlan?", "url": "https://github.com/apache/iotdb/pull/2389#discussion_r555099763", "createdAt": "2021-01-11T14:50:36Z", "author": {"login": "HTHou"}, "path": "server/src/main/java/org/apache/iotdb/db/qp/physical/sys/ShowPlan.java", "diffHunk": "@@ -44,6 +65,34 @@ public ShowContentType getShowContentType() {\n     return showContentType;\n   }\n \n+  public PartialPath getPath() {\n+    return this.path;\n+  }\n+\n+  public int getLimit() {\n+    return limit;\n+  }\n+\n+  public void setLimit(int limit) {\n+    this.limit = limit;\n+  }\n+\n+  public int getOffset() {\n+    return offset;\n+  }\n+\n+  public void setOffset(int offset) {\n+    this.offset = offset;\n+  }\n+\n+  public boolean hasLimit() {\n+    return hasLimit;\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51"}, "originalPosition": 61}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/76ca3ea9a7389c67ebc90de62c0a04e4ca6efa51", "committedDate": "2021-01-11T11:15:34Z", "message": "fix code smell"}, "afterCommit": {"oid": "c49bd49e236e24e21edb3d435991d0a946616dfc", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/c49bd49e236e24e21edb3d435991d0a946616dfc", "committedDate": "2021-01-12T01:43:10Z", "message": "fix code smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d2b75fb187f4801308126f97234d92fb5eb9f7e", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/5d2b75fb187f4801308126f97234d92fb5eb9f7e", "committedDate": "2021-01-12T02:19:24Z", "message": "fix code smell"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c49bd49e236e24e21edb3d435991d0a946616dfc", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/c49bd49e236e24e21edb3d435991d0a946616dfc", "committedDate": "2021-01-12T01:43:10Z", "message": "fix code smell"}, "afterCommit": {"oid": "5d2b75fb187f4801308126f97234d92fb5eb9f7e", "author": {"user": {"login": "haimeiguo", "name": "Haimei Guo"}}, "url": "https://github.com/apache/iotdb/commit/5d2b75fb187f4801308126f97234d92fb5eb9f7e", "committedDate": "2021-01-12T02:19:24Z", "message": "fix code smell"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1OTUxMDc2", "url": "https://github.com/apache/iotdb/pull/2389#pullrequestreview-565951076", "createdAt": "2021-01-12T05:36:22Z", "commit": {"oid": "5d2b75fb187f4801308126f97234d92fb5eb9f7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3930, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}