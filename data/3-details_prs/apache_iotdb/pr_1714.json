{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyNjA5NTEw", "number": 1714, "title": "[IOTDB-869] Failed to insert data via Windows CLI", "bodyText": "JIRA issue: https://issues.apache.org/jira/browse/IOTDB-869\nThis issue occurs because IoTDB failed to load \"iotdb-engine.properties\" when starting on Windows.\nWhen the file path is in the format of \"D:/path\" on WinOS, it will not be recognized as valid protocol when creating a URL object.", "createdAt": "2020-09-09T07:41:10Z", "url": "https://github.com/apache/iotdb/pull/1714", "merged": true, "mergeCommit": {"oid": "0d853dc74b4587d79e3eb9d5cc1bde71c3adb1da"}, "closed": true, "closedAt": "2020-09-18T06:39:37Z", "author": {"login": "wshao08"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHDg1WgH2gAyNDgyNjA5NTEwOjNhODhjOTkxY2U2YmNhMDE3ZTYxNzA5NmUwMmZkMmM3OTlkMzY4NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJXF4wAFqTQ4OTMzODMyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3a88c991ce6bca017e617096e02fd2c799d36855", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/3a88c991ce6bca017e617096e02fd2c799d36855", "committedDate": "2020-09-09T03:20:17Z", "message": "Fix for getPropsUrl()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b42b2a2bd285349caf0020107bca2e90c5e6391", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/5b42b2a2bd285349caf0020107bca2e90c5e6391", "committedDate": "2020-09-09T07:27:01Z", "message": "Add unit test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85e24732c4db031411abd76f0dfff3722c2a1bc2", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/85e24732c4db031411abd76f0dfff3722c2a1bc2", "committedDate": "2020-09-09T08:46:09Z", "message": "Remove inaccurate test case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0ODYyMDM4", "url": "https://github.com/apache/iotdb/pull/1714#pullrequestreview-484862038", "createdAt": "2020-09-09T10:13:21Z", "commit": {"oid": "85e24732c4db031411abd76f0dfff3722c2a1bc2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f8b1008a3d7c91f3101bd6fe8f77bce55af9d29", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/4f8b1008a3d7c91f3101bd6fe8f77bce55af9d29", "committedDate": "2020-09-09T10:57:36Z", "message": "Avoid test case falure on windows"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0OTA0NjQy", "url": "https://github.com/apache/iotdb/pull/1714#pullrequestreview-484904642", "createdAt": "2020-09-09T11:17:19Z", "commit": {"oid": "4f8b1008a3d7c91f3101bd6fe8f77bce55af9d29"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToxNzoyMFrOHPCiLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToxNzoyMFrOHPCiLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzMjIwNw==", "bodyText": "This change will again break the ability to load a config properites resource from classpath ...", "url": "https://github.com/apache/iotdb/pull/1714#discussion_r485532207", "createdAt": "2020-09-09T11:17:20Z", "author": {"login": "chrisdutz"}, "path": "server/src/main/java/org/apache/iotdb/db/conf/IoTDBDescriptor.java", "diffHunk": "@@ -118,12 +119,14 @@ public URL getPropsUrl() {\n     else if(!urlString.endsWith(\".properties\")) {\n       urlString += (File.separatorChar + IoTDBConfig.CONFIG_NAME);\n     }\n-    // If the url doesn't start with \"file:\" it's provided as a normal path.\n-    // So we need to add it to make it a real URL.\n-    if(!urlString.startsWith(\"file:\")) {\n-      urlString = \"file:\" + urlString;\n-    }\n+\n+    // If the url doesn't start with \"file:\" or other protocols, it's provided as a normal path.\n+    // If valid, we return a URL converted from this file path.\n+    File confFile = new File(urlString);\n     try {\n+      if (confFile.exists()) {\n+        return confFile.toURI().toURL();\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f8b1008a3d7c91f3101bd6fe8f77bce55af9d29"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d260cbc71746157fe0667d46d3381fffa64c7a4", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/4d260cbc71746157fe0667d46d3381fffa64c7a4", "committedDate": "2020-09-10T02:28:28Z", "message": "Fix classpath scenario"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47c1a4e915694448d72f64ada6657fb5f6d01a50", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/47c1a4e915694448d72f64ada6657fb5f6d01a50", "committedDate": "2020-09-10T12:27:18Z", "message": "correct comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MzM4MzI5", "url": "https://github.com/apache/iotdb/pull/1714#pullrequestreview-489338329", "createdAt": "2020-09-16T07:16:48Z", "commit": {"oid": "47c1a4e915694448d72f64ada6657fb5f6d01a50"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3808, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}