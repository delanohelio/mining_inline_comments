{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NTI4NTI2", "number": 2334, "title": "Move coordinator from meta group member", "bodyText": "", "createdAt": "2020-12-25T06:22:40Z", "url": "https://github.com/apache/iotdb/pull/2334", "merged": true, "mergeCommit": {"oid": "d98e150cbf80e928692071d3fdf88a3b445f02f6"}, "closed": true, "closedAt": "2020-12-30T02:59:11Z", "author": {"login": "mychaow"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqdbkkgFqTU1ODk4MTI0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq4rydAFqTU1OTQ4MzQ0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTgxMjQ0", "url": "https://github.com/apache/iotdb/pull/2334#pullrequestreview-558981244", "createdAt": "2020-12-28T03:02:51Z", "commit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzowMjo1MVrOILwcPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwMzoxNjo0NlrOILwjzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA==", "bodyText": "Why not delete this method as you have implemented it in Coordinator.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549198908", "createdAt": "2020-12-28T03:02:51Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDI0Ng==", "bodyText": "As you have abstract coordinator to cooperate with metaGroupMember and dataGroupMember, I think maybe it's better to remove metaGroupMember in ClientServer to decouple clientServer(service logic) and metaGroupMember(internal logic).", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549200246", "createdAt": "2020-12-28T03:12:35Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -90,6 +91,12 @@\n    */\n   private MetaGroupMember metaGroupMember;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIwMDg0NQ==", "bodyText": "update javadoc", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549200845", "createdAt": "2020-12-28T03:16:46Z", "author": {"login": "LebronAl"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/ClientServer.java", "diffHunk": "@@ -203,7 +210,7 @@ protected TSStatus executeNonQueryPlan(PhysicalPlan plan) {\n       logger.warn(\"Illegal plan detected\uff1a {}\", plan);\n       return RpcUtils.getStatus(TSStatusCode.EXECUTE_STATEMENT_ERROR, e.getMessage());\n     }\n-    return metaGroupMember.executeNonQueryPlan(plan);\n+    return coordinator.executeNonQueryPlan(plan);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d0dd596db4e63ded16529c656f861f55d4802d9", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/1d0dd596db4e63ded16529c656f861f55d4802d9", "committedDate": "2020-12-28T05:29:13Z", "message": "modify format of some comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e595ac74be69a4f2bec1c5b61c7e7c2a2f4c818", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/7e595ac74be69a4f2bec1c5b61c7e7c2a2f4c818", "committedDate": "2020-12-28T05:29:13Z", "message": "refactor metagroupmemeber"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "926effe3d1986e2123a6633b0d27a6b061a4e009", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/926effe3d1986e2123a6633b0d27a6b061a4e009", "committedDate": "2020-12-28T05:29:14Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47bde78648ce497c471fe3944c86383eff698ebe", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/47bde78648ce497c471fe3944c86383eff698ebe", "committedDate": "2020-12-28T05:29:14Z", "message": "add some comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ad5dddc26e2611f1bcfbd829449efdda093c416", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/5ad5dddc26e2611f1bcfbd829449efdda093c416", "committedDate": "2020-12-28T05:29:14Z", "message": "fix code smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1981863d27750f4555e670ba2c95aa4d0721824b", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/1981863d27750f4555e670ba2c95aa4d0721824b", "committedDate": "2020-12-28T05:29:14Z", "message": "remove duplicated code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0c82f8e07a38e8ca6ccb065009e3cf22cb75f43", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/d0c82f8e07a38e8ca6ccb065009e3cf22cb75f43", "committedDate": "2020-12-28T05:29:14Z", "message": "remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0272705741c6f22cea98dfe7e3e0bd17fbbf2cf4", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/0272705741c6f22cea98dfe7e3e0bd17fbbf2cf4", "committedDate": "2020-12-28T05:29:14Z", "message": "remove the metaGroupMember from clientServer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39aef721d453ae9e150be48f769ca07258b1a61b", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/39aef721d453ae9e150be48f769ca07258b1a61b", "committedDate": "2020-12-28T05:27:50Z", "message": "remove the metaGroupMember from clientServer"}, "afterCommit": {"oid": "0272705741c6f22cea98dfe7e3e0bd17fbbf2cf4", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/0272705741c6f22cea98dfe7e3e0bd17fbbf2cf4", "committedDate": "2020-12-28T05:29:14Z", "message": "remove the metaGroupMember from clientServer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MTA5NjU1", "url": "https://github.com/apache/iotdb/pull/2334#pullrequestreview-559109655", "createdAt": "2020-12-28T11:39:10Z", "commit": {"oid": "0272705741c6f22cea98dfe7e3e0bd17fbbf2cf4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMTozOToxMFrOIL3qCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMTozOToxMFrOIL3qCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNzEyOA==", "bodyText": "Where does DataGroupMember use this? It does not seem quite reasonable.", "url": "https://github.com/apache/iotdb/pull/2334#discussion_r549317128", "createdAt": "2020-12-28T11:39:10Z", "author": {"login": "jt2594838"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/server/member/MetaGroupMember.java", "diffHunk": "@@ -1326,50 +1326,21 @@ public void receiveSnapshot(SendSnapshotRequest request) throws SnapshotInstalla\n    */\n   @Override\n   public TSStatus executeNonQueryPlan(PhysicalPlan plan) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE5ODkwOA=="}, "originalCommit": {"oid": "4cde145740b7d6425fe226ddd2fca90e4cd48974"}, "originalPosition": 215}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70db80bc6978ac0b6652f1e906fbb0139348636", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/b70db80bc6978ac0b6652f1e906fbb0139348636", "committedDate": "2020-12-29T01:25:18Z", "message": "remote executeNonQuery from metaGroupMember"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57876507173c4759f19e9be7ee6d0b086cc55b77", "author": {"user": {"login": "mychaow", "name": "chaow"}}, "url": "https://github.com/apache/iotdb/commit/57876507173c4759f19e9be7ee6d0b086cc55b77", "committedDate": "2020-12-29T01:37:47Z", "message": "remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MzYzOTAy", "url": "https://github.com/apache/iotdb/pull/2334#pullrequestreview-559363902", "createdAt": "2020-12-29T03:11:21Z", "commit": {"oid": "57876507173c4759f19e9be7ee6d0b086cc55b77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NDgzNDQ1", "url": "https://github.com/apache/iotdb/pull/2334#pullrequestreview-559483445", "createdAt": "2020-12-29T11:04:34Z", "commit": {"oid": "57876507173c4759f19e9be7ee6d0b086cc55b77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3974, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}