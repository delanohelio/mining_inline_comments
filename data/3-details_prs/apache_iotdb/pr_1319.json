{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NTM3NzA3", "number": 1319, "title": "[Distrubuted] Peer tracker optimization", "bodyText": "during matchIndex checking,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking", "createdAt": "2020-06-05T15:40:54Z", "url": "https://github.com/apache/iotdb/pull/1319", "merged": true, "mergeCommit": {"oid": "6fbf13fffa673a5e49475ba86b8b1ced53d813f5"}, "closed": true, "closedAt": "2020-06-08T03:15:23Z", "author": {"login": "LebronAl"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoUnHqgBqjM0MTE5MzE1NTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpHsxegFqTQyNTg5NDA5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db4f0fcd7f9f2b5efbe832b5bc4b8b7931ce5666", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/db4f0fcd7f9f2b5efbe832b5bc4b8b7931ce5666", "committedDate": "2020-06-05T15:36:17Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "4193abcb68e287fc5833dfe2de11cc9900cdf546", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/4193abcb68e287fc5833dfe2de11cc9900cdf546", "committedDate": "2020-06-05T15:43:22Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4193abcb68e287fc5833dfe2de11cc9900cdf546", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/4193abcb68e287fc5833dfe2de11cc9900cdf546", "committedDate": "2020-06-05T15:43:22Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "29a431b34319b0b20606226ae6c34fff776ddeb7", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/29a431b34319b0b20606226ae6c34fff776ddeb7", "committedDate": "2020-06-05T15:44:36Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29a431b34319b0b20606226ae6c34fff776ddeb7", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/29a431b34319b0b20606226ae6c34fff776ddeb7", "committedDate": "2020-06-05T15:44:36Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "00178dc9a3ad6c6431e9a8ce224407b26909f78f", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/00178dc9a3ad6c6431e9a8ce224407b26909f78f", "committedDate": "2020-06-05T15:45:01Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00178dc9a3ad6c6431e9a8ce224407b26909f78f", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/00178dc9a3ad6c6431e9a8ce224407b26909f78f", "committedDate": "2020-06-05T15:45:01Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "1a45d8d80aa625104222a39c772b507276fe543a", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/1a45d8d80aa625104222a39c772b507276fe543a", "committedDate": "2020-06-07T16:28:45Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a45d8d80aa625104222a39c772b507276fe543a", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/1a45d8d80aa625104222a39c772b507276fe543a", "committedDate": "2020-06-07T16:28:45Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "6fefb0200b4f2d1c6ace8aac1e0287e7aaf4a256", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/6fefb0200b4f2d1c6ace8aac1e0287e7aaf4a256", "committedDate": "2020-06-08T02:11:32Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODc5ODQ4", "url": "https://github.com/apache/iotdb/pull/1319#pullrequestreview-425879848", "createdAt": "2020-06-08T02:02:01Z", "commit": {"oid": "1a45d8d80aa625104222a39c772b507276fe543a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwMjowMjowMlrOGgNbiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwMjowMjowMlrOGgNbiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQyNzY1Ng==", "bodyText": "I think it is fine to put multiple variables in a single line, but this will add Sonar code smells, so it is better to put them into separate lines.", "url": "https://github.com/apache/iotdb/pull/1319#discussion_r436427656", "createdAt": "2020-06-08T02:02:02Z", "author": {"login": "jt2594838"}, "path": "cluster/src/main/java/org/apache/iotdb/cluster/log/catchup/CatchUpTask.java", "diffHunk": "@@ -55,28 +55,32 @@ public CatchUpTask(Node node, Peer peer, RaftMember raftMember) {\n   }\n \n   /**\n-   *\n    * @return true if the matched index exceed the memory log bound so a snapshot is necessary, or\n    * false if the catch up can be done using memory logs.\n    * @throws TException\n    * @throws InterruptedException\n    */\n   boolean checkMatchIndex() throws TException, InterruptedException, LeaderUnknownException {\n+    boolean isLogDebug = logger.isDebugEnabled();\n+    long lo = -1, hi;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a45d8d80aa625104222a39c772b507276fe543a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e90a5c98f683b69a3a20bc01ac2858045bdee56", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/7e90a5c98f683b69a3a20bc01ac2858045bdee56", "committedDate": "2020-06-08T02:55:47Z", "message": "add some logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bce63debb65cb08a3cb4ea70afc1ba81296cc04c", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/bce63debb65cb08a3cb4ea70afc1ba81296cc04c", "committedDate": "2020-06-08T03:03:46Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fefb0200b4f2d1c6ace8aac1e0287e7aaf4a256", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/6fefb0200b4f2d1c6ace8aac1e0287e7aaf4a256", "committedDate": "2020-06-08T02:11:32Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}, "afterCommit": {"oid": "bce63debb65cb08a3cb4ea70afc1ba81296cc04c", "author": {"user": {"login": "LebronAl", "name": "Potato"}}, "url": "https://github.com/apache/iotdb/commit/bce63debb65cb08a3cb4ea70afc1ba81296cc04c", "committedDate": "2020-06-08T03:03:46Z", "message": "during matchIndexCheck,start checking from follower's lastLogIndex instead of leader's lastLogIndex to accelerate checking"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODk0MDky", "url": "https://github.com/apache/iotdb/pull/1319#pullrequestreview-425894092", "createdAt": "2020-06-08T03:15:13Z", "commit": {"oid": "bce63debb65cb08a3cb4ea70afc1ba81296cc04c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3769, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}