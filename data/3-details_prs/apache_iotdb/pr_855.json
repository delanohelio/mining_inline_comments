{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMjM1ODg2", "number": 855, "title": "[IOTDB-587] New TsFile version 2", "bodyText": "The mean differences of new TsFile are as below:\n\n\nremove ChunkGroupMetadata\n\n\nModified Schema to support same measurement names with different data types\n\n\nPerformance Test:\n4G memory.\n1 Storage group\uff0c1 device\uff0c3000 measurements\uff0ceach timeseries contains 600000 data points\nIoTDB configuration:\nenable_parameter_adapter=false\ntsfile_size_threshold=1024L\nmemtable_size_threshold=5010241024L\nWrite cost:\nnew_TsFile\uff1a300569ms\uff0c14.76G\uff0c184 tsfiles\nmaster\uff1a300418ms\uff0c14.73G\uff0c184 tsfiles\nQuery time cost:\n\nselect s1 from root.sg1.d1\n\nnew_TsFile: 1349ms\nmaster: 2102ms\n\nselect s1, s2, s3, s4, s5, s6, s7, s8, s9, s10 from root.sg1.d1\n\nnew_TsFile: 3268ms\nmaster: 4621ms\n\nselect * from root\n\nnew_TsFile: 647934ms\nmaster: 814206ms\n\nselect count(s1) from root.sg1.d1\n\nnew_TsFile: 421ms\nmaster: 1654ms\n\nselect count(s1), count(s2), count(s3), count(s4), count(s5), count(s6), count(s7), count(s8), count(s9), count(s10) from root.sg1.d1\n\nnew_TsFile: 1887ms\nmaster: 4231ms\n\n\"select count(s1), count(s2), count(s3), count(s4), count(s5), count(s6), count(s7), count(s8), count(s9), count(s10), count(s11), count(s12), count(s13), count(s14), count(s15), count(s16), count(s17), count(s18), count(s19), count(s20), count(s21), count(s22), count(s23), count(s24), count(s25), count(s26), count(s27), count(s28), count(s29), count(s30) from root.sg1.d1\"\n\nnew_TsFile: 3066ms\nmaster: 6653ms\n\nselect count(*) from root\n\nnew_TsFile optimize cache: 1243ms\nnew_TsFile without optimize cache: 313599ms\nmaster: 614638ms", "createdAt": "2020-02-28T07:01:26Z", "url": "https://github.com/apache/iotdb/pull/855", "merged": true, "mergeCommit": {"oid": "8d51ce7690188ff00459982fe03f4a9217021572"}, "closed": true, "closedAt": "2020-03-31T02:35:52Z", "author": {"login": "HTHou"}, "timelineItems": {"totalCount": 151, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOfHGXAH2gAyMzgxMjM1ODg2OjRkNjJkNTA0NTBiOTg4ZWI1OTFjNzM1ODJkMTQ4OGU0OGViY2IxOWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcS5txPAFqTM4NDM2MjEwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4d62d50450b988eb591c73582d1488e48ebcb19e", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/4d62d50450b988eb591c73582d1488e48ebcb19e", "committedDate": "2020-03-17T09:15:50Z", "message": "merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc1c508f2f3af186a5d868da258cc4940005352b", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/cc1c508f2f3af186a5d868da258cc4940005352b", "committedDate": "2020-03-18T06:43:29Z", "message": "debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4a49c3774d18b48682c4fd90ae4bdefa852233", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/9a4a49c3774d18b48682c4fd90ae4bdefa852233", "committedDate": "2020-03-18T08:22:43Z", "message": "merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c45aa2a8134f401b6e0937cee026cefdf4892fd", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/0c45aa2a8134f401b6e0937cee026cefdf4892fd", "committedDate": "2020-03-18T12:25:39Z", "message": "fuck the bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3e1894688421ee30b84b7509ccb39819af72e9b", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/c3e1894688421ee30b84b7509ccb39819af72e9b", "committedDate": "2020-03-18T12:26:04Z", "message": "Merge branch 'new_TsFile' of https://github.com/apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6454f4f78f2b89eecb9c6427ad090f51275b6d3c", "author": {"user": {"login": "zhanglingzhe0820", "name": null}}, "url": "https://github.com/apache/iotdb/commit/6454f4f78f2b89eecb9c6427ad090f51275b6d3c", "committedDate": "2020-03-19T02:44:10Z", "message": "fix:static test bug (#922)\n\n* fix: StorageEngine static partitionInterval could not be changed by test bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cc49b8309885abf06b83147bc7e589cbec09d02", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/7cc49b8309885abf06b83147bc7e589cbec09d02", "committedDate": "2020-03-19T03:55:25Z", "message": "fix UnseqTsFileRecoverTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60222846be016bdf26e172673d5bf93d306b8c7b", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/60222846be016bdf26e172673d5bf93d306b8c7b", "committedDate": "2020-03-19T06:43:42Z", "message": "fix restart hangup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71f4d5015765122b7a182c2e5fd8387b5f9de532", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/71f4d5015765122b7a182c2e5fd8387b5f9de532", "committedDate": "2020-03-19T06:44:14Z", "message": "fix class name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81768ba80d2efbb34bcac1fa496704c7e6c58c8b", "author": {"user": {"login": "zhanglingzhe0820", "name": null}}, "url": "https://github.com/apache/iotdb/commit/81768ba80d2efbb34bcac1fa496704c7e6c58c8b", "committedDate": "2020-03-19T09:53:05Z", "message": "Fix tsfile test bug (#924)\n\n* fix: MergeLogTest to IoTDBSeriesReaderIT bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b67596a06653e33b831b7cdee0e10669367d157", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/0b67596a06653e33b831b7cdee0e10669367d157", "committedDate": "2020-03-19T11:46:17Z", "message": "use file startTimeMap instead of exact time series start time to reduce the method call numbers to a half"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228e2b8fa53db4ca654b2fc290df607e0c9d5cc9", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/228e2b8fa53db4ca654b2fc290df607e0c9d5cc9", "committedDate": "2020-03-19T11:49:17Z", "message": "add license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63f2aaeb0e810a735a93eb5f70b6fa6ef7ac3cb4", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/63f2aaeb0e810a735a93eb5f70b6fa6ef7ac3cb4", "committedDate": "2020-03-19T12:27:52Z", "message": "adapt to hive-connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c19e84891069763884fa915194a050092d0f13a", "author": {"user": {"login": "zhanglingzhe0820", "name": null}}, "url": "https://github.com/apache/iotdb/commit/4c19e84891069763884fa915194a050092d0f13a", "committedDate": "2020-03-20T05:59:43Z", "message": "update merge recover (#925)\n\n* add merge recover a broken file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1252168e35bb6dbf386dc120043f8f5f1ff9913c", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/1252168e35bb6dbf386dc120043f8f5f1ff9913c", "committedDate": "2020-03-20T06:00:51Z", "message": "throw exception in MergeFileTask when meet file broken"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8a41111c42cfd2b5309262d1873ef8cbcbc4536", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/e8a41111c42cfd2b5309262d1873ef8cbcbc4536", "committedDate": "2020-03-20T09:05:39Z", "message": "fix sonar bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f74a588a95a5fa9fe8cd10cebc9b81dd5eb96c9e", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/f74a588a95a5fa9fe8cd10cebc9b81dd5eb96c9e", "committedDate": "2020-03-20T09:23:24Z", "message": "fix conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebe70fd99eb47b0491553f6a739133f16f7bac2a", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/ebe70fd99eb47b0491553f6a739133f16f7bac2a", "committedDate": "2020-03-20T09:24:23Z", "message": "fix conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca6be41d781bba2df61b62e5a5b417c0d6e0ade", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/5ca6be41d781bba2df61b62e5a5b417c0d6e0ade", "committedDate": "2020-03-20T09:54:45Z", "message": "enable cacheDeviceMetadata in TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea64fd70ee553a2ee358a68e008abca83f03b8f4", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/ea64fd70ee553a2ee358a68e008abca83f03b8f4", "committedDate": "2020-03-23T09:39:24Z", "message": "fix init file metadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a618d70d13451863f7e7737b7c2d168d13eb19db", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/a618d70d13451863f7e7737b7c2d168d13eb19db", "committedDate": "2020-03-24T12:58:21Z", "message": "Add TimeSeriesMetadataCache in server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16d5e309ff4d54e83ac23bdda9b91f06fc5eaf0c", "author": {"user": {"login": "samperson1997", "name": "Zesong Sun"}}, "url": "https://github.com/apache/iotdb/commit/16d5e309ff4d54e83ac23bdda9b91f06fc5eaf0c", "committedDate": "2020-03-24T14:06:49Z", "message": "Fix code smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a81d8a41f514d137a72d7a68cf03f866a8fca892", "author": {"user": {"login": "samperson1997", "name": "Zesong Sun"}}, "url": "https://github.com/apache/iotdb/commit/a81d8a41f514d137a72d7a68cf03f866a8fca892", "committedDate": "2020-03-24T15:15:28Z", "message": "Fix more code smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93d72b2805551262d163af2dadccdc17c46a5a94", "author": {"user": {"login": "samperson1997", "name": "Zesong Sun"}}, "url": "https://github.com/apache/iotdb/commit/93d72b2805551262d163af2dadccdc17c46a5a94", "committedDate": "2020-03-24T15:40:21Z", "message": "Fix some potential bugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fee3f4fc0d19314245d2b33081c9f9b997aa1fb", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/6fee3f4fc0d19314245d2b33081c9f9b997aa1fb", "committedDate": "2020-03-25T00:58:45Z", "message": "Merge branch 'master' into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "800e20cb3ed33fe8488e3dd844670757427dbdd2", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/800e20cb3ed33fe8488e3dd844670757427dbdd2", "committedDate": "2020-03-25T01:41:24Z", "message": "fix sonar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ae74dd4aa890478334318454b8f526d65ae18ba", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/2ae74dd4aa890478334318454b8f526d65ae18ba", "committedDate": "2020-03-25T09:48:03Z", "message": "fix restart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80f6284399df38d40cb4022b1f98d7501e20486e", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/80f6284399df38d40cb4022b1f98d7501e20486e", "committedDate": "2020-03-25T09:49:32Z", "message": "change reader logger to debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32d3f90e02ebd0e89322f751aafec8e694beae0e", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/32d3f90e02ebd0e89322f751aafec8e694beae0e", "committedDate": "2020-03-26T16:02:51Z", "message": "fix a TsFile path bug on macos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "995db5082d9e860232339ba80f872f767e7bd3f9", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/995db5082d9e860232339ba80f872f767e7bd3f9", "committedDate": "2020-03-27T02:12:38Z", "message": "repair the restart bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "933537cdd2d287cbd99abf262ea915fb3e4fdb4c", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/933537cdd2d287cbd99abf262ea915fb3e4fdb4c", "committedDate": "2020-03-27T12:03:58Z", "message": "improve cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "506fa46f4c4901cdd384e92f5112f4285b0a24be", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/506fa46f4c4901cdd384e92f5112f4285b0a24be", "committedDate": "2020-03-27T13:11:45Z", "message": "move StorageEngine init to the last for test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ec96e80f909c81863aceecd2b30fc76708ff941", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/1ec96e80f909c81863aceecd2b30fc76708ff941", "committedDate": "2020-03-27T13:21:25Z", "message": "Merge branch 'new_TsFile' of https://github.com/apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf5f441224d7f652cc2801b41a97f8ed8e4b3592", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/cf5f441224d7f652cc2801b41a97f8ed8e4b3592", "committedDate": "2020-03-30T01:29:29Z", "message": "resolve conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3286c98bfcfe05a11c6113fc23fe34677b957449", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/3286c98bfcfe05a11c6113fc23fe34677b957449", "committedDate": "2020-03-30T04:28:32Z", "message": "remove unused code in TsFileResource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b472cf6a2f64f65b852f50959a00ee11d20a0972", "author": {"user": {"login": "wshao08", "name": null}}, "url": "https://github.com/apache/iotdb/commit/b472cf6a2f64f65b852f50959a00ee11d20a0972", "committedDate": "2020-03-30T04:42:17Z", "message": "Change to use duplicated path and datatypes in LastQueryExecutor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cd97bce0386b63648bf7c969753b13121a19396", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/7cd97bce0386b63648bf7c969753b13121a19396", "committedDate": "2020-03-30T06:06:59Z", "message": "Merge pull request #957 from wshao08/new_TsFile\n\nChange to use duplicated path and datatypes in LastQueryExecutor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1572237cdd26a698e224b10029f4b010e696bb07", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/1572237cdd26a698e224b10029f4b010e696bb07", "committedDate": "2020-03-30T06:07:54Z", "message": "change to cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d06e32079ce995632790fbd90775ad66966d184", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/6d06e32079ce995632790fbd90775ad66966d184", "committedDate": "2020-03-30T06:08:38Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a54da1468d73333ddbcdc3996257a07ace96a7b4", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/a54da1468d73333ddbcdc3996257a07ace96a7b4", "committedDate": "2020-03-30T06:35:25Z", "message": "adapt to last"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNjIwMTM0", "url": "https://github.com/apache/iotdb/pull/855#pullrequestreview-383620134", "createdAt": "2020-03-30T08:11:40Z", "commit": {"oid": "506fa46f4c4901cdd384e92f5112f4285b0a24be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70a0ab129b661cdfffa33219885c6fb8eb5b5221", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/70a0ab129b661cdfffa33219885c6fb8eb5b5221", "committedDate": "2020-03-30T08:14:30Z", "message": "format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "437cfa6740dbbcf86c67eeb9b72e159622b4f088", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/437cfa6740dbbcf86c67eeb9b72e159622b4f088", "committedDate": "2020-03-30T08:14:52Z", "message": "Merge remote-tracking branch 'origin/new_TsFile' into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e9245dd818aa67825f012c2135ff35ec5f7a829", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/1e9245dd818aa67825f012c2135ff35ec5f7a829", "committedDate": "2020-03-30T10:15:02Z", "message": "enlarge TimeseriesMetadataCache, fix averageSize bug, optimize foreach TimeseriesMetadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5731dc256ff12ad260d24f7baa85b8ea4633057f", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/5731dc256ff12ad260d24f7baa85b8ea4633057f", "committedDate": "2020-03-30T11:37:10Z", "message": "clear deviceToSensors in AlignByDevice query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ec481f407d1d4b114c0bd0a6b61ecdba8e72012", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/8ec481f407d1d4b114c0bd0a6b61ecdba8e72012", "committedDate": "2020-03-30T11:43:04Z", "message": "fix sonar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e653ab3e88dc6e1bc4354ee34fac711ec3eae403", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/e653ab3e88dc6e1bc4354ee34fac711ec3eae403", "committedDate": "2020-03-30T12:22:39Z", "message": "update tsfile format changelist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3481c3b696793bf28705c99dd8242007cf708866", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/3481c3b696793bf28705c99dd8242007cf708866", "committedDate": "2020-03-30T12:49:34Z", "message": "use bloomfilter in TimeseriesMetadataCache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8b8ca8d377345a43a14b8ce1eb45cc7253fb95a", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/e8b8ca8d377345a43a14b8ce1eb45cc7253fb95a", "committedDate": "2020-03-30T13:33:32Z", "message": "update licenses info"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjM4NTI3", "url": "https://github.com/apache/iotdb/pull/855#pullrequestreview-371638527", "createdAt": "2020-03-10T02:07:26Z", "commit": {"oid": "c2a8bee1d8c4ac8aac7b80bccefceb757dd63b97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzYyMTA3", "url": "https://github.com/apache/iotdb/pull/855#pullrequestreview-384362107", "createdAt": "2020-03-31T02:31:18Z", "commit": {"oid": "e8b8ca8d377345a43a14b8ce1eb45cc7253fb95a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a4e22555ed1418c099b6a83219c9f5f346144cb", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/5a4e22555ed1418c099b6a83219c9f5f346144cb", "committedDate": "2020-01-06T09:02:49Z", "message": "fix a bug when recover the last crashed file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec64d27af2b0735f5d8588f709834bdfbc720897", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/ec64d27af2b0735f5d8588f709834bdfbc720897", "committedDate": "2020-01-06T09:22:59Z", "message": "add exception for something gets wrong"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68296fc4de495b85829ddb6e511ad3b875727f38", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/68296fc4de495b85829ddb6e511ad3b875727f38", "committedDate": "2020-01-06T12:36:13Z", "message": "fix test errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba57aaba1803fef32309073e134c881c58f4c5ab", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/ba57aaba1803fef32309073e134c881c58f4c5ab", "committedDate": "2020-01-07T08:28:43Z", "message": "change the comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7d462642860d9d69d0551ea3a45ff6be6c03308", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/e7d462642860d9d69d0551ea3a45ff6be6c03308", "committedDate": "2020-01-07T09:12:49Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "835cbfa0f3f7994f5049892a088d2611b14fc9f1", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/835cbfa0f3f7994f5049892a088d2611b14fc9f1", "committedDate": "2020-01-07T11:03:32Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a5793a80549ab994d1cd50ddcd741c4957cb326", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/8a5793a80549ab994d1cd50ddcd741c4957cb326", "committedDate": "2020-01-07T12:01:47Z", "message": "new tsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee2414a8d22d7b296762ad2acd641e70cd579870", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/ee2414a8d22d7b296762ad2acd641e70cd579870", "committedDate": "2020-01-13T05:43:26Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4dab61b6a848b502ec006b371af6b6278a2dd585", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/4dab61b6a848b502ec006b371af6b6278a2dd585", "committedDate": "2020-01-14T02:17:15Z", "message": "refactor tsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dad198ac91aa0e0169fe1b36bea896bfb3860db5", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/dad198ac91aa0e0169fe1b36bea896bfb3860db5", "committedDate": "2020-01-22T07:35:42Z", "message": "refactor tsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d17aa559eaaf716b6d12e59e09bc537035208826", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/d17aa559eaaf716b6d12e59e09bc537035208826", "committedDate": "2020-02-04T06:01:42Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9edff8699a8977ca89d2e93a54205aaa1a132391", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/9edff8699a8977ca89d2e93a54205aaa1a132391", "committedDate": "2020-02-04T06:01:57Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into new_tsFile_v2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ead2ece26d8dea257a50dab262d46e50fac214", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/17ead2ece26d8dea257a50dab262d46e50fac214", "committedDate": "2020-02-10T07:50:20Z", "message": "refactor tsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44955ac8e4ce561622fc68876e04ee0353e953e", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/b44955ac8e4ce561622fc68876e04ee0353e953e", "committedDate": "2020-02-17T15:27:02Z", "message": "new interface and new tsfile structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c048377068420953af32eeb033c7ccff3a912fa", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/8c048377068420953af32eeb033c7ccff3a912fa", "committedDate": "2020-02-17T15:41:42Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into new_tsFile_v2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aacdc9dc69aa8f0c23f71eb4d69f947460120466", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/aacdc9dc69aa8f0c23f71eb4d69f947460120466", "committedDate": "2020-02-21T16:15:39Z", "message": "fix tsfile problems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "310571247b991149ee8e020bdaa47cbb9e29b36a", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/310571247b991149ee8e020bdaa47cbb9e29b36a", "committedDate": "2020-02-23T14:23:00Z", "message": "fix some problems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84272b76a91a56ac9f7ad3fd9376f75e521f2268", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/84272b76a91a56ac9f7ad3fd9376f75e521f2268", "committedDate": "2020-02-24T05:46:28Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0dc6268b90436ef8d10585fb68d5fe8935b1c0c", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/e0dc6268b90436ef8d10585fb68d5fe8935b1c0c", "committedDate": "2020-02-24T18:43:46Z", "message": "fix some of bugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "affde792555bb8145acacf9841f90eddad325a90", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/affde792555bb8145acacf9841f90eddad325a90", "committedDate": "2020-02-25T17:12:09Z", "message": "fix deviceMNode bugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92094bd1953604522e794c657d2e4d5b3ffd3305", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/92094bd1953604522e794c657d2e4d5b3ffd3305", "committedDate": "2020-02-25T17:12:26Z", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into new_tsFile_v2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c7ea7bf2e77c5a6201fafa6a27f6fc33699191e", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/3c7ea7bf2e77c5a6201fafa6a27f6fc33699191e", "committedDate": "2020-02-28T06:30:01Z", "message": "fix bugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "544453d77af0303f40f634c21c73e591bcd8a6d1", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/544453d77af0303f40f634c21c73e591bcd8a6d1", "committedDate": "2020-02-28T06:51:07Z", "message": "new TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f24ebf24a569456af0946ce89db74b9c3868fd76", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/f24ebf24a569456af0946ce89db74b9c3868fd76", "committedDate": "2020-02-28T08:41:47Z", "message": "fix checkLocateStatus in SequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef1ea1d9279425f8605d2f7700696f380cd6680c", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/ef1ea1d9279425f8605d2f7700696f380cd6680c", "committedDate": "2020-03-05T09:31:18Z", "message": "refine Schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af3be5f8b6d3774424b4cb9a966ddcd3a4b8e3a4", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/af3be5f8b6d3774424b4cb9a966ddcd3a4b8e3a4", "committedDate": "2020-03-05T09:34:52Z", "message": "remove unused comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NDM2NjQ4", "url": "https://github.com/apache/iotdb/pull/855#pullrequestreview-369436648", "createdAt": "2020-03-05T10:03:43Z", "commit": {"oid": "af3be5f8b6d3774424b4cb9a966ddcd3a4b8e3a4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMDowMzo0M1rOFyNS7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMToyMjoxNFrOFyP0sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE5MDk1OA==", "bodyText": "Repeat merge the statistics information", "url": "https://github.com/apache/iotdb/pull/855#discussion_r388190958", "createdAt": "2020-03-05T10:03:43Z", "author": {"login": "liutaohua"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/write/writer/TsFileIOWriter.java", "diffHunk": "@@ -261,64 +264,55 @@ public void endFile(Schema schema) throws IOException {\n       resourceLogger.info(\"{} writer is closed.\", file.getName());\n     }\n     canWrite = false;\n+    chunkMetadataListMap = new TreeMap<>();\n     logger.info(\"output stream is closed\");\n   }\n \n   /**\n-   * 1. group chunkGroupMetaDataList to TsDeviceMetadata 2. flush TsDeviceMetadata 3. get\n-   * TsDeviceMetadataIndex\n-   *\n-   * @param chunkGroupMetaDataList all chunk group metadata in memory\n-   * @return TsDeviceMetadataIndex in TsFileMetaData\n+   * Flush ChunkMetadataList and TimeseriesMetaData\n+   * @return DeviceMetaDataMap in TsFileMetaData\n    */\n-  private Map<String, TsDeviceMetadataIndex> flushTsDeviceMetaDataAndGetIndex(\n-      List<ChunkGroupMetaData> chunkGroupMetaDataList) throws IOException {\n-\n-    Map<String, TsDeviceMetadataIndex> tsDeviceMetadataIndexMap = new HashMap<>();\n-\n-    long offset; /* offset for the flushing TsDeviceMetadata */\n-\n-    TsDeviceMetadata currentTsDeviceMetadata;\n-\n-    // flush TsDeviceMetadata by string order of deviceId\n-    for (Map.Entry<String, TsDeviceMetadata> entry : getAllTsDeviceMetadata(chunkGroupMetaDataList)\n-        .entrySet()) {\n-      // update statistics in TsDeviceMetadata\n-      currentTsDeviceMetadata = entry.getValue();\n-\n-      // flush tsChunkGroupBlockMetaData\n-      offset = out.getPosition();\n-      int size = currentTsDeviceMetadata.serializeTo(out.wrapAsStream());\n-\n-      TsDeviceMetadataIndex tsDeviceMetadataIndex = new TsDeviceMetadataIndex(offset, size,\n-          currentTsDeviceMetadata);\n-      tsDeviceMetadataIndexMap.put(entry.getKey(), tsDeviceMetadataIndex);\n+  private Map<String, Pair<Long, Integer>> flushAllChunkMetadataList() throws IOException {\n+\n+    // convert ChunkMetadataList to this field\n+    Map<String, List<TimeseriesMetaData>> deviceTimeseriesMetadataMap = new LinkedHashMap<>();\n+    // create device -> TimeseriesMetaDataList Map\n+    for (Map.Entry<Path, List<ChunkMetaData>> entry : chunkMetadataListMap.entrySet()) {\n+      Path path = entry.getKey();\n+      String deviceId = path.getDevice();\n+      // create TimeseriesMetaData\n+      TimeseriesMetaData timeseriesMetaData = new TimeseriesMetaData();\n+      timeseriesMetaData.setMeasurementId(path.getMeasurement());\n+      timeseriesMetaData.setTSDataType(entry.getValue().get(0).getDataType());\n+      timeseriesMetaData.setOffsetOfChunkMetaDataList(out.getPosition());\n+      Statistics<?> statistics = entry.getValue().get(0).getStatistics();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af3be5f8b6d3774424b4cb9a966ddcd3a4b8e3a4"}, "originalPosition": 281}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIzMjM3MA==", "bodyText": "why need to reapply memory here?", "url": "https://github.com/apache/iotdb/pull/855#discussion_r388232370", "createdAt": "2020-03-05T11:22:14Z", "author": {"login": "liutaohua"}, "path": "tsfile/src/main/java/org/apache/iotdb/tsfile/write/writer/TsFileIOWriter.java", "diffHunk": "@@ -261,64 +264,55 @@ public void endFile(Schema schema) throws IOException {\n       resourceLogger.info(\"{} writer is closed.\", file.getName());\n     }\n     canWrite = false;\n+    chunkMetadataListMap = new TreeMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af3be5f8b6d3774424b4cb9a966ddcd3a4b8e3a4"}, "originalPosition": 233}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea64f9dcfbd8b42ea665a96dfaad67b4297705f3", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/ea64f9dcfbd8b42ea665a96dfaad67b4297705f3", "committedDate": "2020-03-05T15:01:12Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afadbe43ea00a85203209ecc0ff7d87f0b1af1eb", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/afadbe43ea00a85203209ecc0ff7d87f0b1af1eb", "committedDate": "2020-03-05T16:11:07Z", "message": "refactor TsFileSketchTool"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c46b0bb235abef768f57e415788a288b85684860", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/c46b0bb235abef768f57e415788a288b85684860", "committedDate": "2020-03-06T02:54:09Z", "message": "resolce conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c23242428fc263a318d98349e48bd3ae7105b403", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/c23242428fc263a318d98349e48bd3ae7105b403", "committedDate": "2020-03-06T02:59:05Z", "message": "remove duplicated mnode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c39b0e687adb74329a5dabea3e4568c69c17473", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/4c39b0e687adb74329a5dabea3e4568c69c17473", "committedDate": "2020-03-06T13:45:03Z", "message": "Add EmptyDeviceMNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ffbaf5e256f23746268d62b7bd0a71c9471506d", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/7ffbaf5e256f23746268d62b7bd0a71c9471506d", "committedDate": "2020-03-07T13:12:16Z", "message": "simplify TsFileMetadataUtils.getChunkMetadataList"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "464619e3d720e4bf21dbb3112382476be66e7770", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/464619e3d720e4bf21dbb3112382476be66e7770", "committedDate": "2020-03-07T13:12:40Z", "message": "simplify TsFileMetadataUtils.getChunkMetadataList"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2a8bee1d8c4ac8aac7b80bccefceb757dd63b97", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/c2a8bee1d8c4ac8aac7b80bccefceb757dd63b97", "committedDate": "2020-03-08T18:25:25Z", "message": "fix a deviceMNode bug and restore Unit Tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97f2bdac9fcc37144ff88d852282d5064abfcfeb", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/97f2bdac9fcc37144ff88d852282d5064abfcfeb", "committedDate": "2020-03-09T02:53:59Z", "message": "revolve conflict after merging master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6597f6df3b1f53d70a4d44eb61976eb4e6338e87", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/6597f6df3b1f53d70a4d44eb61976eb4e6338e87", "committedDate": "2020-03-09T03:25:59Z", "message": "changes to TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66226ee68a860cda6530d2869ec7330ac3f2b11d", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/66226ee68a860cda6530d2869ec7330ac3f2b11d", "committedDate": "2020-03-09T03:26:27Z", "message": "changes to TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46fbb66cbda0e630a8c574d72316821a41f9d568", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/46fbb66cbda0e630a8c574d72316821a41f9d568", "committedDate": "2020-03-09T04:15:41Z", "message": "rename devicemetadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a5b3b03d2408c5895243d14761c9257aaf772c0", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/7a5b3b03d2408c5895243d14761c9257aaf772c0", "committedDate": "2020-03-09T07:34:42Z", "message": "fix cache key to string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c2c93c7f9894ac253e2305e243f8693d6afe16a", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/2c2c93c7f9894ac253e2305e243f8693d6afe16a", "committedDate": "2020-03-09T12:31:56Z", "message": "hadoop-connector adapt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0b1369026925072ccad4ecdc341df20db847b9e", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/e0b1369026925072ccad4ecdc341df20db847b9e", "committedDate": "2020-03-09T12:32:13Z", "message": "Merge branch 'new_TsFile' of https://github.com/apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "587c2a5e69e6fd69d72fd7e09c879027cb2decf7", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/587c2a5e69e6fd69d72fd7e09c879027cb2decf7", "committedDate": "2020-03-10T03:09:37Z", "message": "some changes in TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03e93e346cef683de93b74f7da23a9ad472dcb86", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/03e93e346cef683de93b74f7da23a9ad472dcb86", "committedDate": "2020-03-10T06:45:01Z", "message": "remove Schema in server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "791bc265d6ffbf842948539a80e6f070eeb8b875", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/791bc265d6ffbf842948539a80e6f070eeb8b875", "committedDate": "2020-03-10T06:45:26Z", "message": "Merge branch 'new_TsFile' of github.com:apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d77765ca94c01e482102eec334b96d9895b0c8d", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/9d77765ca94c01e482102eec334b96d9895b0c8d", "committedDate": "2020-03-10T07:27:38Z", "message": "remove DeviceMNode and EmptyDeviceMNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ef0683524803a62e4911b2c7a9c4023b52c0a1d", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/5ef0683524803a62e4911b2c7a9c4023b52c0a1d", "committedDate": "2020-03-10T08:55:35Z", "message": "add version read and write"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d85244f380a3d7862926f4c062b565bca5d8b162", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/d85244f380a3d7862926f4c062b565bca5d8b162", "committedDate": "2020-03-10T09:27:49Z", "message": "fix null encoding in test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90dd71a4a785be6860c36319caf564999e2576b9", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/90dd71a4a785be6860c36319caf564999e2576b9", "committedDate": "2020-03-10T09:42:09Z", "message": "remove readAllChunkMetadats() in TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51c33323f690478788cfb7c136e6b13213942fb9", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/51c33323f690478788cfb7c136e6b13213942fb9", "committedDate": "2020-03-10T09:45:16Z", "message": "fix Statistics T"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7e238c0b0085171e0e664a4aab0ff4bc543ef21", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/a7e238c0b0085171e0e664a4aab0ff4bc543ef21", "committedDate": "2020-03-10T17:18:34Z", "message": "fix TsFileMetadataTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f79da2144bc29cfb71eeffb48445bf27233d172a", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/f79da2144bc29cfb71eeffb48445bf27233d172a", "committedDate": "2020-03-11T01:54:32Z", "message": "optimize readChunkMetadataInDevice"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8da9e822448e3912ad493d1f248d07925d1042a8", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/8da9e822448e3912ad493d1f248d07925d1042a8", "committedDate": "2020-03-11T05:23:44Z", "message": "fix bugs in convertSpace2TimePartition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fda05aac611a7ed8144cb3d6dfe2bb513d07500b", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/fda05aac611a7ed8144cb3d6dfe2bb513d07500b", "committedDate": "2020-03-11T05:53:06Z", "message": "fix bugs in tsfile tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "735977ee7c6fc0af70b43ec6c2b2d3e23206d14a", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/735977ee7c6fc0af70b43ec6c2b2d3e23206d14a", "committedDate": "2020-03-11T07:58:31Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9638a56b50c299fa799d8fedfe5bac27f7bdabf1", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/9638a56b50c299fa799d8fedfe5bac27f7bdabf1", "committedDate": "2020-03-11T08:06:36Z", "message": "fix SessionExample"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32c01000909e85da8a5e9b2fbff34c8bf4b6f292", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/32c01000909e85da8a5e9b2fbff34c8bf4b6f292", "committedDate": "2020-03-11T08:07:04Z", "message": "fix SessionExample import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca0ac00ab74537db0b9aade3c95a433ab14eff21", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/ca0ac00ab74537db0b9aade3c95a433ab14eff21", "committedDate": "2020-03-11T08:23:39Z", "message": "fix null encoder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c704809e865d1b33cff3b9f951a3300a7db485", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/90c704809e865d1b33cff3b9f951a3300a7db485", "committedDate": "2020-03-11T10:46:35Z", "message": "fix getDeviceNameInRange in TsFileSequenceReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05e10f5059ad9c6c145b7effe74d3846f1ff39c7", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/05e10f5059ad9c6c145b7effe74d3846f1ff39c7", "committedDate": "2020-03-11T12:15:41Z", "message": "fix inpartitionTimeRange update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b65eddfbba3edeb2d553372c163d9188a10262b", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/5b65eddfbba3edeb2d553372c163d9188a10262b", "committedDate": "2020-03-11T13:24:12Z", "message": "fix spark and allow write without register device"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39fbd522a9765cada100d2b9f8e9a4fd9a681ff8", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/39fbd522a9765cada100d2b9f8e9a4fd9a681ff8", "committedDate": "2020-03-11T13:59:27Z", "message": "fix sketchTool and sequenceRead example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9221e208cc2119d37b5e6d3a5fcff1f48b67b08", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/f9221e208cc2119d37b5e6d3a5fcff1f48b67b08", "committedDate": "2020-03-11T14:54:04Z", "message": "fix schema and HDFSInputTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d268702448f8a69cac2a2016a85d81588a70470", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/6d268702448f8a69cac2a2016a85d81588a70470", "committedDate": "2020-03-11T14:54:25Z", "message": "Merge branch 'new_TsFile' of github.com:apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "934fc9a308de1e65b6da0f34b1689058e93f951b", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/934fc9a308de1e65b6da0f34b1689058e93f951b", "committedDate": "2020-03-11T15:05:51Z", "message": "fix TimeRange and spark package name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01b594f21a248fa4eceb37fc4925ba681298fd12", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/01b594f21a248fa4eceb37fc4925ba681298fd12", "committedDate": "2020-03-12T06:12:09Z", "message": "fix MetadataQuerier with Time range"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a71086b2d91dbb062e0d03456060ba0d35626195", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/a71086b2d91dbb062e0d03456060ba0d35626195", "committedDate": "2020-03-12T07:25:16Z", "message": "add filter and test for tsfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc3c8d161b3451fd468c9546c9dfe6c38a3f286e", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/dc3c8d161b3451fd468c9546c9dfe6c38a3f286e", "committedDate": "2020-03-12T07:53:24Z", "message": "fix TimeseriesMetadata Statistics error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1f07774c29a9cf4c0c9ef4525c4a3d8c1320270", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/f1f07774c29a9cf4c0c9ef4525c4a3d8c1320270", "committedDate": "2020-03-12T09:04:39Z", "message": "diable timegenerator cache and add test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d7bb8c080f4358c8db4019aac1c7359b2671b5b", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/5d7bb8c080f4358c8db4019aac1c7359b2671b5b", "committedDate": "2020-03-12T09:20:47Z", "message": "add same measurememts with different datatypes test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4460ee7940bb947a99dae84d6356759b97305e98", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/4460ee7940bb947a99dae84d6356759b97305e98", "committedDate": "2020-03-12T09:21:41Z", "message": "Merge branch 'new_TsFile' of https://github.com/apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17d377bde299afd4f562047f67d5c17e95e13e65", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/17d377bde299afd4f562047f67d5c17e95e13e65", "committedDate": "2020-03-12T09:38:42Z", "message": "fix spark test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "372503d030bad5c21e506a849c8dad4d57ef5db2", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/372503d030bad5c21e506a849c8dad4d57ef5db2", "committedDate": "2020-03-12T09:39:16Z", "message": "Merge branch 'new_TsFile' of github.com:apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83701daa16b011b1053cdd21b892104d5bcf3e9f", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/83701daa16b011b1053cdd21b892104d5bcf3e9f", "committedDate": "2020-03-12T10:17:38Z", "message": "fix Timegenerator cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4ec1d2b24069f6ae1e9162900fecd47349bd32f", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/e4ec1d2b24069f6ae1e9162900fecd47349bd32f", "committedDate": "2020-03-12T10:18:31Z", "message": "remove comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b22aff92e5b69d9bccaeeaa9b4c9dceacb134ae", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/0b22aff92e5b69d9bccaeeaa9b4c9dceacb134ae", "committedDate": "2020-03-12T10:23:16Z", "message": "fix timegenerator cache bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3d7b7bd1660081c60c6b6886dd948c0b47780d4", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/b3d7b7bd1660081c60c6b6886dd948c0b47780d4", "committedDate": "2020-03-12T11:26:56Z", "message": "fix loop not end"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c7c4740f213af9d2efe2a00dafa5cd625a9633", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/85c7c4740f213af9d2efe2a00dafa5cd625a9633", "committedDate": "2020-03-12T11:39:39Z", "message": "fix javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbcb3d4f61570c06fd3444893e5dacbb114b031a", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/cbcb3d4f61570c06fd3444893e5dacbb114b031a", "committedDate": "2020-03-12T13:31:25Z", "message": "test mkdir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83f586b38ea8827624ba145e5b2ba2234bb5b562", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/83f586b38ea8827624ba145e5b2ba2234bb5b562", "committedDate": "2020-03-12T14:40:54Z", "message": "fix windows test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e638e18f86a4ae71bdd4268ad6cb1cedb306ad9e", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/e638e18f86a4ae71bdd4268ad6cb1cedb306ad9e", "committedDate": "2020-03-12T16:40:15Z", "message": "add same measurememts with different datatypes test in IoTDB"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d73f16a93ba3be4b172185b5f04bea64e32b4201", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/d73f16a93ba3be4b172185b5f04bea64e32b4201", "committedDate": "2020-03-12T17:16:50Z", "message": "fix a bug in TsFileWriter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea12c00d132de50663a92a98bc46c652d99abbcf", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/ea12c00d132de50663a92a98bc46c652d99abbcf", "committedDate": "2020-03-12T17:35:03Z", "message": "reformat sketchTool print result"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76b9e2dcb2363680e037b3c30c2e286b9fd0fa19", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/76b9e2dcb2363680e037b3c30c2e286b9fd0fa19", "committedDate": "2020-03-13T01:18:55Z", "message": "change test file name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "616a604885fc4d157359b768337c921223bd7fd2", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/616a604885fc4d157359b768337c921223bd7fd2", "committedDate": "2020-03-13T01:49:22Z", "message": "close reader in test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96b78f4f09ba63e66cadbe23e803bbe48ed94c2f", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/96b78f4f09ba63e66cadbe23e803bbe48ed94c2f", "committedDate": "2020-03-13T02:02:53Z", "message": "resolve conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de3a1740aef08a4f443bd0e23c8a6745d412a49d", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/de3a1740aef08a4f443bd0e23c8a6745d412a49d", "committedDate": "2020-03-13T07:34:54Z", "message": "update SeriesReader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13a207ee17d225a9e4823948f30986ffdd59bbb7", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/13a207ee17d225a9e4823948f30986ffdd59bbb7", "committedDate": "2020-03-13T08:46:25Z", "message": "Merge remote-tracking branch 'origin/master' into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60565b346279343051032a0a004f55306f3fe488", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/60565b346279343051032a0a004f55306f3fe488", "committedDate": "2020-03-13T08:47:23Z", "message": "merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bcdce6703462b574477bce0b455dd22a00e16ea", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/6bcdce6703462b574477bce0b455dd22a00e16ea", "committedDate": "2020-03-13T12:07:34Z", "message": "resolve conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a29548c5f88edab86dba5784923f94614273385b", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/a29548c5f88edab86dba5784923f94614273385b", "committedDate": "2020-03-13T12:25:02Z", "message": "fix StorageGroupProcessorTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1d4660f6387492fcd4f81bb0df60bc611858131", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/e1d4660f6387492fcd4f81bb0df60bc611858131", "committedDate": "2020-03-13T13:22:19Z", "message": "fix UnseqTsFileRecoverTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d193a0c3876a52af0e1f2ab0d9b8d90e9baedcbd", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/d193a0c3876a52af0e1f2ab0d9b8d90e9baedcbd", "committedDate": "2020-03-14T01:33:29Z", "message": "some debugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8bed884765988bbbbf64db9bbfc0b35174ff2a8", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/f8bed884765988bbbbf64db9bbfc0b35174ff2a8", "committedDate": "2020-03-14T02:43:30Z", "message": "Fix some bugs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0bb25924acedd4a90f99842dd71d5d0540a25a2", "author": {"user": {"login": "zhanglingzhe0820", "name": null}}, "url": "https://github.com/apache/iotdb/commit/e0bb25924acedd4a90f99842dd71d5d0540a25a2", "committedDate": "2020-03-14T05:32:31Z", "message": "fix:pass merge test (#907)\n\n* fix merge test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37f7a0e5ea81635f65b91beafff66b8b9f79c1d0", "author": {"user": {"login": "qiaojialin", "name": "Jialin Qiao"}}, "url": "https://github.com/apache/iotdb/commit/37f7a0e5ea81635f65b91beafff66b8b9f79c1d0", "committedDate": "2020-03-14T05:33:28Z", "message": "Merge branch 'master' into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22dbf13ac8bd607ddae4cfa46793c6e2c47ef9d8", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/22dbf13ac8bd607ddae4cfa46793c6e2c47ef9d8", "committedDate": "2020-03-14T12:46:18Z", "message": "Bug fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71073584d1422db74d8a6389284074685c03fd09", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/71073584d1422db74d8a6389284074685c03fd09", "committedDate": "2020-03-14T12:46:31Z", "message": "Merge branch 'new_TsFile' of https://github.com/apache/incubator-iotdb into new_TsFile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01c9ff696b9821d86e3e0f283b027469122338ab", "author": {"user": {"login": "JackieTien97", "name": "Jackie Tien"}}, "url": "https://github.com/apache/iotdb/commit/01c9ff696b9821d86e3e0f283b027469122338ab", "committedDate": "2020-03-15T01:53:38Z", "message": "resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f9b797fb9b72e3b8599f45119ddfecae65609a5", "author": {"user": {"login": "HTHou", "name": "Haonan"}}, "url": "https://github.com/apache/iotdb/commit/0f9b797fb9b72e3b8599f45119ddfecae65609a5", "committedDate": "2020-03-16T02:13:25Z", "message": "remove unnecessary code"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3126, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}