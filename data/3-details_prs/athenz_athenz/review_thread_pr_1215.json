{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNzMxNTQ0", "number": 1215, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMToxMzoxNlrOFHZUbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMToxMzoxNlrOFHZUbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjk5MTgzOnYy", "diffSide": "RIGHT", "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/ZMSImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMToxMzoxNlrOII3d-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMToxMzoxNlrOII3d-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE2ODMxMw==", "bodyText": "Looking at the setRoleMemberExpiration function, it is called from 2 places and in both cases the roleMember object that is passed already includes the type since we call:         roleMember.setPrincipalType(principalType(roleMember.getMemberName()));\nSo rather than determining the bUser and bGroup values again, we already know the type so we should remove those two lines and convert this into a simple case statement - similar to validateRoleMemberPrincipal method.", "url": "https://github.com/AthenZ/athenz/pull/1215#discussion_r546168313", "createdAt": "2020-12-19T01:13:16Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/ZMSImpl.java", "diffHunk": "@@ -3674,6 +3674,7 @@ void setRoleMemberExpiration(final AthenzDomain domain, final Role role, final R\n \n         boolean bUser = ZMSUtils.isUserDomainPrincipal(roleMember.getMemberName(), userDomainPrefix,\n                 addlUserCheckDomainPrefixList);\n+        boolean bGroup = roleMember.getMemberName().contains(AuthorityConsts.GROUP_SEP);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b62e869a11ca04ebab0ecc87eaab3ab334239c5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1577, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}