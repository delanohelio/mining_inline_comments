{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMDUwMTMy", "number": 889, "title": "Change zts schema to enable notifications", "bodyText": "I confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-03-01T14:21:40Z", "url": "https://github.com/AthenZ/athenz/pull/889", "merged": true, "mergeCommit": {"oid": "0d34fc5c99076e3468ba6d709e1864c9f78e376b"}, "closed": true, "closedAt": "2020-03-02T16:48:53Z", "author": {"login": "OferLevi85"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJaFJKgFqTM2Njg2MzM4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJwmXcgFqTM2NzM1NjE5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODYzMzg2", "url": "https://github.com/AthenZ/athenz/pull/889#pullrequestreview-366863386", "createdAt": "2020-03-01T14:34:32Z", "commit": {"oid": "443b710e565a9270c572eb45e379d9989de6af19"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDozNDozMlrOFwOeBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDozNDozMlrOFwOeBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzAzMA==", "bodyText": "lastNotifiedTime and lastNotifiedServer are nullable (notifications might have never been sent)\nexpiryTime is nullable instead of non-nullable with a default value (as a default value might be accidentally presented to users)\nhostName is nullable to support rows without this value (created by requests that didn't send the hostName). We can consider replacing it with some default value (and making the column non-nullable).", "url": "https://github.com/AthenZ/athenz/pull/889#discussion_r386113030", "createdAt": "2020-03-01T14:34:32Z", "author": {"login": "OferLevi85"}, "path": "servers/zts/schema/zts_server.sql", "diffHunk": "@@ -31,6 +31,10 @@ CREATE TABLE IF NOT EXISTS `zts_store`.`certificates` (\n   `prevTime` DATETIME(3) NOT NULL,\n   `prevIP` VARCHAR(64) NOT NULL,\n   `clientCert` TINYINT(1) NOT NULL DEFAULT 0,\n+  `lastNotifiedTime` DATETIME(3) NULL,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "443b710e565a9270c572eb45e379d9989de6af19"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96361702277937500864009cb2044a37bb7b5346", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/96361702277937500864009cb2044a37bb7b5346", "committedDate": "2020-03-02T05:10:28Z", "message": "Change zts schema to enable notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MzU2MTky", "url": "https://github.com/AthenZ/athenz/pull/889#pullrequestreview-367356192", "createdAt": "2020-03-02T16:48:46Z", "commit": {"oid": "96361702277937500864009cb2044a37bb7b5346"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3058, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}