{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzOTk1NDg2", "number": 1222, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxOToyNDoxMVrOFIRh-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxOToyNDoyOVrOFIRimA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MjIwMTUyOnYy", "diffSide": "LEFT", "path": "docker/sample/zms/create-self-signed-certs.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxOToyNDoxMVrOIKGicA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwMTowODoxM1rOIKN96Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ2Mzc5Mg==", "bodyText": "@WindzCUHK I changed this value to 364 since chrome enforces maximum expiry on certificates now and it doesnt like 10 year valid certificate, when zms is used from browser for the UI", "url": "https://github.com/AthenZ/athenz/pull/1222#discussion_r547463792", "createdAt": "2020-12-22T19:24:11Z", "author": {"login": "abvaidya"}, "path": "docker/sample/zms/create-self-signed-certs.sh", "diffHunk": "@@ -8,14 +8,14 @@ cd \"$(dirname \"$0\")\"\n echo 'running...'\n \n # create CSR\n-CN='Sample Self Signed ZMS' SAN=\"${ZMS_HOST}\" openssl req -nodes \\\n+CN='Sample Self Signed ZMS' SAN=\"${ZMS_HOST}\" IPSAN=\"${HOST_EXTERNAL_IP}\" openssl req -nodes \\\n   -config \"${SELF_SIGN_CNF_PATH}\" \\\n   -reqexts v3_req -extensions usr_cert \\\n   -newkey rsa:4096 \\\n   -keyout \"${DEV_ZMS_CERT_KEY_PATH}\" \\\n   -out \"${DEV_ZMS_CSR_PATH}\" 2> /dev/null\n # sign request\n-SAN=\"${ZMS_HOST}\" openssl x509 -req -days 364 \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8d89bd866495e5c3242cc52c562ac5173a1dd9"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU4NTUxMw==", "bodyText": "I changed this parameter to 364 days.", "url": "https://github.com/AthenZ/athenz/pull/1222#discussion_r547585513", "createdAt": "2020-12-23T01:08:13Z", "author": {"login": "falz-tino"}, "path": "docker/sample/zms/create-self-signed-certs.sh", "diffHunk": "@@ -8,14 +8,14 @@ cd \"$(dirname \"$0\")\"\n echo 'running...'\n \n # create CSR\n-CN='Sample Self Signed ZMS' SAN=\"${ZMS_HOST}\" openssl req -nodes \\\n+CN='Sample Self Signed ZMS' SAN=\"${ZMS_HOST}\" IPSAN=\"${HOST_EXTERNAL_IP}\" openssl req -nodes \\\n   -config \"${SELF_SIGN_CNF_PATH}\" \\\n   -reqexts v3_req -extensions usr_cert \\\n   -newkey rsa:4096 \\\n   -keyout \"${DEV_ZMS_CERT_KEY_PATH}\" \\\n   -out \"${DEV_ZMS_CSR_PATH}\" 2> /dev/null\n # sign request\n-SAN=\"${ZMS_HOST}\" openssl x509 -req -days 364 \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ2Mzc5Mg=="}, "originalCommit": {"oid": "5b8d89bd866495e5c3242cc52c562ac5173a1dd9"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MjIwMzEyOnYy", "diffSide": "LEFT", "path": "docker/sample/zts/create-self-signed-certs.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxOToyNDoyOVrOIKGjgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwMTowODoxOVrOIKN-AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ2NDA2Nw==", "bodyText": "same as above", "url": "https://github.com/AthenZ/athenz/pull/1222#discussion_r547464067", "createdAt": "2020-12-22T19:24:29Z", "author": {"login": "abvaidya"}, "path": "docker/sample/zts/create-self-signed-certs.sh", "diffHunk": "@@ -10,14 +10,14 @@ echo 'running...'\n ### ----------------------------------------------------------------\n # ZTS server certificate\n # create CSR\n-CN='Sample Self Signed ZTS' SAN=\"${ZTS_HOST}\" openssl req -nodes \\\n+CN='Sample Self Signed ZTS' SAN=\"${ZTS_HOST}\" IPSAN=\"${HOST_EXTERNAL_IP}\" openssl req -nodes \\\n   -config \"${SELF_SIGN_CNF_PATH}\" \\\n   -reqexts v3_req -extensions usr_cert \\\n   -newkey rsa:4096 \\\n   -keyout \"${DEV_ZTS_CERT_KEY_PATH}\" \\\n   -out \"${DEV_ZTS_CSR_PATH}\" 2> /dev/null\n # sign request\n-SAN=\"${ZTS_HOST}\" openssl x509 -req -days 364 \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b8d89bd866495e5c3242cc52c562ac5173a1dd9"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzU4NTUzNg==", "bodyText": "I changed this parameter to 364 days.", "url": "https://github.com/AthenZ/athenz/pull/1222#discussion_r547585536", "createdAt": "2020-12-23T01:08:19Z", "author": {"login": "falz-tino"}, "path": "docker/sample/zts/create-self-signed-certs.sh", "diffHunk": "@@ -10,14 +10,14 @@ echo 'running...'\n ### ----------------------------------------------------------------\n # ZTS server certificate\n # create CSR\n-CN='Sample Self Signed ZTS' SAN=\"${ZTS_HOST}\" openssl req -nodes \\\n+CN='Sample Self Signed ZTS' SAN=\"${ZTS_HOST}\" IPSAN=\"${HOST_EXTERNAL_IP}\" openssl req -nodes \\\n   -config \"${SELF_SIGN_CNF_PATH}\" \\\n   -reqexts v3_req -extensions usr_cert \\\n   -newkey rsa:4096 \\\n   -keyout \"${DEV_ZTS_CERT_KEY_PATH}\" \\\n   -out \"${DEV_ZTS_CSR_PATH}\" 2> /dev/null\n # sign request\n-SAN=\"${ZTS_HOST}\" openssl x509 -req -days 364 \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ2NDA2Nw=="}, "originalCommit": {"oid": "5b8d89bd866495e5c3242cc52c562ac5173a1dd9"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1582, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}