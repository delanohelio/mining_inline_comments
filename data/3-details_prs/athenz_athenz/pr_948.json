{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4ODc1MDc3", "number": 948, "title": "Add new NotificationTask - RoleMemberReviewNotificationTask", "bodyText": "New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\nreviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember.\n\n\nI confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-04-25T08:59:24Z", "url": "https://github.com/AthenZ/athenz/pull/948", "merged": true, "mergeCommit": {"oid": "da7aeef9087af245c9eb4cac4efb8275b23a746b"}, "closed": true, "closedAt": "2020-05-03T19:48:14Z", "author": {"login": "OferLevi85"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbSe08ABqjMyNzI1MTI2NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdwU5KgFqTQwNDY1MTM2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4238589ea884712f3b1e7d1bf476c777791a98ff", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/4238589ea884712f3b1e7d1bf476c777791a98ff", "committedDate": "2020-04-25T08:56:00Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}, "afterCommit": {"oid": "e7d324b225e89cb286a9dd51fe835eb9b741449f", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/e7d324b225e89cb286a9dd51fe835eb9b741449f", "committedDate": "2020-04-26T03:53:43Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7d324b225e89cb286a9dd51fe835eb9b741449f", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/e7d324b225e89cb286a9dd51fe835eb9b741449f", "committedDate": "2020-04-26T03:53:43Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}, "afterCommit": {"oid": "0535d9c6e7e1a4fb831b6a9806e5ddb38c406f97", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/0535d9c6e7e1a4fb831b6a9806e5ddb38c406f97", "committedDate": "2020-04-26T13:57:15Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0535d9c6e7e1a4fb831b6a9806e5ddb38c406f97", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/0535d9c6e7e1a4fb831b6a9806e5ddb38c406f97", "committedDate": "2020-04-26T13:57:15Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}, "afterCommit": {"oid": "1fe77c9100b03b154fbce7d7ea4653ad424dc1e5", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/1fe77c9100b03b154fbce7d7ea4653ad424dc1e5", "committedDate": "2020-04-27T08:37:25Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fe77c9100b03b154fbce7d7ea4653ad424dc1e5", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/1fe77c9100b03b154fbce7d7ea4653ad424dc1e5", "committedDate": "2020-04-27T08:37:25Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}, "afterCommit": {"oid": "2b1eb581d428478c0e261355fe04eb59cb1e9d94", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/2b1eb581d428478c0e261355fe04eb59cb1e9d94", "committedDate": "2020-04-27T09:09:24Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b1eb581d428478c0e261355fe04eb59cb1e9d94", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/2b1eb581d428478c0e261355fe04eb59cb1e9d94", "committedDate": "2020-04-27T09:09:24Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership. reviewLastNotifiedTime was added to RoleMember."}, "afterCommit": {"oid": "df735d7a588569f2c0e83503ae21bb813591a458", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/df735d7a588569f2c0e83503ae21bb813591a458", "committedDate": "2020-04-27T10:19:15Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df735d7a588569f2c0e83503ae21bb813591a458", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/df735d7a588569f2c0e83503ae21bb813591a458", "committedDate": "2020-04-27T10:19:15Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}, "afterCommit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/3e61655d92f58312b8f98a8e4ad58fa49995e2c6", "committedDate": "2020-04-27T10:45:56Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwODYzMzc5", "url": "https://github.com/AthenZ/athenz/pull/948#pullrequestreview-400863379", "createdAt": "2020-04-27T11:30:21Z", "commit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMTozMDoyMVrOGMeX0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMTozMDoyMVrOGMeX0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTczMzcxMg==", "bodyText": "have left ServerCommon.properties in common even tough this file contains notification specific attributes.\nI will move these attributes to files in zms / zts on a separate pull request.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r415733712", "createdAt": "2020-04-27T11:30:21Z", "author": {"login": "OferLevi85"}, "path": "libs/java/server_common/src/main/resources/messages/ServerCommon.properties", "diffHunk": "@@ -10,3 +10,9 @@ athenz.notification.email.principal.expiry.body.entry=<tr><td class=\"cv\">{0}</td\n \n athenz.notification.email.unrefreshed.certs.subject=Athenz Unrefreshed Certificates Notification\n athenz.notification.email.unrefreshed.certs.body.entry=<tr><td class=\"cv\">{0}</td><td class=\"cv\">{1}</td><td class=\"cv\">{2}</td><td class=\"cv\">{3}</td><td class=\"cv\">{4}</td><td class=\"cv\">{5}</td></tr>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwODY0MDI4", "url": "https://github.com/AthenZ/athenz/pull/948#pullrequestreview-400864028", "createdAt": "2020-04-27T11:31:23Z", "commit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMTozMToyM1rOGMeaMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMTozMToyM1rOGMeaMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTczNDMyMw==", "bodyText": "DB is implemented in PR 951", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r415734323", "createdAt": "2020-04-27T11:31:23Z", "author": {"login": "OferLevi85"}, "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/DBService.java", "diffHunk": "@@ -4226,6 +4226,11 @@ DomainRoleMembership getPendingDomainRoleMembers(final String principal) {\n         return null;\n     }\n \n+    public Map<String, DomainRoleMember> getReviewMembers() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e61655d92f58312b8f98a8e4ad58fa49995e2c6", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/3e61655d92f58312b8f98a8e4ad58fa49995e2c6", "committedDate": "2020-04-27T10:45:56Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}, "afterCommit": {"oid": "9f42c1f87abe2747026d4ba27326509716d69691", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/9f42c1f87abe2747026d4ba27326509716d69691", "committedDate": "2020-04-27T11:37:42Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9f42c1f87abe2747026d4ba27326509716d69691", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/9f42c1f87abe2747026d4ba27326509716d69691", "committedDate": "2020-04-27T11:37:42Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}, "afterCommit": {"oid": "d62341996fc6b081f9fada165d5d3e9cea85c7d3", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/d62341996fc6b081f9fada165d5d3e9cea85c7d3", "committedDate": "2020-04-27T21:56:50Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d62341996fc6b081f9fada165d5d3e9cea85c7d3", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/d62341996fc6b081f9fada165d5d3e9cea85c7d3", "committedDate": "2020-04-27T21:56:50Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}, "afterCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/d21f2f869198c10d380905428c8755a76ee7bc87", "committedDate": "2020-04-27T22:03:31Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjI0NTAw", "url": "https://github.com/AthenZ/athenz/pull/948#pullrequestreview-403624500", "createdAt": "2020-04-30T15:19:47Z", "commit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToxOTo0N1rOGOuMvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToyNzoyNVrOGOuiaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5MDE3Mw==", "bodyText": "A better description would be: \"Periodic Review Reminder\"\nthis feature is not really about expiration. it's just about reviewing members without expiring anyone.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418090173", "createdAt": "2020-04-30T15:19:47Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/notification/RoleMemberReviewNotificationTask.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/*\n+ *  Copyright 2020 Verizon Media\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package com.yahoo.athenz.zms.notification;\n+\n+import com.yahoo.athenz.common.server.notification.*;\n+import com.yahoo.athenz.zms.DBService;\n+import com.yahoo.athenz.zms.DomainRoleMember;\n+import com.yahoo.athenz.zms.MemberRole;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import static com.yahoo.athenz.common.server.notification.NotificationServiceConstants.*;\n+\n+public class RoleMemberReviewNotificationTask implements NotificationTask {\n+    private final DBService dbService;\n+    private final RoleMemberNotificationCommon roleMemberNotificationCommon;\n+    private static final Logger LOGGER = LoggerFactory.getLogger(RoleMemberReviewNotificationTask.class);\n+    private final static String DESCRIPTION = \"Review before expiration reminder\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5MTM4Mw==", "bodyText": "we should remove EXPIRATION from this reminder. The user will get those separately so let's not combine and possibly confuse the users.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418091383", "createdAt": "2020-04-30T15:21:27Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/resources/messages/domain-member-review.html", "diffHunk": "@@ -0,0 +1,36 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" dir=\"ltr\">\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title></title>\n+    <style></style>\n+</head>\n+<body style=\"margin: 0; background: rgba(231, 232, 231, 1.0);\">\n+<div class=\"athenz-wrapper\">\n+    <div class=\"mbrapproval\">\n+        <div class=\"logo\">\n+            <img src=\"cid:logo\" class=\"athenzlogowhite\" alt=\"Athenz logo\"/>\n+        </div>\n+        <div class=\"hdr\">Domain Membership Review Details</div>\n+        <div class=\"bt\">You have one or more principals in your Athenz domain <b>{0}</b> whose review date will pass soon:</div>\n+        <hr>\n+        <table id=\"t02\">\n+            <thead>\n+            <tr>\n+                <th class=\"ch\">MEMBER</th>\n+                <th class=\"ch\">ROLE</th>\n+                <th class=\"ch\">EXPIRATION</th>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5MjU3NA==", "bodyText": "We should remove any references to expiration.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418092574", "createdAt": "2020-04-30T15:23:06Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/resources/messages/domain-member-review.html", "diffHunk": "@@ -0,0 +1,36 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" dir=\"ltr\">\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title></title>\n+    <style></style>\n+</head>\n+<body style=\"margin: 0; background: rgba(231, 232, 231, 1.0);\">\n+<div class=\"athenz-wrapper\">\n+    <div class=\"mbrapproval\">\n+        <div class=\"logo\">\n+            <img src=\"cid:logo\" class=\"athenzlogowhite\" alt=\"Athenz logo\"/>\n+        </div>\n+        <div class=\"hdr\">Domain Membership Review Details</div>\n+        <div class=\"bt\">You have one or more principals in your Athenz domain <b>{0}</b> whose review date will pass soon:</div>\n+        <hr>\n+        <table id=\"t02\">\n+            <thead>\n+            <tr>\n+                <th class=\"ch\">MEMBER</th>\n+                <th class=\"ch\">ROLE</th>\n+                <th class=\"ch\">EXPIRATION</th>\n+                <th class=\"ch\">REVIEW</th>\n+            </tr>\n+            </thead>\n+            <tbody></tbody>\n+        </table>\n+        <hr>\n+        <div class=\"bt\"><br>Please review this list and, if necessary, login to <a href=\"{1}/domain/{0}/role\">Athenz UI</a> to extend their expiration and review dates.</div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5NTExMw==", "bodyText": "it should say - \"You are required to review your {0} principal's membership in the listed roles:\"", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418095113", "createdAt": "2020-04-30T15:26:38Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/resources/messages/principal-review.html", "diffHunk": "@@ -0,0 +1,36 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" dir=\"ltr\">\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title></title>\n+    <style></style>\n+</head>\n+<body style=\"margin: 0; background: rgba(231, 232, 231, 1.0);\">\n+<div class=\"athenz-wrapper\">\n+    <div class=\"mbrapproval\">\n+        <div class=\"logo\">\n+            <img src=\"cid:logo\" class=\"athenzlogowhite\" alt=\"Athenz logo\"/>\n+        </div>\n+        <div class=\"hdr\">Principal Review Details</div>\n+        <div class=\"bt\">Review date for principal <b>{0}</b> in the following roles will expire soon:</div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5NTU1Nw==", "bodyText": "let's remove the \"those expiration\" part from the message.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418095557", "createdAt": "2020-04-30T15:27:13Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/resources/messages/principal-review.html", "diffHunk": "@@ -0,0 +1,36 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" dir=\"ltr\">\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title></title>\n+    <style></style>\n+</head>\n+<body style=\"margin: 0; background: rgba(231, 232, 231, 1.0);\">\n+<div class=\"athenz-wrapper\">\n+    <div class=\"mbrapproval\">\n+        <div class=\"logo\">\n+            <img src=\"cid:logo\" class=\"athenzlogowhite\" alt=\"Athenz logo\"/>\n+        </div>\n+        <div class=\"hdr\">Principal Review Details</div>\n+        <div class=\"bt\">Review date for principal <b>{0}</b> in the following roles will expire soon:</div>\n+        <hr>\n+        <table id=\"t03\">\n+            <thead>\n+            <tr>\n+                <th class=\"ch\">DOMAIN</th>\n+                <th class=\"ch\">ROLE</th>\n+                <th class=\"ch\">EXPIRATION</th>\n+                <th class=\"ch\">REVIEW</th>\n+            </tr>\n+            </thead>\n+            <tbody></tbody>\n+        </table>\n+        <hr>\n+        <div class=\"bt\"><br>Please review this list and, if necessary, follow up with their respective domain administrators to extend those expiration and review dates.</div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA5NTcyMQ==", "bodyText": "let's remove this expiration line as well.", "url": "https://github.com/AthenZ/athenz/pull/948#discussion_r418095721", "createdAt": "2020-04-30T15:27:25Z", "author": {"login": "havetisyan"}, "path": "servers/zms/src/main/resources/messages/principal-review.html", "diffHunk": "@@ -0,0 +1,36 @@\n+<!DOCTYPE html>\n+<html lang=\"en\" dir=\"ltr\">\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title></title>\n+    <style></style>\n+</head>\n+<body style=\"margin: 0; background: rgba(231, 232, 231, 1.0);\">\n+<div class=\"athenz-wrapper\">\n+    <div class=\"mbrapproval\">\n+        <div class=\"logo\">\n+            <img src=\"cid:logo\" class=\"athenzlogowhite\" alt=\"Athenz logo\"/>\n+        </div>\n+        <div class=\"hdr\">Principal Review Details</div>\n+        <div class=\"bt\">Review date for principal <b>{0}</b> in the following roles will expire soon:</div>\n+        <hr>\n+        <table id=\"t03\">\n+            <thead>\n+            <tr>\n+                <th class=\"ch\">DOMAIN</th>\n+                <th class=\"ch\">ROLE</th>\n+                <th class=\"ch\">EXPIRATION</th>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c7f98dbd708fa6b493ba30a7b99ce33383cd295", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/1c7f98dbd708fa6b493ba30a7b99ce33383cd295", "committedDate": "2020-05-03T07:16:29Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d21f2f869198c10d380905428c8755a76ee7bc87", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/d21f2f869198c10d380905428c8755a76ee7bc87", "committedDate": "2020-04-27T22:03:31Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}, "afterCommit": {"oid": "1c7f98dbd708fa6b493ba30a7b99ce33383cd295", "author": {"user": {"login": "OferLevi85", "name": "Ofer Levi"}}, "url": "https://github.com/AthenZ/athenz/commit/1c7f98dbd708fa6b493ba30a7b99ce33383cd295", "committedDate": "2020-05-03T07:16:29Z", "message": "Add new NotificationTask - RoleMemberReviewNotificationTask\n1. New notification implemented without required DB changes.\nDB changes will be implemented in a future commit\n2. reviewReminder field was added to rdl structs RoleMember, MemberRole and Membership."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjUxMzYx", "url": "https://github.com/AthenZ/athenz/pull/948#pullrequestreview-404651361", "createdAt": "2020-05-03T19:48:09Z", "commit": {"oid": "1c7f98dbd708fa6b493ba30a7b99ce33383cd295"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3099, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}