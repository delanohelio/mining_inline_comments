{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMjU4NzM1", "number": 932, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwOTozMjoxMVrODt31-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjozNTo1NlrODuCNiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NDI3NDUwOnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwOTozMjoxMVrOF_jA5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwOTo1OTozNVrOF_kByw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE3ODI3OQ==", "bodyText": "please make this filed static", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402178279", "createdAt": "2020-04-02T09:32:11Z", "author": {"login": "sthundat"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package org.uberfire.ext.editor.commons.client.menu.common;\n+\n+public class CurrentBranchImpl implements CurrentBranch {\n+\n+    private final String DEFAULT_BRANCH = \"master\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b5d629140fe77eb7a82823e576e99868e0d5ab4"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE5NDg5MQ==", "bodyText": "Done", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402194891", "createdAt": "2020-04-02T09:59:35Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package org.uberfire.ext.editor.commons.client.menu.common;\n+\n+public class CurrentBranchImpl implements CurrentBranch {\n+\n+    private final String DEFAULT_BRANCH = \"master\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE3ODI3OQ=="}, "originalCommit": {"oid": "3b5d629140fe77eb7a82823e576e99868e0d5ab4"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTgzMDI0OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjowMToyNFrOF_ySCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMjo1Mzo0MVrOGBWQ4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQyODQyNQ==", "bodyText": "Can we use this method instead to get the target path?\n\n  \n    \n      appformer/uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionUtil.java\n    \n    \n         Line 49\n      in\n      ae323c0\n    \n    \n    \n    \n\n        \n          \n           public Path getPath(Path path, \n        \n    \n  \n\n\nThe version parameter would be the branch name.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402428425", "createdAt": "2020-04-02T16:01:24Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "diffHunk": "@@ -70,12 +70,14 @@ public Path getPathToPreviousVersion(String uri) {\n \n     @Override\n     public Path restore(final Path _path,\n-                        final String comment) {\n+                        final String comment,\n+                        final String currentBranch) {\n         try {\n             ioService.startBatch(Paths.convert(_path).getFileSystem());\n \n             final org.uberfire.java.nio.file.Path path = pathResolver.resolveMainFilePath(convert(_path));\n-            final org.uberfire.java.nio.file.Path target = path.getFileSystem().getPath(path.toString());\n+            final org.uberfire.java.nio.file.Path target = path.getFileSystem().getPath(currentBranch,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2NjUyOA==", "bodyText": "This is a good suggestion. I have changed the use of getPath from FS to VersionUtil. We can get the same target path now.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404066528", "createdAt": "2020-04-06T12:53:41Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "diffHunk": "@@ -70,12 +70,14 @@ public Path getPathToPreviousVersion(String uri) {\n \n     @Override\n     public Path restore(final Path _path,\n-                        final String comment) {\n+                        final String comment,\n+                        final String currentBranch) {\n         try {\n             ioService.startBatch(Paths.convert(_path).getFileSystem());\n \n             final org.uberfire.java.nio.file.Path path = pathResolver.resolveMainFilePath(convert(_path));\n-            final org.uberfire.java.nio.file.Path target = path.getFileSystem().getPath(path.toString());\n+            final org.uberfire.java.nio.file.Path target = path.getFileSystem().getPath(currentBranch,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQyODQyNQ=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTg0NTcxOnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjowNTowMlrOF_ybzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowMzo1MFrOGBWqOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzMDkyNA==", "bodyText": "I'd go with branchName instead of currentBranch for the variable name because this service method could be used on other situations where the given branch is not the current one. Same applies to the interface.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402430924", "createdAt": "2020-04-02T16:05:02Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "diffHunk": "@@ -70,12 +70,14 @@ public Path getPathToPreviousVersion(String uri) {\n \n     @Override\n     public Path restore(final Path _path,\n-                        final String comment) {\n+                        final String comment,\n+                        final String currentBranch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3MzAxNw==", "bodyText": "I agree branchName would be more appropriate for other situations.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404073017", "createdAt": "2020-04-06T13:03:50Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-backend/src/main/java/org/uberfire/ext/editor/commons/backend/version/VersionServiceImpl.java", "diffHunk": "@@ -70,12 +70,14 @@ public Path getPathToPreviousVersion(String uri) {\n \n     @Override\n     public Path restore(final Path _path,\n-                        final String comment) {\n+                        final String comment,\n+                        final String currentBranch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzMDkyNA=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTg5NjA4OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoxNzowMVrOF_y8Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowNDowNVrOGBWq5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzOTE5OA==", "bodyText": "Consider putting this new parameter in a new line, just to follow the pattern.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402439198", "createdAt": "2020-04-02T16:17:01Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilder.java", "diffHunk": "@@ -77,7 +78,7 @@ BasicFileMenuBuilder addCopy(final PathProvider provider,\n \n     BasicFileMenuBuilder addValidate(final Command command);\n \n-    BasicFileMenuBuilder addRestoreVersion(final Path path);\n+    BasicFileMenuBuilder addRestoreVersion(final Path path, final CurrentBranch currentBranch);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3MzE5MQ==", "bodyText": "Done.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404073191", "createdAt": "2020-04-06T13:04:05Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilder.java", "diffHunk": "@@ -77,7 +78,7 @@ BasicFileMenuBuilder addCopy(final PathProvider provider,\n \n     BasicFileMenuBuilder addValidate(final Command command);\n \n-    BasicFileMenuBuilder addRestoreVersion(final Path path);\n+    BasicFileMenuBuilder addRestoreVersion(final Path path, final CurrentBranch currentBranch);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzOTE5OA=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTg5NzI4OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilderImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoxNzoxOVrOF_y85Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowNDoxM1rOGBWrRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzOTM5Nw==", "bodyText": "Consider putting this new parameter in a new line, just to follow the pattern.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402439397", "createdAt": "2020-04-02T16:17:19Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilderImpl.java", "diffHunk": "@@ -343,8 +344,8 @@ public BasicFileMenuBuilder addValidate(final Command validateCommand) {\n     }\n \n     @Override\n-    public BasicFileMenuBuilder addRestoreVersion(final Path path) {\n-        this.restoreCommand = restoreVersionCommandProvider.getCommand(path);\n+    public BasicFileMenuBuilder addRestoreVersion(final Path path, final CurrentBranch currentBranch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3MzI4Nw==", "bodyText": "Done.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404073287", "createdAt": "2020-04-06T13:04:13Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/BasicFileMenuBuilderImpl.java", "diffHunk": "@@ -343,8 +344,8 @@ public BasicFileMenuBuilder addValidate(final Command validateCommand) {\n     }\n \n     @Override\n-    public BasicFileMenuBuilder addRestoreVersion(final Path path) {\n-        this.restoreCommand = restoreVersionCommandProvider.getCommand(path);\n+    public BasicFileMenuBuilder addRestoreVersion(final Path path, final CurrentBranch currentBranch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzOTM5Nw=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTkyNDA1OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoyMzo1MFrOF_zNyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowNzowMFrOGBWyQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0MzcyMA==", "bodyText": "Consider annotating this class with @FallbackImplementation.\nI understood this implementation is the fallback in case the other implementation from kie-wb-common is not found.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402443720", "createdAt": "2020-04-02T16:23:50Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package org.uberfire.ext.editor.commons.client.menu.common;\n+\n+public class CurrentBranchImpl implements CurrentBranch {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3NTA3Mw==", "bodyText": "Thanks @caponetto for this one. I was unaware of this annotation. It is really helpful.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404075073", "createdAt": "2020-04-06T13:07:00Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/menu/common/CurrentBranchImpl.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package org.uberfire.ext.editor.commons.client.menu.common;\n+\n+public class CurrentBranchImpl implements CurrentBranch {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0MzcyMA=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTk0MDY1OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/BaseEditor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoyODowNVrOF_zYYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowNzo0MlrOGBWz4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0NjQzNQ==", "bodyText": "I guess you don't need this method since you are injecting the CurrentBranch on VersionRecordManager.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402446435", "createdAt": "2020-04-02T16:28:05Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/BaseEditor.java", "diffHunk": "@@ -792,4 +793,8 @@ public VersionRecordManager getVersionRecordManager() {\n     public void setMetadataOriginalHash(final Integer metadataOriginalHash) {\n         this.metadataOriginalHash = metadataOriginalHash;\n     }\n+\n+    public void setCurrentBranch(final CurrentBranch currentBranch) {\n+        versionRecordManager.setCurrentBranch(currentBranch);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3NTQ5MQ==", "bodyText": "Removed from the VersionRecordManager class.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404075491", "createdAt": "2020-04-06T13:07:42Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/BaseEditor.java", "diffHunk": "@@ -792,4 +793,8 @@ public VersionRecordManager getVersionRecordManager() {\n     public void setMetadataOriginalHash(final Integer metadataOriginalHash) {\n         this.metadataOriginalHash = metadataOriginalHash;\n     }\n+\n+    public void setCurrentBranch(final CurrentBranch currentBranch) {\n+        versionRecordManager.setCurrentBranch(currentBranch);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0NjQzNQ=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTk1MTE2OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjozMDoyNFrOF_ze7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowNzo0OVrOGBW0Og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0ODEwOQ==", "bodyText": "I guess you don't need this method since you are injecting the CurrentBranch on VersionRecordManager.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402448109", "createdAt": "2020-04-02T16:30:24Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -296,6 +302,14 @@ private void onRestore(final @Observes RestoreEvent restore) {\n         }\n     }\n \n+    public void setCurrentBranch(final CurrentBranch currentBranch) {\n+        this.currentBranch = currentBranch;\n+    }\n+\n+    public CurrentBranch getCurrentBranch() {\n+        return currentBranch;\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3NTU3OA==", "bodyText": "Removed from the VersionRecordManager class.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404075578", "createdAt": "2020-04-06T13:07:49Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -296,6 +302,14 @@ private void onRestore(final @Observes RestoreEvent restore) {\n         }\n     }\n \n+    public void setCurrentBranch(final CurrentBranch currentBranch) {\n+        this.currentBranch = currentBranch;\n+    }\n+\n+    public CurrentBranch getCurrentBranch() {\n+        return currentBranch;\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0ODEwOQ=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTk3MjMzOnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjozNTo0MVrOF_zsbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowODowMVrOGBW02A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ1MTU2Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                   getCurrentBranch());\n          \n          \n            \n                                                   this.currentBranch.getName());", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402451566", "createdAt": "2020-04-02T16:35:41Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -226,10 +230,12 @@ private VersionRecord getCurrentVersionRecord() {\n     public void restoreToCurrentVersion(boolean withComments) {\n         if (withComments)\n             restorePopUpPresenter.show(getCurrentPath(),\n-                                       getCurrentVersionRecordUri());\n+                                       getCurrentVersionRecordUri(),\n+                                       getCurrentBranch());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3NTczNg==", "bodyText": "Done.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404075736", "createdAt": "2020-04-06T13:08:01Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -226,10 +230,12 @@ private VersionRecord getCurrentVersionRecord() {\n     public void restoreToCurrentVersion(boolean withComments) {\n         if (withComments)\n             restorePopUpPresenter.show(getCurrentPath(),\n-                                       getCurrentVersionRecordUri());\n+                                       getCurrentVersionRecordUri(),\n+                                       getCurrentBranch());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ1MTU2Ng=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NTk3MzIxOnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjozNTo1NlrOF_zs_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMzowODowOVrOGBW1Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ1MTcxMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                             getCurrentBranch())\n          \n          \n            \n                                                             this.currentBranch.getName())", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r402451710", "createdAt": "2020-04-02T16:35:56Z", "author": {"login": "caponetto"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -226,10 +230,12 @@ private VersionRecord getCurrentVersionRecord() {\n     public void restoreToCurrentVersion(boolean withComments) {\n         if (withComments)\n             restorePopUpPresenter.show(getCurrentPath(),\n-                                       getCurrentVersionRecordUri());\n+                                       getCurrentVersionRecordUri(),\n+                                       getCurrentBranch());\n         else {\n             restorePopUpPresenter.restoreCommand(getCurrentPath(),\n-                                                 getCurrentVersionRecordUri())\n+                                                 getCurrentVersionRecordUri(),\n+                                                 getCurrentBranch())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA3NTgzNQ==", "bodyText": "Done.", "url": "https://github.com/kiegroup/appformer/pull/932#discussion_r404075835", "createdAt": "2020-04-06T13:08:09Z", "author": {"login": "akumar074"}, "path": "uberfire-extensions/uberfire-commons-editor/uberfire-commons-editor-client/src/main/java/org/uberfire/ext/editor/commons/client/history/VersionRecordManager.java", "diffHunk": "@@ -226,10 +230,12 @@ private VersionRecord getCurrentVersionRecord() {\n     public void restoreToCurrentVersion(boolean withComments) {\n         if (withComments)\n             restorePopUpPresenter.show(getCurrentPath(),\n-                                       getCurrentVersionRecordUri());\n+                                       getCurrentVersionRecordUri(),\n+                                       getCurrentBranch());\n         else {\n             restorePopUpPresenter.restoreCommand(getCurrentPath(),\n-                                                 getCurrentVersionRecordUri())\n+                                                 getCurrentVersionRecordUri(),\n+                                                 getCurrentBranch())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ1MTcxMA=="}, "originalCommit": {"oid": "cc3e4d0bec1baf57d9db51bec3959bc5d80db524"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2764, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}