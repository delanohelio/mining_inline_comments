{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MTk3ODQ4", "number": 1010, "title": "AF-2582 : Package list dropdown should load faster", "bodyText": "https://issues.redhat.com/browse/AF-2582\n#1010\nkiegroup/kie-wb-common#3365", "createdAt": "2020-07-24T10:05:32Z", "url": "https://github.com/kiegroup/appformer/pull/1010", "merged": true, "mergeCommit": {"oid": "2df9a713fa5689491ac8b511c34c16f82c9f5ef8"}, "closed": true, "closedAt": "2020-09-22T19:21:17Z", "author": {"login": "Rikkola"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5q1hHABqjM1OTg5ODcyNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLF68zgFqTQ5Mjc4MzM0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ab66432b7c1129bed7936e3e554bd738158f428c", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/ab66432b7c1129bed7936e3e554bd738158f428c", "committedDate": "2020-07-24T10:03:33Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "a7198d619ba0fab4b0b10164b8d57db495307731", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/a7198d619ba0fab4b0b10164b8d57db495307731", "committedDate": "2020-07-29T09:20:31Z", "message": "temp"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "14298c8b54ad9e642a566590fceb61869cbf3f24", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/14298c8b54ad9e642a566590fceb61869cbf3f24", "committedDate": "2020-07-29T14:13:09Z", "message": "clean up"}, "afterCommit": {"oid": "750f058a724ba2804c11eb722edd164d7863d0f2", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/750f058a724ba2804c11eb722edd164d7863d0f2", "committedDate": "2020-07-30T14:41:14Z", "message": "fix issues with new packages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "750f058a724ba2804c11eb722edd164d7863d0f2", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/750f058a724ba2804c11eb722edd164d7863d0f2", "committedDate": "2020-07-30T14:41:14Z", "message": "fix issues with new packages"}, "afterCommit": {"oid": "811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "committedDate": "2020-07-31T06:01:58Z", "message": "fix issues with new packages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTM4MzI2", "url": "https://github.com/kiegroup/appformer/pull/1010#pullrequestreview-460938326", "createdAt": "2020-08-04T15:42:36Z", "commit": {"oid": "811e7e3fa8d4cab5a0064a4ba6760603d4fe6269"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/811e7e3fa8d4cab5a0064a4ba6760603d4fe6269", "committedDate": "2020-07-31T06:01:58Z", "message": "fix issues with new packages"}, "afterCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/79f28625def54ef231148697abfed3dbaede5cfe", "committedDate": "2020-08-05T09:46:04Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMjMwMjc1", "url": "https://github.com/kiegroup/appformer/pull/1010#pullrequestreview-462230275", "createdAt": "2020-08-06T06:49:39Z", "commit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo0OTozOVrOG8lfRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo1MDowM1rOG8lgAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA==", "bodyText": "This test seems to be never started.\nhttps://rhba-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/KIE/job/master/job/pullrequest/job/new-PR-appformer-master.pullrequests/60/testReport/\nAlso locally running mvn clean install for uberfire-metadata-commons-io module doesn't start the test.", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466181958", "createdAt": "2020-08-06T06:49:39Z", "author": {"login": "jomarko"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MjE0Ng==", "bodyText": "Using such block inside a test is quite new for me. Could you please explain?", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466182146", "createdAt": "2020-08-06T06:50:03Z", "author": {"login": "jomarko"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {\n+\n+    @Override\n+    protected String[] getRepositoryNames() {\n+        return new String[]{\"temp-repo-test\"};\n+    }\n+\n+    @Test\n+    public void testIndex() {\n+\n+        {\n+            final Path file = ioService().get(\"git://temp-repo-test/xxx/.keep\");\n+            ioService().write(file,\n+                              \"\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 56}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/79f28625def54ef231148697abfed3dbaede5cfe", "committedDate": "2020-08-05T09:46:04Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "36c88c812c7f35c3358021b5f41b4f4ab5f58161", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/36c88c812c7f35c3358021b5f41b4f4ab5f58161", "committedDate": "2020-08-06T16:04:48Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36c88c812c7f35c3358021b5f41b4f4ab5f58161", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/36c88c812c7f35c3358021b5f41b4f4ab5f58161", "committedDate": "2020-08-06T16:04:48Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "011ef72224c44055d524a9b2fe0ea99e679a2fe4", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/011ef72224c44055d524a9b2fe0ea99e679a2fe4", "committedDate": "2020-08-07T05:31:39Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "011ef72224c44055d524a9b2fe0ea99e679a2fe4", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/011ef72224c44055d524a9b2fe0ea99e679a2fe4", "committedDate": "2020-08-07T05:31:39Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "a9cac0623a5867f663fb03ff06dba31b85c09e8e", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/a9cac0623a5867f663fb03ff06dba31b85c09e8e", "committedDate": "2020-08-31T06:25:33Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9cac0623a5867f663fb03ff06dba31b85c09e8e", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/a9cac0623a5867f663fb03ff06dba31b85c09e8e", "committedDate": "2020-08-31T06:25:33Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "363d33f2c5066b55eaa432ffec0636590ee5173e", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/363d33f2c5066b55eaa432ffec0636590ee5173e", "committedDate": "2020-09-04T09:14:50Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NjE5NjU4", "url": "https://github.com/kiegroup/appformer/pull/1010#pullrequestreview-489619658", "createdAt": "2020-09-16T13:23:30Z", "commit": {"oid": "363d33f2c5066b55eaa432ffec0636590ee5173e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "752ecdead6b54e73b303e27c5e93e45dff708848", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/752ecdead6b54e73b303e27c5e93e45dff708848", "committedDate": "2020-09-21T14:26:01Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "363d33f2c5066b55eaa432ffec0636590ee5173e", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/363d33f2c5066b55eaa432ffec0636590ee5173e", "committedDate": "2020-09-04T09:14:50Z", "message": "AF-2582 : Package list dropdown should load faster"}, "afterCommit": {"oid": "752ecdead6b54e73b303e27c5e93e45dff708848", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/appformer/commit/752ecdead6b54e73b303e27c5e93e45dff708848", "committedDate": "2020-09-21T14:26:01Z", "message": "AF-2582 : Package list dropdown should load faster"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNzgzMzQy", "url": "https://github.com/kiegroup/appformer/pull/1010#pullrequestreview-492783342", "createdAt": "2020-09-21T16:24:19Z", "commit": {"oid": "752ecdead6b54e73b303e27c5e93e45dff708848"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1939, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}