{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MDgyMzQ5", "number": 999, "title": "RHPAM-3032: getting UI error if navtree.json file is not available in\u2026", "bodyText": "\u2026 the imported dashboard", "createdAt": "2020-07-03T14:19:50Z", "url": "https://github.com/kiegroup/appformer/pull/999", "merged": true, "mergeCommit": {"oid": "4f621a2e68de405384d0db9350013c19f98b82ea"}, "closed": true, "closedAt": "2020-07-13T12:29:59Z", "author": {"login": "jesuino"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxULXMgH2gAyNDQ0MDgyMzQ5OjI4MGYyOWZhNTNlZTdhMTAyOWRmNTRhYTA4MTNmMjE5MDFhYTQ5NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0gm1-AFqTQ0NzIwNDI3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "280f29fa53ee7a1029df54aa0813f21901aa4955", "author": {"user": {"login": "jesuino", "name": "William Ant\u00f4nio Siqueira"}}, "url": "https://github.com/kiegroup/appformer/commit/280f29fa53ee7a1029df54aa0813f21901aa4955", "committedDate": "2020-07-03T14:18:53Z", "message": "RHPAM-3032: getting UI error if navtree.json file is not available in the imported dashboard"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MzMzMTU5", "url": "https://github.com/kiegroup/appformer/pull/999#pullrequestreview-446333159", "createdAt": "2020-07-10T11:39:25Z", "commit": {"oid": "280f29fa53ee7a1029df54aa0813f21901aa4955"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMTozOToyNVrOGv0KNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMTozOToyNVrOGv0KNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjc5MDgzOA==", "bodyText": "Please remove the unwanted empty lines", "url": "https://github.com/kiegroup/appformer/pull/999#discussion_r452790838", "createdAt": "2020-07-10T11:39:25Z", "author": {"login": "sthundat"}, "path": "dashbuilder/dashbuilder-runtime/src/main/java/org/dashbuilder/backend/services/impl/ImportValidationServiceImpl.java", "diffHunk": "@@ -35,32 +35,36 @@\n @ApplicationScoped\n public class ImportValidationServiceImpl implements ImportValidationService {\n \n+    /**\n+     * Checks if the given file URL is valid for a Runtime Model.\n+     */\n     @Override\n-    public boolean validate(String file) {\n-        boolean hasDataset = false;\n+    public boolean validate(final String file) {\n+        boolean hasDatasetDir = false;\n         boolean hasPage = false;\n         boolean hasNavigation = false;\n-        try (ZipInputStream zis = new ZipInputStream(new FileInputStream(file))) {\n+        try (final ZipInputStream zis = new ZipInputStream(new FileInputStream(file))) {\n             ZipEntry entry;\n             while ((entry = zis.getNextEntry()) != null) {\n \n-                hasDataset = hasDataset || entryStartsWith(entry, DATASET_PREFIX);\n+                hasDatasetDir = hasDatasetDir || entryStartsWith(entry, DATASET_PREFIX);\n                 hasPage = hasPage || entryStartsWith(entry, PERSPECTIVE_PREFIX);\n                 hasNavigation = hasNavigation || entryStartsWith(entry, NAVIGATION_PREFIX);\n \n-                if (hasDataset && hasPage && hasNavigation) {\n+                if (hasNavigation && hasDatasetDir && hasPage) {\n                     return true;\n                 }\n             }\n         } catch (Exception e) {\n             throw new IllegalArgumentException(\"Error validating file: \" + file, e);\n         }\n-\n+        \n         return false;\n     }\n \n     private boolean entryStartsWith(ZipEntry entry, String path) {\n         return entry.getName().startsWith(path);\n     }\n \n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "280f29fa53ee7a1029df54aa0813f21901aa4955"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e750e05d8d1d8e478ab493d2a421724b007aa609", "author": {"user": {"login": "jesuino", "name": "William Ant\u00f4nio Siqueira"}}, "url": "https://github.com/kiegroup/appformer/commit/e750e05d8d1d8e478ab493d2a421724b007aa609", "committedDate": "2020-07-10T12:53:36Z", "message": "removing empty line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NDA0MDU0", "url": "https://github.com/kiegroup/appformer/pull/999#pullrequestreview-446404054", "createdAt": "2020-07-10T13:32:52Z", "commit": {"oid": "e750e05d8d1d8e478ab493d2a421724b007aa609"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MjA0Mjc2", "url": "https://github.com/kiegroup/appformer/pull/999#pullrequestreview-447204276", "createdAt": "2020-07-13T12:29:32Z", "commit": {"oid": "e750e05d8d1d8e478ab493d2a421724b007aa609"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2151, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}