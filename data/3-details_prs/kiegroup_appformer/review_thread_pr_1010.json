{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MTk3ODQ4", "number": 1010, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo0OTozOVrOEVsJnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo1MDowM1rOEVsKHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTc4OTA5OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo0OTozOVrOG8lfRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODoyNToxM1rOG8_Qug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA==", "bodyText": "This test seems to be never started.\nhttps://rhba-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/KIE/job/master/job/pullrequest/job/new-PR-appformer-master.pullrequests/60/testReport/\nAlso locally running mvn clean install for uberfire-metadata-commons-io module doesn't start the test.", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466181958", "createdAt": "2020-08-06T06:49:39Z", "author": {"login": "jomarko"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIzMTY3NA==", "bodyText": "Taking a look.", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466231674", "createdAt": "2020-08-06T08:23:04Z", "author": {"login": "Rikkola"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODM3NA==", "bodyText": "Yep the entire uberfire-metadata-commons-io is skipped. Wondering why.", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466298374", "createdAt": "2020-08-06T09:50:46Z", "author": {"login": "Rikkola"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODk2Mw==", "bodyText": "@ederign Do you know or know someone who knows why the tests are not running on this area?", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466298963", "createdAt": "2020-08-06T09:51:54Z", "author": {"login": "Rikkola"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNDIxOA==", "bodyText": "I think it was disabled since the complexity for preparing indexing environments for tests, but I'm not totally sure", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466604218", "createdAt": "2020-08-06T18:25:13Z", "author": {"login": "adrielparedes"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MTk1OA=="}, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTc5MDM2OnYy", "diffSide": "RIGHT", "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo1MDowM1rOG8lgAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwODoyNDowM1rOG8ojhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MjE0Ng==", "bodyText": "Using such block inside a test is quite new for me. Could you please explain?", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466182146", "createdAt": "2020-08-06T06:50:03Z", "author": {"login": "jomarko"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {\n+\n+    @Override\n+    protected String[] getRepositoryNames() {\n+        return new String[]{\"temp-repo-test\"};\n+    }\n+\n+    @Test\n+    public void testIndex() {\n+\n+        {\n+            final Path file = ioService().get(\"git://temp-repo-test/xxx/.keep\");\n+            ioService().write(file,\n+                              \"\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIzMjE5OQ==", "bodyText": "This block trend is popular in index related tests. I think I'll change to a method here, since this setup is a lot more simple than the other tests.", "url": "https://github.com/kiegroup/appformer/pull/1010#discussion_r466232199", "createdAt": "2020-08-06T08:24:03Z", "author": {"login": "Rikkola"}, "path": "uberfire-extensions/uberfire-metadata/uberfire-metadata-commons-io/src/test/java/org/uberfire/ext/metadata/io/BatchIndexKeepFileTest.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/*\n+ * Copyright 2020 JBoss, by Red Hat, Inc\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.uberfire.ext.metadata.io;\n+\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.Executors;\n+\n+import org.apache.lucene.index.Term;\n+import org.apache.lucene.search.MatchAllDocsQuery;\n+import org.apache.lucene.search.TermQuery;\n+import org.junit.Test;\n+import org.uberfire.commons.async.DescriptiveThreadFactory;\n+import org.uberfire.ext.metadata.engine.BatchIndexListener;\n+import org.uberfire.ext.metadata.engine.Indexer;\n+import org.uberfire.ext.metadata.engine.Observer;\n+import org.uberfire.ext.metadata.io.lucene.BaseIndexTest;\n+import org.uberfire.ext.metadata.model.KCluster;\n+import org.uberfire.ext.metadata.model.KObject;\n+import org.uberfire.ext.metadata.model.KObjectKey;\n+import org.uberfire.io.attribute.DublinCoreView;\n+import org.uberfire.java.nio.file.Path;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+import static org.uberfire.ext.metadata.io.KObjectUtil.toKCluster;\n+\n+public class BatchIndexKeepFileTest extends BaseIndexTest {\n+\n+    @Override\n+    protected String[] getRepositoryNames() {\n+        return new String[]{\"temp-repo-test\"};\n+    }\n+\n+    @Test\n+    public void testIndex() {\n+\n+        {\n+            final Path file = ioService().get(\"git://temp-repo-test/xxx/.keep\");\n+            ioService().write(file,\n+                              \"\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4MjE0Ng=="}, "originalCommit": {"oid": "79f28625def54ef231148697abfed3dbaede5cfe"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2645, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}