{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MDUyMDg2", "number": 3675, "title": "IdClass, EmbeddedId and other fixes", "bodyText": "The PR fixes the following issues:\n\nchained join fetch for hql queries\nauto flush for hql queries\nadd sync tables to SqlAstTranslator to affect auto flush determination\nEmbeddedId initialization\nFetch deep determination (exclude EmbeddedAttributeMapping and BasicValuedSingularAttributeMapping)\nFix EmbeddedId lazy collection initialization", "createdAt": "2020-12-10T16:16:42Z", "url": "https://github.com/hibernate/hibernate-orm/pull/3675", "merged": true, "mergeCommit": {"oid": "820b815b35d73e2c699d5b87cc92e2a4cc835588"}, "closed": true, "closedAt": "2020-12-11T09:02:30Z", "author": {"login": "dreab8"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkHsJiAH2gAyNTM2MDUyMDg2OmY1NDEwNWNjNTFmZDgyMzdmNjFiZWU1OTVhZjE2OWI4MjY1NjEzYzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk2T9ZgFqTU0OTM5MzIwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f54105cc51fd8237f61bee595af169b8265613c7", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/f54105cc51fd8237f61bee595af169b8265613c7", "committedDate": "2020-12-08T10:36:04Z", "message": "Fix issue with fetch for hql query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a6465a72f795160ae860176c352b6c9c1530fee", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/9a6465a72f795160ae860176c352b6c9c1530fee", "committedDate": "2020-12-08T16:01:27Z", "message": "Check if auto flush is required for hql queries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d32fb746d629fff4876960990ebe5519a2634f8e", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/d32fb746d629fff4876960990ebe5519a2634f8e", "committedDate": "2020-12-08T16:01:27Z", "message": "Fix SqlAstTranslator affected tablenames includes synch tables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d74f1c7279b4485924bbf24fb7be6bc46084b61", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/7d74f1c7279b4485924bbf24fb7be6bc46084b61", "committedDate": "2020-12-10T16:02:49Z", "message": "Fix issue with emneddable id initialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c10b4e0f2f2f16d81e3e509775049a17773cf53a", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/c10b4e0f2f2f16d81e3e509775049a17773cf53a", "committedDate": "2020-12-10T16:02:49Z", "message": "Fix issue with fetch deep and hql join fetch recognition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d2e80d43aad0a7534ebc1755c0af4750e3375b9", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/6d2e80d43aad0a7534ebc1755c0af4750e3375b9", "committedDate": "2020-12-10T16:02:49Z", "message": "Fix EmbeddedId lazy collection initializer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "820b815b35d73e2c699d5b87cc92e2a4cc835588", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/820b815b35d73e2c699d5b87cc92e2a4cc835588", "committedDate": "2020-12-10T16:02:49Z", "message": "BaseSqmToSqlAstConverter#consumeAttributeJoin() code clean up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzkzMjAw", "url": "https://github.com/hibernate/hibernate-orm/pull/3675#pullrequestreview-549393200", "createdAt": "2020-12-10T16:42:14Z", "commit": {"oid": "820b815b35d73e2c699d5b87cc92e2a4cc835588"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNjo0MjoxNFrOIDSwlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNjo0MjoxNFrOIDSwlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMyMzk4OQ==", "bodyText": "I already did that two lines below. One of the two must go :)", "url": "https://github.com/hibernate/hibernate-orm/pull/3675#discussion_r540323989", "createdAt": "2020-12-10T16:42:14Z", "author": {"login": "beikov"}, "path": "hibernate-core/src/main/java/org/hibernate/query/sqm/internal/ConcreteSqmSelectQueryPlan.java", "diffHunk": "@@ -159,12 +159,16 @@ private RowTransformer makeRowTransformerTupleTransformerAdapter(\n \t\t\t\tsqmInterpretation.getTableGroupAccess()::findTableGroup,\n \t\t\t\tsession\n \t\t);\n-\t\tsqmInterpretation.getJdbcSelect().bindFilterJdbcParameters( jdbcParameterBindings );\n+\n+\t\tfinal JdbcSelect jdbcSelect = sqmInterpretation.getJdbcSelect();\n+\t\tjdbcSelect.bindFilterJdbcParameters( jdbcParameterBindings );\n+\n+\t\tsession.autoFlushIfRequired( jdbcSelect.getAffectedTableNames() );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "820b815b35d73e2c699d5b87cc92e2a4cc835588"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2709, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}