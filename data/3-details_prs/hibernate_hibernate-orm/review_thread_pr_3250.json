{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NDMxMTA1", "number": 3250, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozMzoyNlrODhPx_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNToxMVrODhPzsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTg4MTU3OnYy", "diffSide": "RIGHT", "path": "hibernate-core/src/main/java/org/hibernate/loader/ast/internal/SingleIdEntityLoaderDynamicBatch.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozMzoyNlrOFr6I0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozMzoyNlrOFr6I0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NTYxOQ==", "bodyText": "Fix a potential NPE issue above", "url": "https://github.com/hibernate/hibernate-orm/pull/3250#discussion_r381585619", "createdAt": "2020-02-19T22:33:26Z", "author": {"login": "NathanQingyangXu"}, "path": "hibernate-core/src/main/java/org/hibernate/loader/ast/internal/SingleIdEntityLoaderDynamicBatch.java", "diffHunk": "@@ -187,6 +182,14 @@ public T load(\n \t\t\tObject entityInstance,\n \t\t\tLockOptions lockOptions,\n \t\t\tSharedSessionContractImplementor session) {\n+\t\tinitializeSingleIdLoaderIfNeeded( session );\n \t\treturn singleIdLoader.load( pkValue, entityInstance, lockOptions, session );", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MTg4NTk0OnYy", "diffSide": "RIGHT", "path": "hibernate-core/src/main/java/org/hibernate/sql/exec/internal/JdbcSelectExecutorStandardImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNToxMVrOFr6LsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMjozNToxMVrOFr6LsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU4NjM1Mg==", "bodyText": "We seems to need the non-null id value here so the only usage of 'getEffectiveOptionalInstance()' in AbstractEntityInitilizer (see below) could work because of the id comparison precondition", "url": "https://github.com/hibernate/hibernate-orm/pull/3250#discussion_r381586352", "createdAt": "2020-02-19T22:35:11Z", "author": {"login": "NathanQingyangXu"}, "path": "hibernate-core/src/main/java/org/hibernate/sql/exec/internal/JdbcSelectExecutorStandardImpl.java", "diffHunk": "@@ -158,7 +158,7 @@ public String getEffectiveOptionalEntityName() {\n \n \t\t\t@Override\n \t\t\tpublic Object getEffectiveOptionalId() {\n-\t\t\t\treturn null;\n+\t\t\t\treturn executionContext.getEntityId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4029, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}