{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTUxNzc1", "number": 3521, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo0MjozOFrOEcLWzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo0MjozOFrOEcLWzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3OTgxNjQ2OnYy", "diffSide": "RIGHT", "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzo0MjozOVrOHGjCFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxODozOToxNFrOHGk9cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYyNzQ3OQ==", "bodyText": "Shouldn't this (and the next line) be >=198 instead?\n#3412 (comment)\nMy sentence\n\nAs of 1.4.200 other functions also include the time zone and might fail as well but those changes might have been made after 1.4.198.\n\nmight have been a bit misleading. \"As of 1.4.200\" means that the current online documentation (which matches 1.4.200) is saying that even more functions include the time zone but I haven't checked whether those functions were added also in 198 or in 199 or 200.", "url": "https://github.com/hibernate/hibernate-orm/pull/3521#discussion_r476627479", "createdAt": "2020-08-25T17:42:39Z", "author": {"login": "famod"}, "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "diffHunk": "@@ -210,8 +210,8 @@ public H2Dialect() {\n \t\tregisterFunction( \"curtime\", new NoArgSQLFunction( \"curtime\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"curtimestamp\", new NoArgSQLFunction( \"curtimestamp\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"current_date\", new NoArgSQLFunction( \"current_date\", StandardBasicTypes.DATE ) );\n-\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( \"current_time\", StandardBasicTypes.TIME ) );\n-\t\tregisterFunction( \"current_timestamp\", new NoArgSQLFunction( \"current_timestamp\", StandardBasicTypes.TIMESTAMP ) );\n+\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( buildId >= 200 ? \"localtime\" : \"current_time\", StandardBasicTypes.TIME ) );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75a66abf703608997d92735502b83024d0571068"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYzOTcxMg==", "bodyText": "Well I know for sure that both forms work fine on 1.4.199 because I've tested them both in H6.\nIt's a bit harder to test them on H5 because there are other distracting test failures.", "url": "https://github.com/hibernate/hibernate-orm/pull/3521#discussion_r476639712", "createdAt": "2020-08-25T18:03:39Z", "author": {"login": "gavinking"}, "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "diffHunk": "@@ -210,8 +210,8 @@ public H2Dialect() {\n \t\tregisterFunction( \"curtime\", new NoArgSQLFunction( \"curtime\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"curtimestamp\", new NoArgSQLFunction( \"curtimestamp\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"current_date\", new NoArgSQLFunction( \"current_date\", StandardBasicTypes.DATE ) );\n-\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( \"current_time\", StandardBasicTypes.TIME ) );\n-\t\tregisterFunction( \"current_timestamp\", new NoArgSQLFunction( \"current_timestamp\", StandardBasicTypes.TIMESTAMP ) );\n+\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( buildId >= 200 ? \"localtime\" : \"current_time\", StandardBasicTypes.TIME ) );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYyNzQ3OQ=="}, "originalCommit": {"oid": "75a66abf703608997d92735502b83024d0571068"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1OTA1Ng==", "bodyText": "I mean the real problem here is that he's insisting on not implicitly casting TIME WITH TIME ZONE to TIME, a cast which I'm pretty sure is implicit on most other databases.", "url": "https://github.com/hibernate/hibernate-orm/pull/3521#discussion_r476659056", "createdAt": "2020-08-25T18:39:14Z", "author": {"login": "gavinking"}, "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "diffHunk": "@@ -210,8 +210,8 @@ public H2Dialect() {\n \t\tregisterFunction( \"curtime\", new NoArgSQLFunction( \"curtime\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"curtimestamp\", new NoArgSQLFunction( \"curtimestamp\", StandardBasicTypes.TIME ) );\n \t\tregisterFunction( \"current_date\", new NoArgSQLFunction( \"current_date\", StandardBasicTypes.DATE ) );\n-\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( \"current_time\", StandardBasicTypes.TIME ) );\n-\t\tregisterFunction( \"current_timestamp\", new NoArgSQLFunction( \"current_timestamp\", StandardBasicTypes.TIMESTAMP ) );\n+\t\tregisterFunction( \"current_time\", new NoArgSQLFunction( buildId >= 200 ? \"localtime\" : \"current_time\", StandardBasicTypes.TIME ) );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYyNzQ3OQ=="}, "originalCommit": {"oid": "75a66abf703608997d92735502b83024d0571068"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4164, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}