{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MjMzNzg2", "number": 3247, "title": "HHH-13870 - Extract task action in Gradle plugin to fix up-to-date check", "bodyText": "See https://hibernate.atlassian.net/browse/HHH-13870", "createdAt": "2020-02-19T15:51:05Z", "url": "https://github.com/hibernate/hibernate-orm/pull/3247", "merged": true, "mergeCommit": {"oid": "1364929fe08f87400ee97a4859d4c242c07c32fd"}, "closed": true, "closedAt": "2020-02-19T18:20:43Z", "author": {"login": "dreis2211"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcF4HA_gH2gAyMzc3MjMzNzg2OmE2MTkzZTUzYzU2MWJkOGZmYzQyMzA5OWIyYmNjYzc2MTViYjUyZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcF5YhygH2gAyMzc3MjMzNzg2OjdhZTU5YjQ3MDY0MDI0ZjRmMjI3OTUyMzNkNjc5YWVjYmRiMTJjNzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a6193e53c561bd8ffc423099b2bccc7615bb52fb", "author": {"user": {"login": "dreis2211", "name": "Christoph Dreis"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/a6193e53c561bd8ffc423099b2bccc7615bb52fb", "committedDate": "2020-02-19T15:18:03Z", "message": "HHH-13870 - Extract task action in Gradle plugin to fix up-to-date checks\n\nLambdas are not allowed and cause the compile task to be always out of date"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMjI4MTU3", "url": "https://github.com/hibernate/hibernate-orm/pull/3247#pullrequestreview-361228157", "createdAt": "2020-02-19T16:16:20Z", "commit": {"oid": "a6193e53c561bd8ffc423099b2bccc7615bb52fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMjQxNjky", "url": "https://github.com/hibernate/hibernate-orm/pull/3247#pullrequestreview-361241692", "createdAt": "2020-02-19T16:31:03Z", "commit": {"oid": "a6193e53c561bd8ffc423099b2bccc7615bb52fb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjozMTowM1rOFruRGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxNjozMTowM1rOFruRGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM5MTEyOQ==", "bodyText": "I would suggest adding some comment explaining why lambda is not a viable solution (including the gradle bug link) so we can avoid confusion and raise awareness of when the lambda can be reverted back.", "url": "https://github.com/hibernate/hibernate-orm/pull/3247#discussion_r381391129", "createdAt": "2020-02-19T16:31:03Z", "author": {"login": "NathanQingyangXu"}, "path": "tooling/hibernate-gradle-plugin/src/main/groovy/org/hibernate/orm/tooling/gradle/HibernatePlugin.java", "diffHunk": "@@ -43,10 +44,29 @@ private void applyEnhancement(final Project project, final HibernateExtension hi\n \n \t\t\tfinal Task compileTask = project.getTasks().findByName( sourceSet.getCompileJavaTaskName() );\n \t\t\tassert compileTask != null;\n-\t\t\tcompileTask.doLast(\n-\t\t\t\t\ttask -> EnhancementHelper.enhance( sourceSet, hibernateExtension.enhance, project )\n-\t\t\t);\n+\t\t\tcompileTask.doLast(new EnhancerAction( sourceSet, hibernateExtension, project ));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6193e53c561bd8ffc423099b2bccc7615bb52fb"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae59b47064024f4f22795233d679aecbdb12c70", "author": {"user": {"login": "dreis2211", "name": "Christoph Dreis"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/7ae59b47064024f4f22795233d679aecbdb12c70", "committedDate": "2020-02-19T16:47:05Z", "message": "HHH-13870 - Add explaining comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3159, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}