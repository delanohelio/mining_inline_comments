{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4Njc2Njk0", "number": 3586, "title": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement", "bodyText": "https://hibernate.atlassian.net/browse/HHH-14249", "createdAt": "2020-10-06T16:20:18Z", "url": "https://github.com/hibernate/hibernate-orm/pull/3586", "merged": true, "mergeCommit": {"oid": "112d2153713f78472f9354cb2e3fe4c89b9171bc"}, "closed": true, "closedAt": "2020-10-07T07:54:49Z", "author": {"login": "dreab8"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP67UTgFqTUwMzE0NzAxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQHkSuABqjM4NDg5MTU4MDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTQ3MDEx", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#pullrequestreview-503147011", "createdAt": "2020-10-06T16:25:22Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNjoyNToyM1rOHdQBCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNjoyNToyM1rOHdQBCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQzMzE2Mg==", "bodyText": "would the above rule work for (TAB) * (SPACE)*, btw?", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500433162", "createdAt": "2020-10-06T16:25:23Z", "author": {"login": "NathanQingyangXu"}, "path": "hibernate-core/src/main/antlr/sql-script.g", "diffHunk": "@@ -57,16 +57,23 @@ options {\n // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n script\n-\t: (newLineToSkip)* (statement)* EOF\n+\t: (newLineToSkip)* (SPACE)* (TAB)* (statement)* EOF", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24aa5e6a3a0965b3000309700278173ecdd8385c", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/24aa5e6a3a0965b3000309700278173ecdd8385c", "committedDate": "2020-10-06T17:33:40Z", "message": "HHH-14249 Add test for issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMjM2ODc5", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#pullrequestreview-503236879", "createdAt": "2020-10-06T18:16:15Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxODoxNjoxNVrOHdUN7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxODoxNjoxNVrOHdUN7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMTk5OA==", "bodyText": "maybe you could reorganize the \"whitespace\" into its own group to make things simpler?\nscript\n\t: ignoredWhitespace (statement ignoredWhitespace)* EOF\n        ;\n\nstatement\n\t: { statementStarted(); } statementFirstPart (statementPart (afterStatementPartNewline)*)* DELIMITER { statementEnded(); }\n\t;\n\nignoredWhitespace\n\t: (newLineToSkip | SPACE | TAB )*\n\t;", "url": "https://github.com/hibernate/hibernate-orm/pull/3586#discussion_r500501998", "createdAt": "2020-10-06T18:16:15Z", "author": {"login": "Sanne"}, "path": "hibernate-core/src/main/antlr/sql-script.g", "diffHunk": "@@ -57,16 +57,23 @@ options {\n // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n script\n-\t: (newLineToSkip)* (statement)* EOF\n+\t: (newLineToSkip | SPACE | TAB )* (statement)* EOF\n     ;\n \n statement\n-\t: { statementStarted(); } (statementPart (afterStatementPartNewline)*)* DELIMITER (newLineToSkip)* { statementEnded(); }\n+\t: { statementStarted(); } statementFirstPart (statementPart (afterStatementPartNewline)*)* DELIMITER (SPACE | TAB | newLineToSkip)* { statementEnded(); }\n+\t;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "committedDate": "2020-10-07T07:08:53Z", "message": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "author": {"user": {"login": "dreab8", "name": "Andrea Boriero"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/e05d06eeca1d881f699c3bcfe3bc734e1bcd6a15", "committedDate": "2020-10-07T07:08:53Z", "message": "HHH-14249 MultiLineImport fails when script contains blank spaces or tabs at the end of the last sql statement"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2736, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}