{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTE2NzEy", "number": 3520, "title": "on H2 after 2.0 don't need column type workaround (H5)", "bodyText": "Apparently H2 correctly reports column types via JDBC metadata since 2.0, so this workaround is unnecessary.\nAlso add a default mapping for DECIMAL in superclass, just for completeness.\ncc @famod WDYT? Does this look good?", "createdAt": "2020-08-25T10:52:14Z", "url": "https://github.com/hibernate/hibernate-orm/pull/3520", "merged": true, "mergeCommit": {"oid": "d5b0c167c890e49890339cc4597f3581d469d3f0"}, "closed": true, "closedAt": "2021-02-04T09:34:19Z", "author": {"login": "gavinking"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCU9xBgH2gAyNDczMTE2NzEyOjAxNDJjZWJmOWM3ZjU0M2ViMjRmYjA2M2IyMTU2ZWIwYjY1Nzk3NmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdF7qgYgFqTQ4MzA2MjIzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0142cebf9c7f543eb24fb063b2156eb0b657976b", "author": {"user": {"login": "gavinking", "name": "Gavin King"}}, "url": "https://github.com/hibernate/hibernate-orm/commit/0142cebf9c7f543eb24fb063b2156eb0b657976b", "committedDate": "2020-08-25T10:50:39Z", "message": "on H2 after 2.0 don't need column type workaround\n\nApparently H2 correctly reports column types via JDBC metadata\nsince 2.0, so this workaround is unnecessary.\n\nAlso add a default mapping for DECIMAL in superclass, just for\ncompleteness.\n\ncc @famod"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMDM1MDc1", "url": "https://github.com/hibernate/hibernate-orm/pull/3520#pullrequestreview-481035075", "createdAt": "2020-09-02T17:15:24Z", "commit": {"oid": "0142cebf9c7f543eb24fb063b2156eb0b657976b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNzoxNToyNVrOHL5Xsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxNzoxNToyNVrOHL5Xsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIzNjMzOQ==", "bodyText": "btw, there is a related ticket for the above `float' issue: #2855", "url": "https://github.com/hibernate/hibernate-orm/pull/3520#discussion_r482236339", "createdAt": "2020-09-02T17:15:25Z", "author": {"login": "NathanQingyangXu"}, "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "diffHunk": "@@ -122,7 +122,7 @@ public H2Dialect() {\n \t\tregisterColumnType( Types.BIT, \"boolean\" );\n \t\tregisterColumnType( Types.CHAR, \"char($l)\" );\n \t\tregisterColumnType( Types.DATE, \"date\" );\n-\t\tregisterColumnType( Types.DECIMAL, buildId >= 201 ? \"numeric($p,$s)\" : \"decimal($p,$s)\" );\n+\t\tregisterColumnType( Types.DECIMAL, \"decimal($p,$s)\" );\n \t\tregisterColumnType( Types.NUMERIC, buildId >= 201 ? \"numeric($p,$s)\" : \"decimal($p,$s)\" );\n \t\tregisterColumnType( Types.DOUBLE, \"double\" );\n \t\tregisterColumnType( Types.FLOAT, \"float\" );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0142cebf9c7f543eb24fb063b2156eb0b657976b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMDYyMjM1", "url": "https://github.com/hibernate/hibernate-orm/pull/3520#pullrequestreview-483062235", "createdAt": "2020-09-05T15:37:41Z", "commit": {"oid": "0142cebf9c7f543eb24fb063b2156eb0b657976b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxNTozNzo0MVrOHNirOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxNTozNzo0MVrOHNirOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk2MTY1OA==", "bodyText": "I'm confused. Does this mean a part of #3405 was not necessary at all?\nOr do we have the same problem as here: #3519 (comment)?", "url": "https://github.com/hibernate/hibernate-orm/pull/3520#discussion_r483961658", "createdAt": "2020-09-05T15:37:41Z", "author": {"login": "famod"}, "path": "hibernate-core/src/main/java/org/hibernate/dialect/H2Dialect.java", "diffHunk": "@@ -122,7 +122,7 @@ public H2Dialect() {\n \t\tregisterColumnType( Types.BIT, \"boolean\" );\n \t\tregisterColumnType( Types.CHAR, \"char($l)\" );\n \t\tregisterColumnType( Types.DATE, \"date\" );\n-\t\tregisterColumnType( Types.DECIMAL, buildId >= 201 ? \"numeric($p,$s)\" : \"decimal($p,$s)\" );\n+\t\tregisterColumnType( Types.DECIMAL, \"decimal($p,$s)\" );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0142cebf9c7f543eb24fb063b2156eb0b657976b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2881, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}