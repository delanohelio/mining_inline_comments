{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNDE4ODY5", "number": 3806, "title": "Adds org.osgi.dto Package to fixe ClassNotFoundException in gradle build when using P2Repository", "bodyText": "adds osgi.dto pckg to fix CNF Exception in gradle for p2 repo\n\naddionally counts the package version up, because baselineing\ncomplained about it\n\nSigned-off-by: Juergen Albert j.albert@data-in-motion.biz", "createdAt": "2020-02-26T17:44:36Z", "url": "https://github.com/bndtools/bnd/pull/3806", "merged": true, "mergeCommit": {"oid": "9df417673d8e15a7f1a5b65afe559b73d68b1edc"}, "closed": true, "closedAt": "2020-03-23T15:09:45Z", "author": {"login": "juergen-albert"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJwlBggFqTM2NzM1NDgwMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQfwwdgFqTM3OTUyMjE3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MzU0ODAz", "url": "https://github.com/bndtools/bnd/pull/3806#pullrequestreview-367354803", "createdAt": "2020-03-02T16:47:02Z", "commit": {"oid": "df9b979615bcf90b0e21268e7243508a0f20927a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo0NzowMlrOFwm6jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNjo0NzowMlrOFwm6jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjUxMzU1MQ==", "bodyText": "I think it is wrong to put a copy of a core OSGi package in this jar. It if needs to go somewhere, it should centrally be in biz.aQute.bndlib.", "url": "https://github.com/bndtools/bnd/pull/3806#discussion_r386513551", "createdAt": "2020-03-02T16:47:02Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.repository/bnd.bnd", "diffHunk": "@@ -41,7 +41,8 @@ Export-Package: \\\n \taQute.maven.*, \\\n \n -includepackage: \\\n-\taQute.p2.provider\n+\taQute.p2.provider,\\\n+\torg.osgi.dto;-split-package:=first", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df9b979615bcf90b0e21268e7243508a0f20927a"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df9b979615bcf90b0e21268e7243508a0f20927a", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/df9b979615bcf90b0e21268e7243508a0f20927a", "committedDate": "2020-02-26T17:40:51Z", "message": "adds osgi.dto pckg to fix CNF Exception in gradle for p2 repo\n\n* addionally counts the package version up, because baselineing\ncomplained about it\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "b43c671b4f38c02c6305e2d928a910a38c0be9b3", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/b43c671b4f38c02c6305e2d928a910a38c0be9b3", "committedDate": "2020-03-21T12:29:22Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTM3MTgz", "url": "https://github.com/bndtools/bnd/pull/3806#pullrequestreview-378937183", "createdAt": "2020-03-21T17:48:24Z", "commit": {"oid": "b43c671b4f38c02c6305e2d928a910a38c0be9b3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxNzo0ODoyNFrOF5qurQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxNzo0ODoyNFrOF5qurQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAxMzIyOQ==", "bodyText": "osgi.core (above) already contains the dto package. So you do not need to add org.osgi.dto to the buildpath.", "url": "https://github.com/bndtools/bnd/pull/3806#discussion_r396013229", "createdAt": "2020-03-21T17:48:24Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.bndlib/bnd.bnd", "diffHunk": "@@ -73,6 +75,7 @@ Import-Package: \\\n \torg.osgi.service.repository;version=latest,\\\n \torg.osgi.util.function;version=latest,\\\n \torg.osgi.util.promise;version=latest,\\\n+\torg.osgi.dto;version=latest,\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b43c671b4f38c02c6305e2d928a910a38c0be9b3"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b43c671b4f38c02c6305e2d928a910a38c0be9b3", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/b43c671b4f38c02c6305e2d928a910a38c0be9b3", "committedDate": "2020-03-21T12:29:22Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "2e3e53d32eeea26f4528691a866d3ebae71462a0", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/2e3e53d32eeea26f4528691a866d3ebae71462a0", "committedDate": "2020-03-21T22:50:50Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTg5NjU3", "url": "https://github.com/bndtools/bnd/pull/3806#pullrequestreview-378989657", "createdAt": "2020-03-22T10:14:05Z", "commit": {"oid": "2e3e53d32eeea26f4528691a866d3ebae71462a0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMDoxNDowNVrOF5ukDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMDoxNDowNVrOF5ukDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA3NjA0Ng==", "bodyText": "I think you deleted the wrong line. You need org.osgi.dto in the Import-Package statement. You do not need org.osgi.dto in the -buildpath instruction since osgi.core is already in the -buildpath instruction and it contains the org.osgi.dto package.", "url": "https://github.com/bndtools/bnd/pull/3806#discussion_r396076046", "createdAt": "2020-03-22T10:14:05Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.bndlib/bnd.bnd", "diffHunk": "@@ -73,6 +75,7 @@ Import-Package: \\\n \torg.osgi.service.repository;version=latest,\\\n \torg.osgi.util.function;version=latest,\\\n \torg.osgi.util.promise;version=latest,\\\n+\torg.osgi.dto;version=latest,\\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAxMzIyOQ=="}, "originalCommit": {"oid": "b43c671b4f38c02c6305e2d928a910a38c0be9b3"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e3e53d32eeea26f4528691a866d3ebae71462a0", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/2e3e53d32eeea26f4528691a866d3ebae71462a0", "committedDate": "2020-03-21T22:50:50Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "5a71c592a6168d5d1468ae4817284c4a419c8ec8", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/5a71c592a6168d5d1468ae4817284c4a419c8ec8", "committedDate": "2020-03-22T14:17:55Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5Mzk1MTI1", "url": "https://github.com/bndtools/bnd/pull/3806#pullrequestreview-379395125", "createdAt": "2020-03-23T12:47:48Z", "commit": {"oid": "5a71c592a6168d5d1468ae4817284c4a419c8ec8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxMjo0Nzo0OFrOF6D1cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxMjo0Nzo0OFrOF6D1cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQyNDU2MA==", "bodyText": "This is still wrong. You don't need this since bndlib itself contains the package for non-OSGi use cases. Doing thing just adds a second copy of the package to the classpath for maven/gradle.\nAlso, you need to readd the Import-Package statement for org.osgi.dto. Even though bndlib itself does not currently use the org.osgi.dto package, it does no harm to import it and it prevents us from making silly mistakes in the future when we actually do start to use it in bndlib and then forget to add the Import-Package for it.", "url": "https://github.com/bndtools/bnd/pull/3806#discussion_r396424560", "createdAt": "2020-03-23T12:47:48Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.bndlib/bnd.bnd", "diffHunk": "@@ -62,6 +63,12 @@ Import-Package: \\\n \n -maven-scope: provided\n \n+-maven-dependencies.core: \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a71c592a6168d5d1468ae4817284c4a419c8ec8"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "073412205345eecce94b7df76e69b002ca621f10", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/073412205345eecce94b7df76e69b002ca621f10", "committedDate": "2020-03-23T14:03:58Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5a71c592a6168d5d1468ae4817284c4a419c8ec8", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/5a71c592a6168d5d1468ae4817284c4a419c8ec8", "committedDate": "2020-03-22T14:17:55Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "073412205345eecce94b7df76e69b002ca621f10", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/073412205345eecce94b7df76e69b002ca621f10", "committedDate": "2020-03-23T14:03:58Z", "message": "adds osgi.dto package to bndlib to fix p2repo classnotfound issue\n\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5NTIyMTc2", "url": "https://github.com/bndtools/bnd/pull/3806#pullrequestreview-379522176", "createdAt": "2020-03-23T15:09:11Z", "commit": {"oid": "073412205345eecce94b7df76e69b002ca621f10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3081, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}