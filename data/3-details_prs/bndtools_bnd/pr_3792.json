{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NTQ2OTkw", "number": 3792, "title": "Allow ProjectTester to be called on ProjectLauncher.update", "bodyText": "", "createdAt": "2020-02-20T04:44:23Z", "url": "https://github.com/bndtools/bnd/pull/3792", "merged": true, "mergeCommit": {"oid": "e6af24b81c23e64155e90ea628de2e6857792c32"}, "closed": true, "closedAt": "2020-02-20T11:59:53Z", "author": {"login": "bjhargrave"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGDiN3gH2gAyMzc3NTQ2OTkwOmIyZTRlOGJhY2NkMDVhMDY2MmVhYzA1ZWQ0YzQxN2MwNzgzNGY3NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGJtW7gFqTM2MTgzNzAxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b2e4e8baccd05a0662eac05ed4c417c07834f773", "author": {"user": {"login": "bjhargrave", "name": "BJ Hargrave"}}, "url": "https://github.com/bndtools/bnd/commit/b2e4e8baccd05a0662eac05ed4c417c07834f773", "committedDate": "2020-02-20T04:36:43Z", "message": "build: Avoid conflict with launchpad tests\n\nI was seeing failures in launchpad test when this project's test task\nran in parallel with launchpad tests.\n\nSigned-off-by: BJ Hargrave <bj@bjhargrave.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7988e355558bcfc83cf35afaab5cd5a531d06fa", "author": {"user": {"login": "bjhargrave", "name": "BJ Hargrave"}}, "url": "https://github.com/bndtools/bnd/commit/c7988e355558bcfc83cf35afaab5cd5a531d06fa", "committedDate": "2020-02-20T04:36:44Z", "message": "launcher: Refactor call to updateFromProject into base class\n\nSigned-off-by: BJ Hargrave <bj@bjhargrave.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4aa9a81d1a82a0fa043f8bfa5ddbe91d372503bc", "author": {"user": {"login": "bjhargrave", "name": "BJ Hargrave"}}, "url": "https://github.com/bndtools/bnd/commit/4aa9a81d1a82a0fa043f8bfa5ddbe91d372503bc", "committedDate": "2020-02-20T04:36:44Z", "message": "tester: Refactor impl prepare logic into a method\n\nThis is to prepare for the logic to be called for launcher updates.\n\nSigned-off-by: BJ Hargrave <bj@bjhargrave.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67a96fbb58e69411d154c91656a22d029eecda89", "author": {"user": {"login": "bjhargrave", "name": "BJ Hargrave"}}, "url": "https://github.com/bndtools/bnd/commit/67a96fbb58e69411d154c91656a22d029eecda89", "committedDate": "2020-02-20T04:37:08Z", "message": "launcher: Add a way for tester to be called upon update\n\nThis will allow the tester to make launcher changes upon the launcher\nbeing updated.\n\nFixes https://github.com/bndtools/bnd/issues/3530\n\nSigned-off-by: BJ Hargrave <bj@bjhargrave.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODM3MDEy", "url": "https://github.com/bndtools/bnd/pull/3792#pullrequestreview-361837012", "createdAt": "2020-02-20T11:45:29Z", "commit": {"oid": "67a96fbb58e69411d154c91656a22d029eecda89"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo0NToyOVrOFsQVEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo0NToyOVrOFsQVEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk0OTIwMg==", "bodyText": "Does this need to be made thread-safe? Or are we assuming/mandating that all calls to update()/onUpdate() are made from the same thread?", "url": "https://github.com/bndtools/bnd/pull/3792#discussion_r381949202", "createdAt": "2020-02-20T11:45:29Z", "author": {"login": "kriegfrj"}, "path": "biz.aQute.bndlib/src/aQute/bnd/build/ProjectLauncher.java", "diffHunk": "@@ -61,6 +61,7 @@\n \n \tfinal static Logger\t\t\t\t\tlogger\t\t\t\t= LoggerFactory.getLogger(ProjectLauncher.class);\n \tprivate final Project\t\t\t\tproject;\n+\tprivate final List<Runnable>\t\tonUpdate\t\t\t= new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67a96fbb58e69411d154c91656a22d029eecda89"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3071, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}