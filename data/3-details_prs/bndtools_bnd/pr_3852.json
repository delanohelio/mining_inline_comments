{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzA0NDg1", "number": 3852, "title": "unwraps the InvocationTargetException to report the real error", "bodyText": "fixes #3851\nSigned-off-by: Juergen Albert j.albert@data-in-motion.biz", "createdAt": "2020-03-24T23:24:12Z", "url": "https://github.com/bndtools/bnd/pull/3852", "merged": true, "mergeCommit": {"oid": "3905016d34f947c503372e6946a31d4d713c6efa"}, "closed": true, "closedAt": "2020-03-25T14:25:41Z", "author": {"login": "juergen-albert"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRDKI1gFqTM4MDkzNDQ3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRH35VgFqTM4MTE2NzA4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwOTM0NDc4", "url": "https://github.com/bndtools/bnd/pull/3852#pullrequestreview-380934478", "createdAt": "2020-03-25T08:23:35Z", "commit": {"oid": "5a351494424dfab4b06df79d8c156b81d915ad5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyMzozNVrOF7QNkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODoyMzozNVrOF7QNkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY3NTkyMw==", "bodyText": "See the methods for this in Exceptions, they provide solid support to get the original cause", "url": "https://github.com/bndtools/bnd/pull/3852#discussion_r397675923", "createdAt": "2020-03-25T08:23:35Z", "author": {"login": "pkriens"}, "path": "biz.aQute.repository/src/aQute/bnd/repository/maven/pom/provider/Traverser.java", "diffHunk": "@@ -206,8 +207,14 @@ private void parseResource(Archive archive, String parent) throws Exception {\n \t\t\t}\n \t\t\taddInformationCapability(rb, archive.toString(), parent);\n \t\t} catch (Exception e) {\n+\t\t\tThrowable theException = e;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a351494424dfab4b06df79d8c156b81d915ad5a"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5a351494424dfab4b06df79d8c156b81d915ad5a", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/5a351494424dfab4b06df79d8c156b81d915ad5a", "committedDate": "2020-03-24T23:22:48Z", "message": "unwraps the InvocationTargetException to report the real error\n\nfixes #3851\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "71e27a9eeb038adb29aa4d084ed071c59541d37d", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/71e27a9eeb038adb29aa4d084ed071c59541d37d", "committedDate": "2020-03-25T10:14:22Z", "message": "unwraps the Exception to report the real error\n\nfixes #3851\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMDkxNjY5", "url": "https://github.com/bndtools/bnd/pull/3852#pullrequestreview-381091669", "createdAt": "2020-03-25T12:15:37Z", "commit": {"oid": "71e27a9eeb038adb29aa4d084ed071c59541d37d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjoxNTozOFrOF7YURQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjoxNTozOFrOF7YURQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgwODcwOQ==", "bodyText": "This will unroll all the way back to the root cause. If you only want to unroll off any InvocactionTargetExceptions, then you want to do:\nThrowable theException = Exceptions.unrollCause(e, InvocationTargetException.class);\nSee for example:\n\n  \n    \n      bnd/biz.aQute.bndlib/src/aQute/bnd/osgi/Processor.java\n    \n    \n        Lines 419 to 420\n      in\n      a6d93a4\n    \n    \n    \n    \n\n        \n          \n           // unroll InvocationTargetException \n        \n\n        \n          \n           t = Exceptions.unrollCause(t, InvocationTargetException.class);", "url": "https://github.com/bndtools/bnd/pull/3852#discussion_r397808709", "createdAt": "2020-03-25T12:15:38Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.repository/src/aQute/bnd/repository/maven/pom/provider/Traverser.java", "diffHunk": "@@ -206,8 +207,9 @@ private void parseResource(Archive archive, String parent) throws Exception {\n \t\t\t}\n \t\t\taddInformationCapability(rb, archive.toString(), parent);\n \t\t} catch (Exception e) {\n+\t\t\tThrowable theException = Exceptions.unrollCause(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71e27a9eeb038adb29aa4d084ed071c59541d37d"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33375adece4b84b0b7ca1f9267a66e42992aaf07", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/33375adece4b84b0b7ca1f9267a66e42992aaf07", "committedDate": "2020-03-25T13:50:12Z", "message": "unwraps the Exception to report the real error\n\nfixes #3851\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71e27a9eeb038adb29aa4d084ed071c59541d37d", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/71e27a9eeb038adb29aa4d084ed071c59541d37d", "committedDate": "2020-03-25T10:14:22Z", "message": "unwraps the Exception to report the real error\n\nfixes #3851\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "33375adece4b84b0b7ca1f9267a66e42992aaf07", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/33375adece4b84b0b7ca1f9267a66e42992aaf07", "committedDate": "2020-03-25T13:50:12Z", "message": "unwraps the Exception to report the real error\n\nfixes #3851\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTY3MDg2", "url": "https://github.com/bndtools/bnd/pull/3852#pullrequestreview-381167086", "createdAt": "2020-03-25T13:53:11Z", "commit": {"oid": "33375adece4b84b0b7ca1f9267a66e42992aaf07"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3007, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}