{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMjUxNTY3", "number": 4318, "title": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.", "bodyText": "Expose instructions.add(Provider<? extends CharSequence>) on BundleTaskConvention. This allows us to generate instructions using Gradle providers without forcing those providers to be evaluated. In particular, it resolves this Gradle warning:\nQuerying the mapped value of task ':jar' property 'archiveFile' before task ':jar' has completed has been deprecated. This will fail with an error in Gradle 7.0.\n\nI am currently working around this problem by attaching my lazy Gradle provider to the project as a property, and then invoking this property as a bnd macro via \\${project.myProvider}. However, this is considerably less obvious (from a Gradle perspective) than just adding the Provider to the bnd instructions directly.", "createdAt": "2020-09-21T12:14:35Z", "url": "https://github.com/bndtools/bnd/pull/4318", "merged": true, "mergeCommit": {"oid": "325765efb0db5205532c51069ea49c4246e44e41"}, "closed": true, "closedAt": "2020-10-01T19:14:36Z", "author": {"login": "chrisr3"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLCXWZgBqjM3ODgzNDc5OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOWWVggFqTUwMDY0NDQzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e54e413a3efbb528909080f14c97b2430e89a1a1", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/e54e413a3efbb528909080f14c97b2430e89a1a1", "committedDate": "2020-09-21T12:05:18Z", "message": "Supoort adding bnd instructions to BundleTaskConvention as Gradle providers."}, "afterCommit": {"oid": "dbce0c3d4a39e766aba5a653f9e3448ad4775eae", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/dbce0c3d4a39e766aba5a653f9e3448ad4775eae", "committedDate": "2020-09-21T12:15:16Z", "message": "Supoort adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbce0c3d4a39e766aba5a653f9e3448ad4775eae", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/dbce0c3d4a39e766aba5a653f9e3448ad4775eae", "committedDate": "2020-09-21T12:15:16Z", "message": "Supoort adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}, "afterCommit": {"oid": "d5ef5a3e6f2bce5d4e544617830825dbb1cb43ed", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/d5ef5a3e6f2bce5d4e544617830825dbb1cb43ed", "committedDate": "2020-09-21T12:21:26Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5ef5a3e6f2bce5d4e544617830825dbb1cb43ed", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/d5ef5a3e6f2bce5d4e544617830825dbb1cb43ed", "committedDate": "2020-09-21T12:21:26Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}, "afterCommit": {"oid": "dab1a415afc84525550723b41dfdb7a6847fad83", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/dab1a415afc84525550723b41dfdb7a6847fad83", "committedDate": "2020-09-23T21:08:47Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dab1a415afc84525550723b41dfdb7a6847fad83", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/dab1a415afc84525550723b41dfdb7a6847fad83", "committedDate": "2020-09-23T21:08:47Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}, "afterCommit": {"oid": "4e469347002b659939854b2b2422079d292db0e1", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/4e469347002b659939854b2b2422079d292db0e1", "committedDate": "2020-09-25T16:37:08Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzk5Mzk4", "url": "https://github.com/bndtools/bnd/pull/4318#pullrequestreview-500399398", "createdAt": "2020-10-01T14:20:57Z", "commit": {"oid": "4e469347002b659939854b2b2422079d292db0e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyNTozNVrOHbM-yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyNTozNVrOHbM-yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4NjI4MA==", "bodyText": "The Properties type is used in the buildBundles method, so this line should not be removed.", "url": "https://github.com/bndtools/bnd/pull/4318#discussion_r498286280", "createdAt": "2020-10-01T14:25:35Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.bnd.gradle/src/aQute/bnd/gradle/BundleTaskConvention.groovy", "diffHunk": "@@ -28,9 +28,7 @@ import static aQute.bnd.gradle.BndUtils.jarLibraryElements\n import static aQute.bnd.gradle.BndUtils.logReport\n import static aQute.bnd.gradle.BndUtils.unwrap\n \n-import java.util.Properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e469347002b659939854b2b2422079d292db0e1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f810df486d1c611bb2bcd1879528e56cb361d75", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/2f810df486d1c611bb2bcd1879528e56cb361d75", "committedDate": "2020-10-01T17:34:37Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccb298108a621ddeacd8b19d75ed3c0d35300aa9", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/ccb298108a621ddeacd8b19d75ed3c0d35300aa9", "committedDate": "2020-10-01T17:33:33Z", "message": "Restore import for java.util.Properties."}, "afterCommit": {"oid": "2f810df486d1c611bb2bcd1879528e56cb361d75", "author": {"user": {"login": "chrisr3", "name": "Chris Rankin"}}, "url": "https://github.com/bndtools/bnd/commit/2f810df486d1c611bb2bcd1879528e56cb361d75", "committedDate": "2020-10-01T17:34:37Z", "message": "Support adding bnd instructions to BundleTaskConvention as Gradle providers.\n\nSigned-off-by: Chris Rankin <chris.rankin@r3.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjQ0NDMw", "url": "https://github.com/bndtools/bnd/pull/4318#pullrequestreview-500644430", "createdAt": "2020-10-01T19:14:29Z", "commit": {"oid": "2f810df486d1c611bb2bcd1879528e56cb361d75"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3106, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}