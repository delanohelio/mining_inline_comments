{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NTQ2OTkw", "number": 3792, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo0NToyOVrODhfnvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo0NToyOVrODhfnvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NDQ3Njc2OnYy", "diffSide": "RIGHT", "path": "biz.aQute.bndlib/src/aQute/bnd/build/ProjectLauncher.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo0NToyOVrOFsQVEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMTo1OToyMlrOFsQuFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk0OTIwMg==", "bodyText": "Does this need to be made thread-safe? Or are we assuming/mandating that all calls to update()/onUpdate() are made from the same thread?", "url": "https://github.com/bndtools/bnd/pull/3792#discussion_r381949202", "createdAt": "2020-02-20T11:45:29Z", "author": {"login": "kriegfrj"}, "path": "biz.aQute.bndlib/src/aQute/bnd/build/ProjectLauncher.java", "diffHunk": "@@ -61,6 +61,7 @@\n \n \tfinal static Logger\t\t\t\t\tlogger\t\t\t\t= LoggerFactory.getLogger(ProjectLauncher.class);\n \tprivate final Project\t\t\t\tproject;\n+\tprivate final List<Runnable>\t\tonUpdate\t\t\t= new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67a96fbb58e69411d154c91656a22d029eecda89"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk1NTYwNw==", "bodyText": "There are many other things in the launcher which are not fully thread safe. The calls to onUpdate and update don't need to be on the same thread, there just needs to be some memory barriers between them and there are generally plenty of these. I don't see this as a real problem here now.", "url": "https://github.com/bndtools/bnd/pull/3792#discussion_r381955607", "createdAt": "2020-02-20T11:59:22Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.bndlib/src/aQute/bnd/build/ProjectLauncher.java", "diffHunk": "@@ -61,6 +61,7 @@\n \n \tfinal static Logger\t\t\t\t\tlogger\t\t\t\t= LoggerFactory.getLogger(ProjectLauncher.class);\n \tprivate final Project\t\t\t\tproject;\n+\tprivate final List<Runnable>\t\tonUpdate\t\t\t= new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk0OTIwMg=="}, "originalCommit": {"oid": "67a96fbb58e69411d154c91656a22d029eecda89"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1491, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}