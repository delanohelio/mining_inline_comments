{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MzYxOTU1", "number": 4163, "title": "[quickfix] Integration tests for BuildpathQuickFixProcessor", "bodyText": "Ported from the old ImportPackageQuickFixProcessorTest. Fixes #3881.\nAs I suspected and reported in my review of the new implementation (#3833), while the new implementation of the quick fix processor has overall vastly better features, there are a few of the more esoteric cases with the old implementation used to handle but which the new one doesn't. I have left the tests for these in there but annotated as @Disabled so that they don't interfere with the CI output. If/when someone decides to have a go at adding support for them, they will be there for them.\nThe Eclipse side of things was interesting - unfortunately, it seems that bndtools.core has some dependencies at activation time which it maybe shouldn't, and so I couldn't get the quick fix class to load without loading the entire workbench. I used a custom launcher for this based on the existing applaunch bundle, but I might be able to reconfigure this to use the existing applaunch.", "createdAt": "2020-06-15T08:05:48Z", "url": "https://github.com/bndtools/bnd/pull/4163", "merged": true, "mergeCommit": {"oid": "8282cdd9e2c684dbd31347894daaebb9d6be6f05"}, "closed": true, "closedAt": "2020-07-03T14:41:11Z", "author": {"login": "kriegfrj"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrgoCPgFqTQzMDU5OTA4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxUfpDAFqTQ0MjQ1NTMyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTk5MDg5", "url": "https://github.com/bndtools/bnd/pull/4163#pullrequestreview-430599089", "createdAt": "2020-06-15T12:34:17Z", "commit": {"oid": "d9c59f77e94c0303d9a1c19669696ec665cc1887"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMjozNDoxN1rOGjwMgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMzoyNDozNVrOGjx_qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDE0Mjk3Nw==", "bodyText": "aQute.libg should always be version=project since we conditional package from this project and don't use the jar.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r440142977", "createdAt": "2020-06-15T12:34:17Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/bnd.bnd", "diffHunk": "@@ -0,0 +1,70 @@\n+# Set javac settings from JDT prefs\n+-include: ${workspace}/cnf/includes/jdt.bnd, ${workspace}/cnf/includes/bndtools.bnd\n+-sub: *.bnd,bnd/*.bnd\n+\n+# These are bundles that are not required for building but for debugging when doing\n+# code inspection.\n+-buildpath.debug: \\\n+\torg.eclipse.osgi,\\\n+\torg.eclipse.core.resources,\\\n+\torg.eclipse.e4.ui.workbench.swt,\\\n+\torg.eclipse.search\n+\n+-conditionalpackage: \\\n+\taQute.lib.*;-split-package:=merge-first, \\\n+\taQute.libg.*;-split-package:=merge-first\n+\n+-buildpath: \\\n+\taQute.libg;version=snapshot,\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c59f77e94c0303d9a1c19669696ec665cc1887"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDE0NTI0OA==", "bodyText": "Do we really want version numbers for the Eclipse deps? This will make it awkward to update the Eclipse base version one day. As in bndtools.core/bnd.bnd, the Eclipse deps should be versionless (or version=latest).", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r440145248", "createdAt": "2020-06-15T12:38:40Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/bnd.bnd", "diffHunk": "@@ -0,0 +1,70 @@\n+# Set javac settings from JDT prefs\n+-include: ${workspace}/cnf/includes/jdt.bnd, ${workspace}/cnf/includes/bndtools.bnd\n+-sub: *.bnd,bnd/*.bnd\n+\n+# These are bundles that are not required for building but for debugging when doing\n+# code inspection.\n+-buildpath.debug: \\\n+\torg.eclipse.osgi,\\\n+\torg.eclipse.core.resources,\\\n+\torg.eclipse.e4.ui.workbench.swt,\\\n+\torg.eclipse.search\n+\n+-conditionalpackage: \\\n+\taQute.lib.*;-split-package:=merge-first, \\\n+\taQute.libg.*;-split-package:=merge-first\n+\n+-buildpath: \\\n+\taQute.libg;version=snapshot,\\\n+\tbndtools.core;version=snapshot,\\\n+\tbndtools.builder;version=snapshot,\\\n+\torg.junit.platform.commons;version=latest,\\\n+\torg.junit.platform.engine;version=latest,\\\n+\tassertj-core;version=latest,\\\n+\torg.opentest4j;version=latest,\\\n+\torg.apiguardian:apiguardian-api;version=latest,\\\n+\torg.junit.jupiter.api;version=latest,\\\n+\torg.junit.jupiter.engine;version=latest,\\\n+\torg.junit.jupiter.params;version=latest,\\\n+\torg.eclipse.jdt.core;version=3.16.0,\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c59f77e94c0303d9a1c19669696ec665cc1887"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDE3MjQ1Nw==", "bodyText": "Can we not fold this into \"OSGi Snapshots\"? After all the osgi-test artifacts are from OSGi.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r440172457", "createdAt": "2020-06-15T13:24:35Z", "author": {"login": "bjhargrave"}, "path": "cnf/ext/repositories.bnd", "diffHunk": "@@ -7,6 +7,11 @@ mavencentral:           https://repo.maven.apache.org/maven2\n         releaseUrl=\"${mavencentral}\";\\\n         index=\"${.}/central.mvn\";\\\n         readOnly=true,\\\n+    aQute.bnd.repository.maven.provider.MavenBndRepository;\\\n+        name=\"Sonatype\";\\\n+        snapshotUrl=\"https://oss.sonatype.org/content/repositories/snapshots/\";\\\n+        index=\"${.}/sonatype.mvn\";\\\n+        readOnly=true,\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9c59f77e94c0303d9a1c19669696ec665cc1887"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9c59f77e94c0303d9a1c19669696ec665cc1887", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/d9c59f77e94c0303d9a1c19669696ec665cc1887", "committedDate": "2020-06-15T07:44:05Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests don't quite work properly in the new implementation;\nI have left these in there, but annotated @Disabled so that they don't\ninterfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "f46c73fcd5e4207bad4f7358e5486d781722ce5b", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/f46c73fcd5e4207bad4f7358e5486d781722ce5b", "committedDate": "2020-06-16T03:04:41Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests don't quite work properly in the new implementation;\nI have left these in there, but annotated @Disabled so that they don't\ninterfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f46c73fcd5e4207bad4f7358e5486d781722ce5b", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/f46c73fcd5e4207bad4f7358e5486d781722ce5b", "committedDate": "2020-06-16T03:04:41Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests don't quite work properly in the new implementation;\nI have left these in there, but annotated @Disabled so that they don't\ninterfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "a8d17bbf538fefe8d8b885c993a3331a38b93982", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/a8d17bbf538fefe8d8b885c993a3331a38b93982", "committedDate": "2020-06-23T00:49:34Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8d17bbf538fefe8d8b885c993a3331a38b93982", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/a8d17bbf538fefe8d8b885c993a3331a38b93982", "committedDate": "2020-06-23T00:49:34Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "279f70b445374d5a5a1d404cff7ba5bcdb818613", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/279f70b445374d5a5a1d404cff7ba5bcdb818613", "committedDate": "2020-06-23T01:04:25Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "279f70b445374d5a5a1d404cff7ba5bcdb818613", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/279f70b445374d5a5a1d404cff7ba5bcdb818613", "committedDate": "2020-06-23T01:04:25Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "77a32c0c7bf57f22f1ae244ad1d81444428673b3", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/77a32c0c7bf57f22f1ae244ad1d81444428673b3", "committedDate": "2020-06-23T01:10:43Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77a32c0c7bf57f22f1ae244ad1d81444428673b3", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/77a32c0c7bf57f22f1ae244ad1d81444428673b3", "committedDate": "2020-06-23T01:10:43Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "9500c2e4ec0593465b304782e0170adca148c4b9", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/9500c2e4ec0593465b304782e0170adca148c4b9", "committedDate": "2020-06-23T01:18:17Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9500c2e4ec0593465b304782e0170adca148c4b9", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/9500c2e4ec0593465b304782e0170adca148c4b9", "committedDate": "2020-06-23T01:18:17Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "5c864f8e53d0f6a75291b55f47513cef0fdb8709", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/5c864f8e53d0f6a75291b55f47513cef0fdb8709", "committedDate": "2020-06-24T08:19:20Z", "message": "[bndtools test] Moved workbench sync code from WorkbenchExtension to Activator\n\nMade the tests bundle lazy. This ensures that it is not started during startup,\nbut by the tester thread when it first tries to load the test class. The start()\nmethod will then block until the workbench is ready.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c864f8e53d0f6a75291b55f47513cef0fdb8709", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/5c864f8e53d0f6a75291b55f47513cef0fdb8709", "committedDate": "2020-06-24T08:19:20Z", "message": "[bndtools test] Moved workbench sync code from WorkbenchExtension to Activator\n\nMade the tests bundle lazy. This ensures that it is not started during startup,\nbut by the tester thread when it first tries to load the test class. The start()\nmethod will then block until the workbench is ready.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "423e12396df9fdd6499e6a49d4b622bd68fcc867", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/423e12396df9fdd6499e6a49d4b622bd68fcc867", "committedDate": "2020-06-24T08:24:03Z", "message": "[bndtools test] Moved workbench sync code from WorkbenchExtension to Activator\n\nMade the tests bundle lazy. This ensures that it is not started during startup,\nbut by the tester thread when it first tries to load the test class. The start()\nmethod will then block until the workbench is ready.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "423e12396df9fdd6499e6a49d4b622bd68fcc867", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/423e12396df9fdd6499e6a49d4b622bd68fcc867", "committedDate": "2020-06-24T08:24:03Z", "message": "[bndtools test] Moved workbench sync code from WorkbenchExtension to Activator\n\nMade the tests bundle lazy. This ensures that it is not started during startup,\nbut by the tester thread when it first tries to load the test class. The start()\nmethod will then block until the workbench is ready.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "bf3fdabecc966f9f7b8192a30242b31ac9f4a955", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/bf3fdabecc966f9f7b8192a30242b31ac9f4a955", "committedDate": "2020-06-25T01:01:11Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMTU2Mzky", "url": "https://github.com/bndtools/bnd/pull/4163#pullrequestreview-441156392", "createdAt": "2020-07-01T19:55:36Z", "commit": {"oid": "bf3fdabecc966f9f7b8192a30242b31ac9f4a955"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxOTo1NTozN1rOGrzazQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxOTo1NTozN1rOGrzazQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU4NDM5Nw==", "bodyText": "I am not keen on using this action and these changes to the workflow. See #4208 for my suggested alternate.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r448584397", "createdAt": "2020-07-01T19:55:37Z", "author": {"login": "bjhargrave"}, "path": ".github/workflows/cibuild.yml", "diffHunk": "@@ -53,9 +50,31 @@ jobs:\n       with:\n         java-version: ${{ matrix.java }}\n     - name: Build\n-      run: |\n-        ./.github/scripts/${{ matrix.script }}\n+       # Can't upgrade this until https://github.com/GabrielBB/xvfb-action/issues/10 is fixed\n+      uses: GabrielBB/xvfb-action@v1.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf3fdabecc966f9f7b8192a30242b31ac9f4a955"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bf3fdabecc966f9f7b8192a30242b31ac9f4a955", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/bf3fdabecc966f9f7b8192a30242b31ac9f4a955", "committedDate": "2020-06-25T01:01:11Z", "message": "[github actions] Change to use xvfb for Ubuntu builds\n\nAllows testing of components that have GUIs.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "600155e9cdd0d7e0222941d6dba762fd84ffac72", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/600155e9cdd0d7e0222941d6dba762fd84ffac72", "committedDate": "2020-07-01T23:59:21Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "600155e9cdd0d7e0222941d6dba762fd84ffac72", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/600155e9cdd0d7e0222941d6dba762fd84ffac72", "committedDate": "2020-07-01T23:59:21Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14", "committedDate": "2020-07-02T03:48:57Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODM5NTg0", "url": "https://github.com/bndtools/bnd/pull/4163#pullrequestreview-441839584", "createdAt": "2020-07-02T16:13:56Z", "commit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjoxMzo1N1rOGsUglA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjoyMjoyNVrOGsU0uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyNjU0OA==", "bodyText": "We should not be checking in the .metadata/ folder!?", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449126548", "createdAt": "2020-07-02T16:13:57Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.jdt.ui.prefs", "diffHunk": "@@ -0,0 +1,9 @@\n+content_assist_proposals_background=255,255,255", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyNzYzMA==", "bodyText": "There is already a testOSGi task defined by the Bnd Gradle plugin. Why are you not just configuring that task? And also you need to use the configuration avoidance style of writing gradle task for this build.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449127630", "createdAt": "2020-07-02T16:15:37Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/build.gradle", "diffHunk": "@@ -0,0 +1,37 @@\n+import aQute.bnd.gradle.TestOSGi\n+import org.apache.tools.ant.taskdefs.condition.Os\n+\n+task testosgi(type: TestOSGi) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyODEyNg==", "bodyText": "Is this the gradle way to do this?", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449128126", "createdAt": "2020-07-02T16:16:23Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/build.gradle", "diffHunk": "@@ -0,0 +1,37 @@\n+import aQute.bnd.gradle.TestOSGi\n+import org.apache.tools.ant.taskdefs.condition.Os\n+\n+task testosgi(type: TestOSGi) {\n+\t[\n+\t\t'biz.aQute.bndlib',\n+\t\t'biz.aQute.repository',\n+\t\t'biz.aQute.resolve',\n+\t\t'biz.aQute.tester.junit-platform',\n+\t\t'bndtools.api',\n+\t\t'bndtools.builder',\n+\t\t'bndtools.core',\n+\t\t'biz.aQute.tester.junit-platform',\n+\t\t'org.bndtools.headless.build.manager',\n+\t\t'org.bndtools.headless.build.plugin.ant',\n+\t\t'org.bndtools.headless.build.plugin.gradle',\n+\t\t'org.bndtools.templates.template',\n+\t\t'org.bndtools.templating.gitrepo',\n+\t\t'org.bndtools.templating',\n+\t\t'org.bndtools.versioncontrol.ignores.manager',\n+\t\t'org.bndtools.versioncontrol.ignores.plugin.git'\n+\t].each { dependsOn \":$it:jar\" }\n+   description \"Bndtools Core Integration tests\"\n+   group 'test'\n+   inputs.files jar\n+   if (Os.isFamily(Os.FAMILY_WINDOWS)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyODM3NA==", "bodyText": "The check task already depends on the testOSGi task mentioned above.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449128374", "createdAt": "2020-07-02T16:16:49Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/build.gradle", "diffHunk": "@@ -0,0 +1,37 @@\n+import aQute.bnd.gradle.TestOSGi\n+import org.apache.tools.ant.taskdefs.condition.Os\n+\n+task testosgi(type: TestOSGi) {\n+\t[\n+\t\t'biz.aQute.bndlib',\n+\t\t'biz.aQute.repository',\n+\t\t'biz.aQute.resolve',\n+\t\t'biz.aQute.tester.junit-platform',\n+\t\t'bndtools.api',\n+\t\t'bndtools.builder',\n+\t\t'bndtools.core',\n+\t\t'biz.aQute.tester.junit-platform',\n+\t\t'org.bndtools.headless.build.manager',\n+\t\t'org.bndtools.headless.build.plugin.ant',\n+\t\t'org.bndtools.headless.build.plugin.gradle',\n+\t\t'org.bndtools.templates.template',\n+\t\t'org.bndtools.templating.gitrepo',\n+\t\t'org.bndtools.templating',\n+\t\t'org.bndtools.versioncontrol.ignores.manager',\n+\t\t'org.bndtools.versioncontrol.ignores.plugin.git'\n+\t].each { dependsOn \":$it:jar\" }\n+   description \"Bndtools Core Integration tests\"\n+   group 'test'\n+   inputs.files jar\n+   if (Os.isFamily(Os.FAMILY_WINDOWS)) {\n+      bndrun 'test.win32.x86_64.bndrun'\n+   } else if (Os.isFamily(Os.FAMILY_UNIX)) {\n+      bndrun 'test.gtk.linux.x86_64.bndrun'\n+   } else if (Os.isFamily(Os.FAMILY_MAC)) {\n+      bndrun 'test.cocoa.macosx.x86_64.bndrun'\n+   }\n+}\n+\n+check {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyOTU2Mw==", "bodyText": "Since this is a test project and should not be released, you need to make sure it is not released.\n-buildrepo:\n-releaserepo:", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449129563", "createdAt": "2020-07-02T16:18:53Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/bnd.bnd", "diffHunk": "@@ -0,0 +1,52 @@\n+# Set javac settings from JDT prefs\n+-include: ${workspace}/cnf/includes/jdt.bnd, ${workspace}/cnf/includes/bndtools.bnd\n+-sub: *.bnd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEzMDk1OA==", "bodyText": "This whole repo is dual licensed under AL2 OR EPL2. Not sure why you have this license header here.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449130958", "createdAt": "2020-07-02T16:21:14Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/src/bndtools/core/test/launch/NullContextPresentationEngine.java", "diffHunk": "@@ -0,0 +1,154 @@\n+/*******************************************************************************\n+ * Copyright (c) 2009, 2015 IBM Corporation and others.\n+ *\n+ * This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License 2.0\n+ * which accompanies this distribution, and is available at\n+ * https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEzMTU4Nw==", "bodyText": "simple.bnd already has these packages as exported, so we can remove the duplicate Export annotation here.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449131587", "createdAt": "2020-07-02T16:22:15Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/src/simple/package-info.java", "diffHunk": "@@ -0,0 +1,3 @@\n+@org.osgi.annotation.bundle.Export", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEzMTcwNA==", "bodyText": "simple.bnd already has these packages as exported, so we can remove the duplicate Export annotation here.", "url": "https://github.com/bndtools/bnd/pull/4163#discussion_r449131704", "createdAt": "2020-07-02T16:22:25Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core.test/src/simple/pkg/package-info.java", "diffHunk": "@@ -0,0 +1,3 @@\n+@org.osgi.annotation.bundle.Export", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/2aafa21fa7f7d50df4c8fd30bcdaecc5bedbdb14", "committedDate": "2020-07-02T03:48:57Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "2bf5025bb82538e85d4261547d5bf7716eb66e03", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/2bf5025bb82538e85d4261547d5bf7716eb66e03", "committedDate": "2020-07-03T02:13:11Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f30525b48c5c4265bd44c76c3202b2e185faab", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/e4f30525b48c5c4265bd44c76c3202b2e185faab", "committedDate": "2020-07-03T03:15:12Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2bf5025bb82538e85d4261547d5bf7716eb66e03", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/2bf5025bb82538e85d4261547d5bf7716eb66e03", "committedDate": "2020-07-03T02:13:11Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "e4f30525b48c5c4265bd44c76c3202b2e185faab", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/e4f30525b48c5c4265bd44c76c3202b2e185faab", "committedDate": "2020-07-03T03:15:12Z", "message": "[quickfix] Integration tests for BuildpathQuickFixProcessor\n\nPorted from the old ImportPackageQuickFixProcessorTest.\n\nA number of these tests test old features that don't quite work properly in\nthe new implementation or potential features that have not yet been\nimplemented (eg, inner classes). I have left these in there, but annotated\n@Disabled so that they don't interfere with the CI output.\n\nFixes #3881.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDU1MzIz", "url": "https://github.com/bndtools/bnd/pull/4163#pullrequestreview-442455323", "createdAt": "2020-07-03T14:41:02Z", "commit": {"oid": "e4f30525b48c5c4265bd44c76c3202b2e185faab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3163, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}