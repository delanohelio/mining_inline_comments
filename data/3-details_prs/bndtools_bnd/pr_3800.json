{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MjE4MjIz", "number": 3800, "title": "fixed support for current java Versions in templates", "bodyText": "Fixes #3798 by replacing the bndtools specic JavaLevel Enum with the\nusage of the EE enum\nSigned-off-by: Juergen Albert j.albert@data-in-motion.biz", "createdAt": "2020-02-21T10:44:00Z", "url": "https://github.com/bndtools/bnd/pull/3800", "merged": true, "mergeCommit": {"oid": "11a215c63b904b72c833786a3a079ef5cf2c9fa7"}, "closed": true, "closedAt": "2020-03-02T18:30:27Z", "author": {"login": "juergen-albert"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGfQZuABqjMwNjAzODc2OTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHZ36ZgBqjMwNjQ1NTk3MDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3001ff4e7fe49bd33b5c36c6c8eddf7355ba322d", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/3001ff4e7fe49bd33b5c36c6c8eddf7355ba322d", "committedDate": "2020-02-21T10:42:47Z", "message": "fixed support for current java Versions ins templates\n\nFixes #3798 by replacing the bndtools specic JavaLevel Enum with the\nusage of the EE enum\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "2f2657f7dd67878758f4ff653e17223bad11567a", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/2f2657f7dd67878758f4ff653e17223bad11567a", "committedDate": "2020-02-21T12:53:20Z", "message": "fixed support for current java Versions is templates\n\nFixes #3798 by replacing the bndtools specic JavaLevel Enum with the\nusage of the EE enum\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDU3NTYz", "url": "https://github.com/bndtools/bnd/pull/3800#pullrequestreview-363057563", "createdAt": "2020-02-23T00:03:08Z", "commit": {"oid": "2f2657f7dd67878758f4ff653e17223bad11567a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMDowMzowOFrOFtNfHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMDowMzowOFrOFtNfHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1MTE5OA==", "bodyText": "There is a slight behavioral difference here. JavaLevel.fromLabel would throw an IllegalArgumentException if the jre name was unknown. EE.parse will return null which will lead to an NPE when getVersionLabel() is called. So I think you need to check for null from EE.parse and throw an IllegalArgumentException then to preserve the semantics of this method.\nEE ee = EE.parse(jreName);\nif (ee == null) {\n  throw new IllegalArgumentException(\"Unrecognized Java compliance level: \" + jreName);\n}\nreturn ee.getVersionLabel();", "url": "https://github.com/bndtools/bnd/pull/3800#discussion_r382951198", "createdAt": "2020-02-23T00:03:08Z", "author": {"login": "bjhargrave"}, "path": "bndtools.utils/src/org/bndtools/utils/javaproject/JavaProjectUtils.java", "diffHunk": "@@ -106,8 +77,8 @@ public static String getJavaLevel(IJavaProject project) throws Exception {\n \t\t\t\t\tcontinue;\n \t\t\t\tif (PATH_JRE_CONTAINER.equals(path.segment(0)) && PATH_JRE_STANDARD_VM.equals(path.segment(1))) {\n \t\t\t\t\tString jreName = path.segment(2);\n-\t\t\t\t\treturn JavaLevel.fromLabel(jreName)\n-\t\t\t\t\t\t.getLevel();\n+\t\t\t\t\treturn EE.parse(jreName)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f2657f7dd67878758f4ff653e17223bad11567a"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30a1c894feb79cb874adb4fe54f57c10fc6312fc", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/30a1c894feb79cb874adb4fe54f57c10fc6312fc", "committedDate": "2020-02-24T09:11:21Z", "message": "fixed support for current java Versions in templates\n\nFixes #3798 by replacing the bndtools specific JavaLevel Enum with the\nusage of the EE Enum\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f2657f7dd67878758f4ff653e17223bad11567a", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/2f2657f7dd67878758f4ff653e17223bad11567a", "committedDate": "2020-02-21T12:53:20Z", "message": "fixed support for current java Versions is templates\n\nFixes #3798 by replacing the bndtools specic JavaLevel Enum with the\nusage of the EE enum\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "30a1c894feb79cb874adb4fe54f57c10fc6312fc", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/30a1c894feb79cb874adb4fe54f57c10fc6312fc", "committedDate": "2020-02-24T09:11:21Z", "message": "fixed support for current java Versions in templates\n\nFixes #3798 by replacing the bndtools specific JavaLevel Enum with the\nusage of the EE Enum\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3076, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}