{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Mzc2NDIz", "number": 3967, "title": "[junit-platform] Handle singleton unresolveds", "bodyText": "Fixes #3966.", "createdAt": "2020-04-24T07:21:26Z", "url": "https://github.com/bndtools/bnd/pull/3967", "merged": true, "mergeCommit": {"oid": "e5dd0ff9d65c7a28872ca190f0d56ae6b5b5fd7e"}, "closed": true, "closedAt": "2020-04-24T14:00:13Z", "author": {"login": "kriegfrj"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcas24igBqjMyNjgyOTgwNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcax9BlgFqTM5OTk3MjQxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e7e512855e09e1b0e9f9826ad37bac00754f52e", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/9e7e512855e09e1b0e9f9826ad37bac00754f52e", "committedDate": "2020-04-24T07:20:20Z", "message": "[junit-platform] Handle singleton unresolveds\n\nFixes #3966\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "21cbcea86e75c6ddf2f9f26169995c3e16ed2382", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/21cbcea86e75c6ddf2f9f26169995c3e16ed2382", "committedDate": "2020-04-24T08:03:33Z", "message": "[junit-platform] Handle singleton unresolveds\n\nFixes #3966\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65cb4e3b1bae42b34fecb3a0705b0d9f4480b13d", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/65cb4e3b1bae42b34fecb3a0705b0d9f4480b13d", "committedDate": "2020-04-24T08:27:52Z", "message": "[junit-platform] Handle singleton unresolveds\n\nFixes #3966\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "21cbcea86e75c6ddf2f9f26169995c3e16ed2382", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/21cbcea86e75c6ddf2f9f26169995c3e16ed2382", "committedDate": "2020-04-24T08:03:33Z", "message": "[junit-platform] Handle singleton unresolveds\n\nFixes #3966\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "65cb4e3b1bae42b34fecb3a0705b0d9f4480b13d", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/65cb4e3b1bae42b34fecb3a0705b0d9f4480b13d", "committedDate": "2020-04-24T08:27:52Z", "message": "[junit-platform] Handle singleton unresolveds\n\nFixes #3966\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "741abc287aebdb0bec906de56c5e5afda14e6527", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/741abc287aebdb0bec906de56c5e5afda14e6527", "committedDate": "2020-04-24T09:15:52Z", "message": "[junit-platform] Fully resolve test classes before handing off\n\nPartially fixes #3882."}, "afterCommit": {"oid": "95d5cc5895153b950e4257bf0551af97cde7529e", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/95d5cc5895153b950e4257bf0551af97cde7529e", "committedDate": "2020-04-24T09:17:20Z", "message": "[junit-platform] Fully resolve test classes before handing off\n\nPartially fixes #3882.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODYwMjEw", "url": "https://github.com/bndtools/bnd/pull/3967#pullrequestreview-399860210", "createdAt": "2020-04-24T11:22:49Z", "commit": {"oid": "95d5cc5895153b950e4257bf0551af97cde7529e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMToyMjo0OVrOGLTDQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMToyMjo0OVrOGLTDQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDQ5OTY0OA==", "bodyText": "Putting NoClassDefFoundError here can hide our own stupidity in other parts of this code :-( Perhaps we should narrow the window for catching NoClassDefFoundError to only the calls to testClass.getDeclaredMethods() and\ttestClass.getDeclaredFields() since I think that is the only source for which we need to worry about it?", "url": "https://github.com/bndtools/bnd/pull/3967#discussion_r414499648", "createdAt": "2020-04-24T11:22:49Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.tester.junit-platform/src/aQute/tester/bundle/engine/discovery/BundleSelectorResolver.java", "diffHunk": "@@ -389,7 +395,8 @@ private void markClassesResolved(Bundle bundle) {\n \t\t\t\t\t\t}\n \t\t\t\t\t\treturn selectMethod(testClass, DiscoverySelectors.selectMethod(testcase));\n \t\t\t\t\t}\n-\t\t\t\t} catch (ClassNotFoundException cnfe) {\n+\t\t\t\t} catch (ClassNotFoundException | NoClassDefFoundError cnfe) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95d5cc5895153b950e4257bf0551af97cde7529e"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5693958978d52d83cf847a649af841cede89cc00", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/5693958978d52d83cf847a649af841cede89cc00", "committedDate": "2020-04-24T13:07:44Z", "message": "[junit-platform] Fully resolve test classes before handing off\n\nPartially fixes #3882.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95d5cc5895153b950e4257bf0551af97cde7529e", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/95d5cc5895153b950e4257bf0551af97cde7529e", "committedDate": "2020-04-24T09:17:20Z", "message": "[junit-platform] Fully resolve test classes before handing off\n\nPartially fixes #3882.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}, "afterCommit": {"oid": "5693958978d52d83cf847a649af841cede89cc00", "author": {"user": {"login": "kriegfrj", "name": "Fr Jeremy Krieg"}}, "url": "https://github.com/bndtools/bnd/commit/5693958978d52d83cf847a649af841cede89cc00", "committedDate": "2020-04-24T13:07:44Z", "message": "[junit-platform] Fully resolve test classes before handing off\n\nPartially fixes #3882.\n\nSigned-off-by: Fr Jeremy Krieg <fr.jkrieg@greekwelfaresa.org.au>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5OTcyNDE3", "url": "https://github.com/bndtools/bnd/pull/3967#pullrequestreview-399972417", "createdAt": "2020-04-24T14:00:07Z", "commit": {"oid": "5693958978d52d83cf847a649af841cede89cc00"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3045, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}