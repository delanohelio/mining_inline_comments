{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNjU1MTM0", "number": 4155, "title": "Implements cancel for resolve job #4154", "bodyText": "Adds the ability to keep the resolve log after it is canceled\n\nSigned-off-by: Juergen Albert j.albert@data-in-motion.biz", "createdAt": "2020-06-10T19:29:00Z", "url": "https://github.com/bndtools/bnd/pull/4155", "merged": true, "mergeCommit": {"oid": "59365ec3ddcae921233a75665e8b4597821dbfe6"}, "closed": true, "closedAt": "2020-06-19T12:38:58Z", "author": {"login": "juergen-albert"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqosVqAFqTQzMDAwOTQ2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsyVxXgFqTQzNDA0MjY4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMDA5NDYz", "url": "https://github.com/bndtools/bnd/pull/4155#pullrequestreview-430009463", "createdAt": "2020-06-12T20:09:27Z", "commit": {"oid": "d3367fea2df604f6e07517b6ef3474f79537b7d9"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMDowOTo0OVrOGjQUog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMDoxMjowOFrOGjQYMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYyMDc3MA==", "bodyText": "private final", "url": "https://github.com/bndtools/bnd/pull/4155#discussion_r439620770", "createdAt": "2020-06-12T20:09:49Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core/src/org/bndtools/core/resolve/CancelOperationCallback.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.bndtools.core.resolve;\n+\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.osgi.resource.Capability;\n+import org.osgi.resource.Requirement;\n+\n+import biz.aQute.resolve.ResolutionCallback;\n+\n+public class CancelOperationCallback implements ResolutionCallback {\n+\n+\tprivate IProgressMonitor monitor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3367fea2df604f6e07517b6ef3474f79537b7d9"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYyMTU0Mw==", "bodyText": "I think the last argument need to be null. Otherwise the ResolverLogger is not closed.", "url": "https://github.com/bndtools/bnd/pull/4155#discussion_r439621543", "createdAt": "2020-06-12T20:11:44Z", "author": {"login": "bjhargrave"}, "path": "biz.aQute.resolve/src/biz/aQute/resolve/RunResolution.java", "diffHunk": "@@ -73,10 +73,28 @@\n \t */\n \tpublic static RunResolution resolve(Project project, Processor actualProperties,\n \t\tCollection<ResolutionCallback> callbacks) {\n+\t\treturn resolve(project, actualProperties, callbacks, new ResolverLogger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3367fea2df604f6e07517b6ef3474f79537b7d9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYyMTY4Mw==", "bodyText": "Who closes this ResolverLogger? I have the feeling there are several code paths where it is quite unclear who, if anyone, closes the ResolverLoggers.", "url": "https://github.com/bndtools/bnd/pull/4155#discussion_r439621683", "createdAt": "2020-06-12T20:12:08Z", "author": {"login": "bjhargrave"}, "path": "bndtools.core/src/bndtools/editor/BndEditor.java", "diffHunk": "@@ -328,8 +329,9 @@ public IStatus runInUIThread(IProgressMonitor monitor) {\n \t\t\t\t\tsourcePage.commit(false);\n \t\t\t\t}\n \n+\t\t\t\tResolverLogger logger = new ResolverLogger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3367fea2df604f6e07517b6ef3474f79537b7d9"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37c6a5b50a55db572f7fbcb5ba376f38bd1950ca", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/37c6a5b50a55db572f7fbcb5ba376f38bd1950ca", "committedDate": "2020-06-18T14:51:25Z", "message": "Implements cancel for resolve job #4154\n\n- Adds the ability to keep the resolve log after it is canceled\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3367fea2df604f6e07517b6ef3474f79537b7d9", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/d3367fea2df604f6e07517b6ef3474f79537b7d9", "committedDate": "2020-06-10T19:28:00Z", "message": "Implements cancel for resolve job #4154\n\n- Adds the ability to keep the resolve log after it is canceled\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}, "afterCommit": {"oid": "37c6a5b50a55db572f7fbcb5ba376f38bd1950ca", "author": {"user": {"login": "juergen-albert", "name": "J\u00fcrgen Albert"}}, "url": "https://github.com/bndtools/bnd/commit/37c6a5b50a55db572f7fbcb5ba376f38bd1950ca", "committedDate": "2020-06-18T14:51:25Z", "message": "Implements cancel for resolve job #4154\n\n- Adds the ability to keep the resolve log after it is canceled\n\nSigned-off-by: Juergen Albert <j.albert@data-in-motion.biz>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDQyNjgx", "url": "https://github.com/bndtools/bnd/pull/4155#pullrequestreview-434042681", "createdAt": "2020-06-19T12:37:47Z", "commit": {"oid": "37c6a5b50a55db572f7fbcb5ba376f38bd1950ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3160, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}