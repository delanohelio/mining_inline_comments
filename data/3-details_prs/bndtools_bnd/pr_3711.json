{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMTYxMzYw", "number": 3711, "title": "[jareditor] JarEditor Temp project support", "bodyText": "", "createdAt": "2020-01-13T14:57:42Z", "url": "https://github.com/bndtools/bnd/pull/3711", "merged": true, "mergeCommit": {"oid": "b98807edbb87506fe0014216095d07ac1f235756"}, "closed": true, "closedAt": "2020-01-14T11:34:26Z", "author": {"login": "gamerson"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5-GnQgFqTM0MTkxNjcwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5_y65gFqTM0MjAxMTQxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTE2NzA1", "url": "https://github.com/bndtools/bnd/pull/3711#pullrequestreview-341916705", "createdAt": "2020-01-13T15:16:53Z", "commit": {"oid": "1afe6e188c4198bfa9a71cc8af154644983eccd8"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNToxNjo1M1rOFc6P6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNToyOToyOVrOFc6rcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1ODc5Mw==", "bodyText": "Why do you need the non-null filter? The Class.isInstance will already filter out null values.", "url": "https://github.com/bndtools/bnd/pull/3711#discussion_r365858793", "createdAt": "2020-01-13T15:16:53Z", "author": {"login": "bjhargrave"}, "path": "bndtools.jareditor/src/bndtools/jareditor/internal/TemporaryProjectFilter.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package bndtools.jareditor.internal;\n+\n+import java.util.Objects;\n+import java.util.Optional;\n+\n+import org.eclipse.core.resources.IProject;\n+import org.eclipse.jdt.core.IJavaProject;\n+import org.eclipse.jface.viewers.Viewer;\n+import org.eclipse.jface.viewers.ViewerFilter;\n+\n+public class TemporaryProjectFilter extends ViewerFilter {\n+\n+\t@Override\n+\tpublic boolean select(Viewer viewer, Object parentElement, Object element) {\n+\t\tif (element instanceof IJavaProject) {\n+\t\t\telement = ((IJavaProject) element).getProject();\n+\t\t}\n+\n+\t\treturn !Optional.ofNullable(element)\n+\t\t\t.filter(IProject.class::isInstance)\n+\t\t\t.map(IProject.class::cast)\n+\t\t\t.filter(Objects::nonNull)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1afe6e188c4198bfa9a71cc8af154644983eccd8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg1OTY2Mg==", "bodyText": "Perhaps Bndtools should be in the name so people can associate seeing this with Bndtools?", "url": "https://github.com/bndtools/bnd/pull/3711#discussion_r365859662", "createdAt": "2020-01-13T15:18:23Z", "author": {"login": "bjhargrave"}, "path": "bndtools.jareditor/src/bndtools/jareditor/internal/TemporaryProject.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package bndtools.jareditor.internal;\n+\n+import org.eclipse.core.resources.IContainer;\n+import org.eclipse.core.resources.IFolder;\n+import org.eclipse.core.resources.IProject;\n+import org.eclipse.core.resources.IProjectDescription;\n+import org.eclipse.core.resources.IWorkspace;\n+import org.eclipse.core.resources.IWorkspaceRoot;\n+import org.eclipse.core.resources.ResourcesPlugin;\n+import org.eclipse.core.runtime.CoreException;\n+import org.eclipse.core.runtime.IPath;\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.core.runtime.NullProgressMonitor;\n+import org.eclipse.core.runtime.SubMonitor;\n+import org.eclipse.jdt.core.IClasspathEntry;\n+import org.eclipse.jdt.core.IJavaProject;\n+import org.eclipse.jdt.core.JavaCore;\n+import org.eclipse.jdt.core.JavaModelException;\n+import org.eclipse.jdt.launching.JavaRuntime;\n+\n+public class TemporaryProject {\n+\n+\tpublic static final String PROJECT_NAME = \"JAREditorTempFiles\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1afe6e188c4198bfa9a71cc8af154644983eccd8"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2MDcwMA==", "bodyText": "I don't see where this private method selectProject is ever called.", "url": "https://github.com/bndtools/bnd/pull/3711#discussion_r365860700", "createdAt": "2020-01-13T15:20:14Z", "author": {"login": "bjhargrave"}, "path": "bndtools.jareditor/src/bndtools/jareditor/internal/TemporaryFile.java", "diffHunk": "@@ -63,7 +64,14 @@\n \t\t}\n \t}\n \n-\tprivate static Result<IFolder, String> select() throws CoreException, IOException {\n+\tprivate static Result<IFolder, String> selectTempProject() throws CoreException, IOException {\n+\t\tIProject project = tempProject.getJavaProject()\n+\t\t\t.getProject();\n+\n+\t\treturn Result.ok(project.getFolder(\"temp\"));\n+\t}\n+\n+\tprivate static Result<IFolder, String> selectProject() throws CoreException, IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1afe6e188c4198bfa9a71cc8af154644983eccd8"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NTg0Mg==", "bodyText": "Does this hiding of the temp project also work with the new Bndtools Explorer view?", "url": "https://github.com/bndtools/bnd/pull/3711#discussion_r365865842", "createdAt": "2020-01-13T15:29:29Z", "author": {"login": "bjhargrave"}, "path": "bndtools.jareditor/resources/plugin.xml", "diffHunk": "@@ -14,4 +14,55 @@\n \t\t\t<run class=\"bndtools.jareditor.internal.JarFileSystem\" />\n \t\t</filesystem>\n \t</extension>\n+\t<extension point=\"org.eclipse.ui.navigator.navigatorContent\">\n+\t\t<commonFilter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8a211cc6acaede74fd062062d902684c5c511bd"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40b7a928d35bd38070cc0cbe6545b8069b913e14", "author": {"user": {"login": "gamerson", "name": "Gregory Amerson"}}, "url": "https://github.com/bndtools/bnd/commit/40b7a928d35bd38070cc0cbe6545b8069b913e14", "committedDate": "2020-01-13T17:08:22Z", "message": "[jareditor] Use workbench label provider to show standard icons\n\nSigned-off-by: Gregory Amerson <gregory.amerson@liferay.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ec7cc188915c845e06e02f6e29551c7f363b683", "author": {"user": {"login": "gamerson", "name": "Gregory Amerson"}}, "url": "https://github.com/bndtools/bnd/commit/1ec7cc188915c845e06e02f6e29551c7f363b683", "committedDate": "2020-01-13T17:09:12Z", "message": "[jareditor] add support project for temp files instead of using linked folders\n\nSigned-off-by: Gregory Amerson <gregory.amerson@liferay.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66df637c3af46ae06ffcdb3157602e4dea772b0b", "author": {"user": {"login": "gamerson", "name": "Gregory Amerson"}}, "url": "https://github.com/bndtools/bnd/commit/66df637c3af46ae06ffcdb3157602e4dea772b0b", "committedDate": "2020-01-13T17:10:24Z", "message": "[jareditor] add jareditor temp projects to test repos\n\nSigned-off-by: Gregory Amerson <gregory.amerson@liferay.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8a211cc6acaede74fd062062d902684c5c511bd", "author": {"user": {"login": "gamerson", "name": "Gregory Amerson"}}, "url": "https://github.com/bndtools/bnd/commit/a8a211cc6acaede74fd062062d902684c5c511bd", "committedDate": "2020-01-13T14:52:44Z", "message": "[jareditor] add generated temp files support project to test repo\n\nSigned-off-by: Gregory Amerson <gregory.amerson@liferay.com>"}, "afterCommit": {"oid": "66df637c3af46ae06ffcdb3157602e4dea772b0b", "author": {"user": {"login": "gamerson", "name": "Gregory Amerson"}}, "url": "https://github.com/bndtools/bnd/commit/66df637c3af46ae06ffcdb3157602e4dea772b0b", "committedDate": "2020-01-13T17:10:24Z", "message": "[jareditor] add jareditor temp projects to test repos\n\nSigned-off-by: Gregory Amerson <gregory.amerson@liferay.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMDExNDE0", "url": "https://github.com/bndtools/bnd/pull/3711#pullrequestreview-342011414", "createdAt": "2020-01-13T17:28:15Z", "commit": {"oid": "66df637c3af46ae06ffcdb3157602e4dea772b0b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3053, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}