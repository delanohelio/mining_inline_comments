{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMDE4MjQy", "number": 1375, "title": "Migrated the Xtend code from org.eclipse.xtext.builder project to Java ", "bodyText": "Migrated Xtend code to Java\n Ran the Maven/Gradle build locally\n Removed \"org.eclipse.xtend.lib\" dependency from the manifest file\n Removed \"xtend-gen\" folder and updated the .classpath file\n Replaced the references to .xbase. with appropriate Java equivalent wherever possible.\n\nSigned-off-by: nbhusare neerajbhusare@gmail.com", "createdAt": "2020-03-22T14:49:17Z", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375", "merged": true, "mergeCommit": {"oid": "a5c879ea9d21bfdf1e145ef8a2d8dddd07a2539f"}, "closed": true, "closedAt": "2020-03-23T06:56:06Z", "author": {"login": "nbhusare"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQK8e1gFqTM3OTAxMjk3NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQM5zWAFqTM3OTAyNjY4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MDEyOTc1", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#pullrequestreview-379012975", "createdAt": "2020-03-22T14:53:58Z", "commit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDo1Mzo1OFrOF5wLaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDo1Mzo1OFrOF5wLaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjEwMjUwNQ==", "bodyText": "@cdietrich @tivervac @szarnekow  Kindly confirm the year. The Copyright is missing in the file history. I checked other files that were introduced in the \"2.7\" release and put the year.  Please suggest if this needs to be changed.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#discussion_r396102505", "createdAt": "2020-03-22T14:53:58Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.builder/src/org/eclipse/xtext/builder/ParallelFileSystemAccess.java", "diffHunk": "@@ -0,0 +1,164 @@\n+/**\n+ * Copyright (c) 2017, 2020 itemis AG (http://www.itemis.eu) and others.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MDEzMzg2", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#pullrequestreview-379013386", "createdAt": "2020-03-22T14:58:03Z", "commit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDo1ODowM1rOF5wNJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDo1ODowM1rOF5wNJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjEwMjk0OA==", "bodyText": "@cdietrich @tivervac @szarnekow The earlier code sets a null value in the second param if the if-condition on line 82 is  not satisfied. I believe it is not needed. Please review and confirm.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#discussion_r396102948", "createdAt": "2020-03-22T14:58:03Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.builder/src/org/eclipse/xtext/builder/impl/javasupport/JdtQueuedBuildData.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/**\n+ * Copyright (c) 2013, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.builder.impl.javasupport;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.eclipse.core.resources.IProject;\n+import org.eclipse.xtext.builder.impl.IQueuedBuildDataContribution;\n+import org.eclipse.xtext.common.types.ui.notification.JavaBuilderState;\n+import org.eclipse.xtext.naming.QualifiedName;\n+import org.eclipse.xtext.resource.IEObjectDescription;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.xbase.lib.Procedures.Procedure1;\n+\n+import com.google.inject.Singleton;\n+\n+/**\n+ * @author Anton Kosyakov - Initial contribution and API\n+ */\n+@Singleton\n+public class JdtQueuedBuildData implements IQueuedBuildDataContribution {\n+\n+\tprivate Map<String, JavaBuilderState> javaBuildState;\n+\n+\tprivate Map<String, JavaBuilderState> javaBuildStateCopy;\n+\n+\tprivate Collection<UnconfirmedStructuralChangesDelta> unconfirmedDeltas;\n+\n+\tprivate Collection<UnconfirmedStructuralChangesDelta> unconfirmedDeltasCopy;\n+\n+\t@Override\n+\tpublic void reset() {\n+\t\tjavaBuildState = new HashMap<>();\n+\t\tunconfirmedDeltas = new ArrayList<>();\n+\t}\n+\n+\t@Override\n+\tpublic void reset(IProject project) {\n+\t\tjavaBuildState.remove(project.getName());\n+\t}\n+\n+\t/**\n+\t * Public for testing purpose\n+\t */\n+\tpublic Collection<UnconfirmedStructuralChangesDelta> getUnconfirmedDeltas() {\n+\t\treturn unconfirmedDeltas;\n+\t}\n+\n+\t@Override\n+\tpublic boolean queueChange(IResourceDescription.Delta delta) {\n+\t\tif (delta instanceof UnconfirmedStructuralChangesDelta) {\n+\t\t\tUnconfirmedStructuralChangesDelta ucDelta = (UnconfirmedStructuralChangesDelta) delta;\n+\t\t\tIProject project = ucDelta.getProject();\n+\t\t\tJavaBuilderState state = javaBuildState.get(project.getName());\n+\t\t\tif (state == null) {\n+\t\t\t\tstate = JavaBuilderState.getLastBuiltState(project);\n+\t\t\t\tjavaBuildState.put(project.getName(), state);\n+\t\t\t}\n+\t\t\tucDelta.setBuildNumber(state.getBuildNumber().intValue());\n+\t\t\tunconfirmedDeltas.add(ucDelta);\n+\t\t\treturn true;\n+\t\t}\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic boolean needsRebuild(IProject project, Collection<IResourceDescription.Delta> deltas) {\n+\t\tJavaBuilderState oldState = javaBuildState.get(project.getName());\n+\t\tJavaBuilderState newState = JavaBuilderState.getLastBuiltState(project);\n+\t\treturn doNeedRebuild(newState, (delta) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "originalPosition": 81}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4216ffb86f31868403d451280a03604e897820b", "author": {"user": {"login": "nbhusare", "name": "Neeraj Bhusare"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/b4216ffb86f31868403d451280a03604e897820b", "committedDate": "2020-03-22T13:49:34Z", "message": "Migrated Xtend code to Java\nRemoved the xtend-gen folder\nRemoved org.eclipse.xtend.lib dependency from the manifest file\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>"}, "afterCommit": {"oid": "e3c9d5538d3fe8c61564a100d4a777cdfdf4f746", "author": {"user": {"login": "nbhusare", "name": "Neeraj Bhusare"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/e3c9d5538d3fe8c61564a100d4a777cdfdf4f746", "committedDate": "2020-03-22T15:18:54Z", "message": "Migrated Xtend code to Java\nRemoved the xtend-gen folder\nRemoved org.eclipse.xtend.lib dependency from the manifest file\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MDE1Mzk0", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#pullrequestreview-379015394", "createdAt": "2020-03-22T15:19:12Z", "commit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNToxOToxMlrOF5wWFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNTozMToyMVrOF5wbIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjEwNTIzNg==", "bodyText": "Yeehaa! :)", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#discussion_r396105236", "createdAt": "2020-03-22T15:19:12Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.builder/.classpath", "diffHunk": "@@ -8,7 +8,6 @@\n \t\t\t<attribute name=\"ignore_optional_problems\" value=\"true\"/>\n \t\t</attributes>\n \t</classpathentry>\n-\t<classpathentry kind=\"src\" path=\"xtend-gen\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjEwNjUyOQ==", "bodyText": "The old code passes null as the callable into doNeedRebuild. Since this code here is very brittle and relies a lot on the internals of the Java builder, I'd prefer to keep it exactly as it was.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#discussion_r396106529", "createdAt": "2020-03-22T15:31:21Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.builder/src/org/eclipse/xtext/builder/impl/javasupport/JdtQueuedBuildData.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/**\n+ * Copyright (c) 2013, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.builder.impl.javasupport;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Set;\n+\n+import org.eclipse.core.resources.IProject;\n+import org.eclipse.xtext.builder.impl.IQueuedBuildDataContribution;\n+import org.eclipse.xtext.common.types.ui.notification.JavaBuilderState;\n+import org.eclipse.xtext.naming.QualifiedName;\n+import org.eclipse.xtext.resource.IEObjectDescription;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.xbase.lib.Procedures.Procedure1;\n+\n+import com.google.inject.Singleton;\n+\n+/**\n+ * @author Anton Kosyakov - Initial contribution and API\n+ */\n+@Singleton\n+public class JdtQueuedBuildData implements IQueuedBuildDataContribution {\n+\n+\tprivate Map<String, JavaBuilderState> javaBuildState;\n+\n+\tprivate Map<String, JavaBuilderState> javaBuildStateCopy;\n+\n+\tprivate Collection<UnconfirmedStructuralChangesDelta> unconfirmedDeltas;\n+\n+\tprivate Collection<UnconfirmedStructuralChangesDelta> unconfirmedDeltasCopy;\n+\n+\t@Override\n+\tpublic void reset() {\n+\t\tjavaBuildState = new HashMap<>();\n+\t\tunconfirmedDeltas = new ArrayList<>();\n+\t}\n+\n+\t@Override\n+\tpublic void reset(IProject project) {\n+\t\tjavaBuildState.remove(project.getName());\n+\t}\n+\n+\t/**\n+\t * Public for testing purpose\n+\t */\n+\tpublic Collection<UnconfirmedStructuralChangesDelta> getUnconfirmedDeltas() {\n+\t\treturn unconfirmedDeltas;\n+\t}\n+\n+\t@Override\n+\tpublic boolean queueChange(IResourceDescription.Delta delta) {\n+\t\tif (delta instanceof UnconfirmedStructuralChangesDelta) {\n+\t\t\tUnconfirmedStructuralChangesDelta ucDelta = (UnconfirmedStructuralChangesDelta) delta;\n+\t\t\tIProject project = ucDelta.getProject();\n+\t\t\tJavaBuilderState state = javaBuildState.get(project.getName());\n+\t\t\tif (state == null) {\n+\t\t\t\tstate = JavaBuilderState.getLastBuiltState(project);\n+\t\t\t\tjavaBuildState.put(project.getName(), state);\n+\t\t\t}\n+\t\t\tucDelta.setBuildNumber(state.getBuildNumber().intValue());\n+\t\t\tunconfirmedDeltas.add(ucDelta);\n+\t\t\treturn true;\n+\t\t}\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic boolean needsRebuild(IProject project, Collection<IResourceDescription.Delta> deltas) {\n+\t\tJavaBuilderState oldState = javaBuildState.get(project.getName());\n+\t\tJavaBuilderState newState = JavaBuilderState.getLastBuiltState(project);\n+\t\treturn doNeedRebuild(newState, (delta) -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjEwMjk0OA=="}, "originalCommit": {"oid": "b4216ffb86f31868403d451280a03604e897820b"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "804f3120dd092e2421872d7c03e9539c6d5cdc0b", "author": {"user": {"login": "nbhusare", "name": "Neeraj Bhusare"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/804f3120dd092e2421872d7c03e9539c6d5cdc0b", "committedDate": "2020-03-22T17:07:09Z", "message": "Migrated Xtend code to Java\nRemoved the xtend-gen folder\nRemoved org.eclipse.xtend.lib dependency from the manifest file\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e3c9d5538d3fe8c61564a100d4a777cdfdf4f746", "author": {"user": {"login": "nbhusare", "name": "Neeraj Bhusare"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/e3c9d5538d3fe8c61564a100d4a777cdfdf4f746", "committedDate": "2020-03-22T15:18:54Z", "message": "Migrated Xtend code to Java\nRemoved the xtend-gen folder\nRemoved org.eclipse.xtend.lib dependency from the manifest file\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>"}, "afterCommit": {"oid": "804f3120dd092e2421872d7c03e9539c6d5cdc0b", "author": {"user": {"login": "nbhusare", "name": "Neeraj Bhusare"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/804f3120dd092e2421872d7c03e9539c6d5cdc0b", "committedDate": "2020-03-22T17:07:09Z", "message": "Migrated Xtend code to Java\nRemoved the xtend-gen folder\nRemoved org.eclipse.xtend.lib dependency from the manifest file\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MDI2Njg0", "url": "https://github.com/eclipse/xtext-eclipse/pull/1375#pullrequestreview-379026684", "createdAt": "2020-03-22T17:10:52Z", "commit": {"oid": "804f3120dd092e2421872d7c03e9539c6d5cdc0b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4485, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}