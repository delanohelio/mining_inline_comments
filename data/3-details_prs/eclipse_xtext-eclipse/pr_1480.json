{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NTMyNDE4", "number": 1480, "title": "[bugzilla 564578] Fix wrong colors on colors preference page", "bodyText": "This fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\nThis fixes bugzilla 564578", "createdAt": "2020-06-23T12:18:27Z", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480", "merged": true, "mergeCommit": {"oid": "acd684cda4347a2fed425c0bfe5cc49e46c8b5d7"}, "closed": true, "closedAt": "2020-06-25T11:54:53Z", "author": {"login": "heeckhau"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuEe-TgFqTQzNTcyMzcyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcutOJrgFqTQzNzQxNTE0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NzIzNzIx", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#pullrequestreview-435723721", "createdAt": "2020-06-23T12:20:03Z", "commit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoyMDowM1rOGnmj3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoyMDowM1rOGnmj3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3OTQyMQ==", "bodyText": "wonder why this was here in the first place", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444179421", "createdAt": "2020-06-23T12:20:03Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,7 +104,6 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n-\t\t\tfe.setPreferenceStore(internalStore);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5", "author": {"user": {"login": "heeckhau", "name": "Hendrik Eeckhaut"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/d7246c27b010ef6cbb0205a96bbda5cb25b894f5", "committedDate": "2020-06-23T12:16:56Z", "message": "[bugzilla 564578] Fix wrong colors on colors preference page\n\nThis fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\n\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\n\nThis fixes bugzilla 564578"}, "afterCommit": {"oid": "fdc16d819ce75e104ae877516691af0388e489bf", "author": {"user": {"login": "heeckhau", "name": "Hendrik Eeckhaut"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/fdc16d819ce75e104ae877516691af0388e489bf", "committedDate": "2020-06-23T12:25:25Z", "message": "[bugzilla 564578] Fix wrong colors on colors preference page\n\nThis fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\n\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\n\nThis fixes bugzilla 564578\n\nSigned-off-by: Hendrik Eeckhaut <hendrik.eeckhaut@sigasi.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0", "author": {"user": {"login": "heeckhau", "name": "Hendrik Eeckhaut"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/fd15940d32b96240ba8ab46718b2c95742db81a0", "committedDate": "2020-06-23T13:05:18Z", "message": "[bugzilla 564578] Fix wrong colors on colors preference page\n\nThis fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\n\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\n\nThis fixes bugzilla 564578\n\nSigned-off-by: Hendrik Eeckhaut <hendrik.eeckhaut@sigasi.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdc16d819ce75e104ae877516691af0388e489bf", "author": {"user": {"login": "heeckhau", "name": "Hendrik Eeckhaut"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/fdc16d819ce75e104ae877516691af0388e489bf", "committedDate": "2020-06-23T12:25:25Z", "message": "[bugzilla 564578] Fix wrong colors on colors preference page\n\nThis fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\n\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\n\nThis fixes bugzilla 564578\n\nSigned-off-by: Hendrik Eeckhaut <hendrik.eeckhaut@sigasi.com>"}, "afterCommit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0", "author": {"user": {"login": "heeckhau", "name": "Hendrik Eeckhaut"}}, "url": "https://github.com/eclipse/xtext-eclipse/commit/fd15940d32b96240ba8ab46718b2c95742db81a0", "committedDate": "2020-06-23T13:05:18Z", "message": "[bugzilla 564578] Fix wrong colors on colors preference page\n\nThis fixes an issue on the syntax coloring preference page:\nwhen one color is changed, all other colors were shown as black\n\nThe preference store of field editors should not be replaced when\nwhen a color is changed. The preference store is already a chained\npreference store that contains the internal store.\n\nThis fixes bugzilla 564578\n\nSigned-off-by: Hendrik Eeckhaut <hendrik.eeckhaut@sigasi.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NDE1MTU0", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#pullrequestreview-436415154", "createdAt": "2020-06-24T08:04:31Z", "commit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowNDozMVrOGoHWmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowNDozMVrOGoHWmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNjY5OQ==", "bodyText": "Shouldn't this be done in a finally block? I assume store can throw either Core or IOExceptions", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444716699", "createdAt": "2020-06-24T08:04:31Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,8 +104,11 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n+\t\t\t// store changed value in internalStore\n \t\t\tfe.setPreferenceStore(internalStore);\n \t\t\tfe.store();\n+\t\t\t// reset preference store of fieldEditor to chained store, so it also works for other token styles.\n+\t\t\tfe.setPreferenceStore(getPreferenceStore());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NDE1MTQw", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#pullrequestreview-437415140", "createdAt": "2020-06-25T11:47:47Z", "commit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4552, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}