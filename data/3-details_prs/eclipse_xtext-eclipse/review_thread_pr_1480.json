{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NTMyNDE4", "number": 1480, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoyMDowM1rOEH8Vuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowNDozMVrOEIQuDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NzY0MDkxOnYy", "diffSide": "LEFT", "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoyMDowM1rOGnmj3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMzoxNzo1N1rOGnoxQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3OTQyMQ==", "bodyText": "wonder why this was here in the first place", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444179421", "createdAt": "2020-06-23T12:20:03Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,7 +104,6 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n-\t\t\tfe.setPreferenceStore(internalStore);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE4MTg4Ng==", "bodyText": "this changes seems to break the editor changing on preference change", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444181886", "createdAt": "2020-06-23T12:24:28Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,7 +104,6 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n-\t\t\tfe.setPreferenceStore(internalStore);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3OTQyMQ=="}, "originalCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE4OTYwMw==", "bodyText": "I was too quick. I'll have another look.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444189603", "createdAt": "2020-06-23T12:37:49Z", "author": {"login": "heeckhau"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,7 +104,6 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n-\t\t\tfe.setPreferenceStore(internalStore);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3OTQyMQ=="}, "originalCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDIxNTYxNg==", "bodyText": "looks better now. lets see what the build tells", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444215616", "createdAt": "2020-06-23T13:17:57Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,7 +104,6 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n-\t\t\tfe.setPreferenceStore(internalStore);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3OTQyMQ=="}, "originalCommit": {"oid": "d7246c27b010ef6cbb0205a96bbda5cb25b894f5"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MDk3OTk5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowNDozMVrOGoHWmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNTo0MjowMFrOGoYD8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNjY5OQ==", "bodyText": "Shouldn't this be done in a finally block? I assume store can throw either Core or IOExceptions", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444716699", "createdAt": "2020-06-24T08:04:31Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,8 +104,11 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n+\t\t\t// store changed value in internalStore\n \t\t\tfe.setPreferenceStore(internalStore);\n \t\t\tfe.store();\n+\t\t\t// reset preference store of fieldEditor to chained store, so it also works for other token styles.\n+\t\t\tfe.setPreferenceStore(getPreferenceStore());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk5MDQ0OA==", "bodyText": "Maybe, but this is not done for similar code in this class.\nI tried to keep the fix as small as possible", "url": "https://github.com/eclipse/xtext-eclipse/pull/1480#discussion_r444990448", "createdAt": "2020-06-24T15:42:00Z", "author": {"login": "heeckhau"}, "path": "org.eclipse.xtext.ui/src/org/eclipse/xtext/ui/editor/preferences/fields/AbstractDetailsPart.java", "diffHunk": "@@ -104,8 +104,11 @@ public final void propertyChange(PropertyChangeEvent event) {\n \t\tif (event.getSource() instanceof FieldEditor) {\n \t\t\tFieldEditor fe = (FieldEditor) event.getSource();\n \t\t\tinternalStore.setValue(fe.getPreferenceName(), fe.getPreferenceStore().getDefaultString(fe.getPreferenceName()));\n+\t\t\t// store changed value in internalStore\n \t\t\tfe.setPreferenceStore(internalStore);\n \t\t\tfe.store();\n+\t\t\t// reset preference store of fieldEditor to chained store, so it also works for other token styles.\n+\t\t\tfe.setPreferenceStore(getPreferenceStore());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNjY5OQ=="}, "originalCommit": {"oid": "fd15940d32b96240ba8ab46718b2c95742db81a0"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 873, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}