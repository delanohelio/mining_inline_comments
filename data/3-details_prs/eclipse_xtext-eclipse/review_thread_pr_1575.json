{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMTExODY1", "number": 1575, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NTowMFrOEzMk2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0Njo1MlrOEzMnpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTE4ODcyOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NTowMFrOHqRk7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NTowMFrOHqRk7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MDIyMw==", "bodyText": "This is not the declaringType but a referencedType", "url": "https://github.com/eclipse/xtext-eclipse/pull/1575#discussion_r514090223", "createdAt": "2020-10-29T08:45:00Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "diffHunk": "@@ -84,6 +86,19 @@ public void checkRestrictedType(XConstructorCall constructorCall) {\n \t\tcheckRestrictedType(constructorCall, XbasePackage.Literals.XCONSTRUCTOR_CALL__CONSTRUCTOR, declaringType);\n \t}\n \n+\t@Check\n+\tpublic void checkRestrictedType(XMemberFeatureCall featureCall) {\n+\t\tif (isRestrictionCheckIgnored())\n+\t\t\treturn;\n+\t\tif (!featureCall.isTypeLiteral())\n+\t\t\treturn;\n+\t\tJvmIdentifiableElement feature = featureCall.getFeature();\n+\t\tif (feature instanceof JvmDeclaredType) {\n+\t\t\tJvmDeclaredType declaringType = (JvmDeclaredType) feature;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f08f10b9405094d729993aebbf077435db9b4d5f"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTE5MjE2OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NTo1NFrOHqRnCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NTo1NFrOHqRnCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MDc2Mw==", "bodyText": "This likely not the feature you want to highlight. I'd pass XAbstractFeatureCall_feature instead.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1575#discussion_r514090763", "createdAt": "2020-10-29T08:45:54Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "diffHunk": "@@ -84,6 +86,19 @@ public void checkRestrictedType(XConstructorCall constructorCall) {\n \t\tcheckRestrictedType(constructorCall, XbasePackage.Literals.XCONSTRUCTOR_CALL__CONSTRUCTOR, declaringType);\n \t}\n \n+\t@Check\n+\tpublic void checkRestrictedType(XMemberFeatureCall featureCall) {\n+\t\tif (isRestrictionCheckIgnored())\n+\t\t\treturn;\n+\t\tif (!featureCall.isTypeLiteral())\n+\t\t\treturn;\n+\t\tJvmIdentifiableElement feature = featureCall.getFeature();\n+\t\tif (feature instanceof JvmDeclaredType) {\n+\t\t\tJvmDeclaredType declaringType = (JvmDeclaredType) feature;\n+\t\t\tcheckRestrictedType(featureCall, XbasePackage.Literals.XMEMBER_FEATURE_CALL__TYPE_LITERAL, declaringType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f08f10b9405094d729993aebbf077435db9b4d5f"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTE5NDE2OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NjoyNVrOHqRoWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0NjoyNVrOHqRoWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MTA5Ng==", "bodyText": "Should probably be defined for XAbstractMemberFeatureCall, otherwise we'll only have the warning on the import but not on the reference.", "url": "https://github.com/eclipse/xtext-eclipse/pull/1575#discussion_r514091096", "createdAt": "2020-10-29T08:46:25Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "diffHunk": "@@ -84,6 +86,19 @@ public void checkRestrictedType(XConstructorCall constructorCall) {\n \t\tcheckRestrictedType(constructorCall, XbasePackage.Literals.XCONSTRUCTOR_CALL__CONSTRUCTOR, declaringType);\n \t}\n \n+\t@Check\n+\tpublic void checkRestrictedType(XMemberFeatureCall featureCall) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f08f10b9405094d729993aebbf077435db9b4d5f"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTE5NTg5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0Njo1MlrOHqRpdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0Njo1MlrOHqRpdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MTM4MA==", "bodyText": "am not sure if we should treat nested types separately. java also gives 2 errors", "url": "https://github.com/eclipse/xtext-eclipse/pull/1575#discussion_r514091380", "createdAt": "2020-10-29T08:46:52Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.xbase.ui/src/org/eclipse/xtext/xbase/ui/validation/XbaseUIValidator.java", "diffHunk": "@@ -84,6 +86,19 @@ public void checkRestrictedType(XConstructorCall constructorCall) {\n \t\tcheckRestrictedType(constructorCall, XbasePackage.Literals.XCONSTRUCTOR_CALL__CONSTRUCTOR, declaringType);\n \t}\n \n+\t@Check\n+\tpublic void checkRestrictedType(XMemberFeatureCall featureCall) {\n+\t\tif (isRestrictionCheckIgnored())\n+\t\t\treturn;\n+\t\tif (!featureCall.isTypeLiteral())\n+\t\t\treturn;\n+\t\tJvmIdentifiableElement feature = featureCall.getFeature();\n+\t\tif (feature instanceof JvmDeclaredType) {\n+\t\t\tJvmDeclaredType declaringType = (JvmDeclaredType) feature;\n+\t\t\tcheckRestrictedType(featureCall, XbasePackage.Literals.XMEMBER_FEATURE_CALL__TYPE_LITERAL, declaringType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f08f10b9405094d729993aebbf077435db9b4d5f"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 783, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}