{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NjgzNTc2", "number": 3133, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOToyNzozOFrODiJBZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOToyNzozOFrODiJBZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MTI1OTkwOnYy", "diffSide": "RIGHT", "path": "app/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOToyNzozOFrOFtPreA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOTo0ODoyMVrOFtPxRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4NzEyOA==", "bodyText": "Uh, won't it add .debug and \" Debug\" to master? Because if I'm wide awake, with || workingBranch == \"master\" master is true on this if block, and has .debug suffix, and NewPipe Debug as name.\nHave you tried to apply your changes in the master branch and launch the app, to see what happens?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3133#discussion_r382987128", "createdAt": "2020-02-23T09:27:38Z", "author": {"login": "B0pol"}, "path": "app/build.gradle", "diffHunk": "@@ -28,7 +29,15 @@ android {\n         debug {\n             multiDexEnabled true\n             debuggable true\n-            applicationIdSuffix \".debug\"\n+\n+            def workingBranch = \"git rev-parse --abbrev-ref HEAD\".execute().text.trim()\n+            if (workingBranch.isEmpty() || workingBranch == \"master\" || workingBranch == \"dev\") {\n+                applicationIdSuffix \".debug\"\n+                resValue \"string\", \"app_name\", \"NewPipe Debug\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d46cd265f5f695d67fe1f25d26bc745a2d47d503"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4ODYxMw==", "bodyText": "The branch name is independent from the build type. So we can have a release build on any branch and a debug build on the master branch. Gradle has no idea whether the current branch is a development branch or not, so it can't do decisions based on that.\nSo it is ok for a debug build on master branch to have .debug at the end", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3133#discussion_r382988613", "createdAt": "2020-02-23T09:48:21Z", "author": {"login": "Stypox"}, "path": "app/build.gradle", "diffHunk": "@@ -28,7 +29,15 @@ android {\n         debug {\n             multiDexEnabled true\n             debuggable true\n-            applicationIdSuffix \".debug\"\n+\n+            def workingBranch = \"git rev-parse --abbrev-ref HEAD\".execute().text.trim()\n+            if (workingBranch.isEmpty() || workingBranch == \"master\" || workingBranch == \"dev\") {\n+                applicationIdSuffix \".debug\"\n+                resValue \"string\", \"app_name\", \"NewPipe Debug\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4NzEyOA=="}, "originalCommit": {"oid": "d46cd265f5f695d67fe1f25d26bc745a2d47d503"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3302, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}