{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NzAxNTc1", "number": 5310, "title": "add list item to play video on kodi", "bodyText": "this allows the user to long press on a video in any list (search, history, playlist, etc) and send it directly to Kodi. this change honors the existing Show \"Play with Kodi\" option setting and only displays on streams supported by Kore.\nthere is opportunity to reduce duplication in this part of the code base generally.\ncloses: #5157\n\nWhat is it?\n\n Bugfix (user facing)\n Feature (user facing)\n Codebase improvement (dev facing)\n Meta improvement to the project (dev facing)\n\nDescription of the changes in your PR\n\n\nadd list context menu item to \"Play on Kodi\"\n\nFixes the following issue(s)\n\n\n#5157\n\nAPK testing\n\napp-debug.zip\nDue diligence\n\n I read the contribution guidelines.", "createdAt": "2020-12-30T02:31:44Z", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310", "merged": true, "mergeCommit": {"oid": "92a87a5ed2e259ab36eaa5d95703ecdca7f61c08"}, "closed": true, "closedAt": "2021-01-13T16:02:57Z", "author": {"login": "khimaros"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdrGQl-AH2gAyNTQ2NzAxNTc1OjgzZmFmMTE5YTkwYWMxYWRiMDJkNjJmZWUyZWMzMWQ1NGYxOGU2Njk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdsTMXEAFqTU2MDY1NDI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "83faf119a90ac1adb02d62fee2ec31d54f18e669", "author": {"user": {"login": "khimaros", "name": "khimaros"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/83faf119a90ac1adb02d62fee2ec31d54f18e669", "committedDate": "2020-12-30T02:53:32Z", "message": "add list item to play video on kodi\n\ncloses: #5157"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5OTQ2ODg1", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#pullrequestreview-559946885", "createdAt": "2020-12-30T08:10:28Z", "commit": {"oid": "83faf119a90ac1adb02d62fee2ec31d54f18e669"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwODoxMDoyOFrOIMiVag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwODoxMDoyOFrOIMiVag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDAxNjM2Mg==", "bodyText": "You could provide this as a method in KoreUtil so if the logic for when to show the kodi entry is centralized and not copied over 3 places.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#discussion_r550016362", "createdAt": "2020-12-30T08:10:28Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/list/playlist/PlaylistFragment.java", "diffHunk": "@@ -174,6 +176,12 @@ protected void showStreamDialog(final StreamInfoItem item) {\n                     StreamDialogEntry.share\n             ));\n         }\n+        final boolean enableKodiEntry = KoreUtil.isServiceSupportedByKore(item.getServiceId())\n+                && PreferenceManager.getDefaultSharedPreferences(context)\n+                .getBoolean(context.getString(R.string.show_play_with_kodi_key), false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83faf119a90ac1adb02d62fee2ec31d54f18e669"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5OTY2NTEz", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#pullrequestreview-559966513", "createdAt": "2020-12-30T09:14:03Z", "commit": {"oid": "83faf119a90ac1adb02d62fee2ec31d54f18e669"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwOToxNDowNFrOIMlUhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQwOToxNDowNFrOIMlUhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDA2NTI4NA==", "bodyText": "Call this \"play_with_kody\" to stay consistent", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#discussion_r550065284", "createdAt": "2020-12-30T09:14:04Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/util/StreamDialogEntry.java", "diffHunk": "@@ -70,6 +71,15 @@\n         }\n     }),\n \n+    play_on_kodi(R.string.play_with_kodi_title, (fragment, item) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83faf119a90ac1adb02d62fee2ec31d54f18e669"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48a5107296c4f62fa762dafe4e999337f2b23e62", "author": {"user": {"login": "khimaros", "name": "khimaros"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/48a5107296c4f62fa762dafe4e999337f2b23e62", "committedDate": "2020-12-30T22:45:14Z", "message": "address pull request feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMzQxMDI0", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#pullrequestreview-560341024", "createdAt": "2020-12-31T12:33:20Z", "commit": {"oid": "48a5107296c4f62fa762dafe4e999337f2b23e62"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNTc5MzAy", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#pullrequestreview-560579302", "createdAt": "2021-01-01T09:41:59Z", "commit": {"oid": "48a5107296c4f62fa762dafe4e999337f2b23e62"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wMVQwOTo0MTo1OVrOINPMoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wMVQwOTo0MTo1OVrOINPMoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDc1MTM5Mw==", "bodyText": "This method can be also used in other places, e.g. in the player, can't it?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#discussion_r550751393", "createdAt": "2021-01-01T09:41:59Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/util/KoreUtil.java", "diffHunk": "@@ -16,6 +18,12 @@ public static boolean isServiceSupportedByKore(final int serviceId) {\n                 || serviceId == ServiceList.SoundCloud.getServiceId());\n     }\n \n+    public static boolean shouldShowPlayWithKodi(final Context context, final StreamInfoItem item) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48a5107296c4f62fa762dafe4e999337f2b23e62"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac59382b84cc047483e29df1ba40a2a71848d5be", "author": {"user": {"login": "khimaros", "name": "khimaros"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/ac59382b84cc047483e29df1ba40a2a71848d5be", "committedDate": "2021-01-02T19:24:33Z", "message": "pass serviceId instead of item, reduce duplication"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNjU0Mjg5", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5310#pullrequestreview-560654289", "createdAt": "2021-01-02T20:31:36Z", "commit": {"oid": "ac59382b84cc047483e29df1ba40a2a71848d5be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4061, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}