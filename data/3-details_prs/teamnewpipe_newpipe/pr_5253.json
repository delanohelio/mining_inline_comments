{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NDU3MDQ5", "number": 5253, "title": "Use view binding in VideoPlayer.", "bodyText": "What is it?\n\n Bugfix (user facing)\n Feature (user facing)\n Codebase improvement (dev facing)\n Meta improvement to the project (dev facing)\n\nDescription of the changes in your PR\n\n\nUse view binding in VideoPlayer and VideoPlayerImpl.\n\nAPK testing\n\ndebug.zip\nDue diligence\n\n I read the contribution guidelines.", "createdAt": "2020-12-23T01:49:56Z", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253", "merged": true, "mergeCommit": {"oid": "e2ea217bc56da0b54b4a87d3ee41f977fd09190d"}, "closed": true, "closedAt": "2021-01-13T21:07:20Z", "author": {"login": "Isira-Seneviratne"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdsE8-8ABqjQxNjE0NDM0MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdv2SzKgFqTU2NzY0MTQzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "515bcaaa019d5b7ef613f62f275398c33f8ec169", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/515bcaaa019d5b7ef613f62f275398c33f8ec169", "committedDate": "2020-12-23T01:36:25Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}, "afterCommit": {"oid": "064c9659ff9897579c265894f5115cc07dffde7f", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/064c9659ff9897579c265894f5115cc07dffde7f", "committedDate": "2021-01-02T03:55:49Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0Nzg0ODY2", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253#pullrequestreview-564784866", "createdAt": "2021-01-09T13:46:10Z", "commit": {"oid": "064c9659ff9897579c265894f5115cc07dffde7f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQxMzo0NjoxMFrOIQvq3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQxMzo0NjoxMFrOIQvq3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDQyOTE0OA==", "bodyText": "Why did you keep these three variables?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253#discussion_r554429148", "createdAt": "2021-01-09T13:46:10Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/VideoPlayer.java", "diffHunk": "@@ -178,54 +153,37 @@ private static boolean containsCaseInsensitive(final List<String> list, final St\n         return false;\n     }\n \n-    public void setup(final View view) {\n-        initViews(view);\n-        setup();\n+    public void setup(@NonNull final PlayerBinding binding) {\n+        initViews(binding);\n+        if (simpleExoPlayer == null) {\n+            initPlayer(true);\n+        }\n+        initListeners();\n     }\n \n-    public void initViews(final View view) {\n-        this.rootView = view;\n-        this.surfaceView = view.findViewById(R.id.surfaceView);\n-        this.surfaceForeground = view.findViewById(R.id.surfaceForeground);\n-        this.loadingPanel = view.findViewById(R.id.loading_panel);\n-        this.endScreen = view.findViewById(R.id.endScreen);\n-        this.controlAnimationView = view.findViewById(R.id.controlAnimationView);\n-        this.controlsRoot = view.findViewById(R.id.playbackControlRoot);\n-        this.currentDisplaySeek = view.findViewById(R.id.currentDisplaySeek);\n-        this.playerTopShadow = view.findViewById(R.id.playerTopShadow);\n-        this.playerBottomShadow = view.findViewById(R.id.playerBottomShadow);\n-        this.playbackSeekBar = view.findViewById(R.id.playbackSeekBar);\n-        this.playbackCurrentTime = view.findViewById(R.id.playbackCurrentTime);\n-        this.playbackEndTime = view.findViewById(R.id.playbackEndTime);\n-        this.playbackLiveSync = view.findViewById(R.id.playbackLiveSync);\n-        this.playbackSpeedTextView = view.findViewById(R.id.playbackSpeed);\n-        this.bottomControlsRoot = view.findViewById(R.id.bottomControls);\n-        this.topControlsRoot = view.findViewById(R.id.topControls);\n-        this.qualityTextView = view.findViewById(R.id.qualityTextView);\n-\n-        this.subtitleView = view.findViewById(R.id.subtitleView);\n+    public void initViews(@NonNull final PlayerBinding binding) {\n+        playerBinding = binding;\n+        playbackSeekBar = (SeekBar) binding.playbackSeekBar;\n+        qualityTextView = (TextView) binding.qualityTextView;\n+        playbackSpeed = (TextView) binding.playbackSpeed;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "064c9659ff9897579c265894f5115cc07dffde7f"}, "originalPosition": 129}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "064c9659ff9897579c265894f5115cc07dffde7f", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/064c9659ff9897579c265894f5115cc07dffde7f", "committedDate": "2021-01-02T03:55:49Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}, "afterCommit": {"oid": "a6db02f678bbf02a550e6c13460e322422aead9e", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a6db02f678bbf02a550e6c13460e322422aead9e", "committedDate": "2021-01-11T11:18:18Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6db02f678bbf02a550e6c13460e322422aead9e", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a6db02f678bbf02a550e6c13460e322422aead9e", "committedDate": "2021-01-11T11:18:18Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}, "afterCommit": {"oid": "f2ea8cc046ad2e0b2a958392520a1145d580fb96", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/f2ea8cc046ad2e0b2a958392520a1145d580fb96", "committedDate": "2021-01-13T19:41:24Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c86a4e608f7f07c686643b8b2f8c17d2763f59a", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0c86a4e608f7f07c686643b8b2f8c17d2763f59a", "committedDate": "2021-01-13T19:43:56Z", "message": "Use view binding (PlayerBinding) in VideoPlayer."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "committedDate": "2021-01-13T19:44:00Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2ea8cc046ad2e0b2a958392520a1145d580fb96", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/f2ea8cc046ad2e0b2a958392520a1145d580fb96", "committedDate": "2021-01-13T19:41:24Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}, "afterCommit": {"oid": "fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "author": {"user": {"login": "Isira-Seneviratne", "name": "Isira Seneviratne"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/fa75c79d34e79e2a71a304bde3e1629d0e1c6194", "committedDate": "2021-01-13T19:44:00Z", "message": "Use view binding (PlayerPopupCloseOverlayBinding) in VideoPlayerImpl."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NjQxNDMx", "url": "https://github.com/TeamNewPipe/NewPipe/pull/5253#pullrequestreview-567641431", "createdAt": "2021-01-13T21:07:05Z", "commit": {"oid": "fa75c79d34e79e2a71a304bde3e1629d0e1c6194"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4056, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}