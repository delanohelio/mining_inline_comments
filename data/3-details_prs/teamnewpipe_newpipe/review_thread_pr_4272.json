{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MzI3NDE1", "number": 4272, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMjo1MDozOVrOElQgvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QwNjo0OTozMlrOEnz3Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTAzMjk1OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/VideoPlayer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMjo1MDo0MFrOHUqC4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNDoyNzo0MVrOHUsBGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQyMjQzMw==", "bodyText": "Add another parenthesis here before searchForAutogenerated and userPreferredLanguage, in order to make it more clear that the &&s are referred to only the two items to the left and to the right.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r491422433", "createdAt": "2020-09-19T12:50:40Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/VideoPlayer.java", "diffHunk": "@@ -359,8 +363,8 @@ private void buildCaptionMenu(final List<String> availableLanguages) {\n             if (userPreferredLanguage != null && (captionLanguage.equals(userPreferredLanguage)\n                     || searchForAutogenerated && captionLanguage.startsWith(userPreferredLanguage)\n                     || userPreferredLanguage.contains(\"(\") && captionLanguage.startsWith(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "886a949a0021e722d4702aebfb216c57a4154a60"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ1NDc0Ng==", "bodyText": "I didn't write this mess there is only a spacing change from IDEA. Anyway I added parenthesis:)", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r491454746", "createdAt": "2020-09-19T14:27:41Z", "author": {"login": "avently"}, "path": "app/src/main/java/org/schabi/newpipe/player/VideoPlayer.java", "diffHunk": "@@ -359,8 +363,8 @@ private void buildCaptionMenu(final List<String> availableLanguages) {\n             if (userPreferredLanguage != null && (captionLanguage.equals(userPreferredLanguage)\n                     || searchForAutogenerated && captionLanguage.startsWith(userPreferredLanguage)\n                     || userPreferredLanguage.contains(\"(\") && captionLanguage.startsWith(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQyMjQzMw=="}, "originalCommit": {"oid": "886a949a0021e722d4702aebfb216c57a4154a60"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTA3MjQyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/views/CustomCollapsingToolbarLayout.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxMzowODo0MVrOHUqdTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNDoyNjowMVrOHUr-Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQyOTE5Nw==", "bodyText": "Could you better explain in which way this overrides a method? At first I interpreted it as a Java-language override, but it is not and you meant override in the sense of overwrite, so please change this to \"Override Google's behaviour\"", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r491429197", "createdAt": "2020-09-19T13:08:41Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/views/CustomCollapsingToolbarLayout.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package org.schabi.newpipe.views;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.core.view.ViewCompat;\n+import com.google.android.material.appbar.CollapsingToolbarLayout;\n+\n+public class CustomCollapsingToolbarLayout extends CollapsingToolbarLayout {\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context) {\n+        super(context);\n+        overrideListener();\n+    }\n+\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context,\n+                                         @Nullable final AttributeSet attrs) {\n+        super(context, attrs);\n+        overrideListener();\n+    }\n+\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context,\n+                                         @Nullable final AttributeSet attrs,\n+                                         final int defStyleAttr) {\n+        super(context, attrs, defStyleAttr);\n+        overrideListener();\n+    }\n+\n+    /**\n+     * CollapsingToolbarLayout overrides our logic with fitsSystemWindows and ruins the layout.\n+     * Override Google's method", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "886a949a0021e722d4702aebfb216c57a4154a60"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ1Mzk4Mg==", "bodyText": "Done", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r491453982", "createdAt": "2020-09-19T14:26:01Z", "author": {"login": "avently"}, "path": "app/src/main/java/org/schabi/newpipe/views/CustomCollapsingToolbarLayout.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package org.schabi.newpipe.views;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.core.view.ViewCompat;\n+import com.google.android.material.appbar.CollapsingToolbarLayout;\n+\n+public class CustomCollapsingToolbarLayout extends CollapsingToolbarLayout {\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context) {\n+        super(context);\n+        overrideListener();\n+    }\n+\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context,\n+                                         @Nullable final AttributeSet attrs) {\n+        super(context, attrs);\n+        overrideListener();\n+    }\n+\n+    public CustomCollapsingToolbarLayout(@NonNull final Context context,\n+                                         @Nullable final AttributeSet attrs,\n+                                         final int defStyleAttr) {\n+        super(context, attrs, defStyleAttr);\n+        overrideListener();\n+    }\n+\n+    /**\n+     * CollapsingToolbarLayout overrides our logic with fitsSystemWindows and ruins the layout.\n+     * Override Google's method", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQyOTE5Nw=="}, "originalCommit": {"oid": "886a949a0021e722d4702aebfb216c57a4154a60"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTc5NjYzOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QwNjo0OTozMlrOHYlMLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxMToyMTo0NFrOHYmuag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUzNzE5OA==", "bodyText": "Is that line needed to remember something or was it just commented out, because it did not help?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r495537198", "createdAt": "2020-09-27T06:49:32Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java", "diffHunk": "@@ -1927,21 +1946,29 @@ public void onFullscreenStateChanged(final boolean fullscreen) {\n         }\n         scrollToTop();\n \n-        addVideoPlayerView();\n+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+            addVideoPlayerView();\n+        } else {\n+            // KitKat needs a delay before addVideoPlayerView call or it reports wrong height in\n+            // activity.getWindow().getDecorView().getHeight()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a0c2c40bd6fa6e5f77fd9ee317ba8ebb881aba8"}, "originalPosition": 154}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU2MTcwMw==", "bodyText": "It's a part of an explanation/comments. It probably should be written in JavaDoc style", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r495561703", "createdAt": "2020-09-27T11:13:58Z", "author": {"login": "avently"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java", "diffHunk": "@@ -1927,21 +1946,29 @@ public void onFullscreenStateChanged(final boolean fullscreen) {\n         }\n         scrollToTop();\n \n-        addVideoPlayerView();\n+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+            addVideoPlayerView();\n+        } else {\n+            // KitKat needs a delay before addVideoPlayerView call or it reports wrong height in\n+            // activity.getWindow().getDecorView().getHeight()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUzNzE5OA=="}, "originalCommit": {"oid": "9a0c2c40bd6fa6e5f77fd9ee317ba8ebb881aba8"}, "originalPosition": 154}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU2MjM0Ng==", "bodyText": "all good, i was a little sleepy while reviewing your changes this morning.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4272#discussion_r495562346", "createdAt": "2020-09-27T11:21:44Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/detail/VideoDetailFragment.java", "diffHunk": "@@ -1927,21 +1946,29 @@ public void onFullscreenStateChanged(final boolean fullscreen) {\n         }\n         scrollToTop();\n \n-        addVideoPlayerView();\n+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n+            addVideoPlayerView();\n+        } else {\n+            // KitKat needs a delay before addVideoPlayerView call or it reports wrong height in\n+            // activity.getWindow().getDecorView().getHeight()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUzNzE5OA=="}, "originalCommit": {"oid": "9a0c2c40bd6fa6e5f77fd9ee317ba8ebb881aba8"}, "originalPosition": 154}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3064, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}