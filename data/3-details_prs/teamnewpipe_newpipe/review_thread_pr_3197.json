{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MjEzMjM3", "number": 3197, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODo0NTo0NFrODmFI4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOTowMjoxN1rODmFMNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjU2NjczOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODo0NTo0NFrOFzT8wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODo0NTo0NFrOFzT8wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0ODU0NA==", "bodyText": "Invert the condition in the if:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!hasTabsChanged) {\n          \n          \n            \n                        if (viewPager.getOffscreenPageLimit() != tabsList.size()) {\n          \n          \n            \n                            viewPager.setOffscreenPageLimit(tabsList.size());\n          \n          \n            \n                        }\n          \n          \n            \n                    } else {\n          \n          \n            \n                        setupTabs();\n          \n          \n            \n                    }\n          \n          \n            \n                    if (hasTabsChanged) {\n          \n          \n            \n                        setupTabs();\n          \n          \n            \n                    } else {\n          \n          \n            \n                        if (viewPager.getOffscreenPageLimit() != tabsList.size()) {\n          \n          \n            \n                            viewPager.setOffscreenPageLimit(tabsList.size());\n          \n          \n            \n                        }\n          \n          \n            \n                    }", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3197#discussion_r389348544", "createdAt": "2020-03-08T08:45:44Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "diffHunk": "@@ -89,7 +89,13 @@ protected void initViews(View rootView, Bundle savedInstanceState) {\n     public void onResume() {\n         super.onResume();\n \n-        if (hasTabsChanged) setupTabs();\n+        if (!hasTabsChanged) {\n+            if (viewPager.getOffscreenPageLimit() != tabsList.size()) {\n+                viewPager.setOffscreenPageLimit(tabsList.size());\n+            }\n+        } else {\n+            setupTabs();\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5220c0ba2c742affbae05007928ea6d33657a7"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjU2Nzk4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwODo0ODowMlrOFzT9YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxMjoxMTo1NlrOFzU2Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0ODcwNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (pagerAdapter == null || !pagerAdapter.sameTabs(tabsList)) {\n          \n          \n            \n                    if (wasAdapterNull || !pagerAdapter.sameTabs(tabsList)) {", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3197#discussion_r389348705", "createdAt": "2020-03-08T08:48:02Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "diffHunk": "@@ -136,16 +142,23 @@ public boolean onOptionsItemSelected(MenuItem item) {\n     // Tabs\n     //////////////////////////////////////////////////////////////////////////*/\n \n-    public void setupTabs() {\n+    private void setupTabs() {\n         tabsList.clear();\n         tabsList.addAll(tabsManager.getTabs());\n \n+        boolean wasAdapterNull = pagerAdapter == null;\n         if (pagerAdapter == null || !pagerAdapter.sameTabs(tabsList)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5220c0ba2c742affbae05007928ea6d33657a7"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM2MzMwMw==", "bodyText": "I think the name was confusing at first and I decided to keep things clear, however, later on I renamed to something more readable and indeed, it would be better to do this.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3197#discussion_r389363303", "createdAt": "2020-03-08T12:11:56Z", "author": {"login": "mauriciocolli"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "diffHunk": "@@ -136,16 +142,23 @@ public boolean onOptionsItemSelected(MenuItem item) {\n     // Tabs\n     //////////////////////////////////////////////////////////////////////////*/\n \n-    public void setupTabs() {\n+    private void setupTabs() {\n         tabsList.clear();\n         tabsList.addAll(tabsManager.getTabs());\n \n+        boolean wasAdapterNull = pagerAdapter == null;\n         if (pagerAdapter == null || !pagerAdapter.sameTabs(tabsList)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0ODcwNQ=="}, "originalCommit": {"oid": "ee5220c0ba2c742affbae05007928ea6d33657a7"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjU3NTI2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOTowMjoxN1rOFzUBLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOTowMjoxN1rOFzUBLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM0OTY3Nw==", "bodyText": "Couldn't this be put inside the if (!wasAdapterNull), too?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3197#discussion_r389349677", "createdAt": "2020-03-08T09:02:17Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/fragments/MainFragment.java", "diffHunk": "@@ -136,16 +142,23 @@ public boolean onOptionsItemSelected(MenuItem item) {\n     // Tabs\n     //////////////////////////////////////////////////////////////////////////*/\n \n-    public void setupTabs() {\n+    private void setupTabs() {\n         tabsList.clear();\n         tabsList.addAll(tabsManager.getTabs());\n \n+        boolean wasAdapterNull = pagerAdapter == null;\n         if (pagerAdapter == null || !pagerAdapter.sameTabs(tabsList)) {\n             pagerAdapter = new SelectedTabsPagerAdapter(requireContext(), getChildFragmentManager(), tabsList);\n         }\n         // Clear previous tabs/fragments and set new adapter\n         viewPager.setAdapter(pagerAdapter);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5220c0ba2c742affbae05007928ea6d33657a7"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3321, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}