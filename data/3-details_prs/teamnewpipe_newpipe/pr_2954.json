{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMjg3ODM5", "number": 2954, "title": "Rename local playlist by long-clicking in BookmarkFragment.", "bodyText": "I carefully read the contribution guidelines and agree to them.\n\nAfter seeing  #2309, i decided to copy the ui for editing and deleting a playlist.\nSomething i coulnd't figure out was why the dialog is thinner than the deletion-confirmation-dialog.\nI tested it on my Pixel with android 10 and old phone with android 7.\n\nFixes #1907\napp-debug.zip", "createdAt": "2020-01-13T19:41:53Z", "url": "https://github.com/TeamNewPipe/NewPipe/pull/2954", "merged": true, "mergeCommit": {"oid": "b589ee6c2661d86abaaa92fc28113fec6fb5991b"}, "closed": true, "closedAt": "2020-02-02T13:34:55Z", "author": {"login": "XiangRongLin"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb74HzWAH2gAyMzYyMjg3ODM5Ojc3YWExMmRkODE5NWRhZTdhMmY3ODJmOTdkMzQzOWU0ZTM5ZmQxYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAXjdnAFqTM1MTkzODU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "77aa12dd8195dae7a2f782f97d3439e4e39fd1a1", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/77aa12dd8195dae7a2f782f97d3439e4e39fd1a1", "committedDate": "2020-01-19T13:39:40Z", "message": "Rename local playlist by long-clicking in BookmarkFragment.\n\nAfter long clicking on a local playlist, show a dialog with 2 options for \"rename\" and \"delete\"\nRename shows another dialog to let the user rename the playlist.\nDelete lets the user delete a playlist like before."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de874a9f121201c35265f82a65dce7b7b5c0b32a", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/de874a9f121201c35265f82a65dce7b7b5c0b32a", "committedDate": "2020-01-19T13:35:17Z", "message": "Merge branch 'dev' into 1907renamePlaylist"}, "afterCommit": {"oid": "77aa12dd8195dae7a2f782f97d3439e4e39fd1a1", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/77aa12dd8195dae7a2f782f97d3439e4e39fd1a1", "committedDate": "2020-01-19T13:39:40Z", "message": "Rename local playlist by long-clicking in BookmarkFragment.\n\nAfter long clicking on a local playlist, show a dialog with 2 options for \"rename\" and \"delete\"\nRename shows another dialog to let the user rename the playlist.\nDelete lets the user delete a playlist like before."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ed3354cee6e4e3021263ecdd1b2253dfe144838", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0ed3354cee6e4e3021263ecdd1b2253dfe144838", "committedDate": "2020-01-21T19:56:06Z", "message": "Use custom dialog to edit and delete local playlists at once"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b430a23df13d37cfc184bebcb694374676a4f655", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/b430a23df13d37cfc184bebcb694374676a4f655", "committedDate": "2020-01-25T13:24:07Z", "message": "Merge branch 'dev' into 1907renamePlaylist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37409e7d90d8ec244135b224c435b03888d53eea", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/37409e7d90d8ec244135b224c435b03888d53eea", "committedDate": "2020-01-26T14:34:12Z", "message": "Merge branch 'dev' into 1907renamePlaylist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5ea61a079ec8d661acf0cde6ce445c7331aabc1", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/b5ea61a079ec8d661acf0cde6ce445c7331aabc1", "committedDate": "2020-01-26T19:36:18Z", "message": "Merge branch 'dev' into 1907renamePlaylist"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTM0MjE4", "url": "https://github.com/TeamNewPipe/NewPipe/pull/2954#pullrequestreview-344934218", "createdAt": "2020-01-18T09:10:58Z", "commit": {"oid": "95e3c833aa1154888dac0c1110076d9ab9dd6e05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQwOToxMDo1OFrOFfKJ6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQwOToxMDo1OFrOFfKJ6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIxNjU1NA==", "bodyText": "Please use if (DEBUG) by importing from here when logging", "url": "https://github.com/TeamNewPipe/NewPipe/pull/2954#discussion_r368216554", "createdAt": "2020-01-18T09:10:58Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/local/bookmark/BookmarkFragment.java", "diffHunk": "@@ -271,6 +303,39 @@ private void showDeleteDialog(final String name, final Single<Integer> deleteRea\n                 .show();\n     }\n \n+    private void showLocalRenameDialog(PlaylistMetadataEntry selectedItem) {\n+        final View dialogView = View.inflate(getContext(), R.layout.dialog_playlist_name, null);\n+        EditText nameEdit = dialogView.findViewById(R.id.playlist_name);\n+        nameEdit.setText(selectedItem.name);\n+        nameEdit.setSelection(nameEdit.getText().length());\n+\n+        final AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(\n+            getContext())\n+            .setTitle(R.string.rename_playlist)\n+            .setView(dialogView)\n+            .setCancelable(true)\n+            .setNegativeButton(R.string.cancel, null)\n+            .setPositiveButton(R.string.rename, (dialogInterface, i) -> {\n+                changeLocalPlaylistName(selectedItem.uid, nameEdit.getText().toString());\n+            });\n+        dialogBuilder.show();\n+    }\n+\n+    private void changeLocalPlaylistName(long id, String name) {\n+        if (localPlaylistManager == null) {\n+            return;\n+        }\n+\n+        Log.d(TAG, \"Updating playlist id=[\" + id +\n+            \"] with new name=[\" + name + \"] items\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95e3c833aa1154888dac0c1110076d9ab9dd6e05"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c20f124b16ebe5531f40fc06494fa1b5c9a0aa", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/90c20f124b16ebe5531f40fc06494fa1b5c9a0aa", "committedDate": "2020-02-01T15:27:53Z", "message": "Move log statement into \"if (DEBUG)\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8c3ab87c43892398dea6ef0f53a269ed72ecb03", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/e8c3ab87c43892398dea6ef0f53a269ed72ecb03", "committedDate": "2020-02-01T15:29:21Z", "message": "Merge branch 'dev' into 1907renamePlaylist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8712310ad93738d3d663da87dbd38ec0ebf92177", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/8712310ad93738d3d663da87dbd38ec0ebf92177", "committedDate": "2020-02-01T15:36:45Z", "message": "Move more log statements into \"if (DEBUG)\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a117e459b04ba5850993384d484a2574610c8170", "author": {"user": {"login": "XiangRongLin", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a117e459b04ba5850993384d484a2574610c8170", "committedDate": "2020-02-02T11:54:43Z", "message": "Use AlertDialog.Builder instead of BookmarkDialog class for the same look.\n\nUse \"rename\" string instead of \"save\" string."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTM4NTY5", "url": "https://github.com/TeamNewPipe/NewPipe/pull/2954#pullrequestreview-351938569", "createdAt": "2020-02-02T12:32:38Z", "commit": {"oid": "a117e459b04ba5850993384d484a2574610c8170"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4012, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}