{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTYwMjY4", "number": 3579, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTozMTo0MVrOD7_IDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0ODoyMFrOEJcvpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MjI2ODMxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTozMTo0MVrOGUpYrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTozMTo0MVrOGUpYrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMwMjc2Ng==", "bodyText": "I think it's a mistake\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                .value(\"content_country\", getContentLanguageString())\n          \n          \n            \n                                .value(\"content_country\", getContentCountryString())", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424302766", "createdAt": "2020-05-13T09:31:41Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -351,7 +385,8 @@ private String buildJson() {\n                     .object()\n                     .value(\"user_action\", getUserActionString(errorInfo.userAction))\n                     .value(\"request\", errorInfo.request)\n-                    .value(\"content_language\", getContentLangString())\n+                    .value(\"content_language\", getContentLanguageString())\n+                    .value(\"content_country\", getContentLanguageString())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 149}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MjI4MzY0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTozNTo1MFrOGUpifQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTozNTo1MFrOGUpifQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMwNTI3Nw==", "bodyText": "Do not duplicate\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private String getContentCountryString() {\n          \n          \n            \n                    String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n          \n          \n            \n                            .getString(this.getString(R.string.content_country_key), \"none\");\n          \n          \n            \n                    if (contentCountry.equals(getString(R.string.default_localization_key))) {\n          \n          \n            \n                        contentCountry = Locale.getDefault().toString();\n          \n          \n            \n                    }\n          \n          \n            \n                    return contentCountry;\n          \n          \n            \n                }\n          \n          \n            \n                private String getContentCountryString() {\n          \n          \n            \n                    return Localization.getPreferredContentCountry(this).getCountryCode();\n          \n          \n            \n                }", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424305277", "createdAt": "2020-05-13T09:35:50Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 222}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MjMyNjIwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOTo0Nzo0N1rOGUp-cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOTo0NzoxMVrOGp36ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMxMjQzNA==", "bodyText": "Same, don't duplicate, just use Localization.getPreferredLocalization(this).getLocalizationCode();\nBut remember that it's useless now. See #3089 (comment). So maybe we should gather app language, with Localization.getAppLocale(this).getLanguage();", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424312434", "createdAt": "2020-05-13T09:47:47Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }\n+\n+    private String getContentLanguageString() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 224}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMDgwNw==", "bodyText": "Ah yes. I wrote that code back in October along with some other changes for more debug info regarding the parsed YouTube pages and didn't think of your recent changes when rebasing.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424500807", "createdAt": "2020-05-13T14:51:55Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }\n+\n+    private String getContentLanguageString() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMxMjQzNA=="}, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 224}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDYzNDc4MA==", "bodyText": "I think contentCountry might be useful in the future as soon as we enabled support for it again. I corrected the code but didn't include the content country in the report and also added a field for the app language.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424634780", "createdAt": "2020-05-13T18:10:45Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }\n+\n+    private String getContentLanguageString() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMxMjQzNA=="}, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 224}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY4MTk1OA==", "bodyText": "Content country != Localization\nContent Country is working. And yeah, let's not remove it, I suddenly got some ideas for Localization.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r424681958", "createdAt": "2020-05-13T19:32:47Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }\n+\n+    private String getContentLanguageString() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMxMjQzNA=="}, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 224}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU2MDkwNg==", "bodyText": "Done", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446560906", "createdAt": "2020-06-27T19:47:11Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -377,9 +461,18 @@ private String getUserActionString(final UserAction userAction) {\n         }\n     }\n \n-    private String getContentLangString() {\n-        String contentLanguage = PreferenceManager.getDefaultSharedPreferences(this)\n+    private String getContentCountryString() {\n+        String contentCountry = PreferenceManager.getDefaultSharedPreferences(this)\n                 .getString(this.getString(R.string.content_country_key), \"none\");\n+        if (contentCountry.equals(getString(R.string.default_localization_key))) {\n+            contentCountry = Locale.getDefault().toString();\n+        }\n+        return contentCountry;\n+    }\n+\n+    private String getContentLanguageString() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMxMjQzNA=="}, "originalCommit": {"oid": "4846094384989684c16aeecf98a46c03d3d40c81"}, "originalPosition": 224}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4Mjc3OTkzOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QyMjoxNzoxNFrOGp4qpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QyMjoxNzoxNFrOGp4qpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU3MzIyMQ==", "bodyText": "remove this line. Typo + duplicate from the one below", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446573221", "createdAt": "2020-06-27T22:17:14Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -347,7 +380,10 @@ private String buildJson() {\n                     .object()\n                     .value(\"user_action\", getUserActionString(errorInfo.userAction))\n                     .value(\"request\", errorInfo.request)\n-                    .value(\"content_language\", getContentLangString())\n+                    .value(\"content_language\", getContentLanguageString())\n+                    .value(\"content_country\", getContentCountryString())\n+                    .value(\"app_langauge\", getAppLanguage())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f437660d94447ee4a7a80477b9533515ed87af0d"}, "originalPosition": 180}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzMjU5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NDo0MVrOGp9iNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNDowODowM1rOGp9scQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1Mjk4Mw==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446652983", "createdAt": "2020-06-28T13:44:41Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -281,6 +279,39 @@ public boolean onOptionsItemSelected(final MenuItem item) {\n         return false;\n     }\n \n+    private void openPrivacyPolicyDialog(final Context context, final String action) {\n+        new AlertDialog.Builder(context)\n+                .setIcon(android.R.drawable.ic_dialog_alert)\n+                .setTitle(R.string.privacy_policy_title)\n+                .setMessage(R.string.start_accept_privacy_policy)\n+                .setCancelable(false)\n+                .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n+                    Intent webIntent = new Intent(Intent.ACTION_VIEW,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 133}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1NTYwMQ==", "bodyText": "replaced with ShareUtils.openInBrowser", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446655601", "createdAt": "2020-06-28T14:08:03Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -281,6 +279,39 @@ public boolean onOptionsItemSelected(final MenuItem item) {\n         return false;\n     }\n \n+    private void openPrivacyPolicyDialog(final Context context, final String action) {\n+        new AlertDialog.Builder(context)\n+                .setIcon(android.R.drawable.ic_dialog_alert)\n+                .setTitle(R.string.privacy_policy_title)\n+                .setMessage(R.string.start_accept_privacy_policy)\n+                .setCancelable(false)\n+                .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n+                    Intent webIntent = new Intent(Intent.ACTION_VIEW,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1Mjk4Mw=="}, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 133}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzMzAwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NTowMFrOGp9iag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NTowMFrOGp9iag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzAzNA==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446653034", "createdAt": "2020-06-28T13:45:00Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -365,6 +400,63 @@ private String buildJson() {\n         return \"\";\n     }\n \n+    private String buildMarkdown() {\n+        try {\n+            StringBuilder htmlErrorReport = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 190}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzNDM4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NjozMFrOGp9jEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjowMjo1MlrOGqs74Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzIwMA==", "bodyText": "\"an\", not \"on\"", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446653200", "createdAt": "2020-06-28T13:46:30Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -281,6 +279,39 @@ public boolean onOptionsItemSelected(final MenuItem item) {\n         return false;\n     }\n \n+    private void openPrivacyPolicyDialog(final Context context, final String action) {\n+        new AlertDialog.Builder(context)\n+                .setIcon(android.R.drawable.ic_dialog_alert)\n+                .setTitle(R.string.privacy_policy_title)\n+                .setMessage(R.string.start_accept_privacy_policy)\n+                .setCancelable(false)\n+                .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n+                    Intent webIntent = new Intent(Intent.ACTION_VIEW,\n+                            Uri.parse(context.getString(R.string.privacy_policy_url))\n+                    );\n+                    context.startActivity(webIntent);\n+                })\n+                .setPositiveButton(R.string.accept, (dialog, which) -> {\n+                    if (action.equals(\"EMAIL\")) { // send on email", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQyOTYwMQ==", "bodyText": "or \"via\"/\"through\"", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r447429601", "createdAt": "2020-06-30T06:02:52Z", "author": {"login": "opusforlife2"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -281,6 +279,39 @@ public boolean onOptionsItemSelected(final MenuItem item) {\n         return false;\n     }\n \n+    private void openPrivacyPolicyDialog(final Context context, final String action) {\n+        new AlertDialog.Builder(context)\n+                .setIcon(android.R.drawable.ic_dialog_alert)\n+                .setTitle(R.string.privacy_policy_title)\n+                .setMessage(R.string.start_accept_privacy_policy)\n+                .setCancelable(false)\n+                .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n+                    Intent webIntent = new Intent(Intent.ACTION_VIEW,\n+                            Uri.parse(context.getString(R.string.privacy_policy_url))\n+                    );\n+                    context.startActivity(webIntent);\n+                })\n+                .setPositiveButton(R.string.accept, (dialog, which) -> {\n+                    if (action.equals(\"EMAIL\")) { // send on email", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzIwMA=="}, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzNDk4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NzoxNFrOGp9jXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNDowODozOVrOGp9spA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzI3Ng==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446653276", "createdAt": "2020-06-28T13:47:14Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -205,40 +215,28 @@ protected void onCreate(final Bundle savedInstanceState) {\n         errorList = intent.getStringArrayExtra(ERROR_LIST);\n \n         // important add guru meditation\n-        addGuruMeditaion();\n+        addGuruMeditation();\n         currentTimeStamp = getCurrentTimeStamp();\n \n-        reportButton.setOnClickListener((View v) -> {\n-            Context context = this;\n-            new AlertDialog.Builder(context)\n-                    .setIcon(android.R.drawable.ic_dialog_alert)\n-                    .setTitle(R.string.privacy_policy_title)\n-                    .setMessage(R.string.start_accept_privacy_policy)\n-                    .setCancelable(false)\n-                    .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n-                        Intent webIntent = new Intent(Intent.ACTION_VIEW,\n-                                Uri.parse(context.getString(R.string.privacy_policy_url))\n-                        );\n-                        context.startActivity(webIntent);\n-                    })\n-                    .setPositiveButton(R.string.accept, (dialog, which) -> {\n-                        final Intent i = new Intent(Intent.ACTION_SENDTO)\n-                                .setData(Uri.parse(\"mailto:\")) // only email apps should handle this\n-                                .putExtra(Intent.EXTRA_EMAIL, new String[]{ERROR_EMAIL_ADDRESS})\n-                                .putExtra(Intent.EXTRA_SUBJECT, ERROR_EMAIL_SUBJECT)\n-                                .putExtra(Intent.EXTRA_TEXT, buildJson());\n-                        if (i.resolveActivity(getPackageManager()) != null) {\n-                            startActivity(i);\n-                        }\n+        reportEmailButton.setOnClickListener((View v) -> {\n+            openPrivacyPolicyDialog(this, \"EMAIL\");\n+        });\n \n-                    })\n-                    .setNegativeButton(R.string.decline, (dialog, which) -> {\n-                        // do nothing\n-                    })\n-                    .show();\n+        copyButton.setOnClickListener((View v) -> {\n+            ClipboardManager clipboard =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1NTY1Mg==", "bodyText": "replaced with ShareUtils.copyToClipboard()", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446655652", "createdAt": "2020-06-28T14:08:39Z", "author": {"login": "TobiGr"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -205,40 +215,28 @@ protected void onCreate(final Bundle savedInstanceState) {\n         errorList = intent.getStringArrayExtra(ERROR_LIST);\n \n         // important add guru meditation\n-        addGuruMeditaion();\n+        addGuruMeditation();\n         currentTimeStamp = getCurrentTimeStamp();\n \n-        reportButton.setOnClickListener((View v) -> {\n-            Context context = this;\n-            new AlertDialog.Builder(context)\n-                    .setIcon(android.R.drawable.ic_dialog_alert)\n-                    .setTitle(R.string.privacy_policy_title)\n-                    .setMessage(R.string.start_accept_privacy_policy)\n-                    .setCancelable(false)\n-                    .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n-                        Intent webIntent = new Intent(Intent.ACTION_VIEW,\n-                                Uri.parse(context.getString(R.string.privacy_policy_url))\n-                        );\n-                        context.startActivity(webIntent);\n-                    })\n-                    .setPositiveButton(R.string.accept, (dialog, which) -> {\n-                        final Intent i = new Intent(Intent.ACTION_SENDTO)\n-                                .setData(Uri.parse(\"mailto:\")) // only email apps should handle this\n-                                .putExtra(Intent.EXTRA_EMAIL, new String[]{ERROR_EMAIL_ADDRESS})\n-                                .putExtra(Intent.EXTRA_SUBJECT, ERROR_EMAIL_SUBJECT)\n-                                .putExtra(Intent.EXTRA_TEXT, buildJson());\n-                        if (i.resolveActivity(getPackageManager()) != null) {\n-                            startActivity(i);\n-                        }\n+        reportEmailButton.setOnClickListener((View v) -> {\n+            openPrivacyPolicyDialog(this, \"EMAIL\");\n+        });\n \n-                    })\n-                    .setNegativeButton(R.string.decline, (dialog, which) -> {\n-                        // do nothing\n-                    })\n-                    .show();\n+        copyButton.setOnClickListener((View v) -> {\n+            ClipboardManager clipboard =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzI3Ng=="}, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzNTA4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NzoyMFrOGp9jaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0NzoyMFrOGp9jaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzI4OA==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446653288", "createdAt": "2020-06-28T13:47:20Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -205,40 +215,28 @@ protected void onCreate(final Bundle savedInstanceState) {\n         errorList = intent.getStringArrayExtra(ERROR_LIST);\n \n         // important add guru meditation\n-        addGuruMeditaion();\n+        addGuruMeditation();\n         currentTimeStamp = getCurrentTimeStamp();\n \n-        reportButton.setOnClickListener((View v) -> {\n-            Context context = this;\n-            new AlertDialog.Builder(context)\n-                    .setIcon(android.R.drawable.ic_dialog_alert)\n-                    .setTitle(R.string.privacy_policy_title)\n-                    .setMessage(R.string.start_accept_privacy_policy)\n-                    .setCancelable(false)\n-                    .setNeutralButton(R.string.read_privacy_policy, (dialog, which) -> {\n-                        Intent webIntent = new Intent(Intent.ACTION_VIEW,\n-                                Uri.parse(context.getString(R.string.privacy_policy_url))\n-                        );\n-                        context.startActivity(webIntent);\n-                    })\n-                    .setPositiveButton(R.string.accept, (dialog, which) -> {\n-                        final Intent i = new Intent(Intent.ACTION_SENDTO)\n-                                .setData(Uri.parse(\"mailto:\")) // only email apps should handle this\n-                                .putExtra(Intent.EXTRA_EMAIL, new String[]{ERROR_EMAIL_ADDRESS})\n-                                .putExtra(Intent.EXTRA_SUBJECT, ERROR_EMAIL_SUBJECT)\n-                                .putExtra(Intent.EXTRA_TEXT, buildJson());\n-                        if (i.resolveActivity(getPackageManager()) != null) {\n-                            startActivity(i);\n-                        }\n+        reportEmailButton.setOnClickListener((View v) -> {\n+            openPrivacyPolicyDialog(this, \"EMAIL\");\n+        });\n \n-                    })\n-                    .setNegativeButton(R.string.decline, (dialog, which) -> {\n-                        // do nothing\n-                    })\n-                    .show();\n+        copyButton.setOnClickListener((View v) -> {\n+            ClipboardManager clipboard =\n+                    (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\n+            ClipData clip = ClipData.newPlainText(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzQzNTkxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0ODoyMFrOGp9j1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxMzo0ODoyMFrOGp9j1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY1MzM5Ng==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3579#discussion_r446653396", "createdAt": "2020-06-28T13:48:20Z", "author": {"login": "wb9688"}, "path": "app/src/main/java/org/schabi/newpipe/report/ErrorActivity.java", "diffHunk": "@@ -193,7 +200,10 @@ protected void onCreate(final Bundle savedInstanceState) {\n             actionBar.setDisplayShowTitleEnabled(true);\n         }\n \n-        Button reportButton = findViewById(R.id.errorReportButton);\n+        Button reportEmailButton = findViewById(R.id.errorReportEmailButton);\n+        Button copyButton = findViewById(R.id.errorReportCopyButton);\n+        Button reportGithubButton = findViewById(R.id.errorReportGitHubButton);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f06f9e88cc911583a980ec7150f46c6041e7958a"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3189, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}