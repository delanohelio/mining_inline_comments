{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3NzE4OTAz", "number": 3741, "title": "Bandcamp support", "bodyText": "Replaces #3740\nWhat is it?\n\n Bug fix (user facing)\n Feature (user facing)\n Code base improvement (dev facing)\n Meta improvement to the project (dev facing)\n\nDescription of the changes in your PR\n\nAdd styles, icons and intent filters for Bandcamp\n\nFixes the following issues\n\nFixes #1284\n\nRelies on the following changes\n\nTeamNewPipe/NewPipeExtractor#232\nIdeally TeamNewPipe/NewPipeExtractor#227 / TeamNewPipe/NewPipeExtractor#279\n\nTesting apk\n\napp-debug.apk.zip\napp-debug.apk.zip\napp-debug.apk.zip\napp-debug.apk.zip\napp-debug.apk.zip\napp-debug.zip\n app-debug.zip \napp-debug.zip\n\nKnown issues\n\nOpening http links doesn't work. As a result, opening items from the Featured tab doesn't work yet.\nAlbums (playlists) aren't displayed in profile (channel) view. Depends on TeamNewPipe/NewPipeExtractor#227 / TeamNewPipe/NewPipeExtractor#279. For now, you'll have to find all albums via search.\nClicking uploader's (primary host's) name in Radio causes the crash reporter to open as it is a link to a fan page, which is not implemented and can't be handled.\nPreorder albums might behave badly.\n#3740 (comment)\nUpload date is missing. #3740 (comment)\n\nAgreement\n\n I carefully read the contribution guidelines and agree to them.", "createdAt": "2020-06-04T09:49:15Z", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741", "merged": true, "mergeCommit": {"oid": "3e83bb0d956c24db123ab2632487d943d0c8297e"}, "closed": true, "closedAt": "2021-03-14T19:00:41Z", "author": {"login": "fynngodau"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdngwBnABqjQxMzE4Mjc2NDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeDIUJ8gFqTYxMTcyNjM1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2785a50a1cb9e1a72feb20b3e29e60de7f694908", "author": {"user": {"login": "fynngodau", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/2785a50a1cb9e1a72feb20b3e29e60de7f694908", "committedDate": "2020-08-02T15:19:34Z", "message": "Use latest NPE fork commit"}, "afterCommit": {"oid": "b7d13689e0feb1f685eda2854833d44be28c26d8", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/b7d13689e0feb1f685eda2854833d44be28c26d8", "committedDate": "2020-12-18T23:29:08Z", "message": "Update NPE version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7d13689e0feb1f685eda2854833d44be28c26d8", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/b7d13689e0feb1f685eda2854833d44be28c26d8", "committedDate": "2020-12-18T23:29:08Z", "message": "Update NPE version"}, "afterCommit": {"oid": "0fc3ed9b1c1ebce0d315b4690d5b7e664ce309b0", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0fc3ed9b1c1ebce0d315b4690d5b7e664ce309b0", "committedDate": "2020-12-19T09:47:10Z", "message": "Update NPE version\n\n\nNPE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0fc3ed9b1c1ebce0d315b4690d5b7e664ce309b0", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0fc3ed9b1c1ebce0d315b4690d5b7e664ce309b0", "committedDate": "2020-12-19T09:47:10Z", "message": "Update NPE version\n\n\nNPE"}, "afterCommit": {"oid": "62004ff132779fd7caba20088bb2116f417532a1", "author": {"user": {"login": "fynngodau", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/62004ff132779fd7caba20088bb2116f417532a1", "committedDate": "2021-01-15T21:03:54Z", "message": "Use latest NPE fork commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62004ff132779fd7caba20088bb2116f417532a1", "author": {"user": {"login": "fynngodau", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/62004ff132779fd7caba20088bb2116f417532a1", "committedDate": "2021-01-15T21:03:54Z", "message": "Use latest NPE fork commit"}, "afterCommit": {"oid": "7a6da5ef544ac497f73c4a2c9478697a35cf7191", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/7a6da5ef544ac497f73c4a2c9478697a35cf7191", "committedDate": "2021-02-15T21:48:38Z", "message": "Ignore ContentNotSupportedException caused by BAndcamp fan pages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a6da5ef544ac497f73c4a2c9478697a35cf7191", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/7a6da5ef544ac497f73c4a2c9478697a35cf7191", "committedDate": "2021-02-15T21:48:38Z", "message": "Ignore ContentNotSupportedException caused by BAndcamp fan pages"}, "afterCommit": {"oid": "d831ef656f1f88ac4fc424f60b517a9d558b9ad8", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/d831ef656f1f88ac4fc424f60b517a9d558b9ad8", "committedDate": "2021-02-19T23:32:28Z", "message": "Use latest NPE fork commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d831ef656f1f88ac4fc424f60b517a9d558b9ad8", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/d831ef656f1f88ac4fc424f60b517a9d558b9ad8", "committedDate": "2021-02-19T23:32:28Z", "message": "Use latest NPE fork commit"}, "afterCommit": {"oid": "3dc01c11e6f78014bf6d64db74caae70bd518163", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/3dc01c11e6f78014bf6d64db74caae70bd518163", "committedDate": "2021-02-21T12:52:59Z", "message": "Use latest NPE fork commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3dc01c11e6f78014bf6d64db74caae70bd518163", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/3dc01c11e6f78014bf6d64db74caae70bd518163", "committedDate": "2021-02-21T12:52:59Z", "message": "Use latest NPE fork commit"}, "afterCommit": {"oid": "96a99c0f3548675108998d0e780e481a43aada09", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/96a99c0f3548675108998d0e780e481a43aada09", "committedDate": "2021-03-05T20:49:20Z", "message": "Use latest NPE fork commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2dc5ad3a3f7409e11fcda3f64e695248127a464", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a2dc5ad3a3f7409e11fcda3f64e695248127a464", "committedDate": "2021-03-05T20:53:13Z", "message": "Add Bandcamp to supported services section in README"}, "afterCommit": {"oid": "9361916bb16833a176ed6c8c1a10f524c4673afe", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/9361916bb16833a176ed6c8c1a10f524c4673afe", "committedDate": "2021-03-13T10:56:47Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large thumbnails and fixed by scaling the thumbnail."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9361916bb16833a176ed6c8c1a10f524c4673afe", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/9361916bb16833a176ed6c8c1a10f524c4673afe", "committedDate": "2021-03-13T10:56:47Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large thumbnails and fixed by scaling the thumbnail."}, "afterCommit": {"oid": "15df0a386efc7a36654b052abfd6ab8e4385223b", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/15df0a386efc7a36654b052abfd6ab8e4385223b", "committedDate": "2021-03-13T11:00:50Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large thumbnails and fixed by scaling the thumbnail."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "15df0a386efc7a36654b052abfd6ab8e4385223b", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/15df0a386efc7a36654b052abfd6ab8e4385223b", "committedDate": "2021-03-13T11:00:50Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large thumbnails and fixed by scaling the thumbnail."}, "afterCommit": {"oid": "3785ba0d95eccb4841333021637132be73168b6d", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/3785ba0d95eccb4841333021637132be73168b6d", "committedDate": "2021-03-13T11:03:50Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large thumbnails and fixed by scaling the thumbnail."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd72dd0757802877665d7ffe67e7cff9b29df136", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/dd72dd0757802877665d7ffe67e7cff9b29df136", "committedDate": "2021-03-13T15:42:27Z", "message": "Last try..."}, "afterCommit": {"oid": "0eb4fec3e5df6cba35e416c890d01b801405dfa3", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0eb4fec3e5df6cba35e416c890d01b801405dfa3", "committedDate": "2021-03-13T16:25:20Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large end screen thumbnails enlarging the whole palyer. Fixed by scaling the thumbnail.\n\nEnsure that the player does not use the whole screen height in detail fragment to keep the additional content like title, comments, etc. available."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0eb4fec3e5df6cba35e416c890d01b801405dfa3", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0eb4fec3e5df6cba35e416c890d01b801405dfa3", "committedDate": "2021-03-13T16:25:20Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large end screen thumbnails enlarging the whole palyer. Fixed by scaling the thumbnail.\n\nEnsure that the player does not use the whole screen height in detail fragment to keep the additional content like title, comments, etc. available."}, "afterCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/56a9fe6f491e6ccfc1a75db87d8d11263763655c", "committedDate": "2021-03-13T16:26:49Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large end screen thumbnails enlarging the whole palyer. Fixed by scaling the thumbnail.\n\nEnsure that the player does not use the whole screen height in detail fragment to keep the additional content like title, comments, etc. available."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjExNjQ0MDk4", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#pullrequestreview-611644098", "createdAt": "2021-03-13T22:51:56Z", "commit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjExNjY3MDk0", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#pullrequestreview-611667094", "createdAt": "2021-03-14T07:31:07Z", "commit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzozMTowN1rOI2WIIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzozOToxOVrOI2WLhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NjU0NA==", "bodyText": "Why not use javadoc above the method declaration instead of inline comments. Javadoc has IDE support.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593856544", "createdAt": "2021-03-14T07:31:07Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/player/Player.java", "diffHunk": "@@ -1129,6 +1129,12 @@ private void onBroadcastReceived(final Intent intent) {\n                 // Close it because when changing orientation from portrait\n                 // (in fullscreen mode) the size of queue layout can be larger than the screen size\n                 closeItemsList();\n+                // When the orientation changed, the screen height might be smaller.\n+                // If the end screen thumbnail is not re-scaled,\n+                // it can be larger than the current screen height\n+                // and thus enlarging the whole player.\n+                // This causes the seekbar to be ouf the visible area.\n+                updateEndScreenThumbnail();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NjY3MQ==", "bodyText": "conversion to int (rounding down) won't cause problems?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593856671", "createdAt": "2021-03-14T07:32:37Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/player/Player.java", "diffHunk": "@@ -1187,6 +1193,54 @@ private void initThumbnail(final String url) {\n                 .loadImage(url, ImageDisplayConstants.DISPLAY_THUMBNAIL_OPTIONS, this);\n     }\n \n+    public void updateEndScreenThumbnail() {\n+        if (currentThumbnail == null) {\n+            return;\n+        }\n+\n+        final float endScreenHeight;\n+\n+        updateScreenSize(); // ensure that screenHeight is initialized and thus not 0\n+\n+        // Show at least stream title and content creator on TVs and tablets (using the land layout)\n+        // 85dp for height of R.id.detail_root and R.id.detail_title_root_layout\n+        // 15/16sp for text size of video title\n+        if (DeviceUtils.isTv(context) && !isFullscreen) {\n+            final int videoInfoHeight =\n+                    DeviceUtils.dpToPx(85, context) + DeviceUtils.spToPx(16, context);\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(),\n+                    screenHeight - videoInfoHeight);\n+        } else if (DeviceUtils.isTablet(context) && !isFullscreen) {\n+            final int videoInfoHeight =\n+                    DeviceUtils.dpToPx(85, context) + DeviceUtils.spToPx(15, context);\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(),\n+                    screenHeight - videoInfoHeight);\n+        } else { // fullscreen player: max height is the device height\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(), screenHeight);\n+        }\n+\n+        // scale the player audio / end screen thumbnail\n+        // This is necessary when the thumbnail's height is larger than the device's height\n+        // and thus is enlarging the player's height\n+        // causing the bottom playback controls to be out of the visible screen.\n+        final Bitmap endScreenBitmap = Bitmap.createScaledBitmap(\n+                currentThumbnail,\n+                (int) (currentThumbnail.getWidth()\n+                        / (currentThumbnail.getHeight() / endScreenHeight)),\n+                (int) endScreenHeight,\n+                true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NjcyMQ==", "bodyText": "scale to what and why?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593856721", "createdAt": "2021-03-14T07:33:12Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/player/Player.java", "diffHunk": "@@ -1207,23 +1261,28 @@ public void onLoadingFailed(final String imageUri, final View view,\n     @Override\n     public void onLoadingComplete(final String imageUri, final View view,\n                                   final Bitmap loadedImage) {\n-        final float width = Math.min(\n+        // scale the notification thumbnail", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NjgzNw==", "bodyText": "Seeing as the method twice is used twice, it definetly should be javadoc instead of inline comments", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593856837", "createdAt": "2021-03-14T07:34:17Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/player/Player.java", "diffHunk": "@@ -1207,23 +1261,28 @@ public void onLoadingFailed(final String imageUri, final View view,\n     @Override\n     public void onLoadingComplete(final String imageUri, final View view,\n                                   final Bitmap loadedImage) {\n-        final float width = Math.min(\n+        // scale the notification thumbnail\n+        final float notificationThumbnailWidth = Math.min(\n                 context.getResources().getDimension(R.dimen.player_notification_thumbnail_width),\n                 loadedImage.getWidth());\n+        currentThumbnail = Bitmap.createScaledBitmap(\n+                loadedImage,\n+                (int) notificationThumbnailWidth,\n+                (int) (loadedImage.getHeight()\n+                        / (loadedImage.getWidth() / notificationThumbnailWidth)),\n+                true);\n \n         if (DEBUG) {\n             Log.d(TAG, \"Thumbnail - onLoadingComplete() called with: \"\n                     + \"imageUri = [\" + imageUri + \"], view = [\" + view + \"], \"\n                     + \"loadedImage = [\" + loadedImage + \"], \"\n                     + loadedImage.getWidth() + \"x\" + loadedImage.getHeight()\n-                    + \", scaled width = \" + width);\n+                    + \", scaled notification width = \" + notificationThumbnailWidth);\n         }\n \n-        currentThumbnail = Bitmap.createScaledBitmap(loadedImage,\n-                (int) width,\n-                (int) (loadedImage.getHeight() / (loadedImage.getWidth() / width)), true);\n-        binding.endScreen.setImageBitmap(loadedImage);\n         NotificationUtil.getInstance().createNotificationIfNeededAndUpdate(this, false);\n+\n+        updateEndScreenThumbnail();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1NzQxNQ==", "bodyText": "If you extract this into a method, you can\n\nGive it a name, which make this part here easier to read\nReference the R.id.* properly through javadoc instead of inline comments, which gives IDE support when refactoring or navigating. I don't think Android Studio will pick these up, if they are changed.\n\nSomething like calculateScreenHeight", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593857415", "createdAt": "2021-03-14T07:39:19Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/player/Player.java", "diffHunk": "@@ -1187,6 +1193,54 @@ private void initThumbnail(final String url) {\n                 .loadImage(url, ImageDisplayConstants.DISPLAY_THUMBNAIL_OPTIONS, this);\n     }\n \n+    public void updateEndScreenThumbnail() {\n+        if (currentThumbnail == null) {\n+            return;\n+        }\n+\n+        final float endScreenHeight;\n+\n+        updateScreenSize(); // ensure that screenHeight is initialized and thus not 0\n+\n+        // Show at least stream title and content creator on TVs and tablets (using the land layout)\n+        // 85dp for height of R.id.detail_root and R.id.detail_title_root_layout\n+        // 15/16sp for text size of video title\n+        if (DeviceUtils.isTv(context) && !isFullscreen) {\n+            final int videoInfoHeight =\n+                    DeviceUtils.dpToPx(85, context) + DeviceUtils.spToPx(16, context);\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(),\n+                    screenHeight - videoInfoHeight);\n+        } else if (DeviceUtils.isTablet(context) && !isFullscreen) {\n+            final int videoInfoHeight =\n+                    DeviceUtils.dpToPx(85, context) + DeviceUtils.spToPx(15, context);\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(),\n+                    screenHeight - videoInfoHeight);\n+        } else { // fullscreen player: max height is the device height\n+            endScreenHeight = Math.min(currentThumbnail.getHeight(), screenHeight);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjExNjY4MTAz", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#pullrequestreview-611668103", "createdAt": "2021-03-14T07:46:53Z", "commit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzo0Njo1M1rOI2WOeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0xNFQwNzo0Njo1M1rOI2WOeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Mzg1ODE3MA==", "bodyText": "Tests would be nice", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#discussion_r593858170", "createdAt": "2021-03-14T07:46:53Z", "author": {"login": "XiangRongLin"}, "path": "app/src/main/java/org/schabi/newpipe/util/DeviceUtils.java", "diffHunk": "@@ -70,4 +71,15 @@ public static boolean isConfirmKey(final int keyCode) {\n                 return false;\n         }\n     }\n+\n+    public static int dpToPx(final float dp, final Context context) {\n+        return (int) (dp * context.getResources().getDisplayMetrics().density);\n+    }\n+\n+    public static int spToPx(final float sp, final Context context) {\n+        return (int) TypedValue.applyDimension(\n+                TypedValue.COMPLEX_UNIT_SP,\n+                sp,\n+                context.getResources().getDisplayMetrics());\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a9fe6f491e6ccfc1a75db87d8d11263763655c"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c0c6e8669d6ae148ec2a677f9fa349863a0de06", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/5c0c6e8669d6ae148ec2a677f9fa349863a0de06", "committedDate": "2021-03-14T11:46:32Z", "message": "Apply review"}, "afterCommit": {"oid": "26018c48e7d0e5cdf3e675bceccd41f15e8d7944", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/26018c48e7d0e5cdf3e675bceccd41f15e8d7944", "committedDate": "2021-03-14T11:51:02Z", "message": "Apply review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26018c48e7d0e5cdf3e675bceccd41f15e8d7944", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/26018c48e7d0e5cdf3e675bceccd41f15e8d7944", "committedDate": "2021-03-14T11:51:02Z", "message": "Apply review"}, "afterCommit": {"oid": "fb2013d9b153ece4c2de8a39fd8582894218b456", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/fb2013d9b153ece4c2de8a39fd8582894218b456", "committedDate": "2021-03-14T11:59:06Z", "message": "Use latest NPE fork commit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb2013d9b153ece4c2de8a39fd8582894218b456", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/fb2013d9b153ece4c2de8a39fd8582894218b456", "committedDate": "2021-03-14T11:59:06Z", "message": "Use latest NPE fork commit"}, "afterCommit": {"oid": "856fbde671f25284b216eb94767803c38418d7f0", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/856fbde671f25284b216eb94767803c38418d7f0", "committedDate": "2021-03-14T12:00:49Z", "message": "Use latest extractor version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "856fbde671f25284b216eb94767803c38418d7f0", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/856fbde671f25284b216eb94767803c38418d7f0", "committedDate": "2021-03-14T12:00:49Z", "message": "Use latest extractor version"}, "afterCommit": {"oid": "22d81a53aec0812332da103448e24e22a0914344", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/22d81a53aec0812332da103448e24e22a0914344", "committedDate": "2021-03-14T16:49:42Z", "message": "Use latest extractor version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39a3f03e7952de40bbac8719d97dc47721401a65", "author": {"user": {"login": "fynngodau", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/39a3f03e7952de40bbac8719d97dc47721401a65", "committedDate": "2021-03-14T16:52:15Z", "message": "Bandcamp support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "292e1030735e6860ba4599136f85337784c193ab", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/292e1030735e6860ba4599136f85337784c193ab", "committedDate": "2021-03-14T16:52:15Z", "message": "Ignore ContentNotSupportedException caused by Bandcamp fan pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a28aa6a8c438448952b42e6b3ec4bd35546f1794", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a28aa6a8c438448952b42e6b3ec4bd35546f1794", "committedDate": "2021-03-14T16:52:15Z", "message": "Add Bandcamp to supported services section in README"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71d3227791702901d6c898d4e9a85f0d0eb3cb8c", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/71d3227791702901d6c898d4e9a85f0d0eb3cb8c", "committedDate": "2021-03-14T16:52:15Z", "message": "Fix bottom controls being out of the screen\n\nThis was caused by too large end screen thumbnails enlarging the whole palyer. Fixed by scaling the thumbnail.\n\nEnsure that the player does not use the whole screen height in detail fragment to keep the additional content like title, comments, etc. available."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdaee25e6116e86ce34ebcfd1444a812aaa175af", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/bdaee25e6116e86ce34ebcfd1444a812aaa175af", "committedDate": "2021-03-14T16:52:15Z", "message": "Use latest extractor version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "22d81a53aec0812332da103448e24e22a0914344", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/22d81a53aec0812332da103448e24e22a0914344", "committedDate": "2021-03-14T16:49:42Z", "message": "Use latest extractor version"}, "afterCommit": {"oid": "bdaee25e6116e86ce34ebcfd1444a812aaa175af", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/bdaee25e6116e86ce34ebcfd1444a812aaa175af", "committedDate": "2021-03-14T16:52:15Z", "message": "Use latest extractor version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjExNzI2MzU2", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3741#pullrequestreview-611726356", "createdAt": "2021-03-14T18:51:25Z", "commit": {"oid": "bdaee25e6116e86ce34ebcfd1444a812aaa175af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4168, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}