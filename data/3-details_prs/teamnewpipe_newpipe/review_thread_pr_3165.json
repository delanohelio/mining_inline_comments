{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMDM3NDkz", "number": 3165, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzozNjo0MFrODkFXgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOToxNjozM1rODljM7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTYzMjY2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzozNjo0MFrOFwON2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzozNjo0MFrOFwON2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwODg5MQ==", "bodyText": "Rename this here and in other players\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void onMuteUnmuteButtonClicled() {\n          \n          \n            \n                public void onMuteUnmuteButtonClicked() {", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386108891", "createdAt": "2020-03-01T13:36:40Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -532,6 +538,18 @@ public void onShuffleClicked() {\n         if (simpleExoPlayer == null) return;\n         simpleExoPlayer.setShuffleModeEnabled(!simpleExoPlayer.getShuffleModeEnabled());\n     }\n+    /*//////////////////////////////////////////////////////////////////////////\n+    // Mute / Unmute\n+    //////////////////////////////////////////////////////////////////////////*/\n+\n+    public void onMuteUnmuteButtonClicled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee75909c80d399d03d548127ecc2454740ae5b51"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzY2MDExOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowMTo1OVrOFwgiDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowMTo1OVrOFwgiDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQwODk3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (isMuted) {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n          \n          \n            \n                    } else {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n          \n          \n            \n            \n          \n          \n            \n                    }\n          \n          \n            \n                    muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386408972", "createdAt": "2020-03-02T14:01:59Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,16 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        if (isMuted) {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n+        } else {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n+\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzY2NjAxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/ServicePlayerActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowMzo1MVrOFwglvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowMzo1MVrOFwglvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQwOTkxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (player.isMuted()) {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n          \n          \n            \n                    }\n          \n          \n            \n                    else {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n          \n          \n            \n                    }\n          \n          \n            \n                }\n          \n          \n            \n                    muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));\n          \n          \n            \n                }", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386409916", "createdAt": "2020-03-02T14:03:51Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/ServicePlayerActivity.java", "diffHunk": "@@ -676,4 +685,13 @@ private void onMaybePlaybackAdapterChanged() {\n             itemsList.setAdapter(maybeNewAdapter);\n         }\n     }\n+\n+    private void onMaybeMuteChanged(){\n+        if (player.isMuted()) {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n+        }\n+        else {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzY4NjY2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowOTo0NlrOFwgyPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowOTo0NlrOFwgyPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxMzExOA==", "bodyText": "Just to make sure the volume is at maximum, since you removed this line: https://github.com/TeamNewPipe/NewPipe/pull/3165/files#diff-0b87dfa694cf6a7720aee912b16ab32dL392\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (isMuted) simpleExoPlayer.setVolume(0);\n          \n          \n            \n                    simpleExoPlayer.setVolume(isMuted ? 0 : 1);", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386413118", "createdAt": "2020-03-02T14:09:46Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -327,6 +331,8 @@ protected void initPlayback(@NonNull final PlayQueue queue,\n \n         if (playQueueAdapter != null) playQueueAdapter.dispose();\n         playQueueAdapter = new PlayQueueAdapter(context, playQueue);\n+\n+        if (isMuted) simpleExoPlayer.setVolume(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzcxNTc2OnYy", "diffSide": "LEFT", "path": "app/src/main/java/org/schabi/newpipe/player/BackgroundPlayer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNzo1MVrOFwhDyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNzo1MVrOFwhDyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxNzYxMA==", "bodyText": "Readd this newline", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386417610", "createdAt": "2020-03-02T14:17:51Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BackgroundPlayer.java", "diffHunk": "@@ -341,7 +341,6 @@ public void initPlayer(boolean playOnReady) {\n         @Override\n         public void handleIntent(final Intent intent) {\n             super.handleIntent(intent);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzY4NDQ3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjo1ODoxM1rOFyAung==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNzo0NzozNVrOFydl5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk4NTA1NA==", "bodyText": "Are you sure it is ok to call isMuted() here? What if simpleExoPlayer is null, and the call to getVolume() fails?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r387985054", "createdAt": "2020-03-04T22:58:13Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -275,6 +277,7 @@ public void handleIntent(Intent intent) {\n         final float playbackPitch = intent.getFloatExtra(PLAYBACK_PITCH, getPlaybackPitch());\n         final boolean playbackSkipSilence = intent.getBooleanExtra(PLAYBACK_SKIP_SILENCE,\n                 getPlaybackSkipSilence());\n+        final boolean isMuted = intent.getBooleanExtra(IS_MUTED, isMuted());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ1NjM5MQ==", "bodyText": "To be honest I haven't thought about that risk while writting it. And now I think there is no \"null risk\"... I think so because handleIntent() is only called when intent is received -> which happens only while switching between base/popup/bckgrnd player -> which have to be != null ass Intent comes from other player :) But maybe I am missing something. Please correct me if I am wrong.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388456391", "createdAt": "2020-03-05T17:44:32Z", "author": {"login": "karkaminski"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -275,6 +277,7 @@ public void handleIntent(Intent intent) {\n         final float playbackPitch = intent.getFloatExtra(PLAYBACK_PITCH, getPlaybackPitch());\n         final boolean playbackSkipSilence = intent.getBooleanExtra(PLAYBACK_SKIP_SILENCE,\n                 getPlaybackSkipSilence());\n+        final boolean isMuted = intent.getBooleanExtra(IS_MUTED, isMuted());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk4NTA1NA=="}, "originalCommit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODQ1Nzk1Ng==", "bodyText": "No, that's reasonable, you are right. But I'd put a null check anyway just to be sure, something like\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    final boolean isMuted = intent.getBooleanExtra(IS_MUTED, isMuted());\n          \n          \n            \n                    final boolean isMuted = intent.getBooleanExtra(IS_MUTED, simpleExoPlayer == null ? false : isMuted());", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388457956", "createdAt": "2020-03-05T17:47:35Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -275,6 +277,7 @@ public void handleIntent(Intent intent) {\n         final float playbackPitch = intent.getFloatExtra(PLAYBACK_PITCH, getPlaybackPitch());\n         final boolean playbackSkipSilence = intent.getBooleanExtra(PLAYBACK_SKIP_SILENCE,\n                 getPlaybackSkipSilence());\n+        final boolean isMuted = intent.getBooleanExtra(IS_MUTED, isMuted());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk4NTA1NA=="}, "originalCommit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNzAwNjU0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOToxNjozM1rOFygjXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMDoyMDoxNFrOFyiquw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwNjQ2MA==", "bodyText": "What if the theme is white theme? The active button color should be black in that case. I'd suggest adding two attributes in attrs.xml named something along the lines of button_active and button_inactive and giving them different color values in the themes.xml file, so that they are themed.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388506460", "createdAt": "2020-03-05T19:16:33Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,11 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUxNjUxNg==", "bodyText": "White theme does not affect background color for Main video player. Background is always black for this player. So if icon would turn black in WhiteTheme, then it would become invisible ;)", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388516516", "createdAt": "2020-03-05T19:34:19Z", "author": {"login": "karkaminski"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,11 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwNjQ2MA=="}, "originalCommit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUzNDAwNw==", "bodyText": "Oh you are right, nevermind \ud83e\udd26\u200d\u2642\ufe0f\nThen there should be different code for every player, at this point", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388534007", "createdAt": "2020-03-05T20:06:46Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,11 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwNjQ2MA=="}, "originalCommit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU0MTExNQ==", "bodyText": "For MainVideoPlayer icon change happens in setMuteButton (place you've mentioned above).\nFor PopUp and Background, icon change happens for queue in ServicePlayerActivity in onMaybeMuteChanged. I did it similarly to other buttons, (e.g onPlayModeChanged also in ServicePlayerActivity)", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388541115", "createdAt": "2020-03-05T20:20:14Z", "author": {"login": "karkaminski"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,11 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwNjQ2MA=="}, "originalCommit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "originalPosition": 76}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3313, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}