{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MjEzNzY1", "number": 3373, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMTowNDoxOVrODvE55g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NDo1M1rODx-kqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNjkwMDIyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/database/subscription/SubscriptionDAO.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMTowNDoxOVrOGBSmZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNjowMjowNFrOGDfPzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAwNjUwMA==", "bodyText": "You made it diacritic sensitive, and it's really annoying for languages with diacritics, because you never know if people have respected diacritics or not.\nFrom this SO, collate Latin1_general_CI_AI (Case Insensitive Accent Insensitive) should do the job\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    ORDER BY name COLLATE NOCASE ASC\n          \n          \n            \n                    ORDER BY name COLLATE Latin1_general_CI_AI", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3373#discussion_r404006500", "createdAt": "2020-04-06T11:04:19Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/database/subscription/SubscriptionDAO.kt", "diffHunk": "@@ -16,6 +16,13 @@ abstract class SubscriptionDAO : BasicDAO<SubscriptionEntity> {\n     @Query(\"SELECT * FROM subscriptions ORDER BY name COLLATE NOCASE ASC\")\n     abstract override fun getAll(): Flowable<List<SubscriptionEntity>>\n \n+    @Query(\"\"\"\n+        SELECT * FROM subscriptions\n+        WHERE name LIKE '%' || :filter || '%'\n+        ORDER BY name COLLATE NOCASE ASC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a91ee2d2c8e36ab2e9eeae6175aba59a5adba074"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMxMDg2Mw==", "bodyText": "Yep, I did noticed that.\nHowever, I don't think it is that easy to fix it. Android's SQLite doesn't have a collation available for this use case and I'm not sure if SQLite itself even supports using it for the LIKE statement.\nSome solutions that I found is to either have a column (in some table) where you normalize these characters when inserting to it, or transforming the search query into a expression that treat those special characters as normal ones (e.g. [a\u00e1\u00e0\u00e3A\u00c1\u00c0\u00c3...]). We could also add support for the accent insensitive LIKE natively, but I'm not so sure about that...\nMaybe I missed something about this in Android, so let me know if you find some native solution for this.\nStill, for the order, UNICODE or LOCALIZED would've been better here (available in Android).\nI'll leave these issues for another PR because that's how it's done in multiple queries across the app, would have to change them as well.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3373#discussion_r406310863", "createdAt": "2020-04-09T16:02:04Z", "author": {"login": "mauriciocolli"}, "path": "app/src/main/java/org/schabi/newpipe/database/subscription/SubscriptionDAO.kt", "diffHunk": "@@ -16,6 +16,13 @@ abstract class SubscriptionDAO : BasicDAO<SubscriptionEntity> {\n     @Query(\"SELECT * FROM subscriptions ORDER BY name COLLATE NOCASE ASC\")\n     abstract override fun getAll(): Flowable<List<SubscriptionEntity>>\n \n+    @Query(\"\"\"\n+        SELECT * FROM subscriptions\n+        WHERE name LIKE '%' || :filter || '%'\n+        ORDER BY name COLLATE NOCASE ASC", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDAwNjUwMA=="}, "originalCommit": {"oid": "a91ee2d2c8e36ab2e9eeae6175aba59a5adba074"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMyMDA5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/schabi/newpipe/local/subscription/dialog/FeedGroupDialog.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NDo1M1rOGFwLeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NDo1M1rOGFwLeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NTQzMw==", "bodyText": "Here it seems like you are returning something even though the function is void, I find it confusing\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                return super.onBackPressed()\n          \n          \n            \n                                super.onBackPressed()", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3373#discussion_r408685433", "createdAt": "2020-04-15T08:54:53Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/local/subscription/dialog/FeedGroupDialog.kt", "diffHunk": "@@ -81,15 +85,19 @@ class FeedGroupDialog : DialogFragment() {\n     override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n         return object : Dialog(requireActivity(), theme) {\n             override fun onBackPressed() {\n-                if (currentScreen !is InitialScreen) {\n-                    showScreen(InitialScreen)\n-                } else {\n-                    super.onBackPressed()\n+                if (!this@FeedGroupDialog.onBackPressed()) {\n+                    return super.onBackPressed()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "841f47ecfe36d8f80706a3911601995ced759993"}, "originalPosition": 91}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3132, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}