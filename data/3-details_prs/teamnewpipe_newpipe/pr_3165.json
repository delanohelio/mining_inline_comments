{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMDM3NDkz", "number": 3165, "title": "Mute button", "bodyText": "Closes #2876.\nAdded \"Mute button\" for MainPlayer, BackgroundPlayer and PopupPlayer.\nmute_button-debug.zip\n\n I carefully read the contribution guidelines and agree to them.", "createdAt": "2020-03-01T12:23:01Z", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165", "merged": true, "mergeCommit": {"oid": "8fa29ffc1985d1a6b31d72dbda3819adee214c4c"}, "closed": true, "closedAt": "2020-03-08T09:29:26Z", "author": {"login": "karkaminski"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHO81MAH2gAyMzgyMDM3NDkzOmRjNmEwZTNlZWMzMmQyMWVkZGQxMGZlNGJkZDQxNDcxNDBkN2Y3OWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKxn9PgFqTM2OTg5MzgxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dc6a0e3eec32d21eddd10fe4bdd4147140d7f79a", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/dc6a0e3eec32d21eddd10fe4bdd4147140d7f79a", "committedDate": "2020-02-23T20:28:40Z", "message": "mute-button added to activity_main_player.xml's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4415888324285e741c2f3bf8303dd08303150245", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/4415888324285e741c2f3bf8303dd08303150245", "committedDate": "2020-02-23T21:32:23Z", "message": "mute-button implementation in main player"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc559dc9ce181fef19946667bfe4a9b5e827ee8d", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/cc559dc9ce181fef19946667bfe4a9b5e827ee8d", "committedDate": "2020-02-23T21:55:34Z", "message": "isMuted() added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a63f2a3a633b18d87f4874f11d6961ad2e5a907", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/2a63f2a3a633b18d87f4874f11d6961ad2e5a907", "committedDate": "2020-02-23T22:31:30Z", "message": "mute-buton in queue layout and logic, but no icon change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4d5886059a782595232e6fd56041777a305c871", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/c4d5886059a782595232e6fd56041777a305c871", "committedDate": "2020-02-23T22:44:16Z", "message": "icon change implemented in queque"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40f54aea5353cdcfc52a533665a5d495364c3a91", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/40f54aea5353cdcfc52a533665a5d495364c3a91", "committedDate": "2020-02-27T21:30:18Z", "message": "mute intent send between main-bckgrnd-popup players"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0400fcb10609950c4b79b97ac104e0388c2aae8c", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/0400fcb10609950c4b79b97ac104e0388c2aae8c", "committedDate": "2020-02-27T22:30:17Z", "message": "mute icon in main refactored"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee75909c80d399d03d548127ecc2454740ae5b51", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/ee75909c80d399d03d548127ecc2454740ae5b51", "committedDate": "2020-03-01T12:02:20Z", "message": "set mute button in main player from other player"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODU5Nzgw", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-366859780", "createdAt": "2020-03-01T13:36:40Z", "commit": {"oid": "ee75909c80d399d03d548127ecc2454740ae5b51"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzozNjo0MFrOFwON2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMzozNjo0MFrOFwON2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwODg5MQ==", "bodyText": "Rename this here and in other players\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void onMuteUnmuteButtonClicled() {\n          \n          \n            \n                public void onMuteUnmuteButtonClicked() {", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386108891", "createdAt": "2020-03-01T13:36:40Z", "author": {"login": "B0pol"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -532,6 +538,18 @@ public void onShuffleClicked() {\n         if (simpleExoPlayer == null) return;\n         simpleExoPlayer.setShuffleModeEnabled(!simpleExoPlayer.getShuffleModeEnabled());\n     }\n+    /*//////////////////////////////////////////////////////////////////////////\n+    // Mute / Unmute\n+    //////////////////////////////////////////////////////////////////////////*/\n+\n+    public void onMuteUnmuteButtonClicled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee75909c80d399d03d548127ecc2454740ae5b51"}, "originalPosition": 71}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1", "committedDate": "2020-03-01T15:42:46Z", "message": "fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MjE5MTgy", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-367219182", "createdAt": "2020-03-02T14:01:59Z", "commit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDowMTo1OVrOFwgiDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNzo1MVrOFwhDyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQwODk3Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (isMuted) {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n          \n          \n            \n                    } else {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n          \n          \n            \n            \n          \n          \n            \n                    }\n          \n          \n            \n                    muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386408972", "createdAt": "2020-03-02T14:01:59Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,16 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        if (isMuted) {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n+        } else {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n+\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQwOTkxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (player.isMuted()) {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n          \n          \n            \n                    }\n          \n          \n            \n                    else {\n          \n          \n            \n                        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n          \n          \n            \n                    }\n          \n          \n            \n                }\n          \n          \n            \n                    muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));\n          \n          \n            \n                }", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386409916", "createdAt": "2020-03-02T14:03:51Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/ServicePlayerActivity.java", "diffHunk": "@@ -676,4 +685,13 @@ private void onMaybePlaybackAdapterChanged() {\n             itemsList.setAdapter(maybeNewAdapter);\n         }\n     }\n+\n+    private void onMaybeMuteChanged(){\n+        if (player.isMuted()) {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.white));\n+        }\n+        else {\n+            muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), R.color.gray));\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxMzExOA==", "bodyText": "Just to make sure the volume is at maximum, since you removed this line: https://github.com/TeamNewPipe/NewPipe/pull/3165/files#diff-0b87dfa694cf6a7720aee912b16ab32dL392\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (isMuted) simpleExoPlayer.setVolume(0);\n          \n          \n            \n                    simpleExoPlayer.setVolume(isMuted ? 0 : 1);", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386413118", "createdAt": "2020-03-02T14:09:46Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -327,6 +331,8 @@ protected void initPlayback(@NonNull final PlayQueue queue,\n \n         if (playQueueAdapter != null) playQueueAdapter.dispose();\n         playQueueAdapter = new PlayQueueAdapter(context, playQueue);\n+\n+        if (isMuted) simpleExoPlayer.setVolume(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxNzYxMA==", "bodyText": "Readd this newline", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r386417610", "createdAt": "2020-03-02T14:17:51Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BackgroundPlayer.java", "diffHunk": "@@ -341,7 +341,6 @@ public void initPlayer(boolean playOnReady) {\n         @Override\n         public void handleIntent(final Intent intent) {\n             super.handleIntent(intent);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6fcb70d1275e8a1fbc3f712b9152233b1fe8bb1"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92ee51b8db64b4ba6d4dfb22a925af2b4a37dd02", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/92ee51b8db64b4ba6d4dfb22a925af2b4a37dd02", "committedDate": "2020-03-02T20:12:02Z", "message": "resolved issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c79f09c119f156cddc574850f79b97a1d9eb9fb0", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/c79f09c119f156cddc574850f79b97a1d9eb9fb0", "committedDate": "2020-03-02T21:52:58Z", "message": "mute button in actionbar, no color change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "840bb29c542c797123eede58c15b3482a7e47bb6", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/840bb29c542c797123eede58c15b3482a7e47bb6", "committedDate": "2020-03-02T23:01:19Z", "message": "icon color change in action bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ae8a72ba6d222b6fbf8977f8932f4835dbe85cc", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/1ae8a72ba6d222b6fbf8977f8932f4835dbe85cc", "committedDate": "2020-03-04T17:37:04Z", "message": "mute icon change in action bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/83c7c4a68e795d22e2e84bc0e541b68af82c42e1", "committedDate": "2020-03-04T17:53:17Z", "message": "mute/unmute text change in action bar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MTg2NDMx", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-369186431", "createdAt": "2020-03-04T22:58:13Z", "commit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjo1ODoxM1rOFyAung==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMjo1ODoxM1rOFyAung==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Nzk4NTA1NA==", "bodyText": "Are you sure it is ok to call isMuted() here? What if simpleExoPlayer is null, and the call to getVolume() fails?", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r387985054", "createdAt": "2020-03-04T22:58:13Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/BasePlayer.java", "diffHunk": "@@ -275,6 +277,7 @@ public void handleIntent(Intent intent) {\n         final float playbackPitch = intent.getFloatExtra(PLAYBACK_PITCH, getPlaybackPitch());\n         final boolean playbackSkipSilence = intent.getBooleanExtra(PLAYBACK_SKIP_SILENCE,\n                 getPlaybackSkipSilence());\n+        final boolean isMuted = intent.getBooleanExtra(IS_MUTED, isMuted());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83c7c4a68e795d22e2e84bc0e541b68af82c42e1"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb", "author": {"user": {"login": "karkaminski", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipe/commit/55d7be0b2fb9e08402e28a560cdc63fe787d3afb", "committedDate": "2020-03-05T18:07:46Z", "message": "null risk issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODQxMTM4", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-369841138", "createdAt": "2020-03-05T19:13:50Z", "commit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODQyMDM5", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-369842039", "createdAt": "2020-03-05T19:15:05Z", "commit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOToxNjozM1rOFygjXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOToxNjozM1rOFygjXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUwNjQ2MA==", "bodyText": "What if the theme is white theme? The active button color should be black in that case. I'd suggest adding two attributes in attrs.xml named something along the lines of button_active and button_inactive and giving them different color values in the themes.xml file, so that they are themed.", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#discussion_r388506460", "createdAt": "2020-03-05T19:16:33Z", "author": {"login": "Stypox"}, "path": "app/src/main/java/org/schabi/newpipe/player/MainVideoPlayer.java", "diffHunk": "@@ -394,6 +400,11 @@ protected void setShuffleButton(final ImageButton shuffleButton, final boolean s\n         shuffleButton.setImageAlpha(shuffleAlpha);\n     }\n \n+    protected void setMuteButton(final ImageButton muteButton, final boolean isMuted) {\n+        muteButton.setColorFilter(ContextCompat.getColor(getApplicationContext(), isMuted ? R.color.white : R.color.gray));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODkzODEx", "url": "https://github.com/TeamNewPipe/NewPipe/pull/3165#pullrequestreview-369893811", "createdAt": "2020-03-05T20:34:19Z", "commit": {"oid": "55d7be0b2fb9e08402e28a560cdc63fe787d3afb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4037, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}