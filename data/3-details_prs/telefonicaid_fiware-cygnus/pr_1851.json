{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MTcxNzc4", "number": 1851, "title": "fix persistence error mongo authentication", "bodyText": "Please check this PR that solve the issue #1849 ([cygnus][bug] Persistence Error Mongo Authentication and side effect #1849)\nI made exhaustive tests and it work fine with various configuration and various users created by different way and with several data source (iotagents) send to the Orion Context Broker.\nNow the databases (based on \"Fiware-Service\") and corresponding collections (based on \"Fiware-ServicePath\") are created automatically on the fly without manual action on mongodb when cygnus receive the data by notification (i.e. by subscription).\nWith this modification using auth_source option for mongo authentication, there is no side effect when more than one data source is received with different \"Fiware-Service\" and different \"Fiware-ServicePath\" at the same time or concurrently.\nThe \"agent_1.conf\" must add the following entry as example:\n# a valid user in the MongoDB server (or empty if authentication is not enabled in MongoDB)\ncygnus-ngsi.sinks.mongo-sink.mongo_username = TheUser\n# password for the user above (or empty if authentication is not enabled in MongoDB)\ncygnus-ngsi.sinks.mongo-sink.mongo_password = ThePassword\n# Mongo option to specify which common user database source to use for authentication\ncygnus-ngsi.sinks.mongo-sink.mongo_auth_source = TheAuthSource\n\nThe new entry in the agent configuration file for mongo sink is:\n# Mongo option to specify which common user database source to use for authentication\ncygnus-ngsi.sinks.mongo-sink.mongo_auth_source = TheAuthSource\n\nIf this new entry is not specified in the agent configuration file and authentication with the credentials is enabled, then the cygnus will work the same as before with the side effect as described in the issue (because it will use the corresponding dbName as before). I mean if we want to access mongodb with authentication mechanism auth_source must be specified and all will work fine.\nUsually mongo_auth_source could be \"admin\" but could be another database where the user created must have the correct rights and correct privileges to access read/write the other DB based on the \"Fiware-Service\" value (i.e. DB name starting with \"sth_\").\nThe pertinent user should be created in the auth source DB:\nFor example:\nuse admin\ndb.createUser(\n  {\n    user: \"TheUser\",\n    pwd: \"ThePassword\",\n    roles : [\"readWriteAnyDatabase\"],\n    mechanisms : [\n      \"SCRAM-SHA-1\",\n      \"SCRAM-SHA-256\"\n    ]\n  }\n)\n\nOr to adding more restrictions on the DB, if you know in advance the name of the database based on the \"Fiware-Service\" value:\ndb.createUser(\n  {\n    user: \"TheUser\",\n    pwd: \"ThePassword\",\n    roles : [\n      {\n        role : \"readWrite\",\n        db : \"sth_service1\"\n      },\n      {\n        role : \"readWrite\",\n        db : \"sth_service2\"\n      }\n    ],\n    mechanisms : [\n      \"SCRAM-SHA-1\",\n      \"SCRAM-SHA-256\"\n    ]\n  }\n)\n\nNotice that just after creating the user in the DB auth source, it is recommended to restart the mongo database, just in case, to apply the changes correctly (by using \"sudo service mongod restart\").\nThe only file modifies are:\n\ncygnus-common - MongoBackendImpl.java\ncygnus-ngsi - NGSIMongoBaseSink.java", "createdAt": "2020-04-01T18:51:48Z", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851", "merged": true, "mergeCommit": {"oid": "a4e1807bf0f6339737f3f08a9b5f37e0630ae1c9"}, "closed": true, "closedAt": "2020-04-14T11:24:35Z", "author": {"login": "srrspace"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTbl5AAH2gAyMzk3MTcxNzc4OmUwZWJkOTJhNGU3NTJjZDJkNzg2MDFhZjI1N2ExZjE1Y2E1MDEzZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXhtbxAFqTM5MjgzNDI3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/e0ebd92a4e752cd2d78601af257a1f15ca5013f6", "committedDate": "2020-04-01T17:59:28Z", "message": "fix persistence error mongo authentication"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MjkxMDgx", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-386291081", "createdAt": "2020-04-02T10:19:31Z", "commit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoxOTozMlrOF_ks-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoxOTozMlrOF_ks-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjIwNTk0NA==", "bodyText": "There is no need to overload the costructor in this case, since mongoAuthSource has a not null validation on getDatabase.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r402205944", "createdAt": "2020-04-02T10:19:32Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/mongo/MongoBackendImpl.java", "diffHunk": "@@ -72,6 +73,25 @@ public MongoBackendImpl(String mongoHosts, String mongoUsername, String mongoPas\n         this.mongoHosts = mongoHosts;\n         this.mongoUsername = mongoUsername;\n         this.mongoPassword = mongoPassword;\n+        this.mongoAuthSource = \"\";\n+        this.dataModel = dataModel;\n+    } // MongoBackendImpl\n+\n+    /**\n+     * Constructor.\n+     * @param mongoHosts\n+     * @param mongoUsername\n+     * @param mongoPassword\n+     * @param mongoAuthSource\n+     * @param dataModel\n+     */\n+    public MongoBackendImpl(String mongoHosts, String mongoUsername, String mongoPassword,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2Mjk0MjE1", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-386294215", "createdAt": "2020-04-02T10:24:19Z", "commit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoyNDoxOVrOF_k3RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoyNDoxOVrOF_k3RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjIwODU4MQ==", "bodyText": "I thing it's more usuall that the default authSource is \"admin\". It would be better if the default value of mongo_auth_source is \"admin\".", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r402208581", "createdAt": "2020-04-02T10:24:19Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMongoBaseSink.java", "diffHunk": "@@ -98,33 +107,35 @@ protected void setBackend(MongoBackendImpl backend) {\n     protected MongoBackendImpl getBackend() {\n         return backend;\n     } // getBackend\n-    \n+\n     @Override\n     public void configure(Context context) {\n         super.configure(context);\n-        \n+\n         mongoHosts = context.getString(\"mongo_hosts\", \"localhost:27017\");\n         LOGGER.debug(\"[\" + this.getName() + \"] Reading configuration (mongo_hosts=\" + mongoHosts + \")\");\n         mongoUsername = context.getString(\"mongo_username\", \"\");\n         LOGGER.debug(\"[\" + this.getName() + \"] Reading configuration (mongo_username=\" + mongoUsername + \")\");\n         // FIXME: mongoPassword should be read as a SHA1 and decoded here\n         mongoPassword = context.getString(\"mongo_password\", \"\");\n         LOGGER.debug(\"[\" + this.getName() + \"] Reading configuration (mongo_password=\" + mongoPassword + \")\");\n-        \n+        mongoAuthSource = context.getString(\"mongo_auth_source\", \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2Mjk2NjQw", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-386296640", "createdAt": "2020-04-02T10:27:58Z", "commit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoyNzo1OFrOF_k-6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDoyNzo1OFrOF_k-6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjIxMDUzNw==", "bodyText": "Not sure if the dbName is the right authSource in case it is not specified.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r402210537", "createdAt": "2020-04-02T10:27:58Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/mongo/MongoBackendImpl.java", "diffHunk": "@@ -492,9 +512,20 @@ private MongoDatabase getDatabase(String dbName) {\n \n         if (client == null) {\n             if (mongoUsername.length() != 0) {\n-                MongoCredential credential = MongoCredential.createCredential(mongoUsername, dbName,\n+                String authSource;\n+                if ((mongoAuthSource != null) && !mongoAuthSource.isEmpty()) {\n+                    authSource = mongoAuthSource;\n+                } else {\n+                    authSource = dbName;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "originalPosition": 106}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MzEzNTY5", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-386313569", "createdAt": "2020-04-02T10:53:00Z", "commit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDo1MzowMFrOF_lzRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxMDo1MzowMFrOF_lzRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjIyMzk0MQ==", "bodyText": "is this ever used?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r402223941", "createdAt": "2020-04-02T10:53:00Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/mongo/MongoBackendImpl.java", "diffHunk": "@@ -600,4 +631,24 @@ protected int getOffset(GregorianCalendar calendar, Resolution resolution) {\n         return offset;\n     } // getOffset\n \n+    /**\n+     * Gets the mongo auth_source\n+     * @return\n+     */\n+    public String getAuthSource() {\n+        return mongoAuthSource;\n+    } // getAuthSource\n+\n+    /**\n+     * Set the mongo auth_source\n+     * @param authSource DB used for mongo authentication\n+     */\n+    public void setAuthSource(String authSource) {\n+        if (authSource != null) {\n+            this.mongoAuthSource = authSource;\n+        } else {\n+            this.mongoAuthSource = \"\";\n+        }\n+    } // setAuthSource\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0ebd92a4e752cd2d78601af257a1f15ca5013f6"}, "originalPosition": 151}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99025be69930f7fccb2cb7dec46dff99f034297c", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/99025be69930f7fccb2cb7dec46dff99f034297c", "committedDate": "2020-04-02T16:36:26Z", "message": "Update CHANGES_NEXT_RELEASE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59b52cf6daa4fffd9ce10c6705f36276fb6a0b5e", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/59b52cf6daa4fffd9ce10c6705f36276fb6a0b5e", "committedDate": "2020-04-02T16:40:11Z", "message": "Fix persistence error mongo authentication adding mongoAuthSource parameter to built Mongo backend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8ddffb74f385d2608ac3561c2ac2ff2b9a50b4", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2a8ddffb74f385d2608ac3561c2ac2ff2b9a50b4", "committedDate": "2020-04-02T16:56:38Z", "message": "Add a new mongoAuthSource parameter to create the Mongo backend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3de97a897dccc6a31446088f6c2a2f551b248e37", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/3de97a897dccc6a31446088f6c2a2f551b248e37", "committedDate": "2020-04-02T17:44:21Z", "message": "Update the documentation to reference the mongo_auth_source parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83e6db00e272403b66b5c615e370bb27e0eead0e", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/83e6db00e272403b66b5c615e370bb27e0eead0e", "committedDate": "2020-04-02T17:47:40Z", "message": "Update docker file, configuration, entrypoint to reference the mongo_auth_source parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/773eb00c8d8972962e2448c59fe797424df6471b", "committedDate": "2020-04-02T17:50:06Z", "message": "Update cygnus-ngsi agent configuration template, test files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MTc2NDk0", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-387176494", "createdAt": "2020-04-03T11:34:01Z", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MzI4ODk5", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-387328899", "createdAt": "2020-04-03T14:52:26Z", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1MjoyN1rOGAY9kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1MjoyN1rOGAY9kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA2MjE2Mw==", "bodyText": "The new parameter mongo_auth_source should be also added to the configuration table included in this file .md file.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r403062163", "createdAt": "2020-04-03T14:52:27Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_mongo_sink.md", "diffHunk": "@@ -332,6 +332,7 @@ A configuration example could be:\n     cygnus-ngsi.sinks.mongo-sink.mongo_hosts = 192.168.80.34:27017\n     cygnus-ngsi.sinks.mongo-sink.mongo_username = myuser\n     cygnus-ngsi.sinks.mongo-sink.mongo_password = mypassword\n+    cygnus-ngsi.sinks.mongo-sink.mongo_auth_source = admin\n     cygnus-ngsi.sinks.mongo-sink.db_prefix = cygnus_", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MzI5MDEy", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-387329012", "createdAt": "2020-04-03T14:52:33Z", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1MjozM1rOGAY-Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1MjozM1rOGAY-Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA2MjI4Mg==", "bodyText": "The new parameter mongo_auth_source should be also added to the configuration table included in this file .md file.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r403062282", "createdAt": "2020-04-03T14:52:33Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_sth_sink.md", "diffHunk": "@@ -330,6 +330,7 @@ A configuration example could be:\n     cygnus-ngsi.sinks.sth-sink.mongo_hosts = 192.168.80.34:27017\n     cygnus-ngsi.sinks.sth-sink.mongo_username = myuser\n     cygnus-ngsi.sinks.sth-sink.mongo_password = mypassword\n+    cygnus-ngsi.sinks.sth-sink.mongo_auth_source = admin", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MzMxNzM3", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-387331737", "createdAt": "2020-04-03T14:55:38Z", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1NTozOFrOGAZG4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1NTozOFrOGAZG4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA2NDU0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [cygnus-ngsi][MongoSink] Add a new mongoAuthSource parameter to create the Mongo backend.\n          \n          \n            \n            [cygnus-ngsi][MongoSink][MongoSTH] Add a new mongoAuthSource parameter to create the Mongo backend.\n          \n      \n    \n    \n  \n\nGiven that, as far as I understand, both sinks are \"solved\" by this PR.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r403064545", "createdAt": "2020-04-03T14:55:38Z", "author": {"login": "fgalan"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -12,3 +12,5 @@\n [cygnus-ngsi][Elasticsearch] Fix a bug that non-Latin characters such as Japanese are garbled. (#1839)\n [cygnus-ngsi][MongoSink]Fix on mongo collection name asignation. (#1845)\n [cygnus-ngsi][MongoSink]Fix on mongo recvTime Date format.\n+[cygnus-common][MongoBackend] Fix persistence error mongo authentication and side effect. (#1849)\n+[cygnus-ngsi][MongoSink] Add a new mongoAuthSource parameter to create the Mongo backend.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MzM1MTA4", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-387335108", "createdAt": "2020-04-03T14:59:25Z", "commit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1OToyNlrOGAZRuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxNDo1OToyNlrOGAZRuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzA2NzMyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [cygnus-common][MongoBackend] Fix persistence error mongo authentication and side effect. (#1849)\n          \n          \n            \n            [cygnus-common][MongoBackend] Fix persistence error mongo authentication and side effect (using new configuration parameter mongo_auth_source). (#1849)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#discussion_r403067320", "createdAt": "2020-04-03T14:59:26Z", "author": {"login": "fgalan"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -12,3 +12,5 @@\n [cygnus-ngsi][Elasticsearch] Fix a bug that non-Latin characters such as Japanese are garbled. (#1839)\n [cygnus-ngsi][MongoSink]Fix on mongo collection name asignation. (#1845)\n [cygnus-ngsi][MongoSink]Fix on mongo recvTime Date format.\n+[cygnus-common][MongoBackend] Fix persistence error mongo authentication and side effect. (#1849)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773eb00c8d8972962e2448c59fe797424df6471b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3a06b5b5f9880b69563ae90a2f48171280f5606", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/c3a06b5b5f9880b69563ae90a2f48171280f5606", "committedDate": "2020-04-06T14:52:58Z", "message": "Update the documentation, mongo_auth_source added to the configuration table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83c5ddb36bbf47d766560fe8726a1775bb2ff6b4", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/83c5ddb36bbf47d766560fe8726a1775bb2ff6b4", "committedDate": "2020-04-06T14:59:47Z", "message": "Update the documentation, mongo_auth_source added to the configuration table"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5Nzk1NTEx", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-389795511", "createdAt": "2020-04-08T09:17:06Z", "commit": {"oid": "83c5ddb36bbf47d766560fe8726a1775bb2ff6b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c19f6df8e8085f50c6c0f9ce489caf9a70e5273a", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/c19f6df8e8085f50c6c0f9ce489caf9a70e5273a", "committedDate": "2020-04-14T08:16:07Z", "message": "Update CHANGES_NEXT_RELEASE\n\nCo-Authored-By: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75914ad0956bedba2f2e9417e7bac6ea728e1ecb", "author": {"user": {"login": "srrspace", "name": "Said Rahma"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/75914ad0956bedba2f2e9417e7bac6ea728e1ecb", "committedDate": "2020-04-14T10:30:05Z", "message": "Update CHANGES_NEXT_RELEASE\n\nCo-Authored-By: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyODM0Mjc5", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1851#pullrequestreview-392834279", "createdAt": "2020-04-14T11:22:50Z", "commit": {"oid": "75914ad0956bedba2f2e9417e7bac6ea728e1ecb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3823, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}