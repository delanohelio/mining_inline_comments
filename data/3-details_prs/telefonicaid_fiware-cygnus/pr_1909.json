{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNzk5NzY4", "number": 1909, "title": "added replica set option to the mongodb connection", "bodyText": "It's now possible to set the replica set name for the mongodb connection.\nEnvironment variable: CYGNUS_MONGO_REPLICA_SET", "createdAt": "2020-08-26T10:07:47Z", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909", "merged": true, "mergeCommit": {"oid": "c1a5f09b21f68ef722e932afa12f902479610e9d"}, "closed": true, "closedAt": "2020-09-30T11:59:08Z", "author": {"login": "SamuelTJackson"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCo4rwAH2gAyNDczNzk5NzY4OjExZDM0ZGU5NWJjZGRjMDE4YzljZDg2ZTMxOWFkZmRlNWE0NjM0MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdN7hT3AFqTQ5OTM1Mjc4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420", "author": {"user": {"login": "SamuelTJackson", "name": "Samuel"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/11d34de95bcddc018c9cd86e319adfde5a463420", "committedDate": "2020-08-26T10:03:12Z", "message": "added replica set option to the mongodb connection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NTM2MDE2", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495536016", "createdAt": "2020-09-24T12:51:27Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NTgyNDI1", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495582425", "createdAt": "2020-09-24T13:41:19Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjAwNTQ3", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495600547", "createdAt": "2020-09-24T13:56:49Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMzo1Njo0OVrOHXcK2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMzo1Njo0OVrOHXcK2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0MDgyNA==", "bodyText": "CHANGES_NEXT_RELEASE entry corresponding to the changes in this PR should be added (with a mention of the new configuration parameter being added)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494340824", "createdAt": "2020-09-24T13:56:49Z", "author": {"login": "fgalan"}, "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/mongo/MongoBackendImpl.java", "diffHunk": "@@ -57,6 +57,7 @@\n     private final String mongoUsername;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjAzNTc2", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495603576", "createdAt": "2020-09-24T13:59:13Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMzo1OToxM1rOHXcTTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMzo1OToxM1rOHXcTTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0Mjk4OA==", "bodyText": "I think is would be a good idea to remark the optionality of this parameter, the following way:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |\n          \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Note that this parameter is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name. |\n          \n      \n    \n    \n  \n\nWith regards to replica I think is not so usual :) so better not mention about it.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494342988", "createdAt": "2020-09-24T13:59:13Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_mongo_sink.md", "diffHunk": "@@ -306,6 +306,7 @@ If `data_model=dm-by-entity` and `attr_persistence=column` then `NGSIMongoSink`\n | mongo\\_username | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_password | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_auth_source | no | <i>empty</i> | Auth source database use to authenticate the user. Usually could be `admin`. |\n+| mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjA0NjI2", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495604626", "createdAt": "2020-09-24T14:00:14Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDowMDoxNFrOHXcXgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDowMDoxNFrOHXcXgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDA2Ng==", "bodyText": "Similar comment:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |\n          \n          \n            \n            | mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Note that this parameter is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name. |", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494344066", "createdAt": "2020-09-24T14:00:14Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-ngsi/flume_extensions_catalogue/ngsi_sth_sink.md", "diffHunk": "@@ -306,6 +306,7 @@ Assuming `data_model=dm-by-entity` and all the possible resolutions as configura\n | mongo\\_username | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_password | no | <i>empty</i> | If empty, no authentication is done. |\n | mongo\\_auth_source | no | <i>empty</i> | Auth source database use to authenticate the user. Usually could be `admin`. |\n+| mongo\\_replica_set | no | <i>empty</i> | Replica Set name. Usually could be `replica`. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjA1MjI2", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-495605226", "createdAt": "2020-09-24T14:00:48Z", "commit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDowMDo0OFrOHXcZcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDowMDo0OFrOHXcZcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM0NDU2MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Usually could be `replica`.\n          \n          \n            \n                * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Note that this env var is optional because Cygnus is able to connect to a MongoDB replica set without needing to specify its name.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#discussion_r494344561", "createdAt": "2020-09-24T14:00:48Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-ngsi/installation_and_administration_guide/install_with_docker.md", "diffHunk": "@@ -204,6 +204,7 @@ As seen above, the default configuration distributed with the image is tied to c\n     * The user for Mongo and STH is `mongo` but can be changed through the CYGNUS_MONGO_USER environment variable.\n     * The pass for Mongo and STH is `mongo` but can be changed through the CYGNUS_MONGO_PASS environment variable.\n     * CYGNUS_MONGO_AUTH_SOURCE: Mongo option to specify which common user database source to use for authentication. Usually could be `admin`.\n+    * CYGNUS_MONGO_REPLICA_SET: Mongo option to specify the replica set name. Usually could be `replica`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11d34de95bcddc018c9cd86e319adfde5a463420"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cba084e8ca6f5cb0d476a24f2973985871096eb9", "author": {"user": {"login": "SamuelTJackson", "name": "Samuel"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/cba084e8ca6f5cb0d476a24f2973985871096eb9", "committedDate": "2020-09-30T08:07:48Z", "message": "replica set name is shown as optional in the docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0009d12eb03049767ed0356aba1533364fc8c32", "author": {"user": {"login": "SamuelTJackson", "name": "Samuel"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/d0009d12eb03049767ed0356aba1533364fc8c32", "committedDate": "2020-09-30T08:12:03Z", "message": "Merge branch 'master' into feature/mongodb-replicaset"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MzUyNzg3", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1909#pullrequestreview-499352787", "createdAt": "2020-09-30T11:59:02Z", "commit": {"oid": "d0009d12eb03049767ed0356aba1533364fc8c32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3838, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}