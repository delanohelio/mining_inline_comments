{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMTMwNzcy", "number": 1932, "title": "Task/purge error table", "bodyText": "Tested in MySQL and Postgis\n update doc\nissue #1929", "createdAt": "2020-09-21T08:28:19Z", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932", "merged": true, "mergeCommit": {"oid": "5279a0f7d11c075ce3e2411ff42cb48761b4abc8"}, "closed": true, "closedAt": "2020-09-25T06:51:28Z", "author": {"login": "AlvaroVega"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKDxAJgH2gAyNDkwMTMwNzcyOmNlZTk0ZGEyYjQ5NTNhMzNjY2QwMzNjMWNiY2NmM2JkNThiNWIyMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMCwXhAFqTQ5NTY4MzM4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cee94da2b4953a33ccd033c1cbccf3bd58b5b21c", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/cee94da2b4953a33ccd033c1cbccf3bd58b5b21c", "committedDate": "2020-09-18T11:19:43Z", "message": "purge error table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "769a443aa1323f41d8c3eb920496482082a11e27", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/769a443aa1323f41d8c3eb920496482082a11e27", "committedDate": "2020-09-18T11:29:48Z", "message": "add misssed stmt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6b7407190af315fa0dbf5abe107bbe63dd0306a", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/d6b7407190af315fa0dbf5abe107bbe63dd0306a", "committedDate": "2020-09-21T08:26:03Z", "message": "add maxLatestErrors option to SQL sinks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39e2ae498d8e3550a35ea754f0582b55fba4efa3", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/39e2ae498d8e3550a35ea754f0582b55fba4efa3", "committedDate": "2020-09-21T08:56:59Z", "message": "doc abot max_latest_errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "421eaf036582b40ae5d9259fa49b2f8a9d51a367", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/421eaf036582b40ae5d9259fa49b2f8a9d51a367", "committedDate": "2020-09-21T10:04:40Z", "message": "fix postgresql sql sintax"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e10199771b273f30ce2482f04dabd85db077e47", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/1e10199771b273f30ce2482f04dabd85db077e47", "committedDate": "2020-09-21T13:57:18Z", "message": "update CNR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c71f2f6a518ef6633347aaa9fcf9b64417ad758", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/4c71f2f6a518ef6633347aaa9fcf9b64417ad758", "committedDate": "2020-09-22T09:08:36Z", "message": "Update SQLBackendImpl.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "968ced9578859238c3f5948bfd4d97e1fdcf7025", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/968ced9578859238c3f5948bfd4d97e1fdcf7025", "committedDate": "2020-09-22T09:10:04Z", "message": "Update SQLBackendImpl.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8331f0b996b4cf397d9a571d5f334866a269372", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/e8331f0b996b4cf397d9a571d5f334866a269372", "committedDate": "2020-09-24T09:27:24Z", "message": "Merge branch 'master' into task/purge_error_table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "130554a1e4be25fe564ef772caa493d79e346086", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/130554a1e4be25fe564ef772caa493d79e346086", "committedDate": "2020-09-24T09:31:14Z", "message": "Update SQLBackendImpl.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/1dea0393975094a25e43dda4fd8cb0c210fde25b", "committedDate": "2020-09-24T09:36:01Z", "message": "Update SQLBackendImpl.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjIxNjY4", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#pullrequestreview-495621668", "createdAt": "2020-09-24T14:16:55Z", "commit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNjo1NVrOHXdIHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNjo1NVrOHXdIHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjUxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ENV GIT_REV_CYGNUS \"task/purge_error_table\"\n          \n          \n            \n            ENV GIT_REV_CYGNUS \"master\"\n          \n      \n    \n    \n  \n\n(Seems to be a local change not changed before pushing the commit to github)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356511", "createdAt": "2020-09-24T14:16:55Z", "author": {"login": "fgalan"}, "path": "docker/cygnus-common/Dockerfile", "diffHunk": "@@ -36,7 +36,7 @@ ENV CYGNUS_API_PORT \"8081\"\n # PR https://github.com/telefonicaid/fiware-cygnus/pull/1801 should be also done in this Dockerfile\n # NOTE: Configure correctly GIT_URL_CYGNUS and GIT_REV_CYGNUS for each git branch/fork used\n ENV GIT_URL_CYGNUS \"https://github.com/telefonicaid/fiware-cygnus.git\"\n-ENV GIT_REV_CYGNUS \"master\"\n+ENV GIT_REV_CYGNUS \"task/purge_error_table\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjIxODMz", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#pullrequestreview-495621833", "createdAt": "2020-09-24T14:17:03Z", "commit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNzowNFrOHXdInA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNzowNFrOHXdInA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjYzNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The among of errors which are persisted is the latest 100 by default, but couldd be changed by setting sink option `max_latest_errors`.\n          \n          \n            \n            The among of errors which are persisted is the latest 100 by default, but could be changed by setting sink option `max_latest_errors`.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356636", "createdAt": "2020-09-24T14:17:04Z", "author": {"login": "fgalan"}, "path": "doc/cygnus-common/installation_and_administration_guide/error_persistance.md", "diffHunk": "@@ -5,6 +5,7 @@ If there is an exception when trying to persist data into storage. Cygnus is cap\n This only applies to SQL type backends PostgreSQL & MySQL. Notice that Postgis uses PostgreSQL backend so this function extends to Postgis as well as PostgreSQL and MySQL.\n \n This feature is enabled by default but could be disabled by setting sink option `persist_errors` to false.\n+The among of errors which are persisted is the latest 100 by default, but couldd be changed by setting sink option `max_latest_errors`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjIyMTIy", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#pullrequestreview-495622122", "createdAt": "2020-09-24T14:17:19Z", "commit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNzoxOVrOHXdJZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDoxNzoxOVrOHXdJZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjgzNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (#1929)\n          \n          \n            \n            [cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (max_latest_errors setting) (#1929)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#discussion_r494356837", "createdAt": "2020-09-24T14:17:19Z", "author": {"login": "fgalan"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -1,3 +1,4 @@\n-[cygnus-common][SQLBackendImpl] Add configuration option to persist errors in SQL sinks (#1928)\n+[cygnus-common][SQLBackendImpl] Purge automatically persistence error logs table, keeping latest errors (#1929)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dea0393975094a25e43dda4fd8cb0c210fde25b"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e9a8d64db917f6e3563928cd23ff9eb6a62dc6e", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2e9a8d64db917f6e3563928cd23ff9eb6a62dc6e", "committedDate": "2020-09-24T14:26:45Z", "message": "Update docker/cygnus-common/Dockerfile\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "754fc6d393347a27ef192a8ee9fa3a03204dba00", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/754fc6d393347a27ef192a8ee9fa3a03204dba00", "committedDate": "2020-09-24T14:26:57Z", "message": "Update doc/cygnus-common/installation_and_administration_guide/error_persistance.md\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69fd4fb869866a5320b2e2aa93a05e3f71e5136c", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/69fd4fb869866a5320b2e2aa93a05e3f71e5136c", "committedDate": "2020-09-24T14:27:10Z", "message": "Update CHANGES_NEXT_RELEASE\n\nCo-authored-by: Ferm\u00edn Gal\u00e1n M\u00e1rquez <fgalan@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "458cc5f7b74e5c432af60caa594c847f8f4a23fa", "author": {"user": {"login": "AlvaroVega", "name": "Alvaro Vega"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/458cc5f7b74e5c432af60caa594c847f8f4a23fa", "committedDate": "2020-09-24T14:37:02Z", "message": "Update SQLBackendImpl.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjU5MjMz", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#pullrequestreview-495659233", "createdAt": "2020-09-24T14:53:05Z", "commit": {"oid": "458cc5f7b74e5c432af60caa594c847f8f4a23fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjgzMzg4", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1932#pullrequestreview-495683388", "createdAt": "2020-09-24T15:16:58Z", "commit": {"oid": "458cc5f7b74e5c432af60caa594c847f8f4a23fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3842, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}