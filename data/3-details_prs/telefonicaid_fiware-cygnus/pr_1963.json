{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MDIxNzI2", "number": 1963, "title": "Add common open containers LABELS", "bodyText": "Add common opencontainers LABELS\nAlter build/post-push hooks to include LD build\nRemove MAINTAINER as deprecated.", "createdAt": "2020-10-19T14:23:50Z", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963", "merged": true, "mergeCommit": {"oid": "a76819bb4307b5110fabb0b131ac7932d8fd50e3"}, "closed": true, "closedAt": "2020-11-11T10:24:13Z", "author": {"login": "jason-fox"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUE-HJgH2gAyNTA2MDIxNzI2OjA4ZWJiM2YzMjM1ZGNhNGI1MGNlZTE4NDQ3ZDQ0ZGE4MGUwMmE0ZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbbVfXAFqTUyODA0NDQwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3", "author": {"user": {"login": "jason-fox", "name": "Jason Fox"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/08ebb3f3235dca4b50cee18447d44da80e02a4f3", "committedDate": "2020-10-19T14:23:11Z", "message": "Add Cygnus-LD to automated builds\n\n-  Add common opencontainers LABELS\n-  Alter build/post-push hooks to include LD build\n-  Remove MAINTAINER as deprecated."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODIxNzc3", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#pullrequestreview-512821777", "createdAt": "2020-10-20T15:04:28Z", "commit": {"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNTowNDoyOFrOHlBwrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNTowNDoyOFrOHlBwrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU4ODIwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Peristence\"\n          \n          \n            \n            LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Persistence\"\n          \n      \n    \n    \n  \n\nSimilar typo in other LABEL in this PR", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508588206", "createdAt": "2020-10-20T15:04:28Z", "author": {"login": "fgalan"}, "path": "docker/cygnus-ngsi-ld/Dockerfile", "diffHunk": "@@ -346,3 +346,13 @@ ENTRYPOINT [\"/cygnus-entrypoint.sh\"]\n # Ports used by cygnus-ngsi\n EXPOSE ${CYGNUS_SERVICE_PORT} ${CYGNUS_API_PORT}\n \n+LABEL \"maintainer\"=\"Cygnus Team. Telef\u00f3nica I+D\"\n+LABEL \"org.opencontainers.image.authors\"=\"iot_support@tid.es\"\n+LABEL \"org.opencontainers.image.documentation\"=\"https://fiware-cygnus.rtfd.io/\"\n+LABEL \"org.opencontainers.image.vendor\"=\"Telef\u00f3nica Investigaci\u00f3n y Desarrollo, S.A.U\"\n+LABEL \"org.opencontainers.image.licenses\"=\"AGPL-3.0-only\"\n+LABEL \"org.opencontainers.image.title\"=\"Cygnus-LD Data Peristence\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODQ4NDAx", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#pullrequestreview-512848401", "createdAt": "2020-10-20T15:18:08Z", "commit": {"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxODowOFrOHlCarA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxODowOFrOHlCarA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODk1Ng==", "bodyText": "Peristence  -> Persistence", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r508598956", "createdAt": "2020-10-20T15:18:08Z", "author": {"login": "AlvaroVega"}, "path": "docker/cygnus-ngsi/Dockerfile", "diffHunk": "@@ -351,3 +351,12 @@ ENTRYPOINT [\"/cygnus-entrypoint.sh\"]\n # Ports used by cygnus-ngsi\n EXPOSE ${CYGNUS_SERVICE_PORT} ${CYGNUS_API_PORT}\n \n+LABEL \"maintainer\"=\"Cygnus Team. Telef\u00f3nica I+D\"\n+LABEL \"org.opencontainers.image.authors\"=\"iot_support@tid.es\"\n+LABEL \"org.opencontainers.image.documentation\"=\"https://fiware-cygnus.rtfd.io/\"\n+LABEL \"org.opencontainers.image.vendor\"=\"Telef\u00f3nica Investigaci\u00f3n y Desarrollo, S.A.U\"\n+LABEL \"org.opencontainers.image.licenses\"=\"AGPL-3.0-only\"\n+LABEL \"org.opencontainers.image.title\"=\"Cygnus Data Peristence\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08ebb3f3235dca4b50cee18447d44da80e02a4f3"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fbc66f12d3b34421a4247c93fdf70d1d05acd8b", "author": {"user": {"login": "jason-fox", "name": "Jason Fox"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2fbc66f12d3b34421a4247c93fdf70d1d05acd8b", "committedDate": "2020-10-20T15:31:42Z", "message": "Fix Typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a", "author": {"user": {"login": "jason-fox", "name": "Jason Fox"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a", "committedDate": "2020-10-20T15:34:25Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MTEwMTMx", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#pullrequestreview-524110131", "createdAt": "2020-11-05T10:13:52Z", "commit": {"oid": "34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDoxMzo1MlrOHt8TsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMDoxMzo1MlrOHt8TsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzkzNjA0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n          \n          \n            \n            \t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n          \n          \n            \n            \t-f docker/cygnus-ngsi-ld/Dockerfile \\\n          \n          \n            \n            \t-t $IMAGE_NAME-ld \\\n          \n          \n            \n            \t.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#discussion_r517936048", "createdAt": "2020-11-05T10:13:52Z", "author": {"login": "IvanHdzC"}, "path": "docker/cygnus-ngsi/hooks/build", "diffHunk": "@@ -17,7 +17,18 @@\n # For those usages not covered by the GNU Affero General Public License please contact with iot_support at tid dot es\n \n cd ../../\n-docker build \\\n-  -f docker/cygnus-ngsi/Dockerfile \\\n-  -t ${IMAGE_NAME} \\\n-  .\n+docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n+\t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n+\t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n+\t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n+\t-f docker/cygnus-ngsi/Dockerfile \\\n+\t-t $IMAGE_NAME \\\n+\t.\n+\n+docker image build --build-arg SOURCE_BRANCH=$SOURCE_BRANCH \\\n+\t--label \"org.opencontainers.image.created\"=$(date +%Y-%m-%d) \\\n+\t--label \"org.opencontainers.image.revision\"=$SOURCE_COMMIT \\\n+\t--label \"org.opencontainers.image.version\"=$DOCKER_TAG \\\n+\t-f docker/cygnus-ngsi-ld/Dockerfile \\\n+\t-t $IMAGE_NAME-ld \\\n+\t.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b9ea2f0dd6d11fad79dd69b893d0e64d1fa59a"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c", "author": {"user": {"login": "jason-fox", "name": "Jason Fox"}}, "url": "https://github.com/telefonicaid/fiware-cygnus/commit/ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c", "committedDate": "2020-11-10T15:13:37Z", "message": "Remove Docker build automation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3Mzg0NDEx", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#pullrequestreview-527384411", "createdAt": "2020-11-10T16:30:05Z", "commit": {"oid": "ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4MDQ0NDAy", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1963#pullrequestreview-528044402", "createdAt": "2020-11-11T10:24:06Z", "commit": {"oid": "ef6156ad8f37e274af2c1e0b1efecb4e4e3be24c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3795, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}