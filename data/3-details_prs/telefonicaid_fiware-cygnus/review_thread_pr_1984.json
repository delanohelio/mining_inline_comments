{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5Njg2Njg3", "number": 1984, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoxOToyOVrOE_jIfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0ODoyMVrOE_p35A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDcxMzU4OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoxOToyOVrOH9T-HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0OToxMVrOH9ehfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1MjM4MA==", "bodyText": "The idea is to \"deconstruct\" the test.sh script (now deleted) into several steps in ci.yml? Is my undersetanding correct?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534052380", "createdAt": "2020-12-02T10:19:29Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    steps:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE3MjEzMA==", "bodyText": "Yes, the return code from each runstep is the equivalent of each test", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534172130", "createdAt": "2020-12-02T13:38:14Z", "author": {"login": "jason-fox"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    steps:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1MjM4MA=="}, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIyNTI3Ng==", "bodyText": "Thanks for the clarifications. Side comments provided. NTC regarding this one.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534225276", "createdAt": "2020-12-02T14:49:11Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    steps:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1MjM4MA=="}, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDcyMDEzOnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMDo1NlrOH9UCMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMDo1NlrOH9UCMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1MzQyNQ==", "bodyText": "As in telefonicaid/fiware-sth-comet#550, I'd suggest:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              # lint-dockerfile:\n          \n          \n            \n              # FIXME: hadolint won't work since the docker file has not been updated.\n          \n          \n            \n              # lint-dockerfile:", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534053425", "createdAt": "2020-12-02T10:20:56Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MDc2Mzk0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDozMDozNVrOH9UcFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzozNjo0NlrOH9bOTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MDA1NQ==", "bodyText": "In a similar line to https://github.com/telefonicaid/perseo-core/pull/167/files#r534058833, Java 9, 10 and 11 should be included here, although in commented form (with the same remark used in travis: FIXME: something in the current build (pom.xml?) precludes Java>8 to work).", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534060055", "createdAt": "2020-12-02T10:30:35Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Git checkout\n+        uses: actions/checkout@v2\n+      - name: Use Java 8\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE3MTIxNQ==", "bodyText": "Fixed 616a437", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534171215", "createdAt": "2020-12-02T13:36:46Z", "author": {"login": "jason-fox"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,62 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Git checkout\n+        uses: actions/checkout@v2\n+      - name: Use Java 8\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2MDA1NQ=="}, "originalCommit": {"oid": "51cd95e4bb93b4f2a8e8bf5c7699e90dc00004df"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MTgxMDI2OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0Njo0MVrOH9eZuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0Njo0MVrOH9eZuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIyMzI4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                      # Build and install cygnus-common, this is necessary because it is a dependency for cygnus-ngsi and others\n          \n      \n    \n    \n  \n\n(It comes from old test.sh)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534223288", "createdAt": "2020-12-02T14:46:41Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,71 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # FIXME: hadolint won't work since the docker file has not been updated.\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        java-version:\n+          - 8\n+        # FIXME: something in the current build (pom.xml?) precludes Java>8 to work).\n+        #  - 9\n+        #  - 10\n+        #  - 11\n+    steps:\n+      - name: Git checkout\n+        uses: actions/checkout@v2\n+      - name: 'Use Java ${{ matrix.java-version }}'\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: '${{ matrix.java-version }}'\n+      - name: 'cygnus-common Unit Tests (Java ${{ matrix.java-version }})'\n+        run: |\n+          cd \"${GITHUB_WORKSPACE}\"/cygnus-common\n+          mvn -q test\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "616a437f93e723ec39554fb8c1f1728642ef474c"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MTgxNzk2OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0ODoyMVrOH9eeuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo0ODoyMVrOH9eeuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIyNDU2OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  - name: 'cygnus-ngsi-ld Unit Tests (Java ${{ matrix.java-version }})'\n          \n          \n            \n                    run: |\n          \n          \n            \n                      cd \"${GITHUB_WORKSPACE}\"/cygnus-ngsi-ld\n          \n          \n            \n                      mvn -q test\n          \n          \n            \n                  - name: 'cygnus-ngsi-ld Unit Tests (Java ${{ matrix.java-version }})'\n          \n          \n            \n                    run: |\n          \n          \n            \n                      cd \"${GITHUB_WORKSPACE}\"/cygnus-ngsi-ld\n          \n          \n            \n                      mvn -q test\n          \n          \n            \n                  # FIXME: placeholder for future cygnus-twitter tests    \n          \n          \n            \n                  #- name: 'cygnus-twitter Unit Tests (Java ${{ matrix.java-version }})'\n          \n          \n            \n                  #  run: |\n          \n          \n            \n                  #    cd \"${GITHUB_WORKSPACE}\"/cygnus-twitter\n          \n          \n            \n                  #    mvn -q test", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1984#discussion_r534224568", "createdAt": "2020-12-02T14:48:21Z", "author": {"login": "fgalan"}, "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,71 @@\n+name: CI\n+'on':\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+    branches:\n+      - master\n+jobs:\n+  # FIXME: hadolint won't work since the docker file has not been updated.\n+  # lint-dockerfile:\n+  #   name: Lint Dockerfile\n+  #   runs-on: ubuntu-latest\n+  #   steps:\n+  #     - name: Git checkout\n+  #       uses: actions/checkout@v2\n+  #     - name: Run Hadolint Dockerfile Linter (Common)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-common\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi\n+  #     - name: Run Hadolint Dockerfile Linter (NGSI-LD)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-ngsi-ld\n+  #     - name: Run Hadolint Dockerfile Linter (Twitter)\n+  #       uses: burdzwastaken/hadolint-action@master\n+  #       env:\n+  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  #         HADOLINT_ACTION_DOCKERFILE_FOLDER: docker/cygnus-twitter\n+  \n+  unit-test:\n+    name: Unit Tests\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        java-version:\n+          - 8\n+        # FIXME: something in the current build (pom.xml?) precludes Java>8 to work).\n+        #  - 9\n+        #  - 10\n+        #  - 11\n+    steps:\n+      - name: Git checkout\n+        uses: actions/checkout@v2\n+      - name: 'Use Java ${{ matrix.java-version }}'\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: '${{ matrix.java-version }}'\n+      - name: 'cygnus-common Unit Tests (Java ${{ matrix.java-version }})'\n+        run: |\n+          cd \"${GITHUB_WORKSPACE}\"/cygnus-common\n+          mvn -q test\n+\n+          mvn -q clean compile exec:exec assembly:single\n+          VERSION=$(cat pom.xml | grep version | sed -n '1p' | sed -ne '/<version>/s#\\s*<[^>]*>\\s*##gp' | sed 's/ //g')\n+          mvn -q install:install-file -Dfile=target/cygnus-common-$VERSION-jar-with-dependencies.jar -DgroupId=com.telefonica.iot -DartifactId=cygnus-common -Dversion=$VERSION -Dpackaging=jar -DgeneratePom=true\n+      - name: 'cygnus-ngsi Unit Tests (Java ${{ matrix.java-version }})'\n+        run: |\n+          cd \"${GITHUB_WORKSPACE}\"/cygnus-ngsi\n+          mvn -q test\n+      - name: 'cygnus-ngsi-ld Unit Tests (Java ${{ matrix.java-version }})'\n+        run: |\n+          cd \"${GITHUB_WORKSPACE}\"/cygnus-ngsi-ld\n+          mvn -q test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "616a437f93e723ec39554fb8c1f1728642ef474c"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2398, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}