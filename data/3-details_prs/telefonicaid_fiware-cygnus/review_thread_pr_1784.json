{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NjkwOTkx", "number": 1784, "reviewThreads": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwODoxODoyN1rODWLXpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNTozNDowM1rODYi0yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTgxNTQwOnYy", "diffSide": "RIGHT", "path": "CHANGES_NEXT_RELEASE", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwODoxODoyN1rOFaybMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMDo1Njo1OVrOFa2L4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzMzQ1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [cygnus-ngsi] Support for native Postgres and Postgis types (#1780)\n          \n          \n            \n            [cygnus-ngsi][PostgisSink, PostGRESQLSink] Support for native Postgres and Postgis types (#1780)\n          \n      \n    \n    \n  \n\n(I think it would be more accurate that way)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363633459", "createdAt": "2020-01-07T08:18:27Z", "author": {"login": "fgalan"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -5,3 +5,4 @@ Fix: Changing cygnus port does not work (#1698)\n [cygnus-commons][MongoBackend] Proper processing of mongo errors in create index operations (#1756)\n [cygnus-ngsi] Support for NGSIv2 notifications (#953)\n [cygnus-ngsi] Changed log level for some events (#1768, #1769)\n+[cygnus-ngsi] Support for native Postgres and Postgis types (#1780)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY5NTA3Mw==", "bodyText": "Fixed in 4cddae4", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363695073", "createdAt": "2020-01-07T10:56:59Z", "author": {"login": "IvanHdzC"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -5,3 +5,4 @@ Fix: Changing cygnus port does not work (#1698)\n [cygnus-commons][MongoBackend] Proper processing of mongo errors in create index operations (#1756)\n [cygnus-ngsi] Support for NGSIv2 notifications (#953)\n [cygnus-ngsi] Changed log level for some events (#1768, #1769)\n+[cygnus-ngsi] Support for native Postgres and Postgis types (#1780)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzMzQ1OQ=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTgxNzM3OnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/conf/README.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwODoxOToyMFrOFaycYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1MzowNlrOFb4ejA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzMzc2MA==", "bodyText": "I think we have specific .md files per-sink. In that case, I think this piece of documentation should be better placed in that ones. What do you think?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363633760", "createdAt": "2020-01-07T08:19:20Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/conf/README.md", "diffHunk": "@@ -9,4 +9,17 @@ $ cp agent_ngsi.conf.template [APACHE_FLUME_HOME]/conf/\n \n ```\n $ cp grouping_rules.conf.template [APACHE_FLUME_HOME]/conf/\n-``\n+```\n+\n+Postgres and Postis sinks are capable of inserting native Postgres types into DB according with the following table.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNTQyNQ==", "bodyText": "Moreover original issue mentions:\n\nIn row mode, it is assumed that column types are \"text\" and no specific processing is needed. Every value is casted to text.\n\nIf a the end it has been implemented that way, I think that sentence is a valuable piece of documentation to be included in the proper place.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363635425", "createdAt": "2020-01-07T08:24:34Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/conf/README.md", "diffHunk": "@@ -9,4 +9,17 @@ $ cp agent_ngsi.conf.template [APACHE_FLUME_HOME]/conf/\n \n ```\n $ cp grouping_rules.conf.template [APACHE_FLUME_HOME]/conf/\n-``\n+```\n+\n+Postgres and Postis sinks are capable of inserting native Postgres types into DB according with the following table.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzMzc2MA=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc4MTE5Ng==", "bodyText": "Fixed in 106b7ab", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364781196", "createdAt": "2020-01-09T14:53:06Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/conf/README.md", "diffHunk": "@@ -9,4 +9,17 @@ $ cp agent_ngsi.conf.template [APACHE_FLUME_HOME]/conf/\n \n ```\n $ cp grouping_rules.conf.template [APACHE_FLUME_HOME]/conf/\n-``\n+```\n+\n+Postgres and Postis sinks are capable of inserting native Postgres types into DB according with the following table.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzMzc2MA=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTgxOTAzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/containers/NotifyContextRequest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwODoyMDoxNVrOFaydbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMToyNTozOVrOFa2y7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDAzMA==", "bodyText": "Although this functions is pretty simple, I think style is to include Javadoc (and \"closing } comment\") in every function (not fully sure, should be checked...).", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363634030", "createdAt": "2020-01-07T08:20:15Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/containers/NotifyContextRequest.java", "diffHunk": "@@ -352,7 +352,11 @@ public String getContextValue() {\n                 return  \"\" + value;\n             }  // if then else if\n         } // getContextValue\n-        \n+\n+        public JsonElement getValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcwNTA3MA==", "bodyText": "Fixed in 93df3b5", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363705070", "createdAt": "2020-01-07T11:25:39Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/containers/NotifyContextRequest.java", "diffHunk": "@@ -352,7 +352,11 @@ public String getContextValue() {\n                 return  \"\" + value;\n             }  // if then else if\n         } // getContextValue\n-        \n+\n+        public JsonElement getValue() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDAzMA=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTgyMDc3OnYy", "diffSide": "LEFT", "path": "cygnus-ngsi/src/test/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSinkTest.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwODoyMToxMFrOFayelQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMToyMzowOVrOFa2vww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDMyNQ==", "bodyText": "Not real changes in NGSIMySQLSinkTest.java file, just indent-fixing, right? (Just checking)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363634325", "createdAt": "2020-01-07T08:21:10Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/src/test/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSinkTest.java", "diffHunk": "@@ -32,7 +32,7 @@\n  * @author frb\n  */\n public class NGSIMySQLSinkTest {\n-    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNTg5MA==", "bodyText": "Moreover, looking to original issue:\n\nThe scope for this issue only considers Postgres and Postgis, this because it's necessary to make some code cleanning for MySQL Sink before this task can be done on it. (issue #1783)\n\nSo, if at the end no tchange has been donde in the SQL Sink, I think that cleanining is not required at the end to progress this PR (and it would be done later in the context of issue #1783). Can you clarify, please?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363635890", "createdAt": "2020-01-07T08:25:53Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/src/test/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSinkTest.java", "diffHunk": "@@ -32,7 +32,7 @@\n  * @author frb\n  */\n public class NGSIMySQLSinkTest {\n-    ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDMyNQ=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY5OTEzMw==", "bodyText": "I actually modified NGSIMySQLSinkTest and NGSIMySQLSink but since changes were a bit complicated we (@manucarrace and me) decided that NGSIMySQLSink was going to have it's own issue since the code needed some cleaning before this issue can be solved.\nSo when I reset those commits for some reason when I forced pushed again git marked thos blank spaces as changes, maybe because for compress purposes git removes blank spaces.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363699133", "createdAt": "2020-01-07T11:08:18Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/test/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSinkTest.java", "diffHunk": "@@ -32,7 +32,7 @@\n  * @author frb\n  */\n public class NGSIMySQLSinkTest {\n-    ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDMyNQ=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcwNDI1OQ==", "bodyText": "Ok, crystal clear :) NTC", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363704259", "createdAt": "2020-01-07T11:23:09Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/src/test/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSinkTest.java", "diffHunk": "@@ -32,7 +32,7 @@\n  * @author frb\n  */\n public class NGSIMySQLSinkTest {\n-    ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYzNDMyNQ=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTkyNzgxOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOTowODowOVrOFazfAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMTozMTozOVrOFa263Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MDgxNw==", "bodyText": "If no attribute value, for sure there is no attrMetadata. Please, correct.\nOn the other hand, we should deal with the problem of missing attributes in batch insertions. Missing attributes should be included as NULL", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363650817", "createdAt": "2020-01-07T09:08:09Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcwNTY3NA==", "bodyText": "Fixed in df6f4e4 and WIP respectively.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363705674", "createdAt": "2020-01-07T11:27:18Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MDgxNw=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcwNzEwMQ==", "bodyText": "On the other hand, we should deal with the problem of missing attributes in batch insertions. Missing attributes should be included as NULL\n\nThis only applies to column mode @manucarrace ?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363707101", "createdAt": "2020-01-07T11:31:39Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MDgxNw=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTkzMTA0OnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOTowOTozMFrOFazhEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDoyMDozMlrOFbYR1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MTM0NA==", "bodyText": "Please, add a small comment explaining why you change to uppercase.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363651344", "createdAt": "2020-01-07T09:09:30Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";\n+                        } else if (contextAttribute.getValue().isJsonPrimitive()) {\n+                            if (contextAttribute.getValue().getAsJsonPrimitive().isBoolean()) {\n+                                column += \",\" + attrValue.toUpperCase() + \",'\"  + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcwNTg3Mw==", "bodyText": "Fixed in 1f72cde", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363705873", "createdAt": "2020-01-07T11:27:59Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";\n+                        } else if (contextAttribute.getValue().isJsonPrimitive()) {\n+                            if (contextAttribute.getValue().getAsJsonPrimitive().isBoolean()) {\n+                                column += \",\" + attrValue.toUpperCase() + \",'\"  + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MTM0NA=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI1MzY1NA==", "bodyText": "The same change about usage isJsonNull() will apply to \n  \n    \n      fiware-cygnus/cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java\n    \n    \n         Line 436\n      in\n      c9cd1c4\n    \n    \n    \n    \n\n        \n          \n           if (attrValue == null || attrValue.equals(\"\")) { \n        \n    \n  \n\n ?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364253654", "createdAt": "2020-01-08T14:20:32Z", "author": {"login": "AlvaroVega"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -549,16 +549,18 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 } else {\n                     // create part of the column with the current attribute (a.k.a. a column)\n                     if (attrNativeTypes) {\n-                        if (attrType.equals(\"Number\")) {\n-                            column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                        } else {\n-                            if (attrValue == null || attrValue.equals(\"\")) {\n-                                attrValue = \"NULL\";\n+                        if (contextAttribute.getValue().isJsonNull()) {\n+                            column += \",NULL,'\" + attrMetadata + \"'\";\n+                        } else if (contextAttribute.getValue().isJsonPrimitive()) {\n+                            if (contextAttribute.getValue().getAsJsonPrimitive().isBoolean()) {\n+                                column += \",\" + attrValue.toUpperCase() + \",'\"  + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1MTM0NA=="}, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTk1MTQzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgreSQLSink.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxODowMlrOFaztsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxODowMlrOFaztsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDU3OQ==", "bodyText": "One aditional remark. It should be nice to have an aditional flag in config like \"NullValuesForMissingAttributes\". This flag is needed to enable backward compatibility for those clients that used to insert \"\" for missing attributes in batches.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r363654579", "createdAt": "2020-01-07T09:18:02Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgreSQLSink.java", "diffHunk": "@@ -507,18 +507,19 @@ public void aggregate(NGSIEvent cygnusEvent) {\n                 LOGGER.debug(\"[\" + getName() + \"] Processing context attribute (name=\" + attrName + \", type=\"\n                         + attrType + \")\");\n \n-                // create part of the column with the current attribute (a.k.a. a column)\n                 if (attrNativeTypes) {\n-                    if (attrType.equals(\"Number\")) {\n-                        column += \",\" + attrValue + \",'\"  + attrMetadata + \"'\";\n-                    } else {\n-                        if (attrValue == null || attrValue.equals(\"\")) {\n-                            attrValue = \"NULL\";\n+                    if (contextAttribute.getValue().isJsonNull()) {\n+                        column += \",NULL,'\" + attrMetadata + \"'\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26dcb3433ac1fe41351a4645e68490c5076869d7"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTM2NDYzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMTozODozOVrOFbUWxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1NToyMFrOFb4jmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE4OTM4Mw==", "bodyText": "kafka.utils.Json never used ?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364189383", "createdAt": "2020-01-08T11:38:39Z", "author": {"login": "AlvaroVega"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "diffHunk": "@@ -23,6 +23,10 @@\n import java.util.Iterator;\n import java.util.LinkedHashMap;\n \n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonNull;\n+import com.google.gson.JsonPrimitive;\n+import kafka.utils.Json;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac72afe7d484961dd96c124af44548ceced6f03"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc4MjQ4OA==", "bodyText": "Fixed in 690d51a", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364782488", "createdAt": "2020-01-09T14:55:20Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "diffHunk": "@@ -23,6 +23,10 @@\n import java.util.Iterator;\n import java.util.LinkedHashMap;\n \n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonNull;\n+import com.google.gson.JsonPrimitive;\n+import kafka.utils.Json;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE4OTM4Mw=="}, "originalCommit": {"oid": "bac72afe7d484961dd96c124af44548ceced6f03"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTQxNjkzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowMTo0MFrOFbU2zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowMTo0MFrOFbU2zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE5NzU4MA==", "bodyText": "Be carefull, this is row mode!!", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364197580", "createdAt": "2020-01-08T12:01:40Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "diffHunk": "@@ -491,16 +500,16 @@ public void initialize(NGSIEvent event) throws CygnusBadConfiguration {\n         @Override\n         public void initialize(NGSIEvent cygnusEvent) throws CygnusBadConfiguration {\n             super.initialize(cygnusEvent);\n-            LinkedHashMap<String, ArrayList<String>> aggregation = getAggregation();\n-            aggregation.put(NGSIConstants.RECV_TIME_TS, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.RECV_TIME, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.FIWARE_SERVICE_PATH, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ENTITY_ID, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ENTITY_TYPE, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ATTR_NAME, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ATTR_TYPE, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ATTR_VALUE, new ArrayList<String>());\n-            aggregation.put(NGSIConstants.ATTR_MD, new ArrayList<String>());\n+            LinkedHashMap<String, ArrayList<JsonElement>> aggregation = getAggregation();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac72afe7d484961dd96c124af44548ceced6f03"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTQxNzg1OnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowMjowNlrOFbU3Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowMjowNlrOFbU3Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE5NzcyNw==", "bodyText": "Again, row mode", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364197727", "createdAt": "2020-01-08T12:02:06Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "diffHunk": "@@ -528,22 +537,22 @@ public void aggregate(NGSIEvent event) {\n             for (ContextAttribute contextAttribute : contextAttributes) {\n                 String attrName = contextAttribute.getName();\n                 String attrType = contextAttribute.getType();\n-                String attrValue = contextAttribute.getContextValue(false);\n+                JsonElement attrValue = contextAttribute.getValue();\n                 String attrMetadata = contextAttribute.getContextMetadata();\n                 LOGGER.debug(\"[\" + getName() + \"] Processing context attribute (name=\" + attrName + \", type=\"\n                         + attrType + \")\");\n                 \n                 // aggregate the attribute information\n-                LinkedHashMap<String, ArrayList<String>> aggregation = getAggregation();\n-                aggregation.get(NGSIConstants.RECV_TIME_TS).add(Long.toString(recvTimeTs));\n-                aggregation.get(NGSIConstants.RECV_TIME).add(recvTime);\n-                aggregation.get(NGSIConstants.FIWARE_SERVICE_PATH).add(getServicePathForData());\n-                aggregation.get(NGSIConstants.ENTITY_ID).add(entityId);\n-                aggregation.get(NGSIConstants.ENTITY_TYPE).add(entityType);\n-                aggregation.get(NGSIConstants.ATTR_NAME).add(attrName);\n-                aggregation.get(NGSIConstants.ATTR_TYPE).add(attrType);\n+                LinkedHashMap<String, ArrayList<JsonElement>> aggregation = getAggregation();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac72afe7d484961dd96c124af44548ceced6f03"}, "originalPosition": 140}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTQyNDgwOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowNTo0NlrOFbU71Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjowNTo0NlrOFbU71Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE5ODg2OQ==", "bodyText": "Needed to convet to uppercase?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364198869", "createdAt": "2020-01-08T12:05:46Z", "author": {"login": "manucarrace"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIMySQLSink.java", "diffHunk": "@@ -406,25 +410,32 @@ public String getValuesForInsert() {\n             \n                 while (it.hasNext()) {\n                     String entry = (String) it.next();\n-                    ArrayList<String> values = (ArrayList<String>) aggregation.get(entry);\n-                    String value = values.get(i);\n+                    ArrayList<JsonElement> values = (ArrayList<JsonElement>) aggregation.get(entry);\n+                    JsonElement value = values.get(i);\n+                    String stringValue = null;\n                     if (attrNativeTypes) {\n                         LOGGER.debug(\"[\" + getName() + \"] aggregation entry = \"  + entry );\n-                        if (value == null || value.equals(\"\")) {\n-                            value = \"NULL\";\n+                        if (value.isJsonNull()) {\n+                            stringValue = \"NULL\";\n+                        } else if (value.isJsonPrimitive()) {\n+                            if (value.getAsJsonPrimitive().isBoolean()) {\n+                                stringValue = value.getAsString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac72afe7d484961dd96c124af44548ceced6f03"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MjUxMzkzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgreSQLSink.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMToxMToyMlrOFbyd7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1ODo0M1rOFb4rlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY4MjczNQ==", "bodyText": "aggregted -> aggregated", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364682735", "createdAt": "2020-01-09T11:11:22Z", "author": {"login": "AlvaroVega"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgreSQLSink.java", "diffHunk": "@@ -283,8 +290,8 @@ public void expirateRecords(long expirationTime) throws CygnusExpiratingError {\n      */\n     private abstract class PostgreSQLAggregator {\n \n-        // string containing the data fieldValues\n-        protected String aggregation;\n+        // object containing the aggregted data", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "752ea7a77eeeef54eb8e275eddc150d6592c61a0"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc4NDUzNA==", "bodyText": "Fixed in 3eb9f3c", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364784534", "createdAt": "2020-01-09T14:58:43Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgreSQLSink.java", "diffHunk": "@@ -283,8 +290,8 @@ public void expirateRecords(long expirationTime) throws CygnusExpiratingError {\n      */\n     private abstract class PostgreSQLAggregator {\n \n-        // string containing the data fieldValues\n-        protected String aggregation;\n+        // object containing the aggregted data", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY4MjczNQ=="}, "originalCommit": {"oid": "752ea7a77eeeef54eb8e275eddc150d6592c61a0"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MjU0ODUwOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMToyNTowNVrOFbyyLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDo1OTozMlrOFb4tcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY4NzkxNg==", "bodyText": "Great use var names like MySQLSink!", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364687916", "createdAt": "2020-01-09T11:25:05Z", "author": {"login": "AlvaroVega"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -585,27 +622,27 @@ private PostgisAggregator getAggregator(boolean rowAttrPersistence) {\n     } // getAggregator\n \n     private void persistAggregation(PostgisAggregator aggregator) throws CygnusPersistenceError, CygnusRuntimeError, CygnusBadContextData {\n-        String typedFieldNames = aggregator.getTypedFieldNames();\n-        String fieldNames = aggregator.getFieldNames();\n-        String fieldValues = aggregator.getAggregation();\n+        String fieldsForCreate = aggregator.getFieldsForCreate();\n+        String fieldsForInsert = aggregator.getFieldsForInsert();\n+        String valuesForInsert = aggregator.getValuesForInsert();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "752ea7a77eeeef54eb8e275eddc150d6592c61a0"}, "originalPosition": 391}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc4NTAxMQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364785011", "createdAt": "2020-01-09T14:59:32Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -585,27 +622,27 @@ private PostgisAggregator getAggregator(boolean rowAttrPersistence) {\n     } // getAggregator\n \n     private void persistAggregation(PostgisAggregator aggregator) throws CygnusPersistenceError, CygnusRuntimeError, CygnusBadContextData {\n-        String typedFieldNames = aggregator.getTypedFieldNames();\n-        String fieldNames = aggregator.getFieldNames();\n-        String fieldValues = aggregator.getAggregation();\n+        String fieldsForCreate = aggregator.getFieldsForCreate();\n+        String fieldsForInsert = aggregator.getFieldsForInsert();\n+        String valuesForInsert = aggregator.getValuesForInsert();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDY4NzkxNg=="}, "originalCommit": {"oid": "752ea7a77eeeef54eb8e275eddc150d6592c61a0"}, "originalPosition": 391}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzQ1NTAzOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/containers/NotifyContextRequest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNjoxMzo0MVrOFb7XqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNjoxMzo0MVrOFb7XqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgyODU4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }\n          \n          \n            \n                    } // getValue\n          \n      \n    \n    \n  \n\n(Looking to other cases, it seems this is done in every function...)", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364828584", "createdAt": "2020-01-09T16:13:41Z", "author": {"login": "fgalan"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/containers/NotifyContextRequest.java", "diffHunk": "@@ -352,7 +352,16 @@ public String getContextValue() {\n                 return  \"\" + value;\n             }  // if then else if\n         } // getContextValue\n-        \n+\n+        /**\n+         * Gets value.\n+         *\n+         * @return the value on JsonElement Object.\n+         */\n+        public JsonElement getValue() {\n+            return value;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3eb9f3c58274e03d78f55acc4b8ffa54e4b30e7c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzQ1ODI5OnYy", "diffSide": "RIGHT", "path": "CHANGES_NEXT_RELEASE", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNjoxNDozNlrOFb7ZsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNjoxNDozNlrOFb7ZsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgyOTEwNA==", "bodyText": "If at the end this PR has done a cleanup in the MySQLSink, maybe should it be mentioned also in CNR (in a separated line, maybe)?", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r364829104", "createdAt": "2020-01-09T16:14:36Z", "author": {"login": "fgalan"}, "path": "CHANGES_NEXT_RELEASE", "diffHunk": "@@ -5,3 +5,4 @@ Fix: Changing cygnus port does not work (#1698)\n [cygnus-commons][MongoBackend] Proper processing of mongo errors in create index operations (#1756)\n [cygnus-ngsi] Support for NGSIv2 notifications (#953)\n [cygnus-ngsi] Changed log level for some events (#1768, #1769)\n+[cygnus-ngsi][PostgisSink, PostGRESQLSink] Support for native Postgres and Postgis types (#1780)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3eb9f3c58274e03d78f55acc4b8ffa54e4b30e7c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NjkzNDUxOnYy", "diffSide": "RIGHT", "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNDoyODowN1rOFd6D3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNDo1Mjo1NVrOFd66zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkwNDI4Nw==", "bodyText": "bad merge!", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r366904287", "createdAt": "2020-01-15T14:28:07Z", "author": {"login": "AlvaroVega"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -375,7 +375,11 @@ public String getValuesForInsert() {\n                     String stringValue = null;\n                     if (attrNativeTypes && this instanceof ColumnAggregator) {\n                         LOGGER.debug(\"[\" + getName() + \"] aggregation entry = \"  + entry );\n+<<<<<<< HEAD", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07ae1eafb030ed73a6a3812e8a32afa324843ea6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkxODM0OQ==", "bodyText": "Thks! dropped that commit.", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r366918349", "createdAt": "2020-01-15T14:52:55Z", "author": {"login": "IvanHdzC"}, "path": "cygnus-ngsi/src/main/java/com/telefonica/iot/cygnus/sinks/NGSIPostgisSink.java", "diffHunk": "@@ -375,7 +375,11 @@ public String getValuesForInsert() {\n                     String stringValue = null;\n                     if (attrNativeTypes && this instanceof ColumnAggregator) {\n                         LOGGER.debug(\"[\" + getName() + \"] aggregation entry = \"  + entry );\n+<<<<<<< HEAD", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkwNDI4Nw=="}, "originalCommit": {"oid": "07ae1eafb030ed73a6a3812e8a32afa324843ea6"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MDYyOTg1OnYy", "diffSide": "RIGHT", "path": "docker/cygnus-ngsi/Dockerfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNTozNDowM1rOFedj-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNTozNzo0OVrOFedseA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ4NTk0NQ==", "bodyText": "this should be still master", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r367485945", "createdAt": "2020-01-16T15:34:03Z", "author": {"login": "AlvaroVega"}, "path": "docker/cygnus-ngsi/Dockerfile", "diffHunk": "@@ -256,7 +256,7 @@ ENV CYGNUS_ARCGIS_BATCH_TTL \"\"\n # NOTE: Configure correctly GIT_URL_CYGNUS and GIT_REV_CYGNUS for each git branch/fork used\n ENV GIT_URL_CYGNUS \"https://github.com/telefonicaid/fiware-cygnus.git\"\n # ENV GIT_URL_CYGNUS \"https://github.com/myuser/fiware-cygnus.git\"\n-ENV GIT_REV_CYGNUS \"master\"\n+ENV GIT_REV_CYGNUS \"task/native_types_cast\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57792babb1c1617c04710f9bbd941291c72d29bf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ4ODEyMA==", "bodyText": "Fix on PR #1793", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1784#discussion_r367488120", "createdAt": "2020-01-16T15:37:49Z", "author": {"login": "IvanHdzC"}, "path": "docker/cygnus-ngsi/Dockerfile", "diffHunk": "@@ -256,7 +256,7 @@ ENV CYGNUS_ARCGIS_BATCH_TTL \"\"\n # NOTE: Configure correctly GIT_URL_CYGNUS and GIT_REV_CYGNUS for each git branch/fork used\n ENV GIT_URL_CYGNUS \"https://github.com/telefonicaid/fiware-cygnus.git\"\n # ENV GIT_URL_CYGNUS \"https://github.com/myuser/fiware-cygnus.git\"\n-ENV GIT_REV_CYGNUS \"master\"\n+ENV GIT_REV_CYGNUS \"task/native_types_cast\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ4NTk0NQ=="}, "originalCommit": {"oid": "57792babb1c1617c04710f9bbd941291c72d29bf"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2519, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}