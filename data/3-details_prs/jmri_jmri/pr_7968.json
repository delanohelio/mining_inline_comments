{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDI0MzQ0", "number": 7968, "title": "Linting", "bodyText": "", "createdAt": "2020-01-18T13:01:13Z", "url": "https://github.com/JMRI/JMRI/pull/7968", "merged": true, "mergeCommit": {"oid": "822e4e1e9fc8c430cea8fbb585a9adb7436812c5"}, "closed": true, "closedAt": "2020-01-23T05:16:12Z", "author": {"login": "pabender"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7HqJfAH2gAyMzY0NDI0MzQ0OjlmY2IwNzI1ZjY1YWNjOTJmN2M3Njg4ZDYxZGU1Njc1MGMyZTg4MTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9CPvpgH2gAyMzY0NDI0MzQ0OjhjNDNkMDAxYmU3MWZmNTU2OGY2MzQ0MDZlOTI3ZWVkMmVjNTY1MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9fcb0725f65acc92f7c7688d61de56750c2e8818", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/9fcb0725f65acc92f7c7688d61de56750c2e8818", "committedDate": "2020-01-17T05:11:50Z", "message": "linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb47d066a44204ceea6f6facafa944461d11ba02", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/bb47d066a44204ceea6f6facafa944461d11ba02", "committedDate": "2020-01-17T05:38:49Z", "message": "Fix compile error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aed2f979411896d07a9ef9424e8aa8f34280b3e", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/6aed2f979411896d07a9ef9424e8aa8f34280b3e", "committedDate": "2020-01-18T02:43:03Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed1b59b7c63a3c225cedae5a7178247ada031481", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/ed1b59b7c63a3c225cedae5a7178247ada031481", "committedDate": "2020-01-18T03:54:51Z", "message": "linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "004bb46055c203d3ed940285ed810f400b1d880d", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/004bb46055c203d3ed940285ed810f400b1d880d", "committedDate": "2020-01-18T06:39:41Z", "message": "more linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9ba29f2e6467ff893078ce69fbecf3c1079b24a", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/d9ba29f2e6467ff893078ce69fbecf3c1079b24a", "committedDate": "2020-01-18T12:58:28Z", "message": "Remove unused variable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTQzOTgw", "url": "https://github.com/JMRI/JMRI/pull/7968#pullrequestreview-344943980", "createdAt": "2020-01-18T13:38:37Z", "commit": {"oid": "d9ba29f2e6467ff893078ce69fbecf3c1079b24a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQxMzozODozN1rOFfK0VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQxMzozODozN1rOFfK0VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIyNzQxMw==", "bodyText": "It seems this means that if there are multiple Engineers, they all share the same synchronization lock, and is that really what\u2019s wanted?", "url": "https://github.com/JMRI/JMRI/pull/7968#discussion_r368227413", "createdAt": "2020-01-18T13:38:37Z", "author": {"login": "rhwood"}, "path": "java/src/jmri/jmrit/logix/Engineer.java", "diffHunk": "@@ -40,16 +42,17 @@\n     private boolean _waitForClear = false;  // waits for signals/occupancy/allocation to clear\n     private boolean _waitForSync = false;  // waits for train to catch up to commands\n     private boolean _waitForSensor = false; // wait for sensor event\n-    private boolean _runOnET = false;   // Execute commands on ET only - do not synch\n+    private boolean _runOnET = false;   // Execute commands on ET only - do not synchn\n     private boolean _setRunOnET = false; // Need to delay _runOnET from the block that set it\n     private int _syncIdx;           // block order index of current command\n     protected DccThrottle _throttle;\n     private final Warrant _warrant;\n     private final List<ThrottleSetting> _commands;\n     private Sensor _waitSensor;\n     private int _sensorWaitState;\n-    private ThrottleRamp _ramp;\n     final ReentrantLock _lock = new ReentrantLock(true);    // Ramp needs to block script speeds\n+    private static Object _lockObject = new Object(); // used for synchronizing threads for _ramp", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9ba29f2e6467ff893078ce69fbecf3c1079b24a"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecd00a1adeb7f2957319a0c24127031f88f1f0cc", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/ecd00a1adeb7f2957319a0c24127031f88f1f0cc", "committedDate": "2020-01-18T15:20:02Z", "message": "Remove static on lock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ec4f3c0185aa1afeb452ad912406c88cdd6b29", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/a9ec4f3c0185aa1afeb452ad912406c88cdd6b29", "committedDate": "2020-01-18T15:33:40Z", "message": "Separate lock for termination thread."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7b769908aed147b6d1839f3930a8fed4b97955d", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/c7b769908aed147b6d1839f3930a8fed4b97955d", "committedDate": "2020-01-18T18:11:38Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "136b2cde3959b4ce1642a9c4b0c7b80617c6039e", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/136b2cde3959b4ce1642a9c4b0c7b80617c6039e", "committedDate": "2020-01-18T20:43:23Z", "message": "work to fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10203dd716cc5ef4639b181d0041f550ee0bea10", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/10203dd716cc5ef4639b181d0041f550ee0bea10", "committedDate": "2020-01-18T22:33:54Z", "message": "remove findbugs sync warning suppression"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c2bbae52980bb97c362c1cb74d882c3b5da0a8", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/82c2bbae52980bb97c362c1cb74d882c3b5da0a8", "committedDate": "2020-01-18T23:09:40Z", "message": "retain ThrottleManager reference at construction time."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "360b6db6d3a1cc05cd9b449fab26a047e943d800", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/360b6db6d3a1cc05cd9b449fab26a047e943d800", "committedDate": "2020-01-18T23:10:21Z", "message": "linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de0d79d3d44928c59211b6d817fb31348f09c38d", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/de0d79d3d44928c59211b6d817fb31348f09c38d", "committedDate": "2020-01-19T02:07:19Z", "message": "restore original synchronization in CheckForTermination"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dcf3d5bdd527868396719e04495615be1d9fa47", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/6dcf3d5bdd527868396719e04495615be1d9fa47", "committedDate": "2020-01-19T05:16:24Z", "message": "synchronize sensor wait on the sensor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c85941441d78147996187a1eee9a7d19d7568cf", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/9c85941441d78147996187a1eee9a7d19d7568cf", "committedDate": "2020-01-19T20:57:15Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6e67163c5ee35645ea1c0a2fd8189b624450d3b", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/a6e67163c5ee35645ea1c0a2fd8189b624450d3b", "committedDate": "2020-01-19T20:58:01Z", "message": "more linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29d9332f389a1172e0a1e1eaea16336cfcc39b1b", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/29d9332f389a1172e0a1e1eaea16336cfcc39b1b", "committedDate": "2020-01-21T00:05:33Z", "message": "more linting, test corrections"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07ae2fed2d9aea036aaf055c6e4258dc2d55a69f", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/07ae2fed2d9aea036aaf055c6e4258dc2d55a69f", "committedDate": "2020-01-21T00:06:07Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f66dea6b60b429d95692972e7d67d9498bfc8f", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/89f66dea6b60b429d95692972e7d67d9498bfc8f", "committedDate": "2020-01-21T05:51:10Z", "message": "linting;remove intermittent flag from tests believed to fixed by this PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab5eea478a4dec650bb3ac78a21c73155435a6d5", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/ab5eea478a4dec650bb3ac78a21c73155435a6d5", "committedDate": "2020-01-21T06:09:15Z", "message": "add missing not from refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2e3354e2ed2d29dfdbfddce57bc1a7c910107a", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/aa2e3354e2ed2d29dfdbfddce57bc1a7c910107a", "committedDate": "2020-01-21T17:25:41Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db0a46cd09446e995de045950935ea6ff42c94ac", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/db0a46cd09446e995de045950935ea6ff42c94ac", "committedDate": "2020-01-22T01:03:46Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "075d706c76c3caf65eaddb684e9464785b20516b", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/075d706c76c3caf65eaddb684e9464785b20516b", "committedDate": "2020-01-22T03:12:27Z", "message": "complete setup of test to prevent NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c43d001be71ff5568f634406e927eed2ec56522", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/8c43d001be71ff5568f634406e927eed2ec56522", "committedDate": "2020-01-23T04:01:19Z", "message": "restore intermittent flags to be safe (some timeouts have occured)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 72, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}