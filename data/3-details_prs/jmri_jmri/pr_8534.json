{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NTQ1MDA4", "number": 8534, "title": "Fix: use AbstractPowerManager as base for concrete PowerManagers", "bodyText": "All PowerManagers extend AbstractPowerManager.\nUsing PowerManager.getPower() does not require catching a JmriException (no implementation threw such an exception, so it has been removed from the API).\nSome listeners now listen only to the specific property \"power\".\nSome cleanup of jmri.Manager based on advice from SonarLint.\nDeprecate otherwise unused code in jmri.Manager that re-implements PropertyChangeSupport under a different name to reduce overall code complexity.", "createdAt": "2020-05-15T11:46:39Z", "url": "https://github.com/JMRI/JMRI/pull/8534", "merged": true, "mergeCommit": {"oid": "3b50a91e9975434a7f37acc6f9e2ca12d8815e16"}, "closed": true, "closedAt": "2020-05-19T00:37:00Z", "author": {"login": "rhwood"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWn2eggH2gAyNDE4NTQ1MDA4OjdiOTVjYzVkYjZhNTA1NzdkNTBmMmE2NDZjNzQ4MTRhZTJlYmE3Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciLcfdgFqTQxMzE2MzgyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7b95cc5db6a50577d50f2a646c74814ae2eba779", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/7b95cc5db6a50577d50f2a646c74814ae2eba779", "committedDate": "2020-04-11T15:58:13Z", "message": "Merge remote-tracking branch 'upstream/master' into propertychangesupport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a78903ae351377771633b91d13b20b7f96c30fd", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/3a78903ae351377771633b91d13b20b7f96c30fd", "committedDate": "2020-04-11T17:42:37Z", "message": "chore: Add missing library to NetBeans classpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2b0794ade868cfcb80a12d4d4e6b9be56c1b527", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/c2b0794ade868cfcb80a12d4d4e6b9be56c1b527", "committedDate": "2020-04-11T20:43:43Z", "message": "Merge remote-tracking branch 'upstream/master' into propertychangesupport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84debf9d28dd546df524f285db6c88fb1f34acf7", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/84debf9d28dd546df524f285db6c88fb1f34acf7", "committedDate": "2020-04-11T21:12:37Z", "message": "fix: Extend use of VetoableChangeSupport\n\nMake the core subclasses of Manager implement VetoableChangeSupport. (AbstractProxyManager overrides the some methods to ensure the managers that are proxied have the same listeners as it does.)\nDeprecate unused functionally duplicative code - PropertyChangeListeners get the same data ManagerDataListeners (in theory) would, and there are PropertyChangeListeners listening for the correct events, and nothing implements ManagerDataListener, so removing it would be a net win for reducing needless code complexity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceaa17098bab4116b07500fe6775fffac7dfe34d", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/ceaa17098bab4116b07500fe6775fffac7dfe34d", "committedDate": "2020-04-11T22:18:04Z", "message": "chore: Do not use deprecated methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "768a7d69a819be2f64b6a98b0e03895cab5958c1", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/768a7d69a819be2f64b6a98b0e03895cab5958c1", "committedDate": "2020-04-11T23:40:30Z", "message": "test: fix a test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b2d24dd7f452a235010ae7226f84d0f6687aa86", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/7b2d24dd7f452a235010ae7226f84d0f6687aa86", "committedDate": "2020-04-11T23:46:13Z", "message": "chore: suppress deprecation warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffbfd4d5d311c81d54409bb7a10a603c5b8a18f9", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/ffbfd4d5d311c81d54409bb7a10a603c5b8a18f9", "committedDate": "2020-05-14T11:14:45Z", "message": "feat: Use the AbstractPowerManager as the parent of PowerManagers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "389977b2e09622b5cb4ebd23e04fb94d978e5fc8", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/389977b2e09622b5cb4ebd23e04fb94d978e5fc8", "committedDate": "2020-05-14T11:18:12Z", "message": "Merge remote-tracking branch 'upstream/master' into propertychangesupport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e90c38e4952831670fc62d4c109195f2aaacd4a0", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/e90c38e4952831670fc62d4c109195f2aaacd4a0", "committedDate": "2020-05-14T12:28:18Z", "message": "feat: Additional PowerManagers extend AbstractPowerManager\n\nNote that AbstractPowerManager now needs generics for SystemConnectionMemo to allow subclasses to use the subclass-specific SystemConnectionMemo class without requiring casting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "357ebfdca9e74cc76ffd8057d5d6e72d0e657b8e", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/357ebfdca9e74cc76ffd8057d5d6e72d0e657b8e", "committedDate": "2020-05-14T14:51:46Z", "message": "fix: getting power state does not throw an exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4078f023596d165ca5ca5fd998775a00816fb46", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/e4078f023596d165ca5ca5fd998775a00816fb46", "committedDate": "2020-05-14T22:28:07Z", "message": "fix: Address static analysis errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fca997bea26b686f4ca34c3ca3bb283f451cc0f", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/7fca997bea26b686f4ca34c3ca3bb283f451cc0f", "committedDate": "2020-05-14T23:49:07Z", "message": "test: adjust to reality of getting power state not throwing JmriException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "131b58d749024d0a52b8448d882bbac2a9a73c2e", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/131b58d749024d0a52b8448d882bbac2a9a73c2e", "committedDate": "2020-05-14T23:58:18Z", "message": "fix: fire \"power\" property changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bc90fd2307f462f555558ad09c048ca33a9871f", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/2bc90fd2307f462f555558ad09c048ca33a9871f", "committedDate": "2020-05-15T00:30:47Z", "message": "fix: Unmask fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7caa0f7d7a974717a26197c2a1ca6db4677971d5", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/7caa0f7d7a974717a26197c2a1ca6db4677971d5", "committedDate": "2020-05-15T09:30:45Z", "message": "Merge remote-tracking branch 'upstream/master' into propertychangesupport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a447b422a7b9e77ec8593c07a45911a05e0a293", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/2a447b422a7b9e77ec8593c07a45911a05e0a293", "committedDate": "2020-05-15T10:18:20Z", "message": "fix: Listen to the \"power\" property, not all properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95744a1a3cef2cc82350996faa5a84622f06800a", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/95744a1a3cef2cc82350996faa5a84622f06800a", "committedDate": "2020-05-15T10:18:38Z", "message": "chore: formatting and comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6fd33a111152ab042a67a03c3ea451fed423126", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/a6fd33a111152ab042a67a03c3ea451fed423126", "committedDate": "2020-05-15T11:02:48Z", "message": "give up on trying to make Cbus behave nicely with others"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecf538abc41bfcc6f855f1fc88f484f8c4f18f4c", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/ecf538abc41bfcc6f855f1fc88f484f8c4f18f4c", "committedDate": "2020-05-15T11:39:02Z", "message": "doc: fix deprecation version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d6567bc71f585a16a8f4f548a7abf709391154c", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/3d6567bc71f585a16a8f4f548a7abf709391154c", "committedDate": "2020-05-15T11:51:15Z", "message": "chore: move from 4.21.1 release to 4.19.7 release"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTYzODI4", "url": "https://github.com/JMRI/JMRI/pull/8534#pullrequestreview-413163828", "createdAt": "2020-05-17T13:39:35Z", "commit": {"oid": "3d6567bc71f585a16a8f4f548a7abf709391154c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QxMzozOTozNVrOGWhBeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QxMzozOTozNVrOGWhBeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI2MjkwNA==", "bodyText": "IIRC, this listener mute/unmute and the similar one in SectionManagerXml loading was inserted about 2 years ago to resolve O(N^2) loading performance.  I think @petecressman was (starting to?) work with some configurations that were big enough that it was starting to matter.  I don't have any more detail than that; the PR doesn't mention this, and my notes on the topic are pretty sparse. @petecressman do you remember this?  Do you have a file(s) that can test if this has a performance impact?  Thanks.", "url": "https://github.com/JMRI/JMRI/pull/8534#discussion_r426262904", "createdAt": "2020-05-17T13:39:35Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/configurexml/TransitManagerXml.java", "diffHunk": "@@ -150,7 +150,6 @@ public void loadTransits(Element sharedTransits, Element perNodeTransits) {\n         List<Element> transitList = sharedTransits.getChildren(\"transit\");\n         log.debug(\"Found {} transits\", transitList.size());\n         TransitManager tm = InstanceManager.getDefault(jmri.TransitManager.class);\n-        tm.setDataListenerMute(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d6567bc71f585a16a8f4f548a7abf709391154c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4073, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}