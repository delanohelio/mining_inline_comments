{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MTE0MDQw", "number": 9053, "title": "Further deprecate getSystemNameList getNamedBeanList", "bodyText": "Removes instances of deprecated ( 4.11.5 ) jmri.Manager getSystemNameList() and getNamedBeanList() method calls in main code.\nAdds deprecation logging to both classes.\nAdds deprecation warn supression to tests.\nUpdates CMRI SerialSensor, Maple SerialSensor, to multiChar system name prefixes.\nAdds jmri.util.JUnitAppender.suppressWarnMessageStartsWith(String)", "createdAt": "2020-10-01T09:34:21Z", "url": "https://github.com/JMRI/JMRI/pull/9053", "merged": true, "mergeCommit": {"oid": "5711999925c6c779292fbb768cd309de0f5daa40"}, "closed": true, "closedAt": "2020-10-04T20:15:13Z", "author": {"login": "icklesteve"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOEW2MgH2gAyNDk2MTE0MDQwOjZmZGJjN2UzMmM2Zjc5ZWQ5NTAxODcwYzk4YWYzODYwNmM5NzczNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPKHehgFqTUwMTU5ODIzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6fdbc7e32c6f79ed9501870c98af38606c97735b", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/6fdbc7e32c6f79ed9501870c98af38606c97735b", "committedDate": "2020-09-30T22:16:45Z", "message": "jmrix getSystemNameList to getNamedBeanSet\n\nCMRI SerialSensor, Maple SerialSensor, to multiChar prefix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f147d9316bc59bcd3f2781fd913d5c4b18fecaae", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/f147d9316bc59bcd3f2781fd913d5c4b18fecaae", "committedDate": "2020-09-30T22:20:07Z", "message": "Update RobotThrottle3.py"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "646f8c0432c3549211678078608ca789be6007e8", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/646f8c0432c3549211678078608ca789be6007e8", "committedDate": "2020-09-30T22:23:39Z", "message": "le block getSystemNameList to getNamedBeanSet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b809690e89d5fb6cd6909dfc9046d9f0259d9a4", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/1b809690e89d5fb6cd6909dfc9046d9f0259d9a4", "committedDate": "2020-09-30T23:08:29Z", "message": "beantable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bb192f01dead041555761146ef81f4ca4bae3b0", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/5bb192f01dead041555761146ef81f4ca4bae3b0", "committedDate": "2020-09-30T23:11:23Z", "message": "withrottle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1617430158431084c09e0d5104c8fe18b3c8d4cc", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/1617430158431084c09e0d5104c8fe18b3c8d4cc", "committedDate": "2020-09-30T23:11:38Z", "message": "sensorgroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d2b838415b2b793cae2dc96619f53d55d1b55b7", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/9d2b838415b2b793cae2dc96619f53d55d1b55b7", "committedDate": "2020-09-30T23:12:06Z", "message": "Update DefaultConditional.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "431f382edf57fa03bdf40396688e0d9cc2465ea8", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/431f382edf57fa03bdf40396688e0d9cc2465ea8", "committedDate": "2020-09-30T23:12:13Z", "message": "Update EntryExitPairs.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25bf2d868420e3d829edcce192294ce576e6b480", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/25bf2d868420e3d829edcce192294ce576e6b480", "committedDate": "2020-09-30T23:12:27Z", "message": "Update PickListModel.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa41ef48b9468ba6c9d00d23b9a41ddbb95a2206", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/aa41ef48b9468ba6c9d00d23b9a41ddbb95a2206", "committedDate": "2020-09-30T23:12:57Z", "message": "Update DefaultConditionalManager.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0852bebfe4205c32ded64140433f0844f8acc9fc", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/0852bebfe4205c32ded64140433f0844f8acc9fc", "committedDate": "2020-09-30T23:13:31Z", "message": "Add deprecation logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df2304e5a4979a6b0eab48cc22d1ba2d215eeeb7", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/df2304e5a4979a6b0eab48cc22d1ba2d215eeeb7", "committedDate": "2020-09-30T23:15:21Z", "message": "add suppressWarnMessageStartsWith(String) to JUnitAppender"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e9618c35ffc48a7a96b215f576aaf82f0ab8859", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/3e9618c35ffc48a7a96b215f576aaf82f0ab8859", "committedDate": "2020-09-30T23:16:55Z", "message": "update tests for logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "171afa2236fbf4cb7a124c094f9eb056fb4eb15a", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/171afa2236fbf4cb7a124c094f9eb056fb4eb15a", "committedDate": "2020-10-01T01:38:44Z", "message": "remove deprecated BlockBossLogic.entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/06a0f07446ca583142635611f0db25540432aa7b", "committedDate": "2020-10-02T15:06:48Z", "message": "Update current-draft-note.shtml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMjQzMDI1", "url": "https://github.com/JMRI/JMRI/pull/9053#pullrequestreview-501243025", "createdAt": "2020-10-02T15:38:19Z", "commit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "state": "DISMISSED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTozODoxOVrOHbyXDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowOToyNFrOHbzYqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODcwMA==", "bodyText": "Just curious, not a problem, but why set sysNameList to null before setting it via the map operation?", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498898700", "createdAt": "2020-10-02T15:38:19Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/BeanTableDataModel.java", "diffHunk": "@@ -115,7 +92,9 @@ protected synchronized void updateNameList() {\n                 }\n             }\n         }\n-        sysNameList = getManager().getSystemNameList();\n+        sysNameList = null;\n+        sysNameList = getManager().getNamedBeanSet().stream().map(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5OTczNA==", "bodyText": "Another example of setting null before loading...", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498899734", "createdAt": "2020-10-02T15:40:08Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/LRouteTableAction.java", "diffHunk": "@@ -118,19 +83,16 @@ protected synchronized void updateNameList() {\n                     }\n                 }\n             }\n-            List<String> list = getManager().getSystemNameList();\n+            sysNameList = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwMTA3Nw==", "bodyText": "It would probably be good to add a comment here to remind people that the list from this call is not a live list, and this method has to be called each time through.  I.e. don't save the result of this call for later use.", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498901077", "createdAt": "2020-10-02T15:42:31Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/Maintenance.java", "diffHunk": "@@ -63,18 +52,30 @@ public static void deviceReportPressed(String devName, Frame parent) {\n         scrollPane = new JScrollPane(text);\n         makeDialog(scrollPane, null, parent, rbm.getString(\"CrossReferenceTitle\"));\n     }\n+    \n+    /**\n+     * get a String List of System Names for a given manager.\n+     * <p>\n+     * TODO: Ideally a future refactor will use the getNamedBeanSet directly.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxNTQ5OA==", "bodyText": "Should that be Manager<?> or Manager<E extends Namedbean>?  (Honest question, don't know if there's a problem with the later form)", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498915498", "createdAt": "2020-10-02T16:09:24Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/withrottle/AbstractController.java", "diffHunk": "@@ -51,12 +51,12 @@\n      * @param manager which manager to get system names for.\n      *\n      */\n-    @SuppressWarnings({\"unchecked\", \"deprecation\"}) // The systemNameList assignment is List<E extends Namedbean> to List<NamedBean>\n-                                    // Make this class generic on <E extends NamedBean> (and manager) to fix this.\n-                                    // deprecation needs careful unwinding for Set operations\n-    public void buildList(jmri.Manager manager) {\n+    public void buildList(jmri.Manager<?> manager) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a12516ac0053a71aa2f0233af782398ab404a5a6", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/a12516ac0053a71aa2f0233af782398ab404a5a6", "committedDate": "2020-10-03T22:58:27Z", "message": "remove unneccessary sets to null, add not live list comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a04fec5e17ef9770bd23c843790ed4d443de691", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/0a04fec5e17ef9770bd23c843790ed4d443de691", "committedDate": "2020-10-04T01:28:06Z", "message": "Merge branch 'master' into further-depreciate-getSystemNameList-getNamedBeanList"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTk4MjM5", "url": "https://github.com/JMRI/JMRI/pull/9053#pullrequestreview-501598239", "createdAt": "2020-10-04T07:33:19Z", "commit": {"oid": "0a04fec5e17ef9770bd23c843790ed4d443de691"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3932, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}