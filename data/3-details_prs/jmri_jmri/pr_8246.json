{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4NzY0NTAz", "number": 8246, "title": "Improvements to XpressNet turnouts.  Apply immediatePipedOutputStream anywhere applicable", "bodyText": "", "createdAt": "2020-03-15T16:54:45Z", "url": "https://github.com/JMRI/JMRI/pull/8246", "merged": true, "mergeCommit": {"oid": "10ae83f71a11a2547fc98206980c0ff065dabc91"}, "closed": true, "closedAt": "2020-03-16T03:38:59Z", "author": {"login": "pabender"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMz24ygH2gAyMzg4NzY0NTAzOjRhNTIwYzQ5YmE4YjFiOTQ0OWEwZDRhMDhlOGNjYjk3Y2M2ODIyN2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOEx7xgH2gAyMzg4NzY0NTAzOjI3MDc3NWFmNTc4OGRjYTExZmIwN2FjNjZiZTZhOTYyODBlNjc1MzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4a520c49ba8b1b9449a0d4a08e8ccb97cc68227f", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/4a520c49ba8b1b9449a0d4a08e8ccb97cc68227f", "committedDate": "2020-03-12T04:18:17Z", "message": "linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71f4a84f72312ac0fb14601060aff5340c21414e", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/71f4a84f72312ac0fb14601060aff5340c21414e", "committedDate": "2020-03-12T04:19:20Z", "message": "add message queue for \"on\" and status request messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ac9ef5d1119877120b876541e7327a0a7ffe915", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/3ac9ef5d1119877120b876541e7327a0a7ffe915", "committedDate": "2020-03-12T05:11:52Z", "message": "fix XNetTurnoutTests; apply ImmediatePipeOutputStream everywhere applicable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3778c5fd32df0515e0106d974401da1ee411e3b", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/a3778c5fd32df0515e0106d974401da1ee411e3b", "committedDate": "2020-03-15T01:17:59Z", "message": "add private constructor for file of constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff675281792cacdfda3076f1f4da99e1ec934a92", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/ff675281792cacdfda3076f1f4da99e1ec934a92", "committedDate": "2020-03-15T04:26:24Z", "message": "turnout work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dfa53021eb88d60cc108e5da88574dd31ef1993", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/6dfa53021eb88d60cc108e5da88574dd31ef1993", "committedDate": "2020-03-15T04:27:47Z", "message": "whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53c5602fd50d94a7342211f9648aad6e40f9ade4", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/53c5602fd50d94a7342211f9648aad6e40f9ade4", "committedDate": "2020-03-15T04:28:40Z", "message": "linting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77715d65d48a0c413900cb94f14bc6bc7dd60def", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/77715d65d48a0c413900cb94f14bc6bc7dd60def", "committedDate": "2020-03-15T04:29:57Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e5384195c30bd1723aba06da0a3d333eb3f3b07", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/0e5384195c30bd1723aba06da0a3d333eb3f3b07", "committedDate": "2020-03-15T13:37:53Z", "message": "remove inadvertantly commited file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88c3109c08a330c433b2b92307362c00bc9c3ef0", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/88c3109c08a330c433b2b92307362c00bc9c3ef0", "committedDate": "2020-03-15T15:44:22Z", "message": "fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODE5NzQ1", "url": "https://github.com/JMRI/JMRI/pull/8246#pullrequestreview-374819745", "createdAt": "2020-03-15T17:51:39Z", "commit": {"oid": "88c3109c08a330c433b2b92307362c00bc9c3ef0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNzo1MTozOVrOF2gS4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNzo1Mjo1MFrOF2gTRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NjU0NQ==", "bodyText": "Can you rename this class from ImmediatePipeOutputStream to ImmediatePipedOutputStream (Piped instead of Pipe)?", "url": "https://github.com/JMRI/JMRI/pull/8246#discussion_r392696545", "createdAt": "2020-03-15T17:51:39Z", "author": {"login": "rhwood"}, "path": "java/src/jmri/util/ImmediatePipeOutputStream.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package jmri.util;\n+\n+import java.io.IOException;\n+import java.io.PipedInputStream;\n+import java.io.PipedOutputStream;\n+\n+/**\n+ * Makes a workaround for standard {@link PipedOutputStream} wait.\n+ * <p>The {@link PipedInputStream#read()}, in case the receive buffer is\n+ * empty at the time of the call, waits for up to 1000ms.\n+ * {@link PipedOutputStream#write(int)} does call <code>sink.receive</code>,\n+ * but does not <code>notify()</code> the sink object so that read's\n+ * wait() terminates.\n+ * </p><p>\n+ * As a result, the read side of the pipe waits full 1000ms even though data\n+ * become available during the wait.\n+ * </p><p>\n+ * The workaround is to simply {@link PipedOutputStream#flush} after write,\n+ * which returns from wait()s immediately.\n+ * </p>\n+ */\n+public class ImmediatePipeOutputStream extends PipedOutputStream {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88c3109c08a330c433b2b92307362c00bc9c3ef0"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY5NjY0NQ==", "bodyText": "The terminating </p> is not needed in Javadocs, and just makes it harder to read. Can you remove these?", "url": "https://github.com/JMRI/JMRI/pull/8246#discussion_r392696645", "createdAt": "2020-03-15T17:52:50Z", "author": {"login": "rhwood"}, "path": "java/src/jmri/util/ImmediatePipeOutputStream.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package jmri.util;\n+\n+import java.io.IOException;\n+import java.io.PipedInputStream;\n+import java.io.PipedOutputStream;\n+\n+/**\n+ * Makes a workaround for standard {@link PipedOutputStream} wait.\n+ * <p>The {@link PipedInputStream#read()}, in case the receive buffer is\n+ * empty at the time of the call, waits for up to 1000ms.\n+ * {@link PipedOutputStream#write(int)} does call <code>sink.receive</code>,\n+ * but does not <code>notify()</code> the sink object so that read's\n+ * wait() terminates.\n+ * </p><p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88c3109c08a330c433b2b92307362c00bc9c3ef0"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d75e532c69c64978759dba6dce2eb66322115c87", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/d75e532c69c64978759dba6dce2eb66322115c87", "committedDate": "2020-03-15T18:46:16Z", "message": "rename class; fix javadoc; add author attribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ddc1eff7ef1d5921b4dc3feb7c4c05c90eea925", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/1ddc1eff7ef1d5921b4dc3feb7c4c05c90eea925", "committedDate": "2020-03-15T19:23:51Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dca2c599a91f7919de163b070fd75f345db80718", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/dca2c599a91f7919de163b070fd75f345db80718", "committedDate": "2020-03-15T19:36:37Z", "message": "Merge branch 'development' of github.com:pabender/JMRI into development"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92ed0dd6376383706ea061b755383f2aea8b5524", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/92ed0dd6376383706ea061b755383f2aea8b5524", "committedDate": "2020-03-15T19:42:36Z", "message": "restore removed cucumber step definition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0239ceea8d90a29b3f12e7789b53ecdb3edd376", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/d0239ceea8d90a29b3f12e7789b53ecdb3edd376", "committedDate": "2020-03-15T19:59:54Z", "message": "Readd imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed9be2b91028c8fde0588b5ee37e8d30b7e44e90", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/ed9be2b91028c8fde0588b5ee37e8d30b7e44e90", "committedDate": "2020-03-15T21:58:43Z", "message": "update column positions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "270775af5788dca11fb07ac66be6a96280e67530", "author": {"user": {"login": "pabender", "name": "Paul Bender"}}, "url": "https://github.com/JMRI/JMRI/commit/270775af5788dca11fb07ac66be6a96280e67530", "committedDate": "2020-03-16T02:35:11Z", "message": "find columns using names in header row"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 39, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}