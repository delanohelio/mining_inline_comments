{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NzUwMjY2", "number": 9082, "title": "MERG CBUS - Add Reporter options CANRC522 / CANRCOM", "bodyText": "CBUS RFID Reporters now act similar to other JMRI Reporters, ie with a timeout following the report.\nCBUS Reporters can set a Sensor to follow the active IDTag status, set via CBUS Reporter Table.\nCBUS Reporters will default to classic RFID ( 5 byte unique tags ), with option for in-development CANRC522 / CANRCOM format ( 2 byte unique tags ), set via Reporter Table.\nAdds jmri.SelectionPropertyDescriptor , which extends jmri.NamedBeanPropertyDescriptor for multi-choice String values.\nAdds SelectionPropertyDescriptor  ( JComboBox with Tooltips ) support to jmrit.beantable.BeanTableDataModel.\n\nAdds JComboBox listener for selection changes to\nBlock Table - Curvature\nBlock Table - Speed List\nBlock Table - Sensor\nBlock Table - Reporter\nTurnout Table - Closed Speed\nTurnout Table - Thrown Speed\nAdds describeState(int state) to AbstractIdTagReporter - vastly improves error messages in CbusReporter unit testing.\nMinor Javadoc tweaks", "createdAt": "2020-10-16T10:37:11Z", "url": "https://github.com/JMRI/JMRI/pull/9082", "merged": true, "mergeCommit": {"oid": "b07e555f4ce19bf12f724cf34494323ae4b38501"}, "closed": true, "closedAt": "2020-10-17T16:03:16Z", "author": {"login": "icklesteve"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSxZwOgH2gAyNTA0NzUwMjY2OjBmODkyOTNmMjA0ZmFhM2U1MmYwYjZmZDExODdiNGEyZTk2OGZlNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTNSGeAFqTUxMDgwODc1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0f89293f204faa3e52f0b6fd1187b4a2e968fe67", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/0f89293f204faa3e52f0b6fd1187b4a2e968fe67", "committedDate": "2020-10-15T13:01:21Z", "message": "minor javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ac05d09df521a6287822f06a0098473f103a61c", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/3ac05d09df521a6287822f06a0098473f103a61c", "committedDate": "2020-10-15T13:02:21Z", "message": "minor code / javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdc50cfc34b20e25a341dff30b101b1e6180bd54", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/cdc50cfc34b20e25a341dff30b101b1e6180bd54", "committedDate": "2020-10-15T13:03:18Z", "message": "add describeState AbstractIdTagReporter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be15b1d4c59fcabf7dca0056ebc0f0e9c6550ec2", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/be15b1d4c59fcabf7dca0056ebc0f0e9c6550ec2", "committedDate": "2020-10-15T13:03:42Z", "message": "Update NamedBeanBundle.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48415fe31cdd39253a7ae1aa80f908783de38c9d", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/48415fe31cdd39253a7ae1aa80f908783de38c9d", "committedDate": "2020-10-15T13:04:18Z", "message": "add SelectionPropertyDescriptor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d50af30c63676d67cce7c489385ffc042691bd8", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/3d50af30c63676d67cce7c489385ffc042691bd8", "committedDate": "2020-10-15T13:06:44Z", "message": "update beantables to recognise SelectionPropertyDescriptor / remove duplicate code\n\nAdds missing combobox finish editing listeners"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5e98b8a4cce9bc6b8a7c74b0a516ff612009547", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/c5e98b8a4cce9bc6b8a7c74b0a516ff612009547", "committedDate": "2020-10-15T13:07:23Z", "message": "CbusReporter / CbusReporterManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8df1f816692114c57f15e2ad9b89ae335ca87809", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/8df1f816692114c57f15e2ad9b89ae335ca87809", "committedDate": "2020-10-15T13:07:53Z", "message": "remove setReporter from CbusSensor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5daa483e069cd5dc089a1a258e7a67c310015f38", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/5daa483e069cd5dc089a1a258e7a67c310015f38", "committedDate": "2020-10-15T13:08:44Z", "message": "Update current-draft-note.shtml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf6dce1844e06e4c812d00931746d64c4b6383fd", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/cf6dce1844e06e4c812d00931746d64c4b6383fd", "committedDate": "2020-10-15T13:14:33Z", "message": "remove unnecessary cast"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242ad70a77e74f005ef313b3f4b86b2e13da0c7e", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/242ad70a77e74f005ef313b3f4b86b2e13da0c7e", "committedDate": "2020-10-15T13:25:39Z", "message": "remove unnecessary cast"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f40641260ae42828aa5ac98d5c1bfb52a971e08", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/2f40641260ae42828aa5ac98d5c1bfb52a971e08", "committedDate": "2020-10-15T13:42:56Z", "message": "fix spotbugs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwODA4NzU3", "url": "https://github.com/JMRI/JMRI/pull/9082#pullrequestreview-510808757", "createdAt": "2020-10-16T21:29:10Z", "commit": {"oid": "2f40641260ae42828aa5ac98d5c1bfb52a971e08"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMToyOToxMVrOHjQTrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMToyOToxMVrOHjQTrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjcyOTM4OQ==", "bodyText": "A design question/suggestion triggered by this change in base class....\nI see later on in this revised class that you have 3 different types of tags ( RFID, RC522, and RailComm ) you might be handling here,  suggesting there are three different types of hardware involved.\nIf that is the case, this class as modified violates the Single Responsibility Principle because it has three reasons it could change.  For long term maintenance and testing reasons, It is advisable to have a different implementation for each of the three types.  That also simplified the logic, because each class has to handle only the information pertaining to the hardware it handles.\nFor an example of where we do this elsewhere, see the Z21 Reporter implementation.", "url": "https://github.com/JMRI/JMRI/pull/9082#discussion_r506729389", "createdAt": "2020-10-16T21:29:11Z", "author": {"login": "pabender"}, "path": "java/src/jmri/jmrix/can/cbus/CbusReporter.java", "diffHunk": "@@ -25,40 +24,81 @@\n  * A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n  * <p>\n  *\n+ * CBUS Reporters can accept \n+ * 5-byte unique Classic RFID on DDES or ACDAT OPCs,\n+ * CANRC522 / CANRCOM DDES OPCs.\n+ * \n  * @author Mark Riddoch Copyright (C) 2015\n- * @author Steve Young Copyright (c) 2019\n+ * @author Steve Young Copyright (c) 2019, 2020\n  *\n  */\n-public class CbusReporter extends AbstractReporter implements CanListener {\n+public class CbusReporter extends AbstractRailComReporter implements CanListener {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f40641260ae42828aa5ac98d5c1bfb52a971e08"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3939, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}