{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MTE0MDQw", "number": 9053, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTozODoxOVrOEp3BKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowOToyNFrOEp3poQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzI4NDg5OnYy", "diffSide": "RIGHT", "path": "java/src/jmri/jmrit/beantable/BeanTableDataModel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTozODoxOVrOHbyXDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QyMjo1MToyOFrOHcEB4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODcwMA==", "bodyText": "Just curious, not a problem, but why set sysNameList to null before setting it via the map operation?", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498898700", "createdAt": "2020-10-02T15:38:19Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/BeanTableDataModel.java", "diffHunk": "@@ -115,7 +92,9 @@ protected synchronized void updateNameList() {\n                 }\n             }\n         }\n-        sysNameList = getManager().getSystemNameList();\n+        sysNameList = null;\n+        sysNameList = getManager().getNamedBeanSet().stream().map(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODE5NA==", "bodyText": "Thanks for spotting :-)", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188194", "createdAt": "2020-10-03T22:51:28Z", "author": {"login": "icklesteve"}, "path": "java/src/jmri/jmrit/beantable/BeanTableDataModel.java", "diffHunk": "@@ -115,7 +92,9 @@ protected synchronized void updateNameList() {\n                 }\n             }\n         }\n-        sysNameList = getManager().getSystemNameList();\n+        sysNameList = null;\n+        sysNameList = getManager().getNamedBeanSet().stream().map(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODcwMA=="}, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzI5MTAxOnYy", "diffSide": "RIGHT", "path": "java/src/jmri/jmrit/beantable/LRouteTableAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTo0MDowOFrOHbybFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QyMjo1MTozM1rOHcEB5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5OTczNA==", "bodyText": "Another example of setting null before loading...", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498899734", "createdAt": "2020-10-02T15:40:08Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/LRouteTableAction.java", "diffHunk": "@@ -118,19 +83,16 @@ protected synchronized void updateNameList() {\n                     }\n                 }\n             }\n-            List<String> list = getManager().getSystemNameList();\n+            sysNameList = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODE5Ng==", "bodyText": "Thanks for spotting :-)", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188196", "createdAt": "2020-10-03T22:51:33Z", "author": {"login": "icklesteve"}, "path": "java/src/jmri/jmrit/beantable/LRouteTableAction.java", "diffHunk": "@@ -118,19 +83,16 @@ protected synchronized void updateNameList() {\n                     }\n                 }\n             }\n-            List<String> list = getManager().getSystemNameList();\n+            sysNameList = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5OTczNA=="}, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzI5ODk2OnYy", "diffSide": "RIGHT", "path": "java/src/jmri/jmrit/beantable/Maintenance.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTo0MjozMVrOHbygVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QyMjo1MTo1N1rOHcEB-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwMTA3Nw==", "bodyText": "It would probably be good to add a comment here to remind people that the list from this call is not a live list, and this method has to be called each time through.  I.e. don't save the result of this call for later use.", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498901077", "createdAt": "2020-10-02T15:42:31Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/beantable/Maintenance.java", "diffHunk": "@@ -63,18 +52,30 @@ public static void deviceReportPressed(String devName, Frame parent) {\n         scrollPane = new JScrollPane(text);\n         makeDialog(scrollPane, null, parent, rbm.getString(\"CrossReferenceTitle\"));\n     }\n+    \n+    /**\n+     * get a String List of System Names for a given manager.\n+     * <p>\n+     * TODO: Ideally a future refactor will use the getNamedBeanSet directly.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODIxOQ==", "bodyText": "Thanks, makes sense.", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188219", "createdAt": "2020-10-03T22:51:57Z", "author": {"login": "icklesteve"}, "path": "java/src/jmri/jmrit/beantable/Maintenance.java", "diffHunk": "@@ -63,18 +52,30 @@ public static void deviceReportPressed(String devName, Frame parent) {\n         scrollPane = new JScrollPane(text);\n         makeDialog(scrollPane, null, parent, rbm.getString(\"CrossReferenceTitle\"));\n     }\n+    \n+    /**\n+     * get a String List of System Names for a given manager.\n+     * <p>\n+     * TODO: Ideally a future refactor will use the getNamedBeanSet directly.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwMTA3Nw=="}, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzM4ODQ5OnYy", "diffSide": "RIGHT", "path": "java/src/jmri/jmrit/withrottle/AbstractController.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowOToyNFrOHbzYqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QyMjo1NTo0M1rOHcECsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxNTQ5OA==", "bodyText": "Should that be Manager<?> or Manager<E extends Namedbean>?  (Honest question, don't know if there's a problem with the later form)", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r498915498", "createdAt": "2020-10-02T16:09:24Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/jmrit/withrottle/AbstractController.java", "diffHunk": "@@ -51,12 +51,12 @@\n      * @param manager which manager to get system names for.\n      *\n      */\n-    @SuppressWarnings({\"unchecked\", \"deprecation\"}) // The systemNameList assignment is List<E extends Namedbean> to List<NamedBean>\n-                                    // Make this class generic on <E extends NamedBean> (and manager) to fix this.\n-                                    // deprecation needs careful unwinding for Set operations\n-    public void buildList(jmri.Manager manager) {\n+    public void buildList(jmri.Manager<?> manager) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4ODQwMQ==", "bodyText": "I was trying to avoid the cast to get to the .getSystemName() method.\nNetBeans really didn't like it Manager ,\nbut seems happy enough with Manager<?> and finds the expected manager classes fine :-)", "url": "https://github.com/JMRI/JMRI/pull/9053#discussion_r499188401", "createdAt": "2020-10-03T22:55:43Z", "author": {"login": "icklesteve"}, "path": "java/src/jmri/jmrit/withrottle/AbstractController.java", "diffHunk": "@@ -51,12 +51,12 @@\n      * @param manager which manager to get system names for.\n      *\n      */\n-    @SuppressWarnings({\"unchecked\", \"deprecation\"}) // The systemNameList assignment is List<E extends Namedbean> to List<NamedBean>\n-                                    // Make this class generic on <E extends NamedBean> (and manager) to fix this.\n-                                    // deprecation needs careful unwinding for Set operations\n-    public void buildList(jmri.Manager manager) {\n+    public void buildList(jmri.Manager<?> manager) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxNTQ5OA=="}, "originalCommit": {"oid": "06a0f07446ca583142635611f0db25540432aa7b"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4399, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}