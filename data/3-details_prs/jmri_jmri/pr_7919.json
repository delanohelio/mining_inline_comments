{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNTE0Njcx", "number": 7919, "title": "XML Schema enforces parseable system names", "bodyText": "This creates a new layout-4.19.2 XML Schema that enforces proper parseable system names for Turnouts, Lights and Sensors.  Newly-written files will reference this schema, so will have to have proper names; earlier PRs are enforcing that internally.\nFor more info, see:\nIssue #4670\nPR #7781\nPR #6490\nPR #5664\nPR #4758\nPR #4753\nThis closes #4670", "createdAt": "2020-01-10T15:58:51Z", "url": "https://github.com/JMRI/JMRI/pull/7919", "merged": true, "mergeCommit": {"oid": "450a08e808c882b0aa6cd6de8d01f15ea52f754e"}, "closed": true, "closedAt": "2020-01-12T00:34:40Z", "author": {"login": "bobjacobsen"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABbtZi3lAH2gAyMzYxNTE0NjcxOjRmMDRjMzkwOTc0YjA2NTJmYTMzODBmNDgxZmQ0MTk2YTMyNTgzMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5MPxZAH2gAyMzYxNTE0NjcxOjhjYWRlZTIxNTIzZjI2OWY1YWE4MzdlMjQzZmU3MzY2MTEyOGU5Njk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f04c390974b0652fa3380f481fd4196a325832d", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/4f04c390974b0652fa3380f481fd4196a325832d", "committedDate": "2019-12-05T14:07:14Z", "message": "allow different layout-config contents, i.e. writing old vs new schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85760f8b45c2efa1308469da0689187cce45972b", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/85760f8b45c2efa1308469da0689187cce45972b", "committedDate": "2019-12-05T14:10:13Z", "message": "create 4.19.1 schema and make it new output; turnouts updated to check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8872786bf1ba095bba8865eeedcc3ee5062c89d8", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/8872786bf1ba095bba8865eeedcc3ee5062c89d8", "committedDate": "2020-01-02T18:59:29Z", "message": "Merge branch 'development' into parse-system-names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1d2ea6557469bf24618b8d8ff09b6ae9f1642b9", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/a1d2ea6557469bf24618b8d8ff09b6ae9f1642b9", "committedDate": "2020-01-08T20:30:14Z", "message": "new turnout schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e547651f4eb92e77064c17f16b375d34962fe728", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/e547651f4eb92e77064c17f16b375d34962fe728", "committedDate": "2020-01-08T21:29:19Z", "message": "validate and test light, sensor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec83b9eb65d6748dcff8ddf8e2b6976559b135bf", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/ec83b9eb65d6748dcff8ddf8e2b6976559b135bf", "committedDate": "2020-01-08T21:33:56Z", "message": "Merge branch 'master' into parse-system-names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52a3c2af5ab331d7b01dac8762ab9af3b8cb4819", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/52a3c2af5ab331d7b01dac8762ab9af3b8cb4819", "committedDate": "2020-01-08T21:38:28Z", "message": "fix mistaken rename"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/1b9c32ce006bb142920e225614328faa8730e744", "committedDate": "2020-01-10T19:37:32Z", "message": "fix for new ROute IO names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b42c5401c0d03387f447e003b6ddb8f4418ccff3", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/b42c5401c0d03387f447e003b6ddb8f4418ccff3", "committedDate": "2020-01-10T22:51:42Z", "message": "Merge branch 'master' into parse-system-names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNDg3NjIy", "url": "https://github.com/JMRI/JMRI/pull/7919#pullrequestreview-341487622", "createdAt": "2020-01-11T00:40:33Z", "commit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQwMDo0MDozNFrOFcjQqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQwMDo0MjowOFrOFcjRvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ4MjE1NQ==", "bodyText": "This line has a TAB character which makes indentation wrong.", "url": "https://github.com/JMRI/JMRI/pull/7919#discussion_r365482155", "createdAt": "2020-01-11T00:40:34Z", "author": {"login": "danielb987"}, "path": "xml/schema/types/lights-4-19-2.xsd", "diffHunk": "@@ -0,0 +1,70 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<?xml-stylesheet href=\"../schema2xhtml.xsl\" type=\"text/xsl\"?>\n+\n+<!-- This schema is part of JMRI. Copyright 2009.                           -->\n+<!--                                                                        -->\n+<!-- JMRI is free software; you can redistribute it and/or modify it under  -->\n+<!-- the terms of version 2 of the GNU General Public License as published  -->\n+<!-- by the Free Software Foundation. See the \"COPYING\" file for a copy     -->\n+<!-- of this license.                                                       -->\n+<!--                                                                        -->\n+<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->\n+<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->\n+<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->\n+<!-- for more details.                                                      -->\n+\n+<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n+           xmlns:xsi =\"http://www.w3.org/2001/XMLSchema-instance\"\n+           xmlns:docbook=\"http://docbook.org/ns/docbook\"\n+           xmlns:jmri=\"http://jmri.org/xml/schema/JMRIschema\"\n+           xsi:schemaLocation=\"\n+                http://jmri.org/xml/schema/JMRIschema http://jmri.org/xml/schema/JMRIschema.xsd\n+                http://docbook.org/ns/docbook http://jmri.org/xml/schema/docbook/docbook.xsd\n+            \"\n+        >\n+\n+    <xs:complexType name=\"LightManagerType\">\n+      <xs:annotation>\n+        <xs:documentation>\n+          Define the XML stucture for storing the contents of a LightManager implementation.\n+        </xs:documentation>\n+        <xs:appinfo>\n+            <jmri:usingclass configurexml=\"true\">jmri.managers.configurexml.AbstractLightManagerConfigXML</jmri:usingclass>\n+        </xs:appinfo>\n+      </xs:annotation>\n+      <xs:sequence>\n+        \n+        <xs:element name=\"light\" type=\"LightType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\n+        \n+      </xs:sequence>\n+      <xs:attribute name=\"class\" type=\"classType\" use=\"required\"/>\n+    </xs:complexType>\n+\n+\n+   <xs:complexType name=\"LightType\">\n+            <xs:sequence>\n+      <xs:element name=\"systemName\" type=\"lightSystemNameType\" minOccurs=\"1\" maxOccurs=\"1\"/>\n+      <xs:group ref=\"CommonNamedBeanContentElements\"/>\n+              <xs:element name=\"lightcontrol\" minOccurs=\"0\" maxOccurs=\"unbounded\" >\n+                <xs:complexType>\n+           \t\t  <xs:attribute name=\"controlType\" type=\"xs:string\" use=\"required\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ4MjMxMA==", "bodyText": "This seems to be a copy/paste error. I guess this file should succeed, not fail?", "url": "https://github.com/JMRI/JMRI/pull/7919#discussion_r365482310", "createdAt": "2020-01-11T00:41:39Z", "author": {"login": "danielb987"}, "path": "java/test/jmri/configurexml/valid/TurnoutLegacyName.xml", "diffHunk": "@@ -0,0 +1,15 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<?xml-stylesheet type=\"text/xsl\" href=\"http://www.jmri.org/xml/XSLT/panelfile.xsl\"?>\n+\n+<!-- turnout elements with a legacy name fail -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ4MjM5Mw==", "bodyText": "This seems to be a copy/paste error. I guess this file should succeed, not fail?", "url": "https://github.com/JMRI/JMRI/pull/7919#discussion_r365482393", "createdAt": "2020-01-11T00:41:58Z", "author": {"login": "danielb987"}, "path": "java/test/jmri/configurexml/valid/SensorLegacyName.xml", "diffHunk": "@@ -0,0 +1,15 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<?xml-stylesheet type=\"text/xsl\" href=\"http://www.jmri.org/xml/XSLT/panelfile.xsl\"?>\n+\n+<!-- sensor elements with a legacy name fail -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ4MjQzMQ==", "bodyText": "This seems to be a copy/paste error. I guess this file should succeed, not fail?", "url": "https://github.com/JMRI/JMRI/pull/7919#discussion_r365482431", "createdAt": "2020-01-11T00:42:08Z", "author": {"login": "danielb987"}, "path": "java/test/jmri/configurexml/valid/LightLegacyName.xml", "diffHunk": "@@ -0,0 +1,15 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<?xml-stylesheet type=\"text/xsl\" href=\"http://www.jmri.org/xml/XSLT/panelfile.xsl\"?>\n+\n+<!-- sensor elements with a legacy name fail -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b9c32ce006bb142920e225614328faa8730e744"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf6428dd1ab6cf06560470972b19f8f6383e1b49", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/cf6428dd1ab6cf06560470972b19f8f6383e1b49", "committedDate": "2020-01-11T05:24:17Z", "message": "fix comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cadee21523f269f5aa837e243fe73661128e969", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/8cadee21523f269f5aa837e243fe73661128e969", "committedDate": "2020-01-11T05:24:42Z", "message": "fix comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 69, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}