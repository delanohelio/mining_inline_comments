{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNjE5MzI3", "number": 8341, "title": "fix: test frameworks should not log results to GUI", "bodyText": "The SystemConsole's redirection of STDOUT and STDERR so it could render those needs to be stopped at the end of tests to prevent attempts to modify a GUI window as the test completes.\nSince the SystemConsole is static and is not being reset after every test (we don't want to break STDOUT or STDERR by doing this incorrectly), this introduces the ability to close and (re)open the SystemConsole in the @Before/@BeforeEach and @After/@AfterEach annotated methods when testing.\nThis was pulled from #8269.", "createdAt": "2020-04-13T12:17:45Z", "url": "https://github.com/JMRI/JMRI/pull/8341", "merged": true, "mergeCommit": {"oid": "5e100aeca2a81010bd5f045c3077e22d48db0e40"}, "closed": true, "closedAt": "2020-04-18T04:39:09Z", "author": {"login": "rhwood"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXNsCAAH2gAyNDAyNjE5MzI3OjgyNThmZGQ2Y2E3ZGI2Yjk0ZGVhY2QwMDQxNzZiYjhjMTY2YjVhZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYNY-zgFqTM5NDY3Nzc3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8258fdd6ca7db6b94deacd004176bb8c166b5aff", "author": {"user": null}, "url": "https://github.com/JMRI/JMRI/commit/8258fdd6ca7db6b94deacd004176bb8c166b5aff", "committedDate": "2020-04-13T12:03:12Z", "message": "fix: test frameworks should not log results to GUI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f2017276c767c7abb8ad2712c26d51c09e70432", "author": {"user": {"login": "rhwood", "name": "Randall Wood"}}, "url": "https://github.com/JMRI/JMRI/commit/4f2017276c767c7abb8ad2712c26d51c09e70432", "committedDate": "2020-04-13T12:16:19Z", "message": "chore: whitespace fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMTExNDUy", "url": "https://github.com/JMRI/JMRI/pull/8341#pullrequestreview-392111452", "createdAt": "2020-04-13T12:19:39Z", "commit": {"oid": "4f2017276c767c7abb8ad2712c26d51c09e70432"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMjoxOTozOVrOGEk4yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMjoxOTozOVrOGEk4yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ1MTg0OA==", "bodyText": "Would it be better to simply close the SystemConsole streams immediately and have tests that need those streams to be open open them just for those tests?", "url": "https://github.com/JMRI/JMRI/pull/8341#discussion_r407451848", "createdAt": "2020-04-13T12:19:39Z", "author": {"login": "rhwood"}, "path": "java/test/jmri/util/JUnitUtil.java", "diffHunk": "@@ -180,6 +181,10 @@ public static void setUpLoggingAndCommonProperties() {\n             Log4JUtil.initLogging(filename);\n         }\n \n+        if (SystemConsole.isCreated()) {\n+            SystemConsole.getInstance().open();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f2017276c767c7abb8ad2712c26d51c09e70432"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0Njc3Nzc0", "url": "https://github.com/JMRI/JMRI/pull/8341#pullrequestreview-394677774", "createdAt": "2020-04-16T14:16:19Z", "commit": {"oid": "4f2017276c767c7abb8ad2712c26d51c09e70432"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 10, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}