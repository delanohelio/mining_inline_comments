{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1OTYzMzQ0", "number": 8226, "title": "Add speed step dropdown to throttles", "bodyText": "Add a speed step dropdown to the extended throttle; this makes it easier to select the speed step mode and makes it possible to select the less common speed step modes exposed by some systems. I've also consolidated the throttle layout code, centralized the logic for determining if throttle icons should be shown, and added unit tests for the control panel layout and some preferences.\nSlider:\n\nShunting:\n\nStep display (previously speed step):", "createdAt": "2020-03-10T06:43:54Z", "url": "https://github.com/JMRI/JMRI/pull/8226", "merged": true, "mergeCommit": {"oid": "45d1970ed29d654b6a95a02b83ffe29b506defda"}, "closed": true, "closedAt": "2020-03-15T01:06:38Z", "author": {"login": "trainman419"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMPn-ogFqTM3MTgxNTk1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNsGTGABqjMxMjk4NDY4NDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxODE1OTUx", "url": "https://github.com/JMRI/JMRI/pull/8226#pullrequestreview-371815951", "createdAt": "2020-03-10T10:03:12Z", "commit": {"oid": "cacfce7ff151ba455874f84de86f17456ce8fa18"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxMDowMzoxM1rOF0ISiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxMDowMzoxM1rOF0ISiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIwNjA5MQ==", "bodyText": "Please change references to peopleKey or peopleName to description, since that is a common term for this kind of key elsewhere in our code.", "url": "https://github.com/JMRI/JMRI/pull/8226#discussion_r390206091", "createdAt": "2020-03-10T10:03:13Z", "author": {"login": "rhwood"}, "path": "java/src/jmri/SpeedStepMode.java", "diffHunk": "@@ -20,30 +20,38 @@\n  */\n @javax.annotation.concurrent.Immutable\n public enum SpeedStepMode {\n-    UNKNOWN(\"unknown\", 1, 0.0f),\n+    // NOTE: keep these up to date with xml/schema/locomotive-config.xsd\n+    UNKNOWN(\"unknown\", 1, 0.0f, \"SpeedStepUnknown\"),\n     // NMRA DCC standard speed step modes.\n-    NMRA_DCC_128(\"128\", 126), // Remember there are only 126 non-stop values in 128 speed.\n-    NMRA_DCC_28(\"28\", 28),\n-    NMRA_DCC_27(\"27\", 27),\n-    NMRA_DCC_14(\"14\", 14),\n+    NMRA_DCC_128(\"128\", 126, \"SpeedStep128\"), // Remember there are only 126 non-stop values in 128 speed.\n+    NMRA_DCC_28(\"28\", 28, \"SpeedStep28\"),\n+    NMRA_DCC_27(\"27\", 27, \"SpeedStep27\"),\n+    NMRA_DCC_14(\"14\", 14, \"SpeedStep14\"),\n     // Non-DCC speed step modes.\n-    MOTOROLA_28(\"motorola_28\", 28), // Motorola 28 speed step mode.\n-    TMCC_32(\"tmcc_32\", 32), // Lionel TMCC 32 speed step mode.\n-    INCREMENTAL(\"incremental\", 1, 1.0f);\n+    MOTOROLA_28(\"motorola_28\", 28, \"SpeedStep28Motorola\"), // Motorola 28 speed step mode.\n+    TMCC_32(\"tmcc_32\", 32, \"SpeedStep32TMCC\"), // Lionel TMCC 32 speed step mode.\n+    INCREMENTAL(\"incremental\", 1, 1.0f, \"SpeedStepIncremental\");\n \n-    SpeedStepMode(String name, int numSteps) {\n-        this(name, numSteps, 1.0f / numSteps);\n+    SpeedStepMode(String name, int numSteps, String peopleKey) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cacfce7ff151ba455874f84de86f17456ce8fa18"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbbb22bc852939425e385f72a0103b7fd73d305d", "author": {"user": {"login": "ahendrix", "name": "Austin Hendrix"}}, "url": "https://github.com/JMRI/JMRI/commit/cbbb22bc852939425e385f72a0103b7fd73d305d", "committedDate": "2020-03-14T21:49:22Z", "message": "Switch throttle to speed step dropdown"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01a4d98c8c71b7a825aff757bc16223316545f7a", "author": {"user": {"login": "trainman419", "name": "Austin"}}, "url": "https://github.com/JMRI/JMRI/commit/01a4d98c8c71b7a825aff757bc16223316545f7a", "committedDate": "2020-03-13T07:29:45Z", "message": "Fix javadoc"}, "afterCommit": {"oid": "cbbb22bc852939425e385f72a0103b7fd73d305d", "author": {"user": {"login": "ahendrix", "name": "Austin Hendrix"}}, "url": "https://github.com/JMRI/JMRI/commit/cbbb22bc852939425e385f72a0103b7fd73d305d", "committedDate": "2020-03-14T21:49:22Z", "message": "Switch throttle to speed step dropdown"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 36, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}