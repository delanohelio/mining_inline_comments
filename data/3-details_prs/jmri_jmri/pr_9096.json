{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3OTg2MjU5", "number": 9096, "title": "Store last checkbox status in preferences", "bodyText": "This adds the methods setCheckboxPreferenceState() and getCheckboxPreferenceState() to UserPreferencesManager.\nIn LogixNG, I have several sub types that are NamedBeans, and each sub type has it's own sub prefix. For example, a Digital Action has the system prefix IQDA, where I = internal, Q = LogixNG, D = digital and A = action. (The letter I is the default for internal, but can be changed).\nSince LogixNG has several sub types with their own sub prefix, it's recommended that the user always uses auto system names for the sub types of LogixNG, but the user may if he want still enter his own system name if preferred.\nThe problem with UserPreferencesManager is that the method getSimplePreferenceState() defaults to false if the preference is not known. This PR makes it possible to decide if the default should be true or false.", "createdAt": "2020-10-22T03:26:35Z", "url": "https://github.com/JMRI/JMRI/pull/9096", "merged": true, "mergeCommit": {"oid": "514d19464a7c559c724bcac00b901f1752a1a9ed"}, "closed": true, "closedAt": "2020-10-28T14:16:31Z", "author": {"login": "danielb987"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdU42-TgH2gAyNTA3OTg2MjU5OmYyZDE4NTY4MzQ5NjgwM2M3YTlkNmU0YWM5YjBjYTUyM2JkMzJjZDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdW9-4uAFqTUxODY4Njg5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f2d185683496803c7a9d6e4ac9b0ca523bd32cd9", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/f2d185683496803c7a9d6e4ac9b0ca523bd32cd9", "committedDate": "2020-10-22T02:50:27Z", "message": "Store last checkbox status in preferences"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "361db0e7cb93484833250af90f43438ef515f2d8", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/361db0e7cb93484833250af90f43438ef515f2d8", "committedDate": "2020-10-23T01:33:44Z", "message": "Call the correct method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c16f9e58a78e06edb3994eb46efd15874448c63", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/3c16f9e58a78e06edb3994eb46efd15874448c63", "committedDate": "2020-10-23T01:42:47Z", "message": "Use correct field"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NjY4NDE1", "url": "https://github.com/JMRI/JMRI/pull/9096#pullrequestreview-516668415", "createdAt": "2020-10-26T11:03:39Z", "commit": {"oid": "3c16f9e58a78e06edb3994eb46efd15874448c63"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMTowMzozOVrOHoKk7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMTowNDoyOVrOHoKmgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg3ODM4MA==", "bodyText": "I don't know enough about this code to know whether it's a problem, but this uses setChangeMade(false) here and resetChangeMade(); - should those be consistent?", "url": "https://github.com/JMRI/JMRI/pull/9096#discussion_r511878380", "createdAt": "2020-10-26T11:03:39Z", "author": {"login": "bobjacobsen"}, "path": "java/src/jmri/managers/JmriUserPreferencesManager.java", "diffHunk": "@@ -403,6 +406,18 @@ public void setComboBoxLastSelection(String comboBoxName, String lastValue) {\n         this.saveComboBoxLastSelections();\n     }\n \n+    @Override\n+    public boolean getCheckboxPreferenceState(String name, boolean defaultState) {\n+        return this.checkBoxLastSelection.getOrDefault(name, defaultState);\n+    }\n+\n+    @Override\n+    public void setCheckboxPreferenceState(String name, boolean state) {\n+        checkBoxLastSelection.put(name, state);\n+        setChangeMade(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c16f9e58a78e06edb3994eb46efd15874448c63"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg3ODc4Ng==", "bodyText": "The \"It is the current development version\" line will be obsolete almost right away, so it's better to omit it.", "url": "https://github.com/JMRI/JMRI/pull/9096#discussion_r511878786", "createdAt": "2020-10-26T11:04:29Z", "author": {"login": "bobjacobsen"}, "path": "xml/schema/auxiliary-configuration/checkbox-4-21-3.xsd", "diffHunk": "@@ -0,0 +1,50 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<?xml-stylesheet href=\"../../schema2xhtml.xsl\" type=\"text/xsl\"?>\n+\n+<!-- This schema is part of JMRI. Copyright 2016.                           -->\n+<!--                                                                        -->\n+<!-- JMRI is free software; you can redistribute it and/or modify it under  -->\n+<!-- the terms of version 2 of the GNU General Public License as published  -->\n+<!-- by the Free Software Foundation. See the \"COPYING\" file for a copy     -->\n+<!-- of this license.                                                       -->\n+<!--                                                                        -->\n+<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->\n+<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->\n+<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->\n+<!-- for more details.                                                      -->\n+\n+\n+<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n+           xmlns:xsi =\"http://www.w3.org/2001/XMLSchema-instance\"\n+           xmlns:docbook=\"http://docbook.org/ns/docbook\"\n+           xmlns:jmri=\"http://jmri.org/xml/schema/JMRIschema\"\n+           xsi:schemaLocation=\"\n+                http://jmri.org/xml/schema/JMRIschema http://jmri.org/xml/schema/JMRIschema.xsd\n+                http://docbook.org/ns/docbook http://jmri.org/xml/schema/docbook/docbook.xsd\n+            \"\n+>\n+    <xs:element name=\"checkBoxLastValue\">\n+        <xs:annotation>\n+            <xs:documentation>\n+                This is the schema representing checkbox last states.\n+                <p/>\n+                This version of the schema is for files created by JMRI\n+                version 4.21.3 and later.  \n+                It is the current development version.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c16f9e58a78e06edb3994eb46efd15874448c63"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0226162ef39de5fdb793c1de2386513bafcbfa9", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/f0226162ef39de5fdb793c1de2386513bafcbfa9", "committedDate": "2020-10-26T21:55:03Z", "message": "Remove part of the comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4Njg2ODkx", "url": "https://github.com/JMRI/JMRI/pull/9096#pullrequestreview-518686891", "createdAt": "2020-10-28T13:56:28Z", "commit": {"oid": "f0226162ef39de5fdb793c1de2386513bafcbfa9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3946, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}