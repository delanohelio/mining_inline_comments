{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MTE3OTM1", "number": 8879, "title": "Move MQTT temp directory to profile directory.", "bodyText": "Does what it says on the tin.  This allows JMRI MQTT connections even when JMRI is run from a protected directory.\nAlso:\n\nadd a bit on the MQTT library to lib/README", "createdAt": "2020-07-28T23:59:04Z", "url": "https://github.com/JMRI/JMRI/pull/8879", "merged": true, "mergeCommit": {"oid": "991e997280d8a50aa68e2988c6313e35e09c73ca"}, "closed": true, "closedAt": "2020-08-06T04:51:58Z", "author": {"login": "bobjacobsen"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5fbx_AH2gAyNDU4MTE3OTM1OmIwY2IxMWFmZGQzN2FkY2ZhZDg0NmJlNmEyMjYxZTk1ZmMyOGY4NmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8HM9rAH2gAyNDU4MTE3OTM1OmQwYTlhNzBjODNlNGIwMzNhYzFkZTgzNmE5Y2NjMWExZDQwNWUxZDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0cb11afdd37adcfad846be6a2261e95fc28f86d", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/b0cb11afdd37adcfad846be6a2261e95fc28f86d", "committedDate": "2020-07-28T23:57:10Z", "message": "move MQTT temp dir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3feba39d707a5938b4077b1824472ba4cb6285df", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/3feba39d707a5938b4077b1824472ba4cb6285df", "committedDate": "2020-08-03T00:23:25Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48c79c2e5f6eca51239e77da5de056313cb7ff5e", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/48c79c2e5f6eca51239e77da5de056313cb7ff5e", "committedDate": "2020-08-05T03:22:48Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7a8f1d2d4e76fce991328a604630ba9a9e1053e", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/a7a8f1d2d4e76fce991328a604630ba9a9e1053e", "committedDate": "2020-08-05T03:32:58Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb072e174d2543b2c593987e4083f97c9ffbc049", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/eb072e174d2543b2c593987e4083f97c9ffbc049", "committedDate": "2020-08-05T04:14:43Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e19c60ed52997ef0151432fd84db5314737810c6", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/e19c60ed52997ef0151432fd84db5314737810c6", "committedDate": "2020-08-05T04:30:47Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c54b0f0a0fe040e0f3f3ad407cc349d083e17d0", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/2c54b0f0a0fe040e0f3f3ad407cc349d083e17d0", "committedDate": "2020-08-05T04:34:33Z", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTczMDQ2", "url": "https://github.com/JMRI/JMRI/pull/8879#pullrequestreview-461973046", "createdAt": "2020-08-05T19:48:21Z", "commit": {"oid": "2c54b0f0a0fe040e0f3f3ad407cc349d083e17d0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxOTo0ODoyMVrOG8YKzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxOTo0ODoyMVrOG8YKzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk2MzcyNg==", "bodyText": "There is a public static for \"profile:\" in FileUtil (jmri.util.FileUtil.PROFILE) that should probably be used instead of a magic constant.", "url": "https://github.com/JMRI/JMRI/pull/8879#discussion_r465963726", "createdAt": "2020-08-05T19:48:21Z", "author": {"login": "elestedt"}, "path": "java/src/jmri/jmrix/mqtt/MqttAdapter.java", "diffHunk": "@@ -69,7 +74,12 @@ public void connect() throws IOException {\n             if (clientID.length() > 23) {\n                 clientID = clientID.substring(clientID.length() - 23);\n             }\n-            mqttClient = new MqttClient(PROTOCOL + getCurrentPortName(), clientID);\n+            String tempdirName = jmri.util.FileUtil.getExternalFilename(\"profile:\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c54b0f0a0fe040e0f3f3ad407cc349d083e17d0"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0a9a70c83e4b033ac1de836a9ccc1a1d405e1d8", "author": {"user": {"login": "bobjacobsen", "name": "Bob Jacobsen"}}, "url": "https://github.com/JMRI/JMRI/commit/d0a9a70c83e4b033ac1de836a9ccc1a1d405e1d8", "committedDate": "2020-08-06T03:25:02Z", "message": "us profile constant"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3966, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}