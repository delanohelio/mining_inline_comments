{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MDY5NDk5", "number": 8529, "title": "Throttle Max. Functions", "bodyText": "Removes some internal constraints in main JMRI Throttle handling functions > 28\nNo changes to Throttle GUI, however Function buttons can be repurposed to the higher numbers, if available on a particular Throttle type, by right clicking on Function button and opening up Function Button Editor.\nAdd Static function string generators.\nAdd getFunctions, getFunctionsMomentary boolean[] methods to Throttle interface.\nAdd new constructor to AbstractThrottle with specific number of functions.\nFunctionButtonEditor Function ID max value set by throttle, not fixed.\nAdd SetThrottle / GetThrottle to FunctionButton\nFixes bug spotted, present in 4.18 on Throttle Fuction GUI changelistener updating functions with array index, not function number.", "createdAt": "2020-05-14T15:23:35Z", "url": "https://github.com/JMRI/JMRI/pull/8529", "merged": true, "mergeCommit": {"oid": "0c44bb57f911ef95555aab13f2c4c3b13bb3aa2b"}, "closed": true, "closedAt": "2020-05-21T04:05:34Z", "author": {"login": "icklesteve"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchNJL9gH2gAyNDE4MDY5NDk5OjVhZGY5ZTMwMjhjNWE0ZTk4MDRmMzljMWUzZTk1ZjA3MTBmZmUzNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjNS1PAH2gAyNDE4MDY5NDk5OjY0OTIxZGNmMDkzYmY4MDYxNDk4OTVjZGY0NTgwMzlmNzNmMGQyNWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5adf9e3028c5a4e9804f39c1e3e95f0710ffe360", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/5adf9e3028c5a4e9804f39c1e3e95f0710ffe360", "committedDate": "2020-05-14T13:04:23Z", "message": "Update Throttle.java\n\nRemove fixed length function arrays recently added.\nAdd static function string generator methods.\nAdd getMaxFunctions() method to interface."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "084161dafcb07c8f0bb32153e94512854aaac7aa", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/084161dafcb07c8f0bb32153e94512854aaac7aa", "committedDate": "2020-05-14T13:04:48Z", "message": "test function string numbers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6e6474fed96c23a6e8a3944aab783af55af0f70", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/f6e6474fed96c23a6e8a3944aab783af55af0f70", "committedDate": "2020-05-14T13:15:56Z", "message": "Update AbstractThrottle.java\n\nAdd new constructor to start Throttle with specific number of functions.\ngetMaxFunctions() int method.\nMove from fixed length array values to static method string values."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a41c5d4d203363cd4c326033e94132aba10ba85", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/2a41c5d4d203363cd4c326033e94132aba10ba85", "committedDate": "2020-05-14T13:16:40Z", "message": "update ecos throttle, add tests for max value."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0635b3507f9b4ab6c4ced1976cde4cd4418e75e1", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/0635b3507f9b4ab6c4ced1976cde4cd4418e75e1", "committedDate": "2020-05-14T13:19:56Z", "message": "remove fixed length string array"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f841ce22a26f1fa72258080b4afba0f1f250a2d8", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/f841ce22a26f1fa72258080b4afba0f1f250a2d8", "committedDate": "2020-05-14T13:23:44Z", "message": "Function Button / Function Button Editor\n\nFunctionButton holds max function value so can be passed to function button editor.\nFunctionButtonEditor Function ID max value set by throttle, not fixed.\nUpdate error handling bundles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "196b77bbd7634938b969cae9f71b1be9449786d9", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/196b77bbd7634938b969cae9f71b1be9449786d9", "committedDate": "2020-05-14T13:25:40Z", "message": "Update FunctionPanel.java\n\nSets max function value on buttons on throttle update.\nFixed newly spotted bug on changelistener updating functions with correct function index, not array index."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "651518ac8cb7a4c7fa405804196326468076de8e", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/651518ac8cb7a4c7fa405804196326468076de8e", "committedDate": "2020-05-14T14:31:22Z", "message": "update javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMTA5MTg4", "url": "https://github.com/JMRI/JMRI/pull/8529#pullrequestreview-412109188", "createdAt": "2020-05-14T19:13:46Z", "commit": {"oid": "f841ce22a26f1fa72258080b4afba0f1f250a2d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOToxMzo0N1rOGVqoZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOToxMzo0N1rOGVqoZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM3MTc1MQ==", "bodyText": "I find the name MaxFunction confusing.  The first time I read this I thought it should be 28---the maximum function number most throttles support.  Perhaps the name should refer to the number of functions: numFunction or similar.", "url": "https://github.com/JMRI/JMRI/pull/8529#discussion_r425371751", "createdAt": "2020-05-14T19:13:47Z", "author": {"login": "jszinger"}, "path": "java/src/jmri/jmrit/throttle/FunctionButton.java", "diffHunk": "@@ -572,6 +572,24 @@ public boolean isImageOK() {\n     public boolean isSelectedImageOK() {\n         return isSelectedImageOK;\n     }\n+    \n+    private int _maxFunc;\n+    \n+    /** \n+     * Set maximum function number hardware is capable of.\n+     * @param maxfunc normally 29, 0-28.\n+     */\n+    public void setMaxFunction( int maxfunc) {\n+        _maxFunc = maxfunc;\n+    }\n+    \n+    /**\n+     * Get maximum function number hardware is capable of.\n+     * @return maximum functions, normally 29, i.e. 0-28.\n+     */\n+    public int getMaxFunction() {\n+        return _maxFunc;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f841ce22a26f1fa72258080b4afba0f1f250a2d8"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bd1b5bab8d2c36a9a1df65ef6ca2b1072a24ce0", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/7bd1b5bab8d2c36a9a1df65ef6ca2b1072a24ce0", "committedDate": "2020-05-15T01:40:07Z", "message": "update button method names - setMaxFunctions , getMaxFunctions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64921dcf093bf806149895cdf458039f73f0d25c", "author": {"user": {"login": "icklesteve", "name": "Steve Young"}}, "url": "https://github.com/JMRI/JMRI/commit/64921dcf093bf806149895cdf458039f73f0d25c", "committedDate": "2020-05-20T18:22:46Z", "message": "remove MaxFunction references\n\nremove getMaxFunctions\nadd getFunctions, getFunctionsMomentary boolean[]\nadd SetThrottle / GetThrottle to FunctionButton"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4071, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}