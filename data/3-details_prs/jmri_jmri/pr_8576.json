{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMzQ5MjA4", "number": 8576, "title": "Fix problem with deprecation of StartupActionFactory", "bodyText": "#8544 deprecated apps.startup.StartupActionFactory in a way that made a class using apps.startup.AbstractStartupActionFactory unable to use the service provider apps.startup.StartupActionFactory. This fixes the problem and adds a test to check this. The test will be removed when these two classes are removed.", "createdAt": "2020-05-24T01:27:53Z", "url": "https://github.com/JMRI/JMRI/pull/8576", "merged": true, "mergeCommit": {"oid": "c330fac27fbbfb47c1b599cf6a1b8053104ae161"}, "closed": true, "closedAt": "2020-05-24T05:58:38Z", "author": {"login": "danielb987"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABckQbXwAH2gAyNDIyMzQ5MjA4OjllYzc1NTVkOWJhNmM4N2M1NzE4NzFmMmRiMDU0MDkxMzJiYzY3ZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckRokLgH2gAyNDIyMzQ5MjA4OmY1OGE4ZDdiMWNmNzAzMDk4MDE3MDg1ZmFhMzgyZWZjNTRhYTQ2ODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9ec7555d9ba6c87c571871f2db05409132bc67df", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/9ec7555d9ba6c87c571871f2db05409132bc67df", "committedDate": "2020-05-24T00:35:44Z", "message": "Fix problem with deprecation of StartupActionFactory\n\nA class that extends apps.startup.AbstractStartupActionFactory wasn't able to use the service provider apps.startup.StartupActionFactory."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4fe956b65c4bfa6eefa0bfe5f97353909776415", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/a4fe956b65c4bfa6eefa0bfe5f97353909776415", "committedDate": "2020-05-24T01:02:34Z", "message": "Add \"String\" to the bundle for StartupActionFactoryScaffold"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MzIwMzcz", "url": "https://github.com/JMRI/JMRI/pull/8576#pullrequestreview-417320373", "createdAt": "2020-05-24T01:34:33Z", "commit": {"oid": "a4fe956b65c4bfa6eefa0bfe5f97353909776415"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQwMTozNDozM1rOGZsJig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQwMTozNjoxNlrOGZsJzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU5MDkyMg==", "bodyText": "You can write your test without polluting the JMRI sources to do; please remove this.", "url": "https://github.com/JMRI/JMRI/pull/8576#discussion_r429590922", "createdAt": "2020-05-24T01:34:33Z", "author": {"login": "rhwood"}, "path": "java/src/apps/startup/Bundle.properties", "diffHunk": "@@ -60,3 +60,6 @@ ScriptButtonModel.ScriptNotFound=Cannot create button for script {0}; script not\n TriggerRouteModel.RouteNotDefined=Unable to set route \"{0}\". Route not defined.\n #Error thrown when startup pause thread is interrupted.\n StartupPauseModel.Interrupted={0} second startup pause interrupted early.\n+\n+#Remove this string when the class StartupActionFactoryScaffold is removed\n+String  = String", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4fe956b65c4bfa6eefa0bfe5f97353909776415"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU5MDk5MQ==", "bodyText": "You can write your test without polluting the JMRI sources to do; please return an empty or untranslated String.", "url": "https://github.com/JMRI/JMRI/pull/8576#discussion_r429590991", "createdAt": "2020-05-24T01:36:16Z", "author": {"login": "rhwood"}, "path": "java/test/apps/startup/StartupActionFactoryScaffold.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package apps.startup;\n+\n+import java.util.Locale;\n+import org.openide.util.lookup.ServiceProvider;\n+\n+/**\n+ * The purpose of this class is to test that a class that extends\n+ * apps.startup.AbstractStartupActionFactory can use the service\n+ * provider apps.startup.StartupActionFactory.\n+ * \n+ * This class will be removed when apps.startup.StartupActionFactory\n+ * and apps.startup.AbstractStartupActionFactory is removed.\n+ * \n+ * Important:\n+ * When this class is removed, the string \"String\" in\n+ * apps.startup.Bundle.properties should be removed. That string is needed\n+ * for the AbstractActionModelTest test.\n+ * \n+ * @author Daniel Bergqvist Copyright (C) 2020\n+ */\n+@SuppressWarnings(\"deprecation\")\n+@ServiceProvider(service = StartupActionFactory.class)\n+public class StartupActionFactoryScaffold extends AbstractStartupActionFactory {\n+\n+    @Override\n+    public String getTitle(Class<?> clazz, Locale locale) throws IllegalArgumentException {\n+        if (!clazz.equals(String.class)) {\n+            throw new IllegalArgumentException();\n+        }\n+        return Bundle.getMessage(locale, \"String\"); // NOI18N", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4fe956b65c4bfa6eefa0bfe5f97353909776415"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f58a8d7b1cf703098017085faa382efc54aa4684", "author": {"user": {"login": "danielb987", "name": "Daniel"}}, "url": "https://github.com/JMRI/JMRI/commit/f58a8d7b1cf703098017085faa382efc54aa4684", "committedDate": "2020-05-24T02:00:03Z", "message": "Remove unneeded I18N"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4081, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}