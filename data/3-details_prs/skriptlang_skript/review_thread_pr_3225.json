{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2Nzc2MzMz", "number": 3225, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOTozMTowOVrOESLWpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDoxNDo0NVrOESaAyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDk1ODQ3OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOTozMTowOVrOG3On9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOTozMTowOVrOG3On9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDQ2OQ==", "bodyText": "This sentence should end with a period.", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460564469", "createdAt": "2020-07-26T19:31:09Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d93e6ad5a2a0119012deae0ade3267df2edb5e22"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzAxMDA1OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjo1MToyMVrOG3hD3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzozNjo0OVrOG3ixnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NjUyNg==", "bodyText": "The last login method requires Paper 1.13 so it may be good to mention it with the RequiredPlugins annotation. Or at least mentioning the behaviour change in the description.", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460866526", "createdAt": "2020-07-27T12:51:21Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login date and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login date and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "142fb7f482990a3174c9146dae5baadcbd7c76f2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg5MzEwNw==", "bodyText": "I'm not sure as to what getLastPlayed does, as in whether or not it gets when they last joined or when they last left the server", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460893107", "createdAt": "2020-07-27T13:34:36Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login date and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login date and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NjUyNg=="}, "originalCommit": {"oid": "142fb7f482990a3174c9146dae5baadcbd7c76f2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg5NDYyMw==", "bodyText": "In Paper, it was replaced by OfflinePlayer#getLastLogin and OfflinePlayer#getLastSeen, since the behaviour of the method is unclear, my wild guess is that it is the time they were last seen.", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460894623", "createdAt": "2020-07-27T13:36:49Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login date and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login date and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NjUyNg=="}, "originalCommit": {"oid": "142fb7f482990a3174c9146dae5baadcbd7c76f2"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzAxNTM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjo1Mjo0NVrOG3hG7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjo1Mjo0NVrOG3hG7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NzMwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login [(date|time)]\", \"offlineplayers\");\n          \n          \n            \n            \t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login\", \"offlineplayers\");", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460867309", "createdAt": "2020-07-27T12:52:45Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login date and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login date and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprLastLoginTime extends SimplePropertyExpression<OfflinePlayer, Date> {\n+\t\n+\tprivate static boolean LAST_LOGIN = Skript.methodExists(OfflinePlayer.class, \"getLastLogin\");\n+\t\n+\tstatic {\n+\t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login [(date|time)]\", \"offlineplayers\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "142fb7f482990a3174c9146dae5baadcbd7c76f2"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzAxNjU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjo1MzowOFrOG3hHtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMjo1MzowOFrOG3hHtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg2NzUxMQ==", "bodyText": "missing new line at the end", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460867511", "createdAt": "2020-07-27T12:53:08Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login date and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login date and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprLastLoginTime extends SimplePropertyExpression<OfflinePlayer, Date> {\n+\t\n+\tprivate static boolean LAST_LOGIN = Skript.methodExists(OfflinePlayer.class, \"getLastLogin\");\n+\t\n+\tstatic {\n+\t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login [(date|time)]\", \"offlineplayers\");\n+\t}\n+\n+\tprivate boolean first;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tfirst = parseResult.mark == 2;\n+\t\treturn super.init(exprs, matchedPattern, isDelayed, parseResult);\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tpublic Date convert(OfflinePlayer player) {\n+\t\treturn new Date(first ? player.getFirstPlayed() : (LAST_LOGIN ? player.getLastLogin() : player.getLastPlayed()));\n+\t}\n+\t\n+\t@Override\n+\tpublic Class<? extends Date> getReturnType() {\n+\t\treturn Date.class;\n+\t}\n+\t\n+\t@Override\n+\tprotected String getPropertyName() {\n+\t\treturn \"last login date\";\n+\t}\n+\t\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "142fb7f482990a3174c9146dae5baadcbd7c76f2"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzM2MDA4OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDoxNDo0NVrOG3kZjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDoyMjowNlrOG3kuuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkyMTIyOA==", "bodyText": "Why not just return true?", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460921228", "createdAt": "2020-07-27T14:14:45Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server. 'last login' requires paper to get the last login, otherwise it will get the last time they were seen on the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprLastLoginTime extends SimplePropertyExpression<OfflinePlayer, Date> {\n+\t\n+\tprivate static boolean LAST_LOGIN = Skript.methodExists(OfflinePlayer.class, \"getLastLogin\");\n+\t\n+\tstatic {\n+\t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login\", \"offlineplayers\");\n+\t}\n+\t\n+\tprivate boolean first;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tfirst = parseResult.mark == 2;\n+\t\treturn super.init(exprs, matchedPattern, isDelayed, parseResult);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b900094bb1b386b1dd816f11df975a9278399f"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkyNjY1MQ==", "bodyText": "super calls setExpr, which he can do himself here but I actually prefer them to call super since we don't know if we are going to add more logic in the future.", "url": "https://github.com/SkriptLang/Skript/pull/3225#discussion_r460926651", "createdAt": "2020-07-27T14:22:06Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprLastLoginTime.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.OfflinePlayer;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.SimplePropertyExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.util.Date;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Last/First Login Time\")\n+@Description(\"When a player last/first logged in the server. 'last login' requires paper to get the last login, otherwise it will get the last time they were seen on the server.\")\n+@Examples({\"command /onlinefor:\",\n+\t\"\\ttrigger:\",\n+\t\"\\t\\tsend \\\"You have been online for %difference between player's last login and now%.\\\"\",\n+\t\"\\t\\tsend \\\"You first joined the server %difference between player's first login and now% ago.\\\"\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprLastLoginTime extends SimplePropertyExpression<OfflinePlayer, Date> {\n+\t\n+\tprivate static boolean LAST_LOGIN = Skript.methodExists(OfflinePlayer.class, \"getLastLogin\");\n+\t\n+\tstatic {\n+\t\tregister(ExprLastLoginTime.class, Date.class, \"(1\u00a6last|2\u00a6first) login\", \"offlineplayers\");\n+\t}\n+\t\n+\tprivate boolean first;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tfirst = parseResult.mark == 2;\n+\t\treturn super.init(exprs, matchedPattern, isDelayed, parseResult);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkyMTIyOA=="}, "originalCommit": {"oid": "e1b900094bb1b386b1dd816f11df975a9278399f"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1094, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}