{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2Nzk2NjUw", "number": 3228, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo0OToxM1rOESZTDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQyMjo0MzowNFrOEnyCnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzI0MzAxOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo0OToxM1rOG3jSkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDo0OToxOFrOG3l_SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ==", "bodyText": "use ItemType, not ItemStack. Also, it should support multiple blocks", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460903059", "createdAt": "2020-07-27T13:49:13Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwODE0Mw==", "bodyText": "Why should I do that?", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460908143", "createdAt": "2020-07-27T13:56:19Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNjUyOQ==", "bodyText": "It's rather complex to explain here but basically, Skript only passes around itemtypes, not itemstacks and even if it may make this specific case a bit more complex, it's better for expressions to encourage the usage of ItemType so that addon developers don't start passing ItemStacks around and generating weird behaviour in some expressions.", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460916529", "createdAt": "2020-07-27T14:08:08Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxODUyMg==", "bodyText": "\ud83d\udc4d okay I'll add that afterwards, thanks", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460918522", "createdAt": "2020-07-27T14:10:58Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkzNDUzNQ==", "bodyText": "You could also split this into multiple lines", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460934535", "createdAt": "2020-07-27T14:32:13Z", "author": {"login": "Nicofisi"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0NjMxMQ==", "bodyText": "How would I implement it?\nWould I do something along the lines of\n\t\t\t\tList<ItemStack> stacks = (List<ItemStack>) block.getDrops(item.getRandom());\n\t\t\t\tint size = stacks.size();\n\t\t\t\tItemType[] result = new ItemType[size];\n\t\t\t\tfor (int i = 0; i < size; i++) {\n\t\t\t\t\tresult[i] = new ItemType(stacks.get(i));\n\t\t\t\t}\n\t\t\t\treturn result;", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460946311", "createdAt": "2020-07-27T14:48:02Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0NzI3Mg==", "bodyText": "Yeah, that should do", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460947272", "createdAt": "2020-07-27T14:49:18Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMzA1OQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzI0OTM3OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo1MDozNVrOG3jWZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMDowMjo1NFrOHZNqTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ==", "bodyText": "We tend to directly not register the pattern in those cases, not sure if this is better though", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460904039", "createdAt": "2020-07-27T13:50:35Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNzg1NA==", "bodyText": "I'd leave it like this as it can still be used, just without the entity", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460907854", "createdAt": "2020-07-27T13:55:55Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwODgwNg==", "bodyText": "I mean, not registering the pattern in the versions it does not work. But I believe we can leave it like this since it'll be less confusing to users.", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460908806", "createdAt": "2020-07-27T13:57:12Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxMDI0MQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r460910241", "createdAt": "2020-07-27T13:59:07Z", "author": {"login": "DeltaRays"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjE5Nzc4MQ==", "bodyText": "can you please cache the result of the methodExists calls?", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r496197781", "createdAt": "2020-09-28T19:58:01Z", "author": {"login": "Pikachu920"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIwMDI3MQ==", "bodyText": "can\u2019t believe I missed that \ud83d\ude14\ud83d\ude14", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r496200271", "createdAt": "2020-09-28T20:02:54Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemStack> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemStack.class, ExpressionType.COMBINED, \"drops of %block% [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\", \"%block%'s drops [(using|with) %-itemstack% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemStack> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemStack>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDAzOQ=="}, "originalCommit": {"oid": "c6c4935076c83a0fd8cff5bd6ae0bd71ef5ea234"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MjE1NTkxOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTozNzozM1rOG5xGfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTozNzozM1rOG5xGfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIyNjQ5Mg==", "bodyText": "Can you put each pattern on it's own line?", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r463226492", "createdAt": "2020-07-30T19:37:33Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemType> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemType.class, ExpressionType.COMBINED, \"drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\", \"%blocks%'s drops [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1af7de9d1884b626465a7391f934e7fa8b2a94"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MjE2ODM1OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MTozM1rOG5xOSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MTozM1rOG5xOSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIyODQ4OA==", "bodyText": "The 'as %entity%' note would probably be better in the RequiredPlugins annotation", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r463228488", "createdAt": "2020-07-30T19:41:33Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1af7de9d1884b626465a7391f934e7fa8b2a94"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MjE3MDk5OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MjoyNFrOG5xP9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0MjoyNFrOG5xP9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIyODkxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tSkript.error(\"'as %entity%' can only be used on minecraft 1.15+.\", ErrorQuality.SEMANTIC_ERROR);\n          \n          \n            \n            \t\t\tSkript.error(\"Getting the drops of a block as an entity is only possible on Minecraft 1.15+.\", ErrorQuality.SEMANTIC_ERROR);", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r463228916", "createdAt": "2020-07-30T19:42:24Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemType> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemType.class, ExpressionType.COMBINED, \"drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\", \"%blocks%'s drops [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemType> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemType>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {\n+\t\t\tSkript.error(\"'as %entity%' can only be used on minecraft 1.15+.\", ErrorQuality.SEMANTIC_ERROR);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1af7de9d1884b626465a7391f934e7fa8b2a94"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MjE4MjIzOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0NjowMVrOG5xXHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTo0NjowMVrOG5xXHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIzMDc1MA==", "bodyText": "Could you add the using %itemtype% and as %entity% to this?", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r463230750", "createdAt": "2020-07-30T19:46:01Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,130 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken. Note that 'as %entity%' only works on minecraft 1.15+.\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemType> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemType.class, ExpressionType.COMBINED, \"drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\", \"%blocks%'s drops [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\");\n+\t}\n+\t\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Block> block;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<ItemType> item;\n+\t@SuppressWarnings(\"null\")\n+\tprivate Expression<Entity> entity;\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tblock = (Expression<Block>) exprs[0];\n+\t\titem = (Expression<ItemType>) exprs[1];\n+\t\tif (!Skript.methodExists(Block.class, \"getDrops\", ItemStack.class, Entity.class) && parseResult.mark == 1) {\n+\t\t\tSkript.error(\"'as %entity%' can only be used on minecraft 1.15+.\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n+\t\t}\n+\t\tentity = (Expression<Entity>) exprs[2];\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\t@SuppressWarnings(\"null\")\n+\tprotected ItemType[] get(Event e) {\n+\t\t@Nullable\n+\t\tBlock[] blocks = this.block.getArray(e);\n+\t\tif (block != null) {\n+\t\t\tif (this.item == null) {\n+\t\t\t\tArrayList<ItemType> list = new ArrayList<>();\n+\t\t\t\tfor (Block block : blocks) {\n+\t\t\t\t\tItemStack[] drops = block.getDrops().toArray(new ItemStack[0]);\n+\t\t\t\t\tfor (ItemStack drop : drops) {\n+\t\t\t\t\t\tlist.add(new ItemType(drop));\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\treturn list.toArray(new ItemType[0]);\n+\t\t\t} else if (this.entity != null) {\n+\t\t\t\tItemType item = this.item.getSingle(e);\n+\t\t\t\tEntity entity = this.entity.getSingle(e);\n+\t\t\t\tArrayList<ItemType> list = new ArrayList<>();\n+\t\t\t\tfor (Block block : blocks) {\n+\t\t\t\t\tItemStack[] drops = block.getDrops(item.getRandom(), entity).toArray(new ItemStack[0]);\n+\t\t\t\t\tfor (ItemStack drop : drops) {\n+\t\t\t\t\t\tlist.add(new ItemType(drop));\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\treturn list.toArray(new ItemType[0]);\n+\t\t\t} else {\n+\t\t\t\tItemType item = this.item.getSingle(e);\n+\t\t\t\tArrayList<ItemType> list = new ArrayList<>();\n+\t\t\t\tfor (Block block : blocks) {\n+\t\t\t\t\tItemStack[] drops = block.getDrops(item.getRandom()).toArray(new ItemStack[0]);\n+\t\t\t\t\tfor (ItemStack drop : drops) {\n+\t\t\t\t\t\tlist.add(new ItemType(drop));\n+\t\t\t\t\t}\n+\t\t\t\t}\n+\t\t\t\treturn list.toArray(new ItemType[0]);\n+\t\t\t}\n+\t\t}\n+\t\treturn null;\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean isSingle() {\n+\t\treturn false;\n+\t}\n+\t\n+\t@Override\n+\tpublic Class<? extends ItemType> getReturnType() {\n+\t\treturn ItemType.class;\n+\t}\n+\t\n+\t@Override\n+\tpublic String toString(@Nullable Event e, boolean debug) {\n+\t\treturn \"drops of \" + block.toString(e, debug);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1af7de9d1884b626465a7391f934e7fa8b2a94"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTMxOTk4OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODoxMzo0MlrOHYhyqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODoxMzo0MlrOHYhyqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4MTUxMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\"drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",\n          \n          \n            \n            \t\t\t\"(all of the|all the|all) drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r495481512", "createdAt": "2020-09-26T18:13:42Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,134 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken.\")\n+@RequiredPlugins(\"Minecraft 1.15+ ('as %entity%')\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemType> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemType.class, ExpressionType.COMBINED,\n+\t\t\t\"drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26050ee9b67cb3b814957f0df0ec501cdad56f0d"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTQ5Nzg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQyMjo0MzowNFrOHYjFeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQyMjo0MzowNFrOHYjFeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUwMjcxMg==", "bodyText": "My suggestion was flawed - sorry about that!\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\"[(all|all [of] the)] drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",\n          \n          \n            \n            \t\t\t\"[(all|the|all [of] the)] drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",", "url": "https://github.com/SkriptLang/Skript/pull/3228#discussion_r495502712", "createdAt": "2020-09-26T22:43:04Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDropsOfBlock.java", "diffHunk": "@@ -0,0 +1,134 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import java.util.ArrayList;\n+\n+import org.bukkit.block.Block;\n+import org.bukkit.entity.Entity;\n+import org.bukkit.event.Event;\n+import org.bukkit.inventory.ItemStack;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.aliases.ItemType;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Drops Of Block\")\n+@Description(\"A list of the items that will drop when a block is broken.\")\n+@RequiredPlugins(\"Minecraft 1.15+ ('as %entity%')\")\n+@Examples({\"on break of block:\",\n+\t\"\\tgive drops of block using player's tool to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprDropsOfBlock extends SimpleExpression<ItemType> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprDropsOfBlock.class, ItemType.class, ExpressionType.COMBINED,\n+\t\t\t\"[(all|all [of] the)] drops of %blocks% [(using|with) %-itemtype% [(1\u00a6as %-entity%)]]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d547283e0566f6368b058e77632d8e70ad036c3b"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1097, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}