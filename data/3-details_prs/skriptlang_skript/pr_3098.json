{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MjQxNTcy", "number": 3098, "title": "Add Hex Color Support", "bodyText": "Description\nThis is a remake of #3078, which I had to close because the conflicts had gotten too complicated for me to fix.\nThis PR adds hex color support to Skript through a new \"color\" tag. I have updated the documentation appropriately. Unlike #3078, the tag should work everywhere now. I had to make some changes to EffActionBar for colors to work properly there.\nThis is kind of outside of this PR, but Skript doesn't allow you to do:\nsend title \"<RED>Hello %player%!\"\n\"RED\" must be in lowercase. I'm not sure if this is intentional or not though.\nThe cause is: \n  \n    \n      Skript/src/main/java/ch/njol/skript/util/Utils.java\n    \n    \n         Line 526\n      in\n      558e9c6\n    \n    \n    \n    \n\n        \n          \n           SkriptColor color = SkriptColor.fromName(\"\" + m.group(1)); \n        \n    \n  \n\n in that the string isn't converted to lowercase (\"RED\" doesn't exist in the map, but \"red\" does).\n\nTarget Minecraft Versions:     1.16+\nRequirements:     1.16+\nRelated Issues:     Fixes #3106", "createdAt": "2020-07-04T05:23:30Z", "url": "https://github.com/SkriptLang/Skript/pull/3098", "merged": true, "mergeCommit": {"oid": "0d4a30ceee65d9aea208290a326ab6dc664364fa"}, "closed": true, "closedAt": "2020-07-07T23:29:57Z", "author": {"login": "APickledWalrus"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxhAGigH2gAyNDQ0MjQxNTcyOmY5MjM1NmY2OTgzNmM1ZWVlMzk3OGQ4NDMyYTNlMmFkNTI5MDY4OGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyt61OgFqTQ0NDMwMzA5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f92356f69836c5eee3978d8432a3e2ad5290688e", "author": {"user": {"login": "APickledWalrus", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/f92356f69836c5eee3978d8432a3e2ad5290688e", "committedDate": "2020-07-04T05:15:21Z", "message": "Add Hex Color Support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b1af6888c5ecae530529301a8a8f962ecde5d90", "author": {"user": {"login": "APickledWalrus", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/9b1af6888c5ecae530529301a8a8f962ecde5d90", "committedDate": "2020-07-05T20:33:45Z", "message": "Remove \"color/c/hex\" abbreviation\n\nNow formatted like \"<#123456>\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c2b034608b7401e6a0b765121fdd2f8939232ef", "author": {"user": {"login": "APickledWalrus", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/5c2b034608b7401e6a0b765121fdd2f8939232ef", "committedDate": "2020-07-07T00:15:57Z", "message": "Fix tooltip colors and fix #3106"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNDc3Mjg5", "url": "https://github.com/SkriptLang/Skript/pull/3098#pullrequestreview-443477289", "createdAt": "2020-07-06T23:58:35Z", "commit": {"oid": "9b1af6888c5ecae530529301a8a8f962ecde5d90"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMzo1ODozNVrOGtqtCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMzo1ODozNVrOGtqtCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUzODc2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\tif (chatColor == null)\n          \n          \n            \n            \t\t\t\t\t\t\ttryHex = false;\n          \n          \n            \n            \t\t\t\t\t\ttryHex = chatColor == null;", "url": "https://github.com/SkriptLang/Skript/pull/3098#discussion_r450538760", "createdAt": "2020-07-06T23:58:35Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/util/chat/ChatMessages.java", "diffHunk": "@@ -244,8 +247,16 @@ else if (c2 == '>')\n \t\t\t\t\t}\r\n \t\t\t\t\tname = name.toLowerCase(); // Tags are case-insensitive\r\n \t\t\t\t\t\r\n+\t\t\t\t\tboolean tryHex = Utils.HEX_SUPPORTED && name.startsWith(\"#\");\r\n+\t\t\t\t\tChatColor chatColor = null;\r\n+\t\t\t\t\tif (tryHex) {\r\n+\t\t\t\t\t\tchatColor = Utils.parseHexColor(name);\r\n+\t\t\t\t\t\tif (chatColor == null)\r\n+\t\t\t\t\t\t\ttryHex = false;\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b1af6888c5ecae530529301a8a8f962ecde5d90"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fab47f334cc3f36af5a352ecafec47c8f470f8c0", "author": {"user": {"login": "APickledWalrus", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/fab47f334cc3f36af5a352ecafec47c8f470f8c0", "committedDate": "2020-07-07T01:02:54Z", "message": "Update docs and make small change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0397ad55dd7ce99fb0a0876d355401d763bf7b57", "author": {"user": {"login": "FranKusmiruk", "name": "Frank Kusmiruk"}}, "url": "https://github.com/SkriptLang/Skript/commit/0397ad55dd7ce99fb0a0876d355401d763bf7b57", "committedDate": "2020-07-07T22:51:57Z", "message": "Merge branch 'master' into APickledWalrus-feature-morecolors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MzAzMDk4", "url": "https://github.com/SkriptLang/Skript/pull/3098#pullrequestreview-444303098", "createdAt": "2020-07-07T22:52:17Z", "commit": {"oid": "fab47f334cc3f36af5a352ecafec47c8f470f8c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3031, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}