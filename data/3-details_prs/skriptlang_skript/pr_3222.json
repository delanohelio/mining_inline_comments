{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzQ4NDI1", "number": 3222, "title": "Created 'on block fertilize', added event-player, 'fertilized blocks'\u2026", "bodyText": "\u2026 and event-block\nTarget Minecraft Versions: 1.13+ \nRequirements: none \nRelated Issues: none", "createdAt": "2020-07-26T13:12:58Z", "url": "https://github.com/SkriptLang/Skript/pull/3222", "merged": true, "mergeCommit": {"oid": "55e0cb0e8bd36a6c934350a9fceeaf6abfb0fe42"}, "closed": true, "closedAt": "2020-07-28T11:06:32Z", "author": {"login": "DeltaRays"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4tAaOgH2gAyNDU2NzQ4NDI1Ojk5MDVlNWM5OTVkMWQ1NzA3Mjg3YjdjOGEyOWNlZTgxZWY1M2YyMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5UYH8gFqTQ1NjUyNTY1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9905e5c995d1d5707287b7c8a29cee81ef53f213", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/9905e5c995d1d5707287b7c8a29cee81ef53f213", "committedDate": "2020-07-26T13:12:01Z", "message": "Created 'on block fertilize', added event-player, 'fertilized blocks' and event-block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da92fa6e7a836042e55a647ea94a0dd644671133", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/da92fa6e7a836042e55a647ea94a0dd644671133", "committedDate": "2020-07-26T13:13:28Z", "message": "Added copyright comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/b7f5389b65360996d4586939f97c6b281c15ea81", "committedDate": "2020-07-26T13:14:14Z", "message": "Went back to CRLF"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mzg5MTQw", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-455389140", "createdAt": "2020-07-26T19:25:35Z", "commit": {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOToyNTozNVrOG3Ol9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxOToyNzo1NVrOG3Om0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mzk1Nw==", "bodyText": "Since we're checking if this class exists and if im not mistaken its introduced in 1.16.1, it should be added here which version it works on for the docs", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460563957", "createdAt": "2020-07-26T19:25:35Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,11 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDAxNw==", "bodyText": "same goes here, should annotate with RequiredPlugins(\"Minecraft 1.16.1+\") (If that is the correct version it was added)", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460564017", "createdAt": "2020-07-26T19:26:10Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDE3OQ==", "bodyText": "Just out of curiosity, did you test without these getters?\nIf im not mistaken Skript automatically gets block and player from events with these methods, I could be wrong.", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460564179", "createdAt": "2020-07-26T19:27:55Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java", "diffHunk": "@@ -915,6 +916,23 @@ public Inventory get(final InventoryClickEvent e) {\n \t\t\t\treturn e.getClickedInventory();\n \t\t\t}\n \t\t}, 0);\n+\t\t//BlockFertilizeEvent\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\")) {\n+\t\t\tEventValues.registerEventValue(BlockFertilizeEvent.class, Block.class, new Getter<Block, BlockFertilizeEvent>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb0350f5df7feb017c504366008cd73d25262a6b", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/cb0350f5df7feb017c504366008cd73d25262a6b", "committedDate": "2020-07-26T19:56:28Z", "message": "Removed the unnecessary event-block, added @RequiredPlugins and .requiredPlugins to ExprFertilizedBlocks and the Block Fertilize event"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Nzk2MTkz", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-455796193", "createdAt": "2020-07-27T13:46:42Z", "commit": {"oid": "cb0350f5df7feb017c504366008cd73d25262a6b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo0Njo0MlrOG3jLuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzo0NzoxN1rOG3jNXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMTMwNQ==", "bodyText": "each stream operation should be on its own line.", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460901305", "createdAt": "2020-07-27T13:46:42Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream().map(BlockStateBlock::new).toArray(BlockStateBlock[]::new);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb0350f5df7feb017c504366008cd73d25262a6b"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMTcyNQ==", "bodyText": "Operations that return a list are often worth implementing the iterator method. In this case, we are only creating instances of BlockStateBlock so it may not be needed though", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460901725", "createdAt": "2020-07-27T13:47:17Z", "author": {"login": "FranKusmiruk"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream().map(BlockStateBlock::new).toArray(BlockStateBlock[]::new);\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean isSingle() {\n+\t\treturn false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb0350f5df7feb017c504366008cd73d25262a6b"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cee573589dfb56011810c3673f89a20027d17c3d", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/cee573589dfb56011810c3673f89a20027d17c3d", "committedDate": "2020-07-27T13:48:26Z", "message": "Merge branch 'master' into BlockFertilizeEvent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8875c0cea68fa87fa3c7a102bc2ce08f2f15021b", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/8875c0cea68fa87fa3c7a102bc2ce08f2f15021b", "committedDate": "2020-07-27T13:53:57Z", "message": "Added an iterator method to ExprFertilizedBlocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "673ebd1953bf71a561e15da4b1feb5f3e93bc4a0", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/673ebd1953bf71a561e15da4b1feb5f3e93bc4a0", "committedDate": "2020-07-27T13:54:56Z", "message": "Merge remote-tracking branch 'origin/BlockFertilizeEvent' into BlockFertilizeEvent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODA2NDI5", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-455806429", "createdAt": "2020-07-27T13:57:49Z", "commit": {"oid": "673ebd1953bf71a561e15da4b1feb5f3e93bc4a0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "committedDate": "2020-07-28T08:59:43Z", "message": "Merge branch 'master' into BlockFertilizeEvent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDYwMzgz", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456460383", "createdAt": "2020-07-28T09:27:43Z", "commit": {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToyNzo0M1rOG4Ebeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToyOToxNFrOG4EfEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjAxMA==", "bodyText": "Missing period at end of sentence.", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446010", "createdAt": "2020-07-28T09:27:43Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,12 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerEvent(\"Block Fertilize\", SimpleEvent.class, BlockFertilizeEvent.class, \"[block] fertilize\")\n+\t\t\t.description(\"Called when a player fertilizes blocks\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjM0Mw==", "bodyText": "The b on blocks should be capitalized", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446343", "createdAt": "2020-07-28T09:28:15Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjkzMQ==", "bodyText": "ParseResult should be imported directly", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446931", "createdAt": "2020-07-28T09:29:14Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/78bf2d074bd22d431487bb81f7ddd166a263ba0f", "committedDate": "2020-07-28T10:01:34Z", "message": "Updated everything accordingly to what ShaneBee said"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDkzMDc4", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456493078", "createdAt": "2020-07-28T10:12:03Z", "commit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTAyNTk5", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456502599", "createdAt": "2020-07-28T10:26:45Z", "commit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyNjo0NlrOG4GdRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyNjo0NlrOG4GdRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3OTIzNg==", "bodyText": "Nitpick, but it should be Minecraft 1.13+", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461479236", "createdAt": "2020-07-28T10:26:46Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,12 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerEvent(\"Block Fertilize\", SimpleEvent.class, BlockFertilizeEvent.class, \"[block] fertilize\")\n+\t\t\t.description(\"Called when a player fertilizes blocks.\")\n+\t\t\t.requiredPlugins(\"Minecraft 1.13 or newer\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTAzNjI5", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456503629", "createdAt": "2020-07-28T10:28:24Z", "commit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyODoyNFrOG4GgYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyODoyNFrOG4GgYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4MDAzMw==", "bodyText": "@Since(\"INSERT VERSION\")", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461480033", "createdAt": "2020-07-28T10:28:24Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTA0MzE0", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456504314", "createdAt": "2020-07-28T10:29:24Z", "commit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyOToyNFrOG4Gidw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDoyOToyNFrOG4Gidw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4MDU2Nw==", "bodyText": "Do\nreturn ((BlockFertilizeEvent) e).getBlocks().stream()\n\t\t\t.map(BlockStateBlock::new)\n\t\t\t.toArray(BlockStateBlock[]::new);", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461480567", "createdAt": "2020-07-28T10:29:24Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t\t.map(BlockStateBlock::new)\n+\t\t\t\t.toArray(BlockStateBlock[]::new);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7d37b095d568f832ba60d95d58e78993a2f2137", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/d7d37b095d568f832ba60d95d58e78993a2f2137", "committedDate": "2020-07-28T10:33:02Z", "message": "replaced 2.5 with INSERT VERSION"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTE0NzE1", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456514715", "createdAt": "2020-07-28T10:46:27Z", "commit": {"oid": "d7d37b095d568f832ba60d95d58e78993a2f2137"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDo0NjoyN1rOG4HDKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMDo0NjoyN1rOG4HDKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw==", "bodyText": "I think there should be 2 tabs, so\n\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n\t\t\t\t.map(BlockStateBlock::new)\n\t\t\t\t.iterator();\n\nOther than that, I think it's good to merge.", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461488937", "createdAt": "2020-07-28T10:46:27Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"INSERT VERSION\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t\t.map(BlockStateBlock::new)\n+\t\t\t\t.toArray(BlockStateBlock[]::new);\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tpublic Iterator<? extends BlockStateBlock> iterator(Event e) {\n+\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t.map(BlockStateBlock::new)\n+\t\t\t.iterator();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7d37b095d568f832ba60d95d58e78993a2f2137"}, "originalPosition": 79}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c584696a695373e2db8856b88930d933e3b7e32b", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/c584696a695373e2db8856b88930d933e3b7e32b", "committedDate": "2020-07-28T10:53:33Z", "message": "added one more tab"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTI1NjU3", "url": "https://github.com/SkriptLang/Skript/pull/3222#pullrequestreview-456525657", "createdAt": "2020-07-28T11:04:13Z", "commit": {"oid": "c584696a695373e2db8856b88930d933e3b7e32b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3092, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}