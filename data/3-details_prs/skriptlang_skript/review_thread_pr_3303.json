{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MjkwNjAx", "number": 3303, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMzowMzoxMlrOEYdhQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMzowNDoxNFrOEYdigw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MDg0OTI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMzowMzoxMlrOHAzwCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwMTowOTowMVrOHBGn0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYwOTkyOQ==", "bodyText": "For this one, I think it's fine to do\nif (mode == ChangeMode.DELETE)\n\treturn CollectionUtils.array(Number.class);\nreturn null\n\nBecause the addition of future ChangeModes are not affected.", "url": "https://github.com/SkriptLang/Skript/pull/3303#discussion_r470609929", "createdAt": "2020-08-14T13:03:12Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "diffHunk": "@@ -73,45 +85,67 @@ public String getPropertyName() {\n \t@Override\n \t@Nullable\n \tpublic Class<?>[] acceptChange(final ChangeMode mode) {\n-\t\tif (mode == ChangeMode.REMOVE_ALL)\n-\t\t\treturn null;\n-\t\tif (Slot.class.isAssignableFrom(getExpr().getReturnType()) || getExpr().isSingle() && ChangerUtils.acceptsChange(getExpr(), ChangeMode.SET, ItemStack.class, ItemType.class))\n-\t\t\treturn CollectionUtils.array(Number.class);\n+\t\tswitch (mode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b238a75c58a1626fa23da2d177831e68a9ca606"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg0Mjg5Ng==", "bodyText": "Why would I only return number.class if the mode == Delete? What about the other modes?", "url": "https://github.com/SkriptLang/Skript/pull/3303#discussion_r470842896", "createdAt": "2020-08-14T20:08:56Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "diffHunk": "@@ -73,45 +85,67 @@ public String getPropertyName() {\n \t@Override\n \t@Nullable\n \tpublic Class<?>[] acceptChange(final ChangeMode mode) {\n-\t\tif (mode == ChangeMode.REMOVE_ALL)\n-\t\t\treturn null;\n-\t\tif (Slot.class.isAssignableFrom(getExpr().getReturnType()) || getExpr().isSingle() && ChangerUtils.acceptsChange(getExpr(), ChangeMode.SET, ItemStack.class, ItemType.class))\n-\t\t\treturn CollectionUtils.array(Number.class);\n+\t\tswitch (mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYwOTkyOQ=="}, "originalCommit": {"oid": "7b238a75c58a1626fa23da2d177831e68a9ca606"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkxOTEyMQ==", "bodyText": "Oops, I misread, yeah, that's the right way to do it then.", "url": "https://github.com/SkriptLang/Skript/pull/3303#discussion_r470919121", "createdAt": "2020-08-15T01:09:01Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "diffHunk": "@@ -73,45 +85,67 @@ public String getPropertyName() {\n \t@Override\n \t@Nullable\n \tpublic Class<?>[] acceptChange(final ChangeMode mode) {\n-\t\tif (mode == ChangeMode.REMOVE_ALL)\n-\t\t\treturn null;\n-\t\tif (Slot.class.isAssignableFrom(getExpr().getReturnType()) || getExpr().isSingle() && ChangerUtils.acceptsChange(getExpr(), ChangeMode.SET, ItemStack.class, ItemType.class))\n-\t\t\treturn CollectionUtils.array(Number.class);\n+\t\tswitch (mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYwOTkyOQ=="}, "originalCommit": {"oid": "7b238a75c58a1626fa23da2d177831e68a9ca606"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MDg1MjUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMzowNDoxNFrOHAzx7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDoxNzowN1rOHBCLYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYxMDQxMw==", "bodyText": "Maybe we could replace this with number? Or that could be for a future PR, up to you :)", "url": "https://github.com/SkriptLang/Skript/pull/3303#discussion_r470610413", "createdAt": "2020-08-14T13:04:14Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "diffHunk": "@@ -37,27 +40,36 @@\n /**\n  * @author Peter G\u00fcttinger\n  */\n-@Name(\"Data Value\")\n-@Description({\"The data value of an item.\",\n-\t\t\"You usually don't need this expression as you can check and set items with aliases easily, \" +\n-\t\t\t\t\"but this expression can e.g. be used to \\\"add 1 to data of &lt;item&gt;\\\", e.g. for cycling through all wool colours.\"})\n-@Examples({\"add 1 to the data value of the clicked block\"})\n+@Name(\"Data/Damage Value\")\n+@Description({\"The data/damage value of an item/block. Data values of blocks are only supported on 1.12.2 and below.\",\n+\t\t\"You usually don't need this expression as you can check and set items with aliases easily, \",\n+\t\t\"but this expression can e.g. be used to \\\"add 1 to data of &lt;item&gt;\\\", e.g. for cycling through all wool colours.\"})\n+@Examples({\"set damage value of player's tool to 10\",\n+\t\t\"set data value of target block of player to 3\",\n+\t\t\"add 1 to the data value of the clicked block\",\n+\t\t\"reset data value of block at player\"})\n @Since(\"1.2\")\n public class ExprDurability extends SimplePropertyExpression<Object, Short> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b238a75c58a1626fa23da2d177831e68a9ca606"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg0NjMwNw==", "bodyText": "Good thinking, ill change that up now.", "url": "https://github.com/SkriptLang/Skript/pull/3303#discussion_r470846307", "createdAt": "2020-08-14T20:17:07Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/expressions/ExprDurability.java", "diffHunk": "@@ -37,27 +40,36 @@\n /**\n  * @author Peter G\u00fcttinger\n  */\n-@Name(\"Data Value\")\n-@Description({\"The data value of an item.\",\n-\t\t\"You usually don't need this expression as you can check and set items with aliases easily, \" +\n-\t\t\t\t\"but this expression can e.g. be used to \\\"add 1 to data of &lt;item&gt;\\\", e.g. for cycling through all wool colours.\"})\n-@Examples({\"add 1 to the data value of the clicked block\"})\n+@Name(\"Data/Damage Value\")\n+@Description({\"The data/damage value of an item/block. Data values of blocks are only supported on 1.12.2 and below.\",\n+\t\t\"You usually don't need this expression as you can check and set items with aliases easily, \",\n+\t\t\"but this expression can e.g. be used to \\\"add 1 to data of &lt;item&gt;\\\", e.g. for cycling through all wool colours.\"})\n+@Examples({\"set damage value of player's tool to 10\",\n+\t\t\"set data value of target block of player to 3\",\n+\t\t\"add 1 to the data value of the clicked block\",\n+\t\t\"reset data value of block at player\"})\n @Since(\"1.2\")\n public class ExprDurability extends SimplePropertyExpression<Object, Short> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYxMDQxMw=="}, "originalCommit": {"oid": "7b238a75c58a1626fa23da2d177831e68a9ca606"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 998, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}