{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMjU1MDE2", "number": 3370, "title": "Updated CondStartsEndsWith to support multiple strings", "bodyText": "Target Minecraft Versions: any \nRequirements: none \nRelated Issues: #3312", "createdAt": "2020-09-08T19:38:36Z", "url": "https://github.com/SkriptLang/Skript/pull/3370", "merged": true, "mergeCommit": {"oid": "84f65e53e8305adb9adef2b77730a47aa975f2be"}, "closed": true, "closedAt": "2020-10-05T20:39:28Z", "author": {"login": "DeltaRays"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG85R7gH2gAyNDgyMjU1MDE2Ojk5OWJiYmYwZTM3YTc4ZWQ4YTA3OWI4NGNiNTU2ZWM0OGY4ZmY2ODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPp9ExgFqTUwMjQwMjU3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "999bbbf0e37a78ed8a079b84cb556ec48f8ff684", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/999bbbf0e37a78ed8a079b84cb556ec48f8ff684", "committedDate": "2020-09-08T19:37:39Z", "message": "Updated CondStartsEndsWith to support multiple strings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b793b490bbf5c248b4eb60859c6a68e5507f6463", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/b793b490bbf5c248b4eb60859c6a68e5507f6463", "committedDate": "2020-09-08T19:41:45Z", "message": "Added tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25eafcdf141a8875464d71a53d1160fec790f978", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/25eafcdf141a8875464d71a53d1160fec790f978", "committedDate": "2020-09-08T19:48:51Z", "message": "Made a small typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7dc4c31e83a3c3c1e1c4c4c45e2fed759bc33cb", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/c7dc4c31e83a3c3c1e1c4c4c45e2fed759bc33cb", "committedDate": "2020-09-08T19:52:39Z", "message": "Updated @Since and @Examples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/31f22f6632d67f6e6e49aef59651a154532b8d5b", "committedDate": "2020-09-08T20:15:46Z", "message": "Added 2 more tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDE1MzE1", "url": "https://github.com/SkriptLang/Skript/pull/3370#pullrequestreview-497015315", "createdAt": "2020-09-26T16:17:20Z", "commit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxNjoxNzoyMVrOHYhMsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxNjozMjo1M1rOHYhSGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ3MTc5Mw==", "bodyText": "Can you replace the tab here with \\t? Since you're already editing this expression ;D", "url": "https://github.com/SkriptLang/Skript/pull/3370#discussion_r495471793", "createdAt": "2020-09-26T16:17:21Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/conditions/CondStartsEndsWith.java", "diffHunk": "@@ -34,15 +34,15 @@\n \n @Name(\"Starts/Ends With\")\n @Description(\"Checks if a text starts or ends with another.\")\n-@Examples({\"if the argument starts with \\\"test\\\":\",\n-\t\t\"\tsend \\\"Stop!\\\"\"})\n-@Since(\"2.2-dev36\")\n+@Examples({\"if the argument starts with \\\"test\\\" or \\\"debug\\\":\",\n+\t\"\tsend \\\"Stop!\\\"\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ3MTg2NQ==", "bodyText": "Nitpick but I think\nreturn false;\nshould be on its own line.", "url": "https://github.com/SkriptLang/Skript/pull/3370#discussion_r495471865", "createdAt": "2020-09-26T16:18:08Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/conditions/CondStartsEndsWith.java", "diffHunk": "@@ -63,15 +63,38 @@ public boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelaye\n \t\n \t@Override\n \tpublic boolean check(Event e) {\n-\t\tString affix = this.affix.getSingle(e);\n-\t\t\n-\t\tif (affix == null) {\n-\t\t\treturn false;\n-\t\t}\n-\t\t\n+\t\tString[] affixes = this.affix.getAll(e);\n+\t\tif (affixes.length < 1) return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ3MTkzNA==", "bodyText": "can you add a newline at the end of the file", "url": "https://github.com/SkriptLang/Skript/pull/3370#discussion_r495471934", "createdAt": "2020-09-26T16:18:50Z", "author": {"login": "APickledWalrus"}, "path": "src/test/skript/tests/syntaxes/conditions/CondStartsEndsWith.sk", "diffHunk": "@@ -0,0 +1,9 @@\n+test \"starts with condition\":\n+\tassert \"hey\" starts with \"he\" or \"hello\" with \"hey doesn't start with he or hello\"\n+\tassert \"hey\" starts with \"hey\" and \"h\" with \"hey doesn't start with hey and h\"\n+\tassert \"hey\" doesn't start with \"hey\" and \"e\" with \"hey starts with hey and e\"\n+\n+test \"ends with condition\":\n+\tassert \"hey\" ends with \"hey\" or \"hello\" with \"hey doesn't end with hey or hello\"\n+\tassert \"hey\" ends with \"hey\" and \"y\" with \"hey doesn't end with hey and y\"\n+\tassert \"hey\" doesn't end with \"hey\" and \"e\" with \"hey ends with hey and e\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ3MzE3Nw==", "bodyText": "I think this will improve readability, but it's open to discussion.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t} else if (this.affix.getAnd()) {\n          \n          \n            \n            \t\t\t\t\tfor (String str : affixes) {\n          \n          \n            \n            \t\t\t\t\t\tif (!string.startsWith(str))\n          \n          \n            \n            \t\t\t\t\t\t\treturn false;\n          \n          \n            \n            \t\t\t\t\t}\n          \n          \n            \n            \t\t\t\t\treturn true;\n          \n          \n            \n            \t\t\t\t} else {\n          \n          \n            \n            \t\t\t\t\tfor (String str : affixes) {\n          \n          \n            \n            \t\t\t\t\t\tif (string.startsWith((str)))\n          \n          \n            \n            \t\t\t\t\t\t\treturn true;\n          \n          \n            \n            \t\t\t\t\t}\n          \n          \n            \n            \t\t\t\t}\n          \n          \n            \n            \t\t\t\t} else { // Using 'starts with'\n          \n          \n            \n            \t\t\t\t\tif (this.affix.getAnd()) {\n          \n          \n            \n            \t\t\t\t\t\tfor (String str : affixes) {\n          \n          \n            \n            \t\t\t\t\t\t\tif (!string.startsWith(str))\n          \n          \n            \n            \t\t\t\t\t\t\t\treturn false;\n          \n          \n            \n            \t\t\t\t\t\t}\n          \n          \n            \n            \t\t\t\t\t\treturn true;\n          \n          \n            \n            \t\t\t\t\t} else {\n          \n          \n            \n            \t\t\t\t\t\tfor (String str : affixes) {\n          \n          \n            \n            \t\t\t\t\t\t\tif (string.startsWith((str)))\n          \n          \n            \n            \t\t\t\t\t\t\t\treturn true;\n          \n          \n            \n            \t\t\t\t\t\t}\n          \n          \n            \n            \t\t\t\t\t}\n          \n          \n            \n            \t\t\t\t}", "url": "https://github.com/SkriptLang/Skript/pull/3370#discussion_r495473177", "createdAt": "2020-09-26T16:32:53Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/conditions/CondStartsEndsWith.java", "diffHunk": "@@ -63,15 +63,38 @@ public boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelaye\n \t\n \t@Override\n \tpublic boolean check(Event e) {\n-\t\tString affix = this.affix.getSingle(e);\n-\t\t\n-\t\tif (affix == null) {\n-\t\t\treturn false;\n-\t\t}\n-\t\t\n+\t\tString[] affixes = this.affix.getAll(e);\n+\t\tif (affixes.length < 1) return false;\n \t\treturn strings.check(e,\n-\t\t\t\tstring -> usingEnds ? string.endsWith(affix) : string.startsWith(affix),\n-\t\t\t\tisNegated());\n+\t\t\tstring -> {\n+\t\t\t\tif (usingEnds) {\n+\t\t\t\t\tif (this.affix.getAnd()) {\n+\t\t\t\t\t\tfor (String str : affixes) {\n+\t\t\t\t\t\t\tif (!string.endsWith(str))\n+\t\t\t\t\t\t\t\treturn false;\n+\t\t\t\t\t\t}\n+\t\t\t\t\t\treturn true;\n+\t\t\t\t\t} else {\n+\t\t\t\t\t\tfor (String str : affixes) {\n+\t\t\t\t\t\t\tif (string.endsWith((str)))\n+\t\t\t\t\t\t\t\treturn true;\n+\t\t\t\t\t\t}\n+\t\t\t\t\t}\n+\t\t\t\t} else if (this.affix.getAnd()) {\n+\t\t\t\t\tfor (String str : affixes) {\n+\t\t\t\t\t\tif (!string.startsWith(str))\n+\t\t\t\t\t\t\treturn false;\n+\t\t\t\t\t}\n+\t\t\t\t\treturn true;\n+\t\t\t\t} else {\n+\t\t\t\t\tfor (String str : affixes) {\n+\t\t\t\t\t\tif (string.startsWith((str)))\n+\t\t\t\t\t\t\treturn true;\n+\t\t\t\t\t}\n+\t\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f22f6632d67f6e6e49aef59651a154532b8d5b"}, "originalPosition": 91}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0d15edfc5948487817c5ab36b31b9d29b783ad6", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/c0d15edfc5948487817c5ab36b31b9d29b783ad6", "committedDate": "2020-09-26T16:41:09Z", "message": "Merge branch 'dev-2.5' into issue/startsWith"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86e65fe364dc3f3bd68c1f4b93ad2f17e16aadc9", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/86e65fe364dc3f3bd68c1f4b93ad2f17e16aadc9", "committedDate": "2020-09-26T16:41:37Z", "message": "Did everything APickledWalrus asked for"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3af17388dec0b673e0d0889127526672dae4d8cf", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/3af17388dec0b673e0d0889127526672dae4d8cf", "committedDate": "2020-09-26T16:41:55Z", "message": "Merge remote-tracking branch 'origin/issue/startsWith' into issue/startsWith"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "534394866e4bc210299787b6ec66764a40b457f2", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/534394866e4bc210299787b6ec66764a40b457f2", "committedDate": "2020-09-26T16:43:19Z", "message": "Added comments and improved readability"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDM1MTM4", "url": "https://github.com/SkriptLang/Skript/pull/3370#pullrequestreview-497035138", "createdAt": "2020-09-26T22:30:19Z", "commit": {"oid": "534394866e4bc210299787b6ec66764a40b457f2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1ca7cd491d824d557c37f68a90912c229191b3f", "author": {"user": {"login": "ShaneBeee", "name": "Shane Bee"}}, "url": "https://github.com/SkriptLang/Skript/commit/e1ca7cd491d824d557c37f68a90912c229191b3f", "committedDate": "2020-10-05T08:19:14Z", "message": "Merge branch 'dev-2.5' into issue/startsWith"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxODIxOTIz", "url": "https://github.com/SkriptLang/Skript/pull/3370#pullrequestreview-501821923", "createdAt": "2020-10-05T08:21:29Z", "commit": {"oid": "e1ca7cd491d824d557c37f68a90912c229191b3f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODoyMToyOVrOHcSUAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODoyMToyOVrOHcSUAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQyMjIxMQ==", "bodyText": "As stated in another PR, please revert this back to the default license header.\nLine changes which do not affect the PR shouldn't be part of the PR.\nyou can find a copy of the default header here:\nhttps://github.com/SkriptLang/Skript/blob/master/licenseheader.txt", "url": "https://github.com/SkriptLang/Skript/pull/3370#discussion_r499422211", "createdAt": "2020-10-05T08:21:29Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/conditions/CondStartsEndsWith.java", "diffHunk": "@@ -1,18 +1,18 @@\n /**\n- *   This file is part of Skript.\n+ * This file is part of Skript.\n  *\n- *  Skript is free software: you can redistribute it and/or modify\n- *  it under the terms of the GNU General Public License as published by\n- *  the Free Software Foundation, either version 3 of the License, or\n- *  (at your option) any later version.\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n  *\n- *  Skript is distributed in the hope that it will be useful,\n- *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n- *  GNU General Public License for more details.\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n  *\n- *  You should have received a copy of the GNU General Public License\n- *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1ca7cd491d824d557c37f68a90912c229191b3f"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88b331d6a345a966fb70ab96dddfc0db3e6dddf7", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/88b331d6a345a966fb70ab96dddfc0db3e6dddf7", "committedDate": "2020-10-05T12:14:54Z", "message": "Merge branch 'dev-2.5' into issue/startsWith"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3243e968cc55f5294bed66d9d85aec51dc147be6", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/3243e968cc55f5294bed66d9d85aec51dc147be6", "committedDate": "2020-10-05T15:01:52Z", "message": "Updated license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de52ab90d0f4f7eaef3f230659f1a089acf9b74c", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/de52ab90d0f4f7eaef3f230659f1a089acf9b74c", "committedDate": "2020-10-05T15:07:43Z", "message": "Update CondStartsEndsWith.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMTg2NjI0", "url": "https://github.com/SkriptLang/Skript/pull/3370#pullrequestreview-502186624", "createdAt": "2020-10-05T15:42:42Z", "commit": {"oid": "de52ab90d0f4f7eaef3f230659f1a089acf9b74c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNDAyNTcx", "url": "https://github.com/SkriptLang/Skript/pull/3370#pullrequestreview-502402571", "createdAt": "2020-10-05T20:38:55Z", "commit": {"oid": "de52ab90d0f4f7eaef3f230659f1a089acf9b74c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2989, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}