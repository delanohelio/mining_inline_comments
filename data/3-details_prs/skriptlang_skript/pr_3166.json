{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMTUxMTQ3", "number": 3166, "title": "Created Heal-Reason", "bodyText": "Description\n\nNow you can use heal reason in the on heal event to get the heal reason (even though I added a condition to check for which event it was used in it doesn't work, so if anyone knows how to fix it please tell me :) )\n\nTarget Minecraft Versions:    any \nRequirements:   none  \nRelated Issues:   none", "createdAt": "2020-07-18T21:25:37Z", "url": "https://github.com/SkriptLang/Skript/pull/3166", "merged": true, "mergeCommit": {"oid": "f230af8340821160936d256aa7343fae2e52d4ee"}, "closed": true, "closedAt": "2020-07-24T02:27:19Z", "author": {"login": "DeltaRays"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2PODTgH2gAyNDUyMTUxMTQ3OjlmMDM0YmEzNmUzYTkxMGY3ODQxYzk1NjhjYWJhYmI5YmM0OTM2ODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc36elYgH2gAyNDUyMTUxMTQ3OjBkZjNjNjdhNGYwOTNkNzJjYTBhZjUzOTRmNGIzOTE5YzNlNzNmNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9f034ba36e3a910f7841c9568cababb9bc493684", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/9f034ba36e3a910f7841c9568cababb9bc493684", "committedDate": "2020-07-18T21:21:55Z", "message": "Created Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "445f817b883458431dedba2a36cf2609415dd954", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/445f817b883458431dedba2a36cf2609415dd954", "committedDate": "2020-07-19T12:56:06Z", "message": "Updated Heal Reason to use aliases from english.lang and fixed the null errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83269d9e12a0d894b8da76da41fc985f344c8aaa", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/83269d9e12a0d894b8da76da41fc985f344c8aaa", "committedDate": "2020-07-19T12:57:26Z", "message": "removed the old healreason classinfo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTQ0MTg1", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451144185", "createdAt": "2020-07-19T16:08:52Z", "commit": {"oid": "83269d9e12a0d894b8da76da41fc985f344c8aaa"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxNjowODo1MlrOGzwjng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxNjoxNDo0MVrOGzwl3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNjExMA==", "bodyText": "A stylistic change, but can you separate these three calls on their own line?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r456926110", "createdAt": "2020-07-19T16:08:52Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -1687,6 +1690,34 @@ public String getVariableNamePattern() {\n \t\t\t\t\t})\n \t\t\t\t\t.serializer(new EnumSerializer<>(Gene.class)));\n \t\t}\n+\t\tEnumUtils<EntityRegainHealthEvent.RegainReason> regainReasons = new EnumUtils<>(EntityRegainHealthEvent.RegainReason.class, \"heal reasons\");\n+\t\tClasses.registerClass(new ClassInfo<>(EntityRegainHealthEvent.RegainReason.class, \"healreason\")\n+\t\t\t.user(\"(regen|heal) (reason|cause)\")\n+\t\t\t.name(\"Heal Reason\")\n+\t\t\t.description(\"The heal reason in a heal event\")\n+\t\t\t.usage(regainReasons.getAllNames())\n+\t\t\t.examples(\"\").since(\"INSERT VERSION\").parser(new Parser<EntityRegainHealthEvent.RegainReason>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83269d9e12a0d894b8da76da41fc985f344c8aaa"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNjQzMQ==", "bodyText": "Is this try-catch still needed?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r456926431", "createdAt": "2020-07-19T16:11:49Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprHealReason.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.EntityRegainHealthEvent;\n+import org.bukkit.event.entity.EntityRegainHealthEvent.RegainReason;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.EventValueExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+\n+@Name(\"Heal Reason\")\n+@Description(\"The <a href='../classes.html#healreason'>heal reason</a> of a heal event. Please click on the link for more information.\")\n+@Examples({\"on heal:\",\n+\t\"\\tif heal reason = SATIATED:\",\n+\t\"\\t\\tsend \\\"You ate enough food and gained health back!\\\" to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprHealReason extends SimpleExpression<RegainReason> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprHealReason.class, RegainReason.class, ExpressionType.SIMPLE, \"(regen|health regain|heal) (reason|cause)\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif(!ScriptLoader.isCurrentEvent(EntityRegainHealthEvent.class)){\n+\t\t\tSkript.error(\"Heal reason can only be used in an on heal event\", ErrorQuality.SEMANTIC_ERROR);\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected RegainReason[] get(Event e) {\n+\t\ttry {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83269d9e12a0d894b8da76da41fc985f344c8aaa"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyNjY4NA==", "bodyText": "Is this event check working properly? I know you said in Discord before that it wasn't, but is that still the case? Also, if possible, can you add a space after the if and before the curly bracket?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r456926684", "createdAt": "2020-07-19T16:14:41Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/expressions/ExprHealReason.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.EntityRegainHealthEvent;\n+import org.bukkit.event.entity.EntityRegainHealthEvent.RegainReason;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.expressions.base.EventValueExpression;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+\n+@Name(\"Heal Reason\")\n+@Description(\"The <a href='../classes.html#healreason'>heal reason</a> of a heal event. Please click on the link for more information.\")\n+@Examples({\"on heal:\",\n+\t\"\\tif heal reason = SATIATED:\",\n+\t\"\\t\\tsend \\\"You ate enough food and gained health back!\\\" to player\"})\n+@Since(\"INSERT VERSION\")\n+public class ExprHealReason extends SimpleExpression<RegainReason> {\n+\t\n+\tstatic {\n+\t\tSkript.registerExpression(ExprHealReason.class, RegainReason.class, ExpressionType.SIMPLE, \"(regen|health regain|heal) (reason|cause)\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif(!ScriptLoader.isCurrentEvent(EntityRegainHealthEvent.class)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83269d9e12a0d894b8da76da41fc985f344c8aaa"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3fa30473461845e31c9756a3c293434e6ee1814", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/f3fa30473461845e31c9756a3c293434e6ee1814", "committedDate": "2020-07-20T10:48:52Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/564376e1f6ffa41a1ad193fb1e32c04f4bf07e10", "committedDate": "2020-07-20T10:49:55Z", "message": "Changed everything accordingly to what APickledWalrus said"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTA0Mzk4", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451504398", "createdAt": "2020-07-20T11:00:45Z", "commit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowMDo0NVrOG0GNMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowMDo0NVrOG0GNMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI4MDgxOQ==", "bodyText": "Do you need these imports?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r457280819", "createdAt": "2020-07-20T11:00:45Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -20,12 +20,15 @@\n package ch.njol.skript.classes.data;\n \n import java.io.StreamCorruptedException;\n+import java.util.Arrays;\n+import java.util.Collections;\n import java.util.List;\n import java.util.Locale;\n import java.util.Map.Entry;\n import java.util.UUID;\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n+import java.util.stream.Collectors;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTA1ODIx", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451505821", "createdAt": "2020-07-20T11:03:10Z", "commit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowMzoxMFrOG0GS5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowMzoxMFrOG0GS5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI4MjI3OQ==", "bodyText": "Shouldn't this be just \\\\S+?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r457282279", "createdAt": "2020-07-20T11:03:10Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -1687,6 +1690,37 @@ public String getVariableNamePattern() {\n \t\t\t\t\t})\n \t\t\t\t\t.serializer(new EnumSerializer<>(Gene.class)));\n \t\t}\n+\t\tEnumUtils<EntityRegainHealthEvent.RegainReason> regainReasons = new EnumUtils<>(EntityRegainHealthEvent.RegainReason.class, \"heal reasons\");\n+\t\tClasses.registerClass(new ClassInfo<>(EntityRegainHealthEvent.RegainReason.class, \"healreason\")\n+\t\t\t.user(\"(regen|heal) (reason|cause)\")\n+\t\t\t.name(\"Heal Reason\")\n+\t\t\t.description(\"The heal reason in a heal event\")\n+\t\t\t.usage(regainReasons.getAllNames())\n+\t\t\t.examples(\"\")\n+\t\t\t.since(\"INSERT VERSION\")\n+\t\t\t.parser(new Parser<EntityRegainHealthEvent.RegainReason>() {\n+\t\t\t\t@Override\n+\t\t\t\t@Nullable\n+\t\t\t\tpublic EntityRegainHealthEvent.RegainReason parse(String s, ParseContext parseContext) {\n+\t\t\t\t\treturn regainReasons.parse(s);\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String toString(EntityRegainHealthEvent.RegainReason o, int flags) {\n+\t\t\t\t\treturn regainReasons.toString(o, flags);\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String toVariableNameString(EntityRegainHealthEvent.RegainReason o) {\n+\t\t\t\t\treturn \"regainreason:\" + o.name();\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String getVariableNamePattern() {\n+\t\t\t\t\treturn \"regainreason:\\\\w+\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTA2NzQw", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451506740", "createdAt": "2020-07-20T11:04:49Z", "commit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowNDo0OVrOG0GWtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTowNDo0OVrOG0GWtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI4MzI1Mw==", "bodyText": "Nitpick, but please add a newline before # -- Heal Reasons --", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r457283253", "createdAt": "2020-07-20T11:04:49Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/resources/lang/english.lang", "diffHunk": "@@ -1203,6 +1203,17 @@ entities:\n \tstrider:\n \t\tname: strider\u00a6s\n \t\tpattern: <age> strider(|1\u00a6s)|(4\u00a6)strider (kid(|1\u00a6s)|child(|1\u00a6ren))\n+# -- Heal Reasons --", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "564376e1f6ffa41a1ad193fb1e32c04f4bf07e10"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d167818a46598b11254905c38f275a7e13f0f275", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/d167818a46598b11254905c38f275a7e13f0f275", "committedDate": "2020-07-20T11:17:40Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8d6bab57f404d779dcad1d7efead9baf0dd142e", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/a8d6bab57f404d779dcad1d7efead9baf0dd142e", "committedDate": "2020-07-20T11:19:56Z", "message": "Updated everything Wealthyturtle said I should"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b621957207f0ad29413b3d7af3762088314ca958", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/b621957207f0ad29413b3d7af3762088314ca958", "committedDate": "2020-07-20T11:20:23Z", "message": "Merge branch 'Heal-Reason' of https://github.com/DeltaRays/Skript into Heal-Reason"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTIxNTM2", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451521536", "createdAt": "2020-07-20T11:29:21Z", "commit": {"oid": "b621957207f0ad29413b3d7af3762088314ca958"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMToyOToyMVrOG0HRWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMToyOToyMVrOG0HRWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI5ODI2Ng==", "bodyText": "Full stop here.", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r457298266", "createdAt": "2020-07-20T11:29:21Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -1687,6 +1687,37 @@ public String getVariableNamePattern() {\n \t\t\t\t\t})\n \t\t\t\t\t.serializer(new EnumSerializer<>(Gene.class)));\n \t\t}\n+\t\tEnumUtils<EntityRegainHealthEvent.RegainReason> regainReasons = new EnumUtils<>(EntityRegainHealthEvent.RegainReason.class, \"heal reasons\");\n+\t\tClasses.registerClass(new ClassInfo<>(EntityRegainHealthEvent.RegainReason.class, \"healreason\")\n+\t\t\t.user(\"(regen|heal) (reason|cause)\")\n+\t\t\t.name(\"Heal Reason\")\n+\t\t\t.description(\"The heal reason in a heal event\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b621957207f0ad29413b3d7af3762088314ca958"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTIxOTU2", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-451521956", "createdAt": "2020-07-20T11:30:07Z", "commit": {"oid": "b621957207f0ad29413b3d7af3762088314ca958"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMDowOFrOG0HTFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMDowOFrOG0HTFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI5ODcxMQ==", "bodyText": "I was referring to returning just \"\\\\S+\" lol", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r457298711", "createdAt": "2020-07-20T11:30:08Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -1687,6 +1687,37 @@ public String getVariableNamePattern() {\n \t\t\t\t\t})\n \t\t\t\t\t.serializer(new EnumSerializer<>(Gene.class)));\n \t\t}\n+\t\tEnumUtils<EntityRegainHealthEvent.RegainReason> regainReasons = new EnumUtils<>(EntityRegainHealthEvent.RegainReason.class, \"heal reasons\");\n+\t\tClasses.registerClass(new ClassInfo<>(EntityRegainHealthEvent.RegainReason.class, \"healreason\")\n+\t\t\t.user(\"(regen|heal) (reason|cause)\")\n+\t\t\t.name(\"Heal Reason\")\n+\t\t\t.description(\"The heal reason in a heal event\")\n+\t\t\t.usage(regainReasons.getAllNames())\n+\t\t\t.examples(\"\")\n+\t\t\t.since(\"INSERT VERSION\")\n+\t\t\t.parser(new Parser<EntityRegainHealthEvent.RegainReason>() {\n+\t\t\t\t@Override\n+\t\t\t\t@Nullable\n+\t\t\t\tpublic EntityRegainHealthEvent.RegainReason parse(String s, ParseContext parseContext) {\n+\t\t\t\t\treturn regainReasons.parse(s);\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String toString(EntityRegainHealthEvent.RegainReason o, int flags) {\n+\t\t\t\t\treturn regainReasons.toString(o, flags);\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String toVariableNameString(EntityRegainHealthEvent.RegainReason o) {\n+\t\t\t\t\treturn \"regainreason:\" + o.name();\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t\t@Override\n+\t\t\t\tpublic String getVariableNamePattern() {\n+\t\t\t\t\treturn \"regainreason:\\\\S+\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b621957207f0ad29413b3d7af3762088314ca958"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02fb4fa525250910744dd8bb32ee2021a3fb9116", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/02fb4fa525250910744dd8bb32ee2021a3fb9116", "committedDate": "2020-07-20T11:54:05Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "881844ecc06b6cf017fe31fd3636b322f5ddbacf", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/881844ecc06b6cf017fe31fd3636b322f5ddbacf", "committedDate": "2020-07-20T11:54:20Z", "message": "Update BukkitClasses.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb47de9c82c0ce7b674cd18094fe18affef6338f", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/eb47de9c82c0ce7b674cd18094fe18affef6338f", "committedDate": "2020-07-20T11:56:02Z", "message": "Merge branch 'Heal-Reason' of https://github.com/DeltaRays/Skript into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "635160fca13d959d64ea76e700eb72fe61674992", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/635160fca13d959d64ea76e700eb72fe61674992", "committedDate": "2020-07-22T07:51:42Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTIyOTQ5", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-453122949", "createdAt": "2020-07-22T08:54:01Z", "commit": {"oid": "635160fca13d959d64ea76e700eb72fe61674992"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1NDowMlrOG1ZKrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1NDowMlrOG1ZKrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MDA0NA==", "bodyText": "Why is \"SATIATED\" in caps?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r458640044", "createdAt": "2020-07-22T08:54:02Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/expressions/ExprHealReason.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.entity.EntityRegainHealthEvent;\n+import org.bukkit.event.entity.EntityRegainHealthEvent.RegainReason;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.log.ErrorQuality;\n+import ch.njol.util.Kleenean;\n+\n+\n+@Name(\"Heal Reason\")\n+@Description(\"The <a href='../classes.html#healreason'>heal reason</a> of a heal event. Please click on the link for more information.\")\n+@Examples({\"on heal:\",\n+\t\"\\tif heal reason = SATIATED:\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "635160fca13d959d64ea76e700eb72fe61674992"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTI0ODE1", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-453124815", "createdAt": "2020-07-22T08:56:25Z", "commit": {"oid": "635160fca13d959d64ea76e700eb72fe61674992"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1NjoyNVrOG1ZQug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1NjoyNVrOG1ZQug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MTU5NA==", "bodyText": "Inconsistency in the use of a, if you want to use it throughout, you should probably have an end crystal and an ender crystal also, right?", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r458641594", "createdAt": "2020-07-22T08:56:25Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/resources/lang/english.lang", "diffHunk": "@@ -1204,6 +1204,18 @@ entities:\n \t\tname: strider\u00a6s\n \t\tpattern: <age> strider(|1\u00a6s)|(4\u00a6)strider (kid(|1\u00a6s)|child(|1\u00a6ren))\n \n+# -- Heal Reasons --\n+heal reasons:\n+    custom: unknown, custom, plugin, a plugin\n+    eating: eating, consuming, ingesting\n+    ender_crystal: end crystal, ender crystal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "635160fca13d959d64ea76e700eb72fe61674992"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1a066d156e9b91e2890505d0d850002332177d1", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/f1a066d156e9b91e2890505d0d850002332177d1", "committedDate": "2020-07-22T13:05:46Z", "message": "Updated examples and english.lang"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzExNzk1", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-453311795", "createdAt": "2020-07-22T13:23:20Z", "commit": {"oid": "f1a066d156e9b91e2890505d0d850002332177d1"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a195ec15517dd1adb8e7e4a5b3c81a433dfec00", "author": {"user": {"login": "Wealthyturtle", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/7a195ec15517dd1adb8e7e4a5b3c81a433dfec00", "committedDate": "2020-07-22T14:38:30Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b722d6e7440abd6bba5d7fadd9a1a175e263009c", "author": {"user": {"login": "Wealthyturtle", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/b722d6e7440abd6bba5d7fadd9a1a175e263009c", "committedDate": "2020-07-22T14:46:52Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzk5MTc5", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-453399179", "createdAt": "2020-07-22T14:54:17Z", "commit": {"oid": "b722d6e7440abd6bba5d7fadd9a1a175e263009c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDo1NDoxOFrOG1mRiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDo1NDoxOFrOG1mRiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1NDc5NQ==", "bodyText": "One last minor thing - you should probably import org.bukkit.event.entity.EntityRegainHealthEvent.RegainReason directly so you don't need to do EntityRegainHealthEvent.RegainReason.x", "url": "https://github.com/SkriptLang/Skript/pull/3166#discussion_r458854795", "createdAt": "2020-07-22T14:54:18Z", "author": {"login": "Wealthyturtle"}, "path": "src/main/java/ch/njol/skript/classes/data/BukkitClasses.java", "diffHunk": "@@ -1691,6 +1691,37 @@ public String getVariableNamePattern() {\n \t\t\t\t\t})\n \t\t\t\t\t.serializer(new EnumSerializer<>(Gene.class)));\n \t\t}\n+\t\tEnumUtils<EntityRegainHealthEvent.RegainReason> regainReasons = new EnumUtils<>(EntityRegainHealthEvent.RegainReason.class, \"heal reasons\");\n+\t\tClasses.registerClass(new ClassInfo<>(EntityRegainHealthEvent.RegainReason.class, \"healreason\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b722d6e7440abd6bba5d7fadd9a1a175e263009c"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9421d0977240abc7ed0808c71936ee5fc1c766d", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/f9421d0977240abc7ed0808c71936ee5fc1c766d", "committedDate": "2020-07-22T19:35:14Z", "message": "Imported RegainReason directly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eb8f3e3e1fa5780418a83276fee66b90b90a17a", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/4eb8f3e3e1fa5780418a83276fee66b90b90a17a", "committedDate": "2020-07-22T19:35:38Z", "message": "Merge remote-tracking branch 'origin/Heal-Reason' into Heal-Reason"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41ad4760ec914fe50ec74e0b111713caadd88739", "author": {"user": {"login": "DeltaRays", "name": "DeltaRays"}}, "url": "https://github.com/SkriptLang/Skript/commit/41ad4760ec914fe50ec74e0b111713caadd88739", "committedDate": "2020-07-23T07:45:46Z", "message": "Merge branch 'master' into Heal-Reason"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NjAzNDUy", "url": "https://github.com/SkriptLang/Skript/pull/3166#pullrequestreview-454603452", "createdAt": "2020-07-24T02:18:40Z", "commit": {"oid": "41ad4760ec914fe50ec74e0b111713caadd88739"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0df3c67a4f093d72ca0af5394f4b3919c3e73f54", "author": {"user": {"login": "Wealthyturtle", "name": null}}, "url": "https://github.com/SkriptLang/Skript/commit/0df3c67a4f093d72ca0af5394f4b3919c3e73f54", "committedDate": "2020-07-24T02:19:49Z", "message": "Merge branch 'master' into Heal-Reason"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3054, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}