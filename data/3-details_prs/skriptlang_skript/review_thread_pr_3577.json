{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4ODEwNDc3", "number": 3577, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozMjowM1rOE-T8sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozNDo1MFrOE-T9Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNzc0MDAwOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozMjowM1rOH7dBTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozOTo1M1rOH7dECA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzUwMA==", "bodyText": "The chat blocking system doesn't work if you don't send it as a player, right? If so, maybe it'd be better to say something like: This allows the chat ignore system added in Minecraft 1.16.4 to block these messages\nUp for discussion :D", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532103500", "createdAt": "2020-11-28T20:32:03Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzk5NA==", "bodyText": "Yes, Good call. Ill all a little more to the description.", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532103994", "createdAt": "2020-11-28T20:37:21Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzUwMA=="}, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwNDIwMA==", "bodyText": "done \ud83d\udc4d", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532104200", "createdAt": "2020-11-28T20:39:53Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzUwMA=="}, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNzc0MTgzOnYy", "diffSide": "RIGHT", "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozNDo1MFrOH7dCNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMDozOTo1OVrOH7dEFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzczMw==", "bodyText": "I don't know if this really matters, but would it be better to just initialize the variable above?", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532103733", "createdAt": "2020-11-28T20:34:50Z", "author": {"login": "APickledWalrus"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})\n @Examples({\"message \\\"A wild %player% appeared!\\\"\",\n \t\t\"message \\\"This message is a distraction. Mwahaha!\\\"\",\n \t\t\"send \\\"Your kill streak is %{kill streak::%uuid of player%}%.\\\" to player\",\n \t\t\"if the targeted entity exists:\",\n-\t\t\"\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\"})\n-@Since(\"1.0, 2.2-dev26 (advanced features)\")\n+\t\t\"\\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\",\n+\t\t\"on chat:\",\n+\t\t\"\\tcancel event\",\n+\t\t\"\\tsend \\\"[%player%] >> %message%\\\" to all players from player\"})\n+@RequiredPlugins(\"Minecraft 1.16.4+ for optional sender\")\n+@Since(\"1.0, 2.2-dev26 (advanced features), INSERT VERSION (optional sender)\")\n public class EffMessage extends Effect {\n \t\n+\tprivate static final boolean SUPPORTS_SENDER;\n+\t\n \tstatic {\n-\t\tSkript.registerEffect(EffMessage.class, \"(message|send [message[s]]) %strings% [to %commandsenders%]\");\n+\t\tSUPPORTS_SENDER = Skript.classExists(\"org.bukkit.command.CommandSender$Spigot\") && Skript.methodExists(CommandSender.Spigot.class, \"sendMessage\", UUID.class, BaseComponent.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwNDAyOQ==", "bodyText": "Yeah I could do that.", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532104029", "createdAt": "2020-11-28T20:37:44Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})\n @Examples({\"message \\\"A wild %player% appeared!\\\"\",\n \t\t\"message \\\"This message is a distraction. Mwahaha!\\\"\",\n \t\t\"send \\\"Your kill streak is %{kill streak::%uuid of player%}%.\\\" to player\",\n \t\t\"if the targeted entity exists:\",\n-\t\t\"\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\"})\n-@Since(\"1.0, 2.2-dev26 (advanced features)\")\n+\t\t\"\\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\",\n+\t\t\"on chat:\",\n+\t\t\"\\tcancel event\",\n+\t\t\"\\tsend \\\"[%player%] >> %message%\\\" to all players from player\"})\n+@RequiredPlugins(\"Minecraft 1.16.4+ for optional sender\")\n+@Since(\"1.0, 2.2-dev26 (advanced features), INSERT VERSION (optional sender)\")\n public class EffMessage extends Effect {\n \t\n+\tprivate static final boolean SUPPORTS_SENDER;\n+\t\n \tstatic {\n-\t\tSkript.registerEffect(EffMessage.class, \"(message|send [message[s]]) %strings% [to %commandsenders%]\");\n+\t\tSUPPORTS_SENDER = Skript.classExists(\"org.bukkit.command.CommandSender$Spigot\") && Skript.methodExists(CommandSender.Spigot.class, \"sendMessage\", UUID.class, BaseComponent.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzczMw=="}, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwNDIxNQ==", "bodyText": "done \ud83d\udc4d", "url": "https://github.com/SkriptLang/Skript/pull/3577#discussion_r532104215", "createdAt": "2020-11-28T20:39:59Z", "author": {"login": "ShaneBeee"}, "path": "src/main/java/ch/njol/skript/effects/EffMessage.java", "diffHunk": "@@ -37,20 +40,34 @@\n import ch.njol.skript.util.chat.BungeeConverter;\n import ch.njol.skript.util.chat.ChatMessages;\n import ch.njol.util.Kleenean;\n+import net.md_5.bungee.api.chat.BaseComponent;\n+import net.md_5.bungee.api.chat.TextComponent;\n \n @Name(\"Message\")\n @Description({\"Sends a message to the given player. Only styles written\",\n-\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\"})\n+\t\t\"in given string or in <a href=expressions.html#ExprColoured>formatted expressions</a> will be parsed.\",\n+\t\t\"Adding an optional sender allows the messages to be sent as if a specific player sent them.\",\n+\t\t\"This is useful with Minecraft 1.16.4's new chat ignore system.\"})\n @Examples({\"message \\\"A wild %player% appeared!\\\"\",\n \t\t\"message \\\"This message is a distraction. Mwahaha!\\\"\",\n \t\t\"send \\\"Your kill streak is %{kill streak::%uuid of player%}%.\\\" to player\",\n \t\t\"if the targeted entity exists:\",\n-\t\t\"\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\"})\n-@Since(\"1.0, 2.2-dev26 (advanced features)\")\n+\t\t\"\\tmessage \\\"You're currently looking at a %type of the targeted entity%!\\\"\",\n+\t\t\"on chat:\",\n+\t\t\"\\tcancel event\",\n+\t\t\"\\tsend \\\"[%player%] >> %message%\\\" to all players from player\"})\n+@RequiredPlugins(\"Minecraft 1.16.4+ for optional sender\")\n+@Since(\"1.0, 2.2-dev26 (advanced features), INSERT VERSION (optional sender)\")\n public class EffMessage extends Effect {\n \t\n+\tprivate static final boolean SUPPORTS_SENDER;\n+\t\n \tstatic {\n-\t\tSkript.registerEffect(EffMessage.class, \"(message|send [message[s]]) %strings% [to %commandsenders%]\");\n+\t\tSUPPORTS_SENDER = Skript.classExists(\"org.bukkit.command.CommandSender$Spigot\") && Skript.methodExists(CommandSender.Spigot.class, \"sendMessage\", UUID.class, BaseComponent.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEwMzczMw=="}, "originalCommit": {"oid": "4bb39f620936c6e6b94a42f77fdf8942b4be1fd4"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 972, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}