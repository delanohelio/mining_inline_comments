{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyODc0ODU5", "number": 6106, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOE6dyfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOE6dyfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5NzQwOTI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/items/ItemClipboard.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOH1jpsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOH1jpsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTkyMDY4OA==", "bodyText": "getOrCreateTag should exists for ItemStack iirc", "url": "https://github.com/ldtteam/minecolonies/pull/6106#discussion_r525920688", "createdAt": "2020-11-18T09:05:39Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/items/ItemClipboard.java", "diffHunk": "@@ -87,47 +82,48 @@ else if (compound.keySet().contains(TAG_COLONY))\n     @Override\n     @NotNull\n     public ActionResult<ItemStack> onItemRightClick(\n-      final World worldIn,\n-      final PlayerEntity playerIn,\n-      final Hand hand)\n+            final World worldIn,\n+            final PlayerEntity playerIn,\n+            final Hand hand)\n     {\n-        final ItemStack cllipboard = playerIn.getHeldItem(hand);\n+        final ItemStack clipboard = playerIn.getHeldItem(hand);\n \n-        if (!worldIn.isRemote)\n-        {\n-            return new ActionResult<>(ActionResultType.SUCCESS, cllipboard);\n+        if (!worldIn.isRemote) {\n+            return new ActionResult<>(ActionResultType.SUCCESS, clipboard);\n         }\n \n-        final CompoundNBT compound = checkForCompound(cllipboard);\n+        openWindow(checkForCompound(clipboard), worldIn, playerIn);\n \n-        if (compound.keySet().contains(TAG_COLONY))\n-        {\n-            final IColonyView colonyView = IColonyManager.getInstance().getColonyView(compound.getInt(TAG_COLONY), worldIn.dimension.getType().getId());\n-            if (colonyView != null)\n-            {\n-                MineColonies.proxy.openClipBoardWindow(colonyView);\n-            }\n-        }\n-        else\n-        {\n-            LanguageHandler.sendPlayerMessage(playerIn, TranslationConstants.COM_MINECOLONIES_CLIPBOARD_NEED_COLONY);\n-        }\n-\n-        return new ActionResult<>(ActionResultType.SUCCESS, cllipboard);\n+        return new ActionResult<>(ActionResultType.SUCCESS, clipboard);\n     }\n \n     /**\n      * Check for the compound and return it. If not available create and return it.\n      *\n-     * @param scepter the scepter to check in for.\n-     * @return the compound of the scepter.\n+     * @param clipboard the clipboard to check for.\n+     * @return the compound of the clipboard.\n+     */\n+    private static CompoundNBT checkForCompound(final ItemStack clipboard)\n+    {\n+        if (!clipboard.hasTag()) clipboard.setTag(new CompoundNBT());\n+        return clipboard.getTag();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ced9c2b5d89b0394f4ddcafce610097b6612171"}, "originalPosition": 111}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3396, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}