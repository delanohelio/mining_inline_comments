{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNzY4NTYx", "number": 4228, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQyMjowOTo1NVrODXWQfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQyMzowMjo1OFrODXWWjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODA4NTA5OnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/tileentities/TileEntityRack.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQyMjowOTo1NVrOFcnEtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwMzoxNDo1NlrOFcsuCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NDYyOQ==", "bodyText": "our RackInventory class already has that overwrite, onContentsChanged was overwritten twice on accident", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365544629", "createdAt": "2020-01-11T22:09:55Z", "author": {"login": "someaddons"}, "path": "src/api/java/com/minecolonies/api/tileentities/TileEntityRack.java", "diffHunk": "@@ -340,15 +340,7 @@ public void read(final CompoundNBT compound)\n             size = compound.getInt(TAG_SIZE);\n             if (size > 0)\n             {\n-                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE)\n-                {\n-                    @Override\n-                    protected void onContentsChanged(final int slot)\n-                    {\n-                        updateItemStorage();\n-                        super.onContentsChanged(slot);\n-                    }\n-                };\n+                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NTAyMg==", "bodyText": "ohh", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365545022", "createdAt": "2020-01-11T22:18:57Z", "author": {"login": "Raycoms"}, "path": "src/api/java/com/minecolonies/api/tileentities/TileEntityRack.java", "diffHunk": "@@ -340,15 +340,7 @@ public void read(final CompoundNBT compound)\n             size = compound.getInt(TAG_SIZE);\n             if (size > 0)\n             {\n-                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE)\n-                {\n-                    @Override\n-                    protected void onContentsChanged(final int slot)\n-                    {\n-                        updateItemStorage();\n-                        super.onContentsChanged(slot);\n-                    }\n-                };\n+                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NDYyOQ=="}, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzNzEyOQ==", "bodyText": "Was just checking that, glad to hear", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365637129", "createdAt": "2020-01-13T03:14:56Z", "author": {"login": "Asherslab"}, "path": "src/api/java/com/minecolonies/api/tileentities/TileEntityRack.java", "diffHunk": "@@ -340,15 +340,7 @@ public void read(final CompoundNBT compound)\n             size = compound.getInt(TAG_SIZE);\n             if (size > 0)\n             {\n-                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE)\n-                {\n-                    @Override\n-                    protected void onContentsChanged(final int slot)\n-                    {\n-                        updateItemStorage();\n-                        super.onContentsChanged(slot);\n-                    }\n-                };\n+                inventory = new RackInventory(DEFAULT_SIZE + size * SLOT_PER_LINE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NDYyOQ=="}, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODEwMDYxOnYy", "diffSide": "LEFT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQyMzowMjo1OFrOFcnMfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQyMzoxNToxNVrOFcnOHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NjYyMQ==", "bodyText": "Shouldn't we then recalc after read?", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365546621", "createdAt": "2020-01-11T23:02:58Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -92,9 +92,6 @@ public CitizenManager(final Colony colony)\n     @Override\n     public void read(@NotNull final CompoundNBT compound)\n     {\n-        maxCitizens = compound.getInt(TAG_MAX_CITIZENS);\n-        potentialMaxCitizens = compound.getInt(TAG_POTENTIAL_MAX_CITIZENS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0Njk5OQ==", "bodyText": "ye but we need the buildings to be loaded for that calculation, thats why it is added after the building manager read in the colony", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365546999", "createdAt": "2020-01-11T23:13:32Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -92,9 +92,6 @@ public CitizenManager(final Colony colony)\n     @Override\n     public void read(@NotNull final CompoundNBT compound)\n     {\n-        maxCitizens = compound.getInt(TAG_MAX_CITIZENS);\n-        potentialMaxCitizens = compound.getInt(TAG_POTENTIAL_MAX_CITIZENS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NjYyMQ=="}, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NzAzOA==", "bodyText": "ahkk", "url": "https://github.com/ldtteam/minecolonies/pull/4228#discussion_r365547038", "createdAt": "2020-01-11T23:15:15Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -92,9 +92,6 @@ public CitizenManager(final Colony colony)\n     @Override\n     public void read(@NotNull final CompoundNBT compound)\n     {\n-        maxCitizens = compound.getInt(TAG_MAX_CITIZENS);\n-        potentialMaxCitizens = compound.getInt(TAG_POTENTIAL_MAX_CITIZENS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NjYyMQ=="}, "originalCommit": {"oid": "65713b23bd68121fd04a4899015afbdc4a0ad950"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3193, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}