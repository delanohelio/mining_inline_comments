{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDI0OTAx", "number": 4901, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMTowNjozMVrOD5xF1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMTowNjozMVrOD5xF1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxODk5NzM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMTowNjozMVrOGROBBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzo0NzozN1rOGRT2HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA==", "bodyText": "might make sense to put this in a utility functin that returns true if repair and else false", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420708614", "createdAt": "2020-05-06T11:06:31Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwOTQ0Mw==", "bodyText": "yes, but most of this stuff will get removed in the next commit.", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420709443", "createdAt": "2020-05-06T11:08:13Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA=="}, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwOTU3Mg==", "bodyText": "as it checked the wrong stuff", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420709572", "createdAt": "2020-05-06T11:08:29Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA=="}, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDczNTQ1Mg==", "bodyText": "This should be solved now", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420735452", "createdAt": "2020-05-06T12:00:43Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA=="}, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDczNzA1Mw==", "bodyText": "ok now i think i understand what you meant.\n\ni thought this was the other check that looks the same\nyes, i will probably do that.", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420737053", "createdAt": "2020-05-06T12:03:52Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA=="}, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwNDEyNQ==", "bodyText": "ok i did this.", "url": "https://github.com/ldtteam/minecolonies/pull/4901#discussion_r420804125", "createdAt": "2020-05-06T13:47:37Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/EntityAIStructureMiner.java", "diffHunk": "@@ -398,17 +445,45 @@ private IAIState advanceLadder(final IAIState state)\n             return state;\n         }\n \n+        @NotNull final BlockPos nextLadder =\n+                new BlockPos(getOwnBuilding().getLadderLocation().getX(), getLastLadder(getOwnBuilding().getLadderLocation(), world) - 1, getOwnBuilding().getLadderLocation().getZ());\n+        final int xOffset = SHAFT_RADIUS * getOwnBuilding().getVectorX();\n+        final int zOffset = SHAFT_RADIUS * getOwnBuilding().getVectorZ();\n+        boolean repair = true;\n+\n+        if (world.getBlockState(nextLadder).getBlock() instanceof AirBlock)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDcwODYxNA=="}, "originalCommit": {"oid": "371c00dc755519f04b75a2e855f773a745121274"}, "originalPosition": 98}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3185, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}