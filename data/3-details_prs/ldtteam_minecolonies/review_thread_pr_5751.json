{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyOTY4OTI5", "number": 5751, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyNzowOVrOEiMqdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOTozMToyMFrOEjCowQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0Mjk0NTE3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenBornEvent.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyNzowOVrOHP8KJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyOTowN1rOHP8O5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NjMyNw==", "bodyText": "Something here seems off", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486476327", "createdAt": "2020-09-10T16:27:09Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenBornEvent.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.minecolonies.coremod.colony.colonyEvents.citizenEvents;\n+\n+import org.jetbrains.annotations.NotNull;\n+\n+import com.minecolonies.api.util.constant.Constants;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzU0MA==", "bodyText": "why? its just three imports and an empty line before the class description.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486477540", "createdAt": "2020-09-10T16:29:07Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenBornEvent.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.minecolonies.coremod.colony.colonyEvents.citizenEvents;\n+\n+import org.jetbrains.annotations.NotNull;\n+\n+import com.minecolonies.api.util.constant.Constants;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NjMyNw=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0Mjk0NTgwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenGrownUpEvent.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyNzoxOVrOHP8KlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjo0MjoxOFrOHP8vVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NjQzNw==", "bodyText": "also here", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486476437", "createdAt": "2020-09-10T16:27:19Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenGrownUpEvent.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.minecolonies.coremod.colony.colonyEvents.citizenEvents;\n+\n+import org.jetbrains.annotations.NotNull;\n+\n+import com.minecolonies.api.util.constant.Constants;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3Nzk0Mw==", "bodyText": "do you mean the empty line?\nif yes, thats how eclipse formats imports, i can remove it if you want.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486477943", "createdAt": "2020-09-10T16:29:44Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenGrownUpEvent.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.minecolonies.coremod.colony.colonyEvents.citizenEvents;\n+\n+import org.jetbrains.annotations.NotNull;\n+\n+import com.minecolonies.api.util.constant.Constants;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NjQzNw=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ4NTg0Ng==", "bodyText": "nvm, it was a github problem", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486485846", "createdAt": "2020-09-10T16:42:18Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/colonyEvents/citizenEvents/CitizenGrownUpEvent.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package com.minecolonies.coremod.colony.colonyEvents.citizenEvents;\n+\n+import org.jetbrains.annotations.NotNull;\n+\n+import com.minecolonies.api.util.constant.Constants;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NjQzNw=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0Mjk0OTU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyODoxNlrOHP8M3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzoyMjo1M1rOHP-OAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzAyMg==", "bodyText": "I feel like those things would fit better into the constructor of the event instead of manually setting pos and name.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486477022", "createdAt": "2020-09-10T16:28:16Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,11 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        AbstractCitizenEvent spawnEvent = citizenData.isChild() ? new CitizenBornEvent() : new CitizenSpawnedEvent();\n+        spawnEvent.setEventPos(spawnPoint);\n+        spawnEvent.setCitizenName(citizenData.getName());\n+        colony.getEventManager().addEventDescription(spawnEvent);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3OTk3Ng==", "bodyText": "thats a relic from a changed implementation, i thought i changed it, but seems like i didn't.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486479976", "createdAt": "2020-09-10T16:32:53Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,11 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        AbstractCitizenEvent spawnEvent = citizenData.isChild() ? new CitizenBornEvent() : new CitizenSpawnedEvent();\n+        spawnEvent.setEventPos(spawnPoint);\n+        spawnEvent.setCitizenName(citizenData.getName());\n+        colony.getEventManager().addEventDescription(spawnEvent);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzAyMg=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUwOTYwMA==", "bodyText": "This time i really changed that, and not just planned to do it xD", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486509600", "createdAt": "2020-09-10T17:22:03Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,11 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        AbstractCitizenEvent spawnEvent = citizenData.isChild() ? new CitizenBornEvent() : new CitizenSpawnedEvent();\n+        spawnEvent.setEventPos(spawnPoint);\n+        spawnEvent.setCitizenName(citizenData.getName());\n+        colony.getEventManager().addEventDescription(spawnEvent);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzAyMg=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUxMDA4Mw==", "bodyText": "\ud83d\udc4d xD", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486510083", "createdAt": "2020-09-10T17:22:53Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,11 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        AbstractCitizenEvent spawnEvent = citizenData.isChild() ? new CitizenBornEvent() : new CitizenSpawnedEvent();\n+        spawnEvent.setEventPos(spawnPoint);\n+        spawnEvent.setCitizenName(citizenData.getName());\n+        colony.getEventManager().addEventDescription(spawnEvent);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzAyMg=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MzAwNjM2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjo0Mjo0NlrOHP8wXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzoyMTo0MFrOHP-LTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ4NjExMQ==", "bodyText": "formatting here is off", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486486111", "createdAt": "2020-09-10T16:42:46Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -81,6 +87,16 @@ public void addEvent(final IColonyEvent colonyEvent)\n         colony.markDirty();\n     }\n \n+    @Override\n+    public void addEventDescription(IColonyEventDescription colonyEventDescription) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUwOTM4OQ==", "bodyText": "fixed.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486509389", "createdAt": "2020-09-10T17:21:40Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -81,6 +87,16 @@ public void addEvent(final IColonyEvent colonyEvent)\n         colony.markDirty();\n     }\n \n+    @Override\n+    public void addEventDescription(IColonyEventDescription colonyEventDescription) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ4NjExMQ=="}, "originalCommit": {"oid": "3ee91299ba565258250ae78d2e893e362d15e050"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTc3OTI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "isResolved": false, "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0MDozMVrOHQXMCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0NzozM1rOHRSFmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA==", "bodyText": "this is also used for entity respawning, which would trigger the event again", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486919178", "createdAt": "2020-09-11T09:40:31Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyNDE1OQ==", "bodyText": "\"entity respawning\" as in loading the world again, or recalling, or...?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486924159", "createdAt": "2020-09-11T09:45:37Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyNTA2Nw==", "bodyText": "loading the world no, but if its missing or gets recalled to respawn etc, minecraft sometimes looses the entities and we need to respawn them", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486925067", "createdAt": "2020-09-11T09:46:31Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMjA2Mg==", "bodyText": "if the citizen goes missing, does citizenData.getEntity() return null, or an invalid entity?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486932062", "createdAt": "2020-09-11T09:53:43Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzNTU2MA==", "bodyText": "could be either", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486935560", "createdAt": "2020-09-11T09:57:07Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzOTI4OQ==", "bodyText": "BuildingHome has the child spawn, and the RecruitmentInteraction has the visitors", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486939289", "createdAt": "2020-09-11T10:00:13Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk3OTg3NQ==", "bodyText": "so the only solution is to move the event handling to the classes requesting the citizen spawn instead of the spawn handler?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486979875", "createdAt": "2020-09-11T11:20:47Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk4MTg3NA==", "bodyText": "well spawning is only the entity, not the citizen itself. Entities are exchangeable/get lost, citizenData is the actualy citizen", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486981874", "createdAt": "2020-09-11T11:25:25Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk4MjY5Mw==", "bodyText": "wait, does that mean i can handle that in the CitizenData constructor?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486982693", "createdAt": "2020-09-11T11:27:14Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk4MzM5NQ==", "bodyText": "no thats called upon loading too :D", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486983395", "createdAt": "2020-09-11T11:28:50Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk4MzgzMQ==", "bodyText": "once the crash is fixed i will look more into this.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486983831", "createdAt": "2020-09-11T11:29:40Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIwMjU1NA==", "bodyText": "seems like the recent citizen loading changes cause world loading to sometimes cause a citizen spawned event, but not always.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487202554", "createdAt": "2020-09-11T17:58:29Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4NDE4NA==", "bodyText": "I hope this should be completely done now.\nI tested it some time and it seems to fully work.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487884184", "createdAt": "2020-09-14T12:47:33Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -295,6 +297,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :\n+              new CitizenSpawnedEvent(spawnPoint, citizenData.getName()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkxOTE3OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTc4OTMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0MjoyM1rOHQXS_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNzo1Nzo0NlrOHQodkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA==", "bodyText": "ColonyEvents are quite different from event descriptions, those are ongoing timed events for a colony like a pirate raid. I don't think that the event descriptions belong into here at all, better move them to their own file.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486920958", "createdAt": "2020-09-11T09:42:23Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyNTQyMA==", "bodyText": "I have them here, because that way i can reuse code from the EventManager, but i can move them to their own class.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486925420", "createdAt": "2020-09-11T09:46:53Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyOTE5MQ==", "bodyText": "ye make the own manager for it, like ColonyHistoricEventManager or os", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r486929191", "createdAt": "2020-09-11T09:50:41Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEyMjk1Nw==", "bodyText": "Maybe call it ColonyLogManager?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487122957", "createdAt": "2020-09-11T15:30:05Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEyMzAyMw==", "bodyText": "it's kinda a log", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487123023", "createdAt": "2020-09-11T15:30:12Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEyNTMwMw==", "bodyText": "I called it EventDescriptionManager, but i want to test it before pushing it, and i can't do that because of the crash.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487125303", "createdAt": "2020-09-11T15:34:04Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzIwMjE5NA==", "bodyText": "this should be done now.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487202194", "createdAt": "2020-09-11T17:57:46Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/EventManager.java", "diffHunk": "@@ -53,6 +59,11 @@\n      */\n     private final Map<Integer, IColonyEvent> events = new HashMap<>();\n \n+    /**\n+     * The event descriptions of this colony.\n+     */\n+    private final LinkedList<IColonyEventDescription> eventDescs = new LinkedList<>();\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDk1OA=="}, "originalCommit": {"oid": "0a7dfe510e53dfa423ec1a9e2aac4bc4079ec7ba"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc1Mzc4OnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IBuildingEventDescription.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyMjoxMVrOHRLNuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0Njo1NVrOHRSD5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MTU3OQ==", "bodyText": "Please rename the methods in this interface to be more accurate.\nAka getBuildingName instead of getBuilding", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487771579", "createdAt": "2020-09-14T09:22:11Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IBuildingEventDescription.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * Event description for building events.\n+ */\n+public interface IBuildingEventDescription extends IColonyEventDescription", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4Mzc0OQ==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883749", "createdAt": "2020-09-14T12:46:55Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IBuildingEventDescription.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * Event description for building events.\n+ */\n+public interface IBuildingEventDescription extends IColonyEventDescription", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MTU3OQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc1NjM5OnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IColonyEventDescription.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyMjo1NFrOHRLPVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMzoxMTo0MFrOHRTEIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MTk4OQ==", "bodyText": "extends INBTSerializable<CompoundNBT> should be used here instead of the custom methods.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487771989", "createdAt": "2020-09-14T09:22:54Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IColonyEventDescription.java", "diffHunk": "@@ -0,0 +1,79 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.math.BlockPos;\n+\n+/**\n+ * Description for an event that happened in the colony.\n+ */\n+public interface IColonyEventDescription", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MzcxNw==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883717", "createdAt": "2020-09-14T12:46:52Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IColonyEventDescription.java", "diffHunk": "@@ -0,0 +1,79 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.math.BlockPos;\n+\n+/**\n+ * Description for an event that happened in the colony.\n+ */\n+public interface IColonyEventDescription", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MTk4OQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkwMDE5Mw==", "bodyText": "This is now also done for IColonyEvent.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487900193", "createdAt": "2020-09-14T13:11:40Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/IColonyEventDescription.java", "diffHunk": "@@ -0,0 +1,79 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.math.BlockPos;\n+\n+/**\n+ * Description for an event that happened in the colony.\n+ */\n+public interface IColonyEventDescription", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MTk4OQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc1NzM4OnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/NBTTags.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyMzoxMlrOHRLP7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0Njo0OFrOHRSDnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjE0Mg==", "bodyText": "Use the NBTTagConstantsClass", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487772142", "createdAt": "2020-09-14T09:23:12Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/NBTTags.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * NBT tags used in colony events.\n+ */\n+public abstract class NBTTags", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc5NDE3OA==", "bodyText": "ok, i did it like this because that is how IColonyEvent handles its tags.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487794178", "createdAt": "2020-09-14T10:00:13Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/NBTTags.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * NBT tags used in colony events.\n+ */\n+public abstract class NBTTags", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjE0Mg=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgxMTEzMg==", "bodyText": "Then fix that too \ud83d\ude04", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487811132", "createdAt": "2020-09-14T10:30:08Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/NBTTags.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * NBT tags used in colony events.\n+ */\n+public abstract class NBTTags", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjE0Mg=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MzY3Ng==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883676", "createdAt": "2020-09-14T12:46:48Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/descriptions/NBTTags.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.minecolonies.api.colony.colonyEvents.descriptions;\n+\n+/**\n+ * NBT tags used in colony events.\n+ */\n+public abstract class NBTTags", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjE0Mg=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc2MDQzOnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/registry/ColonyEventDescriptionTypeRegistryEntry.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyNDowMFrOHRLRxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0Njo0M1rOHRSDUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjYxNQ==", "bodyText": "Rework this class so that it does not expose the inner function callbacks.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487772615", "createdAt": "2020-09-14T09:24:00Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/registry/ColonyEventDescriptionTypeRegistryEntry.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.minecolonies.api.colony.colonyEvents.registry;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+import com.minecolonies.api.util.Log;\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraftforge.registries.ForgeRegistryEntry;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.function.Function;\n+\n+/**\n+ * This is the colonies event registry entry class, used for registering any colony related events. Takes a function of colony, nbt to create the right event object.\n+ */\n+public class ColonyEventDescriptionTypeRegistryEntry extends ForgeRegistryEntry<ColonyEventDescriptionTypeRegistryEntry>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc5NTQ5OQ==", "bodyText": "This is how its handled for IColonyEvents tho, does it really have to change?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487795499", "createdAt": "2020-09-14T10:02:29Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/registry/ColonyEventDescriptionTypeRegistryEntry.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.minecolonies.api.colony.colonyEvents.registry;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+import com.minecolonies.api.util.Log;\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraftforge.registries.ForgeRegistryEntry;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.function.Function;\n+\n+/**\n+ * This is the colonies event registry entry class, used for registering any colony related events. Takes a function of colony, nbt to create the right event object.\n+ */\n+public class ColonyEventDescriptionTypeRegistryEntry extends ForgeRegistryEntry<ColonyEventDescriptionTypeRegistryEntry>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjYxNQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgxMTQxNg==", "bodyText": "Yes.\nThe functions are inner information that is not supposed to be exposed to the external world.\nPlease fix this in IColonyEvent as well.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487811416", "createdAt": "2020-09-14T10:30:43Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/registry/ColonyEventDescriptionTypeRegistryEntry.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.minecolonies.api.colony.colonyEvents.registry;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+import com.minecolonies.api.util.Log;\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraftforge.registries.ForgeRegistryEntry;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.function.Function;\n+\n+/**\n+ * This is the colonies event registry entry class, used for registering any colony related events. Takes a function of colony, nbt to create the right event object.\n+ */\n+public class ColonyEventDescriptionTypeRegistryEntry extends ForgeRegistryEntry<ColonyEventDescriptionTypeRegistryEntry>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjYxNQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MzYwMQ==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883601", "createdAt": "2020-09-14T12:46:43Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/colonyEvents/registry/ColonyEventDescriptionTypeRegistryEntry.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package com.minecolonies.api.colony.colonyEvents.registry;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+import com.minecolonies.api.util.Log;\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.network.PacketBuffer;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraftforge.registries.ForgeRegistryEntry;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.function.Function;\n+\n+/**\n+ * This is the colonies event registry entry class, used for registering any colony related events. Takes a function of colony, nbt to create the right event object.\n+ */\n+public class ColonyEventDescriptionTypeRegistryEntry extends ForgeRegistryEntry<ColonyEventDescriptionTypeRegistryEntry>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MjYxNQ=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc2MjkxOnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/colony/managers/interfaces/IEventDescriptionManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyNDo0MVrOHRLTYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0Njo0MFrOHRSDJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MzAyNg==", "bodyText": "Again missing the INBTSerializable<CompoundNBT> instead of using the custom methods.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487773026", "createdAt": "2020-09-14T09:24:41Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/colony/managers/interfaces/IEventDescriptionManager.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package com.minecolonies.api.colony.managers.interfaces;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.List;\n+\n+/**\n+ * Interface for the event description manager, the event description manager deals the colony event log events.\n+ */\n+public interface IEventDescriptionManager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MzU1Ng==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883556", "createdAt": "2020-09-14T12:46:40Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/colony/managers/interfaces/IEventDescriptionManager.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package com.minecolonies.api.colony.managers.interfaces;\n+\n+import com.minecolonies.api.colony.colonyEvents.descriptions.IColonyEventDescription;\n+\n+import net.minecraft.nbt.CompoundNBT;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.List;\n+\n+/**\n+ * Interface for the event description manager, the event description manager deals the colony event log events.\n+ */\n+public interface IEventDescriptionManager", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MzAyNg=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc2NjQwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/apiimp/CommonMinecoloniesAPIImpl.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyNToyOFrOHRLVgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMDozMDo1MFrOHRNpiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MzU3MA==", "bodyText": "What happened here?", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487773570", "createdAt": "2020-09-14T09:25:28Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/apiimp/CommonMinecoloniesAPIImpl.java", "diffHunk": "@@ -38,20 +39,21 @@\n \n public class CommonMinecoloniesAPIImpl implements IMinecoloniesAPI\n {\n-    private final  IColonyManager                                  colonyManager          = new ColonyManager();\n-    private final  ICitizenDataManager                             citizenDataManager     = new CitizenDataManager();\n-    private final  IMobAIRegistry                                  mobAIRegistry          = new MobAIRegistry();\n-    private final  IPathNavigateRegistry                           pathNavigateRegistry   = new PathNavigateRegistry();\n-    private        IForgeRegistry<BuildingEntry>                   buildingRegistry;\n-    private final  IBuildingDataManager                            buildingDataManager    = new BuildingDataManager();\n-    private final  IJobDataManager                                 jobDataManager         = new JobDataManager();\n-    private final  IGuardTypeDataManager                           guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n-    private        IForgeRegistry<JobEntry>                        jobRegistry;\n-    private        IForgeRegistry<GuardType>                       guardTypeRegistry;\n-    private        IForgeRegistry<InteractionResponseHandlerEntry> interactionHandlerRegistry;\n-    private final  IInteractionResponseHandlerDataManager          interactionDataManager = new InteractionResponseHandlerManager();\n-    private        IForgeRegistry<ColonyEventTypeRegistryEntry>    colonyEventRegistry;\n-    private static IGlobalResearchTree                             globalResearchTree     = new GlobalResearchTree();\n+    private final  IColonyManager                                          colonyManager          = new ColonyManager();\n+    private final  ICitizenDataManager                                     citizenDataManager     = new CitizenDataManager();\n+    private final  IMobAIRegistry                                          mobAIRegistry          = new MobAIRegistry();\n+    private final  IPathNavigateRegistry                                   pathNavigateRegistry   = new PathNavigateRegistry();\n+    private        IForgeRegistry<BuildingEntry>                           buildingRegistry;\n+    private final  IBuildingDataManager                                    buildingDataManager    = new BuildingDataManager();\n+    private final  IJobDataManager                                         jobDataManager         = new JobDataManager();\n+    private final  IGuardTypeDataManager                                   guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n+    private        IForgeRegistry<JobEntry>                                jobRegistry;\n+    private        IForgeRegistry<GuardType>                               guardTypeRegistry;\n+    private        IForgeRegistry<InteractionResponseHandlerEntry>         interactionHandlerRegistry;\n+    private final  IInteractionResponseHandlerDataManager                  interactionDataManager = new InteractionResponseHandlerManager();\n+    private        IForgeRegistry<ColonyEventTypeRegistryEntry>            colonyEventRegistry;\n+    private        IForgeRegistry<ColonyEventDescriptionTypeRegistryEntry> colonyEventDescriptionRegistry;\n+    private static IGlobalResearchTree                                     globalResearchTree     = new GlobalResearchTree();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc5MzY0Nw==", "bodyText": "formatting changes happened here, there were spaces to make all the names start at the same point, and since the new one has a longer type i moved all the var names.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487793647", "createdAt": "2020-09-14T09:59:22Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/apiimp/CommonMinecoloniesAPIImpl.java", "diffHunk": "@@ -38,20 +39,21 @@\n \n public class CommonMinecoloniesAPIImpl implements IMinecoloniesAPI\n {\n-    private final  IColonyManager                                  colonyManager          = new ColonyManager();\n-    private final  ICitizenDataManager                             citizenDataManager     = new CitizenDataManager();\n-    private final  IMobAIRegistry                                  mobAIRegistry          = new MobAIRegistry();\n-    private final  IPathNavigateRegistry                           pathNavigateRegistry   = new PathNavigateRegistry();\n-    private        IForgeRegistry<BuildingEntry>                   buildingRegistry;\n-    private final  IBuildingDataManager                            buildingDataManager    = new BuildingDataManager();\n-    private final  IJobDataManager                                 jobDataManager         = new JobDataManager();\n-    private final  IGuardTypeDataManager                           guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n-    private        IForgeRegistry<JobEntry>                        jobRegistry;\n-    private        IForgeRegistry<GuardType>                       guardTypeRegistry;\n-    private        IForgeRegistry<InteractionResponseHandlerEntry> interactionHandlerRegistry;\n-    private final  IInteractionResponseHandlerDataManager          interactionDataManager = new InteractionResponseHandlerManager();\n-    private        IForgeRegistry<ColonyEventTypeRegistryEntry>    colonyEventRegistry;\n-    private static IGlobalResearchTree                             globalResearchTree     = new GlobalResearchTree();\n+    private final  IColonyManager                                          colonyManager          = new ColonyManager();\n+    private final  ICitizenDataManager                                     citizenDataManager     = new CitizenDataManager();\n+    private final  IMobAIRegistry                                          mobAIRegistry          = new MobAIRegistry();\n+    private final  IPathNavigateRegistry                                   pathNavigateRegistry   = new PathNavigateRegistry();\n+    private        IForgeRegistry<BuildingEntry>                           buildingRegistry;\n+    private final  IBuildingDataManager                                    buildingDataManager    = new BuildingDataManager();\n+    private final  IJobDataManager                                         jobDataManager         = new JobDataManager();\n+    private final  IGuardTypeDataManager                                   guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n+    private        IForgeRegistry<JobEntry>                                jobRegistry;\n+    private        IForgeRegistry<GuardType>                               guardTypeRegistry;\n+    private        IForgeRegistry<InteractionResponseHandlerEntry>         interactionHandlerRegistry;\n+    private final  IInteractionResponseHandlerDataManager                  interactionDataManager = new InteractionResponseHandlerManager();\n+    private        IForgeRegistry<ColonyEventTypeRegistryEntry>            colonyEventRegistry;\n+    private        IForgeRegistry<ColonyEventDescriptionTypeRegistryEntry> colonyEventDescriptionRegistry;\n+    private static IGlobalResearchTree                                     globalResearchTree     = new GlobalResearchTree();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MzU3MA=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgxMTQ2NA==", "bodyText": "Okey", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487811464", "createdAt": "2020-09-14T10:30:50Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/apiimp/CommonMinecoloniesAPIImpl.java", "diffHunk": "@@ -38,20 +39,21 @@\n \n public class CommonMinecoloniesAPIImpl implements IMinecoloniesAPI\n {\n-    private final  IColonyManager                                  colonyManager          = new ColonyManager();\n-    private final  ICitizenDataManager                             citizenDataManager     = new CitizenDataManager();\n-    private final  IMobAIRegistry                                  mobAIRegistry          = new MobAIRegistry();\n-    private final  IPathNavigateRegistry                           pathNavigateRegistry   = new PathNavigateRegistry();\n-    private        IForgeRegistry<BuildingEntry>                   buildingRegistry;\n-    private final  IBuildingDataManager                            buildingDataManager    = new BuildingDataManager();\n-    private final  IJobDataManager                                 jobDataManager         = new JobDataManager();\n-    private final  IGuardTypeDataManager                           guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n-    private        IForgeRegistry<JobEntry>                        jobRegistry;\n-    private        IForgeRegistry<GuardType>                       guardTypeRegistry;\n-    private        IForgeRegistry<InteractionResponseHandlerEntry> interactionHandlerRegistry;\n-    private final  IInteractionResponseHandlerDataManager          interactionDataManager = new InteractionResponseHandlerManager();\n-    private        IForgeRegistry<ColonyEventTypeRegistryEntry>    colonyEventRegistry;\n-    private static IGlobalResearchTree                             globalResearchTree     = new GlobalResearchTree();\n+    private final  IColonyManager                                          colonyManager          = new ColonyManager();\n+    private final  ICitizenDataManager                                     citizenDataManager     = new CitizenDataManager();\n+    private final  IMobAIRegistry                                          mobAIRegistry          = new MobAIRegistry();\n+    private final  IPathNavigateRegistry                                   pathNavigateRegistry   = new PathNavigateRegistry();\n+    private        IForgeRegistry<BuildingEntry>                           buildingRegistry;\n+    private final  IBuildingDataManager                                    buildingDataManager    = new BuildingDataManager();\n+    private final  IJobDataManager                                         jobDataManager         = new JobDataManager();\n+    private final  IGuardTypeDataManager                                   guardTypeDataManager   = new com.minecolonies.coremod.colony.buildings.registry.GuardTypeDataManager();\n+    private        IForgeRegistry<JobEntry>                                jobRegistry;\n+    private        IForgeRegistry<GuardType>                               guardTypeRegistry;\n+    private        IForgeRegistry<InteractionResponseHandlerEntry>         interactionHandlerRegistry;\n+    private final  IInteractionResponseHandlerDataManager                  interactionDataManager = new InteractionResponseHandlerManager();\n+    private        IForgeRegistry<ColonyEventTypeRegistryEntry>            colonyEventRegistry;\n+    private        IForgeRegistry<ColonyEventDescriptionTypeRegistryEntry> colonyEventDescriptionRegistry;\n+    private static IGlobalResearchTree                                     globalResearchTree     = new GlobalResearchTree();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MzU3MA=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTc4ODE3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOTozMToyMFrOHRLixw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0NjozNVrOHRSC-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3Njk2Nw==", "bodyText": "Yeah you will need to modify this.\nThis call location is less then appropriate.\nFind the code that actually triggers the birth and fire it from there.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487776967", "createdAt": "2020-09-14T09:31:20Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -282,6 +284,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventDescriptionManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc5Mjc3Ng==", "bodyText": "Addons already told me this, i will fix this once i continue working on this pr later today.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487792776", "createdAt": "2020-09-14T09:57:59Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -282,6 +284,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventDescriptionManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3Njk2Nw=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MzUxNQ==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/5751#discussion_r487883515", "createdAt": "2020-09-14T12:46:35Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/managers/CitizenManager.java", "diffHunk": "@@ -282,6 +284,9 @@ private ICitizenData spawnCitizenOnPosition(\n         entity.setPosition(spawnPoint.getX() + HALF_BLOCK, spawnPoint.getY() + SLIGHTLY_UP, spawnPoint.getZ() + HALF_BLOCK);\n         world.addEntity(entity);\n \n+        colony.getEventDescriptionManager().addEventDescription(citizenData.isChild() ? new CitizenBornEvent(spawnPoint, citizenData.getName()) :", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3Njk2Nw=="}, "originalCommit": {"oid": "80fa887c08d2ad99f449b07cf09db12da8fde6aa"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3486, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}