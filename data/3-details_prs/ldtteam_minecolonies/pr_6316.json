{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ3MDM5Mzc3", "number": 6316, "title": "Rework the Sifter (phase 1) to be based on Recipes/Loottables ", "bodyText": "Changes proposed in this pull request:\n\nSimplified the sifter and reused the crafting system to support it.\n\nSifter no longer needs you to choose what to sift, it will sift anything siftable in it's building inventory.,\nSifter now supports prestock requests, which is the new way to request siftables to process\nSifter still supports a maximum number of blocks sifted per day, be sure to set this!\nSifter is now faster, and capable of being MUCH faster at higher levels.\nSifter will rarely at higher primary skill levels, and only with iron/diamond meshes, produce more than one item from a single block\n\n\nAdded support for diminishing returns on skill level, sifter is the first to use this for it's speed/luck\n\nEarly levels get a bonus, ie: skill 10 is an effective skill of 19, but skill 90 is effectively 99.\n\n\nAdded a chance for the baker's level 3 bread dough recipe to produce empty bottles.\n\nThis is only the first round of changes, and is effectively a drop in replacement as far as overall functionality. I plan on adding real items for the Sifter meshes, with durability that is effected by sifting. Will likely also add luck bonuses based on skills, and more complex loot tables (rare sand from gravel anyone?)\nPhase 2 will likely require the new research system also, as it allows for more complex conditions to trigger recipe availability.\nTo be clear, Phase 2 will be a separate pull request after this one is in. This one stands alone.\nReview please", "createdAt": "2020-12-30T18:11:20Z", "url": "https://github.com/ldtteam/minecolonies/pull/6316", "merged": true, "mergeCommit": {"oid": "84d70cd053e7641cf43d95e56b8f6c1b0f46224b"}, "closed": true, "closedAt": "2021-01-09T17:01:32Z", "author": {"login": "Mekle001"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdq9khGgH2gAyNTQ3MDM5Mzc3OjUyMTg2ZTFhOWE0ZjY4ZTYyMGY0ZDViOTJhMmFjZDlkMGNlMTJhZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdugSIVgFqTU2NDc5NTc1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "52186e1a9a4f68e620f4d5b92a2acd9d0ce12ada", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/52186e1a9a4f68e620f4d5b92a2acd9d0ce12ada", "committedDate": "2020-12-29T16:46:09Z", "message": "Enable recipe storage to take LootContext instead"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bcb04778c63839ec16284ad702f643f77a229db", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/5bcb04778c63839ec16284ad702f643f77a229db", "committedDate": "2020-12-29T16:46:09Z", "message": "Beginning of sifter loottables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff06a94bf711778de785c9dde85649b714f5e842", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/ff06a94bf711778de785c9dde85649b714f5e842", "committedDate": "2020-12-29T16:46:09Z", "message": "sifter progress."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "243d5be8ffe7ac3ccc11bdb1c453d186d22acdb2", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/243d5be8ffe7ac3ccc11bdb1c453d186d22acdb2", "committedDate": "2020-12-29T16:46:09Z", "message": "Closer to real"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff0b4572d15baf78515c8b2b4ad62b1798fac10d", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/ff0b4572d15baf78515c8b2b4ad62b1798fac10d", "committedDate": "2020-12-29T16:46:09Z", "message": "Fix for 1.16"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb0d1bc6228525dcb8964d7a85b8e26c17be2c9d", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/bb0d1bc6228525dcb8964d7a85b8e26c17be2c9d", "committedDate": "2020-12-30T17:54:51Z", "message": "Support empty outputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3ef2a77d6a9ba6d2f68af8c37597970251785ac", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/f3ef2a77d6a9ba6d2f68af8c37597970251785ac", "committedDate": "2020-12-30T17:55:31Z", "message": "Sifter runs off of datapack"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8781f695980eb5fd565b192d8596be361ef8950", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/d8781f695980eb5fd565b192d8596be361ef8950", "committedDate": "2020-12-30T17:55:59Z", "message": "Sifter UI updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcd873847f65bff663fbe626eef1dd3caf45d7ab", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/dcd873847f65bff663fbe626eef1dd3caf45d7ab", "committedDate": "2020-12-30T17:56:25Z", "message": "Add support for curved skill effects"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMTUzMjg3", "url": "https://github.com/ldtteam/minecolonies/pull/6316#pullrequestreview-560153287", "createdAt": "2020-12-30T18:17:58Z", "commit": {"oid": "dcd873847f65bff663fbe626eef1dd3caf45d7ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxODoxNzo1OFrOIMypqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxODoxNzo1OFrOIMypqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDI4MzY4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.gui.workerhuts.sifterinfo\": \"Max %d :\",\n          \n          \n            \n              \"com.minecolonies.coremod.gui.workerhuts.sifterinfo\": \"Max %d\",\n          \n      \n    \n    \n  \n\nIf the max per day is before the colon, there's no need for it.", "url": "https://github.com/ldtteam/minecolonies/pull/6316#discussion_r550283688", "createdAt": "2020-12-30T18:17:58Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -1282,6 +1282,7 @@\n   \"com.minecolonies.coremod.general.canttakeequipped\": \"The only armor you have is what you're wearing. Put it in your inventory if you want to give it to me.\",\n \n   \"com.minecolonies.coremod.gui.workerhuts.siftersettings\": \"Daily limit\",\n+  \"com.minecolonies.coremod.gui.workerhuts.sifterinfo\": \"Max %d :\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dcd873847f65bff663fbe626eef1dd3caf45d7ab"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba8fae42893c9b4ddbc9c442c0d1fa4856ae9615", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/ba8fae42893c9b4ddbc9c442c0d1fa4856ae9615", "committedDate": "2020-12-30T18:24:24Z", "message": "Clean up old config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e12d4c08b0ef12a16babdcbd2a64c17956d7260", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/2e12d4c08b0ef12a16babdcbd2a64c17956d7260", "committedDate": "2020-12-30T19:02:22Z", "message": "Better UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "683a0f667489881830c2f1ba43ef233101c55050", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/683a0f667489881830c2f1ba43ef233101c55050", "committedDate": "2020-12-30T19:46:11Z", "message": "More config cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ab448899c1ab78589f385fe10e408f747ecdea1", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/0ab448899c1ab78589f385fe10e408f747ecdea1", "committedDate": "2020-12-30T20:52:37Z", "message": "Fix tooltip color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42eda489235a2c0a9b9a3598930ced5deb673331", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/42eda489235a2c0a9b9a3598930ced5deb673331", "committedDate": "2020-12-30T21:19:36Z", "message": "Tweak skill curving"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ee7817057cbafc1ed96a8c598a3330c59f2b68", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/e9ee7817057cbafc1ed96a8c598a3330c59f2b68", "committedDate": "2020-12-30T22:12:07Z", "message": "Make luck real, clean up comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca9c555906b88e324271c32636dcc6e9e3306c2a", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/ca9c555906b88e324271c32636dcc6e9e3306c2a", "committedDate": "2020-12-30T22:49:19Z", "message": "Missed a bonusroll"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a1f088e790f8e0823310c79a3fbc5230739a435", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/1a1f088e790f8e0823310c79a3fbc5230739a435", "committedDate": "2020-12-30T22:51:47Z", "message": "Push lootable stuff down a level, and update cook"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aae2ef562f59eecca65bfe6829bd8207f35ca793", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/aae2ef562f59eecca65bfe6829bd8207f35ca793", "committedDate": "2020-12-31T21:10:42Z", "message": "Missed UI Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4e356f363159c5baaa81596c09f24b05be58068", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/d4e356f363159c5baaa81596c09f24b05be58068", "committedDate": "2021-01-01T21:50:28Z", "message": "Merge branch 'version/1.16.3' into feature/sifter116"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13f65a31e5b8a7a0757f7cf889724a519027fda0", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/13f65a31e5b8a7a0757f7cf889724a519027fda0", "committedDate": "2021-01-01T21:51:46Z", "message": "Fix capitalization in loc key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNjMxMDE4", "url": "https://github.com/ldtteam/minecolonies/pull/6316#pullrequestreview-560631018", "createdAt": "2021-01-02T10:58:26Z", "commit": {"oid": "13f65a31e5b8a7a0757f7cf889724a519027fda0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee03c05ac572cc9584eb1cc60e8185be08c696c0", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/ee03c05ac572cc9584eb1cc60e8185be08c696c0", "committedDate": "2021-01-04T00:53:25Z", "message": "Merge branch 'version/1.16.3' into feature/sifter116"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fe7da76c0785acd325302c8651a0340d62e065e", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/7fe7da76c0785acd325302c8651a0340d62e065e", "committedDate": "2021-01-04T21:17:20Z", "message": "Merge branch 'version/1.16.3' into feature/sifter116"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY0Nzk1NzU3", "url": "https://github.com/ldtteam/minecolonies/pull/6316#pullrequestreview-564795757", "createdAt": "2021-01-09T16:54:31Z", "commit": {"oid": "7fe7da76c0785acd325302c8651a0340d62e065e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1744, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}