{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NTI4Nzc0", "number": 5886, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNDozNjoyOVrOEqxK_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNDozNjoyOVrOEqxK_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMjgxMjc4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAIInteractToggleAble.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNDozNjoyOVrOHdKYQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNTo1MjoyN1rOHdOo8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM0MDgwMw==", "bodyText": "Why aren't those just  predicates if we don't need the state anyway?", "url": "https://github.com/ldtteam/minecolonies/pull/5886#discussion_r500340803", "createdAt": "2020-10-06T14:36:29Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAIInteractToggleAble.java", "diffHunk": "@@ -0,0 +1,254 @@\n+package com.minecolonies.coremod.entity.ai.minimal;\n+\n+import net.minecraft.block.*;\n+import net.minecraft.entity.MobEntity;\n+import net.minecraft.entity.ai.goal.Goal;\n+import net.minecraft.pathfinding.GroundPathNavigator;\n+import net.minecraft.pathfinding.Path;\n+import net.minecraft.pathfinding.PathPoint;\n+import net.minecraft.state.properties.BlockStateProperties;\n+import net.minecraft.util.math.BlockPos;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.*;\n+import java.util.function.Predicate;\n+\n+/**\n+ * AI Task for toggling blocks open/closed when collided\n+ */\n+public class EntityAIInteractToggleAble extends Goal\n+{\n+    /**\n+     * Number of blocks to check for the fence gate - height.\n+     */\n+    private static final int HEIGHT_TO_CHECK = 2;\n+\n+    /**\n+     * Number of blocks to check for the fence gate - length.\n+     */\n+    private static final int LENGTH_TO_CHECK = 2;\n+\n+    /**\n+     * The min distance the gate has to be from the citizen.\n+     */\n+    private static final double MIN_DISTANCE = 2.25D;\n+\n+    /**\n+     * Default predicate for all 3 vanilla blocks\n+     */\n+    public static final Predicate<BlockState> GATE_DOOR_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }\n+    };\n+\n+    /**\n+     * Only trapdoors and fence gates\n+     */\n+    public static final Predicate<BlockState> GATE_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09aad8c64892382c23cb565b7d3f6a980b76511f"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM1NTQ0MQ==", "bodyText": "\"Block predicate\" I mean", "url": "https://github.com/ldtteam/minecolonies/pull/5886#discussion_r500355441", "createdAt": "2020-10-06T14:51:29Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAIInteractToggleAble.java", "diffHunk": "@@ -0,0 +1,254 @@\n+package com.minecolonies.coremod.entity.ai.minimal;\n+\n+import net.minecraft.block.*;\n+import net.minecraft.entity.MobEntity;\n+import net.minecraft.entity.ai.goal.Goal;\n+import net.minecraft.pathfinding.GroundPathNavigator;\n+import net.minecraft.pathfinding.Path;\n+import net.minecraft.pathfinding.PathPoint;\n+import net.minecraft.state.properties.BlockStateProperties;\n+import net.minecraft.util.math.BlockPos;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.*;\n+import java.util.function.Predicate;\n+\n+/**\n+ * AI Task for toggling blocks open/closed when collided\n+ */\n+public class EntityAIInteractToggleAble extends Goal\n+{\n+    /**\n+     * Number of blocks to check for the fence gate - height.\n+     */\n+    private static final int HEIGHT_TO_CHECK = 2;\n+\n+    /**\n+     * Number of blocks to check for the fence gate - length.\n+     */\n+    private static final int LENGTH_TO_CHECK = 2;\n+\n+    /**\n+     * The min distance the gate has to be from the citizen.\n+     */\n+    private static final double MIN_DISTANCE = 2.25D;\n+\n+    /**\n+     * Default predicate for all 3 vanilla blocks\n+     */\n+    public static final Predicate<BlockState> GATE_DOOR_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }\n+    };\n+\n+    /**\n+     * Only trapdoors and fence gates\n+     */\n+    public static final Predicate<BlockState> GATE_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM0MDgwMw=="}, "originalCommit": {"oid": "09aad8c64892382c23cb565b7d3f6a980b76511f"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQxMDYxMQ==", "bodyText": "wanted to give them the chance to also add state property conditions, like state.getProperty(OPEN) == true", "url": "https://github.com/ldtteam/minecolonies/pull/5886#discussion_r500410611", "createdAt": "2020-10-06T15:52:27Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAIInteractToggleAble.java", "diffHunk": "@@ -0,0 +1,254 @@\n+package com.minecolonies.coremod.entity.ai.minimal;\n+\n+import net.minecraft.block.*;\n+import net.minecraft.entity.MobEntity;\n+import net.minecraft.entity.ai.goal.Goal;\n+import net.minecraft.pathfinding.GroundPathNavigator;\n+import net.minecraft.pathfinding.Path;\n+import net.minecraft.pathfinding.PathPoint;\n+import net.minecraft.state.properties.BlockStateProperties;\n+import net.minecraft.util.math.BlockPos;\n+import org.jetbrains.annotations.NotNull;\n+\n+import java.util.*;\n+import java.util.function.Predicate;\n+\n+/**\n+ * AI Task for toggling blocks open/closed when collided\n+ */\n+public class EntityAIInteractToggleAble extends Goal\n+{\n+    /**\n+     * Number of blocks to check for the fence gate - height.\n+     */\n+    private static final int HEIGHT_TO_CHECK = 2;\n+\n+    /**\n+     * Number of blocks to check for the fence gate - length.\n+     */\n+    private static final int LENGTH_TO_CHECK = 2;\n+\n+    /**\n+     * The min distance the gate has to be from the citizen.\n+     */\n+    private static final double MIN_DISTANCE = 2.25D;\n+\n+    /**\n+     * Default predicate for all 3 vanilla blocks\n+     */\n+    public static final Predicate<BlockState> GATE_DOOR_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }\n+    };\n+\n+    /**\n+     * Only trapdoors and fence gates\n+     */\n+    public static final Predicate<BlockState> GATE_TRAP = new Predicate<BlockState>()\n+    {\n+        @Override\n+        public boolean test(final BlockState state)\n+        {\n+            final Block block = state.getBlock();\n+            return block instanceof DoorBlock || block instanceof FenceGateBlock || block instanceof TrapDoorBlock;\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDM0MDgwMw=="}, "originalCommit": {"oid": "09aad8c64892382c23cb565b7d3f6a980b76511f"}, "originalPosition": 59}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3329, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}