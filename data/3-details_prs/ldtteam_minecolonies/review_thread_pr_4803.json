{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNzkxMjkx", "number": 4803, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo1Mjo1MlrOD3xyZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMDowMTo0N1rOD3-dVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODEzOTg4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "isResolved": true, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo1Mjo1MlrOGOOjmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMDoxNjozNVrOGOPWUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw==", "bodyText": "that needs to be properly formatted and needs javadoc, same thing for the next method.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417571737", "createdAt": "2020-04-29T19:52:52Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MjcwNg==", "bodyText": "Javadoc: yes, i missed that.\nformatting: what is wrong with the formatting? i tried to make it like everything else.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417572706", "createdAt": "2020-04-29T19:54:34Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NDkwMA==", "bodyText": "the bracket is on the new line", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417574900", "createdAt": "2020-04-29T19:58:36Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NTgxMA==", "bodyText": "it was like that in clearStep so i kept it like that, or did you mean they should all get moved to a new line?", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417575810", "createdAt": "2020-04-29T20:00:07Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3Njk3Nw==", "bodyText": "all\n{\n}", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417576977", "createdAt": "2020-04-29T20:02:10Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NzE2NA==", "bodyText": "if that is in clear step then someone messed that one up (can you please put it on a new line for cleanStep too?)", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417577164", "createdAt": "2020-04-29T20:02:32Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NzUxMg==", "bodyText": "ok", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417577512", "createdAt": "2020-04-29T20:03:11Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3OTE3Nw==", "bodyText": "i hope i didn't miss any {", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417579177", "createdAt": "2020-04-29T20:06:15Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU4NDcyMg==", "bodyText": "awesome", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417584722", "createdAt": "2020-04-29T20:16:35Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +980,88 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTczNw=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODE0MTMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "isResolved": true, "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo1MzoxNVrOGOOkfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODozODoxOFrOGOfcBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ==", "bodyText": "this needs to be stored in the building class and serialized/deserialized so that it works on restart midway", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417571965", "createdAt": "2020-04-29T19:53:15Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NjA3MA==", "bodyText": "OK i will do that.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417576070", "createdAt": "2020-04-29T20:00:35Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU4Mjk1Ng==", "bodyText": "uhm, in what building class?", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417582956", "createdAt": "2020-04-29T20:13:23Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU4NDU2Nw==", "bodyText": "AbstractBuildingStructureBuilder", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417584567", "createdAt": "2020-04-29T20:16:18Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU4NDc1NQ==", "bodyText": "ok thanks", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417584755", "createdAt": "2020-04-29T20:16:39Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYwOTA3Nw==", "bodyText": "I have tried implementing this, but as i can due to the game crashing when i try to load a world with a working builder(in the dev env only) i can't test it, so i just hope it works.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417609077", "createdAt": "2020-04-29T21:01:31Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMjI0Mg==", "bodyText": "game crashing on startup of the world?", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417612242", "createdAt": "2020-04-29T21:07:24Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMjM2NA==", "bodyText": "In dev mode it should crash less not more =D", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417612364", "createdAt": "2020-04-29T21:07:38Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMzQ0Mg==", "bodyText": "yes, when i load a world in the dev env and there is a builder in it the game crashes.\ni did post that on discord some time in the past(with log), i just didn't make an issue for it because its only in the dev env.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417613442", "createdAt": "2020-04-29T21:09:43Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxNjIyMg==", "bodyText": "can you send this to me (via pm)?", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417616222", "createdAt": "2020-04-29T21:14:55Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxNjU1OA==", "bodyText": "yes.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417616558", "createdAt": "2020-04-29T21:15:37Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0ODMyNQ==", "bodyText": "This should work now...", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417848325", "createdAt": "2020-04-30T08:38:18Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -130,6 +130,11 @@\n      */\n     private int rotation = 0;\n \n+    /**\n+     * all the fluids to be removed later.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MTk2NQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODE0MzgxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/util/StructureIterator.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo1Mzo1NVrOGOOl_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowMDoyOFrOGOQzKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MjM1MQ==", "bodyText": "I think we only need fluid detect, fluid remove is independent of block progress. (It's basically while list is not empty, return same state).", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417572351", "createdAt": "2020-04-29T19:53:55Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/util/StructureIterator.java", "diffHunk": "@@ -226,11 +226,18 @@ public Result advanceBlock(final AbstractEntityAIStructure abstractEntityAIStruc\n             case CLEAR:\n                 return advanceBlocks(this.theStructure::decrementBlock,\n                   structureBlock -> structureBlock.doesStructureBlockEqualWorldBlock()\n-                                      || structureBlock.worldBlock == Blocks.AIR);\n+                                      || structureBlock.worldBlock == Blocks.AIR\n+                                      || structureBlock.worldBlock instanceof FlowingFluidBlock);\n             case BUILD:\n                 return advanceBlocks(this.theStructure::incrementBlock, structureBlock -> doesStructureBlockEqualWorldBlock(structureBlock, abstractEntityAIStructure)\n                                                                                          || structureBlock.block == Blocks.AIR\n                                                                                          || !structureBlock.metadata.getMaterial().isSolid());\n+            case FLUID_DETECT:\n+            case FLUID_REMOVE:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NDQwMw==", "bodyText": "I didn't know the step would work without this, so i left it there, i will remove it then.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417574403", "createdAt": "2020-04-29T19:57:45Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/util/StructureIterator.java", "diffHunk": "@@ -226,11 +226,18 @@ public Result advanceBlock(final AbstractEntityAIStructure abstractEntityAIStruc\n             case CLEAR:\n                 return advanceBlocks(this.theStructure::decrementBlock,\n                   structureBlock -> structureBlock.doesStructureBlockEqualWorldBlock()\n-                                      || structureBlock.worldBlock == Blocks.AIR);\n+                                      || structureBlock.worldBlock == Blocks.AIR\n+                                      || structureBlock.worldBlock instanceof FlowingFluidBlock);\n             case BUILD:\n                 return advanceBlocks(this.theStructure::incrementBlock, structureBlock -> doesStructureBlockEqualWorldBlock(structureBlock, abstractEntityAIStructure)\n                                                                                          || structureBlock.block == Blocks.AIR\n                                                                                          || !structureBlock.metadata.getMaterial().isSolid());\n+            case FLUID_DETECT:\n+            case FLUID_REMOVE:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MjM1MQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3NTkwNg==", "bodyText": "you make it a normal state (like the completion state) with the if (list.hasElements ) return getState(). else return Completion (last state)", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417575906", "createdAt": "2020-04-29T20:00:19Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/util/StructureIterator.java", "diffHunk": "@@ -226,11 +226,18 @@ public Result advanceBlock(final AbstractEntityAIStructure abstractEntityAIStruc\n             case CLEAR:\n                 return advanceBlocks(this.theStructure::decrementBlock,\n                   structureBlock -> structureBlock.doesStructureBlockEqualWorldBlock()\n-                                      || structureBlock.worldBlock == Blocks.AIR);\n+                                      || structureBlock.worldBlock == Blocks.AIR\n+                                      || structureBlock.worldBlock instanceof FlowingFluidBlock);\n             case BUILD:\n                 return advanceBlocks(this.theStructure::incrementBlock, structureBlock -> doesStructureBlockEqualWorldBlock(structureBlock, abstractEntityAIStructure)\n                                                                                          || structureBlock.block == Blocks.AIR\n                                                                                          || !structureBlock.metadata.getMaterial().isSolid());\n+            case FLUID_DETECT:\n+            case FLUID_REMOVE:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MjM1MQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYwODQ4OQ==", "bodyText": "I did this.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417608489", "createdAt": "2020-04-29T21:00:28Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/util/StructureIterator.java", "diffHunk": "@@ -226,11 +226,18 @@ public Result advanceBlock(final AbstractEntityAIStructure abstractEntityAIStruc\n             case CLEAR:\n                 return advanceBlocks(this.theStructure::decrementBlock,\n                   structureBlock -> structureBlock.doesStructureBlockEqualWorldBlock()\n-                                      || structureBlock.worldBlock == Blocks.AIR);\n+                                      || structureBlock.worldBlock == Blocks.AIR\n+                                      || structureBlock.worldBlock instanceof FlowingFluidBlock);\n             case BUILD:\n                 return advanceBlocks(this.theStructure::incrementBlock, structureBlock -> doesStructureBlockEqualWorldBlock(structureBlock, abstractEntityAIStructure)\n                                                                                          || structureBlock.block == Blocks.AIR\n                                                                                          || !structureBlock.metadata.getMaterial().isSolid());\n+            case FLUID_DETECT:\n+            case FLUID_REMOVE:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU3MjM1MQ=="}, "originalCommit": {"oid": "3368c316bbfd31a6bf7c6f158bbecefe6924ba6d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODM4Mjk3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNToxMlrOGOQ9QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMToyMToxMVrOGORd2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTA3Mg==", "bodyText": "this should be a ordered list.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417611072", "createdAt": "2020-04-29T21:05:12Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -79,6 +97,11 @@\n      */\n     private int progressCounter = 0;\n \n+    /**\n+     * all the fluids to be removed in fluids_remove.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMjQ2OQ==", "bodyText": "earlier you told me to make it an ordered map, however i forgot that and made it a tree map.\nwhat should i make it, ordered map, or list?", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417612469", "createdAt": "2020-04-29T21:07:50Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -79,6 +97,11 @@\n      */\n     private int progressCounter = 0;\n \n+    /**\n+     * all the fluids to be removed in fluids_remove.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTA3Mg=="}, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxNTI4MA==", "bodyText": "what type of map/list should this be?\njava has neither a OrderedMap nor a OrderedList.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417615280", "createdAt": "2020-04-29T21:13:14Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -79,6 +97,11 @@\n      */\n     private int progressCounter = 0;\n \n+    /**\n+     * all the fluids to be removed in fluids_remove.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTA3Mg=="}, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxNjQzMA==", "bodyText": "LinkedHashMap", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417616430", "createdAt": "2020-04-29T21:15:19Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -79,6 +97,11 @@\n      */\n     private int progressCounter = 0;\n \n+    /**\n+     * all the fluids to be removed in fluids_remove.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTA3Mg=="}, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxOTQxOA==", "bodyText": "done.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417619418", "createdAt": "2020-04-29T21:21:11Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -79,6 +97,11 @@\n      */\n     private int progressCounter = 0;\n \n+    /**\n+     * all the fluids to be removed in fluids_remove.\n+     */\n+    private Map<Integer, List<BlockPos>> fluidsToRemove = new TreeMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTA3Mg=="}, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODM4NDE5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNTozOFrOGOQ-DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNTozOFrOGOQ-DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTI3Nw==", "bodyText": "bracket", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417611277", "createdAt": "2020-04-29T21:05:38Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/AbstractBuildingStructureBuilder.java", "diffHunk": "@@ -408,4 +458,12 @@ public boolean requiresCompleteRequestFulfillment()\n     {\n         return false;\n     }\n+\n+    /**\n+     * Getter for the blocks to be removed in fluids_remove.\n+     * @return the blocks to be removed in fluids_remove.\n+     */\n+    public Map<Integer, List<BlockPos>> getFluidsToRemove() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODM4NzY3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNjo0OVrOGORAkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNjo0OVrOGORAkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMTkyMw==", "bodyText": "bracket here and of method name", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417611923", "createdAt": "2020-04-29T21:06:49Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +977,126 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    /**\n+     * Works on detecting fluid blocks that should get removed.\n+     * @param currentBlock the block that is currently being worked on.\n+     * @return the next step once done.\n+     */\n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODM4ODE3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNjo1N1rOGORA5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQyMTowNjo1N1rOGORA5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYxMjAwNA==", "bodyText": "bracket", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417612004", "createdAt": "2020-04-29T21:06:57Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -960,6 +977,126 @@ protected boolean isThereAStructureToBuild()\n         return currentStructure != null;\n     }\n \n+    /**\n+     * Works on detecting fluid blocks that should get removed.\n+     * @param currentBlock the block that is currently being worked on.\n+     * @return the next step once done.\n+     */\n+    private boolean fluidDetectStep(@NotNull final StructureIterator.StructureBlock currentBlock) {\n+        worker.getCitizenStatusHandler().setLatestStatus(new TranslationTextComponent(\"com.minecolonies.coremod.status.detecting_fluids\"));\n+        if (!walkToConstructionSite(currentStructure.getCurrentBlockPosition())) {\n+            return false;\n+        }\n+\n+        final Map<Integer,List<BlockPos>> fluidsToRemove = getOwnBuilding(AbstractBuildingStructureBuilder.class).getFluidsToRemove();\n+        if (currentBlock.block instanceof FlowingFluidBlock || currentBlock.worldBlock instanceof FlowingFluidBlock)\n+        {\n+            if(!(currentBlock.block instanceof FlowingFluidBlock))\n+            {\n+                List<BlockPos> layer;\n+                if(fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    layer = fluidsToRemove.get(currentBlock.blockPosition.getY());\n+                }\n+                else\n+                {\n+                    layer = new ArrayList<>();\n+                }\n+                layer.add(currentBlock.blockPosition);\n+                if(!fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    fluidsToRemove.put(currentBlock.blockPosition.getY(), layer);\n+                }\n+            }\n+            else if(currentBlock.worldBlock instanceof FlowingFluidBlock && currentBlock.worldBlock != currentBlock.block)\n+            {\n+                List<BlockPos> layer;\n+                if(fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    layer = fluidsToRemove.get(currentBlock.blockPosition.getY());\n+                }\n+                else\n+                {\n+                    layer = new ArrayList<>();\n+                }\n+                layer.add(currentBlock.blockPosition);\n+                if(!fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    fluidsToRemove.put(currentBlock.blockPosition.getY(), layer);\n+                }\n+            }\n+        }\n+        else if (!currentBlock.metadata.getFluidState().isEmpty() || !currentBlock.worldMetadata.getFluidState().isEmpty())\n+        {\n+            if(currentBlock.metadata.getFluidState().isEmpty())\n+            {\n+                List<BlockPos> layer;\n+                if(fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    layer = fluidsToRemove.get(currentBlock.blockPosition.getY());\n+                }\n+                else\n+                {\n+                    layer = new ArrayList<>();\n+                }\n+                layer.add(currentBlock.blockPosition);\n+                if(!fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    fluidsToRemove.put(currentBlock.blockPosition.getY(), layer);\n+                }\n+            }\n+            else if(!currentBlock.worldMetadata.getFluidState().isEmpty() && currentBlock.worldMetadata.getFluidState().getFluid() != currentBlock.metadata.getFluidState().getFluid())\n+            {\n+                List<BlockPos> layer;\n+                if(fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    layer = fluidsToRemove.get(currentBlock.blockPosition.getY());\n+                }\n+                else\n+                {\n+                    layer = new ArrayList<>();\n+                }\n+                layer.add(currentBlock.blockPosition);\n+                if(!fluidsToRemove.containsKey(currentBlock.blockPosition.getY()))\n+                {\n+                    fluidsToRemove.put(currentBlock.blockPosition.getY(), layer);\n+                }\n+            }\n+        }\n+        return true;\n+    }\n+\n+    /**\n+     * Works on removing the fluid blocks that should get removed.\n+     * @param currentBlock\n+     * @return the next step once done.\n+     */\n+    private IAIState fluidRemoveStep() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd034ba696cefc7930247a3d4c7d27fb111ee048"}, "originalPosition": 174}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMDIxNTg4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMDowMTo0N1rOGOiaLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMDowMzoyMlrOGOidWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg5NzAwNw==", "bodyText": "That's the wrong AI state you reset it =D", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417897007", "createdAt": "2020-04-30T10:01:47Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -158,7 +158,7 @@ protected AbstractEntityAIStructure(@NotNull final J job)\n           /*\n            * Check if we have to build something.\n            */\n-          new AITarget(IDLE, this::isThereAStructureToBuild, () -> START_BUILDING, 100),\n+          new AITarget(IDLE, this::isThereAStructureToBuild, () -> START_BUILDING, 1),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0c8abaffe0c5bd11684cac73975653c75d8c5c9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg5NzgxOQ==", "bodyText": "I wonder why tho, i just pressed ctrl+z to undo the last change.", "url": "https://github.com/ldtteam/minecolonies/pull/4803#discussion_r417897819", "createdAt": "2020-04-30T10:03:22Z", "author": {"login": "ToMe25"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -158,7 +158,7 @@ protected AbstractEntityAIStructure(@NotNull final J job)\n           /*\n            * Check if we have to build something.\n            */\n-          new AITarget(IDLE, this::isThereAStructureToBuild, () -> START_BUILDING, 100),\n+          new AITarget(IDLE, this::isThereAStructureToBuild, () -> START_BUILDING, 1),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg5NzAwNw=="}, "originalCommit": {"oid": "e0c8abaffe0c5bd11684cac73975653c75d8c5c9"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3157, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}