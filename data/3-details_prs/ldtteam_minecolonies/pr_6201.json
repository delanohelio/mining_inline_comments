{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMDQ3NDc2", "number": 6201, "title": "Add loot tables to customrecipes", "bodyText": "Changes proposed in this pull request:\n\nAdd base functionality to recipestorage to store and generate loot from loot tables\nAdd definition of loot tables & secondary outputs to custom recipes\nAdd flint @ 10% rate to the Crusher's gravel recipes.\n\nReview please", "createdAt": "2020-12-05T17:03:33Z", "url": "https://github.com/ldtteam/minecolonies/pull/6201", "merged": true, "mergeCommit": {"oid": "1a3ac6d22cb1f26f00f59b57d975bd222d4eb495"}, "closed": true, "closedAt": "2020-12-07T20:03:25Z", "author": {"login": "Mekle001"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjPZF1AH2gAyNTMzMDQ3NDc2OjZiNDMxNGUzNDlmNTc5NWNmNjIxYTc0OTNmNTRjYTFhNjZhNDA2Y2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj6_wXgFqTU0NjQ4MTY5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b4314e349f5795cf621a7493f54ca1a66a406cd", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/6b4314e349f5795cf621a7493f54ca1a66a406cd", "committedDate": "2020-12-05T17:00:34Z", "message": "Support loottables in recipestorage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b25ff18039fab516ebd1f7fe17c27e171e21ee8b", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/b25ff18039fab516ebd1f7fe17c27e171e21ee8b", "committedDate": "2020-12-05T17:00:50Z", "message": "Add loottablesto custom recipes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NjAxNTM3", "url": "https://github.com/ldtteam/minecolonies/pull/6201#pullrequestreview-545601537", "createdAt": "2020-12-05T17:05:26Z", "commit": {"oid": "b25ff18039fab516ebd1f7fe17c27e171e21ee8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNzowNToyNlrOH_9HrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNzowNToyNlrOH_9HrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjgyMzcyNA==", "bodyText": "either the message is off here, or sth else is wrong", "url": "https://github.com/ldtteam/minecolonies/pull/6201#discussion_r536823724", "createdAt": "2020-12-05T17:05:26Z", "author": {"login": "Raycoms"}, "path": "src/api/java/com/minecolonies/api/crafting/IRecipeStorageFactory.java", "diffHunk": "@@ -68,6 +68,11 @@ default RecipeStorage getNewInstance(@NotNull final IFactoryController factoryCo\n             throw new IllegalArgumentException(\"Eighth parameter is supposed to be a List<ItemStack> or Null!\");\n         }\n \n+        if (context.length > MIN_PARAMS_IRECIPESTORAGE + 5 && context[8] != null && !(context[8] instanceof ResourceLocation))\n+        {\n+            throw new IllegalArgumentException(\"Eighth parameter is supposed to be a List<ItemStack> or Null!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25ff18039fab516ebd1f7fe17c27e171e21ee8b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NjAxNjU1", "url": "https://github.com/ldtteam/minecolonies/pull/6201#pullrequestreview-545601655", "createdAt": "2020-12-05T17:07:27Z", "commit": {"oid": "b25ff18039fab516ebd1f7fe17c27e171e21ee8b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNzowNzoyN1rOH_9JCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNzowNzoyN1rOH_9JCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjgyNDA3NQ==", "bodyText": "won't this crash if null?", "url": "https://github.com/ldtteam/minecolonies/pull/6201#discussion_r536824075", "createdAt": "2020-12-05T17:07:27Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/crafting/RecipeStorageFactory.java", "diffHunk": "@@ -207,6 +219,8 @@ public void serialize(IFactoryController controller, RecipeStorage input, Packet\n         packetBuffer.writeInt(input.getSecondaryOutputs().size());\n         input.getSecondaryOutputs().forEach(stack -> packetBuffer.writeItemStack(stack));\n \n+        packetBuffer.writeResourceLocation(input.getLootTable());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25ff18039fab516ebd1f7fe17c27e171e21ee8b"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5057d79ac1714c3f0c316cfda9fffd96325f9be", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/c5057d79ac1714c3f0c316cfda9fffd96325f9be", "committedDate": "2020-12-05T17:07:50Z", "message": "Fix Message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01e6b67e3e967c8cf2c9a8feed238e4b84da77bc", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/01e6b67e3e967c8cf2c9a8feed238e4b84da77bc", "committedDate": "2020-12-05T17:11:44Z", "message": "Remove spam and unnecessary imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8932661f3b4a6a0939af79fe37076cbbedfa847", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/b8932661f3b4a6a0939af79fe37076cbbedfa847", "committedDate": "2020-12-05T17:21:01Z", "message": "Null check the loottable for network packet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b5b487f43ac40dff512dfeac5f88debd9bad097", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/3b5b487f43ac40dff512dfeac5f88debd9bad097", "committedDate": "2020-12-05T17:33:02Z", "message": "Fix missed propagation of secondary outputs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDgxNjk5", "url": "https://github.com/ldtteam/minecolonies/pull/6201#pullrequestreview-546481699", "createdAt": "2020-12-07T19:48:43Z", "commit": {"oid": "3b5b487f43ac40dff512dfeac5f88debd9bad097"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1706, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}