{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNjcyNDY1", "number": 6020, "title": "Fast/compost", "bodyText": "Changes proposed in this pull request:\n\nAccelerate barrels based on Primary Skill level, similar to the way we accelerate furnaces.\n\nReview please", "createdAt": "2020-11-01T18:46:22Z", "url": "https://github.com/ldtteam/minecolonies/pull/6020", "merged": true, "mergeCommit": {"oid": "28b116f8a4b9b589c540ab9d1e07342fc7725f16"}, "closed": true, "closedAt": "2020-11-03T09:11:51Z", "author": {"login": "Mekle001"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYUgSRgH2gAyNTEzNjcyNDY1OjgwMjk4OWE3OTc4ZjU2YmViZDZlODExNDFmOWYxZDRmZTY0NjA3OWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY1fK9AH2gAyNTEzNjcyNDY1OmRmOTQwMWY5MjFkNzcwMTZiZGQ2NWZkMzYzNGQyZjcyYjI3NGU2NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "802989a7978f56bebd6e81141f9f1d4fe646079c", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/802989a7978f56bebd6e81141f9f1d4fe646079c", "committedDate": "2020-11-01T18:44:47Z", "message": "add barrel acceleration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13eb0ee0d45d23955473a98aa05b95fe562a3514", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/13eb0ee0d45d23955473a98aa05b95fe562a3514", "committedDate": "2020-11-01T18:45:12Z", "message": "ensure that we don't block when accellerating"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjU1NjEx", "url": "https://github.com/ldtteam/minecolonies/pull/6020#pullrequestreview-521255611", "createdAt": "2020-11-01T19:57:26Z", "commit": {"oid": "13eb0ee0d45d23955473a98aa05b95fe562a3514"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxOTo1NzoyN1rOHrxrOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxOTo1ODoyOVrOHrxrlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NDY5OQ==", "bodyText": "Is this even valid?\nThis should probably return some same default state.", "url": "https://github.com/ldtteam/minecolonies/pull/6020#discussion_r515664699", "createdAt": "2020-11-01T19:57:27Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIUsesFurnace.java", "diffHunk": "@@ -231,7 +231,7 @@ private IAIState accelerateFurnaces()\n                 }\n             }\n         }\n-        return getState();\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13eb0ee0d45d23955473a98aa05b95fe562a3514"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NDc5MA==", "bodyText": "Again return some same default state here.", "url": "https://github.com/ldtteam/minecolonies/pull/6020#discussion_r515664790", "createdAt": "2020-11-01T19:58:29Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/composter/EntityAIWorkComposter.java", "diffHunk": "@@ -92,6 +97,35 @@ public EntityAIWorkComposter(@NotNull final JobComposter job)\n         worker.setCanPickUpLoot(true);\n     }\n \n+    /**\n+     * Actually accelerate the Barrels\n+     */\n+    private IAIState accelerateBarrels()\n+    {\n+        final int accelerationTicks = (worker.getCitizenData().getCitizenSkillHandler().getLevel(getOwnBuilding().getPrimarySkill()) / 10) * 2;\n+        final World world = getOwnBuilding().getColony().getWorld();\n+        for (final BlockPos pos : getOwnBuilding().getBarrels())\n+        {\n+            if (WorldUtil.isBlockLoaded(world, pos))\n+            {\n+                final TileEntity entity = world.getTileEntity(pos);\n+                if (entity instanceof TileEntityBarrel)\n+                {\n+                    final TileEntityBarrel barrel = (TileEntityBarrel) entity;\n+                    for(int i = 0; i < accelerationTicks; i++)\n+                    {\n+                        if (barrel.checkIfWorking() && !barrel.isDone())\n+                        {\n+                            barrel.tick();\n+                        }\n+                    }\n+                }\n+            }\n+        }\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13eb0ee0d45d23955473a98aa05b95fe562a3514"}, "originalPosition": 60}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMjkwNzc4", "url": "https://github.com/ldtteam/minecolonies/pull/6020#pullrequestreview-522290778", "createdAt": "2020-11-03T08:59:17Z", "commit": {"oid": "13eb0ee0d45d23955473a98aa05b95fe562a3514"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df9401f921d77016bdd65fd3634d2f72b274e673", "author": {"user": {"login": "OrionDevelopment", "name": "Marc Hermans"}}, "url": "https://github.com/ldtteam/minecolonies/commit/df9401f921d77016bdd65fd3634d2f72b274e673", "committedDate": "2020-11-03T09:10:26Z", "message": "Merge branch 'version/1.15' into fast/compost"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1805, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}