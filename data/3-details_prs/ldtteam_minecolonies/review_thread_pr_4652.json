{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0NzAwMjYx", "number": 4652, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQyMDozOTo0M1rODyqqlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzo0NlrODzBBtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NDU0NDIyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAISleep.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQyMDozOTo0M1rOGG2UdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQyMDo0ODowNVrOGG2lJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzNDYxMg==", "bodyText": "probably better to make this an instanceof JobFisherman", "url": "https://github.com/ldtteam/minecolonies/pull/4652#discussion_r409834612", "createdAt": "2020-04-16T20:39:43Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAISleep.java", "diffHunk": "@@ -160,6 +162,13 @@ public void tick()\n         // Go home\n         if (!citizen.getCitizenColonyHandler().isAtHome())\n         {\n+            AbstractJob job = (AbstractJob) citizen.getCitizenData().getJob();\n+            if(job.getName() != null) {\n+                if (job.getName().contains(\"Fisherman\")) {\n+                    EntityAIWorkFisherman fishJob = (EntityAIWorkFisherman) citizen.getCitizenData().getJob().getWorkerAI();\n+                    fishJob.retrieveRod();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "535dd8a8e5a2811d795e2c7b1d6411fd5954f1d0"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzODg4Nw==", "bodyText": "I couldn't quite get that to work because that was my first thing I tried. Let me go at it again and I'll update it! :D", "url": "https://github.com/ldtteam/minecolonies/pull/4652#discussion_r409838887", "createdAt": "2020-04-16T20:48:05Z", "author": {"login": "iiEpic"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/minimal/EntityAISleep.java", "diffHunk": "@@ -160,6 +162,13 @@ public void tick()\n         // Go home\n         if (!citizen.getCitizenColonyHandler().isAtHome())\n         {\n+            AbstractJob job = (AbstractJob) citizen.getCitizenData().getJob();\n+            if(job.getName() != null) {\n+                if (job.getName().contains(\"Fisherman\")) {\n+                    EntityAIWorkFisherman fishJob = (EntityAIWorkFisherman) citizen.getCitizenData().getJob().getWorkerAI();\n+                    fishJob.retrieveRod();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzNDYxMg=="}, "originalCommit": {"oid": "535dd8a8e5a2811d795e2c7b1d6411fd5954f1d0"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODIwNjMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/fisherman/EntityAIWorkFisherman.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzoxM1rOGHaDLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzoxM1rOGHaDLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyMDAxNQ==", "bodyText": "missing", "url": "https://github.com/ldtteam/minecolonies/pull/4652#discussion_r410420015", "createdAt": "2020-04-17T19:13:13Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/fisherman/EntityAIWorkFisherman.java", "diffHunk": "@@ -649,11 +649,13 @@ private boolean caughtFish()\n      */\n     private void retrieveRod()\n     {\n-        worker.swingArm(worker.getActiveHand());\n-        final int i = entityFishHook.getDamage();\n-        entityFishHook.remove();\n-        worker.getCitizenItemHandler().damageItemInHand(Hand.MAIN_HAND, i);\n-        entityFishHook = null;\n+        if(entityFishHook != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b703118911373fc58903d1064f7b5dc9f09c1f5e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODIwNzQxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/NewBobberEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzozM1rOGHaD1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzozM1rOGHaD1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyMDE4Mg==", "bodyText": "add javadoc and remove whitspace (also format)", "url": "https://github.com/ldtteam/minecolonies/pull/4652#discussion_r410420182", "createdAt": "2020-04-17T19:13:33Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/NewBobberEntity.java", "diffHunk": "@@ -573,6 +587,8 @@ public boolean isReadyToCatch()\n         return readyToCatch;\n     }\n \n+    public void setInUse() { this.tickRemove = 100; }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b703118911373fc58903d1064f7b5dc9f09c1f5e"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0ODIwNzkwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/NewBobberEntity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzo0NlrOGHaEMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxOToxMzo0NlrOGHaEMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyMDI3NA==", "bodyText": "also remove extra whitespace around here", "url": "https://github.com/ldtteam/minecolonies/pull/4652#discussion_r410420274", "createdAt": "2020-04-17T19:13:46Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/NewBobberEntity.java", "diffHunk": "@@ -143,7 +145,18 @@ public void setPositionAndRotationDirect(double x, double y, double z, float yaw\n      */\n     public void tick()\n     {\n+\n         super.tick();\n+\n+        if(!this.world.isRemote())\n+        {\n+            if (--this.tickRemove <= 0)\n+            {\n+                this.remove();\n+                return;\n+            }\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b703118911373fc58903d1064f7b5dc9f09c1f5e"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3141, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}