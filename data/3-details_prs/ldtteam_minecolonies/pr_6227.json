{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1Nzg5NTgw", "number": 6227, "title": "fix fishman Keep looking for the pond", "bodyText": "Closes #\nCloses #\nCloses #\nChanges proposed in this pull request:\n-the fishman should not go to find pond when fishman can find water but cant find pond. Maybe it's a problem with the ponds finding algorithm. Anyway, my fisherman found 18 ponds, and if he go down, he get a result but the pond =null.then he get stuck in an endless loop\n\n\n\nReview please", "createdAt": "2020-12-10T09:27:08Z", "url": "https://github.com/ldtteam/minecolonies/pull/6227", "merged": true, "mergeCommit": {"oid": "c1bd9ca34a8a2df81d8da7c7c50ecb1889ced286"}, "closed": true, "closedAt": "2020-12-10T19:53:09Z", "author": {"login": "1357885013"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkv2cjgH2gAyNTM1Nzg5NTgwOjc0MjMwYWUyOWFjZTI3MjZiNDE1YTVjNjMzMDYzYWQxODU3ZDE5YmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk4oPogFqTU0OTUzODI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "74230ae29ace2726b415a5c633063ad1857d19bc", "author": {"user": {"login": "1357885013", "name": "LiuJiJiang"}}, "url": "https://github.com/ldtteam/minecolonies/commit/74230ae29ace2726b415a5c633063ad1857d19bc", "committedDate": "2020-12-10T09:23:31Z", "message": "[bug fix] the fishman should not go to find pond when fishman can find water but cant find pond. Maybe it's a problem with the ponds finding algorithm. Anyway, my fisherman found 18 ponds, and if he go down, he get a result but the pond =null.then he get stuck in an endless loop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDAyNTE5", "url": "https://github.com/ldtteam/minecolonies/pull/6227#pullrequestreview-549002519", "createdAt": "2020-12-10T09:30:32Z", "commit": {"oid": "74230ae29ace2726b415a5c633063ad1857d19bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwOTozMDozMlrOIC_pFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwOTozMDozMlrOIC_pFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAxMDc3Mg==", "bodyText": "Good point, can you adjust the formatting her (use whitespaces similar to the previous if)", "url": "https://github.com/ldtteam/minecolonies/pull/6227#discussion_r540010772", "createdAt": "2020-12-10T09:30:32Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/fisherman/EntityAIWorkFisherman.java", "diffHunk": "@@ -327,7 +327,8 @@ private IAIState findWater()\n         executedRotations = 0;\n         //If he can't find any pond, tell that to the player\n         //If 20 ponds are already stored, take a random stored location\n-        if (job.getPonds().size() >= MAX_PONDS)\n+        //the fishman should not go to find water when fishman can find water but cant find pond\n+        if (job.getPonds().size() >= MAX_PONDS||(lastPathResult!=null&&lastPathResult.pond==null&&job.getPonds().size()>0))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74230ae29ace2726b415a5c633063ad1857d19bc"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "560d69be75989ec0315bffe86cf2aa1e07e265ac", "author": {"user": {"login": "1357885013", "name": "LiuJiJiang"}}, "url": "https://github.com/ldtteam/minecolonies/commit/560d69be75989ec0315bffe86cf2aa1e07e265ac", "committedDate": "2020-12-10T09:39:45Z", "message": "adjust the format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NTM4Mjg5", "url": "https://github.com/ldtteam/minecolonies/pull/6227#pullrequestreview-549538289", "createdAt": "2020-12-10T19:37:09Z", "commit": {"oid": "560d69be75989ec0315bffe86cf2aa1e07e265ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1717, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}