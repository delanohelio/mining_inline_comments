{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MzExMDA3", "number": 5688, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyNzo0NVrOEeepEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODo0MFrOEeeqEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMzk0NzcxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyNzo0NVrOHKJ0ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyNzo0NVrOHKJ0ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQwODY5OQ==", "bodyText": "constant please", "url": "https://github.com/ldtteam/minecolonies/pull/5688#discussion_r480408699", "createdAt": "2020-08-31T21:27:45Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "diffHunk": "@@ -194,7 +195,7 @@ public Level(@NotNull final CompoundNBT compound)\n     public Node getRandomNode(@Nullable final Node node)\n     {\n         Node nextNode = null;\n-        if (node != null && rand.nextInt(RANDOM_TYPES) > 0)\n+        if (node != null && getNumberOfBuiltNodes() > 10 && rand.nextInt(RANDOM_TYPES) > 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f4efa1435d9f611ff6ac3e8ac0eb1c486a6101a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMzk0ODY2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODowNFrOHKJ1Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODowNFrOHKJ1Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQwODg1MA==", "bodyText": "I'd say .error -> Please tell the mod authors about this.", "url": "https://github.com/ldtteam/minecolonies/pull/5688#discussion_r480408850", "createdAt": "2020-08-31T21:28:04Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "diffHunk": "@@ -230,6 +231,9 @@ public void closeNextNode(final int rotation, final Node node)\n                 nodeCenterList.add(getNextNodePositionFromNodeWithRotation(tempNode, rotation, ROTATE_ONCE));\n                 nodeCenterList.add(getNextNodePositionFromNodeWithRotation(tempNode, rotation, ROTATE_THREE_TIMES));\n                 break;\n+            case UNDEFINED:\n+                Log.getLogger().warn(\"Node: \" + node.getX() + \":\" + node.getZ() +\" style undefined, not creating children\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f4efa1435d9f611ff6ac3e8ac0eb1c486a6101a"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMzk0OTA4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODoxN1rOHKJ1XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODoxN1rOHKJ1XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQwODkyNA==", "bodyText": "same here potentially", "url": "https://github.com/ldtteam/minecolonies/pull/5688#discussion_r480408924", "createdAt": "2020-08-31T21:28:17Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Level.java", "diffHunk": "@@ -245,8 +249,14 @@ public void closeNextNode(final int rotation, final Node node)\n             nodes.put(pos, tempNodeToAdd);\n             openNodes.add(tempNodeToAdd);\n         }\n-        nodes.get(new Vec2i(tempNode.getX(), tempNode.getZ())).setStatus(Node.NodeStatus.COMPLETED);\n+        Node I = nodes.get(new Vec2i(tempNode.getX(), tempNode.getZ()));\n+        if(!tempNode.equals(I))\n+        {\n+            Log.getLogger().warn(\"Nodes not equal during close\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f4efa1435d9f611ff6ac3e8ac0eb1c486a6101a"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMzk0OTg4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Node.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODozM1rOHKJ13w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODozM1rOHKJ13w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQwOTA1NQ==", "bodyText": "wrong logger", "url": "https://github.com/ldtteam/minecolonies/pull/5688#discussion_r480409055", "createdAt": "2020-08-31T21:28:33Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Node.java", "diffHunk": "@@ -127,9 +139,18 @@ public static Node createFromNBT(@NotNull final CompoundNBT compound)\n \n         //Set the node status in all directions.\n         @NotNull final Node node = new Node(x, z, parent);\n+        if(style == NodeType.UNDEFINED)\n+        {\n+            com.ldtteam.blockout.Log.getLogger().warn(\"Node \" + x + \",\" + z + \" has an undefined style\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f4efa1435d9f611ff6ac3e8ac0eb1c486a6101a"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMzk1MDI1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Node.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODo0MFrOHKJ2FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMToyODo0MFrOHKJ2FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQwOTEwOQ==", "bodyText": "javadoc", "url": "https://github.com/ldtteam/minecolonies/pull/5688#discussion_r480409109", "createdAt": "2020-08-31T21:28:40Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/miner/Node.java", "diffHunk": "@@ -367,6 +393,18 @@ public int hashCode()\n         //Crossroad structure\n         CROSSROAD,\n         //Bending tunnle\n-        BEND\n+        BEND,\n+        //New node, undefined\n+        UNDEFINED\n+    }\n+\n+    public Optional<Integer> getRot()\n+    {\n+        return rot;\n+    }\n+\n+    public void setRot(int rot)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f4efa1435d9f611ff6ac3e8ac0eb1c486a6101a"}, "originalPosition": 105}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3457, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}