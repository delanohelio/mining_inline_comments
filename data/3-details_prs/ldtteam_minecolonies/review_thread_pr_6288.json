{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1MDYwMDAz", "number": 6288, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjoxMVrOFIyKaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoyMToxN1rOFJLCgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzU0NzkzOnYy", "diffSide": "RIGHT", "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjoxMVrOIK6BOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjoxMVrOIK6BOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzI1Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrades requires\",\n          \n          \n            \n              \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrade requires\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307257", "createdAt": "2020-12-23T22:52:11Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -1174,6 +1176,10 @@\n   \"com.minecolonies.coremod.gui.townhall.buildinglevel\": \"Building level\",\n \n   \"com.minecolonies.coremod.gui.warehouse.sort\": \"Sort\",\n+  \"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\": \"Sorting requires\",\n+  \"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\": \"Warehouse Level %s\",\n+  \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrades requires\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzU0ODQ0OnYy", "diffSide": "RIGHT", "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjozMlrOIK6Bgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjozMlrOIK6Bgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzMzMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, begin research at the University.\",\n          \n          \n            \n              \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, complete the research at the University.\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307330", "createdAt": "2020-12-23T22:52:32Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -1157,6 +1158,7 @@\n   \"com.minecolonies.coremod.progress.manual_employment_on\": \"\u00a76 Workers are complaining about a long walk to their work. You can manually assign them to the closest houses, if the option is turned on in the Town Hall settings.\",\n   \"com.minecolonies.coremod.progress.ten_citizens_spawned\": \"\u00a76 A growing colony increases the burdens on your settlers. You should consider upgrading your work huts.\",\n   \"com.minecolonies.coremod.progress.twenty_building_levels\": \"\u00a76 A barbarian spy had been caught next to your colony, and he seems to be from a bigger group! You should consider building Barracks to defend your colony.\",\n+  \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, begin research at the University.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzU1MDQ2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1Mzo0OFrOIK6CsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1Mzo0OFrOIK6CsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzYzMw==", "bodyText": "sortButton.disable and add disable texture to xml", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307633", "createdAt": "2020-12-23T22:53:48Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));\n+            sortButton.setHoverToolTip(hoverText);\n+            sortButton.setImage(new ResourceLocation(Constants.MOD_ID, \"textures/gui/builderhut/builder_button_medium_large_disabled.png\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzU1MjY4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1NTowMlrOIK6D3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOToyNTowMlrOILDl5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzkzNA==", "bodyText": "probably might be worth using \\n instead, I also think that tooltip renderer has auto wrapping but not sure about that", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307934", "createdAt": "2020-12-23T22:55:02Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMxMTU1OA==", "bodyText": "Is there a particular trick to getting translation text components to like \\n?  I couldn't figure out how to escape them being parsed.\nI did see the underlying tooltip rendering's autowrapping, but I couldn't find how to toggle it on; Pane and descendents pretty consistently use renderToolTip over renderWrappedToolTip.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548311558", "createdAt": "2020-12-23T23:03:43Z", "author": {"login": "gattsuru"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzkzNA=="}, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2NDEwMQ==", "bodyText": "No, this is fine.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548464101", "createdAt": "2020-12-24T09:25:02Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzkzNA=="}, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NzU1NDg0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1NjowNVrOIK6E8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1NjowNVrOIK6E8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwODIwOA==", "bodyText": "variable name", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548308208", "createdAt": "2020-12-23T22:56:05Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -208,9 +226,12 @@ private void updateResourcePane()\n         neededLabel.setLabelText(resource.getAvailable() + \" / \" + resource.getAmount());\n         findPaneOfTypeByID(RESOURCE_QUANTITY_MISSING, Label.class).setLabelText(Integer.toString(resource.getAmount() - resource.getAvailable()));\n \n-        final ItemStack image = new ItemStack(resource.getItem(), 1);\n-        image.setTag(resource.getItemStack().getTag());\n-        findPaneOfTypeByID(RESOURCE_ICON, ItemIcon.class).setItem(image);\n+        if(building.getBuildingLevel() >= building.getBuildingMaxLevel())\n+        {\n+            final ItemStack image = new ItemStack(resource.getItem(), 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0ODY0MTczOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowTownHall.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOToyNjoyMVrOILDn3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOToyNjoyMVrOILDn3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2NDYwNA==", "bodyText": "While you're on this, there is a small bug here that was reported, citizensSize is also the count limit, instead of the total number of existing citizens", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548464604", "createdAt": "2020-12-24T09:26:21Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowTownHall.java", "diffHunk": "@@ -591,10 +591,11 @@ private void createAndSetStatistics()\n \n         findPaneOfTypeByID(HAPPINESS_LABEL, Label.class).setLabelText(roundedHappiness);\n         final int citizensSize = townHall.getColony().getCitizenCountLimit();\n+        final AdditionModifierResearchEffect citizenCapBoost = this.building.getColony().getResearchManager().getResearchEffects().getEffect(CAP, AdditionModifierResearchEffect.class);\n+        final int citizensCap = (int)(Math.min(MineColonies.getConfig().getServer().maxCitizenPerColony.get(), citizenCapBoost != null ? 25 + citizenCapBoost.getEffect() : 25));\n \n-        final String numberOfCitizens =\n-          LanguageHandler.format(COM_MINECOLONIES_COREMOD_GUI_TOWNHALL_POPULATION_TOTALCITIZENS, citizensSize, townHall.getColony().getCitizenCountLimit());\n-        findPaneOfTypeByID(TOTAL_CITIZENS_LABEL, Label.class).setLabelText(numberOfCitizens);\n+        findPaneOfTypeByID(TOTAL_CITIZENS_LABEL, Label.class).setLabelText\n+                     (LanguageHandler.format(COM_MINECOLONIES_COREMOD_GUI_TOWNHALL_POPULATION_TOTALCITIZENS, citizensSize, townHall.getColony().getCitizenCountLimit(), citizensCap));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0ODcxMDQ5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOTo1NjoyOFrOILEOKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOTo1NjoyOFrOILEOKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ3NDQxMA==", "bodyText": "just use the world ticks here for timing I'd say.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548474410", "createdAt": "2020-12-24T09:56:28Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -119,7 +126,18 @@ public void dumpInventoryIntoWareHouse(@NotNull final InventoryCitizen inventory\n             @Nullable final TileEntity chest = searchRightChestForStack(stack);\n             if (chest == null)\n             {\n-                LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL);\n+                if(System.currentTimeMillis() - lastNotification > FIVE_MINUTES_IN_MILLIS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MDM5NjQ4OnYy", "diffSide": "RIGHT", "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxOTo1Njo1MFrOILUdBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxOTo1Njo1MFrOILUdBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0MDM1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research At University\",\n          \n          \n            \n              \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research at University\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548740358", "createdAt": "2020-12-24T19:56:50Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -604,7 +604,11 @@\n   \"com.minecolonies.coremod.gui.townhall.togglespec\": \"Toggle Specialization\",\n   \"com.minecolonies.coremod.gui.townhall.actions\": \"Actions\",\n   \"com.minecolonies.coremod.gui.townhall.jobhiring\": \"Worker Hiring Mode:\",\n-  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens\": \"Number of Citizens: %d/%d\",\n+  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens\": \"Number of Citizens: \",\n+  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens.count\": \"%d/%d\",\n+  \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.houselimited\": \"Needs Housing\",\n+  \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research At University\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98ff6e5a553cf4bc0f0c4215ea109e4b31fb94e4"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MDQyMzcxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyMjo1MlrOILUqvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDo0MTo1MlrOILUzJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0Mzg3MA==", "bodyText": "So, emerald block makes sense at level 5, but a warehouse full at level 4 this message is confusing.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548743870", "createdAt": "2020-12-24T20:22:52Z", "author": {"login": "Mekle001"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -119,7 +126,18 @@ public void dumpInventoryIntoWareHouse(@NotNull final InventoryCitizen inventory\n             @Nullable final TileEntity chest = searchRightChestForStack(stack);\n             if (chest == null)\n             {\n-                LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL);\n+                if(world.getGameTime() - lastNotification > TICKS_FIVE_MIN)\n+                {\n+                    lastNotification = world.getGameTime();\n+                    if(getBuilding().getBuildingLevel() == getBuilding().getMaxBuildingLevel())\n+                    {\n+                        LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL_MAX_UPGRADE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NjAyMg==", "bodyText": "It should only give the \"The Warehouse is full, please use an emerald block to make more space in the racks!\" message at level five.  At level four, it will give \"The Warehouse is full, please upgrade it!\".  Did I goof that up, or does the level four or lower message need different wording?\nI guess it might make sense to add a third message for when the warehouse is T5 and has all of its emerald upgrades, if that's the concern.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548746022", "createdAt": "2020-12-24T20:41:52Z", "author": {"login": "gattsuru"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -119,7 +126,18 @@ public void dumpInventoryIntoWareHouse(@NotNull final InventoryCitizen inventory\n             @Nullable final TileEntity chest = searchRightChestForStack(stack);\n             if (chest == null)\n             {\n-                LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL);\n+                if(world.getGameTime() - lastNotification > TICKS_FIVE_MIN)\n+                {\n+                    lastNotification = world.getGameTime();\n+                    if(getBuilding().getBuildingLevel() == getBuilding().getMaxBuildingLevel())\n+                    {\n+                        LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL_MAX_UPGRADE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0Mzg3MA=="}, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MDQyNjI0OnYy", "diffSide": "RIGHT", "path": "src/main/resources/data/minecolonies/tags/items/mechanic_ingredient.json", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyNToyNlrOILUr6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMTozMjoxMVrOILVIsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NDE2OQ==", "bodyText": "If we're allowing compression to blocks here, do we also want to allow decompression, and add the glowstone block?", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548744169", "createdAt": "2020-12-24T20:25:26Z", "author": {"login": "Mekle001"}, "path": "src/main/resources/data/minecolonies/tags/items/mechanic_ingredient.json", "diffHunk": "@@ -7,6 +7,7 @@\n     \"minecraft:blaze_rod\",\n     \"minecraft:ender_pearl\",\n     \"minecraft:ender_eye\",\n-    \"minecraft:redstone_torch\"\n+    \"minecraft:redstone_torch\",\n+    \"minecraft:glowstone_dust\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NjI4OQ==", "bodyText": "It's possible, but that almost feels more of a Crusher job, especially since the Crusher's better equipped to give better output rates as the building is upgraded.\nUp to you all, of course.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548746289", "createdAt": "2020-12-24T20:44:23Z", "author": {"login": "gattsuru"}, "path": "src/main/resources/data/minecolonies/tags/items/mechanic_ingredient.json", "diffHunk": "@@ -7,6 +7,7 @@\n     \"minecraft:blaze_rod\",\n     \"minecraft:ender_pearl\",\n     \"minecraft:ender_eye\",\n-    \"minecraft:redstone_torch\"\n+    \"minecraft:redstone_torch\",\n+    \"minecraft:glowstone_dust\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NDE2OQ=="}, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc1MTUzNw==", "bodyText": "Yeah, I agree that the crusher might be the best place. If I remember correctly, vanilla doesn't have a block -> dust recipe, but  many modpacks do. If we enable the recipe at the crusher, it will be the first 'taught' recipe that the crusher has, unless we want to enable this as a custom recipe that allows it in vanilla. That last I'd like to hold off on, as that starts to go down the path of non-deterministic inputs to output ratios, which probably won't be supported for a while.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548751537", "createdAt": "2020-12-24T21:32:11Z", "author": {"login": "Mekle001"}, "path": "src/main/resources/data/minecolonies/tags/items/mechanic_ingredient.json", "diffHunk": "@@ -7,6 +7,7 @@\n     \"minecraft:blaze_rod\",\n     \"minecraft:ender_pearl\",\n     \"minecraft:ender_eye\",\n-    \"minecraft:redstone_torch\"\n+    \"minecraft:redstone_torch\",\n+    \"minecraft:glowstone_dust\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NDE2OQ=="}, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTYxNjM5OnYy", "diffSide": "RIGHT", "path": "src/api/java/com/minecolonies/api/util/constant/Constants.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoxMToyNlrOILd0-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoxMToyNlrOILd0-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5Mzk0Nw==", "bodyText": "Small nitpick if you are going to push something else before merge:\nThis value should be something like TICKS_SECOND * SECONDS_A_MINUTE * 5\nYou can fix the above too", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548893947", "createdAt": "2020-12-25T17:11:26Z", "author": {"login": "Nightenom"}, "path": "src/api/java/com/minecolonies/api/util/constant/Constants.java", "diffHunk": "@@ -47,6 +47,7 @@\n     public static final int    UPDATE_FLAG                      = 0x03;\n     public static final int    TICKS_HOUR                       = TICKS_SECOND * SECONDS_A_MINUTE * SECONDS_A_MINUTE;\n     public static final int    TICKS_FOURTY_MIN                 = 48000;\n+    public static final int    TICKS_FIVE_MIN                   = 6000;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTYyMjc4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoxOToxOVrOILd33Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoxOToxOVrOILd33Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDY4NQ==", "bodyText": "This method and the command build seems to be dupe code to me, might be worth to merge \"raid now\" and \"raid tonight\" into one command with a boolean flag.\nAt least try to make common logic abstract.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548894685", "createdAt": "2020-12-25T17:19:19Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "diffHunk": "@@ -36,6 +41,32 @@ public int onExecute(final CommandContext<CommandSource> context)\n         return 0;\n     }\n \n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTYyMzcxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoyMToxN1rOILd4TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxOTo1ODo1MFrOILenuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDc5Nw==", "bodyText": "This should be probably handled from some kind of registry or at least a list of raid types", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548894797", "createdAt": "2020-12-25T17:21:17Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "diffHunk": "@@ -48,7 +79,18 @@ public String getName()\n     @Override\n     public LiteralArgumentBuilder<CommandSource> build()\n     {\n+        String[] s = new String[5];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwNjkzNw==", "bodyText": "If a registry, any preferences on where to put it?  It's not exactly com.minecolonies.api.entities or com.minecolonies.api.colony.colonyEvents, but feels a little ostentatious making a separate package like com.minecolonies.api.colony.raidTypes to carry five strings.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548906937", "createdAt": "2020-12-25T19:58:50Z", "author": {"login": "gattsuru"}, "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "diffHunk": "@@ -48,7 +79,18 @@ public String getName()\n     @Override\n     public LiteralArgumentBuilder<CommandSource> build()\n     {\n+        String[] s = new String[5];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDc5Nw=="}, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3309, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}