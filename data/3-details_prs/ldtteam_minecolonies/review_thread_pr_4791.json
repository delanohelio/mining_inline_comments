{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMDY5MDEw", "number": 4791, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNTo0MDozN1rOD3e3FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNTo0MDozN1rOD3e3FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTAzODkzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/event/EventHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNTo0MDozN1rOGNwZ3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNTo0MDozN1rOGNwZ3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA3NzcyNA==", "bodyText": "Null check please! Since you are explicitly returning null for the orElse(...) and it is possible that the capability does not exist for some reason or another, a null check is required here.", "url": "https://github.com/ldtteam/minecolonies/pull/4791#discussion_r417077724", "createdAt": "2020-04-29T05:40:37Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/event/EventHandler.java", "diffHunk": "@@ -210,6 +210,57 @@ public static void onChunkUnLoad(final ChunkEvent.Unload event)\n         }\n     }\n \n+    /**\n+     * Called right before dimension change event, used to remove the player from an existing colony\n+     *\n+     * @param event dim travel event.\n+     */\n+    @SubscribeEvent(priority = LOWEST)\n+    public static void onEntityTravelToDimensionEvent(final EntityTravelToDimensionEvent event)\n+    {\n+        if (event.getEntity() instanceof ServerPlayerEntity && !event.isCanceled())\n+        {\n+            final ServerPlayerEntity player = (ServerPlayerEntity) event.getEntity();\n+            final Chunk oldChunk = player.world.getChunk(player.chunkCoordX, player.chunkCoordZ);\n+            final IColonyTagCapability oldCloseColonies = oldChunk.getCapability(CLOSE_COLONY_CAP, null).orElse(null);\n+            // Remove visiting/subscriber from old colony\n+            if (oldCloseColonies.getOwningColony() != 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "132a6df1d1e467dca16344345ebabdc3cf2f711a"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3153, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}