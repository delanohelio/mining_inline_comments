{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyODc0ODU5", "number": 6106, "title": "Scroll & clipboard improvements", "bodyText": "Closes ldtteam/minecolonies-features#120\nChanges proposed in this pull request:\n\nThe current builder of the assigned hut is shown on the resource scroll tooltip\nAdjust some of the error chat messages\nSome code clean up and stopped using the same translate keys as clipboard with the scroll\n\nReview please", "createdAt": "2020-11-18T02:58:43Z", "url": "https://github.com/ldtteam/minecolonies/pull/6106", "merged": true, "mergeCommit": {"oid": "5e9d8cf99cf643c891104d56b740524d7e7830b5"}, "closed": true, "closedAt": "2020-11-18T08:53:22Z", "author": {"login": "ShadowProtocol"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcpP-IAH2gAyNTIyODc0ODU5OjhiNzg1YWQ5NDlkNThhOWJmYWRjOGFmMGNjMzUwYTdhZDcwYzc4MmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddqaLrgFqTUzMzIzMjc2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8b785ad949d58a9bfadc8af0cc350a7ad70c782f", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/8b785ad949d58a9bfadc8af0cc350a7ad70c782f", "committedDate": "2020-11-15T05:10:40Z", "message": "Make scroll more verbose"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a6695aef9b01a8c9ee696e091e563114b0136bc", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/0a6695aef9b01a8c9ee696e091e563114b0136bc", "committedDate": "2020-11-15T23:18:01Z", "message": "Tidy a tad"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acfb4ee1440e01ef543117957b8f41e2b43ca64c", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/acfb4ee1440e01ef543117957b8f41e2b43ca64c", "committedDate": "2020-11-18T00:49:02Z", "message": "Clean up a little"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "097091fe9ff326008a860a76451ade62447cf75d", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/097091fe9ff326008a860a76451ade62447cf75d", "committedDate": "2020-11-18T01:14:12Z", "message": "Modify clipboard to match scroll and correct some spelling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f930a4c1f770258ad83e69c5563f6825b2a360c4", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/f930a4c1f770258ad83e69c5563f6825b2a360c4", "committedDate": "2020-11-18T01:29:49Z", "message": "Merge branch 'version/1.15' of https://github.com/ldtteam/minecolonies into feature/tooltips\n\n\u0001 Conflicts:\n\u0001\tsrc/api/java/com/minecolonies/api/util/constant/TranslationConstants.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ced9c2b5d89b0394f4ddcafce610097b6612171", "author": {"user": {"login": "ShadowProtocol", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/7ced9c2b5d89b0394f4ddcafce610097b6612171", "committedDate": "2020-11-18T01:36:29Z", "message": "Formatting fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMjIxNjgz", "url": "https://github.com/ldtteam/minecolonies/pull/6106#pullrequestreview-533221683", "createdAt": "2020-11-18T08:52:01Z", "commit": {"oid": "7ced9c2b5d89b0394f4ddcafce610097b6612171"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMjMyNzYw", "url": "https://github.com/ldtteam/minecolonies/pull/6106#pullrequestreview-533232760", "createdAt": "2020-11-18T09:05:39Z", "commit": {"oid": "7ced9c2b5d89b0394f4ddcafce610097b6612171"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOH1jpsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwOTowNTozOVrOH1jpsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTkyMDY4OA==", "bodyText": "getOrCreateTag should exists for ItemStack iirc", "url": "https://github.com/ldtteam/minecolonies/pull/6106#discussion_r525920688", "createdAt": "2020-11-18T09:05:39Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/items/ItemClipboard.java", "diffHunk": "@@ -87,47 +82,48 @@ else if (compound.keySet().contains(TAG_COLONY))\n     @Override\n     @NotNull\n     public ActionResult<ItemStack> onItemRightClick(\n-      final World worldIn,\n-      final PlayerEntity playerIn,\n-      final Hand hand)\n+            final World worldIn,\n+            final PlayerEntity playerIn,\n+            final Hand hand)\n     {\n-        final ItemStack cllipboard = playerIn.getHeldItem(hand);\n+        final ItemStack clipboard = playerIn.getHeldItem(hand);\n \n-        if (!worldIn.isRemote)\n-        {\n-            return new ActionResult<>(ActionResultType.SUCCESS, cllipboard);\n+        if (!worldIn.isRemote) {\n+            return new ActionResult<>(ActionResultType.SUCCESS, clipboard);\n         }\n \n-        final CompoundNBT compound = checkForCompound(cllipboard);\n+        openWindow(checkForCompound(clipboard), worldIn, playerIn);\n \n-        if (compound.keySet().contains(TAG_COLONY))\n-        {\n-            final IColonyView colonyView = IColonyManager.getInstance().getColonyView(compound.getInt(TAG_COLONY), worldIn.dimension.getType().getId());\n-            if (colonyView != null)\n-            {\n-                MineColonies.proxy.openClipBoardWindow(colonyView);\n-            }\n-        }\n-        else\n-        {\n-            LanguageHandler.sendPlayerMessage(playerIn, TranslationConstants.COM_MINECOLONIES_CLIPBOARD_NEED_COLONY);\n-        }\n-\n-        return new ActionResult<>(ActionResultType.SUCCESS, cllipboard);\n+        return new ActionResult<>(ActionResultType.SUCCESS, clipboard);\n     }\n \n     /**\n      * Check for the compound and return it. If not available create and return it.\n      *\n-     * @param scepter the scepter to check in for.\n-     * @return the compound of the scepter.\n+     * @param clipboard the clipboard to check for.\n+     * @return the compound of the clipboard.\n+     */\n+    private static CompoundNBT checkForCompound(final ItemStack clipboard)\n+    {\n+        if (!clipboard.hasTag()) clipboard.setTag(new CompoundNBT());\n+        return clipboard.getTag();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ced9c2b5d89b0394f4ddcafce610097b6612171"}, "originalPosition": 111}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1822, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}