{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NjkzNzkx", "number": 4210, "title": "Fix/#4190", "bodyText": "Closes #4190\nCloses #4083\nCloses #4196\nChanges proposed in this pull request:\n\nFix issues related to transferring items.\nImprove sleeping (better performance, more regular wakeup calls for daily jobs)\n\n\nReview please", "createdAt": "2020-01-06T20:07:17Z", "url": "https://github.com/ldtteam/minecolonies/pull/4210", "merged": true, "mergeCommit": {"oid": "45213db62876f095f6b2091f2b4393b927cfc926"}, "closed": true, "closedAt": "2020-01-07T19:48:42Z", "author": {"login": "Raycoms"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3v8HjAH2gAyMzU5NjkzNzkxOjM2YTQ0M2RkYzUyYzYxYTRjOGI1NjgzYmE1YmFhODFhNjI0NGIzYjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4BrGOAFqTMzOTI3MDQ1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "36a443ddc52c61a4c8b5683ba5baa81a6244b3b1", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/36a443ddc52c61a4c8b5683ba5baa81a6244b3b1", "committedDate": "2020-01-06T17:51:58Z", "message": "update warehouse on dman insert #4160"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d562c6d5fcec196477ab1db48180ca322b43bc32", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/d562c6d5fcec196477ab1db48180ca322b43bc32", "committedDate": "2020-01-06T20:05:22Z", "message": "fix transfer issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f84c3a45efadbca5e4de42a38ade67ededb82218", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/f84c3a45efadbca5e4de42a38ade67ededb82218", "committedDate": "2020-01-06T20:05:42Z", "message": "Merge remote-tracking branch 'origin/version/1.14' into fix/#4190"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4ODc4MTkx", "url": "https://github.com/ldtteam/minecolonies/pull/4210#pullrequestreview-338878191", "createdAt": "2020-01-06T20:32:27Z", "commit": {"oid": "f84c3a45efadbca5e4de42a38ade67ededb82218"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MDI1OTM2", "url": "https://github.com/ldtteam/minecolonies/pull/4210#pullrequestreview-339025936", "createdAt": "2020-01-07T04:30:38Z", "commit": {"oid": "f84c3a45efadbca5e4de42a38ade67ededb82218"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNDozMDozOFrOFavn_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNDozMDozOFrOFavn_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NzU4MQ==", "bodyText": "I feel like it might fix more bugs if we simply actually create multiple stacks with proper stack sizes instead of our NBT hacky thing", "url": "https://github.com/ldtteam/minecolonies/pull/4210#discussion_r363587581", "createdAt": "2020-01-07T04:30:38Z", "author": {"login": "Asherslab"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutBuilder.java", "diffHunk": "@@ -242,8 +242,8 @@ private void transferItems(@NotNull final Button button)\n         {\n             // The itemStack size should not be greater than itemStack.getMaxStackSize, We send 1 instead\n             // and use quantity for the size\n-            @NotNull final ItemStack itemStack = new ItemStack(res.getItem(), 1);\n-            itemStack.setTag(res.getItemStack().getTag());\n+            @NotNull final ItemStack itemStack = res.getItemStack().copy();\n+            itemStack.setCount(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f84c3a45efadbca5e4de42a38ade67ededb82218"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45c4d77ae11588cf01d93929219dee382b7facc7", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/45c4d77ae11588cf01d93929219dee382b7facc7", "committedDate": "2020-01-07T13:11:56Z", "message": "Restructure sleeping AI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4211ef5ff53bb678eb5a84504a228c24a79dca8", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/d4211ef5ff53bb678eb5a84504a228c24a79dca8", "committedDate": "2020-01-07T13:58:31Z", "message": "join sleep AIs together"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MjcwNDU1", "url": "https://github.com/ldtteam/minecolonies/pull/4210#pullrequestreview-339270455", "createdAt": "2020-01-07T14:31:40Z", "commit": {"oid": "d4211ef5ff53bb678eb5a84504a228c24a79dca8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2248, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}