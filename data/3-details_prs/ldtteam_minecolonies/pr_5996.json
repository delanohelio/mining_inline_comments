{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwOTgwNjUz", "number": 5996, "title": "INV IMPROVEMENTS", "bodyText": "Changes proposed in this pull request:\n\nImproves some of the inv handling\nQuick Rack Querying over expensive slot per slot\nAlready return the building in the query of containers\nAdjust some old chest code in the AIs\n\nReview please", "createdAt": "2020-10-27T18:51:52Z", "url": "https://github.com/ldtteam/minecolonies/pull/5996", "merged": true, "mergeCommit": {"oid": "1fe64dbd16394abce4460804d3b8bc95b34bb3b8"}, "closed": true, "closedAt": "2020-10-28T16:01:46Z", "author": {"login": "Raycoms"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWtPBHAH2gAyNTEwOTgwNjUzOmZhMjZjNTNmNGViMmE2YWJlMDVkM2I0YjM4YWYxM2VkMTE5YjVkNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdW_wiKAH2gAyNTEwOTgwNjUzOjM5MmE4ZjU0N2Y2N2VhZGU3MTA1ODAxNDMzMDUxNjdmNGExODM0ODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa26c53f4eb2a6abe05d3b4b38af13ed119b5d5e", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/fa26c53f4eb2a6abe05d3b4b38af13ed119b5d5e", "committedDate": "2020-10-27T18:25:42Z", "message": "INV IMPROVEMENTS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MDQyMzIz", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518042323", "createdAt": "2020-10-27T18:58:16Z", "commit": {"oid": "fa26c53f4eb2a6abe05d3b4b38af13ed119b5d5e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODo1ODoxN1rOHpMCKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODo1ODoxN1rOHpMCKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk1MDgyNw==", "bodyText": "There are several places that assume they will always get count from this, the MAXINT variant return being rare.\nSpecifically, the AbstractBuildingWorker and the Dyer both use this function to figure out which ingredient is in largest supply.  Do we actually need the MAXINT result?", "url": "https://github.com/ldtteam/minecolonies/pull/5996#discussion_r512950827", "createdAt": "2020-10-27T18:58:17Z", "author": {"login": "Mekle001"}, "path": "src/api/java/com/minecolonies/api/util/InventoryUtils.java", "diffHunk": "@@ -720,19 +720,9 @@ public static int getItemCountInProvider(@NotNull final ICapabilityProvider prov\n     public static int hasBuildingEnoughElseCount(@NotNull final IBuilding provider, @NotNull final ItemStorage stack, final int count)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa26c53f4eb2a6abe05d3b4b38af13ed119b5d5e"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/3099d16bc8c322baf3a9b957cd631b508a2187b4", "committedDate": "2020-10-27T19:13:22Z", "message": "add a good itemCount method for buildings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTE4MTc4", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518118178", "createdAt": "2020-10-27T20:32:55Z", "commit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTQ2NDMw", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518146430", "createdAt": "2020-10-27T20:59:54Z", "commit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTk4Mjk3", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518198297", "createdAt": "2020-10-27T22:27:52Z", "commit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMjoyNzo1MlrOHpTVjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMjo0MDo0OFrOHpToiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA3MDQ3OA==", "bodyText": "I'm wondering if we maybe want to sort by creative tab first and then by tag?", "url": "https://github.com/ldtteam/minecolonies/pull/5996#discussion_r513070478", "createdAt": "2020-10-27T22:27:52Z", "author": {"login": "someaddons"}, "path": "src/api/java/com/minecolonies/api/tileentities/TileEntityRack.java", "diffHunk": "@@ -125,6 +126,29 @@ public boolean hasItemStack(@NotNull final Predicate<ItemStack> itemStackSelecti\n         return false;\n     }\n \n+    @Override\n+    public boolean hasSimilarStack(@NotNull final ItemStack stack)\n+    {\n+        final ItemStorage checkItem = new ItemStorage(stack, true);\n+        if (content.containsKey(checkItem))\n+        {\n+            return true;\n+        }\n+\n+        for (final ItemStorage storage : content.keySet())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA3MzAxNg==", "bodyText": "function name and doc don't match up", "url": "https://github.com/ldtteam/minecolonies/pull/5996#discussion_r513073016", "createdAt": "2020-10-27T22:34:29Z", "author": {"login": "someaddons"}, "path": "src/api/java/com/minecolonies/api/util/InventoryUtils.java", "diffHunk": "@@ -1594,6 +1601,36 @@ public static boolean transferItemStackIntoNextBestSlotInItemHandler(\n         return false;\n     }\n \n+    /**\n+     * Method to swap the ItemStacks from the given source {@link IItemHandler} to the given target {@link IItemHandler}. Trying to merge existing itemStacks if possible.\n+     *\n+     * @param sourceHandler The {@link IItemHandler} that works as Source.\n+     * @param predicate  the matching stack.\n+     * @param targetHandler The {@link IItemHandler} that works as Target.\n+     * @return True when the swap was successful, false when not.\n+     */\n+    public static boolean transferItemStackIntoNextBestSlotInItemHandler(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA3NTMzNg==", "bodyText": "think you need to exclude the warehouse hutblock here?", "url": "https://github.com/ldtteam/minecolonies/pull/5996#discussion_r513075336", "createdAt": "2020-10-27T22:40:48Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -219,7 +210,7 @@ private TileEntity searchMostEmptySlot()\n     {\n         int freeSlots = 0;\n         TileEntity emptiestChest = null;\n-        for (@NotNull final BlockPos pos : getBuilding().getAdditionalCountainers())\n+        for (@NotNull final BlockPos pos : getBuilding().getContainers())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3099d16bc8c322baf3a9b957cd631b508a2187b4"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "644b5d401b0f3ccfa729803e63a6d33ff1a136e6", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/644b5d401b0f3ccfa729803e63a6d33ff1a136e6", "committedDate": "2020-10-28T08:00:49Z", "message": "fix doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NTc0NDM0", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518574434", "createdAt": "2020-10-28T11:44:45Z", "commit": {"oid": "644b5d401b0f3ccfa729803e63a6d33ff1a136e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NzAzOTQ4", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518703948", "createdAt": "2020-10-28T14:11:32Z", "commit": {"oid": "644b5d401b0f3ccfa729803e63a6d33ff1a136e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4ODI2NDkz", "url": "https://github.com/ldtteam/minecolonies/pull/5996#pullrequestreview-518826493", "createdAt": "2020-10-28T16:00:25Z", "commit": {"oid": "644b5d401b0f3ccfa729803e63a6d33ff1a136e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "392a8f547f67eade710580143305167f4a183487", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/392a8f547f67eade710580143305167f4a183487", "committedDate": "2020-10-28T16:00:36Z", "message": "Merge branch 'version/1.15' into inv-fixes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1798, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}