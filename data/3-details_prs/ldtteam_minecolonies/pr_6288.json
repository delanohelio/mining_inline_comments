{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1MDYwMDAz", "number": 6288, "title": "Low-hanging Fruit: UI improvements, off-hand build wand, crafter recipe adds, and expanding raid command capabilities.", "bodyText": "Closes #6231\nCloses #6232\nCloses ldtteam/minecolonies-features#176\nCloses ldtteam/minecolonies-features#200\nCloses ldtteam/minecolonies-features#212\nCloses ldtteam/minecolonies-features#215\nCloses ldtteam/minecolonies-features#222\n\nAdds a progress message at 25 citizens, pointing players to the University research.\nAdds disabled/enabled button functionality and tooltips for Warehouse Upgrade and Sort.\nAdds a time check to WAREHOUSE_FULL messages, to reduce message spamming, and gives different messages depending on whether the warehouse can still be upgraded (in which case it can't use emerald blocks) or not (in which case it can't be upgraded.\nAdds glowstone dust as an input to the mechanic, and sets glowstone (block) as non-reducible to avoid potential surprises to datapack makers. Added a few other exclusions for storage-like blocks that Forge does not inherently tag as storage, for similar reasons.\nAdds Blackstone and Polished Blackstone (and polished blackstone slab/bricks) and Polished Basalt as usable ingredients to the Stonemason.\nAllows use of build tool in off-hand.\nRemoves duplicate sendPlayersMessage for WorkOrderBuildRemovals.\nAdds a message on completion of a deconstruction work order to warn players to use the Pick Up botton.\nAdd a third count to the Town Hall's citizen summary page, indicating the maximum limit of colonists from research.\nAdds an optional argument to raid-now, raid-now-all, raid-tonight, and raid-tonight-all to force the raid to be a specific type.\nAdds a raid event for pirates without a ship, only summonable by manual raid commands for now.\n\nReview please", "createdAt": "2020-12-23T22:47:52Z", "url": "https://github.com/ldtteam/minecolonies/pull/6288", "merged": true, "mergeCommit": {"oid": "ef8da3eaf0ec5786f54f4d6fb345a30435d98314"}, "closed": true, "closedAt": "2020-12-27T11:13:22Z", "author": {"login": "gattsuru"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo0hBIAH2gAyNTQ1MDYwMDAzOjczZDQ5NzExOWM1NGE4YzU3MjdlODMyMzM0Y2JjZWQ0YWFmMDJjZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqPl4-gFqTU1ODkyMDkyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "73d497119c54a8c5727e832334cbced4aaf02cd4", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/73d497119c54a8c5727e832334cbced4aaf02cd4", "committedDate": "2020-12-23T01:05:20Z", "message": "- Adds expanded message on completion of deconstruction to warn to use the hut GUI to pick up the block if intending to retain level, from https://github.com/ldtteam/minecolonies-features/issues/215\n\n- Adds a progress message at 25 citizens, pointing players to the University research.\n\n- Adds disabled/enabled button functionality and tooltips for Warehouse Upgrade, from https://github.com/ldtteam/minecolonies-features/issues/222 .  Also similar for Sort.\n\n- Adds a time check to WAREHOUSE_FULL messages, to reduce message spamming, and gives different messages depending on whether the warehouse can still be upgraded (in which case it can't use emerald blocks) or not.\n\n- Adds glowstone dust as an output to the mechanic, for https://github.com/ldtteam/minecolonies-features/issues/176 , and sets glowstone (block) as non-reducible to avoid potential surprises to datapack makers. Added a few other exclusions for storage-like blocks that Forge does not inherently tag, for similar reasons.\n\n- Adds Blackstone and Polished Blackstone (and polished blackstone slab/bricks) as usable ingredients to the Stonemason, and Polished Basalt to the Stonesmelter's outputs, for #6231.\n\n- Allows use of build tool in off-hand, from #6232.\n\n- Initial work to recognize Pillager Patrol spawn events."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c66a785c5e3e214fbbb37c8b13e64f1aa4f8c28", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/6c66a785c5e3e214fbbb37c8b13e64f1aa4f8c28", "committedDate": "2020-12-23T22:32:15Z", "message": "- Removes concrete layer from Jungle Archery 1.\n\n- Removes duplicate sendPlayersMessage for WorkOrderBuildRemovals.\n\n- Removes Illager Patrol event handler precursor work.\n\n- Add a third count to the Town Hall's citizen summary page, indicating the maximum limit of colonists from research, from https://github.com/ldtteam/minecolonies-features/issues/200\n\n- Adds an optional argument to raid-now, raid-now-all, raid-tonight, and raid-tonight-all to force the raid to be a specific type, from https://github.com/ldtteam/minecolonies-features/issues/212 .\n\n- Adds a raid event for pirates without a ship, only runable by manual raid commands for now."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad38fa012f60f283664017ddeb38f0de93d39d76", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/ad38fa012f60f283664017ddeb38f0de93d39d76", "committedDate": "2020-12-23T22:41:02Z", "message": "Fixes newlines for posix-compliance."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/485f8183137aaff0102923dae9735882a0ee46ca", "committedDate": "2020-12-23T22:49:17Z", "message": "Merge branch 'version/1.16.3' into version/1.16.3-features-217"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MjYxNzgx", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558261781", "createdAt": "2020-12-23T22:52:10Z", "commit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjoxMVrOIK6BOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1MjozMlrOIK6Bgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzI1Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrades requires\",\n          \n          \n            \n              \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrade requires\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307257", "createdAt": "2020-12-23T22:52:11Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -1174,6 +1176,10 @@\n   \"com.minecolonies.coremod.gui.townhall.buildinglevel\": \"Building level\",\n \n   \"com.minecolonies.coremod.gui.warehouse.sort\": \"Sort\",\n+  \"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\": \"Sorting requires\",\n+  \"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\": \"Warehouse Level %s\",\n+  \"com.minecolonies.coremod.gui.warehouse.upgrade.disabled.1\": \"Rack upgrades requires\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzMzMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, begin research at the University.\",\n          \n          \n            \n              \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, complete the research at the University.\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307330", "createdAt": "2020-12-23T22:52:32Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -1157,6 +1158,7 @@\n   \"com.minecolonies.coremod.progress.manual_employment_on\": \"\u00a76 Workers are complaining about a long walk to their work. You can manually assign them to the closest houses, if the option is turned on in the Town Hall settings.\",\n   \"com.minecolonies.coremod.progress.ten_citizens_spawned\": \"\u00a76 A growing colony increases the burdens on your settlers. You should consider upgrading your work huts.\",\n   \"com.minecolonies.coremod.progress.twenty_building_levels\": \"\u00a76 A barbarian spy had been caught next to your colony, and he seems to be from a bigger group! You should consider building Barracks to defend your colony.\",\n+  \"com.minecolonies.coremod.progress.twenty_five_citizens_spawned\": \"\u00a76 Your colony's population has grown to the limits of current management techniques. To accept more citizens, begin research at the University.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MjYyMTU0", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558262154", "createdAt": "2020-12-23T22:53:48Z", "commit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1Mzo0OFrOIK6CsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMjo1NjowNVrOIK6E8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzYzMw==", "bodyText": "sortButton.disable and add disable texture to xml", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307633", "createdAt": "2020-12-23T22:53:48Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));\n+            sortButton.setHoverToolTip(hoverText);\n+            sortButton.setImage(new ResourceLocation(Constants.MOD_ID, \"textures/gui/builderhut/builder_button_medium_large_disabled.png\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwNzkzNA==", "bodyText": "probably might be worth using \\n instead, I also think that tooltip renderer has auto wrapping but not sure about that", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548307934", "createdAt": "2020-12-23T22:55:02Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -119,8 +120,14 @@ public void onOpened()\n     {\n         if (building.getBuildingLevel() < BUILDING_LEVEL_FOR_SORTING)\n         {\n-            findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class).hide();\n+            final ButtonImage sortButton = findPaneOfTypeByID(SORT_WAREHOUSE_BUTTON, ButtonImage.class);\n+            final List<IFormattableTextComponent> hoverText = new ArrayList<>();\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.1\", BUILDING_LEVEL_FOR_SORTING));\n+            hoverText.add(new TranslationTextComponent(\"com.minecolonies.coremod.gui.warehouse.sort.disabled.2\", BUILDING_LEVEL_FOR_SORTING));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODMwODIwOA==", "bodyText": "variable name", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548308208", "createdAt": "2020-12-23T22:56:05Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowHutWareHouse.java", "diffHunk": "@@ -208,9 +226,12 @@ private void updateResourcePane()\n         neededLabel.setLabelText(resource.getAvailable() + \" / \" + resource.getAmount());\n         findPaneOfTypeByID(RESOURCE_QUANTITY_MISSING, Label.class).setLabelText(Integer.toString(resource.getAmount() - resource.getAvailable()));\n \n-        final ItemStack image = new ItemStack(resource.getItem(), 1);\n-        image.setTag(resource.getItemStack().getTag());\n-        findPaneOfTypeByID(RESOURCE_ICON, ItemIcon.class).setItem(image);\n+        if(building.getBuildingLevel() >= building.getBuildingMaxLevel())\n+        {\n+            final ItemStack image = new ItemStack(resource.getItem(), 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485f8183137aaff0102923dae9735882a0ee46ca"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4006fa3034883117fa2f5c703bd6c50b12361238", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/4006fa3034883117fa2f5c703bd6c50b12361238", "committedDate": "2020-12-24T00:16:15Z", "message": "Fixes variable name, comparison check, and uses the .disable call instead resetting the image on sortButton."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f432e98f3136556885a0936b64fbe447785541a", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/1f432e98f3136556885a0936b64fbe447785541a", "committedDate": "2020-12-24T00:16:46Z", "message": "Merge branch 'version/1.16.3-features-217' of https://github.com/gattsuru/minecolonies into version/1.16.3-features-217"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MjgxNTAx", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558281501", "createdAt": "2020-12-24T00:18:12Z", "commit": {"oid": "1f432e98f3136556885a0936b64fbe447785541a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/46936f6e424b1d14a565772252a045675db8cc2b", "committedDate": "2020-12-24T00:19:18Z", "message": "Apply suggestions from code review\r\n\r\nGrammar, spelling, and accuracy changes from code review.\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NDI3OTI3", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558427927", "createdAt": "2020-12-24T09:26:21Z", "commit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOToyNjoyMVrOILDn3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOToyNjoyMVrOILDn3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ2NDYwNA==", "bodyText": "While you're on this, there is a small bug here that was reported, citizensSize is also the count limit, instead of the total number of existing citizens", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548464604", "createdAt": "2020-12-24T09:26:21Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowTownHall.java", "diffHunk": "@@ -591,10 +591,11 @@ private void createAndSetStatistics()\n \n         findPaneOfTypeByID(HAPPINESS_LABEL, Label.class).setLabelText(roundedHappiness);\n         final int citizensSize = townHall.getColony().getCitizenCountLimit();\n+        final AdditionModifierResearchEffect citizenCapBoost = this.building.getColony().getResearchManager().getResearchEffects().getEffect(CAP, AdditionModifierResearchEffect.class);\n+        final int citizensCap = (int)(Math.min(MineColonies.getConfig().getServer().maxCitizenPerColony.get(), citizenCapBoost != null ? 25 + citizenCapBoost.getEffect() : 25));\n \n-        final String numberOfCitizens =\n-          LanguageHandler.format(COM_MINECOLONIES_COREMOD_GUI_TOWNHALL_POPULATION_TOTALCITIZENS, citizensSize, townHall.getColony().getCitizenCountLimit());\n-        findPaneOfTypeByID(TOTAL_CITIZENS_LABEL, Label.class).setLabelText(numberOfCitizens);\n+        findPaneOfTypeByID(TOTAL_CITIZENS_LABEL, Label.class).setLabelText\n+                     (LanguageHandler.format(COM_MINECOLONIES_COREMOD_GUI_TOWNHALL_POPULATION_TOTALCITIZENS, citizensSize, townHall.getColony().getCitizenCountLimit(), citizensCap));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NDM5MzI4", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558439328", "createdAt": "2020-12-24T09:56:28Z", "commit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOTo1NjoyOFrOILEOKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwOTo1NjoyOFrOILEOKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ3NDQxMA==", "bodyText": "just use the world ticks here for timing I'd say.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548474410", "createdAt": "2020-12-24T09:56:28Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -119,7 +126,18 @@ public void dumpInventoryIntoWareHouse(@NotNull final InventoryCitizen inventory\n             @Nullable final TileEntity chest = searchRightChestForStack(stack);\n             if (chest == null)\n             {\n-                LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL);\n+                if(System.currentTimeMillis() - lastNotification > FIVE_MINUTES_IN_MILLIS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46936f6e424b1d14a565772252a045675db8cc2b"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "084ffd7ac56daeb82e81f5019337384440af8ab7", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/084ffd7ac56daeb82e81f5019337384440af8ab7", "committedDate": "2020-12-24T16:40:01Z", "message": "Changes WindowTownHall to show current count of citizens a little smarter.  Updates a few javadocs related to citizen max counts.\n\nChanges Warehouse tile entity to use world.getGameTime instead of system time."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98ff6e5a553cf4bc0f0c4215ea109e4b31fb94e4", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/98ff6e5a553cf4bc0f0c4215ea109e4b31fb94e4", "committedDate": "2020-12-24T19:54:24Z", "message": "Switches the Town Hall's information page Citizen Count from using Minecraft \u00a7 codes to instead split the label in two pieces and using a little smarter.  Also adds (short) tooltips for most limiting states."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzA5NDkx", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558709491", "createdAt": "2020-12-24T19:56:50Z", "commit": {"oid": "98ff6e5a553cf4bc0f0c4215ea109e4b31fb94e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxOTo1Njo1MFrOILUdBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxOTo1Njo1MFrOILUdBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0MDM1OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research At University\",\n          \n          \n            \n              \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research at University\",", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548740358", "createdAt": "2020-12-24T19:56:50Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -604,7 +604,11 @@\n   \"com.minecolonies.coremod.gui.townhall.togglespec\": \"Toggle Specialization\",\n   \"com.minecolonies.coremod.gui.townhall.actions\": \"Actions\",\n   \"com.minecolonies.coremod.gui.townhall.jobhiring\": \"Worker Hiring Mode:\",\n-  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens\": \"Number of Citizens: %d/%d\",\n+  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens\": \"Number of Citizens: \",\n+  \"com.minecolonies.coremod.gui.townhall.population.totalcitizens.count\": \"%d/%d\",\n+  \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.houselimited\": \"Needs Housing\",\n+  \"com.minecolonies.coremod.gui.townHall.population.totalcitizens.researchlimited\": \"Research At University\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98ff6e5a553cf4bc0f0c4215ea109e4b31fb94e4"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/c8c6771db72288089b4974edcbddec563e01f28e", "committedDate": "2020-12-24T20:11:15Z", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzExODQ5", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558711849", "createdAt": "2020-12-24T20:22:52Z", "commit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyMjo1MlrOILUqvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyMjo1MlrOILUqvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0Mzg3MA==", "bodyText": "So, emerald block makes sense at level 5, but a warehouse full at level 4 this message is confusing.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548743870", "createdAt": "2020-12-24T20:22:52Z", "author": {"login": "Mekle001"}, "path": "src/main/java/com/minecolonies/coremod/tileentities/TileEntityWareHouse.java", "diffHunk": "@@ -119,7 +126,18 @@ public void dumpInventoryIntoWareHouse(@NotNull final InventoryCitizen inventory\n             @Nullable final TileEntity chest = searchRightChestForStack(stack);\n             if (chest == null)\n             {\n-                LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL);\n+                if(world.getGameTime() - lastNotification > TICKS_FIVE_MIN)\n+                {\n+                    lastNotification = world.getGameTime();\n+                    if(getBuilding().getBuildingLevel() == getBuilding().getMaxBuildingLevel())\n+                    {\n+                        LanguageHandler.sendPlayersMessage(getColony().getMessagePlayerEntities(), COM_MINECOLONIES_COREMOD_WAREHOUSE_FULL_MAX_UPGRADE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzEyMDUx", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558712051", "createdAt": "2020-12-24T20:25:26Z", "commit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyNToyNlrOILUr6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQyMDoyNToyNlrOILUr6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODc0NDE2OQ==", "bodyText": "If we're allowing compression to blocks here, do we also want to allow decompression, and add the glowstone block?", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548744169", "createdAt": "2020-12-24T20:25:26Z", "author": {"login": "Mekle001"}, "path": "src/main/resources/data/minecolonies/tags/items/mechanic_ingredient.json", "diffHunk": "@@ -7,6 +7,7 @@\n     \"minecraft:blaze_rod\",\n     \"minecraft:ender_pearl\",\n     \"minecraft:ender_eye\",\n-    \"minecraft:redstone_torch\"\n+    \"minecraft:redstone_torch\",\n+    \"minecraft:glowstone_dust\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODI5Mjk3", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558829297", "createdAt": "2020-12-25T17:11:25Z", "commit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "state": "DISMISSED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoxMToyNlrOILd0-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNzoyMToxN1rOILd4TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5Mzk0Nw==", "bodyText": "Small nitpick if you are going to push something else before merge:\nThis value should be something like TICKS_SECOND * SECONDS_A_MINUTE * 5\nYou can fix the above too", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548893947", "createdAt": "2020-12-25T17:11:26Z", "author": {"login": "Nightenom"}, "path": "src/api/java/com/minecolonies/api/util/constant/Constants.java", "diffHunk": "@@ -47,6 +47,7 @@\n     public static final int    UPDATE_FLAG                      = 0x03;\n     public static final int    TICKS_HOUR                       = TICKS_SECOND * SECONDS_A_MINUTE * SECONDS_A_MINUTE;\n     public static final int    TICKS_FOURTY_MIN                 = 48000;\n+    public static final int    TICKS_FIVE_MIN                   = 6000;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDY4NQ==", "bodyText": "This method and the command build seems to be dupe code to me, might be worth to merge \"raid now\" and \"raid tonight\" into one command with a boolean flag.\nAt least try to make common logic abstract.", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548894685", "createdAt": "2020-12-25T17:19:19Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "diffHunk": "@@ -36,6 +41,32 @@ public int onExecute(final CommandContext<CommandSource> context)\n         return 0;\n     }\n \n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5NDc5Nw==", "bodyText": "This should be probably handled from some kind of registry or at least a list of raid types", "url": "https://github.com/ldtteam/minecolonies/pull/6288#discussion_r548894797", "createdAt": "2020-12-25T17:21:17Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/commands/colonycommands/CommandRaidNow.java", "diffHunk": "@@ -48,7 +79,18 @@ public String getName()\n     @Override\n     public LiteralArgumentBuilder<CommandSource> build()\n     {\n+        String[] s = new String[5];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8c6771db72288089b4974edcbddec563e01f28e"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fafa077f66968a54826da73f2c425704644c585", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/5fafa077f66968a54826da73f2c425704644c585", "committedDate": "2020-12-26T01:31:37Z", "message": "Adds a very simple registry of raid types.  It might eventually be worth expanding to manage raid entities and sounds, but for now, it's just names.\n\nUnifies raid-now and raid-tonight, and raid-All-now and raid-All-tonight.  These also use the RaidTypeRegistry to populate suggestions, and to apply their results in RaidManager."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d4d388fa9e434e061173c413afabadfe5808f76", "author": {"user": {"login": "gattsuru", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/2d4d388fa9e434e061173c413afabadfe5808f76", "committedDate": "2020-12-27T03:20:16Z", "message": "Scraps RaidTypeRegistry and implementation, moves \"raid\" and \"raid-All\" commands to use ColonyEventTypeRegistry instead.  Cleans up some logic flow."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b92e9c7158f279d1f952775d6b2216282befc2eb", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/b92e9c7158f279d1f952775d6b2216282befc2eb", "committedDate": "2020-12-27T09:07:46Z", "message": "Merge branch 'version/1.16.3' into version/1.16.3-features-217"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTIwOTIy", "url": "https://github.com/ldtteam/minecolonies/pull/6288#pullrequestreview-558920922", "createdAt": "2020-12-27T11:12:01Z", "commit": {"oid": "b92e9c7158f279d1f952775d6b2216282befc2eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1734, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}