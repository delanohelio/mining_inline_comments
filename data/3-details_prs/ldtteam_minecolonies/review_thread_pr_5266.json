{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NjAzMzQ5", "number": 5266, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODo0OTo0MFrOEHe4nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODo0OTo0MFrOEHe4nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MjgxNTAxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/items/ItemBannerRallyGuards.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODo0OTo0MFrOGm3hIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowNjo1MFrOGoHbcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQwODY3NA==", "bodyText": "just use getOrCreateTag that does the same thing as you do here\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!banner.hasTag())\n          \n          \n            \n                    {\n          \n          \n            \n                        final CompoundNBT compound = new CompoundNBT();\n          \n          \n            \n                        banner.setTag(compound);\n          \n          \n            \n                    }\n          \n          \n            \n            \n          \n          \n            \n                    final CompoundNBT compound = banner.getTag();\n          \n          \n            \n                    final CompoundNBT compound = banner.getOrCreateTag();", "url": "https://github.com/ldtteam/minecolonies/pull/5266#discussion_r443408674", "createdAt": "2020-06-22T08:49:40Z", "author": {"login": "Minecraftschurli"}, "path": "src/main/java/com/minecolonies/coremod/items/ItemBannerRallyGuards.java", "diffHunk": "@@ -435,14 +435,18 @@ public static CompoundNBT checkForCompound(final ItemStack banner)\n         if (!banner.hasTag())\n         {\n             final CompoundNBT compound = new CompoundNBT();\n+            banner.setTag(compound);\n+        }\n+\n+        final CompoundNBT compound = banner.getTag();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a9f95c3dece88eb9f36aef7c4196137f15c34b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc5MjY4OQ==", "bodyText": "You are 99% right. The reason why I did it this way is because it's done this way literally in all other items too.\nSearch in the project for getTag() and look at the Item-Classes. Then look for getOrCreateTag(). See what I mean?\nI must assume that the devs have a reason to have it this way. For example, hasTag() takes into consideration isEmpty, while getOrCreateTag() does not. Maybe there has been a bug related to that in the past.\nSo, when the devs confirm that they simply didn't know about getOrCreateTag(), we should change that everywhere. Otherwise, I prefer streamlined code to individually smart code. You don't want future devs to think \"Ah, the banner uses getOrCreate, the others use getTag(), there must be a reason for this.\"\n@Raycoms?", "url": "https://github.com/ldtteam/minecolonies/pull/5266#discussion_r443792689", "createdAt": "2020-06-22T19:59:29Z", "author": {"login": "JiaYow"}, "path": "src/main/java/com/minecolonies/coremod/items/ItemBannerRallyGuards.java", "diffHunk": "@@ -435,14 +435,18 @@ public static CompoundNBT checkForCompound(final ItemStack banner)\n         if (!banner.hasTag())\n         {\n             final CompoundNBT compound = new CompoundNBT();\n+            banner.setTag(compound);\n+        }\n+\n+        final CompoundNBT compound = banner.getTag();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQwODY3NA=="}, "originalCommit": {"oid": "90a9f95c3dece88eb9f36aef7c4196137f15c34b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNzkzNg==", "bodyText": "I believe we've been using hasTag() since forever for all the other items and getOrCreateTag() didn't exist yet.", "url": "https://github.com/ldtteam/minecolonies/pull/5266#discussion_r444717936", "createdAt": "2020-06-24T08:06:50Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/items/ItemBannerRallyGuards.java", "diffHunk": "@@ -435,14 +435,18 @@ public static CompoundNBT checkForCompound(final ItemStack banner)\n         if (!banner.hasTag())\n         {\n             final CompoundNBT compound = new CompoundNBT();\n+            banner.setTag(compound);\n+        }\n+\n+        final CompoundNBT compound = banner.getTag();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQwODY3NA=="}, "originalCommit": {"oid": "90a9f95c3dece88eb9f36aef7c4196137f15c34b"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3624, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}