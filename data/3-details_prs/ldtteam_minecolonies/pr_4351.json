{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NDA2MjE0", "number": 4351, "title": "Fix/several", "bodyText": "Closes #4350\nCloses #4318\nCloses #4339\nCloses #4333\nCloses #4355\nCloses #4354\nCloses #4353\nChanges proposed in this pull request:\n\nUnregister event handlers properly\nVastly improve jump pathfinding (for half and not full blocks)\nImproves scan tool issues\n\nReview please", "createdAt": "2020-02-21T18:08:14Z", "url": "https://github.com/ldtteam/minecolonies/pull/4351", "merged": true, "mergeCommit": {"oid": "f0f44dbf2cccedcdac91c65d7bc4f1b6b13f7dcf"}, "closed": true, "closedAt": "2020-02-23T10:38:52Z", "author": {"login": "Raycoms"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGiiIkgH2gAyMzc4NDA2MjE0OjVhNzRkMjViNzA5N2NhMDJhODk2YjFmZjA4ZWFjNGM0OWExNzhiNmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHGgLoAH2gAyMzc4NDA2MjE0OjJkODRjZDg5OTc0MDdmOTkzNjk0ODZkNzkzZDE1OWU2ZDFhODQ3Y2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5a74d25b7097ca02a896b1ff08eac4c49a178b6c", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/5a74d25b7097ca02a896b1ff08eac4c49a178b6c", "committedDate": "2020-02-21T16:43:41Z", "message": "Handle decorations like structurize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4655a92b0251e710f75d552d78fa6397f2f449e5", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/4655a92b0251e710f75d552d78fa6397f2f449e5", "committedDate": "2020-02-21T16:43:55Z", "message": "catch issues with resource scroll"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c11d9d9babfd27ecaa7bc566765aff2621e5987b", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/c11d9d9babfd27ecaa7bc566765aff2621e5987b", "committedDate": "2020-02-21T16:44:01Z", "message": "fix pathing issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29c7d32521a6591a90e7826f85e339eeb9d5bae2", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/29c7d32521a6591a90e7826f85e339eeb9d5bae2", "committedDate": "2020-02-21T18:01:53Z", "message": "unregister event, fix #4350"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/6c4ccead450dda7f83aa954dc64594daacebf255", "committedDate": "2020-02-21T18:02:47Z", "message": "bump forge version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyODI1MTUw", "url": "https://github.com/ldtteam/minecolonies/pull/4351#pullrequestreview-362825150", "createdAt": "2020-02-21T18:22:41Z", "commit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyODM0MzA0", "url": "https://github.com/ldtteam/minecolonies/pull/4351#pullrequestreview-362834304", "createdAt": "2020-02-21T18:38:04Z", "commit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxODozODowNFrOFtArnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxODozOToyNFrOFtAuBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjc0MTQwNA==", "bodyText": "Message into chat why it was closed during opening\nSame for close() above", "url": "https://github.com/ldtteam/minecolonies/pull/4351#discussion_r382741404", "createdAt": "2020-02-21T18:38:04Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowResourceList.java", "diffHunk": "@@ -114,6 +114,11 @@ public void onOpened()\n         pullResourcesFromHut();\n \n         final ScrollingList resourceList = findPaneOfTypeByID(LIST_RESOURCES, ScrollingList.class);\n+        if (resourceList == null)\n+        {\n+            close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjc0MjAyMw==", "bodyText": "At least comment for 1.3 constant", "url": "https://github.com/ldtteam/minecolonies/pull/4351#discussion_r382742023", "createdAt": "2020-02-21T18:39:24Z", "author": {"login": "Nightenom"}, "path": "src/main/java/com/minecolonies/coremod/entity/pathfinding/AbstractPathJob.java", "diffHunk": "@@ -978,9 +979,23 @@ private int handleTargeNotPassable(@Nullable final Node parent, @NotNull final B\n         }\n \n         final BlockState below = world.getBlockState(parent.pos.down());\n-        final VoxelShape bb = below.getCollisionShape(world, pos.down());\n-        if (bb != null && bb.getEnd(Direction.Axis.Y) < 1)\n+        final VoxelShape bb = below.getCollisionShape(world, parent.pos.down());\n+        if (bb.getEnd(Direction.Axis.Y) < 1)\n         {\n+            double dif = bb.getEnd(Direction.Axis.Y);\n+            final double parentY = target.getCollisionShape(world, pos).getEnd(Direction.Axis.Y);\n+            dif = dif + 1 - parentY;\n+            if (dif < 1.3)\n+            {\n+                return pos.getY() + 1;\n+            }\n+            if (target.getBlock() instanceof StairsBlock\n+                  && dif - 0.5 < 1.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6754057d7bccde69162f97dcd7ede8d69d70159e", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/6754057d7bccde69162f97dcd7ede8d69d70159e", "committedDate": "2020-02-22T09:19:53Z", "message": "fix #4353"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9d5e7c312857fe35759f0d03383e17b0040c6ca", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/b9d5e7c312857fe35759f0d03383e17b0040c6ca", "committedDate": "2020-02-22T09:21:15Z", "message": "fix #4354"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "804d35a0f74b57828aa35828fff261b9ad3ef62b", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/804d35a0f74b57828aa35828fff261b9ad3ef62b", "committedDate": "2020-02-22T09:43:52Z", "message": "Fix hut facing direction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7c13d89f7789d5bff7e8f0c32ff481c2b0db108", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/e7c13d89f7789d5bff7e8f0c32ff481c2b0db108", "committedDate": "2020-02-22T09:44:07Z", "message": "fix construction tape placement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6633bb856ae07b1260b362a5822af9e8ccb295b", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/c6633bb856ae07b1260b362a5822af9e8ccb295b", "committedDate": "2020-02-22T12:17:45Z", "message": "Disable ambient occulsion and make shape smaller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3779d8d971f46f641b04ceba3396a64b6b659e03", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/3779d8d971f46f641b04ceba3396a64b6b659e03", "committedDate": "2020-02-22T14:25:47Z", "message": "fix rack placement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c68b6b33223da545a2a53411af6f44344b28ef96", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/c68b6b33223da545a2a53411af6f44344b28ef96", "committedDate": "2020-02-22T14:25:54Z", "message": "try"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ffc7f020c08053c351a582eb683f6fb546d2b4", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/17ffc7f020c08053c351a582eb683f6fb546d2b4", "committedDate": "2020-02-22T14:25:58Z", "message": "Revert \"try\"\n\nThis reverts commit c68b6b33223da545a2a53411af6f44344b28ef96."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca4423ac019df99f43e5d13f5442fbc95c3bb30c", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/ca4423ac019df99f43e5d13f5442fbc95c3bb30c", "committedDate": "2020-02-22T14:35:34Z", "message": "rename"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDMxODQ4", "url": "https://github.com/ldtteam/minecolonies/pull/4351#pullrequestreview-363031848", "createdAt": "2020-02-22T14:37:10Z", "commit": {"oid": "ca4423ac019df99f43e5d13f5442fbc95c3bb30c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ad178796c3aeabeaa72fe64db5caa6dab5f65ce", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/3ad178796c3aeabeaa72fe64db5caa6dab5f65ce", "committedDate": "2020-02-22T15:32:19Z", "message": "Move constants, up structurize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "727b6b148718ed4fa364b731299b2bf5a838cf4c", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/727b6b148718ed4fa364b731299b2bf5a838cf4c", "committedDate": "2020-02-22T18:01:04Z", "message": "Fix scaffolding climbing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5028fba2244772b6c87c7c058ff934a7c4aeb825", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/5028fba2244772b6c87c7c058ff934a7c4aeb825", "committedDate": "2020-02-22T18:19:06Z", "message": "Correct handle scaffolding blocks up and down"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDgxMDI5", "url": "https://github.com/ldtteam/minecolonies/pull/4351#pullrequestreview-363081029", "createdAt": "2020-02-23T09:19:45Z", "commit": {"oid": "5028fba2244772b6c87c7c058ff934a7c4aeb825"}, "state": "DISMISSED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOToxOTo0NlrOFtPpTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwOToyMDozNVrOFtPpeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4NjU3Mg==", "bodyText": "?? Why where these swapped all of a sudden?", "url": "https://github.com/ldtteam/minecolonies/pull/4351#discussion_r382986572", "createdAt": "2020-02-23T09:19:46Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/blocks/BlockDecorationController.java", "diffHunk": "@@ -55,10 +55,10 @@\n     /**\n      * The bounding boxes.\n      */\n-    protected static final VoxelShape AABB_NORTH = VoxelShapes.create(0.4125D, 0.375D, 0.950D, 0.5875D, 0.625D, 1.0D);\n-    protected static final VoxelShape AABB_SOUTH = VoxelShapes.create(0.4125D, 0.375D, 0.0D, 0.5875D, 0.625D, 0.050D);\n-    protected static final VoxelShape AABB_WEST  = VoxelShapes.create(0.950D, 0.375D, 0.4125D, 1.0D, 0.625D, 0.5875D);\n-    protected static final VoxelShape AABB_EAST  = VoxelShapes.create(0.0D, 0.375D, 0.4125D, 0.050D, 0.625D, 0.5875D);\n+    protected static final VoxelShape AABB_SOUTH = VoxelShapes.create(0.4125D, 0.375D, 0.950D, 0.5875D, 0.625D, 1.0D);\n+    protected static final VoxelShape AABB_NORTH = VoxelShapes.create(0.4125D, 0.375D, 0.0D, 0.5875D, 0.625D, 0.050D);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5028fba2244772b6c87c7c058ff934a7c4aeb825"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4NjYxMQ==", "bodyText": "Agreed!", "url": "https://github.com/ldtteam/minecolonies/pull/4351#discussion_r382986611", "createdAt": "2020-02-23T09:20:26Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/client/gui/WindowResourceList.java", "diffHunk": "@@ -114,6 +114,11 @@ public void onOpened()\n         pullResourcesFromHut();\n \n         final ScrollingList resourceList = findPaneOfTypeByID(LIST_RESOURCES, ScrollingList.class);\n+        if (resourceList == null)\n+        {\n+            close();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjc0MTQwNA=="}, "originalCommit": {"oid": "6c4ccead450dda7f83aa954dc64594daacebf255"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk4NjYxOA==", "bodyText": "Good catch.", "url": "https://github.com/ldtteam/minecolonies/pull/4351#discussion_r382986618", "createdAt": "2020-02-23T09:20:35Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/colony/Colony.java", "diffHunk": "@@ -866,6 +866,10 @@ public void onWorldUnload(@NotNull final World w)\n             return;\n         }\n \n+        if (eventHandler != null)\n+        {\n+            MinecraftForge.EVENT_BUS.unregister(eventHandler);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5028fba2244772b6c87c7c058ff934a7c4aeb825"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "209b564a711aae6dc249985c52c838030ac1c606", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/209b564a711aae6dc249985c52c838030ac1c606", "committedDate": "2020-02-23T10:24:49Z", "message": "Fix this"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d84cd8997407f99369486d793d159e6d1a847cc", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/2d84cd8997407f99369486d793d159e6d1a847cc", "committedDate": "2020-02-23T10:38:08Z", "message": "Merge branch 'version/1.15' into fix/several"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2275, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}