{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMTQyMzUx", "number": 4823, "title": "Fix building tool water handling", "bodyText": "Changes proposed in this pull request:\n\nFix how the building tool paste button handles water\nThis PR requires ldtteam/Structurize#128\n\n\nReview please", "createdAt": "2020-05-01T14:02:11Z", "url": "https://github.com/ldtteam/minecolonies/pull/4823", "merged": true, "mergeCommit": {"oid": "0b790cecb8b2598e88e2971e2e4d1f293d1c3cef"}, "closed": true, "closedAt": "2020-05-01T18:59:29Z", "author": {"login": "ToMe25"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdBvkegH2gAyNDEyMTQyMzUxOjAyMzU0MmIzNDM2MTM0OTQ4ZmFjODZjOTQzYmQ2NjY4YWZkMTY5ZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdFEJ8gH2gAyNDEyMTQyMzUxOmVlYTQwZjZlNmM1NjA4MTgwNTA1NjkxN2E5NjMxNDYyN2M0ZGI4NzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "023542b3436134948fac86c943bd6668afd169fb", "author": {"user": {"login": "ToMe25", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/023542b3436134948fac86c943bd6668afd169fb", "committedDate": "2020-05-01T13:31:45Z", "message": "Use BuildUtils.removeFluids in AbstractEntityAiStructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f9e24166196d4767ecc5bf5cf1bff056489d15d", "author": {"user": {"login": "ToMe25", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/0f9e24166196d4767ecc5bf5cf1bff056489d15d", "committedDate": "2020-05-01T13:56:55Z", "message": "Fix building tool pasting water handling"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MTg3NDAy", "url": "https://github.com/ldtteam/minecolonies/pull/4823#pullrequestreview-404187402", "createdAt": "2020-05-01T14:26:00Z", "commit": {"oid": "0f9e24166196d4767ecc5bf5cf1bff056489d15d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNDoyNjowMFrOGPLIZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNDoyNjowMFrOGPLIZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU2NDE5OA==", "bodyText": "This no longer instantly executes placeStructure, but instead adds them to some queue, is that ok?", "url": "https://github.com/ldtteam/minecolonies/pull/4823#discussion_r418564198", "createdAt": "2020-05-01T14:26:00Z", "author": {"login": "ToMe25"}, "path": "src/api/java/com/minecolonies/api/util/InstantStructurePlacer.java", "diffHunk": "@@ -53,16 +51,16 @@ public InstantStructurePlacer(final World worldObj, final String name)\n      */\n     public static void loadAndPlaceStructureWithRotation(\n       final World worldObj, @NotNull final String name,\n-      @NotNull final BlockPos pos, final int rotations, @NotNull final Mirror mirror,\n-      final boolean complete)\n+      @NotNull final BlockPos pos, final Rotation rotation,\n+      @NotNull final Mirror mirror, final boolean complete)\n     {\n         try\n         {\n-            @NotNull final InstantStructurePlacer structureWrapper = new InstantStructurePlacer(worldObj, name);\n-            structureWrapper.structure.setPosition(pos);\n-            structureWrapper.rotate(rotations, worldObj, pos, mirror);\n-            structureWrapper.structure.setPlacementSettings(new PlacementSettings(mirror, BlockPosUtil.getRotationFromRotations(rotations)));\n-            structureWrapper.placeStructure(pos.subtract(structureWrapper.structure.getOffset()), complete);\n+        \t@NotNull final Structure structure = new Structure(worldObj, name, new PlacementSettings(mirror, rotation));\n+            structure.setPosition(pos);\n+            structure.rotate(rotation, worldObj, pos, mirror);\n+            @NotNull final InstantStructurePlacer structureWrapper = new InstantStructurePlacer(structure);\n+            structureWrapper.setupStructurePlacement(pos.subtract(structure.getOffset()), complete, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f9e24166196d4767ecc5bf5cf1bff056489d15d"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f6ccc2180ec10942580772139984bb59d671854", "author": {"user": {"login": "ToMe25", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/5f6ccc2180ec10942580772139984bb59d671854", "committedDate": "2020-05-01T14:56:17Z", "message": "Merge branch 'version/1.15' into fix/pastewater"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eea40f6e6c56081805056917a96314627c4db870", "author": {"user": {"login": "ToMe25", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/eea40f6e6c56081805056917a96314627c4db870", "committedDate": "2020-05-01T17:23:57Z", "message": "dont break fluids in remove stage"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2219, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}