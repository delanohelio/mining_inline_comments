{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNzM4MTMy", "number": 5839, "title": "Feature/partial chunkload", "bodyText": "Changes proposed in this pull request:\n\nKeep the colony chunks loaded as long as an owner/officer etc is around.\nFix some banner pathing issues\n\n\nReview please", "createdAt": "2020-09-27T15:39:58Z", "url": "https://github.com/ldtteam/minecolonies/pull/5839", "merged": true, "mergeCommit": {"oid": "1622736a2133778abecc522b1bdcdca59a18caf3"}, "closed": true, "closedAt": "2020-09-29T10:07:31Z", "author": {"login": "Raycoms"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdM_TacgH2gAyNDkzNzM4MTMyOjY0ZDA4ZTFjMjAzYzhhMmVjMmUxODdlM2UxZjBmOTE4M2RhNDAxZjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNk2eWAFqTQ5ODI4NjM4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "64d08e1c203c8a2ec2e187e3e1f0f9183da401f5", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/64d08e1c203c8a2ec2e187e3e1f0f9183da401f5", "committedDate": "2020-09-27T13:49:33Z", "message": "Chunkload colony if partially loaded already"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec38847922f703a85399d7f644f66efba5c1da99", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/ec38847922f703a85399d7f644f66efba5c1da99", "committedDate": "2020-09-27T14:34:50Z", "message": "small pathing fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/6671fc1433695f64a5b82a70e855715912c9b66b", "committedDate": "2020-09-27T14:48:34Z", "message": "better check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDkxNjM4", "url": "https://github.com/ldtteam/minecolonies/pull/5839#pullrequestreview-497091638", "createdAt": "2020-09-27T16:03:36Z", "commit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxNjowMzozNlrOHYoQjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxNjowODo0M1rOHYoSbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU4NzQ3MQ==", "bodyText": "rename to chunk load colony, easier understandable", "url": "https://github.com/ldtteam/minecolonies/pull/5839#discussion_r495587471", "createdAt": "2020-09-27T16:03:36Z", "author": {"login": "someaddons"}, "path": "src/api/java/com/minecolonies/api/configuration/CommonConfiguration.java", "diffHunk": "@@ -406,6 +407,7 @@ protected CommonConfiguration(final ForgeConfigSpec.Builder builder)\n         disableCitizenVoices = defineBoolean(builder, \"disablecitizenvoices\", false);\n         diseaseModifier = defineInteger(builder, \"diseasemodifier\", 5, 1, 100);\n         generateSupplyLoot = defineBoolean(builder, \"generatesupplyloot\", true);\n+        forceLoadColony = defineBoolean(builder, \"forceloadcolony\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU4Nzc3OA==", "bodyText": "I'd call this updateChunkLoadTimer() and mention that its updating the timer or unloading the chunks when the time runs out", "url": "https://github.com/ldtteam/minecolonies/pull/5839#discussion_r495587778", "createdAt": "2020-09-27T16:06:50Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/Colony.java", "diffHunk": "@@ -437,9 +449,51 @@ private boolean worldTickSlow()\n         lastOnlineTime = currTime;\n \n         updateChildTime();\n+        checkForUnload();\n         return false;\n     }\n \n+    /**\n+     * Check if we can unload the colony now.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU4Nzk0OA==", "bodyText": "move this to worldTickSlow instead, here its only updated when the colony is not loaded", "url": "https://github.com/ldtteam/minecolonies/pull/5839#discussion_r495587948", "createdAt": "2020-09-27T16:08:43Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/colony/Colony.java", "diffHunk": "@@ -448,6 +502,7 @@ private boolean worldTickSlow()\n     private boolean worldTickUnloaded()\n     {\n         updateChildTime();\n+        checkForUnload();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd737548dd942bc174c7d9bf18938de836c9e0ce", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/dd737548dd942bc174c7d9bf18938de836c9e0ce", "committedDate": "2020-09-27T16:54:11Z", "message": "adjust name and doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDk3NzY3", "url": "https://github.com/ldtteam/minecolonies/pull/5839#pullrequestreview-497097767", "createdAt": "2020-09-27T17:39:17Z", "commit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxNzozOToxN1rOHYo0AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxNzozOToxN1rOHYo0AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU5NjU0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              \"minecolonies.config.forceloadcolony.comment\": \"Whether if part of the colony is loaded, all chunks should be kept loaded by force. [Default: false]\",\n          \n          \n            \n              \"minecolonies.config.forceloadcolony.comment\": \"If part of the colony is loaded by an owner/officer, the entire colony should be kept loaded. [Default: false]\",", "url": "https://github.com/ldtteam/minecolonies/pull/5839#discussion_r495596544", "createdAt": "2020-09-27T17:39:17Z", "author": {"login": "ravenbuilder934"}, "path": "src/main/resources/assets/minecolonies/lang/en_us.json", "diffHunk": "@@ -29,6 +29,9 @@\n   \"minecolonies.config.generatesupplyloot\": \"Supply loot\",\n   \"minecolonies.config.generatesupplyloot.comment\": \"Whether to generate supply ship/camps in chests occasionally. [Default: true]\",\n \n+  \"minecolonies.config.forceloadcolony\": \"Force Load Colony\",\n+  \"minecolonies.config.forceloadcolony.comment\": \"Whether if part of the colony is loaded, all chunks should be kept loaded by force. [Default: false]\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6671fc1433695f64a5b82a70e855715912c9b66b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46c7e5b820ab14778e99dc96971d28570d2afc0c", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/46c7e5b820ab14778e99dc96971d28570d2afc0c", "committedDate": "2020-09-27T17:44:04Z", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d0517459ff8232e8616d51b777f89af18076f4f", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/9d0517459ff8232e8616d51b777f89af18076f4f", "committedDate": "2020-09-28T21:47:56Z", "message": "fix vine pathing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9595b9c928a993f20309f04748972f7cb3f82211", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/9595b9c928a993f20309f04748972f7cb3f82211", "committedDate": "2020-09-28T21:48:10Z", "message": "Merge remote-tracking branch 'origin/feature/partial-chunkload' into feature/partial-chunkload"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3OTI3NzUx", "url": "https://github.com/ldtteam/minecolonies/pull/5839#pullrequestreview-497927751", "createdAt": "2020-09-28T21:55:27Z", "commit": {"oid": "9595b9c928a993f20309f04748972f7cb3f82211"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Mjg2Mzg1", "url": "https://github.com/ldtteam/minecolonies/pull/5839#pullrequestreview-498286385", "createdAt": "2020-09-29T09:34:20Z", "commit": {"oid": "9595b9c928a993f20309f04748972f7cb3f82211"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1950, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}