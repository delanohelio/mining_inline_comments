{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MDY5Nzgw", "number": 5223, "title": "Adds builder name to decoration build complete message", "bodyText": "Signed-off-by: Mark E. Schill Mark.Schill@cmschill.net\nCloses #5188\nCloses #\nCloses #\nChanges proposed in this pull request:\n\n\n\n\n\nReview please", "createdAt": "2020-06-13T22:58:52Z", "url": "https://github.com/ldtteam/minecolonies/pull/5223", "merged": true, "mergeCommit": {"oid": "662e3316227c309ff77825e6c9a35f108c478667"}, "closed": true, "closedAt": "2020-06-16T18:53:53Z", "author": {"login": "PowerSchill"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcq_n4ggH2gAyNDM0MDY5NzgwOmYyOGRiY2MxMGY2ZTU1YzM0OWYzMDFhNTJmZjZmNDFhOGQzYTU1NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr56y1AFqTQzMTgwMjExOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556", "author": {"user": {"login": "PowerSchill", "name": "Mark E. Schill"}}, "url": "https://github.com/ldtteam/minecolonies/commit/f28dbcc10f6e55c349f301a52ff6f41a8d3a5556", "committedDate": "2020-06-13T22:58:29Z", "message": "Adds builder name to decoration build complete message\n\nSigned-off-by: Mark E. Schill <Mark.Schill@cmschill.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTAzNjg1", "url": "https://github.com/ldtteam/minecolonies/pull/5223#pullrequestreview-430503685", "createdAt": "2020-06-15T10:10:19Z", "commit": {"oid": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDoxMDoyMFrOGjry5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDoxMDoyMFrOGjry5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA==", "bodyText": "why does this need a try and catch?", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440070884", "createdAt": "2020-06-15T10:10:20Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/colony/workorders/WorkOrderBuildDecoration.java", "diffHunk": "@@ -226,13 +227,38 @@ public void onCompleted(final IColony colony)\n         {\n             final int level = ((WorkOrderBuildBuilding) this).getUpgradeLevel();\n             AdvancementUtils.TriggerAdvancementPlayersForColony(colony, player ->\n-                    AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, level));\n+                                                                          AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, level));\n         }\n         else\n         {\n+\n+\n             AdvancementUtils.TriggerAdvancementPlayersForColony(colony, player ->\n-                    AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, 0));\n-            LanguageHandler.sendPlayersMessage(colony.getMessagePlayerEntities(),COM_MINECOLONIES_COREMOD_ENTITY_BUILDER_BUILDCOMPLETE,getStructureName());\n+                                                                          AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, 0));\n+\n+            String builder = \"\";\n+            for (ICitizenData citizen : colony.getCitizenManager().getCitizens())\n+            {\n+                try\n+                {\n+                    if (citizen.getWorkBuilding().getPosition().equals(this.getClaimedBy()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTc0MjA4", "url": "https://github.com/ldtteam/minecolonies/pull/5223#pullrequestreview-430574208", "createdAt": "2020-06-15T11:58:48Z", "commit": {"oid": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2640196f551624be1b92249c4b9194d7e3c0f8a", "author": {"user": {"login": "PowerSchill", "name": "Mark E. Schill"}}, "url": "https://github.com/ldtteam/minecolonies/commit/a2640196f551624be1b92249c4b9194d7e3c0f8a", "committedDate": "2020-06-16T18:00:56Z", "message": "Updates onCompleted to accept citizen data\n\nSigned-off-by: Mark E. Schill <Mark.Schill@cmschill.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f", "committedDate": "2020-06-16T18:23:42Z", "message": "Merge branch 'version/1.15' into feature/decoration_message_builder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODAxODEy", "url": "https://github.com/ldtteam/minecolonies/pull/5223#pullrequestreview-431801812", "createdAt": "2020-06-16T18:53:11Z", "commit": {"oid": "540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODAyMTE4", "url": "https://github.com/ldtteam/minecolonies/pull/5223#pullrequestreview-431802118", "createdAt": "2020-06-16T18:53:38Z", "commit": {"oid": "540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2165, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}