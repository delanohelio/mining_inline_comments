{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MzM1ODQ5", "number": 5941, "title": "Track recipe usage by token in the recipe  manager", "bodyText": "Changes proposed in this pull request:\nThis enables tracking of all recipes used in the world, and filters the global recipe store by what is used during save.\nThis will help keep colony.dat storage down to just what is necessary.\nThis also clears the recipe list on world unload, so that the recipe list doesn't bleed over between worlds when switching between single player worlds.\nReview please", "createdAt": "2020-10-17T19:31:54Z", "url": "https://github.com/ldtteam/minecolonies/pull/5941", "merged": true, "mergeCommit": {"oid": "d98564c864f7a3982e1e1858d865392e685006ad"}, "closed": true, "closedAt": "2020-10-19T13:03:38Z", "author": {"login": "Mekle001"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTgKH8gH2gAyNTA1MzM1ODQ5OjQ0YTBkNjJlZjY5MDlhYzQxZDZmMGNiZTEwMTNhOGUzMmU5ZTRjMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUD0UfgH2gAyNTA1MzM1ODQ5OjQxMzVmOGNlYzNhMTUyM2EyMjQxODYyMjcyNzI0M2Y5YWI1OTI2ZTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15", "committedDate": "2020-10-17T19:29:49Z", "message": "Track recipe usage by token in the recipe  manager"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMDExNDU1", "url": "https://github.com/ldtteam/minecolonies/pull/5941#pullrequestreview-511011455", "createdAt": "2020-10-17T19:58:26Z", "commit": {"oid": "44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxOTo1ODoyNlrOHjfgdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxOTo1ODoyNlrOHjfgdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3ODQyMg==", "bodyText": "No need to check contains - add already does that.", "url": "https://github.com/ldtteam/minecolonies/pull/5941#discussion_r506978422", "createdAt": "2020-10-17T19:58:26Z", "author": {"login": "MatthiasMann"}, "path": "src/main/java/com/minecolonies/coremod/colony/requestsystem/management/manager/StandardRecipeManager.java", "diffHunk": "@@ -96,4 +111,20 @@ public void read(@NotNull final CompoundNBT compound)\n         }\n         cache = null;\n     }\n+\n+    @Override\n+    public void reset()\n+    {\n+        recipes.clear();\n+        usedRecipes.clear();\n+    }\n+\n+    @Override\n+    public void registerUse(final IToken<?> token)\n+    {\n+        if(!usedRecipes.contains(token))\n+        {\n+            usedRecipes.add(token);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0f7c5ce2c852a86269b13c0d14676d5952d8e59", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/d0f7c5ce2c852a86269b13c0d14676d5952d8e59", "committedDate": "2020-10-17T20:02:41Z", "message": "remove contains checks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbd645671e8d7808c8d1945ce96645af24ebbc9f", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/fbd645671e8d7808c8d1945ce96645af24ebbc9f", "committedDate": "2020-10-18T14:18:19Z", "message": "Merge branch 'version/1.15' into clean/globalrecipes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjM4MDAy", "url": "https://github.com/ldtteam/minecolonies/pull/5941#pullrequestreview-511638002", "createdAt": "2020-10-19T10:51:24Z", "commit": {"oid": "fbd645671e8d7808c8d1945ce96645af24ebbc9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjU0ODUz", "url": "https://github.com/ldtteam/minecolonies/pull/5941#pullrequestreview-511654853", "createdAt": "2020-10-19T11:16:27Z", "commit": {"oid": "fbd645671e8d7808c8d1945ce96645af24ebbc9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4135f8cec3a1523a22418622727243f9ab5926e8", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/4135f8cec3a1523a22418622727243f9ab5926e8", "committedDate": "2020-10-19T13:02:35Z", "message": "Merge branch 'version/1.15' into clean/globalrecipes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1782, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}