{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NDU1Nzc2", "number": 4711, "title": "Raiders and other Fixes", "bodyText": "Closes #4705\nCloses #4697\nCloses #4684\nChanges proposed in this pull request:\nAdd support for random pirate ship rotations, disabled for now till spawners are within schematics.\nAdd pathing options, which contains stuff like custom weights and wether swimming/rails etc is allowed\nRaiders have a lower height cost, and pirates a lower swim cost.\nAdded water-enter cost, which is high and reduced water cost when already swimming\nFix: Raids initial spawn position got reworked, no longer spawns in the middle of a colony and is more randomly distributed now. The spawn pos is more dynamic now depending on loaded buildings and keeps a min distance to buildings.\nFix: replace deprecated isBlockLoaded with isBlockPresent\nFix: Pirates spawning on the very top of their ships\nFix: Lumberjack now does cut down leaves in his way, previously he was stuck in pathing before trying to do so.\nFix: Water pathing sometimes running off, due to our paths beeing 1block above the water and the entity getting stuck in jumping, no longer accepting other movement.\nFix: Pathing jumps with slabs & co\nFix: Pathing not working when the destination wasnt reached, now uses the closes node.\nFix: Pathing not properly flagging the starting node as swimming/rails\nFix: Pathing sometimes early-outing a different node than intended, causing iffy pathing occasionally\nFix: Error upon placing townhall with building tool and no colony\nReview please", "createdAt": "2020-04-22T18:14:38Z", "url": "https://github.com/ldtteam/minecolonies/pull/4711", "merged": true, "mergeCommit": {"oid": "5fc5e89d5003a69b49a418bc00cc3d8c9995edea"}, "closed": true, "closedAt": "2020-04-23T11:21:39Z", "author": {"login": "someaddons"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaLgpuAH2gAyNDA3NDU1Nzc2OjMzYzUxNzI1Y2U5YThkZmFhYzNhMzE2OWY5NDE2YWFlOGY3ZjlhM2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaY2eQAFqTM5ODg4NDIzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "33c51725ce9a8dfaac3a3169f9416aae8f7f9a3e", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/33c51725ce9a8dfaac3a3169f9416aae8f7f9a3e", "committedDate": "2020-04-22T17:12:44Z", "message": "Fix Raider pathing and spawnpoints\nFix Lumberjack stuck in leaves\nFix using deprecated isBlockLoaded instead of isBLockPresent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "284a06f707e13cce861a90fcb3e5e2a978412a0e", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/284a06f707e13cce861a90fcb3e5e2a978412a0e", "committedDate": "2020-04-22T17:37:46Z", "message": "remove logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NDk4MDYz", "url": "https://github.com/ldtteam/minecolonies/pull/4711#pullrequestreview-398498063", "createdAt": "2020-04-22T19:13:44Z", "commit": {"oid": "284a06f707e13cce861a90fcb3e5e2a978412a0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToxMzo0NFrOGKGy7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToxMzo0NFrOGKGy7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI1MDI4NQ==", "bodyText": "If they are not constants, lowercase", "url": "https://github.com/ldtteam/minecolonies/pull/4711#discussion_r413250285", "createdAt": "2020-04-22T19:13:44Z", "author": {"login": "Raycoms"}, "path": "src/api/java/com/minecolonies/api/entity/pathfinding/PathingOptions.java", "diffHunk": "@@ -0,0 +1,133 @@\n+package com.minecolonies.api.entity.pathfinding;\n+\n+/**\n+ * Configuration values for pathing, used by pathjobs and normally set through the navigator\n+ */\n+public class PathingOptions\n+{\n+    /**\n+     * Additional cost of jumping and dropping - base 1.\n+     */\n+    public double JUMP_DROP_COST = 2.0D;\n+\n+    /**\n+     * Cost improvement of paths - base 1.\n+     */\n+    public double ON_PATH_COST = 0.1D;\n+\n+    /**\n+     * Cost improvement of paths - base 1.\n+     */\n+    public double ON_RAIL_COST = 0.01D;\n+\n+    /**\n+     * The rails exit cost.\n+     */\n+    public double RAILS_EXIT_COST = 5;\n+\n+    /**\n+     * Additional cost of swimming - base 1.\n+     */\n+    public double SWIM_COST = 1.5D;\n+\n+    /**\n+     * Additional cost enter entering water\n+     */\n+    public double SWIM_COST_ENTER = 25D;\n+\n+    /**\n+     * Whether to use minecart rail pathing\n+     */\n+    private boolean canUseRails  = false;\n+    /**\n+     * Can swim\n+     */\n+    private boolean canSwim      = false;\n+    /**\n+     * Allowed to enter doors?\n+     */\n+    private boolean enterDoors   = false;\n+    /**\n+     * Allowed to open doors?\n+     */\n+    private boolean canOpenDoors = false;\n+\n+    public PathingOptions()\n+    {}\n+\n+    public boolean canOpenDoors()\n+    {\n+        return canOpenDoors;\n+    }\n+\n+    public void setCanOpenDoors(final boolean canOpenDoors)\n+    {\n+        this.canOpenDoors = canOpenDoors;\n+    }\n+\n+    public boolean canUseRails()\n+    {\n+        return canUseRails;\n+    }\n+\n+    public void setCanUseRails(final boolean canUseRails)\n+    {\n+        this.canUseRails = canUseRails;\n+    }\n+\n+    public boolean canSwim()\n+    {\n+        return canSwim;\n+    }\n+\n+    public void setCanSwim(final boolean canSwim)\n+    {\n+        this.canSwim = canSwim;\n+    }\n+\n+    public boolean canEnterDoors()\n+    {\n+        return enterDoors;\n+    }\n+\n+    public void setEnterDoors(final boolean enterDoors)\n+    {\n+        this.enterDoors = enterDoors;\n+    }\n+\n+    public PathingOptions withStartSwimCost(final double startSwimCost)\n+    {\n+        SWIM_COST_ENTER = startSwimCost;\n+        return this;\n+    }\n+\n+    public PathingOptions withSwimCost(final double swimCost)\n+    {\n+        SWIM_COST = swimCost;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "284a06f707e13cce861a90fcb3e5e2a978412a0e"}, "originalPosition": 106}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11f73e15816822e77b725eab74aeedfab0148445", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/11f73e15816822e77b725eab74aeedfab0148445", "committedDate": "2020-04-22T19:20:05Z", "message": "Merge branch 'version/1.15' into raiderFix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbc55765a9f92ad7b356807b06841c18f1fb1837", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/cbc55765a9f92ad7b356807b06841c18f1fb1837", "committedDate": "2020-04-22T19:43:18Z", "message": "Merge remote-tracking branch 'origin/version/1.15' into raiderfix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "383d8c648405b8f50c7a94994ea632dbcfc25eb8", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/383d8c648405b8f50c7a94994ea632dbcfc25eb8", "committedDate": "2020-04-22T19:45:51Z", "message": "adjust naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a144ab250a0390e55b7ae0f2da55802a47386cb3", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/a144ab250a0390e55b7ae0f2da55802a47386cb3", "committedDate": "2020-04-22T19:51:38Z", "message": "Merge remote-tracking branch 'remotes/origin/raiderFix' into raiderfix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "318ab3c6ed8d42f5d3c61bad6662ff300d7a37af", "author": {"user": {"login": "someaddons", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/318ab3c6ed8d42f5d3c61bad6662ff300d7a37af", "committedDate": "2020-04-23T07:20:11Z", "message": "remove unnecessary dependency"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODg0MjM5", "url": "https://github.com/ldtteam/minecolonies/pull/4711#pullrequestreview-398884239", "createdAt": "2020-04-23T08:41:30Z", "commit": {"oid": "318ab3c6ed8d42f5d3c61bad6662ff300d7a37af"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo0MTozMVrOGKdykg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo0MTozMVrOGKdykg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYyNzAyNg==", "bodyText": "Why was this removed?", "url": "https://github.com/ldtteam/minecolonies/pull/4711#discussion_r413627026", "createdAt": "2020-04-23T08:41:31Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/colony/buildings/workerbuildings/BuildingTownHall.java", "diffHunk": "@@ -113,10 +113,6 @@ public void serializeToView(@NotNull final PacketBuffer buf)\n     @Override\n     public int getClaimRadius(final int newLevel)\n     {\n-        if (newLevel + 1 < MineColonies.getConfig().getCommon().minTownHallPadding.get())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "318ab3c6ed8d42f5d3c61bad6662ff300d7a37af"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2202, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}