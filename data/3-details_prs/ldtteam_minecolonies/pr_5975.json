{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4NTUwMTk1", "number": 5975, "title": "Add a couple more blocks to deco phase", "bodyText": "Changes proposed in this pull request:\n\nAdd Banners to deco phase of build\nAdd Wall signs to deco phase of build\n\n\nReview please", "createdAt": "2020-10-22T20:47:53Z", "url": "https://github.com/ldtteam/minecolonies/pull/5975", "merged": true, "mergeCommit": {"oid": "6d7f0aef036e0e0b586d883b243d0efb8bd60f78"}, "closed": true, "closedAt": "2020-10-26T20:17:53Z", "author": {"login": "Mekle001"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVIQATAH2gAyNTA4NTUwMTk1OmY2YzRjZDYxNGMzMTc1NWE3MmUyZmJhNmUyZWJjMzhkMDU3YmY4ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWaKNRgFqTUxNzEzODIzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f6c4cd614c31755a72e2fba6e2ebc38d057bf887", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/f6c4cd614c31755a72e2fba6e2ebc38d057bf887", "committedDate": "2020-10-22T20:46:22Z", "message": "Add a couple more blocks to deco phase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDIwMDIx", "url": "https://github.com/ldtteam/minecolonies/pull/5975#pullrequestreview-515420021", "createdAt": "2020-10-23T07:45:09Z", "commit": {"oid": "f6c4cd614c31755a72e2fba6e2ebc38d057bf887"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0NTowOVrOHnCb_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0NToyNlrOHnCcoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NjQ0NQ==", "bodyText": "Yeah no, this is now officially way to much OR-InstanceOf combos.\nAdd a config entry todo this, or add a simple list based registry in the api, regardless this is not a great maintainable approach anymore.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r510696445", "createdAt": "2020-10-23T07:45:09Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -238,6 +238,14 @@ public boolean walkToConstructionSite(final BlockPos currentBlock)\n         return worker.isWorkerAtSiteWithMove(workFrom, STANDARD_WORKING_RANGE) || MathUtils.twoDimDistance(worker.getPosition(), workFrom) < MIN_WORKING_RANGE;\n     }\n \n+    /**\n+     * Checks for blocks that need to be treated as deco\n+     */\n+    protected boolean isDecoItem(Block block)\n+    {\n+        return block instanceof CoralBlock || block instanceof LanternBlock || block instanceof BannerBlock || block instanceof WallSignBlock;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6c4cd614c31755a72e2fba6e2ebc38d057bf887"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NjYwOA==", "bodyText": "Or add a Tag?\nThat would probably be the best approach.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r510696608", "createdAt": "2020-10-23T07:45:26Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -238,6 +238,14 @@ public boolean walkToConstructionSite(final BlockPos currentBlock)\n         return worker.isWorkerAtSiteWithMove(workFrom, STANDARD_WORKING_RANGE) || MathUtils.twoDimDistance(worker.getPosition(), workFrom) < MIN_WORKING_RANGE;\n     }\n \n+    /**\n+     * Checks for blocks that need to be treated as deco\n+     */\n+    protected boolean isDecoItem(Block block)\n+    {\n+        return block instanceof CoralBlock || block instanceof LanternBlock || block instanceof BannerBlock || block instanceof WallSignBlock;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NjQ0NQ=="}, "originalCommit": {"oid": "f6c4cd614c31755a72e2fba6e2ebc38d057bf887"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbab25aa800af6f52a0913ea40deb49e204cd646", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/bbab25aa800af6f52a0913ea40deb49e204cd646", "committedDate": "2020-10-23T15:53:00Z", "message": "Switch to tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e90449112130ff6a7d5f40144f59cf221eb28f01", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/e90449112130ff6a7d5f40144f59cf221eb28f01", "committedDate": "2020-10-23T15:54:52Z", "message": "move tag file appropriately"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTAyNjAz", "url": "https://github.com/ldtteam/minecolonies/pull/5975#pullrequestreview-515902603", "createdAt": "2020-10-23T18:19:56Z", "commit": {"oid": "e90449112130ff6a7d5f40144f59cf221eb28f01"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxODoxOTo1NlrOHnYpww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxODoxOTo1NlrOHnYpww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA2MDQxOQ==", "bodyText": "This is not the way to do tags.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r511060419", "createdAt": "2020-10-23T18:19:56Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -147,6 +160,8 @@ protected AbstractEntityAIStructure(@NotNull final J job)\n            */\n           new AITarget(COMPLETE_BUILD, this::completeBuild, STANDARD_DELAY)\n         );\n+\n+        decoItems = BlockTags.getCollection().getOrCreate(new ResourceLocation(MOD_ID, DECOBLOCK_TAG));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e90449112130ff6a7d5f40144f59cf221eb28f01"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b1c44c8acd596414b8e31d7d3d92dc103c4c01f", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/0b1c44c8acd596414b8e31d7d3d92dc103c4c01f", "committedDate": "2020-10-23T20:37:29Z", "message": "Switch to static"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2Mjk0NDI0", "url": "https://github.com/ldtteam/minecolonies/pull/5975#pullrequestreview-516294424", "createdAt": "2020-10-24T17:39:03Z", "commit": {"oid": "0b1c44c8acd596414b8e31d7d3d92dc103c4c01f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQxNzozOTowNFrOHnzOxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQxNzozOTowNFrOHnzOxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTg3Nw==", "bodyText": "No. As discussed moved the actual tag instance to a dedicated class in the API which will group all of these.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r511495877", "createdAt": "2020-10-24T17:39:04Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIStructure.java", "diffHunk": "@@ -80,6 +83,16 @@\n         RECALC\n     }\n \n+    /**\n+     * Tagname for decoration blocks\n+     */\n+    private static String DECOBLOCK_TAG = \"decoblocks\";\n+\n+    /**\n+     * Tag of all the blocks that need to be in the deco phase of the builder\n+     */\n+    protected static Tag<Block> decoItems;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b1c44c8acd596414b8e31d7d3d92dc103c4c01f"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4daa639109b123010bf7072d2e2b9d50bf6fbef7", "author": {"user": {"login": "Raycoms", "name": null}}, "url": "https://github.com/ldtteam/minecolonies/commit/4daa639109b123010bf7072d2e2b9d50bf6fbef7", "committedDate": "2020-10-25T14:32:57Z", "message": "Merge branch 'version/1.15' into moredeco"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb50f5d8ef920efe0f8e279d6488ecd88377cc04", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/bb50f5d8ef920efe0f8e279d6488ecd88377cc04", "committedDate": "2020-10-26T03:36:37Z", "message": "Central tag implementation, and update to use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24f4c96a854ab3c3bfc85e8ee3579b8dab28d1bd", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/24f4c96a854ab3c3bfc85e8ee3579b8dab28d1bd", "committedDate": "2020-10-26T03:37:28Z", "message": "clean up imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a1acf73d5351f2d79548ac53a954b51f223eaa1", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/5a1acf73d5351f2d79548ac53a954b51f223eaa1", "committedDate": "2020-10-26T04:39:52Z", "message": "Merge branch 'version/1.15' into moredeco"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzUxNDUz", "url": "https://github.com/ldtteam/minecolonies/pull/5975#pullrequestreview-516751453", "createdAt": "2020-10-26T13:01:55Z", "commit": {"oid": "5a1acf73d5351f2d79548ac53a954b51f223eaa1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzowMTo1NVrOHoOarA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzowMjoxNlrOHoObYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk0MTI5Mg==", "bodyText": "Initialize this straight up as a final hashmap.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r511941292", "createdAt": "2020-10-26T13:01:55Z", "author": {"login": "OrionDevelopment"}, "path": "src/api/java/com/minecolonies/api/items/ModTags.java", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.minecolonies.api.items;\n+\n+import java.util.Map;\n+\n+import net.minecraft.block.Block;\n+import net.minecraft.item.Item;\n+import net.minecraft.tags.Tag;\n+\n+public class ModTags\n+{\n+    public static Tag<Block>    decorationItems;\n+    public static Tag<Item>     concretePowder;\n+    public static Tag<Block>    concreteBlock;\n+    public static Tag<Block>    pathingBlocks;\n+\n+    public static Map<String, Tag<Item>> crafterProduct;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1acf73d5351f2d79548ac53a954b51f223eaa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk0MTQ3NQ==", "bodyText": "Not needed.\nWe use named tags as such we do not need this.", "url": "https://github.com/ldtteam/minecolonies/pull/5975#discussion_r511941475", "createdAt": "2020-10-26T13:02:16Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/com/minecolonies/apiimp/initializer/ModTagsInitializer.java", "diffHunk": "@@ -0,0 +1,137 @@\n+package com.minecolonies.apiimp.initializer;\n+\n+import com.minecolonies.api.items.ModTags;\n+import com.minecolonies.api.util.constant.Constants;\n+import net.minecraft.block.Block;\n+import net.minecraft.item.Item;\n+import net.minecraft.tags.BlockTags;\n+import net.minecraft.tags.ItemTags;\n+import net.minecraft.tags.Tag;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraftforge.event.TagsUpdatedEvent;\n+import net.minecraftforge.eventbus.api.SubscribeEvent;\n+import net.minecraftforge.fml.common.Mod;\n+import net.minecraftforge.registries.ObjectHolder;\n+import static com.minecolonies.api.util.constant.Constants.MOD_ID;\n+import java.util.HashMap;\n+\n+@ObjectHolder(Constants.MOD_ID)\n+@Mod.EventBusSubscriber(modid = Constants.MOD_ID, bus = Mod.EventBusSubscriber.Bus.FORGE)\n+public class ModTagsInitializer\n+{\n+    /**\n+     * The name of the tag (crafter) for improving recipes\n+     */\n+    private static final String REDUCEABLE = \"reduceable\";\n+\n+    /**\n+     * Tag specifier for Products to Include\n+     */\n+    private static final String PRODUCT = \"_product\";\n+\n+    /**\n+     * Tag specifier for Products to Exclude\n+     */\n+    private static final String PRODUCT_EXCLUDED = \"_product_excluded\";\n+\n+    /**\n+     * Tag specifier for Ingredients to include\n+     */\n+    private static final String INGREDIENT = \"_ingredient\";\n+\n+    /**\n+     * Tag specifier for Ingredients to exclude\n+     */\n+    private static final String INGREDIENT_EXCLUDED = \"_ingredient_excluded\";\n+\n+    private static final ResourceLocation DECORATION_ITEMS = new ResourceLocation(MOD_ID, \"decoblocks\");\n+    private static final ResourceLocation CONCRETE_POWDER = new ResourceLocation(MOD_ID, \"concrete_powder\");\n+    private static final ResourceLocation CONCRETE_BLOCK  = new ResourceLocation(MOD_ID, \"concrete\");\n+    private static final ResourceLocation PATHING_BLOCKS = new ResourceLocation(MOD_ID, \"pathblocks\");\n+\n+\n+    @SubscribeEvent\n+    public static void tagsUpdated(TagsUpdatedEvent event)\n+    {\n+        ModTagsInitializer.init();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1acf73d5351f2d79548ac53a954b51f223eaa1"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "646244016ff0dfdc77c6c5e8b6a4a1a6f282e9ae", "author": {"user": {"login": "Mekle001", "name": "Mike Garlick"}}, "url": "https://github.com/ldtteam/minecolonies/commit/646244016ff0dfdc77c6c5e8b6a4a1a6f282e9ae", "committedDate": "2020-10-26T20:07:05Z", "message": "Update Initialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTM4MjMz", "url": "https://github.com/ldtteam/minecolonies/pull/5975#pullrequestreview-517138233", "createdAt": "2020-10-26T20:12:15Z", "commit": {"oid": "646244016ff0dfdc77c6c5e8b6a4a1a6f282e9ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1792, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}