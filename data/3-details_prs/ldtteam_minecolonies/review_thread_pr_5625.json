{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxMjYxMzIy", "number": 5625, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMTo1ODo1NFrOEauHvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMTo1ODo1NFrOEauHvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NDU0MDc2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/minecolonies/coremod/entity/citizen/citizenhandlers/CitizenSleepHandler.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMTo1ODo1NFrOHEUuLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMjoyNzoxN1rOHEVXTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDI5NTg1NA==", "bodyText": "Can't we get this directly from the job? So that we create a method in the job that we override? Might scale better", "url": "https://github.com/ldtteam/minecolonies/pull/5625#discussion_r474295854", "createdAt": "2020-08-20T21:58:54Z", "author": {"login": "Raycoms"}, "path": "src/main/java/com/minecolonies/coremod/entity/citizen/citizenhandlers/CitizenSleepHandler.java", "diffHunk": "@@ -299,17 +302,30 @@ public float getRenderOffsetZ()\n     public boolean shouldGoSleep()\n     {\n         final BlockPos homePos = findHomePos();\n-        final BlockPos citizenPos = citizen.getPosition();\n+        BlockPos citizenPos = citizen.getPosition();\n+\n+        int additionalDist = 0;\n+\n+        // Additional distance for miners\n+        if (citizen.getCitizenData().getJob() instanceof JobMiner && citizen.getCitizenData().getWorkBuilding().getPosition().getY() - 20 > citizenPos.getY())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95cf293c472dcf272c5cf2107e89df60ee1e2f12"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDMwNjM4MQ==", "bodyText": "ye technically I can add it for all jobs instead, question is if we'd actually use that", "url": "https://github.com/ldtteam/minecolonies/pull/5625#discussion_r474306381", "createdAt": "2020-08-20T22:27:17Z", "author": {"login": "someaddons"}, "path": "src/main/java/com/minecolonies/coremod/entity/citizen/citizenhandlers/CitizenSleepHandler.java", "diffHunk": "@@ -299,17 +302,30 @@ public float getRenderOffsetZ()\n     public boolean shouldGoSleep()\n     {\n         final BlockPos homePos = findHomePos();\n-        final BlockPos citizenPos = citizen.getPosition();\n+        BlockPos citizenPos = citizen.getPosition();\n+\n+        int additionalDist = 0;\n+\n+        // Additional distance for miners\n+        if (citizen.getCitizenData().getJob() instanceof JobMiner && citizen.getCitizenData().getWorkBuilding().getPosition().getY() - 20 > citizenPos.getY())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDI5NTg1NA=="}, "originalCommit": {"oid": "95cf293c472dcf272c5cf2107e89df60ee1e2f12"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3426, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}