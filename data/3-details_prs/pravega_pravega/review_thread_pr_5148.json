{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzE2MzE0", "number": 5148, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNToyMToxM1rOEgyLUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNToyMToxM1rOEgyLUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODExOTg2OnYy", "diffSide": "RIGHT", "path": "docker/pravega/scripts/init_kubernetes.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNToyMToxM1rOHNwgFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMzo0NVrOHNxlWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4ODE4Mg==", "bodyText": "as discussed with Ravi, I see this as a Precondition check before starting Segment store. And the startup  on k8s should not happen if the precondition fails.", "url": "https://github.com/pravega/pravega/pull/5148#discussion_r484188182", "createdAt": "2020-09-07T05:21:13Z", "author": {"login": "shrids"}, "path": "docker/pravega/scripts/init_kubernetes.sh", "diffHunk": "@@ -47,6 +47,13 @@ init_kubernetes() {\n         local podname=${POD_NAME}\n         export PUBLISHED_ADDRESS=\"\"\n         export PUBLISHED_PORT=\"\"\n+        local service=$( k8 \"${ns}\" \"services\" \"${podname}\" .kind )\n+\n+        while [[  \"$service\" != \"Service\" ]]; ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6eea95da722eb471ecb13d0717fd5d64d6b6762"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNTkxMg==", "bodyText": "I have removed the loop and have added exit condition now.", "url": "https://github.com/pravega/pravega/pull/5148#discussion_r484205912", "createdAt": "2020-09-07T06:23:45Z", "author": {"login": "Prabhaker24"}, "path": "docker/pravega/scripts/init_kubernetes.sh", "diffHunk": "@@ -47,6 +47,13 @@ init_kubernetes() {\n         local podname=${POD_NAME}\n         export PUBLISHED_ADDRESS=\"\"\n         export PUBLISHED_PORT=\"\"\n+        local service=$( k8 \"${ns}\" \"services\" \"${podname}\" .kind )\n+\n+        while [[  \"$service\" != \"Service\" ]]; ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4ODE4Mg=="}, "originalCommit": {"oid": "b6eea95da722eb471ecb13d0717fd5d64d6b6762"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4675, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}