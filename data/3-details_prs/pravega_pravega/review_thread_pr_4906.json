{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNDI4MDEy", "number": 4906, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzozMjowOVrOEKZZFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzozMjowOVrOEKZZFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MzM3MjM5OnYy", "diffSide": "RIGHT", "path": "controller/src/main/java/io/pravega/controller/metrics/StreamMetrics.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzozMjowOVrOGraN6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTowNDozM1rOGrdZlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE3MTQ5OA==", "bodyText": "this is counting how many scopes this controller instance has created so far.. right?\nif the intention for this metrics is to be per controller instance, then this seems fine, but if it reports a value, then two different controller instances could report different values.", "url": "https://github.com/pravega/pravega/pull/4906#discussion_r448171498", "createdAt": "2020-07-01T07:32:09Z", "author": {"login": "shiveshr"}, "path": "controller/src/main/java/io/pravega/controller/metrics/StreamMetrics.java", "diffHunk": "@@ -93,6 +104,16 @@ public void createStream(String scope, String streamName, int minNumSegments, Du\n         createStreamLatency.reportSuccessValue(latency.toMillis());\n     }\n \n+    /**\n+     * This method increments the global counter of Scope creations and reports the latency of the operation.\n+     *\n+     * @param latency           Latency of the createStream operation.\n+     */\n+    public void createScope(Duration latency) {\n+        DYNAMIC_LOGGER.incCounterValue(CREATE_SCOPE, 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbc4b6e5483a35217e79e5193a5b94e01185f128"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIyMzYzOQ==", "bodyText": "The values from multiple Controllers will be aggregated at the InfluxDB level when collecting the metrics.", "url": "https://github.com/pravega/pravega/pull/4906#discussion_r448223639", "createdAt": "2020-07-01T09:04:33Z", "author": {"login": "RaulGracia"}, "path": "controller/src/main/java/io/pravega/controller/metrics/StreamMetrics.java", "diffHunk": "@@ -93,6 +104,16 @@ public void createStream(String scope, String streamName, int minNumSegments, Du\n         createStreamLatency.reportSuccessValue(latency.toMillis());\n     }\n \n+    /**\n+     * This method increments the global counter of Scope creations and reports the latency of the operation.\n+     *\n+     * @param latency           Latency of the createStream operation.\n+     */\n+    public void createScope(Duration latency) {\n+        DYNAMIC_LOGGER.incCounterValue(CREATE_SCOPE, 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE3MTQ5OA=="}, "originalCommit": {"oid": "bbc4b6e5483a35217e79e5193a5b94e01185f128"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4775, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}