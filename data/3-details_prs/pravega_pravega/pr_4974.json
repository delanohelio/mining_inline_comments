{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MDYxMDY1", "number": 4974, "title": "Issues 4973, 4997: Make .codecov.yml valid, set 80% patch target", "bodyText": "Change log description\nRemove invalid against key. Also remove keys set to redundant default values. Add a 'patch' stanza to enforce an 80% code coverage target per branch.\nPurpose of the change\nFixes #4973, fixes #4997\nWhat the code does\n.codecov.yml passes validation, which activates project threshold, and sets patch target to 80%\nHow to verify it\ncurl -X POST --data-binary @.codecov.yml https://codecov.io/validate\nThis PR should reflect any side-effects to making the file valid again.", "createdAt": "2020-07-24T03:55:41Z", "url": "https://github.com/pravega/pravega/pull/4974", "merged": true, "mergeCommit": {"oid": "87c20121901b100a5731474a3c0994f4d0a1b8ea"}, "closed": true, "closedAt": "2020-08-14T10:13:25Z", "author": {"login": "derekm"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3_C1fAFqTQ1NDY4NzkxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-x00xAFqTQ2NzQ2MzYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Njg3OTEy", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-454687912", "createdAt": "2020-07-24T07:39:02Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NzU1Njg2", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-456755686", "createdAt": "2020-07-28T15:32:16Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODYzODQ3", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-456863847", "createdAt": "2020-07-28T17:41:21Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNzo0MToyMVrOG4Xfiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNzo0MToyMVrOG4Xfiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1ODM0Nw==", "bodyText": "What about considering some of the parameters in the coverage.status section here:\nhttps://docs.codecov.io/docs/codecovyml-reference", "url": "https://github.com/pravega/pravega/pull/4974#discussion_r461758347", "createdAt": "2020-07-28T17:41:21Z", "author": {"login": "fpj"}, "path": ".codecov.yml", "diffHunk": "@@ -11,11 +11,10 @@ coverage:\n   status:\n     project:\n       default:\n-        against: parent\n-        target: auto\n         threshold: 0.5%\n-        branches:\n-          - master\n+    patch:\n+      default:\n+        threshold: 0.5%", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzQ3MTU5", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-460347159", "createdAt": "2020-08-03T21:17:10Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMTg5Mzk3", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-461189397", "createdAt": "2020-08-04T21:31:42Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTkwMjk3", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-461990297", "createdAt": "2020-08-05T20:14:26Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MDY4OTc4", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-466068978", "createdAt": "2020-08-12T16:12:46Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjoxMjo0NlrOG_okOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjoxMjo0NlrOG_okOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM3ODEwNw==", "bodyText": "+1; This implies the diff coverage should be 80 % (auto implies PR base branch coverage is used )  and overall coverage can be reduced by 0.5%", "url": "https://github.com/pravega/pravega/pull/4974#discussion_r469378107", "createdAt": "2020-08-12T16:12:46Z", "author": {"login": "shrids"}, "path": ".codecov.yml", "diffHunk": "@@ -11,11 +11,10 @@ coverage:\n   status:\n     project:\n       default:\n-        against: parent\n-        target: auto\n         threshold: 0.5%\n-        branches:\n-          - master\n+    patch:\n+      default:\n+        target: 80%", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83a96816f0e64102a3d5ebd01b995d467319eed5", "author": {"user": {"login": "derekm", "name": "Derek P. Moore"}}, "url": "https://github.com/pravega/pravega/commit/83a96816f0e64102a3d5ebd01b995d467319eed5", "committedDate": "2020-08-13T18:52:14Z", "message": "remove 'against' key & default values; add 'patch'\n\nSigned-off-by: Derek Moore <derek.moore@dell.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "83a96816f0e64102a3d5ebd01b995d467319eed5", "author": {"user": {"login": "derekm", "name": "Derek P. Moore"}}, "url": "https://github.com/pravega/pravega/commit/83a96816f0e64102a3d5ebd01b995d467319eed5", "committedDate": "2020-08-13T18:52:14Z", "message": "remove 'against' key & default values; add 'patch'\n\nSigned-off-by: Derek Moore <derek.moore@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44599ea3d3d60369918fed8a72e1c7fe5034c0a9", "author": {"user": {"login": "fpj", "name": "Flavio Junqueira"}}, "url": "https://github.com/pravega/pravega/commit/44599ea3d3d60369918fed8a72e1c7fe5034c0a9", "committedDate": "2020-08-13T21:22:33Z", "message": "Merge branch 'master' into fix-codecov-yaml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTQyMjcz", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-467142273", "createdAt": "2020-08-13T21:26:20Z", "commit": {"oid": "44599ea3d3d60369918fed8a72e1c7fe5034c0a9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a11597cf54acf559c77dda19173892e6896bdb89", "author": {"user": {"login": "shrids", "name": "Sandeep"}}, "url": "https://github.com/pravega/pravega/commit/a11597cf54acf559c77dda19173892e6896bdb89", "committedDate": "2020-08-14T03:38:51Z", "message": "Merge branch 'master' into fix-codecov-yaml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NDYzNjA3", "url": "https://github.com/pravega/pravega/pull/4974#pullrequestreview-467463607", "createdAt": "2020-08-14T10:12:26Z", "commit": {"oid": "a11597cf54acf559c77dda19173892e6896bdb89"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3977, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}