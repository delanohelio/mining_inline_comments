{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwNjY5MjI0", "number": 5429, "title": "Issue 5098: Rest Server Refactoring (2/4).", "bodyText": "Change log description\nFactors out the REST server from the controller project into a shared:rest project. While consumable by any other project, the feature driving this change is integration of the segmentstore project with a health checking service.\nPurpose of the change\nLogically part of the work necessary to accomplish #5098.\nWhat the code does\nAbstracts out any controller specific notions and relocates the (slightly) abstracted code into a shared:rest project.\nHow to verify it\n(Optional: steps to verify that the changes are effective)", "createdAt": "2020-12-15T20:15:45Z", "url": "https://github.com/pravega/pravega/pull/5429", "merged": true, "mergeCommit": {"oid": "50a6ea193468acc4949d566b52287836d55285f5"}, "closed": true, "closedAt": "2021-06-21T22:22:34Z", "author": {"login": "co-jo"}, "timelineItems": {"totalCount": 57, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTIK3HAH2gAyNTQwNjY5MjI0Ojc2YTgxZWU5YTc1YTBkNmI1MGQzNmUxYmUyZmEyODM2NjI0NDQ4M2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABejB-fdAFqTY4NzU4ODI2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "76a81ee9a75a0d6b50d36e1be2fa28366244483a", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/76a81ee9a75a0d6b50d36e1be2fa28366244483a", "committedDate": "2020-10-16T15:32:54Z", "message": "Testing changes to fix Jenkins name resolution problem.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d773a263dcc3db971355e77116c796a15307fd6", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/7d773a263dcc3db971355e77116c796a15307fd6", "committedDate": "2020-10-16T18:20:25Z", "message": "Fix checkstyle.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d09f4947f38844ebf526dc01c572a3374b42f17", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/2d09f4947f38844ebf526dc01c572a3374b42f17", "committedDate": "2020-10-19T08:07:09Z", "message": "Try using loopback address.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538f6b066515763bdb348e13718ab2630f4e28ea", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/538f6b066515763bdb348e13718ab2630f4e28ea", "committedDate": "2020-10-21T14:57:37Z", "message": "Use InetAddress to set Bookie advertised address.\n\nSigned-off-by: Ra\u00fal Gracia <raul.gracia@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cd5e3fa649da33121ae112c707b01ee55111076", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/3cd5e3fa649da33121ae112c707b01ee55111076", "committedDate": "2020-11-13T00:11:29Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega into upstream-master\n\n\u0001 Conflicts:\n\u0001\tcli/admin/src/test/java/io/pravega/cli/admin/bookkeeper/BookkeeperCommandsTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56a89f46895e38e479f4471046ef5e973819fbb5", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/56a89f46895e38e479f4471046ef5e973819fbb5", "committedDate": "2020-12-08T20:55:13Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega into upstream-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81196167cc0c3c6b23b7307c9d7736851fdf7b17", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/81196167cc0c3c6b23b7307c9d7736851fdf7b17", "committedDate": "2020-12-11T00:50:28Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega into upstream-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1a090d916a1b6319babc486fa46308f3f9eadb6", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/a1a090d916a1b6319babc486fa46308f3f9eadb6", "committedDate": "2020-12-11T22:22:51Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4ded3bd6eded7f9bd1f5a1145932cd67e299147", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/e4ded3bd6eded7f9bd1f5a1145932cd67e299147", "committedDate": "2020-12-14T23:43:23Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f05892b62f1721679644397f6366ca57ea38b4b", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/4f05892b62f1721679644397f6366ca57ea38b4b", "committedDate": "2020-12-14T23:48:23Z", "message": "Create new 'shared:rest' project and refactor out generic REST classes.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef73cea4bbb634886c175d8193c391e42a62d45c", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/ef73cea4bbb634886c175d8193c391e42a62d45c", "committedDate": "2020-12-15T18:41:06Z", "message": "Create new 'shared:rest' project, and refactor REST classes from 'controller' to it.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b4b19b1c9b1620a364c2eee0c8422d9e5c0056a", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/4b4b19b1c9b1620a364c2eee0c8422d9e5c0056a", "committedDate": "2020-12-15T20:12:50Z", "message": "Undo accidentally added debugging artifact.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72008078e1a6fb0c227e3390c399ac2ea9ac6d07", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/72008078e1a6fb0c227e3390c399ac2ea9ac6d07", "committedDate": "2020-12-15T20:15:26Z", "message": "Remove unused dependencies.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ecbac7e1df0ce4941cceebd5d8b59143593c46e", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/4ecbac7e1df0ce4941cceebd5d8b59143593c46e", "committedDate": "2020-12-15T20:15:52Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1b077801fedd06333409e9c8e1497c62ce71e73", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/c1b077801fedd06333409e9c8e1497c62ce71e73", "committedDate": "2020-12-15T20:28:10Z", "message": "Refactor Auth classes.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0299355938549e3c98d0fa47f0a4a673a0ebbee9", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/0299355938549e3c98d0fa47f0a4a673a0ebbee9", "committedDate": "2020-12-15T20:29:13Z", "message": "Merge remote-tracking branch 'origin/issue-5098-shared-rest-server' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ab600a12812ac275a0c5982eb819931a6c5578c", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/1ab600a12812ac275a0c5982eb819931a6c5578c", "committedDate": "2020-12-15T20:39:42Z", "message": "Refactor Auth classes.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad6d039b299e90b3e1a11582dc3c9537dbf5cfb0", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/ad6d039b299e90b3e1a11582dc3c9537dbf5cfb0", "committedDate": "2020-12-15T22:56:51Z", "message": "Merge branch 'master' of https://github.com/pravega/pravega into upstream-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84a805486d3cb785060cdca69009872fd48bb700", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/84a805486d3cb785060cdca69009872fd48bb700", "committedDate": "2020-12-16T20:18:52Z", "message": "Remove controller specific code from RESTServer constructor.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f76e662df5e9ea3a0ddf90fa6e09c2954aafc14", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/5f76e662df5e9ea3a0ddf90fa6e09c2954aafc14", "committedDate": "2020-12-16T20:59:42Z", "message": "Remove dependence on GRPC constructs.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb9d2c0b28e13c7462fcf6f8eea1b59f1835af70", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/bb9d2c0b28e13c7462fcf6f8eea1b59f1835af70", "committedDate": "2020-12-16T22:20:12Z", "message": "Avoid GRPC Config dependency.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c12fe3f6ecc0d513a1dea87afd9ca6d488e9d345", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/c12fe3f6ecc0d513a1dea87afd9ca6d488e9d345", "committedDate": "2021-01-13T23:51:16Z", "message": "Merge branch 'upstream-master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9823b320ad024ff1f21f896288631a4bb72105a4", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9823b320ad024ff1f21f896288631a4bb72105a4", "committedDate": "2021-01-13T23:52:38Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d47ee18744a0ffeffce7ec0ee5ed467d43e66f6", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/7d47ee18744a0ffeffce7ec0ee5ed467d43e66f6", "committedDate": "2021-01-14T17:40:18Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75414d969ff4ae4e475b96b4c0092ac1e0f05d31", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/75414d969ff4ae4e475b96b4c0092ac1e0f05d31", "committedDate": "2021-04-26T18:26:53Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-5098-shared-rest-server\n\n# Conflicts:\n#\tcontroller/src/main/java/io/pravega/controller/server/impl/ControllerServiceConfigImpl.java\n#\tcontroller/src/test/java/io/pravega/controller/server/rpc/auth/PravegaAuthManagerTest.java\n#\tshared/rest/src/main/java/io/pravega/shared/rest/RESTServer.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e322c28ba86496765b6628c12dfd85c3fb6df712", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/e322c28ba86496765b6628c12dfd85c3fb6df712", "committedDate": "2021-04-26T18:30:22Z", "message": "Merge remote-tracking branch 'origin/issue-5098-shared-rest-server' into issue-5098-shared-rest-server\n\n# Conflicts:\n#\tcontroller/src/test/java/io/pravega/controller/server/rpc/auth/PravegaAuthManagerTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fb93879ad20bbebc59ca5d0aa610326788b3fb9", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9fb93879ad20bbebc59ca5d0aa610326788b3fb9", "committedDate": "2021-05-03T19:12:28Z", "message": "Remove unused imports.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4d97aa306e1d8d9852067aef004ab0e54a6df5e", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/f4d97aa306e1d8d9852067aef004ab0e54a6df5e", "committedDate": "2021-04-26T19:24:40Z", "message": "Remove unused imports."}, "afterCommit": {"oid": "9fb93879ad20bbebc59ca5d0aa610326788b3fb9", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9fb93879ad20bbebc59ca5d0aa610326788b3fb9", "committedDate": "2021-05-03T19:12:28Z", "message": "Remove unused imports.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8f63da99a23a4a55452d69f836136ed8aa4f147", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/e8f63da99a23a4a55452d69f836136ed8aa4f147", "committedDate": "2021-05-03T19:13:20Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d88321292b8dc4954e6ba5d21333e41342411109", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/d88321292b8dc4954e6ba5d21333e41342411109", "committedDate": "2021-05-05T16:14:56Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fc78d97f89108f5bf1d96ed21e49d80f337d06a", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/1fc78d97f89108f5bf1d96ed21e49d80f337d06a", "committedDate": "2021-05-05T17:04:55Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3018752515f7d0796c5f129b94af41333f4718d4", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/3018752515f7d0796c5f129b94af41333f4718d4", "committedDate": "2021-05-05T17:05:07Z", "message": "Merge branch 'issue-5098-shared-rest-server' of https://github.com/co-jo/pravega into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39d07639ea2e8526b790e6218e4d135557d8d446", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/39d07639ea2e8526b790e6218e4d135557d8d446", "committedDate": "2021-05-06T17:26:15Z", "message": "Remove failing dependency.\n\nSigned-off-by: co-jo <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/74beff815ebbc6aea79320c62db00f79840851dc", "committedDate": "2021-05-06T18:56:28Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjUzODQzMjMz", "url": "https://github.com/pravega/pravega/pull/5429#pullrequestreview-653843233", "createdAt": "2021-05-06T19:58:39Z", "commit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQxOTo1ODozOVrOJWpReg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wNlQyMjozNjowN1rOJWuXjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzcyNDY2Ng==", "bodyText": "Must this really depend on the client? Usually it's the top level components that depend on shared:*", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r627724666", "createdAt": "2021-05-06T19:58:39Z", "author": {"login": "andreipaduroiu"}, "path": "build.gradle", "diffHunk": "@@ -302,6 +302,17 @@ project('shared:protocol') {\n     }\n }\n \n+project ('shared:rest') {\n+    dependencies {\n+        compile project(':common')\n+        compile project(':client')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzcyNjc4NA==", "bodyText": "Why does this require a Set? Can a Collection be enough?", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r627726784", "createdAt": "2021-05-06T20:02:11Z", "author": {"login": "andreipaduroiu"}, "path": "shared/rest/src/main/java/io/pravega/shared/rest/RESTApplication.java", "diffHunk": "@@ -13,18 +13,18 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package io.pravega.controller.server.rest;\n+package io.pravega.shared.rest;\n \n import javax.ws.rs.core.Application;\n import java.util.Set;\n \n /**\n  * Application to register the REST resource classes.\n  */\n-public class ControllerApplication extends Application {\n+public class RESTApplication extends Application {\n     private final Set<Object> resource;\n \n-    public ControllerApplication(final Set<Object> resources) {\n+    public RESTApplication(final Set<Object> resources) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzcyNzM4MQ==", "bodyText": "Does this mean we need more work here?", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r627727381", "createdAt": "2021-05-06T20:03:16Z", "author": {"login": "andreipaduroiu"}, "path": "shared/rest/src/main/java/io/pravega/shared/rest/impl/RESTServerConfigImpl.java", "diffHunk": "@@ -62,4 +64,16 @@ public String toString() {\n                 .append(\")\")\n                 .toString();\n     }\n+\n+    @Override\n+    public boolean isAuthorizationEnabled() {\n+        return this.tlsEnabled;\n+    }\n+\n+    @Override\n+    public Properties toAuthHandlerProperties() {\n+        Properties props = new Properties();\n+        // Props to include?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNzgwODE0Mw==", "bodyText": "if (builder != null)", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r627808143", "createdAt": "2021-05-06T22:36:07Z", "author": {"login": "andreipaduroiu"}, "path": "shared/rest/src/main/java/io/pravega/shared/rest/security/AuthHandlerManager.java", "diffHunk": "@@ -170,7 +183,9 @@ public void registerInterceptors(ServerBuilder<?> builder) {\n                                 continue;\n                             }\n                         }\n-                        builder.intercept(new AuthInterceptor(handler));\n+                        if (Objects.nonNull(builder)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74beff815ebbc6aea79320c62db00f79840851dc"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "316ab9fd402fc94de1222909725b2e936a86d21f", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/316ab9fd402fc94de1222909725b2e936a86d21f", "committedDate": "2021-05-24T17:55:22Z", "message": "Address feedback.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9123c4e08483077ed1d12a96aff40f05b13f53d1", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9123c4e08483077ed1d12a96aff40f05b13f53d1", "committedDate": "2021-06-02T16:38:58Z", "message": "Empty commit."}, "afterCommit": {"oid": "316ab9fd402fc94de1222909725b2e936a86d21f", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/316ab9fd402fc94de1222909725b2e936a86d21f", "committedDate": "2021-05-24T17:55:22Z", "message": "Address feedback.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "469e5c6d3b61b71d8b85d64a86ced6c981c0ca74", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/469e5c6d3b61b71d8b85d64a86ced6c981c0ca74", "committedDate": "2021-06-16T19:02:48Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-5098-shared-rest-server\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d733f446afe94bc651b9668dc469981123676cc", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9d733f446afe94bc651b9668dc469981123676cc", "committedDate": "2021-06-16T20:15:02Z", "message": "Signed-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5ca2278d26a6ec5f4fa913f01c3be20d3e12da3", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/d5ca2278d26a6ec5f4fa913f01c3be20d3e12da3", "committedDate": "2021-06-16T22:16:59Z", "message": "Signed-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41747b3a6563e15628671a5ac621fbefcb59a9b5", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/41747b3a6563e15628671a5ac621fbefcb59a9b5", "committedDate": "2021-06-17T22:04:41Z", "message": "* Refactor out GRPC context code back into controller sub-package.\n* Add test resource for shared:rest package.\n* Refactor handler interception registration.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1758f2680295951aed19490677dac46559cf2309", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/1758f2680295951aed19490677dac46559cf2309", "committedDate": "2021-06-17T22:11:46Z", "message": "Remove unused import.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "527bcc932201ea9d09d29809345ef38877889fa7", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/527bcc932201ea9d09d29809345ef38877889fa7", "committedDate": "2021-06-17T23:32:11Z", "message": "More refactoring.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c9b1f1e66896af24a41dc7ae0a80458158ed5cb", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/9c9b1f1e66896af24a41dc7ae0a80458158ed5cb", "committedDate": "2021-06-17T23:45:56Z", "message": "Signed-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg3Mzc0NjQ1", "url": "https://github.com/pravega/pravega/pull/5429#pullrequestreview-687374645", "createdAt": "2021-06-18T12:53:51Z", "commit": {"oid": "9c9b1f1e66896af24a41dc7ae0a80458158ed5cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "748f6c91403e2b65cb50e059c6ac1f9c6fddcf0b", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/748f6c91403e2b65cb50e059c6ac1f9c6fddcf0b", "committedDate": "2021-06-18T19:40:33Z", "message": "* Refactor out test 'AuthHandler's into the `shared:authplugin` project.\n* Remove some unused code.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6219a740558b1ebc32e912c8825383d86a8b1b80", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/6219a740558b1ebc32e912c8825383d86a8b1b80", "committedDate": "2021-06-18T19:45:10Z", "message": "* Remove another unused import.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1297eb72ad3b7ba4c4bac80d282382bec3353f12", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/1297eb72ad3b7ba4c4bac80d282382bec3353f12", "committedDate": "2021-06-18T20:17:36Z", "message": "* Remove redundant import.\n* Relocate test class.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5d468157a8afbd444f6f2d1455f9701c307522b", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/b5d468157a8afbd444f6f2d1455f9701c307522b", "committedDate": "2021-06-18T20:21:09Z", "message": "* Remove redundant import.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccf6215f5ffdb7cd2dba39ca7eaad6d1d31220eb", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/ccf6215f5ffdb7cd2dba39ca7eaad6d1d31220eb", "committedDate": "2021-06-18T22:31:44Z", "message": "* Revert log line.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0f115d8a38c4424da2fa035fd1210d804eb5f05", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/a0f115d8a38c4424da2fa035fd1210d804eb5f05", "committedDate": "2021-06-21T18:23:32Z", "message": "* Remove empty class.\n* Make additional check on AuthHandler map.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07a22fd15d25111b5c0ec27800e7c5a56c4b48d4", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/07a22fd15d25111b5c0ec27800e7c5a56c4b48d4", "committedDate": "2021-06-21T18:30:50Z", "message": "Merge branch 'master' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "084e91d26b48ecddab2edd2850915f26840934d9", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/084e91d26b48ecddab2edd2850915f26840934d9", "committedDate": "2021-06-21T19:49:36Z", "message": "* Add RESTServerConfig to ControllerServiceStarterTest\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6feb04e5a369a2ee9ea25f97bef92400aa22a9a8", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/6feb04e5a369a2ee9ea25f97bef92400aa22a9a8", "committedDate": "2021-06-21T19:50:55Z", "message": "Merge remote-tracking branch 'origin/issue-5098-shared-rest-server' into issue-5098-shared-rest-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "531b1005d12127f5cc93461534a5fe3c2d8a97d3", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/531b1005d12127f5cc93461534a5fe3c2d8a97d3", "committedDate": "2021-06-21T20:13:47Z", "message": "* Remove unused test class.\n* Request test port through TestUtils.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6dde83f22c5fbec15c35ffd9180f386ccb756f2", "author": {"user": {"login": "co-jo", "name": "Colin Hryniowski"}}, "url": "https://github.com/pravega/pravega/commit/d6dde83f22c5fbec15c35ffd9180f386ccb756f2", "committedDate": "2021-06-21T21:31:01Z", "message": "* Add comment describing behavior when there is a failure to load some AuthHandler.\n\nSigned-off-by: Colin Hryniowski <colin.hryniowski@dell.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg3NTg4MjYx", "url": "https://github.com/pravega/pravega/pull/5429#pullrequestreview-687588261", "createdAt": "2021-06-18T16:50:34Z", "commit": {"oid": "9c9b1f1e66896af24a41dc7ae0a80458158ed5cb"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNi0xOFQxNjo1MDozNFrOJwPkWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNi0xOFQxNjo1NTozNVrOJwPuaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDU2NjQ4OQ==", "bodyText": "Javadoc here please.", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r654566489", "createdAt": "2021-06-18T16:50:34Z", "author": {"login": "andreipaduroiu"}, "path": "controller/src/main/java/io/pravega/controller/server/security/auth/GrpcAuthHelper.java", "diffHunk": "@@ -134,4 +136,10 @@ public static String retrieveMasterToken(String tokenSigningKey) {\n         return new JsonWebToken(\"segmentstoreresource\", \"segmentstore\", tokenSigningKey.getBytes(),\n                 customClaims, null).toCompactString();\n     }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9b1f1e66896af24a41dc7ae0a80458158ed5cb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NDU2OTA2NA==", "bodyText": "Let's move this to the test sub-project and use a testCompile in the controller build.gradle declaration.", "url": "https://github.com/pravega/pravega/pull/5429#discussion_r654569064", "createdAt": "2021-06-18T16:55:35Z", "author": {"login": "andreipaduroiu"}, "path": "shared/authplugin/src/main/java/io/pravega/auth/AuthFileUtils.java", "diffHunk": "@@ -24,6 +25,7 @@\n import java.util.List;\n import java.util.stream.Collectors;\n \n+@VisibleForTesting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9b1f1e66896af24a41dc7ae0a80458158ed5cb"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3802, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}