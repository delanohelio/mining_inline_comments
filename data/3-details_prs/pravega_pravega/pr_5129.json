{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2NDI5MDcy", "number": 5129, "title": "Issue 5128: refactor a test source so that the bindings can be tested uniformly", "bodyText": "Change log description\nThis moves a test for use with bindings. Please refer issue #5128 for context. The location of the IdempotentStorageTestBase posed inconvenience in separating bindings and testing them. This fix moves the IdempotentStorageTestBase from bindings to segmentstore storage where we use other files just like that. @sachin-j-joshi prefers this.\nPurpose of the change\nFixes #5128\nWhat the code does\nThis change affects the use of IdempotentStorageTestBase file since it was the only code that required to be shared from the bindings test. It could not be used from where it is without additional changes on the consumer side.\nHow to verify it\nThese steps can be verified by running the gradle command to run tests.", "createdAt": "2020-08-31T17:22:01Z", "url": "https://github.com/pravega/pravega/pull/5129", "merged": true, "mergeCommit": {"oid": "29bb64c8ebeb5f785eba970d61559e350e88eb7b"}, "closed": true, "closedAt": "2020-09-01T23:34:32Z", "author": {"login": "ravibeta"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEWE26gH2gAyNDc2NDI5MDcyOmNkNjQ3YWE2NTJjNDNhNDE5OThiODY5NmZlZmJjMDczMmMzMTIzMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEu7uWAH2gAyNDc2NDI5MDcyOmI2ZTQ4MTc0MDBmNmZkMDM3YTVhYmE4YmVhZDhhNmY2ZjBhYjQwYmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cd647aa652c43a41998b8696fefbc0732c31231e", "author": {"user": {"login": "ravibeta", "name": "Ravi Rajamani"}}, "url": "https://github.com/pravega/pravega/commit/cd647aa652c43a41998b8696fefbc0732c31231e", "committedDate": "2020-08-31T17:16:09Z", "message": "move test\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4ODA5NTg1", "url": "https://github.com/pravega/pravega/pull/5129#pullrequestreview-478809585", "createdAt": "2020-08-31T17:36:49Z", "commit": {"oid": "cd647aa652c43a41998b8696fefbc0732c31231e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNzozNjo1MFrOHKCHMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNzozNjo1MFrOHKCHMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI4MjQxOA==", "bodyText": "While we are at it, let's also fix the comment.\nShould read  Common Unit tests for Storage implementations that allow idempotent writes.", "url": "https://github.com/pravega/pravega/pull/5129#discussion_r480282418", "createdAt": "2020-08-31T17:36:50Z", "author": {"login": "sachin-j-joshi"}, "path": "segmentstore/storage/src/test/java/io/pravega/segmentstore/storage/IdempotentStorageTestBase.java", "diffHunk": "@@ -0,0 +1,244 @@\n+/**\n+ * Copyright (c) Dell Inc., or its subsidiaries. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ */\n+package io.pravega.segmentstore.storage;\n+\n+import io.pravega.segmentstore.contracts.BadOffsetException;\n+import io.pravega.segmentstore.contracts.StreamSegmentNotExistsException;\n+import io.pravega.test.common.AssertExtensions;\n+import java.io.ByteArrayInputStream;\n+import java.util.concurrent.CompletableFuture;\n+import lombok.val;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import static io.pravega.test.common.AssertExtensions.assertMayThrow;\n+import static io.pravega.test.common.AssertExtensions.assertSuppliedFutureThrows;\n+\n+/**\n+ * Common Unit tests for FileSystemStorage and ExtendedS3Storage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd647aa652c43a41998b8696fefbc0732c31231e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2acfb60a647645cceffadb07161a32e597d6863", "author": {"user": {"login": "ravibeta", "name": "Ravi Rajamani"}}, "url": "https://github.com/pravega/pravega/commit/a2acfb60a647645cceffadb07161a32e597d6863", "committedDate": "2020-08-31T17:38:48Z", "message": "add javadoc comment\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b521abd221bbcff41ad57329983a9a1767b033bc", "author": {"user": {"login": "ravibeta", "name": "Ravi Rajamani"}}, "url": "https://github.com/pravega/pravega/commit/b521abd221bbcff41ad57329983a9a1767b033bc", "committedDate": "2020-08-31T17:45:05Z", "message": "remove file\n\nSigned-off-by: Ravi Rajamani <ravi.rajamani@emc.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDI5NDYz", "url": "https://github.com/pravega/pravega/pull/5129#pullrequestreview-480029463", "createdAt": "2020-09-01T18:54:18Z", "commit": {"oid": "b521abd221bbcff41ad57329983a9a1767b033bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "817f6530ef9bc0c7af70766ecca16929c0dfd0d8", "author": {"user": {"login": "sachin-j-joshi", "name": "Sachin Jayant Joshi"}}, "url": "https://github.com/pravega/pravega/commit/817f6530ef9bc0c7af70766ecca16929c0dfd0d8", "committedDate": "2020-09-01T18:54:23Z", "message": "Merge branch 'master' into issue-5128-move-test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6e4817400f6fd037a5aba8bead8a6f6f0ab40bf", "author": {"user": {"login": "sachin-j-joshi", "name": "Sachin Jayant Joshi"}}, "url": "https://github.com/pravega/pravega/commit/b6e4817400f6fd037a5aba8bead8a6f6f0ab40bf", "committedDate": "2020-09-01T22:13:48Z", "message": "Merge branch 'master' into issue-5128-move-test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3841, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}