{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NDMxNjc0", "number": 4612, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo0OFrODn6c-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo1N1rODn6dLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMTc4NzQ1OnYy", "diffSide": "RIGHT", "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo0OFrOF2MG7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNTowMTo1MlrOF24XWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTgwNA==", "bodyText": "This was something we very deliberately avoided in the way we layed out the directory structure. This object is returned to users, so even though it is inside of the impl directory there is a temptation to call methods on it. Let's try to work out a way to avoid making this publicly callable. Perhaps by having the map passed to the caller rather than the position object?", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r392365804", "createdAt": "2020-03-13T17:19:48Z", "author": {"login": "tkaitchuck"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -40,7 +40,7 @@\n      *\n      * @return the read offset for each segment in the ownedSegments set\n      */\n-    abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();\n+    public abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA5MDkwNA==", "bodyText": "Looks like this is only invoked from ModelHelper.getSegmentsFromPositions which is actually not used anywhere. Same with the one below (invoked in ModelHelper.toSegmentOffsetMap which is not used anywhere.\nI deleted those methods in ModelHelper and reverted the changes in PositionInternal.java.", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r393090904", "createdAt": "2020-03-16T15:01:52Z", "author": {"login": "andreipaduroiu"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -40,7 +40,7 @@\n      *\n      * @return the read offset for each segment in the ownedSegments set\n      */\n-    abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();\n+    public abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTgwNA=="}, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMTc4Nzk2OnYy", "diffSide": "RIGHT", "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo1N1rOF2MHPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNTowMTo1N1rOF24Xjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTg4NA==", "bodyText": "Same here", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r392365884", "createdAt": "2020-03-13T17:19:57Z", "author": {"login": "tkaitchuck"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -52,7 +52,7 @@\n     /**\n      * Gets the set of completely read segments.\n      */\n-    abstract Set<Segment> getCompletedSegments();\n+    public abstract Set<Segment> getCompletedSegments();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA5MDk1OQ==", "bodyText": "See reply above.", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r393090959", "createdAt": "2020-03-16T15:01:57Z", "author": {"login": "andreipaduroiu"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -52,7 +52,7 @@\n     /**\n      * Gets the set of completely read segments.\n      */\n-    abstract Set<Segment> getCompletedSegments();\n+    public abstract Set<Segment> getCompletedSegments();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTg4NA=="}, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4458, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}