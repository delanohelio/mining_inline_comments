{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NDMxNjc0", "number": 4612, "title": "Issue 4603: (KeyValueTables) Client Controller API", "bodyText": "Change log description\n\nMoved io.pravega.client.stream.impl.Controller (and related classes) into io.pravega.client.control.impl\nAdded new stub contracts to Controller interface for Key-Value Tables. These methods are not implemented in this PR.\n\nPurpose of the change\nFixes #4603.\nWhat the code does\nRefactoring (moved Controller into new package), which triggered changes to a large number of files. All these changes should be simply to import a new package.\nAdded new API stubs.\nHow to verify it\nBuild.", "createdAt": "2020-03-11T00:55:03Z", "url": "https://github.com/pravega/pravega/pull/4612", "merged": true, "mergeCommit": {"oid": "a9bd3e3427f24ec056b8f30229b9365ee0426c2d"}, "closed": true, "closedAt": "2020-03-31T19:13:04Z", "author": {"login": "andreipaduroiu"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMIFU_AH2gAyMzg2NDMxNjc0OmYwYzhhNzVhN2ZlZDM5NGU0M2NjMWRhNThhMDM0MzdkOTY0NzA0ZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTEPXlgH2gAyMzg2NDMxNjc0OmNlMjc1MTk5NTY5MmNmMDNiMjQ1NDdjNzBhMmU5MWJmNmI3ZjkzMWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f0c8a75a7fed394e43cc1da58a03437d964704f6", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/f0c8a75a7fed394e43cc1da58a03437d964704f6", "committedDate": "2020-03-10T01:18:14Z", "message": "Moved Controller, ControllerImpl and a few related classes to io.pravega.client.control.impl.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "253745d93eb687bca6cd290ac95f9cf1bda0515a", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/253745d93eb687bca6cd290ac95f9cf1bda0515a", "committedDate": "2020-03-10T18:25:53Z", "message": "KeyValueTable contracts for Controller operations\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/6b49fc3f91d58dc04422f157c1c81ceb6359c611", "committedDate": "2020-03-11T17:13:51Z", "message": "Removed extra method.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NDc5MzAx", "url": "https://github.com/pravega/pravega/pull/4612#pullrequestreview-374479301", "createdAt": "2020-03-13T17:19:48Z", "commit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo0OFrOF2MG7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNzoxOTo1N1rOF2MHPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTgwNA==", "bodyText": "This was something we very deliberately avoided in the way we layed out the directory structure. This object is returned to users, so even though it is inside of the impl directory there is a temptation to call methods on it. Let's try to work out a way to avoid making this publicly callable. Perhaps by having the map passed to the caller rather than the position object?", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r392365804", "createdAt": "2020-03-13T17:19:48Z", "author": {"login": "tkaitchuck"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -40,7 +40,7 @@\n      *\n      * @return the read offset for each segment in the ownedSegments set\n      */\n-    abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();\n+    public abstract Map<Segment, Long> getOwnedSegmentsWithOffsets();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjM2NTg4NA==", "bodyText": "Same here", "url": "https://github.com/pravega/pravega/pull/4612#discussion_r392365884", "createdAt": "2020-03-13T17:19:57Z", "author": {"login": "tkaitchuck"}, "path": "client/src/main/java/io/pravega/client/stream/impl/PositionInternal.java", "diffHunk": "@@ -52,7 +52,7 @@\n     /**\n      * Gets the set of completely read segments.\n      */\n-    abstract Set<Segment> getCompletedSegments();\n+    public abstract Set<Segment> getCompletedSegments();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b49fc3f91d58dc04422f157c1c81ceb6359c611"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10316df5d7940bcced9ed29ed92b063a6e0a941e", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/10316df5d7940bcced9ed29ed92b063a6e0a941e", "committedDate": "2020-03-16T15:15:13Z", "message": "Removed dead code. Reverted PositionInternal.java.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDQ1NjMw", "url": "https://github.com/pravega/pravega/pull/4612#pullrequestreview-383045630", "createdAt": "2020-03-27T17:05:56Z", "commit": {"oid": "10316df5d7940bcced9ed29ed92b063a6e0a941e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f141e4d7712e97c5797936cbe56c8ec81a1726a2", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/f141e4d7712e97c5797936cbe56c8ec81a1726a2", "committedDate": "2020-03-27T17:34:07Z", "message": "Backporting some unit tests.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a1b13b4c078d182a044e4014c529cca646a8154", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/2a1b13b4c078d182a044e4014c529cca646a8154", "committedDate": "2020-03-27T17:44:05Z", "message": "Build fix.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be0e028be4577995599a1cd66024170a41319994", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/be0e028be4577995599a1cd66024170a41319994", "committedDate": "2020-03-27T19:45:52Z", "message": "Unit test coverage.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "044b3e2f9bf5d5010a3c7e7af89edf6f030b434b", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/044b3e2f9bf5d5010a3c7e7af89edf6f030b434b", "committedDate": "2020-03-30T21:50:05Z", "message": "Code coverage.\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba3433dee0d4a24b2a521f6dab00befe1b1c234a", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/ba3433dee0d4a24b2a521f6dab00befe1b1c234a", "committedDate": "2020-03-30T22:39:56Z", "message": "checkstyle\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d49e411da19e5bffd7d1fd96a15f22e366045007", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/d49e411da19e5bffd7d1fd96a15f22e366045007", "committedDate": "2020-03-31T14:45:39Z", "message": "Merge branch 'feature-key-value-tables' of https://github.com/pravega/pravega into issue-4603-client-controller\n\n\u0001 Conflicts:\n\u0001\tcontroller/src/main/java/io/pravega/controller/server/SegmentHelper.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce2751995692cf03b24547c70a2e91bf6b7f931e", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/ce2751995692cf03b24547c70a2e91bf6b7f931e", "committedDate": "2020-03-31T14:47:03Z", "message": "Merge conflicts\n\nSigned-off-by: Andrei Paduroiu <andrei.paduroiu@emc.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3627, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}