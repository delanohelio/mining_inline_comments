{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MDcyMzYy", "number": 4776, "title": "Issue 4775: Add snapshot stage for all release branches", "bodyText": "Signed-off-by: Brian Zhou brian.zhou@emc.com\nChange log description\nAdd the release branches into the travis snapshot stage.\nPurpose of the change\nFixes #4775\nWhat the code does\nAdd the release branches into the travis snapshot stage with regex /^r[0-9]\\.[0-9]/.\nHow to verify it\nFlink connector has similar changes that is working fine.", "createdAt": "2020-05-08T06:33:05Z", "url": "https://github.com/pravega/pravega/pull/4776", "merged": true, "mergeCommit": {"oid": "d5016dbcf0cebde4ecc6bd04333996dec5611442"}, "closed": true, "closedAt": "2020-08-28T16:25:37Z", "author": {"login": "crazyzhou"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfL42RgH2gAyNDE1MDcyMzYyOmM0MmY0ZmEzNGUwMjFlN2ExY2RlNzc4OWViNTliNjM2YjNiMjgzYzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC8IjmAFqTQ3NjQ5Nzg0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c42f4fa34e021e7a1cde7789eb59b636b3b283c4", "author": {"user": {"login": "crazyzhou", "name": "Brian Zhou"}}, "url": "https://github.com/pravega/pravega/commit/c42f4fa34e021e7a1cde7789eb59b636b3b283c4", "committedDate": "2020-05-08T06:28:47Z", "message": "[issue-4775] Add snapshot stage for all release branches\n\nSigned-off-by: Brian Zhou <brian.zhou@emc.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MTA5NTgz", "url": "https://github.com/pravega/pravega/pull/4776#pullrequestreview-408109583", "createdAt": "2020-05-08T09:13:40Z", "commit": {"oid": "c42f4fa34e021e7a1cde7789eb59b636b3b283c4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToxMzo0MFrOGSfFkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToxMzo0MFrOGSfFkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjAzNjg4MA==", "bodyText": "I'm not sure this is going to work. If we merge it to master, then builds of the release branches are not going to have this change. Instead, for each for which you want snapshots from, we need to change .travis.yml.", "url": "https://github.com/pravega/pravega/pull/4776#discussion_r422036880", "createdAt": "2020-05-08T09:13:40Z", "author": {"login": "fpj"}, "path": ".travis.yml", "diffHunk": "@@ -34,7 +34,7 @@ jobs:\n       script: ./gradlew javadocs\n \n     - stage: snapshot\n-      if: branch = master AND NOT (type = pull_request)\n+      if: (branch = master OR branch =~ /^r[0-9]\\.[0-9]/) AND NOT (type = pull_request)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42f4fa34e021e7a1cde7789eb59b636b3b283c4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08b8d534fd920946522578b080bc90361acd7727", "author": {"user": {"login": "crazyzhou", "name": "Brian Zhou"}}, "url": "https://github.com/pravega/pravega/commit/08b8d534fd920946522578b080bc90361acd7727", "committedDate": "2020-05-11T11:01:40Z", "message": "Add support for multiple digits\n\nSigned-off-by: Brian Zhou <brian.zhou@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4af180062b30782c6aef5712c849d1da735e8e87", "author": {"user": {"login": "fpj", "name": "Flavio Junqueira"}}, "url": "https://github.com/pravega/pravega/commit/4af180062b30782c6aef5712c849d1da735e8e87", "committedDate": "2020-05-12T10:43:41Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5OTIwMzY1", "url": "https://github.com/pravega/pravega/pull/4776#pullrequestreview-409920365", "createdAt": "2020-05-12T10:47:28Z", "commit": {"oid": "4af180062b30782c6aef5712c849d1da735e8e87"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMDo0NzoyOFrOGUA4vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMDo0NzoyOFrOGUA4vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYzOTIyOA==", "bodyText": "It should be + , not * as we want at least one digit.", "url": "https://github.com/pravega/pravega/pull/4776#discussion_r423639228", "createdAt": "2020-05-12T10:47:28Z", "author": {"login": "fpj"}, "path": ".travis.yml", "diffHunk": "@@ -34,7 +34,7 @@ jobs:\n       script: ./gradlew javadocs\n \n     - stage: snapshot\n-      if: branch = master AND NOT (type = pull_request)\n+      if: (branch = master OR branch =~ /^r[0-9]*\\.[0-9]*/) AND NOT (type = pull_request)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4af180062b30782c6aef5712c849d1da735e8e87"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fd8df2f6fdbbdbbc992b951f676022691880e8d", "author": {"user": {"login": "crazyzhou", "name": "Brian Zhou"}}, "url": "https://github.com/pravega/pravega/commit/5fd8df2f6fdbbdbbc992b951f676022691880e8d", "committedDate": "2020-05-13T01:23:37Z", "message": "Fix for at least one digit\n\nSigned-off-by: Brian Zhou <brian.zhou@emc.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36e1b89ebb32e57a1ba52e51eeb23f7492bd35c0", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/36e1b89ebb32e57a1ba52e51eeb23f7492bd35c0", "committedDate": "2020-06-04T21:39:52Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5149a2f3791d4c7c3b9083f79c24c701c00bbb7", "author": {"user": {"login": "RaulGracia", "name": "Ra\u00fal Gracia"}}, "url": "https://github.com/pravega/pravega/commit/f5149a2f3791d4c7c3b9083f79c24c701c00bbb7", "committedDate": "2020-07-13T14:33:35Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c52076774f9f804cef2365980efb7e56726d52f9", "author": {"user": {"login": "andreipaduroiu", "name": "Andrei Paduroiu"}}, "url": "https://github.com/pravega/pravega/commit/c52076774f9f804cef2365980efb7e56726d52f9", "committedDate": "2020-07-20T21:19:56Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6e927868b4a8bf8be3b9429d7fa4f6749f89948", "author": {"user": {"login": "crazyzhou", "name": "Brian Zhou"}}, "url": "https://github.com/pravega/pravega/commit/d6e927868b4a8bf8be3b9429d7fa4f6749f89948", "committedDate": "2020-07-23T07:49:02Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc50ce34de3a1784af359e138a3e8d4dd6fca6fa", "author": {"user": {"login": "fpj", "name": "Flavio Junqueira"}}, "url": "https://github.com/pravega/pravega/commit/fc50ce34de3a1784af359e138a3e8d4dd6fca6fa", "committedDate": "2020-08-03T07:05:10Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b78957e2175b6966cd3f4050e623b4e2ec57e578", "author": {"user": {"login": "fpj", "name": "Flavio Junqueira"}}, "url": "https://github.com/pravega/pravega/commit/b78957e2175b6966cd3f4050e623b4e2ec57e578", "committedDate": "2020-08-05T15:30:00Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16dbfae3308c45d6375a5c7ab05c8f46f42d55ca", "author": {"user": {"login": "crazyzhou", "name": "Brian Zhou"}}, "url": "https://github.com/pravega/pravega/commit/16dbfae3308c45d6375a5c7ab05c8f46f42d55ca", "committedDate": "2020-08-27T03:47:05Z", "message": "Merge branch 'master' into issue-4775-add-snapshot-stage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDk3ODQ3", "url": "https://github.com/pravega/pravega/pull/4776#pullrequestreview-476497847", "createdAt": "2020-08-27T08:28:44Z", "commit": {"oid": "16dbfae3308c45d6375a5c7ab05c8f46f42d55ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3463, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}