{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MzI0NTEz", "number": 213, "title": "GitHub Action for Deployments", "bodyText": "Adding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central\n\n\u26a0\ufe0f We need to be careful with this, as this can break the releasing process \u26a0\ufe0f\n\nI hereby agree to the terms of the JUnit Pioneer Contributor License Agreement.", "createdAt": "2020-03-29T21:30:53Z", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213", "merged": true, "mergeCommit": {"oid": "b76d8f71975a6f3dcdf9c3bd6ed55771b24b56f4"}, "closed": true, "closedAt": "2020-05-02T16:44:00Z", "author": {"login": "aepfli"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSg-cOgBqjMxNzYzNTYwNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdYqw3gH2gAyMzk1MzI0NTEzOmEzZjVmNDc2Nzk3MDQwZjFhOGFmNmJkOWU5NmI1N2IxYzhkZmYwMDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1e6de6dcb460f2aa84db5811e916e35bbe06db85", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/1e6de6dcb460f2aa84db5811e916e35bbe06db85", "committedDate": "2020-03-29T21:29:19Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n- GH_WRITE_TOKEN: for updating the repo and setting the tag\n- BINTRAY_USER_NAME: for upload to bintray\n- BINTRAY_API_KEY: for upload to bintray\n- NEXUS_TOKEN_USERNAME: for syncing bintray to maven central\n- NEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}, "afterCommit": {"oid": "a2ae05ebe18bd7b7e90a586140840df030bc4d9d", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a2ae05ebe18bd7b7e90a586140840df030bc4d9d", "committedDate": "2020-03-29T21:41:45Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n- GH_WRITE_TOKEN: for updating the repo and setting the tag\n- BINTRAY_USER_NAME: for upload to bintray\n- BINTRAY_API_KEY: for upload to bintray\n- NEXUS_TOKEN_USERNAME: for syncing bintray to maven central\n- NEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2ae05ebe18bd7b7e90a586140840df030bc4d9d", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a2ae05ebe18bd7b7e90a586140840df030bc4d9d", "committedDate": "2020-03-29T21:41:45Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n- GH_WRITE_TOKEN: for updating the repo and setting the tag\n- BINTRAY_USER_NAME: for upload to bintray\n- BINTRAY_API_KEY: for upload to bintray\n- NEXUS_TOKEN_USERNAME: for syncing bintray to maven central\n- NEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}, "afterCommit": {"oid": "3fcc601aac529cb38a6e0e86c33d5425437e129a", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/3fcc601aac529cb38a6e0e86c33d5425437e129a", "committedDate": "2020-03-31T19:25:55Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fcc601aac529cb38a6e0e86c33d5425437e129a", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/3fcc601aac529cb38a6e0e86c33d5425437e129a", "committedDate": "2020-03-31T19:25:55Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}, "afterCommit": {"oid": "3efa0a177adfd53615520c702ff26106ae8a2722", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/3efa0a177adfd53615520c702ff26106ae8a2722", "committedDate": "2020-03-31T19:30:47Z", "message": "GitHub Actions for Deployment\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aca9720b67477f0933179b709a224622244bc5ac", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/aca9720b67477f0933179b709a224622244bc5ac", "committedDate": "2020-03-31T19:32:26Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c832207581665f4ecf27e3a2b2241acd1f92ead", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/2c832207581665f4ecf27e3a2b2241acd1f92ead", "committedDate": "2020-03-31T19:31:59Z", "message": "Merge branch 'master' into issues/199-Deployments_with_githubActions"}, "afterCommit": {"oid": "aca9720b67477f0933179b709a224622244bc5ac", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/aca9720b67477f0933179b709a224622244bc5ac", "committedDate": "2020-03-31T19:32:26Z", "message": "GitHub Action for Deployments\n\nAdding GitHub Actions for Deployment which will run\non Linux and with JDK 8. On the side i removed a lot\nof unnecessary gradle code for publishing.\n\nTo get this running within the base repository, we\nneed to add following secrets:\n\nGH_WRITE_TOKEN: for updating the repo and setting the tag\nBINTRAY_USER_NAME: for upload to bintray\nBINTRAY_API_KEY: for upload to bintray\nNEXUS_TOKEN_USERNAME: for syncing bintray to maven central\nNEXUS_TOKEN_PASSWORD: for syncing bintray to maven central"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab8d8c38071c6f18a2b09bc5c44dd1e445800747", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/ab8d8c38071c6f18a2b09bc5c44dd1e445800747", "committedDate": "2020-04-08T05:21:36Z", "message": "Merge branch 'master' into issues/199-Deployments_with_githubActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "280b10965ca12a408d5d3899f2d17c82bb49c8d3", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/280b10965ca12a408d5d3899f2d17c82bb49c8d3", "committedDate": "2020-04-08T18:25:40Z", "message": "Update actions.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b54272da63ba14bebc8513d5eee7bee3bea5b3e", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/9b54272da63ba14bebc8513d5eee7bee3bea5b3e", "committedDate": "2020-04-09T18:10:17Z", "message": "Formatting and clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2ab1b118d082ff889eee662276a0a3870904f3b", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/f2ab1b118d082ff889eee662276a0a3870904f3b", "committedDate": "2020-04-24T18:16:56Z", "message": "Merge branch 'master' into issues/199-Deployments_with_githubActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29ddeb0fe9b60fd36a41d1424859e394618eea0f", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/29ddeb0fe9b60fd36a41d1424859e394618eea0f", "committedDate": "2020-05-01T15:30:47Z", "message": "Merge remote-tracking branch 'upstream/master' into issues/199-Deployments_with_githubActions\n\n# Conflicts:\n#\t.travis.yml\n#\tgradle/shipkit.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9330228ef20c7a5741f44a5bb3d2f3e7995aac52", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/9330228ef20c7a5741f44a5bb3d2f3e7995aac52", "committedDate": "2020-05-01T20:25:38Z", "message": "Merge remote-tracking branch 'origin/issues/199-Deployments_with_githubActions' into issues/199-Deployments_with_githubActions\n\n# Conflicts:\n#\t.travis.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1fa6f5f7f8c9a4fa2a2bb0749cb2186d47ef965", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/d1fa6f5f7f8c9a4fa2a2bb0749cb2186d47ef965", "committedDate": "2020-05-01T20:30:00Z", "message": "Deployment\n\n- fixing branch naming\n- fixing pom\n- adding additional information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b35d0eb8e53415c37d12bc6640a269a18673e7a9", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/b35d0eb8e53415c37d12bc6640a269a18673e7a9", "committedDate": "2020-05-02T09:43:31Z", "message": "Deployment clean up\n\n* removing travis files and references\n* removing appveyor.yml\n* removing travis gradle task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2707591f4ae7954e18e6dd06acdec0a54b917c9d", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/2707591f4ae7954e18e6dd06acdec0a54b917c9d", "committedDate": "2020-05-02T10:35:20Z", "message": "Deployment clean up\n\n* adding last needed information, like commit message and if it is a pull request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5327054dd0f2768bc1f9242831dad753e025c439", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/5327054dd0f2768bc1f9242831dad753e025c439", "committedDate": "2020-05-02T10:38:22Z", "message": "Deployment clean up\n\n* adding last needed information, like commit message and if it is a pull request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "592f7fa3358aadbe4d7942ade37e21df617d9103", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/592f7fa3358aadbe4d7942ade37e21df617d9103", "committedDate": "2020-05-02T10:51:02Z", "message": "fixing parsing of commit message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa828e78c068cd4f7bbdfc9541b324d6dfcfa13d", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/aa828e78c068cd4f7bbdfc9541b324d6dfcfa13d", "committedDate": "2020-05-02T11:04:22Z", "message": "deleting unnecesary build.gradle.kts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/63f9a056ca3e6f4e3d323ca0c27c583aa937b503", "committedDate": "2020-05-02T11:31:53Z", "message": "removing last occurrence of travis"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NTI2NTI2", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#pullrequestreview-404526526", "createdAt": "2020-05-02T12:59:50Z", "commit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxMjo1OTo1MFrOGPjD-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxMzoxMDo1N1rOGPjIRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk1NjI4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    os: [ubuntu, windows, macos]    \n          \n          \n            \n                    os: [ubuntu, windows, macos]", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#discussion_r418956281", "createdAt": "2020-05-02T12:59:50Z", "author": {"login": "beatngu13"}, "path": ".github/workflows/actions.yml", "diffHunk": "@@ -1,23 +1,25 @@\n # This workflow will build a Java project with Gradle\n # For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n \n-name: JUnit Pioneer Flow\n+name: JUnit Pioneer\n \n on:\n   push:\n-    branches: [ master ]\n+    branches: 'master'\n+    tags-ignore: \n+      - 'v**'\n   pull_request:\n     branches: '*'\n \n jobs:\n   build:\n-    runs-on: ${{ matrix.os }}\n+    runs-on: ${{ matrix.os }}-latest\n     strategy:\n       matrix:\n         # test against latest update of each major Java version, as well as specific updates of LTS versions:\n         java: [ 8, 11, 14 ]\n-        os: [ubuntu-latest, windows-latest, macos-latest]\n-    name: ${{ matrix.os }} - Java ${{ matrix.java }}\n+        os: [ubuntu, windows, macos]    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk1NjQxMQ==", "bodyText": "What do we need these environment variables for?", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#discussion_r418956411", "createdAt": "2020-05-02T13:01:19Z", "author": {"login": "beatngu13"}, "path": ".github/workflows/actions.yml", "diffHunk": "@@ -45,42 +47,44 @@ jobs:\n         with:\n           arguments: --refresh-dependencies --stacktrace --scan clean build\n       - name: Sonarqube\n-        if: matrix.java == '8' && matrix.os == 'ubuntu-latest'\n+        if: matrix.java == '8' && matrix.os == 'ubuntu'\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n           SONAR_TOKEN: \"61ab2579215aa8a0024a2f9368fc1298fdecfd18\"\n         run: ./gradlew jacocoTestReport sonarqube --stacktrace -i\n \n-  # This will be handled on a later stage\n-  # deploy:\n-  #   runs-on: ubuntu-latest\n-  #   name: Deploy\n-  #   if: github.ref == 'refs/heads/master'\n-  #   steps:\n-  #     - name: Check out repo\n-  #       uses: actions/checkout@v2\n-  #     - name: Setup java\n-  #       uses: actions/setup-java@v1\n-  #       with:\n-  #         java-version: 8\n-  #     - name: Cache Gradle\n-  #       uses: actions/cache@v1\n-  #       with:\n-  #         path: ~/.gradle/caches\n-  #         key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}\n-  #         restore-keys: ${{ runner.os }}-gradle-\n-  #     - name: Perform Release\n-  #       uses: eskatos/gradle-command-action@v1\n-  #       if:\n-  #       with:\n-  #         arguments: ciPerformRelease\n-  #     - name: Upload Release to GitHub\n-  #       uses: softprops/action-gh-release@v1\n-  #       if: startsWith(github.ref, 'refs/tags/')\n-  #       with:\n-  #         files: ./build/libs/junit-pioneer-*.jar\n-  #       env:\n-  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  deploy:\n+    needs: build\n+    runs-on: ubuntu-latest\n+    name: Deploy with Shipkit\n+    if: github.ref == 'refs/heads/master'\n+    steps:\n+      - name: Sanitize Branch\n+        uses: frabert/replace-string-action@master\n+        id: gitbranch\n+        with:\n+          pattern: 'refs/heads/(.*)'\n+          string: \"${{ github.ref }}\"\n+          replace-with: '$1'\n+      - uses: actions/checkout@v2\n+      - name: Setup java\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8\n+      - name: Perform Release\n+        uses: eskatos/gradle-command-action@v1\n+        env:\n+          TRAVIS_BRANCH: ${{ steps.gitbranch.outputs.replaced }}\n+          TRAVIS_COMMIT_MESSAGE: ${{ github.event.head_commit.message }}\n+          TRAVIS_PULL_REQUEST: ${{ github.event_name == 'pull_request' }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk1NjUzNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            }\n          \n          \n            \n            }", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#discussion_r418956537", "createdAt": "2020-05-02T13:02:25Z", "author": {"login": "beatngu13"}, "path": "build.gradle.kts", "diffHunk": "@@ -148,67 +137,4 @@ tasks {\n             into(\"META-INF\")\n         }\n     }\n-}\n-\n-publishing {\n-    publications {\n-        create<MavenPublication>(\"complete\") {\n-            from(components[\"java\"])\n-\n-            artifact(tasks.sourcesJar.get())\n-            artifact(tasks.javadocJar.get())\n-\n-            pom {\n-                name.set(\"JUnit Pioneer\")\n-                description.set(\"JUnit 5 Extension Pack\")\n-                url.set(\"https://github.com/junit-pioneer/junit-pioneer\")\n-                scm {\n-                    url.set(\"https://github.com/junit-pioneer/junit-pioneer\")\n-                    connection.set(\"scm:git:git://github.com:junit-pioneer/junit-pioneer.git\")\n-                }\n-                issueManagement {\n-                    url.set(\"https://github.com/junit-pioneer/junit-pioneer/issues\")\n-                    system.set(\"GitHub\")\n-                }\n-                licenses {\n-                    license {\n-                        name.set(\"Eclipse Public License v2.0\")\n-                        url.set(\"http://www.eclipse.org/legal/epl-v20.html\")\n-                    }\n-                }\n-                organization {\n-                    name.set(\"JUnit Pioneer\")\n-                    url.set(\"https://github.com/junit-pioneer\")\n-                }\n-                developers {\n-                    developer {\n-                        id.set(\"nipa\")\n-                        name.set(\"Nicolai Parlog\")\n-                        email.set(\"nipa@codefx.org\")\n-                        organization.set(\"CodeFX\")\n-                        organizationUrl.set(\"http://codefx.org\")\n-                        timezone.set(\"1\")\n-                    }\n-                }\n-            }\n-        }\n-    }\n-    repositories {\n-        maven {\n-            val stagingRepoUrl = uri(\"https://oss.sonatype.org/service/local/staging/deploy/maven2/\")\n-            val snapshotRepoUrl = uri(\"https://oss.sonatype.org/content/repositories/snapshots/\")\n-            url = if (isReleaseVersion) stagingRepoUrl else snapshotRepoUrl\n-            credentials {\n-                username = mavenUserName\n-                password = mavenPassword\n-            }\n-        }\n-    }\n-}\n-\n-tasks.register<org.junitpioneer.gradle.TriggerTravisTask>(\"triggerSiteBuild\") {\n-    travisProject = \"junit-pioneer/junit-pioneer.github.io\"\n-    branch = \"grandmaster\"\n-    apiToken = travisApiToken\n-    message = \"Triggered by successful JUnit Pioneer build for %COMMIT\"\n-}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk1NjgzOQ==", "bodyText": "What is the difference to GITHUB_TOKEN above? If there is none, I would make the environment variables globally available. Otherwise, I would use the same prefix for consistency reasons (i.e. \"GH\" or \"GITHUB\").", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#discussion_r418956839", "createdAt": "2020-05-02T13:05:28Z", "author": {"login": "beatngu13"}, "path": ".github/workflows/actions.yml", "diffHunk": "@@ -45,42 +47,44 @@ jobs:\n         with:\n           arguments: --refresh-dependencies --stacktrace --scan clean build\n       - name: Sonarqube\n-        if: matrix.java == '8' && matrix.os == 'ubuntu-latest'\n+        if: matrix.java == '8' && matrix.os == 'ubuntu'\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n           SONAR_TOKEN: \"61ab2579215aa8a0024a2f9368fc1298fdecfd18\"\n         run: ./gradlew jacocoTestReport sonarqube --stacktrace -i\n \n-  # This will be handled on a later stage\n-  # deploy:\n-  #   runs-on: ubuntu-latest\n-  #   name: Deploy\n-  #   if: github.ref == 'refs/heads/master'\n-  #   steps:\n-  #     - name: Check out repo\n-  #       uses: actions/checkout@v2\n-  #     - name: Setup java\n-  #       uses: actions/setup-java@v1\n-  #       with:\n-  #         java-version: 8\n-  #     - name: Cache Gradle\n-  #       uses: actions/cache@v1\n-  #       with:\n-  #         path: ~/.gradle/caches\n-  #         key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}\n-  #         restore-keys: ${{ runner.os }}-gradle-\n-  #     - name: Perform Release\n-  #       uses: eskatos/gradle-command-action@v1\n-  #       if:\n-  #       with:\n-  #         arguments: ciPerformRelease\n-  #     - name: Upload Release to GitHub\n-  #       uses: softprops/action-gh-release@v1\n-  #       if: startsWith(github.ref, 'refs/tags/')\n-  #       with:\n-  #         files: ./build/libs/junit-pioneer-*.jar\n-  #       env:\n-  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  deploy:\n+    needs: build\n+    runs-on: ubuntu-latest\n+    name: Deploy with Shipkit\n+    if: github.ref == 'refs/heads/master'\n+    steps:\n+      - name: Sanitize Branch\n+        uses: frabert/replace-string-action@master\n+        id: gitbranch\n+        with:\n+          pattern: 'refs/heads/(.*)'\n+          string: \"${{ github.ref }}\"\n+          replace-with: '$1'\n+      - uses: actions/checkout@v2\n+      - name: Setup java\n+        uses: actions/setup-java@v1\n+        with:\n+          java-version: 8\n+      - name: Perform Release\n+        uses: eskatos/gradle-command-action@v1\n+        env:\n+          TRAVIS_BRANCH: ${{ steps.gitbranch.outputs.replaced }}\n+          TRAVIS_COMMIT_MESSAGE: ${{ github.event.head_commit.message }}\n+          TRAVIS_PULL_REQUEST: ${{ github.event_name == 'pull_request' }}\n+          GH_WRITE_TOKEN: ${{ secrets.GH_WRITE_TOKEN }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk1NzM4MQ==", "bodyText": "If we want to, we can also use a separate YAML file for this?", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/213#discussion_r418957381", "createdAt": "2020-05-02T13:10:57Z", "author": {"login": "beatngu13"}, "path": ".github/workflows/actions.yml", "diffHunk": "@@ -45,42 +47,44 @@ jobs:\n         with:\n           arguments: --refresh-dependencies --stacktrace --scan clean build\n       - name: Sonarqube\n-        if: matrix.java == '8' && matrix.os == 'ubuntu-latest'\n+        if: matrix.java == '8' && matrix.os == 'ubuntu'\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n           SONAR_TOKEN: \"61ab2579215aa8a0024a2f9368fc1298fdecfd18\"\n         run: ./gradlew jacocoTestReport sonarqube --stacktrace -i\n \n-  # This will be handled on a later stage\n-  # deploy:\n-  #   runs-on: ubuntu-latest\n-  #   name: Deploy\n-  #   if: github.ref == 'refs/heads/master'\n-  #   steps:\n-  #     - name: Check out repo\n-  #       uses: actions/checkout@v2\n-  #     - name: Setup java\n-  #       uses: actions/setup-java@v1\n-  #       with:\n-  #         java-version: 8\n-  #     - name: Cache Gradle\n-  #       uses: actions/cache@v1\n-  #       with:\n-  #         path: ~/.gradle/caches\n-  #         key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}\n-  #         restore-keys: ${{ runner.os }}-gradle-\n-  #     - name: Perform Release\n-  #       uses: eskatos/gradle-command-action@v1\n-  #       if:\n-  #       with:\n-  #         arguments: ciPerformRelease\n-  #     - name: Upload Release to GitHub\n-  #       uses: softprops/action-gh-release@v1\n-  #       if: startsWith(github.ref, 'refs/tags/')\n-  #       with:\n-  #         files: ./build/libs/junit-pioneer-*.jar\n-  #       env:\n-  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+  deploy:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63f9a056ca3e6f4e3d323ca0c27c583aa937b503"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f251bbf5dd5e13e27675bbdf44349b490b85c56", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/9f251bbf5dd5e13e27675bbdf44349b490b85c56", "committedDate": "2020-05-02T13:17:58Z", "message": "Update build.gradle.kts\n\nCo-authored-by: Daniel Kraus <daniel.kraus@mailbox.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e066959c6014264a28d0e00edec82548c5eaae3e", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/e066959c6014264a28d0e00edec82548c5eaae3e", "committedDate": "2020-05-02T13:20:08Z", "message": "Update .github/workflows/actions.yml\n\nCo-authored-by: Daniel Kraus <daniel.kraus@mailbox.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23c21a4058bb020e4dfef3686e8ba0eb12e8c502", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/23c21a4058bb020e4dfef3686e8ba0eb12e8c502", "committedDate": "2020-05-02T13:26:05Z", "message": "Renaming tokens, and adding both to the actions.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "001080686e5ed4b42281658d94dee5eb6f3784d1", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/001080686e5ed4b42281658d94dee5eb6f3784d1", "committedDate": "2020-05-02T13:26:14Z", "message": "Merge remote-tracking branch 'origin/issues/199-Deployments_with_githubActions' into issues/199-Deployments_with_githubActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe0f42df41a51270add33a81f3fbdf31a5644824", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/fe0f42df41a51270add33a81f3fbdf31a5644824", "committedDate": "2020-05-02T14:20:50Z", "message": "reverting token for shipkit auth, as this causes build issues, on local"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3f5f476797040f1a8af6bd9e96b57b1c8dff004", "author": {"user": {"login": "aepfli", "name": "Simon Schrottner"}}, "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a3f5f476797040f1a8af6bd9e96b57b1c8dff004", "committedDate": "2020-05-02T16:14:19Z", "message": "reverting token for shipkit auth, as this causes build issues, on local"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3736, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}