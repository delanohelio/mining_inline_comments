{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNjU1OTY5", "number": 25423, "title": "Introduce support for isolated functions", "bodyText": "Purpose\n$title.\nFixes #24907\nApproach\nA new phase is introduced for isolation function validation and inferring. In addition, the type checker now takes into account the isolated flag.\nRemarks\nPending tasks - support isolated with function type descriptors and anonymous functions. #25565\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-08-26T05:29:38Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25423", "merged": true, "mergeCommit": {"oid": "137e70545898b959643920084bb7d34078c8f9f4"}, "closed": true, "closedAt": "2020-09-14T04:23:28Z", "author": {"login": "MaryamZi"}, "timelineItems": {"totalCount": 37, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-JXsqgH2gAyNDczNjU1OTY5OjljOWY4YjFlMGNkNWRjNDNiZjM2MjI5ZDYxMTYxMDRkZDQ1MmZiYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIihDJAH2gAyNDczNjU1OTY5OjkzYjIwNzBhZDBlN2MxZjc1NjY5NjljM2Q3ODliNzNiODIyOWRmZjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c9f8b1e0cd5dc43bf36229d6116104dd452fba2", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9c9f8b1e0cd5dc43bf36229d6116104dd452fba2", "committedDate": "2020-08-12T11:04:25Z", "message": "Add initial parser changes for isolated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f0c01d31c78e6fbd5338768e36470e21cb245e1", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0f0c01d31c78e6fbd5338768e36470e21cb245e1", "committedDate": "2020-08-13T17:26:07Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ae42478a37cd49a7c3cdc28f107d3e25d995460", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ae42478a37cd49a7c3cdc28f107d3e25d995460", "committedDate": "2020-08-15T07:38:46Z", "message": "Intro initial error handling for isolated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8971f5a8cbfeb1548fdfb875f14303e75c254603", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8971f5a8cbfeb1548fdfb875f14303e75c254603", "committedDate": "2020-08-15T14:11:10Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d891d301eade59d759ba5d6353b094f951594b8", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3d891d301eade59d759ba5d6353b094f951594b8", "committedDate": "2020-08-18T05:49:07Z", "message": "Add positive parser tests for isolated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ee0c49459f3b20320edba8968dcf623bb5a3e40", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9ee0c49459f3b20320edba8968dcf623bb5a3e40", "committedDate": "2020-08-18T06:36:50Z", "message": "Add parser error recovery tests for isolated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "979ba62525314c2335edfe829722a6d4a1eb3191", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/979ba62525314c2335edfe829722a6d4a1eb3191", "committedDate": "2020-08-18T06:49:09Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "997686f76d3f6c8a2de716448b7ba6ad1de0b811", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/997686f76d3f6c8a2de716448b7ba6ad1de0b811", "committedDate": "2020-08-23T07:14:57Z", "message": "Introduce IsolationAnalyzer - Take I"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ac894b148985d03fe05fd5b409e5b8e40ff96ad", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5ac894b148985d03fe05fd5b409e5b8e40ff96ad", "committedDate": "2020-08-24T05:47:05Z", "message": "Change isolation check to see if ref belongs to current invokable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3163997a546e8c83c74d0af0cc88f5a61e3ca01", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d3163997a546e8c83c74d0af0cc88f5a61e3ca01", "committedDate": "2020-08-25T10:03:50Z", "message": "Implement remaining visits and enable isolation analysis\n\nAlso changes  to return only non-note diagnostics."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce1dfb5d3355005c559490b8ea22f02cbab879ab", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ce1dfb5d3355005c559490b8ea22f02cbab879ab", "committedDate": "2020-08-25T14:46:53Z", "message": "Add object method isolation analysis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6222a6eb0c634681fd3b1d3beb9ed8cef195105b", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6222a6eb0c634681fd3b1d3beb9ed8cef195105b", "committedDate": "2020-08-25T14:53:37Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "052690b892ca97f1f553d1d904e82a2abad932c9", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/052690b892ca97f1f553d1d904e82a2abad932c9", "committedDate": "2020-08-25T17:50:55Z", "message": "Rename the method that retrieves all non-note diagnostics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc44fcd8f5e325ea6d9c1a786186b4e107f8052b", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc44fcd8f5e325ea6d9c1a786186b4e107f8052b", "committedDate": "2020-08-25T18:35:45Z", "message": "Fix parser tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb4457fed608870ee0a068a5ba54d15bc7f35c83", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/eb4457fed608870ee0a068a5ba54d15bc7f35c83", "committedDate": "2020-08-26T07:30:56Z", "message": "Comment out logging note logs to the console"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "596dc60696aa739f6724a69f2934407233641e18", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/596dc60696aa739f6724a69f2934407233641e18", "committedDate": "2020-08-29T14:45:41Z", "message": "Perform isolation analysis w/out class var and fix error constr. analysis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eac7a716819ec88097fe47b179371b7e7bf182a7", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/eac7a716819ec88097fe47b179371b7e7bf182a7", "committedDate": "2020-08-31T09:51:10Z", "message": "Add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b8a8f5bf4babdfe4abe5e720e357bc62ef5a3a2", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b8a8f5bf4babdfe4abe5e720e357bc62ef5a3a2", "committedDate": "2020-08-31T18:27:36Z", "message": "Visit args for isolation analysis and add object method/service function tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a576621e221c428e8b455935ac16a24c17353153", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a576621e221c428e8b455935ac16a24c17353153", "committedDate": "2020-09-01T03:44:24Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b71a450f1e915e5f14b3eefa5f362d3631758a3", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b71a450f1e915e5f14b3eefa5f362d3631758a3", "committedDate": "2020-09-01T03:57:51Z", "message": "Fix BLangOnClause visit for upstream changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c70ceb89e470d1b1bea355c23f0e2a443763ede5", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c70ceb89e470d1b1bea355c23f0e2a443763ede5", "committedDate": "2020-09-01T12:30:20Z", "message": "Consider isolated flag for type-checking"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f32adee59ba7990e2ddb90c1508d24fefc7780a0", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f32adee59ba7990e2ddb90c1508d24fefc7780a0", "committedDate": "2020-09-02T11:51:20Z", "message": "Merge master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODA1NzQ1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25423#pullrequestreview-480805745", "createdAt": "2020-09-02T13:14:19Z", "commit": {"oid": "f32adee59ba7990e2ddb90c1508d24fefc7780a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxNDoxOVrOHLugnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxNDoxOVrOHLugnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA1ODM5Nw==", "bodyText": "Since we r seeing isolated keyword we can directly consume it. So we can use consume() here. Other places will also be changed to consume() in future :-)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25423#discussion_r482058397", "createdAt": "2020-09-02T13:14:19Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -4694,6 +4701,9 @@ private STNode parseFunctionQualifiers(ParserRuleContext context, List<STNode> q\n                 case RESOURCE_KEYWORD:\n                     qualifier = parseResourceKeyword();\n                     break;\n+                case ISOLATED_KEYWORD:\n+                    qualifier = parseIsolatedKeyword();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f32adee59ba7990e2ddb90c1508d24fefc7780a0"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "becd1b0c7542b4bb5202203bbd4c227c8d8c527b", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/becd1b0c7542b4bb5202203bbd4c227c8d8c527b", "committedDate": "2020-09-02T18:25:56Z", "message": "Use consume to parse the isolated keyword"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNjU2MjA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25423#pullrequestreview-481656208", "createdAt": "2020-09-03T09:22:11Z", "commit": {"oid": "becd1b0c7542b4bb5202203bbd4c227c8d8c527b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOToyMjoxMVrOHMd70A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOToyMjoxMVrOHMd70A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgzNTQwOA==", "bodyText": "Looks like committed by mistake?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25423#discussion_r482835408", "createdAt": "2020-09-03T09:22:11Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/util/diagnotic/DefaultDiagnosticListener.java", "diffHunk": "@@ -44,6 +44,7 @@ public void received(Diagnostic diagnostic) {\n                 console.println(\"warning: \" + pos + \" \" + diag.msg);\n                 break;\n             case NOTE:\n+                // console.println(\"note: \" + pos + \" \" + diag.msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "becd1b0c7542b4bb5202203bbd4c227c8d8c527b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70d40fec4b1b7c653519c76094b7249b0e5fa4fe", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/70d40fec4b1b7c653519c76094b7249b0e5fa4fe", "committedDate": "2020-09-03T14:41:41Z", "message": "Fix function string repr. and add tests for function typedescs/anon funcs\n\nThe tests are commented out until support for isolated function typedescs and anon functions is added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbe90b38fc4813a768d261a5b97c46e062a32b5a", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dbe90b38fc4813a768d261a5b97c46e062a32b5a", "committedDate": "2020-09-04T04:58:25Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3537de0bfefc61b5e59515168f28f1a88445fc5b", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3537de0bfefc61b5e59515168f28f1a88445fc5b", "committedDate": "2020-09-06T17:57:53Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a880323b598fbf349b28075d3659cb31ee3d9f19", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a880323b598fbf349b28075d3659cb31ee3d9f19", "committedDate": "2020-09-10T06:45:47Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d364d2a61a0f1baec95667da8dc37afd020a6cfc", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d364d2a61a0f1baec95667da8dc37afd020a6cfc", "committedDate": "2020-09-10T09:40:09Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b43064b3bca1a3b7dcd8787a4af7be5526a29d22", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b43064b3bca1a3b7dcd8787a4af7be5526a29d22", "committedDate": "2020-09-11T18:37:39Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee363eb9b449ea85d3641332fefd27a76ad171e5", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee363eb9b449ea85d3641332fefd27a76ad171e5", "committedDate": "2020-09-12T03:45:50Z", "message": "Fix isolation analysis for class changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7429dcd947658b972faacabc4a1e0927a960db23", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7429dcd947658b972faacabc4a1e0927a960db23", "committedDate": "2020-09-12T17:36:38Z", "message": "Fix isolated error handling for class/object member and fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc0a1ecab87b0189243df1e39e45326386a1a187", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fc0a1ecab87b0189243df1e39e45326386a1a187", "committedDate": "2020-09-12T17:52:45Z", "message": "Change object tests to use classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea0fe6ee0fd3301edb7a14e01cee2f44f6c02cdb", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ea0fe6ee0fd3301edb7a14e01cee2f44f6c02cdb", "committedDate": "2020-09-12T18:15:06Z", "message": "Merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1314ec0cc2ba07f38fbd93362a5539d6a5fefac", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a1314ec0cc2ba07f38fbd93362a5539d6a5fefac", "committedDate": "2020-09-12T18:26:58Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93b2070ad0e7c1f7566969c3d789b73b8229dff1", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/93b2070ad0e7c1f7566969c3d789b73b8229dff1", "committedDate": "2020-09-13T18:01:30Z", "message": "Add isolation validation for record field defaults\n\nThis is temporarily introduced as a note log until stdlibs are fixed"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4925, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}