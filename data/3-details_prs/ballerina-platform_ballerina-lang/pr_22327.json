{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MDU3ODk5", "number": 22327, "title": "[1.2.x] Add markdown doc for annotation", "bodyText": "Purpose\nAdd markdown documentation attachment for annotation\nFixes #22262\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-03-31T04:17:47Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327", "merged": true, "mergeCommit": {"oid": "ff1892fe9743a436dbb33856c612e24992ef0f4a"}, "closed": true, "closedAt": "2020-04-02T04:55:54Z", "author": {"login": "KavinduZoysa"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTVAq_gFqTM4NTQ1MTI3Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTcNMoAFqTM4NTg1MjYxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NDUxMjcz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#pullrequestreview-385451273", "createdAt": "2020-04-01T10:19:23Z", "commit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoxOToyM1rOF-6KdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoxOToyM1rOF-6KdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUwODk4MA==", "bodyText": "@hasithaa we can go ahead with this change for the patch branch right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401508980", "createdAt": "2020-04-01T10:19:23Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/model/BIRNode.java", "diffHunk": "@@ -509,7 +509,7 @@ public String toString() {\n      *\n      * @since 0.995.0\n      */\n-    public static class BIRAnnotation extends BIRNode {\n+    public static class BIRAnnotation extends BIRDocumentableNode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NDU2MzA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#pullrequestreview-385456308", "createdAt": "2020-04-01T10:26:49Z", "commit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoyNjo0OVrOF-6alQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDo1MTozMFrOF-7OAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUxMzEwOQ==", "bodyText": "Shouldn't this be public?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401513109", "createdAt": "2020-04-01T10:26:49Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_projects/test_documentation/src/test/test_documentation_symbol.bal", "diffHunk": "@@ -25,3 +25,16 @@ public type Person object {\n         return true;\n     }\n };\n+\n+# Documentation for Test annotation\n+# + a - 'field a' documentation\n+# + b - 'field b' documentation\n+# + c - 'field c' documentation\n+type Tst record {\n+    string a = \"\";\n+    string b = \"\";\n+    string c = \"\";\n+};\n+\n+# Documentation for Test annotation\n+annotation Tst Test on function;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUyNjI3NA==", "bodyText": "According to the annotation definition this should have {} right? So this probably fails at compilation?\nShall we assert that there are no compilation errors?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401526274", "createdAt": "2020-04-01T10:51:30Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_balo/documentation/test_documentation.bal", "diffHunk": "@@ -4,3 +4,7 @@ import testDocOrg/test;\n function testDocDummy() returns (boolean) {\n     return test:open(\"testt\");\n }\n+\n+@test:Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de51ea740700973fad0e3879822a9ce4051ae0bb", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/de51ea740700973fad0e3879822a9ce4051ae0bb", "committedDate": "2020-04-01T17:49:17Z", "message": "Enable markdown documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09bc1470f81bac6a13237e803be3e0037d18d6e4", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/09bc1470f81bac6a13237e803be3e0037d18d6e4", "committedDate": "2020-04-01T17:49:17Z", "message": "Add unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbe1afa9acbdb63aecaea035de50d7d390d42324", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dbe1afa9acbdb63aecaea035de50d7d390d42324", "committedDate": "2020-04-01T17:49:17Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8ab438bafbbff2a87e48b468bec032cbfed1727", "committedDate": "2020-04-01T17:49:17Z", "message": "Fix the compilation errors in test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37946455ce12fbdd2dc6ac296b4238959215043b", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/37946455ce12fbdd2dc6ac296b4238959215043b", "committedDate": "2020-04-01T14:03:17Z", "message": "Fix the compilation errors in test"}, "afterCommit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8ab438bafbbff2a87e48b468bec032cbfed1727", "committedDate": "2020-04-01T17:49:17Z", "message": "Fix the compilation errors in test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODUyMDA5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#pullrequestreview-385852009", "createdAt": "2020-04-01T18:41:35Z", "commit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MTozNVrOF_Nwjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MTozNVrOF_Nwjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTgzMDAzMA==", "bodyText": "Let's move this assertion to the setup method in a separate PR.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401830030", "createdAt": "2020-04-01T18:41:35Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/balo/documentation/DocumentationTest.java", "diffHunk": "@@ -104,6 +105,21 @@ public void testDocAttachmentBalo() {\n                 .replaceAll(CARRIAGE_RETURN_CHAR, EMPTY_STRING), \"True if male\");\n     }\n \n+    @Test(description = \"Test doc attachments in annotations\")\n+    public void testAnnotationDoc() {\n+        PackageNode packageNode = result.getAST();\n+        Assert.assertEquals(result.getErrorCount(), 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1ODUyNjE2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#pullrequestreview-385852616", "createdAt": "2020-04-01T18:42:24Z", "commit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4109, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}