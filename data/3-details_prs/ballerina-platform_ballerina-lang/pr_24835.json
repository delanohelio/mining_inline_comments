{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNzExMjky", "number": 24835, "title": "Support executing a single test function", "bodyText": "Purpose\n\nSupport executing a single test function or a set of functions\n\nFixes #24628\nApproach\n\nIntroduce a new \"--tests\" flag to specify the list of functions to be executed within module/project.\n\nSamples\n\nN/A\n\nRemarks\n\nN/A\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-19T18:45:31Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835", "merged": true, "mergeCommit": {"oid": "75e789a346a59325c6a87ae9b5409ede04d76463"}, "closed": true, "closedAt": "2020-07-29T17:24:50Z", "author": {"login": "Dilhasha"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2CIa6AH2gAyNDUyNzExMjkyOmY1MTU4OTdiNDE5M2RjY2ZlNGU5MjA4MDEwMzMxMmM1NDU2NWJlZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5ua05AFqTQ1NzczNDg2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f515897b4193dccfe4e92080103312c54565bede", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f515897b4193dccfe4e92080103312c54565bede", "committedDate": "2020-07-18T06:07:00Z", "message": "Support executing a single test function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/717774d1957589d105e06bdea3ae8c8676fbebd0", "committedDate": "2020-07-18T06:07:37Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NjcxMzQw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-455671340", "createdAt": "2020-07-27T10:44:48Z", "commit": {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMDo0NDo0OFrOG3dO2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMDo0NDo0OFrOG3dO2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgwMzgwMQ==", "bodyText": "Have we considered having tests for test cases that fail as well?\nSuppose we have a test case named testFunc3 that is set to fail. If we have the command --tests testFunc2, testFunc3 , then will the result be 2 passing, 1 failing?\nAlso does the execution continue if the testFunc3 is provided at the start. Something like --tests testFunc3, testFunc2?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#discussion_r460803801", "createdAt": "2020-07-27T10:44:48Z", "author": {"login": "Ibaqu"}, "path": "tests/testerina-integration-test/src/test/java/org/ballerinalang/testerina/test/SelectedFunctionTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.testerina.test;\n+\n+import org.ballerinalang.test.context.BMainInstance;\n+import org.ballerinalang.test.context.BallerinaTestException;\n+import org.ballerinalang.test.context.LogLeecher;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n+import static org.ballerinalang.test.context.LogLeecher.LeecherType.ERROR;\n+\n+/**\n+ * Test class containing tests related to selective function tests.\n+ */\n+public class SelectedFunctionTest extends BaseTestCase {\n+\n+    private BMainInstance balClient;\n+    private String projectPath;\n+\n+    @BeforeClass\n+    public void setup() throws BallerinaTestException {\n+        balClient = new BMainInstance(balServer);\n+        projectPath = singleFilesProjectPath.resolve(\"single-test-execution\").toString();\n+    }\n+\n+    @Test\n+    public void testSingleFunctionExecution() throws BallerinaTestException {\n+        String msg = \"1 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc\", \"single-test-execution.bal\"},\n+                null, new String[]{}, new LogLeecher[]{clientLeecher}, projectPath);\n+        clientLeecher.waitForText(20000);\n+    }\n+\n+    @Test\n+    public void testDependentFunctionExecution() throws BallerinaTestException {\n+        String msg = \"2 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc2\", \"single-test-execution.bal\"},\n+                null, new String[]{}, new LogLeecher[]{clientLeecher}, projectPath);\n+        clientLeecher.waitForText(20000);\n+    }\n+\n+    @Test\n+    public void testMultipleFunctionExecution() throws BallerinaTestException {\n+        String msg = \"2 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc,testFunc2\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0"}, "originalPosition": 64}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NzI0ODc0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-455724874", "createdAt": "2020-07-27T12:15:18Z", "commit": {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzI1NDkw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-456325490", "createdAt": "2020-07-28T06:04:26Z", "commit": {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f934b7d09146704926875babaec3603f45791393", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f934b7d09146704926875babaec3603f45791393", "committedDate": "2020-07-28T06:32:27Z", "message": "Resolve conflicts with master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDY0Mzg0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-456464384", "createdAt": "2020-07-28T09:33:09Z", "commit": {"oid": "f934b7d09146704926875babaec3603f45791393"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOTozMzowOVrOG4EocQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOTozMzowOVrOG4EocQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0OTMyOQ==", "bodyText": "Shall we add the license header for this file?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#discussion_r461449329", "createdAt": "2020-07-28T09:33:09Z", "author": {"login": "anupama-pathirage"}, "path": "tests/testerina-integration-test/src/test/resources/single-file-tests/single-test-execution/single-test-execution.bal", "diffHunk": "@@ -0,0 +1,51 @@\n+import ballerina/test;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f934b7d09146704926875babaec3603f45791393"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDg2OTQz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-456486943", "createdAt": "2020-07-28T10:03:53Z", "commit": {"oid": "f934b7d09146704926875babaec3603f45791393"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aa9fbb93e6103eedd55572b0d47f0a6654ca6cc", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9aa9fbb93e6103eedd55572b0d47f0a6654ca6cc", "committedDate": "2020-07-28T10:04:13Z", "message": "Add license header to for new test file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68dd7b909e0c504e71028b3ac29f802222b9a0be", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/68dd7b909e0c504e71028b3ac29f802222b9a0be", "committedDate": "2020-07-28T10:11:39Z", "message": "Add missing license headers to test files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffddb907c4fbd21c94d800fb291146ab5f269792", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ffddb907c4fbd21c94d800fb291146ab5f269792", "committedDate": "2020-07-29T09:56:47Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into issue-24628-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29aeee215e9e4a0c205459ae074557172b5560c8", "author": {"user": {"login": "Dilhasha", "name": "Fathima Dilhasha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29aeee215e9e4a0c205459ae074557172b5560c8", "committedDate": "2020-07-29T13:39:07Z", "message": "Fix line numbers after adding license header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NzM0ODYx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#pullrequestreview-457734861", "createdAt": "2020-07-29T17:24:42Z", "commit": {"oid": "29aeee215e9e4a0c205459ae074557172b5560c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3671, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}