{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MzYwOTky", "number": 23660, "title": "Update SQL error with the latest changes", "bodyText": "Purpose\n$Subject\nFixes #23634\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-06-02T05:35:22Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660", "merged": true, "mergeCommit": {"oid": "925ba6fb3ff0101163e144916f3e8c3f87ce357c"}, "closed": true, "closedAt": "2020-06-06T06:49:22Z", "author": {"login": "kalaiyarasiganeshalingam"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnOB6GgH2gAyNDI2MzYwOTkyOjRlNTgzYWIwYmVkOTkyODQzOGU2YzAzMTY5MDMyOTU0MDMzNTVkZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcohj8lgFqTQyNTcxOTM1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e583ab0bed9928438e6c0316903295403355de5", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4e583ab0bed9928438e6c0316903295403355de5", "committedDate": "2020-06-02T05:29:53Z", "message": "Update SQL error with the latest changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzU3MDg1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#pullrequestreview-422357085", "createdAt": "2020-06-02T05:43:09Z", "commit": {"oid": "4e583ab0bed9928438e6c0316903295403355de5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwNTo0MzowOVrOGdi0PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwNTo0MzowOVrOGdi0PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYzMjMxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static final String DATABASE_ERROR_CODE = \"DatabaseError\";\n          \n          \n            \n                public static final String DATABASE_ERROR = \"DatabaseError\";\n          \n      \n    \n    \n  \n\nShall we remove the CODE part? WDYT?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#discussion_r433632316", "createdAt": "2020-06-02T05:43:09Z", "author": {"login": "chamil321"}, "path": "stdlib/database/sql/src/main/java/org/ballerinalang/sql/Constants.java", "diffHunk": "@@ -37,10 +37,9 @@\n     public static final String CONNECTOR_ID_KEY = UUID.randomUUID().toString();\n \n     public static final String DATABASE_ERROR_DATA = \"DatabaseErrorData\";\n-    public static final String DATABASE_ERROR_CODE = \"{ballerina/sql}DatabaseError\";\n+    public static final String DATABASE_ERROR_CODE = \"DatabaseError\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e583ab0bed9928438e6c0316903295403355de5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "360c60bf0b3080128afeaaa5b325e69b385848c8", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/360c60bf0b3080128afeaaa5b325e69b385848c8", "committedDate": "2020-06-02T08:44:46Z", "message": "Fix the suggested change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNTI3NDA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#pullrequestreview-422527408", "createdAt": "2020-06-02T10:02:02Z", "commit": {"oid": "360c60bf0b3080128afeaaa5b325e69b385848c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMDowMjowMlrOGdqxyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMDowMjowMlrOGdqxyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc2Mjc2MQ==", "bodyText": "remove these docs as well", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#discussion_r433762761", "createdAt": "2020-06-02T10:02:02Z", "author": {"login": "chamil321"}, "path": "stdlib/database/sql/src/main/ballerina/src/sql/error.bal", "diffHunk": "@@ -14,38 +14,23 @@\n // specific language governing permissions and limitations\n // under the License.\n \n-public const DATABASE_ERROR_REASON = \"{ballerina/sql}DatabaseError\";\n-\n # Represents the properties belonging to a `DatabaseError`.\n #\n # + message - Error message", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "360c60bf0b3080128afeaaa5b325e69b385848c8"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f9bcc15d7c6690522815deaadbd3a7f6b9bf7a7", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4f9bcc15d7c6690522815deaadbd3a7f6b9bf7a7", "committedDate": "2020-06-04T04:40:03Z", "message": "Merge branch '23283-add-distinct-type' of https://github.com/ballerina-platform/ballerina-lang into sql_error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84f2cb70205613f1c5bc7bc7c127d3a357921902", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/84f2cb70205613f1c5bc7bc7c127d3a357921902", "committedDate": "2020-06-04T09:49:19Z", "message": "Improve the error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7218d83e12576209dfd6229f5327c347334e5fd4", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7218d83e12576209dfd6229f5327c347334e5fd4", "committedDate": "2020-06-04T10:19:23Z", "message": "Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "596211c9eb8f6fda48d7c54e5446adb187d085c5", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/596211c9eb8f6fda48d7c54e5446adb187d085c5", "committedDate": "2020-06-04T10:20:39Z", "message": "Merge branch '23283-add-distinct-type' of https://github.com/ballerina-platform/ballerina-lang into sql_error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e50671218d4458d72913e193fad95b9a5526350", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1e50671218d4458d72913e193fad95b9a5526350", "committedDate": "2020-06-04T13:58:22Z", "message": "Make the changes in the details"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjAyMjkx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#pullrequestreview-424602291", "createdAt": "2020-06-04T16:01:38Z", "commit": {"oid": "1e50671218d4458d72913e193fad95b9a5526350"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjowMTozOFrOGfNDwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjowMTozOFrOGfNDwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM3Mjk5Mw==", "bodyText": "Can we return the error directly?\nreturn  ApplicationError(\"...\");", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#discussion_r435372993", "createdAt": "2020-06-04T16:01:38Z", "author": {"login": "chamil321"}, "path": "stdlib/database/sql/src/main/ballerina/src/sql/client.bal", "diffHunk": "@@ -45,12 +45,14 @@ public type Client abstract client object {\n };\n \n function closedStreamInvocationError() returns Error {\n-    return ApplicationError(\"Stream is closed. Therefore, no operations are allowed \" +\n-    \"further on the stream.\");\n+    ApplicationError e = ApplicationError(\"Stream is closed. Therefore, no operations are allowed further\" +\n+    \" on the stream.\");\n+    return e;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e50671218d4458d72913e193fad95b9a5526350"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjA2ODE4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#pullrequestreview-424606818", "createdAt": "2020-06-04T16:06:45Z", "commit": {"oid": "1e50671218d4458d72913e193fad95b9a5526350"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjowNjo0NVrOGfNRDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjowNjo0NVrOGfNRDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM3NjM5Ng==", "bodyText": "Shall we assert the error.getMessage()?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#discussion_r435376396", "createdAt": "2020-06-04T16:06:45Z", "author": {"login": "chamil321"}, "path": "stdlib/database/mysql/src/test/java/org/ballerinalang/mysql/init/ConnectionInitTest.java", "diffHunk": "@@ -58,8 +58,6 @@ public void setup() {\n     public void testWithMandatoryFields() {\n         BValue[] returnVal = BRunUtil.invoke(result, \"testConnectionWithNoFields\");\n         Assert.assertTrue(returnVal[0] instanceof BError);\n-        BError error = (BError) returnVal[0];\n-        Assert.assertEquals(error.getReason(), SQLDBUtils.SQL_APPLICATION_ERROR_REASON);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e50671218d4458d72913e193fad95b9a5526350"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31dc0703690af1afc6fe241e04e04d6509ac2ada", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/31dc0703690af1afc6fe241e04e04d6509ac2ada", "committedDate": "2020-06-05T07:40:22Z", "message": "Fix test failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzE5MzUz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23660#pullrequestreview-425719353", "createdAt": "2020-06-06T06:49:11Z", "commit": {"oid": "31dc0703690af1afc6fe241e04e04d6509ac2ada"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4493, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}