{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNDE5NTgw", "number": 27005, "title": "Add an API to get type inclusions of record/object types", "bodyText": "Purpose\nThis PR adds an API to the type symbols for records and objects to easily access the type inclusions.\nFix #26432\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-11-18T19:27:59Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27005", "merged": true, "mergeCommit": {"oid": "bb5d7e6352ab8a707a03b31a6a0a40cfcc4867c5"}, "closed": true, "closedAt": "2020-11-23T05:14:53Z", "author": {"login": "pubudu91"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeARw7AFqTUzNDI4MzA3Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfOGYsAFqTUzNjE4MTMyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MjgzMDc2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27005#pullrequestreview-534283076", "createdAt": "2020-11-19T10:34:22Z", "commit": {"oid": "c172e2381d8fad61a034a8f7600c08f3007e3f24"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c172e2381d8fad61a034a8f7600c08f3007e3f24", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c172e2381d8fad61a034a8f7600c08f3007e3f24", "committedDate": "2020-11-19T06:35:58Z", "message": "Add test cases for type inclusions"}, "afterCommit": {"oid": "b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5", "committedDate": "2020-11-19T19:23:14Z", "message": "Add test cases for type inclusions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MDcwNzYz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27005#pullrequestreview-535070763", "createdAt": "2020-11-20T04:26:15Z", "commit": {"oid": "b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNDoyNjoxNVrOH29PYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNDoyNjoxNVrOH29PYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM4ODUxNA==", "bodyText": "Do we also have to persist this in BIR and read for symbols coming from a compiled package?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27005#discussion_r527388514", "createdAt": "2020-11-20T04:26:15Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SymbolEnter.java", "diffHunk": "@@ -2027,6 +2027,13 @@ private void resolveFields(BStructureType structureType, BLangStructureTypeNode\n                 .map(field -> new BField(names.fromIdNode(field.name), field.pos, field.symbol))\n                 .collect(getFieldCollector());\n \n+        List<BType> list = new ArrayList<>();\n+        for (BLangType tRef : structureTypeNode.typeRefs) {\n+            BType type = tRef.type;\n+            list.add(type);\n+        }\n+        structureType.typeInclusions = list;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7b6d9fd88b745d39860efb5acdc5ae22cdbcdc5", "committedDate": "2020-11-19T19:23:14Z", "message": "Add test cases for type inclusions"}, "afterCommit": {"oid": "2b15df70cd9166a73fd4634919766766b1d7d121", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b15df70cd9166a73fd4634919766766b1d7d121", "committedDate": "2020-11-20T09:10:09Z", "message": "Persist included type info in the BIR"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b15df70cd9166a73fd4634919766766b1d7d121", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b15df70cd9166a73fd4634919766766b1d7d121", "committedDate": "2020-11-20T09:10:09Z", "message": "Persist included type info in the BIR"}, "afterCommit": {"oid": "0e05d687dab7c5e04643c9f41182f945fd745528", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0e05d687dab7c5e04643c9f41182f945fd745528", "committedDate": "2020-11-20T09:21:46Z", "message": "Persist included type info in the BIR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "732219bc9d3e5d56595603c944c19d94d429a140", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/732219bc9d3e5d56595603c944c19d94d429a140", "committedDate": "2020-11-20T17:47:50Z", "message": "Add an API for getting type inclusions from a record type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a414541c648bf9be417aed32508434ac7c9fb58f", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a414541c648bf9be417aed32508434ac7c9fb58f", "committedDate": "2020-11-20T17:47:50Z", "message": "Add type inclusions to BStructureType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fe0d64877e30363876712f4ac55a0a417a918a8", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4fe0d64877e30363876712f4ac55a0a417a918a8", "committedDate": "2020-11-20T17:47:50Z", "message": "Implement typeInclusions() for record type symbol"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "704bb6d3715e8ac61be972195a0f8a8ee6c7382c", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/704bb6d3715e8ac61be972195a0f8a8ee6c7382c", "committedDate": "2020-11-20T17:47:50Z", "message": "Implement typeInclusions() API for object types and classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "724df7ed12593fdc38770bb98e50d30602d43b73", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/724df7ed12593fdc38770bb98e50d30602d43b73", "committedDate": "2020-11-20T17:47:50Z", "message": "Add test cases for type inclusions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fd455255a423f2595395d697aaa17df3eac54ef", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5fd455255a423f2595395d697aaa17df3eac54ef", "committedDate": "2020-11-20T17:47:51Z", "message": "Persist included type info in the BIR"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e05d687dab7c5e04643c9f41182f945fd745528", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0e05d687dab7c5e04643c9f41182f945fd745528", "committedDate": "2020-11-20T09:21:46Z", "message": "Persist included type info in the BIR"}, "afterCommit": {"oid": "5fd455255a423f2595395d697aaa17df3eac54ef", "author": {"user": {"login": "pubudu91", "name": "Pubudu Fernando"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5fd455255a423f2595395d697aaa17df3eac54ef", "committedDate": "2020-11-20T17:47:51Z", "message": "Persist included type info in the BIR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTgxMzIz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27005#pullrequestreview-536181323", "createdAt": "2020-11-23T05:14:32Z", "commit": {"oid": "5fd455255a423f2595395d697aaa17df3eac54ef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4920, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}