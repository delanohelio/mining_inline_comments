{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MjU3MDk2", "number": 24901, "title": "Fix service debbug hit issue", "bodyText": "Purpose\nThis PR will fix service debug hit issue when a service file is located inside a directory.\nFixes #23096", "createdAt": "2020-07-22T17:31:21Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901", "merged": true, "mergeCommit": {"oid": "60eefed432672295e6dc70131562db50e13d242a"}, "closed": true, "closedAt": "2020-07-23T08:23:40Z", "author": {"login": "praveennadarajah"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3eQlZgH2gAyNDU1MjU3MDk2OjI4MmYwMGQ1ZjliN2RmMDllYmEwNzY1NmE0MzQ5NGM3NjkxM2VkMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3rAKqgFqTQ1MzkyMDk3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "282f00d5f9b7df09eba07656a43494c76913ed13", "author": {"user": {"login": "praveennadarajah", "name": "Praveen Nadarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/282f00d5f9b7df09eba07656a43494c76913ed13", "committedDate": "2020-07-22T17:27:11Z", "message": "Fix service debbug hit issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODI5Mjc5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#pullrequestreview-453829279", "createdAt": "2020-07-23T04:29:08Z", "commit": {"oid": "282f00d5f9b7df09eba07656a43494c76913ed13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDoyOTowOVrOG173hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDoyOTowOVrOG173hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIwODU4MA==", "bodyText": "@praveennadarajah Shall we add a comment explaining that in here we have handled the service files specifically and the reason behind that?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#discussion_r459208580", "createdAt": "2020-07-23T04:29:09Z", "author": {"login": "NipunaRanasinghe"}, "path": "misc/debug-adapter/modules/debug-adapter-core/src/main/java/org/ballerinalang/debugadapter/utils/PackageUtils.java", "diffHunk": "@@ -86,4 +89,24 @@ public static boolean isBlank(String str) {\n         }\n         return srcNames;\n     }\n+\n+    /**\n+     * Get relative path when a bal file is inside a directory.\n+     *\n+     * @param sourcePath     source path\n+     * @param patternMatcher pattern matcher string\n+     * @param sourceName     source name\n+     * @param fileName       file name\n+     * @return relative path\n+     */\n+    public static String getDirectoryRelativePath(String sourcePath, String patternMatcher, String sourceName,\n+                                                  String fileName) {\n+        Pattern pattern = Pattern.compile(SERVICE_REGEX);\n+        Matcher matcher = pattern.matcher(patternMatcher);\n+        if (matcher.find()) {\n+            return sourcePath;\n+        } else {\n+            return sourcePath.replace(sourceName, fileName);\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "282f00d5f9b7df09eba07656a43494c76913ed13"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODMyMjU0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#pullrequestreview-453832254", "createdAt": "2020-07-23T04:42:53Z", "commit": {"oid": "282f00d5f9b7df09eba07656a43494c76913ed13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo0Mjo1NFrOG18CGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo0Mjo1NFrOG18CGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMTI4OA==", "bodyText": "What do you mean by patternMatcher here? AFAIR this the reference location path of the source that we are rectifying, right? we can think of using an appropriate arg name instead.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#discussion_r459211288", "createdAt": "2020-07-23T04:42:54Z", "author": {"login": "NipunaRanasinghe"}, "path": "misc/debug-adapter/modules/debug-adapter-core/src/main/java/org/ballerinalang/debugadapter/utils/PackageUtils.java", "diffHunk": "@@ -86,4 +89,24 @@ public static boolean isBlank(String str) {\n         }\n         return srcNames;\n     }\n+\n+    /**\n+     * Get relative path when a bal file is inside a directory.\n+     *\n+     * @param sourcePath     source path\n+     * @param patternMatcher pattern matcher string\n+     * @param sourceName     source name\n+     * @param fileName       file name\n+     * @return relative path\n+     */\n+    public static String getDirectoryRelativePath(String sourcePath, String patternMatcher, String sourceName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "282f00d5f9b7df09eba07656a43494c76913ed13"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2111bc9bf3df2757349d02abc033245d23d39c1", "author": {"user": {"login": "praveennadarajah", "name": "Praveen Nadarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2111bc9bf3df2757349d02abc033245d23d39c1", "committedDate": "2020-07-23T05:08:23Z", "message": "Add review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75c35a7c7935cf0568cabea3d14bfd4c135beca3", "author": {"user": {"login": "praveennadarajah", "name": "Praveen Nadarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/75c35a7c7935cf0568cabea3d14bfd4c135beca3", "committedDate": "2020-07-23T05:53:22Z", "message": "Add review changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODUzMjM5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#pullrequestreview-453853239", "createdAt": "2020-07-23T06:02:41Z", "commit": {"oid": "75c35a7c7935cf0568cabea3d14bfd4c135beca3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c671c1c3fc7010faf48c7f67de0ff1df4208dbc2", "author": {"user": {"login": "praveennadarajah", "name": "Praveen Nadarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c671c1c3fc7010faf48c7f67de0ff1df4208dbc2", "committedDate": "2020-07-23T06:06:25Z", "message": "Add minor changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTIwOTcy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24901#pullrequestreview-453920972", "createdAt": "2020-07-23T08:18:01Z", "commit": {"oid": "c671c1c3fc7010faf48c7f67de0ff1df4208dbc2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3697, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}