{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzODc1MTQ3", "number": 27020, "title": "Implement DynamicListener ", "bodyText": "Purpose\n\nAdds the runtime module with the DynamicListener implementation. Resolve #26769\n\nApproach\n\nDefine dynamic listener that can be initiated at runtime in the lang:runtime module\n\nSamples\n\n\nRemarks\n\n#18601\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-11-19T11:23:14Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020", "merged": true, "mergeCommit": {"oid": "aa4aa3a4977924064c8ecf627cecce1a0093920f"}, "closed": true, "closedAt": "2020-11-24T02:51:45Z", "author": {"login": "riyafa"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeX0mbABqjQwMjEwMjQ5NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfgpu7AFqTUzNzAzODA1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "078a8063a258cbc04d0cd55f300874dd2587e4c5", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/078a8063a258cbc04d0cd55f300874dd2587e4c5", "committedDate": "2020-11-19T10:57:07Z", "message": "Fix tests"}, "afterCommit": {"oid": "961d636022f62d9c39f7538b1ee55174d3f67c82", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/961d636022f62d9c39f7538b1ee55174d3f67c82", "committedDate": "2020-11-20T13:59:45Z", "message": "Fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "961d636022f62d9c39f7538b1ee55174d3f67c82", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/961d636022f62d9c39f7538b1ee55174d3f67c82", "committedDate": "2020-11-20T13:59:45Z", "message": "Fix tests"}, "afterCommit": {"oid": "6a152198b586c7ded4ba43257c04a9ac9ab8663d", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6a152198b586c7ded4ba43257c04a9ac9ab8663d", "committedDate": "2020-11-21T01:12:45Z", "message": "Fix failing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a152198b586c7ded4ba43257c04a9ac9ab8663d", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6a152198b586c7ded4ba43257c04a9ac9ab8663d", "committedDate": "2020-11-21T01:12:45Z", "message": "Fix failing tests"}, "afterCommit": {"oid": "1ed0dc15bc2c202eb6ec6572a393abbfb72ddd3e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1ed0dc15bc2c202eb6ec6572a393abbfb72ddd3e", "committedDate": "2020-11-21T09:32:58Z", "message": "Fix failing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ed0dc15bc2c202eb6ec6572a393abbfb72ddd3e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1ed0dc15bc2c202eb6ec6572a393abbfb72ddd3e", "committedDate": "2020-11-21T09:32:58Z", "message": "Fix failing tests"}, "afterCommit": {"oid": "2d76af902483646a2dab02ffbc2738035965a50e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d76af902483646a2dab02ffbc2738035965a50e", "committedDate": "2020-11-21T10:00:10Z", "message": "Fix failing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d76af902483646a2dab02ffbc2738035965a50e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d76af902483646a2dab02ffbc2738035965a50e", "committedDate": "2020-11-21T10:00:10Z", "message": "Fix failing tests"}, "afterCommit": {"oid": "34153f8bc62ff37bf2b320ea42644660bd608016", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/34153f8bc62ff37bf2b320ea42644660bd608016", "committedDate": "2020-11-21T17:41:49Z", "message": "Fix for project api changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34153f8bc62ff37bf2b320ea42644660bd608016", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/34153f8bc62ff37bf2b320ea42644660bd608016", "committedDate": "2020-11-21T17:41:49Z", "message": "Fix for project api changes"}, "afterCommit": {"oid": "e6a419541909ddaba6e55818779557d50c1fc56c", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6a419541909ddaba6e55818779557d50c1fc56c", "committedDate": "2020-11-21T17:46:58Z", "message": "Fix for project api changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6a419541909ddaba6e55818779557d50c1fc56c", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6a419541909ddaba6e55818779557d50c1fc56c", "committedDate": "2020-11-21T17:46:58Z", "message": "Fix for project api changes"}, "afterCommit": {"oid": "16511054caa0c52a275cecb68221f873acceee02", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/16511054caa0c52a275cecb68221f873acceee02", "committedDate": "2020-11-22T00:39:43Z", "message": "Fix for project api changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b22564b5dfa69ed85f41a6f53f312144f3fbe4ec", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b22564b5dfa69ed85f41a6f53f312144f3fbe4ec", "committedDate": "2020-11-22T12:36:46Z", "message": "Fix failing language-server tests\n\nThese tests failed because of the addition of a new module."}, "afterCommit": {"oid": "78be06db7f7a0de8eec7ef861fbce45e5cbea8ea", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/78be06db7f7a0de8eec7ef861fbce45e5cbea8ea", "committedDate": "2020-11-22T13:33:40Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78be06db7f7a0de8eec7ef861fbce45e5cbea8ea", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/78be06db7f7a0de8eec7ef861fbce45e5cbea8ea", "committedDate": "2020-11-22T13:33:40Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "33ac9fb123fa2b5633e42709891db788e23fda88", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/33ac9fb123fa2b5633e42709891db788e23fda88", "committedDate": "2020-11-22T13:43:40Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33ac9fb123fa2b5633e42709891db788e23fda88", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/33ac9fb123fa2b5633e42709891db788e23fda88", "committedDate": "2020-11-22T13:43:40Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "e7dd79dfe49dd5f220c25c320fc7094b950ad73d", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e7dd79dfe49dd5f220c25c320fc7094b950ad73d", "committedDate": "2020-11-22T14:19:18Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7dd79dfe49dd5f220c25c320fc7094b950ad73d", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e7dd79dfe49dd5f220c25c320fc7094b950ad73d", "committedDate": "2020-11-22T14:19:18Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "670ac236f0e27f2ca628733d26568609374b508e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/670ac236f0e27f2ca628733d26568609374b508e", "committedDate": "2020-11-22T14:28:49Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTc3ODk0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-536177894", "createdAt": "2020-11-23T04:58:24Z", "commit": {"oid": "670ac236f0e27f2ca628733d26568609374b508e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNDo1ODoyNFrOH3_ZEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNDo1ODoyNFrOH3_ZEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ3MjMzNg==", "bodyText": "listenerSet.remove(listener) only invoked if isListenerDeclarationFound is false, is that the correct thing?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#discussion_r528472336", "createdAt": "2020-11-23T04:58:24Z", "author": {"login": "manuranga"}, "path": "bvm/ballerina-runtime/src/main/java/io/ballerina/runtime/internal/scheduling/Scheduler.java", "diffHunk": "@@ -465,6 +473,45 @@ public void poison() {\n             runnableList.add(POISON_PILL);\n         }\n     }\n+\n+    public void setListenerDeclarationFound(boolean listenerDeclarationFound) {\n+        this.listenerDeclarationFound = listenerDeclarationFound;\n+        if (listenerDeclarationFound) {\n+            setImmortal(true);\n+        }\n+    }\n+\n+    public boolean isListenerDeclarationFound() {\n+        return listenerDeclarationFound;\n+    }\n+\n+    public ListenerRegistry getListenerRegistry() {\n+        return listenerRegistry;\n+    }\n+\n+    /**\n+     * The registry for runtime dynamic listeners.\n+     */\n+    public class ListenerRegistry {\n+        private final Set<BObject> listenerSet = new HashSet<>();\n+\n+        public synchronized void registerListener(BObject listener) {\n+            listenerSet.add(listener);\n+            setImmortal(true);\n+        }\n+\n+        public synchronized void deregisterListener(BObject listener) {\n+            if (!isListenerDeclarationFound() && listenerSet.remove(listener) && listenerSet.isEmpty()) {\n+                setImmortal(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "670ac236f0e27f2ca628733d26568609374b508e"}, "originalPosition": 102}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "670ac236f0e27f2ca628733d26568609374b508e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/670ac236f0e27f2ca628733d26568609374b508e", "committedDate": "2020-11-22T14:28:49Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "b8872357051cf8e145b1cc38e203147df011f1ec", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b8872357051cf8e145b1cc38e203147df011f1ec", "committedDate": "2020-11-23T10:04:28Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8872357051cf8e145b1cc38e203147df011f1ec", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b8872357051cf8e145b1cc38e203147df011f1ec", "committedDate": "2020-11-23T10:04:28Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "c5ebd5ed11b5c648cd04a31e216fd8947a6b65c6", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c5ebd5ed11b5c648cd04a31e216fd8947a6b65c6", "committedDate": "2020-11-23T11:56:14Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5ebd5ed11b5c648cd04a31e216fd8947a6b65c6", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c5ebd5ed11b5c648cd04a31e216fd8947a6b65c6", "committedDate": "2020-11-23T11:56:14Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a3a650217e47a1a261d77871fdb95f3ce18d3ecf", "committedDate": "2020-11-23T12:05:18Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NDE3NTI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-536417525", "createdAt": "2020-11-23T12:15:09Z", "commit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjoxNTowOVrOH4K5lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjoxODozMlrOH4LBOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY2MDg4Nw==", "bodyText": "Missing since annotation", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#discussion_r528660887", "createdAt": "2020-11-23T12:15:09Z", "author": {"login": "warunalakshitha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/ShutDownListenerGen.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.bir.codegen;\n+\n+import org.objectweb.asm.ClassWriter;\n+import org.objectweb.asm.FieldVisitor;\n+import org.objectweb.asm.MethodVisitor;\n+\n+import java.util.Map;\n+\n+import static org.objectweb.asm.ClassWriter.COMPUTE_FRAMES;\n+import static org.objectweb.asm.Opcodes.ACC_PRIVATE;\n+import static org.objectweb.asm.Opcodes.ACC_PUBLIC;\n+import static org.objectweb.asm.Opcodes.ACC_SUPER;\n+import static org.objectweb.asm.Opcodes.ALOAD;\n+import static org.objectweb.asm.Opcodes.GETFIELD;\n+import static org.objectweb.asm.Opcodes.INVOKESPECIAL;\n+import static org.objectweb.asm.Opcodes.INVOKESTATIC;\n+import static org.objectweb.asm.Opcodes.PUTFIELD;\n+import static org.objectweb.asm.Opcodes.RETURN;\n+import static org.objectweb.asm.Opcodes.V1_8;\n+import static org.wso2.ballerinalang.compiler.bir.codegen.JvmConstants.JAVA_THREAD;\n+import static org.wso2.ballerinalang.compiler.bir.codegen.JvmConstants.JVM_INIT_METHOD;\n+import static org.wso2.ballerinalang.compiler.bir.codegen.JvmConstants.MODULE_STOP;\n+\n+/**\n+ * Generate the thread for the addShutDownHook.\n+ */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY2MTkzMA==", "bodyText": "Licence year 2020", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#discussion_r528661930", "createdAt": "2020-11-23T12:16:56Z", "author": {"login": "warunalakshitha"}, "path": "langlib/lang.runtime/build.gradle", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY2Mjg0MA==", "bodyText": "Do we need these config json changes?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#discussion_r528662840", "createdAt": "2020-11-23T12:18:32Z", "author": {"login": "warunalakshitha"}, "path": "language-server/modules/langserver-core/src/test/resources/completion/new/class_def/config/config1.json", "diffHunk": "@@ -289,10 +289,10 @@\n       ]\n     },\n     {\n-      \"label\": \"ballerina/lang.transaction\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3a650217e47a1a261d77871fdb95f3ce18d3ecf", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a3a650217e47a1a261d77871fdb95f3ce18d3ecf", "committedDate": "2020-11-23T12:05:18Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "aa11fcb70d9a6f0ec040ff29f6db522d015dfa32", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aa11fcb70d9a6f0ec040ff29f6db522d015dfa32", "committedDate": "2020-11-23T12:32:58Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NDQzODk4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-536443898", "createdAt": "2020-11-23T12:52:44Z", "commit": {"oid": "aa11fcb70d9a6f0ec040ff29f6db522d015dfa32"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjo1Mjo0NFrOH4MJug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMjo1Mjo0NFrOH4MJug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY4MTQwMg==", "bodyText": "Why do we have Var suffix in only initFuture variable? Shall we make all three names consistent as they are for similar purpose?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#discussion_r528681402", "createdAt": "2020-11-23T12:52:44Z", "author": {"login": "HindujaB"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/methodgen/MainMethodGen.java", "diffHunk": "@@ -69,6 +69,9 @@\n  */\n public class MainMethodGen {\n \n+    public static final String INIT_FUTURE_VAR = \"initFutureVar\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa11fcb70d9a6f0ec040ff29f6db522d015dfa32"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa11fcb70d9a6f0ec040ff29f6db522d015dfa32", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aa11fcb70d9a6f0ec040ff29f6db522d015dfa32", "committedDate": "2020-11-23T12:32:58Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "9d0ea9c6fdc289f68b20029ce9304cf198029a7c", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9d0ea9c6fdc289f68b20029ce9304cf198029a7c", "committedDate": "2020-11-23T13:33:58Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d0ea9c6fdc289f68b20029ce9304cf198029a7c", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9d0ea9c6fdc289f68b20029ce9304cf198029a7c", "committedDate": "2020-11-23T13:33:58Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}, "afterCommit": {"oid": "3a91fdd7466eafe4739a6d2482a91f2753f81b58", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3a91fdd7466eafe4739a6d2482a91f2753f81b58", "committedDate": "2020-11-23T15:13:22Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NjU5NTgz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-536659583", "createdAt": "2020-11-23T16:47:10Z", "commit": {"oid": "3a91fdd7466eafe4739a6d2482a91f2753f81b58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NzY3NjEz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-536767613", "createdAt": "2020-11-23T19:08:17Z", "commit": {"oid": "3a91fdd7466eafe4739a6d2482a91f2753f81b58"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7343260f9edc0ab24e6036486010585c4e50abd", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d7343260f9edc0ab24e6036486010585c4e50abd", "committedDate": "2020-11-24T00:20:00Z", "message": "Implement DynamicListener\n\n- Adds the runtime module with the DynamicListener implementation. Resolve https://github.com/ballerina-platform/ballerina-lang/issues/26769\n- This will fix the program not exiting when there's a service. Now the program exits if there's only a service. It will not exit when there's a registered module listener. Module Listeners can be registered using the runtime:registerListener function or by means of a listener declaration. Resolve https://github.com/ballerina-platform/ballerina-lang/issues/18601"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9330eae6531e578601e552dd141bbb05e30a2d9e", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9330eae6531e578601e552dd141bbb05e30a2d9e", "committedDate": "2020-11-24T00:20:00Z", "message": "Fix code issues in BIRGen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66f36f35e6629588dcb030f3629c586732db8513", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/66f36f35e6629588dcb030f3629c586732db8513", "committedDate": "2020-11-24T00:20:00Z", "message": "Fix failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adc13908e3edc143ca696ee3a50bb9d033111a4f", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/adc13908e3edc143ca696ee3a50bb9d033111a4f", "committedDate": "2020-11-24T00:20:01Z", "message": "Fix for project api changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce771e3de000576a14ee305707ca23b165e7517f", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ce771e3de000576a14ee305707ca23b165e7517f", "committedDate": "2020-11-24T00:20:01Z", "message": "Add tests for DynamicListeners"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "935f1d62a391ed8b00064618e1b82a3a0d310237", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/935f1d62a391ed8b00064618e1b82a3a0d310237", "committedDate": "2020-11-24T00:20:01Z", "message": "Fix failing language-server tests\n\nThese tests failed because of the addition of a new module."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33b0f055cf02435d941d13a702220d9fa2a301c3", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/33b0f055cf02435d941d13a702220d9fa2a301c3", "committedDate": "2020-11-24T00:20:01Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42a253ea6b9cc9c14a8868c63a0f83f7b74c3191", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/42a253ea6b9cc9c14a8868c63a0f83f7b74c3191", "committedDate": "2020-11-24T00:03:52Z", "message": "Resolve conflicts"}, "afterCommit": {"oid": "33b0f055cf02435d941d13a702220d9fa2a301c3", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/33b0f055cf02435d941d13a702220d9fa2a301c3", "committedDate": "2020-11-24T00:20:01Z", "message": "Allow not exiting for services as well\n\nThis will undo the fix that exits when there's only services. This is to keep supporting WebSocket clients for a while."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MDM4MDUy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27020#pullrequestreview-537038052", "createdAt": "2020-11-24T02:51:26Z", "commit": {"oid": "33b0f055cf02435d941d13a702220d9fa2a301c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4923, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}