{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMTk2MzU2", "number": 24791, "title": "Add integration test for resolving `ballerina` modules from central", "bodyText": "Purpose\n\nAdded an integration test to test modules with org-name ballerina are resolving from central, if a new version is available in the central.\n\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-16T13:28:28Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24791", "merged": true, "mergeCommit": {"oid": "2b73da3c26bf41bccae0203604b38034cd97c05f"}, "closed": true, "closedAt": "2020-07-16T14:54:32Z", "author": {"login": "pramodya1994"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1fQdNAH2gAyNDUwMTk2MzU2OmJhMjgwMmQ2MmYzZDlhY2U4MmZkM2U2ZWZiNmVjZWJjMjRlMjM0MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1gejQAFqTQ0OTkyOTkxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba2802d62f3d9ace82fd3e6efb6ecebc24e23432", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba2802d62f3d9ace82fd3e6efb6ecebc24e23432", "committedDate": "2020-07-16T13:29:06Z", "message": "Add integration test for resolving `ballerina` modules from central"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "869aed79fd462e965348bcac86af808aab9af807", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/869aed79fd462e965348bcac86af808aab9af807", "committedDate": "2020-07-16T13:25:13Z", "message": "Add integration test for resolving `ballerina` modules from central"}, "afterCommit": {"oid": "ba2802d62f3d9ace82fd3e6efb6ecebc24e23432", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba2802d62f3d9ace82fd3e6efb6ecebc24e23432", "committedDate": "2020-07-16T13:29:06Z", "message": "Add integration test for resolving `ballerina` modules from central"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5ODU4NjQ2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24791#pullrequestreview-449858646", "createdAt": "2020-07-16T13:41:37Z", "commit": {"oid": "ba2802d62f3d9ace82fd3e6efb6ecebc24e23432"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMzo0MTozN1rOGyre6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMzo0MTozN1rOGyre6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTc5NDQwOA==", "bodyText": "If I'm not mistaken, this test will be failing once a newer version of the socket module is available, as the module version is hard-coded here. Is it the expected behaviour or am I missing something?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24791#discussion_r455794408", "createdAt": "2020-07-16T13:41:37Z", "author": {"login": "NipunaRanasinghe"}, "path": "tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/packaging/PackagingTestCase.java", "diffHunk": "@@ -297,6 +298,27 @@ public void testBuildAndRunModuleWithPeriod() throws BallerinaTestException {\n         buildLeecher.waitForText(5000);\n     }\n \n+    @Test(description = \"Test modules with org-name `ballerina` resolving from central, if new version is available\")\n+    public void testResolveBallerinaModulesFromCentral() throws BallerinaTestException, IOException {\n+        // copy `ballerina-central-module` project from resources to a temp\n+        Path originalTestProject = Paths\n+                .get(\"src\", \"test\", \"resources\", \"packaging\", \"scope\", \"ballerina-central-module\").toAbsolutePath();\n+        Path projectPath = tempProjectDirectory.resolve(\"ballerinaCentralModuleProject\");\n+        copyFolder(originalTestProject, projectPath);\n+\n+        // Build module\n+        LogLeecher buildLeecher = new LogLeecher(\"ballerina/socket:9.0.0 pulled from central successfully\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba2802d62f3d9ace82fd3e6efb6ecebc24e23432"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5OTI5OTE2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24791#pullrequestreview-449929916", "createdAt": "2020-07-16T14:54:24Z", "commit": {"oid": "ba2802d62f3d9ace82fd3e6efb6ecebc24e23432"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3666, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}