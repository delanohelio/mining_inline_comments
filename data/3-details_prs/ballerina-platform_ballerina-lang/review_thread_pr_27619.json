{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzOTI5MTgx", "number": 27619, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMDoyNzozMVrOFIiADQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMDoyNzozMVrOFIiADQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NDg5OTk3OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMDoyNzozMVrOIKgbsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNjowNzo1OVrOIOLL0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg4ODA0OQ==", "bodyText": "What if we collect the class list to a List object instead of a string and construct the string before assigning it? WDYT?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27619#discussion_r547888049", "createdAt": "2020-12-23T10:27:31Z", "author": {"login": "Dilhasha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "diffHunk": "@@ -317,6 +318,23 @@ private BLangFunctionBody generateBody() {\n                 generateFieldBasedAccess(\"functionToMockPackage\"),\n                 generateRHSExpr(functionToMockPackageVal));\n \n+        BLangTestablePackage bLangTestablePackage = this.bLangPackage.getTestablePkg();\n+        List<BLangCompilationUnit> compUnitList = bLangTestablePackage.getCompilationUnits();\n+\n+        String mockFunctionClassList = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c33eda5c7147ccbc0c1db0cd757344d7037f6fdd"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg5MDQxMQ==", "bodyText": "Yes. Initially, the idea I had was to include it in a list because it is a more straightforward and cleaner approach.\nHowever, I ran into problems creating the equivalent desugar code to include the various source files into the list. I also tried arrays but was running into compilation problems.\nThis is why I resorted to passing a simple string and handling it at the FunctionMock class. Im looking into improving this.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27619#discussion_r547890411", "createdAt": "2020-12-23T10:33:18Z", "author": {"login": "Ibaqu"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "diffHunk": "@@ -317,6 +318,23 @@ private BLangFunctionBody generateBody() {\n                 generateFieldBasedAccess(\"functionToMockPackage\"),\n                 generateRHSExpr(functionToMockPackageVal));\n \n+        BLangTestablePackage bLangTestablePackage = this.bLangPackage.getTestablePkg();\n+        List<BLangCompilationUnit> compUnitList = bLangTestablePackage.getCompilationUnits();\n+\n+        String mockFunctionClassList = \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg4ODA0OQ=="}, "originalCommit": {"oid": "c33eda5c7147ccbc0c1db0cd757344d7037f6fdd"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTczNDIyNA==", "bodyText": "As discussed, I have passed an array instead of a string. This is cleaner than the previous approach", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27619#discussion_r551734224", "createdAt": "2021-01-05T06:07:59Z", "author": {"login": "Ibaqu"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "diffHunk": "@@ -317,6 +318,23 @@ private BLangFunctionBody generateBody() {\n                 generateFieldBasedAccess(\"functionToMockPackage\"),\n                 generateRHSExpr(functionToMockPackageVal));\n \n+        BLangTestablePackage bLangTestablePackage = this.bLangPackage.getTestablePkg();\n+        List<BLangCompilationUnit> compUnitList = bLangTestablePackage.getCompilationUnits();\n+\n+        String mockFunctionClassList = \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzg4ODA0OQ=="}, "originalCommit": {"oid": "c33eda5c7147ccbc0c1db0cd757344d7037f6fdd"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2794, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}