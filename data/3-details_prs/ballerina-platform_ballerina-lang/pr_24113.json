{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MTU3MjM0", "number": 24113, "title": "Implement Function Mocking", "bodyText": "Purpose\nImplement the new Function Mocking API\nFixes #23603\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-06-14T15:03:00Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113", "merged": true, "mergeCommit": {"oid": "66119f9767fc0c1fda87f40346427b5495dd9101"}, "closed": true, "closedAt": "2020-06-15T18:39:20Z", "author": {"login": "Ibaqu"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrNpa5ABqjM0NDE3NzgzNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrjFWmgFqTQzMDc5Njk0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c112bfa952248674417ef6bb787af67601ece4c5", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c112bfa952248674417ef6bb787af67601ece4c5", "committedDate": "2020-06-14T14:45:22Z", "message": "Add Function Mocking test cases"}, "afterCommit": {"oid": "29f3314cd4a6f7ca8be4ce0acb65ee49389afba3", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29f3314cd4a6f7ca8be4ce0acb65ee49389afba3", "committedDate": "2020-06-14T15:17:58Z", "message": "Add Function Mocking test cases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29f3314cd4a6f7ca8be4ce0acb65ee49389afba3", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29f3314cd4a6f7ca8be4ce0acb65ee49389afba3", "committedDate": "2020-06-14T15:17:58Z", "message": "Add Function Mocking test cases"}, "afterCommit": {"oid": "7a2b9117f60937570e2d478d291505d938ee12c1", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7a2b9117f60937570e2d478d291505d938ee12c1", "committedDate": "2020-06-14T16:31:55Z", "message": "Add Function Mocking test cases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a2b9117f60937570e2d478d291505d938ee12c1", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7a2b9117f60937570e2d478d291505d938ee12c1", "committedDate": "2020-06-14T16:31:55Z", "message": "Add Function Mocking test cases"}, "afterCommit": {"oid": "7c1f39a79affadf957a2419a9d629216dea11704", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c1f39a79affadf957a2419a9d629216dea11704", "committedDate": "2020-06-14T16:51:15Z", "message": "Add Function Mocking test cases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c1f39a79affadf957a2419a9d629216dea11704", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c1f39a79affadf957a2419a9d629216dea11704", "committedDate": "2020-06-14T16:51:15Z", "message": "Add Function Mocking test cases"}, "afterCommit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7f763d5c8dc89e18674fe42e7a535421d0a3b7c0", "committedDate": "2020-06-14T16:56:44Z", "message": "Add Function Mocking test cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjY4ODE1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#pullrequestreview-430268815", "createdAt": "2020-06-15T00:45:40Z", "commit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwMDo0NTo0MFrOGjggOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwMDo0ODoxNVrOGjghcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg4NTg4Mg==", "bodyText": "Can we add a test case to mock io:println since it is used in example tests. We also need to change the example tests as well.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#discussion_r439885882", "createdAt": "2020-06-15T00:45:40Z", "author": {"login": "hevayo"}, "path": "tests/testerina-integration-test/src/test/resources/project-based-tests/mock-tests/src/Mock/tests/main_test.bal", "diffHunk": "@@ -1,73 +1,113 @@\n import ballerina/test;\n-import SubtractModule;\n-import ballerina/math;\n+import ballerina/io;\n \n //\n-// TEST CASES\n+// MOCK FUNCTION OBJECTS\n //\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTg4NjE5NQ==", "bodyText": "how do we support mocking other packages ?\n@test:Mock { functionName: \"io:println\" }", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#discussion_r439886195", "createdAt": "2020-06-15T00:48:15Z", "author": {"login": "hevayo"}, "path": "misc/testerina/modules/testerina-core/src/main/ballerina/src/test/annotations.bal", "diffHunk": "@@ -33,17 +33,13 @@ public type TestConfig record {\n \n # Configuration of the function to be mocked.\n #\n-# + moduleName - Name of the module that the function to be mocked resides in\n # + functionName - Name of the function to be mocked\n public type MockConfig record {\n-    string moduleName = \".\";\n     string functionName = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjg3MDA3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#pullrequestreview-430287007", "createdAt": "2020-06-15T02:25:15Z", "commit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwMjoyNToxNlrOGjhbpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwMjoyNToxNlrOGjhbpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTkwMTA5Mw==", "bodyText": "The license header is missing.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#discussion_r439901093", "createdAt": "2020-06-15T02:25:16Z", "author": {"login": "IrushiL"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "diffHunk": "@@ -0,0 +1,249 @@\n+package org.wso2.ballerinalang.compiler.desugar;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f763d5c8dc89e18674fe42e7a535421d0a3b7c0"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19d554ddc09c1187ed5d3eb69781fbc9ff143f72", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/19d554ddc09c1187ed5d3eb69781fbc9ff143f72", "committedDate": "2020-06-15T03:25:33Z", "message": "Address review suggestions"}, "afterCommit": {"oid": "c600153620fda281e41e5d2aa512368c9435fb2c", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c600153620fda281e41e5d2aa512368c9435fb2c", "committedDate": "2020-06-15T08:14:38Z", "message": "Address review suggestions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c600153620fda281e41e5d2aa512368c9435fb2c", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c600153620fda281e41e5d2aa512368c9435fb2c", "committedDate": "2020-06-15T08:14:38Z", "message": "Address review suggestions"}, "afterCommit": {"oid": "cb95fb7e9c8362af4966c834e425c2fd0a83bbd6", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb95fb7e9c8362af4966c834e425c2fd0a83bbd6", "committedDate": "2020-06-15T08:19:47Z", "message": "Address review suggestions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb95fb7e9c8362af4966c834e425c2fd0a83bbd6", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb95fb7e9c8362af4966c834e425c2fd0a83bbd6", "committedDate": "2020-06-15T08:19:47Z", "message": "Address review suggestions"}, "afterCommit": {"oid": "8546aafe503007a91ecd3ccdaea3cfb0b16200ec", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8546aafe503007a91ecd3ccdaea3cfb0b16200ec", "committedDate": "2020-06-15T09:52:58Z", "message": "Address review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6132c333199882802091075a3d36c88d408fb10a", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6132c333199882802091075a3d36c88d408fb10a", "committedDate": "2020-06-15T13:10:54Z", "message": "Add mock generation class to Desugar module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "889f59d8cc2a210da8192f461838f884ac85a4a1", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/889f59d8cc2a210da8192f461838f884ac85a4a1", "committedDate": "2020-06-15T13:10:54Z", "message": "Implement replaceMockedFunctions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b5e27fdee45274f3551d0391470b96f0a2e16a4", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b5e27fdee45274f3551d0391470b96f0a2e16a4", "committedDate": "2020-06-15T13:10:55Z", "message": "Refactor MockDesugar class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acf7ef141e59daec0fbd5c8e4d9e11e346fe4ea7", "author": {"user": {"login": "azinneera", "name": "Asma Jabir"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/acf7ef141e59daec0fbd5c8e4d9e11e346fe4ea7", "committedDate": "2020-06-15T13:10:55Z", "message": "Add function mocking api and implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c82473a3b5c45ac67a1c8b0a738df3e3d8292bb4", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c82473a3b5c45ac67a1c8b0a738df3e3d8292bb4", "committedDate": "2020-06-15T13:10:55Z", "message": "Refactor function body generation of MockDesugar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "610e0c1e4794291e147ef52325d3b5c8828a737f", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/610e0c1e4794291e147ef52325d3b5c8828a737f", "committedDate": "2020-06-15T13:10:55Z", "message": "Add Function Mocking test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cb3e8cc8f19ef36fa2acd31cc2652e68f1407b1", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2cb3e8cc8f19ef36fa2acd31cc2652e68f1407b1", "committedDate": "2020-06-15T13:10:55Z", "message": "Address review suggestions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8546aafe503007a91ecd3ccdaea3cfb0b16200ec", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8546aafe503007a91ecd3ccdaea3cfb0b16200ec", "committedDate": "2020-06-15T09:52:58Z", "message": "Address review suggestions"}, "afterCommit": {"oid": "2cb3e8cc8f19ef36fa2acd31cc2652e68f1407b1", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2cb3e8cc8f19ef36fa2acd31cc2652e68f1407b1", "committedDate": "2020-06-15T13:10:55Z", "message": "Address review suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNzk2OTQ4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24113#pullrequestreview-430796948", "createdAt": "2020-06-15T16:17:21Z", "commit": {"oid": "2cb3e8cc8f19ef36fa2acd31cc2652e68f1407b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4337, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}