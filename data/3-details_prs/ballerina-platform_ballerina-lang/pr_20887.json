{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNzQwNjI5", "number": 20887, "title": "Migrate generateNewXML* to use StringValue", "bodyText": "Purpose\n\nResolve #20763\n\nApproach\n\nWrite test cases to migrate the xml files.\n\nSamples\n\nN/A\n\nRemarks\n\n#20886\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-02-06T07:02:33Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887", "merged": true, "mergeCommit": {"oid": "fdd3dce97c61cc2cbf8d43daeee146d2ee52bbe1"}, "closed": true, "closedAt": "2020-02-10T15:29:42Z", "author": {"login": "riyafa"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBme3pgBqjMwMTI5MjMzMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcC-WCdgFqTM1NTk5Njk5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4260d9dba617f4ea204d6fdd8b6a3e12f29e71d4", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4260d9dba617f4ea204d6fdd8b6a3e12f29e71d4", "committedDate": "2020-02-06T06:50:33Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}, "afterCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0631d3b2c4d944cde049259b551bf67e602d4824", "committedDate": "2020-02-06T08:29:55Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjkwNjI4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354290628", "createdAt": "2020-02-06T09:07:33Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowNzozM1rOFmTrwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowNzozM1rOFmTrwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMjcwNQ==", "bodyText": "Use BString", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375712705", "createdAt": "2020-02-06T09:07:33Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/AbstractArrayValue.java", "diffHunk": "@@ -392,5 +392,10 @@ public Object next() {\n         public boolean hasNext() {\n             return cursor < length;\n         }\n+\n+        @Override\n+        public StringValue bStringValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjkxMTY2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354291166", "createdAt": "2020-02-06T09:08:28Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowODoyOFrOFmTteQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowODoyOFrOFmTteQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzE0NQ==", "bodyText": "'null' return??", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713145", "createdAt": "2020-02-06T09:08:28Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/BmpStringValue.java", "diffHunk": "@@ -59,6 +59,11 @@ public String stringValue() {\n         return value;\n     }\n \n+    @Override\n+    public StringValue bStringValue() {\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjkxMzg0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354291384", "createdAt": "2020-02-06T09:08:50Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowODo1MVrOFmTuHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowODo1MVrOFmTuHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzMxMA==", "bodyText": "Use BString", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713310", "createdAt": "2020-02-06T09:08:51Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/DecimalValue.java", "diffHunk": "@@ -230,6 +230,11 @@ public String stringValue() {\n         return value.toString();\n     }\n \n+    @Override\n+    public StringValue bStringValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjkxNTcw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354291570", "createdAt": "2020-02-06T09:09:07Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowOTowN1rOFmTuug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOTowOTowN1rOFmTuug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzQ2Ng==", "bodyText": "Use BString", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713466", "createdAt": "2020-02-06T09:09:07Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "diffHunk": "@@ -54,51 +54,52 @@\n \n     private static final long serialVersionUID = 1L;\n     private final BType type;\n-    private final String reason;\n+    private final StringValue reason;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjkyNDI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354292425", "createdAt": "2020-02-06T09:10:33Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOToxMDozM1rOFmTxWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwOToxMDozM1rOFmTxWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxNDEzOQ==", "bodyText": "Use BString. Check other places as well.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375714139", "createdAt": "2020-02-06T09:10:33Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/StreamValue.java", "diffHunk": "@@ -98,6 +98,11 @@ public String stringValue() {\n         return \"stream <\" + getType().toString() + \">\";\n     }\n \n+    @Override\n+    public StringValue bStringValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NDMyODEy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-354432812", "createdAt": "2020-02-06T13:05:05Z", "commit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzowNTowNlrOFmaUMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzowNTowNlrOFmaUMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTgyMTM2MQ==", "bodyText": "can we just call the old function here instead coping the content?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375821361", "createdAt": "2020-02-06T13:05:06Z", "author": {"login": "manuranga"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/XMLFactory.java", "diffHunk": "@@ -359,24 +414,60 @@ public static XMLValue tableToXML(TableValue table) {\n         return new XMLItem(omText);\n     }\n \n+    /**\n+     * Create a comment type XMLValue.\n+     *\n+     * @param contentVal Text content\n+     * @return XMLValue Text type XMLValue\n+     */\n+    public static XMLValue<?> createXMLText(StringValue contentVal) {\n+        String content = contentVal.getValue();\n+        // Remove carriage return on windows environments to eliminate additional &#xd; being added", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824"}, "originalPosition": 105}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0631d3b2c4d944cde049259b551bf67e602d4824", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0631d3b2c4d944cde049259b551bf67e602d4824", "committedDate": "2020-02-06T08:29:55Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}, "afterCommit": {"oid": "c758e388e1f484551e72dece9cd22513a9af8b96", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c758e388e1f484551e72dece9cd22513a9af8b96", "committedDate": "2020-02-10T06:00:26Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c758e388e1f484551e72dece9cd22513a9af8b96", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c758e388e1f484551e72dece9cd22513a9af8b96", "committedDate": "2020-02-10T06:00:26Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}, "afterCommit": {"oid": "04727c3c9b39c08ea7c906d8c89d617e4f58f435", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04727c3c9b39c08ea7c906d8c89d617e4f58f435", "committedDate": "2020-02-10T06:21:33Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NzEzMzE2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-355713316", "createdAt": "2020-02-10T06:35:03Z", "commit": {"oid": "04727c3c9b39c08ea7c906d8c89d617e4f58f435"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "committedDate": "2020-02-10T11:14:02Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04727c3c9b39c08ea7c906d8c89d617e4f58f435", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04727c3c9b39c08ea7c906d8c89d617e4f58f435", "committedDate": "2020-02-10T06:21:33Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}, "afterCommit": {"oid": "cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "committedDate": "2020-02-10T11:14:02Z", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1OTk2OTk5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#pullrequestreview-355996999", "createdAt": "2020-02-10T14:52:07Z", "commit": {"oid": "cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4183, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}