{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNzcyMTc2", "number": 21428, "title": "Fix custom error type description not being defined.", "bodyText": "Purpose\n$title\nFixes #21347\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-03-03T06:41:55Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428", "merged": true, "mergeCommit": {"oid": "6096bda81a29b15f6150f2560f76ffb9403dc58c"}, "closed": true, "closedAt": "2020-03-05T16:58:18Z", "author": {"login": "irshadnilam"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKPpp-AFqTM2ODUwNDUyNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKqE-HAFqTM2OTUwMzM0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NTA0NTI2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#pullrequestreview-368504526", "createdAt": "2020-03-04T04:57:00Z", "commit": {"oid": "cef0fc652cd1c5c906fad90f2c1e1a47e20fc1e8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNDo1NzowMVrOFxgAtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNDo1NzowMVrOFxgAtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ0OTAxMg==", "bodyText": "Shall we use a simple string as the reason and move the current reason you've used as the message field of the detail?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if(!(e is typedesc<FooError>)) {\n          \n          \n            \n                    error panicError = error(\"expected typedesc<FooError> but found: \" + e.toString());\n          \n          \n            \n                    panic panicError;\n          \n          \n            \n                }\n          \n          \n            \n                if !(e is typedesc<FooError>) {\n          \n          \n            \n                    panic error(\"AssertionError\", message = \"expected typedesc<FooError> but found: \" + e.toString());\n          \n          \n            \n                }", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#discussion_r387449012", "createdAt": "2020-03-04T04:57:01Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/record/open_record.bal", "diffHunk": "@@ -473,3 +473,29 @@ function addStringToMapValue(string s) returns string {\n     mapValue = mapValue + s;\n     return mapValue;\n }\n+\n+public type CustomDetail record {\n+    string message;\n+    error cause?;\n+};\n+\n+public const FOO_REASON = \"FooError\";\n+public type FooError error<FOO_REASON, CustomDetail>;\n+\n+public const BAR_REASON = \"BarError\";\n+public type BarError error<BAR_REASON, CustomDetail>;\n+\n+public type Error FooError|BarError;\n+\n+public type MyRecord record {\n+    typedesc<Error>[] myErrorTypes = [FooError];\n+};\n+\n+function testCustomErrorTypeDescFieldOnRecord() {\n+    MyRecord m = {};\n+    typedesc<Error> e = m.myErrorTypes[0];\n+    if(!(e is typedesc<FooError>)) {\n+        error panicError = error(\"expected typedesc<FooError> but found: \" + e.toString());\n+        panic panicError;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cef0fc652cd1c5c906fad90f2c1e1a47e20fc1e8"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MzY1MDc0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#pullrequestreview-369365074", "createdAt": "2020-03-05T08:15:48Z", "commit": {"oid": "860b454281765afb591eac425c6ebc7d31a596c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa90d7395a67e0934101fab7d3c8e8ee51f75bc2", "author": {"user": {"login": "irshadnilam", "name": "Irshad Nilam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aa90d7395a67e0934101fab7d3c8e8ee51f75bc2", "committedDate": "2020-03-05T11:40:18Z", "message": "Fix custom error typedesc not being defined"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTAzMzQw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21428#pullrequestreview-369503340", "createdAt": "2020-03-05T11:46:46Z", "commit": {"oid": "aa90d7395a67e0934101fab7d3c8e8ee51f75bc2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4102, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}