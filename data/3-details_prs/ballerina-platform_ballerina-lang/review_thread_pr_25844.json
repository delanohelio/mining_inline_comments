{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3ODk2NzEw", "number": 25844, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDozMjo0N1rOEkFZtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDozMjo0N1rOEkFZtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjcyNjkzOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/IsolationAnalyzer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDozMjo0N1rOHSz0hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDo0MDo0NFrOHS0MnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NTQ0Ng==", "bodyText": "Better to create a git issue for this. Otherwise we might forget these with time.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25844#discussion_r489485446", "createdAt": "2020-09-16T14:32:47Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/IsolationAnalyzer.java", "diffHunk": "@@ -831,6 +841,20 @@ public void visit(BLangInvocation.BLangActionInvocation actionInvocationExpr) {\n \n     @Override\n     public void visit(BLangTypeInit typeInitExpr) {\n+        BSymbol initInvocationSymbol = typeInitExpr.initInvocation.symbol;\n+        if (initInvocationSymbol != null && !isIsolated(initInvocationSymbol)) {\n+            inferredIsolated = false;\n+\n+            if (isInIsolatedFunction(env.enclInvokable)) {\n+                dlog.error(typeInitExpr.pos, DiagnosticCode.INVALID_NON_ISOLATED_INIT_EXPRESSION_IN_ISOLATED_FUNCTION);\n+            } else if (isRecordFieldDefaultValue(env.enclType)) {\n+                // TODO: 9/16/20 make this error once stdlibs are migrated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfc83e09fe0e59d7b2fea90ec9c47ea16a7bcbd"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ5MTYxMg==", "bodyText": "Created #25850. Thanks!", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25844#discussion_r489491612", "createdAt": "2020-09-16T14:40:44Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/IsolationAnalyzer.java", "diffHunk": "@@ -831,6 +841,20 @@ public void visit(BLangInvocation.BLangActionInvocation actionInvocationExpr) {\n \n     @Override\n     public void visit(BLangTypeInit typeInitExpr) {\n+        BSymbol initInvocationSymbol = typeInitExpr.initInvocation.symbol;\n+        if (initInvocationSymbol != null && !isIsolated(initInvocationSymbol)) {\n+            inferredIsolated = false;\n+\n+            if (isInIsolatedFunction(env.enclInvokable)) {\n+                dlog.error(typeInitExpr.pos, DiagnosticCode.INVALID_NON_ISOLATED_INIT_EXPRESSION_IN_ISOLATED_FUNCTION);\n+            } else if (isRecordFieldDefaultValue(env.enclType)) {\n+                // TODO: 9/16/20 make this error once stdlibs are migrated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NTQ0Ng=="}, "originalCommit": {"oid": "0bfc83e09fe0e59d7b2fea90ec9c47ea16a7bcbd"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 132, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}