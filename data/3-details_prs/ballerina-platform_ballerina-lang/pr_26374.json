{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MzYwNDk5", "number": 26374, "title": "[Formatter] Fix issues and enable several test cases", "bodyText": "Purpose\nPartially Fixes #26052\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-15T20:09:31Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26374", "merged": true, "mergeCommit": {"oid": "4cba87ac4aff427340d56ff75634167f93413b90"}, "closed": true, "closedAt": "2020-10-16T02:26:47Z", "author": {"login": "IrushiL"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSynWDAH2gAyNTA0MzYwNDk5OmIzNDEwNmE1YTg0OGMxODBiNzNlM2MwNDY1NmVmOGNmZDQxMGY1OWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS8693gFqTUwOTk2Njc2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b34106a5a848c180b73e3c04656ef8cfd410f59c", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b34106a5a848c180b73e3c04656ef8cfd410f59c", "committedDate": "2020-10-15T14:26:06Z", "message": "Fix brace indentation for objects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2170d02a00073f50130d104ed915336a0d6ea30", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a2170d02a00073f50130d104ed915336a0d6ea30", "committedDate": "2020-10-15T14:26:06Z", "message": "Fix checkstyle issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ee1fb17200007943acb65ce17bae0540995df8f", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7ee1fb17200007943acb65ce17bae0540995df8f", "committedDate": "2020-10-15T14:28:09Z", "message": "Fix foreach_statement_2 test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5c46f458f974353abf3d88d1c9b601fcdeaccb8", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c5c46f458f974353abf3d88d1c9b601fcdeaccb8", "committedDate": "2020-10-15T17:33:05Z", "message": "Fix let_expression_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15fa151cb56ad1d31634fc26869a97ce6641e8b3", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/15fa151cb56ad1d31634fc26869a97ce6641e8b3", "committedDate": "2020-10-15T18:21:35Z", "message": "Fix query expressions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6a16b14ae9e72ed60334222dc08b7cdb046048c", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6a16b14ae9e72ed60334222dc08b7cdb046048c", "committedDate": "2020-10-15T18:50:28Z", "message": "Modify the query expression test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a874c392b8261d3d654b37c7635db45f594fff3a", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a874c392b8261d3d654b37c7635db45f594fff3a", "committedDate": "2020-10-15T18:54:25Z", "message": "Fix constant_expression_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bef9d99f0532ad7bda8356398a563fb2e1d6f292", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bef9d99f0532ad7bda8356398a563fb2e1d6f292", "committedDate": "2020-10-15T18:59:09Z", "message": "Fix optional_field_access_expression_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0a8d727cfb3219e009f265831e3825c94f1b395", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c0a8d727cfb3219e009f265831e3825c94f1b395", "committedDate": "2020-10-15T19:04:06Z", "message": "Fix if-else statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "914500bc4a848466c5e4e348bcec89f2c2e3ea45", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/914500bc4a848466c5e4e348bcec89f2c2e3ea45", "committedDate": "2020-10-15T19:05:52Z", "message": "Fix service_listener_declaration_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb18779c982eed3b64af2b6c1567ead124c7054b", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb18779c982eed3b64af2b6c1567ead124c7054b", "committedDate": "2020-10-15T19:25:46Z", "message": "Fix query action tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "542b0ea6e72f8af039e66b94cb3b265d0af68567", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/542b0ea6e72f8af039e66b94cb3b265d0af68567", "committedDate": "2020-10-15T19:28:59Z", "message": "Fix xml_type_3 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e12db9f7d2d0fc129d033425e0a59e8506086ae5", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e12db9f7d2d0fc129d033425e0a59e8506086ae5", "committedDate": "2020-10-15T19:32:55Z", "message": "Fix new_expression_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "713ab3f4b12d02ae2aba8c9973084ffa57e804eb", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/713ab3f4b12d02ae2aba8c9973084ffa57e804eb", "committedDate": "2020-10-15T19:45:14Z", "message": "Fix class definition test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76019598ba19b68a2fdaca4f6de82f8a4417deea", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/76019598ba19b68a2fdaca4f6de82f8a4417deea", "committedDate": "2020-10-15T19:46:45Z", "message": "Fix object_constructor_expression_1 test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6179e1b978239572c6120acaac6e75d7edefc6c", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a6179e1b978239572c6120acaac6e75d7edefc6c", "committedDate": "2020-10-15T19:54:26Z", "message": "Fix some behavioural type test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8f2b6c760a7c7a75201922d72e147e9c5cc1407", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c8f2b6c760a7c7a75201922d72e147e9c5cc1407", "committedDate": "2020-10-15T19:57:02Z", "message": "Fix module_type_definition_declaration_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e467eaa7779b1e6aa67533a8a23ff366325c4514", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e467eaa7779b1e6aa67533a8a23ff366325c4514", "committedDate": "2020-10-15T19:59:06Z", "message": "Fix never_type_1 test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88a6aa53a1488b412c686e2f06a5d145041bb48e", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/88a6aa53a1488b412c686e2f06a5d145041bb48e", "committedDate": "2020-10-15T20:05:02Z", "message": "Fix a comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ad1040fde31029d70a24660306b064032d27052", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0ad1040fde31029d70a24660306b064032d27052", "committedDate": "2020-10-15T20:10:56Z", "message": "Modify an if-else statement test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "464ff3e92c4ae061e51b74b947bae36ab0b07de9", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/464ff3e92c4ae061e51b74b947bae36ab0b07de9", "committedDate": "2020-10-15T20:30:08Z", "message": "Fix the ObjectConstructorExpressionNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9f7ffcef3cf7db3c2823f282a66adef1d769009", "author": {"user": {"login": "IrushiL", "name": "Irushi Liyanage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e9f7ffcef3cf7db3c2823f282a66adef1d769009", "committedDate": "2020-10-15T22:15:07Z", "message": "Enable disabled test cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTY2NzYy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26374#pullrequestreview-509966762", "createdAt": "2020-10-16T02:17:25Z", "commit": {"oid": "e9f7ffcef3cf7db3c2823f282a66adef1d769009"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMjoxNzoyNVrOHijFxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMjoyNToxN1rOHijXyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk4ODU0OA==", "bodyText": "Should we preserve the newlines added by the user?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26374#discussion_r505988548", "createdAt": "2020-10-16T02:17:25Z", "author": {"login": "SupunS"}, "path": "misc/formatter/modules/formatter-core/src/test/resources/declarations/class-definition/assert/class_definition_declaration_17.bal", "diffHunk": "@@ -1,14 +1,9 @@\n class Foo {\n     public function init() {\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f7ffcef3cf7db3c2823f282a66adef1d769009"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk5Mjk4OA==", "bodyText": "Would it be better to aligned with the table keyword?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26374#discussion_r505992988", "createdAt": "2020-10-16T02:25:00Z", "author": {"login": "SupunS"}, "path": "misc/formatter/modules/formatter-core/src/test/resources/expressions/query/assert/query_expression_4.bal", "diffHunk": "@@ -1,56 +1,35 @@\n-import ballerina/io;\n-\n-type Student record {\n-    readonly id;\n-    string firstName;\n-    string lastName;\n-    int intakeYear;\n-    float gpa;\n-};\n-\n-type Report record {\n-    readonly id;\n-    string name;\n-    string degree;\n-    int graduationYear;\n-};\n-\n-// This is a `table` type with `Report` members uniquely identified by their `id` field.\n-type ReportTable table<Report> key(id);\n-\n public function main() {\n-    Student s1 = { id: 1, firstName: \"Michelle\", lastName: \"Sadler\",\n-                   intakeYear: 1990, gpa: 3.5 };\n-    Student s2 = { id: 2, firstName: \"Ranjan\", lastName: \"Fonseka\",\n-                   intakeYear: 2001, gpa: 1.9 };\n-    Student s3 = { id: 3, firstName: \"Martin\", lastName: \"Guthrie\",\n-                   intakeYear: 2002, gpa: 3.7 };\n-    Student s4 = { id: 4, firstName: \"George\", lastName: \"Fernando\",\n-                   intakeYear: 2005, gpa: 4.0 };\n+    Student s1 = {\n+        id: 1,\n+        firstName: \"Michelle\",\n+        lastName: \"Sadler\",\n+        intakeYear: 1990,\n+        gpa: 3.5\n+    };\n \n     Student[] studentList = [s1, s2, s3, s4];\n \n     // The `query expression` starts with `table`.\n     // The key specifier `key(id)` specifies the key sequence of the constructed `table`.\n     // The result of the `query expression` is a `table`.\n     ReportTable|error reportTable = table key(id) from var student in studentList\n-        // The `where` clause provides a way to perform conditional execution and works similarly to an `if` condition.\n-        // It can refer to variables bound by the from clause.\n-        // When the `where` condition evaluates to false, the current iteration is skipped.\n-        where student.gpa >= 2.0\n-        // The `let` clause binds the variables.\n-        let string degreeName = \"Bachelor of Medicine\",\n-        int graduationYear = calGraduationYear(student.intakeYear)\n-        // The `limit` clause limits the number of output items.\n-        limit 2\n-        // The `select` clause is evaluated for each iteration.\n-        // During the construction of a `table`, each emitted value from the `select` clause is added as a new member.\n-        select {\n-            id: student.id,\n-            name: student.firstName + \" \" + student.lastName,\n-            degree: degreeName,\n-            graduationYear: graduationYear\n-        };\n+                                                  // The `where` clause provides a way to perform conditional execution and works similarly to an `if` condition.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f7ffcef3cf7db3c2823f282a66adef1d769009"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTk5MzE2MA==", "bodyText": "Same as above", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26374#discussion_r505993160", "createdAt": "2020-10-16T02:25:17Z", "author": {"login": "SupunS"}, "path": "misc/formatter/modules/formatter-core/src/test/resources/expressions/query/assert/query_expression_4.bal", "diffHunk": "@@ -59,19 +38,21 @@ public function main() {\n     // Defines an `error` to handle a key conflict.\n     error onConflictError = error(\"Key Conflict\", message = \"cannot insert report\");\n \n-    ReportTable|error result = table key(id) from var student in duplicateStdList\n-        select {\n-            id: student.id,\n-            name: student.firstName + \" \" + student.lastName,\n-            degree: \"Bachelor of Medicine\",\n-            graduationYear: calGraduationYear(student.intakeYear)\n-        }\n-        // The `on conflict` clause gets executed when `select` emits a row\n-        // that has the same key as a row that it emitted earlier.\n-        // It gives an `onConflictError` error if there is a key conflict.\n-        on conflict onConflictError;\n-\n-    io:println(result);\n+    stream<Report> reportStream = stream from var student in duplicateStdList\n+                                         select {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f7ffcef3cf7db3c2823f282a66adef1d769009"}, "originalPosition": 99}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4386, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}