{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODU2OTQ1", "number": 23919, "title": "Move assignments with init to a separate method ", "bodyText": "Purpose\n\nRelated issue #23376\n\nApproach\n\nThTo prevent the method too large issue, this fix moves the assignment statements with init or record expressions to a separate method, thus making the init method smaller\n\nSamples\n\nN/A\n\nRemarks\n\nThis would temporarily fix the method too large issue as in #23376\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-06-11T05:57:08Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23919", "merged": true, "mergeCommit": {"oid": "02a06d9ad4888e26989dc2be12cd012b6434dd8e"}, "closed": true, "closedAt": "2020-06-12T18:42:42Z", "author": {"login": "riyafa"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqav7ZgBqjM0MzY4MDc0NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqnWARAFqTQyOTk2MTkyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "839163e1ed81aabd17eaf67c0f585dbab152abeb", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/839163e1ed81aabd17eaf67c0f585dbab152abeb", "committedDate": "2020-06-11T05:46:31Z", "message": "Make the method size smaller for splitting init\n\nThe method size is made smaller for splitting the ___init_ function in the generated byte code. This would temporarily fix the method too large issue as in #23376"}, "afterCommit": {"oid": "716f04c69064f7636b5c1271b29f48f204291d90", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/716f04c69064f7636b5c1271b29f48f204291d90", "committedDate": "2020-06-12T04:00:01Z", "message": "Make the method size smaller for splitting init\n\nThe method size is made smaller for splitting the ___init_ function in the generated byte code. This would temporarily fix the method too large issue as in #23376"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "716f04c69064f7636b5c1271b29f48f204291d90", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/716f04c69064f7636b5c1271b29f48f204291d90", "committedDate": "2020-06-12T04:00:01Z", "message": "Make the method size smaller for splitting init\n\nThe method size is made smaller for splitting the ___init_ function in the generated byte code. This would temporarily fix the method too large issue as in #23376"}, "afterCommit": {"oid": "542f01386b04f00d3a3f0425eb280d65faa913f6", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/542f01386b04f00d3a3f0425eb280d65faa913f6", "committedDate": "2020-06-12T10:54:43Z", "message": "Make the method size smaller for splitting init\n\nThe method size is made smaller for splitting the ___init_ function in the generated byte code. This would temporarily fix the method too large issue as in #23376"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "542f01386b04f00d3a3f0425eb280d65faa913f6", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/542f01386b04f00d3a3f0425eb280d65faa913f6", "committedDate": "2020-06-12T10:54:43Z", "message": "Make the method size smaller for splitting init\n\nThe method size is made smaller for splitting the ___init_ function in the generated byte code. This would temporarily fix the method too large issue as in #23376"}, "afterCommit": {"oid": "c2d7e3db30213b78dcaea30fde9a519aa3c2311b", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2d7e3db30213b78dcaea30fde9a519aa3c2311b", "committedDate": "2020-06-12T10:58:24Z", "message": "Move assignments with init or record to a separate method\n\nTo prevent the method too large issue, this fix moves the assignment statements with init or record expressions to a separate method, thus making the init method smaller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1bbcbfab166abab4bdb219418448d2e14ea14b5", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e1bbcbfab166abab4bdb219418448d2e14ea14b5", "committedDate": "2020-06-12T11:40:59Z", "message": "Move assignments with init or record to a separate method\n\nTo prevent the method too large issue, this fix moves the assignment statements with init or record expressions to a separate method, thus making the init method smaller"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2d7e3db30213b78dcaea30fde9a519aa3c2311b", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2d7e3db30213b78dcaea30fde9a519aa3c2311b", "committedDate": "2020-06-12T10:58:24Z", "message": "Move assignments with init or record to a separate method\n\nTo prevent the method too large issue, this fix moves the assignment statements with init or record expressions to a separate method, thus making the init method smaller"}, "afterCommit": {"oid": "e1bbcbfab166abab4bdb219418448d2e14ea14b5", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e1bbcbfab166abab4bdb219418448d2e14ea14b5", "committedDate": "2020-06-12T11:40:59Z", "message": "Move assignments with init or record to a separate method\n\nTo prevent the method too large issue, this fix moves the assignment statements with init or record expressions to a separate method, thus making the init method smaller"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODI4MTc3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23919#pullrequestreview-429828177", "createdAt": "2020-06-12T15:18:25Z", "commit": {"oid": "e1bbcbfab166abab4bdb219418448d2e14ea14b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToxODoyNVrOGjH6iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToxODoyNVrOGjH6iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4MzAxNw==", "bodyText": "I assume this change is due to the new check with method size splitting logic. Did we check the exact reason for this?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23919#discussion_r439483017", "createdAt": "2020-06-12T15:18:25Z", "author": {"login": "Kishanthan"}, "path": "tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/service/grpc/tool/StubGeneratorTestCase.java", "diffHunk": "@@ -436,7 +436,7 @@ public void testHelloWorldGatewayWithRepeatedField() throws IllegalAccessExcepti\n                 \"Expected compilation units not found in compile results.\");\n         assertEquals(((BLangPackage) compileResult.getAST()).typeDefinitions.size(), 9,\n                 \"Expected type definitions not found in compile results.\");\n-        assertEquals(((BLangPackage) compileResult.getAST()).functions.size(), 22,\n+        assertEquals(((BLangPackage) compileResult.getAST()).functions.size(), 24,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1bbcbfab166abab4bdb219418448d2e14ea14b5"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTYxOTI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23919#pullrequestreview-429961925", "createdAt": "2020-06-12T18:41:14Z", "commit": {"oid": "e1bbcbfab166abab4bdb219418448d2e14ea14b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4359, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}