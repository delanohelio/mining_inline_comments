{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMTAyODgy", "number": 26330, "title": "Fix lambda method generation", "bodyText": "Purpose\nFixes #24588\nApproach\nThe code generation only considered the caller side information when generating lambda methods for async calls. This causes  error when the callee-side has arguments of general types (any, anydata). This PR fixes it by referring function definition when generating lambda methods.\nSamples\n\n\nRemarks\n\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-13T08:38:13Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330", "merged": true, "mergeCommit": {"oid": "c832dde137128bfaa9fc8b797ae2f7dfe0d9bfaa"}, "closed": true, "closedAt": "2020-10-16T05:13:42Z", "author": {"login": "HindujaB"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSYt1-AFqTUwODEwMDQ4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS_T4AAFqTUxMDA5NjYzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTAwNDg1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330#pullrequestreview-508100485", "createdAt": "2020-10-14T08:15:40Z", "commit": {"oid": "9e17a0b089584de7e6d997dcedf3019739946961"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxNTo0MFrOHhHdbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxNTo0MFrOHhHdbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQ4NzI3OQ==", "bodyText": "try to remove functionwrapper.\nUse only symbol.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330#discussion_r504487279", "createdAt": "2020-10-14T08:15:40Z", "author": {"login": "HindujaB"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/JvmMethodGen.java", "diffHunk": "@@ -1493,6 +1500,14 @@ void generateLambdaMethod(BIRInstruction ins, ClassWriter cw, String lambdaName)\n         mv.visitEnd();\n     }\n \n+    private List<BType> getInitialParamTypes(List<BType> paramTypes, int argsCount) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e17a0b089584de7e6d997dcedf3019739946961"}, "originalPosition": 96}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTAxNzAx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330#pullrequestreview-508101701", "createdAt": "2020-10-14T08:17:09Z", "commit": {"oid": "9e17a0b089584de7e6d997dcedf3019739946961"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxNzowOVrOHhHhAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxNzowOVrOHhHhAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQ4ODE5Mw==", "bodyText": "add test for function from other pkg", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330#discussion_r504488193", "createdAt": "2020-10-14T08:17:09Z", "author": {"login": "HindujaB"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/action/start/start_action.bal", "diffHunk": "@@ -61,3 +63,18 @@ function assert(anydata expected, anydata actual) {\n         panic error(\"{AssertionError}\", message = detail);\n     }\n }\n+\n+function testCast() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e17a0b089584de7e6d997dcedf3019739946961"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9e17a0b089584de7e6d997dcedf3019739946961", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9e17a0b089584de7e6d997dcedf3019739946961", "committedDate": "2020-10-13T08:37:04Z", "message": "Add new line"}, "afterCommit": {"oid": "b7ce543eb92434c202f26ff64d4d5db351dc5622", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7ce543eb92434c202f26ff64d4d5db351dc5622", "committedDate": "2020-10-14T11:49:43Z", "message": "Add unit-test for function call from another package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c86ca9a6791febd48e19ed17657070b6522067df", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c86ca9a6791febd48e19ed17657070b6522067df", "committedDate": "2020-10-15T02:25:35Z", "message": "Fix lambda method generation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86a4914ed2eebb66e4b92d2dc9d115e532b05dc5", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/86a4914ed2eebb66e4b92d2dc9d115e532b05dc5", "committedDate": "2020-10-15T02:25:35Z", "message": "Add new line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30973f084726802b88c056c99316b943a6a81106", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30973f084726802b88c056c99316b943a6a81106", "committedDate": "2020-10-15T02:25:35Z", "message": "Add unit-test for function call from another package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e73c66a16d31c1d99f602b78ec3aea9831492513", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e73c66a16d31c1d99f602b78ec3aea9831492513", "committedDate": "2020-10-15T02:25:35Z", "message": "Add new line"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f4502a7a363a73a1791a699706ec50c82b5fb96", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2f4502a7a363a73a1791a699706ec50c82b5fb96", "committedDate": "2020-10-14T12:00:28Z", "message": "Add new line"}, "afterCommit": {"oid": "e73c66a16d31c1d99f602b78ec3aea9831492513", "author": {"user": {"login": "HindujaB", "name": "Hinduja Balasubramaniyam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e73c66a16d31c1d99f602b78ec3aea9831492513", "committedDate": "2020-10-15T02:25:35Z", "message": "Add new line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwMDk2NjM3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26330#pullrequestreview-510096637", "createdAt": "2020-10-16T05:13:36Z", "commit": {"oid": "e73c66a16d31c1d99f602b78ec3aea9831492513"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4344, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}