{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NzcxMjA2", "number": 21515, "title": "Add goto def support for lang lib content and Streaming Queries", "bodyText": "Purpose\n\nWith this add the goto definition support for the lang lib content\n\nFixes #21474\nFixes #21541\nApproach\n\nPre-load the langlib content during the cache initialization add the on-demand cache populating support for the content not already in the cache\nAdd the goto definition support for the streaming queries as well\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-03-06T11:26:14Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21515", "merged": true, "mergeCommit": {"oid": "5c58aa07c40d9fa1a39f5cd6908103cf72b6a7c5"}, "closed": true, "closedAt": "2020-03-10T03:34:16Z", "author": {"login": "nadeeshaan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcK-WQegH2gAyMzg0NzcxMjA2OmM3YmNmNjE4OGNlYzg3ODY1MWFmZjhhZDdkNzdiYjIwMjA3ZGI5YTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLvHu5AFqTM3MDg1NDc0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c7bcf6188cec878651aff8ad7d77bb20207db9a5", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c7bcf6188cec878651aff8ad7d77bb20207db9a5", "committedDate": "2020-03-06T11:23:45Z", "message": "add goto def support for lang lib content"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed7efda81faeb246caa330216428c6ea99fce290", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ed7efda81faeb246caa330216428c6ea99fce290", "committedDate": "2020-03-07T02:25:32Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into dev-branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a67c1bb4d6de5a650fdc9f739a952a035501ebe8", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a67c1bb4d6de5a650fdc9f739a952a035501ebe8", "committedDate": "2020-03-08T08:32:54Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into dev-branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37967b2cb2c6d6e20d31107a1fd0bf20d51f8efb", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/37967b2cb2c6d6e20d31107a1fd0bf20d51f8efb", "committedDate": "2020-03-08T18:31:53Z", "message": "add goto definition support for streaming query operations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODQ5OTE3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21515#pullrequestreview-370849917", "createdAt": "2020-03-08T18:44:41Z", "commit": {"oid": "37967b2cb2c6d6e20d31107a1fd0bf20d51f8efb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxODo0NDo0MVrOFzWxhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQxODo0NDo0MVrOFzWxhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM5NDgyMw==", "bodyText": "Can we assume that the version will be 0.0.0, for all the lang libs? or do we have a way to extract the bundled versions from the distribution itself, instead?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21515#discussion_r389394823", "createdAt": "2020-03-08T18:44:41Z", "author": {"login": "NipunaRanasinghe"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/util/definition/LSStandardLibCache.java", "diffHunk": "@@ -170,6 +172,27 @@ public Path getCachedStdlibRoot(String pkgName) throws LSStdlibCacheException {\n         }\n         return CommonUtil.LS_STDLIB_CACHE_DIR.resolve(pkgName);\n     }\n+    \n+    private void populateLangLibs() {\n+        List<String> langLibs = Arrays.asList(\"array\", \"decimal\", \"error\", \"float\", \"future\", \"int\", \"map\", \"object\",\n+                \"stream\", \"string\", \"table\", \"typedesc\", \"value\", \"xml\");\n+        if (cacheUpdating) {\n+            return;\n+        }\n+        new Thread(() -> {\n+            try {\n+                for (String langLib : langLibs) {\n+                    String cacheableKey = \"ballerina_lang.\" + langLib + \"_0.0.0\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37967b2cb2c6d6e20d31107a1fd0bf20d51f8efb"}, "originalPosition": 93}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwODU0NzQ2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21515#pullrequestreview-370854746", "createdAt": "2020-03-08T20:13:14Z", "commit": {"oid": "37967b2cb2c6d6e20d31107a1fd0bf20d51f8efb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3997, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}