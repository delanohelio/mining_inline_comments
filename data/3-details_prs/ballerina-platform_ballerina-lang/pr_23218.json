{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NDgwODU1", "number": 23218, "title": "Add overriding support for fields and methods of records and fields", "bodyText": "Purpose\nFixes #23216, #23231\nSamples\nNow we support below cases\nCase 1: overriding record fields\nimport ballerina/lang.'int;\n\ntype A record {|\n    int overrideMe;\n    'int:Unsigned8 sub;\n|};\n\ntype C record {|\n    *A;\n    int overrideMe;\n    'int:Unsigned8 sub;\n|};\nCase 2: overriding object fields and method declarations\nimport ballerina/lang.'int;\n\ntype AgeInterface abstract object {\n    'int:Signed8 age;\n    public function setAge('int:Signed8 age = 0) returns 'int:Signed8;\n};\n\ntype DefaultPersonGreetedName object {\n    *AgeInterface;\n    'int:Signed8 age = 0;\n\n    public function setAge('int:Signed8 age = 0) returns 'int:Signed8 {\n        self.age = <'int:Signed8>age;\n        return self.age;\n    }\n};\nRemarks\nAlso need to fix cyclic dependency\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-05-13T16:37:23Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218", "merged": true, "mergeCommit": {"oid": "494f6ae74daf08f0bf9bf282d90f8ed37d97267f"}, "closed": true, "closedAt": "2020-06-09T03:29:38Z", "author": {"login": "KRVPerera"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciwG-RABqjMzNTA2NzIwMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpVhDOgFqTQyNjU0OTk0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c3644ad350294d2b57890604ff0e069d4676154", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3c3644ad350294d2b57890604ff0e069d4676154", "committedDate": "2020-05-11T18:03:28Z", "message": "Remove todo notes"}, "afterCommit": {"oid": "08827664d193554bb44b2b5cd1de22d5be87977a", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/08827664d193554bb44b2b5cd1de22d5be87977a", "committedDate": "2020-05-19T08:21:01Z", "message": "Code improvement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08827664d193554bb44b2b5cd1de22d5be87977a", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/08827664d193554bb44b2b5cd1de22d5be87977a", "committedDate": "2020-05-19T08:21:01Z", "message": "Code improvement"}, "afterCommit": {"oid": "3379e1ca5ff8c917bc546d4fc4de382dcac6152a", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3379e1ca5ff8c917bc546d4fc4de382dcac6152a", "committedDate": "2020-05-19T08:24:53Z", "message": "Code quality improvement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6d7aa11e77cf2e1f97d216182f5bdaac47369d4", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6d7aa11e77cf2e1f97d216182f5bdaac47369d4", "committedDate": "2020-05-20T09:34:46Z", "message": "Fix code formatting issues"}, "afterCommit": {"oid": "8486cfc35b644b3ad642fe04aae98e0a738d4730", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8486cfc35b644b3ad642fe04aae98e0a738d4730", "committedDate": "2020-05-20T11:25:21Z", "message": "Fix code formatting issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8486cfc35b644b3ad642fe04aae98e0a738d4730", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8486cfc35b644b3ad642fe04aae98e0a738d4730", "committedDate": "2020-05-20T11:25:21Z", "message": "Fix code formatting issues"}, "afterCommit": {"oid": "c6f01fc5498fa8706c9d3edccf3ea95dfc979f17", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c6f01fc5498fa8706c9d3edccf3ea95dfc979f17", "committedDate": "2020-05-26T04:43:41Z", "message": "Update test case for cyclic detection"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6f01fc5498fa8706c9d3edccf3ea95dfc979f17", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c6f01fc5498fa8706c9d3edccf3ea95dfc979f17", "committedDate": "2020-05-26T04:43:41Z", "message": "Update test case for cyclic detection"}, "afterCommit": {"oid": "6c5cba6bc02dac7013fa1b76eb830e704b40ebc8", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6c5cba6bc02dac7013fa1b76eb830e704b40ebc8", "committedDate": "2020-05-26T04:47:17Z", "message": "Update test case for cyclic detection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODgxNzE5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218#pullrequestreview-422881719", "createdAt": "2020-06-02T17:03:14Z", "commit": {"oid": "6c5cba6bc02dac7013fa1b76eb830e704b40ebc8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzowMzoxNVrOGd7WsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzowMzoxNVrOGd7WsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzNDM1Mw==", "bodyText": "need to remove this dependency", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218#discussion_r434034353", "createdAt": "2020-06-02T17:03:15Z", "author": {"login": "KRVPerera"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/object/object-type-reference.bal", "diffHunk": "@@ -14,6 +14,9 @@\n // specific language governing permissions and limitations\n // under the License.\n \n+import ballerina/lang.'int;\n+import ballerina/test;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c5cba6bc02dac7013fa1b76eb830e704b40ebc8"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c5cba6bc02dac7013fa1b76eb830e704b40ebc8", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6c5cba6bc02dac7013fa1b76eb830e704b40ebc8", "committedDate": "2020-05-26T04:47:17Z", "message": "Update test case for cyclic detection"}, "afterCommit": {"oid": "9a495407b9c5f7571c4cc5c96d572736e27a3ab5", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9a495407b9c5f7571c4cc5c96d572736e27a3ab5", "committedDate": "2020-06-02T17:33:54Z", "message": "Remove testerina dependency"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a495407b9c5f7571c4cc5c96d572736e27a3ab5", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9a495407b9c5f7571c4cc5c96d572736e27a3ab5", "committedDate": "2020-06-02T17:33:54Z", "message": "Remove testerina dependency"}, "afterCommit": {"oid": "e60285feefc4ae45b23face1166c4a46d1b9d6c7", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e60285feefc4ae45b23face1166c4a46d1b9d6c7", "committedDate": "2020-06-03T07:43:05Z", "message": "Improve balos to test object inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be2497c357e1f120e2f010ae662758470d9357bd", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/be2497c357e1f120e2f010ae662758470d9357bd", "committedDate": "2020-06-03T15:57:58Z", "message": "Add type inclusion support for record fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5098c652bad5e7afa70d25bebd10da57e637a349", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5098c652bad5e7afa70d25bebd10da57e637a349", "committedDate": "2020-06-03T15:57:58Z", "message": "Add function overriding support for objects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e0765fe40579d21b3e5d8963dd67509bb7ef245", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4e0765fe40579d21b3e5d8963dd67509bb7ef245", "committedDate": "2020-06-03T15:57:58Z", "message": "Add test: type reference override object fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13c9ace7e6fa059f5bd9bc74be6bcb04c69fae8d", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/13c9ace7e6fa059f5bd9bc74be6bcb04c69fae8d", "committedDate": "2020-06-03T15:57:58Z", "message": "Cycle detection code for objects and records"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e6c5e355a05a58f87058d6673c52971cb66f400", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6e6c5e355a05a58f87058d6673c52971cb66f400", "committedDate": "2020-06-03T15:57:58Z", "message": "Improve test cases for type inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfd0c64d130a46ee8ac615041fbc7470b9e06ae1", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bfd0c64d130a46ee8ac615041fbc7470b9e06ae1", "committedDate": "2020-06-03T15:57:58Z", "message": "Break test for data flow and early stage errors"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e60285feefc4ae45b23face1166c4a46d1b9d6c7", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e60285feefc4ae45b23face1166c4a46d1b9d6c7", "committedDate": "2020-06-03T07:43:05Z", "message": "Improve balos to test object inclusion"}, "afterCommit": {"oid": "97545eb589c4a5c9eeca3dadd8ecae74b7e68b14", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/97545eb589c4a5c9eeca3dadd8ecae74b7e68b14", "committedDate": "2020-06-03T15:57:59Z", "message": "Remove unnecessary comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3393d6476b36d3acf6839cab464867c662575de", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f3393d6476b36d3acf6839cab464867c662575de", "committedDate": "2020-06-03T19:00:19Z", "message": "Refactor field resolution for records and objects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b02dab6cedd0403944649ae2a53d013c119ec51", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b02dab6cedd0403944649ae2a53d013c119ec51", "committedDate": "2020-06-03T19:00:19Z", "message": "Update test case for cyclic detection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64420d6c33df5b76a34d94f6a28e221aba9a3853", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/64420d6c33df5b76a34d94f6a28e221aba9a3853", "committedDate": "2020-06-03T19:00:19Z", "message": "Remove testerina dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64fa263cb65c0f750efa887e1f4111881feb43af", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/64fa263cb65c0f750efa887e1f4111881feb43af", "committedDate": "2020-06-03T19:00:19Z", "message": "Improve balos to test object inclusion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97545eb589c4a5c9eeca3dadd8ecae74b7e68b14", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/97545eb589c4a5c9eeca3dadd8ecae74b7e68b14", "committedDate": "2020-06-03T15:57:59Z", "message": "Remove unnecessary comment"}, "afterCommit": {"oid": "64fa263cb65c0f750efa887e1f4111881feb43af", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/64fa263cb65c0f750efa887e1f4111881feb43af", "committedDate": "2020-06-03T19:00:19Z", "message": "Improve balos to test object inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c444e0cb2e4914218e087660e60a0d1c1d7fcac", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0c444e0cb2e4914218e087660e60a0d1c1d7fcac", "committedDate": "2020-06-07T17:03:26Z", "message": "Fix overriding logic\n\nOverriding field descriptor is a subtype of the type declared in the\noverridden field descriptor. This was implemented other way around.\nThis commit fix the logic. [skip ci]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2f998be70090f824d8743a7c69d0bb4692a7c4a", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2f998be70090f824d8743a7c69d0bb4692a7c4a", "committedDate": "2020-06-07T18:04:59Z", "message": "Fix test cases for correct overriding logic\n\nOverriding field descriptor is a subtype of the type declared in the\noverridden field descriptor. This was implemented other way around."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8659e0d2e33f34603fc7e62c9643ff7f88c2e76d", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8659e0d2e33f34603fc7e62c9643ff7f88c2e76d", "committedDate": "2020-06-07T18:02:18Z", "message": "Fix test cases for correct overriding logic\n\nOverriding field descriptor is a subtype of the type declared in the\noverridden field descriptor. This was implemented other way around."}, "afterCommit": {"oid": "c2f998be70090f824d8743a7c69d0bb4692a7c4a", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2f998be70090f824d8743a7c69d0bb4692a7c4a", "committedDate": "2020-06-07T18:04:59Z", "message": "Fix test cases for correct overriding logic\n\nOverriding field descriptor is a subtype of the type declared in the\noverridden field descriptor. This was implemented other way around."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NDcxMDY4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218#pullrequestreview-426471068", "createdAt": "2020-06-08T17:42:13Z", "commit": {"oid": "c2f998be70090f824d8743a7c69d0bb4692a7c4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NTQ5OTQ4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218#pullrequestreview-426549948", "createdAt": "2020-06-08T19:21:05Z", "commit": {"oid": "c2f998be70090f824d8743a7c69d0bb4692a7c4a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxOToyMTowNVrOGgtDnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxOToyMTowNVrOGgtDnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk0NTgyMQ==", "bodyText": "If possible, shall we update these comments as well? Or at least open an issue for it?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23218#discussion_r436945821", "createdAt": "2020-06-08T19:21:05Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SymbolEnter.java", "diffHunk": "@@ -637,21 +636,22 @@ private void checkErrors(TypeDefinition unresolvedType, BLangType currentTypeNod\n                     // Cyclic dependency detected. We need to add the `unresolvedTypeNodeName` or the\n                     // `memberTypeNodeName` to the end of the list to complete the cyclic dependency when\n                     // printing the error.\n-                    visitedNodes.add(currentTypeNodeName);\n+                    visitedNodes.push(currentTypeNodeName);\n                     dlog.error((DiagnosticPos) unresolvedType.getPosition(), DiagnosticCode.CYCLIC_TYPE_REFERENCE,\n                             visitedNodes);\n                     // We need to remove the last occurrence since we use this list in a recursive call.\n                     // Otherwise, unwanted types will get printed in the cyclic dependency error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2f998be70090f824d8743a7c69d0bb4692a7c4a"}, "originalPosition": 106}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3318, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}