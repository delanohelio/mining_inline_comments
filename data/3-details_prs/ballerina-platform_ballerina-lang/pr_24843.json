{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzMTI3NjEz", "number": 24843, "title": "Fix the error on auth failure in the WebSocket", "bodyText": "Purpose\n$Subject\nFixes #24589\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-20T06:58:11Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843", "merged": true, "mergeCommit": {"oid": "7d803a1b035f59560277ca07c074a1dfd91ed490"}, "closed": true, "closedAt": "2020-07-30T08:41:11Z", "author": {"login": "kalaiyarasiganeshalingam"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2srC9AH2gAyNDUzMTI3NjEzOjk4NDdkMzc4OGNhZjk4NDNkYjUxNzIwN2Y5NzJjZTE2MjhkMDZkNTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc55rXJgFqTQ1ODEwNjMyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9847d3788caf9843db517207f972ce1628d06d54", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9847d3788caf9843db517207f972ce1628d06d54", "committedDate": "2020-07-20T07:40:50Z", "message": "Fix the issue\n\nRemove the code duplication\n\nAdd error message\n\nRemove constant duplication"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTIyODE5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-451522819", "createdAt": "2020-07-20T11:31:35Z", "commit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMTozNVrOG0HWeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMTozNVrOG0HWeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI5OTU3Nw==", "bodyText": "What is this message_datasource for?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r457299577", "createdAt": "2020-07-20T11:31:35Z", "author": {"login": "daneshk"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/websocket/WebSocketConstants.java", "diffHunk": "@@ -72,6 +72,7 @@\n     public static final String RESOURCE_NAME_UPGRADE = \"upgrade\";\n \n     public static final String WEBSOCKET_HANDSHAKER = \"WEBSOCKET_MESSAGE\";\n+    public static final String MESSAGE_DATA_SOURCE = \"message_datasource\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTI4ODI4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-451528828", "createdAt": "2020-07-20T11:41:50Z", "commit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTo0MTo1MVrOG0HvmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTo0MTo1MVrOG0HvmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMwNjAwOA==", "bodyText": "Shall we have a meaningful message instead of e.getPrintableStackTrace(), since it is there in the e", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r457306008", "createdAt": "2020-07-20T11:41:51Z", "author": {"login": "daneshk"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/nativeimpl/connection/Respond.java", "diffHunk": "@@ -108,14 +113,30 @@ public static Object nativeRespond(ObjectValue connectionObj, ObjectValue outbou\n             }\n         } catch (ErrorValue e) {\n             unBlockStrand(strand);\n-            log.debug(e.getPrintableStackTrace(), e);\n-            return e;\n+            if (log.isDebugEnabled()) {\n+                log.debug(e.getPrintableStackTrace(), e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTU4NDUx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-451558451", "createdAt": "2020-07-20T12:27:23Z", "commit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNzoyM1rOG0JmbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDozOToxN1rOG0n0Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzNjQyOA==", "bodyText": "this change seems like a new addition to the error message. With the brackets, I feel like the shape of the error syntax has changed. WDYT?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r457336428", "createdAt": "2020-07-20T12:27:23Z", "author": {"login": "chamil321"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/websocket/WebSocketUtil.java", "diffHunk": "@@ -578,7 +578,7 @@ public static void countDownForHandshake(ObjectValue webSocketClient) {\n     public static WebSocketException getWebSocketException(String msg, Throwable throwable, String errorCode,\n                                                            ErrorValue cause) {\n         WebSocketException exception;\n-        String message = errorCode.substring(2) + \": \" + msg;\n+        String message = \"[\" + errorCode.substring(2) + \"] \" + msg;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgzMTQ1OA==", "bodyText": "Throwing WebSocket exception during the HTTP flow seems incorrect. Still, the upgrade has not happed to WebSocket and this is a response flow to the HTTP request. 401 should go to the client without an exception thrown IMO", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r457831458", "createdAt": "2020-07-21T04:39:17Z", "author": {"login": "chamil321"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/nativeimpl/connection/Respond.java", "diffHunk": "@@ -108,14 +113,30 @@ public static Object nativeRespond(ObjectValue connectionObj, ObjectValue outbou\n             }\n         } catch (ErrorValue e) {\n             unBlockStrand(strand);\n-            log.debug(e.getPrintableStackTrace(), e);\n-            return e;\n+            if (log.isDebugEnabled()) {\n+                log.debug(e.getPrintableStackTrace(), e);\n+            }\n+            if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n+                throw getWebSocketException(outboundResponseObj);\n+            } else {\n+                return e;\n+            }\n         } catch (Throwable e) {\n             unBlockStrand(strand);\n-            //Exception is already notified by http transport.\n-            String errorMessage = \"Couldn't complete outbound response\";\n-            log.debug(errorMessage, e);\n-            return HttpUtil.createHttpError(errorMessage, HttpErrorType.GENERIC_LISTENER_ERROR);\n+            String errorMessage = \"\";\n+            if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n+                if (log.isDebugEnabled()) {\n+                    log.debug(message, e);\n+                }\n+                throw getWebSocketException(outboundResponseObj);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDI1Nzgy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-452425782", "createdAt": "2020-07-21T12:57:09Z", "commit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMjo1NzowOVrOG02ohg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzowMDowMlrOG02wEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA3NDI0Ng==", "bodyText": "We don't need this check here since this is checked at the library itself. We usually add this only if the message has any sting concatenation since that is heavy processing.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r458074246", "createdAt": "2020-07-21T12:57:09Z", "author": {"login": "niveathika"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/nativeimpl/connection/Respond.java", "diffHunk": "@@ -108,14 +113,30 @@ public static Object nativeRespond(ObjectValue connectionObj, ObjectValue outbou\n             }\n         } catch (ErrorValue e) {\n             unBlockStrand(strand);\n-            log.debug(e.getPrintableStackTrace(), e);\n-            return e;\n+            if (log.isDebugEnabled()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA3NjE3OQ==", "bodyText": "Is there a specific use case when connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) can be null?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r458076179", "createdAt": "2020-07-21T13:00:02Z", "author": {"login": "niveathika"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/nativeimpl/connection/Respond.java", "diffHunk": "@@ -108,14 +113,30 @@ public static Object nativeRespond(ObjectValue connectionObj, ObjectValue outbou\n             }\n         } catch (ErrorValue e) {\n             unBlockStrand(strand);\n-            log.debug(e.getPrintableStackTrace(), e);\n-            return e;\n+            if (log.isDebugEnabled()) {\n+                log.debug(e.getPrintableStackTrace(), e);\n+            }\n+            if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n+                throw getWebSocketException(outboundResponseObj);\n+            } else {\n+                return e;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMDYyMDAw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-453062000", "createdAt": "2020-07-22T07:29:44Z", "commit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzoyOTo0NFrOG1WKNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzoyOTo0NFrOG1WKNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODU5MDc3Mg==", "bodyText": "We dont usually return Exceptions. Use throw. Also add a comment for the specific null check\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n          \n          \n            \n                            throw getWebSocketException(outboundResponseObj);\n          \n          \n            \n                        } else {\n          \n          \n            \n                            return e;\n          \n          \n            \n                        }\n          \n          \n            \n                        if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n          \n          \n            \n                            throw getWebSocketException(outboundResponseObj);\n          \n          \n            \n                        } \n          \n          \n            \n                         throw e;", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r458590772", "createdAt": "2020-07-22T07:29:44Z", "author": {"login": "niveathika"}, "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/nativeimpl/connection/Respond.java", "diffHunk": "@@ -108,14 +113,30 @@ public static Object nativeRespond(ObjectValue connectionObj, ObjectValue outbou\n             }\n         } catch (ErrorValue e) {\n             unBlockStrand(strand);\n-            log.debug(e.getPrintableStackTrace(), e);\n-            return e;\n+            if (log.isDebugEnabled()) {\n+                log.debug(e.getPrintableStackTrace(), e);\n+            }\n+            if (connectionObj.getNativeData(WebSocketConstants.WEBSOCKET_HANDSHAKER) != null) {\n+                throw getWebSocketException(outboundResponseObj);\n+            } else {\n+                return e;\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "847ab18a7bcaa876a332ecd680de5142b1727119"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a30ea6fe66758a2e7ed37f42d6754be0cf37e8c5", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a30ea6fe66758a2e7ed37f42d6754be0cf37e8c5", "committedDate": "2020-07-24T12:46:00Z", "message": "Improve the fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2aa77833908498f68b886d48a62febaa5b836e1", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f2aa77833908498f68b886d48a62febaa5b836e1", "committedDate": "2020-07-24T12:59:51Z", "message": "Remove the extra changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "037ac3cef8bbd1dab77d4e934cc1059e4bf79a4e", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/037ac3cef8bbd1dab77d4e934cc1059e4bf79a4e", "committedDate": "2020-07-24T13:03:35Z", "message": "Merge with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e6b688477810ca9600fb3c7b75eded4fa544750", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9e6b688477810ca9600fb3c7b75eded4fa544750", "committedDate": "2020-07-27T04:29:59Z", "message": "Remove the duplicate test in testnd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTk2MjQx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457196241", "createdAt": "2020-07-29T05:04:10Z", "commit": {"oid": "9e6b688477810ca9600fb3c7b75eded4fa544750"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTowNDoxMVrOG4osLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTowNDoxMVrOG4osLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0MDExMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Checks whether the `ResourceConfig` has `WebSocketUpgradeConfig` or not.\n          \n          \n            \n            # Checks whether the `http:ResourceConfig` has `http:WebSocketUpgradeConfig` or not.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462040111", "createdAt": "2020-07-29T05:04:11Z", "author": {"login": "ldclakmal"}, "path": "stdlib/http/src/main/ballerina/src/http/auth/utils.bal", "diffHunk": "@@ -252,6 +252,22 @@ function getResourceAuthConfig(FilterContext context) returns ResourceAuth? {\n     }\n }\n \n+# Checks whether the `ResourceConfig` has `WebSocketUpgradeConfig` or not.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e6b688477810ca9600fb3c7b75eded4fa544750"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjAyOTc1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457202975", "createdAt": "2020-07-29T05:24:30Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyNDozMFrOG4pCcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyNDozMFrOG4pCcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0NTgxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - Whether the `ResourceConfig` has `WebSocketUpgradeConfig` or not\n          \n          \n            \n            # + return - Whether the `http:ResourceConfig` has `http:WebSocketUpgradeConfig` or not", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462045811", "createdAt": "2020-07-29T05:24:30Z", "author": {"login": "ldclakmal"}, "path": "stdlib/http/src/main/ballerina/src/http/auth/utils.bal", "diffHunk": "@@ -252,6 +252,22 @@ function getResourceAuthConfig(FilterContext context) returns ResourceAuth? {\n     }\n }\n \n+# Checks whether the `http:ResourceConfig` has `http:WebSocketUpgradeConfig` or not.\n+#\n+# + context - The `FilterContext` instance\n+# + return - Whether the `ResourceConfig` has `WebSocketUpgradeConfig` or not", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjAzMTI4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457203128", "createdAt": "2020-07-29T05:24:53Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyNDo1M1rOG4pC_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyNDo1M1rOG4pC_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0NTk1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            http:BasicAuthHandler inboundBasicAuthHandler = new (new auth:InboundBasicAuthProvider({ tableName: \"b7a.users\" }));\n          \n          \n            \n            http:BasicAuthHandler inboundBasicAuthHandler = new (new auth:InboundBasicAuthProvider());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462045951", "createdAt": "2020-07-29T05:24:53Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/40_authanticateServer.bal", "diffHunk": "@@ -0,0 +1,58 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+//\n+// WSO2 Inc. licenses this file to you under the Apache License,\n+// Version 2.0 (the \"License\"); you may not use this file except\n+// in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+// http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+import ballerina/auth;\n+import ballerina/http;\n+import ballerina/io;\n+import ballerina/log;\n+\n+http:BasicAuthHandler inboundBasicAuthHandler = new (new auth:InboundBasicAuthProvider({ tableName: \"b7a.users\" }));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjA0MzI4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457204328", "createdAt": "2020-07-29T05:28:30Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyODozMFrOG4pG_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyODozMFrOG4pG_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0Njk3NQ==", "bodyText": "Shall we rename the file as 39_authentication_success_client.bal?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462046975", "createdAt": "2020-07-29T05:28:30Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/39_authentication.bal", "diffHunk": "@@ -0,0 +1,56 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjA0NDE4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457204418", "createdAt": "2020-07-29T05:28:46Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyODo0NlrOG4pHSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyODo0NlrOG4pHSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0NzA1MQ==", "bodyText": "Shall we rename the file as 40_authentication_success_server.bal?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462047051", "createdAt": "2020-07-29T05:28:46Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/40_authanticateServer.bal", "diffHunk": "@@ -0,0 +1,58 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjA0NTMz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457204533", "createdAt": "2020-07-29T05:29:08Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyOTowOFrOG4pHpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyOTowOFrOG4pHpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0NzE0Mg==", "bodyText": "Shall we rename the file as 41_authentication_failure_client.bal?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462047142", "createdAt": "2020-07-29T05:29:08Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/42_unauthentication_client.bal", "diffHunk": "@@ -0,0 +1,50 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjA0NjUy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457204652", "createdAt": "2020-07-29T05:29:27Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyOToyN1rOG4pIDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNToyOToyN1rOG4pIDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0NzI0NQ==", "bodyText": "Shall we rename the file as 42_authentication_failure_server.bal?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462047245", "createdAt": "2020-07-29T05:29:27Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/41_unauthenticate_server.bal", "diffHunk": "@@ -0,0 +1,51 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjA1Mjk2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457205296", "createdAt": "2020-07-29T05:31:29Z", "commit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTozMToyOVrOG4pKLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTozMToyOVrOG4pKLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA0Nzc4OQ==", "bodyText": "Let's switch the port 21041 and 21042 with client and server, in order to match with file name ordering as well.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462047789", "createdAt": "2020-07-29T05:31:29Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/resources/websocket/src/wsservices/41_unauthenticate_server.bal", "diffHunk": "@@ -0,0 +1,51 @@\n+// Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+//\n+// WSO2 Inc. licenses this file to you under the Apache License,\n+// Version 2.0 (the \"License\"); you may not use this file except\n+// in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+// http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+import ballerina/auth;\n+import ballerina/http;\n+import ballerina/io;\n+import ballerina/log;\n+\n+http:BasicAuthHandler basicAuthHandler = new (new auth:InboundBasicAuthProvider());\n+\n+listener http:Listener httpServ = new (21041, config = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5791845179b6847d29d9026e521670e5c8d4f520"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7ee2de16cfc9605929da4f944965a2e58650021", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c7ee2de16cfc9605929da4f944965a2e58650021", "committedDate": "2020-07-29T05:56:38Z", "message": "Fix the suggested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjE1NTc2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457215576", "createdAt": "2020-07-29T05:59:30Z", "commit": {"oid": "c7ee2de16cfc9605929da4f944965a2e58650021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1OTozMFrOG4psGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1OTozMFrOG4psGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NjQ3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void testBasicAuthentication() throws URISyntaxException, InterruptedException, BallerinaTestException {\n          \n          \n            \n                public void testBasicAuthenticationSuccess() throws URISyntaxException, InterruptedException, BallerinaTestException {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462056475", "createdAt": "2020-07-29T05:59:30Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/service/websocket/AuthenticationTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.test.service.websocket;\n+\n+import org.ballerinalang.test.context.BallerinaTestException;\n+import org.ballerinalang.test.context.LogLeecher;\n+import org.ballerinalang.test.util.websocket.client.WebSocketTestClient;\n+import org.testng.Assert;\n+import org.testng.annotations.Test;\n+\n+import java.net.URISyntaxException;\n+\n+/**\n+ * Tests the authentication support of the WebSocket client.\n+ */\n+@Test(groups = {\"websocket-test\"})\n+public class AuthenticationTest {\n+\n+    private WebSocketTestClient client;\n+    private LogLeecher logLeecher;\n+    String expectingErrorLog;\n+\n+    @Test(description = \"Tests with correct credential\")\n+    public void testBasicAuthentication() throws URISyntaxException, InterruptedException, BallerinaTestException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ee2de16cfc9605929da4f944965a2e58650021"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjE1Njgy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-457215682", "createdAt": "2020-07-29T05:59:47Z", "commit": {"oid": "c7ee2de16cfc9605929da4f944965a2e58650021"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1OTo0N1rOG4psvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1OTo0N1rOG4psvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NjYzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void negativeTestcase() throws URISyntaxException, InterruptedException, BallerinaTestException {\n          \n          \n            \n                public void testBasicAuthenticationFailure() throws URISyntaxException, InterruptedException, BallerinaTestException {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462056639", "createdAt": "2020-07-29T05:59:47Z", "author": {"login": "ldclakmal"}, "path": "tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/service/websocket/AuthenticationTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.test.service.websocket;\n+\n+import org.ballerinalang.test.context.BallerinaTestException;\n+import org.ballerinalang.test.context.LogLeecher;\n+import org.ballerinalang.test.util.websocket.client.WebSocketTestClient;\n+import org.testng.Assert;\n+import org.testng.annotations.Test;\n+\n+import java.net.URISyntaxException;\n+\n+/**\n+ * Tests the authentication support of the WebSocket client.\n+ */\n+@Test(groups = {\"websocket-test\"})\n+public class AuthenticationTest {\n+\n+    private WebSocketTestClient client;\n+    private LogLeecher logLeecher;\n+    String expectingErrorLog;\n+\n+    @Test(description = \"Tests with correct credential\")\n+    public void testBasicAuthentication() throws URISyntaxException, InterruptedException, BallerinaTestException {\n+        expectingErrorLog = \"Hello World!\";\n+        logLeecher = new LogLeecher(expectingErrorLog);\n+        WebSocketTestCommons.serverInstance.addLogLeecher(logLeecher);\n+        client = new WebSocketTestClient(\"ws://localhost:21039\");\n+        client.handshake();\n+        logLeecher.waitForText(WebSocketTestCommons.TIMEOUT_IN_SECS * 1000);\n+        client.shutDown();\n+    }\n+\n+    @Test(description = \"Tests with wrong credential\")\n+    public void negativeTestcase() throws URISyntaxException, InterruptedException, BallerinaTestException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ee2de16cfc9605929da4f944965a2e58650021"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbf5805dbe62d7d8f3fbd25c73cf60795e35ba68", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dbf5805dbe62d7d8f3fbd25c73cf60795e35ba68", "committedDate": "2020-07-29T06:00:23Z", "message": "Update tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/service/websocket/AuthenticationTest.java\n\nCo-authored-by: Chanaka Lakmal <ldclakmal@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e62dc307aeadaaa7693063834cbdabf0e498de1", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1e62dc307aeadaaa7693063834cbdabf0e498de1", "committedDate": "2020-07-29T06:00:42Z", "message": "Update tests/jballerina-integration-test/src/test/java/org/ballerinalang/test/service/websocket/AuthenticationTest.java\n\nCo-authored-by: Chanaka Lakmal <ldclakmal@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b24c30d63681e2df7cbdcf08eba96179bae212b", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0b24c30d63681e2df7cbdcf08eba96179bae212b", "committedDate": "2020-07-29T06:33:48Z", "message": "Fix the build fauilure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a79bbae0fd5e751c078fe3f938186726c48344d7", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a79bbae0fd5e751c078fe3f938186726c48344d7", "committedDate": "2020-07-29T09:54:39Z", "message": "Remove unwanted changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04626c6288f90e6f902912ba31cd0a1b6967436a", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04626c6288f90e6f902912ba31cd0a1b6967436a", "committedDate": "2020-07-29T09:55:21Z", "message": "Merge https://github.com/ballerina-platform/ballerina-lang"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MDg5MjMw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-458089230", "createdAt": "2020-07-30T05:54:01Z", "commit": {"oid": "a79bbae0fd5e751c078fe3f938186726c48344d7"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNTo1NDowMlrOG5UGdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNTo1NDowMlrOG5UGdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc1MTM1MQ==", "bodyText": "Shall we check the nilable annData and do an early return?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (!(annData is ())) {\n          \n          \n            \n                if (annData is ()) {\n          \n          \n            \n                    return false;\n          \n          \n            \n                }", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#discussion_r462751351", "createdAt": "2020-07-30T05:54:02Z", "author": {"login": "chamil321"}, "path": "stdlib/http/src/main/ballerina/src/http/auth/utils.bal", "diffHunk": "@@ -252,6 +252,22 @@ function getResourceAuthConfig(FilterContext context) returns ResourceAuth? {\n     }\n }\n \n+# Checks whether the `http:ResourceConfig` has `http:WebSocketUpgradeConfig` or not.\n+#\n+# + context - The `FilterContext` instance\n+# + return - Whether the `http:ResourceConfig` has `http:WebSocketUpgradeConfig` or not\n+function isWebSocketUpgradeRequest(FilterContext context) returns boolean {\n+    any annData = reflect:getResourceAnnotations(context.getService(), context.getResourceName(), RESOURCE_ANN_NAME,\n+                                                 ANN_MODULE);\n+    if (!(annData is ())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79bbae0fd5e751c078fe3f938186726c48344d7"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MDkxMjU5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-458091259", "createdAt": "2020-07-30T05:59:29Z", "commit": {"oid": "a79bbae0fd5e751c078fe3f938186726c48344d7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd100560e4cc9de195a53a7e65f276c6f717ae42", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cd100560e4cc9de195a53a7e65f276c6f717ae42", "committedDate": "2020-07-30T06:08:39Z", "message": "Improve the if clause"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MTA2MzIw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24843#pullrequestreview-458106320", "createdAt": "2020-07-30T06:31:43Z", "commit": {"oid": "cd100560e4cc9de195a53a7e65f276c6f717ae42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3680, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}