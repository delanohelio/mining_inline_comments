{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MTQ2MTg2", "number": 24653, "title": "Enable StartActionTest. testStartActionNegative", "bodyText": "Purpose\n\n$subject\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-08T10:27:18Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24653", "merged": true, "mergeCommit": {"oid": "d53bae5e2e39f9e760ebd68248cf2b907fe7bed5"}, "closed": true, "closedAt": "2020-07-10T11:17:09Z", "author": {"login": "m36dot"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy31y7AH2gAyNDQ2MTQ2MTg2OmIwMTQ5ZTUxMzU5NGRmZmNkMjU1ZWQ5NGU4ZWI5NzlhYjNjMDFlNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczhxUCgFqTQ0NjMyMTYxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0149e513594dffcd255ed94e8eb979ab3c01e63", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b0149e513594dffcd255ed94e8eb979ab3c01e63", "committedDate": "2020-07-08T10:25:50Z", "message": "Enable StartActionTest. testStartActionNegative"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fd12e742b2eaee496d154653a1324ba082ea843", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1fd12e742b2eaee496d154653a1324ba082ea843", "committedDate": "2020-07-08T11:49:36Z", "message": "Correct error count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3614fe01b3847753c96321d9006b5bb482757f5d", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3614fe01b3847753c96321d9006b5bb482757f5d", "committedDate": "2020-07-08T11:53:51Z", "message": "Fix conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e6a1c67984c56ebc4e3ea15c90a30f2f59aa13f", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0e6a1c67984c56ebc4e3ea15c90a30f2f59aa13f", "committedDate": "2020-07-08T12:45:37Z", "message": "Fix Error count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "165af7bc96a8af666e0afa77333497366d4ddbf4", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/165af7bc96a8af666e0afa77333497366d4ddbf4", "committedDate": "2020-07-09T07:07:41Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into UnitTestFix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55c0fe0d4307eb89f9f0b50fedfeab3d9188dc19", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/55c0fe0d4307eb89f9f0b50fedfeab3d9188dc19", "committedDate": "2020-07-09T12:29:43Z", "message": "Enable testNegativeWorkerActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "553f96e40705cce500f7f086f571f5b9fe2468f4", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/553f96e40705cce500f7f086f571f5b9fe2468f4", "committedDate": "2020-07-09T13:49:25Z", "message": "Move adding diagnostics for action invocation a level up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bc0edae8676081ebdf1b16734fbe65cbdfc50eb", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5bc0edae8676081ebdf1b16734fbe65cbdfc50eb", "committedDate": "2020-07-10T04:44:23Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c5619dfb6ffc87d0648e76fab42a179dc10638a", "author": {"user": {"login": "m36dot", "name": "Saif Abdul Cassim"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2c5619dfb6ffc87d0648e76fab42a179dc10638a", "committedDate": "2020-07-10T05:57:55Z", "message": "Add test to test, action instead of expression"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MTU2NDQ5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24653#pullrequestreview-446156449", "createdAt": "2020-07-10T06:43:09Z", "commit": {"oid": "2c5619dfb6ffc87d0648e76fab42a179dc10638a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNjo0MzowOVrOGvrqhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNjo0MzowOVrOGvrqhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY1MTY1NA==", "bodyText": "Any clue on why do we need to special-case start-acton here?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24653#discussion_r452651654", "createdAt": "2020-07-10T06:43:09Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2457,6 +2457,20 @@ public BLangNode transform(ExpressionStatementNode expressionStatement) {\n         switch (kind) {\n             case ASYNC_SEND_ACTION:\n                 return expressionStatement.expression().apply(this);\n+            case WAIT_ACTION:\n+                WaitActionNode waitActionNode =\n+                        (WaitActionNode) expressionStatement.expression();\n+                if (waitActionNode.waitFutureExpr().kind() == SyntaxKind.START_ACTION) {\n+                    BLangWorkerSend bLangWorkerSend =\n+                            (BLangWorkerSend) TreeBuilder.createWorkerSendNode();\n+                    bLangWorkerSend.expr = createExpression(expressionStatement.expression());\n+                    bLangWorkerSend.pos = getPosition(expressionStatement);\n+                    AsyncSendActionNode asyncSendActionNode =\n+                            (AsyncSendActionNode) ((StartActionNode) waitActionNode.waitFutureExpr()).expression();\n+                    bLangWorkerSend.setWorkerName(createIdentifier(asyncSendActionNode.peerWorker().name()));\n+                    return bLangWorkerSend;\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c5619dfb6ffc87d0648e76fab42a179dc10638a"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MzIxNjE3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24653#pullrequestreview-446321617", "createdAt": "2020-07-10T11:16:57Z", "commit": {"oid": "2c5619dfb6ffc87d0648e76fab42a179dc10638a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4169, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}