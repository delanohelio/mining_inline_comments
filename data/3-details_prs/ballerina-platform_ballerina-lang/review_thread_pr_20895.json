{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxODU5MzY2", "number": 20895, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxNDo0NVrODerS5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxNDo0NVrODerS5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNDkzMjIwOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/util/ProjectDirs.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxNDo0NVrOFn8isg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwMzoxNDo0NVrOFn8isg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQzMDcwNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (e.getCause() instanceof AccessDeniedException) {\n          \n          \n            \n                     if (e.getCause() instanceof AccessDeniedException) {\n          \n          \n            \n                        throw new BLangCompilerException(\"permission denied for path \" + \n          \n          \n            \n                                                                 pkgPath.toString() + \", cause: \" + e.getMessage());\n          \n          \n            \n                    } else {\n          \n          \n            \n                        throw e;\n          \n          \n            \n                    }", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20895#discussion_r377430706", "createdAt": "2020-02-11T03:14:45Z", "author": {"login": "warunalakshitha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/util/ProjectDirs.java", "diffHunk": "@@ -78,14 +80,23 @@ public static BLangCompilerException getPackageNotFoundError(String sourcePackag\n      * @param pkgPath package path\n      * @return true if source files exists else false\n      */\n-    public static boolean containsSourceFiles(Path pkgPath) {\n+    public static boolean containsSourceFiles(Path pkgPath) throws BLangCompilerException {\n         List<Path> sourceFiles = new ArrayList<>();\n         try {\n             sourceFiles = Files.find(pkgPath, Integer.MAX_VALUE, (path, attrs) ->\n                     path.toString().endsWith(ProjectDirConstants.BLANG_SOURCE_EXT)).collect(Collectors.toList());\n         } catch (IOException ignored) {\n             // Here we are trying to check if there are source files inside the package to be compiled. If an error\n             // occurs when trying to visit the files inside the package then we simply return the empty list created.\n+        } catch (UncheckedIOException e) {\n+            // Files#find returns an UncheckedIOException instead of an AccessDeniedException when there is a file to\n+            // which user doesnt have required permission.\n+            if (e.getCause() instanceof AccessDeniedException) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb8c695dfacede30e003f4821b5ccd4a47a6868f"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1164, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}