{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMzM3NjEx", "number": 22595, "title": "Refactor and move all old Observability logic to Compiler Back-end Desugar phase", "bodyText": "Purpose\n\nSince all the newer Observability instrumentation had been added to the desugar phase, all the remaining logic from old implementation were also moved to the compiler back-end desugar phase.\n\nApproach\n\nThe logic related to Observability were removed from the Byte-code generation phase. Additional logic to recognize and instrument functions related to service resources, main method and workers were added in the compiler back-end desugar phase. Moreover, since the Ballerina based Jvm Back-end will be removed in the future completely, changes done to it previously, were reverted as well.", "createdAt": "2020-04-12T13:17:52Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22595", "merged": true, "mergeCommit": {"oid": "f7358e2f19780193861d3984d786cc345d2fbbcd"}, "closed": true, "closedAt": "2020-04-14T06:40:51Z", "author": {"login": "nadundesilva"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcW6EzCgH2gAyNDAyMzM3NjExOmY2OGRiYWE1ZWZkMjgyMjc2M2E2ZmE3MzZkMWQ1ZWExNGQxNDhkOTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXdnp3AFqTM5MjYzODc1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f68dbaa5efd2822763a6fa736d1d5ea14d148d97", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f68dbaa5efd2822763a6fa736d1d5ea14d148d97", "committedDate": "2020-04-12T13:12:09Z", "message": "Refactor and move observability related desugar logic to JvmObservabilityGen class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35f19bb5550995c49166fa15271680d5bf675ef6", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/35f19bb5550995c49166fa15271680d5bf675ef6", "committedDate": "2020-04-12T13:12:09Z", "message": "Refactor and move service resource observations to Backend Desugar level"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9075719faeb765627e210da2e5b078da3ecf1982", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9075719faeb765627e210da2e5b078da3ecf1982", "committedDate": "2020-04-12T13:12:09Z", "message": "Refactor and move main method observations to Backend Desugar level"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6284ee67a7f91f1497d328f26d06be54a7ed852", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a6284ee67a7f91f1497d328f26d06be54a7ed852", "committedDate": "2020-04-12T13:12:09Z", "message": "Refactor and move worker observations to Backend Desugar level"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5272074d6918b6380a6ba8b119d6e92c1a46049", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f5272074d6918b6380a6ba8b119d6e92c1a46049", "committedDate": "2020-04-12T13:34:09Z", "message": "Remove unused observability logic in byte code gen phase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a4b358b69715c3e599e94aa023b68410d0d2b30", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0a4b358b69715c3e599e94aa023b68410d0d2b30", "committedDate": "2020-04-12T13:34:17Z", "message": "Revert changes done to ballerina based Jvm compiler backends\n\n# Since now the Java based Jvm compiler backend is used, these changes will no longer be required."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c5f482bc7e43d0c8b52569185ed5cc2955de5e8", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3c5f482bc7e43d0c8b52569185ed5cc2955de5e8", "committedDate": "2020-04-12T13:12:10Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "31280078cd154c27659a665b95e6c437f5a1e2a9", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/31280078cd154c27659a665b95e6c437f5a1e2a9", "committedDate": "2020-04-12T13:34:17Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31280078cd154c27659a665b95e6c437f5a1e2a9", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/31280078cd154c27659a665b95e6c437f5a1e2a9", "committedDate": "2020-04-12T13:34:17Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "42bafa341fbe3ead49b584f0403b42dd5dcab3fe", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/42bafa341fbe3ead49b584f0403b42dd5dcab3fe", "committedDate": "2020-04-12T16:04:33Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42bafa341fbe3ead49b584f0403b42dd5dcab3fe", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/42bafa341fbe3ead49b584f0403b42dd5dcab3fe", "committedDate": "2020-04-12T16:04:33Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "4b1e1af1bfce0e25cef0f5045c8ff1a476f64a5c", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4b1e1af1bfce0e25cef0f5045c8ff1a476f64a5c", "committedDate": "2020-04-12T17:15:51Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b1e1af1bfce0e25cef0f5045c8ff1a476f64a5c", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4b1e1af1bfce0e25cef0f5045c8ff1a476f64a5c", "committedDate": "2020-04-12T17:15:51Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "a9ad515ae2252806efa4cb543ed99dfca6acbbc4", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a9ad515ae2252806efa4cb543ed99dfca6acbbc4", "committedDate": "2020-04-12T17:18:17Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9ad515ae2252806efa4cb543ed99dfca6acbbc4", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a9ad515ae2252806efa4cb543ed99dfca6acbbc4", "committedDate": "2020-04-12T17:18:17Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "e0811ed848f29a9a3719cfa153aa03046d1bd1e8", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e0811ed848f29a9a3719cfa153aa03046d1bd1e8", "committedDate": "2020-04-12T18:18:19Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e0811ed848f29a9a3719cfa153aa03046d1bd1e8", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e0811ed848f29a9a3719cfa153aa03046d1bd1e8", "committedDate": "2020-04-12T18:18:19Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "8b3633ae4f416a0ab68688b9ca750e305b40f9b7", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b3633ae4f416a0ab68688b9ca750e305b40f9b7", "committedDate": "2020-04-12T18:22:21Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b3633ae4f416a0ab68688b9ca750e305b40f9b7", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b3633ae4f416a0ab68688b9ca750e305b40f9b7", "committedDate": "2020-04-12T18:22:21Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "84fa12aea1bd5ba7975767dbfe9b208845600c93", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/84fa12aea1bd5ba7975767dbfe9b208845600c93", "committedDate": "2020-04-12T18:36:55Z", "message": "Refactor and cleanup JvmObservabilityGen class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84fa12aea1bd5ba7975767dbfe9b208845600c93", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/84fa12aea1bd5ba7975767dbfe9b208845600c93", "committedDate": "2020-04-12T18:36:55Z", "message": "Refactor and cleanup JvmObservabilityGen class"}, "afterCommit": {"oid": "382db7892b4d2bbd3032c8c74dfcee98fe7b8cfa", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/382db7892b4d2bbd3032c8c74dfcee98fe7b8cfa", "committedDate": "2020-04-13T11:24:00Z", "message": "Disable test cases related to panics temporarily\n\n# Since the new observability instrumentation does not support panics these test cases were disabled. These need to be re-enabled once support for them are added."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "382db7892b4d2bbd3032c8c74dfcee98fe7b8cfa", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/382db7892b4d2bbd3032c8c74dfcee98fe7b8cfa", "committedDate": "2020-04-13T11:24:00Z", "message": "Disable test cases related to panics temporarily\n\n# Since the new observability instrumentation does not support panics these test cases were disabled. These need to be re-enabled once support for them are added."}, "afterCommit": {"oid": "bb638528de50231b9ba9344eb67386c3c9910136", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bb638528de50231b9ba9344eb67386c3c9910136", "committedDate": "2020-04-13T19:06:13Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb638528de50231b9ba9344eb67386c3c9910136", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bb638528de50231b9ba9344eb67386c3c9910136", "committedDate": "2020-04-13T19:06:13Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}, "afterCommit": {"oid": "c97e232bdbfa624fcb1ec1cda592c4ff850554cc", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c97e232bdbfa624fcb1ec1cda592c4ff850554cc", "committedDate": "2020-04-14T04:38:55Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c97e232bdbfa624fcb1ec1cda592c4ff850554cc", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c97e232bdbfa624fcb1ec1cda592c4ff850554cc", "committedDate": "2020-04-14T04:38:55Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}, "afterCommit": {"oid": "b5ea88f61bfb90415bf08ee3b3e2c9f920abed57", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ea88f61bfb90415bf08ee3b3e2c9f920abed57", "committedDate": "2020-04-14T04:43:56Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b5ea88f61bfb90415bf08ee3b3e2c9f920abed57", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ea88f61bfb90415bf08ee3b3e2c9f920abed57", "committedDate": "2020-04-14T04:43:56Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}, "afterCommit": {"oid": "b1717ae6b33159e1c0d006f0ead60ca7935768c8", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b1717ae6b33159e1c0d006f0ead60ca7935768c8", "committedDate": "2020-04-14T05:01:45Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b33d241866ff536ab41ff9d4846d3672b669e446", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b33d241866ff536ab41ff9d4846d3672b669e446", "committedDate": "2020-04-14T05:04:54Z", "message": "Refactor and cleanup JvmObservabilityGen Class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ac8c09c35198f3a85e31e7d981b90b1474871b5", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ac8c09c35198f3a85e31e7d981b90b1474871b5", "committedDate": "2020-04-14T05:05:13Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b1717ae6b33159e1c0d006f0ead60ca7935768c8", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b1717ae6b33159e1c0d006f0ead60ca7935768c8", "committedDate": "2020-04-14T05:01:45Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}, "afterCommit": {"oid": "6ac8c09c35198f3a85e31e7d981b90b1474871b5", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ac8c09c35198f3a85e31e7d981b90b1474871b5", "committedDate": "2020-04-14T05:05:13Z", "message": "Implement reporting errors from panic statements directly in the entry point function bodies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjM4NzEw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22595#pullrequestreview-392638710", "createdAt": "2020-04-14T06:36:49Z", "commit": {"oid": "6ac8c09c35198f3a85e31e7d981b90b1474871b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNjozNjo0OVrOGFAIyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNjozNjo0OVrOGFAIyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg5ODMxNA==", "bodyText": "typo ?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22595#discussion_r407898314", "createdAt": "2020-04-14T06:36:49Z", "author": {"login": "tharinduwijewardane"}, "path": "compiler/ballerina-backend-jvm-old/src/main/ballerina/src/compiler_backend_jvm/jvm_terminator_gen.bal", "diffHunk": "@@ -796,7 +797,7 @@ type TerminatorGenerator object {\n \n         } else {\n             self.mv.visitMethodInsn(INVOKEVIRTUAL, FUNCTION_POINTER, \"call\", io:sprintf(\"(L%s;)L%s;\", OBJECT, OBJECT), false);\n-            // store result\n+            // store reult", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ac8c09c35198f3a85e31e7d981b90b1474871b5"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjM4NzUy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22595#pullrequestreview-392638752", "createdAt": "2020-04-14T06:36:54Z", "commit": {"oid": "6ac8c09c35198f3a85e31e7d981b90b1474871b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4007, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}