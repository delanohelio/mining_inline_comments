{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NDI4Mjgx", "number": 20781, "title": "Migrate to BString for ErrorValue", "bodyText": "Purpose\n\nResolve #20762\n\nApproach\n\nChange the necessary files to use StringValue\n\nSamples\n\nN/A\n\nRemarks\n\n#20182\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-01-29T08:20:05Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781", "merged": true, "mergeCommit": {"oid": "e616c28cfffa8249216c41ba06d4091f659f138f"}, "closed": true, "closedAt": "2020-01-30T05:03:20Z", "author": {"login": "riyafa"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_EDOXAFqTM1MDAyOTgwNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_S3RKgFqTM1MDU3NjM4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDI5ODA3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350029807", "createdAt": "2020-01-29T11:15:17Z", "commit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToxNToxOFrOFjE02Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToxNToxOFrOFjE02Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyMzU0NQ==", "bodyText": "The method should accept BString interface, not StringValue.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#discussion_r372323545", "createdAt": "2020-01-29T11:15:18Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/BallerinaErrors.java", "diffHunk": "@@ -60,10 +61,16 @@\n     public static final String GENERATE_PKG_STOP = \"___stop_\";\n     public static final String GENERATE_OBJECT_CLASS_PREFIX = \".$value$\";\n \n+    @Deprecated\n     public static ErrorValue createError(String reason) {\n         return new ErrorValue(reason, new MapValueImpl<>(BTypes.typeErrorDetail));\n     }\n \n+    public static ErrorValue createError(StringValue reason) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDMwNDY2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350030466", "createdAt": "2020-01-29T11:16:30Z", "commit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToxNjozMFrOFjE22g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToxNjozMFrOFjE22g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyNDA1OA==", "bodyText": "Same as above. All public APIs should accept BXxxx ballerina values.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#discussion_r372324058", "createdAt": "2020-01-29T11:16:30Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/BallerinaErrors.java", "diffHunk": "@@ -72,6 +79,15 @@ public static ErrorValue createError(String reason, String detail) {\n         return new ErrorValue(reason, detailMap);\n     }\n \n+    public static ErrorValue createError(StringValue reason, String detail) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDMzMjY0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350033264", "createdAt": "2020-01-29T11:21:44Z", "commit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToyMTo0NFrOFjE_dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToyMTo0NFrOFjE_dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyNjI2MQ==", "bodyText": "Return BString", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#discussion_r372326261", "createdAt": "2020-01-29T11:21:44Z", "author": {"login": "vinok88"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "diffHunk": "@@ -115,14 +134,26 @@ public String toString() {\n \n     /**\n      * Returns error reason.\n+     *\n      * @return reason string\n      */\n+    @Deprecated\n     public String getReason() {\n         return reason;\n     }\n \n+    /**\n+     * Returns error reason.\n+     *\n+     * @return reason string\n+     */\n+    public StringValue getErrorReason() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "originalPosition": 64}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDM3Mzc1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350037375", "createdAt": "2020-01-29T11:29:32Z", "commit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToyOTozMlrOFjFL0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToyOTozMlrOFjFL0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyOTQyNQ==", "bodyText": "Shall we deprecate these old methods, so that we can remove them later.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#discussion_r372329425", "createdAt": "2020-01-29T11:29:32Z", "author": {"login": "vinok88"}, "path": "langlib/lang.error/src/main/java/org/ballerinalang/langlib/error/Reason.java", "diffHunk": "@@ -39,4 +40,8 @@\n     public static String reason(Strand strand, ErrorValue value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDQyMjcy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350042272", "createdAt": "2020-01-29T11:38:51Z", "commit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c92967e6554e03cf3b0ccdc0db5c91d29cfdb59", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9c92967e6554e03cf3b0ccdc0db5c91d29cfdb59", "committedDate": "2020-01-29T14:27:28Z", "message": "Migrate to BString for ErrorValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20762"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dc22653d71387f0789a532f748ebbc3245a000f", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9dc22653d71387f0789a532f748ebbc3245a000f", "committedDate": "2020-01-29T08:17:59Z", "message": "Migrate to BString for ErrorValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20762"}, "afterCommit": {"oid": "9c92967e6554e03cf3b0ccdc0db5c91d29cfdb59", "author": {"user": {"login": "riyafa", "name": "Riyafa Abdul Hameed"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9c92967e6554e03cf3b0ccdc0db5c91d29cfdb59", "committedDate": "2020-01-29T14:27:28Z", "message": "Migrate to BString for ErrorValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20762"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNTc2Mzg0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20781#pullrequestreview-350576384", "createdAt": "2020-01-30T04:30:49Z", "commit": {"oid": "9c92967e6554e03cf3b0ccdc0db5c91d29cfdb59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4423, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}