{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMzI1NzEx", "number": 21932, "title": "Fix stringValue for errors when details is an empty map", "bodyText": "Purpose\nFix empty space print for error with empty details. With this change, we don't have to change union_type.bal BBE output to have extra spaces.\n< error key '' not found\n---\n> error key '' not found<space>\n\nBBE : https://ballerina.io/v1-1/learn/by-example/union-type.html'\nApproach\nCheck if details empty and generate string value accordingly\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-03-18T09:39:53Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21932", "merged": true, "mergeCommit": {"oid": "4077f15d49ceb1799f1c1a9e1e3cd864d992b4d6"}, "closed": true, "closedAt": "2020-03-19T06:49:13Z", "author": {"login": "KRVPerera"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO0FCJgBqjMxNDA2NzAyMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO4sYfgBqjMxNDE4NjY5OTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3288b9f070365dd9b0b6e381e819ebddef11f28f", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3288b9f070365dd9b0b6e381e819ebddef11f28f", "committedDate": "2020-03-18T09:35:36Z", "message": "Check ErrorValue:details if empty for stringValue\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}, "afterCommit": {"oid": "b31dc60f9e765b0cba75989fa695bda7994db833", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b31dc60f9e765b0cba75989fa695bda7994db833", "committedDate": "2020-03-18T09:41:08Z", "message": "Check ErrorValue:details if empty for stringValue\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzgzMDU2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21932#pullrequestreview-376783056", "createdAt": "2020-03-18T11:38:57Z", "commit": {"oid": "e66ae0068af2b1d648c4f9ce3716177d6e202035"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTozODo1OFrOF4BIhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTozODo1OFrOF4BIhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4MzE0MA==", "bodyText": "Not changed by this PR but details is either a map or a record right?\n@SupunS, @warunalakshitha, can't details be a MapValue instead of Object?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21932#discussion_r394283140", "createdAt": "2020-03-18T11:38:58Z", "author": {"login": "MaryamZi"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "diffHunk": "@@ -254,6 +254,16 @@ private String getErrorMessage() {\n         return errorMsg;\n     }\n \n+    private boolean isEmptyDetail() {\n+        if (details == null) {\n+            return true;\n+        }\n+        if ((details instanceof MapValue) && ((MapValue) details).isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e66ae0068af2b1d648c4f9ce3716177d6e202035"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2ODQxMTY1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21932#pullrequestreview-376841165", "createdAt": "2020-03-18T13:03:59Z", "commit": {"oid": "e66ae0068af2b1d648c4f9ce3716177d6e202035"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242909a04c706f39678352909b4677719268aeaf", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/242909a04c706f39678352909b4677719268aeaf", "committedDate": "2020-03-18T15:03:51Z", "message": "Check ErrorValue:details if empty for stringValue\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff43ad79c46dcee204fcef006670d87d58791f9d", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ff43ad79c46dcee204fcef006670d87d58791f9d", "committedDate": "2020-03-18T15:03:51Z", "message": "Fix test cases for stringValue change of ErrorValue\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce6b9e2b88d1db6e84833bcb00a9a6adafe59c15", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ce6b9e2b88d1db6e84833bcb00a9a6adafe59c15", "committedDate": "2020-03-18T15:03:51Z", "message": "Fix integration test for error value print\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e66ae0068af2b1d648c4f9ce3716177d6e202035", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e66ae0068af2b1d648c4f9ce3716177d6e202035", "committedDate": "2020-03-18T10:29:51Z", "message": "Fix test cases for stringValue change of ErrorValue\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}, "afterCommit": {"oid": "ce6b9e2b88d1db6e84833bcb00a9a6adafe59c15", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ce6b9e2b88d1db6e84833bcb00a9a6adafe59c15", "committedDate": "2020-03-18T15:03:51Z", "message": "Fix integration test for error value print\n\nSigned-off-by: KRVPerera <rukshan.viduranga@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3853, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}