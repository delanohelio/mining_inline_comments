{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzOTk3MzQ4", "number": 20651, "title": "Fix filepath:extension bug", "bodyText": "Purpose\nDuplicate of #20649 sent to v1.1.x branch\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-01-17T06:59:17Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651", "merged": true, "mergeCommit": {"oid": "26e284a9ba79dd6e950d4121dc779611bf997c8b"}, "closed": true, "closedAt": "2020-01-20T10:02:35Z", "author": {"login": "kalaiyarasiganeshalingam"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7JC6JgH2gAyMzYzOTk3MzQ4OjhlNDVlMGU5ZDQ5ZTYzMzA0YTg3MGNmNTlkMmU3NzM5YWMwNmU2ZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8FhWKAFqTM0NTA4MzI4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8e45e0e9d49e63304a870cf59d2e7739ac06e6d5", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e45e0e9d49e63304a870cf59d2e7739ac06e6d5", "committedDate": "2020-01-17T06:48:47Z", "message": "Fix invalid sentence in Constants BBE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7407ccf6670360e1f088ba4d66a00abec3f5c33a", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7407ccf6670360e1f088ba4d66a00abec3f5c33a", "committedDate": "2020-01-17T06:48:47Z", "message": "Fix copyDir test case bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9d86a08ffecf90d5dd57ea766eeff30946d7f60", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9d86a08ffecf90d5dd57ea766eeff30946d7f60", "committedDate": "2020-01-17T06:49:18Z", "message": "Fix filepath:extension bug\n\nRemove additional data in the test\n\nMake the change in the test file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f039af13659016506c34b2dd1991dac3192b717", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9f039af13659016506c34b2dd1991dac3192b717", "committedDate": "2020-01-17T06:54:10Z", "message": "Revert \"Fix invalid sentence in Constants BBE\"\n\nThis reverts commit 8e45e0e9d49e63304a870cf59d2e7739ac06e6d5."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2f63341c58f22bc63c234cb78479948ea673dfc", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b2f63341c58f22bc63c234cb78479948ea673dfc", "committedDate": "2020-01-17T06:54:48Z", "message": "Revert \"Fix copyDir test case bug\"\n\nThis reverts commit 7407ccf6670360e1f088ba4d66a00abec3f5c33a."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDE2MzEy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#pullrequestreview-344416312", "createdAt": "2020-01-17T08:11:30Z", "commit": {"oid": "b2f63341c58f22bc63c234cb78479948ea673dfc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDE3NjMz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#pullrequestreview-344417633", "createdAt": "2020-01-17T08:14:40Z", "commit": {"oid": "b2f63341c58f22bc63c234cb78479948ea673dfc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDE4Mjcx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#pullrequestreview-344418271", "createdAt": "2020-01-17T08:16:14Z", "commit": {"oid": "b2f63341c58f22bc63c234cb78479948ea673dfc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODoxNjoxNFrOFexh_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODoxNjoxNFrOFexh_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxMzExOQ==", "bodyText": "This valid only for UNIX env. need to check for windows", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#discussion_r367813119", "createdAt": "2020-01-17T08:16:14Z", "author": {"login": "daneshk"}, "path": "stdlib/filepath/src/test/java/org/ballerinalang/stdlib/filepath/nativeimpl/PathTest.java", "diffHunk": "@@ -681,7 +681,7 @@ private void testPathMatch(String pattern, String path, String expected) {\n                 {\"path.pb.bal\", \"bal\", \"bal\"},\n                 {\"a.pb.bal/b\", \"\", \"\"},\n                 {\"a.toml/b.bal\", \"bal\", \"bal\"},\n-                {\"a.pb.bal/\", \"bal\", \"bal\"},\n+                {\"a.pb.bal/\", \"\", \"\"},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2f63341c58f22bc63c234cb78479948ea673dfc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ff1e2a617b9215b88e0c14d5a74ed5ebdadaeb5", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5ff1e2a617b9215b88e0c14d5a74ed5ebdadaeb5", "committedDate": "2020-01-17T10:22:55Z", "message": "Fix build failed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a698310a1db8977131c66a75750b88f0d1e94e4d", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a698310a1db8977131c66a75750b88f0d1e94e4d", "committedDate": "2020-01-17T10:29:48Z", "message": "Remove whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "380208d9ef6668400762100a87b180c3307fd657", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/380208d9ef6668400762100a87b180c3307fd657", "committedDate": "2020-01-20T04:22:58Z", "message": "Merge branch 'ballerina-1.1.x' of https://github.com/ballerina-platform/ballerina-lang into file_1.1.x"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDc5NjQ3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#pullrequestreview-345079647", "createdAt": "2020-01-20T04:56:25Z", "commit": {"oid": "380208d9ef6668400762100a87b180c3307fd657"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwNDo1NjoyNVrOFfTguQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwNDo1NjoyNVrOFfTguQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODM2OTg0OQ==", "bodyText": "Shall we restructure this logic as,\nif (path.endsWith(pathSeparator) || (isWindows && path.endsWith(\"/\"))) {\n  return  \"\";\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#discussion_r368369849", "createdAt": "2020-01-20T04:56:25Z", "author": {"login": "daneshk"}, "path": "stdlib/filepath/src/main/ballerina/src/filepath/file_path.bal", "diffHunk": "@@ -273,6 +273,13 @@ public function isReservedName(string name) returns boolean {\n # + path - String value of file path.\n # + return - Returns the extension of the file. Empty string if no extension.\n public function extension(string path) returns string|Error {\n+    if (isWindows && (path.endsWith(\"/\") || path.endsWith(\"\\\\\"))) {\n+        return \"\";\n+    } else {\n+        if (path.endsWith(pathSeparator) ) {\n+            return \"\";\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "380208d9ef6668400762100a87b180c3307fd657"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c72d2aa6a96192a3e1ac596be642abe6f60e215c", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c72d2aa6a96192a3e1ac596be642abe6f60e215c", "committedDate": "2020-01-20T05:04:15Z", "message": "Fix review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDgzMjg0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20651#pullrequestreview-345083284", "createdAt": "2020-01-20T05:16:21Z", "commit": {"oid": "c72d2aa6a96192a3e1ac596be642abe6f60e215c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4318, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}