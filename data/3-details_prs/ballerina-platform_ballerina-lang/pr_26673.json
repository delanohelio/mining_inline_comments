{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMDUxMDk0", "number": 26673, "title": "Remove version parsing support from import declaration", "bodyText": "Purpose\n$subject.\nApproach\nN/A\nSamples\nN/A\nRemarks\nDisabled balo test: ImportsTests.java with 94e7a38\nDisabled integration test: MultipleVersionsModuleTestCase.java with 15cd9ff\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-29T06:33:38Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26673", "merged": true, "mergeCommit": {"oid": "b2c4f5fe48eb7604d3f770ca07e4104037dbb6fe"}, "closed": true, "closedAt": "2020-11-04T10:02:49Z", "author": {"login": "lochana-chathura"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXMMlbAH2gAyNTEyMDUxMDk0OmQ1NzNkMjU1NzUzYzY5NjBiYmNkYjcwODU3MjI2NjAwNzU2Y2Y5Yjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZK1JzgFqTUyMzIwODQxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d573d255753c6960bbcdb70857226600756cf9b8", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d573d255753c6960bbcdb70857226600756cf9b8", "committedDate": "2020-10-29T06:30:06Z", "message": "Remove version parsing support from import declaration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94e7a3833eb95ee9d4208d2722620890729f5637", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/94e7a3833eb95ee9d4208d2722620890729f5637", "committedDate": "2020-10-29T06:30:14Z", "message": "Disable jbal-unit-test: ImportsTests.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e792b584e2291c51f55163b9a3d6f9d02f6a167f", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e792b584e2291c51f55163b9a3d6f9d02f6a167f", "committedDate": "2020-10-29T07:31:57Z", "message": "Fix usages in OptimizeImportsCodeAction.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15cd9ff2e95a583930bbd16d7a5f311f08bc1413", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/15cd9ff2e95a583930bbd16d7a5f311f08bc1413", "committedDate": "2020-10-29T11:44:40Z", "message": "Disable jbal-integration-test: MultipleVersionsModuleTestCase.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cba670d33f827fa355da35d4acdf53ada119c744", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cba670d33f827fa355da35d4acdf53ada119c744", "committedDate": "2020-11-02T05:23:48Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into remove-version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTY2NjEz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26673#pullrequestreview-522166613", "createdAt": "2020-11-03T03:10:17Z", "commit": {"oid": "cba670d33f827fa355da35d4acdf53ada119c744"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMzoxMDoxN1rOHse9UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMzoxMToxNVrOHse-IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQwNjYwOQ==", "bodyText": "error code seems to be a duplicate.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26673#discussion_r516406609", "createdAt": "2020-11-03T03:10:17Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/diagnostics/DiagnosticErrorCode.java", "diffHunk": "@@ -292,6 +292,8 @@\n     ERROR_INVALID_CHARACTER_IN_XML_ATTRIBUTE_VALUE(\"BCE0653\", \"error.invalid.character.in.xml.attribute.value\"),\n     ERROR_INVALID_ENTITY_REFERENCE_NAME_START(\"BCE0654\", \"error.invalid.entity.reference.name.start\"),\n     ERROR_DOUBLE_HYPHEN_NOT_ALLOWED_WITHIN_XML_COMMENT(\"BCE0655\", \"error.double.hyphen.not.allowed.within.xml.comment\"),\n+    ERROR_VERSION_IN_IMPORT_DECLARATION_NO_LONGER_SUPPORTED(\"BCE0622\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cba670d33f827fa355da35d4acdf53ada119c744"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQwNjgxNg==", "bodyText": "We can make this function to have a void return.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26673#discussion_r516406816", "createdAt": "2020-11-03T03:11:15Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -546,30 +543,37 @@ private boolean isEndOfImportDecl(STToken nextToken) {\n \n     /**\n      * Parse version component of a import declaration.\n+     * @deprecated\n+     * Version is no longer supported. Hence, parse it and log an error.\n      * <p>\n      * <code>version-decl := version sem-ver</code>\n      *\n      * @return Parsed node\n      */\n+    @Deprecated\n     private STNode parseVersion() {\n         STToken nextToken = peek();\n         switch (nextToken.kind) {\n             case VERSION_KEYWORD:\n                 STNode versionKeyword = parseVersionKeyword();\n                 STNode versionNumber = parseVersionNumber();\n-                return STNodeFactory.createImportVersionNode(versionKeyword, versionNumber);\n+                addInvalidNodeToNextToken(versionKeyword,\n+                        DiagnosticErrorCode.ERROR_VERSION_IN_IMPORT_DECLARATION_NO_LONGER_SUPPORTED);\n+                addInvalidNodeToNextToken(versionNumber, null);\n+                break;\n             case AS_KEYWORD:\n             case SEMICOLON_TOKEN:\n-                return STNodeFactory.createEmptyNode();\n+                break;\n             default:\n                 if (isEndOfImportDecl(nextToken)) {\n-                    return STNodeFactory.createEmptyNode();\n+                    break;\n                 }\n \n                 recover(peek(), ParserRuleContext.IMPORT_VERSION_DECL);\n                 return parseVersion();\n         }\n \n+        return STNodeFactory.createEmptyNode();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cba670d33f827fa355da35d4acdf53ada119c744"}, "originalPosition": 92}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddeb02294114ea568a1eec5115cff80af458c887", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ddeb02294114ea568a1eec5115cff80af458c887", "committedDate": "2020-11-04T07:52:39Z", "message": "Add review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3220cc1fa3293f9bda354a920dc817b6781aa78", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f3220cc1fa3293f9bda354a920dc817b6781aa78", "committedDate": "2020-11-04T07:59:31Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into remove-version\n\n\u0001 Conflicts:\n\u0001\tcompiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java\n\u0001\tcompiler/ballerina-parser/src/main/java/io/ballerina/compiler/syntax/tree/ImportDeclarationNode.java\n\u0001\tmisc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4095309142f90e868b4a7616850d460afcba380", "author": {"user": {"login": "lochana-chathura", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d4095309142f90e868b4a7616850d460afcba380", "committedDate": "2020-11-04T08:02:02Z", "message": "Regenerate syntax tree"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMjA4NDE2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26673#pullrequestreview-523208416", "createdAt": "2020-11-04T10:02:27Z", "commit": {"oid": "d4095309142f90e868b4a7616850d460afcba380"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4308, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}