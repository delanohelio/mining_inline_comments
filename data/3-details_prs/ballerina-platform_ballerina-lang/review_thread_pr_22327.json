{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MDU3ODk5", "number": 22327, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoxOToyM1rODteA9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MTozNVrODtqKNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDA0Mjc3OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/model/BIRNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoxOToyM1rOF-6KdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MDoxM1rOF_NtYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUwODk4MA==", "bodyText": "@hasithaa we can go ahead with this change for the patch branch right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401508980", "createdAt": "2020-04-01T10:19:23Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/model/BIRNode.java", "diffHunk": "@@ -509,7 +509,7 @@ public String toString() {\n      *\n      * @since 0.995.0\n      */\n-    public static class BIRAnnotation extends BIRNode {\n+    public static class BIRAnnotation extends BIRDocumentableNode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTgyOTIxNw==", "bodyText": "Discussed offline and decided this was OK.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401829217", "createdAt": "2020-04-01T18:40:13Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/model/BIRNode.java", "diffHunk": "@@ -509,7 +509,7 @@ public String toString() {\n      *\n      * @since 0.995.0\n      */\n-    public static class BIRAnnotation extends BIRNode {\n+    public static class BIRAnnotation extends BIRDocumentableNode {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUwODk4MA=="}, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDA2OTI0OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_projects/test_documentation/src/test/test_documentation_symbol.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDoyNjo0OVrOF-6alQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDowNDozN1rOF_CPLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUxMzEwOQ==", "bodyText": "Shouldn't this be public?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401513109", "createdAt": "2020-04-01T10:26:49Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_projects/test_documentation/src/test/test_documentation_symbol.bal", "diffHunk": "@@ -25,3 +25,16 @@ public type Person object {\n         return true;\n     }\n };\n+\n+# Documentation for Test annotation\n+# + a - 'field a' documentation\n+# + b - 'field b' documentation\n+# + c - 'field c' documentation\n+type Tst record {\n+    string a = \"\";\n+    string b = \"\";\n+    string c = \"\";\n+};\n+\n+# Documentation for Test annotation\n+annotation Tst Test on function;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0MTI2MQ==", "bodyText": "Changed it", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401641261", "createdAt": "2020-04-01T14:04:37Z", "author": {"login": "KavinduZoysa"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_projects/test_documentation/src/test/test_documentation_symbol.bal", "diffHunk": "@@ -25,3 +25,16 @@ public type Person object {\n         return true;\n     }\n };\n+\n+# Documentation for Test annotation\n+# + a - 'field a' documentation\n+# + b - 'field b' documentation\n+# + c - 'field c' documentation\n+type Tst record {\n+    string a = \"\";\n+    string b = \"\";\n+    string c = \"\";\n+};\n+\n+# Documentation for Test annotation\n+annotation Tst Test on function;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUxMzEwOQ=="}, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDE1MTI4OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_balo/documentation/test_documentation.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMDo1MTozMFrOF-7OAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDowNDo1OVrOF_CQLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUyNjI3NA==", "bodyText": "According to the annotation definition this should have {} right? So this probably fails at compilation?\nShall we assert that there are no compilation errors?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401526274", "createdAt": "2020-04-01T10:51:30Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_balo/documentation/test_documentation.bal", "diffHunk": "@@ -4,3 +4,7 @@ import testDocOrg/test;\n function testDocDummy() returns (boolean) {\n     return test:open(\"testt\");\n }\n+\n+@test:Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY0MTUxOQ==", "bodyText": "Yes, assert the compile errors", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401641519", "createdAt": "2020-04-01T14:04:59Z", "author": {"login": "KavinduZoysa"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/balo/test_balo/documentation/test_documentation.bal", "diffHunk": "@@ -4,3 +4,7 @@ import testDocOrg/test;\n function testDocDummy() returns (boolean) {\n     return test:open(\"testt\");\n }\n+\n+@test:Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTUyNjI3NA=="}, "originalCommit": {"oid": "9e466203aa995699db664ede762b583ab4efb81a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MjAzMjU1OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/balo/documentation/DocumentationTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MTozNVrOF_Nwjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxODo0MTozNVrOF_Nwjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTgzMDAzMA==", "bodyText": "Let's move this assertion to the setup method in a separate PR.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22327#discussion_r401830030", "createdAt": "2020-04-01T18:41:35Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/balo/documentation/DocumentationTest.java", "diffHunk": "@@ -104,6 +105,21 @@ public void testDocAttachmentBalo() {\n                 .replaceAll(CARRIAGE_RETURN_CHAR, EMPTY_STRING), \"True if male\");\n     }\n \n+    @Test(description = \"Test doc attachments in annotations\")\n+    public void testAnnotationDoc() {\n+        PackageNode packageNode = result.getAST();\n+        Assert.assertEquals(result.getErrorCount(), 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8ab438bafbbff2a87e48b468bec032cbfed1727"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4466, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}