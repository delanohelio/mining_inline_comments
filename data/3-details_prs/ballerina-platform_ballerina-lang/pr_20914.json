{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMjkzNjMw", "number": 20914, "title": "Fix error handling bug", "bodyText": "Purpose\nFix error handling bug while generating a JWT\nFixes #20896\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-02-07T08:34:18Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914", "merged": true, "mergeCommit": {"oid": "7ddc72190636d82ac1e503898dec91e024bf1988"}, "closed": true, "closedAt": "2020-02-10T04:31:35Z", "author": {"login": "kalaiyarasiganeshalingam"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcB7EzTgH2gAyMzcyMjkzNjMwOmFhOTY0M2NjNzBmNGRmZWQwNGEwYjNiYTNkNzhiYzU1YWYxN2E5MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCE3eugH2gAyMzcyMjkzNjMwOjc2ZGQ2MzBkODU5Yzg3YjlkMjU0ZDJlNDViMGJmZDk4YTdlMmY0NTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aa9643cc70f4dfed04a0b3ba3d78bc55af17a907", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/aa9643cc70f4dfed04a0b3ba3d78bc55af17a907", "committedDate": "2020-02-07T08:29:39Z", "message": "Fix error handling bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6775c55789bdbb27d3bcc257d7a159a62416949", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d6775c55789bdbb27d3bcc257d7a159a62416949", "committedDate": "2020-02-07T08:32:15Z", "message": "Change the error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2d9221c3a05ac967cd510b901651476352ce493", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e2d9221c3a05ac967cd510b901651476352ce493", "committedDate": "2020-02-07T08:39:15Z", "message": "Merge https://github.com/ballerina-platform/ballerina-lang into jwt_error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDExMzAz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914#pullrequestreview-355011303", "createdAt": "2020-02-07T09:01:07Z", "commit": {"oid": "e2d9221c3a05ac967cd510b901651476352ce493"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwOTowMTowOFrOFm2R2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwOTowMTowOFrOFm2R2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3OTUxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return CryptoUtils.createError(\"Key cannot be recovered by using given keyAlias [\" + keyAlias +\n          \n          \n            \n                                \"] and keyPassword [\" + keyPassword + \"]\");\n          \n          \n            \n                        return CryptoUtils.createError(\"Key cannot be recovered by using given key alias: [\" + keyAlias + \"] +\n          \n          \n            \n                                     \" and key password: [\" + keyPassword + \"]\");", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914#discussion_r376279514", "createdAt": "2020-02-07T09:01:08Z", "author": {"login": "ldclakmal"}, "path": "stdlib/crypto/src/main/java/org/ballerinalang/stdlib/crypto/nativeimpl/Decode.java", "diffHunk": "@@ -85,6 +78,13 @@ public static Object decodePrivateKey(Object keyStoreValue, String keyAlias, Str\n             throw CryptoUtils.createError(\"PKCS12 key store not found at: \" + keyStoreFile.getAbsoluteFile());\n         } catch (KeyStoreException | CertificateException | IOException e) {\n             throw CryptoUtils.createError(\"Unable to open keystore: \" + e.getMessage());\n+        } catch (NoSuchAlgorithmException e) {\n+            return CryptoUtils.createError(\"Algorithm for key recovery is not found: \" + e.getMessage());\n+        } catch (NullPointerException e) {\n+            return CryptoUtils.createError(\"Key cannot be recovered by using given keyAlias [\" + keyAlias +\n+                    \"] and keyPassword [\" + keyPassword + \"]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2d9221c3a05ac967cd510b901651476352ce493"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d87a7e9679d3d475a1524ab2c13bdfae4b301117", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d87a7e9679d3d475a1524ab2c13bdfae4b301117", "committedDate": "2020-02-07T09:08:22Z", "message": "Fix suggested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDE2MjA2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914#pullrequestreview-355016206", "createdAt": "2020-02-07T09:10:09Z", "commit": {"oid": "d87a7e9679d3d475a1524ab2c13bdfae4b301117"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzQ1MDcx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914#pullrequestreview-355345071", "createdAt": "2020-02-07T18:19:48Z", "commit": {"oid": "d87a7e9679d3d475a1524ab2c13bdfae4b301117"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxODoxOTo0OFrOFnF5YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxODoxOTo0OFrOFnF5YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjUzNTM5Mw==", "bodyText": "If we consider security best practices, is it ok to have the keyPassword in error message and logs? @ldclakmal", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20914#discussion_r376535393", "createdAt": "2020-02-07T18:19:48Z", "author": {"login": "anupama-pathirage"}, "path": "stdlib/crypto/src/main/java/org/ballerinalang/stdlib/crypto/nativeimpl/Decode.java", "diffHunk": "@@ -85,6 +78,13 @@ public static Object decodePrivateKey(Object keyStoreValue, String keyAlias, Str\n             throw CryptoUtils.createError(\"PKCS12 key store not found at: \" + keyStoreFile.getAbsoluteFile());\n         } catch (KeyStoreException | CertificateException | IOException e) {\n             throw CryptoUtils.createError(\"Unable to open keystore: \" + e.getMessage());\n+        } catch (NoSuchAlgorithmException e) {\n+            return CryptoUtils.createError(\"Algorithm for key recovery is not found: \" + e.getMessage());\n+        } catch (NullPointerException e) {\n+            return CryptoUtils.createError(\"Key cannot be recovered by using given key alias: [\" + keyAlias +\n+                         \"] and key password: [\" + keyPassword + \"]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d87a7e9679d3d475a1524ab2c13bdfae4b301117"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76dd630d859c87b9d254d2e45b0bfd98a7e2f459", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/76dd630d859c87b9d254d2e45b0bfd98a7e2f459", "committedDate": "2020-02-07T19:54:09Z", "message": "Fix the comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4190, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}