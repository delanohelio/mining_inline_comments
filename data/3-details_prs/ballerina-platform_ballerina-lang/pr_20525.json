{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5Mzk0NjQ4", "number": 20525, "title": "Fix ballerina test debug mode does not print debug suspended msg", "bodyText": "Purpose\n\nFix tests in debug mode doesn't give any output until a remote debug client is connected\n\nFixes #20429\nRelated PRs\n#20432\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-01-06T05:17:37Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525", "merged": true, "mergeCommit": {"oid": "383ddb4e1cbea40cc5cb56ee61005d07c02715a7"}, "closed": true, "closedAt": "2020-01-07T09:15:14Z", "author": {"login": "rasika"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb35DDKgFqTMzOTAyNDQyNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb39IenAFqTMzOTExMTMxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MDI0NDI0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525#pullrequestreview-339024424", "createdAt": "2020-01-07T04:21:54Z", "commit": {"oid": "ddebc921155f1c8ecf33e21955e8ecb1b7e4a628"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNDoyMTo1NVrOFavjTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNDoyMTo1NVrOFavjTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NjM4Mw==", "bodyText": "How about being more specific by using something like BAL_DEBUG_OPTS as the env var name instead, just to avoid confusions when working in environments which have multiple debugger related entities? :)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525#discussion_r363586383", "createdAt": "2020-01-07T04:21:55Z", "author": {"login": "NipunaRanasinghe"}, "path": "distribution/zip/jballerina/bin/ballerina", "diffHunk": "@@ -159,13 +159,16 @@ done\n if [ -n \"${BAL_JAVA_DEBUG+set}\" ]; then\n     if [ -z \"$BAL_JAVA_DEBUG\" ]; then\n         echo \"Please specify the debug port for the BAL_JAVA_DEBUG variable\"\n-\texit 1\n+        exit 1\n     else\n-\tif [ -n \"$JAVA_OPTS\" ]; then\n-\t  echo \"Warning !!!. User specified JAVA_OPTS may interfere with BAL_JAVA_DEBUG\"\n-\tfi\n-\t# 'quiet=y' avoids breaking LSP protocol in debug mode\n-\tJAVA_OPTS=\"$JAVA_OPTS -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=$BAL_JAVA_DEBUG,quiet=y\"\n+      if [ -n \"$JAVA_OPTS\" ]; then\n+        echo \"Warning !!!. User specified JAVA_OPTS may interfere with BAL_JAVA_DEBUG\"\n+      fi\n+      if [ -n \"${DEBUG_OPTS+set}\" ]; then", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddebc921155f1c8ecf33e21955e8ecb1b7e4a628"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ddebc921155f1c8ecf33e21955e8ecb1b7e4a628", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ddebc921155f1c8ecf33e21955e8ecb1b7e4a628", "committedDate": "2020-01-06T05:16:31Z", "message": "Fix ballerina test debug mode does not print debug suspended msg\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}, "afterCommit": {"oid": "9448585b464e92b3012d704ce87089ef34652e2d", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9448585b464e92b3012d704ce87089ef34652e2d", "committedDate": "2020-01-07T05:45:54Z", "message": "Fix ballerina test debug mode does not print debug suspended msg\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf99a4414d45dba5fc90e97034819665c9ff7c1a", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bf99a4414d45dba5fc90e97034819665c9ff7c1a", "committedDate": "2020-01-07T05:49:28Z", "message": "Fix ballerina test debug mode does not print debug suspended msg\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9448585b464e92b3012d704ce87089ef34652e2d", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9448585b464e92b3012d704ce87089ef34652e2d", "committedDate": "2020-01-07T05:45:54Z", "message": "Fix ballerina test debug mode does not print debug suspended msg\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}, "afterCommit": {"oid": "bf99a4414d45dba5fc90e97034819665c9ff7c1a", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bf99a4414d45dba5fc90e97034819665c9ff7c1a", "committedDate": "2020-01-07T05:49:28Z", "message": "Fix ballerina test debug mode does not print debug suspended msg\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTEwMDE1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525#pullrequestreview-339110015", "createdAt": "2020-01-07T09:11:36Z", "commit": {"oid": "bf99a4414d45dba5fc90e97034819665c9ff7c1a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTEwNTM5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525#pullrequestreview-339110539", "createdAt": "2020-01-07T09:12:46Z", "commit": {"oid": "bf99a4414d45dba5fc90e97034819665c9ff7c1a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTExMzEx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20525#pullrequestreview-339111311", "createdAt": "2020-01-07T09:14:15Z", "commit": {"oid": "bf99a4414d45dba5fc90e97034819665c9ff7c1a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4440, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}