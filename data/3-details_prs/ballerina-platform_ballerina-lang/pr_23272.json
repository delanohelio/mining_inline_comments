{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MDk1Mjg3", "number": 23272, "title": "Add distinct type support to new parser", "bodyText": "Purpose\nAdd distinct type support to new parser with recovery logic and test cases.\nFixes #23234\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-05-14T16:04:58Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272", "merged": true, "mergeCommit": {"oid": "525a2a1b37a0b2cde0e3a93c6c9dc11044cdc2e2"}, "closed": true, "closedAt": "2020-05-15T06:15:16Z", "author": {"login": "rdulmina"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchH6wpAH2gAyNDE4MDk1Mjg3OjcwMGUxYzQ5OGE3M2VhNzJkNmY1ZmRlZTI1MThhNDlkZGYzOGU3MmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchaw6-gFqTQxMjM0Njk5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "700e1c498a73ea72d6f5fdee2518a49ddf38e72d", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/700e1c498a73ea72d6f5fdee2518a49ddf38e72d", "committedDate": "2020-05-14T06:59:06Z", "message": "distinct lexer terminal."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6290b1651cfd8a53f43a61d00f3d2d5790d950e8", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6290b1651cfd8a53f43a61d00f3d2d5790d950e8", "committedDate": "2020-05-14T07:00:08Z", "message": "Merge branch 'intersection-type' into distinct-type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe9bc58402d6c404cd43666cadf8473e33eef548", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fe9bc58402d6c404cd43666cadf8473e33eef548", "committedDate": "2020-05-14T07:19:19Z", "message": "distinct type descriptor support."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "618c0480576c1235bf5101a60b9b07110945aa5c", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/618c0480576c1235bf5101a60b9b07110945aa5c", "committedDate": "2020-05-14T07:23:15Z", "message": "Merge branch 'intersection-type' into distinct-type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd7bda3955995aefedd7b551d3b0c16efd3821f8", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fd7bda3955995aefedd7b551d3b0c16efd3821f8", "committedDate": "2020-05-14T07:34:25Z", "message": "Recovery logic for disctinct type descriptor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccf724a6969ce2d9ad3d512841acb2966c364fb8", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ccf724a6969ce2d9ad3d512841acb2966c364fb8", "committedDate": "2020-05-14T07:54:48Z", "message": "Test cases for distinct type descriptor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "789b9a0cbc5becaa84402e2f5f2c4020464678dc", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/789b9a0cbc5becaa84402e2f5f2c4020464678dc", "committedDate": "2020-05-14T16:02:11Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into distinct-type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExOTY1NTY2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272#pullrequestreview-411965566", "createdAt": "2020-05-14T16:14:44Z", "commit": {"oid": "789b9a0cbc5becaa84402e2f5f2c4020464678dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNDo0NFrOGVj2Zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNDo0NFrOGVj2Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MDY0Nw==", "bodyText": "I feel we can live without the TYPE_DESC_IN_DISTINCT_TYPE_DESC. What if we pass the parent context (the one that comes to parseTypeDescriptorInternal() method) as is?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272#discussion_r425260647", "createdAt": "2020-05-14T16:14:44Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -8462,4 +8465,31 @@ private STNode parseReadonlyKeyword() {\n             return sol.recoveredNode;\n         }\n     }\n+\n+    /**\n+     * Parse distinct type descriptor.\n+     * <p>distinct-type-desc := distinct type-desc</p>\n+     *\n+     * @return Parsed node\n+     */\n+    private STNode parseDistinctTypeDesc() {\n+        STNode distinctKeywordToken = parseDistinctKeyword();\n+        STNode typeDescriptorNode = parseTypeDescriptor(ParserRuleContext.TYPE_DESC_IN_DISTINCT_TYPE_DESC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "789b9a0cbc5becaa84402e2f5f2c4020464678dc"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a505625cbff956105960b5579c23862441f1a607", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a505625cbff956105960b5579c23862441f1a607", "committedDate": "2020-05-14T16:24:32Z", "message": "Removed context TYPE_DESC_IN_DISTINCT_TYPE_DESC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fa74d58ff9e5958aa2d7ac321e534a82ef3e6ea", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6fa74d58ff9e5958aa2d7ac321e534a82ef3e6ea", "committedDate": "2020-05-14T16:57:56Z", "message": "Passed parent ctx to parseDistinctTypeDesc() method."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "289b4494de281e26455784d289cc71e0ba324943", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/289b4494de281e26455784d289cc71e0ba324943", "committedDate": "2020-05-15T04:42:30Z", "message": "Changed readonly and distinct type as simple types."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5ade4bd652544d0ac5b5b0aef5bcb681a82ae5e", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ade4bd652544d0ac5b5b0aef5bcb681a82ae5e", "committedDate": "2020-05-15T04:51:39Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into distinct-type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMzQ2OTk3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272#pullrequestreview-412346997", "createdAt": "2020-05-15T04:56:33Z", "commit": {"oid": "b5ade4bd652544d0ac5b5b0aef5bcb681a82ae5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3319, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}