{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NTQ0Mzgx", "number": 27076, "title": "Add import auto-completion support for new project structure", "bodyText": "Purpose\n\n$subject\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-11-23T08:11:09Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076", "merged": true, "mergeCommit": {"oid": "1eb04cabd6261d93ae34263c3c73a3a8f85056ce"}, "closed": true, "closedAt": "2020-11-23T11:10:21Z", "author": {"login": "nadeeshaan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfQTQUAH2gAyNTI1NTQ0MzgxOjA0MjM3ZTAyYjE3MWExZDVhYzM0NDBlYjQ4N2E4ZmZmN2RhNDlmYjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfTAZXgFqTUzNjM2MjkwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04237e02b171a1d5ac3440eb487a8fff7da49fb1", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04237e02b171a1d5ac3440eb487a8fff7da49fb1", "committedDate": "2020-11-23T07:48:24Z", "message": "add import completions suggestion for the new project structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76c94bcf033721adfcc65ae04abf53e538e668bc", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/76c94bcf033721adfcc65ae04abf53e538e668bc", "committedDate": "2020-11-23T07:50:19Z", "message": "Merge branch 'master' into dev-branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "543a5b97d83767d8de17a84b4e1afd3b8e70455a", "author": {"user": {"login": "nadeeshaan", "name": "Nadeeshaan Gunasinghe"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/543a5b97d83767d8de17a84b4e1afd3b8e70455a", "committedDate": "2020-11-23T09:52:58Z", "message": "add tests for the new import suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MzYxNjA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076#pullrequestreview-536361608", "createdAt": "2020-11-23T10:55:44Z", "commit": {"oid": "543a5b97d83767d8de17a84b4e1afd3b8e70455a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDo1NTo0NFrOH4IS6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDo1NTo0NFrOH4IS6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxODIxOA==", "bodyText": "Let's keep the currentDocument as  the lazy loading field. Then we can  calculate module, package, project on top of it. We can push it on post SLP6.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076#discussion_r528618218", "createdAt": "2020-11-23T10:55:44Z", "author": {"login": "rasika"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/contexts/AbstractDocumentServiceContext.java", "diffHunk": "@@ -123,6 +126,15 @@ public WorkspaceManager workspace() {\n         return this.currentDocImports;\n     }\n \n+    @Override\n+    public Optional<Module> currentModule() {\n+        if (this.currentModule == null) {\n+            this.currentModule = this.workspaceManager.module(this.filePath).orElse(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "543a5b97d83767d8de17a84b4e1afd3b8e70455a"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MzYyOTA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076#pullrequestreview-536362908", "createdAt": "2020-11-23T10:57:31Z", "commit": {"oid": "543a5b97d83767d8de17a84b4e1afd3b8e70455a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4946, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}