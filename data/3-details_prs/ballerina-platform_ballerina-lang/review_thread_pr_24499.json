{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNzI4NzY2", "number": 24499, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNDowNDo1NlrOEJ6_qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMTo0NDozOFrOEKDxIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4ODM5MjExOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/project/Project.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNDowNDo1NlrOGqq3rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNDowNDo1NlrOGqq3rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM5NTc1Nw==", "bodyText": "\"Return true is module exists in the project.\" has to be changed as \"Returns true if the module exists in the project.\"", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24499#discussion_r447395757", "createdAt": "2020-06-30T04:04:56Z", "author": {"login": "miyurud"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/project/Project.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.project;\n+\n+import org.ballerinalang.compiler.JarResolver;\n+import org.ballerinalang.model.elements.PackageID;\n+import org.wso2.ballerinalang.compiler.util.CompilerContext;\n+\n+import java.nio.file.Path;\n+\n+/**\n+ * Defines functionality of the Project.\n+ *\n+ * @since 2.0.0\n+ */\n+public interface Project {\n+\n+    CompilerContext.Key<Project> PROJECT_KEY = new CompilerContext.Key<>();\n+\n+    /**\n+     * Return true is module exists in the project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca70a429321db0190c6d8cd6f9676722d3edaa23"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4ODU5MTAzOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/SourceDirectoryManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNTo1MToxNlrOGqsrnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNToyODo1N1rOGrB_-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQyNTQzNg==", "bodyText": "getManifest() logic can be improved to load manifest only once.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24499#discussion_r447425436", "createdAt": "2020-06-30T05:51:16Z", "author": {"login": "hasithaa"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/SourceDirectoryManager.java", "diffHunk": "@@ -62,10 +68,15 @@ public static SourceDirectoryManager getInstance(CompilerContext context) {\n \n     private SourceDirectoryManager(CompilerContext context) {\n         context.put(PROJECT_DIR_KEY, this);\n+        // We will add the source directory manager as the project API to the context\n+        // This has to be further refactored with ProjectAPI Implementation\n+        context.put(PROJECT_KEY, this);\n \n         this.names = Names.getInstance(context);\n         this.options = CompilerOptions.getInstance(context);\n         this.sourceDirectory = initializeAndGetSourceDirectory(context);\n+        // load manifest only once\n+        this.manifest = getManifest();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca70a429321db0190c6d8cd6f9676722d3edaa23"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzc3NDcxMw==", "bodyText": "Created #24516 to track the issue.\nI will be merging this PR without this refactor since that change will touch many places. Will address it with the new Project API", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24499#discussion_r447774713", "createdAt": "2020-06-30T15:28:57Z", "author": {"login": "hevayo"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/SourceDirectoryManager.java", "diffHunk": "@@ -62,10 +68,15 @@ public static SourceDirectoryManager getInstance(CompilerContext context) {\n \n     private SourceDirectoryManager(CompilerContext context) {\n         context.put(PROJECT_DIR_KEY, this);\n+        // We will add the source directory manager as the project API to the context\n+        // This has to be further refactored with ProjectAPI Implementation\n+        context.put(PROJECT_KEY, this);\n \n         this.names = Names.getInstance(context);\n         this.options = CompilerOptions.getInstance(context);\n         this.sourceDirectory = initializeAndGetSourceDirectory(context);\n+        // load manifest only once\n+        this.manifest = getManifest();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQyNTQzNg=="}, "originalCommit": {"oid": "ca70a429321db0190c6d8cd6f9676722d3edaa23"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4OTgyOTQ2OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/project/Project.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMTo0NDozOFrOGq4gqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMTo0NDozOFrOGq4gqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzYxOTI0Mw==", "bodyText": "It seems even though \"org.ballerinalang.compiler.JarResolver\" is imported within this class its never used.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24499#discussion_r447619243", "createdAt": "2020-06-30T11:44:38Z", "author": {"login": "miyurud"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/project/Project.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.project;\n+\n+import org.ballerinalang.compiler.JarResolver;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca70a429321db0190c6d8cd6f9676722d3edaa23"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3303, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}