{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1NzU3Mjgx", "number": 25193, "title": "Add Procedure call support for sql connector", "bodyText": "Purpose\n$subject\nFixes #24412, #12804\nApproach\nDesign Doc\nhttps://docs.google.com/document/d/1d0-yLkJdvI4rZo4mKd5ckizWCGT3wPRZqRHEWpxz75I/edit#heading=h.x7zyie9d96p0\nSamples\nint uid = <@untainted> id;\nsql:OutParameter insertId = new;\n\nsql:ProcedureCallResult result = check mysqlClient->call(`call InsertPerson(${uid}, ${insertId};`);\nio:println(insertId.get(int));\nRemarks\nNeeds to be verified against\n\n H2\n MySQL\n MSSQL\n Postgre\n Oracle 11\n Oracle 12\nAdded testscases for MySQL, manually tested for others.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-08-10T22:12:16Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193", "merged": true, "mergeCommit": {"oid": "131dcf8a53a22668a589efa0491449d750a9079a"}, "closed": true, "closedAt": "2020-08-12T13:55:40Z", "author": {"login": "niveathika"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9iX8JgH2gAyNDY1NzU3MjgxOmYxN2FkNzc3ZWY4YjhiNGI0ZTNlMDEwMDkwNWNhMTk3NTUwYmVhZjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-K7qIAH2gAyNDY1NzU3MjgxOmQyNTNkNjg3MjBlNzNjNjExM2FhZTQ0YjY1NmNhN2E5Mzc5ZGJmNTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f17ad777ef8b8b4b4e3e0100905ca197550beaf4", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f17ad777ef8b8b4b4e3e0100905ca197550beaf4", "committedDate": "2020-08-10T13:38:23Z", "message": "Ignore mysql test generated files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8e1d09171a0d13245d97673a81c9c0ccd8ad7fd", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a8e1d09171a0d13245d97673a81c9c0ccd8ad7fd", "committedDate": "2020-08-10T13:38:23Z", "message": "Reformat"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a26c266d595913a60c13bbec3033544fb1c68cc1", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a26c266d595913a60c13bbec3033544fb1c68cc1", "committedDate": "2020-08-10T13:38:24Z", "message": "Add basic framework for call api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c451ecb9317b3ee745126b45e70e6cb63460e42", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c451ecb9317b3ee745126b45e70e6cb63460e42", "committedDate": "2020-08-10T13:38:24Z", "message": "Fix visibility of ProcedureCallResult object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b4440a4c9420f6c40e1bd5909e41f1d9be02db0", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9b4440a4c9420f6c40e1bd5909e41f1d9be02db0", "committedDate": "2020-08-10T13:38:24Z", "message": "Accept empty array instead of null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46ef511445b22d9706c5ab6979e70389f42c0d11", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/46ef511445b22d9706c5ab6979e70389f42c0d11", "committedDate": "2020-08-10T13:38:25Z", "message": "Fix doc comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b52b2971ce3a9696d100fa515681865e9dba0b7", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b52b2971ce3a9696d100fa515681865e9dba0b7", "committedDate": "2020-08-10T13:38:25Z", "message": "Fix return for the getNextQueryResult function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c97392a21207c305dcc9a2c9c039e6823bbbcd88", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c97392a21207c305dcc9a2c9c039e6823bbbcd88", "committedDate": "2020-08-10T13:38:25Z", "message": "Refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b234ef7d40de248f5b5739e5bb5ccbf46533297a", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b234ef7d40de248f5b5739e5bb5ccbf46533297a", "committedDate": "2020-08-10T13:38:25Z", "message": "Reformat"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a90f60328e1bb4d7e2a2d3dbffe65d48a53298b", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6a90f60328e1bb4d7e2a2d3dbffe65d48a53298b", "committedDate": "2020-08-10T13:38:26Z", "message": "Fix test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e71cb382073b0cfd4eeeacd7a7e078a2e0113ad", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5e71cb382073b0cfd4eeeacd7a7e078a2e0113ad", "committedDate": "2020-08-10T13:38:26Z", "message": "Support InParameter object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2397404f63bd04e084f2e65db6644ad581f2a251", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2397404f63bd04e084f2e65db6644ad581f2a251", "committedDate": "2020-08-10T13:38:26Z", "message": "Remove InParameter definition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a5a0e82797d2361132eb3956f488148351ed199", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8a5a0e82797d2361132eb3956f488148351ed199", "committedDate": "2020-08-10T13:38:26Z", "message": "Add basic framework for Inout & Out parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6714eaebd27ebe42928b52fa535c5edc12765d21", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6714eaebd27ebe42928b52fa535c5edc12765d21", "committedDate": "2020-08-10T18:51:39Z", "message": "Add support for inout parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77b30ecedea29be288ddd7ace655c348c42deeab", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/77b30ecedea29be288ddd7ace655c348c42deeab", "committedDate": "2020-08-10T22:05:23Z", "message": "Add support for out parameter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NzI5MDkw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-464729090", "createdAt": "2020-08-11T03:47:37Z", "commit": {"oid": "77b30ecedea29be288ddd7ace655c348c42deeab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwMzo0NzozN1rOG-nXEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwMzo0NzozN1rOG-nXEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODMwOTc3OA==", "bodyText": "Add API docs", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r468309778", "createdAt": "2020-08-11T03:47:37Z", "author": {"login": "daneshk"}, "path": "stdlib/database/jdbc/src/main/ballerina/src/java.jdbc/client.bal", "diffHunk": "@@ -96,6 +96,15 @@ public type Client client object {\n         }\n     }\n \n+    public remote function call(@untainted sql:ParameterizedCallQuery sqlQuery, typedesc<record {}>[] rowTypes = [])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77b30ecedea29be288ddd7ace655c348c42deeab"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0c13c50d731d78b06b6f7eff1297e808fb58df4e", "committedDate": "2020-08-11T06:22:15Z", "message": "Add documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjI3NDY3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465627467", "createdAt": "2020-08-12T06:37:30Z", "commit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjozNzozMFrOG_TsbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjozNzozMFrOG_TsbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTAzNjE0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + sqlQuery - The query to executed the SQL stored procedure.\n          \n          \n            \n                # + sqlQuery - The query to executed by the SQL stored procedure.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r469036140", "createdAt": "2020-08-12T06:37:30Z", "author": {"login": "anupama-pathirage"}, "path": "stdlib/database/jdbc/src/main/ballerina/src/java.jdbc/client.bal", "diffHunk": "@@ -96,6 +96,21 @@ public type Client client object {\n         }\n     }\n \n+    # Executes a SQL stored procedure and returns the result as stream and execution summary.\n+    #\n+    # + sqlQuery - The query to executed the SQL stored procedure.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjMyMzAz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465632303", "createdAt": "2020-08-12T06:47:23Z", "commit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjo0NzoyNFrOG_T8kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjo0NzoyNFrOG_T8kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MDI3Mg==", "bodyText": "The convention of using full stop is not properly followed in the api doc statements. Refer below sample by @MaryamZi . No full stop at the end of first sentence of the parameter and return type description and it is there only at function description. Maybe u can fix the newly added docs in this PR and sent another one to fix all the places in db modules in a separate PR as there is a lot of places to fix.\n# Description for the function.\n#\n# + i - One sentence only\n# + s - Sentence one. Sentence two.\n# + return - Return description\npublic function foo(int i, string s) returns boolean {\n    return true;\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r469040272", "createdAt": "2020-08-12T06:47:24Z", "author": {"login": "anupama-pathirage"}, "path": "stdlib/database/jdbc/src/main/ballerina/src/java.jdbc/client.bal", "diffHunk": "@@ -96,6 +96,21 @@ public type Client client object {\n         }\n     }\n \n+    # Executes a SQL stored procedure and returns the result as stream and execution summary.\n+    #\n+    # + sqlQuery - The query to executed the SQL stored procedure.\n+    # + rowTypes - The array of `typedesc` of the records that should be returned as a result. If this is not provided\n+    #               the default column names of the query result set be used for the record attributes.\n+    # + return - Summary of the execution is returned in `ProcedureCallResult` or `sql:Error`.\n+    public remote function call(@untainted sql:ParameterizedCallQuery sqlQuery, typedesc<record {}>[] rowTypes = [])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjQ4NDk5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465648499", "createdAt": "2020-08-12T07:15:44Z", "commit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzoxNTo0NVrOG_UvwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzoxNTo0NVrOG_UvwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA1MzM3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                return ErrorGenerator.getSQLApplicationError(\"Unsupported sql type \" + sqlType);\n          \n          \n            \n                                return ErrorGenerator.getSQLApplicationError(\"Unsupported SQL type \" + sqlType);", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r469053377", "createdAt": "2020-08-12T07:15:45Z", "author": {"login": "anupama-pathirage"}, "path": "stdlib/database/sql/src/main/java/org/ballerinalang/sql/utils/OutParameterUtils.java", "diffHunk": "@@ -0,0 +1,146 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.sql.utils;\n+\n+import org.ballerinalang.jvm.types.BType;\n+import org.ballerinalang.jvm.types.TypeTags;\n+import org.ballerinalang.jvm.values.ObjectValue;\n+import org.ballerinalang.jvm.values.api.BTypedesc;\n+import org.ballerinalang.sql.Constants;\n+import org.ballerinalang.sql.exception.ApplicationError;\n+\n+import java.io.IOException;\n+import java.math.BigDecimal;\n+import java.nio.charset.Charset;\n+import java.sql.Array;\n+import java.sql.Blob;\n+import java.sql.Clob;\n+import java.sql.Date;\n+import java.sql.JDBCType;\n+import java.sql.NClob;\n+import java.sql.RowId;\n+import java.sql.SQLException;\n+import java.sql.SQLXML;\n+import java.sql.Struct;\n+import java.sql.Time;\n+import java.sql.Timestamp;\n+import java.sql.Types;\n+\n+import static org.ballerinalang.sql.utils.Utils.convert;\n+import static org.ballerinalang.sql.utils.Utils.getString;\n+\n+/**\n+ * Util class to process InOut/Out parameters of procedure calls.\n+ */\n+public class OutParameterUtils {\n+\n+    public static Object get(ObjectValue result, BTypedesc typeDesc) {\n+        int sqlType = (int) result.getNativeData(Constants.ParameterObject.SQL_TYPE_NATIVE_DATA);\n+        Object value = result.getNativeData(Constants.ParameterObject.VALUE_NATIVE_DATA);\n+\n+        BType ballerinaType = typeDesc.getDescribingType();\n+        try {\n+            switch (sqlType) {\n+                case Types.CHAR:\n+                case Types.VARCHAR:\n+                case Types.LONGVARCHAR:\n+                case Types.NCHAR:\n+                case Types.NVARCHAR:\n+                case Types.LONGNVARCHAR:\n+                    return convert((String) value, sqlType, ballerinaType);\n+                case Types.BINARY:\n+                case Types.VARBINARY:\n+                case Types.LONGVARBINARY:\n+                    if (ballerinaType.getTag() == TypeTags.STRING_TAG) {\n+                        return convert((String) value, sqlType, ballerinaType);\n+                    } else {\n+                        return convert(((String) value).getBytes(Charset.defaultCharset()), sqlType, ballerinaType,\n+                                JDBCType.valueOf(sqlType).getName());\n+                    }\n+                case Types.ARRAY:\n+                    return convert((Array) value, sqlType, ballerinaType);\n+                case Types.BLOB:\n+                    return convert((Blob) value, sqlType, ballerinaType);\n+                case Types.CLOB:\n+                    String clobValue = getString((Clob) value);\n+                    return convert(clobValue, sqlType, ballerinaType);\n+                case Types.NCLOB:\n+                    String nClobValue = getString((NClob) value);\n+                    return convert(nClobValue, sqlType, ballerinaType);\n+                case Types.DATE:\n+                    return convert((Date) value, sqlType, ballerinaType);\n+                case Types.TIME:\n+                case Types.TIME_WITH_TIMEZONE:\n+                    return convert((Time) value, sqlType, ballerinaType);\n+                case Types.TIMESTAMP:\n+                case Types.TIMESTAMP_WITH_TIMEZONE:\n+                    return convert((Timestamp) value, sqlType, ballerinaType);\n+                case Types.ROWID:\n+                    return convert(((RowId) value).getBytes(), sqlType, ballerinaType, \"SQL RowID\");\n+                case Types.TINYINT:\n+                case Types.SMALLINT:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((int) value, sqlType, ballerinaType, false);\n+                case Types.INTEGER:\n+                case Types.BIGINT:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((long) value, sqlType, ballerinaType, false);\n+                case Types.REAL:\n+                case Types.FLOAT:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((float) value, sqlType, ballerinaType, false);\n+                case Types.DOUBLE:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((double) value, sqlType, ballerinaType, false);\n+                case Types.NUMERIC:\n+                case Types.DECIMAL:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((BigDecimal) value, sqlType, ballerinaType, false);\n+                case Types.BIT:\n+                case Types.BOOLEAN:\n+                    if (value == null) {\n+                        return null;\n+                    }\n+                    return convert((boolean) value, sqlType, ballerinaType, false);\n+                case Types.REF:\n+                case Types.STRUCT:\n+                    return convert((Struct) value, sqlType, ballerinaType);\n+                case Types.SQLXML:\n+                    return convert((SQLXML) value, sqlType, ballerinaType);\n+                default:\n+                    // Cannot reach to Default\n+                    return ErrorGenerator.getSQLApplicationError(\"Unsupported sql type \" + sqlType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "originalPosition": 138}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf1e8e2b43615ce1972aaec542efdd5677b8718a", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cf1e8e2b43615ce1972aaec542efdd5677b8718a", "committedDate": "2020-08-12T08:14:15Z", "message": "Improve call api to support string sqlQuery param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1Njg5NzMy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465689732", "createdAt": "2020-08-12T08:16:50Z", "commit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwODoxNjo1MVrOG_WudQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwODoxNjo1MVrOG_WudQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA4NTgxMw==", "bodyText": "Is this working sample? What is result variable here?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r469085813", "createdAt": "2020-08-12T08:16:51Z", "author": {"login": "anupama-pathirage"}, "path": "stdlib/database/sql/src/main/ballerina/src/sql/Module.md", "diffHunk": "@@ -340,5 +340,30 @@ if (ret is error) {\n }\n ```\n \n+#### Execute SQL stored procedures\n+\n+This example demonstrates how to execute a stored procedure with a single INSERT statement that is executed via the \n+`call` remote function of the client.\n+\n+```ballerina\n+int uid = 10;\n+sql:OutParameter insertId = new;\n+\n+var ret = dbClient->call(`call InsertPerson(${uid}, ${insertId}`);\n+if (ret is error) {\n+    io:println(\"Error occurred:\", err.message());\n+} else {\n+    io:println(\"Outparameter insert id: \", insertId.get(int));\n+    stream<record{}, sql:Error>? resultStr = result.queryResult;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c13c50d731d78b06b6f7eff1297e808fb58df4e"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc5fe546804b504056bf7ef1bdb6fa3e51a64026", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc5fe546804b504056bf7ef1bdb6fa3e51a64026", "committedDate": "2020-08-12T08:20:03Z", "message": "Add test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8978fdc24a2c7d79c6ad6c4a90bae4d8e612f30", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c8978fdc24a2c7d79c6ad6c4a90bae4d8e612f30", "committedDate": "2020-08-12T08:26:40Z", "message": "Fix docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f56de73c037b93fd5e8101d2ed59e50f34eeaeef", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f56de73c037b93fd5e8101d2ed59e50f34eeaeef", "committedDate": "2020-08-12T08:36:45Z", "message": "Fix error messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b21f0dbc5fe3b1d9b726a4543092821a64761e31", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b21f0dbc5fe3b1d9b726a4543092821a64761e31", "committedDate": "2020-08-12T08:41:23Z", "message": "Fix parameter description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NzY3Nzky", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465767792", "createdAt": "2020-08-12T09:59:21Z", "commit": {"oid": "b21f0dbc5fe3b1d9b726a4543092821a64761e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwOTo1OToyMVrOG_adSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwOTo1OToyMVrOG_adSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE0Njk1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            var ret = dbClient->call(`call InsertPerson(${uid}, ${insertId}`);\n          \n          \n            \n            var ret = dbClient->call(`call InsertPerson(${uid}, ${insertId})`);", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#discussion_r469146953", "createdAt": "2020-08-12T09:59:21Z", "author": {"login": "daneshk"}, "path": "stdlib/database/sql/src/main/ballerina/src/sql/Module.md", "diffHunk": "@@ -340,5 +340,30 @@ if (ret is error) {\n }\n ```\n \n+#### Execute SQL stored procedures\n+\n+This example demonstrates how to execute a stored procedure with a single INSERT statement that is executed via the \n+`call` remote function of the client.\n+\n+```ballerina\n+int uid = 10;\n+sql:OutParameter insertId = new;\n+\n+var ret = dbClient->call(`call InsertPerson(${uid}, ${insertId}`);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b21f0dbc5fe3b1d9b726a4543092821a64761e31"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e22104dc37caf25438ab6703681b56c26cea83", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/87e22104dc37caf25438ab6703681b56c26cea83", "committedDate": "2020-08-12T10:10:54Z", "message": "Fix sample\n\nCo-authored-by: Danesh Kuruppu <daneshk@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1ODY2NjM0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25193#pullrequestreview-465866634", "createdAt": "2020-08-12T12:27:20Z", "commit": {"oid": "87e22104dc37caf25438ab6703681b56c26cea83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d253d68720e73c6113aae44b656ca7a9379dbf57", "author": {"user": {"login": "niveathika", "name": "Niveathika"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d253d68720e73c6113aae44b656ca7a9379dbf57", "committedDate": "2020-08-12T12:53:36Z", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into procedure-call"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3629, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}