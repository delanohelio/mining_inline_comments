{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0MzczNjIx", "number": 27382, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzowNzozMFrOFIDFjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzoxMzo1MFrOFIDLGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzOTgzNTAyOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzowNzozMFrOIJwqKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwODowOTo1NlrOIJyGIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNTMyMg==", "bodyText": "use createIdentifier(Location pos, Token token) method to give a name to the missing identifier. otherwise will cause a null pointer exception at the later process.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547105322", "createdAt": "2020-12-22T07:07:30Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2203,7 +2203,18 @@ public BLangNode transform(TrapExpressionNode trapExpressionNode) {\n     @Override\n     public BLangNode transform(ReceiveActionNode receiveActionNode) {\n         BLangWorkerReceive workerReceiveExpr = (BLangWorkerReceive) TreeBuilder.createWorkerReceiveNode();\n-        workerReceiveExpr.setWorkerName(createIdentifier(receiveActionNode.receiveWorkers().name()));\n+        Node receiveWorkers = receiveActionNode.receiveWorkers();\n+        Token workerName;\n+        if (receiveWorkers.kind() == SyntaxKind.SIMPLE_NAME_REFERENCE) {\n+            workerName = ((SimpleNameReferenceNode) receiveWorkers).name();\n+        } else {\n+            // TODO: implement multiple-receive-action support\n+            Location receiveFieldsPos = getPosition(receiveWorkers);\n+            dlog.error(receiveFieldsPos, DiagnosticErrorCode.MULTIPLE_RECEIVE_ACTION_NOT_YET_SUPPORTED);\n+            workerName = NodeFactory.createMissingToken(SyntaxKind.IDENTIFIER_TOKEN,\n+                    NodeFactory.createEmptyMinutiaeList(), NodeFactory.createEmptyMinutiaeList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEyMzYzMg==", "bodyText": "I see. Then we have to do the same here also?\n\n  \n    \n      ballerina-lang/compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java\n    \n    \n        Lines 583 to 584\n      in\n      67c6af3\n    \n    \n    \n    \n\n        \n          \n           variableName = NodeFactory.createMissingToken(SyntaxKind.IDENTIFIER_TOKEN, \n        \n\n        \n          \n                   NodeFactory.createEmptyMinutiaeList(), NodeFactory.createEmptyMinutiaeList());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547123632", "createdAt": "2020-12-22T07:56:40Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2203,7 +2203,18 @@ public BLangNode transform(TrapExpressionNode trapExpressionNode) {\n     @Override\n     public BLangNode transform(ReceiveActionNode receiveActionNode) {\n         BLangWorkerReceive workerReceiveExpr = (BLangWorkerReceive) TreeBuilder.createWorkerReceiveNode();\n-        workerReceiveExpr.setWorkerName(createIdentifier(receiveActionNode.receiveWorkers().name()));\n+        Node receiveWorkers = receiveActionNode.receiveWorkers();\n+        Token workerName;\n+        if (receiveWorkers.kind() == SyntaxKind.SIMPLE_NAME_REFERENCE) {\n+            workerName = ((SimpleNameReferenceNode) receiveWorkers).name();\n+        } else {\n+            // TODO: implement multiple-receive-action support\n+            Location receiveFieldsPos = getPosition(receiveWorkers);\n+            dlog.error(receiveFieldsPos, DiagnosticErrorCode.MULTIPLE_RECEIVE_ACTION_NOT_YET_SUPPORTED);\n+            workerName = NodeFactory.createMissingToken(SyntaxKind.IDENTIFIER_TOKEN,\n+                    NodeFactory.createEmptyMinutiaeList(), NodeFactory.createEmptyMinutiaeList());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNTMyMg=="}, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEyODg2Nw==", "bodyText": "Ah you are calling createIdentifier(Token token) method at the end which will call createIdentifier(Location pos, Token token). So its fine no changes needed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547128867", "createdAt": "2020-12-22T08:09:56Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2203,7 +2203,18 @@ public BLangNode transform(TrapExpressionNode trapExpressionNode) {\n     @Override\n     public BLangNode transform(ReceiveActionNode receiveActionNode) {\n         BLangWorkerReceive workerReceiveExpr = (BLangWorkerReceive) TreeBuilder.createWorkerReceiveNode();\n-        workerReceiveExpr.setWorkerName(createIdentifier(receiveActionNode.receiveWorkers().name()));\n+        Node receiveWorkers = receiveActionNode.receiveWorkers();\n+        Token workerName;\n+        if (receiveWorkers.kind() == SyntaxKind.SIMPLE_NAME_REFERENCE) {\n+            workerName = ((SimpleNameReferenceNode) receiveWorkers).name();\n+        } else {\n+            // TODO: implement multiple-receive-action support\n+            Location receiveFieldsPos = getPosition(receiveWorkers);\n+            dlog.error(receiveFieldsPos, DiagnosticErrorCode.MULTIPLE_RECEIVE_ACTION_NOT_YET_SUPPORTED);\n+            workerName = NodeFactory.createMissingToken(SyntaxKind.IDENTIFIER_TOKEN,\n+                    NodeFactory.createEmptyMinutiaeList(), NodeFactory.createEmptyMinutiaeList());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNTMyMg=="}, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzOTgzOTIwOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzowOToxMFrOIJwsig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzowOToxMFrOIJwsig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNTkzMA==", "bodyText": "Can we add a jballerina-unit-test case to check this error", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547105930", "createdAt": "2020-12-22T07:09:10Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -1610,3 +1610,5 @@ error.invalid.isolated.qualifier.on.module.no.init.var.decl=\\\n \n error.binding.pattern.not.yet.supported.in.module.var.decl=\\\n   ''{0}'' binding pattern not yet supported in module variable declaration\n+\n+error.multiple.receive.action.not.yet.supported=multiple receive action not yet supported", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzOTg0MjM2OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzoxMDozN1rOIJwuZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzo1NzoyMlrOIJxysg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNjQwNg==", "bodyText": "Don't we have parser test cases for multiple receive action?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547106406", "createdAt": "2020-12-22T07:10:37Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "diffHunk": "@@ -3297,7 +3297,7 @@\n                 },\n                 {\n                     \"name\": \"receiveWorkers\",\n-                    \"type\": \"SimpleNameReferenceNode\"\n+                    \"type\": \"Node\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEyMzg5MA==", "bodyText": "We do have. https://github.com/ballerina-platform/ballerina-lang/blob/master/compiler/ballerina-parser/src/test/resources/actions/receive-action/receive_action_source_01.bal", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547123890", "createdAt": "2020-12-22T07:57:22Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "diffHunk": "@@ -3297,7 +3297,7 @@\n                 },\n                 {\n                     \"name\": \"receiveWorkers\",\n-                    \"type\": \"SimpleNameReferenceNode\"\n+                    \"type\": \"Node\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNjQwNg=="}, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzOTg0OTIyOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzoxMzo1MFrOIJwydA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNzo1Nzo1MFrOIJxzaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNzQ0NA==", "bodyText": "Any issue to track this TODO?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547107444", "createdAt": "2020-12-22T07:13:50Z", "author": {"login": "rdulmina"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2203,7 +2203,18 @@ public BLangNode transform(TrapExpressionNode trapExpressionNode) {\n     @Override\n     public BLangNode transform(ReceiveActionNode receiveActionNode) {\n         BLangWorkerReceive workerReceiveExpr = (BLangWorkerReceive) TreeBuilder.createWorkerReceiveNode();\n-        workerReceiveExpr.setWorkerName(createIdentifier(receiveActionNode.receiveWorkers().name()));\n+        Node receiveWorkers = receiveActionNode.receiveWorkers();\n+        Token workerName;\n+        if (receiveWorkers.kind() == SyntaxKind.SIMPLE_NAME_REFERENCE) {\n+            workerName = ((SimpleNameReferenceNode) receiveWorkers).name();\n+        } else {\n+            // TODO: implement multiple-receive-action support", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEyNDA3Mw==", "bodyText": "yes. #18163", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27382#discussion_r547124073", "createdAt": "2020-12-22T07:57:50Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/BLangNodeTransformer.java", "diffHunk": "@@ -2203,7 +2203,18 @@ public BLangNode transform(TrapExpressionNode trapExpressionNode) {\n     @Override\n     public BLangNode transform(ReceiveActionNode receiveActionNode) {\n         BLangWorkerReceive workerReceiveExpr = (BLangWorkerReceive) TreeBuilder.createWorkerReceiveNode();\n-        workerReceiveExpr.setWorkerName(createIdentifier(receiveActionNode.receiveWorkers().name()));\n+        Node receiveWorkers = receiveActionNode.receiveWorkers();\n+        Token workerName;\n+        if (receiveWorkers.kind() == SyntaxKind.SIMPLE_NAME_REFERENCE) {\n+            workerName = ((SimpleNameReferenceNode) receiveWorkers).name();\n+        } else {\n+            // TODO: implement multiple-receive-action support", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwNzQ0NA=="}, "originalCommit": {"oid": "709acf86568bef929c89b0cc12b77b9a988690a0"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2879, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}