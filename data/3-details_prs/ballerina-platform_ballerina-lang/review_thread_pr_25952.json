{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMDEwNDUz", "number": 25952, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwMzo0NzoxMlrOElflIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwMzo1MTozOFrOElfnFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUwMTc4OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormatterUtils.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwMzo0NzoxMlrOHU__4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDowNzoyMFrOHVAMuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4MjExMw==", "bodyText": "Shall we assign the addSpaces value with the if's condition? No need to add an if clause just for setting the variable", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491782113", "createdAt": "2020-09-21T03:47:12Z", "author": {"login": "nadeeshaan"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormatterUtils.java", "diffHunk": "@@ -526,8 +561,12 @@ private static Indentation getBlockParent(Node node) {\n         if (parent.kind() == SyntaxKind.IF_ELSE_STATEMENT) {\n             ArrayList nestedBlock = nestedIfBlock((NonTerminalNode) parent);\n             if (!nestedBlock.isEmpty()) {\n+                boolean addSpaces = false;\n+                if (parent.parent() != null && parent.parent().kind() == SyntaxKind.BLOCK_STATEMENT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NTE4NA==", "bodyText": "Will make the following improvement in a refactoring PR.\nboolean addSpaces = parent.parent() != null && parent.parent().kind() == SyntaxKind.BLOCK_STATEMENT;", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491785184", "createdAt": "2020-09-21T04:06:17Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormatterUtils.java", "diffHunk": "@@ -526,8 +561,12 @@ private static Indentation getBlockParent(Node node) {\n         if (parent.kind() == SyntaxKind.IF_ELSE_STATEMENT) {\n             ArrayList nestedBlock = nestedIfBlock((NonTerminalNode) parent);\n             if (!nestedBlock.isEmpty()) {\n+                boolean addSpaces = false;\n+                if (parent.parent() != null && parent.parent().kind() == SyntaxKind.BLOCK_STATEMENT) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4MjExMw=="}, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NTQwMQ==", "bodyText": "Great, approving the PR upon the above comment", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491785401", "createdAt": "2020-09-21T04:07:20Z", "author": {"login": "nadeeshaan"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormatterUtils.java", "diffHunk": "@@ -526,8 +561,12 @@ private static Indentation getBlockParent(Node node) {\n         if (parent.kind() == SyntaxKind.IF_ELSE_STATEMENT) {\n             ArrayList nestedBlock = nestedIfBlock((NonTerminalNode) parent);\n             if (!nestedBlock.isEmpty()) {\n+                boolean addSpaces = false;\n+                if (parent.parent() != null && parent.parent().kind() == SyntaxKind.BLOCK_STATEMENT) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4MjExMw=="}, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 116}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUwMjY4OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NodeIndentation.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwMzo0ODowM1rOHVAAYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDowNjo0N1rOHVAMXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4MjI0Mg==", "bodyText": "can simplify the addSpaces value assignment by assigning the if condition directly", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491782242", "createdAt": "2020-09-21T03:48:03Z", "author": {"login": "nadeeshaan"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NodeIndentation.java", "diffHunk": "@@ -111,8 +112,20 @@ static int simpleNameReferenceNode(Node node, FormattingOptions options) {\n             }\n         }\n         if (parent != null && parent.kind() == SyntaxKind.FUNCTION_CALL) {\n+            if (grandParent != null && grandParent.kind() == SyntaxKind.CALL_STATEMENT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NTMwOA==", "bodyText": "Will make the following improvement in a refactoring PR.\naddSpaces = grandParent != null && grandParent.kind() == SyntaxKind.CALL_STATEMENT;", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491785308", "createdAt": "2020-09-21T04:06:47Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NodeIndentation.java", "diffHunk": "@@ -111,8 +112,20 @@ static int simpleNameReferenceNode(Node node, FormattingOptions options) {\n             }\n         }\n         if (parent != null && parent.kind() == SyntaxKind.FUNCTION_CALL) {\n+            if (grandParent != null && grandParent.kind() == SyntaxKind.CALL_STATEMENT) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4MjI0Mg=="}, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUwNjc2OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwMzo1MTozOFrOHVACeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDowNzoyN1rOHVAMyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Mjc3Ng==", "bodyText": "Can simplify the addSpaces variable assignment", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491782776", "createdAt": "2020-09-21T03:51:38Z", "author": {"login": "nadeeshaan"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "diffHunk": "@@ -409,12 +418,18 @@ public ReturnTypeDescriptorNode transform(ReturnTypeDescriptorNode returnTypeDes\n         if (!isInLineRange(returnTypeDescriptorNode, lineRange)) {\n             return returnTypeDescriptorNode;\n         }\n+        boolean addSpaces = false;\n+        if (returnTypeDescriptorNode.parent() != null &&\n+                returnTypeDescriptorNode.parent().kind() == SyntaxKind.BLOCK_STATEMENT) {\n+            addSpaces = true;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NTQxNg==", "bodyText": "Will make the following improvement in a refactoring PR.\nboolean addSpaces = returnTypeDescriptorNode.parent() != null && returnTypeDescriptorNode.parent().kind() == SyntaxKind.BLOCK_STATEMENT;", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25952#discussion_r491785416", "createdAt": "2020-09-21T04:07:27Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "diffHunk": "@@ -409,12 +418,18 @@ public ReturnTypeDescriptorNode transform(ReturnTypeDescriptorNode returnTypeDes\n         if (!isInLineRange(returnTypeDescriptorNode, lineRange)) {\n             return returnTypeDescriptorNode;\n         }\n+        boolean addSpaces = false;\n+        if (returnTypeDescriptorNode.parent() != null &&\n+                returnTypeDescriptorNode.parent().kind() == SyntaxKind.BLOCK_STATEMENT) {\n+            addSpaces = true;\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Mjc3Ng=="}, "originalCommit": {"oid": "5ea1c3a1bde5121a198f036f2bc349efe02c5a7f"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4988, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}