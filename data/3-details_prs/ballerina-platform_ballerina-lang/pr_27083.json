{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NjUxMDg1", "number": 27083, "title": "Sync Data mapper code action with latest ballerina api", "bodyText": "Purpose\nSync Data mapper code action with latest ballerina api\nRemarks\n\nAdd unit tests.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-11-23T11:09:41Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083", "merged": true, "mergeCommit": {"oid": "192ac06e246fc1f122e5df355ff28cfa30919a39"}, "closed": true, "closedAt": "2020-11-24T02:12:07Z", "author": {"login": "isuruRuhu"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcCk-tgH2gAyNTI1NjUxMDg1OjhjZDAxZTM1ZWYwNGM2NjU1YzAxNDY4OGI2NjhkOGVhMjA2NDY4MmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfZBBlAFqTUzNjcxODAyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8cd01e35ef04c6655c014688b668d8ea2064682c", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cd01e35ef04c6655c014688b668d8ea2064682c", "committedDate": "2020-11-13T08:07:19Z", "message": "Test blang"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a37e5ef2ef76136f33e365305f4825f7354fc52", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5a37e5ef2ef76136f33e365305f4825f7354fc52", "committedDate": "2020-11-16T05:42:37Z", "message": "Test sementic model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab580ec1a4b4ba1650f3b7f48190b319a52a26c5", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ab580ec1a4b4ba1650f3b7f48190b319a52a26c5", "committedDate": "2020-11-16T06:56:05Z", "message": "Test sementic model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23fe4b1783e5795aee32b67ff145d78958b87a98", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/23fe4b1783e5795aee32b67ff145d78958b87a98", "committedDate": "2020-11-23T05:46:43Z", "message": "Merge upstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ce11b55d8fcd9df5b3d2b9b4cc0b60d8cf338db", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3ce11b55d8fcd9df5b3d2b9b4cc0b60d8cf338db", "committedDate": "2020-11-23T10:51:30Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eec91b6c122fb1f934a3f87f10cc65e06ec122e4", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/eec91b6c122fb1f934a3f87f10cc65e06ec122e4", "committedDate": "2020-11-23T11:03:10Z", "message": "Sync datamapper codeaction with latest api changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73d05d8178626df3f9d6cd09183751b8a505a9e3", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/73d05d8178626df3f9d6cd09183751b8a505a9e3", "committedDate": "2020-11-23T11:04:24Z", "message": "Update datamapper codeaction unit tests utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44b9a899d509e1b1b9ce6eb235a6abbaaf8ff3e1", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44b9a899d509e1b1b9ce6eb235a6abbaaf8ff3e1", "committedDate": "2020-11-23T11:48:54Z", "message": "Fix checkstyle issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "710ae9a255b6b65d6ee7f026f333484ddc04ac95", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/710ae9a255b6b65d6ee7f026f333484ddc04ac95", "committedDate": "2020-11-23T11:58:09Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2Njg0MTE0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#pullrequestreview-536684114", "createdAt": "2020-11-23T17:14:45Z", "commit": {"oid": "710ae9a255b6b65d6ee7f026f333484ddc04ac95"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxNzoxNDo0NVrOH4XfAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxNzoxNToyM1rOH4Xgpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzA3NA==", "bodyText": "Shall we remove unnecessary methods from Test Util?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528867074", "createdAt": "2020-11-23T17:14:45Z", "author": {"login": "rasika"}, "path": "misc/ballerinalang-data-mapper/src/test/java/org/ballerinalang/datamapper/util/TestUtil.java", "diffHunk": "@@ -64,17 +81,150 @@\n  */\n public class TestUtil {\n \n+    private static final String HOVER = \"textDocument/hover\";\n+\n+    private static final String CODELENS = \"textDocument/codeLens\";\n+\n+    private static final String COMPLETION = \"textDocument/completion\";\n+\n+    private static final String SIGNATURE_HELP = \"textDocument/signatureHelp\";\n+\n+    private static final String DEFINITION = \"textDocument/definition\";\n+\n+    private static final String REFERENCES = \"textDocument/references\";\n+\n+    private static final String RENAME = \"textDocument/rename\";\n+\n+    private static final String EXECUTE_COMMAND = \"workspace/executeCommand\";\n+\n     private static final String CODE_ACTION = \"textDocument/codeAction\";\n \n+    private static final String FORMATTING = \"textDocument/formatting\";\n+\n+    private static final String IMPLEMENTATION = \"textDocument/implementation\";\n+\n+    private static final String DOCUMENT_SYMBOL = \"textDocument/documentSymbol\";\n+\n+    private static final String WORKSPACE_SYMBOL_COMMAND = \"workspace/symbol\";\n+\n     private static final String WORKSPACE_CONFIG_CHANGE = \"workspace/didChangeConfiguration\";\n \n     private static final Gson GSON = new Gson();\n \n-    private static final WorkspaceManager workspaceManager = new BallerinaWorkspaceManager();\n-\n     private TestUtil() {\n     }\n \n+    /**\n+     * Get the textDocument/hover response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param position        Cursor Position\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getHoverResponse(String filePath, Position position, Endpoint serviceEndpoint) {\n+        CompletableFuture result = serviceEndpoint.request(HOVER, getTextDocumentPositionParams(filePath, position));\n+        return getResponseString(result);\n+    }\n+\n+    /**\n+     * Get the textDocument/codeLens response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getCodeLensesResponse(String filePath, Endpoint serviceEndpoint) {\n+        TextDocumentIdentifier identifier = getTextDocumentIdentifier(filePath);\n+        CodeLensParams codeLensParams = new CodeLensParams(identifier);\n+        CompletableFuture result = serviceEndpoint.request(CODELENS, codeLensParams);\n+        return getResponseString(result);\n+    }\n+\n+    /**\n+     * Get the textDocument/completion response.\n+     *\n+     * @param filePath Path of the Bal file\n+     * @param position Cursor Position\n+     * @param endpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getCompletionResponse(String filePath, Position position, Endpoint endpoint) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "710ae9a255b6b65d6ee7f026f333484ddc04ac95"}, "originalPosition": 151}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzQ5NA==", "bodyText": "Shall we remove unnecessary methods from Test Util? Please revisit all methods in this class", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528867494", "createdAt": "2020-11-23T17:15:23Z", "author": {"login": "rasika"}, "path": "misc/ballerinalang-data-mapper/src/test/java/org/ballerinalang/datamapper/util/TestUtil.java", "diffHunk": "@@ -64,17 +81,150 @@\n  */\n public class TestUtil {\n \n+    private static final String HOVER = \"textDocument/hover\";\n+\n+    private static final String CODELENS = \"textDocument/codeLens\";\n+\n+    private static final String COMPLETION = \"textDocument/completion\";\n+\n+    private static final String SIGNATURE_HELP = \"textDocument/signatureHelp\";\n+\n+    private static final String DEFINITION = \"textDocument/definition\";\n+\n+    private static final String REFERENCES = \"textDocument/references\";\n+\n+    private static final String RENAME = \"textDocument/rename\";\n+\n+    private static final String EXECUTE_COMMAND = \"workspace/executeCommand\";\n+\n     private static final String CODE_ACTION = \"textDocument/codeAction\";\n \n+    private static final String FORMATTING = \"textDocument/formatting\";\n+\n+    private static final String IMPLEMENTATION = \"textDocument/implementation\";\n+\n+    private static final String DOCUMENT_SYMBOL = \"textDocument/documentSymbol\";\n+\n+    private static final String WORKSPACE_SYMBOL_COMMAND = \"workspace/symbol\";\n+\n     private static final String WORKSPACE_CONFIG_CHANGE = \"workspace/didChangeConfiguration\";\n \n     private static final Gson GSON = new Gson();\n \n-    private static final WorkspaceManager workspaceManager = new BallerinaWorkspaceManager();\n-\n     private TestUtil() {\n     }\n \n+    /**\n+     * Get the textDocument/hover response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param position        Cursor Position\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getHoverResponse(String filePath, Position position, Endpoint serviceEndpoint) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "710ae9a255b6b65d6ee7f026f333484ddc04ac95"}, "originalPosition": 124}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e99b524ae104ac22c99f6b71a883f709338c6d66", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e99b524ae104ac22c99f6b71a883f709338c6d66", "committedDate": "2020-11-23T17:42:03Z", "message": "Remove the unused methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "688e484d503eea4cf6728f991ea9706f39b182eb", "author": {"user": {"login": "isuruRuhu", "name": "Isuru Ruhunage"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/688e484d503eea4cf6728f991ea9706f39b182eb", "committedDate": "2020-11-23T17:42:24Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NzE4MDI5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#pullrequestreview-536718029", "createdAt": "2020-11-23T17:57:38Z", "commit": {"oid": "688e484d503eea4cf6728f991ea9706f39b182eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4957, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}