{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5Njk0NDA1", "number": 26581, "title": "Fixed parameter types of Syntax API factory methods", "bodyText": "Purpose\nSome of the Syntax API factory calls accept the wrong type of parameter causing some syntax trees unable to create.\nFixes #26440\nFixes #26415\nFixes #26378\nApproach\nModified the treegen configuration JSON file and regenerated the code. And the SeparatedNodeList creation method was also fixed to accept the correct type of node.\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-26T00:37:37Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581", "merged": true, "mergeCommit": {"oid": "ada4e165e83a20548dbf9f3d5eda6933df7737c9"}, "closed": true, "closedAt": "2020-10-27T11:03:28Z", "author": {"login": "kdsuneraavinash"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVKG_iAH2gAyNTA5Njk0NDA1OjkyY2MxYjYxYzQzZTZmNzk2ZWU5OTRkNDZiOThiOGIwNDE0ODM4Zjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWm6ANgFqTUxNzU4MTA0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92cc1b61c43e6f796ee994d46b98b8b0414838f7", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/92cc1b61c43e6f796ee994d46b98b8b0414838f7", "committedDate": "2020-10-22T22:56:20Z", "message": "Fixed node factory issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59dcc1d1743f2b9e94e21219238ad3348e70ccdd", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59dcc1d1743f2b9e94e21219238ad3348e70ccdd", "committedDate": "2020-10-22T22:56:38Z", "message": "Fixed SeparatedNodeList function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62ca9ec4714ddb4fb034141f41ddc410d16315b4", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/62ca9ec4714ddb4fb034141f41ddc410d16315b4", "committedDate": "2020-10-26T20:12:27Z", "message": "Fixed syntax errors in blang transformer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78f9dcd510f44df8b800ea0d6fb19fe4c61bfc07", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/78f9dcd510f44df8b800ea0d6fb19fe4c61bfc07", "committedDate": "2020-10-26T20:27:55Z", "message": "Removed unused import statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "063c0017984d0eea8296d376e91240d640b87e05", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/063c0017984d0eea8296d376e91240d640b87e05", "committedDate": "2020-10-26T20:43:39Z", "message": "Fixed syntax errors in FormattingTreeModifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3", "committedDate": "2020-10-26T21:04:26Z", "message": "Removed star import from FormattingTreeModifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MzA0OTc4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#pullrequestreview-517304978", "createdAt": "2020-10-27T02:30:26Z", "commit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMjozMDoyNlrOHopLQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMjozODo0NVrOHopUaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM3OTcxMg==", "bodyText": "Any idea why do we need this change?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#discussion_r512379712", "createdAt": "2020-10-27T02:30:26Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "diffHunk": "@@ -2877,7 +2878,7 @@\n                 },\n                 {\n                     \"name\": \"intermediateClauses\",\n-                    \"type\": \"IntermediateClauseNode\",\n+                    \"type\": \"ClauseNode\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM3OTc4Ng==", "bodyText": "and this one too?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#discussion_r512379786", "createdAt": "2020-10-27T02:30:42Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "diffHunk": "@@ -2173,7 +2174,7 @@\n                 },\n                 {\n                     \"name\": \"content\",\n-                    \"type\": \"TemplateMemberNode\",\n+                    \"type\": \"Node\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM3OTg3Mg==", "bodyText": "Shall we remove this extra newline?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#discussion_r512379872", "createdAt": "2020-10-27T02:31:03Z", "author": {"login": "SupunS"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "diffHunk": "@@ -17,6 +17,7 @@\n  */\n package org.ballerinalang.formatter.core;\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM4MDMyNw==", "bodyText": "Formatting properties of the annotations should be changed depending on the existence of the type.\nCan you create an issue to track this?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#discussion_r512380327", "createdAt": "2020-10-27T02:32:43Z", "author": {"login": "SupunS"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "diffHunk": "@@ -1391,7 +1391,7 @@ public TypeCastExpressionNode transform(TypeCastExpressionNode typeCastExpressio\n     @Override\n     public TypeCastParamNode transform(TypeCastParamNode typeCastParamNode) {\n         NodeList<AnnotationNode> annotations = formatNodeList(typeCastParamNode.annotations(), 0, 1, 1, 0);\n-        Node type = formatNode(typeCastParamNode.type(), env.trailingWS, env.trailingNL);\n+        Node type = formatNode(typeCastParamNode.type().orElse(null), env.trailingWS, env.trailingNL);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM4MjA1Nw==", "bodyText": "Do we need to change the parameter type from the generic type T to Node?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#discussion_r512382057", "createdAt": "2020-10-27T02:38:45Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/syntax/tree/AbstractNodeFactory.java", "diffHunk": "@@ -189,17 +189,17 @@ public static Minutiae createEndOfLineMinutiae(String text) {\n                         .collect(Collectors.toList())).createUnlinkedFacade());\n     }\n \n-    public static <T extends Node> NodeList<T> createSeparatedNodeList(T... nodes) {\n+    public static <T extends Node> SeparatedNodeList<T> createSeparatedNodeList(Node... nodes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec29a782d9bbc740bb53e68ddb58e31ddc43c9f3"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "766541343f39652ab5028c88b7b5032999741e2b", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/766541343f39652ab5028c88b7b5032999741e2b", "committedDate": "2020-10-27T09:20:27Z", "message": "Removed trailing space"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "318483b606dbf9ab9561dd2c73780805874d011b", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/318483b606dbf9ab9561dd2c73780805874d011b", "committedDate": "2020-10-27T09:46:50Z", "message": "Change OrderByClauseNode to a IntermediateClauseNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49dba2f9d27a646c7a9f01aebb4e3e774f63b9a8", "author": {"user": {"login": "kdsuneraavinash", "name": "K.D. Sunera Avinash Chandrasiri"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/49dba2f9d27a646c7a9f01aebb4e3e774f63b9a8", "committedDate": "2020-10-27T10:06:54Z", "message": "Removed TemplateMemberNode class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NTgxMDQ3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26581#pullrequestreview-517581047", "createdAt": "2020-10-27T11:03:19Z", "commit": {"oid": "49dba2f9d27a646c7a9f01aebb4e3e774f63b9a8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4265, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}