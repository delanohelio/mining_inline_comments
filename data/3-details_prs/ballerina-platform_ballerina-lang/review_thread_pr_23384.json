{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNTEwNzc1", "number": 23384, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo1ODozMVrOD-VG6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwNTowOTo0MVrOD-ebRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njg0MTM5OnYy", "diffSide": "RIGHT", "path": "bvm/ballerina-core/src/main/java/org/ballerinalang/model/types/BReadonlyType.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo1ODozMVrOGYXdVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo1ODozMVrOGYXdVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIwMzM0OQ==", "bodyText": "Wrong year", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428203349", "createdAt": "2020-05-20T17:58:31Z", "author": {"login": "hasithaa"}, "path": "bvm/ballerina-core/src/main/java/org/ballerinalang/model/types/BReadonlyType.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ *  Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njg1OTAzOnYy", "diffSide": "RIGHT", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/TypeChecker.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODowMzoyM1rOGYXozw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMjozODoyN1rOGYxPWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIwNjI4Nw==", "bodyText": "Need to check cause as well.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428206287", "createdAt": "2020-05-20T18:03:23Z", "author": {"login": "hasithaa"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/TypeChecker.java", "diffHunk": "@@ -2078,8 +2075,9 @@ private static boolean isEqual(ErrorValue lhsError, ErrorValue rhsError, List<Va\n         }\n         checkedValues.add(compValuePair);\n \n-        return isEqual(lhsError.getReason(), rhsError.getReason(), checkedValues) &&\n-                isEqual((MapValueImpl) lhsError.getDetails(), (MapValueImpl) rhsError.getDetails(), checkedValues);\n+        return isEqual(lhsError.getMessage(), rhsError.getMessage(), checkedValues) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODYyNTc1NA==", "bodyText": "Line:2080 does that", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428625754", "createdAt": "2020-05-21T12:38:27Z", "author": {"login": "rdhananjaya"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/TypeChecker.java", "diffHunk": "@@ -2078,8 +2075,9 @@ private static boolean isEqual(ErrorValue lhsError, ErrorValue rhsError, List<Va\n         }\n         checkedValues.add(compValuePair);\n \n-        return isEqual(lhsError.getReason(), rhsError.getReason(), checkedValues) &&\n-                isEqual((MapValueImpl) lhsError.getDetails(), (MapValueImpl) rhsError.getDetails(), checkedValues);\n+        return isEqual(lhsError.getMessage(), rhsError.getMessage(), checkedValues) &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIwNjI4Nw=="}, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Njg5NzYzOnYy", "diffSide": "RIGHT", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxNDo1M1rOGYYB6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxNDo1M1rOGYYB6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIxMjcxNQ==", "bodyText": "This is going to replace with type-ids. isn't it?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428212715", "createdAt": "2020-05-20T18:14:53Z", "author": {"login": "hasithaa"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "diffHunk": "@@ -127,18 +139,18 @@ public String toString() {\n      *\n      * @return reason string\n      */\n-    @Deprecated\n-    public String getReason() {\n-        return reason.getValue();\n+    // todo: How do we handle this?\n+//    public BString getErrorReason() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 92}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjkwNDA0OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/BIRPackageSymbolEnter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxNjozNFrOGYYF1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODoxNjozNFrOGYYF1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIxMzcxOA==", "bodyText": "Let's remove this.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428213718", "createdAt": "2020-05-20T18:16:34Z", "author": {"login": "hasithaa"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/BIRPackageSymbolEnter.java", "diffHunk": "@@ -972,9 +974,8 @@ BType readType(int cpI) throws IOException {\n                     pkgCpIndex = inputStream.readInt();\n                     pkgId = getPackageId(pkgCpIndex);\n                     String errorName = getStringCPEntryValue(inputStream);\n-                    BType reasonType = readTypeFromCp();\n+//                    BType reasonType = readTypeFromCp();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2ODM2ODA1OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SemanticAnalyzer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwNTowOTo0MVrOGYmWig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMzozMDoxOFrOGYy0aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQ0NzM3MA==", "bodyText": "This is no longer valid, isn't it?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428447370", "createdAt": "2020-05-21T05:09:41Z", "author": {"login": "hasithaa"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SemanticAnalyzer.java", "diffHunk": "@@ -481,14 +480,6 @@ public void visit(BLangRecordTypeNode recordTypeNode) {\n \n     @Override\n     public void visit(BLangErrorType errorType) {\n-        BType reasonType = getReasonType(errorType);\n-\n-        if (!types.isAssignable(reasonType, symTable.stringType)) {\n-            dlog.error(errorType.reasonType.pos, DiagnosticCode.INVALID_ERROR_REASON_TYPE, reasonType);\n-        } else if (errorType.reasonType != null) {\n-            validateModuleQualifiedReasons(errorType.reasonType.pos, reasonType);\n-        }\n-\n         if (errorType.detailType == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY1MTYyNA==", "bodyText": "We can still have something like type F error\nhttps://ballerina.io/ballerina-spec/spec.html#section_5.5.1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23384#discussion_r428651624", "createdAt": "2020-05-21T13:30:18Z", "author": {"login": "rdhananjaya"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SemanticAnalyzer.java", "diffHunk": "@@ -481,14 +480,6 @@ public void visit(BLangRecordTypeNode recordTypeNode) {\n \n     @Override\n     public void visit(BLangErrorType errorType) {\n-        BType reasonType = getReasonType(errorType);\n-\n-        if (!types.isAssignable(reasonType, symTable.stringType)) {\n-            dlog.error(errorType.reasonType.pos, DiagnosticCode.INVALID_ERROR_REASON_TYPE, reasonType);\n-        } else if (errorType.reasonType != null) {\n-            validateModuleQualifiedReasons(errorType.reasonType.pos, reasonType);\n-        }\n-\n         if (errorType.detailType == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODQ0NzM3MA=="}, "originalCommit": {"oid": "39146b21017f43d351a16b2e60288edf4f1a246e"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3563, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}