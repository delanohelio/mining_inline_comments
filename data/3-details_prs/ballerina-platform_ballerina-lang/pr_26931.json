{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxMTY2OTU1", "number": 26931, "title": "Refactor Interop validation into separate phase", "bodyText": "Purpose\nFixes #26771\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-11-15T09:12:48Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931", "merged": true, "mergeCommit": {"oid": "d11842d385e38d6c0740dcba77be96751eab7e5f"}, "closed": true, "closedAt": "2020-12-23T05:10:33Z", "author": {"login": "warunalakshitha"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcssBIgH2gAyNTIxMTY2OTU1OjNlYzBkZjQxMDRkNzhkMjBlNzJiMzc0MjRjNDNiZGEzODcxZTA0Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdo4BadAFqTU1NzY0MzcxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3ec0df4104d78d20e72b37424c43bda3871e04b9", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3ec0df4104d78d20e72b37424c43bda3871e04b9", "committedDate": "2020-11-15T09:11:01Z", "message": "Add bir emit and interop validate compile phases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c62eb9544baea87843ef35d94d0840299d9bd6dd", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c62eb9544baea87843ef35d94d0840299d9bd6dd", "committedDate": "2020-11-15T09:13:38Z", "message": "Merge branch master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c23f9fdca1dc313b880ef93e2e139db326386d2", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3c23f9fdca1dc313b880ef93e2e139db326386d2", "committedDate": "2020-11-15T13:38:07Z", "message": "Add interop validation to test modules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30b02740b1b21aea4b26288d7f8c8a7f817254de", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30b02740b1b21aea4b26288d7f8c8a7f817254de", "committedDate": "2020-12-10T10:18:26Z", "message": "Merge master branch and fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b54f4622dece6d232d1fa108738d54f275ed8355", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b54f4622dece6d232d1fa108738d54f275ed8355", "committedDate": "2020-12-10T10:33:41Z", "message": "Remove interop compiler phase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDY1MzYy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#pullrequestreview-549065362", "createdAt": "2020-12-10T10:39:57Z", "commit": {"oid": "b54f4622dece6d232d1fa108738d54f275ed8355"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDozOTo1N1rOIDCtrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDozOTo1N1rOIDCtrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA2MTEwMQ==", "bodyText": "Do we need interopvalidate here. Codegen function is empty with new changes.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#discussion_r540061101", "createdAt": "2020-12-10T10:39:57Z", "author": {"login": "warunalakshitha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/CompilerDriver.java", "diffHunk": "@@ -389,6 +403,6 @@ private BPackageSymbol getLangModuleFromSource(PackageID modID) {\n             return null;\n         }\n \n-        return codeGen(birGen(desugar(pkg))).symbol;\n+        return codeGen(birEmit(birGen(desugar(pkg)))).symbol;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54f4622dece6d232d1fa108738d54f275ed8355"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d22a72c3c75af5987cac06de519e5df06496b1fd", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d22a72c3c75af5987cac06de519e5df06496b1fd", "committedDate": "2020-12-11T06:54:12Z", "message": "Fix checkstyle issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb77e35579ac257bc04bc2797a6651e3d6766f7f", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb77e35579ac257bc04bc2797a6651e3d6766f7f", "committedDate": "2020-12-11T10:07:47Z", "message": "Merge branch master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f2eded42ac3b291bb1ff90923b71df5e303aa3", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e4f2eded42ac3b291bb1ff90923b71df5e303aa3", "committedDate": "2020-12-14T07:02:56Z", "message": "Merge master branch and fix conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjUwMTgy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#pullrequestreview-551250182", "createdAt": "2020-12-14T10:48:29Z", "commit": {"oid": "e4f2eded42ac3b291bb1ff90923b71df5e303aa3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDo0ODozMFrOIFKnjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDo0ODozMFrOIFKnjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI4Nzc1Ng==", "bodyText": "Can we check whether pkgName and orgName would be same values that can be used from BIRPackage module here?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#discussion_r542287756", "createdAt": "2020-12-14T10:48:30Z", "author": {"login": "Kishanthan"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/JvmPackageGen.java", "diffHunk": "@@ -596,9 +591,7 @@ private void linkGlobalVars(BIRPackage module, String pkgName, String initClass,\n         globalVarClassMap.put(pkgName + LOCK_STORE_VAR_NAME, initClass);\n     }\n \n-    private void linkTypeDefinitions(BIRPackage module, String pkgName,\n-                                     InteropValidator interopValidator,\n-                                     boolean isEntry, String orgName,\n+    private void linkTypeDefinitions(BIRPackage module, String pkgName, boolean isEntry, String orgName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4f2eded42ac3b291bb1ff90923b71df5e303aa3"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjUxMzc4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#pullrequestreview-551251378", "createdAt": "2020-12-14T10:49:59Z", "commit": {"oid": "e4f2eded42ac3b291bb1ff90923b71df5e303aa3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDo0OTo1OVrOIFKrpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDo0OTo1OVrOIFKrpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI4ODgwNw==", "bodyText": "Any way we could check and see whether we can get rid of this flag isEntry and have separate functions.? That given better readability IMO.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#discussion_r542288807", "createdAt": "2020-12-14T10:49:59Z", "author": {"login": "Kishanthan"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/JvmPackageGen.java", "diffHunk": "@@ -545,13 +543,10 @@ private boolean listenerDeclarationFound(List<BIRGlobalVariableDcl> variableDcls\n      *\n      * @param module           bir module\n      * @param initClass        module init class name\n-     * @param interopValidator interop validator instance\n      * @param isEntry          is entry module flag\n      * @return The map of javaClass records on given source file name\n      */\n-    private Map<String, JavaClass> generateClassNameLinking(BIRPackage module, String initClass,\n-                                                            InteropValidator interopValidator,\n-                                                            boolean isEntry) {\n+    private Map<String, JavaClass> generateClassNameLinking(BIRPackage module, String initClass, boolean isEntry) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4f2eded42ac3b291bb1ff90923b71df5e303aa3"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3a05ff29d23c70b4a0942bce1586d8907c95f99", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b3a05ff29d23c70b4a0942bce1586d8907c95f99", "committedDate": "2020-12-16T11:00:56Z", "message": "Merge master branch changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "720e28afd7aacb3badde9435841f3633bec5a361", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/720e28afd7aacb3badde9435841f3633bec5a361", "committedDate": "2020-12-16T15:16:53Z", "message": "Fix kaitai build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "877674d87fbbf61456d6af267ae94bedbdcc2268", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/877674d87fbbf61456d6af267ae94bedbdcc2268", "committedDate": "2020-12-16T15:17:51Z", "message": "Enable dump bir and dump file file options"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0cc1e2c1d2650a7e4f5e61e9e4d5153f4f05615", "author": {"user": {"login": "warunalakshitha", "name": "Waruna Lakshitha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b0cc1e2c1d2650a7e4f5e61e9e4d5153f4f05615", "committedDate": "2020-12-17T04:30:35Z", "message": "Fix checkstyle issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NjQzNzE4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26931#pullrequestreview-557643718", "createdAt": "2020-12-23T05:10:26Z", "commit": {"oid": "b0cc1e2c1d2650a7e4f5e61e9e4d5153f4f05615"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4878, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}