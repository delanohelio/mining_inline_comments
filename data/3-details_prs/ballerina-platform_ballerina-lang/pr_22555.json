{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNTcxMDMy", "number": 22555, "title": "Add optional type support", "bodyText": "Purpose\nAdd optional type support to new parser with recovery logic and test cases.\nFixes #22066\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-04-09T18:11:59Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555", "merged": true, "mergeCommit": {"oid": "08137117a6941792b153675f1a53ee3bc18d0976"}, "closed": true, "closedAt": "2020-04-11T06:12:40Z", "author": {"login": "rdulmina"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV6AbNgH2gAyNDAxNTcxMDMyOmU4OTFlMTBmMzY1NWU0NWUxZDJlYmU0MTY2M2JlMTc1MzY1MGVmYjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWR-uhgFqTM5MTQ3MjAyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e891e10f3655e45e1d2ebe41663be1753650efb3", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e891e10f3655e45e1d2ebe41663be1753650efb3", "committedDate": "2020-04-09T10:33:27Z", "message": "Optional type support with recovery logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9255d121a440bc78f5d02b87d486049ee57209b", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9255d121a440bc78f5d02b87d486049ee57209b", "committedDate": "2020-04-09T17:50:21Z", "message": "Test cases for the optional type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "401a5858046cd5dd525121e61573e7ab09a2e4af", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/401a5858046cd5dd525121e61573e7ab09a2e4af", "committedDate": "2020-04-09T17:59:05Z", "message": "Resolved merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2739ff2732df7a58b973fcbcb52acbec97093b07", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2739ff2732df7a58b973fcbcb52acbec97093b07", "committedDate": "2020-04-09T18:10:03Z", "message": "Removed extra new lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c951518cecff9cdb4a370aff60ddf570441aa440", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c951518cecff9cdb4a370aff60ddf570441aa440", "committedDate": "2020-04-10T04:32:54Z", "message": "Changed the logic of detecting the optional type descriptor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d99444dba942b2363d4163cc753f234726a288f6", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d99444dba942b2363d4163cc753f234726a288f6", "committedDate": "2020-04-10T04:33:26Z", "message": "Merge branch 'incremental-parser' of https://github.com/ballerina-platform/ballerina-lang into incremental-parser"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c38aeaf5265b74f843b95ae22ba4be5dc68f23a9", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c38aeaf5265b74f843b95ae22ba4be5dc68f23a9", "committedDate": "2020-04-10T05:18:19Z", "message": "Modified optional type descriptor node.\n\nModified OptionalTypeDescriptor.java and other necessory changes to match with the new Node style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjc2NTk3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555#pullrequestreview-391276597", "createdAt": "2020-04-10T05:46:40Z", "commit": {"oid": "c38aeaf5265b74f843b95ae22ba4be5dc68f23a9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTo0Njo0MFrOGDxppw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwNTo0Njo0MFrOGDxppw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMjM5MQ==", "bodyText": "Since we push to the context stack when entering the optional-type-desc, we need to pop it too, when exiting from it.\nWe usually do that in the getNextRule().", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555#discussion_r406612391", "createdAt": "2020-04-10T05:46:40Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParserErrorHandler.java", "diffHunk": "@@ -1232,6 +1234,7 @@ private ParserRuleContext getNextRule(ParserRuleContext currentCtx, int nextLook\n             case CONSTANT_DECL:\n             case NIL_TYPE_DESCRIPTOR:\n             case COMPOUND_ASSIGNMENT_STMT:\n+            case OPTIONAL_TYPE_DESCRIPTOR:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c38aeaf5265b74f843b95ae22ba4be5dc68f23a9"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30f7357c9e7911bbbfb4f97733588d130699cb70", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30f7357c9e7911bbbfb4f97733588d130699cb70", "committedDate": "2020-04-10T08:13:32Z", "message": "End contex after parsing the optional type\n\nIn the recovery logic after seen a question mark, if the parent contex is optional type descriptor then end the contex"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNDcyMDIx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555#pullrequestreview-391472021", "createdAt": "2020-04-10T14:29:19Z", "commit": {"oid": "30f7357c9e7911bbbfb4f97733588d130699cb70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3854, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}