{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMwNzYzNjg5", "number": 23787, "title": "Fix missing param issue in interop pararmTypes constrain", "bodyText": "Purpose\nThis PR fixes the issue when resolving method based on the param type constraint, where we have to skip further processing when the given constraint params are less than of the method's params.\nFixes #23488\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-06-08T05:42:33Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23787", "merged": true, "mergeCommit": {"oid": "9dd872f87af6f9c45ebb70f7954637f789f3b561"}, "closed": true, "closedAt": "2020-06-11T08:22:29Z", "author": {"login": "Kishanthan"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpJsCAgH2gAyNDMwNzYzNjg5OjZiMzRkYTZmZDQ3ZGFhM2NmYzNmMmVmNTFmZjQxMDg2MWFmYWJlOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqIhk6gBqjM0MzI3MTQwNDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b34da6fd47daa3cfc3f2ef51ff410861afabe94", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6b34da6fd47daa3cfc3f2ef51ff410861afabe94", "committedDate": "2020-06-08T05:34:13Z", "message": "Skip further processing when constraint params are less in size\n\nWhen resolving method based on the param type constraint, we have\nto skip when the given constraint params are less than of the\nmethod's params"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05829945e678320d76adeafa5242eeef6ce734a3", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/05829945e678320d76adeafa5242eeef6ce734a3", "committedDate": "2020-06-08T05:37:21Z", "message": "Add test cases to verify constraint param length"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f31eb05feac8156c7626891a64172c9b15eea7c", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0f31eb05feac8156c7626891a64172c9b15eea7c", "committedDate": "2020-06-08T05:37:45Z", "message": "Merge branch 'master' into fix-23488"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c32150468c0d81802447d537779b1e10730e4058", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c32150468c0d81802447d537779b1e10730e4058", "committedDate": "2020-06-08T06:21:41Z", "message": "Remove unwanted param constraint for hashCode native method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "860631b637ea0b1fbd361d4d024d2208be321d5e", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/860631b637ea0b1fbd361d4d024d2208be321d5e", "committedDate": "2020-06-08T06:22:51Z", "message": "Skip if the given constraint params are not of the same size\n\nWe have to check both constraint and method params length and\nskip the processing if they are not the same."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b714fb13a142a8f6d172477e91adaf9a86c2b6a", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b714fb13a142a8f6d172477e91adaf9a86c2b6a", "committedDate": "2020-06-08T06:24:39Z", "message": "Add more test cases with different constraint params"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7207b3f6b3731ae2c910f962bffae08d7d1a8a9c", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7207b3f6b3731ae2c910f962bffae08d7d1a8a9c", "committedDate": "2020-06-08T09:39:13Z", "message": "Remove extra String param from constraint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2Njk4MzM0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23787#pullrequestreview-426698334", "createdAt": "2020-06-08T23:54:17Z", "commit": {"oid": "7207b3f6b3731ae2c910f962bffae08d7d1a8a9c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMzo1NDoxN1rOGg0Mzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMzo1NjowOFrOGg0Ovw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA2Mjg2Mw==", "bodyText": "Shall we make  \"method_not_found6.bal\" a local variable?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23787#discussion_r437062863", "createdAt": "2020-06-08T23:54:17Z", "author": {"login": "riyafa"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/javainterop/basic/NegativeValidationTest.java", "diffHunk": "@@ -118,6 +118,41 @@ public void testMethodNotFound5() {\n                 \"method_not_found5.bal\", 23, 1);\n     }\n \n+    @Test\n+    public void testMethodNotFound6() {\n+\n+        String path = \"test-src/javainterop/negative/method_not_found6.bal\";\n+\n+        CompileResult compileResult = BCompileUtil.compileInProc(path);\n+        compileResult.getDiagnostics();\n+        Assert.assertEquals(compileResult.getDiagnostics().length, 4);\n+        BAssertUtil.validateError(compileResult, 0,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getFuture' that matches with parameter \" +\n+                        \"types '(org.ballerinalang.jvm.values.api.BTypedesc)' found in class \" +\n+                        \"'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 3, 1);\n+\n+        BAssertUtil.validateError(compileResult, 1,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getTypeDesc' that matches with parameter \" +\n+                        \"types '(org.ballerinalang.jvm.values.api.BFuture)' found in class \" +\n+                        \"'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 9, 1);\n+\n+        BAssertUtil.validateError(compileResult, 2,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getFutureOnly' that \" +\n+                        \"matches with parameter types \" +\n+                        \"'(org.ballerinalang.jvm.values.api.BFuture,org.ballerinalang.jvm.values.api.BTypedesc)' \" +\n+                        \"found in class 'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 15, 1);\n+\n+        BAssertUtil.validateError(compileResult, 3,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getTypeDescOnly' that \" +\n+                        \"matches with parameter types \" +\n+                        \"'(org.ballerinalang.jvm.values.api.BTypedesc,org.ballerinalang.jvm.values.api.BFuture)' \" +\n+                        \"found in class 'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 21, 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7207b3f6b3731ae2c910f962bffae08d7d1a8a9c"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA2MzM1OQ==", "bodyText": "We can use a String formatter to plug in values for the method name and the  type instead of repeating it multipe time?\nString formatter =                 \"{ballerina/java}METHOD_NOT_FOUND 'No such public method '%s' that \" +\n                        \"matches with parameter types \" +\n                        \"'(%s)' \" +\n                        \"found in class 'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\"", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23787#discussion_r437063359", "createdAt": "2020-06-08T23:56:08Z", "author": {"login": "riyafa"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/javainterop/basic/NegativeValidationTest.java", "diffHunk": "@@ -118,6 +118,41 @@ public void testMethodNotFound5() {\n                 \"method_not_found5.bal\", 23, 1);\n     }\n \n+    @Test\n+    public void testMethodNotFound6() {\n+\n+        String path = \"test-src/javainterop/negative/method_not_found6.bal\";\n+\n+        CompileResult compileResult = BCompileUtil.compileInProc(path);\n+        compileResult.getDiagnostics();\n+        Assert.assertEquals(compileResult.getDiagnostics().length, 4);\n+        BAssertUtil.validateError(compileResult, 0,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getFuture' that matches with parameter \" +\n+                        \"types '(org.ballerinalang.jvm.values.api.BTypedesc)' found in class \" +\n+                        \"'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 3, 1);\n+\n+        BAssertUtil.validateError(compileResult, 1,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getTypeDesc' that matches with parameter \" +\n+                        \"types '(org.ballerinalang.jvm.values.api.BFuture)' found in class \" +\n+                        \"'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 9, 1);\n+\n+        BAssertUtil.validateError(compileResult, 2,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getFutureOnly' that \" +\n+                        \"matches with parameter types \" +\n+                        \"'(org.ballerinalang.jvm.values.api.BFuture,org.ballerinalang.jvm.values.api.BTypedesc)' \" +\n+                        \"found in class 'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",\n+                \"method_not_found6.bal\", 15, 1);\n+\n+        BAssertUtil.validateError(compileResult, 3,\n+                \"{ballerina/java}METHOD_NOT_FOUND 'No such public method 'getTypeDescOnly' that \" +\n+                        \"matches with parameter types \" +\n+                        \"'(org.ballerinalang.jvm.values.api.BTypedesc,org.ballerinalang.jvm.values.api.BFuture)' \" +\n+                        \"found in class 'class org.ballerinalang.nativeimpl.jvm.tests.StaticMethods''\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7207b3f6b3731ae2c910f962bffae08d7d1a8a9c"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0a325f258e61f6992f29f764c0840233dcbc0b5", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e0a325f258e61f6992f29f764c0840233dcbc0b5", "committedDate": "2020-06-09T08:41:28Z", "message": "Use string format as suggested in the review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NjEyNDQ3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23787#pullrequestreview-428612447", "createdAt": "2020-06-11T05:58:54Z", "commit": {"oid": "b60e2f700fb0871ed0de1b6d28acc249c4704c01"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01888bf234ff9b302f0773be9a025d85ce54f125", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/01888bf234ff9b302f0773be9a025d85ce54f125", "committedDate": "2020-06-11T06:46:17Z", "message": "Remove empty method bodies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b60e2f700fb0871ed0de1b6d28acc249c4704c01", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b60e2f700fb0871ed0de1b6d28acc249c4704c01", "committedDate": "2020-06-11T05:35:47Z", "message": "Remove empty method bodies"}, "afterCommit": {"oid": "01888bf234ff9b302f0773be9a025d85ce54f125", "author": {"user": {"login": "Kishanthan", "name": "Kishanthan Thangarajah"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/01888bf234ff9b302f0773be9a025d85ce54f125", "committedDate": "2020-06-11T06:46:17Z", "message": "Remove empty method bodies"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4412, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}