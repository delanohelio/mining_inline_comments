{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzOTg2Mjc4", "number": 24060, "title": "Performance Improvements for Observability Instrumentation", "bodyText": "Purpose\n\nWhen observability is switched off even (in the previous code) the strand was accessed for no reason. This was changed so that the call can be completely avoided.", "createdAt": "2020-06-13T09:59:34Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24060", "merged": true, "mergeCommit": {"oid": "7091067ca97778e1dba1c13b49d2312da0badea8"}, "closed": true, "closedAt": "2020-06-14T12:49:16Z", "author": {"login": "nadundesilva"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqmYOKgH2gAyNDMzOTg2Mjc4OmU0MjZiYzNiN2VmNzcxYzZjN2RkYWJjYjcwYmQyN2I4ZDQzYzJjMzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrLbMWgFqTQzMDIxNjE2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e426bc3b7ef771c6c7ddabcb70bd27b8d43c2c36", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e426bc3b7ef771c6c7ddabcb70bd27b8d43c2c36", "committedDate": "2020-06-12T17:33:45Z", "message": "Fix Scheduler.getStrand() call order to avoid unwanted contention\n\n# When observability is switched off even (in the previous code) the strand was accessed for no reason. This was changed so that the call can be completely avoided."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMTI4Njg3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24060#pullrequestreview-430128687", "createdAt": "2020-06-13T10:03:11Z", "commit": {"oid": "e426bc3b7ef771c6c7ddabcb70bd27b8d43c2c36"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87398d38aac59abe919f1dff5d7ae95c759c0036", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/87398d38aac59abe919f1dff5d7ae95c759c0036", "committedDate": "2020-06-14T07:15:55Z", "message": "Move all constant loading to module init function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "307eed5ad12ec2854a7581244f60ffff306a868e", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/307eed5ad12ec2854a7581244f60ffff306a868e", "committedDate": "2020-06-14T08:10:47Z", "message": "Add check to avoid ballerina level observability logic when observability is disabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "872aaa45ce8d123dec764c4ad87eeb38a86cff96", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/872aaa45ce8d123dec764c4ad87eeb38a86cff96", "committedDate": "2020-06-14T11:02:42Z", "message": "Revert moving async function wrapper to package level"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjExMzIw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24060#pullrequestreview-430211320", "createdAt": "2020-06-14T11:40:51Z", "commit": {"oid": "872aaa45ce8d123dec764c4ad87eeb38a86cff96"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNFQxMTo0MDo1MVrOGjchtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNFQxMTo0MDo1MVrOGjchtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTgyMDcyNA==", "bodyText": "Can we move this initialization to constructor? Is this method called only once?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24060#discussion_r439820724", "createdAt": "2020-06-14T11:40:51Z", "author": {"login": "Kishanthan"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/bir/codegen/JvmObservabilityGen.java", "diffHunk": "@@ -118,9 +126,10 @@ public JvmObservabilityGen(JvmPackageGen pkgGen) {\n      * @param pkg The package to instrument\n      */\n     public void rewriteObservableFunctions(BIRPackage pkg) {\n+        compileTimeConstants = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872aaa45ce8d123dec764c4ad87eeb38a86cff96"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "759b37d86d154a908b2e88763e2e94f663b42156", "author": {"user": {"login": "nadundesilva", "name": "Nadun De Silva"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/759b37d86d154a908b2e88763e2e94f663b42156", "committedDate": "2020-06-14T11:50:09Z", "message": "Fix code review suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjE2MTY3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24060#pullrequestreview-430216167", "createdAt": "2020-06-14T12:43:29Z", "commit": {"oid": "759b37d86d154a908b2e88763e2e94f663b42156"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4325, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}