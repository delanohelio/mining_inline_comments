{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMzU0MjMy", "number": 23819, "title": "Fix Maven resolver CLI Improvements", "bodyText": "Purpose\n\nFix Maven resolver CLI Improvements", "createdAt": "2020-06-08T19:36:25Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819", "merged": true, "mergeCommit": {"oid": "f98886ad068769df0451b2fc428919277323b993"}, "closed": true, "closedAt": "2020-07-01T14:52:09Z", "author": {"login": "keizer619"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpIC0nAH2gAyNDMxMzU0MjMyOjI5Y2RlNTZhNTIwYzllYjUwZGQ4MjMyN2ExYjI5NjI3YzcyMDA4NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwqNNIgFqTQ0MDg2NTY1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "29cde56a520c9eb50dd82327a1b29627c7200870", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29cde56a520c9eb50dd82327a1b29627c7200870", "committedDate": "2020-06-08T03:39:18Z", "message": "Execute maven resolver task before compile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f0251f80290d91c9c196b4c841bc9c66db1379b", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0f0251f80290d91c9c196b4c841bc9c66db1379b", "committedDate": "2020-06-08T03:39:18Z", "message": "Improve message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c5bcc9bb276a7034f584de1aac66e7ae083fb65", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9c5bcc9bb276a7034f584de1aac66e7ae083fb65", "committedDate": "2020-06-08T17:31:39Z", "message": "Fix dependency order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe209299d24b8b67dcc82e35cc73491d8b793523", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fe209299d24b8b67dcc82e35cc73491d8b793523", "committedDate": "2020-06-08T18:54:45Z", "message": "Improve progress bar texts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a96315f1f1b1b4be0e5cb1edddc26fc99b2d154", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7a96315f1f1b1b4be0e5cb1edddc26fc99b2d154", "committedDate": "2020-06-08T19:54:10Z", "message": "Fix clean entire target directory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NzE3NjQ5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#pullrequestreview-426717649", "createdAt": "2020-06-09T00:54:30Z", "commit": {"oid": "7a96315f1f1b1b4be0e5cb1edddc26fc99b2d154"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMDo1NDozMFrOGg1JVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMDo1NDozMFrOGg1JVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA3ODM1OA==", "bodyText": "The CompileTask seems to be repeated here, wondering if it is intentional.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#discussion_r437078358", "createdAt": "2020-06-09T00:54:30Z", "author": {"login": "IrushiL"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/BuildCommand.java", "diffHunk": "@@ -401,10 +401,11 @@ public void execute() {\n         TaskExecutor taskExecutor = new TaskExecutor.TaskBuilder()\n                 .addTask(new CleanTargetDirTask(), isSingleFileBuild)   // clean the target directory(projects only)\n                 .addTask(new CreateTargetDirTask()) // create target directory\n+                .addTask(new ResolveMavenDependenciesTask())\n                 .addTask(new CompileTask(skipCopyLibsFromDist)) // compile the modules\n+                .addTask(new CompileTask()) // compile the modules", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a96315f1f1b1b4be0e5cb1edddc26fc99b2d154"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89176206aabc06c2be932a15412c80b0bf5bd597", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/89176206aabc06c2be932a15412c80b0bf5bd597", "committedDate": "2020-06-09T03:48:06Z", "message": "Remove extra compile task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d61dd41dca302fe9bdfd20f55668d9a481da534", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7d61dd41dca302fe9bdfd20f55668d9a481da534", "committedDate": "2020-06-09T03:57:13Z", "message": "Revert maven resolver task order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba8edc098a47b6c5f67645de95d832a287f932a8", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba8edc098a47b6c5f67645de95d832a287f932a8", "committedDate": "2020-06-30T10:02:42Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into maven-resolver\n\n# Conflicts:\n#\tcli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/BuildCommand.java\n#\tcli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/RunCommand.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5ODY4NDcx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#pullrequestreview-439868471", "createdAt": "2020-06-30T10:08:17Z", "commit": {"oid": "ba8edc098a47b6c5f67645de95d832a287f932a8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1561c2b419d7d681ecb170dd1652bfcad9765f6b", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1561c2b419d7d681ecb170dd1652bfcad9765f6b", "committedDate": "2020-07-01T05:30:05Z", "message": "Fix clean command test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjExODMy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#pullrequestreview-440611832", "createdAt": "2020-07-01T07:26:58Z", "commit": {"oid": "1561c2b419d7d681ecb170dd1652bfcad9765f6b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzoyNjo1OFrOGraDDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzoyNjo1OFrOGraDDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE2ODcxNw==", "bodyText": "The directories should point to balo and caches here right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#discussion_r448168717", "createdAt": "2020-07-01T07:26:58Z", "author": {"login": "IrushiL"}, "path": "cli/ballerina-packerina/src/test/java/org/ballerinalang/packerina/cmd/BuildCommandTest.java", "diffHunk": "@@ -532,8 +532,16 @@ public void testCleanCommand() {\n         CleanCommand cleanCommand = new CleanCommand(Paths.get(System.getProperty(\"user.dir\")), false);\n         new CommandLine(cleanCommand).parse(\"--sourceroot\", this.testResources.resolve(\"valid-project\").toString());\n         cleanCommand.execute();\n-        Path target = this.testResources.resolve(\"valid-project\").resolve(ProjectDirConstants.TARGET_DIR_NAME);\n-        Assert.assertFalse(Files.exists(target), \"Check if target directory is deleted\");\n+        Path bin = this.testResources.resolve(\"valid-project\").resolve(ProjectDirConstants.TARGET_DIR_NAME\n+                + File.separator + ProjectDirConstants.BIN_DIR_NAME);\n+        Path balo = this.testResources.resolve(\"valid-project\").resolve(ProjectDirConstants.TARGET_DIR_NAME\n+                + File.separator + ProjectDirConstants.BIN_DIR_NAME);\n+        Path caches = this.testResources.resolve(\"valid-project\").resolve(ProjectDirConstants.TARGET_DIR_NAME\n+                + File.separator + ProjectDirConstants.BIN_DIR_NAME);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1561c2b419d7d681ecb170dd1652bfcad9765f6b"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c08afec504d63b8edea7d4c712a240d7f64dee42", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c08afec504d63b8edea7d4c712a240d7f64dee42", "committedDate": "2020-07-01T11:10:14Z", "message": "Fix clean target directory names"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "273d999031590572092f4dc44850593fd6893f36", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/273d999031590572092f4dc44850593fd6893f36", "committedDate": "2020-07-01T07:52:32Z", "message": "Fix directory name"}, "afterCommit": {"oid": "c08afec504d63b8edea7d4c712a240d7f64dee42", "author": {"user": {"login": "keizer619", "name": "Tharik Kanaka"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c08afec504d63b8edea7d4c712a240d7f64dee42", "committedDate": "2020-07-01T11:10:14Z", "message": "Fix clean target directory names"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwODY1NjU5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23819#pullrequestreview-440865659", "createdAt": "2020-07-01T13:24:54Z", "commit": {"oid": "c08afec504d63b8edea7d4c712a240d7f64dee42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4425, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}