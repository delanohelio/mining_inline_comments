{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3NzU0MTE5", "number": 25838, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMTo1OTo1OFrOEkBXwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMTozNVrOEkBZ6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjA2NjU4OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/CompilerDriver.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMTo1OTo1OFrOHStdOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMTo1OTo1OFrOHStdOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MTE3OQ==", "bodyText": "Theres another usage of dlog in the same class. Can we remove that too and completely remove the dlog from this class?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25838#discussion_r489381179", "createdAt": "2020-09-16T11:59:58Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/CompilerDriver.java", "diffHunk": "@@ -358,7 +358,7 @@ private boolean stopCompilation(BLangPackage pkgNode, CompilerPhase nextPhase) {\n         if (compilerPhase.compareTo(nextPhase) < 0) {\n             return true;\n         }\n-        return (checkNextPhase(nextPhase) && dlog.errorCount() > 0);\n+        return (checkNextPhase(nextPhase) && pkgNode.getErrorCount() > 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4386ea9073454496f18056898765b4953aaf29a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjA2NzA0OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/BLangPackage.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMDowM1rOHStdew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMDowM1rOHStdew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MTI0Mw==", "bodyText": "Let use the constructor that accepts a comparator. Then we can avoid the diagnostic related classes from having to implement Comparable<T>", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25838#discussion_r489381243", "createdAt": "2020-09-16T12:00:03Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/BLangPackage.java", "diffHunk": "@@ -99,7 +100,7 @@ public BLangPackage() {\n         this.completedPhases = EnumSet.noneOf(CompilerPhase.class);\n         this.testablePkgs = new ArrayList<>();\n         this.flagSet = EnumSet.noneOf(Flag.class);\n-        this.diagnostics = new ArrayList<>();\n+        this.diagnostics = new TreeSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4386ea9073454496f18056898765b4953aaf29a"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjA3MDA0OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/Compiler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMDo1NFrOHStfPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMDo1NFrOHStfPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MTY5NA==", "bodyText": "Let's remove all usages of dlog from this class", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25838#discussion_r489381694", "createdAt": "2020-09-16T12:00:54Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/Compiler.java", "diffHunk": "@@ -97,7 +97,7 @@ public BLangPackage build(String sourcePackage) {\n         }\n         this.outStream.println(\"Compiling source\");\n         BLangPackage bLangPackage = compile(sourcePackage, true);\n-        if (this.dlog.errorCount() > 0) {\n+        if (bLangPackage.getErrorCount() > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4386ea9073454496f18056898765b4953aaf29a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MjA3MjA4OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-tools-api/src/main/java/io/ballerina/tools/text/LineRange.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMTozNVrOHStgcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMjowMTozNVrOHStgcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MjAwMg==", "bodyText": "extract otherLineRange.startLine.line() to a variable", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25838#discussion_r489382002", "createdAt": "2020-09-16T12:01:35Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-tools-api/src/main/java/io/ballerina/tools/text/LineRange.java", "diffHunk": "@@ -73,4 +73,14 @@ public int hashCode() {\n     public String toString() {\n         return \"(\" + startLine + \",\" + endLine + \")\";\n     }\n+\n+    @Override\n+    public int compareTo(LineRange otherLineRange) {\n+        if (startLine.line() < otherLineRange.startLine.line()) {\n+            return -1;\n+        } else if (startLine.line() > otherLineRange.startLine.line()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4386ea9073454496f18056898765b4953aaf29a"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 130, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}