{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTA0Njcw", "number": 27229, "title": "Fix 'lang.array:reverse()' creates a new array", "bodyText": "Purpose\n\nReverse the array in-place and optimize the array reversal logic\n\nFixes #26843\nApproach\n\nUsed primitive types instead of type casting\n\nSamples\n\n\nRemarks\n\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples\nArray reverse Timing Analysis.pdf", "createdAt": "2020-11-27T09:44:14Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229", "merged": true, "mergeCommit": {"oid": "c93249e4ce76cf3ad53a1b04cd8f95ac7633dd43"}, "closed": true, "closedAt": "2020-12-21T09:12:14Z", "author": {"login": "gabilang"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgnKjPABqjQwNDYwNDYyOTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoSMbGAFqTU1NjIyNzE3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "310671762500c719b41ad82ccd813e630463b671", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/310671762500c719b41ad82ccd813e630463b671", "committedDate": "2020-11-27T09:26:28Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "6af2203a6e73c260641b4d749b002bc76232e45c", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6af2203a6e73c260641b4d749b002bc76232e45c", "committedDate": "2020-11-27T12:54:36Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6af2203a6e73c260641b4d749b002bc76232e45c", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6af2203a6e73c260641b4d749b002bc76232e45c", "committedDate": "2020-11-27T12:54:36Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "c2fc5ec0d07096297beb2bf4492137b31d20066b", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2fc5ec0d07096297beb2bf4492137b31d20066b", "committedDate": "2020-11-28T05:01:57Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2fc5ec0d07096297beb2bf4492137b31d20066b", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c2fc5ec0d07096297beb2bf4492137b31d20066b", "committedDate": "2020-11-28T05:01:57Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3f6eef604e3ad5be4694895910126bb61de9a91e", "committedDate": "2020-11-28T05:19:20Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNTQ1MTYw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-540545160", "createdAt": "2020-11-30T00:55:32Z", "commit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjoyN1rOH7o5xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjoyN1rOH7o5xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5ODE4MA==", "bodyText": "why did we add this in this PR?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#discussion_r532298180", "createdAt": "2020-11-30T00:56:27Z", "author": {"login": "riyafa"}, "path": "bvm/ballerina-runtime/src/main/java/io/ballerina/runtime/internal/values/AbstractArrayValue.java", "diffHunk": "@@ -131,6 +131,15 @@\n     @Deprecated\n     public abstract String getString(long index);\n \n+    /**\n+     * Get string value in the given index.\n+     *\n+     * @param index array index\n+     * @return array element\n+     */\n+    @Override\n+    public abstract BString getBString(long index);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNTg4Njgz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-540588683", "createdAt": "2020-11-30T04:13:46Z", "commit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwNDoxMzo0NlrOH7rY6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwNDoxMzo0NlrOH7rY6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjMzODkyMg==", "bodyText": "The function returns definition seems wrong with the new changes. Shall we change it?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#discussion_r532338922", "createdAt": "2020-11-30T04:13:46Z", "author": {"login": "HindujaB"}, "path": "langlib/langlib-test/src/test/resources/test-src/arraylib_test.bal", "diffHunk": "@@ -190,7 +190,7 @@ function testLastIndexOf() {\n \n function testReverse() returns [int[], int[]] {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e"}, "originalPosition": 2}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f6eef604e3ad5be4694895910126bb61de9a91e", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3f6eef604e3ad5be4694895910126bb61de9a91e", "committedDate": "2020-11-28T05:19:20Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "dbd227d2b2db93f4e7baaea08db1911d185a9f37", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dbd227d2b2db93f4e7baaea08db1911d185a9f37", "committedDate": "2020-11-30T11:12:03Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbd227d2b2db93f4e7baaea08db1911d185a9f37", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dbd227d2b2db93f4e7baaea08db1911d185a9f37", "committedDate": "2020-11-30T11:12:03Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "cae1bac57a703c67d1d846f9c3b6b5dabd1f5a9e", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cae1bac57a703c67d1d846f9c3b6b5dabd1f5a9e", "committedDate": "2020-11-30T11:17:09Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cae1bac57a703c67d1d846f9c3b6b5dabd1f5a9e", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cae1bac57a703c67d1d846f9c3b6b5dabd1f5a9e", "committedDate": "2020-11-30T11:17:09Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "b5ab8f6ca82e775397f25c6a93ec5474a4123acb", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ab8f6ca82e775397f25c6a93ec5474a4123acb", "committedDate": "2020-11-30T11:24:09Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNDU2NjUy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-541456652", "createdAt": "2020-12-01T03:07:18Z", "commit": {"oid": "b5ab8f6ca82e775397f25c6a93ec5474a4123acb"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMzowNzoxOFrOH8Waqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMzowODo1OFrOH8WcNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA0Mzg4Mw==", "bodyText": "We can simply pass the array as return type instead of a tuple here. Shall we change it?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                return [arr.reverse()];\n          \n          \n            \n                return arr.reverse();", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#discussion_r533043883", "createdAt": "2020-12-01T03:07:18Z", "author": {"login": "HindujaB"}, "path": "langlib/langlib-test/src/test/resources/test-src/arraylib_test.bal", "diffHunk": "@@ -188,9 +188,9 @@ function testLastIndexOf() {\n     }\n }\n \n-function testReverse() returns [int[], int[]] {\n+function testReverse() returns [int[]] {\n     int[] arr = [10, 20, 30, 40, 50];\n-    return [arr, arr.reverse()];\n+    return [arr.reverse()];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5ab8f6ca82e775397f25c6a93ec5474a4123acb"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzA0NDI3Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            function testReverse() returns [int[]] {\n          \n          \n            \n            function testReverse() returns int[] {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#discussion_r533044276", "createdAt": "2020-12-01T03:08:58Z", "author": {"login": "HindujaB"}, "path": "langlib/langlib-test/src/test/resources/test-src/arraylib_test.bal", "diffHunk": "@@ -188,9 +188,9 @@ function testLastIndexOf() {\n     }\n }\n \n-function testReverse() returns [int[], int[]] {\n+function testReverse() returns [int[]] {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5ab8f6ca82e775397f25c6a93ec5474a4123acb"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b5ab8f6ca82e775397f25c6a93ec5474a4123acb", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ab8f6ca82e775397f25c6a93ec5474a4123acb", "committedDate": "2020-11-30T11:24:09Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "f1f7fab7bc9e025b63b515c84ad8fef244a5b2dd", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f1f7fab7bc9e025b63b515c84ad8fef244a5b2dd", "committedDate": "2020-12-01T03:27:10Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NzU3MzE5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-546757319", "createdAt": "2020-12-08T05:31:55Z", "commit": {"oid": "f1f7fab7bc9e025b63b515c84ad8fef244a5b2dd"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1f7fab7bc9e025b63b515c84ad8fef244a5b2dd", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f1f7fab7bc9e025b63b515c84ad8fef244a5b2dd", "committedDate": "2020-12-01T03:27:10Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "10e9d564c6a67187dd176ec48db4793eac4ee492", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/10e9d564c6a67187dd176ec48db4793eac4ee492", "committedDate": "2020-12-11T03:07:10Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "10e9d564c6a67187dd176ec48db4793eac4ee492", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/10e9d564c6a67187dd176ec48db4793eac4ee492", "committedDate": "2020-12-11T03:07:10Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3", "committedDate": "2020-12-11T03:25:39Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODMzNDc2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-549833476", "createdAt": "2020-12-11T06:34:40Z", "commit": {"oid": "e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNjozNDo0MFrOIDrFKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNjozNDo0MFrOIDrFKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcyMjQ3Mw==", "bodyText": "Let's assert in ballerina itself", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#discussion_r540722473", "createdAt": "2020-12-11T06:34:40Z", "author": {"login": "riyafa"}, "path": "langlib/langlib-test/src/test/resources/test-src/arraylib_test.bal", "diffHunk": "@@ -188,9 +188,18 @@ function testLastIndexOf() {\n     }\n }\n \n-function testReverse() returns [int[], int[]] {\n-    int[] arr = [10, 20, 30, 40, 50];\n-    return [arr, arr.reverse()];\n+function testReverse() returns [int[], float[], string[], boolean[]] {\n+    int[] arrInt = [10, 20, 30, 40, 50];\n+    float[] arrFloat = [10.5, 20.6, 30.7, 40.8, 50.9];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e9fc07b97f3b6ee398b02da72a99f427cd7a9dd3", "committedDate": "2020-12-11T03:25:39Z", "message": "Fix 'lang.array:reverse()' creates a new array"}, "afterCommit": {"oid": "872b2e65ce740f7601c2bee3721eb617d7c31515", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/872b2e65ce740f7601c2bee3721eb617d7c31515", "committedDate": "2020-12-15T07:42:00Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMjA5Mjk2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-552209296", "createdAt": "2020-12-15T08:30:30Z", "commit": {"oid": "0562719a95c057f89e4bd9d7ace37815f0a82b65"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0562719a95c057f89e4bd9d7ace37815f0a82b65", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0562719a95c057f89e4bd9d7ace37815f0a82b65", "committedDate": "2020-12-15T08:06:13Z", "message": "Merge branch 'master' into optimize-array-reverse"}, "afterCommit": {"oid": "f769c5acda342a950f21f27d4b146d955eb551b0", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f769c5acda342a950f21f27d4b146d955eb551b0", "committedDate": "2020-12-15T10:00:27Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e62fb8633ab982767740bf3f3f52cf876dc9f1", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/15e62fb8633ab982767740bf3f3f52cf876dc9f1", "committedDate": "2020-12-21T07:10:42Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "964961551e466b6566b3b63df5e473bc7f41f359", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/964961551e466b6566b3b63df5e473bc7f41f359", "committedDate": "2020-12-15T10:03:57Z", "message": "Merge branch 'master' into optimize-array-reverse"}, "afterCommit": {"oid": "15e62fb8633ab982767740bf3f3f52cf876dc9f1", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/15e62fb8633ab982767740bf3f3f52cf876dc9f1", "committedDate": "2020-12-21T07:10:42Z", "message": "Fix 'lang.array:reverse()' creates a new array"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e5d2f824c7e762d165c76a6ecd55ba9b5b9da9", "author": {"user": {"login": "gabilang", "name": "Gabilan Ganeshwaran"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/87e5d2f824c7e762d165c76a6ecd55ba9b5b9da9", "committedDate": "2020-12-21T07:18:08Z", "message": "Merge branch 'master' into optimize-array-reverse"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjI3MTc5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27229#pullrequestreview-556227179", "createdAt": "2020-12-21T09:06:04Z", "commit": {"oid": "87e5d2f824c7e762d165c76a6ecd55ba9b5b9da9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4860, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}