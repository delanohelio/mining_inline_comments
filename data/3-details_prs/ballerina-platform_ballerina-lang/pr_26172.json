{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NDI2MjY0", "number": 26172, "title": "Remove XML functional constructors ", "bodyText": "Purpose\n\nDisallow compatibility for XML functional constructor syntax.\n\nFixes #25874\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-01T17:29:46Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172", "merged": true, "mergeCommit": {"oid": "af9b53a5c5f2ba86f9b38d67a98d28ce783e6818"}, "closed": true, "closedAt": "2020-10-20T15:18:33Z", "author": {"login": "suleka96"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOUFSTgH2gAyNDk2NDI2MjY0OmNjZWFjZTk3MzMyZGUzZGI2NzY2YmFmNGY1MTA3ZWRkMGY2YWYxY2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUaHRsAFqTUxMjgxODIxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cceace97332de3db6766baf4f5107edd0f6af1ce", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cceace97332de3db6766baf4f5107edd0f6af1ce", "committedDate": "2020-10-01T16:36:03Z", "message": "Remove functional constructor related code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02dad9dfef8cc7269b86f2f35e416238d1d34658", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/02dad9dfef8cc7269b86f2f35e416238d1d34658", "committedDate": "2020-10-01T21:04:40Z", "message": "Fix EOF"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97b6bd86a52479b91c785dd253340f3b25bb1547", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/97b6bd86a52479b91c785dd253340f3b25bb1547", "committedDate": "2020-10-02T13:15:52Z", "message": "Skip XMLTypeDescContextTest test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03aad200251243eb212111d63d371ca204a4fbf2", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/03aad200251243eb212111d63d371ca204a4fbf2", "committedDate": "2020-10-02T13:36:49Z", "message": "Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMzMwMTY1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-502330165", "createdAt": "2020-10-05T18:52:00Z", "commit": {"oid": "03aad200251243eb212111d63d371ca204a4fbf2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxODo1MjowMVrOHcpkWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxODo1MjowMVrOHcpkWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwMzIyNw==", "bodyText": "Incorrect year?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r499803227", "createdAt": "2020-10-05T18:52:01Z", "author": {"login": "anupama-pathirage"}, "path": "langlib/lang.xml/src/main/java/org/ballerinalang/langlib/xml/CreateText.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ *   Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03aad200251243eb212111d63d371ca204a4fbf2"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c570d80c9e0cddd72f74bb97258677be2458161", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c570d80c9e0cddd72f74bb97258677be2458161", "committedDate": "2020-10-06T05:14:06Z", "message": "Update year"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8736208961ae88e977ae5fbdb3bc2c76016f1eec", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8736208961ae88e977ae5fbdb3bc2c76016f1eec", "committedDate": "2020-10-06T08:01:45Z", "message": "Resolve conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21a9480a78cfba266318aa80e1309fe0c1aaecd2", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/21a9480a78cfba266318aa80e1309fe0c1aaecd2", "committedDate": "2020-10-06T08:05:13Z", "message": "Delete unwanted files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d9f23d930a0520a05ae6df834261018f6d68826", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d9f23d930a0520a05ae6df834261018f6d68826", "committedDate": "2020-10-06T10:44:35Z", "message": "Update CreateText"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "337f12b50d6a9f42e455eabf8f49e6c5bab40242", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/337f12b50d6a9f42e455eabf8f49e6c5bab40242", "committedDate": "2020-10-06T13:45:25Z", "message": "Update createText function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43371d0002aa7d3b5b23fca1620192b39b175468", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/43371d0002aa7d3b5b23fca1620192b39b175468", "committedDate": "2020-10-06T14:24:07Z", "message": "Remove strand from createText"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fcf1ac2f8b34cc93468e499013db9feab34d2a49", "committedDate": "2020-10-06T15:43:40Z", "message": "Remove unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNTA2NTEz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-503506513", "createdAt": "2020-10-07T03:52:22Z", "commit": {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMzo1MjoyMlrOHdhpzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwMzo1NjowN1rOHdhtXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjEyNw==", "bodyText": "Shall we remove this? I don't think we'll need this again, even if we do, we can add it then.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r500722127", "createdAt": "2020-10-07T03:52:22Z", "author": {"login": "MaryamZi"}, "path": "langlib/lang.xml/src/main/java/org/ballerinalang/langlib/xml/CreateText.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ *   Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.ballerinalang.langlib.xml;\n+\n+import org.ballerinalang.jvm.XMLFactory;\n+import org.ballerinalang.jvm.api.values.BString;\n+import org.ballerinalang.jvm.values.XMLValue;\n+\n+/**\n+ * Create XML text value from string.\n+ *\n+ * @since Swan Lake\n+ */\n+//@BallerinaFunction(\n+//        orgName = \"ballerina\", packageName = \"lang.xml\", version = XML_VERSION,\n+//        functionName = \"createText\",\n+//        args = {@Argument(name = \"string\", type = TypeKind.STRING)},\n+//        returnType = {@ReturnType(type = TypeKind.XML)},\n+//        isPublic = true\n+//)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjM1OQ==", "bodyText": "Shall we just invoke the function here and write the assertion in Ballerina itself?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r500722359", "createdAt": "2020-10-07T03:53:25Z", "author": {"login": "MaryamZi"}, "path": "langlib/langlib-test/src/test/java/org/ballerinalang/langlib/test/LangLibXMLTest.java", "diffHunk": "@@ -187,6 +187,12 @@ public void testCreateComment() {\n         assertEquals((returns[0]).stringValue(), \"<!--This text should be wraped in xml comment-->\");\n     }\n \n+    @Test\n+    public void testCreateText() {\n+        BValue[] returns = BRunUtil.invoke(compileResult, \"testCreateText\");\n+        assertEquals((returns[0]).stringValue(), \"This is xml text\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMzAzNw==", "bodyText": "Shall we add a few more tests?\ne.g.,\n\ntests for empty strings\ntests with new lines, no spaces, single character, etc.\ntests with xml:Text as the contextually expected type as opposed to xml here (e.g., assign it to an xml:Text variable and use it)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r500723037", "createdAt": "2020-10-07T03:56:07Z", "author": {"login": "MaryamZi"}, "path": "langlib/langlib-test/src/test/resources/test-src/xmllib_test.bal", "diffHunk": "@@ -154,6 +154,10 @@ function testCreateComment() returns xml {\n     return 'xml:createComment(\"This text should be wraped in xml comment\");\n }\n \n+function testCreateText() returns xml {\n+    return 'xml:createText(\"This is xml text\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f53551aeccdba95f33b9021b67d853f759085e1", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2f53551aeccdba95f33b9021b67d853f759085e1", "committedDate": "2020-10-12T08:20:43Z", "message": "Refactor code and add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bb5137353f42162d0560544886898bddf7cd40c", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1bb5137353f42162d0560544886898bddf7cd40c", "committedDate": "2020-10-13T15:49:50Z", "message": "Refactor tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3Njk5MTY3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-507699167", "createdAt": "2020-10-13T18:02:56Z", "commit": {"oid": "1bb5137353f42162d0560544886898bddf7cd40c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODowMjo1NlrOHgzFkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODowMjo1NlrOHgzFkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE1MzQ4OQ==", "bodyText": "Can this be more descriptive?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r504153489", "createdAt": "2020-10-13T18:02:56Z", "author": {"login": "anupama-pathirage"}, "path": "langlib/lang.xml/src/main/ballerina/src/lang.xml/xml.bal", "diffHunk": "@@ -205,6 +205,16 @@ public isolated function createComment(string content) returns Comment = @java:M\n     name: \"createComment\"\n } external;\n \n+# Constructs an xml sequence representing zero of more parsed characters.\n+#\n+# + chars - the characters", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bb5137353f42162d0560544886898bddf7cd40c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3Njk5NTA5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-507699509", "createdAt": "2020-10-13T18:03:26Z", "commit": {"oid": "1bb5137353f42162d0560544886898bddf7cd40c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODowMzoyNlrOHgzGmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxODowMzoyNlrOHgzGmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDE1Mzc1Mg==", "bodyText": "The above doc comment doesn't adhere to the best practices we follow. Refer to the last point in https://github.com/ballerina-platform/ballerina-distribution/blob/master/doc-guidelines.md", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r504153752", "createdAt": "2020-10-13T18:03:26Z", "author": {"login": "anupama-pathirage"}, "path": "langlib/lang.xml/src/main/ballerina/src/lang.xml/xml.bal", "diffHunk": "@@ -205,6 +205,16 @@ public isolated function createComment(string content) returns Comment = @java:M\n     name: \"createComment\"\n } external;\n \n+# Constructs an xml sequence representing zero of more parsed characters.\n+#\n+# + chars - the characters\n+# + return - an xml sequence that is either empty or consists of one text item\n+# The constructed sequence will be empty when the length of `chars` is zero.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bb5137353f42162d0560544886898bddf7cd40c"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57", "committedDate": "2020-10-13T20:23:57Z", "message": "Update doc comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b613079c374145e3cb8b45b9f05ddba5400cd0", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b6b613079c374145e3cb8b45b9f05ddba5400cd0", "committedDate": "2020-10-13T20:30:18Z", "message": "Update doc comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f842c93dbb406e803643d3503a0d5d02c07f3303", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f842c93dbb406e803643d3503a0d5d02c07f3303", "committedDate": "2020-10-20T04:58:43Z", "message": "Revert \"Update doc comments\"\n\nThis reverts commit b6b613079c374145e3cb8b45b9f05ddba5400cd0.\n\nRevert Doc comment changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07ce7feb538d9cf292f7c9f5a440c6ac371e098e", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/07ce7feb538d9cf292f7c9f5a440c6ac371e098e", "committedDate": "2020-10-20T05:00:17Z", "message": "Revert \"Update doc comments\"\n\nThis reverts commit 8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57.\n\nRevert update doc comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "502c630740caf46df95fecc2609fb388f105035a", "author": {"user": {"login": "suleka96", "name": "Suleka Helmini"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/502c630740caf46df95fecc2609fb388f105035a", "committedDate": "2020-10-20T12:17:29Z", "message": "Fix merge issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODA2NTA0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-512806504", "createdAt": "2020-10-20T14:50:48Z", "commit": {"oid": "502c630740caf46df95fecc2609fb388f105035a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODE4MjE5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#pullrequestreview-512818219", "createdAt": "2020-10-20T15:01:12Z", "commit": {"oid": "502c630740caf46df95fecc2609fb388f105035a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4508, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}