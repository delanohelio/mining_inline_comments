{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMDgyOTk0", "number": 23807, "title": "Update grpc module error", "bodyText": "Purpose\n$Subject\nFixes #23634\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-06-08T12:03:05Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807", "merged": true, "mergeCommit": {"oid": "33e74fe51b28048faabe40ddc4b95f36aac0bcab"}, "closed": true, "closedAt": "2020-06-10T05:59:26Z", "author": {"login": "kalaiyarasiganeshalingam"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpPVucgH2gAyNDMxMDgyOTk0OmEwNGUxNzMyYjAwOWUzODQ2MzNlZjQ4NTI3NWNiNzBlZjhmZGM0ZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpzOQ9gH2gAyNDMxMDgyOTk0OjUxODA2MWU0YjgxNDMzOThiOWZhYWIxNzdjMGQ3MmE5OWMyNzZmZjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a04e1732b009e384633ef485275cb70ef8fdc4f6", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a04e1732b009e384633ef485275cb70ef8fdc4f6", "committedDate": "2020-06-08T12:09:17Z", "message": "Fix error\n\nFix testcases\n\nUncomment testcases\n\nUse error insteadof Error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "043fee2f4473d27f59b3c2b78160c6f4d2bd31de", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/043fee2f4473d27f59b3c2b78160c6f4d2bd31de", "committedDate": "2020-06-08T12:13:29Z", "message": "Remove additinal change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTY4OTc3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-426168977", "createdAt": "2020-06-08T12:18:32Z", "commit": {"oid": "a04e1732b009e384633ef485275cb70ef8fdc4f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjoxODozMlrOGgbB8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjoxODozMlrOGgbB8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY1MDQ4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return io:sprintf(\"File read error: %s - %s\", err.message());\n          \n          \n            \n                        return io:sprintf(\"File read error: %s\", err.message());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r436650483", "createdAt": "2020-06-08T12:18:32Z", "author": {"login": "daneshk"}, "path": "tests/jballerina-integration-test/src/test/resources/grpc/src/clients/11_grpc_byte_client.bal", "diffHunk": "@@ -60,7 +60,7 @@ function testLargeByteArray(string filePath) returns (string) {\n             }\n         } else {\n             error err = resultBytes;\n-            return io:sprintf(\"File read error: %s - %s\", err.reason(), <string> err.detail()[\"message\"]);\n+            return io:sprintf(\"File read error: %s - %s\", err.message());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a04e1732b009e384633ef485275cb70ef8fdc4f6"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTY5OTIx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-426169921", "createdAt": "2020-06-08T12:19:59Z", "commit": {"oid": "043fee2f4473d27f59b3c2b78160c6f4d2bd31de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjoxOTo1OVrOGgbEuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjoxOTo1OVrOGgbEuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY1MTE5NQ==", "bodyText": "Do we still need to maintain constants values for the error? or shall we remove those", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r436651195", "createdAt": "2020-06-08T12:19:59Z", "author": {"login": "daneshk"}, "path": "stdlib/grpc/src/main/ballerina/src/grpc/grpc_errors.bal", "diffHunk": "@@ -14,101 +14,92 @@\n // specific language governing permissions and limitations\n // under the License.\n \n-# The details of a gRPC error.\n-#\n-# + message - Specific error message for the error\n-# + cause - Cause of the error if this error occurred due to another error (probably from another module)\n-public type Detail record {\n-    string message;\n-    error cause?;\n-};\n-\n-# Represents the reason of the cancelled error.\n-public const CANCELLED_ERROR = \"{ballerina/grpc}CancelledError\";\n+# Represents the type of the cancelled error.\n+public const CANCELLED_ERROR = \"CancelledError\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "043fee2f4473d27f59b3c2b78160c6f4d2bd31de"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c5be826ae611d91bf17bcd1417da9d7098711f", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/74c5be826ae611d91bf17bcd1417da9d7098711f", "committedDate": "2020-06-08T13:03:53Z", "message": "Update tests/jballerina-integration-test/src/test/resources/grpc/src/clients/11_grpc_byte_client.bal\n\nCo-authored-by: Danesh Kuruppu <daneshk@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59d6224b2f6d78041400270270c97d5b6edbea6c", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59d6224b2f6d78041400270270c97d5b6edbea6c", "committedDate": "2020-06-09T04:24:45Z", "message": "Made the changes in the errorType\n\nAdd the new line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78f3cda01e5a6dbfa846012532f9fd42a161e4c4", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/78f3cda01e5a6dbfa846012532f9fd42a161e4c4", "committedDate": "2020-06-09T10:48:08Z", "message": "Improve the errorType coding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "768e19b81a931084d1b619871501f5351409ab4a", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/768e19b81a931084d1b619871501f5351409ab4a", "committedDate": "2020-06-09T11:54:10Z", "message": "Make the changes in the retry.bal file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/26e0f03aae208b8548b387b65f5208a5f7cd536e", "committedDate": "2020-06-09T13:04:19Z", "message": "Improve the checkErrorForRetry()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzA2MzQz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427706343", "createdAt": "2020-06-10T04:42:44Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzE2NjMz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427716633", "createdAt": "2020-06-10T05:16:18Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjoxOFrOGhlKNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjoxOFrOGhlKNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg2NTAxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            return io:sprintf(\"Error from Connector: %s - %s\", addResponse.message());\n          \n          \n            \n                            return io:sprintf(\"Error from Connector: %s\", addResponse.message());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r437865014", "createdAt": "2020-06-10T05:16:18Z", "author": {"login": "daneshk"}, "path": "tests/jballerina-integration-test/src/test/resources/grpc/src/clients/11_grpc_byte_client.bal", "diffHunk": "@@ -48,7 +48,7 @@ function testLargeByteArray(string filePath) returns (string) {\n         if (resultBytes is byte[]) {\n             var addResponse = blockingEp->checkBytes(resultBytes);\n             if (addResponse is grpc:Error) {\n-                return io:sprintf(\"Error from Connector: %s - %s\", addResponse.reason(), <string> addResponse.detail()[\"message\"]);\n+                return io:sprintf(\"Error from Connector: %s - %s\", addResponse.message());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzE2Njc4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427716678", "createdAt": "2020-06-10T05:16:28Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjoyOFrOGhlKWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjoyOFrOGhlKWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg2NTA1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return io:sprintf(\"Error from Connector: %s - %s\", addResponse.message());\n          \n          \n            \n                    return io:sprintf(\"Error from Connector: %s\", addResponse.message());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r437865051", "createdAt": "2020-06-10T05:16:28Z", "author": {"login": "daneshk"}, "path": "tests/jballerina-integration-test/src/test/resources/grpc/src/clients/11_grpc_byte_client.bal", "diffHunk": "@@ -29,7 +29,7 @@ function testByteArray() returns (string) {\n     byte[] bytes = statement.toBytes();\n     var addResponse = blockingEp->checkBytes(bytes);\n     if (addResponse is grpc:Error) {\n-        return io:sprintf(\"Error from Connector: %s - %s\", addResponse.reason(), <string> addResponse.detail()[\"message\"]);\n+        return io:sprintf(\"Error from Connector: %s - %s\", addResponse.message());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzE2NzM4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427716738", "createdAt": "2020-06-10T05:16:40Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjo0MFrOGhlKiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjo0MFrOGhlKiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg2NTA5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return io:sprintf(\"Error from Connector: %s - %s\", unionResp.message());\n          \n          \n            \n                    return io:sprintf(\"Error from Connector: %s\", unionResp.message());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r437865099", "createdAt": "2020-06-10T05:16:40Z", "author": {"login": "daneshk"}, "path": "tests/jballerina-integration-test/src/test/resources/grpc/src/clients/10_grpc_ssl_client.bal", "diffHunk": "@@ -35,7 +35,7 @@ function testUnarySecuredBlockingWithCerts() returns (string) {\n \n     [string, grpc:Headers]|grpc:Error unionResp = helloWorldBlockingEp->hello(\"WSO2\");\n     if (unionResp is grpc:Error) {\n-        return io:sprintf(\"Error from Connector: %s - %s\", unionResp.reason(), <string> unionResp.detail()[\"message\"]);\n+        return io:sprintf(\"Error from Connector: %s - %s\", unionResp.message());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzE2Nzk5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427716799", "createdAt": "2020-06-10T05:16:52Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjo1MlrOGhlKtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNToxNjo1MlrOGhlKtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg2NTE0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return io:sprintf(\"Error from Connector: %s - %s\", unionResp.message());\n          \n          \n            \n                    return io:sprintf(\"Error from Connector: %s\", unionResp.message());", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#discussion_r437865142", "createdAt": "2020-06-10T05:16:52Z", "author": {"login": "daneshk"}, "path": "tests/jballerina-integration-test/src/test/resources/grpc/src/clients/09_grpc_secured_unary_client.bal", "diffHunk": "@@ -47,7 +47,7 @@ function testUnarySecuredBlocking(string keystorePath, string truststorePath) re\n \n     [string, grpc:Headers]|grpc:Error unionResp = helloWorldBlockingEp->hello(\"WSO2\");\n     if (unionResp is grpc:Error) {\n-        return io:sprintf(\"Error from Connector: %s - %s\", unionResp.reason(), <string> unionResp.detail()[\"message\"]);\n+        return io:sprintf(\"Error from Connector: %s - %s\", unionResp.message());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzI3MTY4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23807#pullrequestreview-427727168", "createdAt": "2020-06-10T05:46:50Z", "commit": {"oid": "26e0f03aae208b8548b387b65f5208a5f7cd536e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "518061e4b8143398b9faab177c0d72a99c276ff9", "author": {"user": {"login": "kalaiyarasiganeshalingam", "name": "Kalaiyarasi Ganeshalingam"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/518061e4b8143398b9faab177c0d72a99c276ff9", "committedDate": "2020-06-10T05:57:43Z", "message": "Fix comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4420, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}