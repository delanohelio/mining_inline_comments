{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxNzI5OTgz", "number": 27327, "title": "Remove the need of initial quoted module prefix for predeclared prefixes", "bodyText": "Purpose\n$Subject\nFixes #27226\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-12-03T12:05:00Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327", "merged": true, "mergeCommit": {"oid": "1e47ecd0b09ad46689bc65cd39061ddf1ea7b486"}, "closed": true, "closedAt": "2021-01-12T08:42:47Z", "author": {"login": "rdulmina"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiRtDBgH2gAyNTMxNzI5OTgzOmY3NWQxNTlhM2NlMjBjY2U3ZWUzZGYxZTM0ZjA3OWYxMTQxOGRkMzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvXB3mAFqTU2NjA0Mjg5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f75d159a3ce20cce7ee3df1e34f079f11418dd36", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f75d159a3ce20cce7ee3df1e34f079f11418dd36", "committedDate": "2020-12-02T17:08:15Z", "message": "Remove the need of quoted module prefix\nRemove the need of initial quoted module prefix for predefined module prefixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b61873a547abdf4e8764d5699349daa0587e565", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b61873a547abdf4e8764d5699349daa0587e565", "committedDate": "2020-12-02T17:18:33Z", "message": "Parser testcase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e389bfdc6123f52120f4f6fd94be3fb03d4dab94", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e389bfdc6123f52120f4f6fd94be3fb03d4dab94", "committedDate": "2020-12-03T12:00:27Z", "message": "Handle predeclared prefix of qualified identifier in lexer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae8aa90c28100961056aa0bf04ff096ed5b7f3f7", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ae8aa90c28100961056aa0bf04ff096ed5b7f3f7", "committedDate": "2020-12-03T12:01:06Z", "message": "Add more test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edab5dfd561e97f9b299dc126de05ad5cddc1ad2", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/edab5dfd561e97f9b299dc126de05ad5cddc1ad2", "committedDate": "2020-12-03T12:26:07Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd6f11d2f6703e26380c6fbd426c5f7db9789118", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fd6f11d2f6703e26380c6fbd426c5f7db9789118", "committedDate": "2020-12-03T12:33:03Z", "message": "Update an assert file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "983bd73075e294cd70686df0da33a41162d65090", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/983bd73075e294cd70686df0da33a41162d65090", "committedDate": "2020-12-03T12:29:24Z", "message": "Update test an assert file"}, "afterCommit": {"oid": "fd6f11d2f6703e26380c6fbd426c5f7db9789118", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fd6f11d2f6703e26380c6fbd426c5f7db9789118", "committedDate": "2020-12-03T12:33:03Z", "message": "Update an assert file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NzMyNTM4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-544732538", "createdAt": "2020-12-04T08:07:19Z", "commit": {"oid": "fd6f11d2f6703e26380c6fbd426c5f7db9789118"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwODowNzoyMFrOH_FRSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwODowNzoyMFrOH_FRSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkwODY4MQ==", "bodyText": "Shall keep the lexer unchanged and only change the parser?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r535908681", "createdAt": "2020-12-04T08:07:20Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaLexer.java", "diffHunk": "@@ -791,6 +791,10 @@ private STToken processIdentifierOrKeyword() {\n         }\n \n         String tokenText = getLexeme();\n+        if (isPredeclaredPrefix(tokenText) && peek() == ':') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd6f11d2f6703e26380c6fbd426c5f7db9789118"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86df7045882b44dcb5895d03d0d906ed23d863c1", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/86df7045882b44dcb5895d03d0d906ed23d863c1", "committedDate": "2020-12-10T07:06:40Z", "message": "Undo changes to ballerina lexer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8fbef419caac2f07bb1d23a7368ed7afcec8b02", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a8fbef419caac2f07bb1d23a7368ed7afcec8b02", "committedDate": "2020-12-15T06:04:32Z", "message": "Change parsing logic of predeclared prefix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b439588844e361438da24f6afbcdf2df2b60c74", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2b439588844e361438da24f6afbcdf2df2b60c74", "committedDate": "2020-12-15T06:05:33Z", "message": "Recovery logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b514d2f0d30ec61b35802fb65517ffc6d60321c6", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b514d2f0d30ec61b35802fb65517ffc6d60321c6", "committedDate": "2020-12-15T06:06:07Z", "message": "Negative test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b377c6a2ca46bb99e1e8e1a7628fa53c19035de5", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b377c6a2ca46bb99e1e8e1a7628fa53c19035de5", "committedDate": "2020-12-15T06:07:06Z", "message": "Undo change to SyntaxTreeJSONGenerator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c07da24a6da3ce7f8addd3b0906e25cc950a9c00", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c07da24a6da3ce7f8addd3b0906e25cc950a9c00", "committedDate": "2020-12-15T06:48:44Z", "message": "Move test cases to predeclared-module-prefix directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dc05ed5fb5f2ec639442ebfdab30ba9c042134a", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2dc05ed5fb5f2ec639442ebfdab30ba9c042134a", "committedDate": "2020-12-15T07:21:17Z", "message": "Fix formatter test failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7afa9e1a92d4a5a9fef46c58d5af2f0e0eaa0fa", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7afa9e1a92d4a5a9fef46c58d5af2f0e0eaa0fa", "committedDate": "2020-12-15T07:24:56Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39c44f4b4bef0c99128882cc621a1ff9e285ec76", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/39c44f4b4bef0c99128882cc621a1ff9e285ec76", "committedDate": "2020-12-15T07:37:05Z", "message": "Fix parser test failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NzkyMjYw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-556792260", "createdAt": "2020-12-22T03:13:30Z", "commit": {"oid": "39c44f4b4bef0c99128882cc621a1ff9e285ec76"}, "state": "DISMISSED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwMzoxMzozMFrOIJs4Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwMzozMDoxN1rOIJtIKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA0MzMzMA==", "bodyText": "since we are returning from if, we don't need the else block", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r547043330", "createdAt": "2020-12-22T03:13:30Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2354,6 +2362,84 @@ private STNode parseTypeDescriptorInternal(List<STNode> qualifiers, ParserRuleCo\n         }\n     }\n \n+    private STNode parseQualifiedTypeRefOrTypeDesc(List<STNode> qualifiers, boolean isInConditionalExpr) {\n+        STToken preDeclaredPrefix = consume();\n+        STToken nextNextToken = getNextNextToken();\n+        if (nextNextToken.kind == SyntaxKind.IDENTIFIER_TOKEN) {\n+            reportInvalidQualifierList(qualifiers);\n+            return parseQualIdentifierWithPredeclPrefix(preDeclaredPrefix, isInConditionalExpr);\n+        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39c44f4b4bef0c99128882cc621a1ff9e285ec76"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA0NDI5OQ==", "bodyText": "shall we invert the condition?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r547044299", "createdAt": "2020-12-22T03:17:22Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -4437,6 +4530,47 @@ private STNode parseTerminalExpression(STNode annots, List<STNode> qualifiers, b\n         return parseTerminalExpression(annots, qualifiers, isRhsExpr, allowActions, isInConditionalExpr);\n     }\n \n+    private STNode parseQualifiedIdentifierOrExpression(boolean isInConditionalExpr, boolean isRhsExpr) {\n+        STToken preDeclaredPrefix = consume();\n+        STToken nextNextToken = getNextNextToken();\n+        if (nextNextToken.kind != SyntaxKind.IDENTIFIER_TOKEN || isKeyKeyword(nextNextToken)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39c44f4b4bef0c99128882cc621a1ff9e285ec76"}, "originalPosition": 180}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA0NzQ2NA==", "bodyText": "shall we add some tests to cover:\n\nglobal/local var-defs starts with a pre-declared prefix? (eg: xml:Element x = ...)\nRecord fields stats with a pre-declared prefix\nCalling a function from langlibs that is not an attached function (e.g: pre-declared-prefix:func-name();)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r547047464", "createdAt": "2020-12-22T03:30:17Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/test/resources/misc/predeclared-module-prefix/predeclared-module-prefix_01.bal", "diffHunk": "@@ -0,0 +1,34 @@\n+// Override lang.int with custom import\n+import ballerina/foo.bar.baz as int;\n+\n+// Predeclared prefix in annotation and listener decl\n+@int:annot\n+listener stream:Element myListner = getListner();\n+\n+type myRecord record {\n+    int a;\n+    *table:tableRecod;\n+};\n+\n+type myObject object {\n+    function foo(int a, any b);\n+    *object:customObj;\n+};\n+\n+public function foo() returns int:c {\n+    // Using module prefix with predeclared prefix\n+    int a = int:sum(1, 2, 3);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39c44f4b4bef0c99128882cc621a1ff9e285ec76"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa1c224bcd44c63edcf3bc19111ecd7efd6db5f2", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fa1c224bcd44c63edcf3bc19111ecd7efd6db5f2", "committedDate": "2020-12-22T05:49:27Z", "message": "Add review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/01429e924204d2b0acdbba74837cef1413f8bf8c", "committedDate": "2020-12-22T06:20:30Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMDM5MDA4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-562039008", "createdAt": "2021-01-05T18:42:02Z", "commit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxODo0MjowM1rOIOi07w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxOToyMDoxOFrOIOkB9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjEyMTU4Mw==", "bodyText": "predeclared-prefix should always be followed by colon and identifier right?\nwhy don't we simply check colon and identifier in isQualifiedIdentifierPredeclaredPrefix and call parseQualifiedIdentifier here?\nThen we can keep the rest of the method intact?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r552121583", "createdAt": "2021-01-05T18:42:03Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -2291,6 +2295,9 @@ private STNode parseTypeDescriptorInternal(List<STNode> qualifiers, ParserRuleCo\n                                                boolean isInConditionalExpr) {\n         parseTypeDescQualifiers(qualifiers);\n         STToken nextToken = peek();\n+        if (isQualifiedIdentifierPredeclaredPrefix(nextToken.kind)) {\n+            return parseQualifiedTypeRefOrTypeDesc(qualifiers, isInConditionalExpr);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjEyOTgxOQ==", "bodyText": "Whenever we need to call parseTypeReference() we have to call it twice for identifier and isQualifiedIdentifierPredeclaredPrefix.\nShall we use a isTypeReferenceToken call so the current method has only one level of abstraction? i.e. whoever call parseTypeReference() does not need to worry about its internal composition.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r552129819", "createdAt": "2021-01-05T18:57:39Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -5610,19 +5750,19 @@ private STNode parseObjectConstructorExpression(STNode annots, List<STNode> qual\n      * @return Parsed type reference or empty node\n      */\n     private STNode parseObjectConstructorTypeReference() {\n-        STNode typeReference;\n         STToken nextToken = peek();\n         switch (nextToken.kind) {\n             case IDENTIFIER_TOKEN:\n-                typeReference = parseTypeReference();\n-                break;\n+                return parseTypeReference();\n             case OPEN_BRACE_TOKEN:\n                 return STNodeFactory.createEmptyNode();\n             default:\n+                if (isQualifiedIdentifierPredeclaredPrefix(nextToken.kind)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c"}, "originalPosition": 291}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjEzOTY3MQ==", "bodyText": "similarly can use isClassDescriptorToken", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r552139671", "createdAt": "2021-01-05T19:17:03Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -4567,6 +4699,9 @@ private STNode parseNewKeywordRhs(SyntaxKind kind, STNode newKeyword) {\n             case STREAM_KEYWORD:\n                 return parseTypeDescriptorInNewExpr(newKeyword);\n             default:\n+                if (isQualifiedIdentifierPredeclaredPrefix(kind)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c"}, "originalPosition": 223}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjE0MTMwMA==", "bodyText": "!IsAnnotTagReferenceToken(nextTokenKind)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r552141300", "createdAt": "2021-01-05T19:20:18Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -7596,7 +7736,8 @@ private STNode parseAnnotations() {\n     private STNode parseAnnotation() {\n         STNode atToken = parseAtToken();\n         STNode annotReference;\n-        if (peek().kind != SyntaxKind.IDENTIFIER_TOKEN) {\n+        SyntaxKind nextTokenKind = peek().kind;\n+        if (nextTokenKind != SyntaxKind.IDENTIFIER_TOKEN && !isQualifiedIdentifierPredeclaredPrefix(nextTokenKind)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01429e924204d2b0acdbba74837cef1413f8bf8c"}, "originalPosition": 307}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dabc4ac81068405888eabcff79b944efafebe128", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dabc4ac81068405888eabcff79b944efafebe128", "committedDate": "2021-01-06T06:30:25Z", "message": "Review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e310b3fdff94775563886a84b84a61312841430", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2e310b3fdff94775563886a84b84a61312841430", "committedDate": "2021-01-06T09:48:36Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d46ed32e1f01fedf65599f0774ff4ca6b0bb66e5", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d46ed32e1f01fedf65599f0774ff4ca6b0bb66e5", "committedDate": "2021-01-08T12:32:24Z", "message": "Refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dacda100df26c26e89cef98ff2a559ad2b95fff2", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/dacda100df26c26e89cef98ff2a559ad2b95fff2", "committedDate": "2021-01-11T04:42:52Z", "message": "Fix issue in conditional expression parsing\nFix issue in conditional expression parsing with predeclared prefix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f96621674c696cd75429f92e080db4118942b8c1", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f96621674c696cd75429f92e080db4118942b8c1", "committedDate": "2021-01-11T04:47:14Z", "message": "New line after method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f77fea284c960360430b76acc4003717f88077b1", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f77fea284c960360430b76acc4003717f88077b1", "committedDate": "2021-01-11T04:51:02Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a3210b8b39dd7c0ea97759c287567b8afc835c4", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2a3210b8b39dd7c0ea97759c287567b8afc835c4", "committedDate": "2021-01-11T06:13:11Z", "message": "Fix issue in conditional expression parsing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f4160d2615f6df033ab9b83c3c3b0c3b264ef297", "committedDate": "2021-01-11T07:41:59Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into identifier-escaps-without-quote"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1OTgxNjU2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-565981656", "createdAt": "2021-01-12T06:56:32Z", "commit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNjo1NjozMlrOIR0D4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNzowMzo0M1rOIR0NHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0OTY2NQ==", "bodyText": "extra new line", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r555549665", "createdAt": "2021-01-12T06:56:32Z", "author": {"login": "lochana-chathura"}, "path": "misc/formatter/modules/formatter-core/src/test/java/org/ballerinalang/formatter/core/ParserTestFormatter.java", "diffHunk": "@@ -161,7 +161,9 @@ public void test(String fileName, String path) throws IOException {\n                 \"annot_decl_source_02.bal\", \"class_def_source_11.bal\", \"object_type_def_source_26.bal\",\n                 \"ambiguity_source_32.bal\", \"service_object_constructor_source_01.bal\",\n                 \"service_object_constructor_source_02.bal\", \"object_constructor_source_08.bal\",\n-                \"annotations_source_01.bal\", \"do_stmt_source_08.bal\", \"func_params_source_11.bal\");\n+                \"annotations_source_01.bal\", \"do_stmt_source_08.bal\", \"func_params_source_11.bal\",\n+                \"predeclared-module-prefix_02.bal\");\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1MjAzMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                return identifier;\n          \n          \n            \n                                return createBuiltinSimpleNameReference(identifier);\n          \n      \n    \n    \n  \n\nWill this solve the problem we discussed offline?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r555552030", "createdAt": "2021-01-12T07:03:43Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3636,7 +3737,9 @@ private STNode parseQualifiedIdentifier(STNode identifier, boolean isInCondition\n                 addInvalidTokenToNextToken(errorHandler.consumeInvalidToken());\n                 return parseQualifiedIdentifier(identifier, isInConditionalExpr);\n             default:\n-                if (isInConditionalExpr) {\n+                if (isInConditionalExpr && isPredeclaredPrefix) {\n+                    return identifier;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297"}, "originalPosition": 193}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1OTg1OTc4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-565985978", "createdAt": "2021-01-12T07:06:46Z", "commit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNzowNjo0N1rOIR0RbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNzowNjo0N1rOIR0RbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU1MzEzMw==", "bodyText": "extra new line", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#discussion_r555553133", "createdAt": "2021-01-12T07:06:47Z", "author": {"login": "lochana-chathura"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/ParserRuleContext.java", "diffHunk": "@@ -310,6 +310,9 @@\n     INTERMEDIATE_CLAUSE_START(\"intermediate-clause-start\"),\n     ON_FAIL_CLAUSE(\"on_fail_clause\"),\n     ON_FA(\"on_fail_clause\"),\n+    TYPEDESC_TYPE_DESCRIPTOR(\"typedesc-type-descriptor\"),\n+    TYPEDESC_TYPE_DESCRIPTOR_RHS(\"typedesc-type-descriptor-rhs\"),\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4160d2615f6df033ab9b83c3c3b0c3b264ef297"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5892e719577f58f4db1dd0c3394da8fb644b2c60", "author": {"user": {"login": "rdulmina", "name": "Dulmina Renuke"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5892e719577f58f4db1dd0c3394da8fb644b2c60", "committedDate": "2021-01-12T07:57:39Z", "message": "Comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2MDQyODkz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27327#pullrequestreview-566042893", "createdAt": "2021-01-12T08:41:32Z", "commit": {"oid": "5892e719577f58f4db1dd0c3394da8fb644b2c60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4731, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}