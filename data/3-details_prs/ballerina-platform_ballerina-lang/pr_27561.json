{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxODE5NTM0", "number": 27561, "title": "Change 'validatePackageVersion' to use semver library", "bodyText": "Purpose\n\n$Title\n\nFixes #\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-12-17T12:05:34Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27561", "merged": true, "mergeCommit": {"oid": "fb762a4232d6af27b8a09521861a11285b22caf1"}, "closed": true, "closedAt": "2020-12-17T18:25:54Z", "author": {"login": "pramodya1994"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnCWEmAH2gAyNTQxODE5NTM0OjE1MmUzMGZlN2JlMTljNWFhMDFlY2VjMjA5ZjFhZmFiMWE0NDY0ODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnHydeAFqTU1NDg3MjQ2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "152e30fe7be19c5aa01ecec209f1afab1a446480", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/152e30fe7be19c5aa01ecec209f1afab1a446480", "committedDate": "2020-12-17T12:04:12Z", "message": "Change 'validatePackageVersion' to use semver library"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzIwMTg4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27561#pullrequestreview-554720188", "createdAt": "2020-12-17T15:34:38Z", "commit": {"oid": "152e30fe7be19c5aa01ecec209f1afab1a446480"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTozNDozOVrOIH7WBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTozNDozOVrOIH7WBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE4MzIzOQ==", "bodyText": "We need to improve this error message. Please have a look at the SemanticVersion class", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27561#discussion_r545183239", "createdAt": "2020-12-17T15:34:39Z", "author": {"login": "sameerajayasoma"}, "path": "cli/central-client/src/main/java/org/ballerinalang/central/client/Utils.java", "diffHunk": "@@ -128,9 +129,13 @@ public static void createBaloInHomeRepo(HttpURLConnection conn, Path pkgPathInBa\n      *\n      * @param pkgVersion   package version\n      * @param logFormatter log formatter\n+     * @return valid package version\n      */\n-    static void validatePackageVersion(String pkgVersion, LogFormatter logFormatter) throws CentralClientException {\n-        if (!pkgVersion.matches(VERSION_REGEX)) {\n+    static String validatePackageVersion(String pkgVersion, LogFormatter logFormatter) throws CentralClientException {\n+        try {\n+            Version version = Version.valueOf(pkgVersion);\n+            return version.toString();\n+        } catch (IllegalArgumentException | ParseException e) {\n             throw new CentralClientException(logFormatter.formatLog(\"package version could not be detected\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "152e30fe7be19c5aa01ecec209f1afab1a446480"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9526e2c7a182ff6b6aae4e6199bf7b617f9bd8c0", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9526e2c7a182ff6b6aae4e6199bf7b617f9bd8c0", "committedDate": "2020-12-17T15:39:39Z", "message": "Resolve PR Comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzM5MDMx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27561#pullrequestreview-554739031", "createdAt": "2020-12-17T15:53:25Z", "commit": {"oid": "9526e2c7a182ff6b6aae4e6199bf7b617f9bd8c0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f473850cabbe136adbb94df38dac64389c0ead5", "author": {"user": {"login": "pramodya1994", "name": "Pramodya Mendis"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9f473850cabbe136adbb94df38dac64389c0ead5", "committedDate": "2020-12-17T16:06:11Z", "message": "Fix testValidatePackageVersion test failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0ODcyNDY1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27561#pullrequestreview-554872465", "createdAt": "2020-12-17T18:24:44Z", "commit": {"oid": "9f473850cabbe136adbb94df38dac64389c0ead5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4628, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}