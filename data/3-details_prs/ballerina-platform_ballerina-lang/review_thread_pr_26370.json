{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MDQxMjMw", "number": 26370, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMTo1MzowOVrOEt9SDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNjoxMlrOEt9yVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjI1NDIxOnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMTo1MzowOVrOHiED2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMTo1MzowOVrOHiED2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ4MDE1Mg==", "bodyText": "Shall we change the default line length to 120? Since it is the limit specified in the current guide [1].\n[1] https://ballerina.io/swan-lake/learn/coding-conventions/#indentation-and-line-length", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505480152", "createdAt": "2020-10-15T11:53:09Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingOptions.java", "diffHunk": "@@ -24,16 +24,19 @@\n     private int tabSize;\n \n     // Prefer spaces over tabs.\n-    private boolean insertSpaces;\n+    private String wsCharacter;\n+\n+    private int columnLimit;\n \n     FormattingOptions() {\n         this.tabSize = 4;\n-        this.insertSpaces = true;\n+        this.wsCharacter = \" \";\n+        this.columnLimit = 80;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c89902f0b576fec637320575a176d01f9edb16d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMyNjU3OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxMzoxNVrOHiEvEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxMzoxNVrOHiEvEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5MTIxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // If env node has a trailing new line, then the next immediate token\n          \n          \n            \n                    // If this node has a trailing new line, then the next immediate token", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505491216", "createdAt": "2020-10-15T12:13:15Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3668,23 +3637,23 @@ public Token transform(Token token) {\n             return token;\n         }\n \n-        int prevTrailingNL = this.trailingNL;\n-        int prevTrailingWS = this.trailingWS;\n+        int prevTrailingNL = env.trailingNL;\n+        int prevTrailingWS = env.trailingWS;\n \n         // Trailing newlines can be at-most 1. Rest will go as newlines for the next token\n-        this.trailingNL = trailingNL > 0 ? 1 : 0;\n-        this.trailingWS = trailingWS;\n+        env.trailingNL = trailingNL > 0 ? 1 : 0;\n+        env.trailingWS = trailingWS;\n \n         token = formatTokenInternal(token);\n \n         // Set the leading newlines for the next token\n-        this.leadingNL = trailingNL > 0 ? trailingNL - 1 : 0;\n+        env.leadingNL = trailingNL > 0 ? trailingNL - 1 : 0;\n \n-        // If this node has a trailing new line, then the next immediate token\n+        // If env node has a trailing new line, then the next immediate token", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2084}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMyNzU3OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxMzozNFrOHiEvuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxMzozNFrOHiEvuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5MTM4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // env is the last item of the list. Trailing WS and NL for the last item on the list\n          \n          \n            \n                            // This is the last item of the list. Trailing WS and NL for the last item on the list", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505491384", "createdAt": "2020-10-15T12:13:34Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3736,16 +3705,16 @@ public Token transform(Token token) {\n         for (int index = 0; index < size; index++) {\n             T oldNode = nodeList.get(index);\n             T newNode;\n-            boolean prevPreserveNL = this.preserveNewlines;\n-            this.preserveNewlines = preserveNL;\n+            boolean prevPreserveNL = env.preserveNewlines;\n+            env.preserveNewlines = preserveNL;\n             if (index == size - 1) {\n-                // This is the last item of the list. Trailing WS and NL for the last item on the list\n+                // env is the last item of the list. Trailing WS and NL for the last item on the list", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMzMTU5OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNDo0NlrOHiEyMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNDo0NlrOHiEyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5MjAxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Format a delimited list of nodes. env method assumes the delimiters are followed by a single whitespace character\n          \n          \n            \n                 * Format a delimited list of nodes. This method assumes the delimiters are followed by a single whitespace character", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505492018", "createdAt": "2020-10-15T12:14:46Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3761,8 +3730,8 @@ public Token transform(Token token) {\n     }\n \n     /**\n-     * Format a delimited list of nodes. This method assumes the delimiters are followed by a single whitespace\n-     * character only.\n+     * Format a delimited list of nodes. env method assumes the delimiters are followed by a single whitespace character", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2122}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMzMjIwOnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNDo1N1rOHiEykQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNDo1N1rOHiEykQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5MjExMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // env is the last item of the list. Trailing WS and NL for the last item on the list\n          \n          \n            \n                            // This is the last item of the list. Trailing WS and NL for the last item on the list", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505492113", "createdAt": "2020-10-15T12:14:57Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3813,7 +3782,7 @@ public Token transform(Token token) {\n             T oldNode = nodeList.get(index);\n             T newNode;\n             if (index == size - 1) {\n-                // This is the last item of the list. Trailing WS and NL for the last item on the list\n+                // env is the last item of the list. Trailing WS and NL for the last item on the list", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2132}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMzNTU4OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNTo1MVrOHiE0sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNTo1MVrOHiE0sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5MjY1Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Wrap the node. env is equivalent to adding a newline before the node and re-formatting the node. Wrapped content\n          \n          \n            \n                 * Wrap the node. This is equivalent to adding a newline before the node and re-formatting the node. Wrapped content", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505492657", "createdAt": "2020-10-15T12:15:51Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3925,7 +3901,7 @@ private boolean shouldWrapLine(Node node) {\n     }\n \n     /**\n-     * Wrap the node. This is equivalent to adding a newline before the node and re-formatting the node. Wrapped content\n+     * Wrap the node. env is equivalent to adding a newline before the node and re-formatting the node. Wrapped content", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2207}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NjMzNjg3OnYy", "diffSide": "RIGHT", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNjoxMlrOHiE1fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjoxNjoxMlrOHiE1fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ5Mjg2Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    // If there's a newline before env, then add padding to\n          \n          \n            \n                                    // If there's a newline before this, then add padding to", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26370#discussion_r505492862", "createdAt": "2020-10-15T12:16:12Z", "author": {"login": "IrushiL"}, "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/NewFormattingTreeModifier.java", "diffHunk": "@@ -3996,9 +3972,9 @@ private MinutiaeList getLeadingMinutiae(Token token) {\n                     break;\n                 case COMMENT_MINUTIAE:\n                     if (consecutiveNewlines > 0) {\n-                        // If there's a newline before this, then add padding to\n+                        // If there's a newline before env, then add padding to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fba2bbd88b6f3a70dc90d310e421759712e70eb"}, "originalPosition": 2253}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4742, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}