{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2Nzc0NjI3", "number": 24945, "title": "Add Function mocking rest param compatibility", "bodyText": "Purpose\nImplement function mocking for rest params.\nFixes #24810\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-26T16:41:51Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945", "merged": true, "mergeCommit": {"oid": "940d76502856c50296e279260ab3f0406eb27ca3"}, "closed": true, "closedAt": "2020-07-31T11:38:24Z", "author": {"login": "Ibaqu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5QOxhgFqTQ1NjMyOTUzOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5aRs_AFqTQ1Njg3NTY5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzI5NTM4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#pullrequestreview-456329538", "createdAt": "2020-07-28T06:14:23Z", "commit": {"oid": "7a526d3abeffe2051805157961d930a1d026a298"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNjoxNDoyM1rOG3-EwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNjoxNDoyM1rOG3-EwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM0MTg4OQ==", "bodyText": "Shall we make these comments more meaningful? e.g. // This would return the ballerina equivalent <type> MockHandler(<mockFnObj>, args)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#discussion_r461341889", "createdAt": "2020-07-28T06:14:23Z", "author": {"login": "azinneera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/MockDesugar.java", "diffHunk": "@@ -346,6 +341,7 @@ private BLangLiteral generateRHSExpr(String val) {\n         return bLangLiteral;\n     }\n \n+    // Return: <type> MockHandler(<mockFnObj>, args)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a526d3abeffe2051805157961d930a1d026a298"}, "originalPosition": 87}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzQ0NjA1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#pullrequestreview-456344605", "createdAt": "2020-07-28T06:45:48Z", "commit": {"oid": "7a526d3abeffe2051805157961d930a1d026a298"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNjo0NTo0OVrOG3-16A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNjo0NTo0OVrOG3-16A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM1NDQ3Mg==", "bodyText": "Can you check the formatting here? Seems this is not formatted correctly.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#discussion_r461354472", "createdAt": "2020-07-28T06:45:49Z", "author": {"login": "Dilhasha"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/connector/Executor.java", "diffHunk": "@@ -185,6 +187,8 @@ public void notifyFailure(ErrorValue error) {\n             return double.class;\n         } else if (paramValue instanceof Float) {\n             return double.class;\n+        } else  if (paramValue instanceof ArrayValueImpl) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a526d3abeffe2051805157961d930a1d026a298"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80a90fdd286b8ba2fbaf18d521cd8e07a3baf56b", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/80a90fdd286b8ba2fbaf18d521cd8e07a3baf56b", "committedDate": "2020-07-28T07:17:51Z", "message": "Add RestParam compatibility for Function mocking"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c86c772de56caf002e83aa75c7c38eb09b3ee0", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e1c86c772de56caf002e83aa75c7c38eb09b3ee0", "committedDate": "2020-07-28T07:17:51Z", "message": "Add Mock Function varargs tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a526d3abeffe2051805157961d930a1d026a298", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7a526d3abeffe2051805157961d930a1d026a298", "committedDate": "2020-07-26T07:32:36Z", "message": "Refactor Mock Functionality"}, "afterCommit": {"oid": "fcf61b773675003516c6b6c7723cc94183cfb631", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fcf61b773675003516c6b6c7723cc94183cfb631", "committedDate": "2020-07-28T07:52:44Z", "message": "Refactor Mock Functionality"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDQzNjI3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#pullrequestreview-456443627", "createdAt": "2020-07-28T09:05:59Z", "commit": {"oid": "fcf61b773675003516c6b6c7723cc94183cfb631"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOTowNTo1OVrOG4DidQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOTowNTo1OVrOG4DidQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQzMTQxMw==", "bodyText": "Not formatted properly", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#discussion_r461431413", "createdAt": "2020-07-28T09:05:59Z", "author": {"login": "anupama-pathirage"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/connector/Executor.java", "diffHunk": "@@ -50,9 +52,12 @@\n  */\n public class Executor {\n \n-    private static final BUnionType OPTIONAL_ERROR_TYPE = new BUnionType(\n-            new BType[] { BTypes.typeError, BTypes.typeNull },\n-            TypeFlags.asMask(TypeFlags.NILABLE, TypeFlags.PURETYPE));\n+    private static final BUnionType OPTIONAL_ERROR_TYPE = new BUnionType(new BType[]{BTypes.typeError, BTypes.typeNull},\n+                                                                         TypeFlags.asMask(TypeFlags.NILABLE,\n+                                                                                          TypeFlags.PURETYPE));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcf61b773675003516c6b6c7723cc94183cfb631"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "296db47607cfb4037a199692eed89082dbf48f48", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/296db47607cfb4037a199692eed89082dbf48f48", "committedDate": "2020-07-28T09:37:09Z", "message": "Refactor Mock Functionality"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcf61b773675003516c6b6c7723cc94183cfb631", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fcf61b773675003516c6b6c7723cc94183cfb631", "committedDate": "2020-07-28T07:52:44Z", "message": "Refactor Mock Functionality"}, "afterCommit": {"oid": "296db47607cfb4037a199692eed89082dbf48f48", "author": {"user": {"login": "Ibaqu", "name": "Aquib Zulfikar"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/296db47607cfb4037a199692eed89082dbf48f48", "committedDate": "2020-07-28T09:37:09Z", "message": "Refactor Mock Functionality"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODc1Njk3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24945#pullrequestreview-456875697", "createdAt": "2020-07-28T17:56:38Z", "commit": {"oid": "296db47607cfb4037a199692eed89082dbf48f48"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3713, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}