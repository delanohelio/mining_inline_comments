{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTAxMTY3", "number": 27400, "title": "Fix starting transaction coordinator even if the local transactions are used", "bodyText": "Purpose\n\n$title\n\nFixes #27198\nRemarks\n\nballerina-platform/module-ballerinai-transaction#30\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-12-09T05:08:59Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400", "merged": true, "mergeCommit": {"oid": "3cde595b53efd4021ca37ba06e23b8e58ea63e33"}, "closed": true, "closedAt": "2020-12-11T10:18:04Z", "author": {"login": "lasinicl"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkXY1VgH2gAyNTM0OTAxMTY3OjNiOTY3ZWM0NmNmZjUwZDg2NjUxNWJiYTAzMzZmNzNjYjE0MjJiZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmDsF7AFqTU1MTI2MjI3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3b967ec46cff50d866515bba0336f73cb1422beb", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b967ec46cff50d866515bba0336f73cb1422beb", "committedDate": "2020-12-09T04:53:27Z", "message": "Add changes to start transaction coordinator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "434917a21e7cce8fc0e28ae776854c9f9acf4636", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/434917a21e7cce8fc0e28ae776854c9f9acf4636", "committedDate": "2020-12-09T05:02:54Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn\n\n\u0001 Conflicts:\n\u0001\tcompiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/TransactionDesugar.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c28242f710c8c385a9823d53da7528bc2b43159", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6c28242f710c8c385a9823d53da7528bc2b43159", "committedDate": "2020-12-09T05:04:21Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7d97d6cedc1ffefb8be82677f7498027f24cd69", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e7d97d6cedc1ffefb8be82677f7498027f24cd69", "committedDate": "2020-12-09T10:41:14Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66be13eb949528174f7cd11fc3115661f5bb08ca", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/66be13eb949528174f7cd11fc3115661f5bb08ca", "committedDate": "2020-12-09T13:15:30Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f66d12a4961ac8781ecb4a97c28447a1e9e4de6d", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f66d12a4961ac8781ecb4a97c28447a1e9e4de6d", "committedDate": "2020-12-10T05:04:24Z", "message": "Add suggested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0632c6e6ea246b0229e33024af73bf9e0d0c192", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f0632c6e6ea246b0229e33024af73bf9e0d0c192", "committedDate": "2020-12-10T05:06:11Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d", "author": {"user": {"login": "lasinicl", "name": "Lasini Liyange"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b9e32ab97de16ca0c1b45219e381fa03c844d2d", "committedDate": "2020-12-10T05:44:16Z", "message": "Revert \"Add suggested changes\"\n\nThis reverts commit f66d12a4961ac8781ecb4a97c28447a1e9e4de6d."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5OTAxNTk5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400#pullrequestreview-549901599", "createdAt": "2020-12-11T08:46:17Z", "commit": {"oid": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjYyMjcx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400#pullrequestreview-551262271", "createdAt": "2020-12-14T11:04:14Z", "commit": {"oid": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMTowNDoxNFrOIFLPhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMTowNDoxNFrOIFLPhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5Nzk5MA==", "bodyText": "Lets move this to transactionDesugar or rename it to TransactionCoordinatorService.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400#discussion_r542297990", "createdAt": "2020-12-14T11:04:14Z", "author": {"login": "gimantha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/Desugar.java", "diffHunk": "@@ -1176,6 +1179,12 @@ public void visit(BLangFunction funcNode) {\n         BType currentReturnType = this.forceCastReturnType;\n         this.forceCastReturnType = null;\n         funcNode.body = rewrite(funcNode.body, funcEnv);\n+        if (serviceStarted) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4774, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}