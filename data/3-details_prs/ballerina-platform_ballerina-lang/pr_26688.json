{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMTM4NjQz", "number": 26688, "title": "Allow dependently-typed object method declarations and fix subtyping", "bodyText": "Purpose\nThis PR\n\nallows dependently-typed object method declarations. Any class or object constructor that references/includes the type has to have an external implementation. Fixes #26430.\n\ntype Foo object {\n    public function get(typedesc<anydata> td) returns td|error;\n};\n\nclass Bar {\n    *Foo;\n\n    public function get(typedesc<anydata> td) returns td|error = external;\n}\n\nFixes subtyping for objects with dependently-typed methods. Fixes #26584.\n\nThe following is now allowed.\npublic class Foo {\n    public function get(typedesc<anydata> td) returns td|error = external;\n}\n\npublic class Bar {\n    public function get(typedesc<anydata> td) returns td|error = external;\n}\n\npublic function main() {\n    Foo f = new Bar();\n}\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-10-30T16:53:54Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26688", "merged": true, "mergeCommit": {"oid": "fc81a1a84370fc488509179f94869d0d7d9d6ee9"}, "closed": true, "closedAt": "2020-11-17T07:14:22Z", "author": {"login": "MaryamZi"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWCWragH2gAyNTEzMTM4NjQzOjk5MjA5ZDUxMWE1MzU3MjYxYzc0YWQ2MTA2N2JhOTM2MTIxYTFkYzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddQZOEAH2gAyNTEzMTM4NjQzOmU0N2ZmMmY2NGY2YjQ0NjFmYzk5ZTU0NGVhMTcxZTBiM2ZiZTJjMTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "99209d511a5357261c74ad61067ba936121a1dc9", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/99209d511a5357261c74ad61067ba936121a1dc9", "committedDate": "2020-10-25T16:28:09Z", "message": "Allow dependently-typed function declarations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "236b7347376b0a499dbeb145043280b5e8c7d2a6", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/236b7347376b0a499dbeb145043280b5e8c7d2a6", "committedDate": "2020-10-26T06:24:38Z", "message": "Update error message for invalid dependently-typed function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d6f38062de347489fe2824bfb1981dc55c99b8f", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5d6f38062de347489fe2824bfb1981dc55c99b8f", "committedDate": "2020-10-26T14:16:35Z", "message": "Fix compile-time subtyping and add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1395dfb0ca94b060f8d900796e1667033bc7ef7e", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1395dfb0ca94b060f8d900796e1667033bc7ef7e", "committedDate": "2020-10-26T20:02:17Z", "message": "Update subtyping rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cca649fe65d395a2b7dd38493d716df9b717f71", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2cca649fe65d395a2b7dd38493d716df9b717f71", "committedDate": "2020-10-29T17:34:03Z", "message": "Disallow non-dependently-typed functions as dependently-typed functions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "967e65858ee04bccf9dc7e7cd862115a3f7100b8", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/967e65858ee04bccf9dc7e7cd862115a3f7100b8", "committedDate": "2020-10-29T20:15:48Z", "message": "Consider param position for dependently-typed return type subtyping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051c7ab14b4ea74a8a64484c5399645851f3cead", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/051c7ab14b4ea74a8a64484c5399645851f3cead", "committedDate": "2020-10-30T07:12:47Z", "message": "Add referred param index to BParameterizedType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0ac443955eeda42cae8204d3eca4f8cdd691f82", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c0ac443955eeda42cae8204d3eca4f8cdd691f82", "committedDate": "2020-10-30T10:04:46Z", "message": "Introduce the BParameterizedType for the runtime"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d828b7d8b48ddd642bc9520b0b241411a98b6422", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d828b7d8b48ddd642bc9520b0b241411a98b6422", "committedDate": "2020-10-30T10:18:45Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3d47c75112144c95e60907313ca0d7eab1277e7", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e3d47c75112144c95e60907313ca0d7eab1277e7", "committedDate": "2020-10-30T12:22:17Z", "message": "Update bir.ksy for parameterized type param index"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db58874fbd5c06a287e490b94b40ed3e36923ff1", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/db58874fbd5c06a287e490b94b40ed3e36923ff1", "committedDate": "2020-11-12T03:42:45Z", "message": "Resolve conflicts and merge master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMDUwNDY2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26688#pullrequestreview-530050466", "createdAt": "2020-11-13T13:14:30Z", "commit": {"oid": "db58874fbd5c06a287e490b94b40ed3e36923ff1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9331faf3b379e1d309f6449e3465b305740fd0d6", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9331faf3b379e1d309f6449e3465b305740fd0d6", "committedDate": "2020-11-16T05:26:25Z", "message": "Merge master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwOTM4ODIy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26688#pullrequestreview-530938822", "createdAt": "2020-11-16T06:15:27Z", "commit": {"oid": "9331faf3b379e1d309f6449e3465b305740fd0d6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwNjoxNToyN1rOHzpY7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwNjoxNToyN1rOHzpY7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzkxNzU0OQ==", "bodyText": "Do we need to export creating ParameterizedType using Typecreator api for interop developers?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26688#discussion_r523917549", "createdAt": "2020-11-16T06:15:27Z", "author": {"login": "warunalakshitha"}, "path": "bvm/ballerina-runtime/src/main/java/io/ballerina/runtime/api/types/ParameterizedType.java", "diffHunk": "@@ -0,0 +1,31 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package io.ballerina.runtime.api.types;\n+\n+/**\n+ * {@code ParameterizedType} represents the parameterized type in dependently-typed functions.\n+ *\n+ * @since 2.0.0\n+ */\n+public interface ParameterizedType extends Type {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9331faf3b379e1d309f6449e3465b305740fd0d6"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwOTg3Nzgw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26688#pullrequestreview-530987780", "createdAt": "2020-11-16T07:41:21Z", "commit": {"oid": "9331faf3b379e1d309f6449e3465b305740fd0d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e47ff2f64f6b4461fc99e544ea171e0b3fbe2c13", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e47ff2f64f6b4461fc99e544ea171e0b3fbe2c13", "committedDate": "2020-11-17T02:47:04Z", "message": "Merge master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4316, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}