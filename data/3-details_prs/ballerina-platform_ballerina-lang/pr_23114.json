{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNjM2ODIx", "number": 23114, "title": "Parse error constructor expression", "bodyText": "Purpose\n$subject\nFixes #23024\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-05-05T16:54:47Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114", "merged": true, "mergeCommit": {"oid": "f5c63f0e92170c43f3bc89564ac23dd39a50db7e"}, "closed": true, "closedAt": "2020-05-12T12:15:15Z", "author": {"login": "KavinduZoysa"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcegrwdABqjMzMDY4MTY2MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgjPXPgFqTQwOTk3OTEwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f201692fadf4584a5a93566a6e78340b5505c32a", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f201692fadf4584a5a93566a6e78340b5505c32a", "committedDate": "2020-05-05T15:29:30Z", "message": "Add tests"}, "afterCommit": {"oid": "a72f16e3c37dfbf815d7ca2f416c986d89aefddc", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a72f16e3c37dfbf815d7ca2f416c986d89aefddc", "committedDate": "2020-05-06T04:06:50Z", "message": "Add tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MzAyNTkz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#pullrequestreview-406302593", "createdAt": "2020-05-06T04:51:49Z", "commit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDo1MTo0OVrOGRD-IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDo1MzozMFrOGRD_Ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0NDAzMw==", "bodyText": "I think theres a similar method already", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r420544033", "createdAt": "2020-05-06T04:51:49Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3463,6 +3465,28 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * Parse error constructor expression.\n+     *\n+     * @return Error constructor expression\n+     */\n+    private STNode parseErrorConstructorExpr() {\n+        STNode errorKeyword = parseErrorKeyword();\n+        STNode openParen = parseOpenParenthesis();\n+        STNode args = parseArgsList();\n+        STNode closeParen = parseCloseParenthesis();\n+        return STNodeFactory.createErrorConstructorExpressionNode(errorKeyword, openParen, args, closeParen);\n+    }\n+\n+    /**\n+     * Parse error keyword.\n+     *\n+     * @return Error keyword\n+     */\n+    private STNode parseErrorKeyword() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0NDMzOA==", "bodyText": "Shall we add the grammar rule here as a doc comment? You can check other expressions for a sample.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r420544338", "createdAt": "2020-05-06T04:53:30Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3463,6 +3465,28 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * Parse error constructor expression.\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MzAzOTE1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#pullrequestreview-406303915", "createdAt": "2020-05-06T04:57:22Z", "commit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDo1NzoyMlrOGREC9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDo1ODo1N1rOGREEUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0NTI2OQ==", "bodyText": "Shall we rename this as FunctionalConstructorExpression?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r420545269", "createdAt": "2020-05-06T04:57:22Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-treegen/src/main/resources/syntax_tree_descriptor.json", "diffHunk": "@@ -698,6 +698,30 @@\n                 }\n             ]\n         },\n+        {\n+            \"name\": \"ErrorConstructorExpressionNode\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0NTI5NA==", "bodyText": "Add new line", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r420545294", "createdAt": "2020-05-06T04:57:32Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/test/resources/expressions/error-constructor-expr/error_constructor_expr_source_01.bal", "diffHunk": "@@ -0,0 +1,3 @@\n+public function foo() {\n+    var er = error(\"ERROR_REASON\", message = \"error message\");\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0NTYxNw==", "bodyText": "Shall we add some more tests, such as missing open-parenthesis, missing close-parenthesis, extra tokens before/after error keyword, etc", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r420545617", "createdAt": "2020-05-06T04:58:57Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/expressions/ErrorConstructorExprTest.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.ballerinalang.compiler.parser.test.syntax.expressions;\n+\n+import org.testng.annotations.Test;\n+\n+/**\n+ * Test parsing Error constructor expression.\n+ *\n+ * @since 1.3.0\n+ */\n+public class ErrorConstructorExprTest extends AbstractExpressionsTest {\n+\n+    // Valid syntax\n+    @Test\n+    public void testWithOutArgs() {\n+        test(\"error()\", \"error-constructor-expr/error_constructor_expr_assert_01.json\");\n+    }\n+\n+    @Test\n+    public void testWithArgs1() {\n+        test(\"error(\\\"ERROR_REASON\\\", message = \\\"error message\\\")\", \"error-constructor-expr\" +\n+                \"/error_constructor_expr_assert_02.json\");\n+    }\n+\n+    @Test\n+    public void testWithArgs2() {\n+        test(\"error(\\\"ERROR_REASON\\\", \\\"error message\\\");\", \"error-constructor-expr\" +\n+                \"/error_constructor_expr_assert_03.json\");\n+    }\n+\n+    @Test\n+    public void testWithAssignment() {\n+        testFile(\"error-constructor-expr/error_constructor_expr_source_01.bal\", \"error-constructor-expr\" +\n+                \"/error_constructor_expr_assert_04.json\");\n+    }\n+\n+    //Invalid syntax\n+    @Test\n+    public void testWrongAssignment() {\n+        testFile(\"error-constructor-expr/error_constructor_expr_source_02.bal\", \"error-constructor-expr\" +\n+                \"/error_constructor_expr_assert_05.json\");\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d"}, "originalPosition": 59}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02001a19913066eea69cd8c3d11f9d8cc5dd988d", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/02001a19913066eea69cd8c3d11f9d8cc5dd988d", "committedDate": "2020-05-06T04:13:31Z", "message": "Remove duplicate keywords"}, "afterCommit": {"oid": "e03ea07b44ae73839f59c9fd63a4bf25f9c8606e", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e03ea07b44ae73839f59c9fd63a4bf25f9c8606e", "committedDate": "2020-05-08T10:20:29Z", "message": "Handle errors"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a930fd9f1c9ae1de5196072c730bae3e6d02589", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3a930fd9f1c9ae1de5196072c730bae3e6d02589", "committedDate": "2020-05-08T13:20:08Z", "message": "Change the transformer"}, "afterCommit": {"oid": "e898ce939e54d42b300da7ab53faa2d4fca510a6", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e898ce939e54d42b300da7ab53faa2d4fca510a6", "committedDate": "2020-05-08T13:30:00Z", "message": "Change the transformer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "371a032d037518f1e222ca7c7ca07367c9f55b7d", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/371a032d037518f1e222ca7c7ca07367c9f55b7d", "committedDate": "2020-05-08T13:35:19Z", "message": "Change the tests"}, "afterCommit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0b44aaa7333f090376a57283b07684d536b6378b", "committedDate": "2020-05-08T13:39:33Z", "message": "Change the tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NjM4MjI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#pullrequestreview-408638225", "createdAt": "2020-05-09T10:28:09Z", "commit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQxMDoyODowOVrOGS6JrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQxMDo0MjoyMFrOGS6OHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ4MDMwMQ==", "bodyText": "Do we need the syntaxKind as a parameter for this? This method is used only in one place", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r422480301", "createdAt": "2020-05-09T10:28:09Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3470,6 +3472,28 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * Parse error constructor expression.\n+     * <code>functional-constructor-expr := functionally-constructible-type-reference ( arg-list )\n+     * functionally-constructible-type-reference := error | type-reference</code>\n+     *\n+     * @param kind Syntax kind\n+     * @return Functional constructor expression\n+     */\n+    private STNode parseFunctionalConstructorExpr(SyntaxKind kind) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ4MTAzOA==", "bodyText": "Even-though a context is started here, its never ended.\nShould be ended after ending the args-list context.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r422481038", "createdAt": "2020-05-09T10:37:07Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParserErrorHandler.java", "diffHunk": "@@ -1346,6 +1348,7 @@ protected ParserRuleContext getNextRule(ParserRuleContext currentCtx, int nextLo\n             case KEY_SPECIFIER:\n             case ERROR_TYPE_DESCRIPTOR:\n             case LET_VAR_DECL:\n+            case ERROR_CONSTRUCTOR_EXPRESSION:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ4MTQzOA==", "bodyText": "Need to add proper line-breaks/paragraph-starts, to render properly. Check other doc comments.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r422481438", "createdAt": "2020-05-09T10:42:20Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3470,6 +3472,28 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * Parse error constructor expression.\n+     * <code>functional-constructor-expr := functionally-constructible-type-reference ( arg-list )\n+     * functionally-constructible-type-reference := error | type-reference</code>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe4a328e130d0fcdc16adf42562db4c9a9ff2d72", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fe4a328e130d0fcdc16adf42562db4c9a9ff2d72", "committedDate": "2020-05-11T15:48:34Z", "message": "Parse error-constructor-expr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b16c4166b9a68bc7b5d84bb244ef7c3becf6923", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1b16c4166b9a68bc7b5d84bb244ef7c3becf6923", "committedDate": "2020-05-11T15:48:34Z", "message": "Add the transformer logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea4fd78ab84bbaf893a085f7d472e8ab30778581", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ea4fd78ab84bbaf893a085f7d472e8ab30778581", "committedDate": "2020-05-11T15:48:34Z", "message": "Add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b62c0425018d23f0f08fda4643016867a75b0d9", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7b62c0425018d23f0f08fda4643016867a75b0d9", "committedDate": "2020-05-11T15:48:34Z", "message": "Remove duplicate keywords"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be53a6c6f05e39768dfeda87433b06aa6526bf3a", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/be53a6c6f05e39768dfeda87433b06aa6526bf3a", "committedDate": "2020-05-11T15:48:34Z", "message": "Add tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0cf04d0cef69e5ca22946e1550409b46f409e1d", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c0cf04d0cef69e5ca22946e1550409b46f409e1d", "committedDate": "2020-05-11T15:49:47Z", "message": "Change the basic node"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5262d7403aba5b16246270307711f1cefe76b35d", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5262d7403aba5b16246270307711f1cefe76b35d", "committedDate": "2020-05-11T15:53:23Z", "message": "Handle errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a0be670fc6dd16661636368aabd7818bc0a1c5e", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2a0be670fc6dd16661636368aabd7818bc0a1c5e", "committedDate": "2020-05-11T15:53:23Z", "message": "Change the transformer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c99dcb11f41aad0646377518ae35ecbc89e79f72", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c99dcb11f41aad0646377518ae35ecbc89e79f72", "committedDate": "2020-05-11T15:53:23Z", "message": "Change the tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7c571397ca0853d86c615a3c532bda2937f48bd", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7c571397ca0853d86c615a3c532bda2937f48bd", "committedDate": "2020-05-11T15:57:12Z", "message": "Remove the context for error constructor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b44aaa7333f090376a57283b07684d536b6378b", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0b44aaa7333f090376a57283b07684d536b6378b", "committedDate": "2020-05-08T13:39:33Z", "message": "Change the tests"}, "afterCommit": {"oid": "b7c571397ca0853d86c615a3c532bda2937f48bd", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b7c571397ca0853d86c615a3c532bda2937f48bd", "committedDate": "2020-05-11T15:57:12Z", "message": "Remove the context for error constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55a36269e7730a45a116f6d27ecda08693a70def", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/55a36269e7730a45a116f6d27ecda08693a70def", "committedDate": "2020-05-12T03:27:55Z", "message": "Add the context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37cd3e204c1b9afcf5cb999e586735d33f74e912", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/37cd3e204c1b9afcf5cb999e586735d33f74e912", "committedDate": "2020-05-12T04:47:50Z", "message": "Change the tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "103f19765e64984f1ae50b77e52f49348418fcce", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/103f19765e64984f1ae50b77e52f49348418fcce", "committedDate": "2020-05-12T05:27:32Z", "message": "Remove the node"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f07d7051283be7928f610e052316bed5b3825e2a", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f07d7051283be7928f610e052316bed5b3825e2a", "committedDate": "2020-05-12T04:54:05Z", "message": "Remove the node"}, "afterCommit": {"oid": "103f19765e64984f1ae50b77e52f49348418fcce", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/103f19765e64984f1ae50b77e52f49348418fcce", "committedDate": "2020-05-12T05:27:32Z", "message": "Remove the node"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bf3036c29ed3c04b0bb9e0ac47ff7a21d4fff3f", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4bf3036c29ed3c04b0bb9e0ac47ff7a21d4fff3f", "committedDate": "2020-05-12T05:32:52Z", "message": "Remove the SyntaxKind"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0595650d06a418bed7a2107d34cd5714be024a2f", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0595650d06a418bed7a2107d34cd5714be024a2f", "committedDate": "2020-05-12T05:29:53Z", "message": "Remove the SyntaxKind"}, "afterCommit": {"oid": "4bf3036c29ed3c04b0bb9e0ac47ff7a21d4fff3f", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4bf3036c29ed3c04b0bb9e0ac47ff7a21d4fff3f", "committedDate": "2020-05-12T05:32:52Z", "message": "Remove the SyntaxKind"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/af77ae5a1f52c76c180bd18b3e93f63e96e96b6a", "committedDate": "2020-05-12T05:39:43Z", "message": "Add new line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzE4Nzg4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#pullrequestreview-409718788", "createdAt": "2020-05-12T05:57:40Z", "commit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNTo1Nzo0MFrOGT3Gog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjowMjowN1rOGT3MbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ3ODk0Ng==", "bodyText": "Wrong method name. This method only parse error constructor.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r423478946", "createdAt": "2020-05-12T05:57:40Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3776,6 +3778,22 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * <p>\n+     * Parse error constructor expression.\n+     * </p>\n+     * <code>\n+     * functional-constructor-expr := functionally-constructible-type-reference ( arg-list )\n+     * functionally-constructible-type-reference := error | type-reference\n+     * </code>\n+     *\n+     * @return Functional constructor expression\n+     */\n+    private STNode parseFunctionalConstructorExpr() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ3OTA2OQ==", "bodyText": "var-name is not correct.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r423479069", "createdAt": "2020-05-12T05:57:58Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -3776,6 +3778,22 @@ private STNode parseFuncCall(STNode identifier) {\n         return STNodeFactory.createFunctionCallExpressionNode(identifier, openParen, args, closeParen);\n     }\n \n+    /**\n+     * <p>\n+     * Parse error constructor expression.\n+     * </p>\n+     * <code>\n+     * functional-constructor-expr := functionally-constructible-type-reference ( arg-list )\n+     * functionally-constructible-type-reference := error | type-reference\n+     * </code>\n+     *\n+     * @return Functional constructor expression\n+     */\n+    private STNode parseFunctionalConstructorExpr() {\n+        STNode functionallyConstructibleTypeReference = parseErrorKeyWord();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ3OTIwNw==", "bodyText": "don't need the else block, can simply return", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r423479207", "createdAt": "2020-05-12T05:58:25Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParserErrorHandler.java", "diffHunk": "@@ -1865,8 +1866,9 @@ protected ParserRuleContext getNextRule(ParserRuleContext currentCtx, int nextLo\n             case ERROR_KEYWORD:\n                 if (isInTypeDescContext()) {\n                     return ParserRuleContext.ERROR_TYPE_PARAM_START;\n+                } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ4MDQyOA==", "bodyText": "Don't need two levels of directories functional-constructor-expr/error-constructor-expr/", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#discussion_r423480428", "createdAt": "2020-05-12T06:02:07Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-parser/src/test/java/io/ballerinalang/compiler/parser/test/syntax/expressions/ErrorConstructorExprTest.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.ballerinalang.compiler.parser.test.syntax.expressions;\n+\n+import org.testng.annotations.Test;\n+\n+/**\n+ * Test parsing Error constructor expression.\n+ *\n+ * @since 1.3.0\n+ */\n+public class ErrorConstructorExprTest extends AbstractExpressionsTest {\n+\n+    // Valid syntax\n+    @Test\n+    public void testWithOutArgs() {\n+        test(\"error()\", \"functional-constructor-expr/error-constructor-expr/error_constructor_expr_without_args.json\");\n+    }\n+\n+    @Test\n+    public void testWithArgs() {\n+        test(\"error(\\\"ERROR_REASON\\\", message = \\\"error message\\\")\", \"functional-constructor-expr/error-constructor\" +\n+                \"-expr/error_constructor_expr_with_args_01.json\");\n+        test(\"error(\\\"ERROR_REASON\\\", \\\"error message\\\");\", \"functional-constructor-expr/error-constructor-expr\" +\n+                \"/error_constructor_expr_with_args_02.json\");\n+    }\n+\n+    @Test\n+    public void testWithAssignment() {\n+        testFile(\"functional-constructor-expr/error-constructor-expr/error_constructor_expr_source_01.bal\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af77ae5a1f52c76c180bd18b3e93f63e96e96b6a"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36b865ab3731cae5912d1c6c93919a3d7ccc273e", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/36b865ab3731cae5912d1c6c93919a3d7ccc273e", "committedDate": "2020-05-12T11:14:43Z", "message": "Fix the suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1172f068d03280d6ef49fbdbeaed54231d729a4", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a1172f068d03280d6ef49fbdbeaed54231d729a4", "committedDate": "2020-05-12T11:17:08Z", "message": "Change the doc comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1f574b0b44c883d2a5028db920c84bb0c1b3b89", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e1f574b0b44c883d2a5028db920c84bb0c1b3b89", "committedDate": "2020-05-12T09:40:56Z", "message": "Fix the suggestions"}, "afterCommit": {"oid": "a1172f068d03280d6ef49fbdbeaed54231d729a4", "author": {"user": {"login": "KavinduZoysa", "name": null}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a1172f068d03280d6ef49fbdbeaed54231d729a4", "committedDate": "2020-05-12T11:17:08Z", "message": "Change the doc comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5OTc5MTAw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23114#pullrequestreview-409979100", "createdAt": "2020-05-12T12:15:07Z", "commit": {"oid": "a1172f068d03280d6ef49fbdbeaed54231d729a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3393, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}