{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NzU2NTA1", "number": 24978, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoyMDo0MVrOESztVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzo1NjowNlrOETkiFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTU3MDEyOnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoyMDo0MVrOG4MNJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMDo0NzowMVrOG4eOIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3MzQxNQ==", "bodyText": "We can move doc comments to align with the function now. The issue we had earlier is now fixed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461573415", "createdAt": "2020-07-28T13:20:41Z", "author": {"login": "daneshk"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg2ODU3Nw==", "bodyText": "Fixed in 53413b5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461868577", "createdAt": "2020-07-28T20:47:01Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3MzQxNQ=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTU4MDE2OnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoyMjo1M1rOG4MTTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMDozMTo1OFrOG4yiBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NDk4OQ==", "bodyText": "Let's say I have to read 2 properties file in single ballerina code. Due to this only the first reader will be successful isn't it? We have to load properties every time from the reader.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461574989", "createdAt": "2020-07-28T13:22:53Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY5ODI2MQ==", "bodyText": "No, when I test it is the other way around. Actually I added this to solve the problem that you mentioned. For example, once we read we cannot use the reader once, it is not reusable. This won't be a problem in other APIs since they read only once. From, this we store the properties statically and reuse again when we needed.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461698261", "createdAt": "2020-07-28T16:05:07Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NDk4OQ=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NDQwMg==", "bodyText": "Here we are not reading the properties from the same file. If we try to read 2 different files, this will read only from one of this since the Properties is a static variable.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462054402", "createdAt": "2020-07-29T05:53:21Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NDk4OQ=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjIwMTM0OA==", "bodyText": "Fixed in fe3ba68", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462201348", "createdAt": "2020-07-29T10:31:58Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NDk4OQ=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTU5Mzk4OnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoyNjowNVrOG4Mb9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMDo0NzoyM1rOG4eO1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NzIwNw==", "bodyText": "Remove log", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461577207", "createdAt": "2020-07-28T13:26:05Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;\n+\n+    // Read a property related to a given key and return the BString value.\n+    public static BString readProperty(Reader reader, BString key) throws IOException {\n+        if (properties == null) {\n+            properties = new Properties();\n+            properties.load(reader);\n+        }\n+        return org.ballerinalang.jvm.StringUtils.fromString(properties.getProperty(key.getValue()));\n+    }\n+\n+    // Read all properties and return as a ballerina map\n+    public static MapValue<BString, BString> readAllProperties(Reader reader) throws IOException {\n+        if (properties == null) {\n+            properties = new Properties();\n+            properties.load(reader);\n+        }\n+        MappingInitialValueEntry.KeyValueEntry[] keyValues = new MappingInitialValueEntry\n+                .KeyValueEntry[properties.stringPropertyNames().size()];\n+        int i = 0;\n+        for (Enumeration<?> e = properties.propertyNames(); e.hasMoreElements(); ) {\n+            String key = (String) e.nextElement();\n+            String value = properties.getProperty(key);\n+            MappingInitialValueEntry.KeyValueEntry keyValue = new MappingInitialValueEntry.KeyValueEntry(\n+                    StringUtils.fromString(key), StringUtils.fromString(value));\n+            keyValues[i] = keyValue;\n+            i++;\n+        }\n+        return new MapValueImpl<>(mapType, keyValues);\n+    }\n+\n+    // Generate writable string content to a property file using a given map.\n+    public static String getWritablePropertyContent(BMap<BString, BString> propertiesMap) {\n+        Set<Map.Entry<BString, BString>> propertiesSet = propertiesMap.entrySet();\n+        Iterator<Map.Entry<BString, BString>> iterator = propertiesSet.iterator();\n+        String content = \"\";\n+        while (iterator.hasNext()) {\n+            Map.Entry<BString, BString> entry = iterator.next();\n+            content = content +\n+                   entry.getKey().getValue() + \"=\" + entry.getValue().getValue() + \"\\n\";\n+        }\n+        log.info(content);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg2ODc1OA==", "bodyText": "Fixed in 775ccc6", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461868758", "createdAt": "2020-07-28T20:47:23Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/utils/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,91 @@\n+/*\n+ * Copyright (c) 2020 WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.ballerinalang.stdlib.io.utils;\n+\n+import org.ballerinalang.jvm.StringUtils;\n+import org.ballerinalang.jvm.types.BMapType;\n+import org.ballerinalang.jvm.types.BTypes;\n+import org.ballerinalang.jvm.values.MapValue;\n+import org.ballerinalang.jvm.values.MapValueImpl;\n+import org.ballerinalang.jvm.values.MappingInitialValueEntry;\n+import org.ballerinalang.jvm.values.api.BMap;\n+import org.ballerinalang.jvm.values.api.BString;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.util.Enumeration;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+/**\n+ * The utility class used to execute read/write operations to a property file.\n+ *\n+ */\n+public class PropertyUtils {\n+    private static final Logger log = LoggerFactory.getLogger(PropertyUtils.class);\n+    private static final BMapType mapType = new BMapType(BTypes.typeString);\n+    private static Properties properties = null;\n+\n+    // Read a property related to a given key and return the BString value.\n+    public static BString readProperty(Reader reader, BString key) throws IOException {\n+        if (properties == null) {\n+            properties = new Properties();\n+            properties.load(reader);\n+        }\n+        return org.ballerinalang.jvm.StringUtils.fromString(properties.getProperty(key.getValue()));\n+    }\n+\n+    // Read all properties and return as a ballerina map\n+    public static MapValue<BString, BString> readAllProperties(Reader reader) throws IOException {\n+        if (properties == null) {\n+            properties = new Properties();\n+            properties.load(reader);\n+        }\n+        MappingInitialValueEntry.KeyValueEntry[] keyValues = new MappingInitialValueEntry\n+                .KeyValueEntry[properties.stringPropertyNames().size()];\n+        int i = 0;\n+        for (Enumeration<?> e = properties.propertyNames(); e.hasMoreElements(); ) {\n+            String key = (String) e.nextElement();\n+            String value = properties.getProperty(key);\n+            MappingInitialValueEntry.KeyValueEntry keyValue = new MappingInitialValueEntry.KeyValueEntry(\n+                    StringUtils.fromString(key), StringUtils.fromString(value));\n+            keyValues[i] = keyValue;\n+            i++;\n+        }\n+        return new MapValueImpl<>(mapType, keyValues);\n+    }\n+\n+    // Generate writable string content to a property file using a given map.\n+    public static String getWritablePropertyContent(BMap<BString, BString> propertiesMap) {\n+        Set<Map.Entry<BString, BString>> propertiesSet = propertiesMap.entrySet();\n+        Iterator<Map.Entry<BString, BString>> iterator = propertiesSet.iterator();\n+        String content = \"\";\n+        while (iterator.hasNext()) {\n+            Map.Entry<BString, BString> entry = iterator.next();\n+            content = content +\n+                   entry.getKey().getValue() + \"=\" + entry.getValue().getValue() + \"\\n\";\n+        }\n+        log.info(content);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3NzIwNw=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTYwNTU4OnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoyODo0MlrOG4MjJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMDozMjoxOFrOG4yirw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3OTA0Ng==", "bodyText": "Shall we include default value too? If not nil this will return the default value in case property is not set in the file.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461579046", "createdAt": "2020-07-28T13:28:42Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg2OTQzMg==", "bodyText": "Enable return () when the key-value pair is not available. Fixed in 69ad640", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461869432", "createdAt": "2020-07-28T20:48:38Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3OTA0Ng=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NDY3OA==", "bodyText": "What I mean was to tweak the API as,\npublic function readProperty(string key, string defaultValue) returns @tainted string?|Error {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462054678", "createdAt": "2020-07-29T05:54:17Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3OTA0Ng=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjIwMTUxOQ==", "bodyText": "Fixed in here d2062dc", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462201519", "createdAt": "2020-07-29T10:32:18Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3OTA0Ng=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTYzNDE3OnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/nativeimpl/CharacterChannelUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzozNDo0N1rOG4M1AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMDo0OTo1M1rOG4eUGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU4MzYxNg==", "bodyText": "Any reason to write properties using custom content rather than using Properties.store()", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461583616", "createdAt": "2020-07-28T13:34:47Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/nativeimpl/CharacterChannelUtils.java", "diffHunk": "@@ -146,4 +168,16 @@ public static Object writeXml(ObjectValue characterChannelObj, XMLValue content)\n         }\n         return null;\n     }\n+\n+    public static Object writeProperties(ObjectValue characterChannelObj, BMap<BString, BString> propertyMap) {\n+        try {\n+            CharacterChannel characterChannel = (CharacterChannel) characterChannelObj\n+                    .getNativeData(CHARACTER_CHANNEL_NAME);\n+            String content = PropertyUtils.getWritablePropertyContent(propertyMap);\n+            IOUtils.writeFull(characterChannel, content);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg3MDEwNA==", "bodyText": "Fixed in 61d9daa. Both are quite same, here I changed it to store() since we need to add comments if needed, as specified in the Java store() function.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461870104", "createdAt": "2020-07-28T20:49:53Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/java/org/ballerinalang/stdlib/io/nativeimpl/CharacterChannelUtils.java", "diffHunk": "@@ -146,4 +168,16 @@ public static Object writeXml(ObjectValue characterChannelObj, XMLValue content)\n         }\n         return null;\n     }\n+\n+    public static Object writeProperties(ObjectValue characterChannelObj, BMap<BString, BString> propertyMap) {\n+        try {\n+            CharacterChannel characterChannel = (CharacterChannel) characterChannelObj\n+                    .getNativeData(CHARACTER_CHANNEL_NAME);\n+            String content = PropertyUtils.getWritablePropertyContent(propertyMap);\n+            IOUtils.writeFull(characterChannel, content);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU4MzYxNg=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MTYzNjkzOnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzozNToyMFrOG4M2sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMDo0Njo0M1rOG4eNfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU4NDA0OA==", "bodyText": "Comments can be aligned properly now. The issue with the doc is fixed.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461584048", "createdAt": "2020-07-28T13:35:20Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {\n+        return readPropertyExtern(self, key);\n+    }\n+\n+# Reads all properties from a .properties file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg2ODQxNQ==", "bodyText": "Fixed in 53413b5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r461868415", "createdAt": "2020-07-28T20:46:43Z", "author": {"login": "BuddhiWathsala"}, "path": "stdlib/io/src/main/ballerina/src/io/readable_character_channel.bal", "diffHunk": "@@ -64,6 +64,26 @@ public type ReadableCharacterChannel object {\n         return readXmlExtern(self);\n     }\n \n+# Reads a property from a .properties file.\n+# ```ballerina\n+# string|io:Error result = readableCharChannel.readProperty(key);\n+# ```\n+# + key - The property key needs to read.\n+# + return - The read property value or else an `io:Error`\n+    public function readProperty(string key) returns @tainted string|Error {\n+        return readPropertyExtern(self, key);\n+    }\n+\n+# Reads all properties from a .properties file.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU4NDA0OA=="}, "originalCommit": {"oid": "b2a33f9a6cff54c25f7d83766cfed8d56ded7cd5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4OTU1ODE0OnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/test/resources/test-src/io/char_io.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzo1Mjo1N1rOG5YAdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzo1Mjo1N1rOG5YAdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjgxNTM0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (result is string) {\n          \n          \n            \n                        return result;\n          \n          \n            \n                    } else {\n          \n          \n            \n                        return result;\n          \n          \n            \n                    }\n          \n          \n            \n                    return result;", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462815348", "createdAt": "2020-07-30T07:52:57Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/test/resources/test-src/io/char_io.bal", "diffHunk": "@@ -130,6 +130,61 @@ function readXml() returns @tainted xml|error {\n     return e;\n }\n \n+function readAvailableProperty(string key) returns @tainted string?|error {\n+    var rCha = rch;\n+    if(rCha is io:ReadableCharacterChannel) {\n+        var result = rCha.readProperty(key);\n+        if (result is string) {\n+            return result;\n+        } else {\n+            return result;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7eae9a467332264d96abf876f12cdb5dec5e275c"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4OTU2OTUwOnYy", "diffSide": "RIGHT", "path": "stdlib/io/src/main/ballerina/src/io/writable_character_channel.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzo1NjowNlrOG5YHhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzo1NjowNlrOG5YHhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjgxNzE1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # + comments - The comments to be added to the file.\n          \n          \n            \n                # + comment - Comment describing the property list\n          \n      \n    \n    \n  \n\nChange in the api too", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24978#discussion_r462817158", "createdAt": "2020-07-30T07:56:06Z", "author": {"login": "niveathika"}, "path": "stdlib/io/src/main/ballerina/src/io/writable_character_channel.bal", "diffHunk": "@@ -32,46 +32,57 @@ public type WritableCharacterChannel object {\n         initWritableCharacterChannel(self, bChannel, charset);\n     }\n \n-# Writes a given sequence of characters (string).\n-# ```ballerina\n-# int|io:Error result = writableCharChannel.write(\"Content\", 0);\n-# ```\n-#\n-# + content - Content, which should be written\n-# + startOffset - Number of characters, which should be offset when writing the content\n-# + return - Content length that written or else `io:Error`\n+    # Writes a given sequence of characters (string).\n+    # ```ballerina\n+    # int|io:Error result = writableCharChannel.write(\"Content\", 0);\n+    # ```\n+    #\n+    # + content - Content, which should be written\n+    # + startOffset - Number of characters, which should be offset when writing the content\n+    # + return - Content length that written or else `io:Error`\n     public function write(string content, int startOffset) returns int|Error {\n         return writeExtern(self, content, startOffset);\n     }\n \n-# Writes a given JSON to the given channel.\n-# ```ballerina\n-# io:Error? err = writableCharChannel.writeJson(inputJson, 0);\n-# ```\n-#\n-# + content - The JSON, which should be written\n-# + return - If an `io:Error` occurred while writing\n+    # Writes a given JSON to the given channel.\n+    # ```ballerina\n+    # io:Error? err = writableCharChannel.writeJson(inputJson, 0);\n+    # ```\n+    #\n+    # + content - The JSON, which should be written\n+    # + return - If an `io:Error` occurred while writing\n     public function writeJson(json content) returns Error? {\n         return writeJsonExtern(self, content);\n     }\n \n-# Writes a given XML to the channel.\n-# ```ballerina\n-# io:Error? err = writableCharChannel.writeXml(inputXml, 0);\n-# ```\n-# \n-# + content - The XML, which should be written\n-# + return - `()` or else `io:Error` if any error occurred\n+    # Writes a given XML to the channel.\n+    # ```ballerina\n+    # io:Error? err = writableCharChannel.writeXml(inputXml, 0);\n+    # ```\n+    #\n+    # + content - The XML, which should be written\n+    # + return - `()` or else `io:Error` if any error occurred\n     public function writeXml(xml content) returns Error? {\n         return writeXmlExtern(self, content);\n     }\n \n-# Closes a given `WritableCharacterChannel` channel.\n-# ```ballerina\n-# io:Error err = writableCharChannel.close();\n-# ```\n-#\n-# + return - `()` or else an `io:Error` if any error occurred\n+    # Writes a given key-valued pair `map<string>` to a property file.\n+    # ```ballerina\n+    # io:Error? err = writableCharChannel.writeProperties(properties);\n+    # ```\n+    # + properties - The map<string> that contains keys and values.\n+    # + comments - The comments to be added to the file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7eae9a467332264d96abf876f12cdb5dec5e275c"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 463, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}