{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczMjQwMTA3", "number": 20965, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwODoxOTo0OFrODgmW6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNzowMToxOVrODhaUhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1NTA5NDgwOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwODoxOTo0OFrOFq41pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwODoxOTo0OFrOFq41pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUxNTc0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"Pull command requires the names of the organization and module.\",\n          \n          \n            \n                                \"pull command requires the names of the organization and module.\",\n          \n      \n    \n    \n  \n\nAren't we using simple letters only for warnings?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r380515748", "createdAt": "2020-02-18T08:19:48Z", "author": {"login": "pramodya1994"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +81,34 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n+        String[] module = resourceName.split(\"/\");\n+        if (module.length == 2) {\n+            orgName = module[0];\n+            packageName = module[1];\n             if (orgName.equals(\"ballerina\")) {\n                 throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n                                                                     + \" are included in the runtime.\");\n             }\n         } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+            CommandUtil.printError(outStream,\n+                    \"Pull command requires the names of the organization and module.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02a392c11f05a1f141d9e0ecff90ab02ccb70ada"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODg0MjQwOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MTowN1rOFrcxBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MTowN1rOFrcxBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNDM5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return (Pattern.matches(getPullCommandRegex(), str));\n          \n          \n            \n                    return Pattern.matches(getPullCommandRegex(), str);", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381104391", "createdAt": "2020-02-19T06:51:07Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -147,4 +155,12 @@ public void printUsage(StringBuilder out) {\n     @Override\n     public void setParentCmdParser(CommandLine parentCmdParser) {\n     }\n+\n+    private String getPullCommandRegex() {\n+        return MODULE_NAME_REGEX;\n+    }\n+\n+    public boolean validateModuleName(String str) {\n+        return (Pattern.matches(getPullCommandRegex(), str));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODg0NTQ0OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MjozNlrOFrcy2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MjozNlrOFrcy2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNDg1OA==", "bodyText": "Shall we use one spilt function and use return array to get module name and version? we can remove contains and check split array", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381104858", "createdAt": "2020-02-19T06:52:36Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,34 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name\",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] module = resourceName.split(\"/\");\n+        orgName = module[0];\n+        packageName = module[1];\n+        if (orgName.equals(\"ballerina\")) {\n+            throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n+                    + \" are included in the runtime.\");\n         }\n \n         // Get module name\n-        int packageNameIndex = resourceName.indexOf(\":\");\n-        if (packageNameIndex != -1) { // version is provided\n-            moduleName = resourceName.substring(orgNameIndex + 1, packageNameIndex);\n-            version = resourceName.substring(packageNameIndex + 1, resourceName.length());\n+        if (packageName.contains(\":\")) { // version is provided", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODg0NzE2OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MzoyM1rOFrcz0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1MzoyM1rOFrcz0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNTEwNg==", "bodyText": "space after org name", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381105106", "createdAt": "2020-02-19T06:53:23Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,34 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODg0ODk0OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1NDoxN1rOFrc0zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNzoyOTowNlrOFrdfHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNTM1OQ==", "bodyText": "start with simple letter and shall we remove starting space.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381105359", "createdAt": "2020-02-19T06:54:17Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,34 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name\",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] module = resourceName.split(\"/\");\n+        orgName = module[0];\n+        packageName = module[1];\n+        if (orgName.equals(\"ballerina\")) {\n+            throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTExNjE4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n          \n          \n            \n                        throw LauncherUtils.createLauncherException(\"`ballerina` is the builtin organization and its modules\"", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381116189", "createdAt": "2020-02-19T07:29:06Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,34 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name\",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] module = resourceName.split(\"/\");\n+        orgName = module[0];\n+        packageName = module[1];\n+        if (orgName.equals(\"ballerina\")) {\n+            throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNTM1OQ=="}, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1ODg0OTcwOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1NDo0N1rOFrc1Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwNjo1NDo0N1rOFrc1Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEwNTQ3NA==", "bodyText": "Shall we add a comment on describing regex rules.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381105474", "createdAt": "2020-02-19T06:54:47Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "diffHunk": "@@ -37,4 +37,9 @@\n     static final String SEARCH_COMMAND = \"search\";\n     static final String CLEAN_COMMAND = \"clean\";\n     static final String UNINSTALL_COMMAND = \"uninstall\";\n+\n+    static final String MODULE_NAME_REGEX = \"[^0-9_][_\\\\w]+/[^0-9_][_\\\\.\\\\w]+|\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7222adea8976c8fbd9b04704b30bc9d19fce5508"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAxMzgyOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODowODo1N1rOFreY7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODowODo1N1rOFreY7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMDk4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Get org-name\n          \n          \n            \n                    // Get the name of the organization.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381130989", "createdAt": "2020-02-19T08:08:57Z", "author": {"login": "praneesha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb958be5729e27e002425295624009e3d99fff83"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAxNTEyOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODowOTozMFrOFreZwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODowOTozMFrOFreZwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMTIwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // Get module name\n          \n          \n            \n                    // Get the name of the module.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381131201", "createdAt": "2020-02-19T08:09:30Z", "author": {"login": "praneesha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name \",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] moduleInfo = resourceName.split(\"/\");\n+        orgName = moduleInfo[0];\n+        packageName = moduleInfo[1];\n+        if (orgName.equals(\"ballerina\")) {\n+            throw LauncherUtils.createLauncherException(\"`ballerina` is the builtin organization and its modules\"\n+                    + \" are included in the runtime.\");\n         }\n \n         // Get module name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb958be5729e27e002425295624009e3d99fff83"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAyMzQxOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMjozOVrOFreexA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMjozOVrOFreexA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjQ4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                //module name format : <org-name>/<module-name> | <org-name>/<module-name>:<version>\n          \n          \n            \n                //Module name format: <org-name>/<module-name> | <org-name>/<module-name>:<version>", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381132484", "createdAt": "2020-02-19T08:12:39Z", "author": {"login": "praneesha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "diffHunk": "@@ -37,4 +37,11 @@\n     static final String SEARCH_COMMAND = \"search\";\n     static final String CLEAN_COMMAND = \"clean\";\n     static final String UNINSTALL_COMMAND = \"uninstall\";\n+\n+    //module name format : <org-name>/<module-name> | <org-name>/<module-name>:<version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83b54a671431b87a44e6efc98344f72ba798d00"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAyNDAxOnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMjo1MlrOFrefIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMjo1MlrOFrefIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjU3OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                //version format : 1, 1.*, 1.*.*\n          \n          \n            \n                //Module version format: 1, 1.*, 1.*.*", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381132579", "createdAt": "2020-02-19T08:12:52Z", "author": {"login": "praneesha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/Constants.java", "diffHunk": "@@ -37,4 +37,11 @@\n     static final String SEARCH_COMMAND = \"search\";\n     static final String CLEAN_COMMAND = \"clean\";\n     static final String UNINSTALL_COMMAND = \"uninstall\";\n+\n+    //module name format : <org-name>/<module-name> | <org-name>/<module-name>:<version>\n+    //version format : 1, 1.*, 1.*.*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83b54a671431b87a44e6efc98344f72ba798d00"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTAyNTQ0OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMzoyNlrOFregEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODoxMzoyNlrOFregEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzMjgxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"invalid module name. Provide the module-name with the org-name \",\n          \n          \n            \n                                \"invalid module name. Provide the module name with the org name. \",", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381132816", "createdAt": "2020-02-19T08:13:26Z", "author": {"login": "praneesha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name \",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83b54a671431b87a44e6efc98344f72ba798d00"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1OTE4MTA2OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwOTowNjowNVrOFrgAFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwOTowNjowNVrOFrgAFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTE1NzM5Ng==", "bodyText": "if (orgName.equals(\"ballerina\") || orgName.equals(\"ballerinax\") ) {\nthrow LauncherUtils.createLauncherException(\"`ballerina' and 'ballerinax' are reserved \" +\n\"organization names used by Ballerina\");\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381157396", "createdAt": "2020-02-19T09:06:05Z", "author": {"login": "warunalakshitha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n-        // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        // Get the name of the organization.\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module name with the org name. \",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] moduleInfo = resourceName.split(\"/\");\n+        orgName = moduleInfo[0];\n+        packageName = moduleInfo[1];\n+        if (orgName.equals(\"ballerina\")) {\n+            throw LauncherUtils.createLauncherException(\"`ballerina` is the builtin organization and its modules\"\n+                    + \" are included in the runtime.\");\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c01bf39022a848c8c55048f264aa4a83dc29d4d2"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MzYwODM3OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNzowMToxOVrOFsIHOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNzoxMTo1NlrOFsITwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgxNDU4Ng==", "bodyText": "This should be removed we should not special case ballerina org", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381814586", "createdAt": "2020-02-20T07:01:19Z", "author": {"login": "hevayo"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name \",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] moduleInfo = resourceName.split(\"/\");\n+        orgName = moduleInfo[0];\n+        packageName = moduleInfo[1];\n+        if (orgName.equals(\"ballerina\") || orgName.equals(\"ballerinax\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea9e431228997fba446c0009395c7ae68d895a33"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgxNzc5Mg==", "bodyText": "Removed.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20965#discussion_r381817792", "createdAt": "2020-02-20T07:11:56Z", "author": {"login": "suganyasuven"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/PullCommand.java", "diffHunk": "@@ -81,28 +83,35 @@ public void execute() {\n \n         String resourceName = argList.get(0);\n         String orgName;\n+        String packageName;\n         String moduleName;\n         String version;\n \n         // Get org-name\n-        int orgNameIndex = resourceName.indexOf(\"/\");\n-        if (orgNameIndex != -1) {\n-            orgName = resourceName.substring(0, orgNameIndex);\n-            if (orgName.equals(\"ballerina\")) {\n-                throw LauncherUtils.createLauncherException(\"`Ballerina` is the builtin organization and its modules\"\n-                                                                    + \" are included in the runtime.\");\n-            }\n-        } else {\n-            throw LauncherUtils.createLauncherException(\"no module-name provided\");\n+        if (!validateModuleName(resourceName)) {\n+            CommandUtil.printError(outStream,\n+                    \"invalid module name. Provide the module-name with the org-name \",\n+                    \"ballerina pull {<org-name>/<module-name> | <org-name>/<module-name>:<version>}\",\n+                    false);\n+            Runtime.getRuntime().exit(1);\n+            return;\n+        }\n+\n+        String[] moduleInfo = resourceName.split(\"/\");\n+        orgName = moduleInfo[0];\n+        packageName = moduleInfo[1];\n+        if (orgName.equals(\"ballerina\") || orgName.equals(\"ballerinax\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgxNDU4Ng=="}, "originalCommit": {"oid": "ea9e431228997fba446c0009395c7ae68d895a33"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1191, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}