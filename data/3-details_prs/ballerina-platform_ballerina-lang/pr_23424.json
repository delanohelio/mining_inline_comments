{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNzQ0MTUy", "number": 23424, "title": "Allow type inclusion of non-abstract objects", "bodyText": "Purpose\nFixes #23359\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-05-22T06:37:46Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424", "merged": true, "mergeCommit": {"oid": "0850ad289aff80b9f4ec890cefd9ccd1c997f234"}, "closed": true, "closedAt": "2020-06-02T18:21:29Z", "author": {"login": "KRVPerera"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjtBbPgBqjMzNjM1Njc0NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnZEONAFqTQyMjk0NTA1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87f7401f6928fd221102549b95b93175c8957dc9", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/87f7401f6928fd221102549b95b93175c8957dc9", "committedDate": "2020-05-22T06:35:57Z", "message": "Allow type inclusion of non-abstract objects"}, "afterCommit": {"oid": "44ddc32949f082754a4e55021e176b7b21c96b85", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44ddc32949f082754a4e55021e176b7b21c96b85", "committedDate": "2020-05-22T07:20:26Z", "message": "Fix object type inclusion bstring unit test cases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1e395164bfde9507375574885abb7f2ef04ea44", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a1e395164bfde9507375574885abb7f2ef04ea44", "committedDate": "2020-05-25T06:49:19Z", "message": "Code improvement"}, "afterCommit": {"oid": "8d65d05d521e5e254b260f3f7b107fa92e3b2d0e", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8d65d05d521e5e254b260f3f7b107fa92e3b2d0e", "committedDate": "2020-05-25T08:12:09Z", "message": "Code improvement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41766a06e58dc84749cf63fdffb4944dd517e2cd", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/41766a06e58dc84749cf63fdffb4944dd517e2cd", "committedDate": "2020-05-26T02:05:35Z", "message": "Fix existing test for non abstract obj inclusion"}, "afterCommit": {"oid": "f27dd8313b27806842b1608032b120482012fd4f", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f27dd8313b27806842b1608032b120482012fd4f", "committedDate": "2020-05-26T02:10:25Z", "message": "Fix existing test for non abstract obj inclusion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f27dd8313b27806842b1608032b120482012fd4f", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f27dd8313b27806842b1608032b120482012fd4f", "committedDate": "2020-05-26T02:10:25Z", "message": "Fix existing test for non abstract obj inclusion"}, "afterCommit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/25e97d2cb587ad136f09523d18d5a12e34890555", "committedDate": "2020-05-26T04:51:20Z", "message": "Fix existing test for non abstract obj inclusion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDcwNTMy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#pullrequestreview-421470532", "createdAt": "2020-05-31T07:53:42Z", "commit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwNzo1Mzo0MlrOGc3YLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwNzo1Mzo0MlrOGc3YLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkyMDYyMw==", "bodyText": "When you replace, ArrayList with a HashSet, you lose the insertion order. That may cause intermittent test failures. Better option is to replace it with a LinkedHashSet.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#discussion_r432920623", "createdAt": "2020-05-31T07:53:42Z", "author": {"login": "hasithaa"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SymbolEnter.java", "diffHunk": "@@ -1431,7 +1432,7 @@ private void defineMembers(List<BLangTypeDefinition> typeDefNodes, SymbolEnv pkg\n                     defineNode(f, objMethodsEnv);\n                 });\n \n-                List<String> referencedFunctions = new ArrayList<>();\n+                Set<String> referencedFunctions = new HashSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDcxOTM3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#pullrequestreview-421471937", "createdAt": "2020-05-31T08:16:07Z", "commit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwODoxNjowN1rOGc3eMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQwODoxNjowN1rOGc3eMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkyMjE2Mg==", "bodyText": "We need to add a balo test case for this feature.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#discussion_r432922162", "createdAt": "2020-05-31T08:16:07Z", "author": {"login": "hasithaa"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/balo/object/ObjectInBaloTest.java", "diffHunk": "@@ -571,7 +571,9 @@ public void testObjectReferingTypeFromBaloNegative() {\n         int i = 0;\n         BAssertUtil.validateError(result, i++, \"undefined field 'name' in object 'Manager1'\", 25, 13);\n         BAssertUtil.validateError(result, i++, \"undefined field 'age' in object 'Manager1'\", 26, 13);\n-        BAssertUtil.validateError(result, i, \"incompatible types: 'foo:Manager1' is not an abstract object\", 38, 6);\n+        BAssertUtil.validateError(result, i,\n+                                  \"incompatible type reference 'foo:Manager1': a referenced object cannot have \" +\n+                                          \"non-public fields or methods\", 38, 6);\n     }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDk5NjQy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#pullrequestreview-421499642", "createdAt": "2020-05-31T14:23:41Z", "commit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNDoyMzo0MlrOGc5Tzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNDoyMzo0MlrOGc5Tzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1MjI3MA==", "bodyText": "Why are we using testerina?\nWe don't usually import non-langlib modules for language tests, including testerina.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#discussion_r432952270", "createdAt": "2020-05-31T14:23:42Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/object/object-type-reference.bal", "diffHunk": "@@ -13,6 +13,7 @@\n // KIND, either express or implied.  See the License for the\n // specific language governing permissions and limitations\n // under the License.\n+import ballerina/test;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07ac3e86245b8588cfffa4010a6f71b9c4539786", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/07ac3e86245b8588cfffa4010a6f71b9c4539786", "committedDate": "2020-06-02T06:57:51Z", "message": "Allow type inclusion of non-abstract objects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f18534c09999b7c1ab9b2815681ddcc9e83e3de", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6f18534c09999b7c1ab9b2815681ddcc9e83e3de", "committedDate": "2020-06-02T06:57:52Z", "message": "Fix object type inclusion unit test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "841dd156ade9daf18281733bb57e721be34ee278", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/841dd156ade9daf18281733bb57e721be34ee278", "committedDate": "2020-06-02T06:57:52Z", "message": "Set interface flag for referenced function symbols"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57f4f70540c9594491b61240bec57fbd5f8a19d9", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/57f4f70540c9594491b61240bec57fbd5f8a19d9", "committedDate": "2020-06-02T06:57:52Z", "message": "Fix existing test for non abstract obj inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e55b9358886a9cc9ec6bef3fbd9a41a834bb1d2", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6e55b9358886a9cc9ec6bef3fbd9a41a834bb1d2", "committedDate": "2020-06-02T06:57:52Z", "message": "Rename DS name to improve readability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5f5a222febd5fa5e52b1786058666918333aaf9", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f5f5a222febd5fa5e52b1786058666918333aaf9", "committedDate": "2020-06-02T06:57:52Z", "message": "Remove testerina dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa61026cb10ac2da61984697167376a2d8d8b27d", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fa61026cb10ac2da61984697167376a2d8d8b27d", "committedDate": "2020-06-02T06:57:52Z", "message": "Fix Code : variable name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e8601896a6850ade29a643e2e92a1153f220a2e", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e8601896a6850ade29a643e2e92a1153f220a2e", "committedDate": "2020-06-02T06:57:52Z", "message": "Balos test cases : non-abstract object inclusion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25e97d2cb587ad136f09523d18d5a12e34890555", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/25e97d2cb587ad136f09523d18d5a12e34890555", "committedDate": "2020-05-26T04:51:20Z", "message": "Fix existing test for non abstract obj inclusion"}, "afterCommit": {"oid": "8e8601896a6850ade29a643e2e92a1153f220a2e", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e8601896a6850ade29a643e2e92a1153f220a2e", "committedDate": "2020-06-02T06:57:52Z", "message": "Balos test cases : non-abstract object inclusion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95c235c517b7ef90f0bf84eb193f2bcb2a369983", "author": {"user": {"login": "KRVPerera", "name": "Rukshan Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/95c235c517b7ef90f0bf84eb193f2bcb2a369983", "committedDate": "2020-06-02T16:42:19Z", "message": "Add test non-abstract object inclusion from balos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyOTQ1MDU1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23424#pullrequestreview-422945055", "createdAt": "2020-06-02T18:21:22Z", "commit": {"oid": "95c235c517b7ef90f0bf84eb193f2bcb2a369983"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4526, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}