{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMjExOTgw", "number": 23020, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzozMDowMVrOD5szhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOToyMjo1N1rOD7-61Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxODI5NTExOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzozMDowMVrOGRHD-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMzo1MzoyNVrOGUHvig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5NDY4Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r420594682", "createdAt": "2020-05-06T07:30:01Z", "author": {"login": "dulajdilshan"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {\n+\n+    public BLangBlockStmt body;\n+\n+    public BLangBlock() {\n+    }\n+\n+    public BLangBlock(BLangBlockStmt body) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1MTU2Mg==", "bodyText": "Changed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423751562", "createdAt": "2020-05-12T13:53:25Z", "author": {"login": "chiranSachintha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {\n+\n+    public BLangBlockStmt body;\n+\n+    public BLangBlock() {\n+    }\n+\n+    public BLangBlock(BLangBlockStmt body) {\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5NDY4Mg=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjk3MzU3OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjozNDowMlrOGTOXvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMzo1OTozNFrOGUICjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ==", "bodyText": "Can we not use BLangBlockStmt, BlockStatementNode with some modifications instead of introducing new nodes? They are the same right? IMO, with this change we're introducing two ways to do the same thing.\n@pubudu91 thoughts?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422811581", "createdAt": "2020-05-11T06:34:02Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg0NzE5OA==", "bodyText": "The reason to add new node is to specialize block statement as one type of statement. I think when considering BLangBlockStmt it keeps all types of statements.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422847198", "createdAt": "2020-05-11T07:47:23Z", "author": {"login": "chiranSachintha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1NjQyOQ==", "bodyText": "Logic was changed according to available nodes.(BLangBlockStmt, BlockStatementNode)", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423756429", "createdAt": "2020-05-12T13:59:34Z", "author": {"login": "chiranSachintha"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjk4MjUyOnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjozNzoxOFrOGTOc0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMzo1OTo0NlrOGUIDKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMjg4Mw==", "bodyText": "Formatting seems off.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422812883", "createdAt": "2020-05-11T06:37:18Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,62 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+    return a;\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {\n+            a = a + 1;\n+            if (a == 3) {\n+                b = 8;\n+                }\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1NjU4NQ==", "bodyText": "Fixed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423756585", "createdAt": "2020-05-12T13:59:46Z", "author": {"login": "chiranSachintha"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,62 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+    return a;\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {\n+            a = a + 1;\n+            if (a == 3) {\n+                b = 8;\n+                }\n+            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMjg4Mw=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjk4MzYxOnYy", "diffSide": "RIGHT", "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjozNzozOVrOGTOdZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMTo0NTowMFrOGUtroQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA==", "bodyText": "Is this formatting correct?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422813028", "createdAt": "2020-05-11T06:37:39Z", "author": {"login": "MaryamZi"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2NjAyMA==", "bodyText": "No, with this change, \"{ }\" can use as an empty block statement and it will change the format. I have mentioned this in tooling team too.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422866020", "createdAt": "2020-05-11T08:20:28Z", "author": {"login": "chiranSachintha"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODkwNA==", "bodyText": "Can you create an issue to track this?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198904", "createdAt": "2020-05-13T06:25:11Z", "author": {"login": "MaryamZi"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDM3MzE1Mw==", "bodyText": "Sure I will", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424373153", "createdAt": "2020-05-13T11:45:00Z", "author": {"login": "chiranSachintha"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNjg5MzUyOnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwMzowNzoxMFrOGT0cWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNDowMDowM1rOGUIEEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTM1NA==", "bodyText": "wrong year", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435354", "createdAt": "2020-05-12T03:07:10Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1NjgxNw==", "bodyText": "Changed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423756817", "createdAt": "2020-05-12T14:00:03Z", "author": {"login": "chiranSachintha"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTM1NA=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNjg5NTY0OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwMzowODo0M1rOGT0dtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwMzowODo0M1rOGT0dtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTcwMw==", "bodyText": "you can use a single line description, and then use <code> { statement* } </code> to represent the code", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435703", "createdAt": "2020-05-12T03:08:43Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.model.tree.statements;\n+\n+/**\n+ * {.\n+ *  body.\n+ * }.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTYyNDA0OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyMzo0NlrOGUjAng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyMzo0NlrOGUjAng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODMwMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(a == 3) {\n          \n          \n            \n                        if (a == 3) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198302", "createdAt": "2020-05-13T06:23:46Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,61 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {\n+            a = a + 1;\n+            if(a == 3) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTYyNjU2OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyNDo0MFrOGUjCHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyNDo0MFrOGUjCHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODY4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    while(a < 4) {\n          \n          \n            \n                    while (a < 4) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198684", "createdAt": "2020-05-13T06:24:40Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,61 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTYyOTA1OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyNTozOFrOGUjDmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyNTozOFrOGUjDmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5OTA2NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n          \n          \n            \n            function testRedeclareFunctionParameterInBlockStmt(int value) returns string {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424199064", "createdAt": "2020-05-13T06:25:38Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTYzODM1OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyOTo1MFrOGUjJTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyOTo1MFrOGUjJTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDUyNw==", "bodyText": "This logic isn't relevant to this test right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424200527", "createdAt": "2020-05-13T06:29:50Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTYzOTU0OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjozMDoxMlrOGUjJ7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMToyOTo1MVrOGUtNdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDY4Nw==", "bodyText": "Can we also add negative tests for something like\nfunction test() {\n    {\n        int i = 1;\n        \n        {\n            int i = 2;\n        }\n    }\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424200687", "createdAt": "2020-05-13T06:30:12Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;\n+    }\n+    return \"done\";\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMjI3OQ==", "bodyText": "And maybe uninitialized variable tests.\nfunction test() {\n    int i;\n    {\n        int j = i; // uninitialized i\n        \n        {\n            i += 2; // // uninitialized i\n        }\n    }\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424202279", "createdAt": "2020-05-13T06:34:35Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;\n+    }\n+    return \"done\";\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDY4Nw=="}, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI0MzM1OQ==", "bodyText": "And for closures as well. Both positive and negative", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424243359", "createdAt": "2020-05-13T07:55:56Z", "author": {"login": "pubudu91"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;\n+    }\n+    return \"done\";\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDY4Nw=="}, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDM2NTQyOQ==", "bodyText": "Done", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424365429", "createdAt": "2020-05-13T11:29:51Z", "author": {"login": "chiranSachintha"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;\n+    }\n+    return \"done\";\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDY4Nw=="}, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTg2NjQ1OnYy", "diffSide": "RIGHT", "path": "compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNzo0NTo0M1rOGUlYpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjozMzo0MVrOGU6Blg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIzNzIyMw==", "bodyText": "Are we only just adding the block statement? What about the statements which make use of block statements? Or will that be fixed with the new parser?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424237223", "createdAt": "2020-05-13T07:45:43Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4", "diffHunk": "@@ -58,6 +58,10 @@ blockFunctionBody\n     :   LEFT_BRACE statement* (workerDeclaration+ statement*)? RIGHT_BRACE\n     ;\n \n+blockStatement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU3NTM4Mg==", "bodyText": "this is fixed with new parser", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424575382", "createdAt": "2020-05-13T16:33:41Z", "author": {"login": "hasithaa"}, "path": "compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4", "diffHunk": "@@ -58,6 +58,10 @@ blockFunctionBody\n     :   LEFT_BRACE statement* (workerDeclaration+ statement*)? RIGHT_BRACE\n     ;\n \n+blockStatement", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIzNzIyMw=="}, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MjIzNDQ1OnYy", "diffSide": "RIGHT", "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-negative.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOToyMjo1N1rOGUpCiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMToyOTozNlrOGUtM-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI5NzA5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if(a > 10) {\n          \n          \n            \n                if (a > 10) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424297096", "createdAt": "2020-05-13T09:22:57Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-negative.bal", "diffHunk": "@@ -117,3 +117,15 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testUnreachableStmtInBlock() {\n+    int a = 2;\n+    {\n+        string s1 = \"hello Block\";\n+        return;\n+        int i = 9;\n+    }\n+    if(a > 10) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDM2NTMwNw==", "bodyText": "Fixed", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424365307", "createdAt": "2020-05-13T11:29:36Z", "author": {"login": "chiranSachintha"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-negative.bal", "diffHunk": "@@ -117,3 +117,15 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testUnreachableStmtInBlock() {\n+    int a = 2;\n+    {\n+        string s1 = \"hello Block\";\n+        return;\n+        int i = 9;\n+    }\n+    if(a > 10) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI5NzA5Ng=="}, "originalCommit": {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3684, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}