{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNzAzNTQ1", "number": 20874, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwNTowNjoyMVrODeQOag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNTo1MDozMFrODeVpSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMDQ5NzA2OnYy", "diffSide": "RIGHT", "path": "misc/testerina/modules/testerina-core/src/main/java/org/ballerinalang/testerina/core/BTestRunner.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwNTowNjoyMVrOFnTVOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwMzoyMDoyMFrOFnZXOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1NTUxMg==", "bodyText": "If the code is not required shall we remove ?\nWhat will be the behavior if you run ballerina test moduleName if the module do not have tests.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20874#discussion_r376755512", "createdAt": "2020-02-09T05:06:21Z", "author": {"login": "hevayo"}, "path": "misc/testerina/modules/testerina-core/src/main/java/org/ballerinalang/testerina/core/BTestRunner.java", "diffHunk": "@@ -331,9 +336,9 @@ public void packageProcessed(BLangPackage bLangPackage, TestarinaClassLoader cla\n         // TODO the below line is required since this method is currently getting explicitly called from BTestRunner\n         TestSuite suite = TesterinaRegistry.getInstance().getTestSuites().get(bLangPackage.packageID.toString());\n \n-        if (!bLangPackage.hasTestablePackage()) {\n-            return;\n-        }\n+//        if (!bLangPackage.hasTestablePackage()) {\n+//            return;\n+//        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21aee960c95f272b55c4165a8736ad17a062b8d5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg1Mzk0NA==", "bodyText": "I will remove this particular block out.\nWhen we run ballerina test <moduleName>, we get the following output on the command line\nCompiling source\n        mohamedaquibzulfikar/module1:0.1.0\n\nCreating balos\n        target/balo/module1-2019r3-any-0.1.0.balo\n\nRunning tests\n        mohamedaquibzulfikar/module1:0.1.0\n        No tests found", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20874#discussion_r376853944", "createdAt": "2020-02-10T03:18:05Z", "author": {"login": "Ibaqu"}, "path": "misc/testerina/modules/testerina-core/src/main/java/org/ballerinalang/testerina/core/BTestRunner.java", "diffHunk": "@@ -331,9 +336,9 @@ public void packageProcessed(BLangPackage bLangPackage, TestarinaClassLoader cla\n         // TODO the below line is required since this method is currently getting explicitly called from BTestRunner\n         TestSuite suite = TesterinaRegistry.getInstance().getTestSuites().get(bLangPackage.packageID.toString());\n \n-        if (!bLangPackage.hasTestablePackage()) {\n-            return;\n-        }\n+//        if (!bLangPackage.hasTestablePackage()) {\n+//            return;\n+//        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1NTUxMg=="}, "originalCommit": {"oid": "21aee960c95f272b55c4165a8736ad17a062b8d5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg1NDMzMA==", "bodyText": "Done", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20874#discussion_r376854330", "createdAt": "2020-02-10T03:20:20Z", "author": {"login": "Ibaqu"}, "path": "misc/testerina/modules/testerina-core/src/main/java/org/ballerinalang/testerina/core/BTestRunner.java", "diffHunk": "@@ -331,9 +336,9 @@ public void packageProcessed(BLangPackage bLangPackage, TestarinaClassLoader cla\n         // TODO the below line is required since this method is currently getting explicitly called from BTestRunner\n         TestSuite suite = TesterinaRegistry.getInstance().getTestSuites().get(bLangPackage.packageID.toString());\n \n-        if (!bLangPackage.hasTestablePackage()) {\n-            return;\n-        }\n+//        if (!bLangPackage.hasTestablePackage()) {\n+//            return;\n+//        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1NTUxMg=="}, "originalCommit": {"oid": "21aee960c95f272b55c4165a8736ad17a062b8d5"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTM4NTA0OnYy", "diffSide": "RIGHT", "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/TestCommand.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNTo1MDozMFrOFnayZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNzo0NzozNlrOFnceEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg3NzY3MA==", "bodyText": "@Ibaqu Shall we get rid of the unnecessary new lines that are introduced?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20874#discussion_r376877670", "createdAt": "2020-02-10T05:50:30Z", "author": {"login": "Dilhasha"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/TestCommand.java", "diffHunk": "@@ -181,13 +183,57 @@ public void execute() {\n \n                 this.sourceRootPath = findRoot;\n             }\n+\n         } else if (this.argList.get(0).endsWith(BLangConstants.BLANG_SRC_FILE_SUFFIX)) {\n-            // when a single bal file is provided.\n-            CommandUtil.printError(this.errStream,\n-                    \"test command is only supported inside a Ballerina project\",\n-                    null,\n-                    false);\n-            CommandUtil.exitError(this.exitWhenFinish);\n+            // when a single bal file is provided\n+            // Check if path given is an absolute path. Update the root accordingly\n+            if (Paths.get(this.argList.get(0)).isAbsolute()) {\n+                sourcePath = Paths.get(this.argList.get(0));\n+            } else {\n+                sourcePath = sourceRootPath.resolve(this.argList.get(0));\n+            }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ec489a531fc3dded26138e7aba00c83bbb6812f"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkwNTIzMw==", "bodyText": "Done", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20874#discussion_r376905233", "createdAt": "2020-02-10T07:47:36Z", "author": {"login": "Ibaqu"}, "path": "cli/ballerina-packerina/src/main/java/org/ballerinalang/packerina/cmd/TestCommand.java", "diffHunk": "@@ -181,13 +183,57 @@ public void execute() {\n \n                 this.sourceRootPath = findRoot;\n             }\n+\n         } else if (this.argList.get(0).endsWith(BLangConstants.BLANG_SRC_FILE_SUFFIX)) {\n-            // when a single bal file is provided.\n-            CommandUtil.printError(this.errStream,\n-                    \"test command is only supported inside a Ballerina project\",\n-                    null,\n-                    false);\n-            CommandUtil.exitError(this.exitWhenFinish);\n+            // when a single bal file is provided\n+            // Check if path given is an absolute path. Update the root accordingly\n+            if (Paths.get(this.argList.get(0)).isAbsolute()) {\n+                sourcePath = Paths.get(this.argList.get(0));\n+            } else {\n+                sourcePath = sourceRootPath.resolve(this.argList.get(0));\n+            }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg3NzY3MA=="}, "originalCommit": {"oid": "3ec489a531fc3dded26138e7aba00c83bbb6812f"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1275, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}