{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMjUwNDA5", "number": 22534, "reviewThreads": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjozNVrODwSP8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0Mjo1MVrODx70AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3MjM1OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjozNVrOGDMl8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjozNVrOGDMl8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTIzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n          \n          \n            \n            The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005232", "createdAt": "2020-04-09T07:22:35Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3MzE0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjo0OFrOGDMmZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjo0OFrOGDMmZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTM0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n          \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and the set of data.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005348", "createdAt": "2020-04-09T07:22:48Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3MzgwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjo1OFrOGDMmwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMjo1OFrOGDMmwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTQ0MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Set claims.\n          \n          \n            \n                // Set the claims.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005441", "createdAt": "2020-04-09T07:22:58Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NDc0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzoyMFrOGDMnYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzoyMFrOGDMnYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTYwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Set auth scheme.\n          \n          \n            \n                // Set the auth scheme.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005601", "createdAt": "2020-04-09T07:23:20Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NTI0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzoyOFrOGDMnsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzoyOFrOGDMnsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTY4MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Set auth token.\n          \n          \n            \n                // Set the auth token.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005681", "createdAt": "2020-04-09T07:23:28Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NjE0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo0MlrOGDMoOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo0MlrOGDMoOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTgxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Retrieve user name.\n          \n          \n            \n                // Retrieve the user name.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005817", "createdAt": "2020-04-09T07:23:42Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve user name.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 135}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NjQ5OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo0OFrOGDMocA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo0OFrOGDMocA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTg3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Retrieve claims.\n          \n          \n            \n                // Retrieve the claims.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005872", "createdAt": "2020-04-09T07:23:48Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);\n+\n+    // Retrieve claims.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3Njc5OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo1NVrOGDMopg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyMzo1NVrOGDMopg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNTkyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Retrieve scopes.\n          \n          \n            \n                // Retrieve the scopes.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406005926", "createdAt": "2020-04-09T07:23:55Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);\n+\n+    // Retrieve claims.\n+    map<any>? claims = principal[\"claims\"];\n+    io:println(claims);\n+\n+    // Retrieve scopes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NzM1OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDowM1rOGDMo8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDowM1rOGDMo8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjAwMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Retrieve auth scheme.\n          \n          \n            \n                // Retrieve the auth scheme.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006003", "createdAt": "2020-04-09T07:24:03Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);\n+\n+    // Retrieve claims.\n+    map<any>? claims = principal[\"claims\"];\n+    io:println(claims);\n+\n+    // Retrieve scopes.\n+    string[]? scopes = principal[\"scopes\"];\n+    io:println(scopes);\n }\n \n-function getError() {\n-    panicWithError();\n-}\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Retrieve auth scheme.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3NzcwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDoxMFrOGDMpJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDoxMFrOGDMpJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjA1NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Retrieve auth token.\n          \n          \n            \n                // Retrieve the auth token.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006055", "createdAt": "2020-04-09T07:24:10Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and a attribute map to hold context information\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and set data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);\n+\n+    // Retrieve claims.\n+    map<any>? claims = principal[\"claims\"];\n+    io:println(claims);\n+\n+    // Retrieve scopes.\n+    string[]? scopes = principal[\"scopes\"];\n+    io:println(scopes);\n }\n \n-function getError() {\n-    panicWithError();\n-}\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Retrieve auth scheme.\n+    string? authScheme = authContext[\"scheme\"];\n+    io:println(authScheme);\n \n-function panicWithError() {\n-    // Create an error with a reason.\n-    error e = error(\"error occurred\");\n-    panic e;\n+    // Retrieve auth token.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 161}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3ODIwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/errors.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDoyMVrOGDMpdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDoyMVrOGDMpdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjEzNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents a data holder of current call stack element.\n          \n          \n            \n            # Represents a data holder of the current call stack element.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006135", "createdAt": "2020-04-09T07:24:21Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/errors.bal", "diffHunk": "@@ -16,7 +16,7 @@\n \n import ballerina/java;\n \n-# Representation of `CallStackElement`\n+# Represents a data holder of current call stack element.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3OTAwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDozOFrOGDMp7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDozOFrOGDMp7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjI1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + id - Unique id generated when initiating the invocation context\n          \n          \n            \n            # + id - Unique ID generated when initiating the invocation context", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006252", "createdAt": "2020-04-09T07:24:38Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique id generated when initiating the invocation context", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3OTU3OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDo0OFrOGDMqPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDo0OFrOGDMqPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjMzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents the `runtime:AuthenticationContext`, populated with authenticated information.\n          \n          \n            \n            # Represents the `runtime:AuthenticationContext` populated with authenticated information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006334", "createdAt": "2020-04-09T07:24:48Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique id generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext`, populated with authenticated information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU3OTg2OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDo1OVrOGDMqhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNDo1OVrOGDMqhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjQwNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents the `runtime:Principal`, populated with authenticated user information.\n          \n          \n            \n            # Represents the `runtime:Principal` populated with authenticated user information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006407", "createdAt": "2020-04-09T07:24:59Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique id generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext`, populated with authenticated information.\n #\n-# + scheme - Authentication token type. e.g: JWT etc.\n-# + authToken - Relevant token for the schema.\n+# + scheme - Authentication scheme\n+# + authToken - Token for the provided `scheme`\n public type AuthenticationContext record {\n     string scheme?;\n     string authToken?;\n };\n \n-# Represents the Principal, populated with authenticated user information.\n+# Represents the `runtime:Principal`, populated with authenticated user information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU4MDEwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNTowNVrOGDMqsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNTowNVrOGDMqsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjQ0OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + userId - User Id of the authenticated user\n          \n          \n            \n            # + userId - User ID of the authenticated user", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006449", "createdAt": "2020-04-09T07:25:05Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique id generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext`, populated with authenticated information.\n #\n-# + scheme - Authentication token type. e.g: JWT etc.\n-# + authToken - Relevant token for the schema.\n+# + scheme - Authentication scheme\n+# + authToken - Token for the provided `scheme`\n public type AuthenticationContext record {\n     string scheme?;\n     string authToken?;\n };\n \n-# Represents the Principal, populated with authenticated user information.\n+# Represents the `runtime:Principal`, populated with authenticated user information.\n #\n-# + userId - User Id of the authenticated user.\n-# + username - Username of the authenticated user.\n-# + claims - Claims of the authenticated user.\n-# + scopes - Authenticated user scopes.\n+# + userId - User Id of the authenticated user", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxOTU4MTA4OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNToyNlrOGDMrYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNzoyNToyNlrOGDMrYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAwNjYyNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Creates a return the `runtime:InvocationContext` instance.\n          \n          \n            \n            # Returns the `runtime:InvocationContext` instance.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r406006625", "createdAt": "2020-04-09T07:25:26Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique id generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext`, populated with authenticated information.\n #\n-# + scheme - Authentication token type. e.g: JWT etc.\n-# + authToken - Relevant token for the schema.\n+# + scheme - Authentication scheme\n+# + authToken - Token for the provided `scheme`\n public type AuthenticationContext record {\n     string scheme?;\n     string authToken?;\n };\n \n-# Represents the Principal, populated with authenticated user information.\n+# Represents the `runtime:Principal`, populated with authenticated user information.\n #\n-# + userId - User Id of the authenticated user.\n-# + username - Username of the authenticated user.\n-# + claims - Claims of the authenticated user.\n-# + scopes - Authenticated user scopes.\n+# + userId - User Id of the authenticated user\n+# + username - Username of the authenticated user\n+# + claims - Claims of the authenticated user\n+# + scopes - Scopes of the authenticated user\n public type Principal record {\n     string userId?;\n     string username?;\n     map<any> claims?;\n     string[] scopes?;\n };\n \n-# Creates a InvocationContext instance.\n+# Creates a return the `runtime:InvocationContext` instance.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b13cb90d86a714c3fdacf9160c055ff8547ebd82"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMjYyMjM2OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODowOTowMFrOGFDA3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNDoyMToyN1rOGFpQqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTQzOA==", "bodyText": "Shall we remove io:println from the docs. add only one related to the module", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r407945438", "createdAt": "2020-04-14T08:09:00Z", "author": {"login": "daneshk"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and the set of data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set the claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set the auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set the auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve the user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c89cace7b3aff859b058b32e9192587c9c7b205"}, "originalPosition": 137}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MjA3Mg==", "bodyText": "Fixed with ba874a5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408572072", "createdAt": "2020-04-15T04:21:27Z", "author": {"login": "ldclakmal"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,65 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and the set of data.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n+    // Set the claims.\n+    map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n+    principal.claims = claims;\n \n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+    // Set scopes.\n+    string[] scopes = [\"email\", \"profile\"];\n+    principal.scopes = scopes;\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set the auth scheme.\n+    authContext.scheme = \"jwt\";\n \n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+    // Set the auth token.\n+    authContext.authToken = \"abc.pqr.xyz\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data.\n ```ballerina\n-import ballerina/runtime;\n-\n-// Retrieve the property \u2018ballerina version\u2019 from the runtime.\n-runtime:getProperty(\"ballerina.version\");\n-```\n-\n-### CallStack Element\n-\n-The runtime module includes a utility method to retrieve the current call stack and the particular call stack frame for\n- an error. \n-\n-The following sample shows how to access the call stack and how to trap an error.\n-\n-```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-    // Print the current call stack.\n-    io:println(runtime:getCallStack());\n-    var errorMessage = trap getError();\n-    if (errorMessage is error) {\n-        io:println(errorMessage.reason());\n-    }\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Retrieve the user name.\n+    string? userName = principal[\"username\"];\n+    io:println(userName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTQzOA=="}, "originalCommit": {"oid": "9c89cace7b3aff859b058b32e9192587c9c7b205"}, "originalPosition": 137}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMjgzODk5OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/errors.bal", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwOTowMzoxMVrOGFFE7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNDoyMToyMlrOGFpQkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk3OTI0Ng==", "bodyText": "Shall we add code snippet of this function", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r407979246", "createdAt": "2020-04-14T09:03:11Z", "author": {"login": "daneshk"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/errors.bal", "diffHunk": "@@ -29,9 +29,9 @@ public type CallStackElement record {|\n     int lineNumber;\n |};\n \n-# Retrieves the Call Stack\n+# Retrieves the array of `runtime:CallStackElement` instances.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c89cace7b3aff859b058b32e9192587c9c7b205"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU3MjA0OA==", "bodyText": "Fixed with ba874a5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408572048", "createdAt": "2020-04-15T04:21:22Z", "author": {"login": "ldclakmal"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/errors.bal", "diffHunk": "@@ -29,9 +29,9 @@ public type CallStackElement record {|\n     int lineNumber;\n |};\n \n-# Retrieves the Call Stack\n+# Retrieves the array of `runtime:CallStackElement` instances.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk3OTI0Ng=="}, "originalCommit": {"oid": "9c89cace7b3aff859b058b32e9192587c9c7b205"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2MDE1OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjozOTo1NlrOGFrvoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjozOTo1NlrOGFrvoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMjc2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This module provides functions to interact with the runtime, the invocation context and to manage errors.\n          \n          \n            \n            This module provides functions to interact with the runtime, the invocation context, and to manage errors.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408612769", "createdAt": "2020-04-15T06:39:56Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,40 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2MzI0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MTowMlrOGFrxZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MTowMlrOGFrxZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzIyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.\n          \n          \n            \n            The Invocation Context is a data holder, which is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance, which includes user details, a `runtime:AuthenticationContext`, which has the authentication-related details if available, and an attribute map to hold context information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613221", "createdAt": "2020-04-15T06:41:02Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,40 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2NDA3OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MToxOVrOGFrx6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MToxOVrOGFrx6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzM1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and the set data for `runtime:Principal` and `runtime:AuthenticationContext`.\n          \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and the set of data for the `runtime:Principal` and `runtime:AuthenticationContext`.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613352", "createdAt": "2020-04-15T06:41:19Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,40 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and the set data for `runtime:Principal` and `runtime:AuthenticationContext`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2NDYwOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MTozN1rOGFrySw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MTozN1rOGFrySw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzQ1MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and get the data from `runtime:Principal` and `runtime:AuthenticationContext`,\n          \n          \n            \n            The following code snippet shows how to access the `runtime:InvocationContext` and get the data from the `runtime:Principal` and `runtime:AuthenticationContext`,", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613451", "createdAt": "2020-04-15T06:41:37Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/Module.md", "diffHunk": "@@ -1,122 +1,40 @@\n-## Module overview\n-\n This module provides functions to interact with the runtime, the invocation context and to manage errors.\n \n-## Samples\n-\n ### Invocation Context\n \n-The Invocation Context is a data holder that is created per request and preserved for a single request-response flow\n-. It comprises of a unique ID, a `Principal` instance that includes user details, attribute map to hold context\n- information and an `AuthenticationContext` instance that has the authentication related details if available.\n+The Invocation Context is a data holder that is created per request and preserved for a single request-response flow. It comprises of a unique ID, a `runtime:Principal` instance that includes user details, an `runtime:AuthenticationContext` instance that has the authentication related details if available, and an attribute map to hold context information.\n \n-The following sample shows how to access the Invocation Context, set data to it and access the same.\n+The following code snippet shows how to access the `runtime:InvocationContext` and the set data for `runtime:Principal` and `runtime:AuthenticationContext`.\n ```ballerina\n-import ballerina/io;\n-import ballerina/runtime;\n-\n-public function main() {\n-\n-    // Set data to the Invocation Context.\n-    runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n-    runtime:Principal? principal = invocationContext[\"principal\"];\n-    if (principal is runtime:Principal) {\n-        // Set the username as \u2018tom\u2019.\n-        principal[\"username\"] = \"tom\";\n-\n-        // Set claims.\n-        map<any> claims = { email: \"tom@ballerina.com\", org: \"wso2\" };\n-        principal.claims = claims;\n-\n-        // Set scopes.\n-        string[] scopes = [\"email\", \"profile\"];\n-        principal.scopes = scopes;\n-    }\n-\n-    runtime:AuthenticationContext? authContext = \n-                            invocationContext[\"authenticationContext\"];\n-    if (authContext is runtime:AuthenticationContext) {\n-        // Set auth scheme.\n-        authContext.scheme = \"jwt\";\n+runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n \n-        // Set auth token.\n-        authContext.authToken = \"abc.pqr.xyz\";\n-    }\n-\n-    // Retrieve data from the invocation context.\n-    runtime:InvocationContext invocationContext1 = runtime:getInvocationContext();\n-    runtime:Principal? principal1 = invocationContext1[\"principal\"];\n-    if (principal1 is runtime:Principal) {\n-        // Retrieve user name.\n-        string? userName = principal1[\"username\"];\n-        io:println(userName);\n-\n-        // Retrieve claims.\n-        map<any>? retrievedClaims = principal1[\"claims\"];\n-        io:println(retrievedClaims);\n-\n-        // Retrieve scopes.\n-        string[]? retrievedScopes = principal1[\"scopes\"];\n-        io:println(retrievedScopes);\n-    }\n-\n-    runtime:AuthenticationContext? authContext1 = \n-                            invocationContext1[\"authenticationContext\"];\n-    if (authContext1 is runtime:AuthenticationContext) {\n-        // Retrieve auth scheme.\n-        string? authScheme = authContext1[\"scheme\"];\n-        io:println(authScheme);\n-\n-        // Retrieve auth token.\n-        string? token = authContext1[\"authToken\"];\n-        io:println(token);\n-    }\n+runtime:Principal? principal = invocationContext[\"principal\"];\n+if (principal is runtime:Principal) {\n+    // Set the username as \u2018tom\u2019.\n+    principal[\"username\"] = \"tom\";\n }\n-```\n \n-The following sample shows how to halt the current `worker` for a given time period.\n-```ballerina\n-import ballerina/runtime;\n-\n-// Sleep the current worker for 5 seconds.\n-runtime:sleep(5000);\n+runtime:AuthenticationContext? authContext = invocationContext[\"authenticationContext\"];\n+if (authContext is runtime:AuthenticationContext) {\n+    // Set the auth scheme.\n+    authContext.scheme = \"jwt\";\n+}\n ```\n \n-The following sample shows how to access properties from the runtime. \n+The following code snippet shows how to access the `runtime:InvocationContext` and get the data from `runtime:Principal` and `runtime:AuthenticationContext`,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2NTk2OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjowN1rOGFrzIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjowN1rOGFrzIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzY2NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents the `runtime:AuthenticationContext` populated with authenticated information.\n          \n          \n            \n            # Represents the `runtime:AuthenticationContext` populated with the authenticated information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613665", "createdAt": "2020-04-15T06:42:07Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique ID generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext` populated with authenticated information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2NjM3OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjoxOFrOGFrzZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjoxOFrOGFrzZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzczNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # Represents the `runtime:Principal` populated with authenticated user information.\n          \n          \n            \n            # Represents the `runtime:Principal` populated with the authenticated user information.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613735", "createdAt": "2020-04-15T06:42:18Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique ID generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext` populated with authenticated information.\n #\n-# + scheme - Authentication token type. e.g: JWT etc.\n-# + authToken - Relevant token for the schema.\n+# + scheme - Authentication scheme\n+# + authToken - Token for the provided `scheme`\n public type AuthenticationContext record {\n     string scheme?;\n     string authToken?;\n };\n \n-# Represents the Principal, populated with authenticated user information.\n+# Represents the `runtime:Principal` populated with authenticated user information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2NzEzOnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjozMlrOGFrz1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MjozMlrOGFrz1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzg0Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - `runtime:InvocationContext` instance\n          \n          \n            \n            # + return - The `runtime:InvocationContext` instance", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613846", "createdAt": "2020-04-15T06:42:32Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/invocation-context.bal", "diffHunk": "@@ -16,44 +16,47 @@\n \n import ballerina/java;\n \n-# Represents the InvocationContext.\n+# Represents the `runtime:InvocationContext`.\n #\n-# + id - Unique id generated when initiating the invocation context.\n-# + principal - User principal instance.\n-# + authenticationContext - Authentication context instance.\n-# + attributes - Context attributes.\n+# + id - Unique ID generated when initiating the invocation context\n+# + principal - User principal instance\n+# + authenticationContext - Authentication context instance\n+# + attributes - Map of context attributes\n public type InvocationContext record {|\n     string id;\n     Principal principal?;\n     AuthenticationContext authenticationContext?;\n     map<any> attributes;\n |};\n \n-# Represents the AuthenticationContext, populated with authenticated information.\n+# Represents the `runtime:AuthenticationContext` populated with authenticated information.\n #\n-# + scheme - Authentication token type. e.g: JWT etc.\n-# + authToken - Relevant token for the schema.\n+# + scheme - Authentication scheme\n+# + authToken - Token for the provided `scheme`\n public type AuthenticationContext record {\n     string scheme?;\n     string authToken?;\n };\n \n-# Represents the Principal, populated with authenticated user information.\n+# Represents the `runtime:Principal` populated with authenticated user information.\n #\n-# + userId - User Id of the authenticated user.\n-# + username - Username of the authenticated user.\n-# + claims - Claims of the authenticated user.\n-# + scopes - Authenticated user scopes.\n+# + userId - User ID of the authenticated user\n+# + username - Username of the authenticated user\n+# + claims - Claims of the authenticated user\n+# + scopes - Scopes of the authenticated user\n public type Principal record {\n     string userId?;\n     string username?;\n     map<any> claims?;\n     string[] scopes?;\n };\n \n-# Creates a InvocationContext instance.\n+# Returns the `runtime:InvocationContext` instance.\n+# ```ballerina\n+# runtime:InvocationContext invocationContext = runtime:getInvocationContext();\n+# ```\n #\n-# + return - InvocationContext instance\n+# + return - `runtime:InvocationContext` instance", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjg2Nzg0OnYy", "diffSide": "RIGHT", "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/runtime.bal", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0Mjo1MVrOGFr0Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0Mjo1MVrOGFr0Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxMzk1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # + return - Value of the property if the property exists, an empty string otherwise\n          \n          \n            \n            # + return - Value of the property if the property exists or else an empty string otherwise", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22534#discussion_r408613959", "createdAt": "2020-04-15T06:42:51Z", "author": {"login": "praneesha"}, "path": "stdlib/runtime-api/src/main/ballerina/src/runtime/runtime.bal", "diffHunk": "@@ -17,15 +17,19 @@\n import ballerina/java;\n \n # Halts the current worker for a predefined amount of time.\n+# ```ballerina\n+# runtime:sleep(1000);\n+# ```\n #\n # + millis - Amount of time to sleep in milliseconds\n public function sleep(int millis) = @java:Method {\n     class: \"org.ballerinalang.stdlib.runtime.nativeimpl.Sleep\"\n } external;\n \n-\n-// Todo - Remove\n-# Returns the value associated with the specified property name.\n+# Returns the system property value associated with the specified property name.\n+# ```ballerina\n+# string userHome = runtime:getProperty(\"user.home\");\n+# ```\n #\n # + name - Name of the property\n # + return - Value of the property if the property exists, an empty string otherwise", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba874a5eec5ea9827e2778a1fc28087e9160ffc6"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4077, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}