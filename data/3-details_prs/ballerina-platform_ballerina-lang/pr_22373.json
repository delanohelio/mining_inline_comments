{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2ODEwOTY5", "number": 22373, "title": "Fix slice on tuple with rest descriptor", "bodyText": "Purpose\n$title.\nFixes #22350\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-04-01T07:30:32Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22373", "merged": true, "mergeCommit": {"oid": "c4fbbe7169ec916eeb96256ee104746c225388df"}, "closed": true, "closedAt": "2020-04-02T02:55:45Z", "author": {"login": "MaryamZi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTR6wAAH2gAyMzk2ODEwOTY5OjlmYThkZmM4NjMwZDM4MzA5MGExYjRmYzcwZTlkMmM3N2NlNDQyMzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcThdFsgH2gAyMzk2ODEwOTY5OjZhYzVmMzY4YWFmOTViNmFkYzZhMDFjMTljODVhM2YwZmYwZTcyZTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9fa8dfc8630d383090a1b4fc70e9d2c77ce44230", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9fa8dfc8630d383090a1b4fc70e9d2c77ce44230", "committedDate": "2020-04-01T06:43:12Z", "message": "Fix slice on tuple with rest desc."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTExMTI0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22373#pullrequestreview-385511124", "createdAt": "2020-04-01T11:53:10Z", "commit": {"oid": "9fa8dfc8630d383090a1b4fc70e9d2c77ce44230"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMTo1MzoxMFrOF-9HbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMTo1MzoxMFrOF-9HbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1NzM1Nw==", "bodyText": "Shouldn't the new type have the same flags as the original type?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22373#discussion_r401557357", "createdAt": "2020-04-01T11:53:10Z", "author": {"login": "pubudu91"}, "path": "langlib/lang.array/src/main/java/org/ballerinalang/langlib/array/Slice.java", "diffHunk": "@@ -70,18 +73,24 @@ public static ArrayValue slice(Strand strand, ArrayValue arr, long startIndex, l\n \n         BType arrType = arr.getType();\n         ArrayValue slicedArr;\n-        int elemTypeTag;\n \n         switch (arrType.getTag()) {\n             case TypeTags.ARRAY_TAG:\n                 slicedArr = ((ArrayValueImpl) arr).slice(startIndex, endIndex);\n                 break;\n             case TypeTags.TUPLE_TAG:\n                 BTupleType tupleType = (BTupleType) arrType;\n-                BUnionType unionType = new BUnionType(tupleType.getTupleTypes(), tupleType.getTypeFlags());\n+\n+                List<BType> memTypes = new ArrayList<>(tupleType.getTupleTypes());\n+\n+                BType restType = tupleType.getRestType();\n+                if (restType != null) {\n+                    memTypes.add(restType);\n+                }\n+\n+                BUnionType unionType = new BUnionType(memTypes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fa8dfc8630d383090a1b4fc70e9d2c77ce44230"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTIzNDU1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22373#pullrequestreview-385523455", "createdAt": "2020-04-01T12:12:14Z", "commit": {"oid": "9fa8dfc8630d383090a1b4fc70e9d2c77ce44230"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ac5f368aaf95b6adc6a01c19c85a3f0ff0e72e9", "author": {"user": {"login": "MaryamZi", "name": "Maryam Ziyad"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ac5f368aaf95b6adc6a01c19c85a3f0ff0e72e9", "committedDate": "2020-04-02T00:49:17Z", "message": "Merge branch 'ballerina-1.2.x' of https://github.com/ballerina-lang/ballerina into fix-tuple-issues"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4128, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}