{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMjExNDkx", "number": 25080, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyMDozNFrOEVQzBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyODoyOVrOEVQ5CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzMwNzU3OnYy", "diffSide": "RIGHT", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/workspace/WorkspaceDocumentManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyMDozNFrOG76mBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNjo1OToxN1rOG78vCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3OTE3NA==", "bodyText": "Shall we try early return here? May be for the inner if-else as well we can try that?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465479174", "createdAt": "2020-08-05T05:20:34Z", "author": {"login": "nadeeshaan"}, "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/workspace/WorkspaceDocumentManagerImpl.java", "diffHunk": "@@ -90,14 +97,39 @@ public void openFile(Path filePath, String content) throws WorkspaceDocumentExce\n      * {@inheritDoc}\n      */\n     @Override\n-    public void updateFile(Path filePath, String updatedContent) throws WorkspaceDocumentException {\n+    public void updateFile(Path filePath, List<TextDocumentContentChangeEvent> changeEvent)\n+            throws WorkspaceDocumentException {\n         if (isFileOpen(filePath)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDI1MQ==", "bodyText": "+1 will update", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465514251", "createdAt": "2020-08-05T06:59:17Z", "author": {"login": "rasika"}, "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/workspace/WorkspaceDocumentManagerImpl.java", "diffHunk": "@@ -90,14 +97,39 @@ public void openFile(Path filePath, String content) throws WorkspaceDocumentExce\n      * {@inheritDoc}\n      */\n     @Override\n-    public void updateFile(Path filePath, String updatedContent) throws WorkspaceDocumentException {\n+    public void updateFile(Path filePath, List<TextDocumentContentChangeEvent> changeEvent)\n+            throws WorkspaceDocumentException {\n         if (isFileOpen(filePath)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3OTE3NA=="}, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzMyMjk2OnYy", "diffSide": "RIGHT", "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyODoyOVrOG76vBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNzo1MTo0MFrOG7-UoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng==", "bodyText": "With the removal of ANTLR, may be we can optimize this part", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465481476", "createdAt": "2020-08-05T05:28:29Z", "author": {"login": "nadeeshaan"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "diffHunk": "@@ -198,6 +194,24 @@ public Object execute(LSContext context) throws LSCommandExecutorException {\n         return applyWorkspaceEdit(Collections.singletonList(Either.forLeft(textDocumentEdit)), client);\n     }\n \n+    private BLangCompilationUnit getCurrentCUnit(LSContext context, BLangPackage packageNode) {\n+    /*\n+    In windows platform, relative file path key components are separated with \"\\\" while antlr always uses \"/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDA4MA==", "bodyText": "Yes, we might be able to optimize this. Shall we add this in a separate PR since we have the same logic in many places?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465514080", "createdAt": "2020-08-05T06:58:57Z", "author": {"login": "rasika"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "diffHunk": "@@ -198,6 +194,24 @@ public Object execute(LSContext context) throws LSCommandExecutorException {\n         return applyWorkspaceEdit(Collections.singletonList(Either.forLeft(textDocumentEdit)), client);\n     }\n \n+    private BLangCompilationUnit getCurrentCUnit(LSContext context, BLangPackage packageNode) {\n+    /*\n+    In windows platform, relative file path key components are separated with \"\\\" while antlr always uses \"/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng=="}, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU0MDI1Nw==", "bodyText": "+1 let's do this after an API revamp", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465540257", "createdAt": "2020-08-05T07:51:40Z", "author": {"login": "nadeeshaan"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "diffHunk": "@@ -198,6 +194,24 @@ public Object execute(LSContext context) throws LSCommandExecutorException {\n         return applyWorkspaceEdit(Collections.singletonList(Either.forLeft(textDocumentEdit)), client);\n     }\n \n+    private BLangCompilationUnit getCurrentCUnit(LSContext context, BLangPackage packageNode) {\n+    /*\n+    In windows platform, relative file path key components are separated with \"\\\" while antlr always uses \"/\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng=="}, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 328, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}