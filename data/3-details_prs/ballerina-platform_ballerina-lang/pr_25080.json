{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMjExNDkx", "number": 25080, "title": "Add support for Incremental Diff for SyntaxTree in LangServer", "bodyText": "Purpose\n\nAdd support for Incremental Diff for SyntaxTree in LangServer\n\nFixes #24488\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-07-31T14:44:04Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080", "merged": true, "mergeCommit": {"oid": "87fd57c2d31cc2ac0693cf124649d51d8760d471"}, "closed": true, "closedAt": "2020-08-05T08:16:07Z", "author": {"login": "rasika"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6VSb7AH2gAyNDYwMjExNDkxOjZlZjhiM2Q5NTVmZDQzNjhhYzEzMWY0MTNlYWRjZWExMWE3OWI1MGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc72vwZgFqTQ2MTQzOTI2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ef8b3d955fd4368ac131f413eadcea11a79b50d", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ef8b3d955fd4368ac131f413eadcea11a79b50d", "committedDate": "2020-07-31T14:41:50Z", "message": "Remove unused signature source-pruner\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0597bec46829c3d7ea690ed58ddd4bb6c401c35b", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0597bec46829c3d7ea690ed58ddd4bb6c401c35b", "committedDate": "2020-07-31T14:41:54Z", "message": "Remove getContent api call\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04c92002c33846d5c94f351ee25540e0b2540c8a", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04c92002c33846d5c94f351ee25540e0b2540c8a", "committedDate": "2020-07-31T14:43:09Z", "message": "Move into incremental doc change\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3d6d89e671c7f39b57d0028af12ec28de51102d", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a3d6d89e671c7f39b57d0028af12ec28de51102d", "committedDate": "2020-08-04T06:05:11Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into incre-doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/389caaa1a53b3ccf496c23270d5c38240a27032d", "committedDate": "2020-08-04T07:14:06Z", "message": "Make doc-sync full temporary\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzQ3MDUw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#pullrequestreview-461347050", "createdAt": "2020-08-05T05:20:34Z", "commit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyMDozNFrOG76mBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNToyODoyOVrOG76vBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3OTE3NA==", "bodyText": "Shall we try early return here? May be for the inner if-else as well we can try that?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465479174", "createdAt": "2020-08-05T05:20:34Z", "author": {"login": "nadeeshaan"}, "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/workspace/WorkspaceDocumentManagerImpl.java", "diffHunk": "@@ -90,14 +97,39 @@ public void openFile(Path filePath, String content) throws WorkspaceDocumentExce\n      * {@inheritDoc}\n      */\n     @Override\n-    public void updateFile(Path filePath, String updatedContent) throws WorkspaceDocumentException {\n+    public void updateFile(Path filePath, List<TextDocumentContentChangeEvent> changeEvent)\n+            throws WorkspaceDocumentException {\n         if (isFileOpen(filePath)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng==", "bodyText": "With the removal of ANTLR, may be we can optimize this part", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465481476", "createdAt": "2020-08-05T05:28:29Z", "author": {"login": "nadeeshaan"}, "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "diffHunk": "@@ -198,6 +194,24 @@ public Object execute(LSContext context) throws LSCommandExecutorException {\n         return applyWorkspaceEdit(Collections.singletonList(Either.forLeft(textDocumentEdit)), client);\n     }\n \n+    private BLangCompilationUnit getCurrentCUnit(LSContext context, BLangPackage packageNode) {\n+    /*\n+    In windows platform, relative file path key components are separated with \"\\\" while antlr always uses \"/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "994972a6e415d1dcf3edba62d8f2d18c9b0345e2", "author": {"user": {"login": "rasika", "name": "Rasika Perera"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/994972a6e415d1dcf3edba62d8f2d18c9b0345e2", "committedDate": "2020-08-05T07:00:03Z", "message": "Add fail fast strategy when file is not open\n\nSigned-off-by: Rasika <info.rasika@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNDM5MjY1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#pullrequestreview-461439265", "createdAt": "2020-08-05T08:14:39Z", "commit": {"oid": "994972a6e415d1dcf3edba62d8f2d18c9b0345e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4973, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}