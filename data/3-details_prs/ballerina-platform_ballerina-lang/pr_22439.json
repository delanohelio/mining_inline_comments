{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3OTM4MzEy", "number": 22439, "title": "Add 'never' type descriptor", "bodyText": "Purpose\nAdd never type descriptor\n\nnever-type-descriptor := never\nThe type descriptor never describes the type that does not contain any shapes. No value ever belongs to the never.\nThis can be useful to describe for the return type of a function, if the function never returns. It can also be useful as a type parameter. For example, xml describes the an xml type that has no constituents, i.e. the empty xml value.\nNote that for anytype T, the type T|never is the same as T.\n\nFixes #22099\nApproach\n\nDescribe how you are implementing the solutions along with the design details.\n\nSamples\n\nProvide high-level details about the samples related to this feature.\n\nRemarks\n\nList any other known issues, related PRs, TODO items, or any other notes related to the PR.\n\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-04-03T05:03:56Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439", "merged": true, "mergeCommit": {"oid": "696e9c2b0f2f5944542829029996cbcb37296f5b"}, "closed": true, "closedAt": "2020-06-07T06:07:08Z", "author": {"login": "dulajdilshan"}, "timelineItems": {"totalCount": 56, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcT6cTTgFqTM4Njk0NTY3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoqdTEABqjM0MTUwMzYzMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2OTQ1Njc3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-386945677", "createdAt": "2020-04-03T05:29:44Z", "commit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QwNToyOTo0NVrOGAFlcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QwNTo1NTo0OFrOGAGAHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0NDY4OQ==", "bodyText": "We dont import * right? I think this should be caught by checkstyle", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402744689", "createdAt": "2020-04-03T05:29:45Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BType.java", "diffHunk": "@@ -25,15 +25,7 @@\n import org.wso2.ballerinalang.compiler.util.Names;\n import org.wso2.ballerinalang.compiler.util.TypeTags;\n \n-import static org.wso2.ballerinalang.compiler.util.TypeTags.BOOLEAN;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.BYTE;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.DECIMAL;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.ERROR;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.FLOAT;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.INT;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.NIL;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.STRING;\n-import static org.wso2.ballerinalang.compiler.util.TypeTags.TYPEDESC;\n+import static org.wso2.ballerinalang.compiler.util.TypeTags.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0NDk5NQ==", "bodyText": "This is a typo right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402744995", "createdAt": "2020-04-03T05:31:20Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4", "diffHunk": "@@ -72,7 +72,7 @@ functionDefinitionBody\n     |   externalFunctionBody SEMICOLON\n     ;\n \n-functionDefinition\n+functionD   efinition", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0NTg2Nw==", "bodyText": "I think a better mesaage would be missing \u2018returns never\u2019 in the definition of function \u2018\u2019{0}\u2019\u2019. WDYT?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402745867", "createdAt": "2020-04-03T05:34:53Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -1121,6 +1121,9 @@ warning.usage.of.deprecated.construct=\\\n warning.non.module.qualified.error.reason=\\\n   error reason ''{0}'' is not module qualified\n \n+warning.function.does.not.return=\\\n+  This function doesn't return, hence use 'returns never' here", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0NjQ4MA==", "bodyText": "Function don\u2019t have \u2018a\u2019 return value.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402746480", "createdAt": "2020-04-03T05:37:36Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package org.wso2.ballerinalang.compiler.semantics.model.types;\n+\n+import org.wso2.ballerinalang.compiler.util.Names;\n+import org.wso2.ballerinalang.compiler.util.TypeTags;\n+\n+/**\n+ * {@code BNeverType} represents the singleton type when functions don't have return value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0Njc2MQ==", "bodyText": "Import of *", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402746761", "createdAt": "2020-04-03T05:38:34Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/SymbolTable.java", "diffHunk": "@@ -28,31 +28,7 @@\n import org.wso2.ballerinalang.compiler.semantics.model.symbols.BTypeSymbol;\n import org.wso2.ballerinalang.compiler.semantics.model.symbols.SymTag;\n import org.wso2.ballerinalang.compiler.semantics.model.symbols.Symbols;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BAnyType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BAnydataType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BArrayType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BErrorType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BFiniteType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BFutureType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BHandleType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BIntSubType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BInvokableType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BJSONType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BMapType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BNilType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BNoType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BObjectType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BRecordType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BServiceType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BStreamType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BStringSubType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BTableType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BTupleType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BTypedescType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BUnionType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BXMLSubType;\n-import org.wso2.ballerinalang.compiler.semantics.model.types.BXMLType;\n+import org.wso2.ballerinalang.compiler.semantics.model.types.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc0OTA0Mw==", "bodyText": "Seems like this is not the standard", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402749043", "createdAt": "2020-04-03T05:47:02Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserListener.java", "diffHunk": "@@ -1,4 +1,4 @@\n-// Generated from BallerinaParser.g4 by ANTLR 4.5.3\n+// Generated from /home/dulaj/projects/ballerina-lang/compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4 by ANTLR 4.5.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjc1MTUxNw==", "bodyText": "Here as well \ud83d\ude0a", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r402751517", "createdAt": "2020-04-03T05:55:48Z", "author": {"login": "dulvinw"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParserBaseListener.java", "diffHunk": "@@ -1,4 +1,4 @@\n-// Generated from BallerinaParser.g4 by ANTLR 4.5.3\n+// Generated from /home/dulaj/projects/ballerina-lang/compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4 by ANTLR 4.5.3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9"}, "originalPosition": 2}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "93601f4e3a13c89049ca2f2f51cdd38e90e034d9", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/93601f4e3a13c89049ca2f2f51cdd38e90e034d9", "committedDate": "2020-04-03T05:00:57Z", "message": "Add 'never' type descriptor"}, "afterCommit": {"oid": "481aeda684bacd8e16b39817716e36aabc7269b2", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/481aeda684bacd8e16b39817716e36aabc7269b2", "committedDate": "2020-04-03T09:00:56Z", "message": "Add 'never' type descriptor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "481aeda684bacd8e16b39817716e36aabc7269b2", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/481aeda684bacd8e16b39817716e36aabc7269b2", "committedDate": "2020-04-03T09:00:56Z", "message": "Add 'never' type descriptor"}, "afterCommit": {"oid": "b1c17d3025a5c0fc033ee22346e7697ecef0a71b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b1c17d3025a5c0fc033ee22346e7697ecef0a71b", "committedDate": "2020-04-03T09:15:09Z", "message": "Add 'never' type descriptor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MDQ1ODQx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-388045841", "createdAt": "2020-04-06T08:45:27Z", "commit": {"oid": "b1c17d3025a5c0fc033ee22346e7697ecef0a71b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwODo0NToyN1rOGBNluA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwODo0NToyN1rOGBNluA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzkyNDQwOA==", "bodyText": "Is this only applicable for functions returning ()? I was under the impression that this applies to any function in which a panic is used. e.g.,\nfunction foo() returns string|never {\n    // some code\n    \n    if (true) {\n        panic error(\"ERROR\");\n    }\n\n    // more code\n\n    return \"foo\";\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r403924408", "createdAt": "2020-04-06T08:45:27Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/CodeAnalyzer.java", "diffHunk": "@@ -1574,6 +1574,12 @@ public void visit(BLangThrow throwNode) {\n \n     public void visit(BLangPanic panicNode) {\n         this.checkStatementExecutionValidity(panicNode);\n+\n+        // Check whether the enclosed function's return type is 'nil'\n+        if (this.env.enclInvokable.returnTypeNode.type.tag == TypeTags.NIL) {\n+            dlog.warning(this.env.enclInvokable.returnTypeNode.pos, DiagnosticCode.FUNCTION_DOES_NOT_RETURN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1c17d3025a5c0fc033ee22346e7697ecef0a71b"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b1c17d3025a5c0fc033ee22346e7697ecef0a71b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b1c17d3025a5c0fc033ee22346e7697ecef0a71b", "committedDate": "2020-04-03T09:15:09Z", "message": "Add 'never' type descriptor"}, "afterCommit": {"oid": "c13aded19e707dd31a1e688696670611f3e138c4", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c13aded19e707dd31a1e688696670611f3e138c4", "committedDate": "2020-04-16T08:23:10Z", "message": "Add 'never' type descriptor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c13aded19e707dd31a1e688696670611f3e138c4", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c13aded19e707dd31a1e688696670611f3e138c4", "committedDate": "2020-04-16T08:23:10Z", "message": "Add 'never' type descriptor"}, "afterCommit": {"oid": "ad901bb78a1a5026ba10a979c8fc8282fe1f833f", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ad901bb78a1a5026ba10a979c8fc8282fe1f833f", "committedDate": "2020-04-16T09:17:25Z", "message": "Add 'never' type descriptor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad901bb78a1a5026ba10a979c8fc8282fe1f833f", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ad901bb78a1a5026ba10a979c8fc8282fe1f833f", "committedDate": "2020-04-16T09:17:25Z", "message": "Add 'never' type descriptor"}, "afterCommit": {"oid": "1422921b5a0dba1713460a3297178f05b037d636", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1422921b5a0dba1713460a3297178f05b037d636", "committedDate": "2020-04-22T10:02:18Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1422921b5a0dba1713460a3297178f05b037d636", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1422921b5a0dba1713460a3297178f05b037d636", "committedDate": "2020-04-22T10:02:18Z", "message": "Add JVM support for 'never' type"}, "afterCommit": {"oid": "a13dc4a0e03168242a00c31d66846a1cff69fc7d", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a13dc4a0e03168242a00c31d66846a1cff69fc7d", "committedDate": "2020-04-22T11:26:50Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40763252a05c1f427b6d660faa71ba836ede6ab2", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/40763252a05c1f427b6d660faa71ba836ede6ab2", "committedDate": "2020-04-22T11:34:53Z", "message": "Merge branch 'master' into add-never-type-descriptor"}, "afterCommit": {"oid": "a13dc4a0e03168242a00c31d66846a1cff69fc7d", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a13dc4a0e03168242a00c31d66846a1cff69fc7d", "committedDate": "2020-04-22T11:26:50Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a13dc4a0e03168242a00c31d66846a1cff69fc7d", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a13dc4a0e03168242a00c31d66846a1cff69fc7d", "committedDate": "2020-04-22T11:26:50Z", "message": "Add JVM support for 'never' type"}, "afterCommit": {"oid": "4fe0d84b95dd8dddfee48e897b04a90c3eb0c0b5", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4fe0d84b95dd8dddfee48e897b04a90c3eb0c0b5", "committedDate": "2020-04-22T11:46:18Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4b7e5361624884bcdc5028ac809907279551242", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d4b7e5361624884bcdc5028ac809907279551242", "committedDate": "2020-04-23T08:36:50Z", "message": "minor changes"}, "afterCommit": {"oid": "cd50deacd50d7cf6d29e983e08e05e98884fb0d6", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cd50deacd50d7cf6d29e983e08e05e98884fb0d6", "committedDate": "2020-04-23T08:39:21Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd50deacd50d7cf6d29e983e08e05e98884fb0d6", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cd50deacd50d7cf6d29e983e08e05e98884fb0d6", "committedDate": "2020-04-23T08:39:21Z", "message": "Add JVM support for 'never' type"}, "afterCommit": {"oid": "348867867ee17b90c8f2b6a8ed83baccb328cc4e", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/348867867ee17b90c8f2b6a8ed83baccb328cc4e", "committedDate": "2020-04-23T09:29:51Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "348867867ee17b90c8f2b6a8ed83baccb328cc4e", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/348867867ee17b90c8f2b6a8ed83baccb328cc4e", "committedDate": "2020-04-23T09:29:51Z", "message": "Add JVM support for 'never' type"}, "afterCommit": {"oid": "ab1c42bfa287b47b7991781ece7e670439996ae9", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ab1c42bfa287b47b7991781ece7e670439996ae9", "committedDate": "2020-04-30T03:27:14Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ab1c42bfa287b47b7991781ece7e670439996ae9", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ab1c42bfa287b47b7991781ece7e670439996ae9", "committedDate": "2020-04-30T03:27:14Z", "message": "Add JVM support for 'never' type"}, "afterCommit": {"oid": "08f2072b0c39be7af21a0dbe5ff8f36e3b0802e1", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/08f2072b0c39be7af21a0dbe5ff8f36e3b0802e1", "committedDate": "2020-04-30T07:52:14Z", "message": "Add JVM support for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb8b41f4b1e44add70d99956a7ca773438568c5c", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb8b41f4b1e44add70d99956a7ca773438568c5c", "committedDate": "2020-04-30T17:23:46Z", "message": "Add never type tests"}, "afterCommit": {"oid": "fbdf3c0c83e05df27fc55f4b45c559b8a252076b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fbdf3c0c83e05df27fc55f4b45c559b8a252076b", "committedDate": "2020-05-04T02:33:21Z", "message": "Add never type tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fbdf3c0c83e05df27fc55f4b45c559b8a252076b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fbdf3c0c83e05df27fc55f4b45c559b8a252076b", "committedDate": "2020-05-04T02:33:21Z", "message": "Add never type tests"}, "afterCommit": {"oid": "2872a3133c977f940f62275f6f6c12d4a5c9cc9c", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2872a3133c977f940f62275f6f6c12d4a5c9cc9c", "committedDate": "2020-05-04T08:42:19Z", "message": "Add never type tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2872a3133c977f940f62275f6f6c12d4a5c9cc9c", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2872a3133c977f940f62275f6f6c12d4a5c9cc9c", "committedDate": "2020-05-04T08:42:19Z", "message": "Add never type tests"}, "afterCommit": {"oid": "bc1ff24cc9b5fd7d330d6bbc0c754704b496db1a", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc1ff24cc9b5fd7d330d6bbc0c754704b496db1a", "committedDate": "2020-05-11T05:42:04Z", "message": "Add never type tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bc1ff24cc9b5fd7d330d6bbc0c754704b496db1a", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc1ff24cc9b5fd7d330d6bbc0c754704b496db1a", "committedDate": "2020-05-11T05:42:04Z", "message": "Add never type tests"}, "afterCommit": {"oid": "987d5340fbbebe36703af23edec6c86e5033269c", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/987d5340fbbebe36703af23edec6c86e5033269c", "committedDate": "2020-05-13T05:27:39Z", "message": "Add tests for 'never' type descriptor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "987d5340fbbebe36703af23edec6c86e5033269c", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/987d5340fbbebe36703af23edec6c86e5033269c", "committedDate": "2020-05-13T05:27:39Z", "message": "Add tests for 'never' type descriptor"}, "afterCommit": {"oid": "b867d55225df75b77362b2e2fba96906c45195e7", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b867d55225df75b77362b2e2fba96906c45195e7", "committedDate": "2020-05-13T09:53:52Z", "message": "Add tests for 'never' type descriptor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b867d55225df75b77362b2e2fba96906c45195e7", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b867d55225df75b77362b2e2fba96906c45195e7", "committedDate": "2020-05-13T09:53:52Z", "message": "Add tests for 'never' type descriptor"}, "afterCommit": {"oid": "1f711fa3fc765006a7f05260b76842da8a38a5cb", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1f711fa3fc765006a7f05260b76842da8a38a5cb", "committedDate": "2020-05-19T07:51:04Z", "message": "Fix error in casting xml to xml<never>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MjQ0NDI4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-415244428", "createdAt": "2020-05-20T11:37:06Z", "commit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMTozNzowNlrOGYHZ4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyOTo1NVrOGYJNZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk0MDMyMw==", "bodyText": "Not used anymore.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427940323", "createdAt": "2020-05-20T11:37:06Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/util/diagnostic/DiagnosticCode.java", "diffHunk": "@@ -356,6 +356,10 @@\n     USAGE_OF_DEPRECATED_CONSTRUCT(\"usage.of.deprecated.construct\"),\n     OPERATOR_NOT_SUPPORTED(\"operator.not.supported\"),\n     OPERATOR_NOT_ALLOWED_VARIABLE(\"operator.not.allowed.variable\"),\n+    FUNCTION_DOES_NOT_RETURN(\"function.does.not.return\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk0MjM1MA==", "bodyText": "commented code", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427942350", "createdAt": "2020-05-20T11:41:17Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SemanticAnalyzer.java", "diffHunk": "@@ -2432,6 +2433,15 @@ private void validateDefaultable(BLangRecordTypeNode recordTypeNode) {\n         }\n     }\n \n+    private void validateOptionalNeverTypedField(BLangRecordTypeNode recordTypeNode) {\n+        for (BLangSimpleVariable field : recordTypeNode.fields) {\n+            if (field.type.tag == TypeTags.NEVER && !field.flagSet.contains(Flag.OPTIONAL)) {\n+                dlog.error(field.pos, DiagnosticCode.NEVER_TYPE_NOT_ALLOWED_FOR_REQUIRED_FIELDS, field.name.value);\n+//            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk0MzQwOQ==", "bodyText": "Do we need else here?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427943409", "createdAt": "2020-05-20T11:43:24Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SymbolEnter.java", "diffHunk": "@@ -1037,6 +1037,10 @@ public void visit(BLangSimpleVariable varNode) {\n             symbol.params = tsymbol.params;\n             symbol.restParam = tsymbol.restParam;\n             symbol.retType = tsymbol.returnType;\n+        } else if (varSymbol.type.tag == TypeTags.NEVER && ((env.scope.owner.tag & SymTag.RECORD) != SymTag.RECORD)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2MDM5Mw==", "bodyText": "do we need to override this?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427960393", "createdAt": "2020-05-20T12:15:35Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.wso2.ballerinalang.compiler.semantics.model.types;\n+\n+import org.wso2.ballerinalang.compiler.util.Names;\n+import org.wso2.ballerinalang.compiler.util.TypeTags;\n+\n+/**\n+ * {@code BNeverType} represents the singleton type when functions don't have a return value.\n+ * The value of the {@code BNeverType} is written as 'never'\n+ *\n+ * @since 1.2.3\n+ */\n+\n+public class BNeverType extends BNilType {\n+\n+    public BNeverType() {\n+        super(TypeTags.NEVER);\n+    }\n+\n+    @Override\n+    public boolean isNullable() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2MjgzMQ==", "bodyText": "Don't think this is a good idea. Now we can create BNilType with any type of tag.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427962831", "createdAt": "2020-05-20T12:19:28Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BNilType.java", "diffHunk": "@@ -35,6 +35,10 @@ public BNilType() {\n         super(TypeTags.NIL, null, Flags.READONLY);\n     }\n \n+    protected BNilType(int tag) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2MzI1Mg==", "bodyText": "Maybe we need to extend NullType not exactly the BNilType", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427963252", "createdAt": "2020-05-20T12:20:08Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.wso2.ballerinalang.compiler.semantics.model.types;\n+\n+import org.wso2.ballerinalang.compiler.util.Names;\n+import org.wso2.ballerinalang.compiler.util.TypeTags;\n+\n+/**\n+ * {@code BNeverType} represents the singleton type when functions don't have a return value.\n+ * The value of the {@code BNeverType} is written as 'never'\n+ *\n+ * @since 1.2.3\n+ */\n+\n+public class BNeverType extends BNilType {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2NzYyNg==", "bodyText": "are the changes in this file belong to this PR?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427967626", "createdAt": "2020-05-20T12:26:34Z", "author": {"login": "KRVPerera"}, "path": "tests/jballerina-unit-test/src/test/resources/testng.xml", "diffHunk": "@@ -20,7 +20,7 @@\n \n <!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n \n-<suite name=\"ballerina-root-test-suite\" time-out=\"120000\">\n+<suite name=\"ballerina-test-suite\" time-out=\"120000\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2OTg5NA==", "bodyText": "Do we need to add this here? Maybe we need this only in the early stages of compilation.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r427969894", "createdAt": "2020-05-20T12:29:55Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/util/TypeTags.java", "diffHunk": "@@ -116,6 +117,7 @@ public static boolean isXMLTypeTag(int tag) {\n             case XML_PI:\n             case XML_COMMENT:\n             case XML_TEXT:\n+            case NEVER:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1OTkwNTQ2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-415990546", "createdAt": "2020-05-21T09:04:43Z", "commit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwOTowNDo0M1rOGYrp0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQwOTowNDo0M1rOGYrp0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUzNDIyNQ==", "bodyText": "Instead of handling this here, I think it'd be better to add this logic to the API for creating unions in BUnionType itself. That way, this behaviour will be guaranteed for any union created, not just the ones created through the resolver.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r428534225", "createdAt": "2020-05-21T09:04:43Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SymbolResolver.java", "diffHunk": "@@ -884,6 +884,7 @@ public void visit(BLangUnionTypeNode unionTypeNode) {\n                         memBType.tag == TypeTags.UNION && !Symbols.isFlagOn(memBType.tsymbol.flags, Flags.TYPE_PARAM) ?\n                                 ((BUnionType) memBType).getMemberTypes().stream() :\n                                 Stream.of(memBType))\n+                .filter(memBType -> memBType.tag != TypeTags.NEVER)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71666a482e64c84a11327c3061c3c1aec1dbc794"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8aa9d88e8a1f3e6ac47421160c46488b9bdff7ba", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8aa9d88e8a1f3e6ac47421160c46488b9bdff7ba", "committedDate": "2020-05-20T13:56:37Z", "message": "Add 'never' for lang-server test cases"}, "afterCommit": {"oid": "59443d88532062994421ad20048e283ba7ef8f37", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59443d88532062994421ad20048e283ba7ef8f37", "committedDate": "2020-05-22T10:27:39Z", "message": "Add 'never' types tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NDg0ODMy", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-418484832", "createdAt": "2020-05-26T16:41:34Z", "commit": {"oid": "59443d88532062994421ad20048e283ba7ef8f37"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNjo0MTozNFrOGanBng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNjo0MTozNFrOGanBng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU1NTU1MA==", "bodyText": "Can we remove this warning.function.does.not.return", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r430555550", "createdAt": "2020-05-26T16:41:34Z", "author": {"login": "KRVPerera"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -1184,6 +1190,12 @@ warning.usage.of.deprecated.construct=\\\n warning.non.module.qualified.error.reason=\\\n   error reason ''{0}'' is not module qualified\n \n+warning.function.does.not.return=\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59443d88532062994421ad20048e283ba7ef8f37"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59443d88532062994421ad20048e283ba7ef8f37", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59443d88532062994421ad20048e283ba7ef8f37", "committedDate": "2020-05-22T10:27:39Z", "message": "Add 'never' types tests"}, "afterCommit": {"oid": "127052ad0ceb55a1ea4b561af8a8bf19d25424e5", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/127052ad0ceb55a1ea4b561af8a8bf19d25424e5", "committedDate": "2020-05-27T22:38:07Z", "message": "Add 'never' type tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5ODY5NTg3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-419869587", "createdAt": "2020-05-28T08:04:25Z", "commit": {"oid": "127052ad0ceb55a1ea4b561af8a8bf19d25424e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5ODgwODU5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-419880859", "createdAt": "2020-05-28T08:19:29Z", "commit": {"oid": "127052ad0ceb55a1ea4b561af8a8bf19d25424e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODoxOToyOVrOGbqkqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODoxOToyOVrOGbqkqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY2MjI0OA==", "bodyText": "Not exactly related to this PR. But can you convert the stream API usages in this class to loops as well? Should be straight forward with IntelliJ", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r431662248", "createdAt": "2020-05-28T08:19:29Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/model/types/BUnionType.java", "diffHunk": "@@ -108,7 +108,9 @@ public void setNullable(boolean nullable) {\n      * @return The created union type.\n      */\n     public static BUnionType create(BTypeSymbol tsymbol, LinkedHashSet<BType> types) {\n-        LinkedHashSet<BType> memberTypes = toFlatTypeSet(types);\n+        LinkedHashSet<BType> memberTypes = toFlatTypeSet(types).stream()\n+                .filter(memBType -> memBType.tag != TypeTags.NEVER)\n+                .collect(Collectors.toCollection(LinkedHashSet::new));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "127052ad0ceb55a1ea4b561af8a8bf19d25424e5"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "127052ad0ceb55a1ea4b561af8a8bf19d25424e5", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/127052ad0ceb55a1ea4b561af8a8bf19d25424e5", "committedDate": "2020-05-27T22:38:07Z", "message": "Add 'never' type tests"}, "afterCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f7915fcdaa55e54e1f36c1b3781167509169b13b", "committedDate": "2020-05-28T13:21:24Z", "message": "Replace stream operators with for-loops"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTIxMzQ5", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421521349", "createdAt": "2020-05-31T19:29:57Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxOToyOTo1N1rOGc6y9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxOToyOTo1N1rOGc6y9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk3NjYyOQ==", "bodyText": "Let's update this version number across all new files", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r432976629", "createdAt": "2020-05-31T19:29:57Z", "author": {"login": "pubudu91"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.jvm.types;\n+\n+/**\n+ * {@code BNeverType} represents the type of a {@code Never}.\n+ *\n+ * @since 1.3.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTI0OTg0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421524984", "createdAt": "2020-05-31T20:25:52Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMDoyNTo1MlrOGc7EDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMDoyNTo1MlrOGc7EDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk4MTAwNw==", "bodyText": "Shall we add tests for the following scenarios as well?\n\nIn a function with a never return type,\n\nexplicitly return ()\nexplicitly return some other value (say, a string)\n\n\nReferencing a type with a never field.\n\npublic function main() {\n    Employee e = {name: \"John\", age: 20, role: \"SE\"};\n    io:println(e);\n}\n\ntype Person record {|\n    string name;\n    never age?;\n|};\n\ntype Employee record {|\n    string role;\n    *Person;\n|};", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r432981007", "createdAt": "2020-05-31T20:25:52Z", "author": {"login": "pubudu91"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/types/never/never-type-negative.bal", "diffHunk": "@@ -0,0 +1,41 @@\n+function testNeverTypedVariable() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTI2NDM3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421526437", "createdAt": "2020-05-31T20:48:14Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMDo0ODoxNFrOGc7LMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMDo0ODoxNFrOGc7LMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk4MjgzMg==", "bodyText": "Shall we add a test case for the following as well:\n\nA table shape satisfies a key-constraint key if and and only if its set of key value shapes are a subset of K. The shape of a keyless table satisfies the key-constraint key<never>.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r432982832", "createdAt": "2020-05-31T20:48:14Z", "author": {"login": "pubudu91"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/types/never/never-type.bal", "diffHunk": "@@ -0,0 +1,71 @@\n+import ballerina/lang.'xml;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTI3Nzcz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421527773", "createdAt": "2020-05-31T21:07:18Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMTowNzoxOFrOGc7Q9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMTowNzoxOFrOGc7Q9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk4NDMwOA==", "bodyText": "This semantic rule about only optional fields being allowed to be never type fields is not included in the spec right? It's something we discussed? If so, will have to bring this up with James and add it to the spec", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r432984308", "createdAt": "2020-05-31T21:07:18Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/SemanticAnalyzer.java", "diffHunk": "@@ -2432,6 +2433,15 @@ private void validateDefaultable(BLangRecordTypeNode recordTypeNode) {\n         }\n     }\n \n+    private void validateOptionalNeverTypedField(BLangRecordTypeNode recordTypeNode) {\n+        // Never type is only allowed in an optional field in a record\n+        for (BLangSimpleVariable field : recordTypeNode.fields) {\n+            if (field.type.tag == TypeTags.NEVER && !field.flagSet.contains(Flag.OPTIONAL)) {\n+                dlog.error(field.pos, DiagnosticCode.NEVER_TYPE_NOT_ALLOWED_FOR_REQUIRED_FIELDS, field.name.value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjExMTk2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421611196", "createdAt": "2020-06-01T06:04:23Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjowNDoyNFrOGc_pnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNjowNDoyNFrOGc_pnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA1NjE1Nw==", "bodyText": "Should this be allowed if we are not allowing never x;?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433056157", "createdAt": "2020-06-01T06:04:24Z", "author": {"login": "pubudu91"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/types/never/never-type.bal", "diffHunk": "@@ -0,0 +1,71 @@\n+import ballerina/lang.'xml;\n+\n+const ASSERTION_ERROR_REASON = \"AssertionError\";\n+\n+//------------ Testing a function with 'never' return type ---------\n+\n+function functionWithNeverReturnType() returns never {\n+    string a = \"hello\";\n+    if (a == \"a\") {\n+        a = \"b\";\n+    } else {\n+        a = \"c\";\n+    }\n+}\n+\n+function testTypeOfNeverReturnTypedFunction() {\n+    any|error expectedFunctionType = typedesc<function () returns (never)>;\n+\n+    typedesc <any|error> actualFunctionType = typeof functionWithNeverReturnType;\n+    \n+    if (actualFunctionType is typedesc<function () returns (never)>) {\n+        return;\n+    }\n+    panic error(ASSERTION_ERROR_REASON,\n+                message = \"expected '\" + expectedFunctionType.toString() + \"', found '\" + actualFunctionType.toString () + \"'\");\n+}\n+\n+function testNeverReturnTypedFunctionCall() {\n+    functionWithNeverReturnType();\n+}\n+\n+//------------ Testing record type with 'never' field ---------\n+\n+type InclusiveRecord record {\n+    int j;\n+    never p?;\n+}; \n+\n+type ExclusiveRecord record {|\n+    int j;\n+    never p?;\n+|}; \n+\n+function testInclusiveRecord() {\n+    InclusiveRecord inclusiveRecord = {j:0, \"q\":1};\n+}\n+\n+function testExclusiveRecord() {\n+    ExclusiveRecord exclusiveRecord = {j:0};\n+}\n+\n+//------------- Testing XML<never> -----------------\n+\n+function testXMLWithNeverType() {\n+    xml<never> x = <xml<never>> 'xml:concat();  //generates an exmpty XML sequence and assign it to XML<never>\n+}\n+\n+\n+//---------------Test 'never' types with 'union-type' descriptors\n+function testNeverWithUnionType1() {\n+    string|never j;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjMyODM1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421632835", "createdAt": "2020-06-01T07:02:41Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzowMjo0MlrOGdAs4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzowMjo0MlrOGdAs4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA3MzM3OQ==", "bodyText": "How about something like\ninvalid invocation ''{0}()'': functions/methods returning ''never'' cannot be called in an expression context", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433073379", "createdAt": "2020-06-01T07:02:42Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -1181,6 +1187,9 @@ warning.usage.of.deprecated.construct=\\\n warning.non.module.qualified.error.reason=\\\n   error reason ''{0}'' is not module qualified\n \n+error.invalid.never.return.typed.function.invocation=\\\n+  invalid invocation. function ''{0}'' returns never, hence only allowed to invoke in call statements", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjM1MjI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421635225", "createdAt": "2020-06-01T07:08:20Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzowODoyMFrOGdA0Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzowODoyMFrOGdA0Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA3NTIyNg==", "bodyText": "How about,\n''never''-typed variable definitions not allowed\n\nor\ndefining variables of type ''never'' not allowed\n\nor\nvariables of type ''never'' cannot be defined", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433075226", "createdAt": "2020-06-01T07:08:20Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -371,6 +371,12 @@ error.missing.required.record.field=\\\n error.default.values.not.allowed.for.optional.fields=\\\n   a default value specified for optional field ''{0}''\n \n+error.never.type.not.allowed.for.required.fields=\\\n+  field ''{0}'' is defined as a never-typed required field\n+\n+error.never.type.not.allowed.as.variable.type=\\\n+  variable ''{0}'' is not allowed to have type ''never''", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjM2NzI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421636725", "createdAt": "2020-06-01T07:12:03Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxMjowM1rOGdA4nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxMjowM1rOGdA4nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA3NjM4Mw==", "bodyText": "Better to define error messages so that it clearly conveys that what's being attempted is not allowed, and if possible, what to use instead.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433076383", "createdAt": "2020-06-01T07:12:03Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -371,6 +371,12 @@ error.missing.required.record.field=\\\n error.default.values.not.allowed.for.optional.fields=\\\n   a default value specified for optional field ''{0}''\n \n+error.never.type.not.allowed.for.required.fields=\\\n+  field ''{0}'' is defined as a never-typed required field", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjM3OTk0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421637994", "createdAt": "2020-06-01T07:14:53Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxNDo1NFrOGdA8bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxNDo1NFrOGdA8bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA3NzM1Nw==", "bodyText": "Should this be in the code analyzer? Not exactly a type checking logic right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433077357", "createdAt": "2020-06-01T07:14:54Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/TypeChecker.java", "diffHunk": "@@ -3971,6 +3971,11 @@ private void checkFunctionInvocationExpr(BLangInvocation iExpr) {\n             // This will enable, type param support, if the function is called directly.\n             this.env = SymbolEnv.createInvocationEnv(iExpr, this.env);\n         }\n+        // Log an error if the function returns never and invoked invalidly.\n+        if (funcSymbol.type.getReturnType().tag == TypeTags.NEVER &&\n+                env.node.getKind() != NodeKind.EXPRESSION_STATEMENT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjM4Nzkx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-421638791", "createdAt": "2020-06-01T07:16:41Z", "commit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxNjo0MVrOGdA-vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwNzoxNjo0MVrOGdA-vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA3Nzk1MA==", "bodyText": "No need to parameterize the name right? Since the name won't change at all", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r433077950", "createdAt": "2020-06-01T07:16:41Z", "author": {"login": "pubudu91"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.jvm.types;\n+\n+/**\n+ * {@code BNeverType} represents the type of a {@code Never}.\n+ *\n+ * @since 1.3.0\n+ */\n+public class BNeverType extends BNullType {\n+    /**\n+     * Create a {@code BNeverType} represents the type of a {@code Never}.\n+     *\n+     * @param typeName string name of the type\n+     * @param pkg      package path\n+     */\n+    BNeverType(String typeName, BPackage pkg) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7915fcdaa55e54e1f36c1b3781167509169b13b", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f7915fcdaa55e54e1f36c1b3781167509169b13b", "committedDate": "2020-05-28T13:21:24Z", "message": "Replace stream operators with for-loops"}, "afterCommit": {"oid": "277639db90fbcfd4cbc5dbcf03a0873cf01da561", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/277639db90fbcfd4cbc5dbcf03a0873cf01da561", "committedDate": "2020-06-03T03:06:25Z", "message": "Regenerate parser"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2101b2efcc71b1b2dfb1912c920097c62f946d9", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e2101b2efcc71b1b2dfb1912c920097c62f946d9", "committedDate": "2020-06-03T07:20:05Z", "message": "Add balo tests for 'never' type"}, "afterCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9a3d5e6e5507a5ffdf1903163de4e9f227787be", "committedDate": "2020-06-03T14:21:43Z", "message": "Add balo tests for 'never' type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MDc1Mjgw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-424075280", "createdAt": "2020-06-04T03:21:55Z", "commit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMzoyMTo1NVrOGe0eKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMzo0MTozNlrOGe0wYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MDE1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (!(isNeverOrNilableReturn) && !this.statementReturns) {\n          \n          \n            \n                        if (!isNeverOrNilableReturn && !this.statementReturns) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434970155", "createdAt": "2020-06-04T03:21:55Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/CodeAnalyzer.java", "diffHunk": "@@ -420,10 +420,11 @@ private void visitFunction(BLangFunction funcNode) {\n         if (funcNode.body != null) {\n             analyzeNode(funcNode.body, invokableEnv);\n \n-            boolean isNilableReturn = funcNode.symbol.type.getReturnType().isNullable();\n+            boolean isNeverOrNilableReturn = funcNode.symbol.type.getReturnType().tag == TypeTags.NEVER ||\n+                    funcNode.symbol.type.getReturnType().isNullable();\n             // If the return signature is nil-able, an implicit return will be added in Desugar.\n             // Hence this only checks for non-nil-able return signatures and uncertain return in the body.\n-            if (!isNilableReturn && !this.statementReturns) {\n+            if (!(isNeverOrNilableReturn) && !this.statementReturns) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MDcwMg==", "bodyText": "We seem to be repeating the invocationExpr.symbol != null check. Can we check if it null and return if so before L2014? Then we can check the rest.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434970702", "createdAt": "2020-06-04T03:24:10Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/CodeAnalyzer.java", "diffHunk": "@@ -2009,6 +2010,14 @@ public void visit(BLangInvocation invocationExpr) {\n         analyzeExprs(invocationExpr.requiredArgs);\n         analyzeExprs(invocationExpr.restArgs);\n \n+        // Log an error if the function returns never and invoked invalidly.\n+        if (invocationExpr.symbol != null &&\n+                ((BInvokableSymbol) invocationExpr.symbol).getReturnType().tag == TypeTags.NEVER &&\n+                invocationExpr.parent.getKind() != NodeKind.EXPRESSION_STATEMENT) {\n+            dlog.error(invocationExpr.pos, DiagnosticCode.INVALID_NEVER_RETURN_TYPED_FUNCTION_INVOCATION,\n+                    invocationExpr.name);\n+        }\n+\n         if ((invocationExpr.symbol != null) && invocationExpr.symbol.kind == SymbolKind.FUNCTION) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MTY4Mw==", "bodyText": "We can replace this stream too right? Formatting seems off btw.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434971683", "createdAt": "2020-06-04T03:28:09Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/Types.java", "diffHunk": "@@ -2221,14 +2221,21 @@ private boolean isAssignableToUnionType(BType source, BType target, Set<TypePair\n             targetTypes.add(target);\n         }\n \n-        return sourceTypes.stream()\n-                .allMatch(s -> (targetTypes.stream().anyMatch(t -> isAssignable(s, t, unresolvedTypes,\n-                                                                                unresolvedReadonlyTypes)))\n-                        || (s.tag == TypeTags.FINITE  && isAssignable(s, target, unresolvedTypes,\n-                                                                      unresolvedReadonlyTypes))\n-                        || (s.tag == TypeTags.XML\n-                            && isAssignableToUnionType(expandedXMLBuiltinSubtypes, target, unresolvedTypes,\n-                                                       unresolvedReadonlyTypes)));\n+        for (BType s : sourceTypes) {\n+            if (s.tag == TypeTags.NEVER) {\n+                continue;\n+            }\n+            if ((targetTypes.stream().noneMatch(t -> isAssignable(s, t, unresolvedTypes,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3NDEzOA==", "bodyText": "How about\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              'never' typed required fields not allowed, define ''{0}'' as an optional field instead\n          \n          \n            \n              a required field cannot be of type ''never'', define ''{0}'' as an optional field instead", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434974138", "createdAt": "2020-06-04T03:38:32Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -371,6 +371,12 @@ error.missing.required.record.field=\\\n error.default.values.not.allowed.for.optional.fields=\\\n   a default value specified for optional field ''{0}''\n \n+error.never.type.not.allowed.for.required.fields=\\\n+  'never' typed required fields not allowed, define ''{0}'' as an optional field instead", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3NDU4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              ''never''-typed variable definitions not allowed\n          \n          \n            \n              cannot define a variable of type ''never''", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434974581", "createdAt": "2020-06-04T03:40:29Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/resources/compiler.properties", "diffHunk": "@@ -371,6 +371,12 @@ error.missing.required.record.field=\\\n error.default.values.not.allowed.for.optional.fields=\\\n   a default value specified for optional field ''{0}''\n \n+error.never.type.not.allowed.for.required.fields=\\\n+  'never' typed required fields not allowed, define ''{0}'' as an optional field instead\n+\n+error.never.typed.var.def.not.allowed=\\\n+  ''never''-typed variable definitions not allowed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3NDgxNw==", "bodyText": "The error message should've been\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"never typed required fields not allowed, define 'y' as an optional field instead\", 49, 5);\n          \n          \n            \n                            \"'never' typed required fields not allowed, define 'y' as an optional field instead\", 49, 5);\n          \n      \n    \n    \n  \n\nright?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r434974817", "createdAt": "2020-06-04T03:41:36Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/types/never/NeverTypeTest.java", "diffHunk": "@@ -0,0 +1,145 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.test.types.never;\n+\n+import org.ballerinalang.test.util.BAssertUtil;\n+import org.ballerinalang.test.util.BCompileUtil;\n+import org.ballerinalang.test.util.BRunUtil;\n+import org.ballerinalang.test.util.CompileResult;\n+import org.testng.Assert;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n+/**\n+ * Test class for ballerina never type.\n+ */\n+public class NeverTypeTest {\n+\n+    private CompileResult neverTypeTestResult;\n+    private CompileResult negativeCompileResult;\n+\n+    @BeforeClass\n+    public void setup() {\n+        neverTypeTestResult = BCompileUtil.compile(\"test-src/types/never/never-type.bal\");\n+        negativeCompileResult = BCompileUtil.compile(\"test-src/types/never/never-type-negative.bal\");\n+    }\n+\n+    @Test(description = \"Test type of the function with 'never' return type\")\n+    public void testTypeOfNeverReturnTypedFunction() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testTypeOfNeverReturnTypedFunction\");\n+    }\n+\n+    @Test(description = \"Test calling function with 'never' return type\")\n+    public void testNeverReturnTypedFunctionCall() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverReturnTypedFunctionCall\");\n+    }\n+\n+    @Test(description = \"Test inclusive record type with 'never' typed field\")\n+    public void testInclusiveRecordTypeWithNeverTypedField() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testInclusiveRecord\");\n+    }\n+\n+    @Test(description = \"Test exclusive record type with 'never' typed field\")\n+    public void testExclusiveRecordTypeWithNeverTypedField() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testExclusiveRecord\");\n+    }\n+\n+    @Test(description = \"Test XML with 'never' type constraint\")\n+    public void testXMLWithNeverTypeConstraint() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testXMLWithNeverType\");\n+    }\n+\n+    @Test(description = \"Test union type with 'never' type: 1\")\n+    public void testNeverWithUnionType1() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverWithUnionType1\");\n+    }\n+\n+    @Test(description = \"Test union type with 'never' type: 2\")\n+    public void testNeverWithUnionType2() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverWithUnionType1\");\n+    }\n+\n+    @Test(description = \"Test union type with 'never' type: 3\")\n+    public void testNeverWithUnionType3() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverWithUnionType3\");\n+    }\n+\n+    @Test(description = \"Test table's key constraint with 'never' type\")\n+    public void testNeverWithKeyLessTable() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverWithKeyLessTable\");\n+    }\n+\n+    @Test(description = \"Test table key constraint with 'never' type\")\n+    public void testNeverInUnionTypedKeyConstraints() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverInUnionTypedKeyConstraints\");\n+    }\n+\n+    @Test(description = \"Test 'never' type as future type param\")\n+    public void testNeverAsFutureTypeParam() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverAsFutureTypeParam\");\n+    }\n+\n+    @Test(description = \"Test 'never' type as mapping type param\")\n+    public void testNeverAsMappingTypeParam() {\n+        BRunUtil.invoke(neverTypeTestResult, \"testNeverAsMappingTypeParam\");\n+    }\n+\n+    @Test\n+    public void testNeverTypeNegative() {\n+        Assert.assertEquals(negativeCompileResult.getErrorCount(), 19);\n+        int i = 0;\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"'never'-typed variable definitions not allowed\", 2, 5);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"'never'-typed variable definitions not allowed\", 12, 5);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"incompatible types: expected '()', found 'never'\", 16, 12);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"incompatible types: expected 'never', found 'string'\", 25, 12);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"incompatible types: expected 'never', found 'string'\", 31, 16);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"incompatible types: expected 'never', found '()'\", 36, 12);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"incompatible types: expected 'never', found '()'\", 41, 20);\n+        BAssertUtil.validateError(negativeCompileResult, i++,\n+                \"never typed required fields not allowed, define 'y' as an optional field instead\", 49, 5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be"}, "originalPosition": 121}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9a3d5e6e5507a5ffdf1903163de4e9f227787be", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9a3d5e6e5507a5ffdf1903163de4e9f227787be", "committedDate": "2020-06-03T14:21:43Z", "message": "Add balo tests for 'never' type"}, "afterCommit": {"oid": "65a8de57160e0d5136c98789604d796f59e8a06e", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/65a8de57160e0d5136c98789604d796f59e8a06e", "committedDate": "2020-06-04T07:27:27Z", "message": "Add balo tests for 'never' type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzUwMzE4", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-425750318", "createdAt": "2020-06-06T16:01:57Z", "commit": {"oid": "65a8de57160e0d5136c98789604d796f59e8a06e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNjowMTo1N1rOGgEZxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQxNjowMTo1N1rOGgEZxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI3OTc0OQ==", "bodyText": "Why is this BPackage param required? BNullType's constructor accepts two String params`", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#discussion_r436279749", "createdAt": "2020-06-06T16:01:57Z", "author": {"login": "pubudu91"}, "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/types/BNeverType.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.jvm.types;\n+\n+/**\n+ * {@code BNeverType} represents the type of a {@code Never}.\n+ *\n+ * @since 2.0.0-preview1\n+ */\n+public class BNeverType extends BNullType {\n+    /**\n+     * Create a {@code BNeverType} represents the type of a {@code Never}.\n+     *\n+     * @param pkg package path\n+     */\n+    BNeverType(BPackage pkg) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65a8de57160e0d5136c98789604d796f59e8a06e"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzUxMTI1", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22439#pullrequestreview-425751125", "createdAt": "2020-06-06T16:14:47Z", "commit": {"oid": "65a8de57160e0d5136c98789604d796f59e8a06e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60f524de023348960570a1108d1729bc69d91b93", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/60f524de023348960570a1108d1729bc69d91b93", "committedDate": "2020-06-06T16:23:02Z", "message": "Add 'never' type descriptor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ce9fbdabd0d345bee7ab4493824a092fbff8233", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ce9fbdabd0d345bee7ab4493824a092fbff8233", "committedDate": "2020-06-06T16:23:02Z", "message": "Add 'never' type support for 'xml'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adde45330f4666ab1b39acd0eb7239fb1f39c492", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/adde45330f4666ab1b39acd0eb7239fb1f39c492", "committedDate": "2020-06-06T16:23:02Z", "message": "Ignore 'never' in union-types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96ce1f73ee15eb7ec6e6e4888d200264b12bdb32", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/96ce1f73ee15eb7ec6e6e4888d200264b12bdb32", "committedDate": "2020-06-06T16:23:02Z", "message": "Add JVM support for 'never' type descriptor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "299a8ae8275816b703c40da8ccc2d931418f2b49", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/299a8ae8275816b703c40da8ccc2d931418f2b49", "committedDate": "2020-06-06T16:23:02Z", "message": "Add 'never' type tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb50a63c6e96e9f3320ca06444d15250364d8c0d", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fb50a63c6e96e9f3320ca06444d15250364d8c0d", "committedDate": "2020-06-06T16:23:02Z", "message": "Replace stream operators with for-loops"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bccc49073ae0175c921aa8e4a08ea0627cc59f0", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3bccc49073ae0175c921aa8e4a08ea0627cc59f0", "committedDate": "2020-06-06T16:23:02Z", "message": "Disallow assigning 'nil-literal' for never-typed spread fields in records"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b360e256676f0c7e1709cfdafc989710f0ce69c0", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b360e256676f0c7e1709cfdafc989710f0ce69c0", "committedDate": "2020-06-06T16:23:02Z", "message": "Allow keyless tables to have never-typed key constraint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "062e78eadcf2f75978ed8f281a9fecc0bf5217e6", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/062e78eadcf2f75978ed8f281a9fecc0bf5217e6", "committedDate": "2020-06-06T16:23:02Z", "message": "Update error messages for 'never'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78beee0aa05c35f11f5b6b16a895a57348781038", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/78beee0aa05c35f11f5b6b16a895a57348781038", "committedDate": "2020-06-06T16:23:02Z", "message": "Regenerate parser"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "375d930944ff3f59ba9ce04e486ffc542bc29997", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/375d930944ff3f59ba9ce04e486ffc542bc29997", "committedDate": "2020-06-06T16:23:02Z", "message": "Add balo tests for 'never' type"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65a8de57160e0d5136c98789604d796f59e8a06e", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/65a8de57160e0d5136c98789604d796f59e8a06e", "committedDate": "2020-06-04T07:27:27Z", "message": "Add balo tests for 'never' type"}, "afterCommit": {"oid": "375d930944ff3f59ba9ce04e486ffc542bc29997", "author": {"user": {"login": "dulajdilshan", "name": "Dulaj Dilshan"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/375d930944ff3f59ba9ce04e486ffc542bc29997", "committedDate": "2020-06-06T16:23:02Z", "message": "Add balo tests for 'never' type"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4156, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}