{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMjExOTgw", "number": 23020, "title": "Add support for block statement", "bodyText": "Purpose\n\nIntroduce grammar of block statement as,\nblock-stmt := { sequence-stmt }\n\nFixes #22872\nCheck List\n\n Read the Contributing Guide\n Updated Change Log\n Checked Tooling Support (#)\n Added necessary tests\n\n Unit Tests\n Spec Conformance Tests\n Integration Tests\n Ballerina By Example Tests\n\n\n Increased Test Coverage\n Added necessary documentation\n\n API documentation\n Module documentation in Module.md files\n Ballerina By Examples", "createdAt": "2020-04-30T07:28:04Z", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020", "merged": true, "mergeCommit": {"oid": "9b9aab5190cb6cc403246f49be4e9561b9579ee9"}, "closed": true, "closedAt": "2020-05-13T21:22:42Z", "author": {"login": "chiranSachintha"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccaJWDAH2gAyNDExMjExOTgwOjhlZThlMmU3MWIzYTE2MWQyOGI2YzVkMGM4NTI2ZDAyMzUzYzZkMmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg8W5FAH2gAyNDExMjExOTgwOjNkZDYxNGExZmMyMjI3MDMwY2Y3ZmYzMTM4NTY3ZmNmZjA5MzQ1NDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ee8e2e71b3a161d28b6c5d0c8526d02353c6d2e", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ee8e2e71b3a161d28b6c5d0c8526d02353c6d2e", "committedDate": "2020-04-29T15:23:42Z", "message": "Add grammar for block-stmt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2c945a21904633e2db38c80b3c4a263285d553a", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f2c945a21904633e2db38c80b3c4a263285d553a", "committedDate": "2020-04-29T20:27:36Z", "message": "Visit and analyze all phases related to block-stmt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "269edc722877285ebdd9e1f05fa026949f1a0ef8", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/269edc722877285ebdd9e1f05fa026949f1a0ef8", "committedDate": "2020-04-30T07:04:07Z", "message": "Add block-stmt tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c0feca982c9f82ede80b73068e5e91b60e6fe4", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/74c0feca982c9f82ede80b73068e5e91b60e6fe4", "committedDate": "2020-04-30T08:00:38Z", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into issue-22872\n\n\u0001 Conflicts:\n\u0001\tcompiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParser.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e18bf1b3999e27f28fee465e6f930493248ca190", "committedDate": "2020-04-30T13:59:24Z", "message": "Regenerate ballerina parser"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bac557053870c9f118dee0a2001e1bc374b02c85", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bac557053870c9f118dee0a2001e1bc374b02c85", "committedDate": "2020-04-30T11:07:39Z", "message": "Regenerate ballerinaparser after merge"}, "afterCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e18bf1b3999e27f28fee465e6f930493248ca190", "committedDate": "2020-04-30T13:59:24Z", "message": "Regenerate ballerina parser"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MzYyNTYw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-406362560", "createdAt": "2020-05-06T07:30:01Z", "commit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzozMDowMVrOGRHD-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzozMDowMVrOGRHD-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5NDY4Mg==", "bodyText": "Suggested change", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r420594682", "createdAt": "2020-05-06T07:30:01Z", "author": {"login": "dulajdilshan"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {\n+\n+    public BLangBlockStmt body;\n+\n+    public BLangBlock() {\n+    }\n+\n+    public BLangBlock(BLangBlockStmt body) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODkzNTY0", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-408893564", "createdAt": "2020-05-11T06:34:02Z", "commit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjozNDowMlrOGTOXvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjozNzozOVrOGTOdZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ==", "bodyText": "Can we not use BLangBlockStmt, BlockStatementNode with some modifications instead of introducing new nodes? They are the same right? IMO, with this change we're introducing two ways to do the same thing.\n@pubudu91 thoughts?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422811581", "createdAt": "2020-05-11T06:34:02Z", "author": {"login": "MaryamZi"}, "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMjg4Mw==", "bodyText": "Formatting seems off.", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422812883", "createdAt": "2020-05-11T06:37:18Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,62 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+    return a;\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {\n+            a = a + 1;\n+            if (a == 3) {\n+                b = 8;\n+                }\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA==", "bodyText": "Is this formatting correct?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422813028", "createdAt": "2020-05-11T06:37:39Z", "author": {"login": "MaryamZi"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NjY3NzEz", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-409667713", "createdAt": "2020-05-12T03:07:10Z", "commit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwMzowNzoxMFrOGT0cWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwMzowODo0M1rOGT0dtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTM1NA==", "bodyText": "wrong year", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435354", "createdAt": "2020-05-12T03:07:10Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTcwMw==", "bodyText": "you can use a single line description, and then use <code> { statement* } </code> to represent the code", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435703", "createdAt": "2020-05-12T03:08:43Z", "author": {"login": "SupunS"}, "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.model.tree.statements;\n+\n+/**\n+ * {.\n+ *  body.\n+ * }.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4580a05ff04f3cd7cd3b5a8bdd221704e83507a4", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4580a05ff04f3cd7cd3b5a8bdd221704e83507a4", "committedDate": "2020-05-12T09:25:03Z", "message": "Fix review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/91d7aa61b0351cb94296b5ad5e0e7f4803090ceb", "committedDate": "2020-05-12T11:39:28Z", "message": "Modify some block-stmt tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNjE4ODU2", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-410618856", "createdAt": "2020-05-13T06:23:46Z", "commit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjoyMzo0NlrOGUjAng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjozMDoxMlrOGUjJ7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODMwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(a == 3) {\n          \n          \n            \n                        if (a == 3) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198302", "createdAt": "2020-05-13T06:23:46Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,61 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {\n+            a = a + 1;\n+            if(a == 3) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODY4NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    while(a < 4) {\n          \n          \n            \n                    while (a < 4) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198684", "createdAt": "2020-05-13T06:24:40Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt.bal", "diffHunk": "@@ -102,3 +102,61 @@ function test3() returns string {\n     string a = foo(3.4);\n     return a;\n }\n+\n+function returnStmtLocation1InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+    }\n+    return a;\n+}\n+\n+function returnStmtLocation2InBlock() returns int {\n+    int a = 2;\n+    {\n+        a = 10;\n+        return a;\n+    }\n+}\n+\n+int a = 10;\n+function testScopeOfBlock() {\n+    {\n+        int a = 5;\n+    }\n+    assertEquality(10, a);\n+}\n+\n+function testStmtInBlock() {\n+    int a = 2;\n+    int b = 5;\n+    {\n+        while(a < 4) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5ODkwNA==", "bodyText": "Can you create an issue to track this?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424198904", "createdAt": "2020-05-13T06:25:11Z", "author": {"login": "MaryamZi"}, "path": "language-server/modules/langserver-core/src/test/resources/formatting/expected/expectedNegativeEOF.bal", "diffHunk": "@@ -65,8 +65,7 @@ function getData(json payload) returns [string, string]? {\n                 }\n             }\n         } else\n-    {\n+{}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMzAyOA=="}, "originalCommit": {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE5OTA2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n          \n          \n            \n            function testRedeclareFunctionParameterInBlockStmt(int value) returns string {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424199064", "createdAt": "2020-05-13T06:25:38Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDUyNw==", "bodyText": "This logic isn't relevant to this test right?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424200527", "createdAt": "2020-05-13T06:29:50Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMDY4Nw==", "bodyText": "Can we also add negative tests for something like\nfunction test() {\n    {\n        int i = 1;\n        \n        {\n            int i = 2;\n        }\n    }\n}", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424200687", "createdAt": "2020-05-13T06:30:12Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-semantics-negative.bal", "diffHunk": "@@ -13,3 +13,13 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testRedeclareFunctionArgumentInBlockStmt (int value) returns (string) {\n+    {\n+        int value = 11;\n+        testError tError = {message: \"error\", cause: error(\"errorMsg\", code = \"test\")};\n+        return \"unreachable throw\";\n+        panic tError.cause;\n+    }\n+    return \"done\";\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNjY4MTYx", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-410668161", "createdAt": "2020-05-13T07:45:43Z", "commit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNzo0NTo0M1rOGUlYpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNzo0NTo0M1rOGUlYpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIzNzIyMw==", "bodyText": "Are we only just adding the block statement? What about the statements which make use of block statements? Or will that be fixed with the new parser?", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424237223", "createdAt": "2020-05-13T07:45:43Z", "author": {"login": "pubudu91"}, "path": "compiler/ballerina-lang/src/main/resources/grammar/BallerinaParser.g4", "diffHunk": "@@ -58,6 +58,10 @@ blockFunctionBody\n     :   LEFT_BRACE statement* (workerDeclaration+ statement*)? RIGHT_BRACE\n     ;\n \n+blockStatement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44cb6a9972c8cf428fcb1adddcd3e50664b26f7d", "committedDate": "2020-05-13T08:02:07Z", "message": "Fix review suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNzQ0Mjcw", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-410744270", "createdAt": "2020-05-13T09:22:57Z", "commit": {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOToyMjo1N1rOGUpCiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwOToyMjo1N1rOGUpCiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDI5NzA5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if(a > 10) {\n          \n          \n            \n                if (a > 10) {", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r424297096", "createdAt": "2020-05-13T09:22:57Z", "author": {"login": "MaryamZi"}, "path": "tests/jballerina-unit-test/src/test/resources/test-src/statements/block/block-stmt-negative.bal", "diffHunk": "@@ -117,3 +117,15 @@ function testRedeclareFunctionArgument (int value) returns (string) {\n     }\n     return \"done\";\n }\n+\n+function testUnreachableStmtInBlock() {\n+    int a = 2;\n+    {\n+        string s1 = \"hello Block\";\n+        return;\n+        int i = 9;\n+    }\n+    if(a > 10) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c9823d814c21565b7ac3650b3228ee639999b5d", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c9823d814c21565b7ac3650b3228ee639999b5d", "committedDate": "2020-05-13T11:28:09Z", "message": "Fix review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e261302d663440ca5640c849479740e42d482b8", "author": {"user": {"login": "hasithaa", "name": "Hasitha Aravinda"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e261302d663440ca5640c849479740e42d482b8", "committedDate": "2020-05-13T16:35:57Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Maryam Ziyad <maryamziyadm@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMTEwMDY3", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#pullrequestreview-411110067", "createdAt": "2020-05-13T16:43:40Z", "commit": {"oid": "8e261302d663440ca5640c849479740e42d482b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75e550af801cdb1c4ecc3165c9a0705d71c3fbb9", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/75e550af801cdb1c4ecc3165c9a0705d71c3fbb9", "committedDate": "2020-05-13T17:26:16Z", "message": "Fix failure tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd614a1fc2227030cf7ff3138567fcff0934547", "author": {"user": {"login": "chiranSachintha", "name": "Chiran Sachintha"}}, "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3dd614a1fc2227030cf7ff3138567fcff0934547", "committedDate": "2020-05-13T17:30:58Z", "message": "Merge branch 'issue-22872' of https://github.com/chiranSachintha/ballerina-lang into issue-22872"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3355, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}