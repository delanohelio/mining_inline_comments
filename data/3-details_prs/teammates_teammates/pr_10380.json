{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTg5OTc4", "number": 10380, "title": "[#9764] Add instructors as respondents in remind modal", "bodyText": "Fixes #9764, Closes #9788\nOutline of Solution\nRefactored students in relevant data structures and components to respondents to include instructors", "createdAt": "2020-07-21T15:42:19Z", "url": "https://github.com/TEAMMATES/teammates/pull/10380", "merged": true, "mergeCommit": {"oid": "08f14483c7c33a7798d5a0016df32b45db2e378d"}, "closed": true, "closedAt": "2020-07-25T02:10:56Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3ID8gAH2gAyNDU0NTg5OTc4OjUxNzc4YTgwNzhjZWI4N2Q2N2ZhYTQwMDdlNTk5YmJkZDA2M2E0Yjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4Os6TAH2gAyNDU0NTg5OTc4OmU0ODRlOWUwMDBlYmZhMTY4ZTkxOTgzNDgwODlkMTA2NzM0ZjU3ZGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "51778a8078ceb87d67faa4007e599bbdd063a4b8", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/51778a8078ceb87d67faa4007e599bbdd063a4b8", "committedDate": "2020-07-21T15:35:28Z", "message": "Refactor students to respondents in sessions-table module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e11cbd56d9fc35e7758372c4eae4d0d4788b70f", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9e11cbd56d9fc35e7758372c4eae4d0d4788b70f", "committedDate": "2020-07-21T15:38:08Z", "message": "Refactor students to respondents everywhere else"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/89d501bbaa2d48057ddc50e2d3e6baf72102eac1", "committedDate": "2020-07-21T15:38:40Z", "message": "Add instructor table to sessions-table modals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c633940743d3bf13c2c85631d2c4ea568d024c2a", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c633940743d3bf13c2c85631d2c4ea568d024c2a", "committedDate": "2020-07-21T15:44:23Z", "message": "Add logic to instructor-session-modal-page"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "14871e5de262bc963e69e20cd2ad53086c37728e", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/14871e5de262bc963e69e20cd2ad53086c37728e", "committedDate": "2020-07-21T15:39:31Z", "message": "Add logic to instructor-session-modal-page"}, "afterCommit": {"oid": "c633940743d3bf13c2c85631d2c4ea568d024c2a", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c633940743d3bf13c2c85631d2c4ea568d024c2a", "committedDate": "2020-07-21T15:44:23Z", "message": "Add logic to instructor-session-modal-page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTY0NzM1", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-452964735", "createdAt": "2020-07-22T03:10:56Z", "commit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzoxMDo1NlrOG1RGFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzoxNDozN1rOG1RJrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUwNzc5Nw==", "bodyText": "The name here should change to ResendResultsLinkToRespondentModalComponent", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458507797", "createdAt": "2020-07-22T03:10:56Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/components/sessions-table/resend-results-link-to-respondent-modal/resend-results-link-to-respondent-modal.component.spec.ts", "diffHunk": "@@ -3,22 +3,22 @@ import { Component } from '@angular/core';\n import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n import { FormsModule } from '@angular/forms';\n import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n-import { StudentListInfoTableComponent } from '../student-list-info-table/student-list-info-table.component';\n-import { ResendResultsLinkToStudentModalComponent } from './resend-results-link-to-student-modal.component';\n+import { RespondentListInfoTableComponent } from '../respondent-list-info-table/respondent-list-info-table.component';\n+import { ResendResultsLinkToRespondentModalComponent } from './resend-results-link-to-respondent-modal.component';\n \n @Component({ selector: 'tm-ajax-preload', template: '' })\n class AjaxPreloadComponent {}\n \n describe('ResendResultsLinkToStudentModalComponent', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUwODcxNg==", "bodyText": "same here", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458508716", "createdAt": "2020-07-22T03:14:37Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.spec.ts", "diffHunk": "@@ -4,22 +4,22 @@ import { HttpClientTestingModule } from '@angular/common/http/testing';\n import { Component } from '@angular/core';\n import { FormsModule } from '@angular/forms';\n import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n-import { StudentListInfoTableComponent } from '../student-list-info-table/student-list-info-table.component';\n-import { SendRemindersToStudentModalComponent } from './send-reminders-to-student-modal.component';\n+import { RespondentListInfoTableComponent } from '../respondent-list-info-table/respondent-list-info-table.component';\n+import { SendRemindersToRespondentsModalComponent } from './send-reminders-to-respondents-modal.component';\n \n @Component({ selector: 'tm-ajax-preload', template: '' })\n class AjaxPreloadComponent {}\n \n describe('SendRemindersToStudentModalComponent', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTcxODM2", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-452971836", "createdAt": "2020-07-22T03:36:34Z", "commit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzozNjozNFrOG1RfZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzozNzoxMlrOG1Rf5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxNDI3OQ==", "bodyText": "Use forEach here?", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458514279", "createdAt": "2020-07-22T03:36:34Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.ts", "diffHunk": "@@ -0,0 +1,116 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import {\n+  InstructorListInfoTableRowModel,\n+  StudentListInfoTableRowModel,\n+} from '../respondent-list-info-table/respondent-list-info-table-model';\n+\n+/**\n+ * Send reminders to respondents modal.\n+ */\n+@Component({\n+  selector: 'tm-send-reminders-to-respondents-modal',\n+  templateUrl: './send-reminders-to-respondents-modal.component.html',\n+  styleUrls: ['./send-reminders-to-respondents-modal.component.scss'],\n+})\n+export class SendRemindersToRespondentsModalComponent implements OnInit {\n+\n+  // values below will be injected by other component\n+  courseId: string = '';\n+  feedbackSessionName: string = '';\n+  studentListInfoTableRowModels: StudentListInfoTableRowModel[] = [];\n+  instructorListInfoTableRowModels: InstructorListInfoTableRowModel[] = [];\n+\n+  constructor(public activeModal: NgbActiveModal) {\n+  }\n+\n+  ngOnInit(): void {\n+  }\n+\n+  /**\n+   * Changes selection state for all students.\n+   */\n+  changeSelectionStatusForAllStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxNDQwNQ==", "bodyText": "Until here", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r458514405", "createdAt": "2020-07-22T03:37:12Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/components/sessions-table/send-reminders-to-respondents-modal/send-reminders-to-respondents-modal.component.ts", "diffHunk": "@@ -0,0 +1,116 @@\n+import { Component, OnInit } from '@angular/core';\n+import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n+import {\n+  InstructorListInfoTableRowModel,\n+  StudentListInfoTableRowModel,\n+} from '../respondent-list-info-table/respondent-list-info-table-model';\n+\n+/**\n+ * Send reminders to respondents modal.\n+ */\n+@Component({\n+  selector: 'tm-send-reminders-to-respondents-modal',\n+  templateUrl: './send-reminders-to-respondents-modal.component.html',\n+  styleUrls: ['./send-reminders-to-respondents-modal.component.scss'],\n+})\n+export class SendRemindersToRespondentsModalComponent implements OnInit {\n+\n+  // values below will be injected by other component\n+  courseId: string = '';\n+  feedbackSessionName: string = '';\n+  studentListInfoTableRowModels: StudentListInfoTableRowModel[] = [];\n+  instructorListInfoTableRowModels: InstructorListInfoTableRowModel[] = [];\n+\n+  constructor(public activeModal: NgbActiveModal) {\n+  }\n+\n+  ngOnInit(): void {\n+  }\n+\n+  /**\n+   * Changes selection state for all students.\n+   */\n+  changeSelectionStatusForAllStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {\n+      model.isSelected = shouldSelect;\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all yet to submit students.\n+   */\n+  changeSelectionStatusForAllYetSubmittedStudentsHandler(shouldSelect: boolean): void {\n+    for (const model of this.studentListInfoTableRowModels) {\n+      if (!model.hasSubmittedSession) {\n+        model.isSelected = shouldSelect;\n+      }\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all instructors.\n+   */\n+  changeSelectionStatusForAllInstructorsHandler(shouldSelect: boolean): void {\n+    for (const model of this.instructorListInfoTableRowModels) {\n+      model.isSelected = shouldSelect;\n+    }\n+  }\n+\n+  /**\n+   * Changes selection state for all yet to submit instructors.\n+   */\n+  changeSelectionStatusForAllYetSubmittedInstructorsHandler(shouldSelect: boolean): void {\n+    for (const model of this.instructorListInfoTableRowModels) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89d501bbaa2d48057ddc50e2d3e6baf72102eac1"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ba1b751a20e82de73198f3631800f3e3016430", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/17ba1b751a20e82de73198f3631800f3e3016430", "committedDate": "2020-07-22T11:56:41Z", "message": "Merge branch 'master' into 9764-9788-remindModal\n\n# Conflicts:\n#\tsrc/web/app/components/student-list/student-list.component.html\n#\tsrc/web/app/components/student-list/student-list.component.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "committedDate": "2020-07-22T12:45:47Z", "message": "Refactor for code quality and fix test description"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "252c2a2895aebac51d600470c91dd3df527c3b16", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/252c2a2895aebac51d600470c91dd3df527c3b16", "committedDate": "2020-07-22T12:10:03Z", "message": "Refactor for code quality and fix test description"}, "afterCommit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/8a829aa3c83703b04c8d5b92b1aef41749be7dcc", "committedDate": "2020-07-22T12:45:47Z", "message": "Refactor for code quality and fix test description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODMwNjcy", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-453830672", "createdAt": "2020-07-23T04:35:46Z", "commit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODM0Nzk5", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-453834799", "createdAt": "2020-07-23T04:53:24Z", "commit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo1MzoyNFrOG18LMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo1MzozMFrOG18LRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMzYxNw==", "bodyText": "I think you should also change FeedbackSessionStudentRemindRequest to a proper name", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459213617", "createdAt": "2020-07-23T04:53:24Z", "author": {"login": "xpdavid"}, "path": "src/web/services/feedback-sessions.service.ts", "diffHunk": "@@ -204,9 +204,9 @@ export class FeedbackSessionsService {\n   }\n \n   /**\n-   * Sends e-mails to remind students who have not submitted their feedback.\n+   * Sends e-mails to remind respondents who have not submitted their feedback.\n    */\n-  remindFeedbackSessionSubmissionForStudent(\n+  remindFeedbackSessionSubmissionForRespondents(\n       courseId: string, feedbackSessionName: string, request: FeedbackSessionStudentRemindRequest)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMzYzOA==", "bodyText": "Same here", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459213638", "createdAt": "2020-07-23T04:53:30Z", "author": {"login": "xpdavid"}, "path": "src/web/services/feedback-sessions.service.ts", "diffHunk": "@@ -241,9 +241,9 @@ export class FeedbackSessionsService {\n   }\n \n   /**\n-   * Sends e-mails to remind students on the published results link.\n+   * Sends e-mails to remind respondents on the published results link.\n    */\n-  remindResultsLinkToStudents(\n+  remindResultsLinkToRespondents(\n       courseId: string, feedbackSessionName: string, request: FeedbackSessionStudentRemindRequest)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a829aa3c83703b04c8d5b92b1aef41749be7dcc"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a11101d019181bd2efc2c853d0b9b7cec90e49f0", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a11101d019181bd2efc2c853d0b9b7cec90e49f0", "committedDate": "2020-07-23T09:59:38Z", "message": "Refactor FeedbackSessionStudentRemindRequest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTk3NTY1", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-454597565", "createdAt": "2020-07-24T01:51:14Z", "commit": {"oid": "a11101d019181bd2efc2c853d0b9b7cec90e49f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMTo1MToxNVrOG2hAsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMTo1MToxNVrOG2hAsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTgxNzEzNg==", "bodyText": "Just checked. We need to add a backend test for instructors (currently only have one for students)", "url": "https://github.com/TEAMMATES/teammates/pull/10380#discussion_r459817136", "createdAt": "2020-07-24T01:51:15Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/RemindFeedbackSessionSubmissionAction.java", "diffHunk": "@@ -40,8 +40,8 @@ public ActionResult execute() {\n                     + \"as the feedback session is not open for submissions.\", HttpStatus.SC_BAD_REQUEST);\n         }\n \n-        FeedbackSessionStudentRemindRequest remindRequest =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a11101d019181bd2efc2c853d0b9b7cec90e49f0"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f18e71e447536eadffd19420b0aa5289a33573a", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7f18e71e447536eadffd19420b0aa5289a33573a", "committedDate": "2020-07-24T07:33:19Z", "message": "Add an instructor to remind in tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjM3OTIw", "url": "https://github.com/TEAMMATES/teammates/pull/10380#pullrequestreview-455237920", "createdAt": "2020-07-24T23:55:08Z", "commit": {"oid": "7f18e71e447536eadffd19420b0aa5289a33573a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e484e9e000ebfa168e9198348089d106734f57da", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e484e9e000ebfa168e9198348089d106734f57da", "committedDate": "2020-07-25T01:53:34Z", "message": "Merge branch 'master' into 9764-9788-remindModal"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4305, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}