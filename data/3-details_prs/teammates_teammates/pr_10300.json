{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3ODYyMTk3", "number": 10300, "title": "[#9474] Change Email Validation to Enforce TLD", "bodyText": "Fixes #9474\nI found a good stackoverflow discussion that includes the downfalls of using regex for email validation if anyone's interested.", "createdAt": "2020-07-12T07:16:09Z", "url": "https://github.com/TEAMMATES/teammates/pull/10300", "merged": true, "mergeCommit": {"oid": "3f7f9bae060daa4c47e829400970d0ff9ac96cde"}, "closed": true, "closedAt": "2020-07-13T09:57:14Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0IdQAAH2gAyNDQ3ODYyMTk3OmJhZTI0ZDNkMWJhNjUwZTUyZTZkM2Q5Zjc4MzAyNmZkMmZmOGQxN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0dptegH2gAyNDQ3ODYyMTk3OjFjYWRiOWU4MGNjN2Y0NTIzZWRmODI3OWVkYzIyZjAwZWM2MzE4MTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bae24d3d1ba650e52e6d3d9f783026fd2ff8d17b", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/bae24d3d1ba650e52e6d3d9f783026fd2ff8d17b", "committedDate": "2020-07-12T08:21:20Z", "message": "Change email validation to enforce TLD"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06471e727ca0b7896a2a579e23d546cff582836d", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/06471e727ca0b7896a2a579e23d546cff582836d", "committedDate": "2020-07-12T07:13:16Z", "message": "Change email validation to enforce tld"}, "afterCommit": {"oid": "38487380df2469482f327126bdbe5006bdd3fe68", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/38487380df2469482f327126bdbe5006bdd3fe68", "committedDate": "2020-07-12T08:41:28Z", "message": "Fix emails used in other tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODc3NjY0", "url": "https://github.com/TEAMMATES/teammates/pull/10300#pullrequestreview-446877664", "createdAt": "2020-07-12T13:15:56Z", "commit": {"oid": "38487380df2469482f327126bdbe5006bdd3fe68"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxMzoxNTo1NlrOGwULTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxMzoxNjowNlrOGwULZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMxNTQwNg==", "bodyText": "This is unrelated change", "url": "https://github.com/TEAMMATES/teammates/pull/10300#discussion_r453315406", "createdAt": "2020-07-12T13:15:56Z", "author": {"login": "wkurniawan07"}, "path": "src/test/java/teammates/test/cases/webapi/EnrollStudentsActionTest.java", "diffHunk": "@@ -42,7 +43,7 @@ public void testExecute() throws Exception {\n     public void testExecute_withNewStudent_shouldBeAddedToDatabase() {\n         String courseId = typicalBundle.students.get(\"student1InCourse1\").getCourse();\n         StudentAttributes newStudent = getTypicalNewStudent(courseId);\n-        StudentsEnrollRequest req = prepareRequest(Arrays.asList(newStudent));\n+        StudentsEnrollRequest req = prepareRequest(Collections.singletonList(newStudent));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38487380df2469482f327126bdbe5006bdd3fe68"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMxNTQzMA==", "bodyText": "This is unrelated change", "url": "https://github.com/TEAMMATES/teammates/pull/10300#discussion_r453315430", "createdAt": "2020-07-12T13:16:06Z", "author": {"login": "wkurniawan07"}, "path": "src/test/java/teammates/test/cases/webapi/EnrollStudentsActionTest.java", "diffHunk": "@@ -218,18 +219,18 @@ public void testExecute_withNumberOfStudentsMoreThanSectionLimit_shouldThrowInva\n \n         // Enroll one more student to exceed limit.\n         StudentAttributes oneMoreStudentToGoBeyondLimit = StudentAttributes\n-                .builder(courseId, \"email@com\")\n+                .builder(courseId, \"email@test.com\")\n                 .withName(\"Name\")\n                 .withSectionName(randomSectionName)\n                 .withTeamName(\"Team\")\n                 .withComment(\"cmt\")\n                 .build();\n \n-        req = prepareRequest(Arrays.asList(oneMoreStudentToGoBeyondLimit));\n+        req = prepareRequest(Collections.singletonList(oneMoreStudentToGoBeyondLimit));\n         EnrollStudentsAction action = getAction(req, params);\n \n         InvalidHttpRequestBodyException ee = assertThrows(InvalidHttpRequestBodyException.class,\n-                () -> action.execute());\n+                action::execute);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38487380df2469482f327126bdbe5006bdd3fe68"}, "originalPosition": 89}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07625aa24d6c82d6a72d5fd777d01b592e8cc884", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/07625aa24d6c82d6a72d5fd777d01b592e8cc884", "committedDate": "2020-07-12T15:35:30Z", "message": "Fix emails used in other tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "38487380df2469482f327126bdbe5006bdd3fe68", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/38487380df2469482f327126bdbe5006bdd3fe68", "committedDate": "2020-07-12T08:41:28Z", "message": "Fix emails used in other tests"}, "afterCommit": {"oid": "07625aa24d6c82d6a72d5fd777d01b592e8cc884", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/07625aa24d6c82d6a72d5fd777d01b592e8cc884", "committedDate": "2020-07-12T15:35:30Z", "message": "Fix emails used in other tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTkzMjMw", "url": "https://github.com/TEAMMATES/teammates/pull/10300#pullrequestreview-446993230", "createdAt": "2020-07-13T05:40:42Z", "commit": {"oid": "07625aa24d6c82d6a72d5fd777d01b592e8cc884"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cadb9e80cc7f4523edf8279edc22f00ec631813", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/1cadb9e80cc7f4523edf8279edc22f00ec631813", "committedDate": "2020-07-13T09:02:57Z", "message": "Merge branch 'master' into 9474-email"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4284, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}