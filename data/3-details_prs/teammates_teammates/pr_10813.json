{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NDQ0MzA5", "number": 10813, "title": "[#10569] Missing loading icons and bugs", "bodyText": "Fixes Part of #10569\nReady for Review\nOutline of Solution\nThis PR has added a loading icon for  all buttons under \"Deleted Feedback Sessions\" table, which is only the first bullet point of issue #10569.\nIn instructor-sessions-page.component.ts I added boolean variables for restoring and permanently deleting sessions from recycle bin. I used these variables to track when each process was processing. I did this by setting variables equal to true when the corresponding method was called, and setting back to false when the method had finished the request. In instructor-sessions-page.component.html I added the newly created boolean variables to the *tmIsLoading directive for the session recycle bin table.", "createdAt": "2020-10-24T15:00:43Z", "url": "https://github.com/TEAMMATES/teammates/pull/10813", "merged": true, "mergeCommit": {"oid": "cc625930a011e702f65782bd5fc9edc7b6f9bb46"}, "closed": true, "closedAt": "2020-11-03T01:49:31Z", "author": {"login": "jfrairigh"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVsH23gH2gAyNTA5NDQ0MzA5OjM1MTE4NWVmZGJlZjc4YmYwODVhNjk4ZDQ4OTdkMThmNzI2YmNhNGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYvK2-gFqTUyMjE0NzE1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "351185efdbef78bf085a698d4897d18f726bca4e", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/351185efdbef78bf085a698d4897d18f726bca4e", "committedDate": "2020-10-24T14:34:03Z", "message": "added loading icons for buttons under Deleted Feedback Sessions table"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NDQwMjgy", "url": "https://github.com/TEAMMATES/teammates/pull/10813#pullrequestreview-516440282", "createdAt": "2020-10-26T02:48:00Z", "commit": {"oid": "351185efdbef78bf085a698d4897d18f726bca4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwMjo0ODowMVrOHn_YIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwMjo0ODowMVrOHn_YIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTY5NDg4MQ==", "bodyText": "Unnecessary line change here", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r511694881", "createdAt": "2020-10-26T02:48:01Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -458,6 +462,7 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           this.sessionsTableRowModels.push(m);\n           this.updateInstructorPrivilege(m);\n           this.statusMessageService.showSuccessToast('The feedback session has been restored.');\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "351185efdbef78bf085a698d4897d18f726bca4e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f56da9077bedf257de512c44b5a76f54d7c8b6af", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f56da9077bedf257de512c44b5a76f54d7c8b6af", "committedDate": "2020-10-26T14:41:03Z", "message": "deleted unnessary line of white space in code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4Mjk0NDYw", "url": "https://github.com/TEAMMATES/teammates/pull/10813#pullrequestreview-518294460", "createdAt": "2020-10-28T03:12:25Z", "commit": {"oid": "f56da9077bedf257de512c44b5a76f54d7c8b6af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/bbbd795c4e697398c1694eb9a2253bf89de67db2", "committedDate": "2020-10-29T02:56:23Z", "message": "Merge branch 'master' into 10569-missing-loading-icons"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MzA2OTI2", "url": "https://github.com/TEAMMATES/teammates/pull/10813#pullrequestreview-519306926", "createdAt": "2020-10-29T03:32:38Z", "commit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MzExOTA2", "url": "https://github.com/TEAMMATES/teammates/pull/10813#pullrequestreview-519311906", "createdAt": "2020-10-29T03:43:21Z", "commit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwMzo0MzoyMVrOHqHobA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwMzo0MzoyMVrOHqHobA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzkyNzI3Ng==", "bodyText": "Hang on, I think this line is no longer necessary, it was removed in #10792", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r513927276", "createdAt": "2020-10-29T03:43:21Z", "author": {"login": "madanalogy"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -574,27 +579,30 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           ));\n     });\n \n-    forkJoin(restoreRequests).subscribe((restoredSessions: FeedbackSession[]) => {\n-      restoredSessions.forEach((session: FeedbackSession) => {\n-        this.recycleBinFeedbackSessionRowModels = [];\n-        const m: SessionsTableRowModel = {\n-          feedbackSession: session,\n-          responseRate: '',\n-          isLoadingResponseRate: false,\n-          instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n-        };\n-        this.sessionsTableRowModels.push(m);\n+    forkJoin(restoreRequests).pipe(finalize(() => this.isRestoreFeedbackSessionLoading = false))\n+      .subscribe((restoredSessions: FeedbackSession[]) => {\n+        restoredSessions.forEach((session: FeedbackSession) => {\n+          this.recycleBinFeedbackSessionRowModels = [];\n+          const m: SessionsTableRowModel = {\n+            feedbackSession: session,\n+            responseRate: '',\n+            isLoadingResponseRate: false,\n+            instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n+          };\n+          this.sessionsTableRowModels.push(m);\n+          this.updateInstructorPrivilege(m);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3b61b8ac9896baadb84be95217490a5deb2e193", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a3b61b8ac9896baadb84be95217490a5deb2e193", "committedDate": "2020-10-29T19:53:14Z", "message": "trying to resolve merge conflict on local branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f22c46bacc7a2e4f1308c271e9a1f7b7f3815f3", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6f22c46bacc7a2e4f1308c271e9a1f7b7f3815f3", "committedDate": "2020-10-30T13:15:05Z", "message": "still trying to fix local branch's merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deac4c6d662d14c7c3e54cd81058bcf15df8c480", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/deac4c6d662d14c7c3e54cd81058bcf15df8c480", "committedDate": "2020-11-02T01:37:29Z", "message": "final change to fix merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e36444522f2219826bb97a29fc03144619ce787", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/5e36444522f2219826bb97a29fc03144619ce787", "committedDate": "2020-11-02T01:39:36Z", "message": "Merge branch 'master' into 10569-missing-loading-icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4176623c4915ad42a7b3b2bc4e9ef26cc1db49a", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d4176623c4915ad42a7b3b2bc4e9ef26cc1db49a", "committedDate": "2020-11-02T19:45:40Z", "message": "Merge branch '10569-missing-loading-icons' of https://github.com/jfrairigh/teammates into 10569-missing-loading-icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd7ac9b8be8144645e39b78e7b7d0c0531ec86fd", "author": {"user": {"login": "jfrairigh", "name": "Jessica Rairigh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/fd7ac9b8be8144645e39b78e7b7d0c0531ec86fd", "committedDate": "2020-11-02T23:47:54Z", "message": "Merge branch 'master' into 10569-missing-loading-icons"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTQ3MTU2", "url": "https://github.com/TEAMMATES/teammates/pull/10813#pullrequestreview-522147156", "createdAt": "2020-11-03T01:48:49Z", "commit": {"oid": "fd7ac9b8be8144645e39b78e7b7d0c0531ec86fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4208, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}