{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNjY3Nzc5", "number": 10779, "title": "[#9536] Instructor Course Student Details Page E2E Test", "bodyText": "Part of #9536\nOutline of Solution\n\nAdd InstructorCourseStudentDetailsPageE2ETest which tests:\n\nverify loaded details - student with profile\nverify loaded details - student without profile", "createdAt": "2020-10-12T15:58:42Z", "url": "https://github.com/TEAMMATES/teammates/pull/10779", "merged": true, "mergeCommit": {"oid": "be1c96ee367f7bb7c51fe417aebcd3f939c0cd9d"}, "closed": true, "closedAt": "2020-10-14T04:48:39Z", "author": {"login": "jtankw3"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR2IQDAH2gAyNTAxNjY3Nzc5OjUwZjYyNDJjMWIwZTI5ZjQ3Y2ZlZmRiYWM1YzFiZGJkNzE0ZDdjZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSUIarAH2gAyNTAxNjY3Nzc5OmE4NWU1NzJjMGIzMjYzYTU1MTlmZmM4NmM0MjBiOGZkZDc3NmY3MDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50f6242c1b0e29f47cfefdbac5c1bdbd714d7cfe", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/50f6242c1b0e29f47cfefdbac5c1bdbd714d7cfe", "committedDate": "2020-10-12T15:57:50Z", "message": "Add InstructorCourseStudentDetailsPageE2ETest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MDUxNjAz", "url": "https://github.com/TEAMMATES/teammates/pull/10779#pullrequestreview-507051603", "createdAt": "2020-10-13T03:54:51Z", "commit": {"oid": "50f6242c1b0e29f47cfefdbac5c1bdbd714d7cfe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMzo1NDo1MVrOHgUfoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwMzo1NDo1MVrOHgUfoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY1MjI1Nw==", "bodyText": "While this works, is there a better reader-friendly way to indicate what this means? e.g. asserting that the text content is \"Not Specified\", while slightly more prone to change, is closer to being a black box and also more reader-friendly.", "url": "https://github.com/TEAMMATES/teammates/pull/10779#discussion_r503652257", "createdAt": "2020-10-13T03:54:51Z", "author": {"login": "wkurniawan07"}, "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseStudentDetailsViewPage.java", "diffHunk": "@@ -0,0 +1,99 @@\n+package teammates.e2e.pageobjects;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.support.FindBy;\n+\n+import teammates.common.datatransfer.attributes.StudentAttributes;\n+import teammates.common.datatransfer.attributes.StudentProfileAttributes;\n+\n+/**\n+ * Represents the instructor course student details view page of the website.\n+ */\n+public class InstructorCourseStudentDetailsViewPage extends AppPage {\n+    @FindBy (id = \"student-name\")\n+    private WebElement studentName;\n+\n+    @FindBy (id = \"short-name\")\n+    private WebElement studentShortName;\n+\n+    @FindBy (id = \"gender\")\n+    private WebElement studentGender;\n+\n+    @FindBy (id = \"personal-email\")\n+    private WebElement studentPersonalEmail;\n+\n+    @FindBy (id = \"institution\")\n+    private WebElement studentInstitution;\n+\n+    @FindBy (id = \"nationality\")\n+    private WebElement studentNationality;\n+\n+    @FindBy (id = \"course-id\")\n+    private WebElement courseId;\n+\n+    @FindBy (id = \"section-name\")\n+    private WebElement studentSectionName;\n+\n+    @FindBy (id = \"team-name\")\n+    private WebElement studentTeamName;\n+\n+    @FindBy (id = \"email\")\n+    private WebElement studentOfficialEmail;\n+\n+    @FindBy (id = \"comments\")\n+    private WebElement studentComments;\n+\n+    @FindBy (id = \"more-info\")\n+    private WebElement moreInformation;\n+\n+    public InstructorCourseStudentDetailsViewPage(Browser browser) {\n+        super(browser);\n+    }\n+\n+    @Override\n+    protected boolean containsExpectedPageContents() {\n+        return getPageSource().contains(\"Enrollment Details\");\n+    }\n+\n+    public void verifyStudentDetails(StudentProfileAttributes studentProfile, StudentAttributes student) {\n+        verifyDetail(student.getName(), studentName);\n+\n+        StudentProfileAttributes profileToTest = studentProfile;\n+        if (studentProfile == null) {\n+            profileToTest = StudentProfileAttributes.builder(student.getGoogleId()).build();\n+        }\n+        verifyDetail(profileToTest.getShortName(), studentShortName);\n+        verifyStudentGender(profileToTest.getGender());\n+        verifyDetail(profileToTest.getEmail(), studentPersonalEmail);\n+        verifyDetail(profileToTest.getInstitute(), studentInstitution);\n+        verifyDetail(profileToTest.getNationality(), studentNationality);\n+\n+        verifyDetail(student.getCourse(), courseId);\n+        verifyDetail(student.getSection(), studentSectionName);\n+        verifyDetail(student.getTeam(), studentTeamName);\n+        verifyDetail(student.getEmail(), studentOfficialEmail);\n+        verifyDetail(student.getComments(), studentComments);\n+\n+        verifyDetail(profileToTest.getMoreInfo(), moreInformation);\n+    }\n+\n+    private void verifyDetail(String expected, WebElement detailField) {\n+        if (expected.isEmpty()) {\n+            assertTrue(isElementPresent(By.id(\"not-specified\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50f6242c1b0e29f47cfefdbac5c1bdbd714d7cfe"}, "originalPosition": 86}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdbb93efdaad42f6c69277eeebe1e57a1af86c61", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/bdbb93efdaad42f6c69277eeebe1e57a1af86c61", "committedDate": "2020-10-13T13:57:18Z", "message": "Check for text instead of not-specified element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTAwMDcw", "url": "https://github.com/TEAMMATES/teammates/pull/10779#pullrequestreview-507900070", "createdAt": "2020-10-13T23:37:03Z", "commit": {"oid": "bdbb93efdaad42f6c69277eeebe1e57a1af86c61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTQwOTQ3", "url": "https://github.com/TEAMMATES/teammates/pull/10779#pullrequestreview-507940947", "createdAt": "2020-10-14T01:54:44Z", "commit": {"oid": "bdbb93efdaad42f6c69277eeebe1e57a1af86c61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a85e572c0b3263a5519ffc86c420b8fdd776f703", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a85e572c0b3263a5519ffc86c420b8fdd776f703", "committedDate": "2020-10-14T02:55:10Z", "message": "Merge branch 'master' into instructor-student-details-e2e"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4198, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}