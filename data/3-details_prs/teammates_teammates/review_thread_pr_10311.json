{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4Mjg0MDgw", "number": 10311, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMjo1NjoxOFrOEOPu_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMjo1NjoxOFrOEOPu_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzczMzEwOnYy", "diffSide": "RIGHT", "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseEditPage.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMjo1NjoxOFrOGxSbHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxOToxMzowMFrOGyMNGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDMzNTI2MQ==", "bodyText": "What event is being waited for here?", "url": "https://github.com/TEAMMATES/teammates/pull/10311#discussion_r454335261", "createdAt": "2020-07-14T12:56:18Z", "author": {"login": "wkurniawan07"}, "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseEditPage.java", "diffHunk": "@@ -299,6 +299,7 @@ private void clickAddNewInstructorButton() {\n \n     private void clickEditInstructorButton(int instrNum) {\n         click(getEditInstructorButton(instrNum));\n+        waitForPageToLoad(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f853181a21a4445cfd2c1c46437d2e8e5492c7d0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUxNDAyNw==", "bodyText": "The custom privilege settings panel is removed from the DOM when not in edit mode. The wait is for the custom privilege settings panel to be loaded as the test is looking for the custom privilege settings panel immediately after clicking the edit button.", "url": "https://github.com/TEAMMATES/teammates/pull/10311#discussion_r454514027", "createdAt": "2020-07-14T17:15:06Z", "author": {"login": "jtankw3"}, "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseEditPage.java", "diffHunk": "@@ -299,6 +299,7 @@ private void clickAddNewInstructorButton() {\n \n     private void clickEditInstructorButton(int instrNum) {\n         click(getEditInstructorButton(instrNum));\n+        waitForPageToLoad(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDMzNTI2MQ=="}, "originalCommit": {"oid": "f853181a21a4445cfd2c1c46437d2e8e5492c7d0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgwMzg5NQ==", "bodyText": "Then it's not exactly accurate to use waitForPageToLoad? It seems that the element to be waited here is very specific.", "url": "https://github.com/TEAMMATES/teammates/pull/10311#discussion_r454803895", "createdAt": "2020-07-15T05:39:30Z", "author": {"login": "wkurniawan07"}, "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseEditPage.java", "diffHunk": "@@ -299,6 +299,7 @@ private void clickAddNewInstructorButton() {\n \n     private void clickEditInstructorButton(int instrNum) {\n         click(getEditInstructorButton(instrNum));\n+        waitForPageToLoad(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDMzNTI2MQ=="}, "originalCommit": {"oid": "f853181a21a4445cfd2c1c46437d2e8e5492c7d0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTI4MTk0Nw==", "bodyText": "It seems I was wrong about why the test was failing. I tried to add a wait for the panel specifically but it did not work so well. The webdriver still throws missing element exception for the panel even though it is supposedly being waited for.\nI am not too sure what is the real root cause but my hunch is that the part of the test with toggling repeats the edit and save action too quickly, causing the get and wait of the webdriver to interact with the old elements which results in errors. Adding a slight delay between the toggles greatly reduced the error rate.", "url": "https://github.com/TEAMMATES/teammates/pull/10311#discussion_r455281947", "createdAt": "2020-07-15T19:13:00Z", "author": {"login": "jtankw3"}, "path": "src/e2e/java/teammates/e2e/pageobjects/InstructorCourseEditPage.java", "diffHunk": "@@ -299,6 +299,7 @@ private void clickAddNewInstructorButton() {\n \n     private void clickEditInstructorButton(int instrNum) {\n         click(getEditInstructorButton(instrNum));\n+        waitForPageToLoad(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDMzNTI2MQ=="}, "originalCommit": {"oid": "f853181a21a4445cfd2c1c46437d2e8e5492c7d0"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3625, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}