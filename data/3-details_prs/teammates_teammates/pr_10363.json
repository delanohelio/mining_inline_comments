{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyOTQyMjUz", "number": 10363, "title": "[#10335] Instructor course details page: add initial sorting to student table", "bodyText": "Fixes #10335\nOutline of Solution\nSort the students in the hierarchy of Section Name, Team Name, and Student Name after the students are first loaded into the table.", "createdAt": "2020-07-20T01:39:18Z", "url": "https://github.com/TEAMMATES/teammates/pull/10363", "merged": true, "mergeCommit": {"oid": "cba514ec8086caa93f86e1fcc414694bb91f8624"}, "closed": true, "closedAt": "2020-07-22T04:28:46Z", "author": {"login": "niqiukun"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2n9JqgFqTQ1MTIzODQwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3SpCfAH2gAyNDUyOTQyMjUzOjE2YWQ3ZjE4N2IwMTA1ZWEwMDk5NjRhOWIxMzVlZGQyODlmMTZlNmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjM4NDA2", "url": "https://github.com/TEAMMATES/teammates/pull/10363#pullrequestreview-451238406", "createdAt": "2020-07-20T02:11:05Z", "commit": {"oid": "9a068523ebc9fdf08d8e0f9de6a5715d9dd1e501"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjc1Nzk4", "url": "https://github.com/TEAMMATES/teammates/pull/10363#pullrequestreview-451275798", "createdAt": "2020-07-20T03:31:17Z", "commit": {"oid": "4157d9312c103a33d78607492669b4977a60493e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjg2MTg2", "url": "https://github.com/TEAMMATES/teammates/pull/10363#pullrequestreview-451286186", "createdAt": "2020-07-20T04:19:56Z", "commit": {"oid": "4157d9312c103a33d78607492669b4977a60493e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoxOTo1NlrOGz3KYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNDoxOTo1NlrOGz3KYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNDMzOA==", "bodyText": "We should not change the content of @Input() property. You should create a new variable instead.", "url": "https://github.com/TEAMMATES/teammates/pull/10363#discussion_r457034338", "createdAt": "2020-07-20T04:19:56Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/student-list/student-list.component.ts", "diffHunk": "@@ -64,6 +65,12 @@ export class StudentListComponent implements OnInit {\n   ngOnInit(): void {\n   }\n \n+  ngAfterContentChecked(): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4157d9312c103a33d78607492669b4977a60493e"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d2905f13f448bcd1cc028aaa4445ccc42014742", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7d2905f13f448bcd1cc028aaa4445ccc42014742", "committedDate": "2020-07-20T15:54:58Z", "message": "Add initial sorting to student table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36350425deeda3e6a0274c49728fc708f293a084", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/36350425deeda3e6a0274c49728fc708f293a084", "committedDate": "2020-07-20T15:57:02Z", "message": "Update snapshot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d94834d7672ac31aef3a1a5765d5e7fd4cc0dd30", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d94834d7672ac31aef3a1a5765d5e7fd4cc0dd30", "committedDate": "2020-07-20T15:57:03Z", "message": "Update snapshot of instructor course details page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e64a0dade8108ce8f0ced9920ff4193646a85422", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e64a0dade8108ce8f0ced9920ff4193646a85422", "committedDate": "2020-07-20T15:57:03Z", "message": "Update snapshot of instructor search page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706", "committedDate": "2020-07-20T15:58:22Z", "message": "Copy students array from input property"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "562ae27d15ed77507cb84f1a087a3657dc5c6151", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/562ae27d15ed77507cb84f1a087a3657dc5c6151", "committedDate": "2020-07-20T05:40:37Z", "message": "Copy students array from input property"}, "afterCommit": {"oid": "6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706", "committedDate": "2020-07-20T15:58:22Z", "message": "Copy students array from input property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDkwMjIx", "url": "https://github.com/TEAMMATES/teammates/pull/10363#pullrequestreview-452090221", "createdAt": "2020-07-21T02:52:28Z", "commit": {"oid": "6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwMjo1MjoyOFrOG0mNqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwMjo1NTo0MlrOG0mQ0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgwNTIyNA==", "bodyText": "I don't think this is the perfect way to do chain sorting (as the order is actually reverse order). @madanalogy I remember you have worked on the chain sorting before?", "url": "https://github.com/TEAMMATES/teammates/pull/10363#discussion_r457805224", "createdAt": "2020-07-21T02:52:28Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/student-list/student-list.component.ts", "diffHunk": "@@ -66,6 +68,17 @@ export class StudentListComponent implements OnInit {\n   ngOnInit(): void {\n   }\n \n+  ngAfterContentChecked(): void {\n+    this.sortedStudents = [...this.students];\n+    if (this.tableSortBy === SortBy.NONE) {\n+      this.sortedStudents.sort(this.sortBy(SortBy.STUDENT_NAME))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f1d2d9e95cb2a774d3e3d43f8c8c5518c0ec706"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgwNjAzNQ==", "bodyText": "Actually, have you consider the solution where we sort the student in the places where the component is being used?", "url": "https://github.com/TEAMMATES/teammates/pull/10363#discussion_r457806035", "createdAt": "2020-07-21T02:55:42Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/student-list/student-list.component.ts", "diffHunk": "@@ -64,6 +65,12 @@ export class StudentListComponent implements OnInit {\n   ngOnInit(): void {\n   }\n \n+  ngAfterContentChecked(): void {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAzNDMzOA=="}, "originalCommit": {"oid": "4157d9312c103a33d78607492669b4977a60493e"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3158ea2ce22df9b454d8a58e0b2069953b050d2", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f3158ea2ce22df9b454d8a58e0b2069953b050d2", "committedDate": "2020-07-21T03:56:05Z", "message": "Move sorting to instructor student list page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ce51dc47e0c2c67aef378119459db34849254bf", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9ce51dc47e0c2c67aef378119459db34849254bf", "committedDate": "2020-07-21T04:53:48Z", "message": "Add default sort order to sortby function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81b931b62d1e170e99a59b94be40f5f0c35ddba3", "author": {"user": {"login": "niqiukun", "name": "Ni Tianzhen"}}, "url": "https://github.com/TEAMMATES/teammates/commit/81b931b62d1e170e99a59b94be40f5f0c35ddba3", "committedDate": "2020-07-21T05:32:00Z", "message": "Retry test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTc1OTY1", "url": "https://github.com/TEAMMATES/teammates/pull/10363#pullrequestreview-452975965", "createdAt": "2020-07-22T03:52:03Z", "commit": {"oid": "81b931b62d1e170e99a59b94be40f5f0c35ddba3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzo1MjowM1rOG1RuKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzo1MjowM1rOG1RuKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUxODA1Nw==", "bodyText": "This is the thing I want to do long time ago \ud83d\udc4d", "url": "https://github.com/TEAMMATES/teammates/pull/10363#discussion_r458518057", "createdAt": "2020-07-22T03:52:03Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/student-list/student-list.component.ts", "diffHunk": "@@ -136,50 +127,7 @@ export class StudentListComponent implements OnInit {\n   /**\n    * Sorts the student list\n    */\n-  sortStudentListEvent(by: SortBy): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81b931b62d1e170e99a59b94be40f5f0c35ddba3"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16ad7f187b0105ea009964a9b135edd289f16e6d", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/16ad7f187b0105ea009964a9b135edd289f16e6d", "committedDate": "2020-07-22T03:55:02Z", "message": "Merge branch 'master' into course-details-student-sort"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4301, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}