{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4Mzc4Njcy", "number": 10057, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozNjozM1rOD8yIFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozODozMVrOD8yK7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MDYyNDIxOnYy", "diffSide": "RIGHT", "path": "src/test/java/teammates/test/cases/webapi/GetFeedbackSessionActionTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozNjozM1rOGV7rMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwOTozNTo1NFrOGV9stQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MDk5Mg==", "bodyText": "This test case has the same description as one already implemented. Try and think about what this new test case is doing that the other isn't already and rename accordingly.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425650992", "createdAt": "2020-05-15T08:36:33Z", "author": {"login": "madanalogy"}, "path": "src/test/java/teammates/test/cases/webapi/GetFeedbackSessionActionTest.java", "diffHunk": "@@ -113,5 +113,28 @@ protected void testAccessControl() throws Exception {\n \n         verifyAccessibleForInstructorsOfTheSameCourse(submissionParams);\n         verifyAccessibleForAdminToMasqueradeAsInstructor(submissionParams);\n+\n+        ______TS(\"only students of the same course can access\");\n+\n+        submissionParams = new String[] {\n+                Const.ParamsNames.COURSE_ID, fs.getCourseId(),\n+                Const.ParamsNames.FEEDBACK_SESSION_NAME, fs.getFeedbackSessionName(),\n+                Const.ParamsNames.INTENT, Intent.STUDENT_RESULT.toString(),\n+        };\n+\n+        verifyAccessibleForStudentsOfTheSameCourse(submissionParams);\n+        verifyInaccessibleForStudentsOfOtherCourse(submissionParams);\n+\n+        ______TS(\"only instructors of the same course can access\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY4NDE0OQ==", "bodyText": "Thanks. Just changed it.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425684149", "createdAt": "2020-05-15T09:35:54Z", "author": {"login": "ccyccyccy"}, "path": "src/test/java/teammates/test/cases/webapi/GetFeedbackSessionActionTest.java", "diffHunk": "@@ -113,5 +113,28 @@ protected void testAccessControl() throws Exception {\n \n         verifyAccessibleForInstructorsOfTheSameCourse(submissionParams);\n         verifyAccessibleForAdminToMasqueradeAsInstructor(submissionParams);\n+\n+        ______TS(\"only students of the same course can access\");\n+\n+        submissionParams = new String[] {\n+                Const.ParamsNames.COURSE_ID, fs.getCourseId(),\n+                Const.ParamsNames.FEEDBACK_SESSION_NAME, fs.getFeedbackSessionName(),\n+                Const.ParamsNames.INTENT, Intent.STUDENT_RESULT.toString(),\n+        };\n+\n+        verifyAccessibleForStudentsOfTheSameCourse(submissionParams);\n+        verifyInaccessibleForStudentsOfOtherCourse(submissionParams);\n+\n+        ______TS(\"only instructors of the same course can access\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MDk5Mg=="}, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MDYzMTQ4OnYy", "diffSide": "LEFT", "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozODozMVrOGV7vkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwODowMjo1MlrOGWrt4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw==", "bodyText": "This doesn't seem relevant to this PR since you're just adding tests.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425652113", "createdAt": "2020-05-15T08:38:31Z", "author": {"login": "madanalogy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY3NTE2NQ==", "bodyText": "Yup. Will do this in the other PR.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425675165", "createdAt": "2020-05-15T09:20:01Z", "author": {"login": "ccyccyccy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw=="}, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY4NTkyMQ==", "bodyText": "What you need to do is revert these changes to their original, so that if this PR is merged it wouldn't affect what you're doing in your other PR.\nIf the new test cases added here however require that these changes take effect, let me know and I'll put this PR on hold until your other PR is resolved :)", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425685921", "createdAt": "2020-05-15T09:39:26Z", "author": {"login": "madanalogy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw=="}, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY4ODk0NA==", "bodyText": "What you need to do is revert these changes to their original, so that if this PR is merged it wouldn't affect what you're doing in your other PR.\n\nOk reverted.\n\nIf the new test cases added here however require that these changes take effect, let me know and I'll put this PR on hold until your other PR is resolved :)\n\nYup the new test cases added requires those changes. The travis check for this PR would probably fail. Kindly put this PR on hold :)", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425688944", "createdAt": "2020-05-15T09:45:09Z", "author": {"login": "ccyccyccy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw=="}, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQzODExNA==", "bodyText": "Can start working on this again when you want to now that the other PR is resolved", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r426438114", "createdAt": "2020-05-18T08:02:52Z", "author": {"login": "madanalogy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw=="}, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3965, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}