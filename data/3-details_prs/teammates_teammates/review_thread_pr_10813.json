{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NDQ0MzA5", "number": 10813, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwMjo0ODowMFrOExu72Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwMzo0MzoyMVrOEzGhiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNTg0NjY1OnYy", "diffSide": "RIGHT", "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwMjo0ODowMVrOHn_YIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNDo1NDoyOVrOHoTbWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTY5NDg4MQ==", "bodyText": "Unnecessary line change here", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r511694881", "createdAt": "2020-10-26T02:48:01Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -458,6 +462,7 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           this.sessionsTableRowModels.push(m);\n           this.updateInstructorPrivilege(m);\n           this.statusMessageService.showSuccessToast('The feedback session has been restored.');\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "351185efdbef78bf085a698d4897d18f726bca4e"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjAyMzM4Ng==", "bodyText": "I have removed the Unnecessary line change. It is difficult to capture the change in a screenshot so I used a video to demo the changes instead.\nHere is the link to the video:\n(https://drive.google.com/file/d/1Q4soInj7UlcOhUuodINzNfnxtXai4-vO/view?usp=sharing)", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r512023386", "createdAt": "2020-10-26T14:54:29Z", "author": {"login": "jfrairigh"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -458,6 +462,7 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           this.sessionsTableRowModels.push(m);\n           this.updateInstructorPrivilege(m);\n           this.statusMessageService.showSuccessToast('The feedback session has been restored.');\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTY5NDg4MQ=="}, "originalCommit": {"oid": "351185efdbef78bf085a698d4897d18f726bca4e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMDE5NzIxOnYy", "diffSide": "RIGHT", "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwMzo0MzoyMVrOHqHobA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQyMzo1Mjo0NFrOHsbDLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzkyNzI3Ng==", "bodyText": "Hang on, I think this line is no longer necessary, it was removed in #10792", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r513927276", "createdAt": "2020-10-29T03:43:21Z", "author": {"login": "madanalogy"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -574,27 +579,30 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           ));\n     });\n \n-    forkJoin(restoreRequests).subscribe((restoredSessions: FeedbackSession[]) => {\n-      restoredSessions.forEach((session: FeedbackSession) => {\n-        this.recycleBinFeedbackSessionRowModels = [];\n-        const m: SessionsTableRowModel = {\n-          feedbackSession: session,\n-          responseRate: '',\n-          isLoadingResponseRate: false,\n-          instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n-        };\n-        this.sessionsTableRowModels.push(m);\n+    forkJoin(restoreRequests).pipe(finalize(() => this.isRestoreFeedbackSessionLoading = false))\n+      .subscribe((restoredSessions: FeedbackSession[]) => {\n+        restoredSessions.forEach((session: FeedbackSession) => {\n+          this.recycleBinFeedbackSessionRowModels = [];\n+          const m: SessionsTableRowModel = {\n+            feedbackSession: session,\n+            responseRate: '',\n+            isLoadingResponseRate: false,\n+            instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n+          };\n+          this.sessionsTableRowModels.push(m);\n+          this.updateInstructorPrivilege(m);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM0MjU3NQ==", "bodyText": "I have fixed the requested changes. I apologize for the numerous commits. I had to fix somethings in my workflow, but everything should be good now.", "url": "https://github.com/TEAMMATES/teammates/pull/10813#discussion_r516342575", "createdAt": "2020-11-02T23:52:44Z", "author": {"login": "jfrairigh"}, "path": "src/web/app/pages-instructor/instructor-sessions-page/instructor-sessions-page.component.ts", "diffHunk": "@@ -574,27 +579,30 @@ export class InstructorSessionsPageComponent extends InstructorSessionModalPageC\n           ));\n     });\n \n-    forkJoin(restoreRequests).subscribe((restoredSessions: FeedbackSession[]) => {\n-      restoredSessions.forEach((session: FeedbackSession) => {\n-        this.recycleBinFeedbackSessionRowModels = [];\n-        const m: SessionsTableRowModel = {\n-          feedbackSession: session,\n-          responseRate: '',\n-          isLoadingResponseRate: false,\n-          instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n-        };\n-        this.sessionsTableRowModels.push(m);\n+    forkJoin(restoreRequests).pipe(finalize(() => this.isRestoreFeedbackSessionLoading = false))\n+      .subscribe((restoredSessions: FeedbackSession[]) => {\n+        restoredSessions.forEach((session: FeedbackSession) => {\n+          this.recycleBinFeedbackSessionRowModels = [];\n+          const m: SessionsTableRowModel = {\n+            feedbackSession: session,\n+            responseRate: '',\n+            isLoadingResponseRate: false,\n+            instructorPrivilege: session.privileges || DEFAULT_INSTRUCTOR_PRIVILEGE,\n+          };\n+          this.sessionsTableRowModels.push(m);\n+          this.updateInstructorPrivilege(m);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzkyNzI3Ng=="}, "originalCommit": {"oid": "bbbd795c4e697398c1694eb9a2253bf89de67db2"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3422, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}