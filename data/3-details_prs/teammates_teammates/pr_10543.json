{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMTg1MDkx", "number": 10543, "title": "[#10509] [#10524] [#10525] [#10535] Add loading indicators when fetching data", "bodyText": "Fixes #10509\nFixes #10524\nFixes #10525\nFixes #10535\nFor all mentioned issues, loading indicators were added to properly reflecting the fetching of data. Refer to commit history for indicators relating to the corresponding issues.", "createdAt": "2020-08-03T13:41:24Z", "url": "https://github.com/TEAMMATES/teammates/pull/10543", "merged": true, "mergeCommit": {"oid": "23e5d9558fbc39175452483685eef23da9809ad9"}, "closed": true, "closedAt": "2020-08-06T15:56:30Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7REm7AH2gAyNDYyMTg1MDkxOjE1ZTA4YThjODg1MzgxY2U3YTM5NGI4ODVmNTQwY2JjZmRmOTc5ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8RlnwgH2gAyNDYyMTg1MDkxOmRiMDM5OGZlMzAzODhlNGY0OGRhN2E4OGU5MTJmMWZlYzcwOGMwNTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "15e08a8c885381ce7a394b885f540cbcfdf97986", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/15e08a8c885381ce7a394b885f540cbcfdf97986", "committedDate": "2020-08-03T12:21:02Z", "message": "Add loading spinner to instructor-sessions-page.component (#10509)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46b8b67254da20b588feb17d80f8d79d089221bc", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/46b8b67254da20b588feb17d80f8d79d089221bc", "committedDate": "2020-08-03T12:31:28Z", "message": "Add loading spinner to session-submission-page.component (#10524, #10535)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "882717eb8d29c466ae7125e399d03a7ae65c553a", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/882717eb8d29c466ae7125e399d03a7ae65c553a", "committedDate": "2020-08-03T13:26:30Z", "message": "Add loading spinner to instructor-session-edit-page (#10525)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9363f8165b32227af986d880f6c1691ae007aa3e", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9363f8165b32227af986d880f6c1691ae007aa3e", "committedDate": "2020-08-03T13:38:45Z", "message": "Fix lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNTk2ODI2", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-460596826", "createdAt": "2020-08-04T08:19:41Z", "commit": {"oid": "9363f8165b32227af986d880f6c1691ae007aa3e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODoxOTo0MVrOG7WHKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODoxOTo0MVrOG7WHKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg4MTQ1MQ==", "bodyText": "Just a minor thing:\nWould isFeedbackSessionLoading be a better name? When i did the indicators, the variable naming for loading i adopted was isSomethingLoading since the directive is tmIsLoading", "url": "https://github.com/TEAMMATES/teammates/pull/10543#discussion_r464881451", "createdAt": "2020-08-04T08:19:41Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -251,65 +254,66 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n       key: this.regKey,\n       moderatedPerson: this.moderatedPerson,\n       previewAs: this.previewAsPerson,\n-    }).subscribe((feedbackSession: FeedbackSession) => {\n-      this.feedbackSessionInstructions = feedbackSession.instructions;\n-      this.formattedSessionOpeningTime = this.timezoneService\n+    }).pipe(finalize(() => this.hasFeedbackSessionLoaded = true))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9363f8165b32227af986d880f6c1691ae007aa3e"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzEwMTY0", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-460710164", "createdAt": "2020-08-04T11:01:44Z", "commit": {"oid": "9363f8165b32227af986d880f6c1691ae007aa3e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf43b338267fe1101344a21541def009b0722cfd", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/bf43b338267fe1101344a21541def009b0722cfd", "committedDate": "2020-08-04T13:15:21Z", "message": "Refactor hasLoaded to isLoading"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjg2NTQz", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-461286543", "createdAt": "2020-08-05T01:52:00Z", "commit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzI2ODI3", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-461326827", "createdAt": "2020-08-05T04:12:59Z", "commit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNDoxMjo1OVrOG75fUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwNDoxNjo1NlrOG75i2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ2MTA3Mw==", "bodyText": "Why isCopyingQuestion is set only when there is error message?", "url": "https://github.com/TEAMMATES/teammates/pull/10543#discussion_r465461073", "createdAt": "2020-08-05T04:12:59Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-edit-page/instructor-session-edit-page.component.ts", "diffHunk": "@@ -887,6 +888,7 @@ export class InstructorSessionEditPageComponent extends InstructorSessionBasePag\n     ).subscribe((questionToCopyCandidate: QuestionToCopyCandidate[]) => {\n       questionToCopyCandidates.push(...questionToCopyCandidate);\n     }, (resp: ErrorMessageOutput) => { this.statusMessageService.showErrorToast(resp.error.message); }, () => {\n+      this.isCopyingQuestion = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ2MTc5Mg==", "bodyText": "You should set isFeedbackSessionQuestionResponsesLoading to true somewhere?", "url": "https://github.com/TEAMMATES/teammates/pull/10543#discussion_r465461792", "createdAt": "2020-08-05T04:16:07Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -391,6 +396,7 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n             responseId: '',\n           });\n         });\n+        this.isFeedbackSessionQuestionResponsesLoading = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ2MTkxNg==", "bodyText": "Why it is set when the length is zero?", "url": "https://github.com/TEAMMATES/teammates/pull/10543#discussion_r465461916", "createdAt": "2020-08-05T04:16:39Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -320,6 +324,7 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n       previewAs: this.previewAsPerson,\n     }).pipe(finalize(() => this.isFeedbackSessionQuestionsLoading = false))\n         .subscribe((response: FeedbackQuestionsResponse) => {\n+          if (response.questions.length === 0) { this.isFeedbackSessionQuestionResponsesLoading = false; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ2MTk3Nw==", "bodyText": "Why isCopyingQuestion is set only when there is error message?", "url": "https://github.com/TEAMMATES/teammates/pull/10543#discussion_r465461977", "createdAt": "2020-08-05T04:16:56Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-edit-page/instructor-session-edit-page.component.ts", "diffHunk": "@@ -887,6 +888,7 @@ export class InstructorSessionEditPageComponent extends InstructorSessionBasePag\n     ).subscribe((questionToCopyCandidate: QuestionToCopyCandidate[]) => {\n       questionToCopyCandidates.push(...questionToCopyCandidate);\n     }, (resp: ErrorMessageOutput) => { this.statusMessageService.showErrorToast(resp.error.message); }, () => {\n+      this.isCopyingQuestion = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/33f2a1071d9d16cb7e9d2385979c7d209c4bfe6b", "committedDate": "2020-08-04T13:24:59Z", "message": "Move isCopyingQuestion into complete callback"}, "afterCommit": {"oid": "68cef931b7277671cd68bb88170cb72c4c013e88", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/68cef931b7277671cd68bb88170cb72c4c013e88", "committedDate": "2020-08-05T13:46:13Z", "message": "Move isCopyingQuestion into complete and error callbacks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3305affb8280bd9bb49fca71977bb3972117d095", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3305affb8280bd9bb49fca71977bb3972117d095", "committedDate": "2020-08-05T14:50:48Z", "message": "Move isCopyingQuestion finalize callback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68cef931b7277671cd68bb88170cb72c4c013e88", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/68cef931b7277671cd68bb88170cb72c4c013e88", "committedDate": "2020-08-05T13:46:13Z", "message": "Move isCopyingQuestion into complete and error callbacks"}, "afterCommit": {"oid": "3305affb8280bd9bb49fca71977bb3972117d095", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3305affb8280bd9bb49fca71977bb3972117d095", "committedDate": "2020-08-05T14:50:48Z", "message": "Move isCopyingQuestion finalize callback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bcf5f90ec08dd3d5d042069717597b126bbfa47", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/8bcf5f90ec08dd3d5d042069717597b126bbfa47", "committedDate": "2020-08-06T02:22:29Z", "message": "Explicitly set isFeedbackSessionQuestionResponsesLoading"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMjE3Nzkx", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-462217791", "createdAt": "2020-08-06T06:23:04Z", "commit": {"oid": "8bcf5f90ec08dd3d5d042069717597b126bbfa47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNDQ4Nzcz", "url": "https://github.com/TEAMMATES/teammates/pull/10543#pullrequestreview-462448773", "createdAt": "2020-08-06T11:56:40Z", "commit": {"oid": "8bcf5f90ec08dd3d5d042069717597b126bbfa47"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db0398fe30388e4f48da7a88e912f1fec708c059", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/db0398fe30388e4f48da7a88e912f1fec708c059", "committedDate": "2020-08-06T15:31:01Z", "message": "Merge branch 'master' into 10509-10524-10525-10535"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4229, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}