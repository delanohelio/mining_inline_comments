{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2OTg1NjY0", "number": 10477, "title": "[#10467] Instructor courses page: Fix courses default sorting not working as intended", "bodyText": "Fixes #10467\nFix for some existing problems with sorting\n\nFix active courses sort order getting reversed every time a new course is added\nSet default sort order to be descending when column to be sorted is changed\nFix default sort order for archived and deleted courses falsely shown to be sorted but not actually sorted.\nChange default sort order for archived and deleted courses to be COURSE_CREATION_DATE and COURSE_DELETION_DATE respectively", "createdAt": "2020-07-27T08:05:27Z", "url": "https://github.com/TEAMMATES/teammates/pull/10477", "merged": true, "mergeCommit": {"oid": "1dfc7df94f42675648f33764fa5392659c264404"}, "closed": true, "closedAt": "2020-07-29T10:16:50Z", "author": {"login": "ccyccyccy"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc49rA7AFqTQ1NTU4MjIyMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5nzs0AH2gAyNDU2OTg1NjY0OjFlMjRlMzkwZTBiMDA4NzBkOTRkZjUyNDk3NmM3NzE0MThlMTMyNjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NTgyMjIw", "url": "https://github.com/TEAMMATES/teammates/pull/10477#pullrequestreview-455582220", "createdAt": "2020-07-27T08:35:54Z", "commit": {"oid": "fd72c00a8349906ec72f5eeff067c0ad90823a62"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwODozNTo1NFrOG3Y3OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwODozNjoxMVrOG3Y36w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDczMjIxNw==", "bodyText": "Let's be consistent with naming and change to activeCoursesDefaultSort", "url": "https://github.com/TEAMMATES/teammates/pull/10477#discussion_r460732217", "createdAt": "2020-07-27T08:35:54Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-instructor/instructor-courses-page/instructor-courses-page.component.ts", "diffHunk": "@@ -378,32 +380,68 @@ export class InstructorCoursesPageComponent implements OnInit {\n    * Sorts the active courses table\n    */\n   sortCoursesEvent(by: SortBy): void {\n+    this.activeTableSortOrder = (this.activeTableSortBy === by) ?\n+        this.activeTableSortOrder === SortOrder.ASC ?\n+            SortOrder.DESC :\n+            SortOrder.ASC :\n+        SortOrder.ASC;\n     this.activeTableSortBy = by;\n-    this.activeTableSortOrder =\n-        this.activeTableSortOrder === SortOrder.DESC ? SortOrder.ASC : SortOrder.DESC;\n     this.activeCourses.sort(this.sortBy(by, this.activeTableSortOrder));\n   }\n \n+  /**\n+   * Active courses default sort on page load\n+   */\n+  coursesDefaultSort(): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd72c00a8349906ec72f5eeff067c0ad90823a62"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDczMjM5NQ==", "bodyText": "same here. sortActiveCoursesEvent", "url": "https://github.com/TEAMMATES/teammates/pull/10477#discussion_r460732395", "createdAt": "2020-07-27T08:36:11Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-instructor/instructor-courses-page/instructor-courses-page.component.ts", "diffHunk": "@@ -378,32 +380,68 @@ export class InstructorCoursesPageComponent implements OnInit {\n    * Sorts the active courses table\n    */\n   sortCoursesEvent(by: SortBy): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd72c00a8349906ec72f5eeff067c0ad90823a62"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f75a6e14e1753e7138a9afb0e8eee63cde316267", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f75a6e14e1753e7138a9afb0e8eee63cde316267", "committedDate": "2020-07-27T08:44:44Z", "message": "Fix courses default sorting not working as intended"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd72c00a8349906ec72f5eeff067c0ad90823a62", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/fd72c00a8349906ec72f5eeff067c0ad90823a62", "committedDate": "2020-07-27T07:50:58Z", "message": "Fix courses default sorting not working as intended"}, "afterCommit": {"oid": "f75a6e14e1753e7138a9afb0e8eee63cde316267", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f75a6e14e1753e7138a9afb0e8eee63cde316267", "committedDate": "2020-07-27T08:44:44Z", "message": "Fix courses default sorting not working as intended"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NDgxNzg0", "url": "https://github.com/TEAMMATES/teammates/pull/10477#pullrequestreview-456481784", "createdAt": "2020-07-28T09:56:36Z", "commit": {"oid": "f75a6e14e1753e7138a9afb0e8eee63cde316267"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a2d08ff2f22d4c450bf0f5476c31875ad2aed1d", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/4a2d08ff2f22d4c450bf0f5476c31875ad2aed1d", "committedDate": "2020-07-28T11:29:40Z", "message": "Merge branch 'master' into 10467-course-list-sorting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdc9aeb3ca5b949eac368f93e1aaf7c24a30a9db", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/fdc9aeb3ca5b949eac368f93e1aaf7c24a30a9db", "committedDate": "2020-07-28T15:08:21Z", "message": "Merge branch 'master' into 10467-course-list-sorting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26af743f5aeaed6ad2a933d06e16742955edbf3b", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/26af743f5aeaed6ad2a933d06e16742955edbf3b", "committedDate": "2020-07-29T04:54:02Z", "message": "Test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9aaee74ccf96792bbd2583375a7fad47efe6c97", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a9aaee74ccf96792bbd2583375a7fad47efe6c97", "committedDate": "2020-07-29T04:56:41Z", "message": "Merge branch '10467-course-list-sorting' of github.com:ccyccyccy/teammates into 10467-course-list-sorting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e24e390e0b00870d94df524976c771418e13268", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/1e24e390e0b00870d94df524976c771418e13268", "committedDate": "2020-07-29T09:42:32Z", "message": "Merge branch 'master' into 10467-course-list-sorting"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4317, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}