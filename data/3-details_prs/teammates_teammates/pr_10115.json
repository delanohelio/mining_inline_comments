{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyNzIwMjMw", "number": 10115, "title": "[#10103] Add Remind All button for \"Participants who have not responded to any question\" tab", "bodyText": "Fixes #10103\nSnapshot:\n\nOutline of Solution\n\nadd Remind All button in instructor-session-no-response-panel\nadd function openSendReminderModal to handle send-reminders-to-student-modal logic\nadd in-line CSS to position the button\nimprove UI spacing on send-reminders-to-student-modal\nfix comment typo in .ts file of send-reminders-to-student-modal", "createdAt": "2020-05-25T12:13:27Z", "url": "https://github.com/TEAMMATES/teammates/pull/10115", "merged": true, "mergeCommit": {"oid": "cfd8f931526ee8145d09d5c4288696c96731172e"}, "closed": true, "closedAt": "2020-05-28T01:26:41Z", "author": {"login": "Derek-Hardy"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABckukrVgH2gAyNDIyNzIwMjMwOjk3Zjc0OTJlNjI5NThkMjA5MWM3YTViYmZlZjhjYWJjNTkyMzQ5OWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcljAlqAH2gAyNDIyNzIwMjMwOmM2MzdkNjY0ZTY3OWFjNTJlZmU4NjBhOGIwZjc2ZDk2OTQ5OWY4ODg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "97f7492e62958d2091c7a5bbfef8cabc5923499b", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/97f7492e62958d2091c7a5bbfef8cabc5923499b", "committedDate": "2020-05-25T11:43:03Z", "message": "added remind-all button and fixed some typo and UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7efcb83c98f90a03f87c16c07c014cbfc4a49914", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7efcb83c98f90a03f87c16c07c014cbfc4a49914", "committedDate": "2020-05-25T12:04:53Z", "message": "fixed ts indentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9be73bcefc495580312f168fcf66bb997117f11f", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9be73bcefc495580312f168fcf66bb997117f11f", "committedDate": "2020-05-25T12:42:56Z", "message": "add missing HttpClient to spec file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca064110126d3a62cc39dfdadf3b0374aad7991", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/5ca064110126d3a62cc39dfdadf3b0374aad7991", "committedDate": "2020-05-25T13:06:33Z", "message": "add missing dependencies in spec file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3ODgyNzgy", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-417882782", "createdAt": "2020-05-25T21:37:41Z", "commit": {"oid": "5ca064110126d3a62cc39dfdadf3b0374aad7991"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQyMTozNzo0MVrOGaKB5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQyMTo0MDozN1rOGaKDuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA4MDQ4Ng==", "bodyText": "Let's make the request sent from the root page.", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430080486", "createdAt": "2020-05-25T21:37:41Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -57,6 +77,52 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n     }\n   }\n \n+  openSendReminderModal(event: any): void {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ca064110126d3a62cc39dfdadf3b0374aad7991"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA4MDk1NQ==", "bodyText": "If we sent the request at the root page, can we reuse noResponseStudents and don't send the request again?\n\n  \n    \n      teammates/src/web/app/pages-instructor/instructor-session-result-page/instructor-session-result-page.component.ts\n    \n    \n        Lines 192 to 213\n      in\n      55bc314\n    \n    \n    \n    \n\n        \n          \n           // load no response students \n        \n\n        \n          \n           this.studentService.getStudentsFromCourse({ \n        \n\n        \n          \n             courseId: queryParams.courseid, \n        \n\n        \n          \n           }).subscribe((allStudents: Students) => { \n        \n\n        \n          \n             const students: Student[] = allStudents.students; \n        \n\n        \n          \n            \n        \n\n        \n          \n             this.feedbackSessionsService.getFeedbackSessionSubmittedGiverSet({ \n        \n\n        \n          \n               courseId: queryParams.courseid, \n        \n\n        \n          \n               feedbackSessionName: queryParams.fsname, \n        \n\n        \n          \n             }) \n        \n\n        \n          \n                 .subscribe((feedbackSessionSubmittedGiverSet: FeedbackSessionSubmittedGiverSet) => { \n        \n\n        \n          \n                   // TODO team is missing \n        \n\n        \n          \n                   this.noResponseStudents = students.filter((student: Student) => \n        \n\n        \n          \n                                               !feedbackSessionSubmittedGiverSet.giverIdentifiers.includes(student.email)); \n        \n\n        \n          \n                 }, (resp: ErrorMessageOutput) => { \n        \n\n        \n          \n                   this.statusMessageService.showErrorMessage(resp.error.message); \n        \n\n        \n          \n                 }); \n        \n\n        \n          \n            \n        \n\n        \n          \n             this.isNoResponsePanelLoaded = true; \n        \n\n        \n          \n           }, (resp: ErrorMessageOutput) => { \n        \n\n        \n          \n             this.statusMessageService.showErrorMessage(resp.error.message); \n        \n\n        \n          \n           });", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430080955", "createdAt": "2020-05-25T21:40:37Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -57,6 +77,52 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n     }\n   }\n \n+  openSendReminderModal(event: any): void {\n+    event.stopPropagation();\n+\n+    const courseId: string = this.session.courseId;\n+    const feedbackSessionName: string = this.session.feedbackSessionName;\n+\n+    const modalRef: NgbModalRef = this.modalService.open(SendRemindersToStudentModalComponent);\n+    modalRef.componentInstance.courseId = courseId;\n+    modalRef.componentInstance.feedbackSessionName = feedbackSessionName;\n+\n+    forkJoin(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ca064110126d3a62cc39dfdadf3b0374aad7991"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0625b1d5bcd60292450e971ad5aaf1b588ee4c94", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/0625b1d5bcd60292450e971ad5aaf1b588ee4c94", "committedDate": "2020-05-26T03:31:59Z", "message": "removed feedbackSessionService and reuse noResponseStudents"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MzEzNjAy", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-418313602", "createdAt": "2020-05-26T13:46:24Z", "commit": {"oid": "0625b1d5bcd60292450e971ad5aaf1b588ee4c94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c8e67844da412d1ccd7aebe08d82fd45fecff27", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9c8e67844da412d1ccd7aebe08d82fd45fecff27", "committedDate": "2020-05-27T02:51:58Z", "message": "moved studentService from no-response-panel to root"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/89615eba3c62b00dc69bb5792abae20497a598e4", "committedDate": "2020-05-27T05:20:33Z", "message": "moved remindFeedbackSubmission from no-response-panel to root"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODc1NTMx", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-418875531", "createdAt": "2020-05-27T05:54:06Z", "commit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NDowNlrOGa6X-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NDowNlrOGa6X-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3MjU2OQ==", "bodyText": "I suppose only those who do not answer the session should be selected?", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430872569", "createdAt": "2020-05-27T05:54:06Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -57,6 +69,34 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n     }\n   }\n \n+  openSendReminderModal(event: any): void {\n+    event.stopPropagation();\n+\n+    const courseId: string = this.session.courseId;\n+    const feedbackSessionName: string = this.session.feedbackSessionName;\n+\n+    const giverEmails: string[] = this.noResponseStudents.map((student: Student) => student.email);\n+    const giverSet: Set<string> = new Set(giverEmails);\n+\n+    const modalRef: NgbModalRef = this.modalService.open(SendRemindersToStudentModalComponent);\n+    modalRef.componentInstance.courseId = courseId;\n+    modalRef.componentInstance.feedbackSessionName = feedbackSessionName;\n+    modalRef.componentInstance.studentListInfoTableRowModels\n+      = this.allStudents.map((student: Student) => ({\n+        email: student.email,\n+        name: student.name,\n+        teamName: student.teamName,\n+        sectionName: student.sectionName,\n+\n+        hasSubmittedSession: !giverSet.has(student.email),\n+        isSelected: true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "originalPosition": 65}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODc1NzE5", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-418875719", "createdAt": "2020-05-27T05:54:35Z", "commit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NDozNVrOGa6YhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NDo0NlrOGa6Y0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3MjcwOQ==", "bodyText": "nonResponseStudentEmails?", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430872709", "createdAt": "2020-05-27T05:54:35Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -57,6 +69,34 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n     }\n   }\n \n+  openSendReminderModal(event: any): void {\n+    event.stopPropagation();\n+\n+    const courseId: string = this.session.courseId;\n+    const feedbackSessionName: string = this.session.feedbackSessionName;\n+\n+    const giverEmails: string[] = this.noResponseStudents.map((student: Student) => student.email);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3Mjc4NA==", "bodyText": "nonResponseStudentEmailSet?", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430872784", "createdAt": "2020-05-27T05:54:46Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -57,6 +69,34 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n     }\n   }\n \n+  openSendReminderModal(event: any): void {\n+    event.stopPropagation();\n+\n+    const courseId: string = this.session.courseId;\n+    const feedbackSessionName: string = this.session.feedbackSessionName;\n+\n+    const giverEmails: string[] = this.noResponseStudents.map((student: Student) => student.email);\n+    const giverSet: Set<string> = new Set(giverEmails);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODc2MDI1", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-418876025", "createdAt": "2020-05-27T05:55:22Z", "commit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NToyMlrOGa6ZkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNTo1NToyMlrOGa6ZkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg3Mjk3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              @Output() studentsToRemindData: EventEmitter<StudentListInfoTableRowModel[]> = new EventEmitter();\n          \n          \n            \n              @Output() studentsToRemindEvent: EventEmitter<StudentListInfoTableRowModel[]> = new EventEmitter();", "url": "https://github.com/TEAMMATES/teammates/pull/10115#discussion_r430872977", "createdAt": "2020-05-27T05:55:22Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-session-result-page/instructor-session-no-response-panel.component.ts", "diffHunk": "@@ -38,7 +46,11 @@ export class InstructorSessionNoResponsePanelComponent implements OnInit, OnChan\n   isTabExpanded: boolean = false;\n \n   noResponseStudentsInSection: Student[] = [];\n-  constructor() { }\n+\n+  @Output() studentsToRemindData: EventEmitter<StudentListInfoTableRowModel[]> = new EventEmitter();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89615eba3c62b00dc69bb5792abae20497a598e4"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc20d3af1eaf1ac95af493120cc464bcaad9aa67", "author": {"user": {"login": "Derek-Hardy", "name": "Derek-Hardy"}}, "url": "https://github.com/TEAMMATES/teammates/commit/fc20d3af1eaf1ac95af493120cc464bcaad9aa67", "committedDate": "2020-05-27T07:27:13Z", "message": "updated default select and naming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTM2Nzc1", "url": "https://github.com/TEAMMATES/teammates/pull/10115#pullrequestreview-419536775", "createdAt": "2020-05-27T19:18:06Z", "commit": {"oid": "fc20d3af1eaf1ac95af493120cc464bcaad9aa67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c637d664e679ac52efe860a8b0f76d969499f888", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c637d664e679ac52efe860a8b0f76d969499f888", "committedDate": "2020-05-28T00:48:36Z", "message": "Merge branch 'master' into 10103-add-remind-all-button"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4412, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}