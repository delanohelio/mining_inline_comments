{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3OTQ4NjA0", "number": 10683, "title": "[#10681] Make sure Maximum Receiver Count value is being used when generating Feedback Submission", "bodyText": "Fixes #10681\nProblem\nEven if we set the maximum number of entities when creating a feedback session, we still show all available entities as empty drop-downs in the form. This is a front-end issue as the backend is not involved with generating the form.\nSolution\nWe update the logic for generating the recipientSubmissionForms when previewAsPerson is true to account for the maximum receiver count.", "createdAt": "2020-09-02T16:32:16Z", "url": "https://github.com/TEAMMATES/teammates/pull/10683", "merged": true, "mergeCommit": {"oid": "49beaa701c8a3f75ef1b6da3532297ec97e4dc30"}, "closed": true, "closedAt": "2020-09-03T13:52:13Z", "author": {"login": "rrtheonlyone"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE-lQAAH2gAyNDc3OTQ4NjA0OjQ4YzZhZGMzNDRlZjA0OGZlMjg3ODlmYWEzNWVjMDk4ZmE1OWM0NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFPmqqAH2gAyNDc3OTQ4NjA0OmU0MDlkZDc5YmVlNmZjZDhlZGM1ZDc4MmI0YmE4YjgyZGEwODY3ZGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "48c6adc344ef048fe28789faa35ec098fa59c456", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/48c6adc344ef048fe28789faa35ec098fa59c456", "committedDate": "2020-09-02T16:27:44Z", "message": "Show only necessary dropdowns in submission form"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTYyMDA3", "url": "https://github.com/TEAMMATES/teammates/pull/10683#pullrequestreview-481162007", "createdAt": "2020-09-02T18:35:14Z", "commit": {"oid": "48c6adc344ef048fe28789faa35ec098fa59c456"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODozNToxNFrOHL8jtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODozNToxNFrOHL8jtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjI4ODU2NQ==", "bodyText": "We do have a logic to generate recipientSubmissionForms and stop when it exceeds customNumberOfEntitiesToGiveFeedbackTo. I think the real bug might be there.", "url": "https://github.com/TEAMMATES/teammates/pull/10683#discussion_r482288565", "createdAt": "2020-09-02T18:35:14Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-submission-form/question-submission-form.component.html", "diffHunk": "@@ -47,7 +47,8 @@\n \n     <div class=\"row\">\n       <div class=\"evaluee-col col-12\">\n-        <div class=\"row\" *ngFor=\"let recipientSubmissionFormModel of model.recipientSubmissionForms; let i = index; trackBy: trackRecipientSubmissionFormByFn\">\n+        <div *ngFor=\"let recipientSubmissionFormModel of model.recipientSubmissionForms; let i = index; trackBy: trackRecipientSubmissionFormByFn\">\n+          <div class=\"row\" *ngIf=\"formMode !== QuestionSubmissionFormMode.FLEXIBLE_RECIPIENT || i < model.customNumberOfEntitiesToGiveFeedbackTo\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48c6adc344ef048fe28789faa35ec098fa59c456"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21e3cb40cf0e7d0c48ab8665bccfeb2319e51459", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/21e3cb40cf0e7d0c48ab8665bccfeb2319e51459", "committedDate": "2020-09-03T01:31:35Z", "message": "Revert earlier fix and change logic in preview mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce91d505e66a0e399417bf38a920826c536354f4", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ce91d505e66a0e399417bf38a920826c536354f4", "committedDate": "2020-09-03T01:45:30Z", "message": "Fix linting issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNDQ2NzY1", "url": "https://github.com/TEAMMATES/teammates/pull/10683#pullrequestreview-481446765", "createdAt": "2020-09-03T02:21:10Z", "commit": {"oid": "ce91d505e66a0e399417bf38a920826c536354f4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwMjoyMToxMFrOHMTAbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwMjoyMToxMFrOHMTAbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY1NjM2NA==", "bodyText": "This should not be modified right?", "url": "https://github.com/TEAMMATES/teammates/pull/10683#discussion_r482656364", "createdAt": "2020-09-03T02:21:10Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-submission-form/question-submission-form.component.html", "diffHunk": "@@ -179,4 +179,4 @@\n       <span *ngIf=\"model.recipientType === FeedbackParticipantType.STUDENTS\">This question is for other students in this course and this course doesn't have any other student. Therefore, you will not be able to answer this question.</span>\n     </div>\n   </div>\n-</div>\n+</div>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce91d505e66a0e399417bf38a920826c536354f4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc4dc2a39d49c122b07921eaef4032732b799090", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/bc4dc2a39d49c122b07921eaef4032732b799090", "committedDate": "2020-09-03T02:28:53Z", "message": "Revert html change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNDg1NDcz", "url": "https://github.com/TEAMMATES/teammates/pull/10683#pullrequestreview-481485473", "createdAt": "2020-09-03T04:34:51Z", "commit": {"oid": "bc4dc2a39d49c122b07921eaef4032732b799090"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a5c7ab66e52ee03bb9cc873edeacab4036586a4", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6a5c7ab66e52ee03bb9cc873edeacab4036586a4", "committedDate": "2020-09-03T10:21:08Z", "message": "Merge branch 'master' into fix-max-entities"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e409dd79bee6fcd8edc5d782b4ba8b82da0867df", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e409dd79bee6fcd8edc5d782b4ba8b82da0867df", "committedDate": "2020-09-03T12:17:40Z", "message": "Merge branch 'master' into fix-max-entities"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4255, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}