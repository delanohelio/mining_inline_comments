{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MzU1Nzc5", "number": 10312, "title": "[#10299] Fix some issues from UAT round 3", "bodyText": "Part of #10299, fixes #10302, fixes #10303\n\n\nRubric question submission: V6 has different interface in mobile view\n\n\n\nInstructor course edit: V6 has timezone offset information in the dropdown (\nInstructor course edit: for instructor access level, unless in \"edit\" mode, just show the existing access level name (i.e. no need to display all other access levels)\nInstructor search: Not working if not both \"students\" and \"questions, responses, comments on responses\" are selected.\nMSQ question: minimum selectable choice should be 1 instead of 2.\nPreview submission form as student shows the form in readonly mode. It shouldn\u2019t be like that. Only the submission button should be disabled.", "createdAt": "2020-07-13T16:15:36Z", "url": "https://github.com/TEAMMATES/teammates/pull/10312", "merged": true, "mergeCommit": {"oid": "1bbf28caa2bef26f3bc148a61ed03608eac9d35b"}, "closed": true, "closedAt": "2020-07-15T06:16:17Z", "author": {"login": "wkurniawan07"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0r23BgBqjM1NDIwNDUzMzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1D9oVAFqTQ0ODY0MzAwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23e24814d394f69e6481e0e1c26667c9943110aa", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/23e24814d394f69e6481e0e1c26667c9943110aa", "committedDate": "2020-07-13T12:57:29Z", "message": "Add mobile rubric submission form"}, "afterCommit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7039f9c70836a0369e524e89d423528cb7a59661", "committedDate": "2020-07-14T01:35:38Z", "message": "Add mobile rubric submission form"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NzM5ODA2", "url": "https://github.com/TEAMMATES/teammates/pull/10312#pullrequestreview-447739806", "createdAt": "2020-07-14T02:25:06Z", "commit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjAwMjM0", "url": "https://github.com/TEAMMATES/teammates/pull/10312#pullrequestreview-448600234", "createdAt": "2020-07-15T03:15:10Z", "commit": {"oid": "a3ab8e3ce9caf5b1e43871b93cb0b7c437e57d26"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwMzoxNToxMFrOGxsqCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwMzoxOToxN1rOGxsuZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDc2NTA2NQ==", "bodyText": "Shouldn't we just remove this line?\n\n  \n    \n      teammates/src/web/app/pages-session/session-submission-page/session-submission-page.component.ts\n    \n    \n        Lines 147 to 150\n      in\n      5deb81a\n    \n    \n    \n    \n\n        \n          \n           if (this.previewAsPerson) { \n        \n\n        \n          \n             // disable submission in the preview mode \n        \n\n        \n          \n             this.isSubmissionFormsDisabled = true; \n        \n\n        \n          \n           }", "url": "https://github.com/TEAMMATES/teammates/pull/10312#discussion_r454765065", "createdAt": "2020-07-15T03:15:10Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "diffHunk": "@@ -77,7 +77,7 @@ <h4>Previewing Session as\n <tm-question-submission-form *ngFor=\"let questionSubmissionForm of questionSubmissionForms; let i = index; trackBy: trackQuestionSubmissionFormByFn\"\n                              [attr.id]=\"questionSubmissionForm.feedbackQuestionId\"\n                              [(formModel)]=\"questionSubmissionForms[i]\" [formMode]=\"getQuestionSubmissionFormMode(questionSubmissionForm)\"\n-                             [isDisabled]=\"isSubmissionFormsDisabled\"\n+                             [isDisabled]=\"isSubmissionFormsDisabled && !this.previewAsPerson\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3ab8e3ce9caf5b1e43871b93cb0b7c437e57d26"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDc2NjE4Mw==", "bodyText": "We should have (click)=\"selectAnswer(i, j)\" here?", "url": "https://github.com/TEAMMATES/teammates/pull/10312#discussion_r454766183", "createdAt": "2020-07-15T03:19:17Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-types/question-edit-answer-form/rubric-question-edit-answer-form.component.html", "diffHunk": "@@ -10,9 +10,26 @@\n       <td *ngFor=\"let rubricDescriptionCell of rubricDescriptionRow; let j = index;\" class=\"text-secondary answer-cell\" (click)=\"selectAnswer(i, j)\">\n         <label>\n           <input type=\"radio\" [disabled]=\"isDisabled\"\n-                 [name]=\"id + i\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n+                 [name]=\"id + i + '-desktop'\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n         </label>\n       </td>\n     </tr>\n   </tbody>\n </table>\n+<div class=\"mobile-view\">\n+  <div class=\"card\" *ngFor=\"let rubricDescriptionRow of questionDetails.rubricDescriptions; let i = index;\">\n+    <div class=\"card-header bg-light\">\n+      {{ questionDetails.rubricSubQuestions[i] }}\n+    </div>\n+    <div class=\"card-body\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjIyMzc1", "url": "https://github.com/TEAMMATES/teammates/pull/10312#pullrequestreview-448622375", "createdAt": "2020-07-15T04:35:44Z", "commit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNDozNTo0NFrOGxt67Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNDozNjoxMlrOGxt7bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDc4NTc3Mw==", "bodyText": "The problem is that the model only get updated after selectAnswer(i, j) is called.", "url": "https://github.com/TEAMMATES/teammates/pull/10312#discussion_r454785773", "createdAt": "2020-07-15T04:35:44Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-types/question-edit-answer-form/rubric-question-edit-answer-form.component.html", "diffHunk": "@@ -10,9 +10,26 @@\n       <td *ngFor=\"let rubricDescriptionCell of rubricDescriptionRow; let j = index;\" class=\"text-secondary answer-cell\" (click)=\"selectAnswer(i, j)\">\n         <label>\n           <input type=\"radio\" [disabled]=\"isDisabled\"\n-                 [name]=\"id + i\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n+                 [name]=\"id + i + '-desktop'\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n         </label>\n       </td>\n     </tr>\n   </tbody>\n </table>\n+<div class=\"mobile-view\">\n+  <div class=\"card\" *ngFor=\"let rubricDescriptionRow of questionDetails.rubricDescriptions; let i = index;\">\n+    <div class=\"card-header bg-light\">\n+      {{ questionDetails.rubricSubQuestions[i] }}\n+    </div>\n+    <div class=\"card-body\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDc2NjE4Mw=="}, "originalCommit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDc4NTkwMQ==", "bodyText": "We should add (click)=\"selectAnswer(i, j)\" here.", "url": "https://github.com/TEAMMATES/teammates/pull/10312#discussion_r454785901", "createdAt": "2020-07-15T04:36:12Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-types/question-edit-answer-form/rubric-question-edit-answer-form.component.html", "diffHunk": "@@ -10,9 +10,26 @@\n       <td *ngFor=\"let rubricDescriptionCell of rubricDescriptionRow; let j = index;\" class=\"text-secondary answer-cell\" (click)=\"selectAnswer(i, j)\">\n         <label>\n           <input type=\"radio\" [disabled]=\"isDisabled\"\n-                 [name]=\"id + i\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n+                 [name]=\"id + i + '-desktop'\" [checked]=\"i < responseDetails.answer.length && responseDetails.answer[i] === j\"/> {{ rubricDescriptionCell }}\n         </label>\n       </td>\n     </tr>\n   </tbody>\n </table>\n+<div class=\"mobile-view\">\n+  <div class=\"card\" *ngFor=\"let rubricDescriptionRow of questionDetails.rubricDescriptions; let i = index;\">\n+    <div class=\"card-header bg-light\">\n+      {{ questionDetails.rubricSubQuestions[i] }}\n+    </div>\n+    <div class=\"card-body\"\n+         [ngClass]=\"{ 'row-answered': i < responseDetails.answer.length && responseDetails.answer[i] !== RUBRIC_ANSWER_NOT_CHOSEN }\">\n+      <div *ngFor=\"let rubricDescriptionCell of rubricDescriptionRow; let j = index;\">\n+        <label>\n+          <input type=\"radio\" [disabled]=\"isDisabled\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "059e6afdf1abde15d5f02cf975b7278a613923cb", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/059e6afdf1abde15d5f02cf975b7278a613923cb", "committedDate": "2020-07-15T05:17:10Z", "message": "Fix wrong redirect for registered user accessing public submission/result page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b18532b1711530ada1242b9333c4e80f63acdce", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9b18532b1711530ada1242b9333c4e80f63acdce", "committedDate": "2020-07-15T05:17:10Z", "message": "Do not disable submission forms during preview mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55549a2b034747359d1e231b951b43ffdf447db9", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/55549a2b034747359d1e231b951b43ffdf447db9", "committedDate": "2020-07-15T05:17:10Z", "message": "Handle floating point division error for numscale question validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ab03c846325fb928a038dc7dac53e7c77113108", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9ab03c846325fb928a038dc7dac53e7c77113108", "committedDate": "2020-07-15T05:17:10Z", "message": "Change min amount of MSQ selectable choices to 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb40a14ee286988e6ac421a6e32bf899049800dd", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/cb40a14ee286988e6ac421a6e32bf899049800dd", "committedDate": "2020-07-15T05:17:10Z", "message": "Fix instructor search page not working when not both checkboxes are ticked"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7864a8eb0ae4aacb063384c7aed35543c0c36915", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7864a8eb0ae4aacb063384c7aed35543c0c36915", "committedDate": "2020-07-15T05:17:10Z", "message": "Add timezone offset information for edit course page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "076313eb0c505e37a2556d157f5f5de2085ca4e6", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/076313eb0c505e37a2556d157f5f5de2085ca4e6", "committedDate": "2020-07-15T05:17:10Z", "message": "Show all possible instructor roles only when editing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03f6add516ffa735ba4d1890d8632259bd2ccc61", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/03f6add516ffa735ba4d1890d8632259bd2ccc61", "committedDate": "2020-07-15T05:23:48Z", "message": "Add mobile rubric submission form"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7039f9c70836a0369e524e89d423528cb7a59661", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7039f9c70836a0369e524e89d423528cb7a59661", "committedDate": "2020-07-14T01:35:38Z", "message": "Add mobile rubric submission form"}, "afterCommit": {"oid": "03f6add516ffa735ba4d1890d8632259bd2ccc61", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/03f6add516ffa735ba4d1890d8632259bd2ccc61", "committedDate": "2020-07-15T05:23:48Z", "message": "Add mobile rubric submission form"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjQzMDAy", "url": "https://github.com/TEAMMATES/teammates/pull/10312#pullrequestreview-448643002", "createdAt": "2020-07-15T05:41:06Z", "commit": {"oid": "03f6add516ffa735ba4d1890d8632259bd2ccc61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4289, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}