{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MjU2OTUz", "number": 10167, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDoyNDo1OFrOEDnTzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNTozNzo1OFrOEDt6Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMjI1MjI5OnYy", "diffSide": "RIGHT", "path": "src/web/app/components/question-responses/gqr-rqg-view-responses/gqr-rqg-view-responses.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDoyNDo1OFrOGgvEOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDoyNDo1OFrOGgvEOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3ODc0NA==", "bodyText": "Have you considered put the same shouldDisplayBasedOnSection check in L89?", "url": "https://github.com/TEAMMATES/teammates/pull/10167#discussion_r436978744", "createdAt": "2020-06-08T20:24:58Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-responses/gqr-rqg-view-responses/gqr-rqg-view-responses.component.ts", "diffHunk": "@@ -142,6 +142,12 @@ export class GqrRqgViewResponsesComponent extends InstructorResponsesViewBase im\n             .isFeedbackResponsesDisplayedOnSection(response, this.section, this.sectionType);\n \n           if (!shouldDisplayBasedOnSection) {\n+            const team: string = this.isGqr ? response.giverTeam : response.recipientTeam;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36841da53f5eaf6829fe9d29331b1a91d3fd6f4a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzMzMzYzOnYy", "diffSide": "RIGHT", "path": "src/web/app/components/question-responses/gqr-rqg-view-responses/gqr-rqg-view-responses.component.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNTozNzo1OFrOGg5bbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNTozNzo1OFrOGg5bbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzE0ODUyNA==", "bodyText": "Try to use guard clause?\nconst shouldDisplayBasedOnSection = xx\n\nif (!shouldDisplayBasedOnSection) {\n    continue;\n}", "url": "https://github.com/TEAMMATES/teammates/pull/10167#discussion_r437148524", "createdAt": "2020-06-09T05:37:58Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-responses/gqr-rqg-view-responses/gqr-rqg-view-responses.component.ts", "diffHunk": "@@ -92,33 +92,39 @@ export class GqrRqgViewResponsesComponent extends InstructorResponsesViewBase im\n         if (response.recipientEmail) {\n           this.userToEmail[response.recipient] = response.recipientEmail;\n         }\n-        if (this.isGqr) {\n-          this.teamsToUsers[response.giverTeam] = this.teamsToUsers[response.giverTeam] || [];\n-          if (this.teamsToUsers[response.giverTeam].indexOf(response.giver) === -1) {\n-            this.teamsToUsers[response.giverTeam].push(response.giver);\n-            this.teamExpanded[response.giverTeam] = this.isExpandAll;\n-          }\n-          if (response.relatedGiverEmail) {\n-            this.userToRelatedEmail[response.giver] = response.relatedGiverEmail;\n-          }\n-          this.userExpanded[response.giver] = this.isExpandAll;\n-        } else {\n-          if (!response.recipientTeam) {\n-            // Recipient is team\n-            this.teamsToUsers[response.recipient] = this.teamsToUsers[response.recipient] || [];\n-            if (this.teamsToUsers[response.recipient].indexOf(response.recipient) === -1) {\n-              this.teamsToUsers[response.recipient].push(response.recipient);\n-              this.teamExpanded[response.recipient] = this.isExpandAll;\n+\n+        const shouldDisplayBasedOnSection: boolean = this.feedbackResponsesService\n+            .isFeedbackResponsesDisplayedOnSection(response, this.section, this.sectionType);\n+        if (shouldDisplayBasedOnSection) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a29216619807ec37c530032df8e9da35c2ebff1"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3792, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}