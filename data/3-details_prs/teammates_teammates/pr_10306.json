{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3OTA2NDkx", "number": 10306, "title": "[#10305] CollapseAnim causing elements to be cut off ", "bodyText": "Fixes #10305\nOutline of Solution\nSet overflow to be set back to visible after animation ends instead of remaining as hidden in all states\nAnimation remains smooth and cut off problem is solved\nScreenshot", "createdAt": "2020-07-12T14:19:53Z", "url": "https://github.com/TEAMMATES/teammates/pull/10306", "merged": true, "mergeCommit": {"oid": "b5a1a294b3e1bfe36375fbd4544162b6cfed935e"}, "closed": true, "closedAt": "2020-07-13T06:07:38Z", "author": {"login": "jtankw3"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0NhIhAH2gAyNDQ3OTA2NDkxOjNjY2ZlYzk5M2RmMjAwYzY1YzA0N2JhMTU3MDkxZGIzZTY0ZjkxMjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0axjWAFqTQ0Njk5MzU2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3ccfec993df200c65c047ba157091db3e64f9123", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3ccfec993df200c65c047ba157091db3e64f9123", "committedDate": "2020-07-12T14:15:06Z", "message": "Fix CollapseAnim bug causing element cut off"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "111f39b871e909bb40fe6c15e28eeadada2eaa59", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/111f39b871e909bb40fe6c15e28eeadada2eaa59", "committedDate": "2020-07-12T14:43:26Z", "message": "Update snapshots"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29421b21db4d7072a54e8251e6d30387198a1a94", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/29421b21db4d7072a54e8251e6d30387198a1a94", "committedDate": "2020-07-12T14:15:16Z", "message": "Update snapshot"}, "afterCommit": {"oid": "111f39b871e909bb40fe6c15e28eeadada2eaa59", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/111f39b871e909bb40fe6c15e28eeadada2eaa59", "committedDate": "2020-07-12T14:43:26Z", "message": "Update snapshots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODkxMDMx", "url": "https://github.com/TEAMMATES/teammates/pull/10306#pullrequestreview-446891031", "createdAt": "2020-07-12T16:05:52Z", "commit": {"oid": "111f39b871e909bb40fe6c15e28eeadada2eaa59"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxNjowNTo1MlrOGwVVhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxNjowNTo1MlrOGwVVhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMzNDQwNw==", "bodyText": "Dont think overflow: 'visible' does anything, since style within animate gets removed after the transition.\nIf the aim is to be explicit, you could add state('*', style({ overflow: 'visible' })) instead.\nRefer:  https://stackoverflow.com/a/47351870", "url": "https://github.com/TEAMMATES/teammates/pull/10306#discussion_r453334407", "createdAt": "2020-07-12T16:05:52Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/components/teammates-common/collapse-anim.ts", "diffHunk": "@@ -1,17 +1,15 @@\n-import { animate, AnimationTriggerMetadata, state, style, transition, trigger } from '@angular/animations';\n+import { animate, AnimationTriggerMetadata, style, transition, trigger } from '@angular/animations';\n \n /**\n  * Directive for collapsing of *ngIf columns.\n  */\n export const collapseAnim: AnimationTriggerMetadata = trigger('collapseAnim', [\n-  state('*', style({ overflow: 'hidden' })),\n-  state('void', style({ overflow: 'hidden' })),\n   transition(':leave', [\n-    style({ height: '*' }),\n+    style({ height: '*', overflow: 'hidden' }),\n     animate('300ms ease-in-out', style({ height: 0, opacity: 0 })),\n   ]),\n   transition(':enter', [\n-    style({ height: '0' }),\n-    animate('300ms ease-in-out', style({ height: '*', opacity: 1 })),\n+    style({ height: '0', overflow: 'hidden' }),\n+    animate('300ms ease-in-out', style({ height: '*', opacity: 1, overflow: 'visible' })),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "111f39b871e909bb40fe6c15e28eeadada2eaa59"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76a3a318dbee59f09b49329a0999e1428eb2f8b9", "author": {"user": {"login": "jtankw3", "name": "Tan Kian Wei Jason"}}, "url": "https://github.com/TEAMMATES/teammates/commit/76a3a318dbee59f09b49329a0999e1428eb2f8b9", "committedDate": "2020-07-12T18:18:41Z", "message": "Remove unnecessary styling in animate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTUxMTkz", "url": "https://github.com/TEAMMATES/teammates/pull/10306#pullrequestreview-446951193", "createdAt": "2020-07-13T02:49:31Z", "commit": {"oid": "76a3a318dbee59f09b49329a0999e1428eb2f8b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTkzNTYx", "url": "https://github.com/TEAMMATES/teammates/pull/10306#pullrequestreview-446993561", "createdAt": "2020-07-13T05:41:48Z", "commit": {"oid": "76a3a318dbee59f09b49329a0999e1428eb2f8b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4286, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}