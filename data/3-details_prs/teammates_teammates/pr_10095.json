{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNjkwNjkw", "number": 10095, "title": "[#9989] Migrate GET /courses/enroll/students to RESTful API", "bodyText": "Resolves #9989", "createdAt": "2020-05-22T03:14:00Z", "url": "https://github.com/TEAMMATES/teammates/pull/10095", "merged": true, "mergeCommit": {"oid": "361f5753b809574fe61f8dcebd4c3405f8965119"}, "closed": true, "closedAt": "2020-05-23T01:22:50Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjpUMoAH2gAyNDIxNjkwNjkwOjQ4YjkyNTNjMDNhZDA4ZmI0ODAzNDkxOTc0ZmZiNDczZGQ0NzQxYjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcj3usqgFqTQxNzE1MjcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "48b9253c03ad08fb4803491974ffb473dd4741b6", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/48b9253c03ad08fb4803491974ffb473dd4741b6", "committedDate": "2020-05-22T03:01:36Z", "message": "Migrate course enroll students endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ee83820c1066d657893a2f9b15ae0762610005a", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/8ee83820c1066d657893a2f9b15ae0762610005a", "committedDate": "2020-05-22T03:01:59Z", "message": "Merge branch 'master' into 9989-rest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d9fa47c60474f9a71e962dfa7daad6bbdff114e", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/4d9fa47c60474f9a71e962dfa7daad6bbdff114e", "committedDate": "2020-05-22T03:12:37Z", "message": "Remove endpoint references"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjM2NTU0", "url": "https://github.com/TEAMMATES/teammates/pull/10095#pullrequestreview-416636554", "createdAt": "2020-05-22T04:12:38Z", "commit": {"oid": "4d9fa47c60474f9a71e962dfa7daad6bbdff114e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDoxMjozOFrOGZKHbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDoxMjozOFrOGZKHbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAzMzMyNw==", "bodyText": "The method should be in the student service right?", "url": "https://github.com/TEAMMATES/teammates/pull/10095#discussion_r429033327", "createdAt": "2020-05-22T04:12:38Z", "author": {"login": "xpdavid"}, "path": "src/web/services/course.service.ts", "diffHunk": "@@ -254,6 +254,6 @@ export class CourseService {\n     const paramsMap: Record<string, string> = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d9fa47c60474f9a71e962dfa7daad6bbdff114e"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20a8d930772afc22de93f9031ba6dc3e14cadee4", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/20a8d930772afc22de93f9031ba6dc3e14cadee4", "committedDate": "2020-05-22T07:04:05Z", "message": "Move method to student.service.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2665b58fff2fe72ac521feedcb6ec0683acc3f41", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/2665b58fff2fe72ac521feedcb6ec0683acc3f41", "committedDate": "2020-05-22T07:14:11Z", "message": "Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NzQwMTM2", "url": "https://github.com/TEAMMATES/teammates/pull/10095#pullrequestreview-416740136", "createdAt": "2020-05-22T08:32:51Z", "commit": {"oid": "2665b58fff2fe72ac521feedcb6ec0683acc3f41"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwODozMjo1MlrOGZPIcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwODozMjo1MlrOGZPIcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTExNTUwNA==", "bodyText": "Why not merge with getStudentsFromCourse?", "url": "https://github.com/TEAMMATES/teammates/pull/10095#discussion_r429115504", "createdAt": "2020-05-22T08:32:52Z", "author": {"login": "xpdavid"}, "path": "src/web/services/student.service.ts", "diffHunk": "@@ -124,4 +127,14 @@ export class StudentService {\n     const responseType: string = 'text';\n     return this.httpRequestService.get(ResourceEndpoints.STUDENTS_CSV, paramsMap, responseType);\n   }\n+\n+  /**\n+   * Returns a list of students enrolled in a course.\n+   */\n+  getStudentsEnrolledInCourse(queryParams: { courseId: string }): Observable<StudentListResults> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2665b58fff2fe72ac521feedcb6ec0683acc3f41"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NzQyNTU3", "url": "https://github.com/TEAMMATES/teammates/pull/10095#pullrequestreview-416742557", "createdAt": "2020-05-22T08:36:48Z", "commit": {"oid": "2665b58fff2fe72ac521feedcb6ec0683acc3f41"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwODozNjo0OFrOGZPP5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwODozNjo0OFrOGZPP5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTExNzQxMg==", "bodyText": "A note, the data type returned by /students from the backend is not of the type StudentListResults.", "url": "https://github.com/TEAMMATES/teammates/pull/10095#discussion_r429117412", "createdAt": "2020-05-22T08:36:48Z", "author": {"login": "xpdavid"}, "path": "src/web/services/student.service.ts", "diffHunk": "@@ -124,4 +127,14 @@ export class StudentService {\n     const responseType: string = 'text';\n     return this.httpRequestService.get(ResourceEndpoints.STUDENTS_CSV, paramsMap, responseType);\n   }\n+\n+  /**\n+   * Returns a list of students enrolled in a course.\n+   */\n+  getStudentsEnrolledInCourse(queryParams: { courseId: string }): Observable<StudentListResults> {\n+    const paramsMap: Record<string, string> = {\n+      courseid: queryParams.courseId,\n+    };\n+    return this.httpRequestService.get(ResourceEndpoints.STUDENTS, paramsMap);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2665b58fff2fe72ac521feedcb6ec0683acc3f41"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8bda7cb307d86b9b08936528305584182665741", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c8bda7cb307d86b9b08936528305584182665741", "committedDate": "2020-05-22T09:55:40Z", "message": "Remove use of StudentAttributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2ODAwMzE5", "url": "https://github.com/TEAMMATES/teammates/pull/10095#pullrequestreview-416800319", "createdAt": "2020-05-22T10:12:47Z", "commit": {"oid": "c8bda7cb307d86b9b08936528305584182665741"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMDoxMjo0N1rOGZR-Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMDoxMjo0N1rOGZR-Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTE2MjAyMw==", "bodyText": "To keep the code simple, I think you can change the colHeaders instead.", "url": "https://github.com/TEAMMATES/teammates/pull/10095#discussion_r429162023", "createdAt": "2020-05-22T10:12:47Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-course-enroll-page/instructor-course-enroll-page.component.ts", "diffHunk": "@@ -277,16 +260,24 @@ export class InstructorCourseEnrollPageComponent implements OnInit {\n   /**\n    * Converts returned student list to a suitable format required by Handsontable.\n    */\n-  studentListDataToHandsontableData(studentsData: StudentAttributes[], handsontableColHeader: any[]): string[][] {\n+  studentListDataToHandsontableData(studentsData: Student[], handsontableColHeader: any[]): string[][] {\n     const headers: string[] = handsontableColHeader.map(this.unCapitalizeFirstLetter);\n-    return studentsData.map((student: StudentAttributes) => (headers.map(\n-        (header: string) => (student as any)[header])));\n+    return studentsData.map((student: Student) => (headers.map(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8bda7cb307d86b9b08936528305584182665741"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MTUyNzAy", "url": "https://github.com/TEAMMATES/teammates/pull/10095#pullrequestreview-417152702", "createdAt": "2020-05-22T19:49:13Z", "commit": {"oid": "c8bda7cb307d86b9b08936528305584182665741"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4409, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}