{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMDYzMDE1", "number": 10698, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwOToxNTo1OFrOEg2xrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwOToxNTo1OFrOEg2xrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODg3MzQzOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/logic/core/FeedbackSessionsLogic.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwOToxNTo1OFrOHN3eiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwOToxNTo1OFrOHN3eiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMwMjQ3Mg==", "bodyText": "This is more likely than not user error so it should not return any 500-resulting exception (like this one)", "url": "https://github.com/TEAMMATES/teammates/pull/10698#discussion_r484302472", "createdAt": "2020-09-07T09:15:58Z", "author": {"login": "wkurniawan07"}, "path": "src/main/java/teammates/logic/core/FeedbackSessionsLogic.java", "diffHunk": "@@ -654,11 +652,27 @@ public SessionResultsBundle getSessionResultsForUser(\n         }\n \n         // load response(s)\n+        StudentAttributes student = getStudent(courseId, userEmail, role);\n         List<FeedbackResponseAttributes> allResponses;\n-        if (questionId == null) {\n-            allResponses = frLogic.getFeedbackResponsesForSessionInSection(feedbackSessionName, courseId, section);\n+        if (isInstructor(role)) {\n+            // load all response for instructors and passively filter them later\n+            if (questionId == null) {\n+                allResponses = frLogic.getFeedbackResponsesForSessionInSection(feedbackSessionName, courseId, section);\n+            } else {\n+                allResponses = frLogic.getFeedbackResponsesForQuestionInSection(questionId, section);\n+            }\n         } else {\n-            allResponses = frLogic.getFeedbackResponsesForQuestionInSection(questionId, section);\n+            if (section != null) {\n+                throw new UnsupportedOperationException(\"Specify section filtering is not supported for student result\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eae2bf10245ff72c5eb1a1c45490ab168657c69"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3553, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}