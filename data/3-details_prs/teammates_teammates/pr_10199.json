{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NjMxMDc0", "number": 10199, "title": "[#10176] Fix Admin Search Issues from UAT", "bodyText": "Part of #10176\nOriginal Filed Issues\n\n \"Search\" button is expected to be blue (active), but is currently grey (inactive)\n In a new keyword search, when no result is found, previous search result is still present. (In v6, no result is shown)\n No header widget to indicate that single result entry can be expanded.\n Click \u201cGoogle ID\u201d, \u201cManage this account\u201d, \u201cReset Google ID\u201d will expand the result entry before redirection (should stop event propagation)\n In v6, all redirections (\u201cGoogle ID\u201d, \u201cManage this account\u201d, \u201cReset Google ID\u201d) are handled by opening in a new tab. In v7, redirection happens in the current page. When going back, no result is cached. (Suggest to follow v6 style)\n Reset Google ID option should have a warning pop-up, like \u201cRegenerate links\u201d does.\n When input . or - as the search input, no result is found in v6, but everything is returned in v7. Unable to replicate, possibly result of previous search\n\nView of dropdown button for visual representation of expansion:", "createdAt": "2020-06-17T06:27:01Z", "url": "https://github.com/TEAMMATES/teammates/pull/10199", "merged": true, "mergeCommit": {"oid": "c98e6b1a1f0860a61d86356117497557f093e652"}, "closed": true, "closedAt": "2020-06-19T17:19:15Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsBFNsgH2gAyNDM1NjMxMDc0Ojg5Y2Q4NTc2NDU0MWYwN2U5MDZhMWQwMGNhMTBmNWY0MzQ2Y2U3NjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcs167YgH2gAyNDM1NjMxMDc0OjFlNDk2NDQ1YmEyMmRkZWQwYWVmNTIxOTE3M2QyYWMzZmMwZmNiZjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "89cd85764541f07e906a1d00ca10f5f4346ce763", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/89cd85764541f07e906a1d00ca10f5f4346ce763", "committedDate": "2020-06-17T03:14:21Z", "message": "Implement all fixes for UAT issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6587adb251b414e3c188849b29c10cfb8910b3f", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c6587adb251b414e3c188849b29c10cfb8910b3f", "committedDate": "2020-06-17T06:19:32Z", "message": "Add admin-search-page.component.spec.ts tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMTAyNjM5", "url": "https://github.com/TEAMMATES/teammates/pull/10199#pullrequestreview-432102639", "createdAt": "2020-06-17T06:46:25Z", "commit": {"oid": "c6587adb251b414e3c188849b29c10cfb8910b3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/70d9597dbb94d8d15cf4bf383546324c230a0f26", "committedDate": "2020-06-17T10:31:05Z", "message": "Add modal confirmation to e2e test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5cccc1b2ff508caf4b73e70ce51fa3e8f01e9233", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/5cccc1b2ff508caf4b73e70ce51fa3e8f01e9233", "committedDate": "2020-06-17T08:45:18Z", "message": "Add modal confirmation to e2e test"}, "afterCommit": {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/70d9597dbb94d8d15cf4bf383546324c230a0f26", "committedDate": "2020-06-17T10:31:05Z", "message": "Add modal confirmation to e2e test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNzM0NzAy", "url": "https://github.com/TEAMMATES/teammates/pull/10199#pullrequestreview-432734702", "createdAt": "2020-06-17T20:06:07Z", "commit": {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMDowNjowN1rOGlVfGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QyMDowNjowN1rOGlVfGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTgwMjUyMA==", "bodyText": "The stack trace shows that getStudentRow fail to find element.", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r441802520", "createdAt": "2020-06-17T20:06:07Z", "author": {"login": "xpdavid"}, "path": "src/e2e/java/teammates/e2e/pageobjects/AdminSearchPage.java", "diffHunk": "@@ -150,6 +153,9 @@ public void resetStudentGoogleId(StudentAttributes student) {\n         WebElement studentRow = getStudentRow(student);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70d9597dbb94d8d15cf4bf383546324c230a0f26"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/32883a5fab271463a5f0cdbb7d55addf08b025d1", "committedDate": "2020-06-18T01:57:25Z", "message": "Fix getStudentRow and getInstructorRow xpath format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzUwMzAy", "url": "https://github.com/TEAMMATES/teammates/pull/10199#pullrequestreview-433350302", "createdAt": "2020-06-18T14:37:07Z", "commit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDozNzowN1rOGlyaww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDozOTozM1rOGlyiHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NjU0Nw==", "bodyText": "I normally don't pick on indentations, but this is very weird.\nWhy not just do a simple one:\n<button *ngIf=\"!instructor.showLinks\" class=\"btn\">\n  <i class=\"fas fa-chevron-circle-down\" style=\"color: blue;\"></i>\n</button>", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442276547", "createdAt": "2020-06-18T14:37:07Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -36,16 +36,28 @@\n       <tbody>\n         <ng-container *ngFor=\"let instructor of instructors; let i = index\">\n           <tr (click)=\"instructor.showLinks = !instructor.showLinks\">\n-            <td>{{ instructor.courseId }}</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ instructor.courseId }}\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                       style=\"color: blue;\"></i></button>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NjcxOA==", "bodyText": "Why defer this TODO?", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442276718", "createdAt": "2020-06-18T14:37:19Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -36,16 +36,28 @@\n       <tbody>\n         <ng-container *ngFor=\"let instructor of instructors; let i = index\">\n           <tr (click)=\"instructor.showLinks = !instructor.showLinks\">\n-            <td>{{ instructor.courseId }}</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ instructor.courseId }}\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                       style=\"color: blue;\"></i></button>\n+                <button *ngIf=\"instructor.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-up\" style=\"color: blue;\"></i></button>\n+              </div>\n+            </td> <!-- TODO: tooltip course name -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NzI2Nw==", "bodyText": "Self-closing HTMLs should not be closed.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          <br/>\n          \n          \n            \n                          <br>", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442277267", "createdAt": "2020-06-18T14:37:58Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -94,17 +106,30 @@\n       <tbody>\n         <ng-container *ngFor=\"let student of students; let i = index\">\n           <tr (click)=\"student.showLinks = !student.showLinks\">\n-            <td>{{ student.courseId }} [{{ student.section }}] ({{ student.team }})</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ student.courseId }} [{{ student.section }}] ({{ student.team }})\n+              <br/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3NzQ2Ng==", "bodyText": "Unrelated change?", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442277466", "createdAt": "2020-06-18T14:38:15Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/pages-admin/admin-search-page/admin-search-page.component.html", "diffHunk": "@@ -94,17 +106,30 @@\n       <tbody>\n         <ng-container *ngFor=\"let student of students; let i = index\">\n           <tr (click)=\"student.showLinks = !student.showLinks\">\n-            <td>{{ student.courseId }} [{{ student.section }}] ({{ student.team }})</td> <!-- TODO: tooltip course name -->\n+            <td>\n+              {{ student.courseId }} [{{ student.section }}] ({{ student.team }})\n+              <br/>\n+              <div class=\"col-sm-1\">\n+                <button *ngIf=\"!student.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-down\"\n+                                                   style=\"color: blue;\"></i></button>\n+                <button *ngIf=\"student.showLinks\"\n+                        class=\"btn\"><i class=\"fas fa-chevron-circle-up\" style=\"color: blue;\"></i></button>\n+              </div>\n+            </td> <!-- TODO: tooltip course name -->\n             <td>{{ student.name }}</td>\n-            <td><a href=\"{{ student.homePageLink }}\" *ngIf=\"student.googleId\">{{ student.googleId }}</a></td>\n+            <td><a href=\"{{ student.homePageLink }}\" *ngIf=\"student.googleId\"\n+                   (click)=\"$event.stopPropagation()\" target=\"_blank\" rel=\"noopener noreferrer\">\n+              {{ student.googleId }}</a></td>\n             <td>{{ student.institute }}</td>\n             <td>{{ student.comments }}</td>\n             <td>\n-              <a href=\"{{ student.manageAccountLink }}\" *ngIf=\"student.googleId && student.manageAccountLink\">\n+              <a href=\"{{ student.manageAccountLink }}\" *ngIf=\"student.googleId && student.manageAccountLink\"\n+                 (click)=\"$event.stopPropagation()\" target=\"_blank\" rel=\"noopener noreferrer\">\n                 <i class=\"fas fa-info-circle\"></i> Manage this account\n               </a>\n               <br>\n-              <a id=\"reset-student-id-{{i}}\" href=\"javascript:;\" (click)=\"resetStudentGoogleId(student, $event)\" *ngIf=\"student.googleId\">\n+              <a id=\"reset-student-id-{{i}}\" href=\"javascript:\" (click)=\"resetStudentGoogleId(student, $event)\" *ngIf=\"student.googleId\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3ODQyOA==", "bodyText": "2-space indentation for HTML/SCSS/TS files", "url": "https://github.com/TEAMMATES/teammates/pull/10199#discussion_r442278428", "createdAt": "2020-06-18T14:39:33Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/pages-admin/admin-search-page/reset-google-id-confirm-modal/reset-google-id-confirm-modal.component.html", "diffHunk": "@@ -0,0 +1,16 @@\n+<div class=\"modal-header bg-warning\">\n+    <h5 class=\"modal-title\"><i class=\"fas fa-exclamation-circle\"></i> Warning: This account's Google ID will be reset. </h5>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32883a5fab271463a5f0cdbb7d55addf08b025d1"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19c6a050e95a7f435834a3c1216a8690714d59f0", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/19c6a050e95a7f435834a3c1216a8690714d59f0", "committedDate": "2020-06-18T16:08:52Z", "message": "Fix indentation and add course tooltip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29cea7c3c58001b6fb1bf24feba060612929818e", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/29cea7c3c58001b6fb1bf24feba060612929818e", "committedDate": "2020-06-19T03:24:35Z", "message": "Fix e2e test for tooltip addition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e096b658ba1b116ac390d79dc660eeb9efdf796", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7e096b658ba1b116ac390d79dc660eeb9efdf796", "committedDate": "2020-06-19T03:29:41Z", "message": "Fix import order for lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjEzNTM4", "url": "https://github.com/TEAMMATES/teammates/pull/10199#pullrequestreview-434213538", "createdAt": "2020-06-19T16:43:05Z", "commit": {"oid": "7e096b658ba1b116ac390d79dc660eeb9efdf796"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e496445ba22dded0aef5219173d2ac3fc0fcbf9", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/1e496445ba22dded0aef5219173d2ac3fc0fcbf9", "committedDate": "2020-06-19T16:48:05Z", "message": "Merge branch 'master' into 10176-adminSearch"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4350, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}