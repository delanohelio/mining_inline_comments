{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1MTQwOTIx", "number": 10283, "title": "[#10264] Encrypt Feedback Response ID", "bodyText": "Part of #10264\nWithout any consideration for the front-end, my intent here is to encrypt all output of responseId and subsequently decrypt any receipt of feedbackResponseId from the API endpoints.\nThis approach was taken because I believe ResponseOutput which is supposed to be the data output format for question responses is really just a superset of a FeedbackResponseData since the responseId  is really just the feedbackResponseId. Please do correct me if I'm wrong in my assumption. I'd like to clarify this assumption first before continuing to work on the tests and verify the impact of the encryption on the front-end.", "createdAt": "2020-07-07T04:25:22Z", "url": "https://github.com/TEAMMATES/teammates/pull/10283", "merged": true, "mergeCommit": {"oid": "05f722b5c7fb7a9da70aba900b744a9139b55e8c"}, "closed": true, "closedAt": "2020-07-08T05:30:20Z", "author": {"login": "madanalogy"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcye5wcAFqTQ0MzU2OTkwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyzXetAFqTQ0NDQxNzgwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTY5OTAy", "url": "https://github.com/TEAMMATES/teammates/pull/10283#pullrequestreview-443569902", "createdAt": "2020-07-07T05:22:32Z", "commit": {"oid": "6c5faf7be948845a9c01ad7f5dfb6c78ceeacb25"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNToyMjozMlrOGtvgRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNToyMjozMlrOGtvgRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYxNzQxNQ==", "bodyText": "These two methods should not throw anything, reason: InvalidParametersException (and other Exceptions) can come from many different sources and the treatment for each can be different.\nSpecifically for this issue, if the decryption fail, it means the input from the front-end is bad, so it is appropriate to re-throw as InvalidHttpParameterException, which does happen to be the same data flow, but it's a coincidence rather than a rule.", "url": "https://github.com/TEAMMATES/teammates/pull/10283#discussion_r450617415", "createdAt": "2020-07-07T05:22:32Z", "author": {"login": "wkurniawan07"}, "path": "src/main/java/teammates/ui/webapi/action/Action.java", "diffHunk": "@@ -225,11 +226,11 @@ protected String getRequestBody() {\n     /**\n      * Checks the specific access control needs for the resource.\n      */\n-    public abstract void checkSpecificAccessControl();\n+    public abstract void checkSpecificAccessControl() throws InvalidParametersException;\n \n     /**\n      * Executes the action.\n      */\n-    public abstract ActionResult execute();\n+    public abstract ActionResult execute() throws InvalidParametersException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c5faf7be948845a9c01ad7f5dfb6c78ceeacb25"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34cd8b379689c81c078bb20738c50cc908ffc33f", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/34cd8b379689c81c078bb20738c50cc908ffc33f", "committedDate": "2020-07-07T06:39:11Z", "message": "Add encryption to API output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0475462568250edcc8f2a4013329736e019a8b3", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d0475462568250edcc8f2a4013329736e019a8b3", "committedDate": "2020-07-07T07:12:30Z", "message": "Add decryption to API endpoints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d75aa0c58d2ab7a2a97c653876b19884696302d6", "committedDate": "2020-07-07T07:12:49Z", "message": "Update tests for encryption and decryption"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c5faf7be948845a9c01ad7f5dfb6c78ceeacb25", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6c5faf7be948845a9c01ad7f5dfb6c78ceeacb25", "committedDate": "2020-07-07T04:15:14Z", "message": "Encrypt feedback response id in output"}, "afterCommit": {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d75aa0c58d2ab7a2a97c653876b19884696302d6", "committedDate": "2020-07-07T07:12:49Z", "message": "Update tests for encryption and decryption"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNzIwMjU0", "url": "https://github.com/TEAMMATES/teammates/pull/10283#pullrequestreview-443720254", "createdAt": "2020-07-07T09:29:15Z", "commit": {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDE3ODAw", "url": "https://github.com/TEAMMATES/teammates/pull/10283#pullrequestreview-444417800", "createdAt": "2020-07-08T05:13:06Z", "commit": {"oid": "d75aa0c58d2ab7a2a97c653876b19884696302d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4275, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}