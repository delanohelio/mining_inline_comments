{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NTcwODcz", "number": 10689, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNTo1OTo0OFrOEhF5ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToxOToxNVrOFJN45w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMTM1MDk5OnYy", "diffSide": "RIGHT", "path": "src/web/app/components/question-types/question-edit-answer-form/text-question-edit-answer-form.component.html", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNTo1OTo0OFrOHONyIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo1OTo0N1rOHPIyeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY2NzkzNw==", "bodyText": "This might be dangerous. Consider an answer already saved as rich text (with all those formatting): what are you going to display here?", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r484667937", "createdAt": "2020-09-08T05:59:48Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/components/question-types/question-edit-answer-form/text-question-edit-answer-form.component.html", "diffHunk": "@@ -1,4 +1,5 @@\n-<tm-rich-text-editor [richText]=\"responseDetails.answer\" (richTextChange)=\"triggerResponseDetailsChange('answer', $event)\" [isDisabled]=\"isDisabled\"></tm-rich-text-editor>\n+<textarea class=\"form-control mobile-visible\" [ngModel]=\"responseDetails.answer\" (ngModelChange)=\"triggerResponseDetailsChange('answer', $event)\" [disabled]=\"isDisabled\"></textarea>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNDY4MA==", "bodyText": "Oh, I see. I guess the state will be inconsistent... just experimented a little and I think I could hide the toolbar alone, leaving the rich text editor intact. Would it be a good idea?", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485634680", "createdAt": "2020-09-09T13:59:47Z", "author": {"login": "moziliar"}, "path": "src/web/app/components/question-types/question-edit-answer-form/text-question-edit-answer-form.component.html", "diffHunk": "@@ -1,4 +1,5 @@\n-<tm-rich-text-editor [richText]=\"responseDetails.answer\" (richTextChange)=\"triggerResponseDetailsChange('answer', $event)\" [isDisabled]=\"isDisabled\"></tm-rich-text-editor>\n+<textarea class=\"form-control mobile-visible\" [ngModel]=\"responseDetails.answer\" (ngModelChange)=\"triggerResponseDetailsChange('answer', $event)\" [disabled]=\"isDisabled\"></textarea>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY2NzkzNw=="}, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNjgyNTk5OnYy", "diffSide": "RIGHT", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMDo0MzoxNFrOHPBduw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMTo0Nzo1NVrOHPDfnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUxNDY4Mw==", "bodyText": "Consider the second condition: feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN. Try opening a feedback submission that has closed: The prompt you generated still shows up, which is confusing because users can't actually resubmit since the submission has closed.\nYou can add this condition check, which should work, though it'd be even better if you can find some way to tie the prompt to this specific place (so there's only 1 place to change if a new condition needs to be added)", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485514683", "createdAt": "2020-09-09T10:43:14Z", "author": {"login": "ChooJeremy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "diffHunk": "@@ -35,7 +35,7 @@ <h4>Previewing Session as\n     </div>\n   </div>\n </div>\n-<div class=\"row\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">\n+<div class=\"row mobile-invisible\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTU0NzkzNQ==", "bodyText": "Actually a good idea. It seems that I shall do a full run on this change in different states of the submission process. \ud83d\udc4d Will first bind it to the condition.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485547935", "createdAt": "2020-09-09T11:47:55Z", "author": {"login": "moziliar"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "diffHunk": "@@ -35,7 +35,7 @@ <h4>Previewing Session as\n     </div>\n   </div>\n </div>\n-<div class=\"row\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">\n+<div class=\"row mobile-invisible\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUxNDY4Mw=="}, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNzgzNjcyOnYy", "diffSide": "RIGHT", "path": "src/web/app/components/rich-text-editor/rich-text-editor.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDo1MDoxNVrOHPLMNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMToyNToxMFrOHR9Iog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3NDAzNg==", "bodyText": "@wkurniawan07 this should address the issue? It simply hides the toolbar on init. Do you think screen resizing should be considered too?", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485674036", "createdAt": "2020-09-09T14:50:15Z", "author": {"login": "moziliar"}, "path": "src/web/app/components/rich-text-editor/rich-text-editor.component.ts", "diffHunk": "@@ -34,6 +34,9 @@ export class RichTextEditorComponent implements OnInit {\n \n   ngOnInit(): void {\n     this.init = this.getEditorSettings();\n+    if (window.innerWidth < 768) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4OTQ3NA==", "bodyText": "Do you think screen resizing should be considered too?\n\nYes, it needs to be.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r488589474", "createdAt": "2020-09-15T11:25:10Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/components/rich-text-editor/rich-text-editor.component.ts", "diffHunk": "@@ -34,6 +34,9 @@ export class RichTextEditorComponent implements OnInit {\n \n   ngOnInit(): void {\n     this.init = this.getEditorSettings();\n+    if (window.innerWidth < 768) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3NDAzNg=="}, "originalCommit": {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTEzMjYyOnYy", "diffSide": "RIGHT", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNjoyNjoxNlrOHRFcig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNjozMDowMVrOHRFiNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3NzA2Ng==", "bodyText": "I don't think this works... on doing local testing, I am still seeing the \"Note On Submission\" prompt pop up when viewing the submission of a closed session.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r487677066", "createdAt": "2020-09-14T06:26:16Z", "author": {"login": "ChooJeremy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -190,6 +190,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n             'You are not authorized to view this page.');\n       });\n     });\n+\n+    // Display note on submission on mobile device\n+    if (window.innerWidth < 768 && this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3ODUxNw==", "bodyText": "I see... I will change it then.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r487678517", "createdAt": "2020-09-14T06:30:01Z", "author": {"login": "moziliar"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -190,6 +190,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n             'You are not authorized to view this page.');\n       });\n     });\n+\n+    // Display note on submission on mobile device\n+    if (window.innerWidth < 768 && this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3NzA2Ng=="}, "originalCommit": {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MjA5MDYzOnYy", "diffSide": "RIGHT", "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToxOToxNVrOILg9TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToxOToxNVrOILg9TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk0NTIyOA==", "bodyText": "Could you refactor 768 into a descriptive variable? Future developers might not understand where the value is coming from. You could even add a short comment that the threshold comes from the corresponding scss file.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r548945228", "createdAt": "2020-12-26T05:19:15Z", "author": {"login": "madanalogy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -311,6 +311,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n         }\n \n         this.loadFeedbackQuestions();\n+\n+        // Display note on submission on mobile device\n+        if (this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN && window.innerWidth < 768) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3539, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}