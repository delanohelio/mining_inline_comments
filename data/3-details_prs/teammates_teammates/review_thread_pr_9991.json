{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NjY4MDk3", "number": 9991, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwMToyNzowMFrODqnQpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMzozMDoxMlrODvYh0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MDEwMDIwOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwMToyNzowMFrOF6eAnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToyOTozN1rOF7gv6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzQwNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            .forEach((InstructorData data) -> {\n          \n          \n            \n                            .forEach((InstructorData instructor) -> {\n          \n      \n    \n    \n  \n\ndata is too general.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r396853407", "createdAt": "2020-03-24T01:27:00Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData data) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0Njg1Nw==", "bodyText": "fixed", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r397946857", "createdAt": "2020-03-25T15:29:37Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData data) -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzQwNw=="}, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MDEwMjQ3OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwMToyODoxNlrOF6eCAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToyOTo0NFrOF7gwXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1Mzc2Mg==", "bodyText": "I think you should put the logic inside the construction of InstructorData.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r396853762", "createdAt": "2020-03-24T01:28:16Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData data) -> {\n+                    AccountAttributes account = logic.getAccount(data.getGoogleId());\n+                    if (account != null) {\n+                        String institute = StringHelper.isEmpty(account.institute) ? \"None\" : account.institute;\n+                        data.setInstitute(institute);\n+                    }\n+\n+                    // Add registration key", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0Njk3Mg==", "bodyText": "fixed. thanks!", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r397946972", "createdAt": "2020-03-25T15:29:44Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData data) -> {\n+                    AccountAttributes account = logic.getAccount(data.getGoogleId());\n+                    if (account != null) {\n+                        String institute = StringHelper.isEmpty(account.institute) ? \"None\" : account.institute;\n+                        data.setInstitute(institute);\n+                    }\n+\n+                    // Add registration key", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1Mzc2Mg=="}, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MDEwMjgwOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwMToyODozM1rOF6eCOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwODo0Mjo0MVrOF9PxoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzgxOA==", "bodyText": "Remember to write a test for it.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r396853818", "createdAt": "2020-03-24T01:28:33Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0NzI1MA==", "bodyText": "it's a private method so i checked for it in the existing classes if thats ok", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r397947250", "createdAt": "2020-03-25T15:30:04Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzgxOA=="}, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODA4MjYzMg==", "bodyText": "Of course, you are writing action-level test NOT unit-level test.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r398082632", "createdAt": "2020-03-25T18:35:02Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzgxOA=="}, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2NTkyMA==", "bodyText": "Also, if you are adding institute, just call the method as addInstitueField", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r399765920", "createdAt": "2020-03-29T08:42:41Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,34 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData, List<InstructorAttributes> instructors) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njg1MzgxOA=="}, "originalCommit": {"oid": "29a57a4141aa7e2ecbe7bdc0f22f9030e7e2e8e7"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3ODc5NDU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/output/InstructorData.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwODo0MzowOVrOF9Px0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxNDozOTo1NFrOF9SR6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2NTk3MA==", "bodyText": "Same as #9990 (comment)\nCan we improve this?", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r399765970", "createdAt": "2020-03-29T08:43:09Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/output/InstructorData.java", "diffHunk": "@@ -85,6 +93,25 @@ public void setJoinState(JoinState joinState) {\n         this.joinState = joinState;\n     }\n \n+    public String getKey() {\n+        return key;\n+    }\n+\n+    public void setKey(List<InstructorAttributes> instructorAttributes) {\n+        this.key = StringHelper.encrypt(instructorAttributes.stream()\n+                .filter((InstructorAttributes instructorAttribute)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bde3562c074896ab2fc90337d322d124a87bb6e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTgwNjk1Mw==", "bodyText": "Same comment but I copy pasted herre for ease of reference\nHey Xiao Pu,\nI think there were two alternatives I considered when doing this.\nFirst, is to put the key generation inside the constructor. However, this will place the burden of hiding the key on the developer. Since Teammates has many contributors, I opted not to do this as people who use StudentsData in the future may not be aware of this and thus send the key.\nYea, theres a runtime issue, but I think this should be fine as its Java, so it should run faster and because the performance bottleneck is at the frontend side.\nWhat do you think?", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r399806953", "createdAt": "2020-03-29T14:39:54Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/output/InstructorData.java", "diffHunk": "@@ -85,6 +93,25 @@ public void setJoinState(JoinState joinState) {\n         this.joinState = joinState;\n     }\n \n+    public String getKey() {\n+        return key;\n+    }\n+\n+    public void setKey(List<InstructorAttributes> instructorAttributes) {\n+        this.key = StringHelper.encrypt(instructorAttributes.stream()\n+                .filter((InstructorAttributes instructorAttribute)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc2NTk3MA=="}, "originalCommit": {"oid": "7bde3562c074896ab2fc90337d322d124a87bb6e"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDM4MjU2OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwNDo0MDoyNVrOGA8upQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwNDo0MDoyNVrOGA8upQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY0ODE2NQ==", "bodyText": "I think we should put this logic and the one for setting the key together since both manipulate the InstructorData object.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r403648165", "createdAt": "2020-04-05T04:40:25Z", "author": {"login": "dvrylc"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,40 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData instructor) -> {\n+                    if (instructor.getGoogleId() != null) {\n+                        AccountAttributes account = logic.getAccount(instructor.getGoogleId());\n+                        if (account != null) {\n+                            String institute = StringHelper.isEmpty(account.institute) ? \"None\" : account.institute;\n+                            instructor.setInstitute(institute);\n+                        }\n+                    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dda3a0cfecac5435f0a5d9fef158ba3c9cf568b2"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDM4MzQwOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwNDo0MjoyNVrOGA8vEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxNToxNjoxNFrOGBA2Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY0ODI3Mg==", "bodyText": "Since this method is named add..., it's probably not a good idea to be hiding (removing) things here. We could either change this method's name or leave the hiding call in the main execute() method.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r403648272", "createdAt": "2020-04-05T04:42:25Z", "author": {"login": "dvrylc"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,40 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData instructor) -> {\n+                    if (instructor.getGoogleId() != null) {\n+                        AccountAttributes account = logic.getAccount(instructor.getGoogleId());\n+                        if (account != null) {\n+                            String institute = StringHelper.isEmpty(account.institute) ? \"None\" : account.institute;\n+                            instructor.setInstitute(institute);\n+                        }\n+                    }\n+                    // Hide information\n+                    instructor.hideInformationForSearch();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dda3a0cfecac5435f0a5d9fef158ba3c9cf568b2"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcxNTU5OA==", "bodyText": "ah trudat", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r403715598", "createdAt": "2020-04-05T15:16:14Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -26,13 +29,40 @@ public void checkSpecificAccessControl() {\n         }\n     }\n \n+    private void addAdditionalSearchFields(InstructorsData instructorsData) {\n+        instructorsData.getInstructors()\n+                .forEach((InstructorData instructor) -> {\n+                    if (instructor.getGoogleId() != null) {\n+                        AccountAttributes account = logic.getAccount(instructor.getGoogleId());\n+                        if (account != null) {\n+                            String institute = StringHelper.isEmpty(account.institute) ? \"None\" : account.institute;\n+                            instructor.setInstitute(institute);\n+                        }\n+                    }\n+                    // Hide information\n+                    instructor.hideInformationForSearch();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY0ODI3Mg=="}, "originalCommit": {"oid": "dda3a0cfecac5435f0a5d9fef158ba3c9cf568b2"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDM4NzQwOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/output/InstructorsData.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwNDo0OTowOFrOGA8w2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQwNDo0OTowOFrOGA8w2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY0ODczMQ==", "bodyText": "Similar comments to https://github.com/TEAMMATES/teammates/pull/9990/files#r403644820", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r403648731", "createdAt": "2020-04-05T04:49:08Z", "author": {"login": "dvrylc"}, "path": "src/main/java/teammates/ui/webapi/output/InstructorsData.java", "diffHunk": "@@ -10,7 +10,11 @@\n  */\n public class InstructorsData extends ApiOutput {\n \n-    private final List<InstructorData> instructors;\n+    private List<InstructorData> instructors;\n+\n+    public InstructorsData() {\n+        // Use this constructor if InstructorData should be sent with the key\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dda3a0cfecac5435f0a5d9fef158ba3c9cf568b2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMDExMzg2OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMzoyOToxNVrOGBxmjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNDo0MDoyNFrOGBymYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUxNDQ0NA==", "bodyText": "Can we standardize one the information hiding? Either we want to do it in this way or use the convention hideInformationForXXX.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r404514444", "createdAt": "2020-04-07T03:29:15Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -30,9 +33,28 @@ public void checkSpecificAccessControl() {\n     public ActionResult execute() {\n         String searchKey = getNonNullRequestParamValue(Const.ParamsNames.ADMIN_SEARCH_KEY);\n         List<InstructorAttributes> instructors = logic.searchInstructorsInWholeSystem(searchKey).instructorList;\n-        InstructorsData instructorsData = new InstructorsData(instructors);\n-        // Hide information\n+\n+        List<InstructorData> instructorDataList = new ArrayList<>();\n+        for (InstructorAttributes instructor : instructors) {\n+            InstructorData instructorData = new InstructorData(instructor);\n+            // Only admin will be able to access this page, so we can go ahead and set the key\n+            instructorData.setKey(StringHelper.encrypt(instructor.getKey()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2066722ecf2ea178d2f578efde32d260a575eb3f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUzMDc4Ng==", "bodyText": "Cool, I've created a corresponding addAdditionalInformationAsXXX", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r404530786", "createdAt": "2020-04-07T04:40:24Z", "author": {"login": "hcwong"}, "path": "src/main/java/teammates/ui/webapi/action/SearchInstructorsAction.java", "diffHunk": "@@ -30,9 +33,28 @@ public void checkSpecificAccessControl() {\n     public ActionResult execute() {\n         String searchKey = getNonNullRequestParamValue(Const.ParamsNames.ADMIN_SEARCH_KEY);\n         List<InstructorAttributes> instructors = logic.searchInstructorsInWholeSystem(searchKey).instructorList;\n-        InstructorsData instructorsData = new InstructorsData(instructors);\n-        // Hide information\n+\n+        List<InstructorData> instructorDataList = new ArrayList<>();\n+        for (InstructorAttributes instructor : instructors) {\n+            InstructorData instructorData = new InstructorData(instructor);\n+            // Only admin will be able to access this page, so we can go ahead and set the key\n+            instructorData.setKey(StringHelper.encrypt(instructor.getKey()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUxNDQ0NA=="}, "originalCommit": {"oid": "2066722ecf2ea178d2f578efde32d260a575eb3f"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMDExNTM3OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/output/InstructorsData.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMzozMDoxMlrOGBxncA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMzozMDoxMlrOGBxncA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUxNDY3Mg==", "bodyText": "I think there is no need to mention this.", "url": "https://github.com/TEAMMATES/teammates/pull/9991#discussion_r404514672", "createdAt": "2020-04-07T03:30:12Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/output/InstructorsData.java", "diffHunk": "@@ -10,7 +11,13 @@\n  */\n public class InstructorsData extends ApiOutput {\n \n-    private final List<InstructorData> instructors;\n+    private List<InstructorData> instructors;\n+\n+    public InstructorsData() {\n+        // Only use this constructor for SearchInstructorsAction,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2066722ecf2ea178d2f578efde32d260a575eb3f"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3918, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}