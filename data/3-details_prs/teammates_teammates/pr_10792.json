{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NDczMTAx", "number": 10792, "title": "[#10739] Reduce number of unnecessary API requests", "bodyText": "Fixes #10739\nOutline of Solution\nAppend the following information to the following endpoints:\n\nParticipant comments to GET /responses\n\nLimited to MCQ questions as only MCQ questions can have participant comment\n\n\nInstructor privileges to GET /courses, GET /course, DELETE /bin/course, GET /sessions, POST /session\n\nDoing the above drastically reduced the number of (highly concurrent) requests done after the specified endpoint to retrieve the specified extra information.\nWhile it is true that endpoints should only return what they are designed for, the above actions have been carefully considered such that it is still justifiable to append the said information.\n\nFor example, when an instructor requests a course/session or list of courses/sessions, it is reasonable to assume that the instructor privilege should be part of the response as well. Similarly, when a response giver requests the list of feedback responses given by them, it is reasonable to assume that the giver comment should be part of the response.\nFor this reason, although one could append list of question recipients to GET /questions (therefore also reducing the number of subsequent requests), they are not tightly coupled enough to be considered part of the same response.", "createdAt": "2020-10-18T13:32:34Z", "url": "https://github.com/TEAMMATES/teammates/pull/10792", "merged": true, "mergeCommit": {"oid": "c12184ff35f94798cfab199a94b11f149bb82e80"}, "closed": true, "closedAt": "2020-10-24T12:56:38Z", "author": {"login": "wkurniawan07"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTvWbfAH2gAyNTA1NDczMTAxOjAxODZkNTlmNzg5MjhlYTFkNDcxOGQzYjRhYWE1MDBiNTkzNDFlYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVnLyWgH2gAyNTA1NDczMTAxOjdlZDlkYzA0NjM2YjcxOWM3YmZlNjM0OGVhMWNhMzBjNjYyZDgyNzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0186d59f78928ea1d4718d3b4aaa500b59341ea0", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/0186d59f78928ea1d4718d3b4aaa500b59341ea0", "committedDate": "2020-10-18T13:11:50Z", "message": "Skip loading participant comments for non-MCQ questions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b21288fedc6ecc54c59ab1c075ddf2495d74c3c9", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b21288fedc6ecc54c59ab1c075ddf2495d74c3c9", "committedDate": "2020-10-18T13:11:50Z", "message": "Separate instructor retrieval from course retrieval"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4024d36fe2cff37ab86fb752cbc798042a67384", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f4024d36fe2cff37ab86fb752cbc798042a67384", "committedDate": "2020-10-18T13:11:50Z", "message": "Append course-level instructor privilege information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "642a0da6058385bc754db02385827011275807a8", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/642a0da6058385bc754db02385827011275807a8", "committedDate": "2020-10-18T13:12:00Z", "message": "Append session-level instructor privilege information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f5e419b4a9e0075f6763246bcccc302d779444a", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7f5e419b4a9e0075f6763246bcccc302d779444a", "committedDate": "2020-10-18T13:12:05Z", "message": "Append participant comment information"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NTc5MDky", "url": "https://github.com/TEAMMATES/teammates/pull/10792#pullrequestreview-514579092", "createdAt": "2020-10-22T10:25:33Z", "commit": {"oid": "7f5e419b4a9e0075f6763246bcccc302d779444a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMDoyNTozM1rOHmbCnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMDoyNTozM1rOHmbCnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA1MDk3Mw==", "bodyText": "Nice", "url": "https://github.com/TEAMMATES/teammates/pull/10792#discussion_r510050973", "createdAt": "2020-10-22T10:25:33Z", "author": {"login": "madanalogy"}, "path": "src/web/types/instructor-privilege.ts", "diffHunk": "@@ -4,12 +4,12 @@ import { InstructorPrivilege } from './api-output';\n  * The default instructor privilege.\n  */\n export const DEFAULT_INSTRUCTOR_PRIVILEGE: InstructorPrivilege = {\n-  canModifyCourse: true,\n-  canModifySession: true,\n-  canModifyStudent: true,\n-  canSubmitSessionInSections: true,\n-  canModifyInstructor: true,\n-  canViewStudentInSections: true,\n-  canModifySessionCommentsInSections: true,\n-  canViewSessionInSections: true,\n+  canModifyCourse: false,\n+  canModifySession: false,\n+  canModifyStudent: false,\n+  canSubmitSessionInSections: false,\n+  canModifyInstructor: false,\n+  canViewStudentInSections: false,\n+  canModifySessionCommentsInSections: false,\n+  canViewSessionInSections: false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f5e419b4a9e0075f6763246bcccc302d779444a"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ed9dc04636b719c7bfe6348ea1ca30c662d8273", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7ed9dc04636b719c7bfe6348ea1ca30c662d8273", "committedDate": "2020-10-24T08:48:49Z", "message": "Merge branch 'master' into bandwidth"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4203, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}