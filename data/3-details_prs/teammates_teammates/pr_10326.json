{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMDczMTIz", "number": 10326, "title": "[#10299] UAT Round 3 fixes", "bodyText": "Part of #10299\n\nPrevented users from typing in floating point numbers for both constsum options and constsum recipients\nFix comments not being available on MCQ questions\n\nDue to the component using the default values instead of the value passed by the parent", "createdAt": "2020-07-17T11:54:03Z", "url": "https://github.com/TEAMMATES/teammates/pull/10326", "merged": true, "mergeCommit": {"oid": "99436f3bb6fb0679ebc8dfcce6bed213f3e31495"}, "closed": true, "closedAt": "2020-07-21T06:50:37Z", "author": {"login": "ccyccyccy"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1zm-iAFqTQ1MDY0NDM0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2_ZaRAH2gAyNDUxMDczMTIzOmI5ZTg0ZTQ4OTQxZGQ5ZDRjZTEwMDZmNjVjNDZmYjkyZDA3MTc4Yjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjQ0MzQx", "url": "https://github.com/TEAMMATES/teammates/pull/10326#pullrequestreview-450644341", "createdAt": "2020-07-17T13:11:47Z", "commit": {"oid": "7a28561f18d47e1c7fbdc1edad77e9b031062fea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoxMTo0N1rOGzSbGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMzoxMTo0N1rOGzSbGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQzMjQwOQ==", "bodyText": "Shouldn't this operation be performed by the receiving component instead of the event emitter?", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r456432409", "createdAt": "2020-07-17T13:11:47Z", "author": {"login": "madanalogy"}, "path": "src/web/app/components/question-types/question-edit-answer-form/constsum-options-question-edit-answer-form.component.html", "diffHunk": "@@ -5,7 +5,7 @@\n   <div class=\"col-12 col-sm-5\">\n     <input type=\"number\" class=\"form-control\"\n            [ngModel]=\"i < responseDetails.answers.length ? responseDetails.answers[i] : ''\"\n-           (ngModelChange)=\"triggerResponse(i, $event)\"\n+           (ngModelChange)=\"triggerResponse(i, Math.ceil($event))\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a28561f18d47e1c7fbdc1edad77e9b031062fea"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjc0MTkw", "url": "https://github.com/TEAMMATES/teammates/pull/10326#pullrequestreview-451274190", "createdAt": "2020-07-20T03:23:46Z", "commit": {"oid": "7a28561f18d47e1c7fbdc1edad77e9b031062fea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d19ab622cb34e88428908765c14fe5417fc60a3b", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d19ab622cb34e88428908765c14fe5417fc60a3b", "committedDate": "2020-07-20T05:42:00Z", "message": "Fix comments not available on MCQ questions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ded28666d5edabd5133a8af6708d457f520cab96", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ded28666d5edabd5133a8af6708d457f520cab96", "committedDate": "2020-07-20T05:54:19Z", "message": "Prevent users from typing in floating point numbers"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a28561f18d47e1c7fbdc1edad77e9b031062fea", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7a28561f18d47e1c7fbdc1edad77e9b031062fea", "committedDate": "2020-07-17T11:50:21Z", "message": "Prevent users from typing in floating point numbers"}, "afterCommit": {"oid": "ded28666d5edabd5133a8af6708d457f520cab96", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ded28666d5edabd5133a8af6708d457f520cab96", "committedDate": "2020-07-20T05:54:19Z", "message": "Prevent users from typing in floating point numbers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNjY2NDU2", "url": "https://github.com/TEAMMATES/teammates/pull/10326#pullrequestreview-451666456", "createdAt": "2020-07-20T14:35:05Z", "commit": {"oid": "ded28666d5edabd5133a8af6708d457f520cab96"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "577be9f33368ac29ca53b8dd92df2faa5645881b", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/577be9f33368ac29ca53b8dd92df2faa5645881b", "committedDate": "2020-07-20T14:36:32Z", "message": "Merge branch 'master' into 10299-uat-fix-2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzMxNjY5", "url": "https://github.com/TEAMMATES/teammates/pull/10326#pullrequestreview-451731669", "createdAt": "2020-07-20T15:44:12Z", "commit": {"oid": "577be9f33368ac29ca53b8dd92df2faa5645881b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNTo0NDoxMlrOG0UFSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNTo0NDoxMlrOG0UFSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzUwODE3MA==", "bodyText": "I think it is better to put this line to around L45 (i.e. Every time model gets changed, the boolean value should also be changed).", "url": "https://github.com/TEAMMATES/teammates/pull/10326#discussion_r457508170", "createdAt": "2020-07-20T15:44:12Z", "author": {"login": "xpdavid"}, "path": "src/web/app/components/question-submission-form/question-submission-form.component.ts", "diffHunk": "@@ -90,18 +90,18 @@ export class QuestionSubmissionFormComponent implements OnInit {\n   saveCommentEvent: EventEmitter<number> = new EventEmitter();\n \n   visibilityStateMachine: VisibilityStateMachine;\n-  allowedToHaveParticipantComment: boolean;\n+  allowedToHaveParticipantComment: boolean = false;\n \n   constructor(private feedbackQuestionsService: FeedbackQuestionsService,\n               private feedbackResponseService: FeedbackResponsesService) {\n     this.visibilityStateMachine =\n         this.feedbackQuestionsService.getNewVisibilityStateMachine(\n             this.model.giverType, this.model.recipientType);\n-    this.allowedToHaveParticipantComment =\n-        this.feedbackQuestionsService.isAllowedToHaveParticipantComment(this.model.questionType);\n   }\n \n   ngOnInit(): void {\n+    this.allowedToHaveParticipantComment =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "577be9f33368ac29ca53b8dd92df2faa5645881b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0cb3e637246fc93d582422693cabe014114daac", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d0cb3e637246fc93d582422693cabe014114daac", "committedDate": "2020-07-21T04:10:12Z", "message": "Move allowedToHaveParticipantComment to set on model change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTIwMTUz", "url": "https://github.com/TEAMMATES/teammates/pull/10326#pullrequestreview-452120153", "createdAt": "2020-07-21T04:36:50Z", "commit": {"oid": "d0cb3e637246fc93d582422693cabe014114daac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9e84e48941dd9d4ce1006f65c46fb92d07178b8", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b9e84e48941dd9d4ce1006f65c46fb92d07178b8", "committedDate": "2020-07-21T05:29:46Z", "message": "Merge branch 'master' into 10299-uat-fix-2"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4297, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}