{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1Mjc5ODUw", "number": 10893, "title": "[#10682] Instructor copying sessions: show spinner while copying is in progress", "bodyText": "Fixes #10682\nOutline of Solution\n\n\n\nThe loading icon is added to the copy button in the html file. A boolean isCopying is used to indicate whether the system is copying. If the value of isCopying is true, then the loading icon will be shown. Otherwise, the icon will not be shown.", "createdAt": "2020-12-24T11:48:31Z", "url": "https://github.com/TEAMMATES/teammates/pull/10893", "merged": true, "mergeCommit": {"oid": "22fc6390112871f0fd08f610791625baef17d572"}, "closed": true, "closedAt": "2021-06-26T04:56:20Z", "author": {"login": "hhdqirui"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdpSKnagH2gAyNTQ1Mjc5ODUwOjJjZWVmNWYxY2YxMDNlM2I1NDFmOGY4NGU2NzgyYzZkZDI3OWQ0NGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABekXnhlgH2gAyNTQ1Mjc5ODUwOjNhNmYyOWU1M2YzNGIxYTMzNGVhYTQ3YzI0MDM0OTZjMzY4MDRkMmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ceef5f1cf103e3b541f8f84e6782c6dd279d44d", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/2ceef5f1cf103e3b541f8f84e6782c6dd279d44d", "committedDate": "2020-12-24T11:38:01Z", "message": "Add spinner for copy button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c818beec236e08a3635f722bd3ddc5fe4061ff8", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/1c818beec236e08a3635f722bd3ddc5fe4061ff8", "committedDate": "2020-12-24T11:53:45Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9862805c637b5b516bd2d91bb715915a8578041", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f9862805c637b5b516bd2d91bb715915a8578041", "committedDate": "2020-12-24T12:31:45Z", "message": "Fix syntax error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c35e41149c54f8ca4ec1c22d0912044514392cc1", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c35e41149c54f8ca4ec1c22d0912044514392cc1", "committedDate": "2020-12-24T12:33:21Z", "message": "Merge branch '10682-add-spinner-for-copying-sessions' of https://github.com/hhdqirui/teammates into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4eeee8b235f886962d2f10fbd9b86a43a8703ce1", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/4eeee8b235f886962d2f10fbd9b86a43a8703ce1", "committedDate": "2020-12-25T08:32:45Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64ef0c21db8423be26221e202e9e8daccabfc30a", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/64ef0c21db8423be26221e202e9e8daccabfc30a", "committedDate": "2020-12-26T06:27:51Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTAyMjk1", "url": "https://github.com/TEAMMATES/teammates/pull/10893#pullrequestreview-558902295", "createdAt": "2020-12-27T03:52:08Z", "commit": {"oid": "64ef0c21db8423be26221e202e9e8daccabfc30a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fbbc036bdb1a7e800b52c220a50f7df9425bdcb", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/0fbbc036bdb1a7e800b52c220a50f7df9425bdcb", "committedDate": "2020-12-27T07:54:02Z", "message": "Change finish time of loading spinner and its style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "428baff1e294991935a1fdb5685d53659bb94d85", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/428baff1e294991935a1fdb5685d53659bb94d85", "committedDate": "2020-12-27T09:24:18Z", "message": "Move loading spinner in front of icon in copy button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b3a9da70fcedef57ccca690110da2d4d1250cdb", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/8b3a9da70fcedef57ccca690110da2d4d1250cdb", "committedDate": "2020-12-27T09:26:20Z", "message": "Remove redundant attribute for loading spinner"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0c7da3c553ec91b0ab8feba458474295401cf95", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a0c7da3c553ec91b0ab8feba458474295401cf95", "committedDate": "2020-12-28T05:06:38Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9db1a8b726297ed9fe3c10bc5d417322aaec50c2", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9db1a8b726297ed9fe3c10bc5d417322aaec50c2", "committedDate": "2020-12-28T06:07:22Z", "message": "Attempt to fix check problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e84c9034c3e169d0ae50f4c8626e297ea5213d5f", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e84c9034c3e169d0ae50f4c8626e297ea5213d5f", "committedDate": "2020-12-28T06:07:37Z", "message": "Attempt to fix check problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b89fc49b98b50130f05ef211298abb88da4b996", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9b89fc49b98b50130f05ef211298abb88da4b996", "committedDate": "2020-12-28T06:57:46Z", "message": "Attempt to fix travis error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87806891330337179fb83ce2d10a25561a4e0a60", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/87806891330337179fb83ce2d10a25561a4e0a60", "committedDate": "2020-12-28T06:57:59Z", "message": "Attempt to fix travis error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a0b68280c5ddbb3b73652df5cff2b178dfb8996a", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a0b68280c5ddbb3b73652df5cff2b178dfb8996a", "committedDate": "2020-12-28T09:12:59Z", "message": "Tigger travis build 2"}, "afterCommit": {"oid": "87806891330337179fb83ce2d10a25561a4e0a60", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/87806891330337179fb83ce2d10a25561a4e0a60", "committedDate": "2020-12-28T06:57:59Z", "message": "Attempt to fix travis error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTcwMTc0MDcy", "url": "https://github.com/TEAMMATES/teammates/pull/10893#pullrequestreview-570174072", "createdAt": "2021-01-18T05:09:29Z", "commit": {"oid": "87806891330337179fb83ce2d10a25561a4e0a60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQwNTowOToyOVrOIVaLxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQwNTowOToyOVrOIVaLxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTMyMDAwNg==", "bodyText": "Why not use .pipe(finalize(...)). That way, you only need to set the isCopying in one place. See the other places with the loading spinner", "url": "https://github.com/TEAMMATES/teammates/pull/10893#discussion_r559320006", "createdAt": "2021-01-18T05:09:29Z", "author": {"login": "t-cheepeng"}, "path": "src/web/app/pages-instructor/instructor-session-edit-page/instructor-session-edit-page.component.ts", "diffHunk": "@@ -263,7 +265,9 @@ export class InstructorSessionEditPageComponent extends InstructorSessionBasePag\n             this.showCopyStatusMessage();\n           });\n         }\n-      }, (resp: ErrorMessageOutput) => { this.statusMessageService.showErrorToast(resp.error.message); });\n+        this.sessionEditFormModel.isCopying = false;\n+      }, (resp: ErrorMessageOutput) => { this.statusMessageService.showErrorToast(resp.error.message); })\n+      .catch(() => this.sessionEditFormModel.isCopying = false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87806891330337179fb83ce2d10a25561a4e0a60"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32a5ce37632530b928382e10663cabdb4083da80", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/32a5ce37632530b928382e10663cabdb4083da80", "committedDate": "2021-05-09T14:27:29Z", "message": "Last time testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "020a7424307e5e7e5ac9466e79b62eb8936c0dee", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/020a7424307e5e7e5ac9466e79b62eb8936c0dee", "committedDate": "2021-05-18T09:26:23Z", "message": "Merge with master and resolve conflicts later"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "819c710cf42969be4abf7ddaa72bde475347679f", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/819c710cf42969be4abf7ddaa72bde475347679f", "committedDate": "2021-05-19T03:24:36Z", "message": "Resolve merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52a1437131c980c0181860da9b74ea24ad4bbe9a", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/52a1437131c980c0181860da9b74ea24ad4bbe9a", "committedDate": "2021-05-19T06:19:25Z", "message": "Fix spinner is still spinning after error and exiting copying"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dceed4df909a8f6cbc0b3b1d01edbe9301c15f5", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/1dceed4df909a8f6cbc0b3b1d01edbe9301c15f5", "committedDate": "2021-05-19T06:51:16Z", "message": "Fix checkstyle problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "075ccd930f65ff05f4e4be05eea0217074ffb2db", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/075ccd930f65ff05f4e4be05eea0217074ffb2db", "committedDate": "2021-05-24T01:33:50Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53b8163ff78028528bbec47a83979890be47ccb1", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/53b8163ff78028528bbec47a83979890be47ccb1", "committedDate": "2021-05-29T10:17:43Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fcfee465de40d41b5dd926ce11aaa1b23a2d0b0", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3fcfee465de40d41b5dd926ce11aaa1b23a2d0b0", "committedDate": "2021-05-31T07:04:35Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6029cc6b340ed60efdd1e50e093e56cf19c2a589", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6029cc6b340ed60efdd1e50e093e56cf19c2a589", "committedDate": "2021-06-07T01:10:25Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07a3b9e5ff90abb04d227e289dc2ee2f7690194d", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/07a3b9e5ff90abb04d227e289dc2ee2f7690194d", "committedDate": "2021-06-14T07:24:04Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjgzNDcxNzc5", "url": "https://github.com/TEAMMATES/teammates/pull/10893#pullrequestreview-683471779", "createdAt": "2021-06-15T01:05:41Z", "commit": {"oid": "07a3b9e5ff90abb04d227e289dc2ee2f7690194d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2b9f1f2e04664407d2cd897b288c90ea0f01e7f", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b2b9f1f2e04664407d2cd897b288c90ea0f01e7f", "committedDate": "2021-06-21T03:27:54Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Njg4Mzg5NTE4", "url": "https://github.com/TEAMMATES/teammates/pull/10893#pullrequestreview-688389518", "createdAt": "2021-06-21T12:56:15Z", "commit": {"oid": "b2b9f1f2e04664407d2cd897b288c90ea0f01e7f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2620c84bf21a407ecef4be77776fdc8710f278ab", "author": {"user": {"login": "hhdqirui", "name": "wuqirui"}}, "url": "https://github.com/TEAMMATES/teammates/commit/2620c84bf21a407ecef4be77776fdc8710f278ab", "committedDate": "2021-06-23T07:45:16Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjkwNzI1NTY5", "url": "https://github.com/TEAMMATES/teammates/pull/10893#pullrequestreview-690725569", "createdAt": "2021-06-23T14:20:25Z", "commit": {"oid": "2620c84bf21a407ecef4be77776fdc8710f278ab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a6f29e53f34b1a334eaa47c2403496c36804d2f", "author": {"user": {"login": "rrtheonlyone", "name": "Rahul Rajesh"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3a6f29e53f34b1a334eaa47c2403496c36804d2f", "committedDate": "2021-06-26T01:20:39Z", "message": "Merge branch 'master' into 10682-add-spinner-for-copying-sessions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4183, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}