{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NTcwODcz", "number": 10689, "title": "[#10612] Improve Mobile UI", "bodyText": "Fixes #10612\nOutline of Solution\nCreate mobile specific styling in scss to address the issue mentioned.\nFixed:\npaddings and line breaks\n\nLeft some small buffer so that texts don't eat into the edge of the device.\nModal popup for space intensive message/note/instruction\n\nReplace text editor in mobile UI\n\nMight want to know exactly what is expected from a mobile user (as personally I have not used TEAMMATES on my phone before)", "createdAt": "2020-09-04T10:51:33Z", "url": "https://github.com/TEAMMATES/teammates/pull/10689", "merged": true, "mergeCommit": {"oid": "8a57df33fd46774644c9d6cdae3ee84c71ab9ecb"}, "closed": true, "closedAt": "2021-05-22T09:24:29Z", "author": {"login": "moziliar"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFi5XKgH2gAyNDc5NTcwODczOjMwOGRjYTgwOTAxODIxZWMzMDM0ZGVjNWIzYmYwMWNhMzdkNDM2YmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeZNQ_QgH2gAyNDc5NTcwODczOjY3YzljY2UxN2MyOTdhMGU1MmFmNjVhN2E5OTI1MTA4NzE4ZTU0ZGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "308dca80901821ec3034dec5b3bf01ca37d436ba", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/308dca80901821ec3034dec5b3bf01ca37d436ba", "committedDate": "2020-09-04T10:46:17Z", "message": "Remove redundant padding in mobile view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a623c4ea28f2b72252159c2c9869a2031ee8036", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/6a623c4ea28f2b72252159c2c9869a2031ee8036", "committedDate": "2020-09-04T12:50:09Z", "message": "Move text on top of page to popup modal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d71bbf12fdd55b60c0d289ac8f2fae98bd6a38e", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/4d71bbf12fdd55b60c0d289ac8f2fae98bd6a38e", "committedDate": "2020-09-04T13:16:17Z", "message": "Replace rich text with textarea in mobile view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/89c85525bfe2e4f7130040341d1484a58e5219e5", "committedDate": "2020-09-08T05:51:45Z", "message": "Fix lint"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "35b06558cf8e53946d867bdfdbb79aa3071fc13a", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/35b06558cf8e53946d867bdfdbb79aa3071fc13a", "committedDate": "2020-09-07T16:05:11Z", "message": "Fix lint"}, "afterCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/89c85525bfe2e4f7130040341d1484a58e5219e5", "committedDate": "2020-09-08T05:51:45Z", "message": "Fix lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0ODgxOTYx", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-484881961", "createdAt": "2020-09-09T10:43:14Z", "commit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMDo0MzoxNFrOHPBduw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMDo0MzoxNFrOHPBduw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUxNDY4Mw==", "bodyText": "Consider the second condition: feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN. Try opening a feedback submission that has closed: The prompt you generated still shows up, which is confusing because users can't actually resubmit since the submission has closed.\nYou can add this condition check, which should work, though it'd be even better if you can find some way to tie the prompt to this specific place (so there's only 1 place to change if a new condition needs to be added)", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485514683", "createdAt": "2020-09-09T10:43:14Z", "author": {"login": "ChooJeremy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.html", "diffHunk": "@@ -35,7 +35,7 @@ <h4>Previewing Session as\n     </div>\n   </div>\n </div>\n-<div class=\"row\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">\n+<div class=\"row mobile-invisible\" *ngIf=\"feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzODE1MTQ3", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-483815147", "createdAt": "2020-09-08T05:59:48Z", "commit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNTo1OTo0OFrOHONyIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNTo1OTo0OFrOHONyIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY2NzkzNw==", "bodyText": "This might be dangerous. Consider an answer already saved as rich text (with all those formatting): what are you going to display here?", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r484667937", "createdAt": "2020-09-08T05:59:48Z", "author": {"login": "wkurniawan07"}, "path": "src/web/app/components/question-types/question-edit-answer-form/text-question-edit-answer-form.component.html", "diffHunk": "@@ -1,4 +1,5 @@\n-<tm-rich-text-editor [richText]=\"responseDetails.answer\" (richTextChange)=\"triggerResponseDetailsChange('answer', $event)\" [isDisabled]=\"isDisabled\"></tm-rich-text-editor>\n+<textarea class=\"form-control mobile-visible\" [ngModel]=\"responseDetails.answer\" (ngModelChange)=\"triggerResponseDetailsChange('answer', $event)\" [disabled]=\"isDisabled\"></textarea>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89c85525bfe2e4f7130040341d1484a58e5219e5"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/641c9958fe703b50ab9dcc5cb199e3cfbfa61639", "committedDate": "2020-09-09T14:48:29Z", "message": "Change text editor UI"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDkxODY4", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-485091868", "createdAt": "2020-09-09T14:50:15Z", "commit": {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDo1MDoxNVrOHPLMNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDo1MDoxNVrOHPLMNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY3NDAzNg==", "bodyText": "@wkurniawan07 this should address the issue? It simply hides the toolbar on init. Do you think screen resizing should be considered too?", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r485674036", "createdAt": "2020-09-09T14:50:15Z", "author": {"login": "moziliar"}, "path": "src/web/app/components/rich-text-editor/rich-text-editor.component.ts", "diffHunk": "@@ -34,6 +34,9 @@ export class RichTextEditorComponent implements OnInit {\n \n   ngOnInit(): void {\n     this.init = this.getEditorSettings();\n+    if (window.innerWidth < 768) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "641c9958fe703b50ab9dcc5cb199e3cfbfa61639"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "committedDate": "2020-09-09T14:59:38Z", "message": "Add condition for modal popup when session is not open"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67b4d826e4642cd474130338c7eac91e40ca7106", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/67b4d826e4642cd474130338c7eac91e40ca7106", "committedDate": "2020-09-09T14:57:04Z", "message": "Add condition for modal popup when session is not open"}, "afterCommit": {"oid": "63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/63019ab1455ae0b7f99b9eb096f0fb13a3d58be5", "committedDate": "2020-09-09T14:59:38Z", "message": "Add condition for modal popup when session is not open"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ac4b4644e72bbd635be250f26a90efbf0417975", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/2ac4b4644e72bbd635be250f26a90efbf0417975", "committedDate": "2020-09-09T15:02:17Z", "message": "Add mobile invisible class to redundant line break"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/d5a2e9ba816251d4580dcb95455525280de8f3f3", "committedDate": "2020-09-10T04:27:34Z", "message": "Fix lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NDQ2Nzk5", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-487446799", "createdAt": "2020-09-14T06:26:16Z", "commit": {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNjoyNjoxNlrOHRFcig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNjoyNjoxNlrOHRFcig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3NzA2Ng==", "bodyText": "I don't think this works... on doing local testing, I am still seeing the \"Note On Submission\" prompt pop up when viewing the submission of a closed session.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r487677066", "createdAt": "2020-09-14T06:26:16Z", "author": {"login": "ChooJeremy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -190,6 +190,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n             'You are not authorized to view this page.');\n       });\n     });\n+\n+    // Display note on submission on mobile device\n+    if (window.innerWidth < 768 && this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d5a2e9ba816251d4580dcb95455525280de8f3f3"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e9a0f7e4faa6ac8768b2c7574cbb2e6326be3eb", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/2e9a0f7e4faa6ac8768b2c7574cbb2e6326be3eb", "committedDate": "2020-09-22T02:54:32Z", "message": "Move mobile submission modal to after question load"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjI2Mjc3", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-493226277", "createdAt": "2020-09-22T08:21:01Z", "commit": {"oid": "2e9a0f7e4faa6ac8768b2c7574cbb2e6326be3eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaea9ecc60240b89d2abdbf1dba4e81c8dc6f554", "author": {"user": null}, "url": "https://github.com/TEAMMATES/teammates/commit/aaea9ecc60240b89d2abdbf1dba4e81c8dc6f554", "committedDate": "2020-09-24T15:11:30Z", "message": "WIP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb4e00a3bee3a3b30c3776643fa8ba1de64a54b8", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/cb4e00a3bee3a3b30c3776643fa8ba1de64a54b8", "committedDate": "2020-12-14T15:13:14Z", "message": "Merge branch 'master' into 10612/improve-mobile-ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e68df148a773f6fe3a5bafb9a474ea482d08273", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6e68df148a773f6fe3a5bafb9a474ea482d08273", "committedDate": "2020-12-15T08:55:48Z", "message": "Fix lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f706b84046267e15ce7424810a8c5a7703c0ecdf", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f706b84046267e15ce7424810a8c5a7703c0ecdf", "committedDate": "2020-12-20T08:30:30Z", "message": "Remove resize event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d0f596e1b4984b078aa0800047e08e83ceb1a4b", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/0d0f596e1b4984b078aa0800047e08e83ceb1a4b", "committedDate": "2020-12-20T08:32:38Z", "message": "Retain toolbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/398092b5742f51af9d60a84f8ff4e9ff2db2ee0d", "committedDate": "2020-12-22T04:00:12Z", "message": "Merge branch 'master' into 10612/improve-mobile-ui"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MjE2MTgy", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-557216182", "createdAt": "2020-12-22T16:44:11Z", "commit": {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODQ3ODcx", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-558847871", "createdAt": "2020-12-26T05:19:15Z", "commit": {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToxOToxNVrOILg9TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToxOToxNVrOILg9TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk0NTIyOA==", "bodyText": "Could you refactor 768 into a descriptive variable? Future developers might not understand where the value is coming from. You could even add a short comment that the threshold comes from the corresponding scss file.", "url": "https://github.com/TEAMMATES/teammates/pull/10689#discussion_r548945228", "createdAt": "2020-12-26T05:19:15Z", "author": {"login": "madanalogy"}, "path": "src/web/app/pages-session/session-submission-page/session-submission-page.component.ts", "diffHunk": "@@ -311,6 +311,15 @@ export class SessionSubmissionPageComponent implements OnInit, AfterViewInit {\n         }\n \n         this.loadFeedbackQuestions();\n+\n+        // Display note on submission on mobile device\n+        if (this.feedbackSessionSubmissionStatus === FeedbackSessionSubmissionStatus.OPEN && window.innerWidth < 768) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "398092b5742f51af9d60a84f8ff4e9ff2db2ee0d"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3363e215bb62f193f855bda7bba49bdc6ab5f39", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d3363e215bb62f193f855bda7bba49bdc6ab5f39", "committedDate": "2021-05-16T07:42:14Z", "message": "Name magic number with description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0d970f54305aff59c41728b0c2922986209ea7f", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f0d970f54305aff59c41728b0c2922986209ea7f", "committedDate": "2021-05-16T07:42:30Z", "message": "Merge branch 'master' into 10612/improve-mobile-ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85803dc14dbb121e1714eb1f7bfb59613ef615dd", "author": {"user": {"login": "moziliar", "name": "Mo Zongran"}}, "url": "https://github.com/TEAMMATES/teammates/commit/85803dc14dbb121e1714eb1f7bfb59613ef615dd", "committedDate": "2021-05-18T00:44:25Z", "message": "Merge branch 'master' into 10612/improve-mobile-ui"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjY2MTY1OTYy", "url": "https://github.com/TEAMMATES/teammates/pull/10689#pullrequestreview-666165962", "createdAt": "2021-05-22T09:03:24Z", "commit": {"oid": "85803dc14dbb121e1714eb1f7bfb59613ef615dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67c9cce17c297a0e52af65a7a9925108718e54da", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/67c9cce17c297a0e52af65a7a9925108718e54da", "committedDate": "2021-05-22T09:03:49Z", "message": "Merge branch 'master' into 10612/improve-mobile-ui"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4256, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}