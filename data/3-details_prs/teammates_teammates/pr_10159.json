{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MDA4NDcz", "number": 10159, "title": "[#10140] Add comment search functionality in the frontend", "bodyText": "Fixes #10140\nStill WIP but just want to get some feedback on the structure and components implemented.\nCurrently, key changes include\n- Added a SearchParams to encapsulate the search form data \n- Added SearchCommentsTable which contains CommentListSectionData which contains CommentListResponseCommentData which has the ResponseOutput and CommentTableModel. >ll transformation is done in search.service\nQuestions\nWould it be better to have comment-result-table component be split further down into child components like in student-list component?\nAny issues with the data transformation?\n\nScreenshot:", "createdAt": "2020-06-03T07:13:53Z", "url": "https://github.com/TEAMMATES/teammates/pull/10159", "merged": true, "mergeCommit": {"oid": "fa429a22fd1f26011233be7ee15924bfe9ce685a"}, "closed": true, "closedAt": "2020-06-06T01:50:18Z", "author": {"login": "t-cheepeng"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnP6lvAH2gAyNDI3MDA4NDczOjM4MDlhMzYyODViMjkwZWQwZmVjZWZmNWEyODFjMWQxN2YwNjUxN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoctYnAH2gAyNDI3MDA4NDczOmZjZTFkZjcwNWFiNjE4ODRjMmQ1YjAyZjg3OTI0NDY5Yzk1MTY4OWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3809a36285b290ed0feceff5a281c1d17f06517c", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/3809a36285b290ed0feceff5a281c1d17f06517c", "committedDate": "2020-06-02T07:41:42Z", "message": "Add checkboxes to search bar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMjg5ODMy", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-423289832", "createdAt": "2020-06-03T07:32:58Z", "commit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwNzozMjo1OFrOGePkVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwNzo1MjowNVrOGeQMTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2NTUyNg==", "bodyText": "Avoid naming like responseComments? If you remember the DB entity relation, the name refers to a different thing.", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434365526", "createdAt": "2020-06-03T07:32:58Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.html", "diffHunk": "@@ -0,0 +1,26 @@\n+<div class=\"card border border-primary mb-4\">\n+  <div class=\"card-header text-white bg-primary font-weight-bold\">Questions, responses, comments on responses</div>\n+  <div class=\"card-body p-4 row\" *ngFor=\"let sessions of commentTables\">\n+    <div class=\"font-weight-bold col-md-3\">Session: {{sessions.sessionName}} {{sessions.courseId}}</div>\n+    <div class=\"col-md-9\">\n+      <div *ngFor=\"let section of sessions.sections\" class=\"card p-0 border border-primary mb-5\">\n+        <div class=\"card-header bg-light-blue\">\n+          <b>Question {{section.questionNumber}}</b> {{section.questionText}}\n+        </div>\n+        <div *ngFor=\"let responseComment of section.responseComments\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3MTUyNA==", "bodyText": "Is it necessary to define the interface here? The structure of API output is far enough?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434371524", "createdAt": "2020-06-03T07:44:20Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,30 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { CommentTableModel } from \"../../../components/comment-box/comment-table/comment-table.component\";\n+import { SearchCommentsTable } from \"../instructor-search-page.component\";\n+import { ResponseOutput } from \"../../../../types/api-output\";\n+\n+export interface CommentListSectionData {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDMzOQ==", "bodyText": "Actually there is a bad pattern here where the child component changes the value from the parent component.", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374339", "createdAt": "2020-06-03T07:49:25Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts", "diffHunk": "@@ -9,8 +10,14 @@ import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n   styleUrls: ['./instructor-search-bar.component.scss'],\n })\n export class InstructorSearchBarComponent implements OnInit {\n-  @Input() searchKey: string = '';\n-  @Output() searched: EventEmitter<string> = new EventEmitter<string>();\n+\n+  @Input() searchParams: SearchParams = {\n+    searchKey: '',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDY1MQ==", "bodyText": "I would suggest to use two-way data binding here [(searchParams)]=\"searchParams\"", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374651", "createdAt": "2020-06-03T07:49:59Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.html", "diffHunk": "@@ -1,4 +1,6 @@\n-<tm-instructor-search-bar (searched)=\"search($event)\" [searchKey]=\"searchKey\"></tm-instructor-search-bar>\n+<tm-instructor-search-bar (searched)=\"search($event)\" [searchParams]=\"searchParams\"></tm-instructor-search-bar>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NDk2Nw==", "bodyText": "The type definition should be in src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts right?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434374967", "createdAt": "2020-06-03T07:50:39Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.ts", "diffHunk": "@@ -18,6 +16,24 @@ export interface SearchStudentsTable {\n   sections: StudentListSectionData[];\n }\n \n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {\n+  courseId: string;\n+  sessionName: string;\n+  sections: CommentListSectionData[];\n+}\n+\n+/**\n+ * Parameters inputted by user to be used in search\n+ */\n+export interface SearchParams {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTE3Nw==", "bodyText": "The type definition should be in src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts right?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434375177", "createdAt": "2020-06-03T07:51:01Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-page.component.ts", "diffHunk": "@@ -18,6 +16,24 @@ export interface SearchStudentsTable {\n   sections: StudentListSectionData[];\n }\n \n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM3NTc1Nw==", "bodyText": "Why touching the irrelevant method? Creating a new method maybe?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434375757", "createdAt": "2020-06-03T07:52:05Z", "author": {"login": "xpdavid"}, "path": "src/web/services/search.service.ts", "diffHunk": "@@ -36,16 +44,24 @@ export class SearchService {\n     private linkService: LinkService,\n   ) {}\n \n-  searchInstructor(searchKey: string): Observable<InstructorSearchResult> {\n-    return this.searchStudents(searchKey).pipe(\n-      map((studentsRes: Students) => this.getCoursesWithSections(studentsRes)),\n-      mergeMap((coursesWithSections: SearchStudentsTable[]) =>\n-        forkJoin([\n-          of(coursesWithSections),\n-          this.getPrivileges(coursesWithSections),\n-        ]),\n-      ),\n-      map((res: [SearchStudentsTable[], InstructorPrivilege[]]) => this.combinePrivileges(res)),\n+  searchInstructor(searchKey: string, isSearchForStudents: boolean, isSearchForComments: boolean): Observable<InstructorSearchResult> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d045ad0e7f7a0ab971b85fd4aa64220a166c4151"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzOTE3Mjk5", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-423917299", "createdAt": "2020-06-03T20:47:48Z", "commit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0Nzo0OFrOGesxbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDo0OToxMVrOGes0LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDAxNQ==", "bodyText": "When writing documentation, it is a good practice to mention what it is but not how it going to be used (because it is already revealed in the code).", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844015", "createdAt": "2020-06-03T20:47:48Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,25 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { FeedbackSession, QuestionOutput } from \"../../../../types/api-output\";\n+\n+/**\n+ * Data object for communication with child comment result component", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDQ0MA==", "bodyText": "I guess you may even use CommentSearchResult here", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844440", "createdAt": "2020-06-03T20:48:38Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/comment-result-table/comment-result-table.component.ts", "diffHunk": "@@ -0,0 +1,25 @@\n+import { Component, Input, OnInit } from '@angular/core';\n+import { FeedbackSession, QuestionOutput } from \"../../../../types/api-output\";\n+\n+/**\n+ * Data object for communication with child comment result component\n+ */\n+export interface SearchCommentsTable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDcxNw==", "bodyText": "Why the event is not used?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434844717", "createdAt": "2020-06-03T20:49:11Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts", "diffHunk": "@@ -9,8 +18,16 @@ import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n   styleUrls: ['./instructor-search-bar.component.scss'],\n })\n export class InstructorSearchBarComponent implements OnInit {\n-  @Input() searchKey: string = '';\n-  @Output() searched: EventEmitter<string> = new EventEmitter<string>();\n+\n+  @Input() searchParams: SearchParams = {\n+    searchKey: '',\n+    isSearchForStudents: true,\n+    isSearchForComments: false\n+  }\n+\n+  @Output() searched: EventEmitter<SearchParams> = new EventEmitter();\n+\n+  @Output() searchParamsChange: EventEmitter<SearchParams> = new EventEmitter();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MDc5NDAw", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-424079400", "createdAt": "2020-06-04T03:36:54Z", "commit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMzozNjo1NFrOGe0sJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwMzozNzo0MFrOGe0s1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MzczMg==", "bodyText": "The 2-way binding does not happen magically if you do not fire the event searchParamsChange.emit(newSearchParams)", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434973732", "createdAt": "2020-06-04T03:36:54Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.ts", "diffHunk": "@@ -9,8 +18,16 @@ import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n   styleUrls: ['./instructor-search-bar.component.scss'],\n })\n export class InstructorSearchBarComponent implements OnInit {\n-  @Input() searchKey: string = '';\n-  @Output() searched: EventEmitter<string> = new EventEmitter<string>();\n+\n+  @Input() searchParams: SearchParams = {\n+    searchKey: '',\n+    isSearchForStudents: true,\n+    isSearchForComments: false\n+  }\n+\n+  @Output() searched: EventEmitter<SearchParams> = new EventEmitter();\n+\n+  @Output() searchParamsChange: EventEmitter<SearchParams> = new EventEmitter();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDg0NDcxNw=="}, "originalCommit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk3MzkxMQ==", "bodyText": "Why your current implementation work is because here you do 2-way binding for  searchParams.isSearchForStudents (i.e. you are still changes the value in the child component)", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r434973911", "createdAt": "2020-06-04T03:37:40Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.html", "diffHunk": "@@ -9,11 +9,21 @@\n     </div>\n     <div class=\"form-group\">\n       <div class=\"input-group\">\n-        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKey\" (keyup.enter)=\"search()\"\n+        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchParams.searchKey\" (keyup.enter)=\"search()\"\n             placeholder=\"Your search keyword\">\n           <div class=\"input-group-append\">\n             <button class=\"btn btn-primary\" (click)=\"search()\">Search</button>\n           </div>\n+        <div class=\"input-group mt-md-1\">\n+          <div class=\"col-md-3\">\n+            <input type=\"checkbox\" class=\"form-check-inline\" id=\"studentsCheckbox\" [(ngModel)]=\"searchParams.isSearchForStudents\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3adb38261dfcb9196d0ef768136297a7f58bf657"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MTY4NzEy", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-424168712", "createdAt": "2020-06-04T07:23:34Z", "commit": {"oid": "6a64e4f8666652fdc2135a89d57631a7845bcb2a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MTcyODY4", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-424172868", "createdAt": "2020-06-04T07:29:29Z", "commit": {"oid": "6a64e4f8666652fdc2135a89d57631a7845bcb2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwNzoyOToyOVrOGe5Ocg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwNzoyOToyOVrOGe5Ocg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA0ODA1MA==", "bodyText": "Try search triggerModelChange method in the code base and you will find that you don't need to write this so verbosely.", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r435048050", "createdAt": "2020-06-04T07:29:29Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-instructor/instructor-search-page/instructor-search-bar/instructor-search-bar.component.html", "diffHunk": "@@ -9,11 +9,33 @@\n     </div>\n     <div class=\"form-group\">\n       <div class=\"input-group\">\n-        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"searchKey\" (keyup.enter)=\"search()\"\n-            placeholder=\"Your search keyword\">\n+        <input type=\"text\" class=\"form-control\" [ngModel]=\"searchParams.searchKey\"\n+          (ngModelChange)=\"triggerSearchParamsChangeEvent({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a64e4f8666652fdc2135a89d57631a7845bcb2a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a1fcee6b16815aeab0923fca16fbca852c30937", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7a1fcee6b16815aeab0923fca16fbca852c30937", "committedDate": "2020-06-04T09:20:29Z", "message": "Add comment search service and result component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "751c37e70d06f060c0e788d178fd843b18fdb6da", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/751c37e70d06f060c0e788d178fd843b18fdb6da", "committedDate": "2020-06-04T09:20:32Z", "message": "Add response and model pipe to result table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "121bb2a11f3e48c4d12e54492f6674e667dba0be", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/121bb2a11f3e48c4d12e54492f6674e667dba0be", "committedDate": "2020-06-04T09:20:33Z", "message": "Shift interfaces and add method to search service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0fe330931f3cfb826ce27f574fde5b7dc42c3aa", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f0fe330931f3cfb826ce27f574fde5b7dc42c3aa", "committedDate": "2020-06-04T09:20:33Z", "message": "Update doc and remove two way binding from child"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0996413532a9f93549d59512e9fa2eccd1fce8fd", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/0996413532a9f93549d59512e9fa2eccd1fce8fd", "committedDate": "2020-06-04T09:20:33Z", "message": "Update snapshots and fix lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42de62d60eaae7d05282407f6d54c09063afb62a", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/42de62d60eaae7d05282407f6d54c09063afb62a", "committedDate": "2020-06-04T09:34:12Z", "message": "Fix typo in CommentSearchResults"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22d351ab937fda45988b23d99be782a280b6322b", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/22d351ab937fda45988b23d99be782a280b6322b", "committedDate": "2020-06-04T09:34:25Z", "message": "Merge branch 'master' into 10140-search-frontend"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a64e4f8666652fdc2135a89d57631a7845bcb2a", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/6a64e4f8666652fdc2135a89d57631a7845bcb2a", "committedDate": "2020-06-04T07:13:55Z", "message": "Make backend constructor public\n\nThis is just to make the backend compilable.\nOnce backend changes have been merged, will take\nall the backend changes instead"}, "afterCommit": {"oid": "22d351ab937fda45988b23d99be782a280b6322b", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/22d351ab937fda45988b23d99be782a280b6322b", "committedDate": "2020-06-04T09:34:25Z", "message": "Merge branch 'master' into 10140-search-frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fa0ebdda6f089af9b0e56e7388d590679cb37e0", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/9fa0ebdda6f089af9b0e56e7388d590679cb37e0", "committedDate": "2020-06-04T10:27:46Z", "message": "Simplify event triggering for search bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "312994f1f363ebcee178b5fccaecd4327de3571f", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/312994f1f363ebcee178b5fccaecd4327de3571f", "committedDate": "2020-06-05T07:56:07Z", "message": "Merge branch 'master' into 10140-search-frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/aa0425d70c6eaedc64418598ff5aff9fe1685bac", "committedDate": "2020-06-05T08:38:10Z", "message": "Integrate backend results into frontend search"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTc5Nzc5", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-425179779", "createdAt": "2020-06-05T10:24:52Z", "commit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTgwMDIz", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-425180023", "createdAt": "2020-06-05T10:25:11Z", "commit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoyNToxMlrOGfpEBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoyNToxMlrOGfpEBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzMTgxMw==", "bodyText": "Thanks for catching that haha", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r435831813", "createdAt": "2020-06-05T10:25:12Z", "author": {"login": "madanalogy"}, "path": "src/main/java/teammates/ui/webapi/output/CommentSearchResultData.java", "diffHunk": "@@ -41,10 +41,10 @@ public CommentSearchResultData(FeedbackSessionAttributes session,\n         for (FeedbackResponseAttributes response : responses) {\n             output.add(ResponseOutput.builder()\n                     .withResponseId(response.getId())\n-                    .withGiver(bundle.responseGiverTable.get(response.giver))\n+                    .withGiver(bundle.responseGiverTable.get(response.getId()))\n                     .withGiverEmail(response.giver)\n                     .withGiverSection(response.giverSection)\n-                    .withRecipient(bundle.responseRecipientTable.get(response.recipient))\n+                    .withRecipient(bundle.responseRecipientTable.get(response.getId()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTQwNjIw", "url": "https://github.com/TEAMMATES/teammates/pull/10159#pullrequestreview-425540620", "createdAt": "2020-06-05T18:42:38Z", "commit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxODo0MjozOFrOGf5gZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxODo0MjozOFrOGf5gZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjEwMTIyMA==", "bodyText": "We should have some doc here?", "url": "https://github.com/TEAMMATES/teammates/pull/10159#discussion_r436101220", "createdAt": "2020-06-05T18:42:38Z", "author": {"login": "xpdavid"}, "path": "src/web/services/search.service.ts", "diffHunk": "@@ -51,6 +57,12 @@ export class SearchService {\n     );\n   }\n \n+  searchComment(searchKey: string): Observable<InstructorSearchResult> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0425d70c6eaedc64418598ff5aff9fe1685bac"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c91879eb469af7f3d69839482d59578dab72fada", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c91879eb469af7f3d69839482d59578dab72fada", "committedDate": "2020-06-06T01:09:27Z", "message": "Add comment for method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fce1df705ab61884c2d5b02f87924469c951689e", "author": {"user": {"login": "t-cheepeng", "name": "t-cheepeng"}}, "url": "https://github.com/TEAMMATES/teammates/commit/fce1df705ab61884c2d5b02f87924469c951689e", "committedDate": "2020-06-06T01:09:58Z", "message": "Merge branch 'master' into 10140-search-frontend"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4337, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}