{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MDE1ODcx", "number": 10229, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1NTozOVrOEIQiHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1ODoxOVrOEIQmKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MDk0OTQwOnYy", "diffSide": "RIGHT", "path": "src/web/services/session-result-csv.service.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1NTozOVrOGoHDpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1NTozOVrOGoHDpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMTg0Nw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/TEAMMATES/teammates/pull/10229#discussion_r444711847", "createdAt": "2020-06-24T07:55:39Z", "author": {"login": "xpdavid"}, "path": "src/web/services/session-result-csv.service.ts", "diffHunk": "@@ -97,11 +97,25 @@ export class SessionResultCsvService {\n     const header: string[] = ['Team', \"Giver's Full Name\", \"Giver's Last Name\", \"Giver's Email\", \"Recipient's Team\",\n       \"Recipient's Full Name\", \"Recipient's Last Name\", \"Recipient's Email\",\n       ...this.getQuestionSpecificHeaders(question.feedbackQuestion)];\n-    csvRows.push(header);\n \n-    // TODO add participant comment header\n+    const isParticipantCommentsOnResponsesAllowed: boolean =\n+        this.getIsParticipantCommentsOnResponsesAllowed(question.feedbackQuestion);\n+    if (isParticipantCommentsOnResponsesAllowed) {\n+      header.push(\"Giver's Comments\");\n+    }\n+\n+    const isInstructorCommentsOnResponsesAllowed: boolean =\n+        this.getIsInstructorCommentsOnResponsesAllowed(question.feedbackQuestion);\n+    if (isInstructorCommentsOnResponsesAllowed) {\n+      const maxNumOfInstructorComments: number = question.allResponses\n+          .map((response: ResponseOutput) => response.instructorComments.length)\n+          .reduce((prev: number, cur: number) => Math.max(prev, cur), 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b724ba3c1e875832cf6cdefb514efff24f26918"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MDk1OTc5OnYy", "diffSide": "RIGHT", "path": "src/web/types/question-details-impl/feedback-msq-question-details.impl.ts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1ODoxOVrOGoHJ7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzo1ODoxOVrOGoHJ7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxMzQ1Mg==", "bodyText": "Should be true for MSQ also", "url": "https://github.com/TEAMMATES/teammates/pull/10229#discussion_r444713452", "createdAt": "2020-06-24T07:58:19Z", "author": {"login": "xpdavid"}, "path": "src/web/types/question-details-impl/feedback-msq-question-details.impl.ts", "diffHunk": "@@ -57,4 +57,11 @@ export class FeedbackMsqQuestionDetailsImpl extends AbstractFeedbackMcqMsqQuesti\n     return statsRows;\n   }\n \n+  isParticipantCommentsOnResponsesAllowed(): boolean {\n+    return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b724ba3c1e875832cf6cdefb514efff24f26918"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3868, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}