{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MzY3Njg1", "number": 10225, "title": "[#10213] Add animations for all collapsable tabs", "bodyText": "Part of #10213\nMost changes in this PR are mainly wrapping elements with [ngbCollapse].\nNote that this PR is mainly a workaround as the lack of animation for [ngbCollapse] is currently being worked on by ng-bootstrap. Follow the progression at this thread.\nWe should revert parts of this PR when they do a release for proper animations for collapsing.\nAdded animations for:\n\nResult page question collapsing\nInstructor help section\nTemplate question modal expanding\nStudent list page\n\nSome samples:", "createdAt": "2020-06-23T07:11:29Z", "url": "https://github.com/TEAMMATES/teammates/pull/10225", "merged": true, "mergeCommit": {"oid": "521027adecfc81b9d4329a80eb7ba6968fe26b94"}, "closed": true, "closedAt": "2020-06-24T08:06:29Z", "author": {"login": "ccyccyccy"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuACq_gH2gAyNDM4MzY3Njg1OmUwMTJkZTI1YTUzMjdiOTNmMzJmMDMxYTA4YzNjNGY2ZjEwY2FlZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuUI4YAH2gAyNDM4MzY3Njg1OmU0ZjkwM2Y5ZDQ3MzgyOTY0OTVlN2M0YzUyNzQwYjEyYzgxMTU0MGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e012de25a5327b93f32f031a08c3c4f6f10caef1", "committedDate": "2020-06-23T07:09:31Z", "message": "Add animations for all collapsable tabs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NTA0Njc4", "url": "https://github.com/TEAMMATES/teammates/pull/10225#pullrequestreview-435504678", "createdAt": "2020-06-23T07:18:08Z", "commit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxODowOFrOGncVbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxOTo1MlrOGncYzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMTg4NA==", "bodyText": "This part is the main part of the PR, adapted mainly from https://stackoverflow.com/a/8331169 and https://stackoverflow.com/a/40143101\nmax-height: 99999999px; because our content is variable height, but we need a fixed height to animate.\ndisplay: block !important; to override display: none of the default collapse class. Otherwise animation would not play.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444011884", "createdAt": "2020-06-23T07:18:08Z", "author": {"login": "ccyccyccy"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;\n+    overflow: visible;\n+    visibility: visible;\n+    animation: myExpand .35s ease-in-out;\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMjc0OQ==", "bodyText": "Changed this because the collapse class sets display: none by default, which conflicts with the change. This is basically the same end result.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444012749", "createdAt": "2020-06-23T07:19:52Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/page.component.html", "diffHunk": "@@ -5,7 +5,7 @@\n   <button class=\"navbar-toggler d-lg-none\" type=\"button\" (click)=\"toggleCollapse()\" [attr.aria-expanded]=\"!isCollapsed\" aria-label=\"Toggle navigation\">\n     <span class=\"navbar-toggler-icon\"></span>\n   </button>\n-  <div class=\"collapse navbar-collapse\" [ngbCollapse]=\"isCollapsed\">\n+  <div class=\"navbar-collapse\" [ngStyle]=\"{display: isCollapsed ? 'none' : 'block'}\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff804e1001a262106c5e3ad1a7326ff2f60f1d38", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ff804e1001a262106c5e3ad1a7326ff2f60f1d38", "committedDate": "2020-06-23T09:20:34Z", "message": "Typo fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjcwOTYw", "url": "https://github.com/TEAMMATES/teammates/pull/10225#pullrequestreview-435670960", "createdAt": "2020-06-23T11:00:17Z", "commit": {"oid": "ff804e1001a262106c5e3ad1a7326ff2f60f1d38"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98", "committedDate": "2020-06-23T11:44:28Z", "message": "Update snapshots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1ODk1MDI4", "url": "https://github.com/TEAMMATES/teammates/pull/10225#pullrequestreview-435895028", "createdAt": "2020-06-23T15:22:38Z", "commit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMjozOFrOGnueBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMzoxMVrOGnufnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwODk5OA==", "bodyText": "Let's rename myExpand to a more proper name.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444308998", "createdAt": "2020-06-23T15:22:38Z", "author": {"login": "wkurniawan07"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwOTQwNQ==", "bodyText": "What's the difference between this and the 800px defined above?", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444309405", "createdAt": "2020-06-23T15:23:11Z", "author": {"login": "wkurniawan07"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb5446d09901d59ada7f951b4c7ff356c47f26d6", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/eb5446d09901d59ada7f951b4c7ff356c47f26d6", "committedDate": "2020-06-24T04:26:46Z", "message": "Rename animation more properly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b3e4965a1f87e34688f07bf9337a5aca009bb2", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b6b3e4965a1f87e34688f07bf9337a5aca009bb2", "committedDate": "2020-06-24T04:48:00Z", "message": "Add collapse animation as well"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MzM4NDQ4", "url": "https://github.com/TEAMMATES/teammates/pull/10225#pullrequestreview-436338448", "createdAt": "2020-06-24T05:42:15Z", "commit": {"oid": "b6b3e4965a1f87e34688f07bf9337a5aca009bb2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f903f9d4738296495e7c4c52740b12c811540c", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e4f903f9d4738296495e7c4c52740b12c811540c", "committedDate": "2020-06-24T06:34:24Z", "message": "Merge branch 'master' into 10213-UI-UX-animation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4361, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}