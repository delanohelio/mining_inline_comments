{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMTkyMTEz", "number": 10329, "title": "[#10299] Refactor instructor help page", "bodyText": "Part of #10299\nThis significantly refactors the instructor help page:\n\nReduced many repetitions in how the help panel header/content are constructed. Now there is one central component which controls the structure of one help panel.\nChanged the presentation of help page from button + panel to collapsible panel (like V6 counterpart)\nRestored the search functionality\n\nAllows for multiple keywords search as well as phrase search by surrounding the terms with \" (like Google search)\n\n\n\n\nImplementation details:\n\nI have to use hidden attribute instead of ngIf when hiding/showing the help panels because I need the text contents to be accessible at all times, in order for the words inside to be indexed for search.\n\nFor this reason I implement a new collapseAnim animation, which behaves similar as the existing one but making use of height: 0, overflow: hidden instead of ngIf", "createdAt": "2020-07-17T15:11:51Z", "url": "https://github.com/TEAMMATES/teammates/pull/10329", "merged": true, "mergeCommit": {"oid": "c4f45f71c72017571b7e0b47af2c900cf7d88946"}, "closed": true, "closedAt": "2020-07-24T04:52:56Z", "author": {"login": "wkurniawan07"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc12GoTgBqjM1NTg4MDA2ODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc37ezvAH2gAyNDUxMTkyMTEzOjg2YmRiODA1NjY1MmEyNzRjNTcwZDYzYmM4NWE4YTU5NDBkYzI5OWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43b7001268bc8909234b169506a8280274c7ae10", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/43b7001268bc8909234b169506a8280274c7ae10", "committedDate": "2020-07-17T14:56:16Z", "message": "Collapse all questions when new search is initiated"}, "afterCommit": {"oid": "b4157c2380cdb3ceb5c3726e2a499882571da1d1", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b4157c2380cdb3ceb5c3726e2a499882571da1d1", "committedDate": "2020-07-17T16:05:56Z", "message": "Collapse all questions when new search is initiated"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4157c2380cdb3ceb5c3726e2a499882571da1d1", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/b4157c2380cdb3ceb5c3726e2a499882571da1d1", "committedDate": "2020-07-17T16:05:56Z", "message": "Collapse all questions when new search is initiated"}, "afterCommit": {"oid": "c7d10dee3c84d26b77a3b97a66bf916a0d3d2968", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c7d10dee3c84d26b77a3b97a66bf916a0d3d2968", "committedDate": "2020-07-17T16:55:00Z", "message": "Collapse all questions when new search is initiated"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c7d10dee3c84d26b77a3b97a66bf916a0d3d2968", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/c7d10dee3c84d26b77a3b97a66bf916a0d3d2968", "committedDate": "2020-07-17T16:55:00Z", "message": "Collapse all questions when new search is initiated"}, "afterCommit": {"oid": "7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164", "committedDate": "2020-07-18T05:40:45Z", "message": "Allow searching phrases surrounded by quotes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzI3MzYy", "url": "https://github.com/TEAMMATES/teammates/pull/10329#pullrequestreview-451327362", "createdAt": "2020-07-20T06:30:30Z", "commit": {"oid": "7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMDozMFrOGz615Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMToyOFrOGz638A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NDYyOQ==", "bodyText": "Can we remove the #questions? Don't think they are used anymore.", "url": "https://github.com/TEAMMATES/teammates/pull/10329#discussion_r457094629", "createdAt": "2020-07-20T06:30:30Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/pages-help/instructor-help-page/instructor-help-courses-section/instructor-help-courses-section.component.html", "diffHunk": "@@ -1,514 +1,356 @@\n <div>\n-  <h2 class=\"color-blue\" *ngIf=\"showQuestion.length === 0 || showQuestion.includes(true)\">Courses</h2>\n+  <h2 class=\"color-blue\" *ngIf=\"!key || showQuestion.length > 0\">Courses</h2>\n   <!-- Section -->\n-  <h4 *ngIf=\"displaySubsection(showQuestion, 0, 5)\">Enrolling Students in Courses</h4>\n+  <h4 *ngIf=\"displaySubsection(0, 5)\">Enrolling Students in Courses</h4>\n   <!-- Question -->\n-  <div class=\"instr-help-qn-first\" *ngIf=\"showQuestion.length === 0 || showQuestion[0]\" #question id=\"{{CoursesSectionQuestions.COURSE_ADD_STUDENTS}}\">\n-    <p>\n-      <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]= !questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\" [attr.aria-expanded]=\"!questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\">\n-      How do I add students to a course?\n-      </button>\n-    </p>\n-    <div *ngIf=\"questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\" @collapseAnim>\n-      <div class=\"card\">\n-        <div class=\"card-body\">\n-          <p>\n-            There are two ways to enroll students in a course:\n-          </p>\n-          <ul>\n-            <li>\n-              From the <b>Home</b> page, click on the <button class=\"btn btn-primary btn-sm\">Students</button> button of the corresponding course, and choose <b>Enroll</b>.\n-            </li>\n-            <li>\n-              From the <b>Courses</b> page, click on the <button class=\"btn btn-secondary btn-sm\">Enroll</button> button of the corresponding course.\n-            </li>\n-          </ul>\n-        </div>\n-      </div>\n-      <br/>\n-    </div>\n-  </div>\n+  <tm-instructor-help-panel class=\"instr-help-qn-first\" #question [hidden]=\"key && !showQuestion.includes(CoursesSectionQuestions.COURSE_ADD_STUDENTS)\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NTE1Mg==", "bodyText": "Instead of repeating (headerClick)=\"togglePanel($event)\" for every single example, can't we use just use a two-way binding for isPanelExpanded?", "url": "https://github.com/TEAMMATES/teammates/pull/10329#discussion_r457095152", "createdAt": "2020-07-20T06:31:28Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/pages-help/instructor-help-page/instructor-help-courses-section/instructor-help-courses-section.component.html", "diffHunk": "@@ -1,514 +1,356 @@\n <div>\n-  <h2 class=\"color-blue\" *ngIf=\"showQuestion.length === 0 || showQuestion.includes(true)\">Courses</h2>\n+  <h2 class=\"color-blue\" *ngIf=\"!key || showQuestion.length > 0\">Courses</h2>\n   <!-- Section -->\n-  <h4 *ngIf=\"displaySubsection(showQuestion, 0, 5)\">Enrolling Students in Courses</h4>\n+  <h4 *ngIf=\"displaySubsection(0, 5)\">Enrolling Students in Courses</h4>\n   <!-- Question -->\n-  <div class=\"instr-help-qn-first\" *ngIf=\"showQuestion.length === 0 || showQuestion[0]\" #question id=\"{{CoursesSectionQuestions.COURSE_ADD_STUDENTS}}\">\n-    <p>\n-      <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]= !questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\" [attr.aria-expanded]=\"!questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\">\n-      How do I add students to a course?\n-      </button>\n-    </p>\n-    <div *ngIf=\"questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\" @collapseAnim>\n-      <div class=\"card\">\n-        <div class=\"card-body\">\n-          <p>\n-            There are two ways to enroll students in a course:\n-          </p>\n-          <ul>\n-            <li>\n-              From the <b>Home</b> page, click on the <button class=\"btn btn-primary btn-sm\">Students</button> button of the corresponding course, and choose <b>Enroll</b>.\n-            </li>\n-            <li>\n-              From the <b>Courses</b> page, click on the <button class=\"btn btn-secondary btn-sm\">Enroll</button> button of the corresponding course.\n-            </li>\n-          </ul>\n-        </div>\n-      </div>\n-      <br/>\n-    </div>\n-  </div>\n+  <tm-instructor-help-panel class=\"instr-help-qn-first\" #question [hidden]=\"key && !showQuestion.includes(CoursesSectionQuestions.COURSE_ADD_STUDENTS)\"\n+                            [id]=\"CoursesSectionQuestions.COURSE_ADD_STUDENTS\"\n+                            headerText=\"How do I add students to a course?\"\n+                            [isPanelExpanded]=\"questionsToCollapsed[CoursesSectionQuestions.COURSE_ADD_STUDENTS]\"\n+                            (headerClick)=\"togglePanel($event)\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92c9b04c406c0b2829a05edced64dbedde4bf8af", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/92c9b04c406c0b2829a05edced64dbedde4bf8af", "committedDate": "2020-07-20T14:03:19Z", "message": "Reduce repetition in instructor-help-*-section"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d694f911672a1983d779de119c1729d06a25cd08", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d694f911672a1983d779de119c1729d06a25cd08", "committedDate": "2020-07-20T14:03:19Z", "message": "Use div ID as identifier for search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "230cc35e2512dac3506a88e45a18b99ca9f31826", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/230cc35e2512dac3506a88e45a18b99ca9f31826", "committedDate": "2020-07-20T14:04:58Z", "message": "Add reusable component for instructor help page panel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f45fcb55ba6268c2a4a6335a4aff09637386262a", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/f45fcb55ba6268c2a4a6335a4aff09637386262a", "committedDate": "2020-07-20T14:13:22Z", "message": "Use reusable help panel component for all panels in instructor help page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "772568dddf8aa966861f6ba4cfde42f54f01fe60", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/772568dddf8aa966861f6ba4cfde42f54f01fe60", "committedDate": "2020-07-20T14:13:22Z", "message": "Change help page panel to proper collapsible cards"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3348d3f082a36e147efa1d1df0e6f598fd39330", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d3348d3f082a36e147efa1d1df0e6f598fd39330", "committedDate": "2020-07-20T14:13:22Z", "message": "Allow searching by multiple keywords and by substring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbdf8d46d2ea3cc40b1dc5619dc05a794604593f", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/cbdf8d46d2ea3cc40b1dc5619dc05a794604593f", "committedDate": "2020-07-20T14:13:23Z", "message": "Collapse all questions when new search is initiated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56b9727158aae051f24a9f7e4eb8f6bcbb3d7acc", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/56b9727158aae051f24a9f7e4eb8f6bcbb3d7acc", "committedDate": "2020-07-20T14:14:10Z", "message": "Show number of matched help panels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "714854791d4a9f41018fefdc473e885fe7b91778", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/714854791d4a9f41018fefdc473e885fe7b91778", "committedDate": "2020-07-20T14:14:10Z", "message": "Allow searching phrases surrounded by quotes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45e9395def693fd6346b6d9bac9c5473b02e529c", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/45e9395def693fd6346b6d9bac9c5473b02e529c", "committedDate": "2020-07-20T14:14:11Z", "message": "Do not render example boxes if panel is not expanded"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7fdf9d7a8ab05ae83b329ce4dbf314adf9cbf164", "committedDate": "2020-07-18T05:40:45Z", "message": "Allow searching phrases surrounded by quotes"}, "afterCommit": {"oid": "45e9395def693fd6346b6d9bac9c5473b02e529c", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/45e9395def693fd6346b6d9bac9c5473b02e529c", "committedDate": "2020-07-20T14:14:11Z", "message": "Do not render example boxes if panel is not expanded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35f5bf07265a8fb817f14394fb9eb3abb97c2560", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/35f5bf07265a8fb817f14394fb9eb3abb97c2560", "committedDate": "2020-07-21T05:36:03Z", "message": "Merge branch 'master' into uat3-help-page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMjEzMDAy", "url": "https://github.com/TEAMMATES/teammates/pull/10329#pullrequestreview-452213002", "createdAt": "2020-07-21T07:55:50Z", "commit": {"oid": "35f5bf07265a8fb817f14394fb9eb3abb97c2560"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a92fb74c0e09aef58632be422d5f6fdf14a4e006", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a92fb74c0e09aef58632be422d5f6fdf14a4e006", "committedDate": "2020-07-23T18:04:07Z", "message": "Merge branch 'master' into uat3-help-page\n\n# Conflicts:\n#\tsrc/web/app/pages-help/instructor-help-page/instructor-help-sessions-section/instructor-help-sessions-section.component.html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86bdb8056652a274c570d63bc85a8a5940dc299e", "author": {"user": {"login": "wkurniawan07", "name": "Wilson Kurniawan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/86bdb8056652a274c570d63bc85a8a5940dc299e", "committedDate": "2020-07-24T03:29:58Z", "message": "Merge branch 'master' into uat3-help-page"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4300, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}