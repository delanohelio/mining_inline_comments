{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NTExNzEy", "number": 10680, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxNzozODo0NlrOEgt8zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxNzo0NDowMlrOEgt-eA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNzQyNzMyOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/request/FeedbackSessionRemindRequest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxNzozODo0NlrOHNq3jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMzo1MTowMVrOHNs-uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NTg4NA==", "bodyText": "Should we put the request object into another package as it will incorrectly be synced to the frontend.", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484095884", "createdAt": "2020-09-06T17:38:46Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/request/FeedbackSessionRemindRequest.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package teammates.ui.webapi.request;\n+\n+/**\n+ * The request of specifying reminder emails to be sent.\n+ */\n+public class FeedbackSessionRemindRequest extends BasicRequest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d165c3f048ce043ec1d38328572bda728f87000f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDEzMDQ4OA==", "bodyText": "I don't see this as a good reason. Yes it will be synced to the front-end, but it is not incorrect unless someone decides to incorrectly use it (which should be caught during E2E test).", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484130488", "createdAt": "2020-09-06T23:51:01Z", "author": {"login": "wkurniawan07"}, "path": "src/main/java/teammates/ui/webapi/request/FeedbackSessionRemindRequest.java", "diffHunk": "@@ -0,0 +1,45 @@\n+package teammates.ui.webapi.request;\n+\n+/**\n+ * The request of specifying reminder emails to be sent.\n+ */\n+public class FeedbackSessionRemindRequest extends BasicRequest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NTg4NA=="}, "originalCommit": {"oid": "d165c3f048ce043ec1d38328572bda728f87000f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNzQzMTA3OnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/logic/core/TaskQueuesLogic.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxNzo0MzowMFrOHNq5SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMzo1MToyOVrOHNs-5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NjMyOA==", "bodyText": "If we allow both parameters and body, shouldn't that be more consistent with the REST API", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484096328", "createdAt": "2020-09-06T17:43:00Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/logic/core/TaskQueuesLogic.java", "diffHunk": "@@ -35,13 +36,18 @@ public void addDeferredTask(TaskWrapper task, long countdownTime) {\n             taskToBeAdded.countdownMillis(countdownTime);\n         }\n \n-        for (Map.Entry<String, String[]> entry : task.getParamMap().entrySet()) {\n-            String name = entry.getKey();\n-            String[] values = entry.getValue();\n+        // Task queue API only allows either parameter map or body, not both", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa92fe907c46a2f18efb69c06eee6fa32245a17e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDEzMDUzMg==", "bodyText": "No, that's not the issue. By \"task queue API\" I am referring to GAE's API. If they allow both I would have allowed both.", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484130532", "createdAt": "2020-09-06T23:51:29Z", "author": {"login": "wkurniawan07"}, "path": "src/main/java/teammates/logic/core/TaskQueuesLogic.java", "diffHunk": "@@ -35,13 +36,18 @@ public void addDeferredTask(TaskWrapper task, long countdownTime) {\n             taskToBeAdded.countdownMillis(countdownTime);\n         }\n \n-        for (Map.Entry<String, String[]> entry : task.getParamMap().entrySet()) {\n-            String name = entry.getKey();\n-            String[] values = entry.getValue();\n+        // Task queue API only allows either parameter map or body, not both", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NjMyOA=="}, "originalCommit": {"oid": "fa92fe907c46a2f18efb69c06eee6fa32245a17e"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNzQzMTYwOnYy", "diffSide": "RIGHT", "path": "src/main/java/teammates/ui/webapi/action/ActionFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxNzo0NDowMlrOHNq5jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMzo1MTo0OFrOHNs_CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NjM5OQ==", "bodyText": "Of course, we want to disallow the body for GET.", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484096399", "createdAt": "2020-09-06T17:44:02Z", "author": {"login": "xpdavid"}, "path": "src/main/java/teammates/ui/webapi/action/ActionFactory.java", "diffHunk": "@@ -116,10 +118,38 @@\n         map(ResourceURIs.STUDENT_PROFILE_PICTURE, DELETE, DeleteStudentProfilePictureAction.class);\n         map(ResourceURIs.INSTRUCTOR, PUT, UpdateInstructorAction.class);\n         map(ResourceURIs.INSTRUCTOR, POST, CreateInstructorAction.class);\n+\n+        // Cron jobs; use GET request", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7cffc495a8945359040eb388c428f9f7e54bbbd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDEzMDU2OQ==", "bodyText": "Not the issue either. Cron jobs using GET is a prescribed condition from GAE. Same thing with task queue using POST.", "url": "https://github.com/TEAMMATES/teammates/pull/10680#discussion_r484130569", "createdAt": "2020-09-06T23:51:48Z", "author": {"login": "wkurniawan07"}, "path": "src/main/java/teammates/ui/webapi/action/ActionFactory.java", "diffHunk": "@@ -116,10 +118,38 @@\n         map(ResourceURIs.STUDENT_PROFILE_PICTURE, DELETE, DeleteStudentProfilePictureAction.class);\n         map(ResourceURIs.INSTRUCTOR, PUT, UpdateInstructorAction.class);\n         map(ResourceURIs.INSTRUCTOR, POST, CreateInstructorAction.class);\n+\n+        // Cron jobs; use GET request", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA5NjM5OQ=="}, "originalCommit": {"oid": "e7cffc495a8945359040eb388c428f9f7e54bbbd"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3532, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}