{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MzY3Njg1", "number": 10225, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxODowOFrOEH1_Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMzoxMVrOEIBPNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NjYwMDAzOnYy", "diffSide": "RIGHT", "path": "src/web/styles.scss", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxODowOFrOGncVbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxODowOFrOGncVbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMTg4NA==", "bodyText": "This part is the main part of the PR, adapted mainly from https://stackoverflow.com/a/8331169 and https://stackoverflow.com/a/40143101\nmax-height: 99999999px; because our content is variable height, but we need a fixed height to animate.\ndisplay: block !important; to override display: none of the default collapse class. Otherwise animation would not play.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444011884", "createdAt": "2020-06-23T07:18:08Z", "author": {"login": "ccyccyccy"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;\n+    overflow: visible;\n+    visibility: visible;\n+    animation: myExpand .35s ease-in-out;\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NjYwNTMzOnYy", "diffSide": "RIGHT", "path": "src/web/app/page.component.html", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxOTo1MlrOGncYzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoxOTo1MlrOGncYzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxMjc0OQ==", "bodyText": "Changed this because the collapse class sets display: none by default, which conflicts with the change. This is basically the same end result.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444012749", "createdAt": "2020-06-23T07:19:52Z", "author": {"login": "ccyccyccy"}, "path": "src/web/app/page.component.html", "diffHunk": "@@ -5,7 +5,7 @@\n   <button class=\"navbar-toggler d-lg-none\" type=\"button\" (click)=\"toggleCollapse()\" [attr.aria-expanded]=\"!isCollapsed\" aria-label=\"Toggle navigation\">\n     <span class=\"navbar-toggler-icon\"></span>\n   </button>\n-  <div class=\"collapse navbar-collapse\" [ngbCollapse]=\"isCollapsed\">\n+  <div class=\"navbar-collapse\" [ngStyle]=\"{display: isCollapsed ? 'none' : 'block'}\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e012de25a5327b93f32f031a08c3c4f6f10caef1"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2ODQ0MTE1OnYy", "diffSide": "RIGHT", "path": "src/web/styles.scss", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMjozOFrOGnueBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMjozOFrOGnueBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwODk5OA==", "bodyText": "Let's rename myExpand to a more proper name.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444308998", "createdAt": "2020-06-23T15:22:38Z", "author": {"login": "wkurniawan07"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2ODQ0MzQyOnYy", "diffSide": "RIGHT", "path": "src/web/styles.scss", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNToyMzoxMVrOGnufnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNDo1OTowNFrOGoC83A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwOTQwNQ==", "bodyText": "What's the difference between this and the 800px defined above?", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444309405", "createdAt": "2020-06-23T15:23:11Z", "author": {"login": "wkurniawan07"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY0NDU3Mg==", "bodyText": "Using 99999999px for both will cause the animation to instantly expand since it is expecting a much larger height.\nThe 800px is used as a middle ground for the animation to play. The animation will play as if the max-height is 800px, but the final max-height would be 99999999px to prevent overflow issues.", "url": "https://github.com/TEAMMATES/teammates/pull/10225#discussion_r444644572", "createdAt": "2020-06-24T04:59:04Z", "author": {"login": "ccyccyccy"}, "path": "src/web/styles.scss", "diffHunk": "@@ -136,3 +136,32 @@ body {\n .editor.editor-disabled {\n   cursor: not-allowed;\n }\n+\n+@keyframes myExpand {\n+  from {\n+    opacity: 0;\n+    max-height: 0;\n+  }\n+\n+  to {\n+    opacity: 1;\n+    max-height: 800px;\n+  }\n+}\n+\n+.collapse {\n+  transition: .35s ease-in-out;\n+  opacity: 0;\n+  visibility: collapse;\n+  max-height: 0;\n+  display: block !important;\n+  overflow: hidden;\n+\n+  &.show {\n+    opacity: 1;\n+    max-height: 99999999px;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMwOTQwNQ=="}, "originalCommit": {"oid": "c1b6b6fe3a7f6e391a35b9c6ac33a2b7c5ffdd98"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3850, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}