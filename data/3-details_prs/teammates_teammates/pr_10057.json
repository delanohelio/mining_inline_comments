{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4Mzc4Njcy", "number": 10057, "title": "[#9382] Add tests for GetFeedbackSessionActionTest", "bodyText": "Part of #9382\nQuestion: I found some inconsistencies in the behavior of checkAccessControlForStudentFeedbackSubmission that affects the test cases. Should I do the change in another PR instead?", "createdAt": "2020-05-15T05:06:56Z", "url": "https://github.com/TEAMMATES/teammates/pull/10057", "merged": true, "mergeCommit": {"oid": "4cd584421b0021045e35674305f1d444af30f824"}, "closed": true, "closedAt": "2020-05-19T03:17:59Z", "author": {"login": "ccyccyccy"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchbVc3gBqjMzMzk0MjQxMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciqX4IAH2gAyNDE4Mzc4NjcyOmEzNzUwZjlhOWU0NjRlNDg2MGM4ODQ2OGMxMmEzZDUxYjQ5MzE1NjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec1b6928ee2154fb1674b7f815cd6abc056a3740", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ec1b6928ee2154fb1674b7f815cd6abc056a3740", "committedDate": "2020-05-15T05:03:27Z", "message": "Add tests for GetFeedbackSessionActionTest"}, "afterCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/ba56c9181d69aa27de7a78478a05f576767f0fa1", "committedDate": "2020-05-15T05:36:12Z", "message": "Fix other tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNDUzMzg2", "url": "https://github.com/TEAMMATES/teammates/pull/10057#pullrequestreview-412453386", "createdAt": "2020-05-15T08:36:33Z", "commit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozNjozM1rOGV7rMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwODozODozMVrOGV7vkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MDk5Mg==", "bodyText": "This test case has the same description as one already implemented. Try and think about what this new test case is doing that the other isn't already and rename accordingly.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425650992", "createdAt": "2020-05-15T08:36:33Z", "author": {"login": "madanalogy"}, "path": "src/test/java/teammates/test/cases/webapi/GetFeedbackSessionActionTest.java", "diffHunk": "@@ -113,5 +113,28 @@ protected void testAccessControl() throws Exception {\n \n         verifyAccessibleForInstructorsOfTheSameCourse(submissionParams);\n         verifyAccessibleForAdminToMasqueradeAsInstructor(submissionParams);\n+\n+        ______TS(\"only students of the same course can access\");\n+\n+        submissionParams = new String[] {\n+                Const.ParamsNames.COURSE_ID, fs.getCourseId(),\n+                Const.ParamsNames.FEEDBACK_SESSION_NAME, fs.getFeedbackSessionName(),\n+                Const.ParamsNames.INTENT, Intent.STUDENT_RESULT.toString(),\n+        };\n+\n+        verifyAccessibleForStudentsOfTheSameCourse(submissionParams);\n+        verifyInaccessibleForStudentsOfOtherCourse(submissionParams);\n+\n+        ______TS(\"only instructors of the same course can access\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY1MjExMw==", "bodyText": "This doesn't seem relevant to this PR since you're just adding tests.", "url": "https://github.com/TEAMMATES/teammates/pull/10057#discussion_r425652113", "createdAt": "2020-05-15T08:38:31Z", "author": {"login": "madanalogy"}, "path": "src/main/java/teammates/ui/webapi/action/BasicFeedbackSubmissionAction.java", "diffHunk": "@@ -67,10 +65,6 @@ protected StudentAttributes getStudentOfCourseFromRequest(String courseId) {\n      */\n     protected void checkAccessControlForStudentFeedbackSubmission(\n             StudentAttributes student, FeedbackSessionAttributes feedbackSession) {\n-        if (student == null) {\n-            throw new EntityNotFoundException(new EntityDoesNotExistException(\"Student does not exist\"));\n-        }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba56c9181d69aa27de7a78478a05f576767f0fa1"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26adb0aad17a89daea16e7ae931f877c845a1bc7", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/26adb0aad17a89daea16e7ae931f877c845a1bc7", "committedDate": "2020-05-18T03:32:23Z", "message": "Add tests for GetFeedbackSessionActionTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5540b7353141bf24ade6808545fb1d053adf592d", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/5540b7353141bf24ade6808545fb1d053adf592d", "committedDate": "2020-05-18T03:32:23Z", "message": "Fix other tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43fc433b2c16abe1cafabba945b96b8560394d0c", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/43fc433b2c16abe1cafabba945b96b8560394d0c", "committedDate": "2020-05-18T03:32:23Z", "message": "Change description of test segments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23b1cb1930cc0c42d93967247161313e87c86b8", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/e23b1cb1930cc0c42d93967247161313e87c86b8", "committedDate": "2020-05-18T03:32:23Z", "message": "Revert unrelated change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3de5ab63c5ea2d2c31c696974801006ae33d1c8", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d3de5ab63c5ea2d2c31c696974801006ae33d1c8", "committedDate": "2020-05-18T08:30:09Z", "message": "Merge branch 'master' into 9382-test-getfeedbacksessionaction"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ff6fd6f1acfaa640bf56d1a4ac1dc8d4d6bd019", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/7ff6fd6f1acfaa640bf56d1a4ac1dc8d4d6bd019", "committedDate": "2020-05-15T09:37:56Z", "message": "Revert unrelated change"}, "afterCommit": {"oid": "d3de5ab63c5ea2d2c31c696974801006ae33d1c8", "author": {"user": {"login": "ccyccyccy", "name": "Chong Chee Yuan"}}, "url": "https://github.com/TEAMMATES/teammates/commit/d3de5ab63c5ea2d2c31c696974801006ae33d1c8", "committedDate": "2020-05-18T08:30:09Z", "message": "Merge branch 'master' into 9382-test-getfeedbacksessionaction"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNDM0NjY5", "url": "https://github.com/TEAMMATES/teammates/pull/10057#pullrequestreview-413434669", "createdAt": "2020-05-18T09:44:05Z", "commit": {"oid": "d3de5ab63c5ea2d2c31c696974801006ae33d1c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTE0MDcy", "url": "https://github.com/TEAMMATES/teammates/pull/10057#pullrequestreview-413914072", "createdAt": "2020-05-18T20:24:57Z", "commit": {"oid": "d3de5ab63c5ea2d2c31c696974801006ae33d1c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3750f9a9e464e4860c88468c12a3d51b4931561", "author": {"user": {"login": "madanalogy", "name": "Ahmed Bahajjaj"}}, "url": "https://github.com/TEAMMATES/teammates/commit/a3750f9a9e464e4860c88468c12a3d51b4931561", "committedDate": "2020-05-19T01:41:36Z", "message": "Merge branch 'master' into 9382-test-getfeedbacksessionaction"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4398, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}