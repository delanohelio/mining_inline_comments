{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5ODQ2MTgx", "number": 9937, "title": "[#9919] Remove HttpRequestService dependency from UploadEditProfilePictureModalComponent", "bodyText": "Fixes #9919\nOutline of Solution\n\nRemove HttpRequestService dependency from UploadEditProfilePictureModalComponent\nMove getProfilePicture method from UploadEditProfilePictureModalComponent to StudentProfilePageComponent\nCreate postProfilePicture method on StudentProfilePageComponent\nRefactor onUploadEdit to use RxJS pipe operator (instead of 3 layers of nested callbacks)\nAdded new attribute profilePictureEndPoint to StudentProfilePageComponent to be more DRY", "createdAt": "2020-02-01T03:29:27Z", "url": "https://github.com/TEAMMATES/teammates/pull/9937", "merged": true, "mergeCommit": {"oid": "c0bf6a4e581b738a4b8be8c93989a2cd4fe3e829"}, "closed": true, "closedAt": "2020-02-06T08:10:19Z", "author": {"login": "tiuweehan"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_tqnZAH2gAyMzY5ODQ2MTgxOmUzNDA2NmY0MDA0YWU4Y2FhOGY3ZjJhMzYwZjg5MzI0ZWY4YWM5NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBmMd6gFqTM1NDI1OTc1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e34066f4004ae8caa8f7f2a360f89324ef8ac957", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/e34066f4004ae8caa8f7f2a360f89324ef8ac957", "committedDate": "2020-01-31T11:44:26Z", "message": "Remove HttpRequestDependency from UploadEditProfilePictureModalComponent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6828a80c41bd13ba27bbb0cd71772a2f2074ed3", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/a6828a80c41bd13ba27bbb0cd71772a2f2074ed3", "committedDate": "2020-02-01T02:05:45Z", "message": "Flatten nesting of callbacks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8ec031abfcb7d0bf9f34c81a9398d71982b167e", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/d8ec031abfcb7d0bf9f34c81a9398d71982b167e", "committedDate": "2020-02-01T02:19:04Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/862a5f09eb4ab16096cfb26eeb786a070cd8ed3b", "committedDate": "2020-02-01T03:22:32Z", "message": "Update Student Profile Page Snapshot"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODcyMTY2", "url": "https://github.com/TEAMMATES/teammates/pull/9937#pullrequestreview-351872166", "createdAt": "2020-02-01T08:08:11Z", "commit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwODowODoxMlrOFkc2eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQwODoxNDoyNlrOFkc3oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTc1Mg==", "bodyText": "I think a better way is to create a service and encapsulate the API call. Maybe just student-profile-service", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373765752", "createdAt": "2020-02-01T08:08:12Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -161,14 +180,28 @@ export class StudentProfilePageComponent implements OnInit {\n     this.ngbModal.open(confirmDeleteProfilePicture);\n   }\n \n+  /**\n+   * Gets the profile picture as blob image.\n+   */\n+  getProfilePicture(): Observable<Blob> {\n+    return this.httpRequestService.get(this.profilePictureEndPoint, {}, 'blob');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTc1NA==", "bodyText": "Same here.", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373765754", "createdAt": "2020-02-01T08:08:17Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -161,14 +180,28 @@ export class StudentProfilePageComponent implements OnInit {\n     this.ngbModal.open(confirmDeleteProfilePicture);\n   }\n \n+  /**\n+   * Gets the profile picture as blob image.\n+   */\n+  getProfilePicture(): Observable<Blob> {\n+    return this.httpRequestService.get(this.profilePictureEndPoint, {}, 'blob');\n+  }\n+\n+  /**\n+   * Posts the profile picture.\n+   */\n+  postProfilePicture(formData: FormData): Observable<any> {\n+    return this.httpRequestService.post(this.profilePictureEndPoint, {}, formData);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTg3OQ==", "bodyText": "I think only if the statusCode is 404 then you should return  null", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373765879", "createdAt": "2020-02-01T08:10:47Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -112,25 +115,41 @@ export class StudentProfilePageComponent implements OnInit {\n    * Opens a modal box to upload/edit profile picture.\n    */\n   onUploadEdit(): void {\n-    const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n-    modalRef.componentInstance.profilePicLink = this.profilePicLink;\n-    modalRef.result.then((formData: FormData) => {\n-      if (!formData) {\n-        this.statusMessageService.showWarningMessage('No photo uploaded');\n-        return;\n-      }\n-\n-      this.httpRequestService.post('/student/profilePic', {}, formData)\n-          .subscribe(() => {\n-            this.statusMessageService.showSuccessMessage('Your profile picture has been saved successfully');\n-\n-            // force reload\n-            const timestamp: number = (new Date()).getTime();\n-            this.profilePicLink = `${this.backendUrl}/webapi/student/profilePic?${timestamp}&user=${this.id}`;\n-          }, (response: ErrorMessageOutput) => {\n-            this.statusMessageService.showErrorMessage(response.error.message);\n-          });\n-    }, () => {});\n+    this.getProfilePicture()\n+        // Return null if no picture is found\n+        .pipe(\n+            catchError(() => of(null)),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTkxMw==", "bodyText": "Maybe should be switchMap", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373765913", "createdAt": "2020-02-01T08:11:11Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -112,25 +115,41 @@ export class StudentProfilePageComponent implements OnInit {\n    * Opens a modal box to upload/edit profile picture.\n    */\n   onUploadEdit(): void {\n-    const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n-    modalRef.componentInstance.profilePicLink = this.profilePicLink;\n-    modalRef.result.then((formData: FormData) => {\n-      if (!formData) {\n-        this.statusMessageService.showWarningMessage('No photo uploaded');\n-        return;\n-      }\n-\n-      this.httpRequestService.post('/student/profilePic', {}, formData)\n-          .subscribe(() => {\n-            this.statusMessageService.showSuccessMessage('Your profile picture has been saved successfully');\n-\n-            // force reload\n-            const timestamp: number = (new Date()).getTime();\n-            this.profilePicLink = `${this.backendUrl}/webapi/student/profilePic?${timestamp}&user=${this.id}`;\n-          }, (response: ErrorMessageOutput) => {\n-            this.statusMessageService.showErrorMessage(response.error.message);\n-          });\n-    }, () => {});\n+    this.getProfilePicture()\n+        // Return null if no picture is found\n+        .pipe(\n+            catchError(() => of(null)),\n+        )\n+        // Open Modal and wait for user to upload picture\n+        // Throw an error if there is no picture is uploaded\n+        .pipe(\n+            flatMap((image: Blob | null) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NTk2NQ==", "bodyText": "Any reason why we don't combine pipe together into one block?\n.pipe(\n    catchError()\n    flatMap()\n    catchError()\n    xxxx\n)", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373765965", "createdAt": "2020-02-01T08:12:23Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -112,25 +115,41 @@ export class StudentProfilePageComponent implements OnInit {\n    * Opens a modal box to upload/edit profile picture.\n    */\n   onUploadEdit(): void {\n-    const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n-    modalRef.componentInstance.profilePicLink = this.profilePicLink;\n-    modalRef.result.then((formData: FormData) => {\n-      if (!formData) {\n-        this.statusMessageService.showWarningMessage('No photo uploaded');\n-        return;\n-      }\n-\n-      this.httpRequestService.post('/student/profilePic', {}, formData)\n-          .subscribe(() => {\n-            this.statusMessageService.showSuccessMessage('Your profile picture has been saved successfully');\n-\n-            // force reload\n-            const timestamp: number = (new Date()).getTime();\n-            this.profilePicLink = `${this.backendUrl}/webapi/student/profilePic?${timestamp}&user=${this.id}`;\n-          }, (response: ErrorMessageOutput) => {\n-            this.statusMessageService.showErrorMessage(response.error.message);\n-          });\n-    }, () => {});\n+    this.getProfilePicture()\n+        // Return null if no picture is found\n+        .pipe(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NjAwNQ==", "bodyText": "The error message format is for the convenient of which handler?", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373766005", "createdAt": "2020-02-01T08:13:29Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -112,25 +115,41 @@ export class StudentProfilePageComponent implements OnInit {\n    * Opens a modal box to upload/edit profile picture.\n    */\n   onUploadEdit(): void {\n-    const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n-    modalRef.componentInstance.profilePicLink = this.profilePicLink;\n-    modalRef.result.then((formData: FormData) => {\n-      if (!formData) {\n-        this.statusMessageService.showWarningMessage('No photo uploaded');\n-        return;\n-      }\n-\n-      this.httpRequestService.post('/student/profilePic', {}, formData)\n-          .subscribe(() => {\n-            this.statusMessageService.showSuccessMessage('Your profile picture has been saved successfully');\n-\n-            // force reload\n-            const timestamp: number = (new Date()).getTime();\n-            this.profilePicLink = `${this.backendUrl}/webapi/student/profilePic?${timestamp}&user=${this.id}`;\n-          }, (response: ErrorMessageOutput) => {\n-            this.statusMessageService.showErrorMessage(response.error.message);\n-          });\n-    }, () => {});\n+    this.getProfilePicture()\n+        // Return null if no picture is found\n+        .pipe(\n+            catchError(() => of(null)),\n+        )\n+        // Open Modal and wait for user to upload picture\n+        // Throw an error if there is no picture is uploaded\n+        .pipe(\n+            flatMap((image: Blob | null) => {\n+              const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n+              modalRef.componentInstance.image = image;\n+\n+              return from(modalRef.result);\n+            }),\n+            catchError(() => throwError({\n+              error: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc2NjA0OQ==", "bodyText": "Looks like you master the rxjs pipe. Great job!", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r373766049", "createdAt": "2020-02-01T08:14:26Z", "author": {"login": "xpdavid"}, "path": "src/web/app/pages-student/student-profile-page/student-profile-page.component.ts", "diffHunk": "@@ -112,25 +115,41 @@ export class StudentProfilePageComponent implements OnInit {\n    * Opens a modal box to upload/edit profile picture.\n    */\n   onUploadEdit(): void {\n-    const modalRef: NgbModalRef = this.ngbModal.open(UploadEditProfilePictureModalComponent);\n-    modalRef.componentInstance.profilePicLink = this.profilePicLink;\n-    modalRef.result.then((formData: FormData) => {\n-      if (!formData) {\n-        this.statusMessageService.showWarningMessage('No photo uploaded');\n-        return;\n-      }\n-\n-      this.httpRequestService.post('/student/profilePic', {}, formData)\n-          .subscribe(() => {\n-            this.statusMessageService.showSuccessMessage('Your profile picture has been saved successfully');\n-\n-            // force reload\n-            const timestamp: number = (new Date()).getTime();\n-            this.profilePicLink = `${this.backendUrl}/webapi/student/profilePic?${timestamp}&user=${this.id}`;\n-          }, (response: ErrorMessageOutput) => {\n-            this.statusMessageService.showErrorMessage(response.error.message);\n-          });\n-    }, () => {});\n+    this.getProfilePicture()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862a5f09eb4ab16096cfb26eeb786a070cd8ed3b"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fbacb070efa35035ab1592408b953b769b97d1b", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/8fbacb070efa35035ab1592408b953b769b97d1b", "committedDate": "2020-02-03T04:01:07Z", "message": "Merge branch 'master' into 9919-remove-dependency\n\n* master:\n  [#9382] Add ActionFactoryTest (#9931)\n  [#9918] Remove HttpRequestService dependency from StudentListComponent (#9927)\n  [#9921] Don't load all courses again when deleting/archiving courses in InstructorCoursesPageComponent (#9923)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb1cae2c6bc36724bd1c25239458c3aebc313d2a", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/bb1cae2c6bc36724bd1c25239458c3aebc313d2a", "committedDate": "2020-02-03T04:16:34Z", "message": "Consolidate pipe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80450535e8d679eddb9c2a76a8927f0516e3c742", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/80450535e8d679eddb9c2a76a8927f0516e3c742", "committedDate": "2020-02-03T04:25:08Z", "message": "Migrate profile picture methods to student profile service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dae181fd3022fb7eb41dbc8e39f671c47898b0f", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/5dae181fd3022fb7eb41dbc8e39f671c47898b0f", "committedDate": "2020-02-03T04:59:20Z", "message": "Fix failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea335b9c47412eb753b708499760cd89d92f2198", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/ea335b9c47412eb753b708499760cd89d92f2198", "committedDate": "2020-02-04T01:09:50Z", "message": "Refactor to throw error when image not uploaded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c68f9771ba759c7a9ff7360040d687adc47f37b", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/6c68f9771ba759c7a9ff7360040d687adc47f37b", "committedDate": "2020-02-04T11:59:13Z", "message": "Fix linting issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8abb25d6c9e4303c8f32fc4ca088e1307213bd2c", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/8abb25d6c9e4303c8f32fc4ca088e1307213bd2c", "committedDate": "2020-02-06T02:56:38Z", "message": "Rebuild tests"}, "afterCommit": {"oid": "6c68f9771ba759c7a9ff7360040d687adc47f37b", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/6c68f9771ba759c7a9ff7360040d687adc47f37b", "committedDate": "2020-02-04T11:59:13Z", "message": "Fix linting issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "092df9bd3762728ddc9d8fbb2e69860570bf65c3", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/092df9bd3762728ddc9d8fbb2e69860570bf65c3", "committedDate": "2020-02-06T04:47:20Z", "message": "Merge branch 'master' into 9919-remove-dependency\n\n* master:\n  [#9915] Auto-sync API request type: Intent (#9933)\n  [#9688] Resolve TinyMCE conflicts with Snapshot tests (#9932)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca57ce7243af527847f4c6df0740005aa875aa08", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/ca57ce7243af527847f4c6df0740005aa875aa08", "committedDate": "2020-02-06T02:58:12Z", "message": "Rebuild tests"}, "afterCommit": {"oid": "092df9bd3762728ddc9d8fbb2e69860570bf65c3", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/092df9bd3762728ddc9d8fbb2e69860570bf65c3", "committedDate": "2020-02-06T04:47:20Z", "message": "Merge branch 'master' into 9919-remove-dependency\n\n* master:\n  [#9915] Auto-sync API request type: Intent (#9933)\n  [#9688] Resolve TinyMCE conflicts with Snapshot tests (#9932)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTk4Nzg0", "url": "https://github.com/TEAMMATES/teammates/pull/9937#pullrequestreview-354198784", "createdAt": "2020-02-06T04:49:02Z", "commit": {"oid": "ca57ce7243af527847f4c6df0740005aa875aa08"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwNDo1MDowOFrOFmPM2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwNDo1MTowOFrOFmPNhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYzOTI1OA==", "bodyText": "Documentation?", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r375639258", "createdAt": "2020-02-06T04:50:08Z", "author": {"login": "xpdavid"}, "path": "src/web/services/student-profile.service.ts", "diffHunk": "@@ -41,4 +42,22 @@ export class StudentProfileService {\n     };\n     return this.httpRequestService.put('/student/profile', paramsMap, requestBody);\n   }\n+\n+  /**\n+   * Gets the profile picture as blob image.\n+   */\n+  getProfilePicture(): Observable<Blob> {\n+    return this.httpRequestService.get(this.profilePictureEndPoint, {}, 'blob');\n+  }\n+\n+  /**\n+   * Posts the profile picture.\n+   */\n+  postProfilePicture(formData: FormData): Observable<any> {\n+    return this.httpRequestService.post(this.profilePictureEndPoint, {}, formData);\n+  }\n+\n+  deleteProfilePictre(paramMap: { [key: string]: string }): Observable<any> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "092df9bd3762728ddc9d8fbb2e69860570bf65c3"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTYzOTQyOQ==", "bodyText": "Though personally I think it is OK to use string literal here. Depends on how you want to standardize this. Either use it for all API call or not use it.", "url": "https://github.com/TEAMMATES/teammates/pull/9937#discussion_r375639429", "createdAt": "2020-02-06T04:51:08Z", "author": {"login": "xpdavid"}, "path": "src/web/services/student-profile.service.ts", "diffHunk": "@@ -11,6 +11,7 @@ import { HttpRequestService } from './http-request.service';\n   providedIn: 'root',\n })\n export class StudentProfileService {\n+  profilePictureEndPoint: string = '/student/profilePic';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "092df9bd3762728ddc9d8fbb2e69860570bf65c3"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe66df6c2ff8949f3fd943bc61bc849f192168de", "author": {"user": {"login": "tiuweehan", "name": null}}, "url": "https://github.com/TEAMMATES/teammates/commit/fe66df6c2ff8949f3fd943bc61bc849f192168de", "committedDate": "2020-02-06T05:03:17Z", "message": "Use string literals"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MjU5NzU1", "url": "https://github.com/TEAMMATES/teammates/pull/9937#pullrequestreview-354259755", "createdAt": "2020-02-06T08:10:02Z", "commit": {"oid": "fe66df6c2ff8949f3fd943bc61bc849f192168de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4427, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}