{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MjQ5MDgw", "number": 9266, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMToxMDowNlrOEHFHdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMToxNzowNlrOELVENw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1ODU5MzE3OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/wikipedia/WikipediaPoiMenu.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMToxMDowNlrOGmRHag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMToxMDowNlrOGmRHag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc3OTQ5OA==", "bodyText": "Static method and only used in different class? Doesn't look good", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r442779498", "createdAt": "2020-06-19T11:10:06Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/wikipedia/WikipediaPoiMenu.java", "diffHunk": "@@ -357,4 +360,38 @@ public static String getWikiArticleLanguage(@NonNull OsmandApplication app,\n \t\t}\n \t\treturn preferredLanguage;\n \t}\n+\n+\tpublic static void showDownloadWikiScreen(MapActivity mapActivity) {\n+\t\tOsmandMapTileView mv = mapActivity.getMapView();\n+\t\tDownloadedRegionsLayer dl = mv.getLayerByClass(DownloadedRegionsLayer.class);\n+\t\tString filter = dl.getFilter(new StringBuilder());\n+\t\tfinal Intent intent = new Intent(mapActivity,\n+\t\t\t\tmapActivity.getMyApplication().getAppCustomization().getDownloadIndexActivity());\n+\t\tintent.putExtra(DownloadActivity.FILTER_KEY, filter);\n+\t\tintent.putExtra(DownloadActivity.FILTER_CAT, DownloadActivityType.WIKIPEDIA_FILE.getTag());\n+\t\tintent.putExtra(DownloadActivity.TAB_TO_OPEN, DownloadActivity.DOWNLOAD_TAB);\n+\t\tmapActivity.startActivity(intent);\n+\t}\n+\n+\tpublic static boolean hasWikiMapsToDownload(MapActivity ma) {\n+\t\ttry {\n+\t\t\treturn DownloadResources.findIndexItemsAt(ma.getMyApplication(), ma.getMapLocation(),\n+\t\t\t\t\tDownloadActivityType.WIKIPEDIA_FILE, false, 1).size() > 0;\n+\t\t} catch (IOException e) {\n+\t\t\treturn false;\n+\t\t}\n+\t}\n+\n+\tpublic static boolean isWikiSearch(SearchPhrase phrase) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "28247397caff355639f21b9ecd5e69c7aba9ee81"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTA5NTUyOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowODo0MVrOGqL4ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowODo0MVrOGqL4ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4ODA5NA==", "bodyText": "Bad import by design", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446888094", "createdAt": "2020-06-29T11:08:41Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "diffHunk": "@@ -22,7 +22,7 @@\n import net.osmand.plus.render.RenderingIcons;\n import net.osmand.plus.transport.TransportStopRoute;\n import net.osmand.plus.wikipedia.WikipediaDialogFragment;\n-import net.osmand.plus.wikipedia.WikipediaPoiMenu;\n+import net.osmand.plus.wikipedia.WikipediaPlugin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTA5ODU0OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowOTo0MlrOGqL6eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowOTo0MlrOGqL6eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4ODU3MA==", "bodyText": "We need to do it via OsmAndPlugin.prepareExtraTopPoiFilters and there specify all what we need for this feature.", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446888570", "createdAt": "2020-06-29T11:09:42Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "diffHunk": "@@ -160,10 +160,9 @@ public boolean displayDistanceDirection() {\n \tpublic String getNameStr() {\n \t\tString preferredLang = getPreferredMapLang();\n \t\tif (amenity.getType().isWiki()) {\n-\t\t\tMapActivity mapActivity = getMapActivity();\n-\t\t\tif (mapActivity != null) {\n-\t\t\t\tOsmandApplication app = mapActivity.getMyApplication();\n-\t\t\t\tpreferredLang = WikipediaPoiMenu.getWikiArticleLanguage(app,\n+\t\t\tWikipediaPlugin wikiPlugin = OsmandPlugin.getPlugin(WikipediaPlugin.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTA5OTExOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowOTo1MlrOGqL61A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMTowOTo1MlrOGqL61A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4ODY2MA==", "bodyText": "We need to do it via OsmAndPlugin.prepareExtraTopPoiFilters and there specify all what we need for this feature.", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446888660", "createdAt": "2020-06-29T11:09:52Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "diffHunk": "@@ -121,23 +116,18 @@ public PoiUIFilter getCustomPOIFilter() {\n \n \tpublic void prepareTopWikiFilter(@NonNull PoiUIFilter wiki) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTA5OTk2OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMDowOFrOGqL7SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMDowOFrOGqL7SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4ODc3Nw==", "bodyText": "Bad import by design, should be done via OsmandPlugin", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446888777", "createdAt": "2020-06-29T11:10:08Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "diffHunk": "@@ -10,16 +10,15 @@\n import net.osmand.osm.AbstractPoiType;\n import net.osmand.osm.MapPoiTypes;\n import net.osmand.osm.PoiCategory;\n-import net.osmand.osm.PoiType;\n import net.osmand.plus.OsmandApplication;\n+import net.osmand.plus.OsmandPlugin;\n import net.osmand.plus.R;\n import net.osmand.plus.api.SQLiteAPI;\n import net.osmand.plus.api.SQLiteAPI.SQLiteConnection;\n import net.osmand.plus.api.SQLiteAPI.SQLiteCursor;\n import net.osmand.plus.api.SQLiteAPI.SQLiteStatement;\n import net.osmand.plus.settings.backend.ApplicationMode;\n-import net.osmand.plus.wikipedia.WikipediaPoiMenu;\n-import net.osmand.util.Algorithms;\n+import net.osmand.plus.wikipedia.WikipediaPlugin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTEwMDU4OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/search/QuickSearchDialogFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMDoyMFrOGqL7pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMDoyMFrOGqL7pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4ODg2OQ==", "bodyText": "Good!", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446888869", "createdAt": "2020-06-29T11:10:20Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/search/QuickSearchDialogFragment.java", "diffHunk": "@@ -1969,21 +1971,23 @@ public void clearLastWord() {\n \t\t}\n \t}\n \n+\tprivate void onNothingFound(SearchPhrase phrase) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTEwNDAzOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMToyN1rOGqL9nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMToyN1rOGqL9nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg4OTM3NQ==", "bodyText": "Bad import by design, should be done via OsmandPlugin", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446889375", "createdAt": "2020-06-29T11:11:27Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "diffHunk": "@@ -36,16 +36,16 @@\n import net.osmand.data.RotatedTileBox;\n import net.osmand.osm.PoiType;\n import net.osmand.plus.OsmandApplication;\n+import net.osmand.plus.OsmandPlugin;\n import net.osmand.plus.R;\n import net.osmand.plus.activities.MapActivity;\n import net.osmand.plus.helpers.WaypointHelper;\n-import net.osmand.plus.poi.PoiFiltersHelper;\n import net.osmand.plus.poi.PoiUIFilter;\n import net.osmand.plus.render.RenderingIcons;\n import net.osmand.plus.routing.IRouteInformationListener;\n import net.osmand.plus.routing.RoutingHelper;\n import net.osmand.plus.views.MapTextLayer.MapTextProvider;\n-import net.osmand.plus.wikipedia.WikipediaPoiMenu;\n+import net.osmand.plus.wikipedia.WikipediaPlugin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTEwOTM4OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/builders/AmenityMenuBuilder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMzowOVrOGqMAtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToxMzowOVrOGqMAtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg5MDE2NQ==", "bodyText": "Bad import by design, should be done via OsmandPlugin", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r446890165", "createdAt": "2020-06-29T11:13:09Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/builders/AmenityMenuBuilder.java", "diffHunk": "@@ -44,6 +44,7 @@\n import net.osmand.plus.wikipedia.WikiArticleHelper;\n import net.osmand.plus.wikipedia.WikipediaArticleWikiLinkFragment;\n import net.osmand.plus.wikipedia.WikipediaDialogFragment;\n+import net.osmand.plus.wikipedia.WikipediaPlugin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3b5419b7a7cd935deb1d4816d070290269752d8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5Nzk0OTE2OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowOTozOVrOGsGaVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowOTozOVrOGsGaVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NTU3Mg==", "bodyText": "should be method\nOsmandPlugin.onGetMapObjectsLocale(Amienity, preferredLang)\nSo each plugin can deal with different object types", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r448895572", "createdAt": "2020-07-02T10:09:39Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "diffHunk": "@@ -339,7 +339,7 @@ public PointDescription getObjectName(Object o) {\n \t\t\t\tif (Algorithms.isEmpty(preferredLang)) {\n \t\t\t\t\tpreferredLang = app.getLanguage();\n \t\t\t\t}\n-\t\t\t\tpreferredLang = WikipediaPoiMenu.getWikiArticleLanguage(app,\n+\t\t\t\tpreferredLang = OsmandPlugin.onGetMapObjectsLocale(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5f3d28ed6561b1a0e59edf6ee9d6ee903ebca9b"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5Nzk0OTk3OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/wikipedia/WikipediaDialogFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowOTo1OFrOGsGa5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDowOTo1OFrOGsGa5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NTcxOA==", "bodyText": "Plugin is not needed here cause we know it's wiki", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r448895718", "createdAt": "2020-07-02T10:09:58Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/wikipedia/WikipediaDialogFragment.java", "diffHunk": "@@ -282,8 +282,9 @@ public static boolean showInstance(@NonNull FragmentActivity activity, @NonNull\n \n \t\t\tWikipediaDialogFragment wikipediaDialogFragment = new WikipediaDialogFragment();\n \t\t\twikipediaDialogFragment.setAmenity(amenity);\n-\t\t\tlang = lang != null ? lang : WikipediaPoiMenu.getWikiArticleLanguage(app,\n-\t\t\t\t\tamenity.getSupportedContentLocales(), app.getSettings().MAP_PREFERRED_LOCALE.get());\n+\t\t\tlang = lang != null ? lang : OsmandPlugin.onGetMapObjectsLocale(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5f3d28ed6561b1a0e59edf6ee9d6ee903ebca9b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5Nzk1OTI5OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDoxMjo0OVrOGsGgwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDoyMzoxM1rOGsG2SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NzIxNw==", "bodyText": "Wiki is here?", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r448897217", "createdAt": "2020-07-02T10:12:49Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "diffHunk": "@@ -486,7 +460,7 @@ public boolean editPoiFilter(PoiUIFilter filter) {\n \n \tpublic void addSelectedPoiFilter(PoiUIFilter filter) {\n \t\tif (filter.isTopWikiFilter()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5f3d28ed6561b1a0e59edf6ee9d6ee903ebca9b"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMjcyOA==", "bodyText": "Remove wikipedia top filter in poi_types.xml\nAdd plugin method - Register custom POI Filter. In wikipedia plugin add Top Wiki Filter", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r448902728", "createdAt": "2020-07-02T10:23:13Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/poi/PoiFiltersHelper.java", "diffHunk": "@@ -486,7 +460,7 @@ public boolean editPoiFilter(PoiUIFilter filter) {\n \n \tpublic void addSelectedPoiFilter(PoiUIFilter filter) {\n \t\tif (filter.isTopWikiFilter()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NzIxNw=="}, "originalCommit": {"oid": "f5f3d28ed6561b1a0e59edf6ee9d6ee903ebca9b"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5Nzk4NTMwOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDoyMDozMFrOGsGw4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDoyMDozMFrOGsGw4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMTM0NA==", "bodyText": "this line should be inside\nOsmandPlugin.getMapObjectPreferredLang(MapObject object, String defaultLanguage)", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r448901344", "createdAt": "2020-07-02T10:20:30Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/mapcontextmenu/controllers/AmenityMenuController.java", "diffHunk": "@@ -160,12 +159,8 @@ public boolean displayDistanceDirection() {\n \tpublic String getNameStr() {\n \t\tString preferredLang = getPreferredMapLang();\n \t\tif (amenity.getType().isWiki()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5f3d28ed6561b1a0e59edf6ee9d6ee903ebca9b"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMzE0OTM1OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMToxNzowNlrOGs31tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMToxNzowNlrOGs31tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTcwNTM5OA==", "bodyText": "no check for type is needed here", "url": "https://github.com/osmandapp/OsmAnd/pull/9266#discussion_r449705398", "createdAt": "2020-07-03T21:17:06Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/POIMapLayer.java", "diffHunk": "@@ -331,20 +331,19 @@ public void onClick(final View v) {\n \t@Override\n \tpublic PointDescription getObjectName(Object o) {\n \t\tif (o instanceof Amenity) {\n-\t\t\tAmenity a = (Amenity) o;\n+\t\t\tAmenity amenity = (Amenity) o;\n \t\t\tString preferredLang = app.getSettings().MAP_PREFERRED_LOCALE.get();\n \t\t\tboolean transliterateNames = app.getSettings().MAP_TRANSLITERATE_NAMES.get();\n \n-\t\t\tif (a.getType().isWiki()) {\n+\t\t\tif (amenity.getType().isWiki()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba5bb6dc9c0d88b34a2263826b430444447e1d24"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3466, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}