{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTYyNjkw", "number": 8511, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNjo0NToyOVrODhmXqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMTozNVrODh3ubg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NTU4MjUxOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/myplaces/AvailableGPXFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNjo0NToyOVrOFsa-Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNjo0NToyOVrOFsa-Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjEyMzU2Ng==", "bodyText": "Why always true for the current track?", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382123566", "createdAt": "2020-02-20T16:45:29Z", "author": {"login": "Chumva"}, "path": "OsmAnd/src/net/osmand/plus/myplaces/AvailableGPXFragment.java", "diffHunk": "@@ -605,19 +625,22 @@ public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n \n \t\t\t@Override\n \t\t\tpublic boolean onActionItemClicked(ActionMode mode, MenuItem item) {\n-\t\t\t\trunSelection(false);\n+\t\t\t\tHashMap<String, Boolean> selectedItemsFileNames = new HashMap<>();\n+\t\t\t\toriginalSelectedItems.addAll(selectedItems);\n+\t\t\t\tfor (GpxInfo gpxInfo : originalSelectedItems) {\n+\t\t\t\t\tif (gpxInfo.currentlyRecordingTrack) {\n+\t\t\t\t\t\tselectedItemsFileNames.put(CURRENT_TRACK, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93cfc83a4e7e4a10c698c1ec3a1d920010cb30d5"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODQyMTgwOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDoxNlrOFs2HvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzoxOTowN1rOFs2nGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODM4MA==", "bodyText": "No field is needed ! Fields should be created carefully and when it is not needed better to use parameter for method", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568380", "createdAt": "2020-02-21T13:00:16Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;\n+\tprivate SelectGpxTaskListener gpxTaskListener;\n \n+\tpublic void setGpxTaskListener(SelectGpxTaskListener gpxTaskListener) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU3NjQxMA==", "bodyText": "I know, but with this listener, we can get updates for necessary screens if update working in the background and it doesn`t update new screen. We have similar behaviour in DownloadIndexesThread with DownloadEvents.", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382576410", "createdAt": "2020-02-21T13:19:07Z", "author": {"login": "Chumva"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;\n+\tprivate SelectGpxTaskListener gpxTaskListener;\n \n+\tpublic void setGpxTaskListener(SelectGpxTaskListener gpxTaskListener) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODM4MA=="}, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODQyNDI0OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDo1MlrOFs2JAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDo1MlrOFs2JAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODcwNA==", "bodyText": "better to use -1 if it is going to be used. Sometimes 0 is system time", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568704", "createdAt": "2020-02-21T13:00:52Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -698,6 +715,10 @@ public void setGpxFile(GPXFile gpxFile, OsmandApplication app) {\n \t\t\tprocessPoints(app);\n \t\t}\n \n+\t\tpublic boolean isLoaded() {\n+\t\t\treturn gpxFile.modifiedTime != 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODQyNjA2OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMTozNVrOFs2KDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzoxMjoyOVrOFs2bwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODk3NQ==", "bodyText": "Field is not used anywhere", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568975", "createdAt": "2020-02-21T13:01:35Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU3MzUwNQ==", "bodyText": "This field is used for checking running SelectGpxTask in runSelection", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382573505", "createdAt": "2020-02-21T13:12:29Z", "author": {"login": "Chumva"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODk3NQ=="}, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3376, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}