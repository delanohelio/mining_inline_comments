{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTYyNjkw", "number": 8511, "title": "Fix #7763 gpx track selection", "bodyText": "", "createdAt": "2020-02-19T13:14:26Z", "url": "https://github.com/osmandapp/OsmAnd/pull/8511", "merged": true, "mergeCommit": {"oid": "4bf629f8f26a783c2848dbdcacd5c3877822ea8f"}, "closed": true, "closedAt": "2020-03-02T10:38:49Z", "author": {"login": "Dima-1"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFjhTAgH2gAyMzc3MTYyNjkwOjQxZGY5ZmZmOWVmODc5MzlkM2VmYzg3Y2U2Nzk5MzNiZDQ3YzQwZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJrTe-AH2gAyMzc3MTYyNjkwOjA2NzVlMjYyYjNlZTRhODlmOWExMmY5NGM0NGE5NmNhZDRmMDRkN2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41df9fff9ef87939d3efc87ce679933bd47c40f3", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/41df9fff9ef87939d3efc87ce679933bd47c40f3", "committedDate": "2020-02-18T15:18:45Z", "message": "Fix #7763 selected gpx file status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2697095a9933f471bf63b76ecfac5ddd8b8e95b7", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/2697095a9933f471bf63b76ecfac5ddd8b8e95b7", "committedDate": "2020-02-19T10:40:44Z", "message": "Fix remarks remove loadingFileName"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0159bc77fa95313615435337965d6e4ee795e419", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/0159bc77fa95313615435337965d6e4ee795e419", "committedDate": "2020-02-19T13:01:52Z", "message": "Fix refactoring SelectGpxTask->GpxSelectionHelper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c774bd1fc58c9735be6d3f30445a3f3dfda1d4eb", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/c774bd1fc58c9735be6d3f30445a3f3dfda1d4eb", "committedDate": "2020-02-19T13:03:43Z", "message": "Merge branch 'master' into Fix_7763_gpx_track_selection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab8a90fac33d8f33845cb4f7075ed59d908b9ea3", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ab8a90fac33d8f33845cb4f7075ed59d908b9ea3", "committedDate": "2020-02-19T13:07:57Z", "message": "Fix refactoring SelectGpxTask->GpxSelectionHelper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93cfc83a4e7e4a10c698c1ec3a1d920010cb30d5", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/93cfc83a4e7e4a10c698c1ec3a1d920010cb30d5", "committedDate": "2020-02-20T15:13:58Z", "message": "Refactoring GpxSelectionHelper"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMDYyMDEw", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#pullrequestreview-362062010", "createdAt": "2020-02-20T16:45:29Z", "commit": {"oid": "93cfc83a4e7e4a10c698c1ec3a1d920010cb30d5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNjo0NToyOVrOFsa-Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNjo0NToyOVrOFsa-Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjEyMzU2Ng==", "bodyText": "Why always true for the current track?", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382123566", "createdAt": "2020-02-20T16:45:29Z", "author": {"login": "Chumva"}, "path": "OsmAnd/src/net/osmand/plus/myplaces/AvailableGPXFragment.java", "diffHunk": "@@ -605,19 +625,22 @@ public boolean onPrepareActionMode(ActionMode mode, Menu menu) {\n \n \t\t\t@Override\n \t\t\tpublic boolean onActionItemClicked(ActionMode mode, MenuItem item) {\n-\t\t\t\trunSelection(false);\n+\t\t\t\tHashMap<String, Boolean> selectedItemsFileNames = new HashMap<>();\n+\t\t\t\toriginalSelectedItems.addAll(selectedItems);\n+\t\t\t\tfor (GpxInfo gpxInfo : originalSelectedItems) {\n+\t\t\t\t\tif (gpxInfo.currentlyRecordingTrack) {\n+\t\t\t\t\t\tselectedItemsFileNames.put(CURRENT_TRACK, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93cfc83a4e7e4a10c698c1ec3a1d920010cb30d5"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d9d09e3774073b85a714d29ee347924fad7e858", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/1d9d09e3774073b85a714d29ee347924fad7e858", "committedDate": "2020-02-21T11:31:09Z", "message": "GpxSelectionHelper refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/8e872492c77589883ff2b5280b75d5ca5f309c64", "committedDate": "2020-02-21T12:23:56Z", "message": "Refactoring gpxTaskListener"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjExODEz", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#pullrequestreview-362611813", "createdAt": "2020-02-21T13:00:16Z", "commit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDoxNlrOFs2HvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDoxNlrOFs2HvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODM4MA==", "bodyText": "No field is needed ! Fields should be created carefully and when it is not needed better to use parameter for method", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568380", "createdAt": "2020-02-21T13:00:16Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;\n+\tprivate SelectGpxTaskListener gpxTaskListener;\n \n+\tpublic void setGpxTaskListener(SelectGpxTaskListener gpxTaskListener) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjEyMTM4", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#pullrequestreview-362612138", "createdAt": "2020-02-21T13:00:52Z", "commit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDo1MlrOFs2JAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMDo1MlrOFs2JAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODcwNA==", "bodyText": "better to use -1 if it is going to be used. Sometimes 0 is system time", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568704", "createdAt": "2020-02-21T13:00:52Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -698,6 +715,10 @@ public void setGpxFile(GPXFile gpxFile, OsmandApplication app) {\n \t\t\tprocessPoints(app);\n \t\t}\n \n+\t\tpublic boolean isLoaded() {\n+\t\t\treturn gpxFile.modifiedTime != 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjEyNDYw", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#pullrequestreview-362612460", "createdAt": "2020-02-21T13:01:35Z", "commit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMTozNVrOFs2KDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxMzowMTozNVrOFs2KDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU2ODk3NQ==", "bodyText": "Field is not used anywhere", "url": "https://github.com/osmandapp/OsmAnd/pull/8511#discussion_r382568975", "createdAt": "2020-02-21T13:01:35Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -54,7 +56,12 @@\n \tprivate Map<GPXFile, Long> selectedGpxFilesBackUp = new java.util.HashMap<>();\n \tprivate SavingTrackHelper savingTrackHelper;\n \tprivate final static Log LOG = PlatformUtil.getLog(GpxSelectionHelper.class);\n+\tprivate SelectGpxTask selectGpxTask;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e872492c77589883ff2b5280b75d5ca5f309c64"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a58c0069a73800b5454f1c16e08130615206c510", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a58c0069a73800b5454f1c16e08130615206c510", "committedDate": "2020-02-21T17:03:44Z", "message": "Refactoring SelectGpxTaskListener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55363869c1ba7f8b728f6b4ae65e08763a00e8ad", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/55363869c1ba7f8b728f6b4ae65e08763a00e8ad", "committedDate": "2020-02-24T16:14:42Z", "message": "Fix modified time -1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0675e262b3ee4a89f9a12f94c44a96cad4f04d7e", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/0675e262b3ee4a89f9a12f94c44a96cad4f04d7e", "committedDate": "2020-03-02T10:38:36Z", "message": "Merge branch 'master' into Fix_7763_gpx_track_selection"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3571, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}