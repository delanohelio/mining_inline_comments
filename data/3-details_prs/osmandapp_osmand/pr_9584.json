{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MzA5OTAx", "number": 9584, "title": "Follow track", "bodyText": "", "createdAt": "2020-08-06T23:20:40Z", "url": "https://github.com/osmandapp/OsmAnd/pull/9584", "merged": true, "mergeCommit": {"oid": "8b3025c9cb7a779d380581706749427a21964b7f"}, "closed": true, "closedAt": "2020-08-20T10:43:26Z", "author": {"login": "Chumva"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_2HTtABqjM2NjI5NDc1NjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAt1YOAH2gAyNDY0MzA5OTAxOjhmMjc1Y2U4NmE3Y2U5MWZmNjg3YTA3NGQ2ZTM4NGZjMzYwNGJhMGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c7b9123368bf687563e3dc56df58d77fbeed9639", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/c7b9123368bf687563e3dc56df58d77fbeed9639", "committedDate": "2020-08-17T17:40:13Z", "message": "Fix compilation"}, "afterCommit": {"oid": "59f85d8b10181392d187dd9af62b1772b2f7450e", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/59f85d8b10181392d187dd9af62b1772b2f7450e", "committedDate": "2020-08-17T17:44:06Z", "message": "Fix compilation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bd533e496c4a6ce90c5e2c25c1bbb50153540b1", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/2bd533e496c4a6ce90c5e2c25c1bbb50153540b1", "committedDate": "2020-08-17T20:18:42Z", "message": "Add ImportTrackCard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "040de95f9a0aa0a2cf246405403d7fce8c40f6c3", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/040de95f9a0aa0a2cf246405403d7fce8c40f6c3", "committedDate": "2020-08-17T20:18:42Z", "message": "Add SelectTrackToFollowCard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c9b9f6f5c9760964baaf9a7e631c34130ffb312", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/4c9b9f6f5c9760964baaf9a7e631c34130ffb312", "committedDate": "2020-08-17T20:18:42Z", "message": "Add follow track screen initial commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "960848ecf528d1b6dbed353c304ad82fe9568c03", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/960848ecf528d1b6dbed353c304ad82fe9568c03", "committedDate": "2020-08-17T20:18:42Z", "message": "Use GpxTrackAdapter for tracks card"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66e8634bea7bc3ca80dade6ea7a5a6ec96eff0e5", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/66e8634bea7bc3ca80dade6ea7a5a6ec96eff0e5", "committedDate": "2020-08-17T20:18:43Z", "message": "Follow track second part"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d359fdd00593ee090ead9efd1cfecb4c63fe4d4", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/6d359fdd00593ee090ead9efd1cfecb4c63fe4d4", "committedDate": "2020-08-17T20:18:43Z", "message": "Add ReverseTrackCard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a719ce79123e4420ace4ed3f2764ec5b110450cb", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a719ce79123e4420ace4ed3f2764ec5b110450cb", "committedDate": "2020-08-17T20:18:43Z", "message": "Add NavigateTrackOptionsCard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a132201ab046a5881d6d8763d4e7539e124aa7df", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a132201ab046a5881d6d8763d4e7539e124aa7df", "committedDate": "2020-08-17T20:18:43Z", "message": "Show edit route screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87ef9b1a455faffcdbec6dd5f2918e0abddbbba0", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/87ef9b1a455faffcdbec6dd5f2918e0abddbbba0", "committedDate": "2020-08-17T20:18:43Z", "message": "Display follow track on first screen route prepation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccefa2c4e1ab7dc0f67059f6b2ce1f7761a90745", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ccefa2c4e1ab7dc0f67059f6b2ce1f7761a90745", "committedDate": "2020-08-17T20:18:43Z", "message": "Fix compilation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6c4456ca4a2c3a9726e906d614a44c7fe7c0948", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a6c4456ca4a2c3a9726e906d614a44c7fe7c0948", "committedDate": "2020-08-17T20:18:43Z", "message": "Remove calculate route between points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26d88ccef2e9c59bed9f0b601c3a42b64d9822e3", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/26d88ccef2e9c59bed9f0b601c3a42b64d9822e3", "committedDate": "2020-08-17T20:18:43Z", "message": "Add attach roads card"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "32aa145750395037969611f25ed0b58a32502c3b", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/32aa145750395037969611f25ed0b58a32502c3b", "committedDate": "2020-08-17T20:04:19Z", "message": "Add attach roads card"}, "afterCommit": {"oid": "26d88ccef2e9c59bed9f0b601c3a42b64d9822e3", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/26d88ccef2e9c59bed9f0b601c3a42b64d9822e3", "committedDate": "2020-08-17T20:18:43Z", "message": "Add attach roads card"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba3fe6f35c3fcf4e31900e5ccc9a0912b3ab66f3", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ba3fe6f35c3fcf4e31900e5ccc9a0912b3ab66f3", "committedDate": "2020-08-17T20:35:51Z", "message": "Show attach roads dialog from follow track"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c8dcffb5f45eb59bc60c16dd064b25a6615674e", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/8c8dcffb5f45eb59bc60c16dd064b25a6615674e", "committedDate": "2020-08-17T21:33:05Z", "message": "Fix import track selection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/2f712adfd78565433ff78c1848965ef6515a3bf9", "committedDate": "2020-08-17T21:39:27Z", "message": "Show reverse card for all tracks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMzk2MDY2", "url": "https://github.com/osmandapp/OsmAnd/pull/9584#pullrequestreview-471396066", "createdAt": "2020-08-20T08:56:31Z", "commit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwODo1NjozMlrOHD1hJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwOToxMzozNFrOHD2YhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc4NDYxNQ==", "bodyText": "getSelectedTrackNames > getSelectedTrackPaths", "url": "https://github.com/osmandapp/OsmAnd/pull/9584#discussion_r473784615", "createdAt": "2020-08-20T08:56:32Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/dialogs/MapLayerMenuListener.java", "diffHunk": "@@ -47,10 +47,7 @@\n \t\tGpxSelectionHelper selectedGpxHelper = mapActivity.getMyApplication().getSelectedGpxHelper();\n \t\tList<SelectedGpxFile> selectedGpxFiles = selectedGpxHelper.getSelectedGPXFiles();\n \n-\t\tList<String> files = new ArrayList<>();\n-\t\tfor (SelectedGpxFile file : selectedGpxFiles) {\n-\t\t\tfiles.add(file.getGpxFile().path);\n-\t\t}\n+\t\tList<String> files = GpxUiHelper.getSelectedTrackNames(mapActivity.getMyApplication());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc4NTk4Nw==", "bodyText": "getTrkSegment > getNonEmptyTrkSegment", "url": "https://github.com/osmandapp/OsmAnd/pull/9584#discussion_r473785987", "createdAt": "2020-08-20T08:58:00Z", "author": {"login": "max-klaus"}, "path": "OsmAnd-java/src/main/java/net/osmand/GPXUtilities.java", "diffHunk": "@@ -1290,6 +1290,17 @@ public WptPt addRtePt(double lat, double lon, long time, String description, Str\n \t\t\treturn pt;\n \t\t}\n \n+\t\tpublic TrkSegment getTrkSegment() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc4ODQ2MQ==", "bodyText": "onSavingComplete > onSaveComplete", "url": "https://github.com/osmandapp/OsmAnd/pull/9584#discussion_r473788461", "createdAt": "2020-08-20T09:00:45Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/helpers/ImportHelper.java", "diffHunk": "@@ -116,7 +116,8 @@ public String getExtension() {\n \t}\n \n \tpublic interface OnGpxImportCompleteListener {\n-\t\tvoid onComplete(boolean success);\n+\t\tvoid onImportComplete(boolean success);\n+\t\tvoid onSavingComplete(boolean success, GPXFile result);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc5ODc4OQ==", "bodyText": "drop attachToRoads", "url": "https://github.com/osmandapp/OsmAnd/pull/9584#discussion_r473798789", "createdAt": "2020-08-20T09:13:34Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java", "diffHunk": "@@ -460,10 +465,15 @@ public void onClick(View view) {\n \n \t\tinitMeasurementMode(newGpxData);\n \n-\t\tif (planRouteMode && savedInstanceState == null) {\n-\t\t\tStartPlanRouteBottomSheet.showInstance(mapActivity.getSupportFragmentManager(),\n-\t\t\t\t\tcreateStartPlanRouteListener());\n+\t\tif (savedInstanceState == null) {\n+\t\t\tif (editingCtx.isNewData() && planRouteMode) {\n+\t\t\t\tStartPlanRouteBottomSheet.showInstance(mapActivity.getSupportFragmentManager(),\n+\t\t\t\t\t\tcreateStartPlanRouteListener());\n+\t\t\t} else if (attachToRoads && !(editingCtx.isNewData() || editingCtx.hasRoutePoints() || editingCtx.isInSnapToRoadMode())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f712adfd78565433ff78c1848965ef6515a3bf9"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fde90d40d48dcaa2cce21fa74629cc9a22357a27", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/fde90d40d48dcaa2cce21fa74629cc9a22357a27", "committedDate": "2020-08-20T09:27:52Z", "message": "Merge branch 'master' into follow_track"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3f7916fbccafbab4c0cfefe8d9172fb24eb73ca", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/f3f7916fbccafbab4c0cfefe8d9172fb24eb73ca", "committedDate": "2020-08-20T10:15:06Z", "message": "Minor fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9128691b52166d82d9295bbf90b5262c794af9a4", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/9128691b52166d82d9295bbf90b5262c794af9a4", "committedDate": "2020-08-20T10:33:20Z", "message": "Add missing dividers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f275ce86a7ce91ff687a074d6e384fc3604ba0f", "author": {"user": {"login": "Chumva", "name": "Vitaliy"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/8f275ce86a7ce91ff687a074d6e384fc3604ba0f", "committedDate": "2020-08-20T10:41:16Z", "message": "Merge branch 'master' into follow_track\n\n# Conflicts:\n#\tOsmAnd/res/values/strings.xml"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3476, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}