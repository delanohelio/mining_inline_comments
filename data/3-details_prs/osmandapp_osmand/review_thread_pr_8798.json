{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNTk4Mjcx", "number": 8798, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDozNDoxNVrOD0LAKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo0NjozOVrOD0LUAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDMyODA5OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/CustomOsmandPlugin.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDozNDoxNVrOGI-unw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDozNDoxNVrOGI-unw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA2OTUzNQ==", "bodyText": "?", "url": "https://github.com/osmandapp/OsmAnd/pull/8798#discussion_r412069535", "createdAt": "2020-04-21T10:34:15Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/CustomOsmandPlugin.java", "diffHunk": "@@ -398,33 +415,120 @@ public void loadResources() {\n \t\t}\n \t}\n \n-\tprivate Drawable getIconForFile(String path, Map<String, String> fileNames) {\n-\t\tfor (Map.Entry<String, String> entry : fileNames.entrySet()) {\n-\t\t\tString value = entry.getValue();\n-\t\t\tif (value.startsWith(\"@\")) {\n-\t\t\t\tvalue = value.substring(1);\n+\tpublic void updateSuggestedDownloads(List<SuggestedDownloadItem> items) {\n+\t\tsuggestedDownloadItems = new ArrayList<>(items);\n+\t}\n+\n+\tpublic void updateDownloadItems(List<WorldRegion> items) {\n+\t\tcustomRegions = new ArrayList<>(items);\n+\t}\n+\n+\tprivate List<IndexItem> getMapsForType(LatLon latLon, DownloadActivityType type) {\n+\t\ttry {\n+\t\t\treturn DownloadResources.findIndexItemsAt(app, latLon, type);\n+\t\t} catch (IOException e) {\n+\t\t\te.printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc5dbc127089220a0dff44f8cc78652cabfe5d03"}, "originalPosition": 484}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDM2MDAyOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/CustomOsmandPlugin.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo0MjowM1rOGI_BYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo0MjowM1rOGI_BYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA3NDMzOQ==", "bodyText": "getLocalizedResFromMap, jsonArrayToList, getLocalizedMapFromJson, writeStringListToJson, writeLocalizedMapToJson and similar should be moved to external class like JsonUtils", "url": "https://github.com/osmandapp/OsmAnd/pull/8798#discussion_r412074339", "createdAt": "2020-04-21T10:42:03Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/CustomOsmandPlugin.java", "diffHunk": "@@ -398,33 +415,120 @@ public void loadResources() {\n \t\t}\n \t}\n \n-\tprivate Drawable getIconForFile(String path, Map<String, String> fileNames) {\n-\t\tfor (Map.Entry<String, String> entry : fileNames.entrySet()) {\n-\t\t\tString value = entry.getValue();\n-\t\t\tif (value.startsWith(\"@\")) {\n-\t\t\t\tvalue = value.substring(1);\n+\tpublic void updateSuggestedDownloads(List<SuggestedDownloadItem> items) {\n+\t\tsuggestedDownloadItems = new ArrayList<>(items);\n+\t}\n+\n+\tpublic void updateDownloadItems(List<WorldRegion> items) {\n+\t\tcustomRegions = new ArrayList<>(items);\n+\t}\n+\n+\tprivate List<IndexItem> getMapsForType(LatLon latLon, DownloadActivityType type) {\n+\t\ttry {\n+\t\t\treturn DownloadResources.findIndexItemsAt(app, latLon, type);\n+\t\t} catch (IOException e) {\n+\t\t\te.printStackTrace();\n+\t\t}\n+\t\treturn Collections.emptyList();\n+\t}\n+\n+\tprivate List<IndexItem> getMapsForType(List<String> names, DownloadActivityType type, int limit) {\n+\t\treturn DownloadResources.findIndexItemsAt(app, names, type, false, limit);\n+\t}\n+\n+\tpublic static String getLocalizedResFromMap(Context ctx, Map<String, String> localizedMap, String defVal) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc5dbc127089220a0dff44f8cc78652cabfe5d03"}, "originalPosition": 493}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MDM3ODkwOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/download/DownloadActivityType.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo0NjozOVrOGI_MZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMDo0NjozOVrOGI_MZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjA3NzE1OA==", "bodyText": "gpx?", "url": "https://github.com/osmandapp/OsmAnd/pull/8798#discussion_r412077158", "createdAt": "2020-04-21T10:46:39Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/download/DownloadActivityType.java", "diffHunk": "@@ -136,6 +141,10 @@ public boolean isAccepted(String fileName) {\n \t\t\treturn fileName.endsWith(IndexConstants.SQLITE_EXT);\n \t\t} else if (DEPTH_CONTOUR_FILE == this) {\n \t\t\treturn fileName.endsWith(addVersionToExt(IndexConstants.BINARY_MAP_INDEX_EXT_ZIP, IndexConstants.BINARY_MAP_VERSION));\n+\t\t} else if (GPX_FILE == this) {\n+\t\t\treturn fileName.endsWith(IndexConstants.GPX_FILE_EXT);\n+\t\t} else if (SQLITE_FILE == this) {\n+\t\t\treturn fileName.endsWith(IndexConstants.GPX_FILE_EXT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc5dbc127089220a0dff44f8cc78652cabfe5d03"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3358, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}