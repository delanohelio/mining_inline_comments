{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2ODY3NzIz", "number": 9932, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1Mjo1N1rOEqPoHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjo0MDoyNVrOEsB-DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMxNjc5OnYy", "diffSide": "RIGHT", "path": "OsmAnd/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1Mjo1N1rOHcVtKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxODo0OTo0NVrOHeBEQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3NzgwMw==", "bodyText": "not specified what's consumer key?\nOSM_OAUTH_CONSUMER_KEY?", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499477803", "createdAt": "2020-10-05T09:52:57Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/build.gradle", "diffHunk": "@@ -216,9 +216,13 @@ android {\n \n \tbuildTypes {\n \t\tdebug {\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_KEY\", \"\\\"Ti2qq3fo4i4Wmuox3SiWRIGq3obZisBHnxmcM05y\\\"\"\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_SECRET\", \"\\\"lxulb3HYoMmd2cC4xxNe1dyfRMAY8dS0eNihJ0DM\\\"\"\n \t\t\tsigningConfig signingConfigs.development\n \t\t}\n \t\trelease {\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_KEY\", \"\\\"Ti2qq3fo4i4Wmuox3SiWRIGq3obZisBHnxmcM05y\\\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIzNjgwMA==", "bodyText": "Not resolved", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r501236800", "createdAt": "2020-10-07T18:49:45Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/build.gradle", "diffHunk": "@@ -216,9 +216,13 @@ android {\n \n \tbuildTypes {\n \t\tdebug {\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_KEY\", \"\\\"Ti2qq3fo4i4Wmuox3SiWRIGq3obZisBHnxmcM05y\\\"\"\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_SECRET\", \"\\\"lxulb3HYoMmd2cC4xxNe1dyfRMAY8dS0eNihJ0DM\\\"\"\n \t\t\tsigningConfig signingConfigs.development\n \t\t}\n \t\trelease {\n+\t\t\tbuildConfigField \"String\", \"CONSUMER_KEY\", \"\\\"Ti2qq3fo4i4Wmuox3SiWRIGq3obZisBHnxmcM05y\\\"\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3NzgwMw=="}, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMxODYzOnYy", "diffSide": "RIGHT", "path": "OsmAnd/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1MzoyNlrOHcVuOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1MzoyNlrOHcVuOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3ODA3NA==", "bodyText": "Duplicate dependency, it's already present in OsmAnd-java", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499478074", "createdAt": "2020-10-05T09:53:26Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/build.gradle", "diffHunk": "@@ -563,6 +567,9 @@ dependencies {\n \timplementation (\"com.github.HITGIF:TextFieldBoxes:1.4.5\"){\n \t\texclude group: 'com.android.support'\n \t}\n+\timplementation('com.github.scribejava:scribejava-apis:7.1.1'){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMyMTMxOnYy", "diffSide": "RIGHT", "path": "OsmAnd/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1Mzo1OVrOHcVvtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1Mzo1OVrOHcVvtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3ODQ1NA==", "bodyText": "We don't add test screens to master, not clear what's this", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499478454", "createdAt": "2020-10-05T09:53:59Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/res/values/strings.xml", "diffHunk": "@@ -11,6 +11,12 @@\n \tThx - Hardy\n \n -->\n+    <string name=\"osm_edit_logout_success\">Logout successful</string>\n+    <string name=\"clear_osm_token\">Clear OpenStreetMap OAuth token</string>\n+    <string name=\"test_user_request_description\">Test user request</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMyMzQxOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/download/DownloadIndexesThread.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NDoyNlrOHcVw3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NDoyNlrOHcVw3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3ODc0OQ==", "bodyText": "any need?", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499478749", "createdAt": "2020-10-05T09:54:26Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/download/DownloadIndexesThread.java", "diffHunk": "@@ -58,8 +59,8 @@\n \tprivate ConcurrentLinkedQueue<IndexItem> indexItemDownloading = new ConcurrentLinkedQueue<IndexItem>();\n \tprivate IndexItem currentDownloadingItem = null;\n \tprivate int currentDownloadingItemProgress = 0;\n-\n \tprivate DownloadResources indexes;\n+\tprivate static final int THREAD_ID = 10103;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMyNDg2OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/osmedit/OpenstreetmapRemoteUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NDo1MVrOHcVxxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NDo1MVrOHcVxxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3ODk4MA==", "bodyText": "formatting!", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499478980", "createdAt": "2020-10-05T09:54:51Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/osmedit/OpenstreetmapRemoteUtil.java", "diffHunk": "@@ -206,12 +172,16 @@ public long openChangeSet(String comment) {\n \t\t} catch (IOException e) {\n \t\t\tlog.error(\"Unhandled exception\", e); //$NON-NLS-1$\n \t\t}\n-\t\tString response = sendRequest(\n-\t\t\t\tgetSiteApi() + \"api/0.6/changeset/create/\", \"PUT\", writer.getBuffer().toString(), ctx.getString(R.string.opening_changeset), true); //$NON-NLS-1$ //$NON-NLS-2$\n-\t\tif (response != null && response.length() > 0) {\n-\t\t\tid = Long.parseLong(response);\n-\t\t}\n-\n+        String response = sendRequest(\n+                getSiteApi() + \"api/0.6/changeset/create/\", \"PUT\", writer.getBuffer().toString(), ctx.getString(R.string.opening_changeset), true); //$NON-NLS-1$ //$NON-NLS-2$\n+        try {\n+            if (response != null && response.length() > 0) {\n+                log.debug(response);\n+                id = Long.parseLong(response);\n+            }\n+        } catch (Exception e) {\n+            log.error(e);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 166}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMyNjEyOnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/osmedit/OsmBugsRemoteUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NTowNlrOHcVydg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NTowNlrOHcVydg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3OTE1OA==", "bodyText": "formattting !!! block else", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499479158", "createdAt": "2020-10-05T09:55:06Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/osmedit/OsmBugsRemoteUtil.java", "diffHunk": "@@ -118,8 +119,13 @@ private OsmBugResult editingPOI(String url, String requestMethod, String userOpe\n \t\t\tconnection.setRequestProperty(\"User-Agent\", Version.getFullVersion(app)); //$NON-NLS-1$\n \n \t\t\tif (!anonymous) {\n-\t\t\t\tString token = settings.USER_NAME.get() + \":\" + settings.USER_PASSWORD.get(); //$NON-NLS-1$\n-\t\t\t\tconnection.addRequestProperty(\"Authorization\", \"Basic \" + Base64.encode(token.getBytes(\"UTF-8\"))); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$\n+\t\t\t\tif (client.isValidToken()){\n+\t\t\t\t\tconnection.addRequestProperty(\"Authorization\", \"OAuth \" + client.getClient().getAccessToken().getToken());\n+\t\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzMyOTU5OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/osmedit/OsmEditingPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NTo1N1rOHcV0hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwOTo1NTo1N1rOHcV0hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQ3OTY4NA==", "bodyText": "why replace net.osmand. to , something is misconfigured in IDE", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r499479684", "createdAt": "2020-10-05T09:55:57Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/osmedit/OsmEditingPlugin.java", "diffHunk": "@@ -13,25 +13,18 @@\n import android.widget.EditText;\n import android.widget.Spinner;\n import android.widget.Toast;\n-\n import androidx.annotation.NonNull;\n import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.Fragment;\n-\n import net.osmand.AndroidUtils;\n import net.osmand.PlatformUtil;\n import net.osmand.data.Amenity;\n import net.osmand.data.MapObject;\n import net.osmand.data.TransportStop;\n import net.osmand.osm.PoiType;\n import net.osmand.osm.edit.Entity;\n-import net.osmand.plus.ContextMenuAdapter;\n+import net.osmand.plus.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0948476bf8bcb8f945c1834390f18217807d7ac1"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMTQ5MjkyOnYy", "diffSide": "RIGHT", "path": "OsmAnd-java/src/main/java/net/osmand/osm/io/NetworkUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwOToyNDo0NFrOHc9qMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxOToxOTo1N1rOHeCEbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjQwMQ==", "bodyText": "?? prepareStream", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r500132401", "createdAt": "2020-10-06T09:24:44Z", "author": {"login": "vshcherb"}, "path": "OsmAnd-java/src/main/java/net/osmand/osm/io/NetworkUtils.java", "diffHunk": "@@ -65,9 +56,10 @@ public static String sendGetRequest(String urlText, String userNamePassword, Str\n \t\t\treturn e.getMessage();\n \t\t}\n \t}\n-\t\n \tprivate static final String BOUNDARY = \"CowMooCowMooCowCowCow\"; //$NON-NLS-1$\n-\tpublic static String uploadFile(String urlText, File fileToUpload, String userNamePassword, String formName, boolean gzip, Map<String, String> additionalMapData){\n+\tpublic static String uploadFile(String urlText, File fileToUpload, String userNamePassword,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5776ae07a527c64ffc8936a42e8f31d65c0b1e4"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI1MzIzMQ==", "bodyText": "We need to take care if input stream is large and will cause out of memory exception inside app! At least we shouldn't make it worse as it seems we did", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r501253231", "createdAt": "2020-10-07T19:19:57Z", "author": {"login": "vshcherb"}, "path": "OsmAnd-java/src/main/java/net/osmand/osm/io/NetworkUtils.java", "diffHunk": "@@ -65,9 +56,10 @@ public static String sendGetRequest(String urlText, String userNamePassword, Str\n \t\t\treturn e.getMessage();\n \t\t}\n \t}\n-\t\n \tprivate static final String BOUNDARY = \"CowMooCowMooCowCowCow\"; //$NON-NLS-1$\n-\tpublic static String uploadFile(String urlText, File fileToUpload, String userNamePassword, String formName, boolean gzip, Map<String, String> additionalMapData){\n+\tpublic static String uploadFile(String urlText, File fileToUpload, String userNamePassword,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDEzMjQwMQ=="}, "originalCommit": {"oid": "a5776ae07a527c64ffc8936a42e8f31d65c0b1e4"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NjA1MDY5OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/osmedit/SettingsOsmEditingActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjo0MDoyNVrOHfH-1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjo0MDoyNVrOHfH-1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM5ODY3OQ==", "bodyText": "???", "url": "https://github.com/osmandapp/OsmAnd/pull/9932#discussion_r502398679", "createdAt": "2020-10-09T12:40:25Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/osmedit/SettingsOsmEditingActivity.java", "diffHunk": "@@ -116,4 +174,17 @@ protected void onPostExecute(OsmBugsUtil.OsmBugResult osmBugResult) {\n \t\t\tToast.makeText(context, text, Toast.LENGTH_LONG).show();\n \t\t}\n \t}\n+\n+\t@Override\n+\tprotected void onNewIntent(Intent intent) {\n+\t\tsuper.onNewIntent(intent);\n+\t\tUri uri = intent.getData();\n+\t\tSystem.out.println(\"URI=\" + uri);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79b542384d3b7e4fff64b6968fa4613a9445103c"}, "originalPosition": 118}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3419, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}