{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNTYxOTQ2", "number": 9677, "title": "Plan route point menu trim", "bodyText": "", "createdAt": "2020-08-21T10:52:05Z", "url": "https://github.com/osmandapp/OsmAnd/pull/9677", "merged": true, "mergeCommit": {"oid": "aeb10fa10133e187cc9cfea5ebde159a42748395"}, "closed": true, "closedAt": "2020-08-21T10:58:38Z", "author": {"login": "Dima-1"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-expbAH2gAyNDcxNTYxOTQ2OmQ0MTM1OTFhMGRkMjA1YWIxNTM0OTRkY2MxYzgzODAxYmQ2YWYwMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBCrHmAFqTQ3MjM5NzQ1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d413591a0dd205ab153494dcc1c83801bd6af00e", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/d413591a0dd205ab153494dcc1c83801bd6af00e", "committedDate": "2020-08-13T12:00:46Z", "message": "Plan route point menu UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "200b6055b00ac446c9648ef5ca19ac6c4b2a52f4", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/200b6055b00ac446c9648ef5ca19ac6c4b2a52f4", "committedDate": "2020-08-13T12:03:48Z", "message": "Bottom sheet menu buttons top shadow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4817be53b9bb0cf2bdbbedf989e99eb3bfabb27", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a4817be53b9bb0cf2bdbbedf989e99eb3bfabb27", "committedDate": "2020-08-13T14:21:26Z", "message": "Fix plan a route options and point UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "022ffb5813b831562dada2ec443d97d657a3cea6", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/022ffb5813b831562dada2ec443d97d657a3cea6", "committedDate": "2020-08-17T20:28:01Z", "message": "Merge branch 'master' into plan_route_point_menu\n\n# Conflicts:\n#\tOsmAnd/res/values/strings.xml\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3d0347dd289c8a8460a8fd4a513b2a7e940e06b", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/b3d0347dd289c8a8460a8fd4a513b2a7e940e06b", "committedDate": "2020-08-17T21:15:11Z", "message": "Fix merge, straight line npe, dark theme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43fe12c05cb178027176776fab14f401b96a9f00", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/43fe12c05cb178027176776fab14f401b96a9f00", "committedDate": "2020-08-18T10:13:22Z", "message": "Merge branch 'master' into plan_route_point_menu\n\n# Conflicts:\n#\tOsmAnd/src/net/osmand/plus/measurementtool/RouteBetweenPointsBottomSheetDialogFragment.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82905381dc232a01495d5f421852aa3274192cdb", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/82905381dc232a01495d5f421852aa3274192cdb", "committedDate": "2020-08-18T11:41:36Z", "message": "Plan route point menu - Trim left/Trim right"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec690e15489a511c1e94754a877021ef18be1b58", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ec690e15489a511c1e94754a877021ef18be1b58", "committedDate": "2020-08-21T09:57:35Z", "message": "Remove Change route type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25ad8f6f15bb636e902c78d5dfab1b02a64b25ce", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/25ad8f6f15bb636e902c78d5dfab1b02a64b25ce", "committedDate": "2020-08-21T10:31:39Z", "message": "Merge branch 'master' into plan_route_point_menu_trim\n\n# Conflicts:\n#\tOsmAnd/res/values/strings.xml\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/MeasurementToolFragment.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/OptionsBottomSheetDialogFragment.java\n#\tOsmAnd/src/net/osmand/plus/measurementtool/command/ClearPointsCommand.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "872d7b5adf2955804317458b236775ee383d5058", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/872d7b5adf2955804317458b236775ee383d5058", "committedDate": "2020-08-21T10:48:46Z", "message": "Fix merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzk3Mzk5", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#pullrequestreview-472397399", "createdAt": "2020-08-21T10:57:57Z", "commit": {"oid": "872d7b5adf2955804317458b236775ee383d5058"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo1Nzo1N1rOHEo5RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo1Nzo1N1rOHEo5RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyNjM3Mw==", "bodyText": "formatting", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#discussion_r474626373", "createdAt": "2020-08-21T10:57:57Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java", "diffHunk": "@@ -293,13 +293,41 @@ public WptPt removePoint(int position, boolean updateSnapToRoad) {\n \t\treturn pt;\n \t}\n \n+\tpublic void trimBefore(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition);\n+\t\tclearBeforeSegments();\n+\t}\n+\n+\tpublic void trimAfter(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition + 1);\n+\t\tclearAfterSegments();\n+\t}\n+\n \tpublic void clearSegments() {\n+\t\tclearBeforeSegments();\n+\t\tclearAfterSegments();\n+\t}\n+\n+\tpublic void clearBeforeSegments() {\n \t\tbefore.points.clear();\n+\t\t\tif (beforeCacheForSnap != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872d7b5adf2955804317458b236775ee383d5058"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzk3NDU3", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#pullrequestreview-472397457", "createdAt": "2020-08-21T10:58:04Z", "commit": {"oid": "872d7b5adf2955804317458b236775ee383d5058"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo1ODowNFrOHEo5cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMDo1ODowNFrOHEo5cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyNjQxNg==", "bodyText": "formatting", "url": "https://github.com/osmandapp/OsmAnd/pull/9677#discussion_r474626416", "createdAt": "2020-08-21T10:58:04Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/measurementtool/MeasurementEditingContext.java", "diffHunk": "@@ -293,13 +293,41 @@ public WptPt removePoint(int position, boolean updateSnapToRoad) {\n \t\treturn pt;\n \t}\n \n+\tpublic void trimBefore(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition);\n+\t\tclearBeforeSegments();\n+\t}\n+\n+\tpublic void trimAfter(int selectedPointPosition) {\n+\t\tsplitSegments(selectedPointPosition + 1);\n+\t\tclearAfterSegments();\n+\t}\n+\n \tpublic void clearSegments() {\n+\t\tclearBeforeSegments();\n+\t\tclearAfterSegments();\n+\t}\n+\n+\tpublic void clearBeforeSegments() {\n \t\tbefore.points.clear();\n+\t\t\tif (beforeCacheForSnap != null) {\n+\t\t\t\tbeforeCacheForSnap.points.clear();\n+\t\t\t}\n+\t}\n+\n+\tpublic void clearAfterSegments() {\n \t\tafter.points.clear();\n-\t\tif (beforeCacheForSnap != null && afterCacheForSnap != null) {\n-\t\t\tbeforeCacheForSnap.points.clear();\n-\t\t\tafterCacheForSnap.points.clear();\n-\t\t}\n+\t\t\tif (afterCacheForSnap != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872d7b5adf2955804317458b236775ee383d5058"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3423, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}