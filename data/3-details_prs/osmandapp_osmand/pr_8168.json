{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4OTM4NDQ3", "number": 8168, "title": "Personal favs refactor", "bodyText": "", "createdAt": "2020-01-03T10:19:41Z", "url": "https://github.com/osmandapp/OsmAnd/pull/8168", "merged": true, "mergeCommit": {"oid": "fa84c5acf9f5acf01b1e45961f4e56483c5edd93"}, "closed": true, "closedAt": "2020-01-10T12:14:56Z", "author": {"login": "Dima-1"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb1b9tGgH2gAyMzU4OTM4NDQ3OmJmMWNmYjgwMzRjNGNhN2UyZTg5OTk1ZmI3MmJmODYwZThjZTRiYjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb49UragH2gAyMzU4OTM4NDQ3OjNkODc1NjQ1OWRjMjhmZTAzODEwMzA0ODI2M2M2MDQxMTZkYTdlYTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bf1cfb8034c4ca7e2e89995fb72bf860e8ce4bb9", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/bf1cfb8034c4ca7e2e89995fb72bf860e8ce4bb9", "committedDate": "2019-12-30T13:27:45Z", "message": "Fix Strange hyphenation (too big right padding?)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a2193ed184dae28d499b64962bf99283bcc27e2", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/2a2193ed184dae28d499b64962bf99283bcc27e2", "committedDate": "2019-12-30T13:32:29Z", "message": "Fix absent home icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ee3cb515c92a6a45ea0c61bae946dbe259e2d2b", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/7ee3cb515c92a6a45ea0c61bae946dbe259e2d2b", "committedDate": "2019-12-31T14:06:08Z", "message": "Remove PersonalFavoritePoint class add getName(ctx) getCategory(ctx)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9055779e5aace7ad6496023a8ad549b9df20317a", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/9055779e5aace7ad6496023a8ad549b9df20317a", "committedDate": "2020-01-02T11:27:38Z", "message": "Add home/work icon at context menu, small refactoring AddPointBottomSheetDialog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ee6bde7888a9fbc53e9b50e9e9502a2b398e28", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/e5ee6bde7888a9fbc53e9b50e9e9502a2b398e28", "committedDate": "2020-01-02T12:48:33Z", "message": "Fix lookupAddress when personal point has changed position. Target points name fix."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3637d72ca91b31b43ab3226c5f1fe49f06df06c", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/c3637d72ca91b31b43ab3226c5f1fe49f06df06c", "committedDate": "2020-01-02T15:50:43Z", "message": "Fix show personal parking point as Parking point"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ad748343d8c5fe4163cd2baac6248cdcf53ba3d4", "committedDate": "2020-01-02T16:58:44Z", "message": "Hide parking point when ParkingPositionPlugin disabled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDE5MzI2", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338019326", "createdAt": "2020-01-03T10:21:42Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyMTo0MlrOFZ9NkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyMTo0MlrOFZ9NkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MTYxNw==", "bodyText": "This class probably not needed", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362761617", "createdAt": "2020-01-03T10:21:42Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -21,6 +25,51 @@\n \tprivate int color;\n \tprivate boolean visible = true;\n \n+\tpublic enum PointType {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDIwMzQz", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338020343", "createdAt": "2020-01-03T10:24:14Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNDoxNFrOFZ9Qdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNDoxNFrOFZ9Qdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MjM1OA==", "bodyText": "You can't use \"map_\" or \"widget_\" icons in UI they have different size for Tablet", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362762358", "createdAt": "2020-01-03T10:24:14Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -21,6 +25,51 @@\n \tprivate int color;\n \tprivate boolean visible = true;\n \n+\tpublic enum PointType {\n+\t\tHOME(\"home\", R.string.home_button, 1, R.drawable.ic_action_home_dark),\n+\t\tWORK(\"work\", R.string.work_button, 2, R.drawable.ic_action_work),\n+\t\tPARKING(\"parking\", R.string.map_widget_parking, 3, R.drawable.ic_action_parking_dark);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDIwOTU0", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338020954", "createdAt": "2020-01-03T10:26:00Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNjowMVrOFZ9SUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNjowMVrOFZ9SUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MjgzNA==", "bodyText": "if(HOME.equals) { return .. .}  else if ...\nwill be better for now", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362762834", "createdAt": "2020-01-03T10:26:01Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -101,12 +154,23 @@ public void setLongitude(double longitude) {\n \tpublic String getCategory() {\n \t\treturn category;\n \t}\n+\n+\tpublic String getCategory(@NonNull Context ctx) {\n+\t\tif (isPersonal()) {\n+\t\t\treturn ctx.getString(R.string.personal_category_name);\n+\t\t} else {\n+\t\t\treturn category;\n+\t\t}\n+\t}\n \t\n \tpublic void setCategory(String category) {\n \t\tthis.category = category;\n \t}\n \n-\tpublic String getName(Context ctx) {\n+\tpublic String getName(@NonNull Context ctx) {\n+\t\tif (isPersonal()) {\n+\t\t\treturn PointType.valueOfTypeName(getName()).getHumanString(ctx);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 112}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDIxMDc1", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338021075", "createdAt": "2020-01-03T10:26:23Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNjoyM1rOFZ9Srw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNjoyM1rOFZ9Srw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MjkyNw==", "bodyText": "Method should be called getCategoryDisplayName", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362762927", "createdAt": "2020-01-03T10:26:23Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -101,12 +154,23 @@ public void setLongitude(double longitude) {\n \tpublic String getCategory() {\n \t\treturn category;\n \t}\n+\n+\tpublic String getCategory(@NonNull Context ctx) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 97}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDIxMzIz", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338021323", "createdAt": "2020-01-03T10:27:02Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNzowMlrOFZ9TfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyNzowMlrOFZ9TfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MzEzMg==", "bodyText": "not clear difference between personal and non-persona. I think it should be identical in both cases return new PointDescription(PointDescription.POINT_TYPE_FAVORITE, getName(ctx));", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362763132", "createdAt": "2020-01-03T10:27:02Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -54,12 +103,16 @@ public PointDescription getPointDescription() {\n \t}\n \n \tpublic boolean isPersonal() {\n-\t\treturn false;\n+\t\treturn PERSONAL_CATEGORY.equals(category);\n \t}\n \n \t@Override\n-\tpublic PointDescription getPointDescription(Context ctx) {\n-\t\treturn getPointDescription();\n+\tpublic PointDescription getPointDescription(@NonNull Context ctx) {\n+\t\tif (isPersonal()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MDIxNzQ1", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338021745", "createdAt": "2020-01-03T10:28:11Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyODoxMVrOFZ9Uqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMDoyODoxMVrOFZ9Uqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc2MzQzNQ==", "bodyText": "it is wrong place to customize \"isParkingPluginEnable\" should not be here in the code\nthere is no need fofr this ifs , it should be always visible\nCode should be deleted", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r362763435", "createdAt": "2020-01-03T10:28:11Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/activities/FavoritesTreeFragment.java", "diffHunk": "@@ -752,8 +760,31 @@ void synchronizeGroups() {\n \t\t\tfor (FavoriteGroup key : gs) {\n \t\t\t\tboolean empty = true;\n \t\t\t\tif (flt == null || flt.contains(key)) {\n-\t\t\t\t\tempty = false;\n-\t\t\t\t\tfavoriteGroups.put(key, new ArrayList<>(key.points));\n+\t\t\t\t\tif (key.personal) {\n+\t\t\t\t\t\tArrayList<FavouritePoint> list = new ArrayList<>();\n+\t\t\t\t\t\tfor (FavouritePoint p : key.points) {\n+\t\t\t\t\t\t\tif (p.getName().equals(FavouritePoint.PointType.PARKING.getName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NTk5OTI1", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338599925", "createdAt": "2020-01-06T11:42:25Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0MjoyNVrOFabrRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0MjoyNVrOFabrRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2MDc0Mg==", "bodyText": "get/set", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363260742", "createdAt": "2020-01-06T11:42:25Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/FavouritesDbHelper.java", "diffHunk": "@@ -75,6 +73,14 @@ public FavouritesDbHelper(OsmandApplication context) {\n \t\tpublic int color;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjAwMTI3", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338600127", "createdAt": "2020-01-06T11:42:59Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0Mjo1OVrOFabr2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0Mjo1OVrOFabr2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2MDg4OQ==", "bodyText": "delete this field", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363260889", "createdAt": "2020-01-06T11:42:59Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/FavouritesDbHelper.java", "diffHunk": "@@ -75,6 +73,14 @@ public FavouritesDbHelper(OsmandApplication context) {\n \t\tpublic int color;\n \t\tpublic boolean personal = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjAxNzc5", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338601779", "createdAt": "2020-01-06T11:47:24Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0NzoyNFrOFabw5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0NzoyNFrOFabw5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2MjE4MA==", "bodyText": "protected String address;", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363262180", "createdAt": "2020-01-06T11:47:24Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -3,14 +3,18 @@\n import java.io.Serializable;\n \n import android.content.Context;\n+import android.support.annotation.DrawableRes;\n import android.support.annotation.NonNull;\n+import android.support.annotation.StringRes;\n \n import net.osmand.GPXUtilities.WptPt;\n+import net.osmand.plus.R;\n \n public class FavouritePoint implements Serializable, LocationPoint {\n \tprivate static final long serialVersionUID = 729654300829771466L;\n \n-\tprotected static final String HIDDEN = \"hidden\";\n+\tprivate static final String HIDDEN = \"hidden\";\n+\tpublic static final String PERSONAL_CATEGORY = \"personal\";\n \n \tprotected String name = \"\";\n \tprotected String description;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjAyMzc4", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338602378", "createdAt": "2020-01-06T11:49:00Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0OTowMFrOFabyyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo0OTowMFrOFabyyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2MjY2Nw==", "bodyText": "bad code", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363262667", "createdAt": "2020-01-06T11:49:00Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java", "diffHunk": "@@ -133,6 +135,10 @@ public void onPrepareBufferImage(Canvas canvas, RotatedTileBox tileBox, DrawSett\n \t\t\t\t\t\t\t\t\tcontinue;\n \t\t\t\t\t\t\t\t}\n \t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\tif (group.personal && o.getName().equals(FavouritePoint.PointType.PARKING.getName())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjAzNzYz", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338603763", "createdAt": "2020-01-06T11:52:18Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo1MjoxOFrOFab3Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo1MjoxOFrOFab3Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2Mzc3MA==", "bodyText": "?? All personal points ??", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363263770", "createdAt": "2020-01-06T11:52:18Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java", "diffHunk": "@@ -291,6 +299,7 @@ public void applyNewObjectPosition(@NonNull Object o,\n \t\tboolean result = false;\n \t\tif (o instanceof FavouritePoint) {\n \t\t\tfavorites.editFavourite((FavouritePoint) o, position.getLatitude(), position.getLongitude());\n+\t\t\tfavorites.lookupAddressAllPersonalPoints();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjA0NTUy", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338604552", "createdAt": "2020-01-06T11:54:25Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo1NDoyNVrOFab5kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTo1NDoyNVrOFab5kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2NDQwMA==", "bodyText": "bad code", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363264400", "createdAt": "2020-01-06T11:54:25Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/views/FavouritesLayer.java", "diffHunk": "@@ -204,7 +210,9 @@ private void getFavFromPoint(RotatedTileBox tb, List<? super FavouritePoint> res\n \t\t\tint x = (int) tb.getPixXFromLatLon(n.getLatitude(), n.getLongitude());\n \t\t\tint y = (int) tb.getPixYFromLatLon(n.getLatitude(), n.getLongitude());\n \t\t\tif (calculateBelongs(ex, ey, x, y, r)) {\n-\t\t\t\tres.add(n);\n+\t\t\t\tif (!n.getName().equals(FavouritePoint.PointType.PARKING.getName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjA4MTMw", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338608130", "createdAt": "2020-01-06T12:04:06Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMjowNDowNlrOFacEAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMjowNDowNlrOFacEAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2NzA3Mg==", "bodyText": "getDisplayName", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363267072", "createdAt": "2020-01-06T12:04:06Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/data/FavouritePoint.java", "diffHunk": "@@ -101,12 +154,23 @@ public void setLongitude(double longitude) {\n \tpublic String getCategory() {\n \t\treturn category;\n \t}\n+\n+\tpublic String getCategory(@NonNull Context ctx) {\n+\t\tif (isPersonal()) {\n+\t\t\treturn ctx.getString(R.string.personal_category_name);\n+\t\t} else {\n+\t\t\treturn category;\n+\t\t}\n+\t}\n \t\n \tpublic void setCategory(String category) {\n \t\tthis.category = category;\n \t}\n \n-\tpublic String getName(Context ctx) {\n+\tpublic String getName(@NonNull Context ctx) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 110}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjEwMDUx", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#pullrequestreview-338610051", "createdAt": "2020-01-06T12:09:09Z", "commit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMjowOTowOVrOFacJoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMjowOTowOVrOFacJoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI2ODUxMw==", "bodyText": "?", "url": "https://github.com/osmandapp/OsmAnd/pull/8168#discussion_r363268513", "createdAt": "2020-01-06T12:09:09Z", "author": {"login": "vshcherb"}, "path": "OsmAnd/src/net/osmand/plus/FavouritesDbHelper.java", "diffHunk": "@@ -744,8 +750,8 @@ public int compare(FavoriteGroup lhs, FavoriteGroup rhs) {\n \t\t\t@Override\n \t\t\tpublic int compare(FavouritePoint o1, FavouritePoint o2) {\n \t\t\t\tif (o1.isPersonal() && o2.isPersonal()) {\n-\t\t\t\t\tint x = ((PersonalFavouritePoint) o1).getType().getOrder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad748343d8c5fe4163cd2baac6248cdcf53ba3d4"}, "originalPosition": 87}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17a99d24ff5b811726b783b24d074ee44db583a3", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/17a99d24ff5b811726b783b24d074ee44db583a3", "committedDate": "2020-01-06T15:10:46Z", "message": "Add/delete favorites point to the Personal category"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1ce9ec73e4ae1f445a5545a47c87ab81b5987a7", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/e1ce9ec73e4ae1f445a5545a47c87ab81b5987a7", "committedDate": "2020-01-06T17:14:40Z", "message": "Refactor wpt/fav point icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d77381ee0576513a779e607b4ed90e07dffea2b", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/6d77381ee0576513a779e607b4ed90e07dffea2b", "committedDate": "2020-01-06T17:42:24Z", "message": "Refactor favorite points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "543313bd4f66f3337c67595c03c740bcb4afec22", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/543313bd4f66f3337c67595c03c740bcb4afec22", "committedDate": "2020-01-06T17:59:49Z", "message": "Refactor wpt/fav point icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b23864c273fdc270ee1ba81580c93c5b7732bd6", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/4b23864c273fdc270ee1ba81580c93c5b7732bd6", "committedDate": "2020-01-06T18:06:29Z", "message": "Refactor wpt/fav point icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be26a0e5b26a45d5e7abb2e16608431fe6221f96", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/be26a0e5b26a45d5e7abb2e16608431fe6221f96", "committedDate": "2020-01-06T18:11:01Z", "message": "Refactor favorite points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41da9c2b975030a26573a5df2f00b01d469e6153", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/41da9c2b975030a26573a5df2f00b01d469e6153", "committedDate": "2020-01-06T18:14:36Z", "message": "Refactor favorite points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad7ec16aeb3fc491e5b5f1091ce9ae7ced4fb97c", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/ad7ec16aeb3fc491e5b5f1091ce9ae7ced4fb97c", "committedDate": "2020-01-06T18:18:34Z", "message": "Refactor favorite points"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4f043a64063ab8570c9b49650e9109bbc29e39", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/9a4f043a64063ab8570c9b49650e9109bbc29e39", "committedDate": "2020-01-08T10:30:30Z", "message": "Refactor favorite group"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19419d7d5546a4ce0397a9c221d311cd112868fc", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/19419d7d5546a4ce0397a9c221d311cd112868fc", "committedDate": "2020-01-08T12:39:53Z", "message": "Fix wrong category name in add/edit favorite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c823231d7e832e9f39424ccac6df9d9c1418e160", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/c823231d7e832e9f39424ccac6df9d9c1418e160", "committedDate": "2020-01-08T14:17:31Z", "message": "Add address extension to gpx"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4543e45badc93de7a3115bf46be4e9fae7d72587", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/4543e45badc93de7a3115bf46be4e9fae7d72587", "committedDate": "2020-01-08T15:26:20Z", "message": "Remove lookup address when map init, disable edit personal point from context menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5822cdf8e82ebc58b8718e449cf2a79aa3cafa2", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/e5822cdf8e82ebc58b8718e449cf2a79aa3cafa2", "committedDate": "2020-01-08T15:43:43Z", "message": "Fix possibility to select marker when favorites hidden"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0963cd00f7abc0b8ab3c68141cf54c3c8236afd4", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/0963cd00f7abc0b8ab3c68141cf54c3c8236afd4", "committedDate": "2020-01-08T17:01:02Z", "message": "Add address for all favorites"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1146dc2dea7e16311c9ce3cfad218f3c47d1ff76", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/1146dc2dea7e16311c9ce3cfad218f3c47d1ff76", "committedDate": "2020-01-09T10:47:35Z", "message": "Fix local name in favorite point menu controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a39d69db759c2d28c99a477e49193cca57b4b9b0", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/a39d69db759c2d28c99a477e49193cca57b4b9b0", "committedDate": "2020-01-09T10:53:00Z", "message": "Merge branch 'master' into personal_favs_refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91eb10347e73a912700e00b38afa4343b75d9124", "author": {"user": {"login": "vshcherb", "name": null}}, "url": "https://github.com/osmandapp/OsmAnd/commit/91eb10347e73a912700e00b38afa4343b75d9124", "committedDate": "2020-01-09T16:58:58Z", "message": "Fix point description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50192251bb0f92385ae13a929210ee5fb0786695", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/50192251bb0f92385ae13a929210ee5fb0786695", "committedDate": "2020-01-09T17:06:04Z", "message": "Fix local name in favorite point menu controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d8756459dc28fe038103048263c604116da7ea8", "author": {"user": {"login": "Dima-1", "name": "Dmitry"}}, "url": "https://github.com/osmandapp/OsmAnd/commit/3d8756459dc28fe038103048263c604116da7ea8", "committedDate": "2020-01-10T12:01:29Z", "message": "Fix code review remarks"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3604, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}