{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwOTE5MTIw", "number": 9469, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwODowODo1NlrOEQgyWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwODoxMDoxMVrOEQg0GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzQ5ODQ4OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/GPXDatabase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwODowODo1NlrOG0s5dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDowNzozNlrOG0xLIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNDc0Mw==", "bodyText": "Methods for getting Type by name must be in enums!\nGradientScaleType\nGpxSplitType", "url": "https://github.com/osmandapp/OsmAnd/pull/9469#discussion_r457914743", "createdAt": "2020-07-21T08:08:56Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/GPXDatabase.java", "diffHunk": "@@ -201,17 +202,34 @@ public GpxDataItem(File file, int color) {\n \n \t\tpublic GpxDataItem(File file, @NonNull GPXFile gpxFile) {\n \t\t\tthis.file = file;\n+\t\t\treadGpxParams(gpxFile);\n+\t\t}\n+\n+\t\tprivate void readGpxParams(GPXFile gpxFile) {\n \t\t\tcolor = gpxFile.getColor(0);\n \t\t\twidth = gpxFile.getWidth(null);\n \t\t\tshowArrows = gpxFile.isShowArrows();\n \t\t\tshowStartFinish = gpxFile.isShowStartFinish();\n-\t\t\tgradientScaleType = gpxFile.getGradientScaleType();\n-\t\t\tgradientSpeedColor = gpxFile.getGradientScaleColor(GradientScaleType.SPEED, 0);\n-\t\t\tgradientSlopeColor = gpxFile.getGradientScaleColor(GradientScaleType.SLOPE, 0);\n-\t\t\tgradientAltitudeColor = gpxFile.getGradientScaleColor(GradientScaleType.ALTITUDE, 0);\n-\t\t\tif (gpxFile.getSplitType() != null && gpxFile.getSplitInterval() != 0) {\n-\t\t\t\tsplitType = gpxFile.getSplitType().getType();\n-\t\t\t\tsplitInterval = gpxFile.getSplitInterval();\n+\t\t\tgradientSpeedColor = gpxFile.getGradientScaleColor(GradientScaleType.SPEED.getTypeName(), 0);\n+\t\t\tgradientSlopeColor = gpxFile.getGradientScaleColor(GradientScaleType.SLOPE.getTypeName(), 0);\n+\t\t\tgradientAltitudeColor = gpxFile.getGradientScaleColor(GradientScaleType.ALTITUDE.getTypeName(), 0);\n+\n+\t\t\tif (!Algorithms.isEmpty(gpxFile.getSplitType()) && gpxFile.getSplitInterval() != 0) {\n+\t\t\t\tfor (GpxSplitType gpxSplitType : GpxSplitType.values()) {\n+\t\t\t\t\tif (gpxSplitType.name().equalsIgnoreCase(gpxFile.getSplitType())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de5e1610956fce35832f185f0ada9a84b7f58823"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk4NDgwMw==", "bodyText": "Methods added to enums.", "url": "https://github.com/osmandapp/OsmAnd/pull/9469#discussion_r457984803", "createdAt": "2020-07-21T10:07:36Z", "author": {"login": "Chumva"}, "path": "OsmAnd/src/net/osmand/plus/GPXDatabase.java", "diffHunk": "@@ -201,17 +202,34 @@ public GpxDataItem(File file, int color) {\n \n \t\tpublic GpxDataItem(File file, @NonNull GPXFile gpxFile) {\n \t\t\tthis.file = file;\n+\t\t\treadGpxParams(gpxFile);\n+\t\t}\n+\n+\t\tprivate void readGpxParams(GPXFile gpxFile) {\n \t\t\tcolor = gpxFile.getColor(0);\n \t\t\twidth = gpxFile.getWidth(null);\n \t\t\tshowArrows = gpxFile.isShowArrows();\n \t\t\tshowStartFinish = gpxFile.isShowStartFinish();\n-\t\t\tgradientScaleType = gpxFile.getGradientScaleType();\n-\t\t\tgradientSpeedColor = gpxFile.getGradientScaleColor(GradientScaleType.SPEED, 0);\n-\t\t\tgradientSlopeColor = gpxFile.getGradientScaleColor(GradientScaleType.SLOPE, 0);\n-\t\t\tgradientAltitudeColor = gpxFile.getGradientScaleColor(GradientScaleType.ALTITUDE, 0);\n-\t\t\tif (gpxFile.getSplitType() != null && gpxFile.getSplitInterval() != 0) {\n-\t\t\t\tsplitType = gpxFile.getSplitType().getType();\n-\t\t\t\tsplitInterval = gpxFile.getSplitInterval();\n+\t\t\tgradientSpeedColor = gpxFile.getGradientScaleColor(GradientScaleType.SPEED.getTypeName(), 0);\n+\t\t\tgradientSlopeColor = gpxFile.getGradientScaleColor(GradientScaleType.SLOPE.getTypeName(), 0);\n+\t\t\tgradientAltitudeColor = gpxFile.getGradientScaleColor(GradientScaleType.ALTITUDE.getTypeName(), 0);\n+\n+\t\t\tif (!Algorithms.isEmpty(gpxFile.getSplitType()) && gpxFile.getSplitInterval() != 0) {\n+\t\t\t\tfor (GpxSplitType gpxSplitType : GpxSplitType.values()) {\n+\t\t\t\t\tif (gpxSplitType.name().equalsIgnoreCase(gpxFile.getSplitType())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNDc0Mw=="}, "originalCommit": {"oid": "de5e1610956fce35832f185f0ada9a84b7f58823"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzUwMjk3OnYy", "diffSide": "RIGHT", "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwODoxMDoxMVrOG0s8PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwODoxMDoxMVrOG0s8PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkxNTQ1Mw==", "bodyText": "Introduce typeName for GpxSplitType", "url": "https://github.com/osmandapp/OsmAnd/pull/9469#discussion_r457915453", "createdAt": "2020-07-21T08:10:11Z", "author": {"login": "max-klaus"}, "path": "OsmAnd/src/net/osmand/plus/GpxSelectionHelper.java", "diffHunk": "@@ -650,16 +645,16 @@ private SelectedGpxFile selectGpxFileImpl(GPXFile gpx, GpxDataItem dataItem, boo\n \t\t\t\t\t\tgpx.setColor(dataItem.getColor());\n \t\t\t\t\t}\n \t\t\t\t\tif (dataItem.getGradientSpeedColor() != 0) {\n-\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.SPEED, dataItem.getGradientSpeedColor());\n+\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.SPEED.getTypeName(), dataItem.getGradientSpeedColor());\n \t\t\t\t\t}\n \t\t\t\t\tif (dataItem.getGradientAltitudeColor() != 0) {\n-\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.ALTITUDE, dataItem.getGradientAltitudeColor());\n+\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.ALTITUDE.getTypeName(), dataItem.getGradientAltitudeColor());\n \t\t\t\t\t}\n \t\t\t\t\tif (dataItem.getGradientSlopeColor() != 0) {\n-\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.SLOPE, dataItem.getGradientSlopeColor());\n+\t\t\t\t\t\tgpx.setGradientScaleColor(GradientScaleType.SLOPE.getTypeName(), dataItem.getGradientSlopeColor());\n \t\t\t\t\t}\n \t\t\t\t\tif (dataItem.getGradientScaleType() != null) {\n-\t\t\t\t\t\tgpx.setGradientScaleType(dataItem.getGradientScaleType());\n+\t\t\t\t\t\tgpx.setGradientScaleType(dataItem.getGradientScaleType().name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de5e1610956fce35832f185f0ada9a84b7f58823"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3442, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}