{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MzM3Mjg4", "number": 593, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMDoxMzoxM1rOEOMaNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMTo0NzoyMlrOEOORMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzE4ODM3OnYy", "diffSide": "RIGHT", "path": "ansible/roles/xroad-base/tasks/rhel.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMDoxMzoxM1rOGxNRbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDowODoyNVrOGxVXhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI1MDg2MA==", "bodyText": "This is probably a regression from XRDDEV-727. It might be better to leave it as it is and handle in a separate task. Keeping the predictable repository file name is actually what we want, but it is necessary to check if similar problem exists in the Ubuntu tasks.", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454250860", "createdAt": "2020-07-14T10:13:13Z", "author": {"login": "jhyoty"}, "path": "ansible/roles/xroad-base/tasks/rhel.yml", "diffHunk": "@@ -42,10 +42,11 @@\n     state: present\n     key: \"{{ rhel_repo_gpgkey }}\"\n \n-- name: xroad repo\n-  template:\n-    src: \"xroad.repo.j2\"\n-    dest: \"/etc/yum.repos.d/xroad.repo\"\n-    owner: root\n-    group: root\n-    mode: 0644\n+# repo already added by step Setup the correct repository for X-Road installation (RHEL)\n+#- name: xroad repo\n+#  template:\n+#    src: \"xroad.repo.j2\"\n+#    dest: \"/etc/yum.repos.d/xroad.repo\"\n+#    owner: root\n+#    group: root\n+#    mode: 0644", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM4MzQ5Mg==", "bodyText": "fixed and created https://jira.niis.org/browse/XRDDEV-1200", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454383492", "createdAt": "2020-07-14T14:08:25Z", "author": {"login": "jansu76"}, "path": "ansible/roles/xroad-base/tasks/rhel.yml", "diffHunk": "@@ -42,10 +42,11 @@\n     state: present\n     key: \"{{ rhel_repo_gpgkey }}\"\n \n-- name: xroad repo\n-  template:\n-    src: \"xroad.repo.j2\"\n-    dest: \"/etc/yum.repos.d/xroad.repo\"\n-    owner: root\n-    group: root\n-    mode: 0644\n+# repo already added by step Setup the correct repository for X-Road installation (RHEL)\n+#- name: xroad repo\n+#  template:\n+#    src: \"xroad.repo.j2\"\n+#    dest: \"/etc/yum.repos.d/xroad.repo\"\n+#    owner: root\n+#    group: root\n+#    mode: 0644", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI1MDg2MA=="}, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzQ3NDkxOnYy", "diffSide": "RIGHT", "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMTo0MTo0MFrOGxP-rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDowODozMVrOGxVX1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5NTIxMw==", "bodyText": "These seem to be unnecessary (can not find any SELinux rule changes)", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454295213", "createdAt": "2020-07-14T11:41:40Z", "author": {"login": "jhyoty"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM4MzU3Mw==", "bodyText": "fixed", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454383573", "createdAt": "2020-07-14T14:08:31Z", "author": {"login": "jansu76"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5NTIxMw=="}, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzQ5Mjk5OnYy", "diffSide": "RIGHT", "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMTo0NzoyMlrOGxQJoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDowODo0MVrOGxVYIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5ODAxNg==", "bodyText": "xroad-proxy-ui-api-setup.sh needs ip and hostname (from iproute and hostname packages). net-tools should be unnecessary. Can't find any reference to tar either.", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454298016", "createdAt": "2020-07-14T11:47:22Z", "author": {"login": "jhyoty"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool\n+Requires(preun):    systemd\n+Requires(postun):   systemd\n+Requires:           net-tools, tar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM4MzY1MQ==", "bodyText": "fixed", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454383651", "createdAt": "2020-07-14T14:08:41Z", "author": {"login": "jansu76"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool\n+Requires(preun):    systemd\n+Requires(postun):   systemd\n+Requires:           net-tools, tar", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5ODAxNg=="}, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2751, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}