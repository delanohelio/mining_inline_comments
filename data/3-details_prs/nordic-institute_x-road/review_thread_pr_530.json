{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MTgyNDA3", "number": 530, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwODowMTo1OVrOEC202Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMTowMzoyMVrOEC6ZWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDMwODczOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwODowMTo1OVrOGfkXuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwOToxNjo0NVrOGfm2Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc1NDkzNg==", "bodyText": "Currently endpoints view lists only base endpoint. I think this should be\nreturn endpoint.method !== '*' && endpoint.path !== '**';", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435754936", "createdAt": "2020-06-05T08:01:59Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return endpoint.method === '*' && endpoint.path === '**';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eba1e80acc65cf8fe62f599b2b2afe184461ca48"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5NTU1MA==", "bodyText": "fixed", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435795550", "createdAt": "2020-06-05T09:16:45Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return endpoint.method === '*' && endpoint.path === '**';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc1NDkzNg=="}, "originalCommit": {"oid": "eba1e80acc65cf8fe62f599b2b2afe184461ca48"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDM1MDY3OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwODoxNTozOVrOGfkyGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwOToxNzoyNlrOGfm33A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc2MTY4OQ==", "bodyText": "i think this could be simplified a bit with just a map-function something like this:\nkeyedServiceClientAccessRights(): UiAccessRight[] { return this.serviceClientAccessRights.map( (sca: AccessRight, index: number) => { return { ... sca, uiKey: index }; }) as UiAccessRight[]; },", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435761689", "createdAt": "2020-06-05T08:15:39Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -189,23 +221,42 @@ export default Vue.extend({\n       this.showConfirmDeleteAll = false;\n \n       api\n-        .post(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n-          {items: this.serviceClientAccessRights.map((item: AccessRight) => ({service_code: item.service_code}))})\n+        .post(\n+          `/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n+          {\n+            items: this.serviceClientAccessRights.map((item: AccessRight) => ({\n+              service_code: item.service_code,\n+            })),\n+          },\n+        )\n         .then(() => {\n           this.$store.dispatch('showSuccess', 'serviceClients.removeSuccess');\n           this.serviceClientAccessRights = [];\n         })\n         .catch((error: any) => this.$store.dispatch('showError', error));\n-\n     },\n     serviceCandidates(): ServiceCandidate[] {\n-      return serviceCandidatesForServiceClient(this.clientServiceDescriptions, this.serviceClientAccessRights);\n+      return serviceCandidatesForServiceClient(\n+        this.clientServiceDescriptions,\n+        this.serviceClientAccessRights,\n+      );\n+    },\n+\n+    keyedServiceClientAccessRights() {\n+      let index = 0;\n+      const arrWithKeys = [];\n+      for (const accessRight of this.serviceClientAccessRights) {\n+        arrWithKeys[index] = accessRight as UiAccessRight;\n+        arrWithKeys[index].uiKey = index;\n+        index++;\n+      }\n+\n+      return arrWithKeys;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eba1e80acc65cf8fe62f599b2b2afe184461ca48"}, "originalPosition": 266}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc5NTkzMg==", "bodyText": "fixed", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435795932", "createdAt": "2020-06-05T09:17:26Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -189,23 +221,42 @@ export default Vue.extend({\n       this.showConfirmDeleteAll = false;\n \n       api\n-        .post(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n-          {items: this.serviceClientAccessRights.map((item: AccessRight) => ({service_code: item.service_code}))})\n+        .post(\n+          `/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights/delete`,\n+          {\n+            items: this.serviceClientAccessRights.map((item: AccessRight) => ({\n+              service_code: item.service_code,\n+            })),\n+          },\n+        )\n         .then(() => {\n           this.$store.dispatch('showSuccess', 'serviceClients.removeSuccess');\n           this.serviceClientAccessRights = [];\n         })\n         .catch((error: any) => this.$store.dispatch('showError', error));\n-\n     },\n     serviceCandidates(): ServiceCandidate[] {\n-      return serviceCandidatesForServiceClient(this.clientServiceDescriptions, this.serviceClientAccessRights);\n+      return serviceCandidatesForServiceClient(\n+        this.clientServiceDescriptions,\n+        this.serviceClientAccessRights,\n+      );\n+    },\n+\n+    keyedServiceClientAccessRights() {\n+      let index = 0;\n+      const arrWithKeys = [];\n+      for (const accessRight of this.serviceClientAccessRights) {\n+        arrWithKeys[index] = accessRight as UiAccessRight;\n+        arrWithKeys[index].uiKey = index;\n+        index++;\n+      }\n+\n+      return arrWithKeys;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc2MTY4OQ=="}, "originalCommit": {"oid": "eba1e80acc65cf8fe62f599b2b2afe184461ca48"}, "originalPosition": 266}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDg5MzY4OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMTowMzoyMVrOGfqHoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMToxNjo0M1rOGfqeaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0OTEyMA==", "bodyText": "one more thing. there's no need to create that filtered -variable. Just return the value from expression.", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435849120", "createdAt": "2020-06-05T11:03:21Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return !this.isBaseEndpoint(endpoint);\n+      });\n+\n+      return filtered;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d10c7e05f5aab5b08b992794bd4c01074335248"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg1NDk1Mg==", "bodyText": "fixed", "url": "https://github.com/nordic-institute/X-Road/pull/530#discussion_r435854952", "createdAt": "2020-06-05T11:16:43Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Endpoints/Endpoints.vue", "diffHunk": "@@ -77,8 +82,16 @@ export default Vue.extend({\n   },\n   computed: {\n     ...mapGetters(['service']),\n+\n+    endpoints(): Endpoint[] {\n+      const filtered = this.service.endpoints.filter((endpoint: Endpoint) => {\n+        return !this.isBaseEndpoint(endpoint);\n+      });\n+\n+      return filtered;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0OTEyMA=="}, "originalCommit": {"oid": "4d10c7e05f5aab5b08b992794bd4c01074335248"}, "originalPosition": 101}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2725, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}