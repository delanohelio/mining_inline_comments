{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMjI0MjQ3", "number": 747, "title": "XRDDEV-1233: Replace dtsgenerator with openapi-typescript-codegen", "bodyText": "https://jira.niis.org/browse/XRDDEV-1233", "createdAt": "2020-10-14T09:05:06Z", "url": "https://github.com/nordic-institute/X-Road/pull/747", "merged": true, "mergeCommit": {"oid": "3ed7c9b7b294a0514bf80e3bd6d58e75ee8e2b30"}, "closed": true, "closedAt": "2020-10-19T10:18:18Z", "author": {"login": "TJaakkola"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSZRTgAH2gAyNTAzMjI0MjQ3OmYxYmIxZmJiMzNlMWE5ZThmNzI5MmU0MzFlMzhkODY5NThjYmRiYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUBceuAFqTUxMTYxMzYxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f1bb1fbb33e1a9e8f7292e431e38d86958cbdba2", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/f1bb1fbb33e1a9e8f7292e431e38d86958cbdba2", "committedDate": "2020-10-14T08:54:24Z", "message": "XRDDEV-1233: Replace dtsgenerator with openapi-typescript-codegen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e9d115d8131c4b37292a3fea8c52e16ab4407ef", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/7e9d115d8131c4b37292a3fea8c52e16ab4407ef", "committedDate": "2020-10-14T09:09:54Z", "message": "XRDDEV-1233: Add licenses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0a783742352287bdfbc44e58f3a565c5834f8e2", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/a0a783742352287bdfbc44e58f3a565c5834f8e2", "committedDate": "2020-10-14T09:14:19Z", "message": "XRDDEV-1233: Remove generated types from repository"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwMzUyODI1", "url": "https://github.com/nordic-institute/X-Road/pull/747#pullrequestreview-510352825", "createdAt": "2020-10-16T10:37:57Z", "commit": {"oid": "a0a783742352287bdfbc44e58f3a565c5834f8e2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMDozNzo1N1rOHi0tLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMDo0MDoyM1rOHi00cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3NzE2NA==", "bodyText": "Seems to generate a lot of stuff we don't need (like mock server and such). Maybe add these flags to only generate the models --exportCore false --exportServices false", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r506277164", "createdAt": "2020-10-16T10:37:57Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/frontend/package.json", "diffHunk": "@@ -12,7 +12,7 @@\n     \"test:coverage\": \"vue-cli-service test:unit --coverage\",\n     \"check-audit\": \"check-audit\",\n     \"resolve-audit\": \"resolve-audit\",\n-    \"generate-types\": \"./node_modules/typescript/bin/tsc --esModuleInterop scripts/dtsgen-wrapper.ts && node scripts/dtsgen-wrapper.js\",\n+    \"generate-types\": \"openapi --input ../src/main/resources/openapi-definition.yaml --output ./src/openapi-types\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0a783742352287bdfbc44e58f3a565c5834f8e2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3OTAyNA==", "bodyText": "Also the serve and build scripts try to remove src/openapi-types.ts. Should probably be removing src/openapi-types folder.", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r506279024", "createdAt": "2020-10-16T10:40:23Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/frontend/package.json", "diffHunk": "@@ -12,7 +12,7 @@\n     \"test:coverage\": \"vue-cli-service test:unit --coverage\",\n     \"check-audit\": \"check-audit\",\n     \"resolve-audit\": \"resolve-audit\",\n-    \"generate-types\": \"./node_modules/typescript/bin/tsc --esModuleInterop scripts/dtsgen-wrapper.ts && node scripts/dtsgen-wrapper.js\",\n+    \"generate-types\": \"openapi --input ../src/main/resources/openapi-definition.yaml --output ./src/openapi-types\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjI3NzE2NA=="}, "originalCommit": {"oid": "a0a783742352287bdfbc44e58f3a565c5834f8e2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f4826079a62f827a2a3b6513d3d644a0eead375", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/5f4826079a62f827a2a3b6513d3d644a0eead375", "committedDate": "2020-10-16T13:58:32Z", "message": "XRDDEV-1233: Fix removing existing types on build and serve. Not generating unused type categories"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNDQ4Mjc4", "url": "https://github.com/nordic-institute/X-Road/pull/747#pullrequestreview-511448278", "createdAt": "2020-10-19T06:38:48Z", "commit": {"oid": "5f4826079a62f827a2a3b6513d3d644a0eead375"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjozODo0OFrOHj_rfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjozODo0OFrOHj_rfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwNTUzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"serve\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service serve\",\n          \n          \n            \n                \"build\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service build\",\n          \n          \n            \n                \"serve\": \"rm -rf src/openapi-types && npm run generate-types && vue-cli-service serve\",\n          \n          \n            \n                \"build\": \"rm -rf src/openapi-types && npm run generate-types && vue-cli-service build\",", "url": "https://github.com/nordic-institute/X-Road/pull/747#discussion_r507505534", "createdAt": "2020-10-19T06:38:48Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/frontend/package.json", "diffHunk": "@@ -3,16 +3,16 @@\n   \"version\": \"0.1.0\",\n   \"private\": true,\n   \"scripts\": {\n-    \"serve\": \"rm -f src/openapi-types.ts && npm run generate-types && vue-cli-service serve\",\n-    \"build\": \"rm -f src/openapi-types.ts && npm run generate-types && vue-cli-service build\",\n+    \"serve\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service serve\",\n+    \"build\": \"rm -f src/openapi-types && npm run generate-types && vue-cli-service build\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f4826079a62f827a2a3b6513d3d644a0eead375"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d60541bfaaabeb10dac230c3a0bcb58fa50a89f", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/3d60541bfaaabeb10dac230c3a0bcb58fa50a89f", "committedDate": "2020-10-19T06:41:05Z", "message": "Update src/proxy-ui-api/frontend/package.json\n\nCo-authored-by: Caro Hautam\u00e4ki <caro.hautamaki@gofore.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjEzNjE4", "url": "https://github.com/nordic-institute/X-Road/pull/747#pullrequestreview-511613618", "createdAt": "2020-10-19T10:16:44Z", "commit": {"oid": "3d60541bfaaabeb10dac230c3a0bcb58fa50a89f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4018, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}