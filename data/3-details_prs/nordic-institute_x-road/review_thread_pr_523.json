{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDc5MTYz", "number": 523, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDozNzoyNVrOEC58tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDo1MDoyMVrOEC6KHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDgyMDM2OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDozNzoyNVrOGfpaqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMTo0NzowOVrOGfrQkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzNzYxMA==", "bodyText": "maybe add mention about validation errors here, now it mentions only code and metadata?", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435837610", "createdAt": "2020-06-05T10:37:25Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4875,7 +4875,7 @@ components:\n         - ERROR_CODE_MISSING_PRIVATE_PARAMS # The downloaded global configuration did not contain private parameters\n         - ERROR_CODE_UNINITIALIZED # The configuration client is initializing.\n         - UNKNOWN\n-    CodeWithMetadata:\n+    CodeWithDetails:\n       type: object\n       description: object that contains a code identifier and possibly collection of", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg2Nzc5NQ==", "bodyText": "Added a mention of validation errors", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435867795", "createdAt": "2020-06-05T11:47:09Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4875,7 +4875,7 @@ components:\n         - ERROR_CODE_MISSING_PRIVATE_PARAMS # The downloaded global configuration did not contain private parameters\n         - ERROR_CODE_UNINITIALIZED # The configuration client is initializing.\n         - UNKNOWN\n-    CodeWithMetadata:\n+    CodeWithDetails:\n       type: object\n       description: object that contains a code identifier and possibly collection of", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzNzYxMA=="}, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDgyNDIwOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDozODo1NFrOGfpdSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMTo0ODoxNFrOGfrShA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzODI4Mw==", "bodyText": "would mentioning \"dictionary\" help to make this structure more clear? I was a bit befuddled at first, not understanding how this results in Map<String, List<String>> validationErrors (granted, due to my lack of knowledge in openapi)", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435838283", "createdAt": "2020-06-05T10:38:54Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4895,6 +4895,19 @@ components:\n           items:\n             type: string\n             format: text\n+        validation_errors:\n+          description: object that contains validation errors bound to their respected fields - the object's key", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg2ODI5Mg==", "bodyText": "Tried to be more verbose about this. Also added a link to OAS3 Dictionary docs right after the additionalProperties keyword", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435868292", "createdAt": "2020-06-05T11:48:14Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4895,6 +4895,19 @@ components:\n           items:\n             type: string\n             format: text\n+        validation_errors:\n+          description: object that contains validation errors bound to their respected fields - the object's key", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgzODI4Mw=="}, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDg1NDcwOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDo1MDoyMVrOGfpwpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMjo1NzoyOVrOGfta1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0MzIzNg==", "bodyText": "I think that we should document the different validation error codes for the end users. Both our own custom errors (NoPercent, NoBackslashes, etc) and standard bean validation errors (NotNull, Size, etc - this should probably be just a link to documentation elsewhere, possible some section of Bean Validation API specification?).\nNot sure what is a good way to do this, in openapi specification, or maybe somewhere in https://github.com/nordic-institute/X-Road/blob/develop/doc/Manuals/ug-ss_x-road_6_security_server_user_guide.md#19-management-rest-apis ?\nSimilar documentation is missing for error codes and metadata, but we already have a ticket about that https://jira.niis.org/browse/XRDDEV-665", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435843236", "createdAt": "2020-06-05T10:50:21Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4895,6 +4895,19 @@ components:\n           items:\n             type: string\n             format: text\n+        validation_errors:\n+          description: object that contains validation errors bound to their respected fields - the object's key\n+            represents the field where the validation error has happened and the key's value is the validation error\n+          type: object\n+          additionalProperties:\n+            type: array\n+            description: array containing the validation errors of a field\n+            items:\n+              type: string\n+              format: text\n+          example:\n+            clientAdd.client.memberCode: [\"NoPercent\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg2NTcyNA==", "bodyText": "I think it could be a good idea to add them into the official documents (e.g. the one you linked or https://github.com/nordic-institute/X-Road/blob/develop/doc/Manuals/ug-ss_x-road_6_security_server_user_guide.md#192-executing-rest-calls). Then we can just add a link to the document in the validation_errors description field.", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435865724", "createdAt": "2020-06-05T11:42:18Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4895,6 +4895,19 @@ components:\n           items:\n             type: string\n             format: text\n+        validation_errors:\n+          description: object that contains validation errors bound to their respected fields - the object's key\n+            represents the field where the validation error has happened and the key's value is the validation error\n+          type: object\n+          additionalProperties:\n+            type: array\n+            description: array containing the validation errors of a field\n+            items:\n+              type: string\n+              format: text\n+          example:\n+            clientAdd.client.memberCode: [\"NoPercent\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0MzIzNg=="}, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkwMzE4OQ==", "bodyText": "Added a chapter to the X-Road User Guide and a mention about it into the API definition.", "url": "https://github.com/nordic-institute/X-Road/pull/523#discussion_r435903189", "createdAt": "2020-06-05T12:57:29Z", "author": {"login": "carohauta"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4895,6 +4895,19 @@ components:\n           items:\n             type: string\n             format: text\n+        validation_errors:\n+          description: object that contains validation errors bound to their respected fields - the object's key\n+            represents the field where the validation error has happened and the key's value is the validation error\n+          type: object\n+          additionalProperties:\n+            type: array\n+            description: array containing the validation errors of a field\n+            items:\n+              type: string\n+              format: text\n+          example:\n+            clientAdd.client.memberCode: [\"NoPercent\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTg0MzIzNg=="}, "originalCommit": {"oid": "bbae24dea7925207ddeee7ddf40b64a8931720f4"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2720, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}