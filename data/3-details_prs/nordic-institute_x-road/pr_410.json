{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3MTcxMTEy", "number": 410, "title": "XRDDEV-638 error details", "bodyText": "https://jira.niis.org/browse/XRDDEV-638\n\nError snackbar has a version that stays open until user closes it. It has also an error id that user can copy.\nSnackbar doesn't use $bus anymore. It's replaced with Vuex store, which is a bit easier to understand and maintain.\nIt's possible to launch Success snackbar with localisation code or \"raw text\".\nError Snackbar has same and also possibility to use error object as a parameter.", "createdAt": "2020-03-12T10:49:57Z", "url": "https://github.com/nordic-institute/X-Road/pull/410", "merged": true, "mergeCommit": {"oid": "8a4d41f03276d52e18b692f7e4ea9eb69a5914b5"}, "closed": true, "closedAt": "2020-03-24T12:43:29Z", "author": {"login": "Riippi"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL-xIvAH2gAyMzg3MTcxMTEyOjRmYTZmMjEwYmNiYzk2ODVkNzExYzI2YzNjNjRhMTQ4Y2YwYTMzMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQxkQMgH2gAyMzg3MTcxMTEyOmJiZjJiZjUxMWZhOTg5ZTdiOWUwNDA1ZDY4YTdkM2VlOWI4NWJjYjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4fa6f210bcbc9685d711c26c3c64a148cf0a330b", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/4fa6f210bcbc9685d711c26c3c64a148cf0a330b", "committedDate": "2020-03-09T14:27:02Z", "message": "XRDDEV-638 Add new snackbar system"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8695c9180511ad9b7892a2ec8f6fd89fd6f3be63", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/8695c9180511ad9b7892a2ec8f6fd89fd6f3be63", "committedDate": "2020-03-09T15:28:39Z", "message": "XRDDEV-638 Use the new snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d730dd68dad54ba1bac6f46800c1de8e2a854067", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/d730dd68dad54ba1bac6f46800c1de8e2a854067", "committedDate": "2020-03-09T15:37:39Z", "message": "XRDDEV-638 Use the new snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3168ccbfdd8584d1989652a8542411b4da4ab8d2", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/3168ccbfdd8584d1989652a8542411b4da4ab8d2", "committedDate": "2020-03-10T14:53:51Z", "message": "XRDDEV-638 Add library for clipboard copy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e781b19bc15ff1aa15cfbb44bd2bc2296cc90913", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/e781b19bc15ff1aa15cfbb44bd2bc2296cc90913", "committedDate": "2020-03-10T14:55:40Z", "message": "XRDDEV-638 Update store for snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7278c3fdb557ce46a3bab173f4eda972055e1129", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/7278c3fdb557ce46a3bab173f4eda972055e1129", "committedDate": "2020-03-10T14:59:57Z", "message": "XRDDEV-638 Use new snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef208b3c284ccae8dc0e23556204b29834e72b72", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ef208b3c284ccae8dc0e23556204b29834e72b72", "committedDate": "2020-03-11T07:56:55Z", "message": "Merge commit '4abcc85c1f6d3034a56824b7053057df914840a4' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60122eb98e32aa7aca4be415216b7fe6fbdaf636", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/60122eb98e32aa7aca4be415216b7fe6fbdaf636", "committedDate": "2020-03-11T13:34:45Z", "message": "XRDDEV-638 Fix linter errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee64ecd69563b65c4a86bb918e2d45ede3b001f8", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ee64ecd69563b65c4a86bb918e2d45ede3b001f8", "committedDate": "2020-03-11T15:00:02Z", "message": "Merge commit '97ee72287917a928a18379cc16bebf07e604f29e' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe66a434fe24311eb5253143bb1be8da1d7488ab", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/fe66a434fe24311eb5253143bb1be8da1d7488ab", "committedDate": "2020-03-12T10:42:01Z", "message": "XRDDEV-638 Add localisation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddbb469c59bc82ab84a11c2442a992b3a30df195", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ddbb469c59bc82ab84a11c2442a992b3a30df195", "committedDate": "2020-03-12T11:14:28Z", "message": "XRDDEV-638 Add missing changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5112667d9392248511270f001cc86b15863d3a2", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/e5112667d9392248511270f001cc86b15863d3a2", "committedDate": "2020-03-12T11:37:52Z", "message": "XRDDEV-638 Update packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6f9c57ab2a5cfcfd022053335a36e00fc2db7c7", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/d6f9c57ab2a5cfcfd022053335a36e00fc2db7c7", "committedDate": "2020-03-13T15:15:27Z", "message": "Merge commit 'e0b35aa0f0fd50ed9e766caa8b58d6c65227b067' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15892e295b775eb74934f7c7ac1b3e08ce751bf7", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/15892e295b775eb74934f7c7ac1b3e08ce751bf7", "committedDate": "2020-03-16T18:14:41Z", "message": "XRDDEV-815 Add comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5b65b86a35653c9118db5bd758ca6d6f9a3f300", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/e5b65b86a35653c9118db5bd758ca6d6f9a3f300", "committedDate": "2020-03-17T09:05:16Z", "message": "Merge commit '9b4a6bedcabc8fa0e7a2b3526922a0e5c994e690' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "663c2bb97a289caf2c19fe1162f163e35f0057a4", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/663c2bb97a289caf2c19fe1162f163e35f0057a4", "committedDate": "2020-03-17T09:08:24Z", "message": "XRDDEV-638 Fix merge error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "360927b1159c5e5a4909d5f5fa602d43b4232aa3", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/360927b1159c5e5a4909d5f5fa602d43b4232aa3", "committedDate": "2020-03-17T10:47:49Z", "message": "Merge commit '3416188a7c4ebce62a78bf9aad0edd91a337a670' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db4adee5ce96543eb203ca3466ad5c0173a1dcf3", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/db4adee5ce96543eb203ca3466ad5c0173a1dcf3", "committedDate": "2020-03-17T16:01:09Z", "message": "XRDDEV-638 Fix merge error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60c939ce103f5650e03148fe6537e8220bd7583c", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/60c939ce103f5650e03148fe6537e8220bd7583c", "committedDate": "2020-03-18T10:02:00Z", "message": "XRDDEV-638 Fix audit issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e76575724d98b00bf1a6a11ec5d5e9194101870", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/9e76575724d98b00bf1a6a11ec5d5e9194101870", "committedDate": "2020-03-19T11:25:54Z", "message": "Merge commit '5ee5ce2a3529df4eb90600a4be6fd07a80d4a9ab' into XRDDEV-638-error-details\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/audit-resolve.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5Mjg5Njcy", "url": "https://github.com/nordic-institute/X-Road/pull/410#pullrequestreview-379289672", "createdAt": "2020-03-23T10:14:10Z", "commit": {"oid": "9e76575724d98b00bf1a6a11ec5d5e9194101870"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MzAxMjIy", "url": "https://github.com/nordic-institute/X-Road/pull/410#pullrequestreview-379301222", "createdAt": "2020-03-23T10:29:31Z", "commit": {"oid": "9e76575724d98b00bf1a6a11ec5d5e9194101870"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxMDoyOTozMVrOF5_PRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxMDoyOTozMVrOF5_PRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjM0OTI1Mg==", "bodyText": "Isn't this state of type NotificationsState from above? I think types should be used always when possible - it's a lot easier for other developers to get into the implementation.", "url": "https://github.com/nordic-institute/X-Road/pull/410#discussion_r396349252", "createdAt": "2020-03-23T10:29:31Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/store/modules/notifications.ts", "diffHunk": "@@ -0,0 +1,142 @@\n+import { ActionTree, GetterTree, Module, MutationTree } from 'vuex';\n+import { RootState } from '../types';\n+\n+\n+export interface NotificationsState {\n+  successMessageCode: string;\n+  successMessageRaw: string;\n+  showSuccessCode: boolean;\n+  showSuccessRaw: boolean;\n+  errorMessageCode: string;\n+  errorMessageRaw: string;\n+  errorObject: any;\n+  showErrorObject: boolean;\n+  showErrorRaw: boolean;\n+  showErrorCode: boolean;\n+}\n+const getDefaultState = () => {\n+  return {\n+    successMessageCode: '',\n+    successMessageRaw: '',\n+    showSuccessCode: false,\n+    showSuccessRaw: false,\n+    errorMessageCode: '',\n+    errorMessageRaw: '',\n+    showErrorObject: false,\n+    showErrorCode: false,\n+    showErrorRaw: false,\n+    errorObject: undefined,\n+  };\n+};\n+\n+// Initial state. The state can be reseted with this.\n+const notificationsState: NotificationsState = getDefaultState();\n+\n+export const getters: GetterTree<NotificationsState, RootState> = {\n+  showSuccessCode(state): boolean {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e76575724d98b00bf1a6a11ec5d5e9194101870"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MzQyNDY4", "url": "https://github.com/nordic-institute/X-Road/pull/410#pullrequestreview-379342468", "createdAt": "2020-03-23T11:28:31Z", "commit": {"oid": "9e76575724d98b00bf1a6a11ec5d5e9194101870"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cb71e45bbfedc683d24b1c2359008043594d466", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/5cb71e45bbfedc683d24b1c2359008043594d466", "committedDate": "2020-03-23T15:39:03Z", "message": "XRDDEV-638 Added typings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d07eca10bd3064e49aa46042d76cdaa0fda0c4c9", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/d07eca10bd3064e49aa46042d76cdaa0fda0c4c9", "committedDate": "2020-03-23T15:47:12Z", "message": "Merge commit 'bd28511e066a243531a7a69e539a2c88b01a8620' into XRDDEV-638-error-details\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/src/views/Settings/SystemParameters/SystemParameters.vue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "621e60809df40bc6b9fbb349cb11b37e107d5af7", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/621e60809df40bc6b9fbb349cb11b37e107d5af7", "committedDate": "2020-03-23T15:54:25Z", "message": "XRDDEV-638 Change error calls from merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ba8142baea4f7284e64706ade1779f735a73226", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/8ba8142baea4f7284e64706ade1779f735a73226", "committedDate": "2020-03-24T10:12:16Z", "message": "Merge commit '46be6772db67b8c7e7dc1f37593520ef4bbbafa4' into XRDDEV-638-error-details\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/src/views/Settings/SystemParameters/SystemParameters.vue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eeda4fb365f3aca768ac143c017b3f83e70afa10", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/eeda4fb365f3aca768ac143c017b3f83e70afa10", "committedDate": "2020-03-24T11:10:19Z", "message": "XRDDEV-638 Add return typings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjA4OTAx", "url": "https://github.com/nordic-institute/X-Road/pull/410#pullrequestreview-380208901", "createdAt": "2020-03-24T11:12:41Z", "commit": {"oid": "eeda4fb365f3aca768ac143c017b3f83e70afa10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c83df69e540b1ce7994a875453527d7f2433765", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/8c83df69e540b1ce7994a875453527d7f2433765", "committedDate": "2020-03-24T11:26:47Z", "message": "Merge commit 'd18a485d6f208e52eeaff324f4aea36b45eb085c' into XRDDEV-638-error-details"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbf2bf511fa989e7b9e0405d68a7d3ee9b85bcb3", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/bbf2bf511fa989e7b9e0405d68a7d3ee9b85bcb3", "committedDate": "2020-03-24T11:53:49Z", "message": "XRDDEV-638 Fix merge conflicts"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4368, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}