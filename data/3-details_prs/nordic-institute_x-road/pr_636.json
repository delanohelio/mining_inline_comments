{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NTIxMzgz", "number": 636, "title": "XRDDEV-559 remove old ui", "bodyText": "https://jira.niis.org/browse/XRDDEV-559", "createdAt": "2020-08-07T10:16:43Z", "url": "https://github.com/nordic-institute/X-Road/pull/636", "merged": true, "mergeCommit": {"oid": "19161a479aa33705eaea2b857d86e66e1a2a2694"}, "closed": true, "closedAt": "2020-08-11T07:10:45Z", "author": {"login": "jansu76"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4EQ4ZAH2gAyNDY0NTIxMzgzOjAwNDk3Y2E5NzNlYjBlMjFhMTU5YmIzMzBiOWI4NjIwMzI5MmM5NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9xHufgFqTQ2NDc5MTA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "00497ca973eb0e21a159bb330b9b86203292c965", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/00497ca973eb0e21a159bb330b9b86203292c965", "committedDate": "2020-07-24T13:43:54Z", "message": "XRDDEV-559 remove proxy-ui sources and update packaging accordingly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b2f3368a18d6277bd295dd5540ff45ebe84d6ce", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/0b2f3368a18d6277bd295dd5540ff45ebe84d6ce", "committedDate": "2020-07-28T11:58:27Z", "message": "XRDDEV-559 remove xroad-jetty9 and xroad-nginx when xroad-proxy installs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17909f84e08d496f1ac219a1a26004cdbfb9b3dd", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/17909f84e08d496f1ac219a1a26004cdbfb9b3dd", "committedDate": "2020-07-29T08:53:03Z", "message": "XRDDEV-559 update dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b459196bf81f956c1fd8c4fb3244c7e040b79ebe", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/b459196bf81f956c1fd8c4fb3244c7e040b79ebe", "committedDate": "2020-07-29T12:35:01Z", "message": "XRDDEV-559 update ubuntu conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a056389acf4b160387675e0d9daf3f78b18bb28", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/6a056389acf4b160387675e0d9daf3f78b18bb28", "committedDate": "2020-07-30T13:18:45Z", "message": "XRDDEV-559 fix rhel problems, including nginx still reserving 4000 after upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17e365e1115594ff4587818d2cf694d399d96bb6", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/17e365e1115594ff4587818d2cf694d399d96bb6", "committedDate": "2020-07-30T15:22:56Z", "message": "XRDDEV-559 move proxy-ui system properties under proxy-ui-api, and migrate on RHEL upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3503f0d612dc86b792a68cfce1098b22f52f0ea", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/d3503f0d612dc86b792a68cfce1098b22f52f0ea", "committedDate": "2020-07-30T16:33:53Z", "message": "XRDDEV-559 migrate system parameters on ubuntu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95f45ccbfdee461b1f7a108eecf8b5620c312e8f", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/95f45ccbfdee461b1f7a108eecf8b5620c312e8f", "committedDate": "2020-07-31T06:03:12Z", "message": "Merge branch 'develop' into XRDDEV-559-remove-old-ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b8481e452f8a0c5307947ea7b236b3ede38ce95", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/5b8481e452f8a0c5307947ea7b236b3ede38ce95", "committedDate": "2020-08-04T14:30:34Z", "message": "XRDDEV-559 remove unnecessary SELinux configuration, migrate nginx.crt -> proxy-ui-api.crt (key,p12), remove empty local.ini proxy-ui section, obsolete xroad-jetty+xroad-nginx by proxy-ui-api instead of proxy-ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b25ebf38945276de53e58bba6d8751792f82da41", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/b25ebf38945276de53e58bba6d8751792f82da41", "committedDate": "2020-08-06T11:26:32Z", "message": "XRDDEV-559 fix problems with local.ini wsdl-validator-command handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "836ee26dbd7b256233df3bca3ce97b59c2e7feed", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/836ee26dbd7b256233df3bca3ce97b59c2e7feed", "committedDate": "2020-08-06T12:16:24Z", "message": "XRDDEV-559 fix wsdlvalidator removal now restarts xroad-proxy-ui-api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "496fe0edafa30c8d17da96158bd7e2e51a4bb960", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/496fe0edafa30c8d17da96158bd7e2e51a4bb960", "committedDate": "2020-08-06T12:46:49Z", "message": "XRDDEV-559 only remove local.ini wsdl-validator-command with actual remove"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53d75e803c16a8a1575a969122f8b34334acc83f", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/53d75e803c16a8a1575a969122f8b34334acc83f", "committedDate": "2020-08-06T15:11:16Z", "message": "XRDDEV-559 fix missing requires from RHEL xroad-proxy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/aa26be5e8c12cfff8bbcf3830c14b7c46dff6513", "committedDate": "2020-08-07T06:30:38Z", "message": "Merge branch 'develop' into XRDDEV-559-remove-old-ui\n\nFix Conflicts:\n\tdoc/Manuals/ug-syspar_x-road_v6_system_parameters.md\n\tsrc/packages/src/xroad/redhat/SPECS/xroad-base.spec\n\tsrc/packages/src/xroad/ubuntu/generic/xroad-base.install"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjI2MjU5", "url": "https://github.com/nordic-institute/X-Road/pull/636#pullrequestreview-463226259", "createdAt": "2020-08-07T11:05:40Z", "commit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMTowNTo0MVrOG9VxGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMToxNToxNVrOG9V_3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3Mjk1Mw==", "bodyText": "suggestion (a bit simpler and also avoids copying unnecessary libs):\ntask copyDeps(type: Copy) {\n    into \"$buildDir/unpacked-libs\"\n    from configurations.compileClasspath.find {it.name.startsWith(\"postgresql\") }\n}\n\nbuild.dependsOn copyDeps", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466972953", "createdAt": "2020-08-07T11:05:41Z", "author": {"login": "jhyoty"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -187,6 +187,20 @@ jar {\n     classifier = 'plainDependency'\n }\n \n+// extract dependency jars from spring boot jar, to be able to package postgresql.jar\n+task unpackLibsFromBootJar(type: Copy) {\n+    from(zipTree(\"${buildDir}/libs/proxy-ui-api-1.0.jar\")) {\n+        include \"BOOT-INF/lib/*\"\n+        eachFile { fcd ->\n+            fcd.relativePath = new RelativePath(true, fcd.relativePath.segments.drop(2))\n+        }\n+        includeEmptyDirs = false\n+    }\n+    into \"$buildDir/unpacked-libs\"\n+}\n+\n+jar.finalizedBy(unpackLibsFromBootJar)\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3MzE4Nw==", "bodyText": "should be unnecessary (already a transitive dependency)", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466973187", "createdAt": "2020-08-07T11:06:21Z", "author": {"login": "jhyoty"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -208,6 +222,7 @@ dependencies {\n     implementation('wsdl4j:wsdl4j:1.6.3')\n     implementation('com.github.vladimir-bukhtoyarov:bucket4j-core:4.10.0')\n     implementation(\"io.swagger.parser.v3:swagger-parser:${swaggerParserVersion}\")\n+    implementation(\"org.postgresql:postgresql:42.2.14\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3NjczNA==", "bodyText": "Maybe it would be safer to keep the numbering (just leave an empty 3.3 section \"proxy-ui removed in version 6.24\" or something) in case there are some external links to the parameter sections.", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466976734", "createdAt": "2020-08-07T11:15:15Z", "author": {"login": "jhyoty"}, "path": "doc/Manuals/ug-syspar_x-road_v6_system_parameters.md", "diffHunk": "@@ -276,14 +276,7 @@ limits the configuration parameters usage:\n This in practice limits configurability to different kinds of PostgreSQL database configurations, and it is not possible\n to use for example MySQL as a data store for REST API module.\n \n-### 3.3 Proxy User Interface parameters: `[proxy-ui]`\n-\n-| **Parameter**                                    | **Vanilla value**                          | **Description** |\n-|--------------------------------------------------|--------------------------------------------|-----------------|\n-| wsdl-validator-command                           |                                            | The command to validate the given X-Road service WSDL. The command script must:<br/>a) read the WSDL from the URI given as an argument,<br/>b) return exit code 0 on success,<br/>c) return exit code 0 and write warnings to the standard error (*stderr*), if warnings occurs,<br/>d) return exit code other then 0 and write error messages to the standard error (*stderr*), if errors occurs.<br/>Defaults to no operation. |\n-| auth-cert-reg-signature-digest-algorithm-id      | SHA-512                                    | Signature digest algorithm used for generating authentication certificate registration request.<br/>Possible values are<br/>-   SHA-256,<br/>-   SHA-384,<br/>-   SHA-512. |\n-\n-### 3.4 Signer parameters: `[signer]`\n+### 3.3 Signer parameters: `[signer]`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "048157231919a705c2e201f141f0f394948535d3", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/048157231919a705c2e201f141f0f394948535d3", "committedDate": "2020-08-10T15:59:24Z", "message": "XRDDEV-559 improve proxy-ui-api build based on PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f643f06e1822def341cca0478753d51ce0359bc", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/9f643f06e1822def341cca0478753d51ce0359bc", "committedDate": "2020-08-10T16:09:07Z", "message": "XRDDEV-559 keep deprecated 3.3 proxy-ui chapter as suggested in PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3068141a75b2bed593d96bd65a70e5ebf8cd2561", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/3068141a75b2bed593d96bd65a70e5ebf8cd2561", "committedDate": "2020-08-10T16:10:55Z", "message": "XRDDEV-559 fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NzkxMDcy", "url": "https://github.com/nordic-institute/X-Road/pull/636#pullrequestreview-464791072", "createdAt": "2020-08-11T06:49:15Z", "commit": {"oid": "3068141a75b2bed593d96bd65a70e5ebf8cd2561"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4051, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}