{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMzUxMTIy", "number": 455, "title": "XRDDEV-932: restore backup frontend implementation", "bodyText": "JIRA ticket: https://jira.niis.org/browse/XRDDEV-932", "createdAt": "2020-04-09T10:47:02Z", "url": "https://github.com/nordic-institute/X-Road/pull/455", "merged": true, "mergeCommit": {"oid": "4a68e30c904a3968b89ae80fc1e16ffb5b7c2be1"}, "closed": true, "closedAt": "2020-04-17T10:06:40Z", "author": {"login": "raits"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV6MDWgH2gAyNDAxMzUxMTIyOjYzMjMyMjVlZWFiNTgyZjk5ZjAxZGQ3ZmRlMGQ2MjE3Nzg2OWE4NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYeaXggFqTM5NTMyNzE3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6323225eeab582f99f01dd7fde0d62177869a849", "author": {"user": {"login": "raits", "name": "Raido Kaju"}}, "url": "https://github.com/nordic-institute/X-Road/commit/6323225eeab582f99f01dd7fde0d62177869a849", "committedDate": "2020-04-09T10:46:09Z", "message": "XRDDEV-932: restore backup frontend implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTk4OTcy", "url": "https://github.com/nordic-institute/X-Road/pull/455#pullrequestreview-390998972", "createdAt": "2020-04-09T17:40:11Z", "commit": {"oid": "6323225eeab582f99f01dd7fde0d62177869a849"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzo0MDoxMVrOGDixEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzo0MDoxMVrOGDixEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM2ODUzMQ==", "bodyText": "Is async necessary here?  After all await-keyword is not used.", "url": "https://github.com/nordic-institute/X-Road/pull/455#discussion_r406368531", "createdAt": "2020-04-09T17:40:11Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Settings/BackupAndRestore/RestoreBackupButton.vue", "diffHunk": "@@ -0,0 +1,77 @@\n+<template>\n+  <small-button\n+    v-if=\"canBackup\"\n+    :min_width=\"50\"\n+    class=\"xrd-table-button\"\n+    data-test=\"backup-restore\"\n+    @click=\"showConfirmation = true\"\n+    >{{ $t('action.restore') }}\n+    <confirm-dialog\n+      :dialog=\"showConfirmation\"\n+      :loading=\"restoring\"\n+      title=\"backup.action.restore.dialog.title\"\n+      text=\"backup.action.restore.dialog.confirmation\"\n+      :data=\"{ file: backup.filename }\"\n+      @cancel=\"showConfirmation = false\"\n+      @accept=\"restoreBackup\"\n+    />\n+  </small-button>\n+</template>\n+\n+<script lang=\"ts\">\n+import Vue from 'vue';\n+import { Prop } from 'vue/types/options';\n+import { Backup } from '@/types';\n+import * as api from '@/util/api';\n+import SmallButton from '@/components/ui/SmallButton.vue';\n+import ConfirmDialog from '@/components/ui/ConfirmDialog.vue';\n+export default Vue.extend({\n+  name: 'RestoreBackupButton',\n+  components: {\n+    SmallButton,\n+    ConfirmDialog,\n+  },\n+  props: {\n+    canBackup: {\n+      type: Boolean,\n+      default: false,\n+      required: true,\n+    },\n+    backup: {\n+      type: Object as Prop<Backup>,\n+      required: true,\n+    },\n+  },\n+  data() {\n+    return {\n+      showConfirmation: false,\n+      restoring: false,\n+    };\n+  },\n+  methods: {\n+    async restoreBackup() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6323225eeab582f99f01dd7fde0d62177869a849"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMDAwODUz", "url": "https://github.com/nordic-institute/X-Road/pull/455#pullrequestreview-391000853", "createdAt": "2020-04-09T17:42:55Z", "commit": {"oid": "6323225eeab582f99f01dd7fde0d62177869a849"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzo0Mjo1NVrOGDi3JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzo0Mjo1NVrOGDi3JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3MDA4NA==", "bodyText": "Variables in data-block can be typed. At least in the case of objects it can be usefull and it works at least partially with templates and other methods. Its not that beneficial in this small component but very handy in bigger ones. In this particular simple case it would be:\nshowConfirmation: false as boolean,", "url": "https://github.com/nordic-institute/X-Road/pull/455#discussion_r406370084", "createdAt": "2020-04-09T17:42:55Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Settings/BackupAndRestore/RestoreBackupButton.vue", "diffHunk": "@@ -0,0 +1,77 @@\n+<template>\n+  <small-button\n+    v-if=\"canBackup\"\n+    :min_width=\"50\"\n+    class=\"xrd-table-button\"\n+    data-test=\"backup-restore\"\n+    @click=\"showConfirmation = true\"\n+    >{{ $t('action.restore') }}\n+    <confirm-dialog\n+      :dialog=\"showConfirmation\"\n+      :loading=\"restoring\"\n+      title=\"backup.action.restore.dialog.title\"\n+      text=\"backup.action.restore.dialog.confirmation\"\n+      :data=\"{ file: backup.filename }\"\n+      @cancel=\"showConfirmation = false\"\n+      @accept=\"restoreBackup\"\n+    />\n+  </small-button>\n+</template>\n+\n+<script lang=\"ts\">\n+import Vue from 'vue';\n+import { Prop } from 'vue/types/options';\n+import { Backup } from '@/types';\n+import * as api from '@/util/api';\n+import SmallButton from '@/components/ui/SmallButton.vue';\n+import ConfirmDialog from '@/components/ui/ConfirmDialog.vue';\n+export default Vue.extend({\n+  name: 'RestoreBackupButton',\n+  components: {\n+    SmallButton,\n+    ConfirmDialog,\n+  },\n+  props: {\n+    canBackup: {\n+      type: Boolean,\n+      default: false,\n+      required: true,\n+    },\n+    backup: {\n+      type: Object as Prop<Backup>,\n+      required: true,\n+    },\n+  },\n+  data() {\n+    return {\n+      showConfirmation: false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6323225eeab582f99f01dd7fde0d62177869a849"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bda4a995f24225b3641614f0f65e3b75c2a0370", "author": {"user": {"login": "raits", "name": "Raido Kaju"}}, "url": "https://github.com/nordic-institute/X-Road/commit/1bda4a995f24225b3641614f0f65e3b75c2a0370", "committedDate": "2020-04-17T08:43:58Z", "message": "XRDDEV-932: added types to data, removed unneeded async from restoreBackup()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1MzI3MTc4", "url": "https://github.com/nordic-institute/X-Road/pull/455#pullrequestreview-395327178", "createdAt": "2020-04-17T10:06:13Z", "commit": {"oid": "1bda4a995f24225b3641614f0f65e3b75c2a0370"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4198, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}