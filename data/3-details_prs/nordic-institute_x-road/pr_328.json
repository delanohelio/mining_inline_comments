{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0ODQ2NTM3", "number": 328, "title": "XRDDEV-818 Get current servercode", "bodyText": "API endpoint /security-servers?current_server=true to get the current SecurityServer. Also adds server_address to SecurityServer OpenApi object.\nJIRA: https://jira.niis.org/browse/XRDDEV-818", "createdAt": "2020-01-20T13:55:58Z", "url": "https://github.com/nordic-institute/X-Road/pull/328", "merged": true, "mergeCommit": {"oid": "ae70434ea8c899a79ce33d5d884e8a1955cae373"}, "closed": true, "closedAt": "2020-01-29T12:12:45Z", "author": {"login": "carohauta"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7PWA-gH2gAyMzY0ODQ2NTM3OmJhNjRiMTk4NTYwY2NmYzRiZTQ1OWFhMzM2ZjFmOGZiMDBkZDNiYzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_C0hQAH2gAyMzY0ODQ2NTM3OjQ5Y2NhMjg0ZWY1Y2E3YWI5MWI0MjczY2FlMzllNTdkMmQ0OTFjOTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba64b198560ccfc4be459aa336f1f8fb00dd3bc5", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ba64b198560ccfc4be459aa336f1f8fb00dd3bc5", "committedDate": "2020-01-17T14:09:05Z", "message": "XRDDEV-818 Get current Security Server // intial\n\n* API definition\n* permission\n* initial controller method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a82680a92dad1fc194de5853ca7afac4c96b1b4", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/5a82680a92dad1fc194de5853ca7afac4c96b1b4", "committedDate": "2020-01-20T12:24:25Z", "message": "XRDDEV-818 Get current Security Server // API update\n\n* API definition - add server address\n* GlobalConfFacade methods\n* converter improvement to add the address"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "375a079672fa0371ff9d38c7457faa3ebec7a06e", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/375a079672fa0371ff9d38c7457faa3ebec7a06e", "committedDate": "2020-01-20T13:37:29Z", "message": "XRDDEV-818 Get current Security Server // tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3Nzc2ODc1", "url": "https://github.com/nordic-institute/X-Road/pull/328#pullrequestreview-347776875", "createdAt": "2020-01-24T07:02:40Z", "commit": {"oid": "375a079672fa0371ff9d38c7457faa3ebec7a06e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNzowMjo0MFrOFhVRCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNzowNDoyOVrOFhVSkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ5NTc1NQ==", "bodyText": "Pending question about permissions needs clarification https://niis.slack.com/archives/GGBHVCYSY/p1579849271003200", "url": "https://github.com/nordic-institute/X-Road/pull/328#discussion_r370495755", "createdAt": "2020-01-24T07:02:40Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/openapi/SecurityServersApiController.java", "diffHunk": "@@ -71,4 +82,20 @@ public SecurityServersApiController(GlobalConfService globalConfService,\n         SecurityServer securityServer = securityServerConverter.convert(securityServerId);\n         return new ResponseEntity<>(securityServer, HttpStatus.OK);\n     }\n+\n+    @Override\n+    @PreAuthorize(\"hasAuthority('VIEW_SECURITY_SERVERS')\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "375a079672fa0371ff9d38c7457faa3ebec7a06e"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ5NjE0NA==", "bodyText": "maybe description should say just \"address\" or something, since it is not guaranteed to be an ip address, can be a name also", "url": "https://github.com/nordic-institute/X-Road/pull/328#discussion_r370496144", "createdAt": "2020-01-24T07:04:29Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/resources/openapi-definition.yaml", "diffHunk": "@@ -4286,6 +4324,12 @@ components:\n           example: server123\n           minLength: 1\n           maxLength: 255\n+        server_address:\n+          type: string\n+          format: text\n+          description: security server ip address", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "375a079672fa0371ff9d38c7457faa3ebec7a06e"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe10600648ffdbd7e0761121fef82d8c9cc8539", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/cbe10600648ffdbd7e0761121fef82d8c9cc8539", "committedDate": "2020-01-29T08:33:36Z", "message": "XRDDEV-818 Get current Security Server // PR fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5OTUyMjQ5", "url": "https://github.com/nordic-institute/X-Road/pull/328#pullrequestreview-349952249", "createdAt": "2020-01-29T09:09:19Z", "commit": {"oid": "cbe10600648ffdbd7e0761121fef82d8c9cc8539"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49cca284ef5ca7ab91b4273cae39e57d2d491c98", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/49cca284ef5ca7ab91b4273cae39e57d2d491c98", "committedDate": "2020-01-29T09:49:20Z", "message": "Merge branch 'develop' into XRDDEV-818-get-current-servercode"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4275, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}