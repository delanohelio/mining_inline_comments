{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwODYyNzIx", "number": 604, "title": "XRDDEV-1186 Service desc refresh bug", "bodyText": "Changes the refreshing of an OpenAPI service description so that only the acl and endpoints that are related to the selected service description are affected.\nThis bug occurred because the refresh affected on all acl and endpoints of the owning client of the service description\nJIRA: https://jira.niis.org/browse/XRDDEV-1186", "createdAt": "2020-07-17T07:26:18Z", "url": "https://github.com/nordic-institute/X-Road/pull/604", "merged": true, "mergeCommit": {"oid": "8e3667a0ff64fc9a5628c99a3259603b207527ac"}, "closed": true, "closedAt": "2020-07-30T08:37:55Z", "author": {"login": "carohauta"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc04H-GAH2gAyNDUwODYyNzIxOmZmNzM0MmE2Y2EyZWI3NWM5NTJhMzY2M2EzY2I0OTgzZWM4MjJlZjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc57eoGgFqTQ1ODE5MzYzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff7342a6ca2eb75c952a3663a3cb4983ec822ef8", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ff7342a6ca2eb75c952a3663a3cb4983ec822ef8", "committedDate": "2020-07-14T15:53:32Z", "message": "XRDDEV-1186 Check old endpoints before refresh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71b8842658e0884eb9ec30a2371540a59071001d", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/71b8842658e0884eb9ec30a2371540a59071001d", "committedDate": "2020-07-16T11:43:46Z", "message": "XRDDEV-1186 Only related collections get mutated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a1fc9a6c4a5866bed25d240017b67e70a540492", "author": {"user": {"login": "carohauta", "name": "Caro Hautam\u00e4ki"}}, "url": "https://github.com/nordic-institute/X-Road/commit/5a1fc9a6c4a5866bed25d240017b67e70a540492", "committedDate": "2020-07-17T07:18:14Z", "message": "Merge branch 'develop' into XRDDEV-1186-service-desc-refresh-bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MTkzNjM0", "url": "https://github.com/nordic-institute/X-Road/pull/604#pullrequestreview-458193634", "createdAt": "2020-07-30T08:31:33Z", "commit": {"oid": "5a1fc9a6c4a5866bed25d240017b67e70a540492"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwODozMTozM1rOG5ZVxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwODozMTozM1rOG5ZVxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjgzNzE4OQ==", "bodyText": "parseOpenApi3ToServiceDescription is really quite complex, it would be really great to make it simpler somehow. Could it be split into smaller parts, etc? Now it feels like a risky part that could lead to some bugs.\nThe fact that you can mix generated and non-generated endpoints makes it kind of unavoidable that the aggregate implementation will be complex, unfortunately.\nIt would have been good to add a test for the failing case (before fixing it)", "url": "https://github.com/nordic-institute/X-Road/pull/604#discussion_r462837189", "createdAt": "2020-07-30T08:31:33Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/ServiceDescriptionService.java", "diffHunk": "@@ -772,7 +774,7 @@ public ServiceDescriptionType updateOpenApi3ServiceDescription(Long id, String u\n      * @param ignoreWarnings\n      * @param serviceDescription\n      * @throws OpenApiParser.ParsingException if there are errors in the openapi3 description document\n-     * @throws UnhandledWarningsException     if ignoreWarnings is false and parser returns warnings from openapi\n+     * @throws UnhandledWarningsException if ignoreWarnings is false and parser returns warnings from openapi\n      */\n     private void parseOpenApi3ToServiceDescription(String url, String serviceCode, boolean ignoreWarnings,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1fc9a6c4a5866bed25d240017b67e70a540492"}, "originalPosition": 262}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4144, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}