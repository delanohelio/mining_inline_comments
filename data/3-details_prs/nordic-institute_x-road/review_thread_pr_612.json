{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1NzQwMTIy", "number": 612, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODo0NDoxNVrOERvqkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODo0Njo0NVrOERvtOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MDQyMTk1OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/AddClient/FinishPage.vue", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODo0NDoxNVrOG2nrMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxMjoxNzowNlrOG2tLoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkyNjMyMw==", "bodyText": "This doesn't seem to work, API call that results from this is \"/api/v1/clients/undefined:ORG:TEST/register\" (instance is undefined), resulting in failure to register the client.\nI think this identifier should also include the subsystem that is being added.", "url": "https://github.com/nordic-institute/X-Road/pull/612#discussion_r459926323", "createdAt": "2020-07-24T08:44:15Z", "author": {"login": "raits"}, "path": "src/proxy-ui-api/frontend/src/views/AddClient/FinishPage.vue", "diffHunk": "@@ -115,21 +163,66 @@ export default Vue.extend({\n       this.createClient(true);\n     },\n \n-    generateCsr(): void {\n+    generateKeyAndCsr(): void {\n       const tokenId = this.$store.getters.csrTokenId;\n \n-      this.$store.dispatch('generateKeyAndCsr', tokenId).then(\n-        () => {\n+      this.$store\n+        .dispatch('generateKeyAndCsr', tokenId)\n+        .then(\n+          () => {\n+            this.$emit('done');\n+          },\n+          (error) => {\n+            this.$store.dispatch('showError', error);\n+          },\n+        )\n+        .finally(() => {\n           this.disableCancel = false;\n           this.submitLoading = false;\n-          this.$emit('done');\n-        },\n-        (error) => {\n-          this.$store.dispatch('showError', error);\n+        });\n+    },\n+\n+    generateCsr(): void {\n+      const tokenId = this.$store.getters.csrTokenId;\n+\n+      this.$store\n+        .dispatch('generateCsr', tokenId)\n+        .then(\n+          () => {\n+            this.$emit('done');\n+          },\n+          (error) => {\n+            this.$store.dispatch('showError', error);\n+          },\n+        )\n+        .finally(() => {\n           this.disableCancel = false;\n           this.submitLoading = false;\n-        },\n+        });\n+    },\n+\n+    registerClient(): void {\n+      const clientId = createClientId(\n+        this.currentSecurityServer.instanceId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0efbe7abb78b253c843893b4445ad79606136c96"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDAxNjU0NA==", "bodyText": "Fixed", "url": "https://github.com/nordic-institute/X-Road/pull/612#discussion_r460016544", "createdAt": "2020-07-24T12:17:06Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/AddClient/FinishPage.vue", "diffHunk": "@@ -115,21 +163,66 @@ export default Vue.extend({\n       this.createClient(true);\n     },\n \n-    generateCsr(): void {\n+    generateKeyAndCsr(): void {\n       const tokenId = this.$store.getters.csrTokenId;\n \n-      this.$store.dispatch('generateKeyAndCsr', tokenId).then(\n-        () => {\n+      this.$store\n+        .dispatch('generateKeyAndCsr', tokenId)\n+        .then(\n+          () => {\n+            this.$emit('done');\n+          },\n+          (error) => {\n+            this.$store.dispatch('showError', error);\n+          },\n+        )\n+        .finally(() => {\n           this.disableCancel = false;\n           this.submitLoading = false;\n-          this.$emit('done');\n-        },\n-        (error) => {\n-          this.$store.dispatch('showError', error);\n+        });\n+    },\n+\n+    generateCsr(): void {\n+      const tokenId = this.$store.getters.csrTokenId;\n+\n+      this.$store\n+        .dispatch('generateCsr', tokenId)\n+        .then(\n+          () => {\n+            this.$emit('done');\n+          },\n+          (error) => {\n+            this.$store.dispatch('showError', error);\n+          },\n+        )\n+        .finally(() => {\n           this.disableCancel = false;\n           this.submitLoading = false;\n-        },\n+        });\n+    },\n+\n+    registerClient(): void {\n+      const clientId = createClientId(\n+        this.currentSecurityServer.instanceId,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkyNjMyMw=="}, "originalCommit": {"oid": "0efbe7abb78b253c843893b4445ad79606136c96"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MDQyODcyOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/AddClient/ClientDetailsPage.vue", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwODo0Njo0NVrOG2nvWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxMjoxNzo1MFrOG2tM6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkyNzM4NQ==", "bodyText": "This doesn't seem to be used anymore, maybe it should be removed?", "url": "https://github.com/nordic-institute/X-Road/pull/612#discussion_r459927385", "createdAt": "2020-07-24T08:46:45Z", "author": {"login": "raits"}, "path": "src/proxy-ui-api/frontend/src/views/AddClient/ClientDetailsPage.vue", "diffHunk": "@@ -180,9 +185,9 @@ export default Vue.extend({\n   data() {\n     return {\n       disableDone: false,\n-      certificationService: undefined,\n       filteredServiceList: [],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0efbe7abb78b253c843893b4445ad79606136c96"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDAxNjg3Mg==", "bodyText": "Removed it and also another unused value", "url": "https://github.com/nordic-institute/X-Road/pull/612#discussion_r460016872", "createdAt": "2020-07-24T12:17:50Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/AddClient/ClientDetailsPage.vue", "diffHunk": "@@ -180,9 +185,9 @@ export default Vue.extend({\n   data() {\n     return {\n       disableDone: false,\n-      certificationService: undefined,\n       filteredServiceList: [],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkyNzM4NQ=="}, "originalCommit": {"oid": "0efbe7abb78b253c843893b4445ad79606136c96"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2768, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}