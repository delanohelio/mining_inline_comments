{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwMTcyMzY0", "number": 452, "title": "XRDDEV-960 & XRDDEV-955", "bodyText": "Api for fetching service clients\nUI for listing service clients\n\nNOTE that XRDDEV-803 must be merge to develop before this", "createdAt": "2020-04-07T10:14:03Z", "url": "https://github.com/nordic-institute/X-Road/pull/452", "merged": true, "mergeCommit": {"oid": "ef89f1652803035ea2be7ca4de554332bd5d670f"}, "closed": true, "closedAt": "2020-04-14T07:43:06Z", "author": {"login": "TJaakkola"}, "timelineItems": {"totalCount": 48, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJuLmLAH2gAyNDAwMTcyMzY0OjkzYmU2YTJlMzYxMjAyZjBjNzEwODVlYjBiNWQ3MDY2NThmZGIyOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXejqrgFqTM5MjY3Njc4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "93be6a2e361202f0c71085eb0b5d706658fdb293", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/93be6a2e361202f0c71085eb0b5d706658fdb293", "committedDate": "2020-03-02T13:59:42Z", "message": "XRDDEV-803: Added api for fetching accessrights for an endpoint and UI for viewing them"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07c213e90041e9e651016fcf169d61f9485424aa", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/07c213e90041e9e651016fcf169d61f9485424aa", "committedDate": "2020-03-03T14:42:40Z", "message": "XRDDEV-803: Add backend api and ui changes for removing access rights"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35078da7363867c7c6f16e6b8ae039d75cda9be0", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/35078da7363867c7c6f16e6b8ae039d75cda9be0", "committedDate": "2020-03-04T13:18:34Z", "message": "XRDDEV-803: Add backend api and UI for adding subjects to an endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1bad6ef9b86f81e452dc1104bd2b034fa6386f2", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/a1bad6ef9b86f81e452dc1104bd2b034fa6386f2", "committedDate": "2020-03-05T14:54:27Z", "message": "XRDDEV-803: Change base path for service description of type REST to be generated = true by default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fde80f3ed77feaee0b6c0f6f59400b9a1f8b478", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/4fde80f3ed77feaee0b6c0f6f59400b9a1f8b478", "committedDate": "2020-03-10T08:31:10Z", "message": "XRDDEV-803: Add tests, fixes to api and UI improvements to adding access rights for an endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb22d69b746006bcefd33bd0d051e1de003554c7", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/eb22d69b746006bcefd33bd0d051e1de003554c7", "committedDate": "2020-03-10T11:10:20Z", "message": "Refactoring access rights backend implementations to reuse code and minor fixes to UI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b69523a0c120a501f08783213332fa79bd838e1b", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/b69523a0c120a501f08783213332fa79bd838e1b", "committedDate": "2020-03-10T11:24:03Z", "message": "Merge branch 'develop' into XRDDEV-803"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce5bedf56206aae88f7d96f2865c070d2c3bba11", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ce5bedf56206aae88f7d96f2865c070d2c3bba11", "committedDate": "2020-03-10T12:57:30Z", "message": "XRDDEV-803: Use constant instead of repeating string to fix sonarqube issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c1f4bd25ed42b57c44973f95a61874b7541110a", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/0c1f4bd25ed42b57c44973f95a61874b7541110a", "committedDate": "2020-03-26T14:42:45Z", "message": "XRDDEV-803: Add typings to state object and rights given at -info to service parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbfad6f09697bddf34c0f2ee758edf3f405d686b", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/dbfad6f09697bddf34c0f2ee758edf3f405d686b", "committedDate": "2020-03-26T14:48:40Z", "message": "XRDDEV-803: Remove <p> -tags from license headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54aa54c040a29de246a06e7975709758893dc934", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/54aa54c040a29de246a06e7975709758893dc934", "committedDate": "2020-03-26T19:29:14Z", "message": "XRDDEV-803: remove maxLength from endpoint id in api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31af27300ab8c732353cd52aa03b5b157b6fc830", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/31af27300ab8c732353cd52aa03b5b157b6fc830", "committedDate": "2020-03-26T20:39:51Z", "message": "XRDDEV-803: Extract EndpointNotFoundException to an independent class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1436c79b5ffe314e141b10446faaf9cc13758cf", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/b1436c79b5ffe314e141b10446faaf9cc13758cf", "committedDate": "2020-03-26T20:50:30Z", "message": "XRDDEV-803: Refactored size comparison to use isEmpty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c33581477332e80a914b044b4e716e696618b2a5", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/c33581477332e80a914b044b4e716e696618b2a5", "committedDate": "2020-03-27T07:32:50Z", "message": "XRDDEV-803: Changed localization keys according to pull request comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62dabf7285053bf334b7ab0b16f5d3a2cd5a95de", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/62dabf7285053bf334b7ab0b16f5d3a2cd5a95de", "committedDate": "2020-03-27T09:10:05Z", "message": "XRDDEV-803: Remove duplicate code and improve method documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5c96ed5c35963f53147212ad4dab5c4410aa86c", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/d5c96ed5c35963f53147212ad4dab5c4410aa86c", "committedDate": "2020-03-27T11:17:21Z", "message": "XRDDEV-803: Refactoring EndpointNotFoundByServiceNameException out modifying EndpointNotFoundException. Also created getBaseEndpoint -method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39b448ef6c2bde26739e906d8ca8789e0e7b737b", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/39b448ef6c2bde26739e906d8ca8789e0e7b737b", "committedDate": "2020-03-27T11:30:48Z", "message": "XRDDEV-803: Remove duplicate method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6575b36e916c8b1f60a051e39fa89de46571dd20", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/6575b36e916c8b1f60a051e39fa89de46571dd20", "committedDate": "2020-03-27T12:59:58Z", "message": "XRDDEV-803: Improving method namings and remove unnecessary verifyAuthority -checks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d93c8670628322780e326c6b0653b0b4327ba51", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/7d93c8670628322780e326c6b0653b0b4327ba51", "committedDate": "2020-03-27T13:53:21Z", "message": "XRDDEV-803: Change LocalGroupNotFoundException to AccessRightNotFoundException when it's thrown in AccessRightService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09771b4c0d38ce8b2c7f4ba7a3d105e288a7213a", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/09771b4c0d38ce8b2c7f4ba7a3d105e288a7213a", "committedDate": "2020-03-30T08:31:14Z", "message": "XRDDEV-803: Change LocalGroupNotFoundException to AccessRightNotFoundException for improved consistency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bee8da54e5504ec0616f0b98ecbba6e8fb306483", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/bee8da54e5504ec0616f0b98ecbba6e8fb306483", "committedDate": "2020-03-30T09:10:57Z", "message": "XRDDEV-803 Fix code style conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31d3371aa15689e339a5711565c4d377847bd5ae", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/31d3371aa15689e339a5711565c4d377847bd5ae", "committedDate": "2020-03-30T09:33:29Z", "message": "Merge branch 'develop' into XRDDEV-803"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59da4b69f16bd1dae2a7998e902670b31f7b9c82", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/59da4b69f16bd1dae2a7998e902670b31f7b9c82", "committedDate": "2020-03-30T10:38:32Z", "message": "XRDDEV-803: Fix merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07f9ed282fe3ac58fb94ae9a9db79a4a34028355", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/07f9ed282fe3ac58fb94ae9a9db79a4a34028355", "committedDate": "2020-03-30T12:03:52Z", "message": "XRDDEV-803: Remove duplicate markup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca77a8bbab12dd9ef458f86f8ac5b6c2d24be68a", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ca77a8bbab12dd9ef458f86f8ac5b6c2d24be68a", "committedDate": "2020-03-31T13:10:31Z", "message": "XRDDEV-960: Add for fetching client serviceclients"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "489da8bad43bf4b296bb782a9f8a1dd58bff82c3", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/489da8bad43bf4b296bb782a9f8a1dd58bff82c3", "committedDate": "2020-04-01T06:01:50Z", "message": "XRDDEV-960: return unique service clients for a client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5535c3c61c94b4ed445cfeee76e5d7d755c8cad6", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/5535c3c61c94b4ed445cfeee76e5d7d755c8cad6", "committedDate": "2020-04-01T06:02:55Z", "message": "XRDDEV-955: view for service clients list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3641b0479f24d15c22fa97d3bfe566c7693d6cf", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/b3641b0479f24d15c22fa97d3bfe566c7693d6cf", "committedDate": "2020-04-01T14:53:03Z", "message": "XRDDEV-960: Remove unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e71f66e874923d3dc6c9dacdf0ff195fa85970ab", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/e71f66e874923d3dc6c9dacdf0ff195fa85970ab", "committedDate": "2020-04-01T14:53:45Z", "message": "XRDDEV-960: Add tests for fetching service clients"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19a35ba8ecf4e6af855e9c0500f4eb28a7960747", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/19a35ba8ecf4e6af855e9c0500f4eb28a7960747", "committedDate": "2020-04-01T14:54:16Z", "message": "XRDDEV-955: Fix linter errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b693ec93d43199f7b66724e3cb5e5c1f9282bceb", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/b693ec93d43199f7b66724e3cb5e5c1f9282bceb", "committedDate": "2020-04-02T13:05:23Z", "message": "XRDDEV-803: Remove unnecessary VerifyAuthority calls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9651a6b5f937ee6de0d0793b884a21a620d2bdeb", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/9651a6b5f937ee6de0d0793b884a21a620d2bdeb", "committedDate": "2020-04-02T14:22:50Z", "message": "XRDDEV-803: Refactoring\n\nRename getBaseEndpoint to getServiceBaseEndpoint and remove client parameter as ServiceType is the only object needed to handle the functionality\nRemove duplication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "560796a5ad74523edb0d38248518424d20eae468", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/560796a5ad74523edb0d38248518424d20eae468", "committedDate": "2020-04-02T14:27:49Z", "message": "Merge branch 'develop' into XRDDEV-803"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff171001a550aedaa8ab26f9276be4f5be827363", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ff171001a550aedaa8ab26f9276be4f5be827363", "committedDate": "2020-04-02T14:30:50Z", "message": "Merge branch 'XRDDEV-803' into XRDDEV-960_XRDDEV-955"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c33b25ee3935625a1d1b179e39cd96434e437e23", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/c33b25ee3935625a1d1b179e39cd96434e437e23", "committedDate": "2020-04-03T07:22:16Z", "message": "XRDDEV-803: Replace verifyAuthority method usage with preAuthorize-annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7126c0401691e1b5595337c51c570df052bc701", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/b7126c0401691e1b5595337c51c570df052bc701", "committedDate": "2020-04-03T08:29:19Z", "message": "Merge branch 'XRDDEV-803' into XRDDEV-960_XRDDEV-955"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "277db6af5629750d113789936e6936f563033574", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/277db6af5629750d113789936e6936f563033574", "committedDate": "2020-04-06T16:01:30Z", "message": "Merge branch 'develop' into XRDDEV-803"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2518e59436dcc805bee8e3981d8d0560a2d908a4", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/2518e59436dcc805bee8e3981d8d0560a2d908a4", "committedDate": "2020-04-06T16:39:54Z", "message": "XRDDEV-803: Fix exception type thrown after changed verifyAuthority to PreAuthorize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f26a9ac692d928c9d7408ed3ebc7257e2bf825c8", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/f26a9ac692d928c9d7408ed3ebc7257e2bf825c8", "committedDate": "2020-04-06T17:29:16Z", "message": "XRDDEV-803: Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fec2ec0274709b629a666d75f349710b939bae6", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/9fec2ec0274709b629a666d75f349710b939bae6", "committedDate": "2020-04-07T10:20:24Z", "message": "Merge branch 'XRDDEV-803' into XRDDEV-960_XRDDEV-955"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0257b6229967393850e65d58b444d3e02823481f", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/0257b6229967393850e65d58b444d3e02823481f", "committedDate": "2020-04-07T11:10:24Z", "message": "XRDDEV-960: Fix checkstyle issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1d5511015cc34c4d02c674d6efe519228d9a409", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/d1d5511015cc34c4d02c674d6efe519228d9a409", "committedDate": "2020-04-08T06:00:22Z", "message": "Merge branch 'develop' into XRDDEV-960_XRDDEV-955"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c65a52509b2879d5e62d2eed3339cfa2a7c66b4", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/9c65a52509b2879d5e62d2eed3339cfa2a7c66b4", "committedDate": "2020-04-08T14:05:28Z", "message": "XRDDEV-955: Add filtering for service clients"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/0374282e4059785c4b584dc515937e0886585ef6", "committedDate": "2020-04-08T14:14:47Z", "message": "XRDDEV-955: Remove function calls added for testing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNzQ5Mzgx", "url": "https://github.com/nordic-institute/X-Road/pull/452#pullrequestreview-390749381", "createdAt": "2020-04-09T12:32:45Z", "commit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMjozMjo0NVrOGDWsuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMjo0MDo1M1rOGDW9ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3MDgwOQ==", "bodyText": "Probably correct reaction to this, but parameter numbers warning is probably also an indication that this controller is getting too large. That's probably true, but there's not much we can do about the controller size & parameter numbers, since it is direct result of the API design.", "url": "https://github.com/nordic-institute/X-Road/pull/452#discussion_r406170809", "createdAt": "2020-04-09T12:32:45Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/openapi/ClientsApiController.java", "diffHunk": "@@ -113,18 +115,20 @@\n     private final SubjectConverter subjectConverter;\n     private final TokenCertificateConverter tokenCertificateConverter;\n     private final OrphanRemovalService orphanRemovalService;\n+    private final ServiceClientConverter serviceClientConverter;\n \n     /**\n      * ClientsApiController constructor\n      */\n+    @SuppressWarnings(\"checkstyle:ParameterNumber\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3MjIyNg==", "bodyText": "Would it make sense to split AccessRightService into AccessRightService and ServiceClientService? It's quite big already.\nIf so, it probably makes sense to do it in XRDDEV-961 branch after refactoring, though.", "url": "https://github.com/nordic-institute/X-Road/pull/452#discussion_r406172226", "createdAt": "2020-04-09T12:35:29Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java", "diffHunk": "@@ -96,6 +96,30 @@ public AccessRightService(LocalGroupRepository localGroupRepository, GlobalConfF\n         this.endpointService = endpointService;\n     }\n \n+    public List<AccessRightHolderDto> getAccessRightHoldersByClient(ClientId clientId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3MzE3MQ==", "bodyText": "Missing javadocs, I think all public (service) methods should have ones? This one might explain the base endpoint -filtering and what it means for the caller.", "url": "https://github.com/nordic-institute/X-Road/pull/452#discussion_r406173171", "createdAt": "2020-04-09T12:37:18Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java", "diffHunk": "@@ -96,6 +96,30 @@ public AccessRightService(LocalGroupRepository localGroupRepository, GlobalConfF\n         this.endpointService = endpointService;\n     }\n \n+    public List<AccessRightHolderDto> getAccessRightHoldersByClient(ClientId clientId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3NTA5OQ==", "bodyText": "It is quite clear when you read the code, and has a descriptive name, but it might make sense to add a tiny comment to explain what it does?", "url": "https://github.com/nordic-institute/X-Road/pull/452#discussion_r406175099", "createdAt": "2020-04-09T12:40:53Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/service/AccessRightService.java", "diffHunk": "@@ -96,6 +96,30 @@ public AccessRightService(LocalGroupRepository localGroupRepository, GlobalConfF\n         this.endpointService = endpointService;\n     }\n \n+    public List<AccessRightHolderDto> getAccessRightHoldersByClient(ClientId clientId)\n+            throws ClientNotFoundException {\n+        ClientType clientType = clientRepository.getClient(clientId);\n+        if (clientType == null) {\n+            throw new ClientNotFoundException(\"Client \" + clientId.toShortString() + \" not found\");\n+        }\n+        // Filter just acls that are set to base endpoints so they are on service code level\n+        List<AccessRightType> serviceCodeLevelAcls = clientType.getAcl().stream()\n+                .filter(acl -> acl.getEndpoint().isBaseEndpoint())\n+                .collect(Collectors.toList());\n+        List<AccessRightType> distinctAccessRightTypes = distinctAccessRightTypeByXroadId(serviceCodeLevelAcls);\n+        return mapAccessRightsToAccessRightHolders(clientType, distinctAccessRightTypes);\n+    }\n+\n+    private List<AccessRightType> distinctAccessRightTypeByXroadId(List<AccessRightType> acls) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0374282e4059785c4b584dc515937e0886585ef6"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4dc2f87d667ed156ef7ec206d4f679afa65f54a", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/a4dc2f87d667ed156ef7ec206d4f679afa65f54a", "committedDate": "2020-04-09T14:35:28Z", "message": "Merge branch 'develop' into XRDDEV-960_XRDDEV-955"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94da0cc968c568b6a76c782cdf4e021ddba9a29b", "author": {"user": {"login": "TJaakkola", "name": "Tapio Jaakkola"}}, "url": "https://github.com/nordic-institute/X-Road/commit/94da0cc968c568b6a76c782cdf4e021ddba9a29b", "committedDate": "2020-04-09T15:10:20Z", "message": "XRDDEV-960: Add comments, Javadocs and brief definion for concept of base endpoint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjc2Nzg3", "url": "https://github.com/nordic-institute/X-Road/pull/452#pullrequestreview-392676787", "createdAt": "2020-04-14T07:42:27Z", "commit": {"oid": "94da0cc968c568b6a76c782cdf4e021ddba9a29b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4194, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}