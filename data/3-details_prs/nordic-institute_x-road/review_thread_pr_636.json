{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NTIxMzgz", "number": 636, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMTowNTo0MVrOEWLEZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMToxNToxNVrOEWLN1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNjg1NDc5OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMTowNTo0MVrOG9VxGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjoxNjoyMFrOG-VzrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3Mjk1Mw==", "bodyText": "suggestion (a bit simpler and also avoids copying unnecessary libs):\ntask copyDeps(type: Copy) {\n    into \"$buildDir/unpacked-libs\"\n    from configurations.compileClasspath.find {it.name.startsWith(\"postgresql\") }\n}\n\nbuild.dependsOn copyDeps", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466972953", "createdAt": "2020-08-07T11:05:41Z", "author": {"login": "jhyoty"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -187,6 +187,20 @@ jar {\n     classifier = 'plainDependency'\n }\n \n+// extract dependency jars from spring boot jar, to be able to package postgresql.jar\n+task unpackLibsFromBootJar(type: Copy) {\n+    from(zipTree(\"${buildDir}/libs/proxy-ui-api-1.0.jar\")) {\n+        include \"BOOT-INF/lib/*\"\n+        eachFile { fcd ->\n+            fcd.relativePath = new RelativePath(true, fcd.relativePath.segments.drop(2))\n+        }\n+        includeEmptyDirs = false\n+    }\n+    into \"$buildDir/unpacked-libs\"\n+}\n+\n+jar.finalizedBy(unpackLibsFromBootJar)\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODAyMjE4OQ==", "bodyText": "Good suggestion, fixed, much simplified.\nGradle was a bit picky about the place where copyDeps should be put. That might explain why I ended up with the original clumsy implementation. copyDeps needed to be after dependencyManagement, it seems.", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r468022189", "createdAt": "2020-08-10T16:16:20Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -187,6 +187,20 @@ jar {\n     classifier = 'plainDependency'\n }\n \n+// extract dependency jars from spring boot jar, to be able to package postgresql.jar\n+task unpackLibsFromBootJar(type: Copy) {\n+    from(zipTree(\"${buildDir}/libs/proxy-ui-api-1.0.jar\")) {\n+        include \"BOOT-INF/lib/*\"\n+        eachFile { fcd ->\n+            fcd.relativePath = new RelativePath(true, fcd.relativePath.segments.drop(2))\n+        }\n+        includeEmptyDirs = false\n+    }\n+    into \"$buildDir/unpacked-libs\"\n+}\n+\n+jar.finalizedBy(unpackLibsFromBootJar)\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3Mjk1Mw=="}, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNjg1NjI4OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMTowNjoyMVrOG9VyAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjoxMzozOVrOG-Vtag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3MzE4Nw==", "bodyText": "should be unnecessary (already a transitive dependency)", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466973187", "createdAt": "2020-08-07T11:06:21Z", "author": {"login": "jhyoty"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -208,6 +222,7 @@ dependencies {\n     implementation('wsdl4j:wsdl4j:1.6.3')\n     implementation('com.github.vladimir-bukhtoyarov:bucket4j-core:4.10.0')\n     implementation(\"io.swagger.parser.v3:swagger-parser:${swaggerParserVersion}\")\n+    implementation(\"org.postgresql:postgresql:42.2.14\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODAyMDU4Ng==", "bodyText": "Fixed", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r468020586", "createdAt": "2020-08-10T16:13:39Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/build.gradle", "diffHunk": "@@ -208,6 +222,7 @@ dependencies {\n     implementation('wsdl4j:wsdl4j:1.6.3')\n     implementation('com.github.vladimir-bukhtoyarov:bucket4j-core:4.10.0')\n     implementation(\"io.swagger.parser.v3:swagger-parser:${swaggerParserVersion}\")\n+    implementation(\"org.postgresql:postgresql:42.2.14\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3MzE4Nw=="}, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNjg3ODkyOnYy", "diffSide": "RIGHT", "path": "doc/Manuals/ug-syspar_x-road_v6_system_parameters.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxMToxNToxNVrOG9V_3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjoxMzozMVrOG-VtLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3NjczNA==", "bodyText": "Maybe it would be safer to keep the numbering (just leave an empty 3.3 section \"proxy-ui removed in version 6.24\" or something) in case there are some external links to the parameter sections.", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r466976734", "createdAt": "2020-08-07T11:15:15Z", "author": {"login": "jhyoty"}, "path": "doc/Manuals/ug-syspar_x-road_v6_system_parameters.md", "diffHunk": "@@ -276,14 +276,7 @@ limits the configuration parameters usage:\n This in practice limits configurability to different kinds of PostgreSQL database configurations, and it is not possible\n to use for example MySQL as a data store for REST API module.\n \n-### 3.3 Proxy User Interface parameters: `[proxy-ui]`\n-\n-| **Parameter**                                    | **Vanilla value**                          | **Description** |\n-|--------------------------------------------------|--------------------------------------------|-----------------|\n-| wsdl-validator-command                           |                                            | The command to validate the given X-Road service WSDL. The command script must:<br/>a) read the WSDL from the URI given as an argument,<br/>b) return exit code 0 on success,<br/>c) return exit code 0 and write warnings to the standard error (*stderr*), if warnings occurs,<br/>d) return exit code other then 0 and write error messages to the standard error (*stderr*), if errors occurs.<br/>Defaults to no operation. |\n-| auth-cert-reg-signature-digest-algorithm-id      | SHA-512                                    | Signature digest algorithm used for generating authentication certificate registration request.<br/>Possible values are<br/>-   SHA-256,<br/>-   SHA-384,<br/>-   SHA-512. |\n-\n-### 3.4 Signer parameters: `[signer]`\n+### 3.3 Signer parameters: `[signer]`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODAyMDUyNQ==", "bodyText": "Fixed", "url": "https://github.com/nordic-institute/X-Road/pull/636#discussion_r468020525", "createdAt": "2020-08-10T16:13:31Z", "author": {"login": "jansu76"}, "path": "doc/Manuals/ug-syspar_x-road_v6_system_parameters.md", "diffHunk": "@@ -276,14 +276,7 @@ limits the configuration parameters usage:\n This in practice limits configurability to different kinds of PostgreSQL database configurations, and it is not possible\n to use for example MySQL as a data store for REST API module.\n \n-### 3.3 Proxy User Interface parameters: `[proxy-ui]`\n-\n-| **Parameter**                                    | **Vanilla value**                          | **Description** |\n-|--------------------------------------------------|--------------------------------------------|-----------------|\n-| wsdl-validator-command                           |                                            | The command to validate the given X-Road service WSDL. The command script must:<br/>a) read the WSDL from the URI given as an argument,<br/>b) return exit code 0 on success,<br/>c) return exit code 0 and write warnings to the standard error (*stderr*), if warnings occurs,<br/>d) return exit code other then 0 and write error messages to the standard error (*stderr*), if errors occurs.<br/>Defaults to no operation. |\n-| auth-cert-reg-signature-digest-algorithm-id      | SHA-512                                    | Signature digest algorithm used for generating authentication certificate registration request.<br/>Possible values are<br/>-   SHA-256,<br/>-   SHA-384,<br/>-   SHA-512. |\n-\n-### 3.4 Signer parameters: `[signer]`\n+### 3.3 Signer parameters: `[signer]`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk3NjczNA=="}, "originalCommit": {"oid": "aa26be5e8c12cfff8bbcf3830c14b7c46dff6513"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2668, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}