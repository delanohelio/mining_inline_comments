{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NDczODEz", "number": 475, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMToyNlrOD3R9ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMzo0MFrOD3SBXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MjkyNTc0OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMToyNlrOGNcxPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwNTowNzoyM1rOGOZy7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjAzMQ==", "bodyText": "I suppose that there is no interface in the types for the object that this method returns.\nWould it make sense to create an interface that extends AccessRight just for the ui ?\nIf so, then this might be a good place for it\nhttps://github.com/nordic-institute/X-Road/blob/develop/src/proxy-ui-api/frontend/src/ui-types.ts", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r416756031", "createdAt": "2020-04-28T16:31:26Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {\n \n+      this.fetchAccessRights();\n+\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}`)\n         .then( (response: any) => this.serviceClient = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n \n+      api\n+        .get(`/clients/${this.id}/service-descriptions`)\n+        .then( (response: any) => {\n+          this.serviceDescriptions = response.data;\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n+    },\n+    fetchAccessRights() {\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights`)\n         .then( (response: any) => this.accessRights = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n-\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n     },\n-    close() {\n+    close(): void {\n       this.$router.go(-1);\n     },\n-    remove() {\n-      // NOOP\n+    addService(accessRights: AccessRight[]): void {\n+      this.hideAddService();\n+\n+      const accessRightsObject: AccessRights = { items: accessRights };\n+      api\n+        .post(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights`, accessRightsObject)\n+        .then( (response: any) => {\n+          this.$store.dispatch('showSuccess', 'serviceClients.addServiceClientAccessRightSuccess');\n+          this.fetchAccessRights();\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n     },\n-    addService() {\n+    hideAddService(): void {\n+      this.isAddServiceDialogVisible = false;\n+    },\n+    remove(): void {\n       // NOOP\n     },\n-    removeAll() {\n+    showAddServiceDialog(): void {\n+      this.isAddServiceDialogVisible = true;\n+    },\n+    removeAll(): void {\n       // NOOP\n     },\n+    serviceCandidates(): any[] {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc1NTg4Nw==", "bodyText": "No such file in my branch so I can't use it. Added a ServiceCandidate-type directly to ServiceClientAcccessRights.vue", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417755887", "createdAt": "2020-04-30T05:07:23Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {\n \n+      this.fetchAccessRights();\n+\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}`)\n         .then( (response: any) => this.serviceClient = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n \n+      api\n+        .get(`/clients/${this.id}/service-descriptions`)\n+        .then( (response: any) => {\n+          this.serviceDescriptions = response.data;\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n+    },\n+    fetchAccessRights() {\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights`)\n         .then( (response: any) => this.accessRights = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n-\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n     },\n-    close() {\n+    close(): void {\n       this.$router.go(-1);\n     },\n-    remove() {\n-      // NOOP\n+    addService(accessRights: AccessRight[]): void {\n+      this.hideAddService();\n+\n+      const accessRightsObject: AccessRights = { items: accessRights };\n+      api\n+        .post(`/clients/${this.id}/service-clients/${this.serviceClientId}/access-rights`, accessRightsObject)\n+        .then( (response: any) => {\n+          this.$store.dispatch('showSuccess', 'serviceClients.addServiceClientAccessRightSuccess');\n+          this.fetchAccessRights();\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n     },\n-    addService() {\n+    hideAddService(): void {\n+      this.isAddServiceDialogVisible = false;\n+    },\n+    remove(): void {\n       // NOOP\n     },\n-    removeAll() {\n+    showAddServiceDialog(): void {\n+      this.isAddServiceDialogVisible = true;\n+    },\n+    removeAll(): void {\n       // NOOP\n     },\n+    serviceCandidates(): any[] {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjAzMQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 118}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MjkyODc0OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMjowM1rOGNczBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwNTowNzo0NlrOGOZzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjQ4NA==", "bodyText": "return type void ?", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r416756484", "createdAt": "2020-04-28T16:32:03Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {\n \n+      this.fetchAccessRights();\n+\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}`)\n         .then( (response: any) => this.serviceClient = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n \n+      api\n+        .get(`/clients/${this.id}/service-descriptions`)\n+        .then( (response: any) => {\n+          this.serviceDescriptions = response.data;\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n+    },\n+    fetchAccessRights() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc1NTk2MA==", "bodyText": "added.", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417755960", "createdAt": "2020-04-30T05:07:46Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {\n \n+      this.fetchAccessRights();\n+\n       api\n         .get(`/clients/${this.id}/service-clients/${this.serviceClientId}`)\n         .then( (response: any) => this.serviceClient = response.data)\n-        .catch( (error: any) =>\n-          this.$store.dispatch('showError', error));\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n \n+      api\n+        .get(`/clients/${this.id}/service-descriptions`)\n+        .then( (response: any) => {\n+          this.serviceDescriptions = response.data;\n+        })\n+        .catch( (error: any) => this.$store.dispatch('showError', error));\n+    },\n+    fetchAccessRights() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjQ4NA=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MjkyOTYxOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMjoxM1rOGNczhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwNTowODowNlrOGOZziQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjYxNQ==", "bodyText": "return type void ?", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r416756615", "createdAt": "2020-04-28T16:32:13Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc1NjA0MQ==", "bodyText": "added.", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417756041", "createdAt": "2020-04-30T05:08:06Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/ServiceClientAccessRights.vue", "diffHunk": "@@ -99,36 +108,83 @@ export default Vue.extend({\n     return {\n       accessRights: [] as AccessRight[],\n       serviceClient: {} as ServiceClient,\n+      isAddServiceDialogVisible: false as boolean,\n+      serviceDescriptions: [] as ServiceDescription[],\n+      services: [] as Service[],\n     };\n   },\n   methods: {\n     fetchData() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NjYxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MjkzNTM1OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNjozMzo0MFrOGNc3Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMDowODoxOVrOGOin5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ==", "bodyText": "is there a reason to use any?", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r416757515", "createdAt": "2020-04-28T16:33:40Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1Nzk5OQ==", "bodyText": "also same one line down here", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r416757999", "createdAt": "2020-04-28T16:34:20Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc1NDAzNg==", "bodyText": "serviceCandidates is a propvalue. I haven't found a working way to type them, is there such a way?", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417754036", "createdAt": "2020-04-30T04:59:41Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc1Njk4MQ==", "bodyText": "Just marked the return type to ServiceCandidate[]", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417756981", "createdAt": "2020-04-30T05:11:45Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc3OTkzNg==", "bodyText": "Good question. I don't know a good way to do that either.", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417779936", "createdAt": "2020-04-30T06:21:43Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc4MjI0Nw==", "bodyText": "You can use Prop so this would be:\ntype: Array as Prop<ServiceCandidate[]>", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417782247", "createdAt": "2020-04-30T06:27:40Z", "author": {"login": "raits"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg5MTU4Mw==", "bodyText": "Hmm, I think I tried that at some point. Don't remember how but it didn't work as well typings in data-block. Anyway I'll give it another shot...", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417891583", "createdAt": "2020-04-30T09:52:17Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzkwMDUxNw==", "bodyText": "Ah I guess I tried something similar but it didn't work. But this does \ud83d\udc4d", "url": "https://github.com/nordic-institute/X-Road/pull/475#discussion_r417900517", "createdAt": "2020-04-30T10:08:19Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Clients/ServiceClients/AddServiceClientServiceDialog.vue", "diffHunk": "@@ -0,0 +1,115 @@\n+<template>\n+  <simpleDialog\n+    :dialog=\"dialog\"\n+    :width=\"750\"\n+    title=\"serviceClients.addService\"\n+    @save=\"save\"\n+    @cancel=\"cancel\"\n+    :disableSave=\"filterSelections().length === 0\"\n+  >\n+    <div slot=\"content\" v-if=\"this.serviceCandidates.length > 0\">\n+      <v-text-field v-model=\"search\"\n+                    :label=\"$t('serviceClients.searchPlaceHolder')\"\n+                    single-line\n+                    hide-details\n+                    data-test=\"search-service-client\"\n+                    class=\"search-input\">\n+        <v-icon slot=\"append\">mdi-magnify</v-icon>\n+      </v-text-field>\n+      <table class=\"xrd-table\">\n+        <thead>\n+        <tr>\n+          <th class=\"selection-checkbox\"></th>\n+          <th>{{$t('serviceClients.serviceCode')}}</th>\n+          <th>{{$t('serviceClients.title')}}</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <tr v-for=\"accessRight in searchResults()\"\n+            v-bind:key=\"accessRight.id\"\n+            class=\"service-row\"\n+            data-test=\"access-right-toggle\">\n+          <td class=\"selection-checkbox\">\n+            <div>\n+              <v-checkbox\n+                v-model=\"selections\"\n+                :value=\"accessRight\"\n+                data-test=\"access-right-checkbox-input\"\n+              /></div>\n+          </td>\n+          <td>{{accessRight.service_code}}</td>\n+          <td>{{accessRight.title}}</td>\n+        </tr>\n+        </tbody>\n+      </table>\n+    </div>\n+    <div slot=\"content\" v-else>\n+      <h3>{{$t('serviceClients.noAvailableServices')}}</h3>\n+    </div>\n+  </simpleDialog>\n+</template>\n+<script lang=\"ts\">\n+  import Vue from 'vue';\n+  import SimpleDialog from '@/components/ui/SimpleDialog.vue';\n+  import {AccessRight} from '@/types';\n+  export default Vue.extend({\n+    components: {\n+      SimpleDialog,\n+    },\n+    props: {\n+      dialog: {\n+        type: Boolean,\n+        required: true,\n+      },\n+      serviceCandidates: {\n+        type: Array,\n+        required: true,\n+      },\n+    },\n+    data() {\n+      return {\n+        selections: [] as AccessRight[],\n+        search: '' as string,\n+      };\n+    },\n+    methods: {\n+      save(): void {\n+        const items = this.selections\n+          .filter( (selection) => selection.service_code.includes(this.search))\n+          .map( (selection): AccessRight => ({service_code: selection.service_code}));\n+\n+        this.$emit('save', items);\n+        this.clear();\n+      },\n+      cancel(): void {\n+        this.$emit('cancel');\n+        this.clear();\n+      },\n+      clear(): void {\n+        this.selections = [];\n+      },\n+      searchResults(): any {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc1NzUxNQ=="}, "originalCommit": {"oid": "83eaaf6e8d03d3d9be84e7d37f57224e311824a3"}, "originalPosition": 91}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2846, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}