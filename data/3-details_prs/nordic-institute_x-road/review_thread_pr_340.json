{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3OTYzMjc3", "number": 340, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTowMDo0NFrODb1xKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTowMjozMFrODb1zAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTE5MDgzOnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTowMDo0NFrOFjjh-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTozMDoxM1rOFjkWgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgyNjYxOQ==", "bodyText": "Timeout is hardcoded  to 23 ?", "url": "https://github.com/nordic-institute/X-Road/pull/340#discussion_r372826619", "createdAt": "2020-01-30T09:00:44Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue", "diffHunk": "@@ -0,0 +1,488 @@\n+<template>\n+    <div class=\"xrd-tab-max-width xrd-view-common\">\n+        <div class=\"apply-to-all\">\n+            <div class=\"apply-to-all-text\">{{$t('services.applyToAll')}}</div>\n+        </div>\n+\n+        <ValidationObserver ref=\"form\" v-slot=\"{ validate, invalid }\">\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.serviceUrl')}}\n+                    <helpIcon :text=\"$t('services.urlTooltip')\"/>\n+                </div>\n+\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            rules=\"required|wsdlUrl\"\n+                            name=\"serviceUrl\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.url\"\n+                                @input=\"setTouched()\"\n+                                single-line\n+                                class=\"description-input\"\n+                                name=\"serviceUrl\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-url\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                </div>\n+\n+                <v-checkbox @change=\"setTouched()\" v-model=\"url_all\" color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"url-all\"></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.timeoutSec')}}\n+                    <helpIcon :text=\"$t('services.timeoutTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            :rules=\"{ required: true, between: { min: 0, max: 1000 } }\"\n+                            name=\"serviceTimeout\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.timeout\"\n+                                single-line\n+                                @input=\"setTouched()\"\n+                                type=\"number\"\n+                                style=\"max-width: 200px;\"\n+                                name=\"serviceTimeout\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-timeout\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                    <!-- 0 - 1000 -->\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"timeout_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"timeout-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.verifyTls')}}\n+                    <helpIcon :text=\"$t('services.tlsTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <v-checkbox\n+                            :disabled=\"!isHttps\"\n+                            @change=\"setTouched()\"\n+                            v-model=\"service.ssl_auth\"\n+                            color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"ssl-auth\"\n+                    ></v-checkbox>\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"ssl_auth_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"ssl-auth-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"button-wrap\">\n+                <large-button :disabled=\"invalid ||\u00a0disableSave\"\n+                              @click=\"save()\" data-test=\"save-service-parameters\">{{$t('action.save')}}</large-button>\n+            </div>\n+        </ValidationObserver>\n+\n+        <div class=\"group-members-row\">\n+            <div class=\"row-title\">{{$t('access.accessRights')}}</div>\n+            <div class=\"row-buttons\">\n+                <large-button\n+                        :disabled=\"!hasSubjects\"\n+                        outlined\n+                        @click=\"removeAllSubjects()\"\n+                        data-test=\"remove-subjects\"\n+                >{{$t('action.removeAll')}}\n+                </large-button>\n+                <large-button\n+                        outlined\n+                        class=\"add-members-button\"\n+                        @click=\"showAddSubjectsDialog()\"\n+                        data-test=\"show-add-subjects\"\n+                >{{$t('access.addSubjects')}}\n+                </large-button>\n+            </div>\n+        </div>\n+\n+        <v-card flat>\n+            <table class=\"xrd-table group-members-table\">\n+                <tr>\n+                    <th>{{$t('services.memberNameGroupDesc')}}</th>\n+                    <th>{{$t('services.idGroupCode')}}</th>\n+                    <th>{{$t('type')}}</th>\n+                    <th></th>\n+                </tr>\n+                <template v-if=\"accessRightsSubjects\">\n+                    <tr v-for=\"subject in accessRightsSubjects\" v-bind:key=\"subject.id\">\n+                        <td>{{subject.subject.member_name_group_description}}</td>\n+                        <td>{{subject.subject.id}}</td>\n+                        <td>{{subject.subject.subject_type}}</td>\n+                        <td>\n+                            <div class=\"button-wrap\">\n+                                <v-btn\n+                                        small\n+                                        outlined\n+                                        rounded\n+                                        color=\"primary\"\n+                                        class=\"xrd-small-button\"\n+                                        @click=\"removeSubject(subject)\"\n+                                        data-test=\"remove-subject\"\n+                                >{{$t('action.remove')}}\n+                                </v-btn>\n+                            </div>\n+                        </td>\n+                    </tr>\n+                </template>\n+            </table>\n+\n+            <div class=\"footer-buttons-wrap\">\n+                <large-button @click=\"close()\" data-test=\"close\">{{$t('action.close')}}</large-button>\n+            </div>\n+        </v-card>\n+\n+        <!-- Confirm dialog remove Access Right subject -->\n+        <confirmDialog\n+                :dialog=\"confirmMember\"\n+                title=\"localGroup.removeTitle\"\n+                text=\"localGroup.removeText\"\n+                @cancel=\"confirmMember = false\"\n+                @accept=\"doRemoveSubject()\"\n+        />\n+\n+        <!-- Confirm dialog remove all Access Right subjects -->\n+        <confirmDialog\n+                :dialog=\"confirmAllSubjects\"\n+                title=\"localGroup.removeAllTitle\"\n+                text=\"localGroup.removeAllText\"\n+                @cancel=\"confirmAllSubjects = false\"\n+                @accept=\"doRemoveAllSubjects()\"\n+        />\n+\n+        <!-- Add access right subjects dialog -->\n+        <accessRightsDialog\n+                :dialog=\"addSubjectsDialogVisible\"\n+                :filtered=\"accessRightsSubjects\"\n+                :clientId=\"clientId\"\n+                title=\"access.addSubjectsTitle\"\n+                @cancel=\"closeAccessRightsDialog\"\n+                @subjectsAdded=\"doAddSubjects\"\n+        />\n+    </div>\n+</template>\n+\n+\n+<script lang=\"ts\">\n+import Vue from 'vue';\n+import * as api from '@/util/api';\n+import AccessRightsDialog from '../AccessRightsDialog.vue';\n+import ConfirmDialog from '@/components/ui/ConfirmDialog.vue';\n+import HelpIcon from '@/components/ui/HelpIcon.vue';\n+import LargeButton from '@/components/ui/LargeButton.vue';\n+import {ServiceClient} from '@/types';\n+import {ValidationObserver, ValidationProvider} from 'vee-validate';\n+import {mapGetters} from 'vuex';\n+import {RouteName} from '@/global';\n+\n+type NullableSubject = undefined | ServiceClient;\n+\n+export default Vue.extend({\n+  components: {\n+    AccessRightsDialog,\n+    ConfirmDialog,\n+    HelpIcon,\n+    LargeButton,\n+    ValidationProvider,\n+    ValidationObserver,\n+  },\n+  props: {\n+    serviceId: {\n+      type: String,\n+      required: true,\n+    },\n+    clientId: {\n+      type: String,\n+      required: true,\n+    },\n+  },\n+  data() {\n+    return {\n+      touched: false,\n+      confirmGroup: false,\n+      confirmMember: false,\n+      confirmAllSubjects: false,\n+      selectedMember: undefined as NullableSubject,\n+      description: undefined,\n+      url: '',\n+      addSubjectsDialogVisible: false,\n+      timeout: 23,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46da0061bb35e111dfbfc8c95b2d5bd1a62584a6"}, "originalPosition": 234}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg0MDA2NQ==", "bodyText": "This haven't been changed. Don't actually know what is this timeout variable for but it hasn't changed in this task (just moved to another file)", "url": "https://github.com/nordic-institute/X-Road/pull/340#discussion_r372840065", "createdAt": "2020-01-30T09:30:13Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue", "diffHunk": "@@ -0,0 +1,488 @@\n+<template>\n+    <div class=\"xrd-tab-max-width xrd-view-common\">\n+        <div class=\"apply-to-all\">\n+            <div class=\"apply-to-all-text\">{{$t('services.applyToAll')}}</div>\n+        </div>\n+\n+        <ValidationObserver ref=\"form\" v-slot=\"{ validate, invalid }\">\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.serviceUrl')}}\n+                    <helpIcon :text=\"$t('services.urlTooltip')\"/>\n+                </div>\n+\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            rules=\"required|wsdlUrl\"\n+                            name=\"serviceUrl\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.url\"\n+                                @input=\"setTouched()\"\n+                                single-line\n+                                class=\"description-input\"\n+                                name=\"serviceUrl\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-url\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                </div>\n+\n+                <v-checkbox @change=\"setTouched()\" v-model=\"url_all\" color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"url-all\"></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.timeoutSec')}}\n+                    <helpIcon :text=\"$t('services.timeoutTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            :rules=\"{ required: true, between: { min: 0, max: 1000 } }\"\n+                            name=\"serviceTimeout\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.timeout\"\n+                                single-line\n+                                @input=\"setTouched()\"\n+                                type=\"number\"\n+                                style=\"max-width: 200px;\"\n+                                name=\"serviceTimeout\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-timeout\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                    <!-- 0 - 1000 -->\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"timeout_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"timeout-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.verifyTls')}}\n+                    <helpIcon :text=\"$t('services.tlsTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <v-checkbox\n+                            :disabled=\"!isHttps\"\n+                            @change=\"setTouched()\"\n+                            v-model=\"service.ssl_auth\"\n+                            color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"ssl-auth\"\n+                    ></v-checkbox>\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"ssl_auth_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"ssl-auth-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"button-wrap\">\n+                <large-button :disabled=\"invalid ||\u00a0disableSave\"\n+                              @click=\"save()\" data-test=\"save-service-parameters\">{{$t('action.save')}}</large-button>\n+            </div>\n+        </ValidationObserver>\n+\n+        <div class=\"group-members-row\">\n+            <div class=\"row-title\">{{$t('access.accessRights')}}</div>\n+            <div class=\"row-buttons\">\n+                <large-button\n+                        :disabled=\"!hasSubjects\"\n+                        outlined\n+                        @click=\"removeAllSubjects()\"\n+                        data-test=\"remove-subjects\"\n+                >{{$t('action.removeAll')}}\n+                </large-button>\n+                <large-button\n+                        outlined\n+                        class=\"add-members-button\"\n+                        @click=\"showAddSubjectsDialog()\"\n+                        data-test=\"show-add-subjects\"\n+                >{{$t('access.addSubjects')}}\n+                </large-button>\n+            </div>\n+        </div>\n+\n+        <v-card flat>\n+            <table class=\"xrd-table group-members-table\">\n+                <tr>\n+                    <th>{{$t('services.memberNameGroupDesc')}}</th>\n+                    <th>{{$t('services.idGroupCode')}}</th>\n+                    <th>{{$t('type')}}</th>\n+                    <th></th>\n+                </tr>\n+                <template v-if=\"accessRightsSubjects\">\n+                    <tr v-for=\"subject in accessRightsSubjects\" v-bind:key=\"subject.id\">\n+                        <td>{{subject.subject.member_name_group_description}}</td>\n+                        <td>{{subject.subject.id}}</td>\n+                        <td>{{subject.subject.subject_type}}</td>\n+                        <td>\n+                            <div class=\"button-wrap\">\n+                                <v-btn\n+                                        small\n+                                        outlined\n+                                        rounded\n+                                        color=\"primary\"\n+                                        class=\"xrd-small-button\"\n+                                        @click=\"removeSubject(subject)\"\n+                                        data-test=\"remove-subject\"\n+                                >{{$t('action.remove')}}\n+                                </v-btn>\n+                            </div>\n+                        </td>\n+                    </tr>\n+                </template>\n+            </table>\n+\n+            <div class=\"footer-buttons-wrap\">\n+                <large-button @click=\"close()\" data-test=\"close\">{{$t('action.close')}}</large-button>\n+            </div>\n+        </v-card>\n+\n+        <!-- Confirm dialog remove Access Right subject -->\n+        <confirmDialog\n+                :dialog=\"confirmMember\"\n+                title=\"localGroup.removeTitle\"\n+                text=\"localGroup.removeText\"\n+                @cancel=\"confirmMember = false\"\n+                @accept=\"doRemoveSubject()\"\n+        />\n+\n+        <!-- Confirm dialog remove all Access Right subjects -->\n+        <confirmDialog\n+                :dialog=\"confirmAllSubjects\"\n+                title=\"localGroup.removeAllTitle\"\n+                text=\"localGroup.removeAllText\"\n+                @cancel=\"confirmAllSubjects = false\"\n+                @accept=\"doRemoveAllSubjects()\"\n+        />\n+\n+        <!-- Add access right subjects dialog -->\n+        <accessRightsDialog\n+                :dialog=\"addSubjectsDialogVisible\"\n+                :filtered=\"accessRightsSubjects\"\n+                :clientId=\"clientId\"\n+                title=\"access.addSubjectsTitle\"\n+                @cancel=\"closeAccessRightsDialog\"\n+                @subjectsAdded=\"doAddSubjects\"\n+        />\n+    </div>\n+</template>\n+\n+\n+<script lang=\"ts\">\n+import Vue from 'vue';\n+import * as api from '@/util/api';\n+import AccessRightsDialog from '../AccessRightsDialog.vue';\n+import ConfirmDialog from '@/components/ui/ConfirmDialog.vue';\n+import HelpIcon from '@/components/ui/HelpIcon.vue';\n+import LargeButton from '@/components/ui/LargeButton.vue';\n+import {ServiceClient} from '@/types';\n+import {ValidationObserver, ValidationProvider} from 'vee-validate';\n+import {mapGetters} from 'vuex';\n+import {RouteName} from '@/global';\n+\n+type NullableSubject = undefined | ServiceClient;\n+\n+export default Vue.extend({\n+  components: {\n+    AccessRightsDialog,\n+    ConfirmDialog,\n+    HelpIcon,\n+    LargeButton,\n+    ValidationProvider,\n+    ValidationObserver,\n+  },\n+  props: {\n+    serviceId: {\n+      type: String,\n+      required: true,\n+    },\n+    clientId: {\n+      type: String,\n+      required: true,\n+    },\n+  },\n+  data() {\n+    return {\n+      touched: false,\n+      confirmGroup: false,\n+      confirmMember: false,\n+      confirmAllSubjects: false,\n+      selectedMember: undefined as NullableSubject,\n+      description: undefined,\n+      url: '',\n+      addSubjectsDialogVisible: false,\n+      timeout: 23,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgyNjYxOQ=="}, "originalCommit": {"oid": "46da0061bb35e111dfbfc8c95b2d5bd1a62584a6"}, "originalPosition": 234}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTE5NTU0OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTowMjozMFrOFjjk2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTowMjozMFrOFjjk2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgyNzM1Mg==", "bodyText": "If this created is not used it can be deleted.", "url": "https://github.com/nordic-institute/X-Road/pull/340#discussion_r372827352", "createdAt": "2020-01-30T09:02:30Z", "author": {"login": "Riippi"}, "path": "src/proxy-ui-api/frontend/src/views/Service/Parameters/ServiceParameters.vue", "diffHunk": "@@ -0,0 +1,488 @@\n+<template>\n+    <div class=\"xrd-tab-max-width xrd-view-common\">\n+        <div class=\"apply-to-all\">\n+            <div class=\"apply-to-all-text\">{{$t('services.applyToAll')}}</div>\n+        </div>\n+\n+        <ValidationObserver ref=\"form\" v-slot=\"{ validate, invalid }\">\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.serviceUrl')}}\n+                    <helpIcon :text=\"$t('services.urlTooltip')\"/>\n+                </div>\n+\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            rules=\"required|wsdlUrl\"\n+                            name=\"serviceUrl\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.url\"\n+                                @input=\"setTouched()\"\n+                                single-line\n+                                class=\"description-input\"\n+                                name=\"serviceUrl\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-url\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                </div>\n+\n+                <v-checkbox @change=\"setTouched()\" v-model=\"url_all\" color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"url-all\"></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.timeoutSec')}}\n+                    <helpIcon :text=\"$t('services.timeoutTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <ValidationProvider\n+                            :rules=\"{ required: true, between: { min: 0, max: 1000 } }\"\n+                            name=\"serviceTimeout\"\n+                            class=\"validation-provider\"\n+                            v-slot=\"{ errors }\"\n+                    >\n+                        <v-text-field\n+                                v-model=\"service.timeout\"\n+                                single-line\n+                                @input=\"setTouched()\"\n+                                type=\"number\"\n+                                style=\"max-width: 200px;\"\n+                                name=\"serviceTimeout\"\n+                                :error-messages=\"errors\"\n+                                data-test=\"service-timeout\"\n+                        ></v-text-field>\n+                    </ValidationProvider>\n+                    <!-- 0 - 1000 -->\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"timeout_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"timeout-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"edit-row\">\n+                <div class=\"edit-title\">\n+                    {{$t('services.verifyTls')}}\n+                    <helpIcon :text=\"$t('services.tlsTooltip')\"/>\n+                </div>\n+                <div class=\"edit-input\">\n+                    <v-checkbox\n+                            :disabled=\"!isHttps\"\n+                            @change=\"setTouched()\"\n+                            v-model=\"service.ssl_auth\"\n+                            color=\"primary\"\n+                            class=\"table-checkbox\"\n+                            data-test=\"ssl-auth\"\n+                    ></v-checkbox>\n+                </div>\n+\n+                <v-checkbox\n+                        @change=\"setTouched()\"\n+                        v-model=\"ssl_auth_all\"\n+                        color=\"primary\"\n+                        class=\"table-checkbox\"\n+                        data-test=\"ssl-auth-all\"\n+                ></v-checkbox>\n+            </div>\n+\n+            <div class=\"button-wrap\">\n+                <large-button :disabled=\"invalid ||\u00a0disableSave\"\n+                              @click=\"save()\" data-test=\"save-service-parameters\">{{$t('action.save')}}</large-button>\n+            </div>\n+        </ValidationObserver>\n+\n+        <div class=\"group-members-row\">\n+            <div class=\"row-title\">{{$t('access.accessRights')}}</div>\n+            <div class=\"row-buttons\">\n+                <large-button\n+                        :disabled=\"!hasSubjects\"\n+                        outlined\n+                        @click=\"removeAllSubjects()\"\n+                        data-test=\"remove-subjects\"\n+                >{{$t('action.removeAll')}}\n+                </large-button>\n+                <large-button\n+                        outlined\n+                        class=\"add-members-button\"\n+                        @click=\"showAddSubjectsDialog()\"\n+                        data-test=\"show-add-subjects\"\n+                >{{$t('access.addSubjects')}}\n+                </large-button>\n+            </div>\n+        </div>\n+\n+        <v-card flat>\n+            <table class=\"xrd-table group-members-table\">\n+                <tr>\n+                    <th>{{$t('services.memberNameGroupDesc')}}</th>\n+                    <th>{{$t('services.idGroupCode')}}</th>\n+                    <th>{{$t('type')}}</th>\n+                    <th></th>\n+                </tr>\n+                <template v-if=\"accessRightsSubjects\">\n+                    <tr v-for=\"subject in accessRightsSubjects\" v-bind:key=\"subject.id\">\n+                        <td>{{subject.subject.member_name_group_description}}</td>\n+                        <td>{{subject.subject.id}}</td>\n+                        <td>{{subject.subject.subject_type}}</td>\n+                        <td>\n+                            <div class=\"button-wrap\">\n+                                <v-btn\n+                                        small\n+                                        outlined\n+                                        rounded\n+                                        color=\"primary\"\n+                                        class=\"xrd-small-button\"\n+                                        @click=\"removeSubject(subject)\"\n+                                        data-test=\"remove-subject\"\n+                                >{{$t('action.remove')}}\n+                                </v-btn>\n+                            </div>\n+                        </td>\n+                    </tr>\n+                </template>\n+            </table>\n+\n+            <div class=\"footer-buttons-wrap\">\n+                <large-button @click=\"close()\" data-test=\"close\">{{$t('action.close')}}</large-button>\n+            </div>\n+        </v-card>\n+\n+        <!-- Confirm dialog remove Access Right subject -->\n+        <confirmDialog\n+                :dialog=\"confirmMember\"\n+                title=\"localGroup.removeTitle\"\n+                text=\"localGroup.removeText\"\n+                @cancel=\"confirmMember = false\"\n+                @accept=\"doRemoveSubject()\"\n+        />\n+\n+        <!-- Confirm dialog remove all Access Right subjects -->\n+        <confirmDialog\n+                :dialog=\"confirmAllSubjects\"\n+                title=\"localGroup.removeAllTitle\"\n+                text=\"localGroup.removeAllText\"\n+                @cancel=\"confirmAllSubjects = false\"\n+                @accept=\"doRemoveAllSubjects()\"\n+        />\n+\n+        <!-- Add access right subjects dialog -->\n+        <accessRightsDialog\n+                :dialog=\"addSubjectsDialogVisible\"\n+                :filtered=\"accessRightsSubjects\"\n+                :clientId=\"clientId\"\n+                title=\"access.addSubjectsTitle\"\n+                @cancel=\"closeAccessRightsDialog\"\n+                @subjectsAdded=\"doAddSubjects\"\n+        />\n+    </div>\n+</template>\n+\n+\n+<script lang=\"ts\">\n+import Vue from 'vue';\n+import * as api from '@/util/api';\n+import AccessRightsDialog from '../AccessRightsDialog.vue';\n+import ConfirmDialog from '@/components/ui/ConfirmDialog.vue';\n+import HelpIcon from '@/components/ui/HelpIcon.vue';\n+import LargeButton from '@/components/ui/LargeButton.vue';\n+import {ServiceClient} from '@/types';\n+import {ValidationObserver, ValidationProvider} from 'vee-validate';\n+import {mapGetters} from 'vuex';\n+import {RouteName} from '@/global';\n+\n+type NullableSubject = undefined | ServiceClient;\n+\n+export default Vue.extend({\n+  components: {\n+    AccessRightsDialog,\n+    ConfirmDialog,\n+    HelpIcon,\n+    LargeButton,\n+    ValidationProvider,\n+    ValidationObserver,\n+  },\n+  props: {\n+    serviceId: {\n+      type: String,\n+      required: true,\n+    },\n+    clientId: {\n+      type: String,\n+      required: true,\n+    },\n+  },\n+  data() {\n+    return {\n+      touched: false,\n+      confirmGroup: false,\n+      confirmMember: false,\n+      confirmAllSubjects: false,\n+      selectedMember: undefined as NullableSubject,\n+      description: undefined,\n+      url: '',\n+      addSubjectsDialogVisible: false,\n+      timeout: 23,\n+      url_all: false,\n+      timeout_all: false,\n+      ssl_auth_all: false,\n+    };\n+  },\n+  computed: {\n+    ...mapGetters(['service', 'accessRightsSubjects']),\n+    isHttps(): boolean {\n+      if (this.service.url.startsWith('https')) {\n+        return true;\n+      }\n+      return false;\n+    },\n+    hasSubjects(): boolean {\n+      if (this.accessRightsSubjects && this.accessRightsSubjects.length > 0) {\n+        return true;\n+      }\n+      return false;\n+    },\n+\n+    disableSave(): boolean {\n+      // service is undefined --> can't save\n+      if (!this.service) {\n+        return true;\n+      }\n+\n+      // inputs are not touched\n+      if (!this.touched) {\n+        return true;\n+      }\n+\n+      return false;\n+    },\n+  },\n+\n+  methods: {\n+\n+    save(): void {\n+      api\n+        .patch(`/services/${this.serviceId}`, {\n+          service: this.service,\n+          timeout_all: this.timeout_all,\n+          url_all: this.url_all,\n+          ssl_auth_all: this.ssl_auth_all,\n+        })\n+        .then((res) => {\n+          this.$bus.$emit('saveService', res.data);\n+          this.$bus.$emit('show-success', 'Service saved');\n+        })\n+        .catch((error) => {\n+          this.$bus.$emit('show-error', error.message);\n+        });\n+    },\n+\n+    setTouched(): void {\n+      this.touched = true;\n+    },\n+\n+    fetchData(serviceId: string): void {\n+\n+      api\n+        .get(`/services/${serviceId}/access-rights`)\n+        .then((res) => {\n+          this.accessRightsSubjects = res.data;\n+        })\n+        .catch((error) => {\n+          this.$bus.$emit('show-error', error.message);\n+        });\n+    },\n+\n+    showAddSubjectsDialog(): void {\n+      this.addSubjectsDialogVisible = true;\n+    },\n+\n+    doAddSubjects(selected: any[]): void {\n+      this.addSubjectsDialogVisible = false;\n+\n+      api\n+        .post(`/services/${this.serviceId}/access-rights`, {\n+          items: selected,\n+        })\n+        .then((res) => {\n+          this.fetchData(this.serviceId);\n+        })\n+        .catch((error) => {\n+          this.$bus.$emit('show-error', error.message);\n+        });\n+    },\n+\n+    closeAccessRightsDialog(): void {\n+      this.addSubjectsDialogVisible = false;\n+    },\n+\n+    removeAllSubjects(): void {\n+      this.confirmAllSubjects = true;\n+    },\n+\n+    doRemoveAllSubjects(): void {\n+      const subjects: any = [];\n+      this.accessRightsSubjects.forEach((subject: any) => {\n+        subjects.push({\n+          id: subject.subject.id,\n+          subject_type: subject.subject.subject_type,\n+        });\n+      });\n+\n+      this.removeArrayOfSubjects(subjects);\n+      this.confirmAllSubjects = false;\n+    },\n+\n+    removeSubject(member: any): void {\n+      this.confirmMember = true;\n+      this.selectedMember = member;\n+    },\n+    doRemoveSubject() {\n+      const subject: ServiceClient = this.selectedMember as ServiceClient;\n+\n+      if (subject && subject.subject.id) {\n+        this.removeArrayOfSubjects([\n+          {\n+            id: subject.subject.id,\n+            subject_type: subject.subject.subject_type,\n+          },\n+        ]);\n+      }\n+\n+      this.confirmMember = false;\n+      this.selectedMember = undefined;\n+    },\n+\n+    removeArrayOfSubjects(subjects: any) {\n+      api\n+        .post(`/services/${this.serviceId}/access-rights/delete`, {\n+          items: subjects,\n+        })\n+        .catch((error) => {\n+          this.$bus.$emit('show-error', error.message);\n+        })\n+        .finally(() => {\n+          this.fetchData(this.serviceId);\n+        });\n+    },\n+    close() {\n+      this.$router.push({name: RouteName.SubsystemServices, params: {id: this.clientId}});\n+    },\n+  },\n+  watch: {\n+    isHttps(val) {\n+      // If user edits http to https --> change \"ssl auth\" to true\n+      if (val === true) {\n+        this.service.ssl_auth = true;\n+      }\n+    },\n+  },\n+  created() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46da0061bb35e111dfbfc8c95b2d5bd1a62584a6"}, "originalPosition": 389}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2899, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}