{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MzM3Mjg4", "number": 593, "title": "XRDDEV-525 XRDDEV-978 RHEL 7 and 8 packages", "bodyText": "https://jira.niis.org/browse/XRDDEV-525\nhttps://jira.niis.org/browse/XRDDEV-978\nalso remove some unused files such as nginx.p12", "createdAt": "2020-07-13T15:41:46Z", "url": "https://github.com/nordic-institute/X-Road/pull/593", "merged": true, "mergeCommit": {"oid": "a3ca11d1c5a5376b938f33a21a1a6b12f513fb13"}, "closed": true, "closedAt": "2020-07-15T06:13:03Z", "author": {"login": "jansu76"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczfQFrgH2gAyNDQ4MzM3Mjg4OjZlYTFlZWM5YzU2Mzg0NTlkNDExNDE0YmY3ZDFiMmViMjE2Y2FlOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc02rtzAFqTQ0ODE0NTc2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ea1eec9c5638459d411414bf7d1b2eb216cae98", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/6ea1eec9c5638459d411414bf7d1b2eb216cae98", "committedDate": "2020-07-10T08:20:51Z", "message": "XRDDEV-525 add RHEL packaging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2adce422e27b467f88a6a7b1da11629c6031bdd9", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/2adce422e27b467f88a6a7b1da11629c6031bdd9", "committedDate": "2020-07-10T11:16:22Z", "message": "XRDDEV-525 fix bad path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3515d6ea46056472122c04da1f61ee7b02fb046b", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/3515d6ea46056472122c04da1f61ee7b02fb046b", "committedDate": "2020-07-13T08:35:10Z", "message": "XRDDEV-525 fix some problems in RHEL specs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54bf0fee8782b494162bf1993f7993f8bf0b29c3", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/54bf0fee8782b494162bf1993f7993f8bf0b29c3", "committedDate": "2020-07-13T12:13:44Z", "message": "XRDDEV-525 fix missing proxy_ui_api.p12"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f85969805a8e2a0b77167c94bcf69b5fea0b6afc", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/f85969805a8e2a0b77167c94bcf69b5fea0b6afc", "committedDate": "2020-07-13T12:15:36Z", "message": "XRDDEV-525 fix ansble scripts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/02dc5cda91842928b735ef25ea9c0ffdabac0608", "committedDate": "2020-07-14T05:59:50Z", "message": "Merge branch 'develop' into XRDDEV-525-RHEL-7-packages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3OTczNDUx", "url": "https://github.com/nordic-institute/X-Road/pull/593#pullrequestreview-447973451", "createdAt": "2020-07-14T10:13:13Z", "commit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMDoxMzoxM1rOGxNRbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMTo0NzoyMlrOGxQJoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI1MDg2MA==", "bodyText": "This is probably a regression from XRDDEV-727. It might be better to leave it as it is and handle in a separate task. Keeping the predictable repository file name is actually what we want, but it is necessary to check if similar problem exists in the Ubuntu tasks.", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454250860", "createdAt": "2020-07-14T10:13:13Z", "author": {"login": "jhyoty"}, "path": "ansible/roles/xroad-base/tasks/rhel.yml", "diffHunk": "@@ -42,10 +42,11 @@\n     state: present\n     key: \"{{ rhel_repo_gpgkey }}\"\n \n-- name: xroad repo\n-  template:\n-    src: \"xroad.repo.j2\"\n-    dest: \"/etc/yum.repos.d/xroad.repo\"\n-    owner: root\n-    group: root\n-    mode: 0644\n+# repo already added by step Setup the correct repository for X-Road installation (RHEL)\n+#- name: xroad repo\n+#  template:\n+#    src: \"xroad.repo.j2\"\n+#    dest: \"/etc/yum.repos.d/xroad.repo\"\n+#    owner: root\n+#    group: root\n+#    mode: 0644", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5NTIxMw==", "bodyText": "These seem to be unnecessary (can not find any SELinux rule changes)", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454295213", "createdAt": "2020-07-14T11:41:40Z", "author": {"login": "jhyoty"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI5ODAxNg==", "bodyText": "xroad-proxy-ui-api-setup.sh needs ip and hostname (from iproute and hostname packages). net-tools should be unnecessary. Can't find any reference to tar either.", "url": "https://github.com/nordic-institute/X-Road/pull/593#discussion_r454298016", "createdAt": "2020-07-14T11:47:22Z", "author": {"login": "jhyoty"}, "path": "src/packages/src/xroad/redhat/SPECS/xroad-proxy-ui-api.spec", "diffHunk": "@@ -0,0 +1,86 @@\n+# do not repack jars\n+%define __jar_repack %{nil}\n+# produce .elX dist tag on both centos and redhat\n+%define dist %(/usr/lib/rpm/redhat/dist.sh)\n+\n+Name:               xroad-proxy-ui-api\n+Version:            %{xroad_version}\n+# release tag, e.g. 0.201508070816.el7 for snapshots and 1.el7 (for final releases)\n+Release:            %{rel}%{?snapshot}%{?dist}\n+Summary:            X-Road proxy UI REST API\n+Group:              Applications/Internet\n+License:            MIT\n+BuildRequires:      systemd\n+Requires(post):     systemd\n+Requires(post):     /usr/sbin/semanage, /usr/sbin/setsebool\n+Requires(preun):    systemd\n+Requires(postun):   systemd\n+Requires:           net-tools, tar", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc5cda91842928b735ef25ea9c0ffdabac0608"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eb4f8e30565ee48d57b64eea714deb64e21f081", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/3eb4f8e30565ee48d57b64eea714deb64e21f081", "committedDate": "2020-07-14T14:07:28Z", "message": "XRDDEV-525 updates based on PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTQ1NzYz", "url": "https://github.com/nordic-institute/X-Road/pull/593#pullrequestreview-448145763", "createdAt": "2020-07-14T14:12:46Z", "commit": {"oid": "3eb4f8e30565ee48d57b64eea714deb64e21f081"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4132, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}