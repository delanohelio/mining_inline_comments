{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNDM4Mzk1", "number": 721, "title": "XRDDEV-1266 Error snackbar update", "bodyText": "https://jira.niis.org/browse/XRDDEV-1266\nhttps://jira.niis.org/browse/XRDDEV-1236\nUpdates for snackbars.\nUpdated version of vuetify.", "createdAt": "2020-09-21T17:03:53Z", "url": "https://github.com/nordic-institute/X-Road/pull/721", "merged": true, "mergeCommit": {"oid": "b528ce0250d43084b249be9461a3f728eb539a2a"}, "closed": true, "closedAt": "2020-09-28T18:50:51Z", "author": {"login": "Riippi"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCwLJRAH2gAyNDkwNDM4Mzk1OmM2NDk1MDhmN2U4ZjkwNzIwYjA4ZDJiY2M1NjhlYzI4MjAxNzU4Y2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNYMuIAFqTQ5NzgwNTU0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c649508f7e8f90720b08d2bcc568ec28201758cb", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/c649508f7e8f90720b08d2bcc568ec28201758cb", "committedDate": "2020-08-26T18:32:42Z", "message": "XRDDEV-1266 Update packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "851ff51f9b3d024c6fb7e5b2567f225394c92622", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/851ff51f9b3d024c6fb7e5b2567f225394c92622", "committedDate": "2020-08-26T18:33:53Z", "message": "XRDDEV-1266 Add counter draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19ff0aaf84bff58086c6ca184df5fbefa412e410", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/19ff0aaf84bff58086c6ca184df5fbefa412e410", "committedDate": "2020-08-26T18:41:16Z", "message": "Merge commit '95cbc6fb99d3d8dfaa1643cba466e66739a9f93e' into XRDDEV-1266-error-snackbar-update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dea2b23d25fdf4c04d71444eda165bebc62a71bd", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/dea2b23d25fdf4c04d71444eda165bebc62a71bd", "committedDate": "2020-08-27T15:36:09Z", "message": "XRDDEV-1266 Update vuetify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "868d9adbf7ce9d8b903348f4558f99fa678ed9c5", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/868d9adbf7ce9d8b903348f4558f99fa678ed9c5", "committedDate": "2020-08-28T08:13:39Z", "message": "XRDDEV-1266 Snackbar style fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10d23ddb1435e5794d35963c9ad9e6aaa0a67722", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/10d23ddb1435e5794d35963c9ad9e6aaa0a67722", "committedDate": "2020-09-18T07:46:50Z", "message": "Merge branch 'develop' into XRDDEV-1266-error-snackbar-update\n\n# Conflicts:\n#\tsrc/proxy-ui-api/frontend/package-lock.json"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d89a3f9d86d33a7e0c7b12c135121669e3432c3", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/9d89a3f9d86d33a7e0c7b12c135121669e3432c3", "committedDate": "2020-09-21T15:28:49Z", "message": "XRDDEV-1266 Updates to error and success snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35e331a456d5df351d567870173424e9ffd2dedf", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/35e331a456d5df351d567870173424e9ffd2dedf", "committedDate": "2020-09-21T15:39:57Z", "message": "XRDDEV-1266 Fix success snackbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffcf496e4fb9b76f0cd11f0342f5da3dbd454f54", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/ffcf496e4fb9b76f0cd11f0342f5da3dbd454f54", "committedDate": "2020-09-21T16:33:25Z", "message": "XRDDEV-1266 Fix error duplicate check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MzM2NDkz", "url": "https://github.com/nordic-institute/X-Road/pull/721#pullrequestreview-494336493", "createdAt": "2020-09-23T07:21:54Z", "commit": {"oid": "ffcf496e4fb9b76f0cd11f0342f5da3dbd454f54"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNzoyMTo1NFrOHWZxOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNzoyMTo1NFrOHWZxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzI1MjkyMA==", "bodyText": "I think you could use the custom isEmpty -utility method from util/helpers.ts here.\nSo the clause could be written like this (double check!):\nif (isEmpty(notification) || isEmpty(errorNotifications)) {", "url": "https://github.com/nordic-institute/X-Road/pull/721#discussion_r493252920", "createdAt": "2020-09-23T07:21:54Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/store/modules/notifications.ts", "diffHunk": "@@ -28,41 +28,104 @@ import { RootState } from '../types';\n import { Notification } from '@/ui-types';\n \n export interface NotificationsState {\n-  successMessageCode: string;\n-  successMessageRaw: string;\n-  showSuccessCode: boolean;\n-  showSuccessRaw: boolean;\n-  notifications: Notification[];\n+  errorNotifications: Notification[];\n+  successNotifications: Notification[];\n }\n \n const getDefaultState = () => {\n   return {\n-    successMessageCode: '',\n-    successMessageRaw: '',\n-    showSuccessCode: false,\n-    showSuccessRaw: false,\n-    notifications: [],\n+    errorNotifications: [],\n+    successNotifications: [],\n   };\n };\n \n+// Finds if an array of notifications contains a similar notification.\n+function containsNotification(\n+  errorNotifications: Notification[],\n+  notification: Notification,\n+): number {\n+  if (!notification || !errorNotifications || errorNotifications.length === 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffcf496e4fb9b76f0cd11f0342f5da3dbd454f54"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "410255d4db513f835779ed82cdf3c83eca102562", "author": {"user": {"login": "Riippi", "name": "Mikko Riippi"}}, "url": "https://github.com/nordic-institute/X-Road/commit/410255d4db513f835779ed82cdf3c83eca102562", "committedDate": "2020-09-25T10:56:46Z", "message": "XRDDEV-1266 Update localisation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3ODA1NTQ0", "url": "https://github.com/nordic-institute/X-Road/pull/721#pullrequestreview-497805544", "createdAt": "2020-09-28T18:49:52Z", "commit": {"oid": "410255d4db513f835779ed82cdf3c83eca102562"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4081, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}