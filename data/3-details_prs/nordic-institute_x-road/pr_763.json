{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMzEwOTc3", "number": 763, "title": "XRDDEV-1425 limit HSM CSR creation to SIGNING usage", "bodyText": "https://jira.niis.org/browse/XRDDEV-1425", "createdAt": "2020-10-29T14:20:30Z", "url": "https://github.com/nordic-institute/X-Road/pull/763", "merged": true, "mergeCommit": {"oid": "996d4e6610eed7477898094f3c1ccc0bdda71228"}, "closed": true, "closedAt": "2020-10-30T06:40:21Z", "author": {"login": "jansu76"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXSsEPgH2gAyNTEyMzEwOTc3OmZlMTZkYThkZjM3NjNjOTM4OTJkMGM0ODZjZWY0ZGZjNWYxYmRiYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXTYl2gFqTUxOTc1MDg1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/fe16da8df3763c93892d0c486cef4dfc5f1bdbab", "committedDate": "2020-10-29T14:03:55Z", "message": "XRDDEV-1425 limit HSM CSR creation to SIGNING usage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NzIyNDU5", "url": "https://github.com/nordic-institute/X-Road/pull/763#pullrequestreview-519722459", "createdAt": "2020-10-29T14:26:45Z", "commit": {"oid": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNDoyNjo0NVrOHqeaQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNDoyNzowOVrOHqebiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDQ4Mw==", "bodyText": "In this case it doesn't matter but it's a good practise to always use three equal signs when doing a comparison in javascript.\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality\nFor example.\n1 == '1' // true\n1 === '1' // false", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514300483", "createdAt": "2020-10-29T14:26:45Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/store/modules/certificateSignRequest.ts", "diffHunk": "@@ -103,6 +106,10 @@ export const csrGetters: GetterTree<CsrState, RootState> = {\n     return state.keyLabel;\n   },\n   isUsageReadOnly(state): boolean {\n+    // if creating CSR for a hardware token, only sign CSRs can be created\n+    if (state.tokenType == TokenType.HARDWARE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMwMDgxMQ==", "bodyText": "Strict equality like above", "url": "https://github.com/nordic-institute/X-Road/pull/763#discussion_r514300811", "createdAt": "2020-10-29T14:27:09Z", "author": {"login": "TJaakkola"}, "path": "src/proxy-ui-api/frontend/src/store/modules/certificateSignRequest.ts", "diffHunk": "@@ -194,6 +204,13 @@ export const actions: ActionTree<CsrState, RootState> = {\n   setCsrTokenId({ commit }, tokenId: string) {\n     commit('storeCsrTokenId', tokenId);\n   },\n+  setCsrTokenType({ commit }, tokenType: string) {\n+    if (tokenType == TokenType.HARDWARE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe16da8df3763c93892d0c486cef4dfc5f1bdbab"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de7a84eccea5dafca22fc454e254095558c50125", "author": {"user": {"login": "jansu76", "name": null}}, "url": "https://github.com/nordic-institute/X-Road/commit/de7a84eccea5dafca22fc454e254095558c50125", "committedDate": "2020-10-29T14:44:54Z", "message": "XRDDEV-1425 updates based on PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NzUwODU1", "url": "https://github.com/nordic-institute/X-Road/pull/763#pullrequestreview-519750855", "createdAt": "2020-10-29T14:52:33Z", "commit": {"oid": "de7a84eccea5dafca22fc454e254095558c50125"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4023, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}