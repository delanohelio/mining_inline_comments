{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNzI5OTU3", "number": 658, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTo1ODo0NFrOEafruQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTo1ODo0NFrOEafruQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MjE3NTI5OnYy", "diffSide": "RIGHT", "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/scheduling/GlobalConfChecker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTo1ODo0NFrOHD9gXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTo1ODo0NFrOHD9gXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzkxNTQ4NA==", "bodyText": "Maybe a log.debug message would be useful here, and consistent with how clustered setup globalconf skipping works?", "url": "https://github.com/nordic-institute/X-Road/pull/658#discussion_r473915484", "createdAt": "2020-08-20T11:58:44Z", "author": {"login": "jansu76"}, "path": "src/proxy-ui-api/src/main/java/org/niis/xroad/restapi/scheduling/GlobalConfChecker.java", "diffHunk": "@@ -82,13 +84,18 @@ public GlobalConfChecker(GlobalConfCheckerHelper globalConfCheckerHelper, Global\n      * @throws Exception\n      */\n     @Scheduled(fixedRate = JOB_REPEAT_INTERVAL_MS, initialDelay = INITIAL_DELAY_MS)\n-    public void updateServerConf() throws Exception {\n+    @Transactional\n+    public void updateServerConf() {\n         // In clustered setup slave nodes may skip globalconf updates\n         if (SLAVE.equals(SystemProperties.getServerNodeType())) {\n             log.debug(\"This is a slave node - skip globalconf updates\");\n             return;\n         }\n \n+        if (restoreInProgress) {\n+            return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26183915eb1f83a34953020c9a0b1262001b3410"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2678, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}