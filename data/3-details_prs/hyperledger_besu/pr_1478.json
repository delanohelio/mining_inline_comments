{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2NjIxMDk2", "number": 1478, "title": "Fix Internal error returned on eth_estimateGas", "bodyText": "Signed-off-by: Karim TAAM karim.t2am@gmail.com\nPR description\nWill return \"execution reverted\" in case of a revert instead of \"Internal error\"\n{ \"code\": -32000, \"message\": \"Execution reverted\" }\nTest performed (with and without reverted transaction)\n\non local Clique Network\non Rinkeby\n\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-10-20T09:14:45Z", "url": "https://github.com/hyperledger/besu/pull/1478", "merged": true, "mergeCommit": {"oid": "83e03706b2f424afd080f18addec228d4f9aafee"}, "closed": true, "closedAt": "2020-10-30T10:26:27Z", "author": {"login": "matkt"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUU-9-AH2gAyNTA2NjIxMDk2OjgyMDZjMWFjNWI4ZWM0NmJjYmQxOWYxMDk4MmM0ZWEyZTUyYzVmMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXjArtgH2gAyNTA2NjIxMDk2OmJhY2JjMDRjMjI2ZjQ0OTY4NTcwZTgzMWUwYWVkMDkyZTM3NzZhZTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8206c1ac5b8ec46bcbd19f10982c4ea2e52c5f28", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/8206c1ac5b8ec46bcbd19f10982c4ea2e52c5f28", "committedDate": "2020-10-20T09:02:36Z", "message": "fix eth_estimateGas internal error during revert\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2efb1edd311ad89c52aaec4b7ae4dbbe7e223bc", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/e2efb1edd311ad89c52aaec4b7ae4dbbe7e223bc", "committedDate": "2020-10-20T09:13:56Z", "message": "clean code\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b92e46273416534ead1f8fe38b511c4b80897fc", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/9b92e46273416534ead1f8fe38b511c4b80897fc", "committedDate": "2020-10-20T13:24:08Z", "message": "Merge branch 'master' into feature/internal-error-returned-on-eth-estimate-gas"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a73cade1663b508a340d54c60353e55761d7fcbc", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/a73cade1663b508a340d54c60353e55761d7fcbc", "committedDate": "2020-10-21T14:47:56Z", "message": "add check world state available\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be82f4c246de6a426f97a8c6917fdd037320fdaf", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/be82f4c246de6a426f97a8c6917fdd037320fdaf", "committedDate": "2020-10-26T10:09:26Z", "message": "update test\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecf4423d284ab24350481f49f1b901d3e52faa19", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/ecf4423d284ab24350481f49f1b901d3e52faa19", "committedDate": "2020-10-26T10:10:57Z", "message": "Merge branch 'master' into feature/internal-error-returned-on-eth-estimate-gas"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fd2af5cc20cb57cc75f2e514951013a8129c226", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/4fd2af5cc20cb57cc75f2e514951013a8129c226", "committedDate": "2020-10-26T10:16:38Z", "message": "update CHANGELOG.md\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ef78d723ff25b15d1fdabb39bb03ccf8362318", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/e9ef78d723ff25b15d1fdabb39bb03ccf8362318", "committedDate": "2020-10-27T14:51:33Z", "message": "Merge branch 'master' into feature/internal-error-returned-on-eth-estimate-gas"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3ODcxMzQ4", "url": "https://github.com/hyperledger/besu/pull/1478#pullrequestreview-517871348", "createdAt": "2020-10-27T15:57:54Z", "commit": {"oid": "e9ef78d723ff25b15d1fdabb39bb03ccf8362318"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3OTQ0NjI5", "url": "https://github.com/hyperledger/besu/pull/1478#pullrequestreview-517944629", "createdAt": "2020-10-27T17:09:54Z", "commit": {"oid": "e9ef78d723ff25b15d1fdabb39bb03ccf8362318"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNzowOTo1NFrOHpHTIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNzowOTo1NFrOHpHTIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjg3MzI0OQ==", "bodyText": "Instead of storing the revert flag in the tracer is it possible to use org.hyperledger.besu.ethereum.mainnet.TransactionProcessor.Result#getRevertReason?  (via org.hyperledger.besu.ethereum.transaction.TransactionSimulatorResult#getResult)?  If a TX reverts without a reason do we get an empty revert reason or a revert reason with zero bytes?", "url": "https://github.com/hyperledger/besu/pull/1478#discussion_r512873249", "createdAt": "2020-10-27T17:09:54Z", "author": {"login": "shemnon"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/vm/EstimateGasOperationTracer.java", "diffHunk": "@@ -23,6 +23,8 @@\n \n   private Gas sStoreStipendNeeded = Gas.ZERO;\n \n+  private boolean isReverted = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9ef78d723ff25b15d1fdabb39bb03ccf8362318"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b12743705d8d6b39a8673286dce3a1191dcf590c", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/b12743705d8d6b39a8673286dce3a1191dcf590c", "committedDate": "2020-10-27T18:36:17Z", "message": "update eth estimate gas implementation\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c33df3d159de88115cbfaa3defb4f465ee65ba", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/74c33df3d159de88115cbfaa3defb4f465ee65ba", "committedDate": "2020-10-27T18:37:22Z", "message": "Merge branch 'feature/internal-error-returned-on-eth-estimate-gas'\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d962e4927e31652c8e24eddf0e0a1052d183d788", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/d962e4927e31652c8e24eddf0e0a1052d183d788", "committedDate": "2020-10-27T19:04:38Z", "message": "fix unit test\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}, "afterCommit": {"oid": "74c33df3d159de88115cbfaa3defb4f465ee65ba", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/74c33df3d159de88115cbfaa3defb4f465ee65ba", "committedDate": "2020-10-27T18:37:22Z", "message": "Merge branch 'feature/internal-error-returned-on-eth-estimate-gas'\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41076bd843e65bc5993cdeb7ee1cbd4fdb43936d", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/41076bd843e65bc5993cdeb7ee1cbd4fdb43936d", "committedDate": "2020-10-28T11:16:09Z", "message": "Merge branch 'master' into feature/internal-error-returned-on-eth-estimate-gas"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTk4ODU0", "url": "https://github.com/hyperledger/besu/pull/1478#pullrequestreview-518998854", "createdAt": "2020-10-28T19:07:54Z", "commit": {"oid": "41076bd843e65bc5993cdeb7ee1cbd4fdb43936d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bacbc04c226f44968570e831e0aed092e3776ae9", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/bacbc04c226f44968570e831e0aed092e3776ae9", "committedDate": "2020-10-30T09:04:55Z", "message": "Merge branch 'master' into feature/internal-error-returned-on-eth-estimate-gas"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2216, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}