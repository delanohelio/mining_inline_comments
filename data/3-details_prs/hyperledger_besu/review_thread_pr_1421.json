{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODM4OTA3", "number": 1421, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMTo0Njo1NVrOEq7tnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxNjoyMjowM1rOEsHgfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDUzOTgwOnYy", "diffSide": "RIGHT", "path": "config/src/main/resources/mordor.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMTo0Njo1NVrOHdbHFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMTo0Njo1NVrOHdbHFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYxNDkzNQ==", "bodyText": "This is atypical form for activated forks.  I would have expected \"ecip1099Block\": 2520000 instead of a nested construct.  It's the same algorithm with different parameters, not a new algorithm.", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r500614935", "createdAt": "2020-10-06T21:46:55Z", "author": {"login": "shemnon"}, "path": "config/src/main/resources/mordor.json", "diffHunk": "@@ -5,7 +5,9 @@\n     \"aghartaBlock\": 301243,\n     \"phoenixBlock\": 999983,\n     \"ecip1017EraRounds\": 2000000,\n-    \"ethash\": {}\n+    \"etchash\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a53f9d1c881b0712e680ff7218ba90d6849aca2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NTMwNzYwOnYy", "diffSide": "RIGHT", "path": "config/src/main/java/org/hyperledger/besu/config/EthashConfigOptions.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODo0OToxMlrOHfA4Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxNToxNToxMlrOHfON7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI4MjMxOQ==", "bodyText": "How about putting  epochLength (or something like that) in place of a just to make it easier to read", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502282319", "createdAt": "2020-10-09T08:49:12Z", "author": {"login": "matkt"}, "path": "config/src/main/java/org/hyperledger/besu/config/EthashConfigOptions.java", "diffHunk": "@@ -35,9 +35,14 @@ public OptionalLong getFixedDifficulty() {\n     return JsonUtil.getLong(ethashConfigRoot, \"fixeddifficulty\");\n   }\n \n+  public OptionalLong getEpochLengthActivationBlock() {\n+    return JsonUtil.getLong(ethashConfigRoot, \"epochlengthactivation\");\n+  }\n+\n   Map<String, Object> asMap() {\n     final ImmutableMap.Builder<String, Object> builder = ImmutableMap.builder();\n     getFixedDifficulty().ifPresent(l -> builder.put(\"fixeddifficulty\", l));\n+    getEpochLengthActivationBlock().ifPresent(a -> builder.put(\"epochlengthactivation\", a));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1616d36a6607c1ca400e3485d559bbac720c08f5"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUwMDg0Ng==", "bodyText": "I removed getEpochLengthActivationBlock from EthashConfigOptions because I didn't need it (I created the param in  JsonGenesisConfigOptions instead, and forgot to remove it from here).", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502500846", "createdAt": "2020-10-09T15:15:12Z", "author": {"login": "edwardmack"}, "path": "config/src/main/java/org/hyperledger/besu/config/EthashConfigOptions.java", "diffHunk": "@@ -35,9 +35,14 @@ public OptionalLong getFixedDifficulty() {\n     return JsonUtil.getLong(ethashConfigRoot, \"fixeddifficulty\");\n   }\n \n+  public OptionalLong getEpochLengthActivationBlock() {\n+    return JsonUtil.getLong(ethashConfigRoot, \"epochlengthactivation\");\n+  }\n+\n   Map<String, Object> asMap() {\n     final ImmutableMap.Builder<String, Object> builder = ImmutableMap.builder();\n     getFixedDifficulty().ifPresent(l -> builder.put(\"fixeddifficulty\", l));\n+    getEpochLengthActivationBlock().ifPresent(a -> builder.put(\"epochlengthactivation\", a));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI4MjMxOQ=="}, "originalCommit": {"oid": "1616d36a6607c1ca400e3485d559bbac720c08f5"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NTM2OTE3OnYy", "diffSide": "RIGHT", "path": "config/src/main/java/org/hyperledger/besu/config/JsonGenesisConfigOptions.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwOTowNjoxMVrOHfBecA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxNToxNToyNVrOHfOOfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5MjA4MA==", "bodyText": "I think we also need to add this ecip here in the code  (in the asMap method) \n  \n    \n      besu/config/src/main/java/org/hyperledger/besu/config/JsonGenesisConfigOptions.java\n    \n    \n         Line 336\n      in\n      1616d36\n    \n    \n    \n    \n\n        \n          \n           getEcip1017EraRounds().ifPresent(l -> builder.put(\"ecip1017EraRounds\", l));", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502292080", "createdAt": "2020-10-09T09:06:11Z", "author": {"login": "matkt"}, "path": "config/src/main/java/org/hyperledger/besu/config/JsonGenesisConfigOptions.java", "diffHunk": "@@ -274,6 +275,11 @@ public OptionalLong getPhoenixBlockNumber() {\n     return getOptionalLong(\"phoenixblock\");\n   }\n \n+  @Override\n+  public OptionalLong getEcip1099BlockNumber() {\n+    return getOptionalLong(\"ecip1099block\");\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1616d36a6607c1ca400e3485d559bbac720c08f5"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUwMDk4OA==", "bodyText": "Added.", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502500988", "createdAt": "2020-10-09T15:15:25Z", "author": {"login": "edwardmack"}, "path": "config/src/main/java/org/hyperledger/besu/config/JsonGenesisConfigOptions.java", "diffHunk": "@@ -274,6 +275,11 @@ public OptionalLong getPhoenixBlockNumber() {\n     return getOptionalLong(\"phoenixblock\");\n   }\n \n+  @Override\n+  public OptionalLong getEcip1099BlockNumber() {\n+    return getOptionalLong(\"ecip1099block\");\n+  }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI5MjA4MA=="}, "originalCommit": {"oid": "1616d36a6607c1ca400e3485d559bbac720c08f5"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0Njk1ODA3OnYy", "diffSide": "RIGHT", "path": "CHANGELOG.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxNjoyMjowM1rOHfQo0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxNjoyMzoyMVrOHfQrRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU0MDQ5OA==", "bodyText": "This will need to go into a new 20.10.0-RC2 section.  RC1 has shipped.", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502540498", "createdAt": "2020-10-09T16:22:03Z", "author": {"login": "shemnon"}, "path": "CHANGELOG.md", "diffHunk": "@@ -34,6 +34,7 @@ Hyperledger Besu is moving its versioning scheme to [CalVer](https://calver.org/\n * Added support for multi-tenancy when using the early access feature of [onchain privacy group management](https://besu.hyperledger.org/en/stable/Concepts/Privacy/Onchain-PrivacyGroups/) \n * Fixed memory leak in eth/65 subprotocol behavior. It is now enabled by default. [\\#1420](https://github.com/hyperledger/besu/pull/1420), [#1348](https://github.com/hyperledger/besu/pull/1348), [#1321](https://github.com/hyperledger/besu/pull/1321)\n * Added `--privacy-flexible-groups-enabled` as an alternative for `--privacy-onchain-groups-enabled` CLI option\n+* Added support for ECIP-1099: Calibrate Epoch Duration. [\\#1421](https://github.com/hyperledger/besu/pull/1421)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bde851fcd5715d01834234fbd3956d84f8265fac"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU0MTEyNQ==", "bodyText": "LGTM once fixed.", "url": "https://github.com/hyperledger/besu/pull/1421#discussion_r502541125", "createdAt": "2020-10-09T16:23:21Z", "author": {"login": "shemnon"}, "path": "CHANGELOG.md", "diffHunk": "@@ -34,6 +34,7 @@ Hyperledger Besu is moving its versioning scheme to [CalVer](https://calver.org/\n * Added support for multi-tenancy when using the early access feature of [onchain privacy group management](https://besu.hyperledger.org/en/stable/Concepts/Privacy/Onchain-PrivacyGroups/) \n * Fixed memory leak in eth/65 subprotocol behavior. It is now enabled by default. [\\#1420](https://github.com/hyperledger/besu/pull/1420), [#1348](https://github.com/hyperledger/besu/pull/1348), [#1321](https://github.com/hyperledger/besu/pull/1321)\n * Added `--privacy-flexible-groups-enabled` as an alternative for `--privacy-onchain-groups-enabled` CLI option\n+* Added support for ECIP-1099: Calibrate Epoch Duration. [\\#1421](https://github.com/hyperledger/besu/pull/1421)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjU0MDQ5OA=="}, "originalCommit": {"oid": "bde851fcd5715d01834234fbd3956d84f8265fac"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1417, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}