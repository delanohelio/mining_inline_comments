{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MTYzOTg3", "number": 851, "title": "Add current block number to eth_getWork response", "bodyText": "PR description\n\nUpdated eth_getWork response to add hex encoded current block number.\nUpdated unit tests accordingly.\n\nSteps\nRequest\ncurl --data '{\"method\":\"eth_getWork\",\"params\":[],\"id\":1,\"jsonrpc\":\"2.0\"}' -H \"Content-Type: application/json\" -X POST localhost:8545\nResponse\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": [\n    \"0xce5e32ca59cb86799a1879e90150b2c3b882852173e59865e9e79abb67a9d636\",\n    \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n    \"0x00a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3d70a3\",\n    \"0x42\"\n  ]\n}\nFixed Issue(s)\n\n\n#849\nSigned-off-by: Abdelhamid Bakhta abdelhamid.bakhta@consensys.net", "createdAt": "2020-05-06T15:19:26Z", "url": "https://github.com/hyperledger/besu/pull/851", "merged": true, "mergeCommit": {"oid": "f39fbc56c58716c04bc9c78ed15bd8e318fde3e3"}, "closed": true, "closedAt": "2020-05-06T15:46:48Z", "author": {"login": "abdelhamidbakhta"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceqQ1wgH2gAyNDE0MTYzOTg3OjY2NWM5Nzg4MzhkNDQxYjU4YzdmMjdiMDdjNGI3ZTY3NTgyMmMwY2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceqbebAFqTQwNjczMDk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "665c978838d441b58c7f27b07c4b7e675822c0cf", "author": {"user": {"login": "abdelhamidbakhta", "name": "Abdelhamid Bakhta"}}, "url": "https://github.com/hyperledger/besu/commit/665c978838d441b58c7f27b07c4b7e675822c0cf", "committedDate": "2020-05-06T15:18:13Z", "message": "Add current block number to eth_getWork response\n\nSigned-off-by: Abdelhamid Bakhta <abdelhamid.bakhta@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NzI1NDI2", "url": "https://github.com/hyperledger/besu/pull/851#pullrequestreview-406725426", "createdAt": "2020-05-06T15:24:09Z", "commit": {"oid": "665c978838d441b58c7f27b07c4b7e675822c0cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNToyNDowOVrOGRYd4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNToyNDowOVrOGRYd4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg3OTg0Mw==", "bodyText": "Would it make sense to use Quantity here?", "url": "https://github.com/hyperledger/besu/pull/851#discussion_r420879843", "createdAt": "2020-05-06T15:24:09Z", "author": {"login": "RatanRSur"}, "path": "ethereum/api/src/main/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/methods/EthGetWork.java", "diffHunk": "@@ -54,7 +54,8 @@ public JsonRpcResponse response(final JsonRpcRequestContext requestContext) {\n       final String[] result = {\n         \"0x\" + BaseEncoding.base16().lowerCase().encode(rawResult.getPrePowHash()),\n         \"0x\" + BaseEncoding.base16().lowerCase().encode(dagSeed),\n-        rawResult.getTarget().toHexString()\n+        rawResult.getTarget().toHexString(),\n+        \"0x\" + Long.toHexString(rawResult.getBlockNumber())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665c978838d441b58c7f27b07c4b7e675822c0cf"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NzI2NTk2", "url": "https://github.com/hyperledger/besu/pull/851#pullrequestreview-406726596", "createdAt": "2020-05-06T15:25:19Z", "commit": {"oid": "665c978838d441b58c7f27b07c4b7e675822c0cf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNToyNToxOVrOGRYhaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxNToyNToxOVrOGRYhaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDg4MDc0Nw==", "bodyText": "Do we have any confirmation that were we to add the block number it should be slotted in the fourth array position?  For example, documentation or other client implementations?", "url": "https://github.com/hyperledger/besu/pull/851#discussion_r420880747", "createdAt": "2020-05-06T15:25:19Z", "author": {"login": "shemnon"}, "path": "ethereum/api/src/main/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/methods/EthGetWork.java", "diffHunk": "@@ -54,7 +54,8 @@ public JsonRpcResponse response(final JsonRpcRequestContext requestContext) {\n       final String[] result = {\n         \"0x\" + BaseEncoding.base16().lowerCase().encode(rawResult.getPrePowHash()),\n         \"0x\" + BaseEncoding.base16().lowerCase().encode(dagSeed),\n-        rawResult.getTarget().toHexString()\n+        rawResult.getTarget().toHexString(),\n+        \"0x\" + Long.toHexString(rawResult.getBlockNumber())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "665c978838d441b58c7f27b07c4b7e675822c0cf"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eaa96b31eedcb3a1a1add16d5ba5b7619c65123", "author": {"user": {"login": "abdelhamidbakhta", "name": "Abdelhamid Bakhta"}}, "url": "https://github.com/hyperledger/besu/commit/9eaa96b31eedcb3a1a1add16d5ba5b7619c65123", "committedDate": "2020-05-06T15:28:10Z", "message": "Use Quantity to format block number\n\nSigned-off-by: Abdelhamid Bakhta <abdelhamid.bakhta@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NzMwOTU5", "url": "https://github.com/hyperledger/besu/pull/851#pullrequestreview-406730959", "createdAt": "2020-05-06T15:29:50Z", "commit": {"oid": "9eaa96b31eedcb3a1a1add16d5ba5b7619c65123"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1619, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}