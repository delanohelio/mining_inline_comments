{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MjA0Nzk5", "number": 1247, "title": "add dns support", "bodyText": "Signed-off-by: Karim TAAM karim.t2am@gmail.com\nPR description\nThis PR add the support to DNS. By default Besu refuses the use of a DNS but it is possible to use it by adding the following flag --Xdns-enabled=true. Adding this flag will resolve the hostname when starting besu and then it won't change\nIf there is a need for a more dynamic update (eg for permissioning) add also this flag --Xdns-update-enabled = true ( this will query the DNS every time. So you must trust the DNS on which you are looking for the IP)\nTest performed\n\nLocal Clique Permissioning network (valid/invalid hostname)\nAzure IBT2 Permissioning network (init network, restart pod)\nSync Goerli with static-nodes and without permissioning (dns disabled)\nProvide Static-nodes with or without hostname (dns enabled/disabled)\nProvide bootnodes with or without hostname (dns enabled/disabled)", "createdAt": "2020-07-22T15:50:08Z", "url": "https://github.com/hyperledger/besu/pull/1247", "merged": true, "mergeCommit": {"oid": "210c85c82ef1e54fb13e5e99184776595e9290c9"}, "closed": true, "closedAt": "2020-08-25T17:12:28Z", "author": {"login": "matkt"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3cvboAH2gAyNDU1MjA0Nzk5OmM4Zjg4MzJjYmMwMzQzZWFiZTZkNmE1MjI4NWEwNDMzNWIxNDI2NWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCaNdZgH2gAyNDU1MjA0Nzk5Ojg3Njg5MzRlM2IxOTM5OTFmOWMyMjRlODk2NDBlZjg0NzJlNmRmOWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c8f8832cbc0343eabe6d6a52285a04335b14265d", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/c8f8832cbc0343eabe6d6a52285a04335b14265d", "committedDate": "2020-07-22T15:41:04Z", "message": "add dns support\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f39f52828805c619e079c906f5a88e01ba91d91c", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/f39f52828805c619e079c906f5a88e01ba91d91c", "committedDate": "2020-07-22T16:03:59Z", "message": "update error message\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f943765fa3edd6ef42c55851420913553a90444d", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/f943765fa3edd6ef42c55851420913553a90444d", "committedDate": "2020-07-22T16:24:03Z", "message": "fix tests\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffbff03ce0a09a0b73a9f1310050609e53c83299", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/ffbff03ce0a09a0b73a9f1310050609e53c83299", "committedDate": "2020-08-17T16:31:52Z", "message": "clean code\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1adca545321f483d89333bd80af9800286e0a59e", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/1adca545321f483d89333bd80af9800286e0a59e", "committedDate": "2020-08-17T16:36:00Z", "message": "update hostname detection\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a4e653686909e2274fdf14fadd1815a9f3424f09", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/a4e653686909e2274fdf14fadd1815a9f3424f09", "committedDate": "2020-07-23T08:45:35Z", "message": "clean code"}, "afterCommit": {"oid": "1adca545321f483d89333bd80af9800286e0a59e", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/1adca545321f483d89333bd80af9800286e0a59e", "committedDate": "2020-08-17T16:36:00Z", "message": "update hostname detection\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "634e7e95962a7d9f9a41622199f94fa4082975fb", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/634e7e95962a7d9f9a41622199f94fa4082975fb", "committedDate": "2020-08-19T20:27:00Z", "message": "spotlessApply\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddbaa0a820867db7cac1079a1fc9c8f378063cff", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/ddbaa0a820867db7cac1079a1fc9c8f378063cff", "committedDate": "2020-08-20T15:47:53Z", "message": "Merge branch 'upstream/master' into add-dns-support\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d60de83220ad807a6bbab3d54c45464854b350e6", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/d60de83220ad807a6bbab3d54c45464854b350e6", "committedDate": "2020-08-21T08:26:37Z", "message": "add tests\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3910077a081d59b9d84c6f66c0c1480bc1c23ebf", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/3910077a081d59b9d84c6f66c0c1480bc1c23ebf", "committedDate": "2020-08-21T08:44:04Z", "message": "update CHANGELOG.md\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/0434f6061e464e6260d0e08a66119749cb8f0524", "committedDate": "2020-08-21T08:44:20Z", "message": "Merge branch 'master' into add-dns-support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTIyOTQx", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-473122941", "createdAt": "2020-08-24T05:08:34Z", "commit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNTowODozNVrOHFUyJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNTowODozNVrOHFUyJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM0NTQ0Nw==", "bodyText": "Is there a typo in this test name? (Dnd instead of Dns)", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r475345447", "createdAt": "2020-08-24T05:08:35Z", "author": {"login": "CjHare"}, "path": "besu/src/test/java/org/hyperledger/besu/util/LocalPermissioningConfigurationValidatorTest.java", "diffHunk": "@@ -123,4 +136,89 @@ public void nodeAllowlistCheckShouldIgnoreDiscoveryPortParam() throws Exception\n           \"Exception not expected. Validation of nodes in allowlist should ignore the optional discovery port param.\");\n     }\n   }\n+\n+  @Test\n+  public void nodeAllowlistCheckShouldWorkWithHostnameIfDndEnabled() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524"}, "originalPosition": 97}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTI1OTc2", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-473125976", "createdAt": "2020-08-24T05:18:41Z", "commit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNToxODo0MVrOHFU8Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNToyMjoxNFrOHFU_og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM0ODA2Mw==", "bodyText": "nit; these local variables could be have more succinct  names (as we know they are list of strings from typing).\nMaybe something like localPermittedNodes and localPermittedEnodeUrls?", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r475348063", "createdAt": "2020-08-24T05:18:41Z", "author": {"login": "CjHare"}, "path": "acceptance-tests/dsl/src/main/java/org/hyperledger/besu/tests/acceptance/dsl/node/configuration/permissioning/PermissionedNodeBuilder.java", "diffHunk": "@@ -209,12 +210,15 @@ private LocalPermissioningConfiguration localConfigPermissioningConfiguration()\n         localConfigNodesPermissioningFile = createTemporaryPermissionsFile();\n       }\n \n-      List<String> nodesAsListOfStrings =\n+      final List<String> nodesAsListOfStrings =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM0ODg5OA==", "bodyText": "nit; isTrue() and isFalse() can be nicer to read then isEqualTo(true) and isEqualTo(false)", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r475348898", "createdAt": "2020-08-24T05:22:14Z", "author": {"login": "CjHare"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/BesuCommandTest.java", "diffHunk": "@@ -1347,6 +1347,33 @@ public void ethStatsContactOptionCannotBeUsedWithoutEthStatsServerProvided() {\n             \"The `--Xethstats-contact` requires ethstats server URL to be provided. Either remove --Xethstats-contact or provide an url (via --Xethstats=nodename:secret@host:port)\");\n   }\n \n+  @Test\n+  public void dnsEnabledOptionIsParsedCorrectly() {\n+    TestBesuCommand besuCommand = parseCommand(\"--Xdns-enabled\", \"true\");\n+\n+    assertThat(besuCommand.getEnodeDnsConfiguration().dnsEnabled()).isEqualTo(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0434f6061e464e6260d0e08a66119749cb8f0524"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b250ae8a9c124a64a61ed1be45e468c6383a6bbc", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/b250ae8a9c124a64a61ed1be45e468c6383a6bbc", "committedDate": "2020-08-25T12:24:55Z", "message": "fix review issues and add acceptance tests\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae203e682cd5b4c4e3f2ce4d0d5c3151e91be544", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/ae203e682cd5b4c4e3f2ce4d0d5c3151e91be544", "committedDate": "2020-08-25T12:33:29Z", "message": "Merge branch 'master' into add-dns-support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDc2NTc0", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-474476574", "createdAt": "2020-08-25T13:24:29Z", "commit": {"oid": "ae203e682cd5b4c4e3f2ce4d0d5c3151e91be544"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73a087fa942ea3f8acb336c967db0e28a2081866", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/73a087fa942ea3f8acb336c967db0e28a2081866", "committedDate": "2020-08-25T13:54:34Z", "message": "Merge branch 'master' into add-dns-support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NTQzNzIx", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-474543721", "createdAt": "2020-08-25T14:33:28Z", "commit": {"oid": "73a087fa942ea3f8acb336c967db0e28a2081866"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDozMzoyOFrOHGbEfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNDozODoxOFrOHGbTAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ5NzAyMA==", "bodyText": "Should this be camelCased?  bootNodes?  It was before and other places in the edited code retain the camel casing.  Whatever it chosen it should be consistent.", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r476497020", "createdAt": "2020-08-25T14:33:28Z", "author": {"login": "shemnon"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -310,20 +312,7 @@\n               + \"Default is a predefined list.\",\n       split = \",\",\n       arity = \"0..*\")\n-  void setBootnodes(final List<String> values) {\n-    try {\n-      bootNodes =\n-          values.stream()\n-              .filter(value -> !value.isEmpty())\n-              .map(EnodeURL::fromString)\n-              .collect(Collectors.toList());\n-      DiscoveryConfiguration.assertValidBootnodes(bootNodes);\n-    } catch (final IllegalArgumentException e) {\n-      throw new ParameterException(commandLine, e.getMessage());\n-    }\n-  }\n-\n-  private List<EnodeURL> bootNodes = null;\n+  private final List<String> bootnodes = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73a087fa942ea3f8acb336c967db0e28a2081866"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjUwMDczOQ==", "bodyText": "Is doing a DNS lookup every time the design intent?  If not perhaps ip should be a supplier and this logic gets put in a Suppliers.memoize call?  If it is the design intent it's work a comment so a later refactoring doesn't undo it.", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r476500739", "createdAt": "2020-08-25T14:38:18Z", "author": {"login": "shemnon"}, "path": "ethereum/p2p/src/main/java/org/hyperledger/besu/ethereum/p2p/peers/EnodeURL.java", "diffHunk": "@@ -181,18 +195,33 @@ private OptionalInt getDiscPortQueryParam() {\n   }\n \n   public static URI asURI(final String url) {\n-    return fromString(url).toURI();\n+    return asURI(url, EnodeDnsConfiguration.dnsDisabled());\n+  }\n+\n+  public static URI asURI(final String url, final EnodeDnsConfiguration enodeDnsConfiguration) {\n+    return fromString(url, enodeDnsConfiguration).toURI();\n   }\n \n   public Bytes getNodeId() {\n     return nodeId;\n   }\n \n   public String getIpAsString() {\n-    return ip.getHostAddress();\n+    return getIp().getHostAddress();\n   }\n \n   public InetAddress getIp() {\n+    this.ip =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73a087fa942ea3f8acb336c967db0e28a2081866"}, "originalPosition": 127}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abf0db52b2b97f236d6570a989c59023d8c2aeaa", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/abf0db52b2b97f236d6570a989c59023d8c2aeaa", "committedDate": "2020-08-25T15:46:05Z", "message": "fix review issues\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/6e4f8c74004750f63e5c021830030f39a352d69d", "committedDate": "2020-08-25T15:47:50Z", "message": "Merge remote-tracking branch 'origin/add-dns-support' into add-dns-support\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2185f31140e80bca8a2ccbac7f19043f439e48b3", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/2185f31140e80bca8a2ccbac7f19043f439e48b3", "committedDate": "2020-08-25T15:46:24Z", "message": "Merge remote-tracking branch 'origin/add-dns-support' into add-dns-support"}, "afterCommit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/6e4f8c74004750f63e5c021830030f39a352d69d", "committedDate": "2020-08-25T15:47:50Z", "message": "Merge remote-tracking branch 'origin/add-dns-support' into add-dns-support\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NjM5MjUx", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-474639251", "createdAt": "2020-08-25T16:13:31Z", "commit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjoxMzozMVrOHGfgQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjoxMzozMVrOHGfgQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU2OTY2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>If \"dns\" and \"dns-update\" are enabled -> DNS lookup every time to have the IP up to date and\n          \n          \n            \n               * <p>If \"dns\" and \"dns-update\" are enabled -&gt; DNS lookup every time to have the IP up to date and", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r476569664", "createdAt": "2020-08-25T16:13:31Z", "author": {"login": "shemnon"}, "path": "ethereum/p2p/src/main/java/org/hyperledger/besu/ethereum/p2p/peers/EnodeURL.java", "diffHunk": "@@ -181,18 +195,44 @@ private OptionalInt getDiscPortQueryParam() {\n   }\n \n   public static URI asURI(final String url) {\n-    return fromString(url).toURI();\n+    return asURI(url, EnodeDnsConfiguration.dnsDisabled());\n+  }\n+\n+  public static URI asURI(final String url, final EnodeDnsConfiguration enodeDnsConfiguration) {\n+    return fromString(url, enodeDnsConfiguration).toURI();\n   }\n \n   public Bytes getNodeId() {\n     return nodeId;\n   }\n \n   public String getIpAsString() {\n-    return ip.getHostAddress();\n+    return getIp().getHostAddress();\n   }\n \n+  /**\n+   * Get IP of the EnodeURL\n+   *\n+   * <p>If \"dns\" and \"dns-update\" are enabled -> DNS lookup every time to have the IP up to date and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d"}, "originalPosition": 129}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NjM5OTAy", "url": "https://github.com/hyperledger/besu/pull/1247#pullrequestreview-474639902", "createdAt": "2020-08-25T16:14:15Z", "commit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjoxNDoxNVrOHGfiPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjoxNDoxNVrOHGfiPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU3MDE3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * <p>If the \"dns\" is enabled but \"dns-update\" is disabled -> IP is retrieved only one time and\n          \n          \n            \n               * <p>If the \"dns\" is enabled but \"dns-update\" is disabled -&gt; IP is retrieved only one time and", "url": "https://github.com/hyperledger/besu/pull/1247#discussion_r476570174", "createdAt": "2020-08-25T16:14:15Z", "author": {"login": "shemnon"}, "path": "ethereum/p2p/src/main/java/org/hyperledger/besu/ethereum/p2p/peers/EnodeURL.java", "diffHunk": "@@ -181,18 +195,44 @@ private OptionalInt getDiscPortQueryParam() {\n   }\n \n   public static URI asURI(final String url) {\n-    return fromString(url).toURI();\n+    return asURI(url, EnodeDnsConfiguration.dnsDisabled());\n+  }\n+\n+  public static URI asURI(final String url, final EnodeDnsConfiguration enodeDnsConfiguration) {\n+    return fromString(url, enodeDnsConfiguration).toURI();\n   }\n \n   public Bytes getNodeId() {\n     return nodeId;\n   }\n \n   public String getIpAsString() {\n-    return ip.getHostAddress();\n+    return getIp().getHostAddress();\n   }\n \n+  /**\n+   * Get IP of the EnodeURL\n+   *\n+   * <p>If \"dns\" and \"dns-update\" are enabled -> DNS lookup every time to have the IP up to date and\n+   * not to rely on an invalid cache\n+   *\n+   * <p>If the \"dns\" is enabled but \"dns-update\" is disabled -> IP is retrieved only one time and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e4f8c74004750f63e5c021830030f39a352d69d"}, "originalPosition": 132}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d769a4c20a530c91996e3e807edba97d169da3a9", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/d769a4c20a530c91996e3e807edba97d169da3a9", "committedDate": "2020-08-25T16:55:54Z", "message": "fix javadoc\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8768934e3b193991f9c224e89640ef8472e6df9f", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/8768934e3b193991f9c224e89640ef8472e6df9f", "committedDate": "2020-08-25T16:57:19Z", "message": "Merge branch 'master' into add-dns-support"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1452, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}