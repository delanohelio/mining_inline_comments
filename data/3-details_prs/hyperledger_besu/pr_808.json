{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNDMzOTUz", "number": 808, "title": "Remove references and logic of system property besu.docker", "bodyText": "PR description\nBesuCommand class (and related unit tests) has quite a bit of deprecated logic which sets various defaults depending on if system property besu.docker is present or not. However, this property is not set in Besu's docker file anymore. Hence, the relevant code needs to be removed.\nFixed Issue(s)\n#785\nSigned-off-by: Usman Saleem <usman@usmans.info>", "createdAt": "2020-04-29T00:58:04Z", "url": "https://github.com/hyperledger/besu/pull/808", "merged": true, "mergeCommit": {"oid": "e8bd7ad8bec789b2cf30cc31ed7369b257bbdbc6"}, "closed": true, "closedAt": "2020-05-04T23:50:48Z", "author": {"login": "usmansaleem"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccNCwIAH2gAyNDEwNDMzOTUzOmQ2YjI5ODhmYWZlOTIwNDQzOGU5YWFmMTJmOGEzOTNjOWY0ZTk1YjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceIF55AH2gAyNDEwNDMzOTUzOjg0Njg1ZjIzYjUyNTFhMjczMzAxNGNjOTViNjQ2MWJjNTk4OGMyOWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d6b2988fafe9204438e9aaf12f8a393c9f4e95b3", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/d6b2988fafe9204438e9aaf12f8a393c9f4e95b3", "committedDate": "2020-04-29T00:07:44Z", "message": "remove isDocker references from BesuCommand\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93bb1ca32e6845a3c0a90a7e31aab2dfdadb5c70", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/93bb1ca32e6845a3c0a90a7e31aab2dfdadb5c70", "committedDate": "2020-04-29T00:56:18Z", "message": "Updating unit tests that used besu.docker system property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65e4a7c1386192bec7ca9905e32bc6c73315c726", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/65e4a7c1386192bec7ca9905e32bc6c73315c726", "committedDate": "2020-04-29T01:01:18Z", "message": "constructor fix\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3d82b713ca02012f3999efc16d6ffa7b89bbace", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/e3d82b713ca02012f3999efc16d6ffa7b89bbace", "committedDate": "2020-04-29T01:03:19Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bf8859bdee88fccf88605bc0ae67711a3ebe956", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/7bf8859bdee88fccf88605bc0ae67711a3ebe956", "committedDate": "2020-04-29T01:17:51Z", "message": "Updating unit tests that used besu.docker system property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "255576afff3daa56365b14aba31eff75497f3fcd", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/255576afff3daa56365b14aba31eff75497f3fcd", "committedDate": "2020-04-29T03:57:39Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99606aa2baa3cc8f64384d7ed5a326a600c8e84e", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/99606aa2baa3cc8f64384d7ed5a326a600c8e84e", "committedDate": "2020-04-29T20:10:21Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83", "committedDate": "2020-04-29T20:32:45Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMTQyOTI5", "url": "https://github.com/hyperledger/besu/pull/808#pullrequestreview-403142929", "createdAt": "2020-04-30T01:13:58Z", "commit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMToxMzo1OFrOGOWeHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMToxNDoyM1rOGOWekg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwMTQwNw==", "bodyText": "Doesn't seem to be much benefit in wrapping this in a function", "url": "https://github.com/hyperledger/besu/pull/808#discussion_r417701407", "createdAt": "2020-04-30T01:13:58Z", "author": {"login": "jframe"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1960,42 +1954,19 @@ private String genesisConfig() {\n   }\n \n   private File genesisFile() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwMTUyMg==", "bodyText": "Same as above, think we can inline this function where it is needed", "url": "https://github.com/hyperledger/besu/pull/808#discussion_r417701522", "createdAt": "2020-04-30T01:14:23Z", "author": {"login": "jframe"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1960,42 +1954,19 @@ private String genesisConfig() {\n   }\n \n   private File genesisFile() {\n-    if (isFullInstantiation()) {\n-      return standaloneCommands.genesisFile;\n-    } else if (isDocker) {\n-      final File genesisFile = new File(DOCKER_GENESIS_LOCATION);\n-      if (genesisFile.exists()) {\n-        return genesisFile;\n-      } else {\n-        return null;\n-      }\n-    } else {\n-      return null;\n-    }\n+    return standaloneCommands.genesisFile;\n   }\n \n   public Path dataDir() {\n-    if (isFullInstantiation()) {\n-      return standaloneCommands.dataPath.toAbsolutePath();\n-    } else if (isDocker) {\n-      return Paths.get(DOCKER_DATADIR_LOCATION);\n-    } else {\n-      return getDefaultBesuDataPath(this);\n-    }\n+    return standaloneCommands.dataPath.toAbsolutePath();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83"}, "originalPosition": 87}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjYzNjY1", "url": "https://github.com/hyperledger/besu/pull/808#pullrequestreview-404263665", "createdAt": "2020-05-01T16:41:22Z", "commit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNjo0MToyMlrOGPO1vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNjo0MToyMlrOGPO1vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYyNDk1Nw==", "bodyText": "Is folding StandaloneCommand back into Besu Command part of this PR or a follow on PR?", "url": "https://github.com/hyperledger/besu/pull/808#discussion_r418624957", "createdAt": "2020-05-01T16:41:22Z", "author": {"login": "shemnon"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -991,9 +986,7 @@ void setBesuConfiguration(final BesuConfiguration pluginCommonConfiguration) {\n \n   private BesuCommand handleStandaloneCommand() {\n     standaloneCommands = new StandaloneCommand();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f73c2f6b8a0c54a71dc79ee72c4e28a12a3bd83"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f09b8673c3e050e7fe12251af005d694e0ee52c", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/1f09b8673c3e050e7fe12251af005d694e0ee52c", "committedDate": "2020-05-04T00:47:13Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "967b86a6824f6492aea4fa13ea3a85f5a7ef5281", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/967b86a6824f6492aea4fa13ea3a85f5a7ef5281", "committedDate": "2020-05-04T01:17:26Z", "message": "Review suggestion - Removing StandaloneCommand and moving options back into BesuCommand\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84685f23b5251a2733014cc95b6461bc5988c29f", "author": {"user": {"login": "usmansaleem", "name": "Usman Saleem"}}, "url": "https://github.com/hyperledger/besu/commit/84685f23b5251a2733014cc95b6461bc5988c29f", "committedDate": "2020-05-04T23:29:30Z", "message": "Merge remote-tracking branch 'upstream/master' into docker_system_property\n\nSigned-off-by: Usman Saleem <usman@usmans.info>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1605, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}