{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NTA5OTQ0", "number": 1493, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODoxODo1NFrOEyB5YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDozNzowMlrOE11bsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwODk1MzI4OnYy", "diffSide": "RIGHT", "path": "enclave/src/main/java/org/hyperledger/besu/enclave/EnclaveFactory.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODoxODo1NFrOHocmzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDoxNzowMVrOHtuWsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3Mzc3NA==", "bodyText": "These changes are unrelated to tuweni, move them to a separate PR please.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512173774", "createdAt": "2020-10-26T18:18:54Z", "author": {"login": "shemnon"}, "path": "enclave/src/main/java/org/hyperledger/besu/enclave/EnclaveFactory.java", "diffHunk": "@@ -20,10 +20,12 @@\n import java.net.URI;\n import java.nio.charset.StandardCharsets;\n import java.nio.file.AccessDeniedException;\n+import java.nio.file.Files;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5MTA4MA==", "bodyText": "It seems this upgrade of Tuweni changes dependencies, especially removing Guava. So we have to add Guava to the dependencies, or have to use the native Files class. I chose to go down that way as it was the only reference to Guava in that particular subproject. Would you rather I change to add Guava explicitly in dependencies?", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512191080", "createdAt": "2020-10-26T18:46:51Z", "author": {"login": "atoulme"}, "path": "enclave/src/main/java/org/hyperledger/besu/enclave/EnclaveFactory.java", "diffHunk": "@@ -20,10 +20,12 @@\n import java.net.URI;\n import java.nio.charset.StandardCharsets;\n import java.nio.file.AccessDeniedException;\n+import java.nio.file.Files;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3Mzc3NA=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIwNzg4Mg==", "bodyText": "I would rather the dependency be changed.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512207882", "createdAt": "2020-10-26T19:16:23Z", "author": {"login": "shemnon"}, "path": "enclave/src/main/java/org/hyperledger/besu/enclave/EnclaveFactory.java", "diffHunk": "@@ -20,10 +20,12 @@\n import java.net.URI;\n import java.nio.charset.StandardCharsets;\n import java.nio.file.AccessDeniedException;\n+import java.nio.file.Files;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3Mzc3NA=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcwNzQ0MA==", "bodyText": "OK fixed.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r517707440", "createdAt": "2020-11-05T00:17:01Z", "author": {"login": "atoulme"}, "path": "enclave/src/main/java/org/hyperledger/besu/enclave/EnclaveFactory.java", "diffHunk": "@@ -20,10 +20,12 @@\n import java.net.URI;\n import java.nio.charset.StandardCharsets;\n import java.nio.file.AccessDeniedException;\n+import java.nio.file.Files;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3Mzc3NA=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwODk1NTQ1OnYy", "diffSide": "LEFT", "path": "ethereum/referencetests/build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODoxOTozMlrOHocoIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODo0ODoyMVrOHodtvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDExMg==", "bodyText": "There is no need to update the reference tests as part of tuweni.  Please remove changes to this file and the submodule update form the PR.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512174112", "createdAt": "2020-10-26T18:19:32Z", "author": {"login": "shemnon"}, "path": "ethereum/referencetests/build.gradle", "diffHunk": "@@ -32,14 +32,17 @@ dependencies {\n   implementation project(':services:kvstore')\n \n   implementation 'com.fasterxml.jackson.core:jackson-databind'\n+  implementation 'com.google.code.findbugs:jsr305'\n+  implementation 'com.google.guava:guava'\n+\n \n   testOutput sourceSets.test.output\n }\n \n task ('validateReferenceTestSubmodule') {\n   description = \"Checks that the reference tests submodule is not accidentially changed\"\n   doLast {\n-    def expectedHash = 'b8abaebf5949877ead03e8f74ac03c0ede41d5f7'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5MTkzNA==", "bodyText": "That must be me making a mess again. I'll fix that.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512191934", "createdAt": "2020-10-26T18:48:21Z", "author": {"login": "atoulme"}, "path": "ethereum/referencetests/build.gradle", "diffHunk": "@@ -32,14 +32,17 @@ dependencies {\n   implementation project(':services:kvstore')\n \n   implementation 'com.fasterxml.jackson.core:jackson-databind'\n+  implementation 'com.google.code.findbugs:jsr305'\n+  implementation 'com.google.guava:guava'\n+\n \n   testOutput sourceSets.test.output\n }\n \n task ('validateReferenceTestSubmodule') {\n   description = \"Checks that the reference tests submodule is not accidentially changed\"\n   doLast {\n-    def expectedHash = 'b8abaebf5949877ead03e8f74ac03c0ede41d5f7'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDExMg=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwODk1ODIyOnYy", "diffSide": "RIGHT", "path": "gradle/versions.gradle", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODoyMDoxMlrOHocpyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwMDoxNzoyMlrOHtuXHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDUzNw==", "bodyText": "Is this a requirement for Tuweni?  If not please remove.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512174537", "createdAt": "2020-10-26T18:20:12Z", "author": {"login": "shemnon"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5MTUzNA==", "bodyText": "It is a requirement for Besu. It looks like those transitive dependencies are no longer there, and therefore it is required for Besu to explicitly state that dependency.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512191534", "createdAt": "2020-10-26T18:47:37Z", "author": {"login": "atoulme"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDUzNw=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIwODU5MA==", "bodyText": "It looks like it was added to the referencetests changes you are rolling back.  See if it works not adding this particular dependency once the reference tests are reset.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r512208590", "createdAt": "2020-10-26T19:17:43Z", "author": {"login": "shemnon"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDUzNw=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcwNzU0OQ==", "bodyText": "It doesn't :(", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r517707549", "createdAt": "2020-11-05T00:17:22Z", "author": {"login": "atoulme"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE3NDUzNw=="}, "originalCommit": {"oid": "a84bbd44edf72036114d313b098dda6b5f8e450b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0ODg1MTg2OnYy", "diffSide": "RIGHT", "path": "ethereum/referencetests/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDozNjoyMVrOHuVgZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDozNjoyMVrOHuVgZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM0ODkwMg==", "bodyText": "Looks like you can get rid of JSR305, here as well as in versions.gradle.\nhttps://app.circleci.com/pipelines/github/hyperledger/besu/5943/workflows/f4e50074-c111-46e0-ac0c-97fdfb3036bd/jobs/28696", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r518348902", "createdAt": "2020-11-05T20:36:21Z", "author": {"login": "shemnon"}, "path": "ethereum/referencetests/build.gradle", "diffHunk": "@@ -32,6 +32,9 @@ dependencies {\n   implementation project(':services:kvstore')\n \n   implementation 'com.fasterxml.jackson.core:jackson-databind'\n+  implementation 'com.google.code.findbugs:jsr305'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6792340c4dead63a45edd86aa93af325f265417c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0ODg1NDI3OnYy", "diffSide": "RIGHT", "path": "gradle/versions.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDozNzowMlrOHuVh4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMToyMzo0MFrOHuXNdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM0OTI4MA==", "bodyText": "This can be dropped, if you also drop the dependency in ethereum/referencetests/build.gradle", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r518349280", "createdAt": "2020-11-05T20:37:02Z", "author": {"login": "shemnon"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6792340c4dead63a45edd86aa93af325f265417c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM3NjgyMw==", "bodyText": "alright, done.", "url": "https://github.com/hyperledger/besu/pull/1493#discussion_r518376823", "createdAt": "2020-11-05T21:23:40Z", "author": {"login": "atoulme"}, "path": "gradle/versions.gradle", "diffHunk": "@@ -31,6 +31,8 @@ dependencyManagement {\n     dependency 'com.google.errorprone:error_prone_core:2.4.0'\n     dependency 'com.google.errorprone:error_prone_test_helpers:2.4.0'\n \n+    dependency 'com.google.code.findbugs:jsr305:3.0.2'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM0OTI4MA=="}, "originalCommit": {"oid": "6792340c4dead63a45edd86aa93af325f265417c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1298, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}