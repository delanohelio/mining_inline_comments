{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NjcyNTY3", "number": 1428, "title": "Fix JSON-RPC Errors in ATs", "bodyText": "PR description\nTurns out it's not really a web3j problem, but an issue with how we read\nerrors now that we don't throw HTTP status codes for expected failures.\nMost of the fixes revolve around having the AT framework checking for an\nerror and throwing a RuntimeException with the message.  Others involve\na new target exception type, with one strange serialization case.\nSigned-off-by: Danno Ferrin danno.ferrin@gmail.com\nFixed Issue(s)\nFixes #1425\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-10-08T05:44:43Z", "url": "https://github.com/hyperledger/besu/pull/1428", "merged": true, "mergeCommit": {"oid": "479e465b788dbf73eaaabdad06c59aac58cf2d2a"}, "closed": true, "closedAt": "2020-10-08T14:47:54Z", "author": {"login": "shemnon"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQa55wAH2gAyNDk5NjcyNTY3OjFmZTNjOWVjOGIwZDk1NWUyZDZiM2YyYzZkNTJhOTRhNmZiMzk4NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQiYuSAH2gAyNDk5NjcyNTY3OjBiMmQ1MzQyNjY1YWU4MzhmOTc2NGNkZTI4ZGY3ZTExYjVhMzUxZDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1fe3c9ec8b0d955e2d6b3f2c6d52a94a6fb39873", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/1fe3c9ec8b0d955e2d6b3f2c6d52a94a6fb39873", "committedDate": "2020-10-08T05:40:48Z", "message": "Fix JSON-RPC Errors in ATs\n\nTurns out it's not really a web3j problem, but an issue with how we read\nerrors now that we don't throw HTTP status codes for expected failures.\nMost of the fixes revolve around having the AT framework checking for an\nerror and throwing a RuntimeException with the message.  Others involve\na new target exception type, with one strange serialization case.\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NDUxNjY4", "url": "https://github.com/hyperledger/besu/pull/1428#pullrequestreview-504451668", "createdAt": "2020-10-08T06:04:35Z", "commit": {"oid": "1fe3c9ec8b0d955e2d6b3f2c6d52a94a6fb39873"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNjowNDozNlrOHePKKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNjowNDozNlrOHePKKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTQ2NzY5MQ==", "bodyText": "/s/a many/many/", "url": "https://github.com/hyperledger/besu/pull/1428#discussion_r501467691", "createdAt": "2020-10-08T06:04:36Z", "author": {"login": "macfarla"}, "path": "CHANGELOG.md", "diffHunk": "@@ -10,7 +10,7 @@ Prior versions of Besu would set the HTTP Status 400 Bad Request for JSON-RPC re\n \n In Besu version 20.10, properly formatted requests that have valid parameters (count and content) will return a HTTP Status 200 OK, with an error field if an error occurred. For example, requesting an account that does not exist in the chain, or a block by hash that Besu does not have, will now return HTTP 200 OK responses. Unparsable requests, improperly formatted requests, or requests with invalid parameters will continue to return HTTP 400 Bad Request.\n \n-This was done to bring us more in line with the behavior of other Ethereum Clients. Some community projects, such as Web3J, will be providing compatible releases in the near future.  \n+Users of Web3J should note that a many calls will now return a result with the error field containing the message whereas before a call would throw an exception with the error message as the exception message.   ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fe3c9ec8b0d955e2d6b3f2c6d52a94a6fb39873"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b93b4f9b1eb1b5b01927ed4df61f6661ed0906b7", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/b93b4f9b1eb1b5b01927ed4df61f6661ed0906b7", "committedDate": "2020-10-08T14:16:58Z", "message": "revise how error is detected\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b2d5342665ae838f9764cde28df7e11b5a351d4", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/0b2d5342665ae838f9764cde28df7e11b5a351d4", "committedDate": "2020-10-08T14:23:48Z", "message": "tpyo\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2195, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}