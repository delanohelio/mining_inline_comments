{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2ODU1MDAx", "number": 1026, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMjozNjoyN1rOEIKDNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNzowMDoxN1rOEO_WAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTg4NzI1OnYy", "diffSide": "RIGHT", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMjozNjoyN1rOGn87uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMjozNjoyN1rOGn87uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU0NTk3OQ==", "bodyText": "nit: Personally this feels like an overly complicated way of doing a simple if so I'd just use:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Optional.ofNullable(logLevel)\n          \n          \n            \n                    .filter(__ -> announce)\n          \n          \n            \n                    .ifPresent(\n          \n          \n            \n                        level -> {\n          \n          \n            \n                          System.out.printf(\"Setting logging level to %s%n\", level.name());\n          \n          \n            \n                          Configurator.setAllLevels(\"\", level);\n          \n          \n            \n                        });\n          \n          \n            \n                if (logLevel != null && announce) {\n          \n          \n            \n                    System.out.printf(\"Setting logging level to %s%n\", level.name());\n          \n          \n            \n                    Configurator.setAllLevels(\"\", level);\n          \n          \n            \n                }", "url": "https://github.com/hyperledger/besu/pull/1026#discussion_r444545979", "createdAt": "2020-06-23T22:36:27Z", "author": {"login": "ajsutton"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1267,13 +1274,20 @@ private BesuCommand startPlugins() {\n   }\n \n   public void configureLogging(final boolean announce) {\n+    // To change the configuration if color was enabled/disabled\n+    Configurator.reconfigure();\n     // set log level per CLI flags\n-    if (logLevel != null) {\n-      if (announce) {\n-        System.out.println(\"Setting logging level to \" + logLevel.name());\n-      }\n-      Configurator.setAllLevels(\"\", logLevel);\n-    }\n+    Optional.ofNullable(logLevel)\n+        .filter(__ -> announce)\n+        .ifPresent(\n+            level -> {\n+              System.out.printf(\"Setting logging level to %s%n\", level.name());\n+              Configurator.setAllLevels(\"\", level);\n+            });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53fb53e9a750863de8af2988cb68082697a1f72a"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MTUzMzQ0OnYy", "diffSide": "RIGHT", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNzowMDoxN1rOGycuFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNzowMDoxN1rOGycuFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTU1MjUzMg==", "bodyText": "If there's been discussion about this elsewhere I'm happy to be overruled but personally I would have just called this --color-enabled.", "url": "https://github.com/hyperledger/besu/pull/1026#discussion_r455552532", "createdAt": "2020-07-16T07:00:17Z", "author": {"login": "ajsutton"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -720,6 +720,13 @@ void setBannedNodeIds(final List<String> values) {\n       description = \"Logging verbosity levels: OFF, FATAL, ERROR, WARN, INFO, DEBUG, TRACE, ALL\")\n   private final Level logLevel = null;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\"})\n+  @Option(\n+      names = {\"--force-color-enabled\"},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2641de82f94a2d603466ef554ba491b63bf61115"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 908, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}