{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNTk1ODQw", "number": 1645, "title": "EIP-2718 Typed Transaction Envelopes", "bodyText": "PR description\nThis implements the encoding/decoding logic and because it's backwards compatible we can introduce it immediately. You can see that some of the typed-transaction specific encoding/decoding logic is tested where there are EIP-1559 encoding/decoding tests but there'll be more tests included in the EIP-2930 PR.\nI synced mainnet up to block ~50k so that we know we're deserializing and building legacy transactions/receipts correctly.\nHide whitespace changes.\nFixed Issue(s)\nfixed #1505\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-12-01T21:49:03Z", "url": "https://github.com/hyperledger/besu/pull/1645", "merged": true, "mergeCommit": {"oid": "021ce8ee040427d804c69bd7ecb3ed893a948124"}, "closed": true, "closedAt": "2020-12-02T14:02:54Z", "author": {"login": "RatanRSur"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhsld6gH2gAyNTMwNTk1ODQwOjNhOTE5MGUzODQxM2Q3YTA3ODFmZWY1YzYwYTYyMzMyN2ZiYWY1MjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi1hRLAFqTU0NDc5OTQyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3a9190e38413d7a0781fef5c60a623327fbaf526", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/3a9190e38413d7a0781fef5c60a623327fbaf526", "committedDate": "2020-11-30T21:53:29Z", "message": "some encoder stuff\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd01ffbe26e3d8da67f1e1b0d35c40c3be07fbd1", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/dd01ffbe26e3d8da67f1e1b0d35c40c3be07fbd1", "committedDate": "2020-11-30T21:56:59Z", "message": "streamline\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d927d6a8f7d429de69779fc3e77a48e83ed19b2", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/2d927d6a8f7d429de69779fc3e77a48e83ed19b2", "committedDate": "2020-12-01T00:45:52Z", "message": "use block bodies with transactions\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "020b961ac7d2679d07467f0b3fdb3dde5b6f04e9", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/020b961ac7d2679d07467f0b3fdb3dde5b6f04e9", "committedDate": "2020-12-01T00:54:40Z", "message": "Merge branch 'block-bodies-with-transactions' into eip-2718-easy-mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02cb926cfadc07c92f2c13a70e84fe3366c1580e", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/02cb926cfadc07c92f2c13a70e84fe3366c1580e", "committedDate": "2020-12-01T13:52:46Z", "message": "switching on first byte for decode transaction\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1c72484d37d5c163948251d8f4e8e166bdd3a2f", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/a1c72484d37d5c163948251d8f4e8e166bdd3a2f", "committedDate": "2020-12-01T15:21:24Z", "message": "round trip block bodies message\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd468aab825a9b5c18e8ec2ec0ea69b30f22795b", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/cd468aab825a9b5c18e8ec2ec0ea69b30f22795b", "committedDate": "2020-12-01T15:33:08Z", "message": "change writing to use raw bytes as well\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02e2e27715eb466ffc76016108d6119345ad7cc0", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/02e2e27715eb466ffc76016108d6119345ad7cc0", "committedDate": "2020-12-01T15:59:51Z", "message": "plugin hash\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fad7ccb125d4e50898dca083ed07fe71dec6da15", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/fad7ccb125d4e50898dca083ed07fe71dec6da15", "committedDate": "2020-12-01T16:05:47Z", "message": "spotless\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e937b2e8e66c5d838e2352b8f6a104b003862ce6", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/e937b2e8e66c5d838e2352b8f6a104b003862ce6", "committedDate": "2020-12-01T16:40:37Z", "message": "add type byte to 1559 transaction and fix deserialization\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d951d621491cfd7c732d971e9cf1d1e8b08aabf2", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/d951d621491cfd7c732d971e9cf1d1e8b08aabf2", "committedDate": "2020-12-01T16:55:14Z", "message": "more decoding fixes\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09e827b92b1c88a0b24ceadd3fd2bc6b62642ce5", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/09e827b92b1c88a0b24ceadd3fd2bc6b62642ce5", "committedDate": "2020-12-01T17:10:05Z", "message": "fix roundtrip issues in TransactionRLPEncoderTest and standardize encoder/decoder classes\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e20ee05acfa00b521d03d9cc623db76967a7f45", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/6e20ee05acfa00b521d03d9cc623db76967a7f45", "committedDate": "2020-12-01T21:03:10Z", "message": "receipts\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6964e7b4d31499c746cfc583f8235d287c8ab55", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/e6964e7b4d31499c746cfc583f8235d287c8ab55", "committedDate": "2020-12-01T21:03:10Z", "message": "undo readAsRLP(boolean lenient)\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f3c59761e3e37ddedd25a45687169eba8bc24a4", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/7f3c59761e3e37ddedd25a45687169eba8bc24a4", "committedDate": "2020-12-01T21:32:01Z", "message": "standardize encoders and decoders\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dbc810ee7f7737a6658d18390f46feb5323e914", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/6dbc810ee7f7737a6658d18390f46feb5323e914", "committedDate": "2020-12-01T21:35:25Z", "message": "streamline assertion\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9db200ede5d3be5a2d2e58b2e5c505ca6a47a7d9", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/9db200ede5d3be5a2d2e58b2e5c505ca6a47a7d9", "committedDate": "2020-12-01T21:36:40Z", "message": "placeholder comment\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "950965333577ffe3cbca5bedd8de9d5838efe61e", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/950965333577ffe3cbca5bedd8de9d5838efe61e", "committedDate": "2020-12-01T21:42:25Z", "message": "fix test breakage from tx receipt factory interface signature change\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1357ddc21d8341e657f246d9d291ffd38c8beb18", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/1357ddc21d8341e657f246d9d291ffd38c8beb18", "committedDate": "2020-12-01T21:53:22Z", "message": "reinline\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2757b692dffedf132839bed10d3ddc6909b4ce90", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/2757b692dffedf132839bed10d3ddc6909b4ce90", "committedDate": "2020-12-01T21:54:43Z", "message": "Merge branch 'master' of github.com:hyperledger/besu into eip-2718-easy-mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c99fc3e9cb67ba7342c4dd2cdb08361545adbb67", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/c99fc3e9cb67ba7342c4dd2cdb08361545adbb67", "committedDate": "2020-12-01T22:35:07Z", "message": "expand legacy range\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a6a109f0a03cd5f9a323a6aee377759af223eb9", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/7a6a109f0a03cd5f9a323a6aee377759af223eb9", "committedDate": "2020-12-01T22:40:19Z", "message": "Merge branch 'master' of github.com:hyperledger/besu into eip-2718-easy-mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNzY5NDgz", "url": "https://github.com/hyperledger/besu/pull/1645#pullrequestreview-542769483", "createdAt": "2020-12-02T12:05:24Z", "commit": {"oid": "c99fc3e9cb67ba7342c4dd2cdb08361545adbb67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27dd3c4ea6e4b25d59f64eb422892137fcefc0a3", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/27dd3c4ea6e4b25d59f64eb422892137fcefc0a3", "committedDate": "2020-12-02T13:38:27Z", "message": "Merge branch 'master' of github.com:hyperledger/besu into eip-2718-easy-mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3370fbc5a7a04e6830412d1398afb800c1338d82", "author": {"user": {"login": "RatanRSur", "name": "Ratan (Rai) Sur"}}, "url": "https://github.com/hyperledger/besu/commit/3370fbc5a7a04e6830412d1398afb800c1338d82", "committedDate": "2020-12-02T13:41:52Z", "message": "move interfaces\n\nSigned-off-by: Ratan Rai Sur <ratan.r.sur@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0Nzk5NDI2", "url": "https://github.com/hyperledger/besu/pull/1645#pullrequestreview-544799426", "createdAt": "2020-12-04T09:41:57Z", "commit": {"oid": "3370fbc5a7a04e6830412d1398afb800c1338d82"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwOTo0MTo1OFrOH_IzEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwOTo0MTo1OFrOH_IzEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk2NjQ4Mw==", "bodyText": "Isn't there a better way to check the error type like a getCode() ? Because a simple modification of the message can lead to a change in behavior", "url": "https://github.com/hyperledger/besu/pull/1645#discussion_r535966483", "createdAt": "2020-12-04T09:41:58Z", "author": {"login": "matkt"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/TransactionReceipt.java", "diffHunk": "@@ -179,7 +212,18 @@ public static TransactionReceipt readFrom(final RLPInput input) {\n    */\n   public static TransactionReceipt readFrom(\n       final RLPInput input, final boolean revertReasonAllowed) {\n-    input.enterList();\n+    TransactionType transactionType = TransactionType.FRONTIER;\n+    try {\n+      input.enterList();\n+    } catch (RLPException rlpe) {\n+      if (rlpe.getMessage().contains(\"Expected current item to be a list\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3370fbc5a7a04e6830412d1398afb800c1338d82"}, "originalPosition": 114}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2144, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}