{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Mzc1OTM4", "number": 349, "title": "[BESU-184] Update PicoCLI to version 4.1.4", "bodyText": "Updates PicoCLI from version 3.9.6 and fixes test cases that were impacted by breaking changes of PicoCLI.\nUpdates the command factory to fallback to the default factory, as directed in the PicoCli v.4.0.0 release notes.", "createdAt": "2020-01-31T02:06:19Z", "url": "https://github.com/hyperledger/besu/pull/349", "merged": true, "mergeCommit": {"oid": "20e9cbbc7ead085c13f1101c6a6a29fa5a7bcc0c"}, "closed": true, "closedAt": "2020-02-03T05:34:28Z", "author": {"login": "rolfyone"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-jXlIAH2gAyMzY5Mzc1OTM4OjFlY2E3ZWZhZTU3MDJlOGY2NTBkYjVjMjc4OTJlNmEzMzA1OGNhMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAlzohAH2gAyMzY5Mzc1OTM4OjdmOGFhNWZhZTJiZDE3ZjU4NGEyN2QxY2Q3MDk1OWFlYTAwNjQ2NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1eca7efae5702e8f650db5c27892e6a33058ca34", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/1eca7efae5702e8f650db5c27892e6a33058ca34", "committedDate": "2020-01-27T21:10:40Z", "message": "[BESU-184] Update picocli to 4.1.4.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b09eb00604b034e54fece0f25b59b8a633a3142", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/8b09eb00604b034e54fece0f25b59b8a633a3142", "committedDate": "2020-01-31T02:01:54Z", "message": "[BESU-184] update picoCli to v.4.1.4\n\nOrdering of usage information is not 100% backwards compatible between 3.9.6 and 4.0.0\n\nOptions utilising Collectors now go through the default factory methods changed in v.4.0.0\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/d0d8cc0894c250d8e868650a543f6dba8752c8a5", "committedDate": "2020-01-31T02:02:58Z", "message": "Merge remote-tracking branch 'origin/master' into BESU-184"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjY1MjY2", "url": "https://github.com/hyperledger/besu/pull/349#pullrequestreview-351265266", "createdAt": "2020-01-31T02:36:01Z", "commit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjozNjowMVrOFj_-dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjozNjowMVrOFj_-dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5MjY2MA==", "bodyText": "what is the actual difference here?", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373292660", "createdAt": "2020-01-31T02:36:01Z", "author": {"login": "macfarla"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/PublicKeySubCommandTest.java", "diffHunk": "@@ -52,10 +52,10 @@\n           + System.lineSeparator()\n           + \"This command outputs the node public key. Default output is standard output.\"\n           + System.lineSeparator()\n-          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n-          + System.lineSeparator()\n           + \"  -h, --help        Show this help message and exit.\"\n           + System.lineSeparator()\n+          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n+          + System.lineSeparator()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4d480f91ed07be463f322bd7f8fe611403453e8", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/d4d480f91ed07be463f322bd7f8fe611403453e8", "committedDate": "2020-01-31T02:51:55Z", "message": "Merge remote-tracking branch 'upstream/master' into BESU-184"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTI2NDc3", "url": "https://github.com/hyperledger/besu/pull/349#pullrequestreview-351926477", "createdAt": "2020-02-02T08:27:23Z", "commit": {"oid": "d4d480f91ed07be463f322bd7f8fe611403453e8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwODoyNzoyNFrOFkgrJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwODoyNzoyNFrOFkgrJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgyODM4OA==", "bodyText": "final Constructor<T> constructor = cls.getDeclaredConstructor();\n    try {\n      return constructor.newInstance();\n    } catch (Exception e) {\n      constructor.setAccessible(true);\n      return constructor.newInstance();\n    }\n\nis actually adapted from older (3.1.9) version of defaultFactory's create method. In other words, you don't need to create two method, following would do the trick:\n@Override\n  public <T> T create(final Class<T> cls) throws Exception {\n    if (CommandLine.IVersionProvider.class.isAssignableFrom(cls)) {\n      return (T) new VersionProvider(pluginVersionsProvider);\n    }\n\n    return CommandLine.defaultFactory().create(cls);\n  }", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373828388", "createdAt": "2020-02-02T08:27:24Z", "author": {"login": "usmansaleem"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "diffHunk": "@@ -46,4 +45,13 @@ public BesuCommandCustomFactory(final PluginVersionsProvider pluginVersionsProvi\n       return constructor.newInstance();\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4d480f91ed07be463f322bd7f8fe611403453e8"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b65e9280819924c8099e7f918b0f280ad5eba732", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/b65e9280819924c8099e7f918b0f280ad5eba732", "committedDate": "2020-02-03T03:24:10Z", "message": "[BESU-184] changes per review comments.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMDA1ODY4", "url": "https://github.com/hyperledger/besu/pull/349#pullrequestreview-352005868", "createdAt": "2020-02-03T03:28:57Z", "commit": {"oid": "b65e9280819924c8099e7f918b0f280ad5eba732"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMzoyODo1OFrOFklpeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMzoyODo1OFrOFklpeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwOTg4MQ==", "bodyText": "This logic is already been performed in CommandLine.defaultFactory().create(cls) ... whats the point of repeating it here?", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373909881", "createdAt": "2020-02-03T03:28:58Z", "author": {"login": "usmansaleem"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "diffHunk": "@@ -38,12 +38,11 @@ public BesuCommandCustomFactory(final PluginVersionsProvider pluginVersionsProvi\n       return (T) new VersionProvider(pluginVersionsProvider);\n     }\n \n-    final Constructor<T> constructor = cls.getDeclaredConstructor();\n     try {\n+      final Constructor<T> constructor = cls.getDeclaredConstructor();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b65e9280819924c8099e7f918b0f280ad5eba732"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f4e3ea2051f4ddb263b949b4b8f963625f44b73", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/7f4e3ea2051f4ddb263b949b4b8f963625f44b73", "committedDate": "2020-02-03T03:46:50Z", "message": "[BESU-184] changes per review comments.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMDA5NDc3", "url": "https://github.com/hyperledger/besu/pull/349#pullrequestreview-352009477", "createdAt": "2020-02-03T03:50:56Z", "commit": {"oid": "7f4e3ea2051f4ddb263b949b4b8f963625f44b73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df25af01e4fc3f389dacd3b58abb58fe6750d3f7", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/df25af01e4fc3f389dacd3b58abb58fe6750d3f7", "committedDate": "2020-02-03T04:33:04Z", "message": "Merge remote-tracking branch 'upstream/master' into BESU-184"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f8aa5fae2bd17f584a27d1cd70959aea0064641", "author": {"user": {"login": "rolfyone", "name": "Paul Harris"}}, "url": "https://github.com/hyperledger/besu/commit/7f8aa5fae2bd17f584a27d1cd70959aea0064641", "committedDate": "2020-02-03T05:08:58Z", "message": "[BESU-184] changes per review comments.\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1913, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}