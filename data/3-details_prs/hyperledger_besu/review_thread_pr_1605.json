{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2OTc3NzMy", "number": 1605, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMToyNDo1MVrOE9cW_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMTozODo1MFrOE-6eMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyODYzMjMwOnYy", "diffSide": "RIGHT", "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/encoding/TransactionRLPDecoder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMToyNDo1MVrOH6IrFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMToyNDo1MVrOH6IrFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyMTU1OQ==", "bodyText": "Is it because of the privateFrom/privateFor?", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r530721559", "createdAt": "2020-11-26T01:24:51Z", "author": {"login": "lucassaldanha"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/encoding/TransactionRLPDecoder.java", "diffHunk": "@@ -47,6 +49,19 @@ static Transaction decodeTransaction(final RLPInput input) {\n   static TransactionRLPDecoder frontierDecoder() {\n     return input -> {\n       input.enterList();\n+      // TODO clean this up - not sure why but the GoQuorum private tx has extra nesting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45b4bebf38d17e773e0137131366f290327652bb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NDAzNTgyOnYy", "diffSide": "RIGHT", "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMTozMTozMlrOH8Ulpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMjo0OToyNVrOH8WFZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxMzkyNg==", "bodyText": "Do we need to enforce that only one of these is set?", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533013926", "createdAt": "2020-12-01T01:31:32Z", "author": {"login": "RatanRSur"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -121,7 +129,8 @@ public Transaction(\n       final SECP256K1.Signature signature,\n       final Bytes payload,\n       final Address sender,\n-      final Optional<BigInteger> chainId) {\n+      final Optional<BigInteger> chainId,\n+      final Optional<BigInteger> v) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAzODQzOQ==", "bodyText": "added this check. this is the only place where v gets set", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533038439", "createdAt": "2020-12-01T02:49:25Z", "author": {"login": "macfarla"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -121,7 +129,8 @@ public Transaction(\n       final SECP256K1.Signature signature,\n       final Bytes payload,\n       final Address sender,\n-      final Optional<BigInteger> chainId) {\n+      final Optional<BigInteger> chainId,\n+      final Optional<BigInteger> v) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxMzkyNg=="}, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NDA1MTcxOnYy", "diffSide": "RIGHT", "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMTozODo1MFrOH8Uuxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMjo0ODo1N1rOH8WEzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxNjI2Mw==", "bodyText": "Is MAX supposed to be smaller than MIN here?", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533016263", "createdAt": "2020-12-01T01:38:50Z", "author": {"login": "RatanRSur"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -45,6 +45,9 @@\n \n   public static final BigInteger REPLAY_PROTECTED_V_BASE = BigInteger.valueOf(35);\n \n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MAX = BigInteger.valueOf(37);\n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MIN = BigInteger.valueOf(38);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAyMTUwOA==", "bodyText": "YES", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533021508", "createdAt": "2020-12-01T01:55:05Z", "author": {"login": "macfarla"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -45,6 +45,9 @@\n \n   public static final BigInteger REPLAY_PROTECTED_V_BASE = BigInteger.valueOf(35);\n \n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MAX = BigInteger.valueOf(37);\n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MIN = BigInteger.valueOf(38);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxNjI2Mw=="}, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAzODE2MQ==", "bodyText": "fixed", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533038161", "createdAt": "2020-12-01T02:48:30Z", "author": {"login": "macfarla"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -45,6 +45,9 @@\n \n   public static final BigInteger REPLAY_PROTECTED_V_BASE = BigInteger.valueOf(35);\n \n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MAX = BigInteger.valueOf(37);\n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MIN = BigInteger.valueOf(38);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxNjI2Mw=="}, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAzODI4NQ==", "bodyText": "max and min don't make a whole lot of sense (they are never compared) but I couldn't think of anything better", "url": "https://github.com/hyperledger/besu/pull/1605#discussion_r533038285", "createdAt": "2020-12-01T02:48:57Z", "author": {"login": "macfarla"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/core/Transaction.java", "diffHunk": "@@ -45,6 +45,9 @@\n \n   public static final BigInteger REPLAY_PROTECTED_V_BASE = BigInteger.valueOf(35);\n \n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MAX = BigInteger.valueOf(37);\n+  public static final BigInteger GO_QUORUM_PRIVATE_TRANSACTION_V_VALUE_MIN = BigInteger.valueOf(38);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxNjI2Mw=="}, "originalCommit": {"oid": "ef4f748919bac66499581dae5494132f7506de28"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1370, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}