{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NTg0ODQ1", "number": 1078, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzowMjo0NlrOEFnwzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzowNjo0OVrOEFn2JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MzI5ODA0OnYy", "diffSide": "RIGHT", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzowMjo0NlrOGj69hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzoyOToyMVrOGj725g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMxOTM2Ng==", "bodyText": "Could we create a KubernetesConfiguration object, i suspect we will have more Kubernetes options in the future.", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440319366", "createdAt": "2020-06-15T17:02:46Z", "author": {"login": "abdelhamidbakhta"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -419,6 +420,13 @@ void setBannedNodeIds(final List<String> values) {\n               + \" NONE disables NAT functionality. (default: ${DEFAULT-VALUE})\")\n   private final NatMethod natMethod = DEFAULT_NAT_METHOD;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\", \"FieldMayBeFinal\"}) // PicoCLI requires non-final Strings.\n+  @Option(\n+      names = {\"--Xnat-manager-pod-name\"},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMDQ1MQ==", "bodyText": "Or maybe NatConfiguration to group all NAT related CLI options.", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440320451", "createdAt": "2020-06-15T17:04:42Z", "author": {"login": "abdelhamidbakhta"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -419,6 +420,13 @@ void setBannedNodeIds(final List<String> values) {\n               + \" NONE disables NAT functionality. (default: ${DEFAULT-VALUE})\")\n   private final NatMethod natMethod = DEFAULT_NAT_METHOD;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\", \"FieldMayBeFinal\"}) // PicoCLI requires non-final Strings.\n+  @Option(\n+      names = {\"--Xnat-manager-pod-name\"},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMxOTM2Ng=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMjU0Mg==", "bodyText": "Also i would not use the term manager in the name of the option. I would use something like --Xnat-kubernetes-pod-name or --Xnat-kube-pod-name", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440322542", "createdAt": "2020-06-15T17:08:33Z", "author": {"login": "abdelhamidbakhta"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -419,6 +420,13 @@ void setBannedNodeIds(final List<String> values) {\n               + \" NONE disables NAT functionality. (default: ${DEFAULT-VALUE})\")\n   private final NatMethod natMethod = DEFAULT_NAT_METHOD;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\", \"FieldMayBeFinal\"}) // PicoCLI requires non-final Strings.\n+  @Option(\n+      names = {\"--Xnat-manager-pod-name\"},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMxOTM2Ng=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyNTc3OQ==", "bodyText": "Or maybe NatConfiguration to group all NAT related CLI options.\n\nI was also thinking of adding an object like that. but I think it's better to be sure we have more than two parameters before creating it", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440325779", "createdAt": "2020-06-15T17:14:37Z", "author": {"login": "matkt"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -419,6 +420,13 @@ void setBannedNodeIds(final List<String> values) {\n               + \" NONE disables NAT functionality. (default: ${DEFAULT-VALUE})\")\n   private final NatMethod natMethod = DEFAULT_NAT_METHOD;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\", \"FieldMayBeFinal\"}) // PicoCLI requires non-final Strings.\n+  @Option(\n+      names = {\"--Xnat-manager-pod-name\"},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMxOTM2Ng=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMzNDA1NA==", "bodyText": "Also i would not use the term manager in the name of the option. I would use something like --Xnat-kubernetes-pod-name or --Xnat-kube-pod-name\n\nDone. I'm now using --Xnat-kube-pod-name", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440334054", "createdAt": "2020-06-15T17:29:21Z", "author": {"login": "matkt"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -419,6 +420,13 @@ void setBannedNodeIds(final List<String> values) {\n               + \" NONE disables NAT functionality. (default: ${DEFAULT-VALUE})\")\n   private final NatMethod natMethod = DEFAULT_NAT_METHOD;\n \n+  @SuppressWarnings({\"FieldCanBeFinal\", \"FieldMayBeFinal\"}) // PicoCLI requires non-final Strings.\n+  @Option(\n+      names = {\"--Xnat-manager-pod-name\"},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMxOTM2Ng=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MzMxMTczOnYy", "diffSide": "RIGHT", "path": "besu/src/test/java/org/hyperledger/besu/cli/BesuCommandTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzowNjo0OVrOGj7GRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzoyODozM1rOGj71Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMTYwNQ==", "bodyText": "Can you add a test with a non default value and check the value is used ?", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440321605", "createdAt": "2020-06-15T17:06:49Z", "author": {"login": "abdelhamidbakhta"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/BesuCommandTest.java", "diffHunk": "@@ -1329,6 +1330,16 @@ public void natMethodPropertyDefaultIsAuto() {\n     assertThat(commandErrorOutput.toString()).isEmpty();\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMjk4MA==", "bodyText": "Can you add a test that would trigger the exception raised by validateNatParams in BesuCommand ?", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440322980", "createdAt": "2020-06-15T17:09:21Z", "author": {"login": "abdelhamidbakhta"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/BesuCommandTest.java", "diffHunk": "@@ -1329,6 +1330,16 @@ public void natMethodPropertyDefaultIsAuto() {\n     assertThat(commandErrorOutput.toString()).isEmpty();\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMTYwNQ=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMzMzYwMg==", "bodyText": "Done", "url": "https://github.com/hyperledger/besu/pull/1078#discussion_r440333602", "createdAt": "2020-06-15T17:28:33Z", "author": {"login": "matkt"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/BesuCommandTest.java", "diffHunk": "@@ -1329,6 +1330,16 @@ public void natMethodPropertyDefaultIsAuto() {\n     assertThat(commandErrorOutput.toString()).isEmpty();\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyMTYwNQ=="}, "originalCommit": {"oid": "b251d04a6b622dceeb7213506eafe3fbf7ad118b"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 798, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}