{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwOTk0ODA5", "number": 964, "title": "Eip-2537 - BLS12-381 precompiles", "bodyText": "Implement BLS12-381 precompiles via the MatterLabs library.", "createdAt": "2020-05-20T20:13:00Z", "url": "https://github.com/hyperledger/besu/pull/964", "merged": true, "mergeCommit": {"oid": "29e668a2a0877c4c7180b48c571e40cd97ba2692"}, "closed": true, "closedAt": "2020-05-22T14:54:27Z", "author": {"login": "shemnon"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjPuyrgH2gAyNDIwOTk0ODA5OjIxMjk5MjBlYWM2N2NlMzhiZWM5NTJlODFiMjFhZmNkOTZhZDllNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjzJLggH2gAyNDIwOTk0ODA5OjYyODVlZThhZGI4NGJiZDhlMzQ4N2I0ZWYzOGE2ZTI4YzRiMGM2YmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2129920eac67ce38bec952e81b21afcd96ad9e48", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/2129920eac67ce38bec952e81b21afcd96ad9e48", "committedDate": "2020-05-20T21:13:07Z", "message": "BLS12-381 precompiled contract support\n\ninitial binding onto eth_parings via JNA, with test cases\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e73e7d318a74ea502eeb4f87f2a33f04c3bdc327", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/e73e7d318a74ea502eeb4f87f2a33f04c3bdc327", "committedDate": "2020-05-20T21:13:16Z", "message": "update to besu-native library, update testcases\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c754532f6e9df1a37c10ffd870c2da67f70c414a", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/c754532f6e9df1a37c10ffd870c2da67f70c414a", "committedDate": "2020-05-20T21:13:16Z", "message": "presumptive addresses for BLS precompiles\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8b83af6e7dc51b8882693d783b961b0a6c88ab", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/2a8b83af6e7dc51b8882693d783b961b0a6c88ab", "committedDate": "2020-05-20T21:13:16Z", "message": "spotless and errorprone\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a405e8dde046c803c10accc32b6222b66dff08d", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/7a405e8dde046c803c10accc32b6222b66dff08d", "committedDate": "2020-05-20T21:13:16Z", "message": "use released libraries\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c823ff1fca12e88049d86fe503cde765c8feddd", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/8c823ff1fca12e88049d86fe503cde765c8feddd", "committedDate": "2020-05-20T21:13:16Z", "message": "wire contracts into precompile registry and test via registration.\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4e305bf22ba70baae2c064b0891f4d04f304915", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/e4e305bf22ba70baae2c064b0891f4d04f304915", "committedDate": "2020-05-20T21:13:16Z", "message": "undo unneeded changes.\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efe9130f9d12dc5ac7265a1bbd0d0aaa8eea7b04", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/efe9130f9d12dc5ac7265a1bbd0d0aaa8eea7b04", "committedDate": "2020-05-20T21:13:16Z", "message": "undo unneeded changes.\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cd36f872a76334a694c2cce10eaa84d189955d9", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/7cd36f872a76334a694c2cce10eaa84d189955d9", "committedDate": "2020-05-20T21:13:16Z", "message": "LGTM.com fixes, integer overflows\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "325517f33f730bf150e2019d92b18d58e1f956c6", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/325517f33f730bf150e2019d92b18d58e1f956c6", "committedDate": "2020-05-20T21:10:27Z", "message": "LGTM.com fixes, integer overflows\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}, "afterCommit": {"oid": "7cd36f872a76334a694c2cce10eaa84d189955d9", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/7cd36f872a76334a694c2cce10eaa84d189955d9", "committedDate": "2020-05-20T21:13:16Z", "message": "LGTM.com fixes, integer overflows\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/ddf2b9411fab61a3da4f9e283ef49dcc7f249823", "committedDate": "2020-05-20T21:38:01Z", "message": "missed contract registration location\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDQ1Nzc3", "url": "https://github.com/hyperledger/besu/pull/964#pullrequestreview-416045777", "createdAt": "2020-05-21T10:39:15Z", "commit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDozOToxNVrOGYuNpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDozOToxNVrOGYuNpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU3NjE2NQ==", "bodyText": "do we need to perform additional checks if input is null?", "url": "https://github.com/hyperledger/besu/pull/964#discussion_r428576165", "createdAt": "2020-05-21T10:39:15Z", "author": {"login": "usmansaleem"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/precompiles/BLS12G1MultiExpPrecompiledContract.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ *\n+ * SPDX-License-Identifier: Apache-2.0\n+ *\n+ */\n+package org.hyperledger.besu.ethereum.mainnet.precompiles;\n+\n+import org.hyperledger.besu.ethereum.core.Gas;\n+import org.hyperledger.besu.nativelib.bls12_381.LibEthPairings;\n+\n+import org.apache.tuweni.bytes.Bytes;\n+\n+public class BLS12G1MultiExpPrecompiledContract extends AbstractBLS12PrecompiledContract {\n+\n+  public BLS12G1MultiExpPrecompiledContract() {\n+    super(\"BLS12_G1MULTIEXP\", LibEthPairings.BLS12_G1MULTIEXP_OPERATION_RAW_VALUE);\n+  }\n+\n+  @Override\n+  public Gas gasRequirement(final Bytes input) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDQ2NTYz", "url": "https://github.com/hyperledger/besu/pull/964#pullrequestreview-416046563", "createdAt": "2020-05-21T10:40:48Z", "commit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDo0MDo0OFrOGYuQHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDo0MDo0OFrOGYuQHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU3Njc5OQ==", "bodyText": "nit: 110_000", "url": "https://github.com/hyperledger/besu/pull/964#discussion_r428576799", "createdAt": "2020-05-21T10:40:48Z", "author": {"login": "usmansaleem"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/precompiles/BLS12MapFp2ToG2PrecompiledContract.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Copyright ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ *\n+ * SPDX-License-Identifier: Apache-2.0\n+ *\n+ */\n+package org.hyperledger.besu.ethereum.mainnet.precompiles;\n+\n+import org.hyperledger.besu.ethereum.core.Gas;\n+import org.hyperledger.besu.nativelib.bls12_381.LibEthPairings;\n+\n+import org.apache.tuweni.bytes.Bytes;\n+\n+public class BLS12MapFp2ToG2PrecompiledContract extends AbstractBLS12PrecompiledContract {\n+\n+  public BLS12MapFp2ToG2PrecompiledContract() {\n+    super(\"BLS12_MAP_FIELD_TO_CURVE\", LibEthPairings.BLS12_MAP_FP2_TO_G2_OPERATION_RAW_VALUE);\n+  }\n+\n+  @Override\n+  public Gas gasRequirement(final Bytes input) {\n+    return Gas.of(110000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDQ3MDM4", "url": "https://github.com/hyperledger/besu/pull/964#pullrequestreview-416047038", "createdAt": "2020-05-21T10:41:45Z", "commit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDo0MTo0NVrOGYuRkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxMDo0MTo0NVrOGYuRkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODU3NzE2OA==", "bodyText": "why considering 23_000 as large?", "url": "https://github.com/hyperledger/besu/pull/964#discussion_r428577168", "createdAt": "2020-05-21T10:41:45Z", "author": {"login": "usmansaleem"}, "path": "ethereum/core/src/main/java/org/hyperledger/besu/ethereum/mainnet/precompiles/BLS12PairingPrecompiledContract.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ *\n+ * SPDX-License-Identifier: Apache-2.0\n+ *\n+ */\n+package org.hyperledger.besu.ethereum.mainnet.precompiles;\n+\n+import org.hyperledger.besu.ethereum.core.Gas;\n+import org.hyperledger.besu.nativelib.bls12_381.LibEthPairings;\n+\n+import org.apache.tuweni.bytes.Bytes;\n+\n+public class BLS12PairingPrecompiledContract extends AbstractBLS12PrecompiledContract {\n+\n+  public BLS12PairingPrecompiledContract() {\n+    super(\"BLS12_PAIRING\", LibEthPairings.BLS12_PAIR_OPERATION_RAW_VALUE);\n+  }\n+\n+  @Override\n+  public Gas gasRequirement(final Bytes input) {\n+    final int k = input.size() / 384;\n+    return Gas.of(23_000L * k + 115_000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDQ5MDA5", "url": "https://github.com/hyperledger/besu/pull/964#pullrequestreview-416049009", "createdAt": "2020-05-21T10:45:32Z", "commit": {"oid": "ddf2b9411fab61a3da4f9e283ef49dcc7f249823"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed65043914e636e800ca6bae9e5b1df804c8bb80", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/ed65043914e636e800ca6bae9e5b1df804c8bb80", "committedDate": "2020-05-21T15:37:41Z", "message": "use thousands separator on all BLS12 precompiles.\n\nSigned-off-by: Danno Ferrin <danno.ferrin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b50414450f1b981b5326c1b85f8b7f9b72b381e2", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/b50414450f1b981b5326c1b85f8b7f9b72b381e2", "committedDate": "2020-05-21T15:42:41Z", "message": "Merge branch 'master' into eip2537"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NTU5ODEy", "url": "https://github.com/hyperledger/besu/pull/964#pullrequestreview-416559812", "createdAt": "2020-05-21T23:35:12Z", "commit": {"oid": "b50414450f1b981b5326c1b85f8b7f9b72b381e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6285ee8adb84bbd8e3487b4ef38a6e28c4b0c6bc", "author": {"user": {"login": "shemnon", "name": "Danno Ferrin"}}, "url": "https://github.com/hyperledger/besu/commit/6285ee8adb84bbd8e3487b4ef38a6e28c4b0c6bc", "committedDate": "2020-05-22T14:28:37Z", "message": "Merge branch 'master' into eip2537"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1531, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}