{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Mzc1OTM4", "number": 349, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjozNjowMVrODcHufw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMzoyODo1OFrODcgvpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODEzMzExOnYy", "diffSide": "RIGHT", "path": "besu/src/test/java/org/hyperledger/besu/cli/PublicKeySubCommandTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjozNjowMVrOFj_-dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjo1MTo0OVrOFkAK6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5MjY2MA==", "bodyText": "what is the actual difference here?", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373292660", "createdAt": "2020-01-31T02:36:01Z", "author": {"login": "macfarla"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/PublicKeySubCommandTest.java", "diffHunk": "@@ -52,10 +52,10 @@\n           + System.lineSeparator()\n           + \"This command outputs the node public key. Default output is standard output.\"\n           + System.lineSeparator()\n-          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n-          + System.lineSeparator()\n           + \"  -h, --help        Show this help message and exit.\"\n           + System.lineSeparator()\n+          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n+          + System.lineSeparator()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5MzQ2MQ==", "bodyText": "basically the --to goes below help now because of ordering of the new picoCli", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373293461", "createdAt": "2020-01-31T02:40:05Z", "author": {"login": "rolfyone"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/PublicKeySubCommandTest.java", "diffHunk": "@@ -52,10 +52,10 @@\n           + System.lineSeparator()\n           + \"This command outputs the node public key. Default output is standard output.\"\n           + System.lineSeparator()\n-          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n-          + System.lineSeparator()\n           + \"  -h, --help        Show this help message and exit.\"\n           + System.lineSeparator()\n+          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n+          + System.lineSeparator()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5MjY2MA=="}, "originalCommit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5NTg0OA==", "bodyText": "fair enough", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373295848", "createdAt": "2020-01-31T02:51:49Z", "author": {"login": "macfarla"}, "path": "besu/src/test/java/org/hyperledger/besu/cli/PublicKeySubCommandTest.java", "diffHunk": "@@ -52,10 +52,10 @@\n           + System.lineSeparator()\n           + \"This command outputs the node public key. Default output is standard output.\"\n           + System.lineSeparator()\n-          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n-          + System.lineSeparator()\n           + \"  -h, --help        Show this help message and exit.\"\n           + System.lineSeparator()\n+          + \"      --to=<FILE>   File to write public key to instead of standard output\"\n+          + System.lineSeparator()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI5MjY2MA=="}, "originalCommit": {"oid": "d0d8cc0894c250d8e868650a543f6dba8752c8a5"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTYzOTExOnYy", "diffSide": "RIGHT", "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwODoyNzoyNFrOFkgrJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwODoyNzoyNFrOFkgrJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgyODM4OA==", "bodyText": "final Constructor<T> constructor = cls.getDeclaredConstructor();\n    try {\n      return constructor.newInstance();\n    } catch (Exception e) {\n      constructor.setAccessible(true);\n      return constructor.newInstance();\n    }\n\nis actually adapted from older (3.1.9) version of defaultFactory's create method. In other words, you don't need to create two method, following would do the trick:\n@Override\n  public <T> T create(final Class<T> cls) throws Exception {\n    if (CommandLine.IVersionProvider.class.isAssignableFrom(cls)) {\n      return (T) new VersionProvider(pluginVersionsProvider);\n    }\n\n    return CommandLine.defaultFactory().create(cls);\n  }", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373828388", "createdAt": "2020-02-02T08:27:24Z", "author": {"login": "usmansaleem"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "diffHunk": "@@ -46,4 +45,13 @@ public BesuCommandCustomFactory(final PluginVersionsProvider pluginVersionsProvi\n       return constructor.newInstance();\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4d480f91ed07be463f322bd7f8fe611403453e8"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMjIzMjA1OnYy", "diffSide": "RIGHT", "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMzoyODo1OFrOFklpeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMzoyODo1OFrOFklpeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwOTg4MQ==", "bodyText": "This logic is already been performed in CommandLine.defaultFactory().create(cls) ... whats the point of repeating it here?", "url": "https://github.com/hyperledger/besu/pull/349#discussion_r373909881", "createdAt": "2020-02-03T03:28:58Z", "author": {"login": "usmansaleem"}, "path": "besu/src/main/java/org/hyperledger/besu/cli/util/BesuCommandCustomFactory.java", "diffHunk": "@@ -38,12 +38,11 @@ public BesuCommandCustomFactory(final PluginVersionsProvider pluginVersionsProvi\n       return (T) new VersionProvider(pluginVersionsProvider);\n     }\n \n-    final Constructor<T> constructor = cls.getDeclaredConstructor();\n     try {\n+      final Constructor<T> constructor = cls.getDeclaredConstructor();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b65e9280819924c8099e7f918b0f280ad5eba732"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1218, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}