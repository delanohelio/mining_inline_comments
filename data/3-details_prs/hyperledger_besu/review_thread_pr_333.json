{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NjkwMTA4", "number": 333, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMTo1Njo1NVrODbCYXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMDoyMDoxMVrODbEVPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Njc3MTQ4OnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMTo1Njo1NVrOFiS4DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMTo1Njo1NVrOFiS4DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUwNTE2NQ==", "bodyText": "nit: can this be String.format(\"%040X\") (or whatever works for hex?)", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371505165", "createdAt": "2020-01-27T21:56:55Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -35,6 +35,14 @@\n import org.junit.Test;\n \n public class FilterParameterTest {\n+  private static final String TOPIC_TWO =\n+      \"0x0000000000000000000000000000000000000000000000000000000000000002\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Njc3Mzg0OnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMTo1Nzo0NVrOFiS5bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjozNzo0MVrOFiT7FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUwNTUxOQ==", "bodyText": "nit: not your problem - but this is probably a pre-formatted string, which takes an address and Topics?", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371505519", "createdAt": "2020-01-27T21:57:45Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -69,13 +77,15 @@ public void jsonWithSingleAddressShouldSerializeSuccessfully() throws Exception\n   @Test\n   public void jsonWithSingleAddressAndSingleTopicShouldSerializeSuccessfully() throws Exception {\n     final String jsonWithSingleAddress =\n-        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \\\"topics\\\":\\\"0x0000000000000000000000000000000000000000000000000000000000000002\\\" }],\\\"id\\\":1}\";\n+        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxODU0NQ==", "bodyText": "so i only touched this string to remove the duplication of 0x02...", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371518545", "createdAt": "2020-01-27T22:28:26Z", "author": {"login": "rolfyone"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -69,13 +77,15 @@ public void jsonWithSingleAddressShouldSerializeSuccessfully() throws Exception\n   @Test\n   public void jsonWithSingleAddressAndSingleTopicShouldSerializeSuccessfully() throws Exception {\n     final String jsonWithSingleAddress =\n-        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \\\"topics\\\":\\\"0x0000000000000000000000000000000000000000000000000000000000000002\\\" }],\\\"id\\\":1}\";\n+        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUwNTUxOQ=="}, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUyMjMyNQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371522325", "createdAt": "2020-01-27T22:37:41Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -69,13 +77,15 @@ public void jsonWithSingleAddressShouldSerializeSuccessfully() throws Exception\n   @Test\n   public void jsonWithSingleAddressAndSingleTopicShouldSerializeSuccessfully() throws Exception {\n     final String jsonWithSingleAddress =\n-        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \\\"topics\\\":\\\"0x0000000000000000000000000000000000000000000000000000000000000002\\\" }],\\\"id\\\":1}\";\n+        \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getLogs\\\",\\\"params\\\":[{\\\"address\\\":\\\"0x0\\\", \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUwNTUxOQ=="}, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NjgyNTYzOnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjoxNjoyOVrOFiTZWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjoxNjoyOVrOFiTZWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxMzY5MA==", "bodyText": "nit: the naming is as good as the rest of Besu tests, but I always worry when I see \"correctly\" in tests, what is correctly? This is effectively going to be our requirements doc, so it needs to be explicit about the expected outcome.\neg. emptyListTopicStringDecodesToZeroLengthTopicList ... ok ... that's not great either. :/", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371513690", "createdAt": "2020-01-27T22:16:29Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +243,91 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsDecodesCorrectly() throws java.io.IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 90}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NjgzNTA2OnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjoxOTo1MVrOFiTe0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjoxOTo1MVrOFiTe0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxNTA4OQ==", "bodyText": "nit: personally would prefer to see \"emptyList()\" ... but maybe that's arbitrary :)", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371515089", "createdAt": "2020-01-27T22:19:51Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +243,91 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[]}\");\n+\n+    assertThat(filterParameter.getTopics().size()).isEqualTo(0);\n+  }\n+\n+  @Test\n+  public void emptyListOfTopicsNestedDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[[]]}\");\n+\n+    assertThat(filterParameter.getTopics()).containsExactly(List.of());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Njg1MjM1OnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjoyNjoyM1rOFiTpPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QyMjo0MTozM1rOFiUA7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxNzc1Nw==", "bodyText": "nit: is it overkill to use a StringJoiner to make this pretty?", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371517757", "createdAt": "2020-01-27T22:26:23Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +243,91 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[]}\");\n+\n+    assertThat(filterParameter.getTopics().size()).isEqualTo(0);\n+  }\n+\n+  @Test\n+  public void emptyListOfTopicsNestedDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[[]]}\");\n+\n+    assertThat(filterParameter.getTopics()).containsExactly(List.of());\n+  }\n+\n+  @Test\n+  public void singleTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void singleNestedTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void twoTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO)),\n+            List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO), LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void nullInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[null, \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(singletonList(null), List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstAndSecondPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 156}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxOTE2Ng==", "bodyText": "so my original problem was that I couldn't read the tests.... this makes it pretty explicit, I can simplify it down and reduce that if you like...", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371519166", "createdAt": "2020-01-27T22:29:51Z", "author": {"login": "rolfyone"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +243,91 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[]}\");\n+\n+    assertThat(filterParameter.getTopics().size()).isEqualTo(0);\n+  }\n+\n+  @Test\n+  public void emptyListOfTopicsNestedDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[[]]}\");\n+\n+    assertThat(filterParameter.getTopics()).containsExactly(List.of());\n+  }\n+\n+  @Test\n+  public void singleTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void singleNestedTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void twoTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO)),\n+            List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO), LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void nullInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[null, \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(singletonList(null), List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstAndSecondPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxNzc1Nw=="}, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 156}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUyMzgyMw==", "bodyText": "new StringJoiner(\"[\", \"\\\",\\\", \"]\") might do kinda what you want? (then do a joiner.build)", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371523823", "createdAt": "2020-01-27T22:41:33Z", "author": {"login": "rain-on"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +243,91 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[]}\");\n+\n+    assertThat(filterParameter.getTopics().size()).isEqualTo(0);\n+  }\n+\n+  @Test\n+  public void emptyListOfTopicsNestedDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[[]]}\");\n+\n+    assertThat(filterParameter.getTopics()).containsExactly(List.of());\n+  }\n+\n+  @Test\n+  public void singleTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void singleNestedTopicDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(List.of(LogTopic.fromHexString(TOPIC_TWO)));\n+  }\n+\n+  @Test\n+  public void twoTopicsDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO)),\n+            List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[[\\\"\" + TOPIC_TWO + \"\\\", \\\"\" + TOPIC_THREE + \"\\\"]]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(\n+            List.of(LogTopic.fromHexString(TOPIC_TWO), LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void nullInFirstPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\"{\\\"topics\\\":[null, \\\"\" + TOPIC_THREE + \"\\\"]}\");\n+\n+    assertThat(filterParameter.getTopics())\n+        .containsExactly(singletonList(null), List.of(LogTopic.fromHexString(TOPIC_THREE)));\n+  }\n+\n+  @Test\n+  public void twoTopicsInFirstAndSecondPositionDecodesCorrectly() throws java.io.IOException {\n+    final FilterParameter filterParameter =\n+        readJsonAsFilterParameter(\n+            \"{\\\"topics\\\":[\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTUxNzc1Nw=="}, "originalCommit": {"oid": "ea7b5620a4a2e162fc569dcfb145ea6af350d1f8"}, "originalPosition": 156}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzA4OTAzOnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMDoxODo1MFrOFiV4CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMDoxODo1MFrOFiV4CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU1NDMxMw==", "bodyText": "Method naming in this test class is the format [premise] should [outcome].\nI'd suggest a name such as emptyTopicsListShouldDeserializeAsEmptyList()", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371554313", "createdAt": "2020-01-28T00:18:50Z", "author": {"login": "CjHare"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +238,83 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsInJsonGivesInEmptyListInFilterParameter()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2dcdb07b212d218c0d8b19dd68b5ea82efbe3ef"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzA5MTE3OnYy", "diffSide": "RIGHT", "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMDoyMDoxMVrOFiV5Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwMDoyMDoxMVrOFiV5Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU1NDY1OA==", "bodyText": "Maybe nestedEmptyTopicsListShouldDeserializeAsEmptyList()?\n(also it is more usual for unqualified exceptions e.g. IOException)", "url": "https://github.com/hyperledger/besu/pull/333#discussion_r371554658", "createdAt": "2020-01-28T00:20:11Z", "author": {"login": "CjHare"}, "path": "ethereum/api/src/test/java/org/hyperledger/besu/ethereum/api/jsonrpc/internal/parameters/FilterParameterTest.java", "diffHunk": "@@ -224,6 +238,83 @@ public void emptyListAsSubTopicDecodesCorrectly() throws JsonProcessingException\n             emptyList());\n   }\n \n+  @Test\n+  public void emptyListOfTopicsInJsonGivesInEmptyListInFilterParameter()\n+      throws java.io.IOException {\n+    final FilterParameter filterParameter = readJsonAsFilterParameter(\"{\\\"topics\\\":[]}\");\n+\n+    assertThat(filterParameter.getTopics().size()).isEqualTo(0);\n+  }\n+\n+  @Test\n+  public void emptyListOfTopicsNestedGivesEmptyListInTopics() throws java.io.IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2dcdb07b212d218c0d8b19dd68b5ea82efbe3ef"}, "originalPosition": 93}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1213, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}