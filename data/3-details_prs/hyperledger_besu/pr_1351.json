{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MzExMjU2", "number": 1351, "title": "Fix eth_getLogs issue (missing logs)", "bodyText": "Signed-off-by: Karim TAAM karim.t2am@gmail.com\nPR description\nThis PR fixes some issues which caused some log to be missing when calling the eth_getLogs method\n\nSetting up a cache version in data/caches/CACHE-METADATA.json\nAdd a check integrity of the cache\nFix a lock issue\n\n##Tests performed\n\nSync Goerli from scratch (*4) without fix and compare all blocks with Infura\n(reproduce an issue every time)\nSync Goerli from scratch (*4) with the fix and compare all blocks with Infura (ok every time)\nSync Goerli with an old version of the cache already present (all the cache is reload to avoid some issues)\n\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-08-31T13:48:44Z", "url": "https://github.com/hyperledger/besu/pull/1351", "merged": true, "mergeCommit": {"oid": "65bb27c4a316bba3e6db93b79f2d52a3bf9e1599"}, "closed": true, "closedAt": "2020-09-10T17:52:33Z", "author": {"login": "matkt"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdES63LgH2gAyNDc2MzExMjU2OmMxNDQ1ZWNmOGU5ZjY4OGJiMjA4MjE2OTAyZmExYzAwZGExMWU0ZDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHjpgTgH2gAyNDc2MzExMjU2OjA4OWZkM2Q2NmU2NjIxYTlhZjM1ODVjYzAyNDE1MDZmNTk1Mjk2NWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1445ecf8e9f688bb208216902fa1c00da11e4d2", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/c1445ecf8e9f688bb208216902fa1c00da11e4d2", "committedDate": "2020-08-31T13:35:31Z", "message": "candidate fix for get logs caching issue\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62f86cc6294a640714c745ed147cd3cb9ea0d2bd", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/62f86cc6294a640714c745ed147cd3cb9ea0d2bd", "committedDate": "2020-09-04T08:04:19Z", "message": "remove counter\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa674abc0f04f3470836836fcdb797e8bf78a1e7", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/fa674abc0f04f3470836836fcdb797e8bf78a1e7", "committedDate": "2020-09-04T10:07:34Z", "message": "fix cache versioning issue\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "189eee65cf0acf3ed16133b6cc1fd2b4295565a4", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/189eee65cf0acf3ed16133b6cc1fd2b4295565a4", "committedDate": "2020-09-04T14:37:08Z", "message": "fix lock sync issues\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2e9c3c006ad91c3520f40a55367f0ad1eb43e48", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/c2e9c3c006ad91c3520f40a55367f0ad1eb43e48", "committedDate": "2020-09-04T14:44:51Z", "message": "clean code\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "658a5ce0cc0c8e5de3de0486361753dbafed7a75", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/658a5ce0cc0c8e5de3de0486361753dbafed7a75", "committedDate": "2020-09-07T12:07:25Z", "message": "clean code\nupdate CHANGELOG.md\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e7d2f310fc8ab657983dae3897024ecfce36416", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/3e7d2f310fc8ab657983dae3897024ecfce36416", "committedDate": "2020-09-07T12:20:02Z", "message": "Merge master into feature/fix-get-logs\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1OTk1NDEx", "url": "https://github.com/hyperledger/besu/pull/1351#pullrequestreview-485995411", "createdAt": "2020-09-10T14:28:20Z", "commit": {"oid": "3e7d2f310fc8ab657983dae3897024ecfce36416"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDoyODoyMFrOHP21iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDoyODoyMFrOHP21iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM4OTEyOQ==", "bodyText": "Move to a new 1.5.5 section", "url": "https://github.com/hyperledger/besu/pull/1351#discussion_r486389129", "createdAt": "2020-09-10T14:28:20Z", "author": {"login": "shemnon"}, "path": "CHANGELOG.md", "diffHunk": "@@ -9,12 +9,12 @@\n \n ### Bug Fixes\n \n+* Fix logs queries missing results against chain head [\\#1351](https://github.com/hyperledger/besu/pull/1351)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e7d2f310fc8ab657983dae3897024ecfce36416"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb6b05dc3ae180090ab758d2d72ad731fa342488", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/eb6b05dc3ae180090ab758d2d72ad731fa342488", "committedDate": "2020-09-10T16:21:40Z", "message": "Merge branch 'upstream/master' into feature/fix-get-logs\nUpdate CHANGELOG.md\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0482c0fc9d3bb31ee3a2ca61e25355e7784cc277", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/0482c0fc9d3bb31ee3a2ca61e25355e7784cc277", "committedDate": "2020-09-10T16:23:48Z", "message": "fix CHANGELOG.md\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "089fd3d66e6621a9af3585cc0241506f5952965a", "author": {"user": {"login": "matkt", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/089fd3d66e6621a9af3585cc0241506f5952965a", "committedDate": "2020-09-10T16:46:43Z", "message": "Merge branch 'upstream/master' into feature/fix-get-logs\n\nSigned-off-by: Karim TAAM <karim.t2am@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1476, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}