{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzMTkyMjMx", "number": 1188, "title": "IBFT/Clique config must have epoch length > 0", "bodyText": "IllegalArgumentException if epoch length zero or negative.\nSee #836", "createdAt": "2020-07-02T02:24:48Z", "url": "https://github.com/hyperledger/besu/pull/1188", "merged": true, "mergeCommit": {"oid": "87d04ca88bd6361d5b63ab474019995592b0060c"}, "closed": true, "closedAt": "2020-07-02T06:27:26Z", "author": {"login": "macfarla"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcw0p88AH2gAyNDQzMTkyMjMxOmZmZTUzOWRlNzViNDUwYjVlN2ZhNTMzMWY2YmIwMWE1OWFjZDgwMjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcw2IMMAH2gAyNDQzMTkyMjMxOjJiNWYyZTI2ZGM1NzlmOWQ3ODQ5OTUxOTJiNzNhZTg3NjVkZWEyZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ffe539de75b450b5e7fa5331f6bb01a59acd8021", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/ffe539de75b450b5e7fa5331f6bb01a59acd8021", "committedDate": "2020-07-02T01:35:20Z", "message": "reject epoch length <= 0\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c246313b0bc0f8498780596064688018f66f7248", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/c246313b0bc0f8498780596064688018f66f7248", "committedDate": "2020-07-02T02:18:32Z", "message": "added positive epochLength to tests\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89eeb85c38079910a8cbcf870d83832b3f3f59ae", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/89eeb85c38079910a8cbcf870d83832b3f3f59ae", "committedDate": "2020-07-02T02:22:53Z", "message": "Merge branch 'master' of https://github.com/hyperledger/besu into 836-epoch-length-zero"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMzE3MzI4", "url": "https://github.com/hyperledger/besu/pull/1188#pullrequestreview-441317328", "createdAt": "2020-07-02T02:57:43Z", "commit": {"oid": "89eeb85c38079910a8cbcf870d83832b3f3f59ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjo1Nzo0M1rOGr7wGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjo1Nzo0M1rOGr7wGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcyMDkyMA==", "bodyText": "nit: If you want, you could look at using \"ParameterizedTest\" ... but otherwise, all good.", "url": "https://github.com/hyperledger/besu/pull/1188#discussion_r448720920", "createdAt": "2020-07-02T02:57:43Z", "author": {"login": "rain-on"}, "path": "consensus/ibft/src/test/java/org/hyperledger/besu/consensus/ibft/IbftProtocolScheduleTest.java", "diffHunk": "@@ -96,10 +99,39 @@ public void negativeBlockRewardThrowsException() {\n     final IbftConfigOptions ibftConfig = mock(IbftConfigOptions.class);\n     when(ibftConfig.getMiningBeneficiary()).thenReturn(Optional.empty());\n     when(ibftConfig.getBlockRewardWei()).thenReturn(arbitraryBlockReward);\n+    when(ibftConfig.getEpochLength()).thenReturn(3000L);\n     when(genesisConfig.getIbft2ConfigOptions()).thenReturn(ibftConfig);\n \n     assertThatThrownBy(() -> IbftProtocolSchedule.create(genesisConfig))\n         .isInstanceOf(IllegalArgumentException.class)\n         .hasMessage(\"Ibft2 Block reward in config cannot be negative\");\n   }\n+\n+  @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89eeb85c38079910a8cbcf870d83832b3f3f59ae"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMzE3MzQx", "url": "https://github.com/hyperledger/besu/pull/1188#pullrequestreview-441317341", "createdAt": "2020-07-02T02:57:46Z", "commit": {"oid": "89eeb85c38079910a8cbcf870d83832b3f3f59ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b5f2e26dc579f9d784995192b73ae8765dea2e0", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/2b5f2e26dc579f9d784995192b73ae8765dea2e0", "committedDate": "2020-07-02T03:18:16Z", "message": "Merge branch 'master' into 836-epoch-length-zero"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1511, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}