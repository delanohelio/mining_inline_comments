{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNDMzNTcz", "number": 1496, "title": "Change IP to string field", "bodyText": "To match GoQuorum permissioning, change IP field from bytes16 to string. Eventually this can support DNS entries.\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-10-27T03:08:06Z", "url": "https://github.com/hyperledger/besu/pull/1496", "merged": true, "mergeCommit": {"oid": "ea2e9e253c658cc36c104a68e81c6b53848cb79a"}, "closed": true, "closedAt": "2020-11-02T03:01:28Z", "author": {"login": "macfarla"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWeWnAgH2gAyNTEwNDMzNTczOjBjZTgyMGNiZWQ0MzA3Y2FkZTBiMWJkMTQ4YmMzYTE4Yzg4ODEzMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYbJItAH2gAyNTEwNDMzNTczOjkyNWIzMjI3NTUwZDUwNDg1NTA3ZWJkY2JkMzAwYzYxNjZlMzMyM2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0ce820cbed4307cade0b1bd148bc3a18c8881315", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/0ce820cbed4307cade0b1bd148bc3a18c8881315", "committedDate": "2020-10-27T01:05:25Z", "message": "use Ip consistently\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e465a43f09ed7c812f20a5fd9ac726951db8682", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/5e465a43f09ed7c812f20a5fd9ac726951db8682", "committedDate": "2020-10-27T02:51:30Z", "message": "changed ip field from bytes to string\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fa1718b179c4343af68d1935fbb4f6c46a1bdff", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/7fa1718b179c4343af68d1935fbb4f6c46a1bdff", "committedDate": "2020-10-27T03:04:19Z", "message": "updated acceptance test and genesis\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71190183af1f40219840da4bc8e3457b4e675829", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/71190183af1f40219840da4bc8e3457b4e675829", "committedDate": "2020-10-27T03:04:25Z", "message": "Merge branch 'master' of https://github.com/hyperledger/besu into ip-string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MzM3NDA3", "url": "https://github.com/hyperledger/besu/pull/1496#pullrequestreview-517337407", "createdAt": "2020-10-27T04:18:14Z", "commit": {"oid": "71190183af1f40219840da4bc8e3457b4e675829"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MzI1OTkw", "url": "https://github.com/hyperledger/besu/pull/1496#pullrequestreview-517325990", "createdAt": "2020-10-27T03:38:17Z", "commit": {"oid": "71190183af1f40219840da4bc8e3457b4e675829"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMzozODoxOFrOHoqRSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwMzozODoxOFrOHoqRSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM5NzY0MQ==", "bodyText": "I don't think this is what we want. The data will likely be stored as one of these:\n\nString representation of the ipv4 or ipv6\nDNS name\n\nTo make this call, we need to encode the string as solidity does. We can probably just get the string representation of the IP and let web3j do the work (like we do for the enode).", "url": "https://github.com/hyperledger/besu/pull/1496#discussion_r512397641", "createdAt": "2020-10-27T03:38:18Z", "author": {"login": "lucassaldanha"}, "path": "ethereum/permissioning/src/main/java/org/hyperledger/besu/ethereum/permissioning/NodeSmartContractV2PermissioningController.java", "diffHunk": "@@ -64,14 +64,14 @@ private boolean isPermitted(final EnodeURL enode) {\n   private Bytes createPayload(final EnodeURL enodeUrl) {\n     try {\n       final String hexNodeIdString = enodeUrl.getNodeId().toUnprefixedHexString();\n-      final byte[] ip = encodeIp(enodeUrl.getIp());\n+      final String hexIpString = encodeIp(enodeUrl.getIp());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71190183af1f40219840da4bc8e3457b4e675829"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0077eb8dec4e8d40cf909fdee2f76b0c4307e78f", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/0077eb8dec4e8d40cf909fdee2f76b0c4307e78f", "committedDate": "2020-10-28T00:22:27Z", "message": "use string to bytes to hexString for IP\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ea5e16fd6f6b8f0e57caf1a74791e710830fa5", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/f7ea5e16fd6f6b8f0e57caf1a74791e710830fa5", "committedDate": "2020-10-28T00:25:45Z", "message": "default charset\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c83e6396ac52bea3d211067ef9181f78ecd2f683", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/c83e6396ac52bea3d211067ef9181f78ecd2f683", "committedDate": "2020-10-28T01:08:21Z", "message": "changelog\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82152488441aa7af38bfefed68a13774313dc378", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/82152488441aa7af38bfefed68a13774313dc378", "committedDate": "2020-10-28T20:58:31Z", "message": "just use string\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4448f8cd0ee7de2db10980afd01d70a108cb750a", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/4448f8cd0ee7de2db10980afd01d70a108cb750a", "committedDate": "2020-10-28T20:58:48Z", "message": "Merge branch 'master' of https://github.com/hyperledger/besu into ip-string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca9f8910bc84b6f50fe6fbcc0cd50ecd1b0ad88", "author": {"user": {"login": "mark-terry", "name": null}}, "url": "https://github.com/hyperledger/besu/commit/eca9f8910bc84b6f50fe6fbcc0cd50ecd1b0ad88", "committedDate": "2020-11-01T11:19:49Z", "message": "Merge branch 'master' into ip-string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjU4NjI0", "url": "https://github.com/hyperledger/besu/pull/1496#pullrequestreview-521258624", "createdAt": "2020-11-01T20:34:15Z", "commit": {"oid": "eca9f8910bc84b6f50fe6fbcc0cd50ecd1b0ad88"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b04a6fb965df43e301087fffa38980b36d0a49e", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/9b04a6fb965df43e301087fffa38980b36d0a49e", "committedDate": "2020-11-02T02:28:08Z", "message": "removed encodeIP method\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "925b3227550d50485507ebdcbd300c6166e3323c", "author": {"user": {"login": "macfarla", "name": "Sally MacFarlane"}}, "url": "https://github.com/hyperledger/besu/commit/925b3227550d50485507ebdcbd300c6166e3323c", "committedDate": "2020-11-02T02:28:50Z", "message": "Merge branch 'ip-string' of github.com:macfarla/besu into ip-string"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2041, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}