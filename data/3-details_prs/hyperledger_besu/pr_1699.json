{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4NzM4OTc0", "number": 1699, "title": "Move Ibft event exeuctors to common", "bodyText": "Move more classes to common such that they can be reused for QBFT.", "createdAt": "2020-12-13T03:42:58Z", "url": "https://github.com/hyperledger/besu/pull/1699", "merged": true, "mergeCommit": {"oid": "cdf907bae18be98fa41df93ef8d7e82c15d305c3"}, "closed": true, "closedAt": "2020-12-14T22:55:13Z", "author": {"login": "rain-on"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlnhhqgH2gAyNTM4NzM4OTc0OjBmNmMzOTM1YmQ4ZTdmNTUyNzAwMWZmOTBmYzU3OTZiNTZhYjkzYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmNkoWAH2gAyNTM4NzM4OTc0OjVmZTg4OWM5MjcyYmUwNzgwZjg0NjJiODc4ZjA1M2Q3NjhkMWRhOTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0f6c3935bd8e7f5527001ff90fc5796b56ab93c0", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/0f6c3935bd8e7f5527001ff90fc5796b56ab93c0", "committedDate": "2020-12-13T02:15:21Z", "message": "Move IbftEvents to common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91c27a4a1e96e058045153440aa11d2a9c2fe133", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/91c27a4a1e96e058045153440aa11d2a9c2fe133", "committedDate": "2020-12-13T02:33:39Z", "message": "Merge remote-tracking branch 'upstream/master' into qbft_events\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82b2c0e0b05758ed227a84c76f5b66d12da83a37", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/82b2c0e0b05758ed227a84c76f5b66d12da83a37", "committedDate": "2020-12-13T02:35:28Z", "message": "rename ibftevent to events\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbc8673f677d718c801575280b377a26ad1d7bb5", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/cbc8673f677d718c801575280b377a26ad1d7bb5", "committedDate": "2020-12-13T02:42:07Z", "message": "refactor\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "390acc500ae712ac491dc58cb76e78f721c69f66", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/390acc500ae712ac491dc58cb76e78f721c69f66", "committedDate": "2020-12-13T03:11:26Z", "message": "moved executors to common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88615834340909bfc1847533e13a4643f4454f48", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/88615834340909bfc1847533e13a4643f4454f48", "committedDate": "2020-12-13T03:42:32Z", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "747e7480970d15cdf56e629e88db23105b7da6b3", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/747e7480970d15cdf56e629e88db23105b7da6b3", "committedDate": "2020-12-13T03:41:28Z", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors"}, "afterCommit": {"oid": "88615834340909bfc1847533e13a4643f4454f48", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/88615834340909bfc1847533e13a4643f4454f48", "committedDate": "2020-12-13T03:42:32Z", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwODg1NzA4", "url": "https://github.com/hyperledger/besu/pull/1699#pullrequestreview-550885708", "createdAt": "2020-12-13T05:14:05Z", "commit": {"oid": "88615834340909bfc1847533e13a4643f4454f48"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QwNToxNDowNVrOIEvwRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QwNToxODowMlrOIEvyhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0NzYyMA==", "bodyText": "Thread pool should probably be configurable or perhaps just make it \"BftTimerExecutor\"", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541847620", "createdAt": "2020-12-13T05:14:05Z", "author": {"login": "jframe"}, "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftExecutors.java", "diffHunk": "@@ -61,7 +60,8 @@ public synchronized void start() {\n     }\n     state = State.RUNNING;\n     ibftProcessorExecutor = Executors.newSingleThreadExecutor();\n-    timerExecutor = newScheduledThreadPool(\"IbftTimerExecutor\", 1, metricsSystem);\n+    timerExecutor =\n+        MonitoredExecutors.newScheduledThreadPool(\"IbftTimerExecutor\", 1, metricsSystem);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88615834340909bfc1847533e13a4643f4454f48"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODA0OQ==", "bodyText": "Suggest renamed to BftEventQueue", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848049", "createdAt": "2020-12-13T05:16:58Z", "author": {"login": "jframe"}, "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftEventQueue.java", "diffHunk": "@@ -12,7 +12,7 @@\n  *\n  * SPDX-License-Identifier: Apache-2.0\n  */\n-package org.hyperledger.besu.consensus.ibft;\n+package org.hyperledger.besu.consensus.common.bft;\n \n import org.hyperledger.besu.consensus.common.bft.events.IbftEvent;\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88615834340909bfc1847533e13a4643f4454f48"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE1Mw==", "bodyText": "Suggest rename of class to BftExecutors", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848153", "createdAt": "2020-12-13T05:17:40Z", "author": {"login": "jframe"}, "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftExecutors.java", "diffHunk": "@@ -13,10 +13,9 @@\n  * SPDX-License-Identifier: Apache-2.0\n  */\n \n-package org.hyperledger.besu.consensus.ibft;\n-\n-import static org.hyperledger.besu.ethereum.eth.manager.MonitoredExecutors.newScheduledThreadPool;\n+package org.hyperledger.besu.consensus.common.bft;\n \n+import org.hyperledger.besu.ethereum.eth.manager.MonitoredExecutors;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88615834340909bfc1847533e13a4643f4454f48"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE5OA==", "bodyText": "Suggest rename of class to BftProcessor", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848198", "createdAt": "2020-12-13T05:18:02Z", "author": {"login": "jframe"}, "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftProcessor.java", "diffHunk": "@@ -12,9 +12,8 @@\n  *\n  * SPDX-License-Identifier: Apache-2.0\n  */\n-package org.hyperledger.besu.consensus.ibft;\n+package org.hyperledger.besu.consensus.common.bft;\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88615834340909bfc1847533e13a4643f4454f48"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63895fa4594e0259fa42dda76f8dba4a699b45a1", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/63895fa4594e0259fa42dda76f8dba4a699b45a1", "committedDate": "2020-12-13T23:19:04Z", "message": "Remove traces of ibft from common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03443fdabc1378d294a8569847415fd7d0cf59ca", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/03443fdabc1378d294a8569847415fd7d0cf59ca", "committedDate": "2020-12-13T23:31:33Z", "message": "fixed spotless\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMDQ5ODAx", "url": "https://github.com/hyperledger/besu/pull/1699#pullrequestreview-551049801", "createdAt": "2020-12-14T05:19:45Z", "commit": {"oid": "03443fdabc1378d294a8569847415fd7d0cf59ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNToxOTo0NVrOIFARrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNToxOTo0NVrOIFARrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjExODMxNg==", "bodyText": "I know it's not part of your change. But would be nice to fix the misspelling here. /getRoundIndentifier/getRoundIdentifier", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542118316", "createdAt": "2020-12-14T05:19:45Z", "author": {"login": "jframe"}, "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/events/BlockTimerExpiry.java", "diffHunk": "@@ -34,8 +34,8 @@ public BlockTimerExpiry(final ConsensusRoundIdentifier roundIdentifier) {\n   }\n \n   @Override\n-  public IbftEvents.Type getType() {\n-    return IbftEvents.Type.BLOCK_TIMER_EXPIRY;\n+  public BftEvents.Type getType() {\n+    return BftEvents.Type.BLOCK_TIMER_EXPIRY;\n   }\n \n   public ConsensusRoundIdentifier getRoundIndentifier() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03443fdabc1378d294a8569847415fd7d0cf59ca"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMDUxMTI3", "url": "https://github.com/hyperledger/besu/pull/1699#pullrequestreview-551051127", "createdAt": "2020-12-14T05:23:53Z", "commit": {"oid": "03443fdabc1378d294a8569847415fd7d0cf59ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fe889c9272be0780f8462b878f053d768d1da94", "author": {"user": null}, "url": "https://github.com/hyperledger/besu/commit/5fe889c9272be0780f8462b878f053d768d1da94", "committedDate": "2020-12-14T22:35:08Z", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1984, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}