{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3MTczNTYz", "number": 1608, "title": "Fix Windows bat file, add a CircleCI build step for it", "bodyText": "Signed-off-by: Antoine Toulme antoine@lunar-ocean.com\n\n\nPR description\nLooking to apply a fix for #1606, testing it with a Windows build.\nFixed Issue(s)\nfixes #1606\nChangelog\n\n I thought about the changelog and included a changelog update if required.", "createdAt": "2020-11-25T06:00:16Z", "url": "https://github.com/hyperledger/besu/pull/1608", "merged": true, "mergeCommit": {"oid": "006e7010471a219dac0e7dfd5a2ba0100b4fc3d5"}, "closed": true, "closedAt": "2020-11-25T23:42:16Z", "author": {"login": "atoulme"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf3-fDgBqjQwMzYzNDAzNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgGqPlgH2gAyNTI3MTczNTYzOjU2NGUwZTc2MWNiNmU4MDM4ZTA0OWE2NmEyNGYzMThjN2JhZjFkOTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62b8a858a4d5da3dce0f522f6bbce2938611843a", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/62b8a858a4d5da3dce0f522f6bbce2938611843a", "committedDate": "2020-11-25T05:58:59Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}, "afterCommit": {"oid": "43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "committedDate": "2020-11-25T06:01:46Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "committedDate": "2020-11-25T06:01:46Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}, "afterCommit": {"oid": "d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "committedDate": "2020-11-25T06:08:48Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "committedDate": "2020-11-25T06:08:48Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}, "afterCommit": {"oid": "4045ec437f9a8d88095edb5a82e5c16df9878560", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/4045ec437f9a8d88095edb5a82e5c16df9878560", "committedDate": "2020-11-25T06:37:41Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/eee54ae7609573acc1efe2b0d96f40eaf5120b91", "committedDate": "2020-11-25T06:44:49Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4045ec437f9a8d88095edb5a82e5c16df9878560", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/4045ec437f9a8d88095edb5a82e5c16df9878560", "committedDate": "2020-11-25T06:37:41Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}, "afterCommit": {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/eee54ae7609573acc1efe2b0d96f40eaf5120b91", "committedDate": "2020-11-25T06:44:49Z", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4ODg3MzQx", "url": "https://github.com/hyperledger/besu/pull/1608#pullrequestreview-538887341", "createdAt": "2020-11-25T22:39:03Z", "commit": {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjozOTowM1rOH6GATQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjozOTowM1rOH6GATQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY3NzgzNw==", "bodyText": "What does this do before the fix?  Does the orb expect a zero from the process return?", "url": "https://github.com/hyperledger/besu/pull/1608#discussion_r530677837", "createdAt": "2020-11-25T22:39:03Z", "author": {"login": "shemnon"}, "path": ".circleci/config.yml", "diffHunk": "@@ -99,6 +102,27 @@ jobs:\n           path:  build/distributions\n           destination: distributions\n           when: always\n+  testWindows:\n+    executor: win/default\n+    steps:\n+      - attach_workspace:\n+          at: ~/project\n+      - run:\n+          name: Unzip Windows build\n+          no_output_timeout: 20m\n+          command: |\n+            cd build/distributions\n+            unzip besu-*.zip -d besu-tmp\n+            cd besu-tmp\n+            mv besu-* ../besu\n+      - run:\n+          name: Test Besu Windows executable\n+          no_output_timeout: 10m\n+          command: |\n+            build\\distributions\\besu\\bin\\besu.bat --help\n+            build\\distributions\\besu\\bin\\besu.bat --version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "564e0e761cb6e8038e049a66a24f318c7baf1d98", "author": {"user": {"login": "atoulme", "name": "Antoine Toulme"}}, "url": "https://github.com/hyperledger/besu/commit/564e0e761cb6e8038e049a66a24f318c7baf1d98", "committedDate": "2020-11-25T23:08:23Z", "message": "Merge branch 'master' into fix_windows"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2132, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}