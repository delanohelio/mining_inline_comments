{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NTM0OTMz", "number": 2011, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMDozMzo0NVrOEGJ0Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMDozMzo0NVrOEGJ0Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0ODg3NzgyOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMDozMzo0NVrOGkxpSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwMDo0NDo1NFrOGkx0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw==", "bodyText": "checks \"secondaryN\" but then looks at getSecondaryWeapon(), which results in an NPE when secondaryN > 1 but there's no secondary weapon.", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441215307", "createdAt": "2020-06-17T00:33:45Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "diffHunk": "@@ -185,7 +185,7 @@ private void addWeaponNotes(List<String> notes) {\n             notes.add(String.format(Messages.getString(\"TROView.InfantryNote.SingleFieldGun\"),\n                     fieldGuns.get(0).getName(), shots, (int) fieldGuns.get(0).getTonnage(inf)));\n         }\n-        if (inf.getSecondaryN() > 1) {\n+        if (inf.getSecondaryWeapon() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNzIxOQ==", "bodyText": "Do you know what unit was causing that? This fix is fine, but it suggests another problem somewhere else.", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441217219", "createdAt": "2020-06-17T00:41:17Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "diffHunk": "@@ -185,7 +185,7 @@ private void addWeaponNotes(List<String> notes) {\n             notes.add(String.format(Messages.getString(\"TROView.InfantryNote.SingleFieldGun\"),\n                     fieldGuns.get(0).getName(), shots, (int) fieldGuns.get(0).getTonnage(inf)));\n         }\n-        if (inf.getSecondaryN() > 1) {\n+        if (inf.getSecondaryWeapon() != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}, "originalCommit": {"oid": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxODA1NQ==", "bodyText": "No idea. I was trying to customize an infantry unit with the goal of installing field guns, so (roughly):\n\npull up 'customize in mek lab'\nactually click on the 'mek lab' because there's a bug with the command center where it goes to the infirmary tab instead\nswap motive type to tracked\nattempt to use the field gun drop down, fail", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441218055", "createdAt": "2020-06-17T00:44:19Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "diffHunk": "@@ -185,7 +185,7 @@ private void addWeaponNotes(List<String> notes) {\n             notes.add(String.format(Messages.getString(\"TROView.InfantryNote.SingleFieldGun\"),\n                     fieldGuns.get(0).getName(), shots, (int) fieldGuns.get(0).getTonnage(inf)));\n         }\n-        if (inf.getSecondaryN() > 1) {\n+        if (inf.getSecondaryWeapon() != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}, "originalCommit": {"oid": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxODI1NQ==", "bodyText": "Oh yeah, it was a customized ER support laser unit with some kind of sealed environment suit.", "url": "https://github.com/MegaMek/megamek/pull/2011#discussion_r441218255", "createdAt": "2020-06-17T00:44:54Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/common/templates/InfantryTROView.java", "diffHunk": "@@ -185,7 +185,7 @@ private void addWeaponNotes(List<String> notes) {\n             notes.add(String.format(Messages.getString(\"TROView.InfantryNote.SingleFieldGun\"),\n                     fieldGuns.get(0).getName(), shots, (int) fieldGuns.get(0).getTonnage(inf)));\n         }\n-        if (inf.getSecondaryN() > 1) {\n+        if (inf.getSecondaryWeapon() != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNTMwNw=="}, "originalCommit": {"oid": "a085fcf35964d7ffeca0e506c7f61455e28a0eb1"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2832, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}