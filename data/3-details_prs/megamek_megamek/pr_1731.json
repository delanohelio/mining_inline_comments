{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxOTU1Mjk4", "number": 1731, "title": "Mech zero crit equipment", "bodyText": "This involves a series of exceptions to the way nearly everything else works in order to support the construction of 'Mechs with the smart robotic control system (SRCS; IO, p. 140-1). It occupies no critical slots, so it's not assigned a location. Since 'Mechs don't have a generic location like the vehicle body or aerospace hull/fuselage, it doesn't get written to the mtf file or displayed on the summary or TRO view.\nI started with a bit of cleanup on the MTF file processing, including replacing String literals with named constants. I tried to make this generic rather than specific to the SRCS, so any equipment that takes up zero crits gets added to the MTF on a line that has the format \"nocrits:[internalName]:[location abbrev]\". Except Clan CASE, which gets handled differently for now.\nI added some checks to the validation code to flag any unit that mounts multiple robotics systems, and added C3 system type counting at the same time.\nThe most awkward code is the part that shows the SRCS on the MechView summary and the TRO view.\nFixes MegaMek/megameklab#496", "createdAt": "2020-02-29T23:14:41Z", "url": "https://github.com/MegaMek/megamek/pull/1731", "merged": true, "mergeCommit": {"oid": "b9db4537150863b188abf63e24146ab059714da6"}, "closed": true, "closedAt": "2020-03-01T21:46:19Z", "author": {"login": "neoancient"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJHQYrAH2gAyMzgxOTU1Mjk4OjBhNDY1ODBjZTk2ODNiMDU2ZDRlMWRiZDNmMTJkNDdhNzcwZjZjZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJOsVnAH2gAyMzgxOTU1Mjk4OjZkNDVhNDEzMjA3NjJiOWVhMTZjMmFlNGRhMDRmYTcwYTcwNzc3YjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a46580ce9683b056d4e1dbd3f12d47a770f6cea", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/0a46580ce9683b056d4e1dbd3f12d47a770f6cea", "committedDate": "2020-02-29T16:38:38Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11145d3bdf8297d8dec61b6ba063bc00ebb9250d", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/11145d3bdf8297d8dec61b6ba063bc00ebb9250d", "committedDate": "2020-02-29T18:07:36Z", "message": "Replace string literals used in MTF with constants."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c3951cf81aabfde6a4ae5e766939253251cfa1c", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/4c3951cf81aabfde6a4ae5e766939253251cfa1c", "committedDate": "2020-02-29T22:15:58Z", "message": "Write zero-slot mech equipment to the mtf if not otherwise accounted for."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7a4bdf9caa67c21d5c7954e00191ceda508dfa6", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/c7a4bdf9caa67c21d5c7954e00191ceda508dfa6", "committedDate": "2020-02-29T23:03:32Z", "message": "Show zero-crit equipment in LOC_NONE other than Clan CASE.\n\nE.g. smart robotic control system."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODI4Njkx", "url": "https://github.com/MegaMek/megamek/pull/1731#pullrequestreview-366828691", "createdAt": "2020-03-01T01:14:24Z", "commit": {"oid": "c7a4bdf9caa67c21d5c7954e00191ceda508dfa6"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQwMToxNDoyNFrOFwLtag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQwMToxNDoyNFrOFwLtag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2NzgxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        buff.append(\"Cannot multiple multiple network types on the same unit.\\n\");\n          \n          \n            \n                        buff.append(\"Cannot have multiple network types on the same unit.\\n\");", "url": "https://github.com/MegaMek/megamek/pull/1731#discussion_r386067818", "createdAt": "2020-03-01T01:14:24Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/common/verifier/TestEntity.java", "diffHunk": "@@ -1375,7 +1396,14 @@ public boolean hasIllegalEquipmentCombinations(StringBuffer buff) {\n             buff.append(\"Cannot mount HarJel repair system on non-Mech\\n\");\n             illegal = true;\n         }\n-        \n+        if (networks > 1) {\n+            buff.append(\"Cannot multiple multiple network types on the same unit.\\n\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7a4bdf9caa67c21d5c7954e00191ceda508dfa6"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d45a41320762b9ea16c2ae4da04fa70a70777b3", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/6d45a41320762b9ea16c2ae4da04fa70a70777b3", "committedDate": "2020-03-01T01:18:30Z", "message": "Update megamek/src/megamek/common/verifier/TestEntity.java\n\nCo-Authored-By: Christopher Watford <christopher.watford@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4581, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}