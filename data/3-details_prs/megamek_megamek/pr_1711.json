{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NjQyMjQ5", "number": 1711, "title": "Add Entity.getPriceMultiplier() method", "bodyText": "Refactor various Entity subtypes to move multiplier data from getCost() into getPriceMultiplier().\nThis enables external access to the multiplicative construction cost modifiers, which is needed to support\nmore accurate price calculations in MekHQ.", "createdAt": "2020-02-22T23:28:42Z", "url": "https://github.com/MegaMek/megamek/pull/1711", "merged": true, "mergeCommit": {"oid": "15af61328fa090c61702a9fc5e5f29eb4ed6aa8e"}, "closed": true, "closedAt": "2020-02-23T19:15:44Z", "author": {"login": "RAldrich"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcG8FR_AH2gAyMzc4NjQyMjQ5OjE2ZTQ2OWIxNzFmMWViM2JmNDc0MDFmZjJjMDJiMTBlZDljOWRjMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHN5tSgFqTM2MzExNTk4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e", "author": {"user": {"login": "RAldrich", "name": "Ryan Aldrich"}}, "url": "https://github.com/MegaMek/megamek/commit/16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e", "committedDate": "2020-02-22T22:29:42Z", "message": "Add Entity.getPriceMultiplier() method\n\nRefactor various Entity subtypes to move multiplier data from getCost() into getPriceMultiplier().\n\nThis enables external access to the multiplicative construction cost modifiers, which is needed to support\nmore accurate price calculations in MekHQ."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDYxMjU2", "url": "https://github.com/MegaMek/megamek/pull/1711#pullrequestreview-363061256", "createdAt": "2020-02-23T02:12:25Z", "commit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMjoxMjoyNlrOFtN20w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMjoxMjoyNlrOFtN20w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1NzI2Nw==", "bodyText": "Why 5x for anti-mek trained? Previous code was 1x (unless this diff is odd).", "url": "https://github.com/MegaMek/megamek/pull/1711#discussion_r382957267", "createdAt": "2020-02-23T02:12:26Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/common/Infantry.java", "diffHunk": "@@ -1577,75 +1576,79 @@ else if(nSneak == 3) {\n         //Cost of armor on a per man basis added\n         cost += (armorcost * menStarting);\n \n+        // Price multiplier includes anti-mech training, motive type, and specializations\n+        cost = cost * getPriceMultiplier();\n+\n+        //add in field gun costs\n+        for (Mounted mounted : getEquipment()) {\n+            if(mounted.getLocation() == LOC_FIELD_GUNS) {\n+                cost += Math.floor(mounted.getType().getCost(this, false, mounted.getLocation()));\n+            }\n+        }\n+        return cost;\n+    }\n+\n+    @Override\n+    public double getPriceMultiplier() {\n+        double priceMultiplier = 1.0;\n \n         //Anti-Mek Trained Multiplier\n         if (isAntiMekTrained()) {\n-            multiplier = 1;\n+            priceMultiplier *= 5.0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTE1OTg1", "url": "https://github.com/MegaMek/megamek/pull/1711#pullrequestreview-363115985", "createdAt": "2020-02-23T19:15:21Z", "commit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4564, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}