{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NTU5ODk0", "number": 2083, "title": "fix npe when displaying summary/TRO for gun emplacements", "bodyText": "This fixes #2022 in two ways:\n\nisClanArmor no longer throws an exception if passed an invalid location, returning false instead\nCreated new TRO templates for gun emplacements which omit armor and structure information and selectively use those for the TRO display.", "createdAt": "2020-07-25T03:41:57Z", "url": "https://github.com/MegaMek/megamek/pull/2083", "merged": true, "mergeCommit": {"oid": "79681cd419e447a6dec522975f4c6dec8f6e9017"}, "closed": true, "closedAt": "2020-07-26T02:11:54Z", "author": {"login": "NickAragua"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4QMR0AH2gAyNDU2NTU5ODk0OjE5YTI3OWM3NzhlNjIzNjk2MzUwMDdkZDU0NWQ4NjNiMGYwMzg3YTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4jjrGgH2gAyNDU2NTU5ODk0OmU0MjM5YjFlZDBkZjdjNmYxNDMyMzczOTQ4MWE0NWQ0NDRjYWUxYWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "19a279c778e62369635007dd545d863b0f0387a1", "author": {"user": {"login": "NickAragua", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/19a279c778e62369635007dd545d863b0f0387a1", "committedDate": "2020-07-25T03:37:44Z", "message": "fix npe when displaying summary/TRO for gun emplacements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mjk1ODU2", "url": "https://github.com/MegaMek/megamek/pull/2083#pullrequestreview-455295856", "createdAt": "2020-07-25T16:43:14Z", "commit": {"oid": "19a279c778e62369635007dd545d863b0f0387a1"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNjo0MzoxNVrOG3F7zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNjo0NDo0OVrOG3F8WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjA5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(tank instanceof GunEmplacement) {\n          \n          \n            \n                    if (tank instanceof GunEmplacement) {", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422095", "createdAt": "2020-07-25T16:43:15Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/templates/VehicleTROView.java", "diffHunk": "@@ -44,6 +45,13 @@ public VehicleTROView(Tank tank) {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n+        if(tank instanceof GunEmplacement) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19a279c778e62369635007dd545d863b0f0387a1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjEzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (html) {\n          \n          \n            \n                            return \"gunemplacement.ftlh\";\n          \n          \n            \n                        }\n          \n          \n            \n                        return \"gunemplacement.ftl\";\n          \n          \n            \n                        if (html) {\n          \n          \n            \n                            return \"gunemplacement.ftlh\";\n          \n          \n            \n                        } else {\n          \n          \n            \n                            return \"gunemplacement.ftl\";\n          \n          \n            \n                        }", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422139", "createdAt": "2020-07-25T16:44:09Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/templates/VehicleTROView.java", "diffHunk": "@@ -44,6 +45,13 @@ public VehicleTROView(Tank tank) {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n+        if(tank instanceof GunEmplacement) {\n+            if (html) {\n+                return \"gunemplacement.ftlh\";\n+            }\n+            return \"gunemplacement.ftl\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "19a279c778e62369635007dd545d863b0f0387a1"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjIzMw==", "bodyText": "I find it easier to read if the return is in an else in statements like this, but this is very much a suggestion.", "url": "https://github.com/MegaMek/megamek/pull/2083#discussion_r460422233", "createdAt": "2020-07-25T16:44:49Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/templates/VehicleTROView.java", "diffHunk": "@@ -44,6 +45,13 @@ public VehicleTROView(Tank tank) {\n \n     @Override\n     protected String getTemplateFileName(boolean html) {\n+        if(tank instanceof GunEmplacement) {\n+            if (html) {\n+                return \"gunemplacement.ftlh\";\n+            }\n+            return \"gunemplacement.ftl\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyMjEzOQ=="}, "originalCommit": {"oid": "19a279c778e62369635007dd545d863b0f0387a1"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4239b1ed0df7c6f14323739481a45d444cae1aa", "author": {"user": {"login": "NickAragua", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/e4239b1ed0df7c6f14323739481a45d444cae1aa", "committedDate": "2020-07-26T02:11:29Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4917, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}