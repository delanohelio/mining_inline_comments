{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5OTMyNDE4", "number": 2458, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzoxMDoyNFrOE--jhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzoxMDoyNFrOE--jhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0NDcyMDcwOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/MegaMekGUI.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwNzoxMDoyNFrOH8avXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwMDo0NjozNlrOH9FwsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzExNDcxNw==", "bodyText": "Currently when a game doesn't load, it continues to the host dialog (and notices later, that it cant load). Maybe add\nJOptionPane.showMessageDialog(frame, Messages.getString(\"MegaMek.LoadGameAlert.message\"),\nMessages.getString(\"MegaMek.LoadGameAlert.title\"), JOptionPane.ERROR_MESSAGE);\nreturn;\nto the catch block?", "url": "https://github.com/MegaMek/megamek/pull/2458#discussion_r533114717", "createdAt": "2020-12-01T07:10:24Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/MegaMekGUI.java", "diffHunk": "@@ -536,7 +543,24 @@ public String getDescription() {\n             // I want a file, y'know!\n             return;\n         }\n-        HostDialog hd = new HostDialog(frame);\n+\n+        IGame newGame = null;\n+        try (InputStream is = new FileInputStream(fc.getSelectedFile()); InputStream gzi = new GZIPInputStream(is)) {\n+            XStream xstream = SerializationHelper.getXStream();\n+            newGame = (IGame) xstream.fromXML(gzi);\n+        } catch (Exception e) {\n+            MegaMek.getLogger().error(\"Unable to load file: \" + fc.getSelectedFile(), e);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0796abd6371863f5963b720c82b4600cabce296"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzUwMjkyMA==", "bodyText": "Yeah, that's a fair point.  This briefly crossed my mind.  I chose to not deal with it because I figured the old path would be fine (and it was easier to do nothing about it).  But it does make sense to handle things earlier, before the players enter additional information.  I had assumed that this loading isn't likely to fail, but I guess it is if you load saved games across versions.", "url": "https://github.com/MegaMek/megamek/pull/2458#discussion_r533502920", "createdAt": "2020-12-01T15:30:09Z", "author": {"login": "arlith"}, "path": "megamek/src/megamek/client/ui/swing/MegaMekGUI.java", "diffHunk": "@@ -536,7 +543,24 @@ public String getDescription() {\n             // I want a file, y'know!\n             return;\n         }\n-        HostDialog hd = new HostDialog(frame);\n+\n+        IGame newGame = null;\n+        try (InputStream is = new FileInputStream(fc.getSelectedFile()); InputStream gzi = new GZIPInputStream(is)) {\n+            XStream xstream = SerializationHelper.getXStream();\n+            newGame = (IGame) xstream.fromXML(gzi);\n+        } catch (Exception e) {\n+            MegaMek.getLogger().error(\"Unable to load file: \" + fc.getSelectedFile(), e);\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzExNDcxNw=="}, "originalCommit": {"oid": "d0796abd6371863f5963b720c82b4600cabce296"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzUwNDk0NA==", "bodyText": "I don't think we have any expectation of support for megamek games being loaded across versions. That being said, some error handling won't go amiss.", "url": "https://github.com/MegaMek/megamek/pull/2458#discussion_r533504944", "createdAt": "2020-12-01T15:32:38Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/MegaMekGUI.java", "diffHunk": "@@ -536,7 +543,24 @@ public String getDescription() {\n             // I want a file, y'know!\n             return;\n         }\n-        HostDialog hd = new HostDialog(frame);\n+\n+        IGame newGame = null;\n+        try (InputStream is = new FileInputStream(fc.getSelectedFile()); InputStream gzi = new GZIPInputStream(is)) {\n+            XStream xstream = SerializationHelper.getXStream();\n+            newGame = (IGame) xstream.fromXML(gzi);\n+        } catch (Exception e) {\n+            MegaMek.getLogger().error(\"Unable to load file: \" + fc.getSelectedFile(), e);\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzExNDcxNw=="}, "originalCommit": {"oid": "d0796abd6371863f5963b720c82b4600cabce296"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzgxOTU2OA==", "bodyText": "That's exactly what I meant: we don't have any expectation of supporting games across versions and those are the most likely case of loading errors.", "url": "https://github.com/MegaMek/megamek/pull/2458#discussion_r533819568", "createdAt": "2020-12-02T00:46:36Z", "author": {"login": "arlith"}, "path": "megamek/src/megamek/client/ui/swing/MegaMekGUI.java", "diffHunk": "@@ -536,7 +543,24 @@ public String getDescription() {\n             // I want a file, y'know!\n             return;\n         }\n-        HostDialog hd = new HostDialog(frame);\n+\n+        IGame newGame = null;\n+        try (InputStream is = new FileInputStream(fc.getSelectedFile()); InputStream gzi = new GZIPInputStream(is)) {\n+            XStream xstream = SerializationHelper.getXStream();\n+            newGame = (IGame) xstream.fromXML(gzi);\n+        } catch (Exception e) {\n+            MegaMek.getLogger().error(\"Unable to load file: \" + fc.getSelectedFile(), e);\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzExNDcxNw=="}, "originalCommit": {"oid": "d0796abd6371863f5963b720c82b4600cabce296"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2614, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}