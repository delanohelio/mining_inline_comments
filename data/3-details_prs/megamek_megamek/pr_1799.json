{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTUyMTg1", "number": 1799, "title": "Fix unit file equipment entry modifier order", "bodyText": "When mtf or blk files are parsed, any modifiers to an equipment entry (rear facing, pod-mounted, etc) are checked starting from the end of the string, stripping the modifier off after it is noted. This requires the checks to be checked in the reverse order of the way they are written. I've reordered those that were out of position.\nFixes MegaMek/megameklab#529.", "createdAt": "2020-03-28T20:41:19Z", "url": "https://github.com/MegaMek/megamek/pull/1799", "merged": true, "mergeCommit": {"oid": "abccf4ee9560ba37bf9c64db7ac37602e120d1a2"}, "closed": true, "closedAt": "2020-03-29T20:09:41Z", "author": {"login": "neoancient"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSLYb_AH2gAyMzk1MTUyMTg1OjcwMWQ3ZWY1OTA4YjM0N2UxNDJhMzdiZDRhYzkxMmIzMmU3MWE4NTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSbE5JAFqTM4MzQxOTU1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "701d7ef5908b347e142a37bd4ac912b32e71a853", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/701d7ef5908b347e142a37bd4ac912b32e71a853", "committedDate": "2020-03-28T20:32:22Z", "message": "Write crit entry modifiers to mtf in reverse order that they are read."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c354473eef5ff08921f32217c8e874b1ca71f37", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/7c354473eef5ff08921f32217c8e874b1ca71f37", "committedDate": "2020-03-28T20:33:10Z", "message": "Check for pod-mounted before sponson/pintle turret."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/810672a25f06b6fe74372ec1e77262f675c03244", "committedDate": "2020-03-28T20:36:03Z", "message": "Switch (T) and (R) in mtf back to original order."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzQ3OTI1", "url": "https://github.com/MegaMek/megamek/pull/1799#pullrequestreview-383347925", "createdAt": "2020-03-28T20:42:34Z", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQyMDo0MjozNVrOF9MMjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQyMDo0MjozNVrOF9MMjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcwNzI3Ng==", "bodyText": "Why aren't these else if statements?", "url": "https://github.com/MegaMek/megamek/pull/1799#discussion_r399707276", "createdAt": "2020-03-28T20:42:35Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/loaders/BLKFile.java", "diffHunk": "@@ -81,18 +81,21 @@ protected void loadEquipment(Entity t, String sName, int nLoc)\n         if (saEquip[0] != null) {\n             for (String s : saEquip) {\n                 String equipName = s.trim();\n+                boolean isOmniMounted = false;\n                 boolean isTurreted = false;\n                 boolean isPintleTurreted = false;\n-                if (equipName.toUpperCase().endsWith(\"(ST)\")) {\n-                    isTurreted = true;\n-                    equipName = equipName.substring(0, equipName.length() - 4).trim();\n+                if (equipName.toUpperCase().endsWith(\":OMNI\")) {\n+                    isOmniMounted = true;\n+                    equipName = equipName.substring(0, equipName.length() - 5).trim();\n                 }\n                 if (equipName.toUpperCase().endsWith(\"(PT)\")) {\n                     isPintleTurreted = true;\n                     equipName = equipName.substring(0, equipName.length() - 4).trim();\n                 }\n-                boolean isOmniMounted = equipName.toUpperCase().endsWith(\":OMNI\");\n-                equipName = equipName.replace(\":OMNI\", \"\");\n+                if (equipName.toUpperCase().endsWith(\"(ST)\")) {\n+                    isTurreted = true;\n+                    equipName = equipName.substring(0, equipName.length() - 4).trim();\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzQ3OTc1", "url": "https://github.com/MegaMek/megamek/pull/1799#pullrequestreview-383347975", "createdAt": "2020-03-28T20:43:21Z", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQyMDo0MzoyMVrOF9MMyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQyMDo0MzoyMVrOF9MMyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTcwNzMzOA==", "bodyText": "Is this ever used or just assigned?", "url": "https://github.com/MegaMek/megamek/pull/1799#discussion_r399707338", "createdAt": "2020-03-28T20:43:21Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/loaders/BLKFile.java", "diffHunk": "@@ -81,18 +81,21 @@ protected void loadEquipment(Entity t, String sName, int nLoc)\n         if (saEquip[0] != null) {\n             for (String s : saEquip) {\n                 String equipName = s.trim();\n+                boolean isOmniMounted = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzQ4Mjk5", "url": "https://github.com/MegaMek/megamek/pull/1799#pullrequestreview-383348299", "createdAt": "2020-03-28T20:47:39Z", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzUwMzkw", "url": "https://github.com/MegaMek/megamek/pull/1799#pullrequestreview-383350390", "createdAt": "2020-03-28T21:17:38Z", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDE5NTUw", "url": "https://github.com/MegaMek/megamek/pull/1799#pullrequestreview-383419550", "createdAt": "2020-03-29T14:49:30Z", "commit": {"oid": "810672a25f06b6fe74372ec1e77262f675c03244"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4932, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}