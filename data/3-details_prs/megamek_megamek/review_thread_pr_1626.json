{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Njk0MjIz", "number": 1626, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzo0NDoxMlrODcbagQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzo0NToxOFrODcbalA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTM1ODczOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzo0NDoxMlrOFkeeGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMzo1NTo1N1rOFkkOAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MjI4Mw==", "bodyText": "TROOP_CARRIER is a combined forces transport, but it may just be vees and infantry. MECH_CARRIER should just be those with mech bays.", "url": "https://github.com/MegaMek/megamek/pull/1626#discussion_r373792283", "createdAt": "2020-02-01T17:44:12Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "diffHunk": "@@ -418,6 +419,132 @@ public static Double adjustAvailabilityByRole(double avRating, Collection<Missio\n \t\t\t\t\t\tavRating += avAdj[2] * (mRec.getSpeed() - (7 - mRec.getWeightClass()));\t\t\t\t\t\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n+\t\t\t\t//Large craft roles\n+\t\t\t\tcase CIVILIAN:\n+\t\t\t\t    if (!mRec.getRoles().contains(CIVILIAN)) {\n+\t\t\t\t        return null;\n+\t\t\t\t    }\n+\t\t\t\t    break;\n+\t\t\t\tcase CARGO:\n+\t\t\t\t    if (mRec.getRoles().contains(CARGO)) {\n+\t\t\t\t        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[1];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase SUPPORT:\n+                    if (mRec.getRoles().contains(SUPPORT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TUG)) {\n+                        avRating += avAdj[1];\n+                    } else if (mRec.getRoles().contains(CARGO)\n+                                || mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase TUG:\n+                    if (!mRec.getRoles().contains(TUG)) {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase POCKET_WARSHIP:\n+\t\t\t\t    if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+\t\t\t\t    break;\n+\t\t\t\tcase ASSAULT:\n+                    if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase MECH_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(MECH_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TROOP_CARRIER)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79ec998a9dc5c33231993fc821f3b924fb6b2d21"}, "originalPosition": 130}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4NTMxOQ==", "bodyText": "I had done this intentionally because a number of the ships listed as troop carriers include (substantial) mech carrier capabilities -  Colossus, Excalibur...\nI recognize that every now and again it'll return a ship with no mech carrying capacity.\nFor myself, I've updated the forcegen files to reflect each individual role as well where this is the case, but since my files are customized I haven't submitted those changes to the repo.", "url": "https://github.com/MegaMek/megamek/pull/1626#discussion_r373885319", "createdAt": "2020-02-02T23:37:39Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "diffHunk": "@@ -418,6 +419,132 @@ public static Double adjustAvailabilityByRole(double avRating, Collection<Missio\n \t\t\t\t\t\tavRating += avAdj[2] * (mRec.getSpeed() - (7 - mRec.getWeightClass()));\t\t\t\t\t\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n+\t\t\t\t//Large craft roles\n+\t\t\t\tcase CIVILIAN:\n+\t\t\t\t    if (!mRec.getRoles().contains(CIVILIAN)) {\n+\t\t\t\t        return null;\n+\t\t\t\t    }\n+\t\t\t\t    break;\n+\t\t\t\tcase CARGO:\n+\t\t\t\t    if (mRec.getRoles().contains(CARGO)) {\n+\t\t\t\t        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[1];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase SUPPORT:\n+                    if (mRec.getRoles().contains(SUPPORT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TUG)) {\n+                        avRating += avAdj[1];\n+                    } else if (mRec.getRoles().contains(CARGO)\n+                                || mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase TUG:\n+                    if (!mRec.getRoles().contains(TUG)) {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase POCKET_WARSHIP:\n+\t\t\t\t    if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+\t\t\t\t    break;\n+\t\t\t\tcase ASSAULT:\n+                    if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase MECH_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(MECH_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TROOP_CARRIER)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MjI4Mw=="}, "originalCommit": {"oid": "79ec998a9dc5c33231993fc821f3b924fb6b2d21"}, "originalPosition": 130}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4NjQ2NA==", "bodyText": "Ok, I'm good with that.", "url": "https://github.com/MegaMek/megamek/pull/1626#discussion_r373886464", "createdAt": "2020-02-02T23:55:57Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "diffHunk": "@@ -418,6 +419,132 @@ public static Double adjustAvailabilityByRole(double avRating, Collection<Missio\n \t\t\t\t\t\tavRating += avAdj[2] * (mRec.getSpeed() - (7 - mRec.getWeightClass()));\t\t\t\t\t\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n+\t\t\t\t//Large craft roles\n+\t\t\t\tcase CIVILIAN:\n+\t\t\t\t    if (!mRec.getRoles().contains(CIVILIAN)) {\n+\t\t\t\t        return null;\n+\t\t\t\t    }\n+\t\t\t\t    break;\n+\t\t\t\tcase CARGO:\n+\t\t\t\t    if (mRec.getRoles().contains(CARGO)) {\n+\t\t\t\t        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[1];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase SUPPORT:\n+                    if (mRec.getRoles().contains(SUPPORT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TUG)) {\n+                        avRating += avAdj[1];\n+                    } else if (mRec.getRoles().contains(CARGO)\n+                                || mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase TUG:\n+                    if (!mRec.getRoles().contains(TUG)) {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase POCKET_WARSHIP:\n+\t\t\t\t    if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+\t\t\t\t    break;\n+\t\t\t\tcase ASSAULT:\n+                    if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase MECH_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(MECH_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TROOP_CARRIER)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MjI4Mw=="}, "originalCommit": {"oid": "79ec998a9dc5c33231993fc821f3b924fb6b2d21"}, "originalPosition": 130}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTM1ODkyOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQxNzo0NToxOFrOFkeeNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMzozOTowMVrOFkkJyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MjMxMQ==", "bodyText": "Similarly, this should probably be implemented as a filter that returns null for any unit that does not contain ASF_CARRIER.", "url": "https://github.com/MegaMek/megamek/pull/1626#discussion_r373792311", "createdAt": "2020-02-01T17:45:18Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "diffHunk": "@@ -418,6 +419,132 @@ public static Double adjustAvailabilityByRole(double avRating, Collection<Missio\n \t\t\t\t\t\tavRating += avAdj[2] * (mRec.getSpeed() - (7 - mRec.getWeightClass()));\t\t\t\t\t\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n+\t\t\t\t//Large craft roles\n+\t\t\t\tcase CIVILIAN:\n+\t\t\t\t    if (!mRec.getRoles().contains(CIVILIAN)) {\n+\t\t\t\t        return null;\n+\t\t\t\t    }\n+\t\t\t\t    break;\n+\t\t\t\tcase CARGO:\n+\t\t\t\t    if (mRec.getRoles().contains(CARGO)) {\n+\t\t\t\t        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[1];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase SUPPORT:\n+                    if (mRec.getRoles().contains(SUPPORT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TUG)) {\n+                        avRating += avAdj[1];\n+                    } else if (mRec.getRoles().contains(CARGO)\n+                                || mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase TUG:\n+                    if (!mRec.getRoles().contains(TUG)) {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase POCKET_WARSHIP:\n+\t\t\t\t    if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+\t\t\t\t    break;\n+\t\t\t\tcase ASSAULT:\n+                    if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase MECH_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(MECH_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TROOP_CARRIER)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase ASF_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(ASF_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79ec998a9dc5c33231993fc821f3b924fb6b2d21"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4NTM4Ng==", "bodyText": "Same as above, this is intentional since there are so few defined ASF carriers but so many assault ships carry about 6 fighters.", "url": "https://github.com/MegaMek/megamek/pull/1626#discussion_r373885386", "createdAt": "2020-02-02T23:39:01Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/client/ratgenerator/MissionRole.java", "diffHunk": "@@ -418,6 +419,132 @@ public static Double adjustAvailabilityByRole(double avRating, Collection<Missio\n \t\t\t\t\t\tavRating += avAdj[2] * (mRec.getSpeed() - (7 - mRec.getWeightClass()));\t\t\t\t\t\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n+\t\t\t\t//Large craft roles\n+\t\t\t\tcase CIVILIAN:\n+\t\t\t\t    if (!mRec.getRoles().contains(CIVILIAN)) {\n+\t\t\t\t        return null;\n+\t\t\t\t    }\n+\t\t\t\t    break;\n+\t\t\t\tcase CARGO:\n+\t\t\t\t    if (mRec.getRoles().contains(CARGO)) {\n+\t\t\t\t        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[1];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase SUPPORT:\n+                    if (mRec.getRoles().contains(SUPPORT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TUG)) {\n+                        avRating += avAdj[1];\n+                    } else if (mRec.getRoles().contains(CARGO)\n+                                || mRec.getRoles().contains(CIVILIAN)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        avRating -= avAdj[2];\n+                    }\n+                    break;\n+\t\t\t\tcase TUG:\n+                    if (!mRec.getRoles().contains(TUG)) {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase POCKET_WARSHIP:\n+\t\t\t\t    if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+\t\t\t\t    break;\n+\t\t\t\tcase ASSAULT:\n+                    if (mRec.getRoles().contains(ASSAULT)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(POCKET_WARSHIP)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase MECH_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(MECH_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(TROOP_CARRIER)) {\n+                        avRating += avAdj[0];\n+                    } else {\n+                        return null;\n+                    }\n+                    break;\n+\t\t\t\tcase ASF_CARRIER:\n+\t\t\t\t    if (mRec.getRoles().contains(ASF_CARRIER)) {\n+                        avRating += avAdj[2];\n+                    } else if (mRec.getRoles().contains(ASSAULT)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc5MjMxMQ=="}, "originalCommit": {"oid": "79ec998a9dc5c33231993fc821f3b924fb6b2d21"}, "originalPosition": 139}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2463, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}