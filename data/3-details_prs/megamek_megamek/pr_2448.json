{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MDMyNjIz", "number": 2448, "title": "2348: Game summary images", "bodyText": "The purpose of this work is to create some type of summary for a game.  It does this by saving board or minimap images at the end of every phase.  Two options are added in the Client Settings > Graphics menu (one for saving board images, one for minimap images).\nThe images are saved in logs/gameSummaries (either in a board or minimap subdirectory).  The PR adds a UUID to the Game object, so every saved game can be uniquely identified.  Images are stored in a subdirectory with the UUID so that game summary images can be continued after loading a saved game.\nI had originally thought that this branch wasn't finished but really it is.  There are a couple of caveats.  Ultimately, I feel like users want to create some type of animation (gif) or video.  I had thought about doing this automatically but it's not really necessary and really it could quickly get quite complex.  Having the raw images can still be useful (as users can flip through them manually) and by having the images users can also create their own animations or videos (in Linux this is really simple, with just a single call to convert or ffmpeg).  It's also worth noting that this option can really use up a lot of diskspace: the output image sizes are based upon the size of the board: a 16x17 hex board generates a ~2MB image per phase, which is usually 2-3 (move, fire, physical).  But the options to save these images defaults to off.\nSince these changes only really have an effect if the option for them is turned on, I feel like this is pretty safe to merge.\nThis fixes #2348", "createdAt": "2020-11-29T01:17:10Z", "url": "https://github.com/MegaMek/megamek/pull/2448", "merged": true, "mergeCommit": {"oid": "cd179e71ab596f106db8f90c5bdc93d35be3e75a"}, "closed": true, "closedAt": "2020-11-29T19:30:24Z", "author": {"login": "arlith"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABWMtzkzgH2gAyNTI5MDMyNjIzOmY1NjVlODVkMDk2OWFhNDM1ODg4MjgzOTBjYTA4OGQ0NDllYjg2MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhThJKAFqTU0MDQ5NjI4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f565e85d0969aa43588828390ca088d449eb8601", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/f565e85d0969aa43588828390ca088d449eb8601", "committedDate": "2016-12-04T20:08:19Z", "message": "Added UUID to Game\n\nThis will be used to uniquely identify a game, which in term will be used to\ndetermine where to save the summary images to."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac5ffe046d2bd698b472619ffad2f1ff9889ef30", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/ac5ffe046d2bd698b472619ffad2f1ff9889ef30", "committedDate": "2016-12-04T20:19:40Z", "message": "Added GUIPrefs for BV and Minimap summary imgs\n\nThese will be what determine whether the summary images should be saved."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b85347345eb6c9cd3088716b373e5f00f1b3f4f6", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/b85347345eb6c9cd3088716b373e5f00f1b3f4f6", "committedDate": "2016-12-04T20:36:36Z", "message": "Fixed bug with List type in CommonSettignsDialog\n\nI had been trying to add elements to a List created with Arrays.asList, and\nit didn't work out so well."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a1ec57aecf4c90541b97053d64e8e62976c24dc", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/9a1ec57aecf4c90541b97053d64e8e62976c24dc", "committedDate": "2016-12-04T21:02:01Z", "message": "Fix issue with how userdata tilesets are added\n\nWould cause NPEs if no tilesets were present in the userdata directory."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39ce5e5e8a1e7badaf2fd8ef8a0230cbfb08a3c1", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/39ce5e5e8a1e7badaf2fd8ef8a0230cbfb08a3c1", "committedDate": "2016-12-04T21:02:50Z", "message": "Configuration stores locs to game summary imgs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a148fa9929f516b265e4694d0f2806bc3de508da", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/a148fa9929f516b265e4694d0f2806bc3de508da", "committedDate": "2016-12-04T21:03:15Z", "message": "Added game summary img options to Client Settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "369950127ee6fa420df8b91a1ea7cd42a71d3123", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/369950127ee6fa420df8b91a1ea7cd42a71d3123", "committedDate": "2016-12-04T23:06:45Z", "message": "Added UUID accessor to interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70c45cfdce65f16c1f9d323f4b459d1b3906ea8c", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/70c45cfdce65f16c1f9d323f4b459d1b3906ea8c", "committedDate": "2016-12-04T23:07:03Z", "message": "Generate new Game UUID when reset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ca301223e218c74f009258be0d0d2eb109aadc8", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/8ca301223e218c74f009258be0d0d2eb109aadc8", "committedDate": "2016-12-04T23:07:42Z", "message": "Implement game summary images for minimap\n\nWhen the phase is changed from deployment, movement, firing, targeting or\nphysical, the current minimap image is saved to a file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ea77af70f5bd5a64d5324e501d148181decd7ef", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/8ea77af70f5bd5a64d5324e501d148181decd7ef", "committedDate": "2016-12-04T23:08:28Z", "message": "Implement game summary images for board view\n\nWhen the phase is changed from deployment, movement, firing, targeting or\nphysical, the current board image is saved to a file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67ea6c049d20528353979a01f7115558f10cac32", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/67ea6c049d20528353979a01f7115558f10cac32", "committedDate": "2016-12-05T15:21:02Z", "message": "Merge branch 'post-stable' into gameSummaryImages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9504c0801c0ec5b36c77b43ea7fdf18a6b4c5e3", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/c9504c0801c0ec5b36c77b43ea7fdf18a6b4c5e3", "committedDate": "2017-03-26T15:40:25Z", "message": "Merge branch 'master' into gameSummaryImages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1f9fa4c3951078528894ea07aa0ccbda2c300ca", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/f1f9fa4c3951078528894ea07aa0ccbda2c300ca", "committedDate": "2020-11-27T18:42:10Z", "message": "Merge branch 'master' into gameSummaryImages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccac3efcc6ec82963b0de9d9ea9e1448ca102fd2", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/ccac3efcc6ec82963b0de9d9ea9e1448ca102fd2", "committedDate": "2020-11-27T20:12:25Z", "message": "Added minimap game summary option\n\nLooks like this got removed during the latest merge with master."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c206c7fbd6e98e4489a6796ff1b9161781a2e834", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/c206c7fbd6e98e4489a6796ff1b9161781a2e834", "committedDate": "2020-11-27T20:13:08Z", "message": "Add phase name to summary image filename\n\nto make it easier for users to distinguish phases.  I left in the\nordinal so that files sort properly.  This should make it easier to\ncombine images into gifs or videos."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86e81407fb5127063c7c7e72215356e6351bf61f", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/86e81407fb5127063c7c7e72215356e6351bf61f", "committedDate": "2020-11-27T20:27:32Z", "message": "Update shadow map when creating board image\n\nI noticed some inconsistencies with shadows.  This makes\nIBoardView.getEntireBoardImage match IBoardView.paintComponents."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27187c341388d78a7c752be0ed1768db5364f40a", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/27187c341388d78a7c752be0ed1768db5364f40a", "committedDate": "2020-11-27T21:42:30Z", "message": "Set zoom to 1 before saving board image\n\nThis makes it consistent in terms of what gets saved, otherwise the\noutput image is dependent upon the current zoom level."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDMxMzAw", "url": "https://github.com/MegaMek/megamek/pull/2448#pullrequestreview-540431300", "createdAt": "2020-11-29T02:46:37Z", "commit": {"oid": "27187c341388d78a7c752be0ed1768db5364f40a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMjo0NjozN1rOH7e4DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwMjo0ODoyOFrOH7e4cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEzMzkwMA==", "bodyText": "Is this property related? It appears unused.", "url": "https://github.com/MegaMek/megamek/pull/2448#discussion_r532133900", "createdAt": "2020-11-29T02:46:37Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -115,6 +115,9 @@\n     public static final String DISPLAY_POS_Y = \"DisplayPosY\";\n     public static final String DISPLAY_SIZE_HEIGHT = \"DisplaySizeHeight\";\n     public static final String DISPLAY_SIZE_WIDTH = \"DisplaySizeWidth\";\n+    public static final String GAME_SUMMARY_BOARD_VIEW = \"GameSummaryBoardView\";\n+    public static final String GAME_SUMMARY_MINI_MAP = \"GameSummaryMiniMap\";\n+    public static final String ENTITY_OWNER_LABEL_COLOR = \"EntityOwnerLabelColor\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27187c341388d78a7c752be0ed1768db5364f40a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEzMzkzNw==", "bodyText": "Whitespace is off starting here it looks.", "url": "https://github.com/MegaMek/megamek/pull/2448#discussion_r532133937", "createdAt": "2020-11-29T02:47:09Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/boardview/BoardView1.java", "diffHunk": "@@ -2451,8 +2464,12 @@ public BufferedImage getEntireBoardImage(boolean ignoreUnits) {\n                 }\n             }\n         }\n-\n         boardGraph.dispose();\n+\n+        // Restore the zoom setting\n+        zoomIndex = oldZoom;\n+    \tzoom();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27187c341388d78a7c752be0ed1768db5364f40a"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEzNDAwMg==", "bodyText": "Curious: when would uuid be null?", "url": "https://github.com/MegaMek/megamek/pull/2448#discussion_r532134002", "createdAt": "2020-11-29T02:48:28Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/common/Game.java", "diffHunk": "@@ -3651,4 +3659,17 @@ private void checkPositionCacheConsistency() {\n         }\n     }\n \n+    /**\n+     * Get a string representation of the UUId for this game.\n+     *\n+     * @return\n+     */\n+    public String getUUIDString() {\n+        if (uuid == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27187c341388d78a7c752be0ed1768db5364f40a"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59ed4ae7dde4a0ef8a2d3247f4863966240937d6", "author": {"user": {"login": "arlith", "name": "Nicholas Walczak"}}, "url": "https://github.com/MegaMek/megamek/commit/59ed4ae7dde4a0ef8a2d3247f4863966240937d6", "committedDate": "2020-11-29T16:21:49Z", "message": "Replaces tabs with spaces"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDk2Mjg2", "url": "https://github.com/MegaMek/megamek/pull/2448#pullrequestreview-540496286", "createdAt": "2020-11-29T16:41:08Z", "commit": {"oid": "59ed4ae7dde4a0ef8a2d3247f4863966240937d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4679, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}