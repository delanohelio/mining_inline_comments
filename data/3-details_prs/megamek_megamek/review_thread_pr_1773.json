{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5Mzc4ODAy", "number": 1773, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0NDo0OFrODofqLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMTowOTo1MVrODogJzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzg4MzMyOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/RandomMapDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDo0NDo0OFrOF3FEkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNDozNDo1MlrOF3fE1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5OTA4OQ==", "bodyText": "This seems kind of pointless - you're setting userCancel to false then returning it without any possibility of changing it.", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393299089", "createdAt": "2020-03-16T20:44:48Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/RandomMapDialog.java", "diffHunk": "@@ -414,6 +428,17 @@ private boolean doApply() {\n         MAP_SETTINGS_OBSERVER.updateMapSettings(newMapSettings);\n         return true;\n     }\n+    \n+    public boolean activateDialog() {\n+    \tuserCancel = false;\n+    \tsetVisible(true);\n+    \treturn userCancel;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzcyNTE0MA==", "bodyText": "This is a modal dialog. setVisible does not return until the dialog is closed.", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393725140", "createdAt": "2020-03-17T14:34:52Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/RandomMapDialog.java", "diffHunk": "@@ -414,6 +428,17 @@ private boolean doApply() {\n         MAP_SETTINGS_OBSERVER.updateMapSettings(newMapSettings);\n         return true;\n     }\n+    \n+    public boolean activateDialog() {\n+    \tuserCancel = false;\n+    \tsetVisible(true);\n+    \treturn userCancel;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5OTA4OQ=="}, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzk2MTQ2OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMTowODo1NVrOF3F1ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNDo0MzozMVrOF3fdHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMxMTU4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \tboolean userCancel = rmd.activateDialog();\n          \n          \n            \n                \tif (!userCancel) {\n          \n          \n            \n                \tif (!rmd.activateDialog()) {", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393311588", "createdAt": "2020-03-16T21:08:55Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1330,18 +1330,21 @@ private void updateWhenSelected() {\n     }\n \n     public void boardNew() {\n-        RandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n-        rmd.setVisible(true);\n-        board = BoardUtilities.generateRandom(mapSettings);\n-        game.setBoard(board);\n-        curfile = null;\n-        frame.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n-        menuBar.setBoard(true);\n-        bvc.doLayout();\n+    \tRandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n+    \tboolean userCancel = rmd.activateDialog();\n+    \tif (!userCancel) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzczMTM1Ng==", "bodyText": "I'd rather waste that one line for improved readability.", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393731356", "createdAt": "2020-03-17T14:43:31Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1330,18 +1330,21 @@ private void updateWhenSelected() {\n     }\n \n     public void boardNew() {\n-        RandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n-        rmd.setVisible(true);\n-        board = BoardUtilities.generateRandom(mapSettings);\n-        game.setBoard(board);\n-        curfile = null;\n-        frame.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n-        menuBar.setBoard(true);\n-        bvc.doLayout();\n+    \tRandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n+    \tboolean userCancel = rmd.activateDialog();\n+    \tif (!userCancel) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMxMTU4OA=="}, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzk2NDI4OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMTowOTo1MVrOF3F3Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNDo0Mzo0MFrOF3fdlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMxMjAzNQ==", "bodyText": "Formatting on this line is weird.", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393312035", "createdAt": "2020-03-16T21:09:51Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1330,18 +1330,21 @@ private void updateWhenSelected() {\n     }\n \n     public void boardNew() {\n-        RandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n-        rmd.setVisible(true);\n-        board = BoardUtilities.generateRandom(mapSettings);\n-        game.setBoard(board);\n-        curfile = null;\n-        frame.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n-        menuBar.setBoard(true);\n-        bvc.doLayout();\n+    \tRandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n+    \tboolean userCancel = rmd.activateDialog();\n+    \tif (!userCancel) {\n+    \t\tboard = BoardUtilities.generateRandom(mapSettings);\n+    \t\tgame.setBoard(board);\n+    \t\tcurfile = null;\n+    \t\tframe.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n+    \t\tmenuBar.setBoard(true);\n+    \t\tbvc.doLayout();\n+    \t\tresetUndo();\n+    \t}\n     }\n-    \n+\n     public void boardResize() {\n-        ResizeMapDialog emd = new ResizeMapDialog(frame, this, null, mapSettings);\n+    \tResizeMapDialog emd = new ResizeMapDialog(frame, this, null, mapSettings);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzczMTQ3OQ==", "bodyText": "Didn't actively change that line. But I noticed that my formatter was still using tabs which Ive changed now. I'd rather leave this for now and replace tabs across some files at another time.", "url": "https://github.com/MegaMek/megamek/pull/1773#discussion_r393731479", "createdAt": "2020-03-17T14:43:40Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1330,18 +1330,21 @@ private void updateWhenSelected() {\n     }\n \n     public void boardNew() {\n-        RandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n-        rmd.setVisible(true);\n-        board = BoardUtilities.generateRandom(mapSettings);\n-        game.setBoard(board);\n-        curfile = null;\n-        frame.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n-        menuBar.setBoard(true);\n-        bvc.doLayout();\n+    \tRandomMapDialog rmd = new RandomMapDialog(frame, this, null, mapSettings);\n+    \tboolean userCancel = rmd.activateDialog();\n+    \tif (!userCancel) {\n+    \t\tboard = BoardUtilities.generateRandom(mapSettings);\n+    \t\tgame.setBoard(board);\n+    \t\tcurfile = null;\n+    \t\tframe.setTitle(Messages.getString(\"BoardEditor.title\")); //$NON-NLS-1$\n+    \t\tmenuBar.setBoard(true);\n+    \t\tbvc.doLayout();\n+    \t\tresetUndo();\n+    \t}\n     }\n-    \n+\n     public void boardResize() {\n-        ResizeMapDialog emd = new ResizeMapDialog(frame, this, null, mapSettings);\n+    \tResizeMapDialog emd = new ResizeMapDialog(frame, this, null, mapSettings);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMxMjAzNQ=="}, "originalCommit": {"oid": "36a54770a38ca81216c30d5309385162c5b0d278"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2530, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}