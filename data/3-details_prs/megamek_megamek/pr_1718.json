{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NzY5MDg3", "number": 1718, "title": "Move primary determination of equipment weight to Mounted.", "bodyText": "This adds a getTonnage method to Mounted and changes all the places in MM where getTonnage is called on the mounted EquipmentType to use Mounted instead. The immediate reason for doing this is that the weight of the dumper depends on the size of the cargo bay it's connected to, and the EquipmentType itself has no way of determining that, even with the Entity and location provided. I have also moved some of the effects of BA mount types on weight into this method.\nThis is something I've been contemplating for some time, though it had nothing to do with the peculiar needs of dumpers. The next step in this process is to add a size field to Mounted so we can eliminate the need for multiple versions of equipment in different sizes such as communications equipment and ladders. It also provides an easier-to-use way of adding capacity to equipment like MASH theaters and drone operating systems without having to have a second piece of equipment just to expand.", "createdAt": "2020-02-25T19:51:43Z", "url": "https://github.com/MegaMek/megamek/pull/1718", "merged": true, "mergeCommit": {"oid": "536787ab374d9a1919ab5d55b2b130cebaa02a6f"}, "closed": true, "closedAt": "2020-02-26T01:55:07Z", "author": {"login": "neoancient"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH3BqmgH2gAyMzc5NzY5MDg3OmY3YzA5ZDY5N2RiYzg5NDJjMWZjOGE3NzcxYmFiZmFhN2U3MWM0NmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcH8vZ1AFqTM2NDU3NTA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7c09d697dbc8942c1fc8a7771babfaa7e71c46e", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/f7c09d697dbc8942c1fc8a7771babfaa7e71c46e", "committedDate": "2020-02-25T19:10:09Z", "message": "Move primary determination of equipment weight to Mounted.\n\nThis was necessary for computing dumper weight based on attached cargo bay, but has potential to simplify some of the variable-sized equipment."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NDEyNTMz", "url": "https://github.com/MegaMek/megamek/pull/1718#pullrequestreview-364412533", "createdAt": "2020-02-25T20:06:44Z", "commit": {"oid": "f7c09d697dbc8942c1fc8a7771babfaa7e71c46e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NDE3NDM4", "url": "https://github.com/MegaMek/megamek/pull/1718#pullrequestreview-364417438", "createdAt": "2020-02-25T20:14:49Z", "commit": {"oid": "f7c09d697dbc8942c1fc8a7771babfaa7e71c46e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMDoxNDo1MFrOFuTs1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMDoxNDo1MFrOFuTs1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDEwMTU4OA==", "bodyText": "Weird spacing before mount", "url": "https://github.com/MegaMek/megamek/pull/1718#discussion_r384101588", "createdAt": "2020-02-25T20:14:50Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/verifier/TestProtomech.java", "diffHunk": "@@ -449,8 +448,7 @@ public boolean hasIllegalEquipmentCombinations(StringBuffer buff) {\n                 continue;\n             }\n             slotsByLoc.merge(mount.getLocation(), 1, Integer::sum);\n-            weightByLoc.merge(mount.getLocation(),\n-                    mount.getType().getTonnage(proto, mount.getLocation()), Double::sum);\n+            weightByLoc.merge(mount.getLocation(),  mount.getTonnage(), Double::sum);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c09d697dbc8942c1fc8a7771babfaa7e71c46e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NDE3ODI3", "url": "https://github.com/MegaMek/megamek/pull/1718#pullrequestreview-364417827", "createdAt": "2020-02-25T20:15:32Z", "commit": {"oid": "f7c09d697dbc8942c1fc8a7771babfaa7e71c46e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08902b34f138a15c91dfafbca055aa0b8da50530", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/08902b34f138a15c91dfafbca055aa0b8da50530", "committedDate": "2020-02-25T20:35:03Z", "message": "Spacing fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTc1MDcy", "url": "https://github.com/MegaMek/megamek/pull/1718#pullrequestreview-364575072", "createdAt": "2020-02-26T01:49:38Z", "commit": {"oid": "08902b34f138a15c91dfafbca055aa0b8da50530"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4569, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}