{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3OTU2MjQ1", "number": 1702, "title": "Refactoring and Code Cleanup In Server.java", "bodyText": "This is a low hanging fruit pass to fix some of the many issues in this file. All of the functionality changes will have a comment that can be used to track where they are.", "createdAt": "2020-02-20T20:23:48Z", "url": "https://github.com/MegaMek/megamek/pull/1702", "merged": true, "mergeCommit": {"oid": "32ab06366cb6d4d3cc218032db17918f119f47b9"}, "closed": true, "closedAt": "2020-02-24T20:18:10Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 37, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGC1nYAH2gAyMzc3OTU2MjQ1OmFiNDMzYTY2ODI1MmVkOGIyYWI3M2UwYzEzMzRhNmVmYTEyODI2OGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHjZLkAFqTM2MzY3MjUwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ab433a668252ed8b2ab73e0c1334a6efa128268b", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/ab433a668252ed8b2ab73e0c1334a6efa128268b", "committedDate": "2020-02-20T03:48:00Z", "message": "Refactoring in server.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eac617217480ac7777be5736a9d719f92ddd7743", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/eac617217480ac7777be5736a9d719f92ddd7743", "committedDate": "2020-02-20T05:17:55Z", "message": "Further refactoring in server.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "922d50997c780e9450989c823c71157a8cc5cd8f", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/922d50997c780e9450989c823c71157a8cc5cd8f", "committedDate": "2020-02-20T14:33:38Z", "message": "Further fixes and refactoring in server.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/4048c0570905aea689dac0cb465c38cc19114f60", "committedDate": "2020-02-20T20:20:44Z", "message": "Further refactoring in Server.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjA4Mzcx", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362208371", "createdAt": "2020-02-20T20:24:46Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNDo0N1rOFsh90w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNDo0N1rOFsh90w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIzODE2Mw==", "bodyText": "Can we remove this area of commented out code?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382238163", "createdAt": "2020-02-20T20:24:47Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -1095,6 +1080,7 @@ private IPlayer addNewPlayer(int connId, String name) {\n     public void validatePlayerInfo(int playerId) {\n         final IPlayer player = getPlayer(playerId);\n \n+        // TODO : Windchild can this be removed?\n         // maybe this isn't actually useful\n         // // replace characters we don't like with \"X\"\n         // StringBuffer nameBuff = new StringBuffer(player.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 314}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjA5MzA3", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362209307", "createdAt": "2020-02-20T20:26:26Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNjoyNlrOFsiAzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNjoyNlrOFsiAzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIzODkyNw==", "bodyText": "Is this change correct or was it a bug that it was identical to the next Phase?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382238927", "createdAt": "2020-02-20T20:26:26Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -2887,9 +2832,7 @@ private void endCurrentPhase() {\n                 changePhase(IGame.Phase.PHASE_EXCHANGE);\n                 break;\n             case PHASE_EXCHANGE:\n-                game.addReports(vPhaseReport);\n-                changePhase(IGame.Phase.PHASE_SET_ARTYAUTOHITHEXES);\n-                break;\n+                // TODO : Windchild this might have been a bug", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 987}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjA5NTQ5", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362209549", "createdAt": "2020-02-20T20:26:51Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNjo1MVrOFsiBoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNjo1MVrOFsiBoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIzOTEzNg==", "bodyText": "Thoughts on this change?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382239136", "createdAt": "2020-02-20T20:26:51Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -3233,55 +3166,53 @@ private void receiveForwardIni(Packet packet, int connid) {\n             return;\n         }\n         // get the next player from the team this player is on.\n-        Team currentteam = game.getTeamForPlayer(current);\n-        IPlayer next = currentteam.getNextValidPlayer(current, game);\n-        // if the choosen player is a valid player, we change the turn order and\n+        IPlayer next = game.getTeamForPlayer(current).getNextValidPlayer(current, game);\n+        // if the chosen player is a valid player, we change the turn order and\n         // inform the clients.\n         if ((next != null) && (game.getEntitiesOwnedBy(next) != 0)\n-            && (game.getTurnForPlayer(next.getId()) != null)) {\n+                && (game.getTurnForPlayer(next.getId()) != null)) {\n \n-            int currentturnindex = game.getTurnIndex();\n-            // now look for the next occurence of player next in the turn order\n+            int currentTurnIndex = game.getTurnIndex();\n+            // now look for the next occurrence of player next in the turn order\n             List<GameTurn> turns = game.getTurnVector();\n             GameTurn turn = game.getTurn();\n             // not entirely necessary. As we will also check this for the\n             // activity of the button but to be sure do it on the server too.\n-            boolean isGeneralMoveTurn = (!(turn instanceof GameTurn.SpecificEntityTurn)\n-                                         && !(turn instanceof GameTurn.UnitNumberTurn)\n-                                         && !(turn instanceof GameTurn.UnloadStrandedTurn)\n-                                         && !(turn instanceof GameTurn.TriggerBPodTurn) && !(turn instanceof GameTurn\n-                    .TriggerAPPodTurn));\n+            boolean isGeneralMoveTurn = !(turn instanceof GameTurn.SpecificEntityTurn)\n+                    && !(turn instanceof GameTurn.UnitNumberTurn)\n+                    && !(turn instanceof GameTurn.UnloadStrandedTurn)\n+                    && !(turn instanceof GameTurn.TriggerBPodTurn)\n+                    && !(turn instanceof GameTurn.TriggerAPPodTurn);\n+            // TODO : Windchild my IDE has noticed that GameTurn.TriggerBPodTurn\n+            // TODO : and GameTurn.TriggerAPPodTurn are always false, and can probably be removed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 1127}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjA5ODIy", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362209822", "createdAt": "2020-02-20T20:27:15Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNzoxNVrOFsiC3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNzoxNVrOFsiC3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIzOTQ1Mg==", "bodyText": "Can this commented out code be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382239452", "createdAt": "2020-02-20T20:27:15Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -4277,25 +4138,24 @@ private void applyDropshipProximityDamage(Coords centralPos,\n         // ok now I need to look at the damage rings - start at 2 and go to 7\n         for (int i = 2; i < 8; i++) {\n             int damageDice = (8 - i) * 2;\n-            ArrayList<Coords> ring = Compute.coordsAtRange(centralPos, i);\n+            List<Coords> ring = Compute.coordsAtRange(centralPos, i);\n             for (Coords pos : ring) {\n-                if (rearArc\n-                    && !Compute.isInArc(centralPos, facing, pos,\n-                                        Compute.ARC_AFT)) {\n+                if (rearArc && !Compute.isInArc(centralPos, facing, pos, Compute.ARC_AFT)) {\n                     continue;\n                 }\n \n-                alreadyHit = artilleryDamageHex(pos, centralPos, damageDice,\n-                                                null, killer.getId(), killer, null, false, 0,\n-                                                vPhaseReport, false, alreadyHit, true);\n+                alreadyHit = artilleryDamageHex(pos, centralPos, damageDice, null, killer.getId(),\n+                        killer, null, false, 0, vPhaseReport, false,\n+                        alreadyHit, true);\n \n+                // TODO : Windchild can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 1882}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEwMTU4", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362210158", "createdAt": "2020-02-20T20:27:48Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNzo0OFrOFsiD8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyNzo0OFrOFsiD8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjIzOTcyOQ==", "bodyText": "I'm pretty sure this is a bug, but wanted to check that the missing break wasn't on purpose.", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382239729", "createdAt": "2020-02-20T20:27:48Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -6297,36 +6057,36 @@ private void doVehicleFlipDamage(Tank entity, int damage, boolean startRight, in\n \n         int index = flipCount % 4;\n         // If there is no turret, we do side-side-bottom\n-        if (((Tank)entity).hasNoTurret()) {\n+        if (entity.hasNoTurret()) {\n             index = flipCount % 3;\n             if (index > 0) {\n                 index++;\n             }\n         }\n         switch (index) {\n-        case 0:\n-            hit = new HitData(startRight? Tank.LOC_RIGHT : Tank.LOC_LEFT);\n-            break;\n-        case 1:\n-            hit = new HitData(Tank.LOC_TURRET);\n-        case 2:\n-            hit = new HitData(startRight? Tank.LOC_LEFT : Tank.LOC_RIGHT);\n-            break;\n-        default:\n-            hit = null; //Motive damage instead\n+            case 0:\n+                hit = new HitData(startRight ? Tank.LOC_RIGHT : Tank.LOC_LEFT);\n+                break;\n+            case 1:\n+                hit = new HitData(Tank.LOC_TURRET);\n+                break; //TODO : Windchild Ensure this change is correct", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 2865}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEwNjc4", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362210678", "createdAt": "2020-02-20T20:28:40Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyODo0MFrOFsiFbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyODo0MFrOFsiFbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MDEwOQ==", "bodyText": "Why is this being updated if the update is never being used?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382240109", "createdAt": "2020-02-20T20:28:40Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -10058,6 +9670,7 @@ private void processTrailerMovement(Entity tractor, List<Coords> trainPath) {\n                 } else if (tractor.isSuperHeavy()) {\n                     // If the tractor is superheavy, we can put two trailers in each hex\n                     // starting trailer 0 in the hex behind the tractor\n+                    // TODO : Windchild the update to trailerPositionOffset is never used?\n                     trailerPositionOffset = (Math.ceil((trailerPositionOffset /= 2.0)) + 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 4599}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEwOTY3", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362210967", "createdAt": "2020-02-20T20:29:11Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyOToxMVrOFsiGOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyOToxMVrOFsiGOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MDMxNQ==", "bodyText": "Same as above, why is this being updated if the update is never being used.", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382240315", "createdAt": "2020-02-20T20:29:11Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -10069,6 +9682,7 @@ private void processTrailerMovement(Entity tractor, List<Coords> trainPath) {\n                     // Otherwise, we can put two trailers in each hex\n                     // starting trailer 1 in the hex behind the tractor\n                     trailerPositionOffset ++;\n+                    // TODO : Windchild the update to trailerPositionOffset is never used?\n                     trailerPositionOffset = Math.ceil((trailerPositionOffset /= 2.0));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 4607}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjExMjcz", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362211273", "createdAt": "2020-02-20T20:29:42Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyOTo0M1rOFsiHQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDoyOTo0M1rOFsiHQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MDU3OA==", "bodyText": "Can this commented out method be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382240578", "createdAt": "2020-02-20T20:29:43Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -12125,6 +11660,7 @@ private boolean checkVibrabombs(Entity entity, Coords coords,\n      * @param coords\n      *            The <code>Coords</code> from which to remove minefields\n      */\n+    // TODO : Windchild Can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 5554}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjExNTU1", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362211555", "createdAt": "2020-02-20T20:30:14Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMDoxNFrOFsiIJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMDoxNFrOFsiIJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MDgwNw==", "bodyText": "can this commented out code be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382240807", "createdAt": "2020-02-20T20:30:14Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -15888,13 +15303,9 @@ private void removeDuplicateAttacks(int entityId) {\n         if (null != en) {\n             allowed = en.getAllowedPhysicalAttacks();\n         }\n-        Vector<EntityAction> toKeep = new Vector<EntityAction>(/*\n-                                                                * game.actionsSize\n-                                                                * ()\n-                                                                */);\n+        Vector<EntityAction> toKeep = new Vector<>(/*game.actionsSize()*/); //TODO : Windchild Can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 6937}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjExOTQz", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362211943", "createdAt": "2020-02-20T20:30:53Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMDo1NFrOFsiJZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMDo1NFrOFsiJZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MTEyNQ==", "bodyText": "My IDE suggests this is a bug, as it is always false. Is it supposed to be ||, not &&?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382241125", "createdAt": "2020-02-20T20:30:54Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -17783,11 +17118,11 @@ private void resolveClubAttack(PhysicalResult pr, int lastEntityId) {\n             }\n         }\n \n-        if (((MiscType) caa.getClub().getType())\n-                    .hasSubType(MiscType.S_WRECKING_BALL)\n-            && (ae instanceof SupportTank) && (te instanceof Mech)) {\n+        if (caa.getClub().getType().hasSubType(MiscType.S_WRECKING_BALL)\n+                && (ae instanceof SupportTank) && (te instanceof Mech)) {\n             // forces a PSR like a charge\n             if (ae instanceof LandAirMech && ae.isAirborneVTOLorWIGE()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 7732}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEyODY4", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362212868", "createdAt": "2020-02-20T20:32:27Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMjoyN1rOFsiMDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMjoyN1rOFsiMDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MTgwNA==", "bodyText": "I'm pretty sure this should be fixed, as it is integer division in floating point context. (can't remember why I wrote it as a comment, probably because it is a variable option)", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382241804", "createdAt": "2020-02-20T20:32:27Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -23913,6 +23053,8 @@ private void resolveShutdownCrashes() {\n                             / game.getOptions().intOption(\n                                     OptionsConstants.ADVCOMBAT_VEHICLES_THRESHOLD_DIVISOR));\n \n+                    // TODO : Windchild fix integer division in floating point context", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 10422}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEzMDgz", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362213083", "createdAt": "2020-02-20T20:32:51Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMjo1MlrOFsiMrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMjo1MlrOFsiMrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MTk2NA==", "bodyText": "The above is never used, so can it be removed or is it a bug?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382241964", "createdAt": "2020-02-20T20:32:52Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -24823,6 +23938,7 @@ private void resolveShutdownCrashes() {\n                 impactArmor = (te instanceof Mech)\n                         && (te.getArmorType(hit.getLocation()) == EquipmentType.T_ARMOR_IMPACT_RESISTANT);\n                 bar5 = te.getBARRating(hit.getLocation()) <= 5;\n+                // TODO : Windchild the above is never used?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 10687}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEzNzMy", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362213732", "createdAt": "2020-02-20T20:33:58Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMzo1OVrOFsiOtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozMzo1OVrOFsiOtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MjQ4NA==", "bodyText": "Can this be simplified? - en instance of QuadMech is always false, as is  en instanceof BipedMech according to my IDE", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382242484", "createdAt": "2020-02-20T20:33:59Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -25064,11 +24169,12 @@ private int damageExternalPassenger(Entity te, HitData hit, int damage,\n      * @return <code>true</code> if the unit's engine exploded,\n      * <code>false</code> if not.\n      */\n-    private boolean checkEngineExplosion(Entity en, Vector<Report> vDesc,\n-            int hits) {\n-        if(!(en instanceof Mech) && !(en instanceof QuadMech)\n-            && !(en instanceof BipedMech) && !(en instanceof Aero)\n-            && !(en instanceof Tank)) {\n+    private boolean checkEngineExplosion(Entity en, Vector<Report> vDesc, int hits) {\n+        // TODO : Windchild can I be simplified? - en instance of QuadMech is always false, as is\n+        // TODO : en instanceof BipedMech according to my IDE\n+        if (!(en instanceof Mech) && !(en instanceof QuadMech)\n+                && !(en instanceof BipedMech) && !(en instanceof Aero)\n+                && !(en instanceof Tank)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 10822}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjEzOTU0", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362213954", "createdAt": "2020-02-20T20:34:20Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNDoyMFrOFsiPUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNDoyMFrOFsiPUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MjY0Mg==", "bodyText": "Can this be removed? It is never called", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382242642", "createdAt": "2020-02-20T20:34:20Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -27786,49 +26771,46 @@ private void applyCargoCritical(Aero aero, int damageCaused, Vector<Report> repo\n      * Rolls and resolves critical hits with a die roll modifier.\n      */\n \n-    public Vector<Report> criticalEntity(Entity en, int loc, boolean isRear,\n-                                         int critMod, int damage) {\n+    public Vector<Report> criticalEntity(Entity en, int loc, boolean isRear, int critMod, int damage) {\n         return criticalEntity(en, loc, isRear, critMod, true, false, damage);\n     }\n \n     /**\n      * Rolls and resolves critical hits with a die roll modifier.\n      */\n \n-    public Vector<Report> criticalEntity(Entity en, int loc, boolean isRear,\n-                                         int critMod, int damage, boolean damagedByFire) {\n+    public Vector<Report> criticalEntity(Entity en, int loc, boolean isRear, int critMod, int damage,\n+                                         boolean damagedByFire) {\n         return criticalEntity(en, loc, isRear, critMod, true, false, damage, damagedByFire);\n     }\n \n     /**\n      * Rolls one critical hit\n      */\n-    public Vector<Report> oneCriticalEntity(Entity en, int loc,\n-                                             boolean isRear, int damage) {\n+    public Vector<Report> oneCriticalEntity(Entity en, int loc, boolean isRear, int damage) {\n         return criticalEntity(en, loc, isRear, 0, false, false, damage);\n     }\n \n     /**\n      * Rolls one critical hit\n      */\n-    public Vector<Report> oneCriticalEntity(Entity en, int loc,\n-                                             boolean isRear, int damage, boolean damagedByFire) {\n+    // TODO : Windchild can this be removed? - never called\n+    public Vector<Report> oneCriticalEntity(Entity en, int loc, boolean isRear, int damage,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 12295}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE0NzI2", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362214726", "createdAt": "2020-02-20T20:35:42Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTo0M1rOFsiRng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTo0M1rOFsiRng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MzIzMA==", "bodyText": "We were doing some math then overwriting it. Should be the math.max, or the SmokeCloud.SMOKE_HEAVY?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382243230", "createdAt": "2020-02-20T20:35:43Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -30588,35 +29482,26 @@ public void addSmoke(ArrayList<Coords> coords, int windDir, boolean bInferno) {\n             // Have to check if it's inferno smoke or from a heavy/hardened\n             // building\n             // - heavy smoke from those\n-            if (bInferno\n-                || (Building.MEDIUM < smokeHex\n-                    .terrainLevel(Terrains.FUEL_TANK))\n-                || (Building.MEDIUM < smokeHex\n-                    .terrainLevel(Terrains.BUILDING))) {\n-                if (smokeHex.terrainLevel(Terrains.SMOKE)\n-                    == SmokeCloud.SMOKE_HEAVY) {\n+            if (bInferno || (Building.MEDIUM < smokeHex.terrainLevel(Terrains.FUEL_TANK))\n+                    || (Building.MEDIUM < smokeHex.terrainLevel(Terrains.BUILDING))) {\n+                if (smokeHex.terrainLevel(Terrains.SMOKE) == SmokeCloud.SMOKE_HEAVY) {\n                     // heavy smoke fills hex\n                     r = new Report(5180, Report.PUBLIC);\n-                    r.add(smokeCoords.getBoardNum());\n-                    addReport(r);\n                     smokeLevel = SmokeCloud.SMOKE_HEAVY;\n                 } else {\n-                    smokeLevel = Math.max(smokeLevel, SmokeCloud.SMOKE_HEAVY);\n                     r = new Report(5185, Report.PUBLIC);\n-                    r.add(smokeCoords.getBoardNum());\n-                    addReport(r);\n-                    smokeLevel = SmokeCloud.SMOKE_HEAVY;\n+                    smokeLevel = Math.max(smokeLevel, SmokeCloud.SMOKE_HEAVY); // TODO : Windchild verify this change is correct", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 13590}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE0ODYx", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362214861", "createdAt": "2020-02-20T20:35:57Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTo1N1rOFsiSAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNTo1N1rOFsiSAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MzMzMA==", "bodyText": "Can this be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382243330", "createdAt": "2020-02-20T20:35:57Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -33107,16 +31912,15 @@ public void run() {\n         final String METHOD_NAME = \"run()\";\n         Thread currentThread = Thread.currentThread();\n         getLogger().info(getClass(), METHOD_NAME, \"s: listening for clients...\");\n-        // HashSet<IConnection> toUpdate = new HashSet<IConnection>();\n+        // HashSet<IConnection> toUpdate = new HashSet<IConnection>(); // TODO : Windchild Can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 15099}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE1MDcz", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362215073", "createdAt": "2020-02-20T20:36:19Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNjoxOVrOFsiSpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNjoxOVrOFsiSpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0MzQ5NQ==", "bodyText": "There's a bunch of commented out code below, can that be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382243495", "createdAt": "2020-02-20T20:36:19Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -33129,11 +31933,11 @@ public void run() {\n                     ConnectionWatchdog w = new ConnectionWatchdog(this, id);\n                     watchdogTimer.schedule(w, 1000, 500);\n                 }\n-            } catch (InterruptedIOException iioe) {\n+            } catch (InterruptedIOException ignored) {\n                 // ignore , just SOTimeout blowing..\n-            } catch (IOException ex) {\n+            } catch (IOException ignored) { }\n \n-            }\n+            // TODO : Windchild Can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 15124}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE1NzM2", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362215736", "createdAt": "2020-02-20T20:37:23Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNzoyM1rOFsiUkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozNzoyM1rOFsiUkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0Mzk4Nw==", "bodyText": "This is never used, so can it be removed or is it a bug?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382243987", "createdAt": "2020-02-20T20:37:23Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -33527,7 +32315,8 @@ private boolean checkBuildingCollapseWhileMoving(Building bldg,\n         int toInf = Math.round(damage * percent);\n \n         // some buildings scale remaining damage\n-        // TODO: this isn't quite right for castles brian\n+        // TODO : this isn't quite right for castles brian\n+        // TODO : Windchild this is never used?\n         damage = (int) Math.floor(bldg.getDamageToScale() * toInf);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 15328}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE2MDc0", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362216074", "createdAt": "2020-02-20T20:38:04Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozODowNFrOFsiVpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozODowNFrOFsiVpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NDI2Mw==", "bodyText": "This is always false according to my IDE, is that meant to have happened or is it a bug?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382244263", "createdAt": "2020-02-20T20:38:04Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -33592,12 +32377,11 @@ private boolean checkBuildingCollapseWhileMoving(Building bldg,\n         } // Handle the next entity\n \n         // If we found any infantry, add a line to the phase report.\n-        if (foundInfantry) {\n+        if (foundInfantry) { // TODO : Windchild this is always false?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 15369}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE2NTEy", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362216512", "createdAt": "2020-02-20T20:38:52Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozODo1MlrOFsiXDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozODo1MlrOFsiXDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NDYyMQ==", "bodyText": "The recheck loop here all register as unused by my IDE. Is that a bug or just old code?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382244621", "createdAt": "2020-02-20T20:38:52Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -33784,6 +32561,8 @@ public boolean checkForCollapse(Building bldg,\n                 recheckLoop = false;\n                 // recheck if the basement collapsed since the basement falls\n                 // might trigger a greater collapse.\n+\n+                // TODO : Windchild the recheck loop in this region all register as issues on my IDE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 15450}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjE2Nzg3", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-362216787", "createdAt": "2020-02-20T20:39:19Z", "commit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDozOToyMFrOFsiX6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMDo0MDozNlrOFsiaBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NDg0MA==", "bodyText": "Do we still need this method given it has zero usages?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382244840", "createdAt": "2020-02-20T20:39:20Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -37272,35 +35915,35 @@ private void handleAttacks(boolean pointblankShot) {\n     }\n \n     /**\n-     * @return\n+     * @return the current server instance\n      */\n     public static Server getServerInstance() {\n         return serverInstance;\n     }\n \n     /**\n-     * create a <code>SmokeCloud object and add it to the server list</code>\n+     * create a <code>SmokeCloud</code> object and add it to the server list\n      *\n-     * @param coords\n+     * @param coords the location to create the cloud\n      */\n-    public void createSmoke(Coords coords) {\n+    public void createSmoke(Coords coords) { // TODO : Windchild is this needed? No usages", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 17122}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NTAzNg==", "bodyText": "Is this needed? No usages", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382245036", "createdAt": "2020-02-20T20:39:49Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -37272,35 +35915,35 @@ private void handleAttacks(boolean pointblankShot) {\n     }\n \n     /**\n-     * @return\n+     * @return the current server instance\n      */\n     public static Server getServerInstance() {\n         return serverInstance;\n     }\n \n     /**\n-     * create a <code>SmokeCloud object and add it to the server list</code>\n+     * create a <code>SmokeCloud</code> object and add it to the server list\n      *\n-     * @param coords\n+     * @param coords the location to create the cloud\n      */\n-    public void createSmoke(Coords coords) {\n+    public void createSmoke(Coords coords) { // TODO : Windchild is this needed? No usages\n         createSmoke(coords, 1, 0);\n     }\n \n     /**\n-     * create a <code>SmokeCloud object and add it to the server list</code>\n+     * create a <code>SmokeCloud</code> object and add it to the server list\n      *\n-     * @param coords\n-     * @param level  1=Light 2=Heavy Smoke\n+     * @param coords the location to create the smoke\n+     * @param level  1=Light 2=Heavy Smoke 3:light LI smoke 4: Heavy LI smoke\n      */\n-    public void createSmoke(Coords coords, int level) {\n+    public void createSmoke(Coords coords, int level) { // TODO : Windchild is this needed? No usages", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 17136}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NTI2MQ==", "bodyText": "This does nothing, can it just be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382245261", "createdAt": "2020-02-20T20:40:20Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -37490,20 +36129,22 @@ private void registerWithServerBrowser(boolean register, String urlString) {\n                     }\n                 }\n             } else {\n+                // TODO : Windchild Can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 17277}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI0NTM4MQ==", "bodyText": "This is never called, can it be removed?", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382245381", "createdAt": "2020-02-20T20:40:36Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -37490,20 +36129,22 @@ private void registerWithServerBrowser(boolean register, String urlString) {\n                     }\n                 }\n             } else {\n+                // TODO : Windchild Can this be removed?\n                 while ((line = rd.readLine()) != null) {\n                     // System.out.println(line);\n                 }\n             }\n             rd.close();\n             printout.close();\n-        } catch (Exception e) {\n+        } catch (Exception ignored) {\n         }\n     }\n \n     public Set<Coords> getHexUpdateSet() {\n         return hexUpdateSet;\n     }\n \n+    // TODO : Windchild can this be removed?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4048c0570905aea689dac0cb465c38cc19114f60"}, "originalPosition": 17293}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff02f2b48887cea8774a870cbd9dde946a283959", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/ff02f2b48887cea8774a870cbd9dde946a283959", "committedDate": "2020-02-20T21:27:57Z", "message": "Fixing a few LGTM alerts in server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "526691eaf4e44024b86910d269782268c12184f6", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/526691eaf4e44024b86910d269782268c12184f6", "committedDate": "2020-02-22T20:22:38Z", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_Server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "082fd911f1fef357c26905c4483a3ce54368ef88", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/082fd911f1fef357c26905c4483a3ce54368ef88", "committedDate": "2020-02-22T21:03:24Z", "message": "1702: Applying review changes, part 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffd2c8fb2aefd2e30eb263637f2241944165fc23", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/ffd2c8fb2aefd2e30eb263637f2241944165fc23", "committedDate": "2020-02-22T21:16:42Z", "message": "1702: Changes from review, part 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "340343bfe97b352d2aff57f3575a6096de55f60e", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/340343bfe97b352d2aff57f3575a6096de55f60e", "committedDate": "2020-02-22T22:38:26Z", "message": "Fixing spacing in server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f5fab3407aadc4ff2ea04383215acb9292070bd", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/9f5fab3407aadc4ff2ea04383215acb9292070bd", "committedDate": "2020-02-23T04:36:19Z", "message": "1702: Applying review changes, part 3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDY1NTky", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-363065592", "createdAt": "2020-02-23T04:52:03Z", "commit": {"oid": "9f5fab3407aadc4ff2ea04383215acb9292070bd"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwNDo1MjowNFrOFtORUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwNTowMjo1MVrOFtOTJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk2NDA1MA==", "bodyText": "You can declare multiple resources in a try-with-resources block. Using a typical try/catch block means they don't get closed if an exception is thrown.", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382964050", "createdAt": "2020-02-23T04:52:04Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -1379,22 +1350,22 @@ public boolean loadGame(File f) {\n      *            Determines whether the connections should be updated with\n      *            current info. This may be false if some reconnection remapping\n      *            needs to be done first.\n-     * @return A <code>boolean</code> value wether or not the loading was\n-     *         successfull\n+     * @return A <code>boolean</code> value whether or not the loading was successful\n      */\n     public boolean loadGame(File f, boolean sendInfo) {\n         final String METHOD_NAME = \"loadGame(File,boolean)\";\n         getLogger().info(getClass(), METHOD_NAME, \"s: loading saved game file '\" + f + \"'\"); //$NON-NLS-1$\n \n         IGame newGame;\n-        try(InputStream is = new GZIPInputStream(new FileInputStream(f))) {\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f5fab3407aadc4ff2ea04383215acb9292070bd"}, "originalPosition": 445}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk2NDMxOA==", "bodyText": "Adding 0.5 to a floating point number then coercing it to an int rounds it. If you're going to use Math.round, don't add the 0.5 because that's the equivalent of Math.ceil instead.", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382964318", "createdAt": "2020-02-23T04:58:23Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -3885,32 +3766,31 @@ public boolean accept(Entity entity) {\n                 // If there's only one team moving, we don't need to bother\n                 // with the evenTracker, just make sure the even turns are\n                 // evenly distributed\n-                numEven += (teamEvenTurns / min) + 0.5;\n+                numEven += (int) Math.round((teamEvenTurns / min) + 0.5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f5fab3407aadc4ff2ea04383215acb9292070bd"}, "originalPosition": 1587}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk2NDUxOA==", "bodyText": "I double checked the rules on this. Acid damage to conventional infantry is rounded up.", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r382964518", "createdAt": "2020-02-23T05:02:51Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -23396,14 +22468,14 @@ private void resolveShutdownCrashes() {\n                     if (te.getArmor(hit) <= 0) {\n                         break; // hitting IS, not acid-affected armor\n                     }\n-                    damage = te.getArmor(hit) >= 3 ? 3 : te.getArmor(hit);\n+                    damage = Math.min(te.getArmor(hit), 3);\n                     r = new Report(6061);\n                     r.subject = te_n;\n                     r.indent(2);\n                     r.add(damage);\n                     vDesc.addElement(r);\n                 } else if (isPlatoon) {\n-                    damage *= 1.5;\n+                    damage = (int) Math.round(damage * 1.5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f5fab3407aadc4ff2ea04383215acb9292070bd"}, "originalPosition": 10410}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1cd39f0834335ed55a67b3e483a6e1dffcd3f58", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/c1cd39f0834335ed55a67b3e483a6e1dffcd3f58", "committedDate": "2020-02-23T14:37:20Z", "message": "1702: Applying review changes, part 4"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "500f2fb9abe71c2fd2198da493b0a699bfcab9b2", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/500f2fb9abe71c2fd2198da493b0a699bfcab9b2", "committedDate": "2020-02-23T15:12:04Z", "message": "1702: Changes from review, part 5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTk4NjA3", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-363598607", "createdAt": "2020-02-24T18:18:54Z", "commit": {"oid": "c1cd39f0834335ed55a67b3e483a6e1dffcd3f58"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxODoxODo1NVrOFtq0hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxODoxODo1NVrOFtq0hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQzMTgxNQ==", "bodyText": "What I was trying to say is that what was originally here (teamEvenTurns / min + 0.5) is the equivalent of (int) Math.round(teamEvenTurns / min). Changing it to (int) Math.round((teamEvenTurns / min) + 0.5) is the equivalent of (int) Math.ceil(teamEvenTurns / min), which changes the logic. Unless the original logic is wrong, this should be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            numEven += (int) Math.ceil(teamEvenTurns / min);\n          \n          \n            \n                            numEven += (int) Math.round(teamEvenTurns / min);", "url": "https://github.com/MegaMek/megamek/pull/1702#discussion_r383431815", "createdAt": "2020-02-24T18:18:55Z", "author": {"login": "neoancient"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -3766,7 +3745,7 @@ public boolean accept(Entity entity) {\n                 // If there's only one team moving, we don't need to bother\n                 // with the evenTracker, just make sure the even turns are\n                 // evenly distributed\n-                numEven += (int) Math.round((teamEvenTurns / min) + 0.5);\n+                numEven += (int) Math.ceil(teamEvenTurns / min);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1cd39f0834335ed55a67b3e483a6e1dffcd3f58"}, "originalPosition": 95}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48fce1a95d3de51346bb70e4c90b32417ee720b8", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/48fce1a95d3de51346bb70e4c90b32417ee720b8", "committedDate": "2020-02-24T18:46:59Z", "message": "1702: Changes from Review, part 6"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNjcyNTAy", "url": "https://github.com/MegaMek/megamek/pull/1702#pullrequestreview-363672502", "createdAt": "2020-02-24T20:17:44Z", "commit": {"oid": "48fce1a95d3de51346bb70e4c90b32417ee720b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4561, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}