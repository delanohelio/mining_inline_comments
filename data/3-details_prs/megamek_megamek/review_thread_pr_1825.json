{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwMzg4MDcy", "number": 1825, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTozNToxMFrODvthJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0NTozNFrODvtuNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU1NDI4OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/PlanetaryConditions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTozNToxMFrOGCTCuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzowOTowMFrOGCZWpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2MjMyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (targetIlluminated && lightConditions > L_DAY) {\n          \n          \n            \n                    if (targetIlluminated && (lightConditions > L_DAY)) {", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405062329", "createdAt": "2020-04-07T19:35:10Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -650,9 +650,19 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n             isAero = (en.isAero()) && !isLargeCraft;\n         }\n         //anything else is infantry\n-\n-        if ((lightConditions == L_PITCH_BLACK) && !Spotlight\n-                && !targetIlluminated) {\n+        \n+        //New rulings per v3.02 errata. Spotlights are easier, yay!\n+        //Illuminated?  Flat 45 hex distance\n+        if (targetIlluminated && lightConditions > L_DAY) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NTczNA==", "bodyText": "Fixed", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405165734", "createdAt": "2020-04-07T23:09:00Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -650,9 +650,19 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n             isAero = (en.isAero()) && !isLargeCraft;\n         }\n         //anything else is infantry\n-\n-        if ((lightConditions == L_PITCH_BLACK) && !Spotlight\n-                && !targetIlluminated) {\n+        \n+        //New rulings per v3.02 errata. Spotlights are easier, yay!\n+        //Illuminated?  Flat 45 hex distance\n+        if (targetIlluminated && lightConditions > L_DAY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2MjMyOQ=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU1NjcwOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/PlanetaryConditions.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTozNjowM1rOGCTEaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzoxMDowM1rOGCZX3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Mjc2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } else if (Spotlight && !targetIlluminated && lightConditions > L_DAY) {\n          \n          \n            \n                    } else if (Spotlight && (lightConditions > L_DAY)) {", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405062763", "createdAt": "2020-04-07T19:36:03Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -650,9 +650,19 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n             isAero = (en.isAero()) && !isLargeCraft;\n         }\n         //anything else is infantry\n-\n-        if ((lightConditions == L_PITCH_BLACK) && !Spotlight\n-                && !targetIlluminated) {\n+        \n+        //New rulings per v3.02 errata. Spotlights are easier, yay!\n+        //Illuminated?  Flat 45 hex distance\n+        if (targetIlluminated && lightConditions > L_DAY) {\n+            return 45;\n+        } else if (Spotlight && !targetIlluminated && lightConditions > L_DAY) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2MzM4Ng==", "bodyText": "!targetIlluminated is always true because of the previous check", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405063386", "createdAt": "2020-04-07T19:37:20Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -650,9 +650,19 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n             isAero = (en.isAero()) && !isLargeCraft;\n         }\n         //anything else is infantry\n-\n-        if ((lightConditions == L_PITCH_BLACK) && !Spotlight\n-                && !targetIlluminated) {\n+        \n+        //New rulings per v3.02 errata. Spotlights are easier, yay!\n+        //Illuminated?  Flat 45 hex distance\n+        if (targetIlluminated && lightConditions > L_DAY) {\n+            return 45;\n+        } else if (Spotlight && !targetIlluminated && lightConditions > L_DAY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Mjc2Mw=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NjA0NA==", "bodyText": "Point. I was thinking to catch the edge case where lighting IS day, but it didn't do that either.", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405166044", "createdAt": "2020-04-07T23:10:03Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -650,9 +650,19 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n             isAero = (en.isAero()) && !isLargeCraft;\n         }\n         //anything else is infantry\n-\n-        if ((lightConditions == L_PITCH_BLACK) && !Spotlight\n-                && !targetIlluminated) {\n+        \n+        //New rulings per v3.02 errata. Spotlights are easier, yay!\n+        //Illuminated?  Flat 45 hex distance\n+        if (targetIlluminated && lightConditions > L_DAY) {\n+            return 45;\n+        } else if (Spotlight && !targetIlluminated && lightConditions > L_DAY) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Mjc2Mw=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU4MTM0OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/PlanetaryConditions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0MzozNlrOGCTT-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzowNDo1OVrOGCZReA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Njc0Ng==", "bodyText": "Why the wind strength check?", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405066746", "createdAt": "2020-04-07T19:43:36Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NDQwOA==", "bodyText": "You have to have both to create the blowing sand condition.", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405164408", "createdAt": "2020-04-07T23:04:59Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Njc0Ng=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU4MjQxOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/PlanetaryConditions.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0Mzo1M1rOGCTUpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxNTowMDoyNlrOGCzXHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NjkxNg==", "bodyText": "why the wind strength check?", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405066916", "createdAt": "2020-04-07T19:43:53Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))\n+                || (lightConditions == L_FULL_MOON)\n+                || (weatherConditions == WE_GUSTING_RAIN)\n+                || (weatherConditions == WE_BLIZZARD)\n+                || ((weatherConditions == WE_HEAVY_SNOW) && (windStrength >= WI_STRONG_GALE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NDU3MA==", "bodyText": "it creates the blowing snow condition", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405164570", "createdAt": "2020-04-07T23:05:27Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))\n+                || (lightConditions == L_FULL_MOON)\n+                || (weatherConditions == WE_GUSTING_RAIN)\n+                || (weatherConditions == WE_BLIZZARD)\n+                || ((weatherConditions == WE_HEAVY_SNOW) && (windStrength >= WI_STRONG_GALE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NjkxNg=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NzQyMg==", "bodyText": "Isn't it not required because of the (weatherConditions == WE_HEAVY_SNOW) check above?", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405167422", "createdAt": "2020-04-07T23:13:51Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))\n+                || (lightConditions == L_FULL_MOON)\n+                || (weatherConditions == WE_GUSTING_RAIN)\n+                || (weatherConditions == WE_BLIZZARD)\n+                || ((weatherConditions == WE_HEAVY_SNOW) && (windStrength >= WI_STRONG_GALE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NjkxNg=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTU5MTgzOA==", "bodyText": "So it is. Fixed.", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405591838", "createdAt": "2020-04-08T15:00:26Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -683,14 +691,16 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 8;\n             }\n             return 2;\n-        } else if ((weatherConditions == WE_HEAVY_SNOW)\n-                || (weatherConditions == WE_HEAVY_RAIN)\n-                || (weatherConditions == WE_DOWNPOUR)\n+        } else if ((weatherConditions == WE_HEAVY_HAIL)\n                 || (weatherConditions == WE_SLEET)\n+                || (weatherConditions == WE_HEAVY_SNOW)\n+                || (blowingSand && (windStrength >= WI_MOD_GALE))\n+                || (lightConditions == L_FULL_MOON)\n+                || (weatherConditions == WE_GUSTING_RAIN)\n+                || (weatherConditions == WE_BLIZZARD)\n+                || ((weatherConditions == WE_HEAVY_SNOW) && (windStrength >= WI_STRONG_GALE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NjkxNg=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU4NzcyOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/PlanetaryConditions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0NTozNFrOGCTYJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMzowNTozMlrOGCZSMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NzgxMg==", "bodyText": "Why the wind strength check?", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405067812", "createdAt": "2020-04-07T19:45:34Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -704,22 +714,8 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 15;\n             }\n             return 5;\n-        } else if ((lightConditions == L_PITCH_BLACK) && !targetIlluminated) {\n-            if (isMechVee || (isAero && (en.getAltitude() < 2))) {\n-                return 13;\n-            }\n-            if (isAero && (en.getAltitude() > 9)) {\n-                return 0;\n-            }\n-            if (isAero) {\n-                return 15;\n-            }\n-            if (isLargeCraft) {\n-                return 14;\n-            }\n-            return 6;\n-        } else if (((lightConditions > L_DAY) && !Spotlight && !targetIlluminated)\n-                || (weatherConditions == WE_GUSTING_RAIN)\n+        } else if ((lightConditions == L_DUSK)\n+                || (weatherConditions == WE_HEAVY_RAIN)\n                 || (weatherConditions == WE_SNOW_FLURRIES)\n                 || (weatherConditions == WE_MOD_SNOW) && (windStrength >= WI_MOD_GALE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTE2NDU5NQ==", "bodyText": "it creates the blowing snow condition", "url": "https://github.com/MegaMek/megamek/pull/1825#discussion_r405164595", "createdAt": "2020-04-07T23:05:32Z", "author": {"login": "mkerensky"}, "path": "megamek/src/megamek/common/PlanetaryConditions.java", "diffHunk": "@@ -704,22 +714,8 @@ public int getVisualRange(Entity en, boolean targetIlluminated) {\n                 return 15;\n             }\n             return 5;\n-        } else if ((lightConditions == L_PITCH_BLACK) && !targetIlluminated) {\n-            if (isMechVee || (isAero && (en.getAltitude() < 2))) {\n-                return 13;\n-            }\n-            if (isAero && (en.getAltitude() > 9)) {\n-                return 0;\n-            }\n-            if (isAero) {\n-                return 15;\n-            }\n-            if (isLargeCraft) {\n-                return 14;\n-            }\n-            return 6;\n-        } else if (((lightConditions > L_DAY) && !Spotlight && !targetIlluminated)\n-                || (weatherConditions == WE_GUSTING_RAIN)\n+        } else if ((lightConditions == L_DUSK)\n+                || (weatherConditions == WE_HEAVY_RAIN)\n                 || (weatherConditions == WE_SNOW_FLURRIES)\n                 || (weatherConditions == WE_MOD_SNOW) && (windStrength >= WI_MOD_GALE)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NzgxMg=="}, "originalCommit": {"oid": "b2c8a10f9e64ebf12e4a42b40ee6e27da2a5fd32"}, "originalPosition": 82}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2900, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}