{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMTYzNjU0", "number": 2334, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNzo0NjoxNFrOEu1n8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMTozNDoxN1rOEvAXgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQ4NTI5OnYy", "diffSide": "RIGHT", "path": "megamek/mmconf/defaultKeyBinds.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNzo0NjoxNFrOHjeyvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNzo0NjoxNFrOHjeyvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2NjcxOQ==", "bodyText": "The spacing looks odd", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506966719", "createdAt": "2020-10-17T17:46:14Z", "author": {"login": "Windchild292"}, "path": "megamek/mmconf/defaultKeyBinds.xml", "diffHunk": "@@ -302,12 +302,19 @@\n         <modifier>2</modifier>\n         <isRepeatable>false</isRepeatable>\n     </KeyBind>\n-   \n+\n     <KeyBind>\n          <command>toggleKeyBindDisplay</command> <!-- Ctrl-K -->\n         <keyCode>75</keyCode>\n         <modifier>2</modifier>\n         <isRepeatable>false</isRepeatable>\n     </KeyBind>\n \n-</KeyBindings>\n+    <KeyBind>\n+         <command>toggleHexCoords</command> <!-- Ctrl-G -->\n+        <keyCode>71</keyCode>\n+        <modifier>2</modifier>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQ5NzU2OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzowN1rOHje4nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzowN1rOHje4nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODIyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    store.setDefault(FOV_DARKEN,true);\n          \n          \n            \n                    store.setDefault(FOV_DARKEN, true);", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506968223", "createdAt": "2020-10-17T18:03:07Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQ5NzYzOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzoxM1rOHje4pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzoxM1rOHje4pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODIzMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    store.setDefault(FOV_HIGHLIGHT,false);\n          \n          \n            \n                    store.setDefault(FOV_HIGHLIGHT, false);", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506968230", "createdAt": "2020-10-17T18:03:13Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQ5Nzk0OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzo0M1rOHje4zQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDo0Mzo0M1rOHkSTxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODI2OQ==", "bodyText": "I know this is old, but why is this saved as a string \"false\"? Any ideas?", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506968269", "createdAt": "2020-10-17T18:03:43Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);\n+        store.setDefault(FOV_DARKEN_ALPHA, 100);\n+        store.setDefault(FOV_STRIPES, 35);\n+        store.setDefault(FOV_GRAYSCALE, \"false\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3NjQzMg==", "bodyText": "Hmmmm no :)", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506976432", "createdAt": "2020-10-17T19:35:05Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);\n+        store.setDefault(FOV_DARKEN_ALPHA, 100);\n+        store.setDefault(FOV_STRIPES, 35);\n+        store.setDefault(FOV_GRAYSCALE, \"false\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODI2OQ=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxMDc1OQ==", "bodyText": "It's actually treated as a boolean everywhere else, so this is just wrong. I'll correct it.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507810759", "createdAt": "2020-10-19T14:43:43Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);\n+        store.setDefault(FOV_DARKEN_ALPHA, 100);\n+        store.setDefault(FOV_STRIPES, 35);\n+        store.setDefault(FOV_GRAYSCALE, \"false\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODI2OQ=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQ5ODE1OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODowMzo1OFrOHje45A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDo0NDo1OFrOHkSXeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODI5Mg==", "bodyText": "Why were these moved?", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506968292", "createdAt": "2020-10-17T18:03:58Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);\n+        store.setDefault(FOV_DARKEN_ALPHA, 100);\n+        store.setDefault(FOV_STRIPES, 35);\n+        store.setDefault(FOV_GRAYSCALE, \"false\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxMTcwNQ==", "bodyText": "I moved a few of the lines around to group them up better. May not have been terribly important for these specific lines, I don't remember.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507811705", "createdAt": "2020-10-19T14:44:58Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/GUIPreferences.java", "diffHunk": "@@ -312,14 +312,20 @@ protected GUIPreferences() {\n \n         store.setDefault(FOV_HIGHLIGHT_RINGS_RADII, \"5 10 15 20 25\");\n         store.setDefault(FOV_HIGHLIGHT_RINGS_COLORS_HSB, \"0.3 1.0 1.0 ; 0.45 1.0 1.0 ; 0.6 1.0 1.0 ; 0.75 1.0 1.0 ; 0.9 1.0 1.0 ; 1.05 1.0 1.0 \");\n-\n+        store.setDefault(FOV_HIGHLIGHT,false);\n+        store.setDefault(FOV_HIGHLIGHT_ALPHA, 40);\n+        store.setDefault(FOV_DARKEN,true);\n+        store.setDefault(FOV_DARKEN_ALPHA, 100);\n+        store.setDefault(FOV_STRIPES, 35);\n+        store.setDefault(FOV_GRAYSCALE, \"false\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODI5Mg=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTUwMzY5OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/boardview/BoardView1.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODoxMTowNVrOHje7aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDo0NTozM1rOHkSZVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODkzNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    if (shouldIgnoreKeyCommands()) {\n          \n          \n            \n                                        return false;\n          \n          \n            \n                                    } else {\n          \n          \n            \n                                        return true;\n          \n          \n            \n                                    }\n          \n          \n            \n                                    return !shouldIgnoreKeyCommands();", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506968937", "createdAt": "2020-10-17T18:11:05Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/boardview/BoardView1.java", "diffHunk": "@@ -1050,6 +1050,28 @@ public void performAction() {\n                         toggleKeybindsOverlay();\n                     }\n                 });\n+        \n+        // Register the action for TOGGLE_HEX_COORDS\n+        controller.registerCommandAction(KeyCommandBind.TOGGLE_HEX_COORDS.cmd,\n+                new CommandAction() {\n+\n+                    @Override\n+                    public boolean shouldPerformAction() {\n+                        if (shouldIgnoreKeyCommands()) {\n+                            return false;\n+                        } else {\n+                            return true;\n+                        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxMjE4Mw==", "bodyText": "Oh indeed :) Never noticed. I'll correct this for all the other binds too.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507812183", "createdAt": "2020-10-19T14:45:33Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/boardview/BoardView1.java", "diffHunk": "@@ -1050,6 +1050,28 @@ public void performAction() {\n                         toggleKeybindsOverlay();\n                     }\n                 });\n+        \n+        // Register the action for TOGGLE_HEX_COORDS\n+        controller.registerCommandAction(KeyCommandBind.TOGGLE_HEX_COORDS.cmd,\n+                new CommandAction() {\n+\n+                    @Override\n+                    public boolean shouldPerformAction() {\n+                        if (shouldIgnoreKeyCommands()) {\n+                            return false;\n+                        } else {\n+                            return true;\n+                        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2ODkzNw=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTUxMTY3OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxODoyMjozMVrOHje_RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QyMDoxNTowM1rOHjfl3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2OTkyNA==", "bodyText": "Before I continue I have to get clarification on this: Why are we saving values for a revert and not just having the update only occur when the dialog is saved?", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506969924", "createdAt": "2020-10-17T18:22:31Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -303,6 +301,27 @@ public void mouseDragged(MouseEvent e) {\n     \n     private static final Dimension LABEL_SPACER = new Dimension(5,0);\n     private static final Dimension DEPENDENT_INSET = new Dimension(25,0);\n+    \n+    // Save some values to restore them when the dialog is canceled\n+    private boolean savedFovHighlight;\n+    private boolean savedFovDarken;\n+    private boolean savedFovGrayscale;\n+    private boolean savedAOHexShadows;\n+    private boolean savedShadowMap;\n+    private boolean savedHexInclines;\n+    private boolean savedLevelhighlight;\n+    private boolean savedFloatingIso;\n+    private boolean savedMmSymbol;\n+    private boolean savedTeamColoring;\n+    private boolean savedUnitLabelBorder;\n+    private boolean savedShowDamageDecal;\n+    private boolean savedShowDamageLabel;\n+    private String savedFovHighlightRingsRadii;\n+    private String savedFovHighlightRingsColors;\n+    private int savedFovHighlightAlpha;\n+    private int savedFovDarkenAlpha;\n+    private int savedNumStripesSlider;\n+    HashMap<String, String> savedAdvancedOpt = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3NjI3OQ==", "bodyText": "Because these settings immediately show on the board or minimap so people can see the effect and to do this they must be saved to the GUIPrefs.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506976279", "createdAt": "2020-10-17T19:33:21Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -303,6 +301,27 @@ public void mouseDragged(MouseEvent e) {\n     \n     private static final Dimension LABEL_SPACER = new Dimension(5,0);\n     private static final Dimension DEPENDENT_INSET = new Dimension(25,0);\n+    \n+    // Save some values to restore them when the dialog is canceled\n+    private boolean savedFovHighlight;\n+    private boolean savedFovDarken;\n+    private boolean savedFovGrayscale;\n+    private boolean savedAOHexShadows;\n+    private boolean savedShadowMap;\n+    private boolean savedHexInclines;\n+    private boolean savedLevelhighlight;\n+    private boolean savedFloatingIso;\n+    private boolean savedMmSymbol;\n+    private boolean savedTeamColoring;\n+    private boolean savedUnitLabelBorder;\n+    private boolean savedShowDamageDecal;\n+    private boolean savedShowDamageLabel;\n+    private String savedFovHighlightRingsRadii;\n+    private String savedFovHighlightRingsColors;\n+    private int savedFovHighlightAlpha;\n+    private int savedFovDarkenAlpha;\n+    private int savedNumStripesSlider;\n+    HashMap<String, String> savedAdvancedOpt = new HashMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2OTkyNA=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3OTgwNg==", "bodyText": "That makes sense. I'll finish my review post-D&D", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r506979806", "createdAt": "2020-10-17T20:15:03Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -303,6 +301,27 @@ public void mouseDragged(MouseEvent e) {\n     \n     private static final Dimension LABEL_SPACER = new Dimension(5,0);\n     private static final Dimension DEPENDENT_INSET = new Dimension(25,0);\n+    \n+    // Save some values to restore them when the dialog is canceled\n+    private boolean savedFovHighlight;\n+    private boolean savedFovDarken;\n+    private boolean savedFovGrayscale;\n+    private boolean savedAOHexShadows;\n+    private boolean savedShadowMap;\n+    private boolean savedHexInclines;\n+    private boolean savedLevelhighlight;\n+    private boolean savedFloatingIso;\n+    private boolean savedMmSymbol;\n+    private boolean savedTeamColoring;\n+    private boolean savedUnitLabelBorder;\n+    private boolean savedShowDamageDecal;\n+    private boolean savedShowDamageLabel;\n+    private String savedFovHighlightRingsRadii;\n+    private String savedFovHighlightRingsColors;\n+    private int savedFovHighlightAlpha;\n+    private int savedFovDarkenAlpha;\n+    private int savedNumStripesSlider;\n+    HashMap<String, String> savedAdvancedOpt = new HashMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2OTkyNA=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzIzMDA2OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMToxNzozMFrOHjt7-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMjoxNzoxNFrOHlXuWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNDg0Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507214842", "createdAt": "2020-10-18T21:17:30Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -320,34 +339,13 @@ public CommonSettingsDialog(JFrame owner, ClientGUI cg) {\n      * @param owner - the <code>Frame</code> that owns this dialog.\n      */\n     public CommonSettingsDialog(JFrame owner) {\n-        // Initialize our superclass with a title.\n-        super(owner, Messages.getString(\"CommonSettingsDialog.title\")); //$NON-NLS-1$\n-\n-        panTabs = new JTabbedPane();\n-\n-        JPanel settingsPanel = getSettingsPanel();\n-        JScrollPane settingsPane = new JScrollPane(settingsPanel);\n-        panTabs.add(\"Main\", settingsPane);\n-\n-        JPanel tacticalOverlaySettingsPanel = getTacticalOverlaySettingsPanel();\n-        JScrollPane tacticalOverlaySettingsPane = new JScrollPane(tacticalOverlaySettingsPanel);\n-        panTabs.add(\"Graphics\", tacticalOverlaySettingsPane);\n-\n-        JPanel keyBindPanel = getKeyBindPanel();\n-        JScrollPane keyBindScrollPane = new JScrollPane(keyBindPanel);\n-        panTabs.add(\"Key Binds\", keyBindScrollPane);\n-\n-        JPanel buttonOrderPanel = getButtonOrderPanel();\n-        panTabs.add(\"Button Order\", buttonOrderPanel);\n-        \n-        JPanel advancedSettingsPanel = getAdvancedSettingsPanel();\n-        JScrollPane advancedSettingsPane = new JScrollPane(advancedSettingsPanel);\n-        panTabs.add(\"Advanced\", advancedSettingsPane);\n+        super(owner, Messages.getString(\"CommonSettingsDialog.title\"), true);\n \n+        JTabbedPane panTabs = new JTabbedPane();\n         setLayout(new BorderLayout());\n         getContentPane().add(panTabs, BorderLayout.CENTER);\n         getContentPane().add(getButtonsPanel(), BorderLayout.PAGE_END);\n-\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 145}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxNDY5Mw==", "bodyText": "Not sure what's wrong with this line. No tabs. A bit of breathing space for the code ;)", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507814693", "createdAt": "2020-10-19T14:48:39Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -320,34 +339,13 @@ public CommonSettingsDialog(JFrame owner, ClientGUI cg) {\n      * @param owner - the <code>Frame</code> that owns this dialog.\n      */\n     public CommonSettingsDialog(JFrame owner) {\n-        // Initialize our superclass with a title.\n-        super(owner, Messages.getString(\"CommonSettingsDialog.title\")); //$NON-NLS-1$\n-\n-        panTabs = new JTabbedPane();\n-\n-        JPanel settingsPanel = getSettingsPanel();\n-        JScrollPane settingsPane = new JScrollPane(settingsPanel);\n-        panTabs.add(\"Main\", settingsPane);\n-\n-        JPanel tacticalOverlaySettingsPanel = getTacticalOverlaySettingsPanel();\n-        JScrollPane tacticalOverlaySettingsPane = new JScrollPane(tacticalOverlaySettingsPanel);\n-        panTabs.add(\"Graphics\", tacticalOverlaySettingsPane);\n-\n-        JPanel keyBindPanel = getKeyBindPanel();\n-        JScrollPane keyBindScrollPane = new JScrollPane(keyBindPanel);\n-        panTabs.add(\"Key Binds\", keyBindScrollPane);\n-\n-        JPanel buttonOrderPanel = getButtonOrderPanel();\n-        panTabs.add(\"Button Order\", buttonOrderPanel);\n-        \n-        JPanel advancedSettingsPanel = getAdvancedSettingsPanel();\n-        JScrollPane advancedSettingsPane = new JScrollPane(advancedSettingsPanel);\n-        panTabs.add(\"Advanced\", advancedSettingsPane);\n+        super(owner, Messages.getString(\"CommonSettingsDialog.title\"), true);\n \n+        JTabbedPane panTabs = new JTabbedPane();\n         setLayout(new BorderLayout());\n         getContentPane().add(panTabs, BorderLayout.CENTER);\n         getContentPane().add(getButtonsPanel(), BorderLayout.PAGE_END);\n-\n+        ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNDg0Mg=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 145}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODk0ODA1OQ==", "bodyText": "This removes the extra spacing from it, which would be automatically removed in a further commit. Just dealing with future blankspace changes now.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r508948059", "createdAt": "2020-10-21T02:17:14Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -320,34 +339,13 @@ public CommonSettingsDialog(JFrame owner, ClientGUI cg) {\n      * @param owner - the <code>Frame</code> that owns this dialog.\n      */\n     public CommonSettingsDialog(JFrame owner) {\n-        // Initialize our superclass with a title.\n-        super(owner, Messages.getString(\"CommonSettingsDialog.title\")); //$NON-NLS-1$\n-\n-        panTabs = new JTabbedPane();\n-\n-        JPanel settingsPanel = getSettingsPanel();\n-        JScrollPane settingsPane = new JScrollPane(settingsPanel);\n-        panTabs.add(\"Main\", settingsPane);\n-\n-        JPanel tacticalOverlaySettingsPanel = getTacticalOverlaySettingsPanel();\n-        JScrollPane tacticalOverlaySettingsPane = new JScrollPane(tacticalOverlaySettingsPanel);\n-        panTabs.add(\"Graphics\", tacticalOverlaySettingsPane);\n-\n-        JPanel keyBindPanel = getKeyBindPanel();\n-        JScrollPane keyBindScrollPane = new JScrollPane(keyBindPanel);\n-        panTabs.add(\"Key Binds\", keyBindScrollPane);\n-\n-        JPanel buttonOrderPanel = getButtonOrderPanel();\n-        panTabs.add(\"Button Order\", buttonOrderPanel);\n-        \n-        JPanel advancedSettingsPanel = getAdvancedSettingsPanel();\n-        JScrollPane advancedSettingsPane = new JScrollPane(advancedSettingsPanel);\n-        panTabs.add(\"Advanced\", advancedSettingsPane);\n+        super(owner, Messages.getString(\"CommonSettingsDialog.title\"), true);\n \n+        JTabbedPane panTabs = new JTabbedPane();\n         setLayout(new BorderLayout());\n         getContentPane().add(panTabs, BorderLayout.CENTER);\n         getContentPane().add(getButtonsPanel(), BorderLayout.PAGE_END);\n-\n+        ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNDg0Mg=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 145}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzIzODM2OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMToyNTowOVrOHjt_1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMjoxNzowMlrOHlXuKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNTgyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507215829", "createdAt": "2020-10-18T21:25:09Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -605,7 +594,7 @@ private JPanel getSettingsPanel() {\n         row = new ArrayList<>();\n         row.add(getFocus);\n         comps.add(row);\n-\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 269}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxNTQzMQ==", "bodyText": "This empty line separates the option blocks. Not different from many before and after. Dont think this should be changed.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507815431", "createdAt": "2020-10-19T14:49:31Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -605,7 +594,7 @@ private JPanel getSettingsPanel() {\n         row = new ArrayList<>();\n         row.add(getFocus);\n         comps.add(row);\n-\n+        ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNTgyOQ=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 269}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODk0ODAwOQ==", "bodyText": "This removes the extra spacing from it, which would be automatically removed in a further commit. Just dealing with future blankspace changes now.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r508948009", "createdAt": "2020-10-21T02:17:02Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -605,7 +594,7 @@ private JPanel getSettingsPanel() {\n         row = new ArrayList<>();\n         row.add(getFocus);\n         comps.add(row);\n-\n+        ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNTgyOQ=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 269}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzI0MTczOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMToyOTozNlrOHjuBhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNjoyMzo1OFrOHkW7Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNjI2Mg==", "bodyText": "This is not a Java-style array.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507216262", "createdAt": "2020-10-18T21:29:36Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -1776,98 +1765,50 @@ private JPanel getButtonOrderPanel(){\n         JTabbedPane phasePane = new JTabbedPane();\n         buttonOrderPanel.add(phasePane);\n         \n-        StatusBarPhaseDisplay.PhaseCommand commands[];\n-        StatusBarPhaseDisplay.CommandComparator cmdComp = \n-                new StatusBarPhaseDisplay.CommandComparator(); \n-        PhaseCommandListMouseAdapter cmdMouseAdaptor = \n-                new PhaseCommandListMouseAdapter();\n-\n         // MovementPhaseDisplay        \n-        JPanel movementPanel = new JPanel();\n-        movePhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = MovementDisplay.MoveCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            movePhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> moveList = new JList<>(movePhaseCommands);\n-        moveList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        moveList.addMouseListener(cmdMouseAdaptor);\n-        moveList.addMouseMotionListener(cmdMouseAdaptor);\n-        movementPanel.add(moveList);\n-        JScrollPane movementScrollPane = new JScrollPane(movementPanel);\n-        phasePane.add(\"Movement\", movementScrollPane);\n+        movePhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Movement\", getButtonOrderPane(movePhaseCommands,\n+                MovementDisplay.MoveCommand.values()));\n         \n         // DeploymentPhaseDisplay\n-        JPanel deployPanel = new JPanel();\n-        deployPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = DeploymentDisplay.DeployCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            deployPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> deployList = new JList<>(deployPhaseCommands);\n-        deployList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        deployList.addMouseListener(cmdMouseAdaptor);\n-        deployList.addMouseMotionListener(cmdMouseAdaptor);\n-        deployPanel.add(deployList);\n-        JScrollPane deployScrollPane = new JScrollPane(deployPanel);\n-        phasePane.add(\"Deployment\", deployScrollPane);\n+        deployPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Deployment\", getButtonOrderPane(deployPhaseCommands,\n+                DeploymentDisplay.DeployCommand.values()));\n         \n         // FiringPhaseDisplay\n-        JPanel firingPanel = new JPanel();\n-        firingPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = FiringDisplay.FiringCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            firingPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> firingList = new JList<>(firingPhaseCommands);\n-        firingList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        firingList.addMouseListener(cmdMouseAdaptor);\n-        firingList.addMouseMotionListener(cmdMouseAdaptor);\n-        firingPanel.add(firingList);\n-        JScrollPane firingScrollPane = new JScrollPane(firingPanel);\n-        phasePane.add(\"Firing\", firingScrollPane);\n+        firingPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Firing\", getButtonOrderPane(firingPhaseCommands,\n+                FiringDisplay.FiringCommand.values()));\n         \n         // PhysicalPhaseDisplay\n-        JPanel physicalPanel = new JPanel();\n-        physicalPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = PhysicalDisplay.PhysicalCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            physicalPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> physicalList = new JList<>(physicalPhaseCommands);\n-        physicalList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        physicalList.addMouseListener(cmdMouseAdaptor);\n-        physicalList.addMouseMotionListener(cmdMouseAdaptor);\n-        physicalPanel.add(physicalList);\n-        JScrollPane physicalScrollPane = new JScrollPane(physicalPanel);\n-        phasePane.add(\"Physical\", physicalScrollPane);          \n+        physicalPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Physical\", getButtonOrderPane(physicalPhaseCommands,\n+                PhysicalDisplay.PhysicalCommand.values()));          \n         \n         // TargetingPhaseDisplay\n-        JPanel targetingPanel = new JPanel();\n-        targetingPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = TargetingPhaseDisplay.TargetingCommand.values();\n+        targetingPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Targeting\", getButtonOrderPane(targetingPhaseCommands,\n+                TargetingPhaseDisplay.TargetingCommand.values()));\n+        \n+        return buttonOrderPanel;\n+    }\n+\n+    /** Constructs the button ordering panel for one phase. */ \n+    private JScrollPane getButtonOrderPane(DefaultListModel<PhaseCommand> list, \n+            StatusBarPhaseDisplay.PhaseCommand commands[]) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 996}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg4NjMzOA==", "bodyText": "PhaseCommand[] commands", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507886338", "createdAt": "2020-10-19T16:23:58Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -1776,98 +1765,50 @@ private JPanel getButtonOrderPanel(){\n         JTabbedPane phasePane = new JTabbedPane();\n         buttonOrderPanel.add(phasePane);\n         \n-        StatusBarPhaseDisplay.PhaseCommand commands[];\n-        StatusBarPhaseDisplay.CommandComparator cmdComp = \n-                new StatusBarPhaseDisplay.CommandComparator(); \n-        PhaseCommandListMouseAdapter cmdMouseAdaptor = \n-                new PhaseCommandListMouseAdapter();\n-\n         // MovementPhaseDisplay        \n-        JPanel movementPanel = new JPanel();\n-        movePhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = MovementDisplay.MoveCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            movePhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> moveList = new JList<>(movePhaseCommands);\n-        moveList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        moveList.addMouseListener(cmdMouseAdaptor);\n-        moveList.addMouseMotionListener(cmdMouseAdaptor);\n-        movementPanel.add(moveList);\n-        JScrollPane movementScrollPane = new JScrollPane(movementPanel);\n-        phasePane.add(\"Movement\", movementScrollPane);\n+        movePhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Movement\", getButtonOrderPane(movePhaseCommands,\n+                MovementDisplay.MoveCommand.values()));\n         \n         // DeploymentPhaseDisplay\n-        JPanel deployPanel = new JPanel();\n-        deployPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = DeploymentDisplay.DeployCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            deployPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> deployList = new JList<>(deployPhaseCommands);\n-        deployList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        deployList.addMouseListener(cmdMouseAdaptor);\n-        deployList.addMouseMotionListener(cmdMouseAdaptor);\n-        deployPanel.add(deployList);\n-        JScrollPane deployScrollPane = new JScrollPane(deployPanel);\n-        phasePane.add(\"Deployment\", deployScrollPane);\n+        deployPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Deployment\", getButtonOrderPane(deployPhaseCommands,\n+                DeploymentDisplay.DeployCommand.values()));\n         \n         // FiringPhaseDisplay\n-        JPanel firingPanel = new JPanel();\n-        firingPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = FiringDisplay.FiringCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            firingPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> firingList = new JList<>(firingPhaseCommands);\n-        firingList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        firingList.addMouseListener(cmdMouseAdaptor);\n-        firingList.addMouseMotionListener(cmdMouseAdaptor);\n-        firingPanel.add(firingList);\n-        JScrollPane firingScrollPane = new JScrollPane(firingPanel);\n-        phasePane.add(\"Firing\", firingScrollPane);\n+        firingPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Firing\", getButtonOrderPane(firingPhaseCommands,\n+                FiringDisplay.FiringCommand.values()));\n         \n         // PhysicalPhaseDisplay\n-        JPanel physicalPanel = new JPanel();\n-        physicalPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = PhysicalDisplay.PhysicalCommand.values();\n-        Arrays.sort(commands, cmdComp);        \n-        for (StatusBarPhaseDisplay.PhaseCommand cmd : commands) {\n-            physicalPhaseCommands.addElement(cmd);\n-        }\n-        JList<StatusBarPhaseDisplay.PhaseCommand> physicalList = new JList<>(physicalPhaseCommands);\n-        physicalList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n-        physicalList.addMouseListener(cmdMouseAdaptor);\n-        physicalList.addMouseMotionListener(cmdMouseAdaptor);\n-        physicalPanel.add(physicalList);\n-        JScrollPane physicalScrollPane = new JScrollPane(physicalPanel);\n-        phasePane.add(\"Physical\", physicalScrollPane);          \n+        physicalPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Physical\", getButtonOrderPane(physicalPhaseCommands,\n+                PhysicalDisplay.PhysicalCommand.values()));          \n         \n         // TargetingPhaseDisplay\n-        JPanel targetingPanel = new JPanel();\n-        targetingPhaseCommands = \n-                new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n-        commands = TargetingPhaseDisplay.TargetingCommand.values();\n+        targetingPhaseCommands = new DefaultListModel<StatusBarPhaseDisplay.PhaseCommand>();\n+        phasePane.add(\"Targeting\", getButtonOrderPane(targetingPhaseCommands,\n+                TargetingPhaseDisplay.TargetingCommand.values()));\n+        \n+        return buttonOrderPanel;\n+    }\n+\n+    /** Constructs the button ordering panel for one phase. */ \n+    private JScrollPane getButtonOrderPane(DefaultListModel<PhaseCommand> list, \n+            StatusBarPhaseDisplay.PhaseCommand commands[]) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNjI2Mg=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 996}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzI0NTQ0OnYy", "diffSide": "LEFT", "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMTozNDoxN1rOHjuDVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNToxMjowM1rOHkTq2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNjcyNg==", "bodyText": "Just checking, but we don't need to do either of these to properly update the board with the newly changed state?", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507216726", "createdAt": "2020-10-18T21:34:17Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -1202,10 +1224,6 @@ public void itemStateChanged(ItemEvent event) {\n             stampFormatLabel.setEnabled(stampFilenames.isSelected());\n         } else if (source.equals(fovInsideEnabled)) {\n             guip.setFovHighlight(fovInsideEnabled.isSelected());\n-            if ((clientgui != null) && (clientgui.bv != null)) {\n-                clientgui.bv.clearHexImageCache();\n-                clientgui.bv.repaint();\n-            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 736}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgzMzA1MA==", "bodyText": "No, these lines are actually nonsense I may have put in myself a few years ago. The boardview does preferencechange-listening and can update when such an event is fired. It just needs the right checks for what pref has changed to update accordingly. It could even update without checking what has changed but I think that's bad form, as all hexes have to be redrawn etc.", "url": "https://github.com/MegaMek/megamek/pull/2334#discussion_r507833050", "createdAt": "2020-10-19T15:12:03Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/CommonSettingsDialog.java", "diffHunk": "@@ -1202,10 +1224,6 @@ public void itemStateChanged(ItemEvent event) {\n             stampFormatLabel.setEnabled(stampFilenames.isSelected());\n         } else if (source.equals(fovInsideEnabled)) {\n             guip.setFovHighlight(fovInsideEnabled.isSelected());\n-            if ((clientgui != null) && (clientgui.bv != null)) {\n-                clientgui.bv.clearHexImageCache();\n-                clientgui.bv.repaint();\n-            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxNjcyNg=="}, "originalCommit": {"oid": "9b62d4556b07e9894d23cb3b01d2ddb2b4da6dfb"}, "originalPosition": 736}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2576, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}