{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzODExMzMw", "number": 2046, "title": "no minimum range restriction for arty flak attacks vs ASF", "bodyText": "Two changes:\n\nper TacOps page 185, there is no \"minimum range\" for artillery flak attacks vs airborne aerospace units\nallow the bot to properly compute expected damage for direct-fire artillery attacks, so she can potentially use artillery in an AA role\n\nAddresses #2042", "createdAt": "2020-07-03T01:53:51Z", "url": "https://github.com/MegaMek/megamek/pull/2046", "merged": true, "mergeCommit": {"oid": "b46c6b3cf83650733534b5f59f62df264a964c79"}, "closed": true, "closedAt": "2020-07-11T05:03:06Z", "author": {"login": "NickAragua"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxJXZEAH2gAyNDQzODExMzMwOmExNzQwOGIxNWQyM2JlYjhkYWIzYTNmNTU1MzFmNDEzYzY3MDVhNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcznUdiAFqTQ0NjU4NDQwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51", "author": {"user": {"login": "NickAragua", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/a17408b15d23beb8dab3a3f55531f413c6705a51", "committedDate": "2020-07-03T01:43:04Z", "message": "no minimum range restriction for arty flak attacks vs ASF"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNTQxOTI5", "url": "https://github.com/MegaMek/megamek/pull/2046#pullrequestreview-442541929", "createdAt": "2020-07-03T19:25:22Z", "commit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxOToyNToyMlrOGs2x1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxNDo0NToxM1rOGs8U1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY4ODAyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if((weaponType.getDamage() == WeaponType.DAMAGE_BY_CLUSTERTABLE) ||\n          \n          \n            \n                    if ((weaponType.getDamage() == WeaponType.DAMAGE_BY_CLUSTERTABLE) ||", "url": "https://github.com/MegaMek/megamek/pull/2046#discussion_r449688021", "createdAt": "2020-07-03T19:25:22Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/bot/princess/WeaponFireInfo.java", "diffHunk": "@@ -405,6 +405,13 @@ private WeaponAttackAction buildBombAttackAction(final int[] bombPayload) {\n             return 7D;\n         }\n \n+        // artillery and cluster table use the rack size as the base damage amount\n+        // a little inaccurate, but better than ignoring those weapons entirely       \n+        if((weaponType.getDamage() == WeaponType.DAMAGE_BY_CLUSTERTABLE) ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc3ODkwMw==", "bodyText": "Should this check for Flak ammunition?\nAlso, I don't believe isAirborne handles landed VTOLs (which do seem to be a valid target based on my read of the rules in question). I'm not even going to ask about the other stuff expending VTOL MPs during a turn they are landed, for example, as that would also be a valid target based on my read of the rules.", "url": "https://github.com/MegaMek/megamek/pull/2046#discussion_r449778903", "createdAt": "2020-07-04T14:45:13Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/actions/WeaponAttackAction.java", "diffHunk": "@@ -1780,7 +1780,7 @@ private static String toHitIsImpossible(IGame game, Entity ae, int attackerId, T\n                     return Messages.getString(\"WeaponAttackAction.NoDirectCruiseMissile\");\n                 }\n                 // Direct fire artillery cannot be fired at less than 6 hexes\n-                if (isArtilleryDirect && (Compute.effectiveDistance(game, ae, target) <= 6)) {\n+                if (isArtilleryDirect && !target.isAirborne() && (Compute.effectiveDistance(game, ae, target) <= 6)) {\n                     return Messages.getString(\"WeaponAttackAction.TooShortForDirectArty\");\n                 }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTU5MjM0", "url": "https://github.com/MegaMek/megamek/pull/2046#pullrequestreview-446559234", "createdAt": "2020-07-10T17:03:47Z", "commit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NTg0NDA3", "url": "https://github.com/MegaMek/megamek/pull/2046#pullrequestreview-446584407", "createdAt": "2020-07-10T17:44:52Z", "commit": {"oid": "a17408b15d23beb8dab3a3f55531f413c6705a51"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4893, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}