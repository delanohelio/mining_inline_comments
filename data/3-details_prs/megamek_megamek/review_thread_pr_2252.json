{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNTE2MzUz", "number": 2252, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoxNTo0MlrOEnvqEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoyMjozNVrOEnvr6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTEwNzM3OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/Board.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoxNTo0MlrOHYgOdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxNDowMDoxNFrOHYgc0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NTg2Mw==", "bodyText": "Curious why you decided to append the ex instead of have it as MegaMek.getLogger().error(this, \"IO Error opening file to load board!\", ex);", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495455863", "createdAt": "2020-09-26T13:15:42Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -956,16 +951,10 @@ public void load(final String filename) {\n      */\n     @Override\n     public void load(final File filepath) {\n-        // load a board\n-        try {\n-            java.io.InputStream is = new FileInputStream(filepath);\n-            // tell the board to load!\n+        try (InputStream is = new FileInputStream(filepath)) {\n             load(is);\n-            // okay, done!\n-            is.close();\n-        } catch (java.io.IOException ex) {\n-            System.err.println(\"error opening file to load board!\");\n-            System.err.println(ex);\n+        } catch (IOException ex) {\n+            MegaMek.getLogger().error(this, \"IO Error opening file to load board! \" + ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1OTUzOQ==", "bodyText": "I just replicated what was done before without much thought. Didn't even notice that ex was the exception, not a message... I'll change it.", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495459539", "createdAt": "2020-09-26T14:00:14Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -956,16 +951,10 @@ public void load(final String filename) {\n      */\n     @Override\n     public void load(final File filepath) {\n-        // load a board\n-        try {\n-            java.io.InputStream is = new FileInputStream(filepath);\n-            // tell the board to load!\n+        try (InputStream is = new FileInputStream(filepath)) {\n             load(is);\n-            // okay, done!\n-            is.close();\n-        } catch (java.io.IOException ex) {\n-            System.err.println(\"error opening file to load board!\");\n-            System.err.println(ex);\n+        } catch (IOException ex) {\n+            MegaMek.getLogger().error(this, \"IO Error opening file to load board! \" + ex);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NTg2Mw=="}, "originalCommit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTExMjExOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/Board.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoyMjozNVrOHYgQsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoyMjozNVrOHYgQsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NjQzMg==", "bodyText": "Same error message twice in the same method without a way to tell them apart, which could cause issues in the future.", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495456432", "createdAt": "2020-09-26T13:22:35Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -1093,10 +1075,10 @@ public void load(InputStream is, StringBuffer errBuff, boolean continueLoadOnErr\n         if (isValid(nd, nw, nh, errBuff) && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n             newData(nw, nh, nd, errBuff);\n         } else if (continueLoadOnError && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");\n             newData(nw, nh, nd, errBuff);\n         } else if (errBuff == null){\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "originalPosition": 159}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2717, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}