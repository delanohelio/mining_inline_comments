{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMDQ1MTM5", "number": 2238, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjozMjoyNVrOEmzhUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjozMjoyNVrOEmzhUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MTI1NDU4OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjozMjoyNVrOHXDNNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNjozMToyMFrOHXjJrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkzMTgzMA==", "bodyText": "This should be moved into the try statement itself (try (...)) so if board.save throws, os will be cleaned up.", "url": "https://github.com/MegaMek/megamek/pull/2238#discussion_r493931830", "createdAt": "2020-09-23T22:32:25Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1622,47 +1554,69 @@ private void boardSaveImage(boolean ignoreUnits) {\n     }\n \n     /**\n-     * Opens a file dialog box to select a file to save as; saves the board to\n-     * the file.\n+     * Saves the board to a .board file. \n+     * When saveAs is true, acts as a Save As... by opening a file chooser dialog.\n+     * When saveAs is false, it will directly save to the current board file name,\n+     * if it is known and otherwise act as Save As... \n      */\n-    private boolean boardSaveAs() {\n-        // First, correct connection issues\n+    private boolean boardSave(boolean saveAs) {\n+        // Correct connection issues and do a validation.\n         correctExits();\n-        JFileChooser fc = new JFileChooser(\"data\" + File.separator + \"boards\");\n+        validateBoard(false); \n+        \n+        // Choose a board file to save to if this was\n+        // called as \"Save As...\" or there is no current filename\n+        if (curBoardFile == null || saveAs) {\n+            if (!chooseSaveBoardFile()) {\n+                return false;\n+            }\n+        }\n+        butSourceFile.setEnabled(true);\n+\n+        // write the board\n+        try {\n+            OutputStream os = new FileOutputStream(curBoardFile);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6b523a004989d4f9a105f9c00759a2a1428c428"}, "originalPosition": 290}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQ1NTIxNA==", "bodyText": "Done.", "url": "https://github.com/MegaMek/megamek/pull/2238#discussion_r494455214", "createdAt": "2020-09-24T16:31:20Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/BoardEditor.java", "diffHunk": "@@ -1622,47 +1554,69 @@ private void boardSaveImage(boolean ignoreUnits) {\n     }\n \n     /**\n-     * Opens a file dialog box to select a file to save as; saves the board to\n-     * the file.\n+     * Saves the board to a .board file. \n+     * When saveAs is true, acts as a Save As... by opening a file chooser dialog.\n+     * When saveAs is false, it will directly save to the current board file name,\n+     * if it is known and otherwise act as Save As... \n      */\n-    private boolean boardSaveAs() {\n-        // First, correct connection issues\n+    private boolean boardSave(boolean saveAs) {\n+        // Correct connection issues and do a validation.\n         correctExits();\n-        JFileChooser fc = new JFileChooser(\"data\" + File.separator + \"boards\");\n+        validateBoard(false); \n+        \n+        // Choose a board file to save to if this was\n+        // called as \"Save As...\" or there is no current filename\n+        if (curBoardFile == null || saveAs) {\n+            if (!chooseSaveBoardFile()) {\n+                return false;\n+            }\n+        }\n+        butSourceFile.setEnabled(true);\n+\n+        // write the board\n+        try {\n+            OutputStream os = new FileOutputStream(curBoardFile);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkzMTgzMA=="}, "originalCommit": {"oid": "e6b523a004989d4f9a105f9c00759a2a1428c428"}, "originalPosition": 290}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2709, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}