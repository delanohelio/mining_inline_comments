{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NjQyMjQ5", "number": 1711, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMjoxMjoyNlrODiHkFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMjoxMjoyNlrODiHkFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MTAyMTAwOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/common/Infantry.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QwMjoxMjoyNlrOFtN20w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxNTowOFrOFtSVJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1NzI2Nw==", "bodyText": "Why 5x for anti-mek trained? Previous code was 1x (unless this diff is odd).", "url": "https://github.com/MegaMek/megamek/pull/1711#discussion_r382957267", "createdAt": "2020-02-23T02:12:26Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/common/Infantry.java", "diffHunk": "@@ -1577,75 +1576,79 @@ else if(nSneak == 3) {\n         //Cost of armor on a per man basis added\n         cost += (armorcost * menStarting);\n \n+        // Price multiplier includes anti-mech training, motive type, and specializations\n+        cost = cost * getPriceMultiplier();\n+\n+        //add in field gun costs\n+        for (Mounted mounted : getEquipment()) {\n+            if(mounted.getLocation() == LOC_FIELD_GUNS) {\n+                cost += Math.floor(mounted.getType().getCost(this, false, mounted.getLocation()));\n+            }\n+        }\n+        return cost;\n+    }\n+\n+    @Override\n+    public double getPriceMultiplier() {\n+        double priceMultiplier = 1.0;\n \n         //Anti-Mek Trained Multiplier\n         if (isAntiMekTrained()) {\n-            multiplier = 1;\n+            priceMultiplier *= 5.0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAyMzAyMA==", "bodyText": "Oh sorry, I should have called that out in the commit. 5.0x is the correct multiplier per the Tech Manual (p. 282).\nIt looks like this flag might not actually be getting used though - I see no cost difference between the regular and Anti-Mech foot platoons with this change applied.", "url": "https://github.com/MegaMek/megamek/pull/1711#discussion_r383023020", "createdAt": "2020-02-23T17:28:12Z", "author": {"login": "RAldrich"}, "path": "megamek/src/megamek/common/Infantry.java", "diffHunk": "@@ -1577,75 +1576,79 @@ else if(nSneak == 3) {\n         //Cost of armor on a per man basis added\n         cost += (armorcost * menStarting);\n \n+        // Price multiplier includes anti-mech training, motive type, and specializations\n+        cost = cost * getPriceMultiplier();\n+\n+        //add in field gun costs\n+        for (Mounted mounted : getEquipment()) {\n+            if(mounted.getLocation() == LOC_FIELD_GUNS) {\n+                cost += Math.floor(mounted.getType().getCost(this, false, mounted.getLocation()));\n+            }\n+        }\n+        return cost;\n+    }\n+\n+    @Override\n+    public double getPriceMultiplier() {\n+        double priceMultiplier = 1.0;\n \n         //Anti-Mek Trained Multiplier\n         if (isAntiMekTrained()) {\n-            multiplier = 1;\n+            priceMultiplier *= 5.0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1NzI2Nw=="}, "originalCommit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAyMzE0Mg==", "bodyText": "TM page 282 shows anti-mech training is x5 price multiplier", "url": "https://github.com/MegaMek/megamek/pull/1711#discussion_r383023142", "createdAt": "2020-02-23T17:30:18Z", "author": {"login": "rroby1"}, "path": "megamek/src/megamek/common/Infantry.java", "diffHunk": "@@ -1577,75 +1576,79 @@ else if(nSneak == 3) {\n         //Cost of armor on a per man basis added\n         cost += (armorcost * menStarting);\n \n+        // Price multiplier includes anti-mech training, motive type, and specializations\n+        cost = cost * getPriceMultiplier();\n+\n+        //add in field gun costs\n+        for (Mounted mounted : getEquipment()) {\n+            if(mounted.getLocation() == LOC_FIELD_GUNS) {\n+                cost += Math.floor(mounted.getType().getCost(this, false, mounted.getLocation()));\n+            }\n+        }\n+        return cost;\n+    }\n+\n+    @Override\n+    public double getPriceMultiplier() {\n+        double priceMultiplier = 1.0;\n \n         //Anti-Mek Trained Multiplier\n         if (isAntiMekTrained()) {\n-            multiplier = 1;\n+            priceMultiplier *= 5.0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1NzI2Nw=="}, "originalCommit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAzMDU2NA==", "bodyText": "@RAldrich that'll be an existing bug then.", "url": "https://github.com/MegaMek/megamek/pull/1711#discussion_r383030564", "createdAt": "2020-02-23T19:15:08Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/common/Infantry.java", "diffHunk": "@@ -1577,75 +1576,79 @@ else if(nSneak == 3) {\n         //Cost of armor on a per man basis added\n         cost += (armorcost * menStarting);\n \n+        // Price multiplier includes anti-mech training, motive type, and specializations\n+        cost = cost * getPriceMultiplier();\n+\n+        //add in field gun costs\n+        for (Mounted mounted : getEquipment()) {\n+            if(mounted.getLocation() == LOC_FIELD_GUNS) {\n+                cost += Math.floor(mounted.getType().getCost(this, false, mounted.getLocation()));\n+            }\n+        }\n+        return cost;\n+    }\n+\n+    @Override\n+    public double getPriceMultiplier() {\n+        double priceMultiplier = 1.0;\n \n         //Anti-Mek Trained Multiplier\n         if (isAntiMekTrained()) {\n-            multiplier = 1;\n+            priceMultiplier *= 5.0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk1NzI2Nw=="}, "originalCommit": {"oid": "16e469b171f1eb3bf47401ff2c02b10ed9c9dc1e"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2490, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}