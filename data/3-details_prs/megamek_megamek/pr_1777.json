{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMDg5OTUz", "number": 1777, "title": "Add save game prompt when closing MM via Window \"X\"", "bodyText": "Resolves issue #377\nPressing Cancel will stop MM from exiting:\n\nPressing Cancel here or not choosing a file somehow will also stop MM from exiting:", "createdAt": "2020-03-19T16:00:13Z", "url": "https://github.com/MegaMek/megamek/pull/1777", "merged": true, "mergeCommit": {"oid": "89721782d61a54bf743ff0b2c0dfe50d2c055380"}, "closed": true, "closedAt": "2020-03-19T18:28:43Z", "author": {"login": "SJuliez"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPNwPMAH2gAyMzkxMDg5OTUzOjFkMGUyYTA5NTVhMTQ0ZmZjMTgwNGQ3ODlhZjRhZjE4YzMzYzdjOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPQA_1gH2gAyMzkxMDg5OTUzOmFiNmI4MGYxOGU4N2Y4NjA3MGJlN2IzMDU4NmE0YzliMGY1Zjc2YzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/1d0e2a0955a144ffc1804d789af4af18c33c7c94", "committedDate": "2020-03-19T15:36:24Z", "message": "Add save game prompt when closing MM via X"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3OTM4NzMy", "url": "https://github.com/MegaMek/megamek/pull/1777#pullrequestreview-377938732", "createdAt": "2020-03-19T17:26:00Z", "commit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjowMFrOF445dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjo0NVrOF447YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5Njc4OA==", "bodyText": "Maybe \"before quitting MegaMek\"?", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395196788", "createdAt": "2020-03-19T17:26:00Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -460,12 +461,29 @@ public void initialize() {\n \n         layoutFrame();\n         menuBar.addActionListener(this);\n+        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n         frame.addWindowListener(new WindowAdapter() {\n             @Override\n             public void windowClosing(WindowEvent e) {\n-                frame.setVisible(false);\n-                saveSettings();\n-                die();\n+                ignoreHotKeys = true;\n+                int savePrompt = JOptionPane.showConfirmDialog(null,\n+                        \"Do you want to save the game before quitting MekHQ?\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5NzI4MA==", "bodyText": "I'm surprised we don't already have a save game dialog.", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395197280", "createdAt": "2020-03-19T17:26:45Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -1641,6 +1641,30 @@ public void deleteAllUnits(Client c) {\n         }\n         c.sendDeleteEntities(ids);\n     }\n+    \n+    private boolean saveGame() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab6b80f18e87f86070be7b30586a4c9b0f5f76c4", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/ab6b80f18e87f86070be7b30586a4c9b0f5f76c4", "committedDate": "2020-03-19T18:14:31Z", "message": "Small dialog change"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4607, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}