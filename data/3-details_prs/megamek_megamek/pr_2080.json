{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MzYzNDU3", "number": 2080, "title": "Unit Label Team Coloring", "bodyText": "Adds a team coloring option for the unit label borders and updates the Client settings. The local player's unit labels are by default green, allied units (same team) cyan and all enemy units red.\nCurrently there's no GUI to change the colors. Wanted to keep this separate as there's quite a few other colors that could use some sort of UI.\nBecause I stumbled over it after dealing with some conflicts I also adjusted the Client Settings dialog to immediately update the icons when the damage decals are activated or deactivated (preview function)", "createdAt": "2020-07-22T21:25:23Z", "url": "https://github.com/MegaMek/megamek/pull/2080", "merged": true, "mergeCommit": {"oid": "02e5f05758307750d03061c3156a55731efa52e0"}, "closed": true, "closedAt": "2020-07-26T01:14:14Z", "author": {"login": "SJuliez"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3dzZPAH2gAyNDU1MzYzNDU3OmMyY2MxN2M4NDJmMDIwYjgwMDY4ODZmZTBiNTFmNGJkMDBmNDFiZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3pQMpgH2gAyNDU1MzYzNDU3OjNhMTk1OGZjYTQyZWVhNzI0ODI1YmNhNTFhYjZiNWJjOTAyNDk1ZmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c2cc17c842f020b8006886fe0b51f4bd00f41bf3", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/c2cc17c842f020b8006886fe0b51f4bd00f41bf3", "committedDate": "2020-07-22T16:55:18Z", "message": "Add Unit Label Team Coloring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03179df9888a2e7256d1c5245d1bd861074fce57", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/03179df9888a2e7256d1c5245d1bd861074fce57", "committedDate": "2020-07-22T20:53:28Z", "message": "Finalize TeamColoring, add GUIP settings and client settings dlg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e6d53e7b50ec20c84637e017d6802670299a63d", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/2e6d53e7b50ec20c84637e017d6802670299a63d", "committedDate": "2020-07-22T21:02:40Z", "message": "Merge branch 'master16' into TeamColoring\n\nConflicts:\n\tmegamek/src/megamek/client/ui/swing/CommonSettingsDialog.java\n\tmegamek/src/megamek/client/ui/swing/boardview/BoardView1.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "148b74bb3f45a988f533f0c794df4881f9a7b87a", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/148b74bb3f45a988f533f0c794df4881f9a7b87a", "committedDate": "2020-07-22T21:15:48Z", "message": "Show changes to the damage decal setting immediately"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzQ0ODE4", "url": "https://github.com/MegaMek/megamek/pull/2080#pullrequestreview-453744818", "createdAt": "2020-07-22T23:08:21Z", "commit": {"oid": "148b74bb3f45a988f533f0c794df4881f9a7b87a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzowODoyMlrOG13RtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMzowODoyMlrOG13RtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEzMzM2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                if (guip.getUnitLabelBorderTeam())\n          \n          \n            \n                                {\n          \n          \n            \n                                if (guip.getUnitLabelBorderTeam()) {", "url": "https://github.com/MegaMek/megamek/pull/2080#discussion_r459133364", "createdAt": "2020-07-22T23:08:22Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/client/ui/swing/boardview/EntitySprite.java", "diffHunk": "@@ -510,9 +510,23 @@ public void prepare() {\n                 graph.fillRoundRect(labelRect.x, labelRect.y, labelRect.width,\n                         labelRect.height, 5, 10);\n \n-                if (guip.getEntityOwnerLabelColor()) {\n-                    graph.setColor(PlayerColors.getColor(\n-                            entity.getOwner().getColorIndex(), false));\n+                // Draw a label border with player colors or team coloring\n+                if (guip.getUnitLabelBorder()) {\n+                    if (guip.getUnitLabelBorderTeam())\n+                    {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "148b74bb3f45a988f533f0c794df4881f9a7b87a"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a1958fca42eea724825bca51ab6b5bc902495fe", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/3a1958fca42eea724825bca51ab6b5bc902495fe", "committedDate": "2020-07-23T06:15:43Z", "message": "Formatting\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4915, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}