{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NDY0MDgw", "number": 2297, "title": "Icon Rework Phase 2: MegaMek Static Directory Manager", "bodyText": "This is phase 2 of my icon standardization. I merged the CamoManager and PortraitManager, then added the MechTileset to it. I then implemented the name swapover. This is inherited by the MekHQ-side, and cleans up a few duplicated file loads along the way.", "createdAt": "2020-10-04T16:51:36Z", "url": "https://github.com/MegaMek/megamek/pull/2297", "merged": true, "mergeCommit": {"oid": "e3d222cdd86992a74e95715166ba66d244b1617e"}, "closed": true, "closedAt": "2020-10-06T21:41:21Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPR8k1gH2gAyNDk3NDY0MDgwOjM2MTVjZDU4NzZmMjY5MWVmOTFkNjQ2NDNjZDA4Mzg0OWRiNWYxMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPVkMFAFqTUwMTY1ODY0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3615cd5876f2691ef91d64643cd083849db5f11c", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/3615cd5876f2691ef91d64643cd083849db5f11c", "committedDate": "2020-10-04T16:40:39Z", "message": "Standardizing into a static directory manager"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjQ3MzU4", "url": "https://github.com/MegaMek/megamek/pull/2297#pullrequestreview-501647358", "createdAt": "2020-10-04T18:25:26Z", "commit": {"oid": "3615cd5876f2691ef91d64643cd083849db5f11c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxODoyNToyNlrOHcJTCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQxODoyNToyNlrOHcJTCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI3NDUwNw==", "bodyText": "Should these initializers should be synchronized? (If so, not initialize itself, to avoid deadlocks).", "url": "https://github.com/MegaMek/megamek/pull/2297#discussion_r499274507", "createdAt": "2020-10-04T18:25:26Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/tileset/MMStaticDirectoryManager.java", "diffHunk": "@@ -0,0 +1,537 @@\n+/*\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MegaMek.\n+ *\n+ * MegaMek is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MegaMek is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MegaMek. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package megamek.client.ui.swing.tileset;\n+\n+import megamek.MegaMek;\n+import megamek.client.ui.swing.util.ImageFileFactory;\n+import megamek.client.ui.swing.util.PlayerColors;\n+import megamek.client.ui.swing.util.ScaledImageFileFactory;\n+import megamek.common.Configuration;\n+import megamek.common.Crew;\n+import megamek.common.Entity;\n+import megamek.common.IPlayer;\n+import megamek.common.annotations.Nullable;\n+import megamek.common.util.ImageUtil;\n+import megamek.common.util.fileUtils.DirectoryItem;\n+import megamek.common.util.fileUtils.DirectoryItems;\n+\n+import javax.swing.*;\n+import java.awt.*;\n+import java.awt.image.BufferedImage;\n+\n+public class MMStaticDirectoryManager {\n+    //region Variable Declarations\n+    // Directories\n+    private static DirectoryItems portraitDirectory;\n+    private static DirectoryItems camouflageDirectory;\n+    private static MechTileset mechTileset;\n+\n+    // Re-parsing Prevention Variables: The are True at startup and when the specified directory\n+    // should be re-parsed, and are used to avoid re-parsing the directory repeatedly when there's an error.\n+    private static boolean parsePortraitDirectory = true;\n+    private static boolean parseCamouflageDirectory = true;\n+    private static boolean parseMechTileset = true;\n+    //endregion Variable Declarations\n+\n+    //region Constructors\n+    protected MMStaticDirectoryManager() {\n+        // This class is not to be instantiated\n+    }\n+    //endregion Constructors\n+\n+    //region Initialization\n+    /**\n+     * This initialized all of the directories under this manager\n+     */\n+    public static void initialize() {\n+        initializePortraits();\n+        initializeCamouflage();\n+        initializeMechTileset();\n+    }\n+\n+    /**\n+     * Parses MM's portraits folder when first called or when it was refreshed.\n+     *\n+     * @see #refreshPortraitDirectory()\n+     */\n+    private static void initializePortraits() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3615cd5876f2691ef91d64643cd083849db5f11c"}, "originalPosition": 73}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjU4NjQy", "url": "https://github.com/MegaMek/megamek/pull/2297#pullrequestreview-501658642", "createdAt": "2020-10-04T20:53:38Z", "commit": {"oid": "3615cd5876f2691ef91d64643cd083849db5f11c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4812, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}