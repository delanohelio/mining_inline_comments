{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4NTI2MTE3", "number": 2353, "title": "AbstractIcon: Standardizing GUI and Initial Implementations", "bodyText": "This is the next phase of the AbstractIcon implementation, during which the graphical components are standardized and now use AbstractIcon::getImage.", "createdAt": "2020-10-22T19:58:36Z", "url": "https://github.com/MegaMek/megamek/pull/2353", "merged": true, "mergeCommit": {"oid": "9152d2c9936331c476bc3569d828d099b45b5fdc"}, "closed": true, "closedAt": "2020-10-23T16:59:40Z", "author": {"login": "Windchild292"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTzIxQAH2gAyNTA4NTI2MTE3OjQzODhkMTQ0ZmMwOWE5Y2YxZjcxNzA1ZjY5ODU0MjE3ZjU3ZmQ1YTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVZZpUgFqTUxNTgzNzMwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4388d144fc09a9cf1f71705f69854217f57fd5a0", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/4388d144fc09a9cf1f71705f69854217f57fd5a0", "committedDate": "2020-10-18T17:36:32Z", "message": "Implementing visual code swapover"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e76a8efd6a4e6c944231c4e1a41d3f399f1d1e72", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/e76a8efd6a4e6c944231c4e1a41d3f399f1d1e72", "committedDate": "2020-10-18T17:53:39Z", "message": "Implementing base swapovers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d960641cc6ea7c8e5ebf156d50dd765efa4a4220", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/d960641cc6ea7c8e5ebf156d50dd765efa4a4220", "committedDate": "2020-10-18T19:27:39Z", "message": "Swapping to using AbstractIcon image and image icon getters."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b3f92ad443479126fb35fd4e36d5c1cec4d96c7", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/1b3f92ad443479126fb35fd4e36d5c1cec4d96c7", "committedDate": "2020-10-18T19:47:27Z", "message": "Fixing Camouflage category for colour camos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de3faabbfc21953da1eea3697b2e3e1c85517e5e", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/de3faabbfc21953da1eea3697b2e3e1c85517e5e", "committedDate": "2020-10-18T20:02:44Z", "message": "Reworking portrait chooser to select based on a provided Portrait icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f1d292a10a7de4d58a0c7c1770ab163d1d3c0b7", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/4f1d292a10a7de4d58a0c7c1770ab163d1d3c0b7", "committedDate": "2020-10-18T20:11:59Z", "message": "Minor personal review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f472167fd21df549061b04ed8654b07be47f2429", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/f472167fd21df549061b04ed8654b07be47f2429", "committedDate": "2020-10-18T20:49:18Z", "message": "Bugfixing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b75edde8f562747af4fa805b4efe44432987a082", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/b75edde8f562747af4fa805b4efe44432987a082", "committedDate": "2020-10-22T15:53:38Z", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_DirectoryItem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5461f8cd1fe79162c2666138f44606bac94e793d", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/5461f8cd1fe79162c2666138f44606bac94e793d", "committedDate": "2020-10-22T16:14:33Z", "message": "Reordering and further icon chooser abstraction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8facdd9ef2edcf108018183e98bf04174b6c17e", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/c8facdd9ef2edcf108018183e98bf04174b6c17e", "committedDate": "2020-10-22T16:15:33Z", "message": "Removing unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "869dce6a716a54ffb3dab1d4f49a7ae5529aed60", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/869dce6a716a54ffb3dab1d4f49a7ae5529aed60", "committedDate": "2020-10-22T16:21:52Z", "message": "Adding portrait search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da434db6a2f1f22b0076efe09b6d5b3bd320732c", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/da434db6a2f1f22b0076efe09b6d5b3bd320732c", "committedDate": "2020-10-22T16:39:08Z", "message": "Cleaning up search code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "910af76629e1d642df7990bea0e2b95447f30d32", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/910af76629e1d642df7990bea0e2b95447f30d32", "committedDate": "2020-10-22T17:11:25Z", "message": "Merge branch 'dev_Windchild_IconConstants' into dev_Windchild_DirectoryItem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb0b54ed2aef8366bb9735577ecce74efe95b2a6", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/fb0b54ed2aef8366bb9735577ecce74efe95b2a6", "committedDate": "2020-10-22T19:18:10Z", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_DirectoryItem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca59a63d362a57b90c338435fb83ac038455c007", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/ca59a63d362a57b90c338435fb83ac038455c007", "committedDate": "2020-10-22T19:43:07Z", "message": "Applying initial changes from personal review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de29c89d7c0fe1a7be9eeb3596dc27b8c4438ad3", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/de29c89d7c0fe1a7be9eeb3596dc27b8c4438ad3", "committedDate": "2020-10-22T19:54:30Z", "message": "Applying changes from personal review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1971c3f58e02d62c899442df14d9c4ae82bc46fc", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/1971c3f58e02d62c899442df14d9c4ae82bc46fc", "committedDate": "2020-10-23T00:32:47Z", "message": "Merge remote-tracking branch 'upstream/master' into dev_Windchild_DirectoryItem"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NTc3NjUx", "url": "https://github.com/MegaMek/megamek/pull/2353#pullrequestreview-515577651", "createdAt": "2020-10-23T11:25:36Z", "commit": {"oid": "1971c3f58e02d62c899442df14d9c4ae82bc46fc"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMToyNTozNlrOHnJyoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMTozMTozOVrOHnJ-EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDgxNjkyOQ==", "bodyText": "Those are oddly specific values. Should they be named?", "url": "https://github.com/MegaMek/megamek/pull/2353#discussion_r510816929", "createdAt": "2020-10-23T11:25:36Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/ChatLounge.java", "diffHunk": "@@ -3483,7 +3483,7 @@ public Component getTableCellRendererComponent(JTable table, Object value, boole\n                         if (compact) {\n                             clearImage();\n                         } else {\n-                            setPortrait(entity.getCrew());\n+                            setImage(entity.getCrew().getPortrait(0).getImage(50));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1971c3f58e02d62c899442df14d9c4ae82bc46fc"}, "originalPosition": 187}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDgxOTg1Nw==", "bodyText": "I'm sure this was inherited, but this doesn't remove a file extension.", "url": "https://github.com/MegaMek/megamek/pull/2353#discussion_r510819857", "createdAt": "2020-10-23T11:31:39Z", "author": {"login": "sixlettervariables"}, "path": "megamek/src/megamek/client/ui/swing/dialog/imageChooser/AbstractIconRenderer.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MegaMek.\n+ *\n+ * MegaMek is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MegaMek is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MegaMek. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package megamek.client.ui.swing.dialog.imageChooser;\n+\n+import megamek.common.icons.AbstractIcon;\n+\n+import javax.swing.*;\n+import javax.swing.border.EmptyBorder;\n+import java.awt.*;\n+\n+public class AbstractIconRenderer extends JPanel implements ListCellRenderer<AbstractIcon> {\n+    /** Image file extensions, .jpg .jpeg .png .gif */\n+    protected static final String[] EXTENSIONS = {\".png\", \".jpg\", \".jpeg\", \".gif\"};\n+\n+    /** This JLabel displays the selectable image */\n+    protected JLabel lblImage = new JLabel();\n+\n+    /** This JLabel displays the name of the selectable image */\n+    protected JLabel lblText = new JLabel();\n+\n+    /** The tooltip to be displayed */\n+    protected String tip = \"\";\n+\n+    public AbstractIconRenderer() {\n+        setBorder(new EmptyBorder(10, 10, 10, 10));\n+        setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\n+        add(lblImage);\n+        add(lblText);\n+    }\n+\n+    /**\n+     * Sets the image based on the passed category and name from\n+     * the DirectoryItems that the list currently displays.\n+     */\n+    private void setImage(AbstractIcon icon) {\n+        lblImage.setIcon(icon.getImageIcon());\n+        tip = \"<HTML><BODY>\" + icon.getCategory() + \"<BR>\" + icon.getFilename();\n+    }\n+\n+    @Override\n+    public String getToolTipText() {\n+        return tip;\n+    }\n+\n+    /** Sets the label text of the image, removing the file extension. */\n+    private void setText(String text) {\n+        // Remove the file extension\n+        for (String ext: EXTENSIONS) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1971c3f58e02d62c899442df14d9c4ae82bc46fc"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8410f9e96a451c09b2336170682d7d997e37a431", "author": {"user": {"login": "Windchild292", "name": "Justin Bowen"}}, "url": "https://github.com/MegaMek/megamek/commit/8410f9e96a451c09b2336170682d7d997e37a431", "committedDate": "2020-10-23T16:36:07Z", "message": "Adding file extension to the display"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1ODM3MzA3", "url": "https://github.com/MegaMek/megamek/pull/2353#pullrequestreview-515837307", "createdAt": "2020-10-23T16:45:17Z", "commit": {"oid": "8410f9e96a451c09b2336170682d7d997e37a431"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4654, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}