{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MzY4MTA2", "number": 2295, "title": "implement ammo feed problem quirk", "bodyText": "Implements the \"Ammunition Feed Problem\" quirk from BMM page 86.\nThis is done by modifying the doChecks() methods for all ammo based weapons.\nI've assumed that if you roll a 2 and the ammo feed problem doesn't blow your weapon up, it can still blow up from other effects that cause problems on a 2, e.g. rapid fire autocannons.", "createdAt": "2020-10-04T03:10:14Z", "url": "https://github.com/MegaMek/megamek/pull/2295", "merged": true, "mergeCommit": {"oid": "8c2cb026a3b93590d7082fecffb80753d4c8cb04"}, "closed": true, "closedAt": "2020-10-04T20:57:10Z", "author": {"login": "NickAragua"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPGVgMgH2gAyNDk3MzY4MTA2OjJiMGQ0ZjE3YzFhYTM5YmEwOTYxOWVlNDJhMDZiNDlhNmI1MWI3MGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPTx1uAFqTUwMTY0OTExNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b0d4f17c1aa39ba09619ee42a06b49a6b51b70f", "author": {"user": {"login": "NickAragua", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/2b0d4f17c1aa39ba09619ee42a06b49a6b51b70f", "committedDate": "2020-10-04T03:09:01Z", "message": "implement ammo feed problem quirk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e", "author": {"user": {"login": "NickAragua", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/60609c77269f98ec24295818a72666a698d2fb9e", "committedDate": "2020-10-04T03:11:42Z", "message": "merge from upstream"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTg3NDU4", "url": "https://github.com/MegaMek/megamek/pull/2295#pullrequestreview-501587458", "createdAt": "2020-10-04T03:14:22Z", "commit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwMzoxNDoyM1rOHcE0Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwMzoxNzozOVrOHcE0yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIwMTA0Nw==", "bodyText": "The ammo type is unlikely to be LRM if it's one of the AC ammo types.", "url": "https://github.com/MegaMek/megamek/pull/2295#discussion_r499201047", "createdAt": "2020-10-04T03:14:23Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/common/EquipmentType.java", "diffHunk": "@@ -443,15 +443,6 @@ public boolean isExplosive(Mounted mounted, boolean ignoreCharge) {\n                     || (((AmmoType) ammo.getType()).getMunitionType() != AmmoType.M_INCENDIARY_AC)) {\n                 return false;\n             }\n-\n-            WeaponType wtype = (WeaponType) mounted.getType();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIwMTExNw==", "bodyText": "Missile launchers now have explosion damage if the weapon has ammo feed problems.", "url": "https://github.com/MegaMek/megamek/pull/2295#discussion_r499201117", "createdAt": "2020-10-04T03:15:22Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/common/Mounted.java", "diffHunk": "@@ -1198,7 +1198,8 @@ public int getExplosionDamage() {\n                     && curMode().equals(\"Powered Down\")) {\n                 return 0;\n             }\n-            if (isHotLoaded() && (getLinked().getUsableShotsLeft() > 0)) {\n+            if ((isHotLoaded() || hasQuirk(OptionsConstants.QUIRK_WEAP_NEG_AMMO_FEED_PROBLEMS))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIwMTIyNw==", "bodyText": "This duplicated logic from EquipmentType.isExplosive()", "url": "https://github.com/MegaMek/megamek/pull/2295#discussion_r499201227", "createdAt": "2020-10-04T03:17:39Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/server/Server.java", "diffHunk": "@@ -27976,68 +27985,7 @@ else if ((null != Compute.stackingViolation(game, other.getId(), curPos))\n             }\n         }\n \n-        // Special case: discharged M- and B-pods shouldn't explode.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjQ5MTE0", "url": "https://github.com/MegaMek/megamek/pull/2295#pullrequestreview-501649114", "createdAt": "2020-10-04T18:48:44Z", "commit": {"oid": "60609c77269f98ec24295818a72666a698d2fb9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4809, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}