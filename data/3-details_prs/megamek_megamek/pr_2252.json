{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNTE2MzUz", "number": 2252, "title": "Board Loading fix", "bodyText": "Changes board loading to allow loading xx * yyy boards (2 digit width and 3 digit height). This is done by ignoring the coordinates that are written in the board file and assuming the hexes appear in the order they are written by the board editor. I suppose it's not a big loss that manually changing coords in a board file won't have any effect anymore.\nWhile at it, added in the Logger and moved a few streams to the try () statement.\nResolves #1898", "createdAt": "2020-09-26T08:12:48Z", "url": "https://github.com/MegaMek/megamek/pull/2252", "merged": true, "mergeCommit": {"oid": "54fe48a846f370854cf74769113a0ad93bee7f5b"}, "closed": true, "closedAt": "2020-10-04T21:02:31Z", "author": {"login": "SJuliez"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMlJsSAH2gAyNDkzNTE2MzUzOjM0OWRjOTE4ZjZjMGE5NGEyMDQxM2M3NjFjM2E0Y2U3NzJhYThlZmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPVsI3gFqTUwMTY1OTIwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "349dc918f6c0a94a20413c761c3a4ce772aa8efd", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/349dc918f6c0a94a20413c761c3a4ce772aa8efd", "committedDate": "2020-09-26T07:21:24Z", "message": "Allow loading xx * yyy size boards"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a45dd4b3b9a8f14e293f997eb417c04ca648b5ba", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/a45dd4b3b9a8f14e293f997eb417c04ca648b5ba", "committedDate": "2020-09-26T07:47:40Z", "message": "Small corrections"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e441c21801615319e5065ad967890ce797689fc", "author": {"user": {"login": "SJuliez", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/9e441c21801615319e5065ad967890ce797689fc", "committedDate": "2020-09-26T08:07:16Z", "message": "Error correction #2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDAxOTU0", "url": "https://github.com/MegaMek/megamek/pull/2252#pullrequestreview-497001954", "createdAt": "2020-09-26T12:35:39Z", "commit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDA0MDM3", "url": "https://github.com/MegaMek/megamek/pull/2252#pullrequestreview-497004037", "createdAt": "2020-09-26T13:15:42Z", "commit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoxNTo0MlrOHYgOdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMzoyMjozNVrOHYgQsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NTg2Mw==", "bodyText": "Curious why you decided to append the ex instead of have it as MegaMek.getLogger().error(this, \"IO Error opening file to load board!\", ex);", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495455863", "createdAt": "2020-09-26T13:15:42Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -956,16 +951,10 @@ public void load(final String filename) {\n      */\n     @Override\n     public void load(final File filepath) {\n-        // load a board\n-        try {\n-            java.io.InputStream is = new FileInputStream(filepath);\n-            // tell the board to load!\n+        try (InputStream is = new FileInputStream(filepath)) {\n             load(is);\n-            // okay, done!\n-            is.close();\n-        } catch (java.io.IOException ex) {\n-            System.err.println(\"error opening file to load board!\");\n-            System.err.println(ex);\n+        } catch (IOException ex) {\n+            MegaMek.getLogger().error(this, \"IO Error opening file to load board! \" + ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NjQzMg==", "bodyText": "Same error message twice in the same method without a way to tell them apart, which could cause issues in the future.", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495456432", "createdAt": "2020-09-26T13:22:35Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -1093,10 +1075,10 @@ public void load(InputStream is, StringBuffer errBuff, boolean continueLoadOnErr\n         if (isValid(nd, nw, nh, errBuff) && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n             newData(nw, nh, nd, errBuff);\n         } else if (continueLoadOnError && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");\n             newData(nw, nh, nd, errBuff);\n         } else if (errBuff == null){\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "originalPosition": 159}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjU5MjAx", "url": "https://github.com/MegaMek/megamek/pull/2252#pullrequestreview-501659201", "createdAt": "2020-10-04T21:02:19Z", "commit": {"oid": "9e441c21801615319e5065ad967890ce797689fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4778, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}