{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMDg5OTUz", "number": 1777, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjowMFrODpmyVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjo0NVrODpmzcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0OTUzNjg1OnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjowMFrOF445dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxODoxODo1NVrOF465SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5Njc4OA==", "bodyText": "Maybe \"before quitting MegaMek\"?", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395196788", "createdAt": "2020-03-19T17:26:00Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -460,12 +461,29 @@ public void initialize() {\n \n         layoutFrame();\n         menuBar.addActionListener(this);\n+        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n         frame.addWindowListener(new WindowAdapter() {\n             @Override\n             public void windowClosing(WindowEvent e) {\n-                frame.setVisible(false);\n-                saveSettings();\n-                die();\n+                ignoreHotKeys = true;\n+                int savePrompt = JOptionPane.showConfirmDialog(null,\n+                        \"Do you want to save the game before quitting MekHQ?\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIyOTUxMw==", "bodyText": "Ah, now everyone knows I just copied it from MekHQ... ok changed it and changed the icon to a warning icon.", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395229513", "createdAt": "2020-03-19T18:18:55Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -460,12 +461,29 @@ public void initialize() {\n \n         layoutFrame();\n         menuBar.addActionListener(this);\n+        frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n         frame.addWindowListener(new WindowAdapter() {\n             @Override\n             public void windowClosing(WindowEvent e) {\n-                frame.setVisible(false);\n-                saveSettings();\n-                die();\n+                ignoreHotKeys = true;\n+                int savePrompt = JOptionPane.showConfirmDialog(null,\n+                        \"Do you want to save the game before quitting MekHQ?\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5Njc4OA=="}, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0OTUzOTcxOnYy", "diffSide": "RIGHT", "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzoyNjo0NVrOF447YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxODoxODowOFrOF463cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5NzI4MA==", "bodyText": "I'm surprised we don't already have a save game dialog.", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395197280", "createdAt": "2020-03-19T17:26:45Z", "author": {"login": "NickAragua"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -1641,6 +1641,30 @@ public void deleteAllUnits(Client c) {\n         }\n         c.sendDeleteEntities(ids);\n     }\n+    \n+    private boolean saveGame() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIyOTA0Mg==", "bodyText": "Couldn't find a class for it. The menu bar command also routes to ClientGUI. I just moved it to its own method because I needed it twice.", "url": "https://github.com/MegaMek/megamek/pull/1777#discussion_r395229042", "createdAt": "2020-03-19T18:18:08Z", "author": {"login": "SJuliez"}, "path": "megamek/src/megamek/client/ui/swing/ClientGUI.java", "diffHunk": "@@ -1641,6 +1641,30 @@ public void deleteAllUnits(Client c) {\n         }\n         c.sendDeleteEntities(ids);\n     }\n+    \n+    private boolean saveGame() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTE5NzI4MA=="}, "originalCommit": {"oid": "1d0e2a0955a144ffc1804d789af4af18c33c7c94"}, "originalPosition": 73}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2534, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}