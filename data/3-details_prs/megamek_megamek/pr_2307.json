{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MDEyMzc3", "number": 2307, "title": "Fix cost calculation for tank and conventional fighter heat sinks and power amplifiers", "bodyText": "The cost calculation for Tank does not include all equipment that can affect the cost of power amplifiers and heat sinks. Since there are methods elsewhere that perform these calculations I used them instead. For heat sink calculations I added a static method to TestEntity to avoid having to create an instance that involves the additional overhead of parsing the options file.\nSince the turret weight is calculated in the same loop, I added some fixes to that as well. A PPC capacitor is included in the weight of a turret mounted PPC, and small support vehicle turrets should be rounded to the kg and not the half ton.\nFixes MegaMek/megameklab#762", "createdAt": "2020-10-05T17:41:23Z", "url": "https://github.com/MegaMek/megamek/pull/2307", "merged": true, "mergeCommit": {"oid": "6c1c119e621ad531026532217abb68bb74c78abb"}, "closed": true, "closedAt": "2020-10-06T17:18:06Z", "author": {"login": "neoancient"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPl3T2AH2gAyNDk4MDEyMzc3OmE3ZmE5ODVhZmMxNmQ5OGFlM2U1Y2MxOWZmY2RlYjdiYzE5MGExN2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP7rVjAH2gAyNDk4MDEyMzc3OjBjNjYxZTQwNzVhNjg1OGI3NTc3NmU3YmI0NWE5ZjE3NjQ3NTE1ZDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a7fa985afc16d98ae3e5cc19ffcdeb7bc190a17e", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/a7fa985afc16d98ae3e5cc19ffcdeb7bc190a17e", "committedDate": "2020-10-05T15:53:00Z", "message": "Include PPC capacitors and spot welders in PA weight calculation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538a1d521328d7b1520000363e2c569949639651", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/538a1d521328d7b1520000363e2c569949639651", "committedDate": "2020-10-05T15:56:04Z", "message": "Added static method to calculate heat neutral HS requirement without instantiating TestEntity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7a6c6c5dc6e26376a4929c1cc1e0d563d4623bc", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/e7a6c6c5dc6e26376a4929c1cc1e0d563d4623bc", "committedDate": "2020-10-05T17:07:56Z", "message": "Use existing methods to calculate heat sink and power amplifier cost."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70d51ccb282593295014a3c9ccfae95045a0359", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/b70d51ccb282593295014a3c9ccfae95045a0359", "committedDate": "2020-10-05T17:09:09Z", "message": "Calculate heat sink cost correctly for conventional fighters."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "839a122624e27235b4c2d171fa90eecd32375212", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/839a122624e27235b4c2d171fa90eecd32375212", "committedDate": "2020-10-05T17:25:48Z", "message": "Include PPC capacitor in turret weight."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMzg1NTA2", "url": "https://github.com/MegaMek/megamek/pull/2307#pullrequestreview-502385506", "createdAt": "2020-10-05T20:12:51Z", "commit": {"oid": "839a122624e27235b4c2d171fa90eecd32375212"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQyMDoxMjo1MVrOHcsIBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQyMDoxMjo1MVrOHcsIBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTg0NTEyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                            || entity.getEngine().getEngineType() == Engine.FISSION)) {\n          \n          \n            \n                                                            || (entity.getEngine().getEngineType() == Engine.FISSION))) {", "url": "https://github.com/MegaMek/megamek/pull/2307#discussion_r499845126", "createdAt": "2020-10-05T20:12:51Z", "author": {"login": "Windchild292"}, "path": "megamek/src/megamek/common/verifier/TestEntity.java", "diffHunk": "@@ -855,16 +866,16 @@ protected int heatNeutralHSRequirement() {\n                 heat += 5;\n             }\n         }\n-        for (Mounted m : getEntity().getMisc()) {\n+        for (Mounted m : entity.getMisc()) {\n             // Spot welders are treated as energy weapons on units that don't have a fusion or fission engine\n             if (m.getType().hasFlag(MiscType.F_CLUB) && m.getType().hasSubType(MiscType.S_SPOT_WELDER)\n-                && getEntity().hasEngine() && (getEntity().getEngine().isFusion()\n-                                                || getEntity().getEngine().getEngineType() == Engine.FISSION)) {\n+                && entity.hasEngine() && (entity.getEngine().isFusion()\n+                                                || entity.getEngine().getEngineType() == Engine.FISSION)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "839a122624e27235b4c2d171fa90eecd32375212"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c661e4075a6858b75776e7bb45a9f17647515d1", "author": {"user": {"login": "neoancient", "name": null}}, "url": "https://github.com/MegaMek/megamek/commit/0c661e4075a6858b75776e7bb45a9f17647515d1", "committedDate": "2020-10-06T17:17:50Z", "message": "Update megamek/src/megamek/common/verifier/TestEntity.java\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4818, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}