{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNjY4MTA3", "number": 1788, "title": "AWS: add ACL support for S3FileIO", "bodyText": "As discussed in #1767 with @danielcweeks and @johnclara, add ACL support for S3FileIO", "createdAt": "2020-11-19T04:30:13Z", "url": "https://github.com/apache/iceberg/pull/1788", "merged": true, "mergeCommit": {"oid": "557da80a73743e8b6dd2fb58ef1bcac291995c59"}, "closed": true, "closedAt": "2020-11-24T16:43:58Z", "author": {"login": "jackye1995"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfbGjegBqjQwMjk0OTExMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfgcLvABqjQwMzA0OTk1NDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a82cfb546af92667f6eae616f36becdd20ec4070", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/a82cfb546af92667f6eae616f36becdd20ec4070", "committedDate": "2020-11-19T04:25:30Z", "message": "AWS: add ACL support for S3FileIO"}, "afterCommit": {"oid": "9dc6f07cd5a68284e30ed5fdac8a381d5aef855f", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/9dc6f07cd5a68284e30ed5fdac8a381d5aef855f", "committedDate": "2020-11-23T20:23:11Z", "message": "AWS: add ACL support for S3FileIO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODczOTUw", "url": "https://github.com/apache/iceberg/pull/1788#pullrequestreview-536873950", "createdAt": "2020-11-23T21:52:48Z", "commit": {"oid": "9dc6f07cd5a68284e30ed5fdac8a381d5aef855f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTo1Mjo0OFrOH4g0ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTo1Mjo0OFrOH4g0ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAyMDAxMA==", "bodyText": "nit: did you mean \"Unsupported S3 CannedACL\"?", "url": "https://github.com/apache/iceberg/pull/1788#discussion_r529020010", "createdAt": "2020-11-23T21:52:48Z", "author": {"login": "danielcweeks"}, "path": "aws/src/main/java/org/apache/iceberg/aws/AwsProperties.java", "diffHunk": "@@ -165,6 +177,11 @@ public AwsProperties(Map<String, String> properties) {\n \n     this.s3fileIoStagingDirectory = PropertyUtil.propertyAsString(properties, S3FILEIO_STAGING_DIRECTORY,\n         System.getProperty(\"java.io.tmpdir\"));\n+\n+    String aclType = properties.get(S3FILEIO_ACL);\n+    this.s3FileIoAcl = ObjectCannedACL.fromValue(aclType);\n+    Preconditions.checkArgument(s3FileIoAcl == null || !s3FileIoAcl.equals(ObjectCannedACL.UNKNOWN_TO_SDK_VERSION),\n+        \"Cannot supported S3 CannedACL \" + aclType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc6f07cd5a68284e30ed5fdac8a381d5aef855f"}, "originalPosition": 48}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dc6f07cd5a68284e30ed5fdac8a381d5aef855f", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/9dc6f07cd5a68284e30ed5fdac8a381d5aef855f", "committedDate": "2020-11-23T20:23:11Z", "message": "AWS: add ACL support for S3FileIO"}, "afterCommit": {"oid": "bae6290d4b84e42197b983354bb198e813300dd4", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/bae6290d4b84e42197b983354bb198e813300dd4", "committedDate": "2020-11-24T02:18:44Z", "message": "AWS: add ACL support for S3FileIO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9b518e9fbb26cdacfc3beec296851f2e649acc5", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/a9b518e9fbb26cdacfc3beec296851f2e649acc5", "committedDate": "2020-11-24T02:36:31Z", "message": "AWS: add ACL support for S3FileIO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bae6290d4b84e42197b983354bb198e813300dd4", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/bae6290d4b84e42197b983354bb198e813300dd4", "committedDate": "2020-11-24T02:18:44Z", "message": "AWS: add ACL support for S3FileIO"}, "afterCommit": {"oid": "a9b518e9fbb26cdacfc3beec296851f2e649acc5", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/a9b518e9fbb26cdacfc3beec296851f2e649acc5", "committedDate": "2020-11-24T02:36:31Z", "message": "AWS: add ACL support for S3FileIO"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3795, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}