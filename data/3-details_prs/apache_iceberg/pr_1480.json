{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NTcwNzgx", "number": 1480, "title": "Parquet Vectorized Reads - Test case for exercising reallocation of Arrow buffers to accommodate larger values", "bodyText": "\u2026", "createdAt": "2020-09-18T22:40:05Z", "url": "https://github.com/apache/iceberg/pull/1480", "merged": true, "mergeCommit": {"oid": "3d308d3c292ba06ebce554efe05561b8f2e79b51"}, "closed": true, "closedAt": "2020-10-23T21:30:49Z", "author": {"login": "samarthjain"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKNgBMgH2gAyNDg5NTcwNzgxOjY1ODE5NjU3YjNlMjdmZDc3ZWQ0ODlkZmNlNWViZGNlMGM2N2JmZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLb9jIABqjM3OTQ1Mzg0OTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/65819657b3e27fd77ed489dfce5ebdce0c67bfdb", "committedDate": "2020-09-18T22:40:13Z", "message": "Parquet Vectorized Reads - Test case for exercising reallocation of Arrow buffers to accommodate larger values"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87738f83590b6773b98279637be6e84ef9ab6b9a", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/87738f83590b6773b98279637be6e84ef9ab6b9a", "committedDate": "2020-09-18T22:38:35Z", "message": "Parquet Vectorized Reads - Test case for exercising Arrow buffers getting reallocated to accomodate larger values"}, "afterCommit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/65819657b3e27fd77ed489dfce5ebdce0c67bfdb", "committedDate": "2020-09-18T22:40:13Z", "message": "Parquet Vectorized Reads - Test case for exercising reallocation of Arrow buffers to accommodate larger values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyODIyNzEy", "url": "https://github.com/apache/iceberg/pull/1480#pullrequestreview-492822712", "createdAt": "2020-09-21T17:15:59Z", "commit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxNTo1OVrOHVax7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxNTo1OVrOHVax7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIyMDkxMQ==", "bodyText": "It's strange that this adds the transform and then ignores it. Is there a better way to structure this so that it doesn't require doing this? Maybe just don't call this method in a subclass?", "url": "https://github.com/apache/iceberg/pull/1480#discussion_r492220911", "createdAt": "2020-09-21T17:15:59Z", "author": {"login": "rdblue"}, "path": "spark/src/test/java/org/apache/iceberg/spark/data/parquet/vectorized/TestParquetDictionaryEncodedVectorizedReads.java", "diffHunk": "@@ -38,7 +39,8 @@\n public class TestParquetDictionaryEncodedVectorizedReads extends TestParquetVectorizedReads {\n \n   @Override\n-  Iterable<GenericData.Record> generateData(Schema schema, int numRecords, long seed, float nullPercentage) {\n+  Iterable<GenericData.Record> generateData(Schema schema, int numRecords, long seed, float nullPercentage,\n+                                            Function<GenericData.Record, GenericData.Record> transform) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyODIzMjk3", "url": "https://github.com/apache/iceberg/pull/1480#pullrequestreview-492823297", "createdAt": "2020-09-21T17:16:46Z", "commit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxNjo0NlrOHVazwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxNjo0NlrOHVazwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIyMTM3OA==", "bodyText": "Why change this?", "url": "https://github.com/apache/iceberg/pull/1480#discussion_r492221378", "createdAt": "2020-09-21T17:16:46Z", "author": {"login": "rdblue"}, "path": "spark/src/test/java/org/apache/iceberg/spark/data/TestHelpers.java", "diffHunk": "@@ -99,7 +99,7 @@ public static void assertEqualsBatch(Types.StructType struct, Iterator<Record> e\n         if (checkArrowValidityVector) {\n           ColumnVector columnVector = batch.column(i);\n           ValueVector arrowVector = ((IcebergArrowColumnVector) columnVector).vectorAccessor().getVector();\n-          Assert.assertEquals(\"Nullability doesn't match\", expectedValue == null, arrowVector.isNull(rowId));\n+          Assert.assertFalse(\"Nullability doesn't match\", expectedValue == null ^ arrowVector.isNull(rowId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65819657b3e27fd77ed489dfce5ebdce0c67bfdb"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b16e046f0347b7c6be956a5167b06fbefb15c6d0", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/b16e046f0347b7c6be956a5167b06fbefb15c6d0", "committedDate": "2020-09-22T18:04:44Z", "message": "Address comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40d324a53fdaf28f270924a200c90f9c490f0487", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/40d324a53fdaf28f270924a200c90f9c490f0487", "committedDate": "2020-09-22T06:40:54Z", "message": "Address comments"}, "afterCommit": {"oid": "b16e046f0347b7c6be956a5167b06fbefb15c6d0", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/iceberg/commit/b16e046f0347b7c6be956a5167b06fbefb15c6d0", "committedDate": "2020-09-22T18:04:44Z", "message": "Address comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3808, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}