{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MDA0OTQ3", "number": 1789, "title": "Add logs to the CI output", "bodyText": "", "createdAt": "2020-11-19T14:45:42Z", "url": "https://github.com/apache/iceberg/pull/1789", "merged": true, "mergeCommit": {"oid": "275ec9acafb7578591f82b1e5ca63c0c75dd7216"}, "closed": true, "closedAt": "2020-11-20T19:56:33Z", "author": {"login": "pvary"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeD2bsAH2gAyNTI0MDA0OTQ3OjJhMDU0NTdlMDI4YmM3YjQ3YjA4NTU4ZGIzYzY2ODMxYjU0YmU0MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdebzZEAFqTUzNTY4NTg4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2a05457e028bc7b47b08558db3c66831b54be434", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/2a05457e028bc7b47b08558db3c66831b54be434", "committedDate": "2020-11-19T14:44:08Z", "message": "Add logs to the CI output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad9fd0b43858850e7e93e079950d0a5d86d99d0b", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/ad9fd0b43858850e7e93e079950d0a5d86d99d0b", "committedDate": "2020-11-19T21:09:42Z", "message": "Testing log redriection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db71749c8474918778d3e8e735f18e97b72ba09f", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/db71749c8474918778d3e8e735f18e97b72ba09f", "committedDate": "2020-11-19T21:16:53Z", "message": "Let's see how failure looks like"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "728aeafab292e1a6fb7fd9095b20d351bc8f9b79", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/728aeafab292e1a6fb7fd9095b20d351bc8f9b79", "committedDate": "2020-11-19T22:02:02Z", "message": "Another failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d52e441e4b6ce809251a4fc0fb504c2bb0ddbae", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/3d52e441e4b6ce809251a4fc0fb504c2bb0ddbae", "committedDate": "2020-11-20T08:56:07Z", "message": "Test upload-artifact"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0744d2723e96ac1d7b03629ea65a2c1c5c8f3f48", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/0744d2723e96ac1d7b03629ea65a2c1c5c8f3f48", "committedDate": "2020-11-20T09:34:20Z", "message": "Run this in case of failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e411eb00c5f5bc80a7e16d983882b1aef0c5475d", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/e411eb00c5f5bc80a7e16d983882b1aef0c5475d", "committedDate": "2020-11-20T14:14:13Z", "message": "subproject specific logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c18548aa9b8bfd4469befce8540c68895a68bab6", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/c18548aa9b8bfd4469befce8540c68895a68bab6", "committedDate": "2020-11-20T14:38:00Z", "message": "Rename the logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c43f51f75aa5c09ab5b3e2b8b5d473d1fa7cd78", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/3c43f51f75aa5c09ab5b3e2b8b5d473d1fa7cd78", "committedDate": "2020-11-20T14:38:24Z", "message": "Revert \"Let's see how failure looks like\"\n\nThis reverts commit db71749c8474918778d3e8e735f18e97b72ba09f."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1188f4dc057b84389488b6598617b1c2b52adf6a", "author": {"user": {"login": "pvary", "name": null}}, "url": "https://github.com/apache/iceberg/commit/1188f4dc057b84389488b6598617b1c2b52adf6a", "committedDate": "2020-11-20T14:38:33Z", "message": "Revert \"Another failure\"\n\nThis reverts commit 728aeafab292e1a6fb7fd9095b20d351bc8f9b79."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1Njg1ODg3", "url": "https://github.com/apache/iceberg/pull/1789#pullrequestreview-535685887", "createdAt": "2020-11-20T18:38:32Z", "commit": {"oid": "1188f4dc057b84389488b6598617b1c2b52adf6a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxODozODozMlrOH3cdnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxODozODozMlrOH3cdnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkwMDA2MQ==", "bodyText": "I think we just need to archive **/build/reports. The reports have the full stack traces and usually have any stderr/stdout for each test. That may be easier than creating a separate file since I think we already aggregate the logs there.", "url": "https://github.com/apache/iceberg/pull/1789#discussion_r527900061", "createdAt": "2020-11-20T18:38:32Z", "author": {"login": "rdblue"}, "path": ".github/workflows/java-ci.yml", "diffHunk": "@@ -38,4 +38,10 @@ jobs:\n         key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n         restore-keys: ${{ runner.os }}-gradle\n     - run: ./gradlew check\n+    - uses: actions/upload-artifact@v2\n+      if: failure()\n+      with:\n+        name: test logs\n+        path: |\n+          **/build/testlogs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1188f4dc057b84389488b6598617b1c2b52adf6a"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3366, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}