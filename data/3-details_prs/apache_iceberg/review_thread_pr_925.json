{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTUzOTQy", "number": 925, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjoyNzoyMlrODyRCew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjozMDozM1rODyRFvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MDM0NTU1OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/iceberg/ManifestWriter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjoyNzoyMlrOGGNyqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjo0NTowM1rOGGONeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MDYwMQ==", "bodyText": "Do we want to deprecate this too?", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409170601", "createdAt": "2020-04-15T22:27:22Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/ManifestWriter.java", "diffHunk": "@@ -94,15 +46,7 @@ static ManifestFile copyManifest(ManifestReader reader, OutputFile outputFile, l\n    * @return a manifest writer\n    */\n   public static ManifestWriter write(PartitionSpec spec, OutputFile outputFile) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NzQ2Ng==", "bodyText": "Good catch. I've updated it.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409177466", "createdAt": "2020-04-15T22:45:03Z", "author": {"login": "rdblue"}, "path": "core/src/main/java/org/apache/iceberg/ManifestWriter.java", "diffHunk": "@@ -94,15 +46,7 @@ static ManifestFile copyManifest(ManifestReader reader, OutputFile outputFile, l\n    * @return a manifest writer\n    */\n   public static ManifestWriter write(PartitionSpec spec, OutputFile outputFile) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MDYwMQ=="}, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MDM1Mzg4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjozMDozM1rOGGN3hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMjo0OToxNlrOGGOT-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MTg0Nw==", "bodyText": "Why do we keep only this version for compatibility? I thought the one below was the preferred way. Would it make sense to keep both and mark them deprecated? Versions that accept ManifestFile were not released yet, so we should definitely remove those.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409171847", "createdAt": "2020-04-15T22:30:33Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "diffHunk": "@@ -62,63 +61,18 @@\n   /**\n    * Returns a new {@link ManifestReader} for an {@link InputFile}.\n    * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(ManifestFile, FileIO, Map)} to ensure that\n+   * <em>Note:</em> Callers should use {@link ManifestFiles#read(ManifestFile, FileIO, Map)} to ensure that\n    * manifest entries with partial metadata can inherit missing properties from the manifest metadata.\n-   * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(InputFile, Map)} if all manifest entries\n-   * contain full metadata and they want to ensure that the schema used by filters is the latest\n-   * table schema. This should be used only when reading a manifest without filters.\n    *\n    * @param file an InputFile\n    * @return a manifest reader\n+   * @deprecated use {@link ManifestFiles#read(ManifestFile, FileIO, Map)}.\n    */\n+  @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NjM3MA==", "bodyText": "The version released in 0.7.0 was read(InputFile, Function) because we used to pass a function to look up a spec instead of a map. We could bring that back and deprecate it, but I think I'm fine with just deprecating this one. This is the one that I know people use.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409176370", "createdAt": "2020-04-15T22:42:15Z", "author": {"login": "rdblue"}, "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "diffHunk": "@@ -62,63 +61,18 @@\n   /**\n    * Returns a new {@link ManifestReader} for an {@link InputFile}.\n    * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(ManifestFile, FileIO, Map)} to ensure that\n+   * <em>Note:</em> Callers should use {@link ManifestFiles#read(ManifestFile, FileIO, Map)} to ensure that\n    * manifest entries with partial metadata can inherit missing properties from the manifest metadata.\n-   * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(InputFile, Map)} if all manifest entries\n-   * contain full metadata and they want to ensure that the schema used by filters is the latest\n-   * table schema. This should be used only when reading a manifest without filters.\n    *\n    * @param file an InputFile\n    * @return a manifest reader\n+   * @deprecated use {@link ManifestFiles#read(ManifestFile, FileIO, Map)}.\n    */\n+  @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MTg0Nw=="}, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NzM1Mw==", "bodyText": "I think it makes sense for consistency. We were using it but we will have to adapt anyway.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409177353", "createdAt": "2020-04-15T22:44:45Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "diffHunk": "@@ -62,63 +61,18 @@\n   /**\n    * Returns a new {@link ManifestReader} for an {@link InputFile}.\n    * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(ManifestFile, FileIO, Map)} to ensure that\n+   * <em>Note:</em> Callers should use {@link ManifestFiles#read(ManifestFile, FileIO, Map)} to ensure that\n    * manifest entries with partial metadata can inherit missing properties from the manifest metadata.\n-   * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(InputFile, Map)} if all manifest entries\n-   * contain full metadata and they want to ensure that the schema used by filters is the latest\n-   * table schema. This should be used only when reading a manifest without filters.\n    *\n    * @param file an InputFile\n    * @return a manifest reader\n+   * @deprecated use {@link ManifestFiles#read(ManifestFile, FileIO, Map)}.\n    */\n+  @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MTg0Nw=="}, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3NzY2OA==", "bodyText": "For us, it does not matter.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409177668", "createdAt": "2020-04-15T22:45:38Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "diffHunk": "@@ -62,63 +61,18 @@\n   /**\n    * Returns a new {@link ManifestReader} for an {@link InputFile}.\n    * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(ManifestFile, FileIO, Map)} to ensure that\n+   * <em>Note:</em> Callers should use {@link ManifestFiles#read(ManifestFile, FileIO, Map)} to ensure that\n    * manifest entries with partial metadata can inherit missing properties from the manifest metadata.\n-   * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(InputFile, Map)} if all manifest entries\n-   * contain full metadata and they want to ensure that the schema used by filters is the latest\n-   * table schema. This should be used only when reading a manifest without filters.\n    *\n    * @param file an InputFile\n    * @return a manifest reader\n+   * @deprecated use {@link ManifestFiles#read(ManifestFile, FileIO, Map)}.\n    */\n+  @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MTg0Nw=="}, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3OTEyOQ==", "bodyText": "Nevermind, it was much easier than I thought to bring this back because we don't pass the map to any other class.", "url": "https://github.com/apache/iceberg/pull/925#discussion_r409179129", "createdAt": "2020-04-15T22:49:16Z", "author": {"login": "rdblue"}, "path": "core/src/main/java/org/apache/iceberg/ManifestReader.java", "diffHunk": "@@ -62,63 +61,18 @@\n   /**\n    * Returns a new {@link ManifestReader} for an {@link InputFile}.\n    * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(ManifestFile, FileIO, Map)} to ensure that\n+   * <em>Note:</em> Callers should use {@link ManifestFiles#read(ManifestFile, FileIO, Map)} to ensure that\n    * manifest entries with partial metadata can inherit missing properties from the manifest metadata.\n-   * <p>\n-   * <em>Note:</em> Most callers should use {@link #read(InputFile, Map)} if all manifest entries\n-   * contain full metadata and they want to ensure that the schema used by filters is the latest\n-   * table schema. This should be used only when reading a manifest without filters.\n    *\n    * @param file an InputFile\n    * @return a manifest reader\n+   * @deprecated use {@link ManifestFiles#read(ManifestFile, FileIO, Map)}.\n    */\n+  @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE3MTg0Nw=="}, "originalCommit": {"oid": "72bd99d21840eb0f9c9367200f15301840221b33"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2922, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}