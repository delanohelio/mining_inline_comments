{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NzMyNzI2", "number": 1723, "title": "Add position in manifest to DataFile and DeleteFile", "bodyText": "This updates ManifestReader to project the file position metadata column so that DataFile and DeleteFile objects read from manifests include the position within the manifest. This is in support of streaming reads, where the data in a table is turned into a stream of snapshots, then new manifests, then data files. The position of each file in a manifest can be encoded as a recoverable offset.", "createdAt": "2020-11-05T01:30:08Z", "url": "https://github.com/apache/iceberg/pull/1723", "merged": true, "mergeCommit": {"oid": "7c3b0d750ecef76e0c9a33b66938d0d8602857b8"}, "closed": true, "closedAt": "2020-11-10T21:36:14Z", "author": {"login": "rdblue"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZYDXCAH2gAyNTE1NzMyNzI2OjEyY2UyNWQ2ZTM3ODEyNDZhOWEwYTU5NzZlZmU0OTQyNmUyZTZhOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbP8OggFqTUyNzYwODAwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "12ce25d6e3781246a9a0a5976efe49426e2e6a8f", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/12ce25d6e3781246a9a0a5976efe49426e2e6a8f", "committedDate": "2020-11-05T01:26:44Z", "message": "Add position in manifest to DataFile and DeleteFile."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfda02a57f9d19d38e18b44128bd43383045bb5b", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/dfda02a57f9d19d38e18b44128bd43383045bb5b", "committedDate": "2020-11-06T23:19:22Z", "message": "Implement pos in SparkDataFile."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14007a749c4adfaac678a34d7609d8b4f2f30adf", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/14007a749c4adfaac678a34d7609d8b4f2f30adf", "committedDate": "2020-11-07T01:28:42Z", "message": "Fix checkstyle."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8a021e2097810f6fcfda162fcc3bbdcf5557b8e", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/f8a021e2097810f6fcfda162fcc3bbdcf5557b8e", "committedDate": "2020-11-07T22:44:04Z", "message": "Rename pos field to avoid checkstyle failures."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "227b92984295aa0d5ccae5dd02a782eb83b4d3a7", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/227b92984295aa0d5ccae5dd02a782eb83b4d3a7", "committedDate": "2020-11-09T23:01:35Z", "message": "Fix row position supplier when pos field is first."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjA3MjY4", "url": "https://github.com/apache/iceberg/pull/1723#pullrequestreview-527607268", "createdAt": "2020-11-10T21:06:30Z", "commit": {"oid": "227b92984295aa0d5ccae5dd02a782eb83b4d3a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3NjA4MDA2", "url": "https://github.com/apache/iceberg/pull/1723#pullrequestreview-527608006", "createdAt": "2020-11-10T21:07:32Z", "commit": {"oid": "227b92984295aa0d5ccae5dd02a782eb83b4d3a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTowNzozM1rOHwvpaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTowNzozM1rOHwvpaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg3NDM0Nw==", "bodyText": "qq: do we want to include anything in the name to indicate that it is a position in the manifest?", "url": "https://github.com/apache/iceberg/pull/1723#discussion_r520874347", "createdAt": "2020-11-10T21:07:33Z", "author": {"login": "aokolnychyi"}, "path": "api/src/main/java/org/apache/iceberg/ContentFile.java", "diffHunk": "@@ -29,6 +29,11 @@\n  * @param <F> the concrete Java class of a ContentFile instance.\n  */\n public interface ContentFile<F> {\n+  /**\n+   * Returns the ordinal position of the file in a manifest, or null if it was not read from a manifest.\n+   */\n+  Long pos();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "227b92984295aa0d5ccae5dd02a782eb83b4d3a7"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3683, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}