{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNjE2MzAx", "number": 1787, "title": "AWS: fix errorprone warnings in S3URI", "bodyText": "fix errorprone warnings in S3URI\uff1a\n/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:60: warning: [StringSplitter] String.split(String) has surprising behavior\n    String [] schemeSplit = location.split(SCHEME_DELIM);\n                                          ^\n    (see https://errorprone.info/bugpattern/StringSplitter)\n  Did you mean 'List<String> schemeSplit = Splitter.onPattern(SCHEME_DELIM).splitToList(location);'?\n/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:73: warning: [StringSplitter] String.split(String) has surprising behavior\n    path = path.split(QUERY_DELIM)[0];\n                     ^\n    (see https://errorprone.info/bugpattern/StringSplitter)\n  Did you mean 'path = Iterables.get(Splitter.onPattern(QUERY_DELIM).split(path), 0);'?\n/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:74: warning: [StringSplitter] String.split(String) has surprising behavior\n    path = path.split(FRAGMENT_DELIM)[0];\n                     ^\n    (see https://errorprone.info/bugpattern/StringSplitter)\n  Did you mean 'path = Iterables.get(Splitter.onPattern(FRAGMENT_DELIM).split(path), 0);'?\n/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:79: warning: [MissingSummary] A summary fragment is required; consider using the value of the @return block as a summary fragment instead.\n    * @return S3 bucket\n     ^\n    (see http://google.github.io/styleguide/javaguide.html#s7.2-summary-fragment)\n  Did you mean '*Returns s3 bucket.'?\n/iceberg/aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java:86: warning: [MissingSummary] A summary fragment is required; consider using the value of the @return block as a summary fragment instead.\n    * @return S3 key\n     ^\n    (see http://google.github.io/styleguide/javaguide.html#s7.2-summary-fragment)\n  Did you mean '*Returns s3 key.'?\n5 warnings", "createdAt": "2020-11-19T01:38:04Z", "url": "https://github.com/apache/iceberg/pull/1787", "merged": true, "mergeCommit": {"oid": "9bccb4ec3936a1f2abe0fd3e9cd8fef49ffc32a0"}, "closed": true, "closedAt": "2020-11-20T23:21:24Z", "author": {"login": "jackye1995"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdd3zJYgH2gAyNTIzNjE2MzAxOmI0M2RiYmU4NWQ5YzkwNjM4MmRhNTJjZjAyMzExODNmMWVjOWViNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeQe45gH2gAyNTIzNjE2MzAxOjE4MDA3ZWNjYmI1MGYwOTQ2YzJjMTEwYTQ2ZTU4YTI4ZDVmZGE4YWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b43dbbe85d9c906382da52cf0231183f1ec9eb5e", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/b43dbbe85d9c906382da52cf0231183f1ec9eb5e", "committedDate": "2020-11-19T00:41:41Z", "message": "fix errorprone warnings in S3URI"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MDkwNTIz", "url": "https://github.com/apache/iceberg/pull/1787#pullrequestreview-535090523", "createdAt": "2020-11-20T05:02:44Z", "commit": {"oid": "b43dbbe85d9c906382da52cf0231183f1ec9eb5e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNTowMjo0NFrOH294vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNTowMjo0NFrOH294vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzM5OTEwMw==", "bodyText": "The recommendation for these is to go with\n/**\n * Return s3 bucket\n */\nSo you still have a one liner, but it's the summary only", "url": "https://github.com/apache/iceberg/pull/1787#discussion_r527399103", "createdAt": "2020-11-20T05:02:44Z", "author": {"login": "RussellSpitzer"}, "path": "aws/src/main/java/org/apache/iceberg/aws/s3/S3URI.java", "diffHunk": "@@ -70,19 +70,21 @@\n \n     // Strip query and fragment if they exist\n     String path = authoritySplit[1];\n-    path = path.split(QUERY_DELIM)[0];\n-    path = path.split(FRAGMENT_DELIM)[0];\n+    path = path.split(QUERY_DELIM, -1)[0];\n+    path = path.split(FRAGMENT_DELIM, -1)[0];\n     this.key = path;\n   }\n \n   /**\n+   * S3 bucket name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b43dbbe85d9c906382da52cf0231183f1ec9eb5e"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18007eccbb50f0946c2c110a46e58a28d5fda8af", "author": {"user": {"login": "jackye1995", "name": "Jack Ye"}}, "url": "https://github.com/apache/iceberg/commit/18007eccbb50f0946c2c110a46e58a28d5fda8af", "committedDate": "2020-11-20T05:27:11Z", "message": "update doc string"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3793, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}