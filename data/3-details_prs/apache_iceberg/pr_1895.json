{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MTgyOTkx", "number": 1895, "title": "Add nessie to spark3/spark2 runtime jar", "bodyText": "Resulting from discussion in #1887 this adds Nessie catalog to the spark runtimes. This adds ~496K to the 18M runtime jar.\nNote: the extra dependency 'org.glassfish.jersey.media:jersey-media-json-jackson is the only Nessie dependency that isn't already included in Spark. The version of this dependency is pinned to the specific version of jersey in Spark 2.4 and 3 to ensure compatibility in the shared jar.\nThis has been tested externally to ensure the catalog and all its dependencies are loaded correctly.", "createdAt": "2020-12-09T13:33:25Z", "url": "https://github.com/apache/iceberg/pull/1895", "merged": true, "mergeCommit": {"oid": "a2a4436d7c6178e7b1f324cc46c4c436cacec9aa"}, "closed": true, "closedAt": "2020-12-31T21:28:06Z", "author": {"login": "rymurr"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkLkzmAH2gAyNTM1MTgyOTkxOjkyNjE4ZjAyMmUxNGRhMTM1Y2I3MmExMzIzOTI3YWJhMWNkZjQ2MzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrqy7SgFqTU2MDU1MTE1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92618f022e14da135cb72a1323927aba1cdf4636", "author": {"user": {"login": "rymurr", "name": "Ryan Murray"}}, "url": "https://github.com/apache/iceberg/commit/92618f022e14da135cb72a1323927aba1cdf4636", "committedDate": "2020-12-08T15:07:40Z", "message": "add nessie to spark3/spark2 runtime jar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NTM2NTky", "url": "https://github.com/apache/iceberg/pull/1895#pullrequestreview-548536592", "createdAt": "2020-12-09T19:29:46Z", "commit": {"oid": "92618f022e14da135cb72a1323927aba1cdf4636"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "498fd0de882e674d4c6c12e4d4978dc773c5b7bf", "author": {"user": {"login": "rymurr", "name": "Ryan Murray"}}, "url": "https://github.com/apache/iceberg/commit/498fd0de882e674d4c6c12e4d4978dc773c5b7bf", "committedDate": "2020-12-10T11:06:27Z", "message": "add license and notice info for nessie and jersey"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "author": {"user": {"login": "rymurr", "name": "Ryan Murray"}}, "url": "https://github.com/apache/iceberg/commit/fa48efa52883e1dddaaf4e83cc8ba460af4ca851", "committedDate": "2020-12-11T11:52:26Z", "message": "minor fixes and simplification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTc4OTg1", "url": "https://github.com/apache/iceberg/pull/1895#pullrequestreview-551978985", "createdAt": "2020-12-14T23:28:24Z", "commit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzoyODoyNVrOIFxSmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzoyODoyNVrOIFxSmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyMTM3MA==", "bodyText": "I don't think that we typically need the copyright part, or acknowledgement that there is ASF software. Since this is boilerplate and the relevant information is in LICENSE, we can probably omit it.", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542921370", "createdAt": "2020-12-14T23:28:25Z", "author": {"login": "rdblue"}, "path": "spark3-runtime/NOTICE", "diffHunk": "@@ -495,3 +495,128 @@ file:\n |   * HOMEPAGE:\n |     * http://www.opensource.apple.com/source/configd/configd-453.19/dnsinfo/dnsinfo.h\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact includes Project Nessie with the following in its NOTICE\n+file:\n+\n+| Dremio\n+| Copyright 2015-2017 Dremio Corporation\n+|\n+| This product includes software developed at\n+| The Apache Software Foundation (http://www.apache.org/).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTc5MTg1", "url": "https://github.com/apache/iceberg/pull/1895#pullrequestreview-551979185", "createdAt": "2020-12-14T23:28:50Z", "commit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzoyODo1MVrOIFxTQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzoyODo1MVrOIFxTQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyMTUzNw==", "bodyText": "We need to include a copy of the license text here.", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542921537", "createdAt": "2020-12-14T23:28:51Z", "author": {"login": "rdblue"}, "path": "spark3-runtime/LICENSE", "diffHunk": "@@ -579,3 +579,19 @@ License text:\n | NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n | SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains code from Project Nessie.\n+\n+Copyright: 2020 Dremio Corporation.\n+Home page: https://projectnessie.org/\n+License: http://www.apache.org/licenses/LICENSE-2.0\n+\n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains Eclipse Jersey bindings for jackson.\n+\n+Copyright: 201,2020 Oracle and/or its affiliates.\n+Home page: https://github.com/eclipse-ee4j/jersey\n+License: http://www.eclipse.org/legal/epl-2.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTgyNDMw", "url": "https://github.com/apache/iceberg/pull/1895#pullrequestreview-551982430", "createdAt": "2020-12-14T23:36:11Z", "commit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzozNjoxMVrOIFxfqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQyMzozNjoxMVrOIFxfqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjkyNDcxNQ==", "bodyText": "EPL 2.0 is listed under Category B, \"weak\" copyleft licenses. The relevant sections from that page are:\n\nSoftware under the following licenses may be included in binary form within an Apache product if the inclusion is appropriately labeled (see above)\n\n\nBy including only the object/binary form, there is less exposed surface area of the third-party work from which a work might be derived; this addresses the second guiding principle of this policy.\n\nAnd here's the part about labelling:\n\nAPPROPRIATELY LABELLED CONDITION\nIn all Category B cases our users should not be surprised at their inclusion in our products. By attaching an appropriate and prominent label to the distribution users are less likely to be unaware of restrictions significantly different from those of the Apache License. An appropriate and prominent label is a label the user will read while learning about the distribution - for example in a README, and it should identify the third-party product, its licensing, and a url to the its homepage. Please also ensure to comply with any attribution/notice requirements in the specific license in question.\n\nI think that means we will need a \"prominent label\" that a user will read while learning about the distribution. I would add one as a new section to the project's README, as well as on the releases page. We should also link to it from anywhere we recommend downloading a runtime Jar on the site. We should also add any notes needed to comply with EPL's requirements.\nIs it possible to remove this dependency? That might be easier.", "url": "https://github.com/apache/iceberg/pull/1895#discussion_r542924715", "createdAt": "2020-12-14T23:36:11Z", "author": {"login": "rdblue"}, "path": "spark3-runtime/LICENSE", "diffHunk": "@@ -579,3 +579,19 @@ License text:\n | NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n | SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n \n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains code from Project Nessie.\n+\n+Copyright: 2020 Dremio Corporation.\n+Home page: https://projectnessie.org/\n+License: http://www.apache.org/licenses/LICENSE-2.0\n+\n+--------------------------------------------------------------------------------\n+\n+This binary artifact contains Eclipse Jersey bindings for jackson.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48efa52883e1dddaaf4e83cc8ba460af4ca851"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3749d1358b6d2c4b9b10cb7a45504ff997ab26de", "author": {"user": {"login": "rymurr", "name": "Ryan Murray"}}, "url": "https://github.com/apache/iceberg/commit/3749d1358b6d2c4b9b10cb7a45504ff997ab26de", "committedDate": "2020-12-31T11:18:30Z", "message": "remove jax-rs dependency and clean up licence/notice"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNTUxMTU0", "url": "https://github.com/apache/iceberg/pull/1895#pullrequestreview-560551154", "createdAt": "2020-12-31T21:27:37Z", "commit": {"oid": "3749d1358b6d2c4b9b10cb7a45504ff997ab26de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3570, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}