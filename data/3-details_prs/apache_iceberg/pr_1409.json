{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MTg1NjQy", "number": 1409, "title": "API: Introduce a builder in Catalog", "bodyText": "This PR introduces a builder in Catalog to avoid duplicating the number of methods each time we introduce a new param.", "createdAt": "2020-09-01T16:04:22Z", "url": "https://github.com/apache/iceberg/pull/1409", "merged": true, "mergeCommit": {"oid": "594f4615f5eccbef467303c9ed56b9fc3e1ddde3"}, "closed": true, "closedAt": "2020-09-03T18:04:53Z", "author": {"login": "aokolnychyi"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEtBDwgFqTQ4MDA3MjM0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFTDBMgH2gAyNDc3MTg1NjQyOjJkY2YyMzk4MjdhOTU5ZTllNGMzYTAyYTlmNWU5NGVhZjlkYjIxMDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDcyMzQ0", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-480072344", "createdAt": "2020-09-01T19:59:48Z", "commit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOTo1OTo0OVrOHLGJUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOTo1OTo0OVrOHLGJUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM5NzA3NA==", "bodyText": "In addition, we probably need to expose withProperties that accepts a map.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r481397074", "createdAt": "2020-09-01T19:59:49Z", "author": {"login": "aokolnychyi"}, "path": "api/src/main/java/org/apache/iceberg/catalog/Catalog.java", "diffHunk": "@@ -303,4 +304,105 @@ default boolean dropTable(TableIdentifier identifier) {\n    * @throws NoSuchTableException if the table does not exist\n    */\n   Table loadTable(TableIdentifier identifier);\n+\n+  /**\n+   * Instantiate a builder to create a table.\n+   *\n+   * @param identifier a table identifier\n+   * @param schema a schema\n+   * @return the builder to create a table\n+   */\n+  default Builder newTable(TableIdentifier identifier, Schema schema) {\n+    return new Builder(this, identifier, schema);\n+  }\n+\n+  /**\n+   * A builder used to create valid {@link Table tables}.\n+   * <p>\n+   * Call {@link #newTable(TableIdentifier, Schema)} to create a new builder.\n+   */\n+  class Builder {\n+    private final Catalog catalog;\n+    private final TableIdentifier identifier;\n+    private final Schema schema;\n+    private final Map<String, String> properties = new HashMap<>();\n+    private PartitionSpec spec = PartitionSpec.unpartitioned();\n+    private String location = null;\n+\n+    private Builder(Catalog catalog, TableIdentifier identifier, Schema schema) {\n+      this.catalog = catalog;\n+      this.identifier = identifier;\n+      this.schema = schema;\n+    }\n+\n+    /**\n+     * Sets a partition spec for the table.\n+     *\n+     * @param newSpec a partition spec\n+     * @return this for method chaining\n+     */\n+    public Builder withPartitionSpec(PartitionSpec newSpec) {\n+      this.spec = newSpec;\n+      return this;\n+    }\n+\n+    /**\n+     * Sets a location for the table.\n+     *\n+     * @param newLocation a location\n+     * @return this for method chaining\n+     */\n+    public Builder withLocation(String newLocation) {\n+      this.location = newLocation;\n+      return this;\n+    }\n+\n+    /**\n+     * Adds a key/value property to the table.\n+     *\n+     * @param key a key\n+     * @param value a value\n+     * @return this for method chaining\n+     */\n+    public Builder withProperty(String key, String value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDg1NjMw", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-480085630", "createdAt": "2020-09-01T20:20:10Z", "commit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMDoyMDoxMFrOHLGx4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMDoyMDoxMFrOHLGx4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQwNzQ1Ng==", "bodyText": "What about ImmutableMap.Builder?", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r481407456", "createdAt": "2020-09-01T20:20:10Z", "author": {"login": "rdblue"}, "path": "api/src/main/java/org/apache/iceberg/catalog/Catalog.java", "diffHunk": "@@ -303,4 +304,105 @@ default boolean dropTable(TableIdentifier identifier) {\n    * @throws NoSuchTableException if the table does not exist\n    */\n   Table loadTable(TableIdentifier identifier);\n+\n+  /**\n+   * Instantiate a builder to create a table.\n+   *\n+   * @param identifier a table identifier\n+   * @param schema a schema\n+   * @return the builder to create a table\n+   */\n+  default Builder newTable(TableIdentifier identifier, Schema schema) {\n+    return new Builder(this, identifier, schema);\n+  }\n+\n+  /**\n+   * A builder used to create valid {@link Table tables}.\n+   * <p>\n+   * Call {@link #newTable(TableIdentifier, Schema)} to create a new builder.\n+   */\n+  class Builder {\n+    private final Catalog catalog;\n+    private final TableIdentifier identifier;\n+    private final Schema schema;\n+    private final Map<String, String> properties = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDg2ODQw", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-480086840", "createdAt": "2020-09-01T20:21:59Z", "commit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMDoyMTo1OVrOHLG1xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMDoyMTo1OVrOHLG1xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQwODQ1Mw==", "bodyText": "What about buildTable instead? This doesn't really return a table, it returns a builder that will create either a Table or a Transaction.\nWe may also want to mention in Javadoc that this builder is used to either create a table or start a create or replace transaction.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r481408453", "createdAt": "2020-09-01T20:21:59Z", "author": {"login": "rdblue"}, "path": "api/src/main/java/org/apache/iceberg/catalog/Catalog.java", "diffHunk": "@@ -303,4 +304,105 @@ default boolean dropTable(TableIdentifier identifier) {\n    * @throws NoSuchTableException if the table does not exist\n    */\n   Table loadTable(TableIdentifier identifier);\n+\n+  /**\n+   * Instantiate a builder to create a table.\n+   *\n+   * @param identifier a table identifier\n+   * @param schema a schema\n+   * @return the builder to create a table\n+   */\n+  default Builder newTable(TableIdentifier identifier, Schema schema) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44bfef1ba05191892e2862d82504182ac7995ac3"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNTA2MzA4", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481506308", "createdAt": "2020-09-03T05:39:57Z", "commit": {"oid": "206cb0551567bd4b5873cc95f19183fec60b98be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNTozOTo1N1rOHMWo1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNTozOTo1N1rOHMWo1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjcxNTg2MA==", "bodyText": "I'll need to fix CachingCatalog.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r482715860", "createdAt": "2020-09-03T05:39:57Z", "author": {"login": "aokolnychyi"}, "path": "api/src/main/java/org/apache/iceberg/catalog/Catalog.java", "diffHunk": "@@ -303,4 +303,83 @@ default boolean dropTable(TableIdentifier identifier) {\n    * @throws NoSuchTableException if the table does not exist\n    */\n   Table loadTable(TableIdentifier identifier);\n+\n+  /**\n+   * Instantiate a builder to either create a table or start a create/replace transaction.\n+   *\n+   * @param identifier a table identifier\n+   * @param schema a schema\n+   * @return the builder to create a table or start a create/replace transaction\n+   */\n+  default TableBuilder buildTable(TableIdentifier identifier, Schema schema) {\n+    throw new UnsupportedOperationException(\"Not implemented: buildTable\");\n+  }\n+\n+  /**\n+   * A builder used to create valid {@link Table tables}.\n+   * <p>\n+   * Call {@link #buildTable(TableIdentifier, Schema)} to create a new builder.\n+   */\n+  interface TableBuilder {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "206cb0551567bd4b5873cc95f19183fec60b98be"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTIyMDIy", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481922022", "createdAt": "2020-09-03T14:53:06Z", "commit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1MzowNlrOHMqdug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1MzowNlrOHMqdug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA0MDY5OA==", "bodyText": "I am throwing UnsupportedOperationException to avoid breaking custom catalogs.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483040698", "createdAt": "2020-09-03T14:53:06Z", "author": {"login": "aokolnychyi"}, "path": "api/src/main/java/org/apache/iceberg/catalog/Catalog.java", "diffHunk": "@@ -303,4 +303,83 @@ default boolean dropTable(TableIdentifier identifier) {\n    * @throws NoSuchTableException if the table does not exist\n    */\n   Table loadTable(TableIdentifier identifier);\n+\n+  /**\n+   * Instantiate a builder to either create a table or start a create/replace transaction.\n+   *\n+   * @param identifier a table identifier\n+   * @param schema a schema\n+   * @return the builder to create a table or start a create/replace transaction\n+   */\n+  default TableBuilder buildTable(TableIdentifier identifier, Schema schema) {\n+    throw new UnsupportedOperationException(this.getClass().getName() + \" does not implement buildTable\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTI0MjE0", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481924214", "createdAt": "2020-09-03T14:55:16Z", "commit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1NToxNlrOHMqkOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1NToxNlrOHMqkOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA0MjM2Mg==", "bodyText": "I moved this logic to the builder and use the builder here.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483042362", "createdAt": "2020-09-03T14:55:16Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/BaseMetastoreCatalog.java", "diffHunk": "@@ -50,30 +50,12 @@ public Table createTable(\n       PartitionSpec spec,\n       String location,\n       Map<String, String> properties) {\n-    Preconditions.checkArgument(isValidIdentifier(identifier), \"Invalid table identifier: %s\", identifier);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTI0ODk0", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481924894", "createdAt": "2020-09-03T14:55:56Z", "commit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1NTo1N1rOHMqmIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1NTo1N1rOHMqmIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA0Mjg1MQ==", "bodyText": "We did not validate this for replace transactions before but there should be no harm.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483042851", "createdAt": "2020-09-03T14:55:57Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/BaseMetastoreCatalog.java", "diffHunk": "@@ -212,6 +183,114 @@ public String toString() {\n \n   protected abstract String defaultWarehouseLocation(TableIdentifier tableIdentifier);\n \n+  protected class BaseMetastoreCatalogTableBuilder implements TableBuilder {\n+    private final TableIdentifier identifier;\n+    private final Schema schema;\n+    private final ImmutableMap.Builder<String, String> propertiesBuilder = ImmutableMap.builder();\n+    private PartitionSpec spec = PartitionSpec.unpartitioned();\n+    private String location = null;\n+\n+    protected BaseMetastoreCatalogTableBuilder(TableIdentifier identifier, Schema schema) {\n+      Preconditions.checkArgument(isValidIdentifier(identifier), \"Invalid table identifier: %s\", identifier);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8febaaaaaf8cdff8a4967a03e187509ffb685dc4"}, "originalPosition": 127}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTI4MzY0", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481928364", "createdAt": "2020-09-03T14:59:22Z", "commit": {"oid": "bc31599ee20c8d4885cb784794100fe266314687"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1OToyMlrOHMqwMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDo1OToyMlrOHMqwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA0NTQyNg==", "bodyText": "This is now validated in the builder.", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483045426", "createdAt": "2020-09-03T14:59:22Z", "author": {"login": "aokolnychyi"}, "path": "core/src/main/java/org/apache/iceberg/hadoop/HadoopCatalog.java", "diffHunk": "@@ -156,13 +154,6 @@ protected String name() {\n     return Lists.newArrayList(tblIdents);\n   }\n \n-  @Override\n-  public Table createTable(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc31599ee20c8d4885cb784794100fe266314687"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bc31599ee20c8d4885cb784794100fe266314687", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/bc31599ee20c8d4885cb784794100fe266314687", "committedDate": "2020-09-03T14:57:10Z", "message": "Make base builder constructor public"}, "afterCommit": {"oid": "24fed04933f3dbca6322adb12cac5e0c4c36183a", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/24fed04933f3dbca6322adb12cac5e0c4c36183a", "committedDate": "2020-09-03T15:05:03Z", "message": "API: Introduce a builder in Catalog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTM0Mjg5", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481934289", "createdAt": "2020-09-03T15:05:20Z", "commit": {"oid": "bc31599ee20c8d4885cb784794100fe266314687"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTowNTo1M1rOHMrDDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTowNjowNFrOHMrDhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MDI1NA==", "bodyText": "Why allow null here? We used to allow null for the parameter because you had to pass it, but now you don't have to pass it so maybe we should reject null?", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483050254", "createdAt": "2020-09-03T15:05:53Z", "author": {"login": "RussellSpitzer"}, "path": "core/src/main/java/org/apache/iceberg/BaseMetastoreCatalog.java", "diffHunk": "@@ -218,6 +189,114 @@ public String toString() {\n \n   protected abstract String defaultWarehouseLocation(TableIdentifier tableIdentifier);\n \n+  protected class BaseMetastoreCatalogTableBuilder implements TableBuilder {\n+    private final TableIdentifier identifier;\n+    private final Schema schema;\n+    private final ImmutableMap.Builder<String, String> propertiesBuilder = ImmutableMap.builder();\n+    private PartitionSpec spec = PartitionSpec.unpartitioned();\n+    private String location = null;\n+\n+    public BaseMetastoreCatalogTableBuilder(TableIdentifier identifier, Schema schema) {\n+      Preconditions.checkArgument(isValidIdentifier(identifier), \"Invalid table identifier: %s\", identifier);\n+\n+      this.identifier = identifier;\n+      this.schema = schema;\n+    }\n+\n+    @Override\n+    public TableBuilder withPartitionSpec(PartitionSpec newSpec) {\n+      if (spec != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24fed04933f3dbca6322adb12cac5e0c4c36183a"}, "originalPosition": 135}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA1MDM3NQ==", "bodyText": "Same null question here", "url": "https://github.com/apache/iceberg/pull/1409#discussion_r483050375", "createdAt": "2020-09-03T15:06:04Z", "author": {"login": "RussellSpitzer"}, "path": "core/src/main/java/org/apache/iceberg/BaseMetastoreCatalog.java", "diffHunk": "@@ -218,6 +189,114 @@ public String toString() {\n \n   protected abstract String defaultWarehouseLocation(TableIdentifier tableIdentifier);\n \n+  protected class BaseMetastoreCatalogTableBuilder implements TableBuilder {\n+    private final TableIdentifier identifier;\n+    private final Schema schema;\n+    private final ImmutableMap.Builder<String, String> propertiesBuilder = ImmutableMap.builder();\n+    private PartitionSpec spec = PartitionSpec.unpartitioned();\n+    private String location = null;\n+\n+    public BaseMetastoreCatalogTableBuilder(TableIdentifier identifier, Schema schema) {\n+      Preconditions.checkArgument(isValidIdentifier(identifier), \"Invalid table identifier: %s\", identifier);\n+\n+      this.identifier = identifier;\n+      this.schema = schema;\n+    }\n+\n+    @Override\n+    public TableBuilder withPartitionSpec(PartitionSpec newSpec) {\n+      if (spec != null) {\n+        this.spec = newSpec;\n+      }\n+      return this;\n+    }\n+\n+    @Override\n+    public TableBuilder withLocation(String newLocation) {\n+      this.location = newLocation;\n+      return this;\n+    }\n+\n+    @Override\n+    public TableBuilder withProperties(Map<String, String> properties) {\n+      if (properties != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24fed04933f3dbca6322adb12cac5e0c4c36183a"}, "originalPosition": 149}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTM1OTQ2", "url": "https://github.com/apache/iceberg/pull/1409#pullrequestreview-481935946", "createdAt": "2020-09-03T15:07:02Z", "commit": {"oid": "bc31599ee20c8d4885cb784794100fe266314687"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc9e2f039df516c0b9b56a7a4f8fb70a1dcece9f", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/bc9e2f039df516c0b9b56a7a4f8fb70a1dcece9f", "committedDate": "2020-09-03T15:12:37Z", "message": "API: Introduce a builder in Catalog"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24fed04933f3dbca6322adb12cac5e0c4c36183a", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/24fed04933f3dbca6322adb12cac5e0c4c36183a", "committedDate": "2020-09-03T15:05:03Z", "message": "API: Introduce a builder in Catalog"}, "afterCommit": {"oid": "bc9e2f039df516c0b9b56a7a4f8fb70a1dcece9f", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/bc9e2f039df516c0b9b56a7a4f8fb70a1dcece9f", "committedDate": "2020-09-03T15:12:37Z", "message": "API: Introduce a builder in Catalog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dcf239827a959e9e4c3a02a9f5e94eaf9db2103", "author": {"user": {"login": "aokolnychyi", "name": "Anton Okolnychyi"}}, "url": "https://github.com/apache/iceberg/commit/2dcf239827a959e9e4c3a02a9f5e94eaf9db2103", "committedDate": "2020-09-03T16:18:21Z", "message": "Fix typo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4154, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}