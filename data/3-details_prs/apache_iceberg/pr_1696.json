{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNTI4MTE4", "number": 1696, "title": "ORC: Enable predicate pushdown and remove metrics workaround for Timestamps", "bodyText": "Now that ORC-611 is fixed, ORC will store statistics for Timestamp types with nanosecond precision. So we can push down predicates and also rely on timestamp statistics reported back by ORC.\nFor older ORC files which only contain millisecond precision stats, ORC will subtract/add 1 millisecond to the min/max so that the lower/upper bounds are valid and correctly represent the values in the data.", "createdAt": "2020-11-01T02:17:36Z", "url": "https://github.com/apache/iceberg/pull/1696", "merged": true, "mergeCommit": {"oid": "29915e3522f9a808420a2e16fb1c2cf3ae165a74"}, "closed": true, "closedAt": "2020-11-01T19:27:54Z", "author": {"login": "shardulm94"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYGK4aAH2gAyNTEzNTI4MTE4OmE3YTU0MTg2ZThjNWIyNDgzYjdmY2FjMDdlMDdmYjY3Y2ExOGU4NDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYVGoYAFqTUyMTI1MzI0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a7a54186e8c5b2483b7fcac07e07fb67ca18e846", "author": {"user": {"login": "shardulm94", "name": "Shardul Mahadik"}}, "url": "https://github.com/apache/iceberg/commit/a7a54186e8c5b2483b7fcac07e07fb67ca18e846", "committedDate": "2020-11-01T02:02:44Z", "message": "ORC: Enable predicate pushdown and remove metrics workaround for Timestamps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjUzMTU0", "url": "https://github.com/apache/iceberg/pull/1696#pullrequestreview-521253154", "createdAt": "2020-11-01T19:25:24Z", "commit": {"oid": "a7a54186e8c5b2483b7fcac07e07fb67ca18e846"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxOToyNToyNVrOHrxdvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxOToyNToyNVrOHrxdvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2MTI0NA==", "bodyText": "Shouldn't we be using values that have microseconds?", "url": "https://github.com/apache/iceberg/pull/1696#discussion_r515661244", "createdAt": "2020-11-01T19:25:25Z", "author": {"login": "rdblue"}, "path": "data/src/test/java/org/apache/iceberg/data/TestMetricsRowGroupFilterTypes.java", "diffHunk": "@@ -249,13 +249,8 @@ public void createParquetInputFile(List<Record> records) throws IOException {\n         { \"orc\", \"double\", 2.11d, 1.97d },\n         { \"orc\", \"date\", \"2018-06-29\", \"2018-05-03\" },\n         { \"orc\", \"time\", \"10:02:34.000000\", \"10:02:34.000001\" },\n-        // Temporarily disable filters on Timestamp columns due to ORC-611.\n-        // ORC-611 is closed with fix versions of ORC 1.6.4 and 1.7.0, but\n-        // testing on 1.6.4 still lead to failures and 1.7.0 is not published.\n-        //\n-        // See also HIVE-23036, which is still open.\n-        // { \"orc\", \"timestamp\", \"2018-06-29T10:02:34.000000\", \"2018-06-29T15:02:34.000000\" },\n-        // { \"orc\", \"timestamptz\", \"2018-06-29T10:02:34.000000+00:00\", \"2018-06-29T10:02:34.000000-07:00\" },\n+        { \"orc\", \"timestamp\", \"2018-06-29T10:02:34.000000\", \"2018-06-29T15:02:34.000000\" },\n+        { \"orc\", \"timestamptz\", \"2018-06-29T10:02:34.000000+00:00\", \"2018-06-29T10:02:34.000000-07:00\" },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7a54186e8c5b2483b7fcac07e07fb67ca18e846"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjUzMjQ1", "url": "https://github.com/apache/iceberg/pull/1696#pullrequestreview-521253245", "createdAt": "2020-11-01T19:26:40Z", "commit": {"oid": "a7a54186e8c5b2483b7fcac07e07fb67ca18e846"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3654, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}