{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyODU5NTU0", "number": 1961, "title": "Spark: Add WRITE ORDERED BY command to set table order", "bodyText": "This adds ALTER TABLE ... WRITE ORDERED BY ... to set the table order in Spark.", "createdAt": "2020-12-19T02:04:25Z", "url": "https://github.com/apache/iceberg/pull/1961", "merged": true, "mergeCommit": {"oid": "1e99eef0a78022120ea19bd871410bb627a9c3a3"}, "closed": true, "closedAt": "2020-12-21T09:54:18Z", "author": {"login": "rdblue"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdni85PAH2gAyNTQyODU5NTU0Ojc1OTc0YTYzY2ExMGJmYzVjMjYxYzU2NDUzNDYxMjI2ODJiMDkxNWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoS4WngFqTU1NjI1NzIwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75974a63ca10bfc5c261c5645346122682b0915f", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/75974a63ca10bfc5c261c5645346122682b0915f", "committedDate": "2020-12-19T02:03:34Z", "message": "SPARK: Add WRITE ORDERED BY command to set table order."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6", "author": {"user": {"login": "rdblue", "name": "Ryan Blue"}}, "url": "https://github.com/apache/iceberg/commit/fbacfb592189830e74cc6b979ff29e8c08ec5aa6", "committedDate": "2020-12-19T22:41:45Z", "message": "Update simpleString methods."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjU1MDcx", "url": "https://github.com/apache/iceberg/pull/1961#pullrequestreview-556255071", "createdAt": "2020-12-21T09:50:46Z", "commit": {"oid": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwOTo1MDo0NlrOIJSWog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwOTo1MDo0NlrOIJSWog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwODgwMg==", "bodyText": "+1 on supporting expressions with and without parentheses.", "url": "https://github.com/apache/iceberg/pull/1961#discussion_r546608802", "createdAt": "2020-12-21T09:50:46Z", "author": {"login": "aokolnychyi"}, "path": "spark3-extensions/src/main/antlr/org.apache.spark.sql.catalyst.parser.extensions/IcebergSqlExtensions.g4", "diffHunk": "@@ -69,13 +69,23 @@ statement\n     : CALL multipartIdentifier '(' (callArgument (',' callArgument)*)? ')'                  #call\n     | ALTER TABLE multipartIdentifier ADD PARTITION FIELD transform (AS name=identifier)?   #addPartitionField\n     | ALTER TABLE multipartIdentifier DROP PARTITION FIELD transform                        #dropPartitionField\n+    | ALTER TABLE multipartIdentifier WRITE ORDERED BY order                                #setTableOrder\n     ;\n \n callArgument\n     : expression                    #positionalArgument\n     | identifier '=>' expression    #namedArgument\n     ;\n \n+order\n+    : fields+=orderField (',' fields+=orderField)*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjU3MjA4", "url": "https://github.com/apache/iceberg/pull/1961#pullrequestreview-556257208", "createdAt": "2020-12-21T09:54:03Z", "commit": {"oid": "fbacfb592189830e74cc6b979ff29e8c08ec5aa6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3300, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}