{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4NjA5OTgx", "number": 224, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyODo1NlrOE3Tr9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyOToyOFrOE3TtDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NDI5Njg3OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/com/hartwig/pipeline/alignment/bwa/BwaAligner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyODo1NlrOHwk56A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyODo1NlrOHwk56A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY5ODM0NA==", "bodyText": "I think its needs to be bai(bam(metadata.sampleName)", "url": "https://github.com/hartwigmedical/pipeline5/pull/224#discussion_r520698344", "createdAt": "2020-11-10T16:28:56Z", "author": {"login": "pauldwolfe"}, "path": "cluster/src/main/java/com/hartwig/pipeline/alignment/bwa/BwaAligner.java", "diffHunk": "@@ -160,21 +160,23 @@ public AlignmentOutput run(final SingleSampleRunMetadata metadata) throws Except\n             if (!arguments.outputCram()) {\n                 outputBuilder.addReportComponents(new SingleFileComponent(rootBucket,\n                                 Aligner.NAMESPACE,\n-                                Folder.from(metadata),\n-                                bam(metadata.sampleName()),\n-                                bam(metadata.sampleName()),\n-                                resultsDirectory),\n+                                Folder.from(metadata), bam(metadata.sampleName()), bam(metadata.sampleName()), resultsDirectory),\n                         new SingleFileComponent(rootBucket,\n                                 Aligner.NAMESPACE,\n                                 Folder.from(metadata),\n                                 bai(bam(metadata.sampleName())),\n                                 bai(bam(metadata.sampleName())),\n                                 resultsDirectory))\n                         .addFurtherOperations(new AddDatatypeToFile(DataType.ALIGNED_READS,\n-                                Folder.from(metadata),\n-                                BwaAligner.NAMESPACE,\n-                                bam(metadata.sampleName()),\n-                                metadata.barcode()));\n+                                        Folder.from(metadata),\n+                                        BwaAligner.NAMESPACE,\n+                                        bam(metadata.sampleName()),\n+                                        metadata.barcode()),\n+                                new AddDatatypeToFile(DataType.ALIGNED_READS_INDEX,\n+                                        Folder.from(metadata),\n+                                        BwaAligner.NAMESPACE,\n+                                        bai(metadata.sampleName()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb32efde23184525a614eba1b7ac5a5d03987716"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NDI5OTY3OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/com/hartwig/pipeline/alignment/bwa/BwaAligner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyOToyOFrOHwk7nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNjoyOToyOFrOHwk7nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY5ODc4MA==", "bodyText": "is this formatted?", "url": "https://github.com/hartwigmedical/pipeline5/pull/224#discussion_r520698780", "createdAt": "2020-11-10T16:29:28Z", "author": {"login": "pauldwolfe"}, "path": "cluster/src/main/java/com/hartwig/pipeline/alignment/bwa/BwaAligner.java", "diffHunk": "@@ -160,21 +160,23 @@ public AlignmentOutput run(final SingleSampleRunMetadata metadata) throws Except\n             if (!arguments.outputCram()) {\n                 outputBuilder.addReportComponents(new SingleFileComponent(rootBucket,\n                                 Aligner.NAMESPACE,\n-                                Folder.from(metadata),\n-                                bam(metadata.sampleName()),\n-                                bam(metadata.sampleName()),\n-                                resultsDirectory),\n+                                Folder.from(metadata), bam(metadata.sampleName()), bam(metadata.sampleName()), resultsDirectory),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb32efde23184525a614eba1b7ac5a5d03987716"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1630, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}