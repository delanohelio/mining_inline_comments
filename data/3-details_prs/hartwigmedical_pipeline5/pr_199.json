{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNDc2ODg5", "number": 199, "title": "DEV-1498 Use persisted data for somatic stages", "bodyText": "Refactors previous change to also support looking up somatic data from persistent storage.\nBy adding the barcode to the RunMetadata we can actually avoid having a different implementations\nand look up the files using the tumor barcode.\nAs many of the HMF tools just need a directory, we add a second method to the dataset interface.\nMaybe later we refactor the model in the API to better support this, so nice to hide it behind\nand interface.\nAdd a simple check in the cleanup to ensure we don't fail deleting runtime buckets which do not\nexist.", "createdAt": "2020-09-21T18:19:42Z", "url": "https://github.com/hartwigmedical/pipeline5/pull/199", "merged": true, "mergeCommit": {"oid": "1d8893d4966b44c71747799d40b180f473cb2eee"}, "closed": true, "closedAt": "2020-09-22T17:47:38Z", "author": {"login": "pauldwolfe"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLHkQEAH2gAyNDkwNDc2ODg5OjExMjE3YTE1ODdhYWVmZDQ0MTk2NjcyYjUwZDQ0NjE2ZWZiMjBjNzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLbdRsgH2gAyNDkwNDc2ODg5OjNjY2Y0ZWY5NTNhMTU3ZDJlNGQ5ZGVjNTE3ZGIwYTk2ZWMwOTdhNjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "11217a1587aaefd44196672b50d44616efb20c79", "author": {"user": null}, "url": "https://github.com/hartwigmedical/pipeline5/commit/11217a1587aaefd44196672b50d44616efb20c79", "committedDate": "2020-09-21T18:19:20Z", "message": "DEV-1498 User persisted data for somatic stages\n\nRefactors previous change to also support looking up somatic data from persistent storage.\n\nBy adding the barcode to the RunMetadata we can actually avoid having a different implementations\nand look up the files using the tumor barcode.\n\nAs many of the HMF tools just need a directory, we add a second method to the dataset interface.\nMaybe later we refactor the model in the API to better support this, so nice to hide it behind\nand interface.\n\nAdd a simple check in the cleanup to ensure we don't fail deleting runtime buckets which do not\nexist."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyOTYyMTQ1", "url": "https://github.com/hartwigmedical/pipeline5/pull/199#pullrequestreview-492962145", "createdAt": "2020-09-21T20:38:18Z", "commit": {"oid": "11217a1587aaefd44196672b50d44616efb20c79"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDozODoxOFrOHVhjxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDozODoxOFrOHVhjxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzMTk3NA==", "bodyText": "Maybe it's just a nit but I do think this would be easier to read as NoOpPersistedDataset.", "url": "https://github.com/hartwigmedical/pipeline5/pull/199#discussion_r492331974", "createdAt": "2020-09-21T20:38:18Z", "author": {"login": "nedleitch"}, "path": "cluster/src/main/java/com/hartwig/pipeline/reruns/NoopPersistedDataset.java", "diffHunk": "@@ -0,0 +1,18 @@\n+package com.hartwig.pipeline.reruns;\n+\n+import java.util.Optional;\n+\n+import com.hartwig.pipeline.datatypes.DataType;\n+import com.hartwig.pipeline.metadata.RunMetadata;\n+\n+public class NoopPersistedDataset implements PersistedDataset {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11217a1587aaefd44196672b50d44616efb20c79"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ccf4ef953a157d2e4d9dec517db0a96ec097a65", "author": {"user": null}, "url": "https://github.com/hartwigmedical/pipeline5/commit/3ccf4ef953a157d2e4d9dec517db0a96ec097a65", "committedDate": "2020-09-22T17:29:49Z", "message": "DEV-1498 Add tests for stages using PersistedDataset"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3751, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}