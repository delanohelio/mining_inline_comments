{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NzUyNTE0", "number": 164, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo0NzoxMFrOEHKSeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjowMjowNFrOEHKltg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTQ0MDU3OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo0NzoxMFrOGmZaDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjo0MTozNFrOGmbGbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxNTM0Mg==", "bodyText": "What do you think about switching to the BOM in the pipeline too?", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442915342", "createdAt": "2020-06-19T15:47:10Z", "author": {"login": "nedleitch"}, "path": "pom.xml", "diffHunk": "@@ -146,6 +151,11 @@\n                 <artifactId>google-cloud-monitoring</artifactId>\n                 <version>${google-cloud.version}</version>\n             </dependency>\n+            <dependency>\n+                <groupId>com.google.cloud</groupId>\n+                <artifactId>google-cloud-pubsub</artifactId>\n+                <version>${google-cloud.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0MzA4NQ==", "bodyText": "probably should", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442943085", "createdAt": "2020-06-19T16:41:34Z", "author": {"login": "pauldwolfe"}, "path": "pom.xml", "diffHunk": "@@ -146,6 +151,11 @@\n                 <artifactId>google-cloud-monitoring</artifactId>\n                 <version>${google-cloud.version}</version>\n             </dependency>\n+            <dependency>\n+                <groupId>com.google.cloud</groupId>\n+                <artifactId>google-cloud-pubsub</artifactId>\n+                <version>${google-cloud.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxNTM0Mg=="}, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTQ3MzQ5OnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/Event.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo1NzoxMlrOGmZutg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjo0MjowM1rOGmbHOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMDYzMA==", "bodyText": "This feels a bit over-abstracted to me, suspect it will continue to evolve.", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442920630", "createdAt": "2020-06-19T15:57:12Z", "author": {"login": "nedleitch"}, "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/Event.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.hartwig.pipeline.turquoise;\n+\n+import java.time.LocalDateTime;\n+import java.util.List;\n+\n+import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n+\n+import org.immutables.value.Value;\n+\n+@Value.Immutable\n+@JsonSerialize(as = ImmutableEvent.class)\n+interface Event {\n+\n+    @Value.Parameter\n+    LocalDateTime timestamp();\n+\n+    @Value.Parameter\n+    EventType type();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0MzI4OQ==", "bodyText": "Actually I'm happy to remove this, makes the json more verbose than it needs to be.", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442943289", "createdAt": "2020-06-19T16:42:03Z", "author": {"login": "pauldwolfe"}, "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/Event.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.hartwig.pipeline.turquoise;\n+\n+import java.time.LocalDateTime;\n+import java.util.List;\n+\n+import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n+\n+import org.immutables.value.Value;\n+\n+@Value.Immutable\n+@JsonSerialize(as = ImmutableEvent.class)\n+interface Event {\n+\n+    @Value.Parameter\n+    LocalDateTime timestamp();\n+\n+    @Value.Parameter\n+    EventType type();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMDYzMA=="}, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTQ4MjUwOnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/EventType.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo1OTo0N1rOGmZ0Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNTo1OTo0N1rOGmZ0Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMjAyNg==", "bodyText": "See comment above, in BigQuery this is just a string at the top-level.", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442922026", "createdAt": "2020-06-19T15:59:47Z", "author": {"login": "nedleitch"}, "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/EventType.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.hartwig.pipeline.turquoise;\n+\n+import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n+\n+import org.immutables.value.Value;\n+\n+@Value.Immutable\n+@JsonSerialize(as = ImmutableEventType.class)\n+interface EventType {\n+\n+    @Value.Parameter\n+    String name();\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTQ4OTgyOnYy", "diffSide": "RIGHT", "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/PipelineCompleted.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjowMjowNFrOGmZ4oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNjowMjowNFrOGmZ4oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkyMzE2OA==", "bodyText": "Rarely seen in the wild.", "url": "https://github.com/hartwigmedical/pipeline5/pull/164#discussion_r442923168", "createdAt": "2020-06-19T16:02:04Z", "author": {"login": "nedleitch"}, "path": "cluster/src/main/java/com/hartwig/pipeline/turquoise/PipelineCompleted.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package com.hartwig.pipeline.turquoise;\n+\n+import java.util.List;\n+\n+import org.immutables.value.Value;\n+\n+@Value.Immutable\n+public interface PipelineCompleted extends PipelineEvent {\n+\n+    String status();\n+\n+    @Override\n+    default String eventType() {\n+        return \"pipeline.completed\";\n+    }\n+\n+    @Override\n+    default List<Subject> subjects() {\n+        List<Subject> subjects = PipelineEvent.super.subjects();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b504fed79515cfd457a803657a6717c372ac9b24"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1666, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}