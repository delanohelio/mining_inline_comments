{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MzI4OTU3", "number": 3212, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxOTo0ODozNlrODm1MRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDo0MzowMlrODm2SZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMDQzOTc1OnYy", "diffSide": "RIGHT", "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxOTo0ODozNlrOF0ee1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDozMzoyN1rOF0f8gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU2OTY4NQ==", "bodyText": "Won't this cause a problem with <bean/> config? (ambiguous setter) setKnownHostsResource() ?", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390569685", "createdAt": "2020-03-10T19:48:36Z", "author": {"login": "garyrussell"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHosts(Resource)}\n \t */\n+\t@Deprecated\n \tpublic void setKnownHosts(String knownHosts) {\n+\t\tsetKnownHosts(new FileSystemResource(knownHosts));\n+\t}\n+\n+\t/**\n+\t * Specifies the filename that will be used for a host key repository.\n+\t * The file has the same format as OpenSSH's known_hosts file.\n+\t * @param knownHosts the resource for known hosts.\n+\t * @see JSch#setKnownHosts(InputStream)\n+\t * @since 5.2.5\n+\t */\n+\tpublic void setKnownHosts(Resource knownHosts) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02451c1190411525d34ccf77abf3039bbb44e542"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU4MTAyNQ==", "bodyText": "Looks like Juergen has fixed something in SF. See Travis \ud83d\ude04", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390581025", "createdAt": "2020-03-10T20:09:45Z", "author": {"login": "artembilan"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHosts(Resource)}\n \t */\n+\t@Deprecated\n \tpublic void setKnownHosts(String knownHosts) {\n+\t\tsetKnownHosts(new FileSystemResource(knownHosts));\n+\t}\n+\n+\t/**\n+\t * Specifies the filename that will be used for a host key repository.\n+\t * The file has the same format as OpenSSH's known_hosts file.\n+\t * @param knownHosts the resource for known hosts.\n+\t * @see JSch#setKnownHosts(InputStream)\n+\t * @since 5.2.5\n+\t */\n+\tpublic void setKnownHosts(Resource knownHosts) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU2OTY4NQ=="}, "originalCommit": {"oid": "02451c1190411525d34ccf77abf3039bbb44e542"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU4MzA1Ng==", "bodyText": "If I recall correctly, failures were random; also it looks like you changed all the tests to return a Resource using SpEL.\nPerhaps the problem only occurs when a PropertyEditor is needed (although I remember most of the problems were with String Vs. Expression .\nI will defer to you, though, if you think it's safe.", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390583056", "createdAt": "2020-03-10T20:13:44Z", "author": {"login": "garyrussell"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHosts(Resource)}\n \t */\n+\t@Deprecated\n \tpublic void setKnownHosts(String knownHosts) {\n+\t\tsetKnownHosts(new FileSystemResource(knownHosts));\n+\t}\n+\n+\t/**\n+\t * Specifies the filename that will be used for a host key repository.\n+\t * The file has the same format as OpenSSH's known_hosts file.\n+\t * @param knownHosts the resource for known hosts.\n+\t * @see JSch#setKnownHosts(InputStream)\n+\t * @since 5.2.5\n+\t */\n+\tpublic void setKnownHosts(Resource knownHosts) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU2OTY4NQ=="}, "originalCommit": {"oid": "02451c1190411525d34ccf77abf3039bbb44e542"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU5MzY2Nw==", "bodyText": "Well, I can rename it to setKnownHostsResource to have it really very safe...", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390593667", "createdAt": "2020-03-10T20:33:27Z", "author": {"login": "artembilan"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHosts(Resource)}\n \t */\n+\t@Deprecated\n \tpublic void setKnownHosts(String knownHosts) {\n+\t\tsetKnownHosts(new FileSystemResource(knownHosts));\n+\t}\n+\n+\t/**\n+\t * Specifies the filename that will be used for a host key repository.\n+\t * The file has the same format as OpenSSH's known_hosts file.\n+\t * @param knownHosts the resource for known hosts.\n+\t * @see JSch#setKnownHosts(InputStream)\n+\t * @since 5.2.5\n+\t */\n+\tpublic void setKnownHosts(Resource knownHosts) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU2OTY4NQ=="}, "originalCommit": {"oid": "02451c1190411525d34ccf77abf3039bbb44e542"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMDYxOTI2OnYy", "diffSide": "RIGHT", "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDo0MzowMlrOF0gPgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQyMDo0NDo1NVrOF0gTjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU5ODUyOA==", "bodyText": "Should we really deprecate? This is easier if you are using Java Config and want to point to a simple file name.\nNot related to this PR but perhaps we should consider adding a SftpSessionFactorySpec ?", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390598528", "createdAt": "2020-03-10T20:43:02Z", "author": {"login": "garyrussell"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHostsResource(Resource)}\n \t */\n+\t@Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7de122d325c3f38d853a86e1bd1c7d4d73dc682e"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU5OTU2Ng==", "bodyText": "Then we need also to add a string-based for privateKey.\nMore over it is better to resolve any resources via @Value Resource then inject.", "url": "https://github.com/spring-projects/spring-integration/pull/3212#discussion_r390599566", "createdAt": "2020-03-10T20:44:55Z", "author": {"login": "artembilan"}, "path": "spring-integration-sftp/src/main/java/org/springframework/integration/sftp/session/DefaultSftpSessionFactory.java", "diffHunk": "@@ -191,8 +193,21 @@ public void setPassword(String password) {\n \t * false (default).</b>\n \t * @param knownHosts The known hosts.\n \t * @see JSch#setKnownHosts(String)\n+\t * @deprecated since 5.2.5 in favor of {@link #setKnownHostsResource(Resource)}\n \t */\n+\t@Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDU5ODUyOA=="}, "originalCommit": {"oid": "7de122d325c3f38d853a86e1bd1c7d4d73dc682e"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2001, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}