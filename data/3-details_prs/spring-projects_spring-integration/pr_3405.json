{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NDA3NzI2", "number": 3405, "title": "Kafka Outbound Endpoints - Add futuresChannel", "bodyText": "Currently, the only way to block is to set sync=true which waits for the future.\nThe problem with this is it only supports one-at-a-time publication.\nAdd an option to send the send futures to a channel, allowing the application to\nsend multiple records and then wait on the futures later.\nAlso fix long-running test.\nNeeds docs before merging", "createdAt": "2020-10-15T21:52:10Z", "url": "https://github.com/spring-projects/spring-integration/pull/3405", "merged": true, "mergeCommit": {"oid": "9c6000e453d438ee92ee72e6d1e6a05605d5ec1d"}, "closed": true, "closedAt": "2020-10-16T18:37:38Z", "author": {"login": "garyrussell"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS4-odAH2gAyNTA0NDA3NzI2OjYzMjgxMWYyZjE2NThmNTA3YzBiZDMyNTJkZmVjNzg5ODEzMGNjY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTJMI2AH2gAyNTA0NDA3NzI2OjZiYzg2MzcyNjIxMmY0MWMxZTBjMmUwZGVmNmEzNDA2MmQyYzViZTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "632811f2f1658f507c0bd3252dfec7898130cccc", "author": {"user": {"login": "garyrussell", "name": "Gary Russell"}}, "url": "https://github.com/spring-projects/spring-integration/commit/632811f2f1658f507c0bd3252dfec7898130cccc", "committedDate": "2020-10-15T21:50:58Z", "message": "Kafka Outbound Endpoints - Add futuresChannel\n\nCurrently, the only way to block is to set `sync=true` which waits for the future.\nThe problem with this is it only supports one-at-a-time publication.\n\nAdd an option to send the send futures to a channel, allowing the application to\nsend multiple records and then wait on the futures later.\n\nAlso fix long-running test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNTYyNTA3", "url": "https://github.com/spring-projects/spring-integration/pull/3405#pullrequestreview-510562507", "createdAt": "2020-10-16T15:10:39Z", "commit": {"oid": "632811f2f1658f507c0bd3252dfec7898130cccc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNToxMDo0MFrOHjEH7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNToxMDo0MFrOHjEH7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUyOTc3NA==", "bodyText": "We probably don't need sync to prove that \"send, send, wait, wait\" concept...", "url": "https://github.com/spring-projects/spring-integration/pull/3405#discussion_r506529774", "createdAt": "2020-10-16T15:10:40Z", "author": {"login": "artembilan"}, "path": "spring-integration-kafka/src/test/java/org/springframework/integration/kafka/dsl/KafkaDslTests.java", "diffHunk": "@@ -354,6 +371,7 @@ public DefaultKafkaHeaderMapper mapper() {\n \n \t\t\treturn Kafka\n \t\t\t\t\t.outboundChannelAdapter(producerFactory)\n+\t\t\t\t\t.futuresChannel(\"futuresChannel\")\n \t\t\t\t\t.sync(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "632811f2f1658f507c0bd3252dfec7898130cccc"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bc863726212f41c1e0c2e0def6a34062d2c5be8", "author": {"user": {"login": "garyrussell", "name": "Gary Russell"}}, "url": "https://github.com/spring-projects/spring-integration/commit/6bc863726212f41c1e0c2e0def6a34062d2c5be8", "committedDate": "2020-10-16T16:44:12Z", "message": "Add docs."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 136, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}