{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NjI2Mzgz", "number": 3234, "title": "GH-3219: Add `HandleMessageAdviceAdapter`", "bodyText": "Fixes #3219", "createdAt": "2020-03-31T21:52:37Z", "url": "https://github.com/spring-projects/spring-integration/pull/3234", "merged": true, "mergeCommit": {"oid": "76e79012fe5305a75a078dae0440b13dabc2e0ea"}, "closed": true, "closedAt": "2020-04-01T15:10:34Z", "author": {"login": "artembilan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTKUvggH2gAyMzk2NjI2MzgzOjY3ZTU0M2E0NTQ1MjYxZmMzNGMxZTcyMDkwNTk3MDFiZjQ2ZmQ3MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTZLHugFqTM4NTY4MTgzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "67e543a4545261fc34c1e7209059701bf46fd701", "author": {"user": {"login": "artembilan", "name": "Artem Bilan"}}, "url": "https://github.com/spring-projects/spring-integration/commit/67e543a4545261fc34c1e7209059701bf46fd701", "committedDate": "2020-03-31T21:52:21Z", "message": "GH-3219: Add `HandleMessageAdviceAdapter`\n\nFixes https://github.com/spring-projects/spring-integration/issues/3219"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NjU1MDI3", "url": "https://github.com/spring-projects/spring-integration/pull/3234#pullrequestreview-385655027", "createdAt": "2020-04-01T14:43:17Z", "commit": {"oid": "67e543a4545261fc34c1e7209059701bf46fd701"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDo0MzoxN1rOF_EASA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNDo0MzoxN1rOF_EASA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY3MDIxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            See `HandleMessageAdviceAdapter` JavaDocs for more information.\n          \n          \n            \n            Starting with version 5.3, the `HandleMessageAdviceAdapter` is provided to apply any `MethodInterceptor` for the `MessageHandler.handleMessage()` method and, therefore, the whole sub-flow.\n          \n          \n            \n            For example, a `RetryOperationsInterceptor` could be applied to the whole sub-flow starting from some endpoint; this is not possible, by default, because the consumer endpoint applies advices only to the `AbstractReplyProducingMessageHandler.RequestHandler.handleRequestMessage()`.", "url": "https://github.com/spring-projects/spring-integration/pull/3234#discussion_r401670216", "createdAt": "2020-04-01T14:43:17Z", "author": {"login": "garyrussell"}, "path": "src/reference/asciidoc/handler-advice.adoc", "diffHunk": "@@ -683,6 +683,10 @@ Note that, in that case, the entire downstream flow is within the transaction sc\n \n In the case of a `MessageHandler` that does not return a response, the advice chain order is retained.\n \n+Starting with version 5.3, the `HandleMessageAdviceAdapter` is present to let apply any existing `MethodInterceptor` for the `MessageHandler.handleMessage()` and, therefore, whole sub-flow.\n+For example a `RetryOperationsInterceptor` could be applied for the whole sub-flow starting from some endpoint, which is not possible by default because consumer endpoint applies advices only for the `AbstractReplyProducingMessageHandler.RequestHandler.handleRequestMessage()`.\n+See `HandleMessageAdviceAdapter` JavaDocs for more information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67e543a4545261fc34c1e7209059701bf46fd701"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f48bfc8161050158bb8819318f81e2b2ea497c7", "author": {"user": {"login": "artembilan", "name": "Artem Bilan"}}, "url": "https://github.com/spring-projects/spring-integration/commit/6f48bfc8161050158bb8819318f81e2b2ea497c7", "committedDate": "2020-04-01T15:05:28Z", "message": "* Fix language in doc\n\nCo-Authored-By: Gary Russell <grussell@pivotal.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NjgxODM1", "url": "https://github.com/spring-projects/spring-integration/pull/3234#pullrequestreview-385681835", "createdAt": "2020-04-01T15:10:25Z", "commit": {"oid": "6f48bfc8161050158bb8819318f81e2b2ea497c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 213, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}