{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMTU1NTE0", "number": 3378, "title": "GH-3374: Fix scan for BF propagation", "bodyText": "Fixes #3374\nAn internal ClassPathScanningCandidateComponentProvider instance in the IntegrationComponentScanRegistrar\ndoes not propagate a provided registry.\n\nImplement getRegistry() on the internal ClassPathScanningCandidateComponentProvider to propagate\na provided into the registerBeanDefinitions() a BeanDefinitionRegistry\nAdd @Conditional on some scanned @MessagingGateway in the EnableIntegrationTests\n\nCherry-pick to 5.3.x & 5.2.x", "createdAt": "2020-09-09T21:44:56Z", "url": "https://github.com/spring-projects/spring-integration/pull/3378", "merged": true, "mergeCommit": {"oid": "383af8ceb981c0324ec9cb13906edef1080f3729"}, "closed": true, "closedAt": "2020-09-11T13:48:37Z", "author": {"login": "artembilan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHTT3aAH2gAyNDgzMTU1NTE0OmU1ZjQ0YWY1MWEyYmNmM2MzOTgxN2IyY2JkN2Q4NjQ5ODRiOTMxOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHoHn1AH2gAyNDgzMTU1NTE0OmIwMThkZDUyMjI2OWYzMDI1MjAxZjg5MWI3OTcyMmRhZDUxYjI3ZmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e5f44af51a2bcf3c39817b2cbd7d864984b93193", "author": {"user": {"login": "artembilan", "name": "Artem Bilan"}}, "url": "https://github.com/spring-projects/spring-integration/commit/e5f44af51a2bcf3c39817b2cbd7d864984b93193", "committedDate": "2020-09-09T21:44:36Z", "message": "GH-3374: Fix scan for BF propagation\n\nFixes https://github.com/spring-projects/spring-integration/issues/3374\n\nAn internal `ClassPathScanningCandidateComponentProvider` instance in the `IntegrationComponentScanRegistrar`\ndoes not propagate a provided `registry`.\n\n* Implement `getRegistry()` on the internal `ClassPathScanningCandidateComponentProvider` to propagate\na provided into the `registerBeanDefinitions()` a `BeanDefinitionRegistry`\n* Add `@Conditional` on some scanned `@MessagingGateway` in the `EnableIntegrationTests`\n\n**Cherry-pick to 5.3.x & 5.2.x**"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c85d2170341c05aaf11df04366c15292ad8a24e4", "author": {"user": {"login": "artembilan", "name": "Artem Bilan"}}, "url": "https://github.com/spring-projects/spring-integration/commit/c85d2170341c05aaf11df04366c15292ad8a24e4", "committedDate": "2020-09-09T22:10:02Z", "message": "* Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MzAyNjQ0", "url": "https://github.com/spring-projects/spring-integration/pull/3378#pullrequestreview-486302644", "createdAt": "2020-09-10T20:54:20Z", "commit": {"oid": "c85d2170341c05aaf11df04366c15292ad8a24e4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMDo1NDoyMFrOHQFYfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQyMDo1NDoyMFrOHQFYfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjYyNzQ1NQ==", "bodyText": "? It is still unused (this was added to suppress a Sonar issue).", "url": "https://github.com/spring-projects/spring-integration/pull/3378#discussion_r486627455", "createdAt": "2020-09-10T20:54:20Z", "author": {"login": "garyrussell"}, "path": "spring-integration-core/src/main/java/org/springframework/integration/config/IntegrationComponentScanRegistrar.java", "diffHunk": "@@ -150,7 +154,7 @@ private void filter(BeanDefinitionRegistry registry, Map<String, Object> compone\n \t}\n \n \tprotected Collection<String> getBasePackages(AnnotationMetadata importingClassMetadata,\n-\t\t\t@SuppressWarnings(\"unused\") BeanDefinitionRegistry registry) {\n+\t\t\tBeanDefinitionRegistry registry) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c85d2170341c05aaf11df04366c15292ad8a24e4"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b018dd522269f3025201f891b79722dad51b27fa", "author": {"user": {"login": "artembilan", "name": "Artem Bilan"}}, "url": "https://github.com/spring-projects/spring-integration/commit/b018dd522269f3025201f891b79722dad51b27fa", "committedDate": "2020-09-10T21:59:14Z", "message": "Restore `unused` warning on the unused registry arg"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 114, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}