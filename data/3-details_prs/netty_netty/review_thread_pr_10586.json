{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MDYwNzYy", "number": 10586, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNDo0NTo1MFrOElR7Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNjozOTozNVrOEmZCgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTI2NDAzOnYy", "diffSide": "LEFT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNDo0NTo1MFrOHUsb-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QwMToyMDozOFrOHYjujA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MTYyNw==", "bodyText": "We may want to leave this here since I think some similar logic will be needed to what this is used for with epoll - specifically we need to do a final blocking read upon event loop shutdown before closing the eventfd if this flag is set, otherwise the corresponding \"wakeup\" write could be made after the fd has been reassigned to something else.", "url": "https://github.com/netty/netty/pull/10586#discussion_r491461627", "createdAt": "2020-09-19T14:45:50Z", "author": {"login": "njhill"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -52,9 +52,11 @@\n     private final FileDescriptor eventfd;\n \n     private final IovArrays iovArrays;\n+    // The maximum number of bytes for an InetAddress / Inet6Address\n+    private final byte[] inet4AddressArray = new byte[4];\n+    private final byte[] inet6AddressArray = new byte[16];\n \n     private long prevDeadlineNanos = NONE;\n-    private boolean pendingWakeup;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY2MjA4Nw==", "bodyText": "@njhill can you do a pr ?", "url": "https://github.com/netty/netty/pull/10586#discussion_r491662087", "createdAt": "2020-09-20T07:12:19Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -52,9 +52,11 @@\n     private final FileDescriptor eventfd;\n \n     private final IovArrays iovArrays;\n+    // The maximum number of bytes for an InetAddress / Inet6Address\n+    private final byte[] inet4AddressArray = new byte[4];\n+    private final byte[] inet6AddressArray = new byte[16];\n \n     private long prevDeadlineNanos = NONE;\n-    private boolean pendingWakeup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MTYyNw=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MTE2OA==", "bodyText": "Let me pull this one in first and we can add this stuff back when needed.", "url": "https://github.com/netty/netty/pull/10586#discussion_r492871168", "createdAt": "2020-09-22T16:24:30Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -52,9 +52,11 @@\n     private final FileDescriptor eventfd;\n \n     private final IovArrays iovArrays;\n+    // The maximum number of bytes for an InetAddress / Inet6Address\n+    private final byte[] inet4AddressArray = new byte[4];\n+    private final byte[] inet6AddressArray = new byte[16];\n \n     private long prevDeadlineNanos = NONE;\n-    private boolean pendingWakeup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MTYyNw=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMzIyOA==", "bodyText": "@normanmaurer @1Jo1 I've now opened a PR for this: #10615", "url": "https://github.com/netty/netty/pull/10586#discussion_r495513228", "createdAt": "2020-09-27T01:20:38Z", "author": {"login": "njhill"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -52,9 +52,11 @@\n     private final FileDescriptor eventfd;\n \n     private final IovArrays iovArrays;\n+    // The maximum number of bytes for an InetAddress / Inet6Address\n+    private final byte[] inet4AddressArray = new byte[4];\n+    private final byte[] inet6AddressArray = new byte[16];\n \n     private long prevDeadlineNanos = NONE;\n-    private boolean pendingWakeup;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MTYyNw=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTI2Njc1OnYy", "diffSide": "LEFT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNDo0ODoyN1rOHUsdfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQxNTowNzowNlrOHU7ARA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MjAxMg==", "bodyText": "Hmm I see this is unused right now but it probably should be used. It doesn't look like we currently ever remove any channels from the channels map ... this should be done when they are deregistered from the EL (probably after the corresponding CQEs are processed).", "url": "https://github.com/netty/netty/pull/10586#discussion_r491462012", "createdAt": "2020-09-19T14:48:27Z", "author": {"login": "njhill"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -97,27 +99,13 @@ public void run() {\n                 : PlatformDependent.<Runnable>newMpscQueue(maxPendingTasks);\n     }\n \n-    public void add(AbstractIOUringChannel ch) {\n+    void add(AbstractIOUringChannel ch) {\n         logger.trace(\"Add Channel: {} \", ch.socket.intValue());\n         int fd = ch.socket.intValue();\n \n         channels.put(fd, ch);\n     }\n \n-    public void remove(AbstractIOUringChannel ch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY2MjE3OA==", "bodyText": "it is removed: \n  \n    \n      netty/transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java\n    \n    \n         Line 238\n      in\n      267913d\n    \n    \n    \n    \n\n        \n          \n           channels.remove(fd);", "url": "https://github.com/netty/netty/pull/10586#discussion_r491662178", "createdAt": "2020-09-20T07:13:28Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -97,27 +99,13 @@ public void run() {\n                 : PlatformDependent.<Runnable>newMpscQueue(maxPendingTasks);\n     }\n \n-    public void add(AbstractIOUringChannel ch) {\n+    void add(AbstractIOUringChannel ch) {\n         logger.trace(\"Add Channel: {} \", ch.socket.intValue());\n         int fd = ch.socket.intValue();\n \n         channels.put(fd, ch);\n     }\n \n-    public void remove(AbstractIOUringChannel ch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MjAxMg=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY2Mjc4Mg==", "bodyText": "oh yeah we only remove channels when a poll remove is submitted", "url": "https://github.com/netty/netty/pull/10586#discussion_r491662782", "createdAt": "2020-09-20T07:21:24Z", "author": {"login": "1Jo1"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -97,27 +99,13 @@ public void run() {\n                 : PlatformDependent.<Runnable>newMpscQueue(maxPendingTasks);\n     }\n \n-    public void add(AbstractIOUringChannel ch) {\n+    void add(AbstractIOUringChannel ch) {\n         logger.trace(\"Add Channel: {} \", ch.socket.intValue());\n         int fd = ch.socket.intValue();\n \n         channels.put(fd, ch);\n     }\n \n-    public void remove(AbstractIOUringChannel ch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MjAxMg=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTY2MzcyNg==", "bodyText": "a poll remove event is submitted when a channel should be closed, I think we should remove channels from the channels map when no poll event is scheduled", "url": "https://github.com/netty/netty/pull/10586#discussion_r491663726", "createdAt": "2020-09-20T07:33:47Z", "author": {"login": "1Jo1"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -97,27 +99,13 @@ public void run() {\n                 : PlatformDependent.<Runnable>newMpscQueue(maxPendingTasks);\n     }\n \n-    public void add(AbstractIOUringChannel ch) {\n+    void add(AbstractIOUringChannel ch) {\n         logger.trace(\"Add Channel: {} \", ch.socket.intValue());\n         int fd = ch.socket.intValue();\n \n         channels.put(fd, ch);\n     }\n \n-    public void remove(AbstractIOUringChannel ch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MjAxMg=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwMDI5Mg==", "bodyText": "@normanmaurer my bad, I somehow forgot/missed the remove there", "url": "https://github.com/netty/netty/pull/10586#discussion_r491700292", "createdAt": "2020-09-20T15:07:06Z", "author": {"login": "njhill"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -97,27 +99,13 @@ public void run() {\n                 : PlatformDependent.<Runnable>newMpscQueue(maxPendingTasks);\n     }\n \n-    public void add(AbstractIOUringChannel ch) {\n+    void add(AbstractIOUringChannel ch) {\n         logger.trace(\"Add Channel: {} \", ch.socket.intValue());\n         int fd = ch.socket.intValue();\n \n         channels.put(fd, ch);\n     }\n \n-    public void remove(AbstractIOUringChannel ch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2MjAxMg=="}, "originalCommit": {"oid": "d4a8fb5716a30a0562f5545cb940236f41b64c18"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzI0NTQzOnYy", "diffSide": "RIGHT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/AbstractIOUringChannel.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMzozMjozOFrOHU97bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo0NDo0M1rOHVOMOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0ODIwNw==", "bodyText": "@normanmaurer we could just use ioState == 0, I'm not quite sure.. WDYT?", "url": "https://github.com/netty/netty/pull/10586#discussion_r491748207", "createdAt": "2020-09-20T23:32:38Z", "author": {"login": "1Jo1"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/AbstractIOUringChannel.java", "diffHunk": "@@ -714,10 +714,14 @@ protected void doRegister() throws Exception {\n     }\n \n     @Override\n-    protected void doDeregister() throws Exception {\n+    protected void doDeregister() {\n         IOUringSubmissionQueue submissionQueue = submissionQueue();\n \n         if (submissionQueue != null) {\n+            if ((ioState & (POLL_IN_SCHEDULED | POLL_OUT_SCHEDULED | POLL_RDHUP_SCHEDULED)) == 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c77a3867476dbe36e04d145157115353965861"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAxNDY1MQ==", "bodyText": "Yeah I think that is right...", "url": "https://github.com/netty/netty/pull/10586#discussion_r492014651", "createdAt": "2020-09-21T12:44:43Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/AbstractIOUringChannel.java", "diffHunk": "@@ -714,10 +714,14 @@ protected void doRegister() throws Exception {\n     }\n \n     @Override\n-    protected void doDeregister() throws Exception {\n+    protected void doDeregister() {\n         IOUringSubmissionQueue submissionQueue = submissionQueue();\n \n         if (submissionQueue != null) {\n+            if ((ioState & (POLL_IN_SCHEDULED | POLL_OUT_SCHEDULED | POLL_RDHUP_SCHEDULED)) == 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0ODIwNw=="}, "originalCommit": {"oid": "b2c77a3867476dbe36e04d145157115353965861"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDU2NzMzOnYy", "diffSide": "LEFT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoyNTowOFrOHWCftA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoyNTowOFrOHWCftA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MTYwNA==", "bodyText": "@1Jo1 please keep the code above", "url": "https://github.com/netty/netty/pull/10586#discussion_r492871604", "createdAt": "2020-09-22T16:25:08Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -108,17 +107,7 @@ void add(AbstractIOUringChannel ch) {\n     }\n \n     void remove(AbstractIOUringChannel ch) {\n-        logger.trace(\"Remove Channel: {}\", ch.socket.intValue());\n-        int fd = ch.socket.intValue();\n-\n-        AbstractIOUringChannel old = channels.remove(fd);\n-        if (old != null && old != ch) {\n-            // The Channel mapping was already replaced due FD reuse, put back the stored Channel.\n-            channels.put(fd, old);\n-\n-            // If we found another Channel in the map that is mapped to the same FD the given Channel MUST be closed.\n-            assert !ch.isOpen();\n-        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c77a3867476dbe36e04d145157115353965861"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDU2OTEwOnYy", "diffSide": "RIGHT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoyNTozNVrOHWCgyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjoyNTozNVrOHWCgyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg3MTg4Mw==", "bodyText": "if we don't need the return value we should just call set(...)", "url": "https://github.com/netty/netty/pull/10586#discussion_r492871883", "createdAt": "2020-09-22T16:25:35Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -168,8 +157,8 @@ protected void run() {\n                         }\n                     }\n                 } finally {\n-                    if (nextWakeupNanos.get() == AWAKE || nextWakeupNanos.getAndSet(AWAKE) == AWAKE) {\n-                        pendingWakeup = true;\n+                    if (nextWakeupNanos.get() == AWAKE) {\n+                        nextWakeupNanos.getAndSet(AWAKE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2c77a3867476dbe36e04d145157115353965861"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NjgzMjExOnYy", "diffSide": "RIGHT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNjowODoxNFrOHWXsrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNjoxMTo0NlrOHWXyJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxODk5MA==", "bodyText": "remove this change as we already call remove below", "url": "https://github.com/netty/netty/pull/10586#discussion_r493218990", "createdAt": "2020-09-23T06:08:14Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -109,6 +108,7 @@ void add(AbstractIOUringChannel ch) {\n \n     void remove(AbstractIOUringChannel ch) {\n         logger.trace(\"Remove Channel: {}\", ch.socket.intValue());\n+        channels.remove(ch.socket.intValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "570084ff0d76c0570bd4021ee2c4fde73cf6115a"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIyMDM4OA==", "bodyText": "yeah my bad", "url": "https://github.com/netty/netty/pull/10586#discussion_r493220388", "createdAt": "2020-09-23T06:11:46Z", "author": {"login": "1Jo1"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -109,6 +108,7 @@ void add(AbstractIOUringChannel ch) {\n \n     void remove(AbstractIOUringChannel ch) {\n         logger.trace(\"Remove Channel: {}\", ch.socket.intValue());\n+        channels.remove(ch.socket.intValue());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxODk5MA=="}, "originalCommit": {"oid": "570084ff0d76c0570bd4021ee2c4fde73cf6115a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NjkxNTg1OnYy", "diffSide": "RIGHT", "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNjozOTozNVrOHWYfAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNjozOTozNVrOHWYfAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIzMTg3Mg==", "bodyText": "sorry... missed this one. This if makes no sense. Remove it and just call set every time", "url": "https://github.com/netty/netty/pull/10586#discussion_r493231872", "createdAt": "2020-09-23T06:39:35Z", "author": {"login": "normanmaurer"}, "path": "transport-native-io_uring/src/main/java/io/netty/channel/uring/IOUringEventLoop.java", "diffHunk": "@@ -168,8 +167,8 @@ protected void run() {\n                         }\n                     }\n                 } finally {\n-                    if (nextWakeupNanos.get() == AWAKE || nextWakeupNanos.getAndSet(AWAKE) == AWAKE) {\n-                        pendingWakeup = true;\n+                    if (nextWakeupNanos.get() == AWAKE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "beb6dd7e52caf6b7d9015ba79a74693ff8c88f38"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3762, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}