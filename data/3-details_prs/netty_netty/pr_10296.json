{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3OTYyNTQ4", "number": 10296, "title": "Respect jdk.tls.client.enableSessionTicketExtension and jdk.tls.serve\u2026", "bodyText": "\u2026r.enableSessionTicketExtension when using native SSL impl\nMotivation:\nWe should respect jdk.tls.client.enableSessionTicketExtension and jdk.tls.server.enableSessionTicketExtension when using the native SSL implementation as well to make the usage of it easier and more consistent. These properties were introduced by JDK13:\nhttps://seanjmullan.org/blog/2019/08/05/jdk13\nModifications:\nCheck if the properties are set to true and if so enable tickets\nResult:\nEasier to enable tickets and be more consistent", "createdAt": "2020-05-14T12:27:24Z", "url": "https://github.com/netty/netty/pull/10296", "merged": true, "mergeCommit": {"oid": "69db5bff7126fb1d4c26370aa20b258f14246da4"}, "closed": true, "closedAt": "2020-05-15T08:01:10Z", "author": {"login": "normanmaurer"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchMlitgH2gAyNDE3OTYyNTQ4OmJhM2RjMWU2MTdhOWRiODM5N2ZjMjQ2MjVkYWJiNjU1NDAxY2Y1ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchVYxlgFqTQxMjIzNDAzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/ba3dc1e617a9db8397fc24625dabb655401cf5de", "committedDate": "2020-05-14T12:25:27Z", "message": "Respect jdk.tls.client.enableSessionTicketExtension and jdk.tls.server.enableSessionTicketExtension when using native SSL impl\n\nMotivation:\n\nWe should respect jdk.tls.client.enableSessionTicketExtension and jdk.tls.server.enableSessionTicketExtension when using the native SSL implementation as well to make the usage of it easier and more consistent. These properties were introduced by JDK13:\n\nhttps://seanjmullan.org/blog/2019/08/05/jdk13\n\nModifications:\n\nCheck if the properties are set to true and if so enable tickets\n\nResult:\n\nEasier to enable tickets and be more consistent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExOTY4MjY4", "url": "https://github.com/netty/netty/pull/10296#pullrequestreview-411968268", "createdAt": "2020-05-14T16:17:59Z", "commit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNzo1OVrOGVj_tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOToxODozM1rOGVqyBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MzAzMQ==", "bodyText": "FYI: in JDK provider these system properties control only RFC 5077 (TLS Session Resumption Without Server-Side State) for TLSv1.2, but have no effect for TLSv1.3 its PreShaked Keys.\nOpenSSL provider (BoringSSL as well) behaves differently. It uses SSL_OP_NO_TICKET to control tickets for both TLSv1.2 and TLSv1.3 [2].\nBecause we anyway set SSL_OP_NO_TICKET by default for OpenSSL provider, it's not an issue.\n[1] https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-64D7EAF6-D2EE-4719-8616-25E2829CF810\n[2] https://github.com/google/boringssl/blob/3e4dfbb2f81493e1f25b3ce83fee3ed999373a6c/ssl/tls13_server.cc#L106", "url": "https://github.com/netty/netty/pull/10296#discussion_r425263031", "createdAt": "2020-05-14T16:17:59Z", "author": {"login": "idelpivnitskiy"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslClientContext.java", "diffHunk": "@@ -56,6 +57,8 @@\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_RSA,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_EC)));\n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.client.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM3NDIxMw==", "bodyText": "FYI: JDK provider also has jdk.tls.server.sessionTicketTimeout option (default to 24 hours) [1], but IIUC BoringSSL does not provide API to change default rotation interval and always uses 48 hours [2].\n[1] https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-A41282C3-19A3-400A-A40F-86F4DA22ABA9\n[2] https://commondatastorage.googleapis.com/chromium-boringssl-docs/ssl.h.html#SSL_DEFAULT_TICKET_KEY_ROTATION_INTERVAL", "url": "https://github.com/netty/netty/pull/10296#discussion_r425374213", "createdAt": "2020-05-14T19:18:33Z", "author": {"login": "idelpivnitskiy"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslServerContext.java", "diffHunk": "@@ -51,6 +52,9 @@\n     private static final byte[] ID = {'n', 'e', 't', 't', 'y'};\n     private final OpenSslServerSessionContext sessionContext;\n \n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.server.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMjM0MDM1", "url": "https://github.com/netty/netty/pull/10296#pullrequestreview-412234035", "createdAt": "2020-05-14T22:40:39Z", "commit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 319, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}