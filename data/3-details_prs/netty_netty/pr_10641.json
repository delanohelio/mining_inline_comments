{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NDAyNzg5", "number": 10641, "title": "Add HttpScheme Support in HttpToHttp2ConnectionHandler", "bodyText": "Motivation:\nWe should have a method to add HttpScheme if HttpResponse does not contain x-http2-scheme then we should use add it if HttpToHttp2ConnectionHandler is build using specified HttpScheme.\nModification:\nAdded HttpScheme in HttpToHttp2ConnectionHandlerBuilder.\nResult:\nAutomatically add HttpScheme if missing in HttpResponse.", "createdAt": "2020-10-06T09:35:24Z", "url": "https://github.com/netty/netty/pull/10641", "merged": true, "mergeCommit": {"oid": "76d5cdb9e8d3676f0306daac07a3d93e24430a46"}, "closed": true, "closedAt": "2020-11-05T14:53:33Z", "author": {"login": "hyperxpro"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP1AfMAH2gAyNDk4NDAyNzg5OjRhNDBkYjNiMDhkYzEzYTNhYzQ0N2U2YTQzOWUzNzlhYWQ5ZDVmNTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZPmucgH2gAyNDk4NDAyNzg5OmI1ODRiMjEyY2Y4MDNjZTgyOTBiODE0Mzc2ZDFkODBlMmYyNzgyN2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4a40db3b08dc13a3ac447e6a439e379aad9d5f53", "author": {"user": {"login": "hyperxpro", "name": "Aayush Atharva"}}, "url": "https://github.com/netty/netty/commit/4a40db3b08dc13a3ac447e6a439e379aad9d5f53", "committedDate": "2020-10-06T09:31:36Z", "message": "add HttpScheme support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzczNzY1", "url": "https://github.com/netty/netty/pull/10641#pullrequestreview-516773765", "createdAt": "2020-10-26T13:27:56Z", "commit": {"oid": "4a40db3b08dc13a3ac447e6a439e379aad9d5f53"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyNzo1NlrOHoPazw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyNzo1NlrOHoPazw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1NzcxMQ==", "bodyText": "honestly I think thats a very bad idea... a method with get in its name should not modify the headers that are passed in. This is just super unexpected.", "url": "https://github.com/netty/netty/pull/10641#discussion_r511957711", "createdAt": "2020-10-26T13:27:56Z", "author": {"login": "normanmaurer"}, "path": "codec-http2/src/main/java/io/netty/handler/codec/http2/HttpToHttp2ConnectionHandler.java", "diffHunk": "@@ -60,6 +70,9 @@ protected HttpToHttp2ConnectionHandler(Http2ConnectionDecoder decoder, Http2Conn\n      * @throws Exception If the {@code httpHeaders} object specifies an invalid stream id\n      */\n     private int getStreamId(HttpHeaders httpHeaders) throws Exception {\n+        if (httpScheme != null && !httpHeaders.contains(HttpConversionUtil.ExtensionHeaderNames.SCHEME.text())) {\n+            httpHeaders.set(HttpConversionUtil.ExtensionHeaderNames.SCHEME.text(), httpScheme.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a40db3b08dc13a3ac447e6a439e379aad9d5f53"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a802c62292f8f1bb88b8a2339a291c48c976aee8", "author": {"user": {"login": "hyperxpro", "name": "Aayush Atharva"}}, "url": "https://github.com/netty/netty/commit/a802c62292f8f1bb88b8a2339a291c48c976aee8", "committedDate": "2020-10-29T10:34:45Z", "message": "Move HttpScheme changing in write method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e1e873f51ced0501e38c9dd50b1b4228167d54", "author": {"user": {"login": "hyperxpro", "name": "Aayush Atharva"}}, "url": "https://github.com/netty/netty/commit/32e1e873f51ced0501e38c9dd50b1b4228167d54", "committedDate": "2020-10-29T12:01:04Z", "message": "Add tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNDc3MzYz", "url": "https://github.com/netty/netty/pull/10641#pullrequestreview-523477363", "createdAt": "2020-11-04T15:34:12Z", "commit": {"oid": "32e1e873f51ced0501e38c9dd50b1b4228167d54"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNTozNDoxM1rOHtdhEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNTozNDoxM1rOHtdhEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQzMTU2OA==", "bodyText": "revert ?", "url": "https://github.com/netty/netty/pull/10641#discussion_r517431568", "createdAt": "2020-11-04T15:34:13Z", "author": {"login": "normanmaurer"}, "path": "codec-http2/src/main/java/io/netty/handler/codec/http2/AbstractHttp2ConnectionHandlerBuilder.java", "diffHunk": "@@ -17,6 +17,7 @@\n package io.netty.handler.codec.http2;\n \n import io.netty.channel.Channel;\n+import io.netty.handler.codec.http.HttpScheme;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32e1e873f51ced0501e38c9dd50b1b4228167d54"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b584b212cf803ce8290b814376d1d80e2f27827b", "author": {"user": {"login": "hyperxpro", "name": "Aayush Atharva"}}, "url": "https://github.com/netty/netty/commit/b584b212cf803ce8290b814376d1d80e2f27827b", "committedDate": "2020-11-04T15:36:13Z", "message": "Remove unused import"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4897, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}