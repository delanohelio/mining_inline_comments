{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NzM0NDU1", "number": 10886, "title": "Also include one PR job that uses boringssl", "bodyText": "Motivation:\nWhen validating PRs we should also at least run one job that uses boringssl\nModifications:\n\nAdd job that uses boringssl\nCleanup docker compose files\n\nResult:\nAlso run with boringssl when PRs are validated", "createdAt": "2020-12-23T11:46:25Z", "url": "https://github.com/netty/netty/pull/10886", "merged": true, "mergeCommit": {"oid": "1a708ac17248ad91f83e6b8a05e3851aaabc92bf"}, "closed": true, "closedAt": "2020-12-23T18:11:05Z", "author": {"login": "normanmaurer"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo9sfwgH2gAyNTQ0NzM0NDU1OjExNWZhOGE4ODEyZTFjOWEwNGZjNjUzYWNmZjEzNTYzYjIyNTdiZDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpB8EngH2gAyNTQ0NzM0NDU1OmQ1OWE5YTdmMjJkZDgzNDk2ZjQ1MDE1MTg4MzFlZjU0MTcyNjFlYzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/115fa8a8812e1c9a04fc653acff13563b2257bd2", "committedDate": "2020-12-23T11:47:01Z", "message": "Also include one PR job that uses boringssl\n\nMotivation:\n\nWhen validating PRs we should also at least run one job that uses boringssl\n\nModifications:\n\n- Add job that uses boringssl\n- Cleanup docker compose files\n\nResult:\n\nAlso run with boringssl when PRs are validated"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c71a73f0ddfee9bb23c9c6ed2f1cb5f1262d803b", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/c71a73f0ddfee9bb23c9c6ed2f1cb5f1262d803b", "committedDate": "2020-12-23T11:45:21Z", "message": "Also include one PR job that uses boringssl\n\nMotivation:\n\nWhen validating PRs we should also at least run one job that uses boringssl\n\nModifications:\n\n- Add job that uses boringssl\n- Cleanup docker compose files\n\nResult:\n\nAlso run with boringssl when PRs are validated"}, "afterCommit": {"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/115fa8a8812e1c9a04fc653acff13563b2257bd2", "committedDate": "2020-12-23T11:47:01Z", "message": "Also include one PR job that uses boringssl\n\nMotivation:\n\nWhen validating PRs we should also at least run one job that uses boringssl\n\nModifications:\n\n- Add job that uses boringssl\n- Cleanup docker compose files\n\nResult:\n\nAlso run with boringssl when PRs are validated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3ODI4MTgz", "url": "https://github.com/netty/netty/pull/10886#pullrequestreview-557828183", "createdAt": "2020-12-23T12:06:10Z", "commit": {"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMjowNjoxMFrOIKiyfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxMjowNjoxMFrOIKiyfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzkyNjY1NQ==", "bodyText": "Break line", "url": "https://github.com/netty/netty/pull/10886#discussion_r547926655", "createdAt": "2020-12-23T12:06:10Z", "author": {"login": "hyperxpro"}, "path": ".github/workflows/ci-pr.yml", "diffHunk": "@@ -152,3 +152,43 @@ jobs:\n         with:\n           name: target\n           path: \"**/target/\"\n+\n+  build-linux-x86_64-java11-boringssl:\n+    runs-on: ubuntu-latest\n+    needs: verify\n+    steps:\n+      - uses: actions/checkout@v2\n+\n+      # Cache .m2/repository\n+      - uses: actions/cache@v2\n+        env:\n+          cache-name: build-linux-x86_64-java11-boringssl-cache-m2-repository\n+        with:\n+          path: ~/.m2/repository\n+          key: ${{ runner.os }}-pr-${{ env.cache-name }}-${{ hashFiles('**/pom.xml') }}\n+          restore-keys: |\n+            ${{ runner.os }}-pr-${{ env.cache-name }}-\n+            ${{ runner.os }}-pr-\n+\n+      # Enable caching of Docker layers\n+      - uses: satackey/action-docker-layer-caching@v0.0.8\n+        continue-on-error: true\n+        with:\n+          key: build-linux-x86_64-java11-boringssl-docker-cache-{hash}\n+          restore-keys: |\n+            build-linux-x86_64-java11-boringssl-docker-cache-\n+\n+      - name: Build docker image\n+        run: docker-compose -f docker/docker-compose.yaml -f docker/docker-compose.centos-6.111.yaml build\n+\n+      - name: Build project with leak detection\n+        run: docker-compose -f docker/docker-compose.yaml -f docker/docker-compose.centos-6.111.yaml run build-leak-boringssl-static | tee build-leak.output\n+\n+      - name: Checking for detected leak\n+        run: ./.github/scripts/check_leak.sh build-leak.output\n+\n+      - uses: actions/upload-artifact@v2\n+        if: ${{ failure() }}\n+        with:\n+          name: target\n+          path: \"**/target/\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "115fa8a8812e1c9a04fc653acff13563b2257bd2"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cacc365c87a0237214198457f1a568617e5e3c3", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/1cacc365c87a0237214198457f1a568617e5e3c3", "committedDate": "2020-12-23T16:20:46Z", "message": "Fix buffer leak"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d59a9a7f22dd83496f4501518831ef5417261ec6", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/d59a9a7f22dd83496f4501518831ef5417261ec6", "committedDate": "2020-12-23T16:43:39Z", "message": "Add line break"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4881, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}