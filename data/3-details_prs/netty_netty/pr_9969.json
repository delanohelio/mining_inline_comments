{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NTg1MzU3", "number": 9969, "title": "SSL / BlockHound works out of the box with the default SSL provider", "bodyText": "Motivation:\nJDK is the default SSL provider and internally uses blocking IO operations.\nModifications:\nAdd allowBlockingCallsInside configuration for SslHandler handshake function.\nResult:\nWhen BlockHound is installed, SSL works out of the box with the default SSL provider.", "createdAt": "2020-01-27T16:28:36Z", "url": "https://github.com/netty/netty/pull/9969", "merged": true, "mergeCommit": {"oid": "0671b18e24b1f53cee26a0d3104850da8d942654"}, "closed": true, "closedAt": "2020-01-30T10:35:17Z", "author": {"login": "johnou"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-f5MtAH2gAyMzY3NTg1MzU3OjM1M2ZjMGExZDhkMTQ2MGM5YjFkOTBjYzg0YWQwMDcxMDVlNWNjNTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_HVy7AH2gAyMzY3NTg1MzU3OmE0ZjRhOGQwODkwZjZhY2I2MWI0ZjI2YTExNDNkMTRlMzZhMjcwOGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "353fc0a1d8d1460c9b1d90cc84ad007105e5cc50", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/353fc0a1d8d1460c9b1d90cc84ad007105e5cc50", "committedDate": "2020-01-27T17:07:46Z", "message": "SSL / BlockHound works out of the box with the default SSL provider\n\nMotivation:\n\nJDK is the default SSL provider and internally uses blocking IO operations.\n\nModifications:\n\nAdd allowBlockingCallsInside configuration for SslHandler handshake function.\n\nResult:\n\nWhen BlockHound is installed, SSL works out of the box with the default SSL provider."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f187cbebbbb25bdf267870533cc94ac141f3cf46", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/f187cbebbbb25bdf267870533cc94ac141f3cf46", "committedDate": "2020-01-27T16:28:19Z", "message": "SSL / BlockHound works out of the box with the default SSL provider\n\nMotivation:\r\n\r\nJDK is the default SSL provider and internally uses blocking IO operations.\r\n\r\nModifications:\r\n\r\nAdd allowBlockingCallsInside configuration for SslHandler handshake function.\r\n\r\nResult:\r\n\r\nWhen BlockHound is installed, SSL works out of the box with the default SSL provider."}, "afterCommit": {"oid": "353fc0a1d8d1460c9b1d90cc84ad007105e5cc50", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/353fc0a1d8d1460c9b1d90cc84ad007105e5cc50", "committedDate": "2020-01-27T17:07:46Z", "message": "SSL / BlockHound works out of the box with the default SSL provider\n\nMotivation:\n\nJDK is the default SSL provider and internally uses blocking IO operations.\n\nModifications:\n\nAdd allowBlockingCallsInside configuration for SslHandler handshake function.\n\nResult:\n\nWhen BlockHound is installed, SSL works out of the box with the default SSL provider."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48dba18d0e15f1f52f0ad9238f0172332791a83c", "author": {"user": {"login": "violetagg", "name": "Violeta Georgieva"}}, "url": "https://github.com/netty/netty/commit/48dba18d0e15f1f52f0ad9238f0172332791a83c", "committedDate": "2020-01-27T17:08:11Z", "message": "[test] SSL handshake blocking call"}, "afterCommit": {"oid": "91dfa283fd33411739e70fed00b3651331942fa9", "author": {"user": {"login": "violetagg", "name": "Violeta Georgieva"}}, "url": "https://github.com/netty/netty/commit/91dfa283fd33411739e70fed00b3651331942fa9", "committedDate": "2020-01-27T18:51:02Z", "message": "[test] SSL handshake blocking call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTI1NjYx", "url": "https://github.com/netty/netty/pull/9969#pullrequestreview-349125661", "createdAt": "2020-01-28T04:31:24Z", "commit": {"oid": "91dfa283fd33411739e70fed00b3651331942fa9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNDozMToyNFrOFiZAaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwNDozMToyNFrOFiZAaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYwNTYwOA==", "bodyText": "nit: static ?", "url": "https://github.com/netty/netty/pull/9969#discussion_r371605608", "createdAt": "2020-01-28T04:31:24Z", "author": {"login": "normanmaurer"}, "path": "transport-blockhound-tests/src/test/java/io/netty/util/internal/NettyBlockHoundIntegrationTest.java", "diffHunk": "@@ -66,4 +92,89 @@ public void testBlockingCallsInNettyThreads() throws Exception {\n             assertTrue(\"Blocking call was reported\", throwable.getMessage().contains(\"Blocking call\"));\n         }\n     }\n+\n+    // Tests copied from io.netty.handler.ssl.SslHandlerTest\n+    @Test\n+    public void testHandshakeWithExecutorThatExecuteDirectory() throws Exception {\n+        testHandshakeWithExecutor(Runnable::run);\n+    }\n+\n+    @Test\n+    public void testHandshakeWithImmediateExecutor() throws Exception {\n+        testHandshakeWithExecutor(ImmediateExecutor.INSTANCE);\n+    }\n+\n+    @Test\n+    public void testHandshakeWithImmediateEventExecutor() throws Exception {\n+        testHandshakeWithExecutor(ImmediateEventExecutor.INSTANCE);\n+    }\n+\n+    @Test\n+    public void testHandshakeWithExecutor() throws Exception {\n+        ExecutorService executorService = Executors.newCachedThreadPool();\n+        try {\n+            testHandshakeWithExecutor(executorService);\n+        } finally {\n+            executorService.shutdown();\n+        }\n+    }\n+\n+    private void testHandshakeWithExecutor(Executor executor) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91dfa283fd33411739e70fed00b3651331942fa9"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddfd8078541ddd0148a4657fc21109713563dd96", "author": {"user": {"login": "violetagg", "name": "Violeta Georgieva"}}, "url": "https://github.com/netty/netty/commit/ddfd8078541ddd0148a4657fc21109713563dd96", "committedDate": "2020-01-28T08:32:32Z", "message": "[test] SSL handshake blocking call"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91dfa283fd33411739e70fed00b3651331942fa9", "author": {"user": {"login": "violetagg", "name": "Violeta Georgieva"}}, "url": "https://github.com/netty/netty/commit/91dfa283fd33411739e70fed00b3651331942fa9", "committedDate": "2020-01-27T18:51:02Z", "message": "[test] SSL handshake blocking call"}, "afterCommit": {"oid": "ddfd8078541ddd0148a4657fc21109713563dd96", "author": {"user": {"login": "violetagg", "name": "Violeta Georgieva"}}, "url": "https://github.com/netty/netty/commit/ddfd8078541ddd0148a4657fc21109713563dd96", "committedDate": "2020-01-28T08:32:32Z", "message": "[test] SSL handshake blocking call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b677e13395cd6a74968f2c392eef6dc19b8fbae5", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/b677e13395cd6a74968f2c392eef6dc19b8fbae5", "committedDate": "2020-01-28T08:39:19Z", "message": "Add bouncycastle to blockhound pom for ssc tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58b81bd1009be916cd5f94090f4e7c50b47fdbd3", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/58b81bd1009be916cd5f94090f4e7c50b47fdbd3", "committedDate": "2020-01-28T13:42:16Z", "message": "Export sun.security.x509 for self signed certificates."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4f4a8d0890f6acb61b4f26a1143d14e36a2708d", "author": {"user": {"login": "johnou", "name": "Johno Crawford"}}, "url": "https://github.com/netty/netty/commit/a4f4a8d0890f6acb61b4f26a1143d14e36a2708d", "committedDate": "2020-01-29T15:05:18Z", "message": "Whitelist runAllDelegatedTasks"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 328, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}