{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1OTU0Mjc5", "number": 10196, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjozMzo0NVrODztCFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjozMzo0NVrODztCFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NTQxNzgxOnYy", "diffSide": "RIGHT", "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjozMzo0NVrOGISMbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQyMDo0OTo1MlrOGInG3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw==", "bodyText": "If Java9SslUtils is no longer related to Java 9, why not renaming it (it's package protected)?", "url": "https://github.com/netty/netty/pull/10196#discussion_r411339887", "createdAt": "2020-04-20T12:33:45Z", "author": {"login": "slandelle"}, "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54ec65e966984b9163aefbac2f7286edad582d2c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0MDcwMg==", "bodyText": "@slandelle I was not able to find a better name yet :D", "url": "https://github.com/netty/netty/pull/10196#discussion_r411340702", "createdAt": "2020-04-20T12:35:00Z", "author": {"login": "normanmaurer"}, "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, "originalCommit": {"oid": "54ec65e966984b9163aefbac2f7286edad582d2c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ0MjQzOA==", "bodyText": "Me neither...", "url": "https://github.com/netty/netty/pull/10196#discussion_r411442438", "createdAt": "2020-04-20T14:51:36Z", "author": {"login": "slandelle"}, "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, "originalCommit": {"oid": "54ec65e966984b9163aefbac2f7286edad582d2c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ4MTMxMw==", "bodyText": "@slandelle AlpnSslEngine ?", "url": "https://github.com/netty/netty/pull/10196#discussion_r411481313", "createdAt": "2020-04-20T15:40:04Z", "author": {"login": "normanmaurer"}, "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, "originalCommit": {"oid": "54ec65e966984b9163aefbac2f7286edad582d2c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY4MjUyNw==", "bodyText": "AlpnSslEngine and AlpnSslUtils LGTM", "url": "https://github.com/netty/netty/pull/10196#discussion_r411682527", "createdAt": "2020-04-20T20:49:52Z", "author": {"login": "slandelle"}, "path": "handler/src/main/java/io/netty/handler/ssl/JdkAlpnApplicationProtocolNegotiator.java", "diffHunk": "@@ -146,7 +145,10 @@ public SSLEngine wrapSslEngine(SSLEngine engine, ByteBufAllocator alloc,\n     }\n \n     static boolean jdkAlpnSupported() {\n-        return PlatformDependent.javaVersion() >= 9 && Java9SslUtils.supportsAlpn();\n+        // While it is called Java9SslUtils it is not strictly true anymore that this only exists in Java9+ as it\n+        // was recently backported as part of https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8230977.\n+        // Because of this lets not do a Java version runtime check but just depend on if the methods are present.\n+        return Java9SslUtils.supportsAlpn();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzOTg4Nw=="}, "originalCommit": {"oid": "54ec65e966984b9163aefbac2f7286edad582d2c"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3403, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}