{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMDMzMDMx", "number": 10344, "title": "Consolidate HttpObjectDecoder default values into constants", "bodyText": "Motivation\nHttpObjectDecoder and its associated classes make frequent use of\ndefault values for maxInitialLineLength, maxHeaderSize, maxChunkSize,\netc. Today, these defaults are defined in-line in constructors and\nduplicated across many classes. This repetition is more prone to error\nand inconsistencies.\nFurthermore, due to the current lack of builder support, if a user wants\nto change just one of these values (e.g., maxHeaderSize), they are also\nrequired to know and repeat the other default values (e.g.,\nmaxInitialLineLength and maxChunkSize).\nThe primary motivation for this change is as we are considering adding\nanother constructor parameter (for multiple content length behavior),\nappending this parameter may require some users to have prior knowledge\nof the default initialBufferSize, and it would be cleaner to allow them\nto reference the default constant.\nModifications\n\nConsolidate the HttpObjectDecoder default values into public constants\nReference these constants where possible\n\nResult\nNo functional change. Additional telescoping constructors will be easier\nand safer to write. Users may have an easier experience changing single\nparameters.", "createdAt": "2020-06-09T20:00:33Z", "url": "https://github.com/netty/netty/pull/10344", "merged": true, "mergeCommit": {"oid": "bcb62be62bd989c0292e0f8e22a51127907cefdc"}, "closed": true, "closedAt": "2020-06-12T05:39:11Z", "author": {"login": "Bennett-Lynch"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpqocfAH2gAyNDMyMDMzMDMxOmQ3YjViYmE0ZjhkMmZiNWE3YjFiMzlmZWI2ZTU1OTVkZDI4YjFjMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp876HgFqTQyODI2ODc4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20", "author": {"user": {"login": "Bennett-Lynch", "name": "Bennett Lynch"}}, "url": "https://github.com/netty/netty/commit/d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20", "committedDate": "2020-06-09T19:57:10Z", "message": "Consolidate HttpObjectDecoder default values into constants\n\nMotivation\n\nHttpObjectDecoder and its associated classes make frequent use of\ndefault values for maxInitialLineLength, maxHeaderSize, maxChunkSize,\netc. Today, these defaults are defined in-line in constructors and\nduplicated across many classes. This repetition is more prone to error\nand inconsistencies.\n\nFurthermore, due to the current lack of builder support, if a user wants\nto change just one of these values (e.g., maxHeaderSize), they are also\nrequired to know and repeat the other default values (e.g.,\nmaxInitialLineLength and maxChunkSize).\n\nThe primary motivation for this change is as we are considering adding\nanother constructor parameter (for multiple content length behavior),\nappending this parameter may require some users to have prior knowledge\nof the default initialBufferSize, and it would be cleaner to allow them\nto reference the default constant.\n\nModifications\n\n* Consolidate the HttpObjectDecoder default values into public constants\n* Reference these constants where possible\n\nResult\n\nNo functional change. Additional telescoping constructors will be easier\nand safer to write. Users may have an easier experience changing single\nparameters."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NTk5MDEw", "url": "https://github.com/netty/netty/pull/10344#pullrequestreview-427599010", "createdAt": "2020-06-09T22:52:38Z", "commit": {"oid": "d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMjo1MjozOVrOGhfFeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzowODoxMlrOGhfaOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc2NTQ5Ng==", "bodyText": "Avoid removing public constants as it breaks the API.", "url": "https://github.com/netty/netty/pull/10344#discussion_r437765496", "createdAt": "2020-06-09T22:52:39Z", "author": {"login": "NiteshKant"}, "path": "codec-http/src/main/java/io/netty/handler/codec/rtsp/RtspDecoder.java", "diffHunk": "@@ -71,16 +71,6 @@\n      */\n     private static final Pattern versionPattern = Pattern.compile(\"RTSP/\\\\d\\\\.\\\\d\");\n \n-    /**\n-     * Constant for default max initial line length.\n-     */\n-    public static final int DEFAULT_MAX_INITIAL_LINE_LENGTH = 4096;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc3MDgwOA==", "bodyText": "keep these fields pkg-private to reduce public API surface area?", "url": "https://github.com/netty/netty/pull/10344#discussion_r437770808", "createdAt": "2020-06-09T23:08:12Z", "author": {"login": "NiteshKant"}, "path": "codec-http/src/main/java/io/netty/handler/codec/http/HttpObjectDecoder.java", "diffHunk": "@@ -102,6 +102,13 @@\n  * implement all abstract methods properly.\n  */\n public abstract class HttpObjectDecoder extends ByteToMessageDecoder {\n+    public static final int DEFAULT_MAX_INITIAL_LINE_LENGTH = 4096;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MjY4Nzg1", "url": "https://github.com/netty/netty/pull/10344#pullrequestreview-428268785", "createdAt": "2020-06-10T17:16:43Z", "commit": {"oid": "d7b5bba4f8d2fb5a7b1b39feb6e5595dd28b1c20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 111, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}