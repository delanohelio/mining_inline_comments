{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MzU3NTYx", "number": 10480, "title": "Include TLSv1.3 ciphers as recommented ciphers for HTTP2", "bodyText": "Motivation:\nWe should include TLSv1.3 ciphers as well as recommented ciphers these days for HTTP/2. That is especially true as Java supports TLSv1.3 these days out of the box\nModifications:\n\nAdd TLSv1.3 ciphers that are recommended by mozilla as was for HTTP/2\nAdd unit test\n\nResult:\nInclude TLSv1.3 ciphers as well", "createdAt": "2020-08-13T12:37:29Z", "url": "https://github.com/netty/netty/pull/10480", "merged": true, "mergeCommit": {"oid": "fdd4706783ef6fb5eac71d31de78fb45f155591d"}, "closed": true, "closedAt": "2020-08-13T18:33:08Z", "author": {"login": "normanmaurer"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-fQqxgH2gAyNDY3MzU3NTYxOmM2ZTUwNDkwOTUxNjVkNWJkZjdkZjUxMTczYTMwMDFlYWM4ODlmNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-kE1bgFqTQ2NzAxNDI0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/c6e5049095165d5bdf7df51173a3001eac889f51", "committedDate": "2020-08-13T12:34:39Z", "message": "Include TLSv1.3 ciphers as recommented ciphers for HTTP2\n\nMotivation:\n\nWe should include TLSv1.3 ciphers as well as recommented ciphers these days for HTTP/2. That is especially true as Java supports TLSv1.3 these days out of the box\n\nModifications:\n\n- Add TLSv1.3 ciphers that are recommended by mozilla as was for HTTP/2\n- Add unit test\n\nResult:\n\nInclude TLSv1.3 ciphers as well"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2ODIxOTYy", "url": "https://github.com/netty/netty/pull/10480#pullrequestreview-466821962", "createdAt": "2020-08-13T14:33:30Z", "commit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2ODI5OTEw", "url": "https://github.com/netty/netty/pull/10480#pullrequestreview-466829910", "createdAt": "2020-08-13T14:41:55Z", "commit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2ODMwMjY1", "url": "https://github.com/netty/netty/pull/10480#pullrequestreview-466830265", "createdAt": "2020-08-13T14:42:18Z", "commit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNDo0MjoxOFrOHAOy8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNDo0NjowN1rOHAO9wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDAwNDQ2NA==", "bodyText": "content => context", "url": "https://github.com/netty/netty/pull/10480#discussion_r470004464", "createdAt": "2020-08-13T14:42:18Z", "author": {"login": "slandelle"}, "path": "codec-http2/src/test/java/io/netty/handler/codec/http2/Http2SecurityUtilTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 The Netty Project\n+ *\n+ * The Netty Project licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.netty.handler.codec.http2;\n+\n+import io.netty.buffer.UnpooledByteBufAllocator;\n+import io.netty.handler.ssl.SslContext;\n+import io.netty.handler.ssl.SslContextBuilder;\n+import io.netty.handler.ssl.SslProvider;\n+import io.netty.handler.ssl.SupportedCipherSuiteFilter;\n+import org.junit.Assert;\n+import org.junit.Assume;\n+import org.junit.Test;\n+\n+import javax.net.ssl.SSLEngine;\n+import javax.net.ssl.SSLException;\n+\n+public class Http2SecurityUtilTest {\n+\n+    @Test\n+    public void testTLSv13CiphersIncluded() throws SSLException  {\n+        Assume.assumeTrue(SslProvider.isTlsv13Supported(SslProvider.JDK));\n+        SslContext content = SslContextBuilder.forClient().sslProvider(SslProvider.JDK).protocols(\"TLSv1.3\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDAwNDcwMg==", "bodyText": "content => context", "url": "https://github.com/netty/netty/pull/10480#discussion_r470004702", "createdAt": "2020-08-13T14:42:38Z", "author": {"login": "slandelle"}, "path": "codec-http2/src/test/java/io/netty/handler/codec/http2/Http2SecurityUtilTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 The Netty Project\n+ *\n+ * The Netty Project licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.netty.handler.codec.http2;\n+\n+import io.netty.buffer.UnpooledByteBufAllocator;\n+import io.netty.handler.ssl.SslContext;\n+import io.netty.handler.ssl.SslContextBuilder;\n+import io.netty.handler.ssl.SslProvider;\n+import io.netty.handler.ssl.SupportedCipherSuiteFilter;\n+import org.junit.Assert;\n+import org.junit.Assume;\n+import org.junit.Test;\n+\n+import javax.net.ssl.SSLEngine;\n+import javax.net.ssl.SSLException;\n+\n+public class Http2SecurityUtilTest {\n+\n+    @Test\n+    public void testTLSv13CiphersIncluded() throws SSLException  {\n+        Assume.assumeTrue(SslProvider.isTlsv13Supported(SslProvider.JDK));\n+        SslContext content = SslContextBuilder.forClient().sslProvider(SslProvider.JDK).protocols(\"TLSv1.3\")\n+                .ciphers(Http2SecurityUtil.CIPHERS, SupportedCipherSuiteFilter.INSTANCE).build();\n+        SSLEngine engine = content.newEngine(UnpooledByteBufAllocator.DEFAULT);\n+        Assert.assertTrue(engine.getEnabledCipherSuites().length > 0);\n+    }\n+\n+    @Test\n+    public void testTLSv12CiphersIncluded() throws SSLException  {\n+        SslContext content = SslContextBuilder.forClient().sslProvider(SslProvider.JDK).protocols(\"TLSv1.2\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDAwNzIzMg==", "bodyText": "Not found of assertTrue without an explicit error message: failures are very hard to read.", "url": "https://github.com/netty/netty/pull/10480#discussion_r470007232", "createdAt": "2020-08-13T14:46:07Z", "author": {"login": "slandelle"}, "path": "codec-http2/src/test/java/io/netty/handler/codec/http2/Http2SecurityUtilTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2020 The Netty Project\n+ *\n+ * The Netty Project licenses this file to you under the Apache License,\n+ * version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License. You may obtain a copy of the License at:\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package io.netty.handler.codec.http2;\n+\n+import io.netty.buffer.UnpooledByteBufAllocator;\n+import io.netty.handler.ssl.SslContext;\n+import io.netty.handler.ssl.SslContextBuilder;\n+import io.netty.handler.ssl.SslProvider;\n+import io.netty.handler.ssl.SupportedCipherSuiteFilter;\n+import org.junit.Assert;\n+import org.junit.Assume;\n+import org.junit.Test;\n+\n+import javax.net.ssl.SSLEngine;\n+import javax.net.ssl.SSLException;\n+\n+public class Http2SecurityUtilTest {\n+\n+    @Test\n+    public void testTLSv13CiphersIncluded() throws SSLException  {\n+        Assume.assumeTrue(SslProvider.isTlsv13Supported(SslProvider.JDK));\n+        SslContext content = SslContextBuilder.forClient().sslProvider(SslProvider.JDK).protocols(\"TLSv1.3\")\n+                .ciphers(Http2SecurityUtil.CIPHERS, SupportedCipherSuiteFilter.INSTANCE).build();\n+        SSLEngine engine = content.newEngine(UnpooledByteBufAllocator.DEFAULT);\n+        Assert.assertTrue(engine.getEnabledCipherSuites().length > 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6e5049095165d5bdf7df51173a3001eac889f51"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c9dbda9da0c740a17bb3d8169270c086ad9175c", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/0c9dbda9da0c740a17bb3d8169270c086ad9175c", "committedDate": "2020-08-13T15:15:06Z", "message": "comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "078e80fd1394633295ad0c89c1a816d76b98571d", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/078e80fd1394633295ad0c89c1a816d76b98571d", "committedDate": "2020-08-13T15:10:40Z", "message": "comment"}, "afterCommit": {"oid": "0c9dbda9da0c740a17bb3d8169270c086ad9175c", "author": {"user": {"login": "normanmaurer", "name": "Norman Maurer"}}, "url": "https://github.com/netty/netty/commit/0c9dbda9da0c740a17bb3d8169270c086ad9175c", "committedDate": "2020-08-13T15:15:06Z", "message": "comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2ODYzODQ5", "url": "https://github.com/netty/netty/pull/10480#pullrequestreview-466863849", "createdAt": "2020-08-13T15:17:31Z", "commit": {"oid": "0c9dbda9da0c740a17bb3d8169270c086ad9175c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MDE0MjQx", "url": "https://github.com/netty/netty/pull/10480#pullrequestreview-467014241", "createdAt": "2020-08-13T18:11:15Z", "commit": {"oid": "0c9dbda9da0c740a17bb3d8169270c086ad9175c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 193, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}