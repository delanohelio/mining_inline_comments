{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NjUwNzAy", "number": 10647, "title": "Suppress warnings about weak hash algorithms", "bodyText": "Motivation:\nLGTM reported that WebSocketUtil uses MD5 and SHA-1 that are considered weak. Although those algorithms are insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00 specification that is implemented in the corresponding WebSocket handshakers. Once the handshakers are removed, WebSocketUtil can be updated to stop using those weak hash functions.\nModifications:\nAdded SuppressWarnings annotations.\nResult:\nSuppressed warnings.\nNotes:\nHere are the issues reported by LGTM: one, two\nI think the best solution would be just removing the calls to MD5 and SHA-1. However, that would break the classes that implement drafts of the WebSocket specification. Please let me know if it's fine to remove them.", "createdAt": "2020-10-06T15:41:10Z", "url": "https://github.com/netty/netty/pull/10647", "merged": true, "mergeCommit": {"oid": "00f21845f82f535c5b4e74baa8a78fa65231984f"}, "closed": true, "closedAt": "2020-10-12T07:24:18Z", "author": {"login": "artem-smotrakov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQio9WAFqTUwNDg1Nzc5Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRFIQ7AFqTUwNjA3MjkzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0ODU3Nzk2", "url": "https://github.com/netty/netty/pull/10647#pullrequestreview-504857796", "createdAt": "2020-10-08T14:41:27Z", "commit": {"oid": "1b6c1ce671982c282da2fff4c9d5dd3714523504"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDo0MToyOFrOHeiBBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDo0MToyOFrOHeiBBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc3NjY0Nw==", "bodyText": "This empty comment looks like it was added by accident.", "url": "https://github.com/netty/netty/pull/10647#discussion_r501776647", "createdAt": "2020-10-08T14:41:28Z", "author": {"login": "chrisvest"}, "path": "codec-http/src/main/java/io/netty/handler/codec/http/websocketx/WebSocketUtil.java", "diffHunk": "@@ -31,11 +31,14 @@\n  */\n final class WebSocketUtil {\n \n+    // Suppress a warning about weak hash algorithm since it's defined in draft-ietf-hybi-thewebsocketprotocol-00\n+    @SuppressWarnings(\"lgtm[java/weak-cryptographic-algorithm]\")\n     private static final FastThreadLocal<MessageDigest> MD5 = new FastThreadLocal<MessageDigest>() {\n         @Override\n         protected MessageDigest initialValue() throws Exception {\n             try {\n                 //Try to get a MessageDigest that uses MD5\n+                //", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b6c1ce671982c282da2fff4c9d5dd3714523504"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0d93449dce87d787758047b296ede12adaf0a35", "author": {"user": {"login": "artem-smotrakov", "name": "Artem Smotrakov"}}, "url": "https://github.com/netty/netty/commit/b0d93449dce87d787758047b296ede12adaf0a35", "committedDate": "2020-10-08T15:49:21Z", "message": "Suppress warnings about weak hash algorithms\n\nMotivation:\n\nLGTM reported that WebSocketUtil uses MD5 and SHA-1\nthat are considered weak. Although those algorithms\nare insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00\nspecification that is implemented in the corresponding WebSocket\nhandshakers. Once the handshakers are removed, WebSocketUtil can be\nupdated to stop using those weak hash functions.\n\nModifications:\n\nAdded SuppressWarnings annotations.\n\nResult:\n\nSuppressed warnings."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b6c1ce671982c282da2fff4c9d5dd3714523504", "author": {"user": {"login": "artem-smotrakov", "name": "Artem Smotrakov"}}, "url": "https://github.com/netty/netty/commit/1b6c1ce671982c282da2fff4c9d5dd3714523504", "committedDate": "2020-10-06T15:34:59Z", "message": "Suppress warnings about weak hash algorithms\n\nMotivation:\n\nLGTM reported that WebSocketUtil uses MD5 and SHA-1\nthat are considered weak. Although those algorithms\nare insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00\nspecification that is implemented in the corresponding WebSocket\nhandshakers. Once the handshakers are removed, WebSocketUtil can be\nupdated to stop using those weak hash functions.\n\nModifications:\n\nAdded SuppressWarnings annotations.\n\nResult:\n\nSuppressed warnings."}, "afterCommit": {"oid": "b0d93449dce87d787758047b296ede12adaf0a35", "author": {"user": {"login": "artem-smotrakov", "name": "Artem Smotrakov"}}, "url": "https://github.com/netty/netty/commit/b0d93449dce87d787758047b296ede12adaf0a35", "committedDate": "2020-10-08T15:49:21Z", "message": "Suppress warnings about weak hash algorithms\n\nMotivation:\n\nLGTM reported that WebSocketUtil uses MD5 and SHA-1\nthat are considered weak. Although those algorithms\nare insecure, they are required by draft-ietf-hybi-thewebsocketprotocol-00\nspecification that is implemented in the corresponding WebSocket\nhandshakers. Once the handshakers are removed, WebSocketUtil can be\nupdated to stop using those weak hash functions.\n\nModifications:\n\nAdded SuppressWarnings annotations.\n\nResult:\n\nSuppressed warnings."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTI4Mjcy", "url": "https://github.com/netty/netty/pull/10647#pullrequestreview-504928272", "createdAt": "2020-10-08T15:51:48Z", "commit": {"oid": "b0d93449dce87d787758047b296ede12adaf0a35"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDcyOTMx", "url": "https://github.com/netty/netty/pull/10647#pullrequestreview-506072931", "createdAt": "2020-10-10T06:52:30Z", "commit": {"oid": "b0d93449dce87d787758047b296ede12adaf0a35"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4902, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}