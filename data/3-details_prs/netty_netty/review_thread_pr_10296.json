{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3OTYyNTQ4", "number": 10296, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNzo1OVrOD8jWTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOToxODozM1rOD8ncjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODIwMzAwOnYy", "diffSide": "RIGHT", "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslClientContext.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNzo1OVrOGVj_tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNjo1NjowMFrOGV4t2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MzAzMQ==", "bodyText": "FYI: in JDK provider these system properties control only RFC 5077 (TLS Session Resumption Without Server-Side State) for TLSv1.2, but have no effect for TLSv1.3 its PreShaked Keys.\nOpenSSL provider (BoringSSL as well) behaves differently. It uses SSL_OP_NO_TICKET to control tickets for both TLSv1.2 and TLSv1.3 [2].\nBecause we anyway set SSL_OP_NO_TICKET by default for OpenSSL provider, it's not an issue.\n[1] https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-64D7EAF6-D2EE-4719-8616-25E2829CF810\n[2] https://github.com/google/boringssl/blob/3e4dfbb2f81493e1f25b3ce83fee3ed999373a6c/ssl/tls13_server.cc#L106", "url": "https://github.com/netty/netty/pull/10296#discussion_r425263031", "createdAt": "2020-05-14T16:17:59Z", "author": {"login": "idelpivnitskiy"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslClientContext.java", "diffHunk": "@@ -56,6 +57,8 @@\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_RSA,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_EC)));\n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.client.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYwMjUyMw==", "bodyText": "Yeah I think this is ok for now...", "url": "https://github.com/netty/netty/pull/10296#discussion_r425602523", "createdAt": "2020-05-15T06:56:00Z", "author": {"login": "normanmaurer"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslClientContext.java", "diffHunk": "@@ -56,6 +57,8 @@\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_RSA,\n                           OpenSslKeyMaterialManager.KEY_TYPE_EC_EC)));\n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.client.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MzAzMQ=="}, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODg3NDM4OnYy", "diffSide": "RIGHT", "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslServerContext.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOToxODozM1rOGVqyBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNjo1NjoxN1rOGV4uUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM3NDIxMw==", "bodyText": "FYI: JDK provider also has jdk.tls.server.sessionTicketTimeout option (default to 24 hours) [1], but IIUC BoringSSL does not provide API to change default rotation interval and always uses 48 hours [2].\n[1] https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-A41282C3-19A3-400A-A40F-86F4DA22ABA9\n[2] https://commondatastorage.googleapis.com/chromium-boringssl-docs/ssl.h.html#SSL_DEFAULT_TICKET_KEY_ROTATION_INTERVAL", "url": "https://github.com/netty/netty/pull/10296#discussion_r425374213", "createdAt": "2020-05-14T19:18:33Z", "author": {"login": "idelpivnitskiy"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslServerContext.java", "diffHunk": "@@ -51,6 +52,9 @@\n     private static final byte[] ID = {'n', 'e', 't', 't', 'y'};\n     private final OpenSslServerSessionContext sessionContext;\n \n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.server.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYwMjY0MA==", "bodyText": "yep there is no API To change this in BoringSSL.", "url": "https://github.com/netty/netty/pull/10296#discussion_r425602640", "createdAt": "2020-05-15T06:56:17Z", "author": {"login": "normanmaurer"}, "path": "handler/src/main/java/io/netty/handler/ssl/ReferenceCountedOpenSslServerContext.java", "diffHunk": "@@ -51,6 +52,9 @@\n     private static final byte[] ID = {'n', 'e', 't', 't', 'y'};\n     private final OpenSslServerSessionContext sessionContext;\n \n+    private static final boolean ENABLE_SESSION_TICKET =\n+            SystemPropertyUtil.getBoolean(\"jdk.tls.server.enableSessionTicketExtension\", false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM3NDIxMw=="}, "originalCommit": {"oid": "ba3dc1e617a9db8397fc24625dabb655401cf5de"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3456, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}