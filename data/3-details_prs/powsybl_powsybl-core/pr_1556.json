{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxNzk3OTc0", "number": 1556, "title": "Contingency.setId removed, Contingency.addElement/removeElement added\u2026", "bodyText": "Signed-off-by: Thomas ADAM tadam@silicom.fr\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nNo\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nBug fix\nWhat is the current behavior? (You can also link to an open issue here)\nFollowing methods were removed by PR#925 :\nContingency.setId, Contingency.getId, Contingency.addElement/removeElement, Contingency.checkValidity\nWhat is the new behavior (if this is a feature change)?\nContingency.setId : still removed\nContingency.getId, Contingency.addElement/removeElement : removal is reverted\nContingency.checkValidity : removal is reverted, set to Deprecated and duplicated into ContingencyList\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-12-03T13:59:57Z", "url": "https://github.com/powsybl/powsybl-core/pull/1556", "merged": true, "mergeCommit": {"oid": "38e8a18b2a26cabbea6ab38b0d539a298cafe2e3"}, "closed": true, "closedAt": "2020-12-04T14:07:36Z", "author": {"login": "tadam50"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdijuNwgFqTU0Mzk4NDY2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi4I_jAH2gAyNTMxNzk3OTc0OjBmYzk5ZWUwZWI4YWZhMzg0OWZkYmNlNDEwNDFmZWFjZjdhMGMxNjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzOTg0NjY2", "url": "https://github.com/powsybl/powsybl-core/pull/1556#pullrequestreview-543984666", "createdAt": "2020-12-03T14:05:48Z", "commit": {"oid": "7919f53971ac289dcdc3449c5315af7808981b9e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNDowNTo0OFrOH-dRdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNDowNzozNFrOH-dWrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI1MzM2NQ==", "bodyText": "Fix the getElements() method: the list should not be modifiable, except using addElement and removeElement", "url": "https://github.com/powsybl/powsybl-core/pull/1556#discussion_r535253365", "createdAt": "2020-12-03T14:05:48Z", "author": {"login": "mathbagu"}, "path": "contingency/contingency-api/src/main/java/com/powsybl/contingency/Contingency.java", "diffHunk": "@@ -32,12 +31,12 @@\n \n     public Contingency(String id, ContingencyElement... elements) {\n         this.id = Objects.requireNonNull(id);\n-        this.elements = ImmutableList.copyOf(elements);\n+        this.elements = Arrays.asList(elements);\n     }\n \n     public Contingency(String id, List<ContingencyElement> elements) {\n         this.id = Objects.requireNonNull(id);\n-        this.elements = ImmutableList.copyOf(elements);\n+        this.elements = new ArrayList<>(Objects.requireNonNull(elements));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7919f53971ac289dcdc3449c5315af7808981b9e"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI1NDQ0Mg==", "bodyText": "Make this method public so I could use it. I thought we agreed that the name was not well chosen", "url": "https://github.com/powsybl/powsybl-core/pull/1556#discussion_r535254442", "createdAt": "2020-12-03T14:07:14Z", "author": {"login": "mathbagu"}, "path": "contingency/contingency-api/src/main/java/com/powsybl/contingency/ContingencyList.java", "diffHunk": "@@ -72,4 +74,12 @@ static ContingencyList load(String filename, InputStream stream) {\n     static ContingencyList of(Contingency... contingencies) {\n         return new DefaultContingencyList(contingencies);\n     }\n+\n+    static List<Contingency> checkValidity(List<Contingency> contingencies, Network network) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7919f53971ac289dcdc3449c5315af7808981b9e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI1NDcwMQ==", "bodyText": "Call the new method instead of duplicating its implementation", "url": "https://github.com/powsybl/powsybl-core/pull/1556#discussion_r535254701", "createdAt": "2020-12-03T14:07:34Z", "author": {"login": "mathbagu"}, "path": "contingency/contingency-api/src/main/java/com/powsybl/contingency/Contingency.java", "diffHunk": "@@ -119,6 +128,19 @@ boolean isValid(Network network) {\n         return valid;\n     }\n \n+    /**\n+     * Return a list of valid contingencies.\n+     * @deprecated Use {@link ContingencyList#checkValidity(List, Network)} ()} instead.\n+     */\n+    @Deprecated\n+    public static List<Contingency> checkValidity(List<Contingency> contingencies, Network network) {\n+        Objects.requireNonNull(contingencies);\n+        Objects.requireNonNull(network);\n+        return contingencies.stream()\n+                .filter(c -> c.isValid(network))\n+                .collect(Collectors.toList());\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7919f53971ac289dcdc3449c5315af7808981b9e"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d30aba2ebac99fa0fd56033036a6180d3bced37", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/5d30aba2ebac99fa0fd56033036a6180d3bced37", "committedDate": "2020-12-03T16:13:31Z", "message": "Contingency.setId removed, Contingency.addElement/removeElement added, Contingency.checkValidy moved to ContingencyList\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12cf8ec7b901eed1128a333acf2ab862d65c30aa", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/12cf8ec7b901eed1128a333acf2ab862d65c30aa", "committedDate": "2020-12-03T16:13:31Z", "message": "Taking into account PR review\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7919f53971ac289dcdc3449c5315af7808981b9e", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/7919f53971ac289dcdc3449c5315af7808981b9e", "committedDate": "2020-12-02T16:01:54Z", "message": "Contingency.setId removed, Contingency.addElement/removeElement added, Contingency.checkValidy moved to ContingencyList\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}, "afterCommit": {"oid": "12cf8ec7b901eed1128a333acf2ab862d65c30aa", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/12cf8ec7b901eed1128a333acf2ab862d65c30aa", "committedDate": "2020-12-03T16:13:31Z", "message": "Taking into account PR review\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e131cf5f83e036ad76f970e0b7b17a83013fd5f4", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/e131cf5f83e036ad76f970e0b7b17a83013fd5f4", "committedDate": "2020-12-04T13:53:00Z", "message": "Fix Contingency constructor\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTc2OTgx", "url": "https://github.com/powsybl/powsybl-core/pull/1556#pullrequestreview-544976981", "createdAt": "2020-12-04T13:54:27Z", "commit": {"oid": "e131cf5f83e036ad76f970e0b7b17a83013fd5f4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fc99ee0eb8afa3849fdbce41041feacf7a0c161", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/0fc99ee0eb8afa3849fdbce41041feacf7a0c161", "committedDate": "2020-12-04T13:55:10Z", "message": "Merge branch 'master' into fix_pr_925"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4085, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}