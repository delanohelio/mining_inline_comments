{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NjY4NTA4", "number": 1459, "title": "Add an extension containing SV metadata information for CGMES SV export", "bodyText": "Please check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nNo\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature\nWhat is the current behavior? (You can also link to an open issue here)\nCGMES SV metadata are only accessible from the CgmesModel\nWhat is the new behavior (if this is a feature change)?\nCGMES SV metadata can now be stored in the CgmesSvMetadata extension\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\nMore or less: the CgmesSvMetadata must be implemented in IIDM implementation to make the CGMES import working if you have a custom implementation.\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-09-04T13:06:44Z", "url": "https://github.com/powsybl/powsybl-core/pull/1459", "merged": true, "mergeCommit": {"oid": "429f633c6994d29fbc891f71dfc0b37b7bf7cc25"}, "closed": true, "closedAt": "2020-09-08T09:34:18Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFkjzqgH2gAyNDc5NjY4NTA4OjVlZmQwMWNlYjAzY2Y5ZmE3MWY3NjgwOThiOWVhNGY1ODg3MThjNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdG0FGggH2gAyNDc5NjY4NTA4OjViMzQ2ZjFjY2E3ZDE1NTc1NWUxMDg4NzY1NTU1ZWQ5ZTRlYTMyMGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5efd01ceb03cf9fa71f768098b9ea4f588718c70", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5efd01ceb03cf9fa71f768098b9ea4f588718c70", "committedDate": "2020-09-04T12:42:33Z", "message": "Add CgmesSvMetadata extension\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e6777e567c951cbe520c12b9ddfe71a798b17b4", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4e6777e567c951cbe520c12b9ddfe71a798b17b4", "committedDate": "2020-09-04T12:50:11Z", "message": "scenarioTime is a String\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9668c69008ec48575162f260989cebc472802f18", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/9668c69008ec48575162f260989cebc472802f18", "committedDate": "2020-09-04T13:27:05Z", "message": "CGMES import of SV metadata\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nFix checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ntmp\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7401bf0839a91e2ef0e0ad9e7daf30225cf60331", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/7401bf0839a91e2ef0e0ad9e7daf30225cf60331", "committedDate": "2020-09-04T13:03:59Z", "message": "Fix checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "9668c69008ec48575162f260989cebc472802f18", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/9668c69008ec48575162f260989cebc472802f18", "committedDate": "2020-09-04T13:27:05Z", "message": "CGMES import of SV metadata\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nFix checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ntmp\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70cfec2f331d3538b0feb3bf6a3242e18b601b11", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/70cfec2f331d3538b0feb3bf6a3242e18b601b11", "committedDate": "2020-09-07T15:37:05Z", "message": "Small corrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "719d97b57dee4760ba2e1338334dc3d4e132b081", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/719d97b57dee4760ba2e1338334dc3d4e132b081", "committedDate": "2020-09-07T15:37:39Z", "message": "Add XML serializer of CgmesSvMetadata\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "625c03b8d5a55f1493d05a54cee191beb93b2a39", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/625c03b8d5a55f1493d05a54cee191beb93b2a39", "committedDate": "2020-09-07T15:37:49Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44b6a541d768108c55d6a11533200f4a1cc4df36", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/44b6a541d768108c55d6a11533200f4a1cc4df36", "committedDate": "2020-09-08T08:41:28Z", "message": "Update CGMES Comparison to compare CgmesSvMetadata\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzOTE4NjYx", "url": "https://github.com/powsybl/powsybl-core/pull/1459#pullrequestreview-483918661", "createdAt": "2020-09-08T08:40:25Z", "commit": {"oid": "625c03b8d5a55f1493d05a54cee191beb93b2a39"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwODo0MDoyNVrOHOS0iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwODo0MjozNlrOHOS52Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1MDQ3Mg==", "bodyText": "It's maybe better to check here that the metadatas have been set rather than in the constructor", "url": "https://github.com/powsybl/powsybl-core/pull/1459#discussion_r484750472", "createdAt": "2020-09-08T08:40:25Z", "author": {"login": "flo-dup"}, "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/extensions/CgmesSvMetadataAdderImpl.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.cgmes.conversion.extensions;\n+\n+import com.powsybl.commons.extensions.AbstractExtensionAdder;\n+import com.powsybl.iidm.network.Network;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Objects;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class CgmesSvMetadataAdderImpl extends AbstractExtensionAdder<Network, CgmesSvMetadata> implements CgmesSvMetadataAdder {\n+\n+    private String scenarioTime;\n+    private String description;\n+    private int svVersion;\n+    private final List<String> dependencies = new ArrayList<>();\n+    private String modelingAuthoritySet;\n+\n+    public CgmesSvMetadataAdderImpl(Network extendable) {\n+        super(extendable);\n+    }\n+\n+    @Override\n+    public CgmesSvMetadataAdder setScenarioTime(String scenarioTime) {\n+        this.scenarioTime = scenarioTime;\n+        return this;\n+    }\n+\n+    @Override\n+    public CgmesSvMetadataAdder setDescription(String description) {\n+        this.description = description;\n+        return this;\n+    }\n+\n+    @Override\n+    public CgmesSvMetadataAdder setSvVersion(int svVersion) {\n+        this.svVersion = svVersion;\n+        return this;\n+    }\n+\n+    @Override\n+    public CgmesSvMetadataAdder addDependency(String dependency) {\n+        this.dependencies.add(Objects.requireNonNull(dependency));\n+        return this;\n+    }\n+\n+    @Override\n+    public CgmesSvMetadataAdder setModelingAuthoritySet(String modelingAuthoritySet) {\n+        this.modelingAuthoritySet = modelingAuthoritySet;\n+        return this;\n+    }\n+\n+    @Override\n+    protected CgmesSvMetadata createExtension(Network extendable) {\n+        return new CgmesSvMetadataImpl(scenarioTime, description, svVersion, dependencies, modelingAuthoritySet);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "625c03b8d5a55f1493d05a54cee191beb93b2a39"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1MTgzMw==", "bodyText": "Shouldn't it be CgmesSvMetadataAdderImpl.class?", "url": "https://github.com/powsybl/powsybl-core/pull/1459#discussion_r484751833", "createdAt": "2020-09-08T08:42:36Z", "author": {"login": "flo-dup"}, "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/extensions/CgmesSvMetadataAdderImplProvider.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.cgmes.conversion.extensions;\n+\n+import com.google.auto.service.AutoService;\n+import com.powsybl.commons.extensions.ExtensionAdderProvider;\n+import com.powsybl.iidm.network.Network;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+@AutoService(ExtensionAdderProvider.class)\n+public class CgmesSvMetadataAdderImplProvider implements\n+        ExtensionAdderProvider<Network, CgmesSvMetadata, CgmesSvMetadataAdderImpl> {\n+\n+    @Override\n+    public String getImplementationName() {\n+        return \"Default\";\n+    }\n+\n+    @Override\n+    public Class<? super CgmesSvMetadataAdderImpl> getAdderClass() {\n+        return CgmesSvMetadataAdder.class;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "625c03b8d5a55f1493d05a54cee191beb93b2a39"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d8f0b92e5c6de3b4a55b697b5c3e3c183c8667e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4d8f0b92e5c6de3b4a55b697b5c3e3c183c8667e", "committedDate": "2020-09-08T09:02:05Z", "message": "Reviewer's comment: Change checks\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzOTQ0Mjk1", "url": "https://github.com/powsybl/powsybl-core/pull/1459#pullrequestreview-483944295", "createdAt": "2020-09-08T09:12:31Z", "commit": {"oid": "4d8f0b92e5c6de3b4a55b697b5c3e3c183c8667e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b346f1cca7d155755e1088765555ed9e4ea320f", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5b346f1cca7d155755e1088765555ed9e4ea320f", "committedDate": "2020-09-08T09:21:25Z", "message": "Merge branch 'master' into cgmes_sv_metadata_extension"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4150, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}