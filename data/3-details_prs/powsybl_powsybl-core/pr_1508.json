{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4NTA4NTA0", "number": 1508, "title": "Add possibility to ensure alias unicity", "bodyText": "Signed-off-by: RALAMBOTIANA MIORA miora.ralambotiana@rte-france.com\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nNo\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature: Add the possibility to ensure alias unicity\nWhat is the current behavior? (You can also link to an open issue here)\nWhen an alias has already been added, an exception is thrown\nWhat is the new behavior (if this is a feature change)?\nWhen an alias has already been added, if ensureUnicity is true, the alias is modified to be unique.\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\nYes\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\nAnother PR will follow this one to ensure alias unicity in aliases creation in CGMES import", "createdAt": "2020-10-06T12:39:37Z", "url": "https://github.com/powsybl/powsybl-core/pull/1508", "merged": true, "mergeCommit": {"oid": "8c0bd0517204c0efd43b936a80d1a5abd2df8c5e"}, "closed": true, "closedAt": "2020-11-27T08:53:12Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSzOmvgBqjM4ODIxMjEzNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgVeOfAH2gAyNDk4NTA4NTA0OmNmM2M4NjIwMTY0N2MwNjg3MWI1NmM0ZWZkNmNjNzExY2U4NjlhMWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13833b126b1de4fd54c7fca5d22c465726fb44f0", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/13833b126b1de4fd54c7fca5d22c465726fb44f0", "committedDate": "2020-10-07T07:43:00Z", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "committedDate": "2020-10-15T15:08:36Z", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "committedDate": "2020-10-15T15:08:36Z", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "2c8becaf244d4eb33771b738cc0429409c872fec", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/2c8becaf244d4eb33771b738cc0429409c872fec", "committedDate": "2020-10-19T10:36:30Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6240783fa579fb5d148cb38fb35c538f8d137b3", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f6240783fa579fb5d148cb38fb35c538f8d137b3", "committedDate": "2020-11-03T13:34:03Z", "message": "Add possibility to ensure alias unicity\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dded2ac077fb1ee8fea395af1f3080da1744c09", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/7dded2ac077fb1ee8fea395af1f3080da1744c09", "committedDate": "2020-11-03T13:34:03Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6d9b34bd274dd3d3cb665602e56b7032a24b24c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/e6d9b34bd274dd3d3cb665602e56b7032a24b24c", "committedDate": "2020-11-03T13:34:03Z", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5c3e489f27d1e97c396f32f70b70bc05fae934b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d5c3e489f27d1e97c396f32f70b70bc05fae934b", "committedDate": "2020-11-03T13:34:03Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "committedDate": "2020-11-03T13:34:03Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abea5e829ec851159f3f41957f95e73a0b710925", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/abea5e829ec851159f3f41957f95e73a0b710925", "committedDate": "2020-10-19T12:31:36Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "committedDate": "2020-11-03T13:34:03Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8780255087847fa5dfc3c7cb874184244d38356c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/8780255087847fa5dfc3c7cb874184244d38356c", "committedDate": "2020-11-03T14:24:17Z", "message": "Small correction\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "committedDate": "2020-11-03T14:24:31Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0OTg5MzQ4", "url": "https://github.com/powsybl/powsybl-core/pull/1508#pullrequestreview-524989348", "createdAt": "2020-11-06T09:33:23Z", "commit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwOTozMzoyM1rOHumlCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwOTozNzozMFrOHumueA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyODYxOQ==", "bodyText": "I wonder if it should be a property of the NetworkIndex (Network.setEnsureAliasUnicity) that can be set globally.", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518628619", "createdAt": "2020-11-06T09:33:23Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Identifiable.java", "diffHunk": "@@ -69,6 +69,10 @@ default String getName() {\n     default void addAlias(String alias) {\n     }\n \n+    default void addAlias(String alias, boolean ensureAliasUnicity) {\n+        addAlias(alias);\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyOTA2Mg==", "bodyText": "This could be considered as a breaking change because the default behaviour is not the same anymore", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518629062", "createdAt": "2020-11-06T09:34:08Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractIdentifiable.java", "diffHunk": "@@ -80,20 +81,34 @@ public String getNameOrId() {\n \n     @Override\n     public void addAlias(String alias) {\n-        addAlias(alias, null);\n+        addAlias(alias, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMDIxMw==", "bodyText": "uniqueAlias seems better than checkedAlias?", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518630213", "createdAt": "2020-11-06T09:36:03Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractIdentifiable.java", "diffHunk": "@@ -80,20 +81,34 @@ public String getNameOrId() {\n \n     @Override\n     public void addAlias(String alias) {\n-        addAlias(alias, null);\n+        addAlias(alias, false);\n+    }\n+\n+    @Override\n+    public void addAlias(String alias, boolean ensureAliasUnicity) {\n+        addAlias(alias, null, ensureAliasUnicity);\n     }\n \n     @Override\n     public void addAlias(String alias, String aliasType) {\n+        addAlias(alias, aliasType, false);\n+    }\n+\n+    @Override\n+    public void addAlias(String alias, String aliasType, boolean ensureAliasUnicity) {\n         Objects.requireNonNull(alias);\n+        String checkedAlias = alias;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMTAzMg==", "bodyText": "In my memories, you looked different :)", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518631032", "createdAt": "2020-11-06T09:37:30Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/test/java/com/powsybl/iidm/network/impl/tck/AliasesTest.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl.tck;\n+\n+import com.powsybl.iidm.network.tck.AbstractAliasesTest;\n+\n+/**\n+ * @author Sebastien Murgey <sebastien.murgey at rte-france.com>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c48baa4456f45a52a20e6b4a3e615dcf8868eb5", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/6c48baa4456f45a52a20e6b4a3e615dcf8868eb5", "committedDate": "2020-11-09T10:26:19Z", "message": "Reviewer's comment: rename a variable\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3f2872353dfea6da408ea3ed2d29f6ff5e5aec0", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/a3f2872353dfea6da408ea3ed2d29f6ff5e5aec0", "committedDate": "2020-11-26T10:24:42Z", "message": "Merge branch 'master' into ensure_alias_unicity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca0af84e28695610239e089a941b02c9fa0d1f6f", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/ca0af84e28695610239e089a941b02c9fa0d1f6f", "committedDate": "2020-11-26T10:37:57Z", "message": "Ensure alias unicity in cgmes import\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NDEzODA0", "url": "https://github.com/powsybl/powsybl-core/pull/1508#pullrequestreview-539413804", "createdAt": "2020-11-26T15:36:40Z", "commit": {"oid": "ca0af84e28695610239e089a941b02c9fa0d1f6f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf3c86201647c06871b56c4efd6cc711ce869a1c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/cf3c86201647c06871b56c4efd6cc711ce869a1c", "committedDate": "2020-11-26T16:23:50Z", "message": "Add ensure-id-alias-unicity in CgmesImport\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4052, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}