{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0Njk1OTUy", "number": 1380, "title": "Add double property", "bodyText": "Signed-off-by: Agn\u00e8s Leroy agnes.leroy@rte-france.com\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)", "createdAt": "2020-07-06T10:49:00Z", "url": "https://github.com/powsybl/powsybl-core/pull/1380", "merged": true, "mergeCommit": {"oid": "cd81add981f8fcbc558691443ee3012388a0dc3f"}, "closed": true, "closedAt": "2020-07-07T15:10:15Z", "author": {"login": "agnesLeroy"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyNyEagH2gAyNDQ0Njk1OTUyOjMwMjExMWM1MWUzOGZjZGRiY2VmN2M5NGFkZmU4MzY5NjJjMTI1ZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcynH1YgH2gAyNDQ0Njk1OTUyOmE4MzhhOGI3ODRjYzAwOGIzMmYyY2U2NjU5ODcwZTI5OTEwZTZjZWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "302111c51e38fcddbcef7c94adfe836962c125d6", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/302111c51e38fcddbcef7c94adfe836962c125d6", "committedDate": "2020-07-06T09:25:45Z", "message": "Add double property\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyOTk2Mzc4", "url": "https://github.com/powsybl/powsybl-core/pull/1380#pullrequestreview-442996378", "createdAt": "2020-07-06T11:34:40Z", "commit": {"oid": "302111c51e38fcddbcef7c94adfe836962c125d6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozNDo0MFrOGtTntw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozNDo0MFrOGtTntw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDU2Nw==", "bodyText": "It's better to return an OptionalDouble instead of Optional", "url": "https://github.com/powsybl/powsybl-core/pull/1380#discussion_r450160567", "createdAt": "2020-07-06T11:34:40Z", "author": {"login": "mathbagu"}, "path": "commons/src/main/java/com/powsybl/commons/config/ModuleConfigUtil.java", "diffHunk": "@@ -32,6 +29,13 @@ private ModuleConfigUtil() {\n         return getOptionalProperty(moduleConfig, names, moduleConfig::getOptionalStringListProperty);\n     }\n \n+    public static Optional<Double> getOptionalDoubleProperty(ModuleConfig moduleConfig, List<String> names) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "302111c51e38fcddbcef7c94adfe836962c125d6"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96306203ef1b28a0765465eefe6b744960f215da", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/96306203ef1b28a0765465eefe6b744960f215da", "committedDate": "2020-07-06T12:46:32Z", "message": "Add a test on the parameters conversion\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "599cf1d7b8e0510e86e93b0967b8e44cefa43288", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/599cf1d7b8e0510e86e93b0967b8e44cefa43288", "committedDate": "2020-07-06T12:30:45Z", "message": "Add a test on the parameters conversion\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}, "afterCommit": {"oid": "96306203ef1b28a0765465eefe6b744960f215da", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/96306203ef1b28a0765465eefe6b744960f215da", "committedDate": "2020-07-06T12:46:32Z", "message": "Add a test on the parameters conversion\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMDQ2OTA4", "url": "https://github.com/powsybl/powsybl-core/pull/1380#pullrequestreview-443046908", "createdAt": "2020-07-06T12:53:19Z", "commit": {"oid": "96306203ef1b28a0765465eefe6b744960f215da"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMjo1MzoxOVrOGtV_IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMjo1MzozMlrOGtV_pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE5OTMyOQ==", "bodyText": "Maybe the default value for this parameter should not be stringList to prevent false positive in the test?", "url": "https://github.com/powsybl/powsybl-core/pull/1380#discussion_r450199329", "createdAt": "2020-07-06T12:53:19Z", "author": {"login": "MioRtia"}, "path": "iidm/iidm-converter-api/src/test/java/com/powsybl/iidm/ConversionParametersTest.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm;\n+\n+import com.powsybl.iidm.parameters.Parameter;\n+import com.powsybl.iidm.parameters.ParameterDefaultValueConfig;\n+import com.powsybl.iidm.parameters.ParameterType;\n+import org.junit.Test;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Properties;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * @author Agnes Leroy <agnes.leroy at rte-france.com>\n+ */\n+public class ConversionParametersTest {\n+    @Test\n+    public void testConversionParameters() {\n+        Properties properties = new Properties();\n+        properties.put(\"test-param-boolean\", \"true\");\n+        Parameter paramBoolean = new Parameter(\"test-param-boolean\", ParameterType.BOOLEAN, \"\", Boolean.FALSE);\n+        Parameter paramBoolean2 = new Parameter(\"test-param-boolean2\", ParameterType.BOOLEAN, \"\", Boolean.FALSE);\n+        assertTrue(ConversionParameters.readBooleanParameter(\"TEST\", properties, paramBoolean, ParameterDefaultValueConfig.INSTANCE));\n+        assertFalse(ConversionParameters.readBooleanParameter(\"TEST\", properties, paramBoolean2, ParameterDefaultValueConfig.INSTANCE));\n+\n+        properties.put(\"test-param-string\", \"TestProperty\");\n+        Parameter paramString = new Parameter(\"test-param-string\", ParameterType.STRING, \"\", \"Test\");\n+        Parameter paramString2 = new Parameter(\"test-param-string2\", ParameterType.STRING, \"\", \"TestParam\");\n+        assertEquals(\"TestProperty\", ConversionParameters.readStringParameter(\"TEST\", properties, paramString, ParameterDefaultValueConfig.INSTANCE));\n+        assertEquals(\"TestParam\", ConversionParameters.readStringParameter(\"TEST\", properties, paramString2, ParameterDefaultValueConfig.INSTANCE));\n+\n+        List<String> stringList = new ArrayList<>();\n+        stringList.add(\"Test1Property\");\n+        stringList.add(\"Test2Property\");\n+        List<String> stringList2 = new ArrayList<>();\n+        stringList2.add(\"Test1Param\");\n+        stringList2.add(\"Test2Param\");\n+        properties.put(\"test-param-string-list\", stringList);\n+        Parameter paramStringList = new Parameter(\"test-param-string-list\", ParameterType.STRING_LIST, \"\", stringList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96306203ef1b28a0765465eefe6b744960f215da"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE5OTQ2Mg==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1380#discussion_r450199462", "createdAt": "2020-07-06T12:53:32Z", "author": {"login": "MioRtia"}, "path": "iidm/iidm-converter-api/src/test/java/com/powsybl/iidm/ConversionParametersTest.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm;\n+\n+import com.powsybl.iidm.parameters.Parameter;\n+import com.powsybl.iidm.parameters.ParameterDefaultValueConfig;\n+import com.powsybl.iidm.parameters.ParameterType;\n+import org.junit.Test;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Properties;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * @author Agnes Leroy <agnes.leroy at rte-france.com>\n+ */\n+public class ConversionParametersTest {\n+    @Test\n+    public void testConversionParameters() {\n+        Properties properties = new Properties();\n+        properties.put(\"test-param-boolean\", \"true\");\n+        Parameter paramBoolean = new Parameter(\"test-param-boolean\", ParameterType.BOOLEAN, \"\", Boolean.FALSE);\n+        Parameter paramBoolean2 = new Parameter(\"test-param-boolean2\", ParameterType.BOOLEAN, \"\", Boolean.FALSE);\n+        assertTrue(ConversionParameters.readBooleanParameter(\"TEST\", properties, paramBoolean, ParameterDefaultValueConfig.INSTANCE));\n+        assertFalse(ConversionParameters.readBooleanParameter(\"TEST\", properties, paramBoolean2, ParameterDefaultValueConfig.INSTANCE));\n+\n+        properties.put(\"test-param-string\", \"TestProperty\");\n+        Parameter paramString = new Parameter(\"test-param-string\", ParameterType.STRING, \"\", \"Test\");\n+        Parameter paramString2 = new Parameter(\"test-param-string2\", ParameterType.STRING, \"\", \"TestParam\");\n+        assertEquals(\"TestProperty\", ConversionParameters.readStringParameter(\"TEST\", properties, paramString, ParameterDefaultValueConfig.INSTANCE));\n+        assertEquals(\"TestParam\", ConversionParameters.readStringParameter(\"TEST\", properties, paramString2, ParameterDefaultValueConfig.INSTANCE));\n+\n+        List<String> stringList = new ArrayList<>();\n+        stringList.add(\"Test1Property\");\n+        stringList.add(\"Test2Property\");\n+        List<String> stringList2 = new ArrayList<>();\n+        stringList2.add(\"Test1Param\");\n+        stringList2.add(\"Test2Param\");\n+        properties.put(\"test-param-string-list\", stringList);\n+        Parameter paramStringList = new Parameter(\"test-param-string-list\", ParameterType.STRING_LIST, \"\", stringList);\n+        Parameter paramStringList2 = new Parameter(\"test-param-string-list2\", ParameterType.STRING_LIST, \"\", stringList2);\n+        assertEquals(\"Test2Property\", ConversionParameters.readStringListParameter(\"TEST\", properties, paramStringList, ParameterDefaultValueConfig.INSTANCE).get(1));\n+        assertEquals(\"Test1Param\", ConversionParameters.readStringListParameter(\"TEST\", properties, paramStringList2, ParameterDefaultValueConfig.INSTANCE).get(0));\n+\n+        properties.put(\"test-param-double\", 0.06);\n+        Parameter paramDouble = new Parameter(\"test-param-double\", ParameterType.DOUBLE, \"\", 0.06);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96306203ef1b28a0765465eefe6b744960f215da"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebcc2d76a9ef083062d4577930d51e5346d90a09", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/ebcc2d76a9ef083062d4577930d51e5346d90a09", "committedDate": "2020-07-06T13:01:01Z", "message": "Fix in the test to avoid false positive\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMDU0MDUx", "url": "https://github.com/powsybl/powsybl-core/pull/1380#pullrequestreview-443054051", "createdAt": "2020-07-06T13:02:42Z", "commit": {"oid": "ebcc2d76a9ef083062d4577930d51e5346d90a09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "283740d1c32ee6c84f7f08970e80807f1c4d6c7e", "author": {"user": null}, "url": "https://github.com/powsybl/powsybl-core/commit/283740d1c32ee6c84f7f08970e80807f1c4d6c7e", "committedDate": "2020-07-06T15:33:50Z", "message": "Refactor based on Mathieu's review\n\nSigned-off-by: Agn\u00e8s Leroy <agnes.leroy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzOTQ0NTQ2", "url": "https://github.com/powsybl/powsybl-core/pull/1380#pullrequestreview-443944546", "createdAt": "2020-07-07T14:25:47Z", "commit": {"oid": "283740d1c32ee6c84f7f08970e80807f1c4d6c7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de3d9b3a2c86a35e4f9b7d1f91fe134fe7307bf3", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/de3d9b3a2c86a35e4f9b7d1f91fe134fe7307bf3", "committedDate": "2020-07-07T14:36:49Z", "message": "Add more unit-tests\n\nSigned-off-by: Mathieu BAGUE <mathieu.bague@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ff24f8f8e8de345d6f39ed36573884a54744b76", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/4ff24f8f8e8de345d6f39ed36573884a54744b76", "committedDate": "2020-07-07T14:37:11Z", "message": "Merge branch 'master' into add_double_property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a838a8b784cc008b32f2ce6659870e29910e6cef", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/a838a8b784cc008b32f2ce6659870e29910e6cef", "committedDate": "2020-07-07T14:57:09Z", "message": "Merge branch 'master' into add_double_property"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4105, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}