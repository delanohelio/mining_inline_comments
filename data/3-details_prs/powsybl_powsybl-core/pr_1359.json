{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2OTU2ODkw", "number": 1359, "title": "IIDM operational limits ", "bodyText": "Please check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nfix #899\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature : support all kinds of operational limits, not only current limits\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\nYes\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\nThis is only the change of API, this does not take the new serialization into account nor the new conversions", "createdAt": "2020-06-19T08:08:08Z", "url": "https://github.com/powsybl/powsybl-core/pull/1359", "merged": true, "mergeCommit": {"oid": "393b2ca1d01a24d416bf2136ff7dde5ecbd778c2"}, "closed": true, "closedAt": "2021-01-11T12:39:46Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctsMzggFqTQzNDY4NzkyNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvFowVgH2gAyNDM2OTU2ODkwOjBjNzI1NzQzNjRmOWMyYTkzMmNjNTVlMzljMWZmYTc5ZDkyMTIyOGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0Njg3OTI2", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-434687926", "createdAt": "2020-06-22T08:00:37Z", "commit": {"oid": "9f8a5f9f9fc684ec88a15edcaf3cdae33b1db699"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODowMDozN1rOGm12-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwODowMTo1NlrOGm15lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM4MTQ5Nw==", "bodyText": "Don't forget the license header", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r443381497", "createdAt": "2020-06-22T08:00:37Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/LoadingLimits.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package com.powsybl.iidm.network;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8a5f9f9fc684ec88a15edcaf3cdae33b1db699"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM4MTY1Mw==", "bodyText": "Fix copyright information. I think you rename the CurrentLimitsAdder to LoadingLimitsAdder, but maybe you should fix it", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r443381653", "createdAt": "2020-06-22T08:00:59Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/LoadingLimitsAdder.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/**\n+ * Copyright (c) 2016, All partners of the iTesla project (http://www.itesla-project.eu/consortium)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8a5f9f9fc684ec88a15edcaf3cdae33b1db699"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzM4MjE2Ng==", "bodyText": "Don't forget the license header", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r443382166", "createdAt": "2020-06-22T08:01:56Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/OperationalLimits.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package com.powsybl.iidm.network;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f8a5f9f9fc684ec88a15edcaf3cdae33b1db699"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ae5186f6aa2df3fa49cf96bf38bd2f73ef5057c3", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/ae5186f6aa2df3fa49cf96bf38bd2f73ef5057c3", "committedDate": "2020-06-23T14:57:17Z", "message": "Add copyright and authors\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "391c3885f0645ca692275c851ce03317f3490655", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/391c3885f0645ca692275c851ce03317f3490655", "committedDate": "2020-06-23T14:58:22Z", "message": "Add copyright and authors\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e8d57b885e92b0771915d0638eeeb6174044a17", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/2e8d57b885e92b0771915d0638eeeb6174044a17", "committedDate": "2020-06-29T15:13:46Z", "message": "Implementation for merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d6113474e8c1a3f5f3a5af097c03ded105d0adbe", "committedDate": "2020-07-01T07:34:17Z", "message": "Adding hasTemporaryLimits in LoadingLimitsAdder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNTQxMTU4", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-441541158", "createdAt": "2020-07-02T10:13:46Z", "commit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDoxMzo0N1rOGsGinA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMDozMjo0MlrOGsHIwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NzY5Mg==", "bodyText": "I am really at ease with this function name choice. I imagine that we have it from the actual API. What do you think ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448897692", "createdAt": "2020-07-02T10:13:47Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/LoadingLimits.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network;\n+\n+import java.util.Collection;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ * @author Thibaut Vermeulen <thibaut.vermeulen at rte-france.com>\n+ */\n+public interface LoadingLimits extends OperationalLimits {\n+\n+    /**\n+     * Temporary current limit.\n+     */\n+    interface TemporaryLimit {\n+\n+        /**\n+         * Get the temporary limit name\n+         * @return the temporary limit name\n+         */\n+        String getName();\n+\n+        /**\n+         * Get the temporary limit value.\n+         * @return the temporary limit value\n+         */\n+        double getValue();\n+\n+        /**\n+         * Get the acceptable duration of the limit in second.\n+         * @return the acceptable duration of the limit in second\n+         */\n+        int getAcceptableDuration();\n+\n+        /**\n+         * Check if the temporary limit is a real limit corresponding to an overloading  protection or just an operating\n+         * rule\n+         * @return false if it is a real limit, false otherwise\n+         */\n+        boolean isFictitious();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMjI4Nw==", "bodyText": "I am not sure to well understand: here we don't have the methods getApparentPowerLimits1() and getActivePowerLimits1() ?  So how do I do to get them ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448902287", "createdAt": "2020-07-02T10:22:15Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits(Side side) {\n+        if (side == Side.ONE) {\n+            return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+        } else if (side == Side.TWO) {\n+            return getOperationalLimits2(LimitType.CURRENT, CurrentLimits.class);\n+        }\n+        throw new AssertionError(\"Unexpected side: \" + side);\n+    }\n \n-    CurrentLimits getCurrentLimits1();\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits1() {\n+        return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+\n+    default List<OperationalLimits> getOperationalLimits1() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMjc0NQ==", "bodyText": "Same remark, how do I access to apparent power limits and active power limits ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448902745", "createdAt": "2020-07-02T10:23:15Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/DanglingLine.java", "diffHunk": "@@ -98,8 +101,21 @@\n      */\n     String getUcteXnodeCode();\n \n-    CurrentLimits getCurrentLimits();\n-\n-    CurrentLimitsAdder newCurrentLimits();\n-\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits() {\n+        return getOperationalLimits(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMzIyMg==", "bodyText": "Indeed you just leave getCurrentLimits() for compatibility but you will remove it ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448903222", "createdAt": "2020-07-02T10:24:14Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/DanglingLine.java", "diffHunk": "@@ -98,8 +101,21 @@\n      */\n     String getUcteXnodeCode();\n \n-    CurrentLimits getCurrentLimits();\n-\n-    CurrentLimitsAdder newCurrentLimits();\n-\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits() {\n+        return getOperationalLimits(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMjc0NQ=="}, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwNDE1NQ==", "bodyText": "Mmmmm I think that we have a problem here. Do you have any idea of the solution ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448904155", "createdAt": "2020-07-02T10:26:01Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Switch.java", "diffHunk": "@@ -53,4 +56,44 @@\n      * @param retained the retain status of the switch\n      */\n     void setRetained(boolean retained);\n+\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits1() {\n+        throw new UnsupportedOperationException();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwNDgxMQ==", "bodyText": "Do we have a side for switches ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448904811", "createdAt": "2020-07-02T10:27:20Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Switch.java", "diffHunk": "@@ -53,4 +56,44 @@\n      * @param retained the retain status of the switch\n      */\n     void setRetained(boolean retained);\n+\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits1() {\n+        throw new UnsupportedOperationException();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwNDE1NQ=="}, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwNzQ1OA==", "bodyText": "Why do we have this exception ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r448907458", "createdAt": "2020-07-02T10:32:42Z", "author": {"login": "annetill"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Injection.java", "diffHunk": "@@ -18,4 +21,27 @@\n      */\n     Terminal getTerminal();\n \n+    default List<OperationalLimits> getOperationalLimits() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits(LimitType type, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits() {\n+        throw new UnsupportedOperationException();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyODc2MzA1", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-442876305", "createdAt": "2020-07-06T08:32:42Z", "commit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "state": "COMMENTED", "comments": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODozMjo0MlrOGtN3hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODo1Nzo0MFrOGtOvTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2NjMwOQ==", "bodyText": "Should we be more specific? The type of the limit is not CURRENT anymore?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450066309", "createdAt": "2020-07-06T08:32:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -28,7 +31,7 @@\n          * In particular, it determines the duration during which\n          * the current current value may be sustained.\n          */\n-        CurrentLimits.TemporaryLimit getTemporaryLimit();\n+        LoadingLimits.TemporaryLimit getTemporaryLimit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2NzA2MQ==", "bodyText": "I don't know if it's possible, but to have the same bahaviour you have to use the new method, but the first parameter is LimitType.CURRENT and the second one is CurrentLimits.class", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450067061", "createdAt": "2020-07-06T08:34:04Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2NzIwNA==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450067204", "createdAt": "2020-07-06T08:34:19Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits(Side side) {\n+        if (side == Side.ONE) {\n+            return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+        } else if (side == Side.TWO) {\n+            return getOperationalLimits2(LimitType.CURRENT, CurrentLimits.class);\n+        }\n+        throw new AssertionError(\"Unexpected side: \" + side);\n+    }\n \n-    CurrentLimits getCurrentLimits1();\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2ODM0Ng==", "bodyText": "This method will return a list of operational limit, that contains apparent limits, active power limits, and current limits.\nIn the API, we have to give a default behavior to the method to ensure backward compatibility. In previous IIDM version, only current limits was supported. So the implementation seems correct.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450068346", "createdAt": "2020-07-06T08:36:28Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits(Side side) {\n+        if (side == Side.ONE) {\n+            return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+        } else if (side == Side.TWO) {\n+            return getOperationalLimits2(LimitType.CURRENT, CurrentLimits.class);\n+        }\n+        throw new AssertionError(\"Unexpected side: \" + side);\n+    }\n \n-    CurrentLimits getCurrentLimits1();\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits1() {\n+        return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+\n+    default List<OperationalLimits> getOperationalLimits1() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODkwMjI4Nw=="}, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2OTM3NQ==", "bodyText": "I don't know how it's possible, but do we really need to pass both parameters? For instance, in ReactiveLimitsHolder, we only pass the class:\n<L extends ReactiveLimits> L getReactiveLimits(Class<L> type)", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450069375", "createdAt": "2020-07-06T08:38:17Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits(Side side) {\n+        if (side == Side.ONE) {\n+            return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+        } else if (side == Side.TWO) {\n+            return getOperationalLimits2(LimitType.CURRENT, CurrentLimits.class);\n+        }\n+        throw new AssertionError(\"Unexpected side: \" + side);\n+    }\n \n-    CurrentLimits getCurrentLimits1();\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits1() {\n+        return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return Collections.singletonList(getCurrentLimits1());\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return limitType == LimitType.CURRENT && limitClazz == CurrentLimits.class ? (L) getCurrentLimits1() : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3MDY0OA==", "bodyText": "Are all these type of limits are possible for lines and/or transformers? I thought apparentPower was for transformers: we do not have this information for lines.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450070648", "createdAt": "2020-07-06T08:40:27Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -57,16 +60,79 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} or {@link #getOperationalLimits2(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits(Side side) {\n+        if (side == Side.ONE) {\n+            return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+        } else if (side == Side.TWO) {\n+            return getOperationalLimits2(LimitType.CURRENT, CurrentLimits.class);\n+        }\n+        throw new AssertionError(\"Unexpected side: \" + side);\n+    }\n \n-    CurrentLimits getCurrentLimits1();\n+    /**\n+     * @deprecated Use {@link #getOperationalLimits1(LimitType, Class)} instead.\n+     */\n+    @Deprecated\n+    default CurrentLimits getCurrentLimits1() {\n+        return getOperationalLimits1(LimitType.CURRENT, CurrentLimits.class);\n+    }\n+\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return Collections.singletonList(getCurrentLimits1());\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return limitType == LimitType.CURRENT && limitClazz == CurrentLimits.class ? (L) getCurrentLimits1() : null;\n+    }\n \n     CurrentLimitsAdder newCurrentLimits1();\n \n-    CurrentLimits getCurrentLimits2();\n+    default ApparentPowerLimitsAdder newApparentPowerLimits1() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default ActivePowerLimitsAdder newActivePowerLimits1() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default VoltageLimitsAdder newVoltageLimits1() {\n+        throw new UnsupportedOperationException();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3MTY2Nw==", "bodyText": "Some of the operation limits are weird for injections. In IIDM, we do not have sufficient information to compute them.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450071667", "createdAt": "2020-07-06T08:42:16Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Injection.java", "diffHunk": "@@ -18,4 +21,27 @@\n      */\n     Terminal getTerminal();\n \n+    default List<OperationalLimits> getOperationalLimits() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits(LimitType type, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default ApparentPowerLimitsAdder newApparentPowerLimits() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default ActivePowerLimitsAdder newActivePowerLimits() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default VoltageLimitsAdder newVoltageLimits() {\n+        throw new UnsupportedOperationException();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3MjQwNg==", "bodyText": "I agree: we should rename this method. This method returns true if there is an protection automaton that monitor the equipment. I think we can find a better name.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450072406", "createdAt": "2020-07-06T08:43:38Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/LoadingLimits.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network;\n+\n+import java.util.Collection;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ * @author Thibaut Vermeulen <thibaut.vermeulen at rte-france.com>\n+ */\n+public interface LoadingLimits extends OperationalLimits {\n+\n+    /**\n+     * Temporary current limit.\n+     */\n+    interface TemporaryLimit {\n+\n+        /**\n+         * Get the temporary limit name\n+         * @return the temporary limit name\n+         */\n+        String getName();\n+\n+        /**\n+         * Get the temporary limit value.\n+         * @return the temporary limit value\n+         */\n+        double getValue();\n+\n+        /**\n+         * Get the acceptable duration of the limit in second.\n+         * @return the acceptable duration of the limit in second\n+         */\n+        int getAcceptableDuration();\n+\n+        /**\n+         * Check if the temporary limit is a real limit corresponding to an overloading  protection or just an operating\n+         * rule\n+         * @return false if it is a real limit, false otherwise\n+         */\n+        boolean isFictitious();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg5NzY5Mg=="}, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3MjkwMg==", "bodyText": "I'm not convinced you have to provide a default method here: default method should not be used to factorize the code (use abstract class instead).", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450072902", "createdAt": "2020-07-06T08:44:32Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/OperationalLimits.java", "diffHunk": "@@ -0,0 +1,22 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ * @author Thibaut Vermeulen <thibaut.vermeulen at rte-france.com>\n+ */\n+public interface OperationalLimits {\n+    /**\n+     * Get the operational limits' type (can be APPARENT_POWER, CURRENT or VOLTAGE)\n+     */\n+    LimitType getLimitType();\n+\n+    default void remove() {\n+        // do nothing\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3MzgwOA==", "bodyText": "I would refactor a little bit the code: create a OperationLimitsHolder interface, to avoid to declare these methods everywhere?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450073808", "createdAt": "2020-07-06T08:46:03Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Switch.java", "diffHunk": "@@ -53,4 +56,44 @@\n      * @param retained the retain status of the switch\n      */\n     void setRetained(boolean retained);\n+\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits1() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default ApparentPowerLimitsAdder newApparentPowerLimits1() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default VoltageLimitsAdder newVoltageLimits1() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default List<OperationalLimits> getOperationalLimits2() {\n+        return Collections.emptyList();\n+    }\n+\n+    default <L extends OperationalLimits> L getOperationalLimits2(LimitType limitType, Class<L> limitClazz) {\n+        return null;\n+    }\n+\n+    default CurrentLimitsAdder newCurrentLimits2() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default ApparentPowerLimitsAdder newApparentPowerLimits2() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    default VoltageLimitsAdder newVoltageLimits2() {\n+        throw new UnsupportedOperationException();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NDMyNw==", "bodyText": "I think a word is missing:\n\nmust be defined and greater than 0", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450074327", "createdAt": "2020-07-06T08:46:57Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/ValidationUtil.java", "diffHunk": "@@ -385,8 +385,9 @@ public static void checkConnected(Validable validable, Boolean connected) {\n     }\n \n     public static void checkPermanentLimit(Validable validable, double permanentLimit) {\n+        // TODO: if (Double.isNaN(permanentLimit) || permanentLimit <= 0) {\n         if (permanentLimit <= 0) {\n-            throw new ValidationException(validable, \"permanent limit must be > 0\");\n+            throw new ValidationException(validable, \"permanent limit must defined and be > 0\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NTAwNA==", "bodyText": "Is it really useful to have these getters?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450075004", "createdAt": "2020-07-06T08:48:09Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractBranch.java", "diffHunk": "@@ -80,54 +82,71 @@ public Side getSide(Terminal terminal) {\n     }\n \n     @Override\n-    public void setCurrentLimits(Branch.Side side, CurrentLimitsImpl limits) {\n-        switch (side) {\n-            case ONE:\n-                CurrentLimits oldValue1 = limits1;\n-                limits1 = limits;\n-                notifyUpdate(\"currentLimits1\", oldValue1, limits1);\n-                break;\n-            case TWO:\n-                CurrentLimits oldValue2 = limits2;\n-                limits2 = limits;\n-                notifyUpdate(\"currentLimits2\", oldValue2, limits2);\n-                break;\n-            default:\n-                throw new AssertionError(\"Unexpected Branch.Side value: \" + side);\n-        }\n+    public List<OperationalLimits> getOperationalLimits1() {\n+        return operationalLimitsHolder1.getOperationalLimits();\n     }\n \n     @Override\n-    public CurrentLimits getCurrentLimits(Side side) {\n-        switch (side) {\n-            case ONE:\n-                return limits1;\n-            case TWO:\n-                return limits2;\n-            default:\n-                throw new AssertionError(\"Unexpected Branch.Side value: \" + side);\n-        }\n+    public <L extends OperationalLimits> L getOperationalLimits1(LimitType limitType, Class<L> limitClazz) {\n+        return operationalLimitsHolder1.getOperationalLimits(limitType, limitClazz);\n+    }\n+\n+    @Override\n+    public CurrentLimitsAdder newCurrentLimits1() {\n+        return operationalLimitsHolder1.newCurrentLimits();\n+    }\n \n+    @Override\n+    public ApparentPowerLimitsAdder newApparentPowerLimits1() {\n+        return operationalLimitsHolder1.newApparentPowerLimits();\n     }\n \n     @Override\n-    public CurrentLimits getCurrentLimits1() {\n-        return limits1;\n+    public ActivePowerLimitsAdder newActivePowerLimits1() {\n+        return operationalLimitsHolder1.newActivePowerLimitsAdder();\n     }\n \n     @Override\n-    public CurrentLimitsAdder newCurrentLimits1() {\n-        return new CurrentLimitsAdderImpl<>(Branch.Side.ONE, this);\n+    public VoltageLimitsAdder newVoltageLimits1() {\n+        return operationalLimitsHolder1.newVoltageLimits();\n     }\n \n     @Override\n-    public CurrentLimits getCurrentLimits2() {\n-        return limits2;\n+    public List<OperationalLimits> getOperationalLimits2() {\n+        return operationalLimitsHolder2.getOperationalLimits();\n+    }\n+\n+    @Override\n+    public <L extends OperationalLimits> L getOperationalLimits2(LimitType limitType, Class<L> limitClazz) {\n+        return operationalLimitsHolder2.getOperationalLimits(limitType, limitClazz);\n     }\n \n     @Override\n     public CurrentLimitsAdder newCurrentLimits2() {\n-        return new CurrentLimitsAdderImpl<>(Branch.Side.TWO, this);\n+        return operationalLimitsHolder2.newCurrentLimits();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimitsAdder newApparentPowerLimits2() {\n+        return operationalLimitsHolder2.newApparentPowerLimits();\n+    }\n+\n+    @Override\n+    public ActivePowerLimitsAdder newActivePowerLimits2() {\n+        return operationalLimitsHolder2.newActivePowerLimitsAdder();\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder newVoltageLimits2() {\n+        return operationalLimitsHolder2.newVoltageLimits();\n+    }\n+\n+    OperationalLimitsHolderImpl getLimitsHolder1() {\n+        return operationalLimitsHolder1;\n+    }\n+\n+    OperationalLimitsHolderImpl getLimitsHolder2() {\n+        return operationalLimitsHolder2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NTU3NA==", "bodyText": "Reorder these attributes: owner, permanentLimit, temporaryLimit", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450075574", "createdAt": "2020-07-06T08:49:10Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractLoadingLimits.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.LoadingLimits;\n+import com.powsybl.iidm.network.ValidationUtil;\n+\n+import java.util.Collection;\n+import java.util.Objects;\n+import java.util.TreeMap;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+abstract class AbstractLoadingLimits<L extends AbstractLoadingLimits<L>> implements LoadingLimits {\n+\n+    private double permanentLimit;\n+\n+    private final TreeMap<Integer, TemporaryLimit> temporaryLimits;\n+\n+    protected final OperationalLimitsOwner owner;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NTgzOQ==", "bodyText": "Move the owner at the first place.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450075839", "createdAt": "2020-07-06T08:49:37Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractLoadingLimits.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.LoadingLimits;\n+import com.powsybl.iidm.network.ValidationUtil;\n+\n+import java.util.Collection;\n+import java.util.Objects;\n+import java.util.TreeMap;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+abstract class AbstractLoadingLimits<L extends AbstractLoadingLimits<L>> implements LoadingLimits {\n+\n+    private double permanentLimit;\n+\n+    private final TreeMap<Integer, TemporaryLimit> temporaryLimits;\n+\n+    protected final OperationalLimitsOwner owner;\n+\n+    static class TemporaryLimitImpl implements TemporaryLimit {\n+\n+        private final String name;\n+\n+        private final double value;\n+\n+        private final int acceptableDuration;\n+\n+        private boolean fictitious;\n+\n+        TemporaryLimitImpl(String name, double value, int acceptableDuration, boolean fictitious) {\n+            this.name = Objects.requireNonNull(name);\n+            this.value = value;\n+            this.acceptableDuration = acceptableDuration;\n+            this.fictitious = fictitious;\n+        }\n+\n+        @Override\n+        public String getName() {\n+            return name;\n+        }\n+\n+        @Override\n+        public double getValue() {\n+            return value;\n+        }\n+\n+        @Override\n+        public int getAcceptableDuration() {\n+            return acceptableDuration;\n+        }\n+\n+        @Override\n+        public boolean isFictitious() {\n+            return fictitious;\n+        }\n+    }\n+\n+    AbstractLoadingLimits(double permanentLimit, TreeMap<Integer, TemporaryLimit> temporaryLimits, OperationalLimitsOwner owner) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NjkwOQ==", "bodyText": "I think the remove method could me mutualized:\nowner.setOperationLimit(getLimitType(), null);", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450076909", "createdAt": "2020-07-06T08:51:31Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ApparentPowerLimitsImpl.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.ApparentPowerLimits;\n+import com.powsybl.iidm.network.LimitType;\n+\n+import java.util.TreeMap;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class ApparentPowerLimitsImpl extends AbstractLoadingLimits<ApparentPowerLimitsImpl> implements ApparentPowerLimits {\n+\n+    ApparentPowerLimitsImpl(double permanentLimit, TreeMap<Integer, TemporaryLimit> temporaryLimits, OperationalLimitsOwner owner) {\n+        super(permanentLimit, temporaryLimits, owner);\n+    }\n+\n+    @Override\n+    public void remove() {\n+        owner.setOperationalLimits(LimitType.APPARENT_POWER, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NzYyNw==", "bodyText": "Are null allowed?\nYou should switch the parameter order", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450077627", "createdAt": "2020-07-06T08:52:44Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/OperationalLimitsHolderImpl.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.*;\n+\n+import java.util.ArrayList;\n+import java.util.EnumMap;\n+import java.util.List;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class OperationalLimitsHolderImpl implements OperationalLimitsOwner {\n+\n+    private final EnumMap<LimitType, OperationalLimits> operationalLimits = new EnumMap<>(LimitType.class);\n+    private final AbstractIdentifiable<?> identifiable;\n+    private final String attributeName;\n+\n+    OperationalLimitsHolderImpl(String attributeName, AbstractIdentifiable<?> identifiable) {\n+        this.identifiable = identifiable;\n+        this.attributeName = attributeName;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3ODY3OA==", "bodyText": "Should be declared as final?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450078678", "createdAt": "2020-07-06T08:54:31Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerImpl.java", "diffHunk": "@@ -37,7 +34,7 @@\n \n         private double ratedS;\n \n-        private CurrentLimits limits;\n+        private OperationalLimitsHolderImpl operationalLimitsHolder;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTYxNA==", "bodyText": "Do we need to introduce a new method to avoid this duplication (3 times)", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450079614", "createdAt": "2020-07-06T08:56:01Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/VoltageLimitsImpl.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.ValidationException;\n+import com.powsybl.iidm.network.ValidationUtil;\n+import com.powsybl.iidm.network.VoltageLimits;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class VoltageLimitsImpl implements VoltageLimits {\n+\n+    private final OperationalLimitsOwner owner;\n+    private double highVoltage;\n+    private double lowVoltage;\n+\n+    VoltageLimitsImpl(OperationalLimitsOwner owner, double lowVoltage, double highVoltage) {\n+        this.owner = owner;\n+        this.highVoltage = highVoltage;\n+        this.lowVoltage = lowVoltage;\n+    }\n+\n+    @Override\n+    public double getHighVoltage() {\n+        return highVoltage;\n+    }\n+\n+    @Override\n+    public VoltageLimits setHighVoltage(double highVoltage) {\n+        if (Double.isNaN(lowVoltage) && Double.isNaN(highVoltage)) {\n+            throw new ValidationException(owner, \"At least the low or the high voltage limit must be defined.\");\n+        }\n+        ValidationUtil.checkVoltageLimits(owner, lowVoltage, highVoltage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MDA1NQ==", "bodyText": "Remove these methods?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450080055", "createdAt": "2020-07-06T08:56:44Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/AbstractBranchAdapter.java", "diffHunk": "@@ -53,30 +52,83 @@ public Side getSide(final Terminal terminal) {\n     // Simple delegated methods ------\n     // -------------------------------\n     @Override\n+    @Deprecated\n     public CurrentLimits getCurrentLimits(final Side side) {\n         return getDelegate().getCurrentLimits(side);\n     }\n \n     @Override\n+    @Deprecated\n     public CurrentLimits getCurrentLimits1() {\n         return getDelegate().getCurrentLimits1();\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MDM0Nw==", "bodyText": "Remove this method", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450080347", "createdAt": "2020-07-06T08:57:13Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/DanglingLineAdapter.java", "diffHunk": "@@ -92,12 +92,8 @@ public String getUcteXnodeCode() {\n     }\n \n     @Override\n+    @Deprecated\n     public CurrentLimits getCurrentLimits() {\n         return getDelegate().getCurrentLimits();\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MDU4OQ==", "bodyText": "Why this method is removed?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r450080589", "createdAt": "2020-07-06T08:57:40Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/DanglingLineAdapter.java", "diffHunk": "@@ -92,12 +92,8 @@ public String getUcteXnodeCode() {\n     }\n \n     @Override\n+    @Deprecated\n     public CurrentLimits getCurrentLimits() {\n         return getDelegate().getCurrentLimits();\n     }\n-\n-    @Override\n-    public CurrentLimitsAdder newCurrentLimits() {\n-        return getDelegate().newCurrentLimits();\n-    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d6113474e8c1a3f5f3a5af097c03ded105d0adbe", "committedDate": "2020-07-01T07:34:17Z", "message": "Adding hasTemporaryLimits in LoadingLimitsAdder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "0c55e87ea06d5bcc8b3a6a645f75725d24a67c80", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0c55e87ea06d5bcc8b3a6a645f75725d24a67c80", "committedDate": "2020-07-06T14:56:53Z", "message": "Take reviewer comment into account (part 1)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "872fb726d9b086ba6e775655314a11d6097c5a6d", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/872fb726d9b086ba6e775655314a11d6097c5a6d", "committedDate": "2020-07-07T10:01:09Z", "message": "Update javadoc (reviewer comment)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "747beb918a918f45403c13e9c7471351f678389b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/747beb918a918f45403c13e9c7471351f678389b", "committedDate": "2020-07-17T09:33:29Z", "message": "Change isFictitious() method by hasOverloadingLimit()\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08fcb359292396e3c8aa590bb827f7ee6a4f063a", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/08fcb359292396e3c8aa590bb827f7ee6a4f063a", "committedDate": "2020-07-17T14:11:25Z", "message": "Do not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "dc868dd2c6edab64643c47bfedc3cb9ae318f321", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/dc868dd2c6edab64643c47bfedc3cb9ae318f321", "committedDate": "2020-07-21T15:39:14Z", "message": "Do not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc868dd2c6edab64643c47bfedc3cb9ae318f321", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/dc868dd2c6edab64643c47bfedc3cb9ae318f321", "committedDate": "2020-07-21T15:39:14Z", "message": "Do not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/bbd020879e44c3337ab15fdfd2b5adcd8c585a44", "committedDate": "2020-09-16T13:01:44Z", "message": "Do not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d138b2af466dfa638525daa081e18acac41fbba", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4d138b2af466dfa638525daa081e18acac41fbba", "committedDate": "2020-09-16T14:14:07Z", "message": "Only BusbarSection and DanglingLine are LimitsHolder (not Injection)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/bbd020879e44c3337ab15fdfd2b5adcd8c585a44", "committedDate": "2020-09-16T13:01:44Z", "message": "Do not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNzIwNzU2", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-492720756", "createdAt": "2020-09-21T15:14:11Z", "commit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNToxNDoxMVrOHVVkgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNToyMToyM1rOHVWEFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEzNTU1Mg==", "bodyText": "What about this TODO?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r492135552", "createdAt": "2020-09-21T15:14:11Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/ValidationUtil.java", "diffHunk": "@@ -385,8 +392,9 @@ public static void checkConnected(Validable validable, Boolean connected) {\n     }\n \n     public static void checkPermanentLimit(Validable validable, double permanentLimit) {\n+        // TODO: if (Double.isNaN(permanentLimit) || permanentLimit <= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE0MDExNg==", "bodyText": "It seems you liked my comment, but you didn't take it into account", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r492140116", "createdAt": "2020-09-21T15:18:07Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ApparentPowerLimitsImpl.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.ApparentPowerLimits;\n+import com.powsybl.iidm.network.LimitType;\n+\n+import java.util.TreeMap;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class ApparentPowerLimitsImpl extends AbstractLoadingLimits<ApparentPowerLimitsImpl> implements ApparentPowerLimits {\n+\n+    ApparentPowerLimitsImpl(double permanentLimit, TreeMap<Integer, TemporaryLimit> temporaryLimits, OperationalLimitsOwner owner) {\n+        super(permanentLimit, temporaryLimits, owner);\n+    }\n+\n+    @Override\n+    public void remove() {\n+        owner.setOperationalLimits(LimitType.APPARENT_POWER, null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3NjkwOQ=="}, "originalCommit": {"oid": "d6113474e8c1a3f5f3a5af097c03ded105d0adbe"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE0MTM1Mw==", "bodyText": "I would hide the getLimitsHolder from the API, because it's not really user friendly", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r492141353", "createdAt": "2020-09-21T15:19:13Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/NetworkImpl.java", "diffHunk": "@@ -995,8 +994,8 @@ private void replaceDanglingLineByLine(List<MergedLine> lines, Multimap<Boundary\n                 la.setNode2(mergedLine.node2);\n             }\n             TieLineImpl l = la.add();\n-            l.setCurrentLimits(Side.ONE, (CurrentLimitsImpl) mergedLine.limits1);\n-            l.setCurrentLimits(Side.TWO, (CurrentLimitsImpl) mergedLine.limits2);\n+            l.getLimitsHolder1().setOperationalLimits(LimitType.CURRENT, mergedLine.limits1);\n+            l.getLimitsHolder2().setOperationalLimits(LimitType.CURRENT, mergedLine.limits2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE0MzYzOA==", "bodyText": "Should we notify the listeners when setters are called. Same remark everywhere. I think it was done in the previous version\nThe add and remove method should also notify", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r492143638", "createdAt": "2020-09-21T15:21:23Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/VoltageLimitsImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.ValidationUtil;\n+import com.powsybl.iidm.network.VoltageLimits;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class VoltageLimitsImpl extends AbstractOperationalLimits implements VoltageLimits {\n+\n+    private double highVoltage;\n+    private double lowVoltage;\n+\n+    VoltageLimitsImpl(OperationalLimitsOwner owner, double lowVoltage, double highVoltage) {\n+        super(owner);\n+        this.highVoltage = highVoltage;\n+        this.lowVoltage = lowVoltage;\n+    }\n+\n+    @Override\n+    public double getHighVoltage() {\n+        return highVoltage;\n+    }\n+\n+    @Override\n+    public VoltageLimits setHighVoltage(double highVoltage) {\n+        ValidationUtil.checkDefinedVoltageLimits(owner, lowVoltage, highVoltage);\n+        this.highVoltage = highVoltage;\n+        return this;\n+    }\n+\n+    @Override\n+    public double getLowVoltage() {\n+        return lowVoltage;\n+    }\n+\n+    @Override\n+    public VoltageLimits setLowVoltage(double lowVoltage) {\n+        ValidationUtil.checkDefinedVoltageLimits(owner, lowVoltage, highVoltage);\n+        this.lowVoltage = lowVoltage;\n+        return this;\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NDQ4NjA0", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-538448604", "createdAt": "2020-11-25T12:32:45Z", "commit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjozMjo0NVrOH5xV-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjo0OTozOVrOH5x94A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMzOTMyMA==", "bodyText": "Finally we allow voltage limits on equipments ? I thought we decided to limit voltage limits to buses and bus bar sections. I am not sure to be able to simulate that level of details in the open load flow for example.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530339320", "createdAt": "2020-11-25T12:32:45Z", "author": {"login": "annetill"}, "path": "iidm/iidm-tck/src/test/java/com/powsybl/iidm/network/tck/AbstractVoltageLimitsTest.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.tck;\n+\n+import com.powsybl.iidm.network.Load;\n+import com.powsybl.iidm.network.Network;\n+import com.powsybl.iidm.network.VoltageLimits;\n+import com.powsybl.iidm.network.test.EurostagTutorialExample1Factory;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+public abstract class AbstractVoltageLimitsTest {\n+\n+    private static Network createNetwork() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0MjgyMQ==", "bodyText": "I am not sure to understand how voltage limits work indeed. You associate it to the terminal connected at network side ? I imagine that it is similar for the other operational limits.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530342821", "createdAt": "2020-11-25T12:38:36Z", "author": {"login": "annetill"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/ThreeWindingsTransformerAdapter.java", "diffHunk": "@@ -95,6 +100,36 @@ public CurrentLimitsAdder newCurrentLimits() {\n             return getDelegate().newCurrentLimits();\n         }\n \n+        @Override\n+        public ApparentPowerLimits getApparentPowerLimits() {\n+            return getDelegate().getApparentPowerLimits();\n+        }\n+\n+        @Override\n+        public ApparentPowerLimitsAdder newApparentPowerLimits() {\n+            return getDelegate().newApparentPowerLimits();\n+        }\n+\n+        @Override\n+        public ActivePowerLimits getActivePowerLimits() {\n+            return getDelegate().getActivePowerLimits();\n+        }\n+\n+        @Override\n+        public ActivePowerLimitsAdder newActivePowerLimits() {\n+            return getDelegate().newActivePowerLimits();\n+        }\n+\n+        @Override\n+        public VoltageLimits getVoltageLimits() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0Mzg1NA==", "bodyText": "Same remark about voltage limits.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530343854", "createdAt": "2020-11-25T12:40:22Z", "author": {"login": "annetill"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/SwitchAdapter.java", "diffHunk": "@@ -50,4 +51,49 @@ public boolean isRetained() {\n     public void setRetained(final boolean retained) {\n         getDelegate().setRetained(retained);\n     }\n+\n+    @Override\n+    public List<OperationalLimits> getOperationalLimits() {\n+        return getDelegate().getOperationalLimits();\n+    }\n+\n+    @Override\n+    public CurrentLimits getCurrentLimits() {\n+        return getDelegate().getCurrentLimits();\n+    }\n+\n+    @Override\n+    public CurrentLimitsAdder newCurrentLimits() {\n+        return getDelegate().newCurrentLimits();\n+    }\n+\n+    @Override\n+    public ActivePowerLimits getActivePowerLimits() {\n+        return getDelegate().getActivePowerLimits();\n+    }\n+\n+    @Override\n+    public ActivePowerLimitsAdder newActivePowerLimits() {\n+        return getDelegate().newActivePowerLimits();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimits getApparentPowerLimits() {\n+        return getDelegate().getApparentPowerLimits();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimitsAdder newApparentPowerLimits() {\n+        return getDelegate().newApparentPowerLimits();\n+    }\n+\n+    @Override\n+    public VoltageLimits getVoltageLimits() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0NDA5MQ==", "bodyText": "I thought that we decide to ignore operational limits for switches ?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530344091", "createdAt": "2020-11-25T12:40:45Z", "author": {"login": "annetill"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/SwitchAdapter.java", "diffHunk": "@@ -50,4 +51,49 @@ public boolean isRetained() {\n     public void setRetained(final boolean retained) {\n         getDelegate().setRetained(retained);\n     }\n+\n+    @Override\n+    public List<OperationalLimits> getOperationalLimits() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0NjY2NA==", "bodyText": "Same remark, to complex to deal with that for me.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530346664", "createdAt": "2020-11-25T12:44:57Z", "author": {"login": "annetill"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/AbstractInjectionAdapter.java", "diffHunk": "@@ -22,4 +23,49 @@ protected AbstractInjectionAdapter(I delegate, MergingViewIndex index) {\n     public final Terminal getTerminal() {\n         return getIndex().getTerminal(getDelegate().getTerminal());\n     }\n+\n+    @Override\n+    public List<OperationalLimits> getOperationalLimits() {\n+        return getDelegate().getOperationalLimits();\n+    }\n+\n+    @Override\n+    public CurrentLimits getCurrentLimits() {\n+        return getDelegate().getCurrentLimits();\n+    }\n+\n+    @Override\n+    public CurrentLimitsAdder newCurrentLimits() {\n+        return getDelegate().newCurrentLimits();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimits getApparentPowerLimits() {\n+        return getDelegate().getApparentPowerLimits();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimitsAdder newApparentPowerLimits() {\n+        return getDelegate().newApparentPowerLimits();\n+    }\n+\n+    @Override\n+    public ActivePowerLimits getActivePowerLimits() {\n+        return getDelegate().getActivePowerLimits();\n+    }\n+\n+    @Override\n+    public ActivePowerLimitsAdder newActivePowerLimits() {\n+        return getDelegate().newActivePowerLimits();\n+    }\n+\n+    @Override\n+    public VoltageLimits getVoltageLimits() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0NzIxMQ==", "bodyText": "Same remark.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530347211", "createdAt": "2020-11-25T12:45:43Z", "author": {"login": "annetill"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/AbstractBranchAdapter.java", "diffHunk": "@@ -77,6 +111,36 @@ public CurrentLimitsAdder newCurrentLimits2() {\n         return getDelegate().newCurrentLimits2();\n     }\n \n+    @Override\n+    public ApparentPowerLimits getApparentPowerLimits2() {\n+        return getDelegate().getApparentPowerLimits2();\n+    }\n+\n+    @Override\n+    public ApparentPowerLimitsAdder newApparentPowerLimits2() {\n+        return getDelegate().newApparentPowerLimits2();\n+    }\n+\n+    @Override\n+    public ActivePowerLimits getActivePowerLimits2() {\n+        return getDelegate().getActivePowerLimits2();\n+    }\n+\n+    @Override\n+    public ActivePowerLimitsAdder newActivePowerLimits2() {\n+        return getDelegate().newActivePowerLimits2();\n+    }\n+\n+    @Override\n+    public VoltageLimits getVoltageLimits2() {\n+        return getDelegate().getVoltageLimits2();\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder newVoltageLimits2() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM0OTUzNg==", "bodyText": "For me, a switch does not have operational limits. It is going to increase considerably our network for nothing because secrutiy analysis are run on bus/breaker view.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r530349536", "createdAt": "2020-11-25T12:49:39Z", "author": {"login": "annetill"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/SwitchImpl.java", "diffHunk": "@@ -137,4 +139,48 @@ protected String getTypeDescription() {\n         return \"Switch\";\n     }\n \n+    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73c83e6e9ebf85fe2bcf0ab643b961524ef7650b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/73c83e6e9ebf85fe2bcf0ab643b961524ef7650b", "committedDate": "2020-09-25T09:32:39Z", "message": "Change API with user-friendly getters\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "b4c15d5b0e02ddd8de4fb7656922de705f763ebb", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b4c15d5b0e02ddd8de4fb7656922de705f763ebb", "committedDate": "2020-11-25T13:44:34Z", "message": "Change API for operational limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl with ISO behavior\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nfix\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of apparent power limits added\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of voltage limits added\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSmall correction impl (Breaking change)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nCorrect code smells\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nCorrect unit for apparent power limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd ActivePowerLimits to API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of active power limits + renaming (correction) in Leg\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDelete getUnit() method\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd copyright and authors\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd checks\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd activepowerlimits test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImplementation for merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdding hasTemporaryLimits in LoadingLimitsAdder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nTake reviewer comment into account (part 1)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nRefactoring check of voltage limits (reviewer comment)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSome refactoring + impl operational limits for switches\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd missing @Override tag\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nUpdate javadoc (reviewer comment)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSwitch is not a sided operational limits holder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nChange isFictitious() method by hasOverloadingLimit()\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits1() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits1() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits2() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nChange API with user-friendly getters\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5956d93a3d5288fab965194f0eba80a1c73412c1", "author": {"user": {"login": "vermeulenthi", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5956d93a3d5288fab965194f0eba80a1c73412c1", "committedDate": "2020-12-01T10:12:03Z", "message": "wip first ideas for iidm operational limits (#899)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bca6546cd659f82b6d35cee923498118dc17c3d", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/1bca6546cd659f82b6d35cee923498118dc17c3d", "committedDate": "2020-12-01T10:13:12Z", "message": "Change API for operational limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrection API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl with ISO behavior\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nfix\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of apparent power limits added\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of voltage limits added\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSmall correction impl (Breaking change)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nCorrect code smells\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nCorrect unit for apparent power limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd ActivePowerLimits to API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImpl of active power limits + renaming (correction) in Leg\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDelete getUnit() method\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd copyright and authors\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd checks\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd activepowerlimits test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nImplementation for merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdding hasTemporaryLimits in LoadingLimitsAdder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nTake reviewer comment into account (part 1)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nRefactoring check of voltage limits (reviewer comment)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSome refactoring + impl operational limits for switches\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd missing @Override tag\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nUpdate javadoc (reviewer comment)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nSwitch is not a sided operational limits holder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nChange isFictitious() method by hasOverloadingLimit()\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits1() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits1() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use branch.getCurrentLimits2() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nDo not use leg.getCurrentLimits() anymore (deprecated)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nChange API with user-friendly getters\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4855e3d26a81810f52bd3d2e091774d5f6d3dee", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/c4855e3d26a81810f52bd3d2e091774d5f6d3dee", "committedDate": "2020-12-01T10:13:42Z", "message": "Narrow possible limits in IIDM API\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8fa84ad64e93b6057ff17d7234594427f5d864e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/a8fa84ad64e93b6057ff17d7234594427f5d864e", "committedDate": "2020-12-01T10:13:42Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99e235796d42f046291679b7603427dd40eb1630", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/99e235796d42f046291679b7603427dd40eb1630", "committedDate": "2020-12-01T10:13:42Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b52db6951b3cfaa7eec1ac08755e342889ff845c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b52db6951b3cfaa7eec1ac08755e342889ff845c", "committedDate": "2020-12-01T10:13:42Z", "message": "Changes for busbarsection/buses\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d225dc32661f93e61f9a96ca2fada8b0f7aa16c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5d225dc32661f93e61f9a96ca2fada8b0f7aa16c", "committedDate": "2020-11-27T16:30:23Z", "message": "Changes for busbarsection/buses\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "b52db6951b3cfaa7eec1ac08755e342889ff845c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b52db6951b3cfaa7eec1ac08755e342889ff845c", "committedDate": "2020-12-01T10:13:42Z", "message": "Changes for busbarsection/buses\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d152a49ddd80675378c93ebcd13f4373b0d51f64", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d152a49ddd80675378c93ebcd13f4373b0d51f64", "committedDate": "2020-12-01T10:21:20Z", "message": "make getOperationalLimits unmodifiable\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "874970078911c2a2b9e92e1354e968871e3bd00e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/874970078911c2a2b9e92e1354e968871e3bd00e", "committedDate": "2020-12-01T13:38:08Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a63b589dca76c5564759f8857b8954a9db67b7a", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/6a63b589dca76c5564759f8857b8954a9db67b7a", "committedDate": "2020-12-01T14:56:01Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/158afcb46784c9f23471efddc47653f0b179752f", "committedDate": "2020-12-07T13:05:27Z", "message": "Merge.\n\nSigned-off-by: Anne Tilloy <anne.tilloy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MjI5MjA0", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-546229204", "createdAt": "2020-12-07T14:57:36Z", "commit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTU1Mzcx", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-551155371", "createdAt": "2020-12-14T08:53:15Z", "commit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwODo1MzoxNVrOIFF4uQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwOToxODo0MlrOIFG5RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIxMDIzMw==", "bodyText": "Lines 528 and 529 are the same: is there a regression? If not, remove one of the two lines.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542210233", "createdAt": "2020-12-14T08:53:15Z", "author": {"login": "mathbagu"}, "path": "cgmes/cgmes-conversion/src/test/java/com/powsybl/cgmes/conversion/test/conformity/modified/CgmesConformity1ModifiedConversionTest.java", "diffHunk": "@@ -526,7 +526,7 @@ public void miniNodeBreakerTestLimits() {\n         assertEquals(525, l0.getCurrentLimits1().getPermanentLimit(), tol);\n         assertNull(l0.getCurrentLimits2());\n         assertEquals(525, l1.getCurrentLimits1().getPermanentLimit(), tol);\n-        assertEquals(525, l1.getCurrentLimits2().getPermanentLimit(), tol);\n+        assertEquals(525, l1.getCurrentLimits1().getPermanentLimit(), tol);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIxNjMyNQ==", "bodyText": "Still the same discussion: I suppose you will use this new method (and the others) in the converters. Suppose you use a different implementation of IIDM, this will crash the import.\nI don't know if we should care about it, or if we have to change our strategy for defaulted methods, like providing a mock that does nothing but ensure that the importers work with not updated implementations", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542216325", "createdAt": "2020-12-14T09:02:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Branch.java", "diffHunk": "@@ -140,16 +143,81 @@\n \n     Side getSide(Terminal terminal);\n \n-    CurrentLimits getCurrentLimits(Side side);\n+    default List<OperationalLimits> getOperationalLimits1() {\n+        return getCurrentLimits1() != null ? Collections.singletonList(getCurrentLimits1()) : Collections.emptyList();\n+    }\n \n     CurrentLimits getCurrentLimits1();\n \n+    default ActivePowerLimits getActivePowerLimits1() {\n+        return null;\n+    }\n+\n+    default ApparentPowerLimits getApparentPowerLimits1() {\n+        return null;\n+    }\n+\n     CurrentLimitsAdder newCurrentLimits1();\n \n+    default ActivePowerLimitsAdder newActivePowerLimits1() {\n+        throw new UnsupportedOperationException();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIxNzIxMw==", "bodyText": "I saw that the branch doesn't inherit from FlowsLimitsHolder. Do I miss something?\nTo be checked: how calculated bus manage limits.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542217213", "createdAt": "2020-12-14T09:04:15Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Bus.java", "diffHunk": "@@ -17,7 +17,7 @@\n  *\n  * @author Geoffroy Jamgotchian <geoffroy.jamgotchian at rte-france.com>\n  */\n-public interface Bus extends Identifiable<Bus> {\n+public interface Bus extends Identifiable<Bus>, VoltageLimitsHolder {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIxOTgxMg==", "bodyText": "I'm pretty sure it won't be the case: I propose to sort the voltageLimits and return the lowest to avoid missing violations", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542219812", "createdAt": "2020-12-14T09:08:14Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/CalculatedBusImpl.java", "diffHunk": "@@ -188,6 +188,23 @@ public Component getSynchronousComponent() {\n         return terminalRef == null ? null : scm.getComponent(terminalRef.getSynchronousComponentNumber());\n     }\n \n+    @Override\n+    public VoltageLimits getVoltageLimits() {\n+        return getConnectableStream(BusbarSection.class)\n+                .map(VoltageLimitsHolder::getVoltageLimits)\n+                .filter(Objects::nonNull)\n+                .findFirst() // we suppose that all voltage limits in a same calculated bus are equals", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyMDgyOQ==", "bodyText": "I would throw an exception in all case: we could probably accept that limits have to be created from \"configured\" objects (BusbarSections and ConfiguredBus). It's arguable.", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542220829", "createdAt": "2020-12-14T09:09:45Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/CalculatedBusImpl.java", "diffHunk": "@@ -188,6 +188,23 @@ public Component getSynchronousComponent() {\n         return terminalRef == null ? null : scm.getComponent(terminalRef.getSynchronousComponentNumber());\n     }\n \n+    @Override\n+    public VoltageLimits getVoltageLimits() {\n+        return getConnectableStream(BusbarSection.class)\n+                .map(VoltageLimitsHolder::getVoltageLimits)\n+                .filter(Objects::nonNull)\n+                .findFirst() // we suppose that all voltage limits in a same calculated bus are equals\n+                .orElse(null);\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder newVoltageLimits() {\n+        return getConnectableStream(BusbarSection.class)\n+                .findFirst()\n+                .map(VoltageLimitsHolder::newVoltageLimits)\n+                .orElseThrow(() -> new ValidationException(this, \"No busbarsection is associated to this calculated bus: no voltage limit can be created.\"));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyMTI3Mg==", "bodyText": "See CalculatedBusImpl remarks", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542221272", "createdAt": "2020-12-14T09:10:28Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/MergedBus.java", "diffHunk": "@@ -198,6 +199,23 @@ public Component getSynchronousComponent() {\n         throw new AssertionError(\"Should not happen\");\n     }\n \n+    @Override\n+    public VoltageLimits getVoltageLimits() {\n+        return buses.stream()\n+                .map(VoltageLimitsHolder::getVoltageLimits)\n+                .filter(Objects::nonNull)\n+                .findFirst() // we suppose that all voltage limits in a same calculated bus are equals\n+                .orElse(null);\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder newVoltageLimits() {\n+        return buses.stream()\n+                .findFirst()\n+                .map(VoltageLimitsHolder::newVoltageLimits)\n+                .orElseThrow(() -> new AssertionError(\"Should not happen\")); // a merged bus should at least contain one configured bus\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyMzk2Mg==", "bodyText": "Do you really need to return a List, or a Collection could be OK?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542223962", "createdAt": "2020-12-14T09:14:25Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/OperationalLimitsHolderImpl.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.*;\n+\n+import java.util.*;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class OperationalLimitsHolderImpl implements OperationalLimitsOwner {\n+\n+    private final EnumMap<LimitType, OperationalLimits> operationalLimits = new EnumMap<>(LimitType.class);\n+    private final AbstractIdentifiable<?> identifiable;\n+    private final String attributeName;\n+\n+    OperationalLimitsHolderImpl(AbstractIdentifiable<?> identifiable, String attributeName) {\n+        this.identifiable = Objects.requireNonNull(identifiable);\n+        this.attributeName = Objects.requireNonNull(attributeName);\n+    }\n+\n+    @Override\n+    public void setOperationalLimits(LimitType limitType, OperationalLimits operationalLimits) {\n+        OperationalLimits oldValue = this.operationalLimits.put(limitType, operationalLimits);\n+        identifiable.getNetwork().getListeners().notifyUpdate(identifiable, attributeName + \"_\" + limitType, oldValue, operationalLimits);\n+    }\n+\n+    List<OperationalLimits> getOperationalLimits() {\n+        return Collections.unmodifiableList(new ArrayList<>(operationalLimits.values()));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyNDgxNQ==", "bodyText": "To be reverted?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542224815", "createdAt": "2020-12-14T09:15:49Z", "author": {"login": "mathbagu"}, "path": "action/action-dsl/src/main/java/com/powsybl/action/dsl/ast/ActionExpressionEvaluator.java", "diffHunk": "@@ -93,7 +93,7 @@ private Branch getBranch() {\n         /**\n          * TODO: to move to IIDM\n          */\n-        private static double getPermanentLimit(Branch branch, Branch.Side side) {\n+        private static double getPermanentLimit(Branch<?> branch, Branch.Side side) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyNjQwNw==", "bodyText": "To be discuss: is it better to return the VoltageLimits or to return the owner to be able to create additional limits?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542226407", "createdAt": "2020-12-14T09:18:09Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/VoltageLimitsAdderImpl.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.*;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class VoltageLimitsAdderImpl implements VoltageLimitsAdder {\n+\n+    private final OperationalLimitsOwner owner;\n+    private double highVoltage = Double.NaN;\n+    private double lowVoltage = Double.NaN;\n+\n+    VoltageLimitsAdderImpl(OperationalLimitsOwner owner) {\n+        this.owner = owner;\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder setHighVoltage(double highVoltage) {\n+        this.highVoltage = highVoltage;\n+        return this;\n+    }\n+\n+    @Override\n+    public VoltageLimitsAdder setLowVoltage(double lowVoltage) {\n+        this.lowVoltage = lowVoltage;\n+        return this;\n+    }\n+\n+    @Override\n+    public VoltageLimits add() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158afcb46784c9f23471efddc47653f0b179752f"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIyNjc1Ng==", "bodyText": "@MioRtia: Could you please considerer this remark", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r542226756", "createdAt": "2020-12-14T09:18:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/VoltageLimitsImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl;\n+\n+import com.powsybl.iidm.network.ValidationUtil;\n+import com.powsybl.iidm.network.VoltageLimits;\n+\n+/**\n+ * @author Miora Ralambotiana <miora.ralambotiana at rte-france.com>\n+ */\n+class VoltageLimitsImpl extends AbstractOperationalLimits implements VoltageLimits {\n+\n+    private double highVoltage;\n+    private double lowVoltage;\n+\n+    VoltageLimitsImpl(OperationalLimitsOwner owner, double lowVoltage, double highVoltage) {\n+        super(owner);\n+        this.highVoltage = highVoltage;\n+        this.lowVoltage = lowVoltage;\n+    }\n+\n+    @Override\n+    public double getHighVoltage() {\n+        return highVoltage;\n+    }\n+\n+    @Override\n+    public VoltageLimits setHighVoltage(double highVoltage) {\n+        ValidationUtil.checkDefinedVoltageLimits(owner, lowVoltage, highVoltage);\n+        this.highVoltage = highVoltage;\n+        return this;\n+    }\n+\n+    @Override\n+    public double getLowVoltage() {\n+        return lowVoltage;\n+    }\n+\n+    @Override\n+    public VoltageLimits setLowVoltage(double lowVoltage) {\n+        ValidationUtil.checkDefinedVoltageLimits(owner, lowVoltage, highVoltage);\n+        this.lowVoltage = lowVoltage;\n+        return this;\n+    }\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE0MzYzOA=="}, "originalCommit": {"oid": "bbd020879e44c3337ab15fdfd2b5adcd8c585a44"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a08c85431054c0eeeb059e71e76c13825c41aeb5", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/a08c85431054c0eeeb059e71e76c13825c41aeb5", "committedDate": "2020-12-14T14:54:48Z", "message": "Correct regression test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "849b2a6ef4d0a88325565ecfc42356a523013339", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/849b2a6ef4d0a88325565ecfc42356a523013339", "committedDate": "2020-12-14T15:25:40Z", "message": "Forbid creation of voltage limits on calculated objects\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30f7696cb9da6bfc17c6112768d9787dc0391272", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/30f7696cb9da6bfc17c6112768d9787dc0391272", "committedDate": "2020-12-14T15:53:52Z", "message": "Change how voltage limits on calculated objects are handled\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c7cd3957590b551b2be4f6f226c7bff139206ad", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/8c7cd3957590b551b2be4f6f226c7bff139206ad", "committedDate": "2020-12-14T15:55:28Z", "message": "Revert weird change (due to merge)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26bcf815000f80ce0ea8219667627a2f54c1dded", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/26bcf815000f80ce0ea8219667627a2f54c1dded", "committedDate": "2020-12-14T16:30:25Z", "message": "Add notifications\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "965703c1c4d11dc22390e766ecb7f6b3991e0f07", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/965703c1c4d11dc22390e766ecb7f6b3991e0f07", "committedDate": "2020-12-16T15:39:38Z", "message": "Add checks for voltage limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d751a03af80283aad9ec18b3a4f2cd85e9b494ae", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d751a03af80283aad9ec18b3a4f2cd85e9b494ae", "committedDate": "2020-12-17T14:58:25Z", "message": "Make VoltageLevel a VoltageLimitsHolder\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbb6f680bf4fba56dcec7ede1c62e9203d335ea7", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/bbb6f680bf4fba56dcec7ede1c62e9203d335ea7", "committedDate": "2020-12-17T15:54:00Z", "message": "Replace all uses of deprecated methods\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1717dc182c6266b672ff306f1d02654853d4c22", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/c1717dc182c6266b672ff306f1d02654853d4c22", "committedDate": "2020-12-17T16:23:38Z", "message": "Replace List getOperationalLimits() by Collection getOperationalLimits()\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76d7cca93b78075bc40ecd0eba2dd7081ae18bab", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/76d7cca93b78075bc40ecd0eba2dd7081ae18bab", "committedDate": "2020-12-17T16:48:22Z", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzQyNzcw", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-555342770", "createdAt": "2020-12-18T09:47:50Z", "commit": {"oid": "76d7cca93b78075bc40ecd0eba2dd7081ae18bab"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5a04fd8214b900b7b82ea665428e54d431e49a2", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d5a04fd8214b900b7b82ea665428e54d431e49a2", "committedDate": "2021-01-04T13:10:20Z", "message": "Revert \"Replace all uses of deprecated methods\"\n\nThis reverts commit bbb6f68\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53b2068afa5b920417d4456513f6e975d3019a73", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/53b2068afa5b920417d4456513f6e975d3019a73", "committedDate": "2021-01-04T13:10:28Z", "message": "Revert \"Make VoltageLevel a VoltageLimitsHolder\"\n\nThis reverts commit d751a03\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cc9f4b9562b1f8cde399c4111bb191e72e50fc5", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/6cc9f4b9562b1f8cde399c4111bb191e72e50fc5", "committedDate": "2021-01-04T13:10:35Z", "message": "Revert \"Add checks for voltage limits\"\n\nThis reverts commit 965703c\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3024ea9655ef36de9a7b362f599e25b9bb6d4486", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3024ea9655ef36de9a7b362f599e25b9bb6d4486", "committedDate": "2021-01-04T13:29:43Z", "message": "Delete references to Voltage Limits\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d462b8df2875a275e90207407dc55a8ab3cb4c4", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/2d462b8df2875a275e90207407dc55a8ab3cb4c4", "committedDate": "2021-01-04T13:58:15Z", "message": "Delete unused method\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ed3e58675830f02453ac0ab8f509d492be25aab", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3ed3e58675830f02453ac0ab8f509d492be25aab", "committedDate": "2021-01-04T14:26:40Z", "message": "Small cleaning\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNzk1MjIx", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-561795221", "createdAt": "2021-01-05T13:41:32Z", "commit": {"oid": "3ed3e58675830f02453ac0ab8f509d492be25aab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxMzo0MTozMlrOIOXoAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQxMzo0MTozMlrOIOXoAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkzODA0OA==", "bodyText": "Do you still need this modification?", "url": "https://github.com/powsybl/powsybl-core/pull/1359#discussion_r551938048", "createdAt": "2021-01-05T13:41:32Z", "author": {"login": "annetill"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/CalculatedBus.java", "diffHunk": "@@ -6,12 +6,13 @@\n  */\n package com.powsybl.iidm.network.impl;\n \n+import com.powsybl.iidm.network.Validable;\n+\n /**\n  *\n  * @author Geoffroy Jamgotchian <geoffroy.jamgotchian at rte-france.com>\n  */\n-interface CalculatedBus extends BusExt {\n+interface CalculatedBus extends BusExt, Validable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ed3e58675830f02453ac0ab8f509d492be25aab"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxODA1NjYw", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-561805660", "createdAt": "2021-01-05T13:55:58Z", "commit": {"oid": "3ed3e58675830f02453ac0ab8f509d492be25aab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8228cca4aefd6568cc2b25ee868bf16439a125c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d8228cca4aefd6568cc2b25ee868bf16439a125c", "committedDate": "2021-01-05T14:01:41Z", "message": "Explicitly break the API for new...Limits() methods\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyOTkxNjM1", "url": "https://github.com/powsybl/powsybl-core/pull/1359#pullrequestreview-562991635", "createdAt": "2021-01-06T19:42:23Z", "commit": {"oid": "d8228cca4aefd6568cc2b25ee868bf16439a125c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a29e6a92322a796ab583621984b0a5ebfd5fc56", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/9a29e6a92322a796ab583621984b0a5ebfd5fc56", "committedDate": "2021-01-08T09:43:55Z", "message": "Use setFictitious instead of setOverloadingProtection\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c72574364f9c2a932cc55e39c1ffa79d921228c", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0c72574364f9c2a932cc55e39c1ffa79d921228c", "committedDate": "2021-01-11T12:25:43Z", "message": "Merge branch 'master' into iidm_operational_limits"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4343, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}