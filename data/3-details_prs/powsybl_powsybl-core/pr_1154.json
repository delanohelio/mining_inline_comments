{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjcxNzk0", "number": 1154, "title": "Fix LoadFlowParameters copy.", "bodyText": "Copy extensions via serialize instance.\nFix usage in SecurityAnalysisImpl.\nSigned-off-by: yichen88 tang.yichenyves@gmail.com\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nfix #1151\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nWhat is the current behavior? (You can also link to an open issue here)\nWhat is the new behavior (if this is a feature change)?\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-02-11T13:55:05Z", "url": "https://github.com/powsybl/powsybl-core/pull/1154", "merged": true, "mergeCommit": {"oid": "641bc3b090c34d04ad275fef87ed217435dcba4b"}, "closed": true, "closedAt": "2020-03-06T08:55:45Z", "author": {"login": "yichen88"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDSG1ugH2gAyMzczNjcxNzk0OmMzM2ZmOWFjMDViYzAzYzJkOWViODA2MTkzZWFlNTFjYmRhZGNjYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcK7-JIAH2gAyMzczNjcxNzk0OjFlMzg5NzZmNDAxYTRkZTE1MWYxMjQxM2FiNTcwYThkMjE1MGUzYzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c33ff9ac05bc03c2d9eb806193eae51cbdadccbf", "author": {"user": {"login": "yichen88", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/c33ff9ac05bc03c2d9eb806193eae51cbdadccbf", "committedDate": "2020-02-11T13:53:37Z", "message": "Fix LoadFlowParameters copy.\n\nCopy extensions via serialize instance.\nFix usage in SecurityAnalysisImpl.\n\nSigned-off-by: yichen88 <tang.yichenyves@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "689bf9000b265120309126302df007e393d1be91", "author": {"user": {"login": "yichen88", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/689bf9000b265120309126302df007e393d1be91", "committedDate": "2020-02-11T13:55:50Z", "message": "Merge branch 'master' into fix_lf_parameter_copy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75", "author": {"user": {"login": "sylvlecl", "name": "Sylvain Leclerc"}}, "url": "https://github.com/powsybl/powsybl-core/commit/b92ecf178b70301374b996d01f430d119766ed75", "committedDate": "2020-02-11T16:49:27Z", "message": "Proposition to fix jackson dependency management.\n\nThe version of jackson-core and jackson-annotations pulled by blazegraph\nwere not compatible with the version of jackson-databind used by the project.\n\nSigned-off-by: Sylvain Leclerc <sylvain.leclerc@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53370fc2d5b48bb52f2d69d64c9f1a9ec4310126", "author": {"user": {"login": "sylvlecl", "name": "Sylvain Leclerc"}}, "url": "https://github.com/powsybl/powsybl-core/commit/53370fc2d5b48bb52f2d69d64c9f1a9ec4310126", "committedDate": "2020-02-11T16:46:36Z", "message": "Proposition to fix jackson dependency management.\n\nThe version of jackson-core and jackson-annotations pulled by blazegraph\nwere not compatible with the version of jackson-databind used by the project.\n\nSigned-off-by: Sylvain Leclerc <sylvain.leclerc@rte-france.com>"}, "afterCommit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75", "author": {"user": {"login": "sylvlecl", "name": "Sylvain Leclerc"}}, "url": "https://github.com/powsybl/powsybl-core/commit/b92ecf178b70301374b996d01f430d119766ed75", "committedDate": "2020-02-11T16:49:27Z", "message": "Proposition to fix jackson dependency management.\n\nThe version of jackson-core and jackson-annotations pulled by blazegraph\nwere not compatible with the version of jackson-databind used by the project.\n\nSigned-off-by: Sylvain Leclerc <sylvain.leclerc@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjU2MzAw", "url": "https://github.com/powsybl/powsybl-core/pull/1154#pullrequestreview-357256300", "createdAt": "2020-02-12T08:18:21Z", "commit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NzcwNTAw", "url": "https://github.com/powsybl/powsybl-core/pull/1154#pullrequestreview-358770500", "createdAt": "2020-02-14T08:14:56Z", "commit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwODoxNDo1NlrOFpuejw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwODoxNjozMlrOFpuguQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI5NzQyMw==", "bodyText": "Why do you use ByteArrayBuilder?  Why don't you use ByteArrayOutputStream?", "url": "https://github.com/powsybl/powsybl-core/pull/1154#discussion_r379297423", "createdAt": "2020-02-14T08:14:56Z", "author": {"login": "mathbagu"}, "path": "loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/LoadFlowParameters.java", "diffHunk": "@@ -181,7 +186,19 @@ public LoadFlowParameters setSpecificCompatibility(boolean specificCompatibility\n     }\n \n     public LoadFlowParameters copy() {\n-        return new LoadFlowParameters(this);\n+        byte[] bytes = writeInMemory();\n+        try (ByteArrayInputStream bais = new ByteArrayInputStream(bytes)) {\n+            return JsonLoadFlowParameters.read(bais);\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);\n+        }\n+    }\n+\n+    private byte[] writeInMemory() {\n+        try (ByteArrayBuilder byteArrayBuilder = new ByteArrayBuilder()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI5Nzk3Nw==", "bodyText": "I cannot see where this dependency is used. Is it really needed?\nThis dependency should be declared before jackson-core.", "url": "https://github.com/powsybl/powsybl-core/pull/1154#discussion_r379297977", "createdAt": "2020-02-14T08:16:32Z", "author": {"login": "mathbagu"}, "path": "pom.xml", "diffHunk": "@@ -136,6 +136,16 @@\n                 <artifactId>bigdata-core</artifactId>\n                 <version>${blazegraph.version}</version>\n             </dependency>\n+            <dependency>\n+                <groupId>com.fasterxml.jackson.core</groupId>\n+                <artifactId>jackson-core</artifactId>\n+                <version>${jackson.version}</version>\n+            </dependency>\n+            <dependency>\n+                <groupId>com.fasterxml.jackson.core</groupId>\n+                <artifactId>jackson-annotations</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b92ecf178b70301374b996d01f430d119766ed75"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "767c9035c1c2b423b5826d49d68e4250a53bbcac", "author": {"user": {"login": "sylvlecl", "name": "Sylvain Leclerc"}}, "url": "https://github.com/powsybl/powsybl-core/commit/767c9035c1c2b423b5826d49d68e4250a53bbcac", "committedDate": "2020-02-14T12:30:36Z", "message": "Fix alphabetical sort order in dependency management.\n\nSigned-off-by: Sylvain Leclerc <sylvain.leclerc@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NTY2NzMx", "url": "https://github.com/powsybl/powsybl-core/pull/1154#pullrequestreview-359566731", "createdAt": "2020-02-17T08:49:12Z", "commit": {"oid": "767c9035c1c2b423b5826d49d68e4250a53bbcac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3816f5d3d24602937dfdb85bcc7bdbb834856395", "author": {"user": {"login": "yichen88", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3816f5d3d24602937dfdb85bcc7bdbb834856395", "committedDate": "2020-02-17T09:12:03Z", "message": "Remove un-used copy constructor and add java doc.\n\nSigned-off-by: yichen88 <tang.yichenyves@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e38976f401a4de151f12413ab570a8d2150e3c3", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/1e38976f401a4de151f12413ab570a8d2150e3c3", "committedDate": "2020-03-06T08:37:36Z", "message": "Merge branch 'master' into fix_lf_parameter_copy"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4392, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}