{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MzMzNTIx", "number": 1539, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOToxNzo1MFrOE_xaag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwOToxNDoxNFrOFQTRRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MzA1MzIyOnYy", "diffSide": "RIGHT", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOToxNzo1MFrOH9qZtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjoyNDozM1rOH-lJig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxOTg5Mg==", "bodyText": "I don't understand the purpose of this time series. Is it a double or a string time series. Could you give an example of what is going to contain?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r534419892", "createdAt": "2020-12-02T19:17:50Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "diffHunk": "@@ -14,4 +18,13 @@\n     boolean isOk();\n \n     String getLogs();\n+\n+    Map<String, TimeSeries> getCurves();\n+\n+    TimeSeries getCurve(String curve);\n+\n+    /**\n+     * The Timeline contains information about relevant events that may have happened during the time domain simulation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTE1ODc4NA==", "bodyText": "It will be a string time series containing a textual description of events that have been considered relevant during the dynamic simulation. An example from Dynawo output (time is given in milliseconds since the start of the simulation):\n5000\t _BUS____1-BUS____5-1_AC  LINE : opening on side 2\n5000\t GEN____3_SM  PMIN : deactivation\n5248\t CLA_2_5  CLA : arming by over-current constraint\n5405\t GEN____6_SM  PMIN : activation\n10248\t CLA_2_5  CLA : order to change topology\n10248\t _BUS____2-BUS____5-1_AC  LINE : opening both sides", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r535158784", "createdAt": "2020-12-03T11:54:32Z", "author": {"login": "zamarrenolm"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "diffHunk": "@@ -14,4 +18,13 @@\n     boolean isOk();\n \n     String getLogs();\n+\n+    Map<String, TimeSeries> getCurves();\n+\n+    TimeSeries getCurve(String curve);\n+\n+    /**\n+     * The Timeline contains information about relevant events that may have happened during the time domain simulation.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxOTg5Mg=="}, "originalCommit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTI3NjM4MQ==", "bodyText": "Ok thanks it is clear now, so maybe we can use StringTimeSeries in the API?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r535276381", "createdAt": "2020-12-03T14:33:00Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "diffHunk": "@@ -14,4 +18,13 @@\n     boolean isOk();\n \n     String getLogs();\n+\n+    Map<String, TimeSeries> getCurves();\n+\n+    TimeSeries getCurve(String curve);\n+\n+    /**\n+     * The Timeline contains information about relevant events that may have happened during the time domain simulation.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxOTg5Mg=="}, "originalCommit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM4MjQxMA==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r535382410", "createdAt": "2020-12-03T16:24:33Z", "author": {"login": "marcosmc"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "diffHunk": "@@ -14,4 +18,13 @@\n     boolean isOk();\n \n     String getLogs();\n+\n+    Map<String, TimeSeries> getCurves();\n+\n+    TimeSeries getCurve(String curve);\n+\n+    /**\n+     * The Timeline contains information about relevant events that may have happened during the time domain simulation.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxOTg5Mg=="}, "originalCommit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3OTAwNzk0OnYy", "diffSide": "RIGHT", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResultImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMDozMzowM1rOIBSg0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwODoyNDoxN1rOIF-iAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyMjgwMA==", "bodyText": "Could you assert that both curves and timeline are not null? I saw in the unit test that the timeline could be null. Is it possible to create an empty timeline without any entries?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r538222800", "createdAt": "2020-12-08T10:33:03Z", "author": {"login": "mathbagu"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResultImpl.java", "diffHunk": "@@ -6,17 +6,27 @@\n  */\n package com.powsybl.dynamicsimulation;\n \n+import java.util.Collections;\n+import java.util.Map;\n+\n+import com.powsybl.timeseries.StringTimeSeries;\n+import com.powsybl.timeseries.TimeSeries;\n+\n /**\n  * @author Marcos de Miguel <demiguelm at aia.es>\n  */\n public class DynamicSimulationResultImpl implements DynamicSimulationResult {\n \n     private final boolean status;\n     private final String logs;\n+    private final Map<String, TimeSeries> curves;\n+    private final StringTimeSeries timeLine;\n \n-    public DynamicSimulationResultImpl(boolean status, String logs) {\n+    public DynamicSimulationResultImpl(boolean status, String logs, Map<String, TimeSeries> curves, StringTimeSeries timeLine) {\n         this.status = status;\n         this.logs = logs;\n+        this.curves = curves;\n+        this.timeLine = timeLine;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEzODMwNg==", "bodyText": "Done.", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r543138306", "createdAt": "2020-12-15T08:24:17Z", "author": {"login": "marcosmc"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResultImpl.java", "diffHunk": "@@ -6,17 +6,27 @@\n  */\n package com.powsybl.dynamicsimulation;\n \n+import java.util.Collections;\n+import java.util.Map;\n+\n+import com.powsybl.timeseries.StringTimeSeries;\n+import com.powsybl.timeseries.TimeSeries;\n+\n /**\n  * @author Marcos de Miguel <demiguelm at aia.es>\n  */\n public class DynamicSimulationResultImpl implements DynamicSimulationResult {\n \n     private final boolean status;\n     private final String logs;\n+    private final Map<String, TimeSeries> curves;\n+    private final StringTimeSeries timeLine;\n \n-    public DynamicSimulationResultImpl(boolean status, String logs) {\n+    public DynamicSimulationResultImpl(boolean status, String logs, Map<String, TimeSeries> curves, StringTimeSeries timeLine) {\n         this.status = status;\n         this.logs = logs;\n+        this.curves = curves;\n+        this.timeLine = timeLine;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyMjgwMA=="}, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3OTAxNzg5OnYy", "diffSide": "RIGHT", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/json/DynamicSimulationResultSerializer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMDozNDo0N1rOIBSmvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwODoyNDoyN1rOIF-iag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyNDMxOQ==", "bodyText": "I don't understand this change: I would expect to serialize the curves and the timeline instead. Maybe it's better than a zip file.\n@zamarrenolm @marcosmc what do you think?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r538224319", "createdAt": "2020-12-08T10:34:47Z", "author": {"login": "mathbagu"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/json/DynamicSimulationResultSerializer.java", "diffHunk": "@@ -40,7 +40,6 @@ public void serialize(DynamicSimulationResult result, JsonGenerator jsonGenerato\n         jsonGenerator.writeStartObject();\n         jsonGenerator.writeStringField(\"version\", VERSION);\n         jsonGenerator.writeBooleanField(\"isOK\", result.isOk());\n-        jsonGenerator.writeStringField(\"logs\", result.getLogs());\n         jsonGenerator.writeEndObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzEzODQxMA==", "bodyText": "Done.", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r543138410", "createdAt": "2020-12-15T08:24:27Z", "author": {"login": "marcosmc"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/json/DynamicSimulationResultSerializer.java", "diffHunk": "@@ -40,7 +40,6 @@ public void serialize(DynamicSimulationResult result, JsonGenerator jsonGenerato\n         jsonGenerator.writeStartObject();\n         jsonGenerator.writeStringField(\"version\", VERSION);\n         jsonGenerator.writeBooleanField(\"isOK\", result.isOk());\n-        jsonGenerator.writeStringField(\"logs\", result.getLogs());\n         jsonGenerator.writeEndObject();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyNDMxOQ=="}, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUyNjM3MjUzOnYy", "diffSide": "RIGHT", "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwOToxNDoxNFrOIWFAiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQxMTo0MTozMFrOIWKxiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDAyMTY0MA==", "bodyText": "This field \"name\" is redundant with the one in metadata?\nWhy not just:\n\"curves\" : [\n    { \n      \"metadata\": {\n      \"name\": \"curve2\", \n        ....\n       }\n       ...\n   }\n]", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r560021640", "createdAt": "2021-01-19T09:14:14Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "diffHunk": "@@ -1,5 +1,37 @@\n {\n   \"version\" : \"1.0\",\n   \"isOK\" : true,\n-  \"logs\" : \"\"\n+  \"logs\" : \"\",\n+  \"curves\" : [ {\n+    \"name\" : \"curve1\",\n+    \"curve\" : {\n+      \"metadata\" : {\n+        \"name\" : \"curve1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDA3ODczNw==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r560078737", "createdAt": "2021-01-19T10:38:45Z", "author": {"login": "marcosmc"}, "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "diffHunk": "@@ -1,5 +1,37 @@\n {\n   \"version\" : \"1.0\",\n   \"isOK\" : true,\n-  \"logs\" : \"\"\n+  \"logs\" : \"\",\n+  \"curves\" : [ {\n+    \"name\" : \"curve1\",\n+    \"curve\" : {\n+      \"metadata\" : {\n+        \"name\" : \"curve1\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDAyMTY0MA=="}, "originalCommit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDEwNTk3MA==", "bodyText": "Thanks.\nCould you has a look at Sonar bug?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r560105970", "createdAt": "2021-01-19T11:23:32Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "diffHunk": "@@ -1,5 +1,37 @@\n {\n   \"version\" : \"1.0\",\n   \"isOK\" : true,\n-  \"logs\" : \"\"\n+  \"logs\" : \"\",\n+  \"curves\" : [ {\n+    \"name\" : \"curve1\",\n+    \"curve\" : {\n+      \"metadata\" : {\n+        \"name\" : \"curve1\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDAyMTY0MA=="}, "originalCommit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDExNjEwNw==", "bodyText": "Fix it", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r560116107", "createdAt": "2021-01-19T11:41:30Z", "author": {"login": "marcosmc"}, "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "diffHunk": "@@ -1,5 +1,37 @@\n {\n   \"version\" : \"1.0\",\n   \"isOK\" : true,\n-  \"logs\" : \"\"\n+  \"logs\" : \"\",\n+  \"curves\" : [ {\n+    \"name\" : \"curve1\",\n+    \"curve\" : {\n+      \"metadata\" : {\n+        \"name\" : \"curve1\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDAyMTY0MA=="}, "originalCommit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4917, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}