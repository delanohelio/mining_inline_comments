{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0OTIxNzM4", "number": 1209, "title": "fictitious should be an Identifiable's attribute, not only a Switch's attribute", "bodyText": "Signed-off-by: Thomas ADAM tadam@silicom.fr\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nfix #1104\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-03-06T16:52:53Z", "url": "https://github.com/powsybl/powsybl-core/pull/1209", "merged": true, "mergeCommit": {"oid": "a97d46771fc1950d0cf2e84f5a9669ce7f1ad46c"}, "closed": true, "closedAt": "2020-03-16T10:54:28Z", "author": {"login": "tadam50"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKsMXJgH2gAyMzg0OTIxNzM4OjNhZWFiZTdjNTBmYWQxMjQ4N2I2MzNlZmQ1N2JlZTg2ZDg0MDE0M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOLu1aAFqTM3NTA5MzM1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/3aeabe7c50fad12487b633efd57bee86d840143f", "committedDate": "2020-03-05T14:14:39Z", "message": "Move isFictitious & setFictitious from Switch to Identifiable\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNzE4MzI2", "url": "https://github.com/powsybl/powsybl-core/pull/1209#pullrequestreview-371718326", "createdAt": "2020-03-10T07:10:34Z", "commit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwNzoxMDozNFrOF0DbhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwNzoxNjoyM1rOF0DiNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEyNjQ2OQ==", "bodyText": "You should compare old and new value and notify only if there is a modification? Check how it\u2019s done for other attributes", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r390126469", "createdAt": "2020-03-10T07:10:34Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractIdentifiable.java", "diffHunk": "@@ -39,6 +46,18 @@ public String getName() {\n         return name != null ? name : id;\n     }\n \n+    @Override\n+    public boolean isFictitious() {\n+        return fictitious;\n+    }\n+\n+    @Override\n+    public void setFictitious(boolean fictitious) {\n+        boolean oldValue = this.fictitious;\n+        this.fictitious = fictitious;\n+        getNetwork().getListeners().notifyUpdate(this, \"fictitious\", oldValue, fictitious);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEyNzMxNA==", "bodyText": "You should revert this change", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r390127314", "createdAt": "2020-03-10T07:13:24Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TieLineImpl.java", "diffHunk": "@@ -6,11 +6,11 @@\n  */\n package com.powsybl.iidm.network.impl;\n \n-import java.util.Objects;\n-\n import com.powsybl.iidm.network.TieLine;\n import com.powsybl.iidm.network.ValidationException;\n \n+import java.util.Objects;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEyNzYxMA==", "bodyText": "Maybe there is something in your IDE configuration. The import order should remain the same. Maybe we can share our configuration", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r390127610", "createdAt": "2020-03-10T07:14:28Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TwoWindingsTransformerImpl.java", "diffHunk": "@@ -6,15 +6,11 @@\n  */\n package com.powsybl.iidm.network.impl;\n \n+import com.powsybl.iidm.network.*;\n+\n import java.util.HashSet;\n import java.util.Set;\n \n-import com.powsybl.iidm.network.ConnectableType;\n-import com.powsybl.iidm.network.Identifiable;\n-import com.powsybl.iidm.network.TapChanger;\n-import com.powsybl.iidm.network.TwoWindingsTransformer;\n-import com.powsybl.iidm.network.ValidationUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDEyODE4MA==", "bodyText": "Do you confirm that HvdcLineAdderAdapter doesn\u2019t inherit from a class which is responsible of the fictitious attribute", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r390128180", "createdAt": "2020-03-10T07:16:23Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/HvdcLineAdderAdapter.java", "diffHunk": "@@ -130,6 +133,12 @@ public HvdcLineAdder setEnsureIdUnicity(final boolean ensureIdUnicity) {\n         return this;\n     }\n \n+    @Override\n+    public HvdcLineAdder setFictitious(final boolean fictitious) {\n+        this.fictitious = fictitious;\n+        return this;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3aeabe7c50fad12487b633efd57bee86d840143f"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23680fe7f3d838203c5d8087e7244016897c7c92", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/23680fe7f3d838203c5d8087e7244016897c7c92", "committedDate": "2020-03-10T11:44:51Z", "message": "Merging view step : taking into account PR reviews\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b08184a217a488e54c4774d62b12ecd579e618f", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/8b08184a217a488e54c4774d62b12ecd579e618f", "committedDate": "2020-03-10T15:02:28Z", "message": "Merging view step : increase code coverage\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af647432c90c7e3f37be43fa08db60912e89aab0", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/af647432c90c7e3f37be43fa08db60912e89aab0", "committedDate": "2020-03-10T15:04:58Z", "message": "Merge branch 'master' into issue_1104_fictitious\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxOTk0NTcw", "url": "https://github.com/powsybl/powsybl-core/pull/1209#pullrequestreview-371994570", "createdAt": "2020-03-10T14:19:19Z", "commit": {"oid": "23680fe7f3d838203c5d8087e7244016897c7c92"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDoxOToyMFrOF0Q5PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDoxOToyMFrOF0Q5PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM0NzA2OQ==", "bodyText": "Add default implementation", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r390347069", "createdAt": "2020-03-10T14:19:20Z", "author": {"login": "MioRtia"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/IdentifiableAdder.java", "diffHunk": "@@ -18,4 +18,5 @@\n \n     T setName(String name);\n \n+    T setFictitious(boolean fictitious);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23680fe7f3d838203c5d8087e7244016897c7c92"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277", "committedDate": "2020-03-11T08:26:10Z", "message": "Merging view step : fix default implementation IdentifiableAdder\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MzUwMzc5", "url": "https://github.com/powsybl/powsybl-core/pull/1209#pullrequestreview-374350379", "createdAt": "2020-03-13T14:36:13Z", "commit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDozNjoxNFrOF2GDkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDo0MDo0MlrOF2GOGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2NjY0MQ==", "bodyText": "This method could return false by default instead of throwing an exception.\n@MioRtia What do you think?", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r392266641", "createdAt": "2020-03-13T14:36:14Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Identifiable.java", "diffHunk": "@@ -74,4 +74,18 @@ default Properties getProperties() {\n      * Get properties key values.\n      */\n     Set<String> getPropertyNames();\n+\n+    /**\n+     * Get the fictitious status of the switch\n+     */\n+    default boolean isFictitious() {\n+        throw new UnsupportedOperationException();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2NjY5MQ==", "bodyText": "Fix the javadoc", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r392266691", "createdAt": "2020-03-13T14:36:20Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Identifiable.java", "diffHunk": "@@ -74,4 +74,18 @@ default Properties getProperties() {\n      * Get properties key values.\n      */\n     Set<String> getPropertyNames();\n+\n+    /**\n+     * Get the fictitious status of the switch", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2Njc2OQ==", "bodyText": "Fix the javadoc", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r392266769", "createdAt": "2020-03-13T14:36:28Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Identifiable.java", "diffHunk": "@@ -74,4 +74,18 @@ default Properties getProperties() {\n      * Get properties key values.\n      */\n     Set<String> getPropertyNames();\n+\n+    /**\n+     * Get the fictitious status of the switch\n+     */\n+    default boolean isFictitious() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    /**\n+     * Set the fictitious status of the switch", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2OTMzOQ==", "bodyText": "I think the tests are useless: why don't you delegate the call automatically", "url": "https://github.com/powsybl/powsybl-core/pull/1209#discussion_r392269339", "createdAt": "2020-03-13T14:40:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/MergedLine.java", "diffHunk": "@@ -432,6 +432,21 @@ public boolean hasProperty(final String key) {\n         return properties.keySet().stream().map(Object::toString).collect(Collectors.toSet());\n     }\n \n+    @Override\n+    public boolean isFictitious() {\n+        return dl1.isFictitious() || dl2.isFictitious();\n+    }\n+\n+    @Override\n+    public void setFictitious(boolean fictitious) {\n+        if (dl1.isFictitious() != fictitious) {\n+            dl1.setFictitious(fictitious);\n+        }\n+        if (dl2.isFictitious() != fictitious) {\n+            dl2.setFictitious(fictitious);\n+        }\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9a6e2de6280febd26fbbbdf0b8f33bdb2fc8277"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afb3ae7ab4e88f82ce5c44f2c7ea67d58599c92a", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/afb3ae7ab4e88f82ce5c44f2c7ea67d58599c92a", "committedDate": "2020-03-13T15:21:04Z", "message": "Merging view step : taking into account PR reviews\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4620c1e9c59d7ae0072c40fb355c2dafa55447b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b4620c1e9c59d7ae0072c40fb355c2dafa55447b", "committedDate": "2020-03-16T10:40:51Z", "message": "Merge branch 'master' into issue_1104_fictitious"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MDkzMzU4", "url": "https://github.com/powsybl/powsybl-core/pull/1209#pullrequestreview-375093358", "createdAt": "2020-03-16T10:41:08Z", "commit": {"oid": "afb3ae7ab4e88f82ce5c44f2c7ea67d58599c92a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4449, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}