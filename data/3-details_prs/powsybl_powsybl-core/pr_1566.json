{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MDIzNzQ2", "number": 1566, "title": "UCTE export: ignore fictitious YNodes introduced for transformers at boundary", "bodyText": "Signed-off-by: Luma zamarrenolm@aia.es\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nBug fix for export of UCTE network that contains boundary configurations where a transformer is directly connected to an XNode in UCTE Network: Transformer -- XNode.\nDuring import these configurations are detected and converted to Transformer -- YNode -- DanglingLine -- XNode. The YNode is a fictitious bus that allows to keep the whole transformer model inside the IIDM Network without having to create special elements or expand the DanglingLine to a more complex object. The DanglingLine created between the YNode and the XNode should be ideally a zero-impedance line, actually it has a very low impedance.\nWhat is the current behavior? (You can also link to an open issue here)\nIIDM Network buses that correspond to YNodes are considered for export in UCTE format. The export fails because the identifier assigned to the YNode does not follow the UCTE conventions.\nWhat is the new behavior (if this is a feature change)?\nIIDM Network buses corresponding to YNodes and dangling lines between YNodes and XNodes are filtered for UCTE export.\nThe original transformer at boundary can be exported, because its identifier already refers to the original XNode, there is no need to modify the export of the transformer.\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\nWe should consider making the check for YNodes more robust in the code. There is a related TODO annotation in UcteExporter class, in the method isYNode(Bus).", "createdAt": "2020-12-10T15:35:01Z", "url": "https://github.com/powsybl/powsybl-core/pull/1566", "merged": true, "mergeCommit": {"oid": "7d3dc38c3ee3385820b114907c0c74be5def2035"}, "closed": true, "closedAt": "2020-12-17T11:10:24Z", "author": {"login": "zamarrenolm"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdk00m3AH2gAyNTM2MDIzNzQ2OjI4YTIyOWU2MTM3NTkyNzUyZTU5N2ZjMDFmZjE0OGRiOWE3OGIxZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnANjSgH2gAyNTM2MDIzNzQ2OjBiN2ZiNjkzYzM1OTYyYzQ4ZWRmNDVmMzllZTIxNDk0NWUzY2FhNmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "28a229e6137592752e597fc01ff148db9a78b1d5", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/28a229e6137592752e597fc01ff148db9a78b1d5", "committedDate": "2020-12-10T15:11:02Z", "message": "UCTE export: ignore fictitious YNodes introduced for transformers at boundary\n\nSigned-off-by: Luma <zamarrenolm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "960428de434b3ca333cb5bec42f71dd347ce56b2", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/960428de434b3ca333cb5bec42f71dd347ce56b2", "committedDate": "2020-12-11T12:13:37Z", "message": "Merge branch 'master' into ucte_fix_transformers_at_boundary"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e34aee3e5ce802bed032110d8c9b2d4ae9d6368b", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/e34aee3e5ce802bed032110d8c9b2d4ae9d6368b", "committedDate": "2020-12-11T15:19:01Z", "message": "Add unit tests.\n\nSigned-off-by: Anne Tilloy <anne.tilloy@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "156a0a5500e64f6ad512e57a1eabcbbdd4381229", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/156a0a5500e64f6ad512e57a1eabcbbdd4381229", "committedDate": "2020-12-11T15:31:45Z", "message": "Fix checkstyle.\n\nSigned-off-by: Anne Tilloy <anne.tilloy@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTA5MTY2", "url": "https://github.com/powsybl/powsybl-core/pull/1566#pullrequestreview-551109166", "createdAt": "2020-12-14T07:46:20Z", "commit": {"oid": "156a0a5500e64f6ad512e57a1eabcbbdd4381229"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMzU0NjYy", "url": "https://github.com/powsybl/powsybl-core/pull/1566#pullrequestreview-552354662", "createdAt": "2020-12-15T11:26:21Z", "commit": {"oid": "156a0a5500e64f6ad512e57a1eabcbbdd4381229"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMToyNjoyMVrOIGGJMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxMToyNjoyMVrOIGGJMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI2MzAyNQ==", "bodyText": "I agree with this", "url": "https://github.com/powsybl/powsybl-core/pull/1566#discussion_r543263025", "createdAt": "2020-12-15T11:26:21Z", "author": {"login": "murgeyseb"}, "path": "ucte/ucte-converter/src/main/java/com/powsybl/ucte/converter/UcteImporter.java", "diffHunk": "@@ -547,27 +548,18 @@ private static TwoWindingsTransformer createXnodeTransfo(UcteNetworkExt ucteNetw\n \n         yVoltageLevel.getBusBreakerView().newBus()\n                 .setId(yNodeName)\n+                // TODO(UCTETransformerAtBoundary) consider setting fictitious to true ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "156a0a5500e64f6ad512e57a1eabcbbdd4381229"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b8d2d67d0bf5c86d34861a8f056955cbdef36ff", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/5b8d2d67d0bf5c86d34861a8f056955cbdef36ff", "committedDate": "2020-12-17T09:08:51Z", "message": "Merge branch 'master' into ucte_fix_transformers_at_boundary"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7294b9d5793151c1fc2f969bfcea7df8dd622d74", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/7294b9d5793151c1fc2f969bfcea7df8dd622d74", "committedDate": "2020-12-17T09:13:12Z", "message": "Add fictious to the Ynode voltage level.\n\nSigned-off-by: Anne Tilloy <anne.tilloy@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b7fb693c35962c48edf45f39ee214945e3caa6e", "author": {"user": {"login": "murgeyseb", "name": "S\u00e9bastien Murgey"}}, "url": "https://github.com/powsybl/powsybl-core/commit/0b7fb693c35962c48edf45f39ee214945e3caa6e", "committedDate": "2020-12-17T09:35:05Z", "message": "Merge branch 'master' into ucte_fix_transformers_at_boundary"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4088, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}