{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MjM0OTg5", "number": 1258, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwODozNjo0MFrODvdQjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwODozNjo0MFrODvdQjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMDg5MDM3OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractComponentImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwODozNjo0MFrOGB49gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMzowODozOFrOGCCr4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYzNTAxMA==", "bodyText": "We should rename this method to give it a better name like getBusFilter() or getBusPredicate()", "url": "https://github.com/powsybl/powsybl-core/pull/1258#discussion_r404635010", "createdAt": "2020-04-07T08:36:40Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractComponentImpl.java", "diffHunk": "@@ -44,11 +46,15 @@ public int getSize() {\n \n     @Override\n     public Iterable<Bus> getBuses() {\n-        return Iterables.filter(networkRef.get().getBusView().getBuses(), bus -> bus.getConnectedComponent() == ComponentImpl.this);\n+        return StreamSupport.stream(networkRef.get().getBusView().getBuses().spliterator(), false)\n+                            .filter(filterOnThis())\n+                            .collect(Collectors.toList());\n     }\n \n     @Override\n     public Stream<Bus> getBusStream() {\n-        return networkRef.get().getBusView().getBusStream().filter(bus -> bus.getConnectedComponent() == ComponentImpl.this);\n+        return networkRef.get().getBusView().getBusStream().filter(filterOnThis());\n     }\n+\n+    protected abstract Predicate<Bus> filterOnThis();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25b0c4c445b8ec65912d99ebfcd7228319291466"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDc5NDMzNw==", "bodyText": "I did it, if it is okay for you, you can merge.", "url": "https://github.com/powsybl/powsybl-core/pull/1258#discussion_r404794337", "createdAt": "2020-04-07T13:08:38Z", "author": {"login": "miovd"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractComponentImpl.java", "diffHunk": "@@ -44,11 +46,15 @@ public int getSize() {\n \n     @Override\n     public Iterable<Bus> getBuses() {\n-        return Iterables.filter(networkRef.get().getBusView().getBuses(), bus -> bus.getConnectedComponent() == ComponentImpl.this);\n+        return StreamSupport.stream(networkRef.get().getBusView().getBuses().spliterator(), false)\n+                            .filter(filterOnThis())\n+                            .collect(Collectors.toList());\n     }\n \n     @Override\n     public Stream<Bus> getBusStream() {\n-        return networkRef.get().getBusView().getBusStream().filter(bus -> bus.getConnectedComponent() == ComponentImpl.this);\n+        return networkRef.get().getBusView().getBusStream().filter(filterOnThis());\n     }\n+\n+    protected abstract Predicate<Bus> filterOnThis();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYzNTAxMA=="}, "originalCommit": {"oid": "25b0c4c445b8ec65912d99ebfcd7228319291466"}, "originalPosition": 49}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 74, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}