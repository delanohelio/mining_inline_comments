{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzOTE3ODU0", "number": 1377, "title": "Implementation of LoadDetail extension (handle fixed and variable part of active and reactive power)", "bodyText": "Signed-off-by: RALAMBOTIANA MIORA miora.ralambotiana@rte-france.com\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ?\nNo.\nWhat kind of change does this PR introduce?\nFeature\nWhat is the current behavior?\nA load is only described by active and reactive power, without specifying if it is fixed or variable.\nWhat is the new behavior (if this is a feature change)?\nAn extension now exists to express if the active and reactive power are fixed or variable\nDoes this PR introduce a breaking change or deprecate an API?\nNo.", "createdAt": "2020-07-03T08:11:01Z", "url": "https://github.com/powsybl/powsybl-core/pull/1377", "merged": true, "mergeCommit": {"oid": "37d108559a7679bef43db6fc81af87cddd8b136c"}, "closed": true, "closedAt": "2020-07-06T08:50:39Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxSAXsAH2gAyNDQzOTE3ODU0OjAyZWQ4ZGRkYjkxOTZiZmJjNDg1OGJkYjIxNjIwNTVkZGNmNWYxZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyNHKUgH2gAyNDQzOTE3ODU0Ojg1ZWJjNTNhNWY4Njc5NTAwMmU1MmEyN2M4MjI5ODc5Zjk5Nzc4MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "02ed8dddb9196bfbc4858bdb2162055ddcf5f1ff", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/02ed8dddb9196bfbc4858bdb2162055ddcf5f1ff", "committedDate": "2020-07-03T11:47:04Z", "message": "Implementation of LoadDetail extension (handle fixed and variable part of active and reactive power)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ntmp\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5847ea478ba332dcf5eb3bd18ce24ab3bad2f6fa", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5847ea478ba332dcf5eb3bd18ce24ab3bad2f6fa", "committedDate": "2020-07-03T11:47:06Z", "message": "Refactor xml serializer of load detail\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d9ff31360573203378ced1e5e37a2789373ade", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/25d9ff31360573203378ced1e5e37a2789373ade", "committedDate": "2020-07-03T11:47:06Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91054b74d83b3cedd5d359cad1dd73e9dda8b605", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/91054b74d83b3cedd5d359cad1dd73e9dda8b605", "committedDate": "2020-07-03T09:41:24Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "25d9ff31360573203378ced1e5e37a2789373ade", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/25d9ff31360573203378ced1e5e37a2789373ade", "committedDate": "2020-07-03T11:47:06Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fe6087df6a5943afb65498966590f5856f690ae", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5fe6087df6a5943afb65498966590f5856f690ae", "committedDate": "2020-07-03T12:38:25Z", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyODY5NTk5", "url": "https://github.com/powsybl/powsybl-core/pull/1377#pullrequestreview-442869599", "createdAt": "2020-07-06T08:23:37Z", "commit": {"oid": "5fe6087df6a5943afb65498966590f5856f690ae"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODoyMzozN1rOGtNjAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODoyMzozN1rOGtNjAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2MTA1Nw==", "bodyText": "Maybe we should invert the order to read the new attribute in priority.", "url": "https://github.com/powsybl/powsybl-core/pull/1377#discussion_r450061057", "createdAt": "2020-07-06T08:23:37Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-extensions/src/main/java/com/powsybl/iidm/network/extensions/LoadDetailXmlSerializer.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.extensions;\n+\n+import com.google.auto.service.AutoService;\n+import com.powsybl.commons.extensions.AbstractExtensionXmlSerializer;\n+import com.powsybl.commons.extensions.ExtensionXmlSerializer;\n+import com.powsybl.commons.xml.XmlReaderContext;\n+import com.powsybl.commons.xml.XmlUtil;\n+import com.powsybl.commons.xml.XmlWriterContext;\n+import com.powsybl.iidm.network.Load;\n+\n+import javax.xml.stream.XMLStreamException;\n+\n+/**\n+ * @author Geoffroy Jamgotchian <geoffroy.jamgotchian at rte-france.com>\n+ */\n+@AutoService(ExtensionXmlSerializer.class)\n+public class LoadDetailXmlSerializer extends AbstractExtensionXmlSerializer<Load, LoadDetail> {\n+\n+    public LoadDetailXmlSerializer() {\n+        super(\"detail\", \"network\", LoadDetail.class,\n+                false, \"loadDetail.xsd\",\n+                \"http://www.itesla_project.eu/schema/iidm/ext/load_detail/1_0\",\n+                \"ld\");\n+    }\n+\n+    @Override\n+    public void write(LoadDetail detail, XmlWriterContext context) throws XMLStreamException {\n+        XmlUtil.writeFloat(\"fixedActivePower\", detail.getFixedActivePower(), context.getExtensionsWriter());\n+        XmlUtil.writeFloat(\"fixedReactivePower\", detail.getFixedReactivePower(), context.getExtensionsWriter());\n+        XmlUtil.writeFloat(\"variableActivePower\", detail.getVariableActivePower(), context.getExtensionsWriter());\n+        XmlUtil.writeFloat(\"variableReactivePower\", detail.getVariableReactivePower(), context.getExtensionsWriter());\n+    }\n+\n+    @Override\n+    public LoadDetail read(Load load, XmlReaderContext context) throws XMLStreamException {\n+        float fixedActivePower = XmlUtil.readOptionalFloatAttribute(context.getReader(), \"subLoad1ActivePower\");\n+        if (Float.isNaN(fixedActivePower)) {\n+            fixedActivePower = XmlUtil.readFloatAttribute(context.getReader(), \"fixedActivePower\");\n+        }\n+        float fixedReactivePower = XmlUtil.readOptionalFloatAttribute(context.getReader(), \"subLoad1ReactivePower\");\n+        if (Float.isNaN(fixedReactivePower)) {\n+            fixedReactivePower = XmlUtil.readFloatAttribute(context.getReader(), \"fixedReactivePower\");\n+        }\n+        float variableActivePower = XmlUtil.readOptionalFloatAttribute(context.getReader(), \"subLoad2ActivePower\");\n+        if (Float.isNaN(variableActivePower)) {\n+            variableActivePower = XmlUtil.readFloatAttribute(context.getReader(), \"variableActivePower\");\n+        }\n+        float variableReactivePower = XmlUtil.readOptionalFloatAttribute(context.getReader(), \"subLoad2ReactivePower\");\n+        if (Float.isNaN(variableReactivePower)) {\n+            variableReactivePower = XmlUtil.readFloatAttribute(context.getReader(), \"variableReactivePower\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fe6087df6a5943afb65498966590f5856f690ae"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85ebc53a5f86795002e52a27c8229879f9977822", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/85ebc53a5f86795002e52a27c8229879f9977822", "committedDate": "2020-07-06T08:38:53Z", "message": "Read new LoadDetail attributes in priority\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4102, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}