{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzOTczNTIx", "number": 1520, "title": "Correct the message exception when adding an equipment with an existing ID in a merging view: the class of the existing object is returned, not the adder class", "bodyText": "Signed-off-by: RALAMBOTIANA MIORA miora.ralambotiana@rte-france.com\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nNo\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFix an exception message\nWhat is the current behavior? (You can also link to an open issue here)\nWhen trying to create an equipment with an existing ID in a merging view, the message reads: An [ADDER_CLASS] object already exists\nWhat is the new behavior (if this is a feature change)?\nNow the message reads: An [OBJECT_CLASS] object already exists\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\nNo", "createdAt": "2020-10-15T09:51:23Z", "url": "https://github.com/powsybl/powsybl-core/pull/1520", "merged": true, "mergeCommit": {"oid": "73ca38abcb209bbb3dd70fd34959f6de5981d6e0"}, "closed": true, "closedAt": "2020-11-02T08:59:20Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSuoWtgH2gAyNTAzOTczNTIxOjNlYjcwNmQxNWQzMzg4ODljNTI4Zjg1M2I4Mjc3OWMyMDkyNDNmZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYgi9hAH2gAyNTAzOTczNTIxOmIxNjA1OTA3MmVkNGQ0OGM4ZDU1YzFmYWYyZmM4NDMzOGQwOTMzOWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3eb706d15d338889c528f853b82779c209243fd8", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3eb706d15d338889c528f853b82779c209243fd8", "committedDate": "2020-10-15T09:47:35Z", "message": "Correct the message exception when adding an equipment with an existing ID in a merging view: the class of the existing object is returned, not the adder class\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MzQwNDk2", "url": "https://github.com/powsybl/powsybl-core/pull/1520#pullrequestreview-509340496", "createdAt": "2020-10-15T12:49:20Z", "commit": {"oid": "3eb706d15d338889c528f853b82779c209243fd8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjo0OToyMFrOHiGGpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMjo0OToyMFrOHiGGpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTUxMzYzOQ==", "bodyText": "I think it's not working well if the identifiable has been wrap into a MergedLine", "url": "https://github.com/powsybl/powsybl-core/pull/1520#discussion_r505513639", "createdAt": "2020-10-15T12:49:20Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-mergingview/src/main/java/com/powsybl/iidm/mergingview/AbstractIdentifiableAdderAdapter.java", "diffHunk": "@@ -67,7 +69,7 @@ protected void checkAndSetUniqueId() {\n             // Check Id is unique in all merging view\n             if (getIndex().contains(id)) {\n                 throw new PowsyblException(\"The network already contains an object '\"\n-                                           + getDelegate().getClass().getSimpleName()\n+                                           + getIndex().get(n -> n.getIdentifiable(id), UnaryOperator.identity()).getClass().getSimpleName()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3eb706d15d338889c528f853b82779c209243fd8"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc59e840999052cee6df3218c3bb466ee3fca141", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/cc59e840999052cee6df3218c3bb466ee3fca141", "committedDate": "2020-10-15T15:06:26Z", "message": "Reviewer's suggestion + tests for dangling lines\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNDIwMTU2", "url": "https://github.com/powsybl/powsybl-core/pull/1520#pullrequestreview-521420156", "createdAt": "2020-11-02T08:35:57Z", "commit": {"oid": "cc59e840999052cee6df3218c3bb466ee3fca141"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b16059072ed4d48c8d55c1faf2fc84338d09339f", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/b16059072ed4d48c8d55c1faf2fc84338d09339f", "committedDate": "2020-11-02T08:46:34Z", "message": "Merge branch 'master' into exception_message_merging_view_non_unique_id"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4062, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}