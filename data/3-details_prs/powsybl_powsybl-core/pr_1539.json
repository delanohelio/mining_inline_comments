{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MzMzNTIx", "number": 1539, "title": "Dynamic simulation results", "bodyText": "Please check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature\nWhat is the new behavior (if this is a feature change)?\nThe DynamicSimulationResult class is modified to hold the curves and timeLine resulting from the simulation.", "createdAt": "2020-11-04T11:51:06Z", "url": "https://github.com/powsybl/powsybl-core/pull/1539", "merged": true, "mergeCommit": {"oid": "f4178fc1ca408c19aeae04009ca3a872219d973f"}, "closed": true, "closedAt": "2021-01-19T11:53:46Z", "author": {"login": "marcosmc"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY7ANrgH2gAyNTE1MzMzNTIxOjIyZWZlNTc3ZDJhZDM2NGU2ZTI3ZjYwMTM1ZDZiZDNmYzNiM2FlYzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdxpwWzgH2gAyNTE1MzMzNTIxOmQwNjRiYWEzYTZmZTZhMDgxNWRhOWU1Mzg5MDhjMmZkNjQyMTZkY2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "22efe577d2ad364e6e27f60135d6bd3fc3b3aec8", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/22efe577d2ad364e6e27f60135d6bd3fc3b3aec8", "committedDate": "2020-11-03T15:36:03Z", "message": "Save curves and time line outputs\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1a17a92af23d24eafc9cdf6c310a332825929fe", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b1a17a92af23d24eafc9cdf6c310a332825929fe", "committedDate": "2020-11-03T15:48:21Z", "message": "fix test\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbc1be4bbe46182209ab7751c38dfafae354a169", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/fbc1be4bbe46182209ab7751c38dfafae354a169", "committedDate": "2020-11-03T15:56:37Z", "message": "fix test\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "070c9d7642402d9873feb2edf79d684156fa391b", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/070c9d7642402d9873feb2edf79d684156fa391b", "committedDate": "2020-11-04T11:04:00Z", "message": "add java doc\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cbc86beaed5964511176acdfbf8cf34fd7380e4", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0cbc86beaed5964511176acdfbf8cf34fd7380e4", "committedDate": "2020-11-04T11:23:39Z", "message": "fix checkstyle\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74e6a2cccd6628b4fb98f355083aac5541b55052", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/74e6a2cccd6628b4fb98f355083aac5541b55052", "committedDate": "2020-11-04T16:34:33Z", "message": "add result test\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff2dae7cf322fde12508f2216d34470d25e5b735", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/ff2dae7cf322fde12508f2216d34470d25e5b735", "committedDate": "2020-11-06T11:36:37Z", "message": "Save TimeLine as a single object of type TimeSeries\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "296d995a38f98728f707c3e490ae0eac6c5bd008", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/296d995a38f98728f707c3e490ae0eac6c5bd008", "committedDate": "2020-11-06T11:37:16Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MTM1NTc2", "url": "https://github.com/powsybl/powsybl-core/pull/1539#pullrequestreview-527135576", "createdAt": "2020-11-10T12:06:02Z", "commit": {"oid": "296d995a38f98728f707c3e490ae0eac6c5bd008"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c629f5b3ee3038ac2242a2c5533187baec4af798", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/c629f5b3ee3038ac2242a2c5533187baec4af798", "committedDate": "2020-11-10T12:06:33Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401", "committedDate": "2020-11-17T15:34:27Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMTYwMjIy", "url": "https://github.com/powsybl/powsybl-core/pull/1539#pullrequestreview-543160222", "createdAt": "2020-12-02T19:17:50Z", "commit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOToxNzo1MFrOH9qZtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxOToxNzo1MFrOH9qZtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDQxOTg5Mg==", "bodyText": "I don't understand the purpose of this time series. Is it a double or a string time series. Could you give an example of what is going to contain?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r534419892", "createdAt": "2020-12-02T19:17:50Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResult.java", "diffHunk": "@@ -14,4 +18,13 @@\n     boolean isOk();\n \n     String getLogs();\n+\n+    Map<String, TimeSeries> getCurves();\n+\n+    TimeSeries getCurve(String curve);\n+\n+    /**\n+     * The Timeline contains information about relevant events that may have happened during the time domain simulation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fc38f7f51a4a5c01e6ceadf8f8bc5f334b65401"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f716d53ce78241c0ae10681938feb735d2941048", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f716d53ce78241c0ae10681938feb735d2941048", "committedDate": "2020-12-03T15:48:10Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b76e9defe38f834014de8c872692022b6266834e", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/b76e9defe38f834014de8c872692022b6266834e", "committedDate": "2020-12-03T16:10:17Z", "message": "use StringTimeSeries with TimeLine info\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MDUyODIy", "url": "https://github.com/powsybl/powsybl-core/pull/1539#pullrequestreview-547052822", "createdAt": "2020-12-08T10:33:03Z", "commit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMDozMzowM1rOIBSg0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMDozNDo0N1rOIBSmvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyMjgwMA==", "bodyText": "Could you assert that both curves and timeline are not null? I saw in the unit test that the timeline could be null. Is it possible to create an empty timeline without any entries?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r538222800", "createdAt": "2020-12-08T10:33:03Z", "author": {"login": "mathbagu"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationResultImpl.java", "diffHunk": "@@ -6,17 +6,27 @@\n  */\n package com.powsybl.dynamicsimulation;\n \n+import java.util.Collections;\n+import java.util.Map;\n+\n+import com.powsybl.timeseries.StringTimeSeries;\n+import com.powsybl.timeseries.TimeSeries;\n+\n /**\n  * @author Marcos de Miguel <demiguelm at aia.es>\n  */\n public class DynamicSimulationResultImpl implements DynamicSimulationResult {\n \n     private final boolean status;\n     private final String logs;\n+    private final Map<String, TimeSeries> curves;\n+    private final StringTimeSeries timeLine;\n \n-    public DynamicSimulationResultImpl(boolean status, String logs) {\n+    public DynamicSimulationResultImpl(boolean status, String logs, Map<String, TimeSeries> curves, StringTimeSeries timeLine) {\n         this.status = status;\n         this.logs = logs;\n+        this.curves = curves;\n+        this.timeLine = timeLine;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIyNDMxOQ==", "bodyText": "I don't understand this change: I would expect to serialize the curves and the timeline instead. Maybe it's better than a zip file.\n@zamarrenolm @marcosmc what do you think?", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r538224319", "createdAt": "2020-12-08T10:34:47Z", "author": {"login": "mathbagu"}, "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/json/DynamicSimulationResultSerializer.java", "diffHunk": "@@ -40,7 +40,6 @@ public void serialize(DynamicSimulationResult result, JsonGenerator jsonGenerato\n         jsonGenerator.writeStartObject();\n         jsonGenerator.writeStringField(\"version\", VERSION);\n         jsonGenerator.writeBooleanField(\"isOK\", result.isOk());\n-        jsonGenerator.writeStringField(\"logs\", result.getLogs());\n         jsonGenerator.writeEndObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b76e9defe38f834014de8c872692022b6266834e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98b76d75a5345ce90af4fd67854abda02cdbb8e9", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/98b76d75a5345ce90af4fd67854abda02cdbb8e9", "committedDate": "2020-12-11T17:31:39Z", "message": "serialize/deserialize curves and timeline\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51f7f058d8d0f3392b912c316c49e424ce6696b7", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/51f7f058d8d0f3392b912c316c49e424ce6696b7", "committedDate": "2020-12-11T17:32:17Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09250bbfc86f3cecaf2e7f959c1a53608fc113ad", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/09250bbfc86f3cecaf2e7f959c1a53608fc113ad", "committedDate": "2020-12-15T09:46:50Z", "message": "fix emptyTimeline\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebd59391b4ed628e255003a1d2bf4bf2405fd7a4", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/ebd59391b4ed628e255003a1d2bf4bf2405fd7a4", "committedDate": "2020-12-15T10:09:13Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cdf99a6bf13e79c66b7638a1ecee21778dc9d4b", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/9cdf99a6bf13e79c66b7638a1ecee21778dc9d4b", "committedDate": "2021-01-14T17:09:33Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cb7e44fc6d9c63952608f72782071edc3d44502", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/5cb7e44fc6d9c63952608f72782071edc3d44502", "committedDate": "2021-01-18T15:08:28Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/75ce354a368b4ec0cedac832f3d70f124c6be9bd", "committedDate": "2021-01-19T08:09:48Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTcxMDM5Mjc0", "url": "https://github.com/powsybl/powsybl-core/pull/1539#pullrequestreview-571039274", "createdAt": "2021-01-19T09:14:14Z", "commit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwOToxNDoxNFrOIWFAiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQwOToxNDoxNFrOIWFAiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDAyMTY0MA==", "bodyText": "This field \"name\" is redundant with the one in metadata?\nWhy not just:\n\"curves\" : [\n    { \n      \"metadata\": {\n      \"name\": \"curve2\", \n        ....\n       }\n       ...\n   }\n]", "url": "https://github.com/powsybl/powsybl-core/pull/1539#discussion_r560021640", "createdAt": "2021-01-19T09:14:14Z", "author": {"login": "geofjamg"}, "path": "dynamic-simulation/dynamic-simulation-api/src/test/resources/DynamicSimulationResult.json", "diffHunk": "@@ -1,5 +1,37 @@\n {\n   \"version\" : \"1.0\",\n   \"isOK\" : true,\n-  \"logs\" : \"\"\n+  \"logs\" : \"\",\n+  \"curves\" : [ {\n+    \"name\" : \"curve1\",\n+    \"curve\" : {\n+      \"metadata\" : {\n+        \"name\" : \"curve1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75ce354a368b4ec0cedac832f3d70f124c6be9bd"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d144d4401949cea68335b110a59c9f1d3a77dd3b", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d144d4401949cea68335b110a59c9f1d3a77dd3b", "committedDate": "2021-01-19T10:32:10Z", "message": "remove redundant info in JSON\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e07db02928f99372149cf14d90b51bb7af6d3ef6", "author": {"user": {"login": "marcosmc", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/e07db02928f99372149cf14d90b51bb7af6d3ef6", "committedDate": "2021-01-19T11:25:30Z", "message": "fix bug\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTcxMTU5MDI0", "url": "https://github.com/powsybl/powsybl-core/pull/1539#pullrequestreview-571159024", "createdAt": "2021-01-19T11:38:21Z", "commit": {"oid": "e07db02928f99372149cf14d90b51bb7af6d3ef6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d064baa3a6fe6a0815da9e538908c2fd64216dce", "author": {"user": {"login": "geofjamg", "name": "Geoffroy Jamgotchian"}}, "url": "https://github.com/powsybl/powsybl-core/commit/d064baa3a6fe6a0815da9e538908c2fd64216dce", "committedDate": "2021-01-19T11:38:27Z", "message": "Merge branch 'master' into dynamic-simulation-output"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4072, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}