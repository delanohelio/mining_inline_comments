{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MjA4MzI1", "number": 1386, "title": "CGMES updates: reduce size of changelog not recording state variables", "bodyText": "Signed-off-by: Luma zamarrenolm@aia.es\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nThe changelog that records changes in IIDM attributes is used to perform updates in the CGMES triplestore when the user requests a CGMES export.\nState variables (voltages, angles, flows at terminals) are not recorded explicitly in the changelog, as its values will be systematically obtained during the export to build the CGMES SV profile from scratch. No selective update of these attributes is required.\nWhat is the current behavior? (You can also link to an open issue here)\nThese attributes were previously stored in the changelog, and later ignored during the update.\nWhat is the new behavior (if this is a feature change)?\nChangelog size is reduced, and less operations are perform during update.\nOther information:\nThe tests for CGMES update have been modified to remove size limitations on the number of changes performed.", "createdAt": "2020-07-08T12:24:33Z", "url": "https://github.com/powsybl/powsybl-core/pull/1386", "merged": true, "mergeCommit": {"oid": "6fdc14ce184fddd3a0009a98785cf75ab3672c93"}, "closed": true, "closedAt": "2020-07-09T09:43:04Z", "author": {"login": "zamarrenolm"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy5dW2gH2gAyNDQ2MjA4MzI1OmE2N2U5ZTJkZWU2OTU2ZjlkYjI2ZjI1N2UyZWJkNmEyNTlmNjI4NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczLlmtgH2gAyNDQ2MjA4MzI1OmZjMTYzMTE2ZTFkYzFiYjg0NTE1OWI0OTIxN2FhNzcwNDgzZDA3N2I=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a67e9e2dee6956f9db26f257e2ebd6a259f62871", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/a67e9e2dee6956f9db26f257e2ebd6a259f62871", "committedDate": "2020-07-08T12:18:57Z", "message": "CGMES updates: reduce size of changelog not recording state variables\n\nSigned-off-by: Luma <zamarrenolm@aia.es>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NzI4MTIz", "url": "https://github.com/powsybl/powsybl-core/pull/1386#pullrequestreview-444728123", "createdAt": "2020-07-08T12:46:56Z", "commit": {"oid": "a67e9e2dee6956f9db26f257e2ebd6a259f62871"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85d8b8ef18ead8953c2b3216b85254f387ee99b0", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/85d8b8ef18ead8953c2b3216b85254f387ee99b0", "committedDate": "2020-07-08T16:11:34Z", "message": "Merge branch 'master' into cgmes_update_ignore_changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MzM2ODYy", "url": "https://github.com/powsybl/powsybl-core/pull/1386#pullrequestreview-445336862", "createdAt": "2020-07-09T06:58:21Z", "commit": {"oid": "85d8b8ef18ead8953c2b3216b85254f387ee99b0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwNjo1ODoyMVrOGvEHLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwNzowMTozMlrOGvEMtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAwMzYyOA==", "bodyText": "different", "url": "https://github.com/powsybl/powsybl-core/pull/1386#discussion_r452003628", "createdAt": "2020-07-09T06:58:21Z", "author": {"login": "annetill"}, "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/update/elements16/GeneratorToSynchronousMachine.java", "diffHunk": "@@ -17,8 +17,6 @@\n public class GeneratorToSynchronousMachine extends IidmToCgmes {\n \n     public GeneratorToSynchronousMachine() {\n-        ignore(\"p\");\n-        ignore(\"q\");\n         // Changes in energy source are ignored\n         // In CGMES generating units with diferent energy source are separate types", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d8b8ef18ead8953c2b3216b85254f387ee99b0"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAwNTA0NQ==", "bodyText": "Now, we have non linear shunt compensator, so it means that we also have to support that for the CGMES update. I wonder if the code is working for that kind of equipment.", "url": "https://github.com/powsybl/powsybl-core/pull/1386#discussion_r452005045", "createdAt": "2020-07-09T07:01:32Z", "author": {"login": "annetill"}, "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/update/elements16/ShuntCompensatorToShuntCompensator.java", "diffHunk": "@@ -15,7 +15,6 @@\n public class ShuntCompensatorToShuntCompensator extends IidmToCgmes {\n \n     ShuntCompensatorToShuntCompensator() {\n-        ignore(\"q\");\n \n         simpleUpdate(\"bPerSection\", \"cim:LinearShuntCompensator.bPerSection\", CgmesSubset.EQUIPMENT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85d8b8ef18ead8953c2b3216b85254f387ee99b0"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NDM2NDI2", "url": "https://github.com/powsybl/powsybl-core/pull/1386#pullrequestreview-445436426", "createdAt": "2020-07-09T09:18:17Z", "commit": {"oid": "85d8b8ef18ead8953c2b3216b85254f387ee99b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7c68b53a1aa69681683dbcf80c11a9ac6a9991a", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/c7c68b53a1aa69681683dbcf80c11a9ac6a9991a", "committedDate": "2020-07-09T09:25:51Z", "message": "Fix typo in comment\n\nSigned-off-by: Luma <zamarrenolm@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc163116e1dc1bb845159b49217aa770483d077b", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/fc163116e1dc1bb845159b49217aa770483d077b", "committedDate": "2020-07-09T09:26:15Z", "message": "Merge branch 'master' into cgmes_update_ignore_changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4115, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}