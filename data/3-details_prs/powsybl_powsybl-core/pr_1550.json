{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NjE2Mjg1", "number": 1550, "title": "Following PR#925", "bodyText": "Signed-off-by: Thomas ADAM tadam@silicom.fr\nPlease check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nNo\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature\nWhat is the current behavior? (You can also link to an open issue here)\nUsing Contingency constructors\nWhat is the new behavior (if this is a feature change)?\nUsing Contingency builder & static methods\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-11-27T13:33:46Z", "url": "https://github.com/powsybl/powsybl-core/pull/1550", "merged": true, "mergeCommit": {"oid": "cfee856451e3f3aa58d84dbf069b67c5dfe55e51"}, "closed": true, "closedAt": "2020-12-01T16:05:24Z", "author": {"login": "tadam50"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgp3atgFqTU0MDA3NTc4Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh7n_egH2gAyNTI4NjE2Mjg1OmE2YjQ2NmYyMmNmOGFhZjYzNDc2M2E5ZjM4MDhmZDg5ZWY5Zjg2MmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMDc1Nzg3", "url": "https://github.com/powsybl/powsybl-core/pull/1550#pullrequestreview-540075787", "createdAt": "2020-11-27T16:01:24Z", "commit": {"oid": "b3498885704f3e5b939b868629f0d7aefc349eec"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjowMToyNFrOH7DBdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjowODo0NVrOH7DNBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY3NzU1Nw==", "bodyText": "This is not equivalent. Is it what you wanted to do? It is strange to find a ShuntContingency in GeneratorContingencyTest", "url": "https://github.com/powsybl/powsybl-core/pull/1550#discussion_r531677557", "createdAt": "2020-11-27T16:01:24Z", "author": {"login": "mathbagu"}, "path": "contingency/contingency-api/src/test/java/com/powsybl/contingency/GeneratorContingencyTest.java", "diffHunk": "@@ -19,16 +23,31 @@\n \n     @Test\n     public void test() {\n-        GeneratorContingency contingency = new GeneratorContingency(\"id\");\n+        Contingency contingency = Contingency.shuntCompensator(\"id\");\n         assertEquals(\"id\", contingency.getId());\n-        assertEquals(ContingencyElementType.GENERATOR, contingency.getType());\n+        assertEquals(1, contingency.getElements().size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3498885704f3e5b939b868629f0d7aefc349eec"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY3OTk1Mg==", "bodyText": "I don't understand why you change this test. None of these changes have been introduced in #925", "url": "https://github.com/powsybl/powsybl-core/pull/1550#discussion_r531679952", "createdAt": "2020-11-27T16:07:12Z", "author": {"login": "mathbagu"}, "path": "contingency/contingency-api/src/test/java/com/powsybl/contingency/SubContingenciesProviderTest.java", "diffHunk": "@@ -47,15 +45,30 @@ public void test() {\n \n     @Test\n     public void testEmpty() {\n-        ContingenciesProvider provider = n -> Collections.emptyList();\n+        ContingenciesProvider provider = ContingenciesProviders.emptyProvider();\n \n         Network network = Mockito.mock(Network.class);\n \n-        List<String> subList1 = new SubContingenciesProvider(provider, new Partition(1, 1))\n+        List<String> subList1 = ContingenciesProviders.newSubProvider(provider, new Partition(1, 1))\n                 .getContingencies(network)\n                 .stream().map(Contingency::getId).collect(Collectors.toList());\n \n         assertEquals(Collections.emptyList(), subList1);\n     }\n \n+    private static ContingenciesProvider newContingenciesProvider() {\n+        return new ContingenciesProvider() {\n+            @Override\n+            public List<Contingency> getContingencies(Network network) {\n+                return IntStream.range(1, 5)\n+                        .mapToObj(i -> Contingency.builder(\"contingency-\" + i).build())\n+                        .collect(Collectors.toList());\n+            }\n+\n+            @Override\n+            public String asScript() {\n+                return \"\";\n+            }\n+        };\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3498885704f3e5b939b868629f0d7aefc349eec"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4MDUxOA==", "bodyText": "I wonder if for empty contingency we could leave with new Contingency", "url": "https://github.com/powsybl/powsybl-core/pull/1550#discussion_r531680518", "createdAt": "2020-11-27T16:08:45Z", "author": {"login": "mathbagu"}, "path": "security-analysis-api/src/test/java/com/powsybl/security/SecurityAnalysisResultBuilderTest.java", "diffHunk": "@@ -59,7 +59,7 @@ public void completeResultWithCustomContext() {\n \n         CustomContext postResultContext = new CustomContext(network, \"post\");\n         CustomContext postViolationContext = new CustomContext(network, \"post-vio\");\n-        builder.contingency(new Contingency(\"contingency1\"), postResultContext)\n+        builder.contingency(Contingency.builder(\"contingency1\").build(), postResultContext)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3498885704f3e5b939b868629f0d7aefc349eec"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d2a27725bd39a842f67b1eb03f291544cff9d0f", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/5d2a27725bd39a842f67b1eb03f291544cff9d0f", "committedDate": "2020-11-27T17:08:53Z", "message": "Use new contingency-api\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8b9778713b2b490c11d8b302dfabbc7801eda07", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/e8b9778713b2b490c11d8b302dfabbc7801eda07", "committedDate": "2020-11-27T17:08:53Z", "message": "Revert bad commit\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e0990b3ce42bbc52453823ca26c7ec57119a763", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/0e0990b3ce42bbc52453823ca26c7ec57119a763", "committedDate": "2020-11-27T17:08:54Z", "message": "Replace shuntCompensator Contingency mistake by Generator Contingency\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "559210ffbdaf7d9aaa9245a386334f2d45e167e0", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/559210ffbdaf7d9aaa9245a386334f2d45e167e0", "committedDate": "2020-11-27T17:08:54Z", "message": "Keep Contingency constructor\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "35c9814eec0901600b968819635a9e8ab1d2ebdf", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/35c9814eec0901600b968819635a9e8ab1d2ebdf", "committedDate": "2020-11-27T16:55:42Z", "message": "Keep Contingency constructor\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}, "afterCommit": {"oid": "559210ffbdaf7d9aaa9245a386334f2d45e167e0", "author": {"user": {"login": "tadam50", "name": "Thomas ADAM"}}, "url": "https://github.com/powsybl/powsybl-core/commit/559210ffbdaf7d9aaa9245a386334f2d45e167e0", "committedDate": "2020-11-27T17:08:54Z", "message": "Keep Contingency constructor\n\nSigned-off-by: Thomas ADAM <tadam@silicom.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMDEyMjkw", "url": "https://github.com/powsybl/powsybl-core/pull/1550#pullrequestreview-542012290", "createdAt": "2020-12-01T15:24:42Z", "commit": {"oid": "559210ffbdaf7d9aaa9245a386334f2d45e167e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6b466f22cf8aaf634763a9f3808fd89ef9f862c", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/a6b466f22cf8aaf634763a9f3808fd89ef9f862c", "committedDate": "2020-12-01T15:24:49Z", "message": "Merge branch 'master' into apply_pr_925"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4081, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}