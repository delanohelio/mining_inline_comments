{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyODQzNTY4", "number": 1199, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTowMzowNVrODk9gCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODoyNzozMFrODlVCDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMDgyOTUyOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TwoWindingsTransformerAdder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTowMzowNVrOFxk30g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOTowMzowNVrOFxk30g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUyODY1OA==", "bodyText": "Add default implementation", "url": "https://github.com/powsybl/powsybl-core/pull/1199#discussion_r387528658", "createdAt": "2020-03-04T09:03:05Z", "author": {"login": "miovd"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/TwoWindingsTransformerAdder.java", "diffHunk": "@@ -24,6 +24,8 @@\n \n     TwoWindingsTransformerAdder setRatedU2(double ratedU2);\n \n+    TwoWindingsTransformerAdder setRatedS(double ratedS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de7474dd42d2d3dd01a4f0f910b006624e5c70c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMDg1MjIwOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractTransformerXml.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOToxMDoxNlrOFxlF-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwOToxMDoxNlrOFxlF-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUzMjI4Mg==", "bodyText": "Rather than using a custom interface, you can use DoubleConsumer here and delete RatedSConsumer", "url": "https://github.com/powsybl/powsybl-core/pull/1199#discussion_r387532282", "createdAt": "2020-03-04T09:10:16Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractTransformerXml.java", "diffHunk": "@@ -246,4 +250,19 @@ private static void readSteps(NetworkXmlReaderContext context, StepConsumer cons\n         double rho = XmlUtil.readDoubleAttribute(context.getReader(), \"rho\");\n         consumer.accept(r, x, g, b, rho);\n     }\n+\n+    protected static void readRatedS(String name, NetworkXmlReaderContext context, RatedSConsumer consumer) {\n+        double ratedS = XmlUtil.readOptionalDoubleAttribute(context.getReader(), name);\n+        consumer.accept(ratedS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de7474dd42d2d3dd01a4f0f910b006624e5c70c"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDY3NTYyOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerAdderImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODoyNDowMVrOFyKEzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODoyNDowMVrOFyKEzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEzODE4OA==", "bodyText": "Maybe we should put ratedS close to ratedU?", "url": "https://github.com/powsybl/powsybl-core/pull/1199#discussion_r388138188", "createdAt": "2020-03-05T08:24:01Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerAdderImpl.java", "diffHunk": "@@ -137,15 +146,15 @@ public ThreeWindingsTransformerAdderImpl add() {\n             if (legNumber == 1) {\n                 voltageLevel1 = checkAndGetVoltageLevel();\n                 terminal1 = checkAndGetTerminal();\n-                leg1 = new LegImpl(r, x, g, b, ratedU, legNumber);\n+                leg1 = new LegImpl(r, x, g, b, ratedU, legNumber, ratedS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "befce96fabbb5e2f5509645a5f5a86fb78f9504d"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDY4NDkzOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-tck/src/test/java/com/powsybl/iidm/network/tck/AbstractThreeWindingsTransformerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODoyNzozMFrOFyKKkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODoyNzozMFrOFyKKkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEzOTY2Ng==", "bodyText": "Seems useless to set ratedS to NaN.", "url": "https://github.com/powsybl/powsybl-core/pull/1199#discussion_r388139666", "createdAt": "2020-03-05T08:27:30Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-tck/src/test/java/com/powsybl/iidm/network/tck/AbstractThreeWindingsTransformerTest.java", "diffHunk": "@@ -408,6 +416,17 @@ public void invalidPhaseStepArgumentB() {\n             0.0, 0.0, Double.NaN);\n     }\n \n+    @Test\n+    public void invalidRatedS() {\n+        ThreeWindingsTransformer transformer = createThreeWindingsTransformer();\n+        ThreeWindingsTransformer.Leg leg1 = transformer.getLeg1();\n+        leg1.setRatedS(Double.NaN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "befce96fabbb5e2f5509645a5f5a86fb78f9504d"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 76, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}