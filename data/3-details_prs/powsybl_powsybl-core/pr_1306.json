{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NjMwMjQ1", "number": 1306, "title": "Cgmes conversion . Add phaseTapChangerLinear", "bodyText": "Please check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Tests for the changes have been added (for bug fixes / features)\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ? If so, link to this issue using '#XXX' and skip the rest\nWhat kind of change does this PR introduce? (Bug fix, feature, docs update, ...)\nFeature\nWhat is the current behavior? (You can also link to an open issue here)\nPhaseTapChangerLinear are not considered\nWhat is the new behavior (if this is a feature change)?\nPhaseTapChangerLinear are considered and included in transformers\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)\n\nOther information:\n(if any of the questions/checkboxes don't apply, please delete them entirely)", "createdAt": "2020-05-07T11:38:14Z", "url": "https://github.com/powsybl/powsybl-core/pull/1306", "merged": true, "mergeCommit": {"oid": "a2983d360e6ec97aaa423187abb848a0670350b8"}, "closed": true, "closedAt": "2020-05-25T06:45:53Z", "author": {"login": "marqueslanauja"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOKbK6gH2gAyNDE0NjMwMjQ1OmQyYmRiMzE2NjhhMjkwNzZlMDMzZjEyZTYxNWE0Yjk5YjNhNGI4YmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjNsgygFqTQxNTYyMzY3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2bdb31668a29076e033f12e615a4b99b3a4b8bf", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/d2bdb31668a29076e033f12e615a4b99b3a4b8bf", "committedDate": "2020-03-16T09:09:45Z", "message": "add phaseTapChangerLinear\n\nSigned-off-by: Jos\u00e9 Antonio Marqu\u00e9s <marquesja@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e16b355da1d6936a1e475e37e360e6f1aa4ed00", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/1e16b355da1d6936a1e475e37e360e6f1aa4ed00", "committedDate": "2020-03-16T11:00:44Z", "message": "PhaseTapChangerLinear\n\nSigned-off-by: Jos\u00e9 Antonio Marqu\u00e9s <marquesja@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7752a418ef988001a45b08a771fd433f35e8140d", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/7752a418ef988001a45b08a771fd433f35e8140d", "committedDate": "2020-04-20T09:25:02Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baeeecb61a50e3c8efbdc6516b18c1ca05f3b0b1", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/baeeecb61a50e3c8efbdc6516b18c1ca05f3b0b1", "committedDate": "2020-05-06T10:15:33Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73406dc3b0b220544cd495976a7cce76d7882eae", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/73406dc3b0b220544cd495976a7cce76d7882eae", "committedDate": "2020-05-06T16:35:19Z", "message": "Pretty code. Add unitary tests\n\nSigned-off-by: Jos\u00e9 Antonio Marqu\u00e9s <marquesja@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "229e65b47606ecfa5966d0e7daa70b3560d48707", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/229e65b47606ecfa5966d0e7daa70b3560d48707", "committedDate": "2020-05-12T08:44:56Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNjMzMDIz", "url": "https://github.com/powsybl/powsybl-core/pull/1306#pullrequestreview-410633023", "createdAt": "2020-05-13T06:51:38Z", "commit": {"oid": "73406dc3b0b220544cd495976a7cce76d7882eae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0720294ebe2b51343b5d688f525fd1d59baacd3b", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/0720294ebe2b51343b5d688f525fd1d59baacd3b", "committedDate": "2020-05-13T06:51:49Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "232033a708d3b92f9247ba45d070f601e45ef804", "author": {"user": {"login": "annetill", "name": "Anne Tilloy"}}, "url": "https://github.com/powsybl/powsybl-core/commit/232033a708d3b92f9247ba45d070f601e45ef804", "committedDate": "2020-05-19T06:43:05Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDM3NDgy", "url": "https://github.com/powsybl/powsybl-core/pull/1306#pullrequestreview-414437482", "createdAt": "2020-05-19T13:21:04Z", "commit": {"oid": "232033a708d3b92f9247ba45d070f601e45ef804"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoyMTowNFrOGXgGeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoyMTowNFrOGXgGeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI5NjM3Ng==", "bodyText": "This can be static", "url": "https://github.com/powsybl/powsybl-core/pull/1306#discussion_r427296376", "createdAt": "2020-05-19T13:21:04Z", "author": {"login": "MioRtia"}, "path": "cgmes/cgmes-conversion/src/test/java/com/powsybl/cgmes/conversion/test/conformity/modified/CgmesConformity1ModifiedConversionTest.java", "diffHunk": "@@ -67,6 +74,48 @@ public void microBERatioPhaseTabularTest() {\n         }\n     }\n \n+    @Test\n+    public void microBEPhaseTapChangerLinearTest() throws IOException {\n+        Conversion.Config config = new Conversion.Config();\n+        Network n = networkModel(CgmesConformity1ModifiedCatalog.microT4BePhaseTapChangerLinear(),\n+            config);\n+\n+        PhaseTapChanger ptc = n.getTwoWindingsTransformer(\"_a708c3bc-465d-4fe7-b6ef-6fa6408a62b0\").getPhaseTapChanger();\n+        assertEquals(25, ptc.getStepCount());\n+\n+        for (int step = 1; step <= ptc.getStepCount(); step++) {\n+            assertEquals(1.0, ptc.getStep(step).getRho(), 0);\n+            assertEquals(0.0, ptc.getStep(step).getR(), 0);\n+            assertEquals(-87.517240, ptc.getStep(1).getX(), 0.000001);\n+            assertEquals(0.0, ptc.getStep(step).getG(), 0);\n+            assertEquals(0.0, ptc.getStep(step).getB(), 0);\n+        }\n+\n+        // Check alpha in some steps\n+        assertEquals(14.4, ptc.getStep(1).getAlpha(), 0.001);\n+        assertEquals(8.4, ptc.getStep(6).getAlpha(), 0.001);\n+        assertEquals(2.4, ptc.getStep(11).getAlpha(), 0.001);\n+        assertEquals(0.0, ptc.getStep(13).getAlpha(), 0.0);\n+        assertEquals(-1.2, ptc.getStep(14).getAlpha(), 0.001);\n+        assertEquals(-7.2, ptc.getStep(19).getAlpha(), 0.001);\n+        assertEquals(-14.4, ptc.getStep(25).getAlpha(), 0.001);\n+    }\n+\n+    private Network networkModel(TestGridModel testGridModel, Conversion.Config config) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "232033a708d3b92f9247ba45d070f601e45ef804"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43a3a2a847eeb28325dd4dca58c0e89950412b33", "author": {"user": {"login": "marqueslanauja", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/43a3a2a847eeb28325dd4dca58c0e89950412b33", "committedDate": "2020-05-19T13:55:07Z", "message": "Apply reviewer comments\n\nSigned-off-by: Jos\u00e9 Antonio Marqu\u00e9s <marquesja@aia.es>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8214d2599815792c55678eb7045fbe6bafe98fe", "author": {"user": {"login": "zamarrenolm", "name": "Luma"}}, "url": "https://github.com/powsybl/powsybl-core/commit/d8214d2599815792c55678eb7045fbe6bafe98fe", "committedDate": "2020-05-20T18:20:02Z", "message": "Merge branch 'master' into cgmes_conversion_phaseTapChangerLinear"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NjIzNjc4", "url": "https://github.com/powsybl/powsybl-core/pull/1306#pullrequestreview-415623678", "createdAt": "2020-05-20T18:50:49Z", "commit": {"oid": "d8214d2599815792c55678eb7045fbe6bafe98fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4262, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}