{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MTc5OTQw", "number": 1215, "title": "Delete multi-files mode of XIIDM import/export", "bodyText": "Please check if the PR fulfills these requirements (please use '[x]' to check the checkboxes, or submit the PR and then click the checkboxes)\n\n The commit message follows our guidelines\n Docs have been added / updated (for bug fixes / features)\n\nDoes this PR already have an issue describing the problem ?\nNo\nWhat kind of change does this PR introduce?\nDelete multi-files mode of XIIDM import/export: its usefulness is not significant enough regarding the performance regression it introduces.\nDoes this PR introduce a breaking change or deprecate an API? If yes, check the following:\n\n The Breaking Change or Deprecated label has been added\n The migration guide has been updated in the github wiki (What changes might users need to make in their application due to this PR?)", "createdAt": "2020-03-10T14:50:26Z", "url": "https://github.com/powsybl/powsybl-core/pull/1215", "merged": true, "mergeCommit": {"oid": "a404676dde60d6ebde7eb7983b8a942e99a4ea89"}, "closed": true, "closedAt": "2020-03-23T10:44:33Z", "author": {"login": "MioRtia"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcM-ZpXABqjMxMjM2MDI4MTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQbmGDgH2gAyMzg2MTc5OTQwOjRkZmZlMjBmMDg3OTE4YzI5Y2M2MDFjNjFiNDYwZDY1MDQ2Yzk5YWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64793fde7f3ea2e9e378fa239b6d94583aeeea2d", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/64793fde7f3ea2e9e378fa239b6d94583aeeea2d", "committedDate": "2020-03-11T09:50:27Z", "message": "corrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "0ab33980eb9eab505385e698ca1b3ca8ef76b147", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0ab33980eb9eab505385e698ca1b3ca8ef76b147", "committedDate": "2020-03-12T16:23:09Z", "message": "corrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ab33980eb9eab505385e698ca1b3ca8ef76b147", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0ab33980eb9eab505385e698ca1b3ca8ef76b147", "committedDate": "2020-03-12T16:23:09Z", "message": "corrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "a6e9fb2f5d8ec40cfb5dd8abc72563694d19bc2e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/a6e9fb2f5d8ec40cfb5dd8abc72563694d19bc2e", "committedDate": "2020-03-12T16:38:09Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6e9fb2f5d8ec40cfb5dd8abc72563694d19bc2e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/a6e9fb2f5d8ec40cfb5dd8abc72563694d19bc2e", "committedDate": "2020-03-12T16:38:09Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "f5c5a17bca8436bc6e0c51163acf9923a6c421d9", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f5c5a17bca8436bc6e0c51163acf9923a6c421d9", "committedDate": "2020-03-12T16:46:18Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5c5a17bca8436bc6e0c51163acf9923a6c421d9", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f5c5a17bca8436bc6e0c51163acf9923a6c421d9", "committedDate": "2020-03-12T16:46:18Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "3ba42e02dfa98a2a4af8a285bab098be5e9dfb7a", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3ba42e02dfa98a2a4af8a285bab098be5e9dfb7a", "committedDate": "2020-03-12T16:51:22Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ba42e02dfa98a2a4af8a285bab098be5e9dfb7a", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3ba42e02dfa98a2a4af8a285bab098be5e9dfb7a", "committedDate": "2020-03-12T16:51:22Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "18057e6f27bd365783ace3384539a58e460f24c3", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/18057e6f27bd365783ace3384539a58e460f24c3", "committedDate": "2020-03-13T08:30:35Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18057e6f27bd365783ace3384539a58e460f24c3", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/18057e6f27bd365783ace3384539a58e460f24c3", "committedDate": "2020-03-13T08:30:35Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "3546b07f3af7753d57e2080892c512c2d189f622", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3546b07f3af7753d57e2080892c512c2d189f622", "committedDate": "2020-03-13T08:42:36Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3546b07f3af7753d57e2080892c512c2d189f622", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/3546b07f3af7753d57e2080892c512c2d189f622", "committedDate": "2020-03-13T08:42:36Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "16f715e6eafaedcd65ce1068d02b40e5b4ef426b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/16f715e6eafaedcd65ce1068d02b40e5b4ef426b", "committedDate": "2020-03-13T08:57:04Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16f715e6eafaedcd65ce1068d02b40e5b4ef426b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/16f715e6eafaedcd65ce1068d02b40e5b4ef426b", "committedDate": "2020-03-13T08:57:04Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f", "committedDate": "2020-03-13T09:55:18Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrect checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MzU4NTE1", "url": "https://github.com/powsybl/powsybl-core/pull/1215#pullrequestreview-374358515", "createdAt": "2020-03-13T14:46:06Z", "commit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDo0NjowNlrOF2Gbnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QxNDo1NTowOFrOF2GxKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3Mjc5OQ==", "bodyText": "Is it a good idea to mutualize this?", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392272799", "createdAt": "2020-03-13T14:46:06Z", "author": {"login": "mathbagu"}, "path": "commons/src/main/java/com/powsybl/commons/xml/XmlUtil.java", "diffHunk": "@@ -173,4 +179,29 @@ public static float readOptionalFloatAttribute(XMLStreamReader reader, String at\n         String attributeValue = reader.getAttributeValue(null, attributeName);\n         return attributeValue != null ? Float.valueOf(attributeValue) : defaultValue;\n     }\n+\n+    public static XMLStreamWriter writeStartAttributes(OutputStream os, String prefix, String namespaceUri, String rootName, String indentString, boolean indent) throws XMLStreamException {\n+        XMLStreamWriter writer;\n+        writer = createXmlStreamWriter(indentString, indent, os);\n+        writer.writeStartDocument(StandardCharsets.UTF_8.toString(), \"1.0\");\n+        writer.setPrefix(prefix, namespaceUri);\n+        writer.writeStartElement(namespaceUri, rootName);\n+        writer.writeNamespace(prefix, namespaceUri);\n+        return writer;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3MzE3OA==", "bodyText": "Same question? The name of this method is not OK. As a developer, I don't know it will end my XML document.", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392273178", "createdAt": "2020-03-13T14:46:45Z", "author": {"login": "mathbagu"}, "path": "commons/src/main/java/com/powsybl/commons/xml/XmlUtil.java", "diffHunk": "@@ -173,4 +179,29 @@ public static float readOptionalFloatAttribute(XMLStreamReader reader, String at\n         String attributeValue = reader.getAttributeValue(null, attributeName);\n         return attributeValue != null ? Float.valueOf(attributeValue) : defaultValue;\n     }\n+\n+    public static XMLStreamWriter writeStartAttributes(OutputStream os, String prefix, String namespaceUri, String rootName, String indentString, boolean indent) throws XMLStreamException {\n+        XMLStreamWriter writer;\n+        writer = createXmlStreamWriter(indentString, indent, os);\n+        writer.writeStartDocument(StandardCharsets.UTF_8.toString(), \"1.0\");\n+        writer.setPrefix(prefix, namespaceUri);\n+        writer.writeStartElement(namespaceUri, rootName);\n+        writer.writeNamespace(prefix, namespaceUri);\n+        return writer;\n+    }\n+\n+    private static XMLStreamWriter createXmlStreamWriter(String indentString, boolean indent, OutputStream os) throws XMLStreamException {\n+        XMLStreamWriter writer = XML_OUTPUT_FACTORY_SUPPLIER.get().createXMLStreamWriter(os, StandardCharsets.UTF_8.toString());\n+        if (indent) {\n+            IndentingXMLStreamWriter indentingWriter = new IndentingXMLStreamWriter(writer);\n+            indentingWriter.setIndent(indentString);\n+            writer = indentingWriter;\n+        }\n+        return writer;\n+    }\n+\n+    public static void writeEndElement(XMLStreamWriter writer) throws XMLStreamException {\n+        writer.writeEndElement();\n+        writer.writeEndDocument();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3Mzg3Mw==", "bodyText": "You should revert this change: if bad people use the order of this enum, they can consider it as a regression. Keep only the @Deprecated", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392273873", "createdAt": "2020-03-13T14:47:55Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-converter-api/src/main/java/com/powsybl/iidm/IidmImportExportMode.java", "diffHunk": "@@ -8,12 +8,14 @@\n \n /***\n  * @author Chamseddine BENHAMED <chamseddine.benhamed at rte-france.com>\n+ *\n+ * @deprecated Not used anymore\n  */\n-\n+@Deprecated\n public enum IidmImportExportMode {\n     ONE_SEPARATED_FILE_PER_EXTENSION_TYPE,\n-    UNIQUE_FILE,\n-    EXTENSIONS_IN_ONE_SEPARATED_FILE\n+    EXTENSIONS_IN_ONE_SEPARATED_FILE,\n+    UNIQUE_FILE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3NTU0Mg==", "bodyText": "Is there a validateWithoutExtension?", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392275542", "createdAt": "2020-03-13T14:50:38Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/NetworkXml.java", "diffHunk": "@@ -436,62 +326,23 @@ public static Anonymizer write(Network network, ExportOptions options, DataSourc\n         try (OutputStream osb = dataSource.newOutputStream(\"\", dataSourceExt, false);\n              BufferedOutputStream bosb = new BufferedOutputStream(osb)) {\n \n-            if (options.getMode() == IidmImportExportMode.UNIQUE_FILE) {\n-                Anonymizer anonymizer = write(network, options, bosb);\n-                if (options.isAnonymized()) {\n-                    try (BufferedWriter writer2 = new BufferedWriter(new OutputStreamWriter(dataSource.newOutputStream(\"_mapping\", \"csv\", false), StandardCharsets.UTF_8))) {\n-                        anonymizer.write(writer2);\n-                    }\n-                }\n-                return anonymizer;\n-            }\n-\n-            NetworkXmlWriterContext context = writeBaseNetwork(network, bosb, options);\n-            writeEndElement(context.getWriter());\n-\n-            // write extensions\n-            if (!options.withNoExtension() && !getNetworkExtensions(network).isEmpty()) {\n-\n-                if (options.getMode() == IidmImportExportMode.EXTENSIONS_IN_ONE_SEPARATED_FILE) {\n-                    try (OutputStream ose = dataSource.newOutputStream(\"-ext\", dataSourceExt, false);\n-                         BufferedOutputStream bose = new BufferedOutputStream(ose)) {\n-\n-                        final XMLStreamWriter extensionsWriter = initializeWriter(network, bose, options);\n-                        context.setExtensionsWriter(extensionsWriter);\n-                        writeExtensions(network, context, options);\n-                        writeEndElement(extensionsWriter);\n-                    }\n-                } else if (options.getMode() == IidmImportExportMode.ONE_SEPARATED_FILE_PER_EXTENSION_TYPE) {\n-                    writeExtensionsInMultipleFile(network, context, dataSource, options, dataSourceExt);\n-                }\n-            }\n-\n+            Anonymizer anonymizer = write(network, options, bosb);\n             if (options.isAnonymized()) {\n                 try (BufferedWriter writer2 = new BufferedWriter(new OutputStreamWriter(dataSource.newOutputStream(\"_mapping\", \"csv\", false), StandardCharsets.UTF_8))) {\n-                    context.getAnonymizer().write(writer2);\n+                    anonymizer.write(writer2);\n                 }\n             }\n-            return context.getAnonymizer();\n-        } catch (XMLStreamException e) {\n-            throw new UncheckedXmlStreamException(e);\n+            return anonymizer;\n         }\n     }\n \n     public static Anonymizer writeAndValidate(Network n, Path xmlFile) {\n-        try {\n-            return writeAndValidate(n, new ExportOptions(), xmlFile);\n-        } catch (IOException e) {\n-            throw new UncheckedIOException(e);\n-        }\n+        return writeAndValidate(n, new ExportOptions(), xmlFile);\n     }\n \n-    public static Anonymizer writeAndValidate(Network n, ExportOptions options, Path xmlFile) throws IOException {\n+    public static Anonymizer writeAndValidate(Network n, ExportOptions options, Path xmlFile) {\n         Anonymizer anonymizer = write(n, options, xmlFile);\n-        if (options.getMode() == IidmImportExportMode.UNIQUE_FILE) {\n-            validateWithExtensions(xmlFile);\n-            return anonymizer;\n-        }\n-        validate(xmlFile, options.getMode());\n+        validateWithExtensions(xmlFile);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 285}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3NjI4OQ==", "bodyText": "Is it a good idea to forget the Import/export Options? Are you sure we should not keep both? As the ImportOptions is not deprecated, why this method is?", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392276289", "createdAt": "2020-03-13T14:51:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/NetworkXml.java", "diffHunk": "@@ -618,140 +467,32 @@ public static Network read(ReadOnlyDataSource dataSource, NetworkFactory network\n         try (InputStream isb = dataSource.newInputStream(null, dataSourceExt)) {\n             network = NetworkXml.read(isb, options, anonymizer, networkFactory);\n         }\n-        if (!options.withNoExtension()) {\n-            switch (options.getMode()) {\n-                case EXTENSIONS_IN_ONE_SEPARATED_FILE:\n-                    // in this case we have to read all extensions from one  file\n-                    try (InputStream ise = dataSource.newInputStream(\"-ext\", dataSourceExt)) {\n-                        readExtensions(network, ise, anonymizer, options);\n-                    } catch (IOException e) {\n-                        LOGGER.warn(String.format(\"the extensions file wasn't found while importing, please ensure that the file name respect the naming convention baseFileName-ext.%s\", dataSourceExt));\n-                    }\n-                    break;\n-                case ONE_SEPARATED_FILE_PER_EXTENSION_TYPE:\n-                    String ext = dataSourceExt.isEmpty() ? \"\" : \".\" + dataSourceExt;\n-                    // here we'll read all extensions declared in the extensions set\n-                    readExtensions(network, dataSource, anonymizer, options, ext);\n-                    break;\n-                default:\n-                    break;\n-            }\n-        }\n         return network;\n     }\n \n-    public static Network read(Path xmlFile, ImportOptions options) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-        return read(dataSource, NetworkFactory.findDefault(), options, ext);\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile) {\n-        try {\n-            return validateAndRead(xmlFile, new ImportOptions());\n-        } catch (IOException e) {\n-            throw new UncheckedIOException(e);\n-        }\n-    }\n-\n-    private static void validate(Path xmlFile, IidmImportExportMode mode) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-\n-        if (mode == IidmImportExportMode.EXTENSIONS_IN_ONE_SEPARATED_FILE) {\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + \"-ext.\" + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-        } else {\n-            Set<String> listNames = dataSource.listNames(\".*\\\\.\" + ext);\n-            for (String fileName : listNames) {\n-                try (InputStream ise = dataSource.newInputStream(fileName)) {\n-                    validateWithExtensions(ise);\n-                }\n-            }\n-        }\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile, ImportOptions options) throws IOException {\n-        if (options.getMode() == IidmImportExportMode.UNIQUE_FILE) {\n-            validateWithExtensions(xmlFile);\n-            return read(xmlFile);\n-        }\n-        validate(xmlFile, options.getMode());\n-        return read(xmlFile, options);\n+    /**\n+     * @deprecated Use {@link #read(Path)} instead.\n+     */\n+    @Deprecated\n+    public static Network read(Path xmlFile, ImportOptions options) {\n+        return read(xmlFile);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 384}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3NjgwNg==", "bodyText": "Same question", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392276806", "createdAt": "2020-03-13T14:52:34Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/NetworkXml.java", "diffHunk": "@@ -618,140 +467,32 @@ public static Network read(ReadOnlyDataSource dataSource, NetworkFactory network\n         try (InputStream isb = dataSource.newInputStream(null, dataSourceExt)) {\n             network = NetworkXml.read(isb, options, anonymizer, networkFactory);\n         }\n-        if (!options.withNoExtension()) {\n-            switch (options.getMode()) {\n-                case EXTENSIONS_IN_ONE_SEPARATED_FILE:\n-                    // in this case we have to read all extensions from one  file\n-                    try (InputStream ise = dataSource.newInputStream(\"-ext\", dataSourceExt)) {\n-                        readExtensions(network, ise, anonymizer, options);\n-                    } catch (IOException e) {\n-                        LOGGER.warn(String.format(\"the extensions file wasn't found while importing, please ensure that the file name respect the naming convention baseFileName-ext.%s\", dataSourceExt));\n-                    }\n-                    break;\n-                case ONE_SEPARATED_FILE_PER_EXTENSION_TYPE:\n-                    String ext = dataSourceExt.isEmpty() ? \"\" : \".\" + dataSourceExt;\n-                    // here we'll read all extensions declared in the extensions set\n-                    readExtensions(network, dataSource, anonymizer, options, ext);\n-                    break;\n-                default:\n-                    break;\n-            }\n-        }\n         return network;\n     }\n \n-    public static Network read(Path xmlFile, ImportOptions options) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-        return read(dataSource, NetworkFactory.findDefault(), options, ext);\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile) {\n-        try {\n-            return validateAndRead(xmlFile, new ImportOptions());\n-        } catch (IOException e) {\n-            throw new UncheckedIOException(e);\n-        }\n-    }\n-\n-    private static void validate(Path xmlFile, IidmImportExportMode mode) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-\n-        if (mode == IidmImportExportMode.EXTENSIONS_IN_ONE_SEPARATED_FILE) {\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + \"-ext.\" + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-        } else {\n-            Set<String> listNames = dataSource.listNames(\".*\\\\.\" + ext);\n-            for (String fileName : listNames) {\n-                try (InputStream ise = dataSource.newInputStream(fileName)) {\n-                    validateWithExtensions(ise);\n-                }\n-            }\n-        }\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile, ImportOptions options) throws IOException {\n-        if (options.getMode() == IidmImportExportMode.UNIQUE_FILE) {\n-            validateWithExtensions(xmlFile);\n-            return read(xmlFile);\n-        }\n-        validate(xmlFile, options.getMode());\n-        return read(xmlFile, options);\n+    /**\n+     * @deprecated Use {@link #read(Path)} instead.\n+     */\n+    @Deprecated\n+    public static Network read(Path xmlFile, ImportOptions options) {\n+        return read(xmlFile);\n     }\n \n-    // To read extensions from multiple extension files\n-    static void readExtensions(Network network, ReadOnlyDataSource dataSource, Anonymizer anonymizer, ImportOptions options, String ext) throws IOException {\n-        options.getExtensions().ifPresent(extensions -> {\n-            for (String extension : extensions) {\n-                try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + \"-\" + extension + ext)) {\n-                    readExtensions(network, ise, anonymizer, options);\n-                } catch (IOException e) {\n-                    LOGGER.warn(String.format(\"the %s extension file is not found despite it was declared in the extensions list\", extension));\n-                }\n-            }\n-        });\n-\n-        if (!options.getExtensions().isPresent()) {\n-            Set<String> listNames = dataSource.listNames(\".*\" + ext);\n-            listNames.remove(dataSource.getBaseName() + ext);\n-            for (String fileName : listNames) {\n-                try (InputStream ise = dataSource.newInputStream(fileName)) {\n-                    readExtensions(network, ise, anonymizer, options);\n-                } catch (IOException e) {\n-                    LOGGER.warn(String.format(\"the %s file is not found \", fileName));\n-                }\n-            }\n-        }\n+    /**\n+     * @deprecated Use {@link #validateAndRead(Path)} instead.\n+     */\n+    @Deprecated\n+    public static Network validateAndRead(Path xmlFile, ImportOptions options) {\n+        return validateAndRead(xmlFile);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 415}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3NzA2MQ==", "bodyText": "I think you should rename this method validate", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392277061", "createdAt": "2020-03-13T14:52:59Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/NetworkXml.java", "diffHunk": "@@ -618,140 +467,32 @@ public static Network read(ReadOnlyDataSource dataSource, NetworkFactory network\n         try (InputStream isb = dataSource.newInputStream(null, dataSourceExt)) {\n             network = NetworkXml.read(isb, options, anonymizer, networkFactory);\n         }\n-        if (!options.withNoExtension()) {\n-            switch (options.getMode()) {\n-                case EXTENSIONS_IN_ONE_SEPARATED_FILE:\n-                    // in this case we have to read all extensions from one  file\n-                    try (InputStream ise = dataSource.newInputStream(\"-ext\", dataSourceExt)) {\n-                        readExtensions(network, ise, anonymizer, options);\n-                    } catch (IOException e) {\n-                        LOGGER.warn(String.format(\"the extensions file wasn't found while importing, please ensure that the file name respect the naming convention baseFileName-ext.%s\", dataSourceExt));\n-                    }\n-                    break;\n-                case ONE_SEPARATED_FILE_PER_EXTENSION_TYPE:\n-                    String ext = dataSourceExt.isEmpty() ? \"\" : \".\" + dataSourceExt;\n-                    // here we'll read all extensions declared in the extensions set\n-                    readExtensions(network, dataSource, anonymizer, options, ext);\n-                    break;\n-                default:\n-                    break;\n-            }\n-        }\n         return network;\n     }\n \n-    public static Network read(Path xmlFile, ImportOptions options) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-        return read(dataSource, NetworkFactory.findDefault(), options, ext);\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile) {\n-        try {\n-            return validateAndRead(xmlFile, new ImportOptions());\n-        } catch (IOException e) {\n-            throw new UncheckedIOException(e);\n-        }\n-    }\n-\n-    private static void validate(Path xmlFile, IidmImportExportMode mode) throws IOException {\n-        DataSource dataSource = getDataSourceFromPath(xmlFile);\n-        String ext = getFileExtensionFromPath(xmlFile);\n-\n-        if (mode == IidmImportExportMode.EXTENSIONS_IN_ONE_SEPARATED_FILE) {\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-            try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + \"-ext.\" + ext)) {\n-                validateWithExtensions(ise);\n-            }\n-        } else {\n-            Set<String> listNames = dataSource.listNames(\".*\\\\.\" + ext);\n-            for (String fileName : listNames) {\n-                try (InputStream ise = dataSource.newInputStream(fileName)) {\n-                    validateWithExtensions(ise);\n-                }\n-            }\n-        }\n-    }\n-\n-    public static Network validateAndRead(Path xmlFile, ImportOptions options) throws IOException {\n-        if (options.getMode() == IidmImportExportMode.UNIQUE_FILE) {\n-            validateWithExtensions(xmlFile);\n-            return read(xmlFile);\n-        }\n-        validate(xmlFile, options.getMode());\n-        return read(xmlFile, options);\n+    /**\n+     * @deprecated Use {@link #read(Path)} instead.\n+     */\n+    @Deprecated\n+    public static Network read(Path xmlFile, ImportOptions options) {\n+        return read(xmlFile);\n     }\n \n-    // To read extensions from multiple extension files\n-    static void readExtensions(Network network, ReadOnlyDataSource dataSource, Anonymizer anonymizer, ImportOptions options, String ext) throws IOException {\n-        options.getExtensions().ifPresent(extensions -> {\n-            for (String extension : extensions) {\n-                try (InputStream ise = dataSource.newInputStream(dataSource.getBaseName() + \"-\" + extension + ext)) {\n-                    readExtensions(network, ise, anonymizer, options);\n-                } catch (IOException e) {\n-                    LOGGER.warn(String.format(\"the %s extension file is not found despite it was declared in the extensions list\", extension));\n-                }\n-            }\n-        });\n-\n-        if (!options.getExtensions().isPresent()) {\n-            Set<String> listNames = dataSource.listNames(\".*\" + ext);\n-            listNames.remove(dataSource.getBaseName() + ext);\n-            for (String fileName : listNames) {\n-                try (InputStream ise = dataSource.newInputStream(fileName)) {\n-                    readExtensions(network, ise, anonymizer, options);\n-                } catch (IOException e) {\n-                    LOGGER.warn(String.format(\"the %s file is not found \", fileName));\n-                }\n-            }\n-        }\n+    /**\n+     * @deprecated Use {@link #validateAndRead(Path)} instead.\n+     */\n+    @Deprecated\n+    public static Network validateAndRead(Path xmlFile, ImportOptions options) {\n+        return validateAndRead(xmlFile);\n     }\n \n-    // To read extensions from an extensions file\n-    static Network readExtensions(Network network, InputStream ise, Anonymizer anonymizer, ImportOptions options) {\n-        try {\n-            XMLStreamReader reader = XML_INPUT_FACTORY_SUPPLIER.get().createXMLStreamReader(ise);\n-            int state = reader.next();\n-            while (state == XMLStreamReader.COMMENT) {\n-                state = reader.next();\n-            }\n-            String id = reader.getAttributeValue(null, \"id\");\n-            DateTime date = DateTime.parse(reader.getAttributeValue(null, CASE_DATE));\n-\n-            //verify that the extensions file matches with the same network\n-            if (!network.getId().equals(id) || !network.getCaseDate().equals(date)) {\n-                throw new PowsyblException(\"Extension file do not match with the base file !\");\n-            }\n-\n-            NetworkXmlReaderContext context = new NetworkXmlReaderContext(anonymizer, reader, options, CURRENT_IIDM_XML_VERSION);\n-            context.buildExtensionNamespaceUriList(EXTENSIONS_SUPPLIER.get().getProviders().stream());\n-            Set<String> extensionNamesNotFound = new TreeSet<>();\n-\n-            XmlUtil.readUntilEndElement(NETWORK_ROOT_ELEMENT_NAME, reader, () -> {\n-                if (reader.getLocalName().equals(EXTENSION_ELEMENT_NAME)) {\n-                    String id2 = context.getAnonymizer().deanonymizeString(reader.getAttributeValue(null, \"id\"));\n-                    Identifiable identifiable = network.getIdentifiable(id2);\n-                    if (identifiable == null) {\n-                        throw new PowsyblException(\"Identifiable \" + id2 + \" not found\");\n-                    }\n-                    readExtensions(identifiable, context, extensionNamesNotFound);\n-                } else {\n-                    throw new PowsyblException(\"Unexpected element: \" + reader.getLocalName());\n-                }\n-            });\n-\n-            checkExtensionsNotFound(context, extensionNamesNotFound);\n-\n-            return network;\n-        } catch (XMLStreamException e) {\n-            throw new UncheckedXmlStreamException(e);\n-        }\n+    public static Network validateAndRead(Path xmlFile) {\n+        validateWithExtensions(xmlFile);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 458}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3ODA3Mw==", "bodyText": "Do you think it's better with a method? Why don't you finish the job here:\nprivate ExportOptions createExportOptions(Properties parameters) {\n    ...\n}", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392278073", "createdAt": "2020-03-13T14:54:42Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/XMLExporter.java", "diffHunk": "@@ -149,4 +138,16 @@ private void addExtensionsVersions(Properties parameters, ExportOptions options)\n             }\n         });\n     }\n+\n+    protected void buildExportOptions(Properties parameters, ExportOptions options) {\n+        options.setIndent(ConversionParameters.readBooleanParameter(getFormat(), parameters, INDENT_PARAMETER, defaultValueConfig))\n+                .setWithBranchSV(ConversionParameters.readBooleanParameter(getFormat(), parameters, WITH_BRANCH_STATE_VARIABLES_PARAMETER, defaultValueConfig))\n+                .setOnlyMainCc(ConversionParameters.readBooleanParameter(getFormat(), parameters, ONLY_MAIN_CC_PARAMETER, defaultValueConfig))\n+                .setAnonymized(ConversionParameters.readBooleanParameter(getFormat(), parameters, ANONYMISED_PARAMETER, defaultValueConfig))\n+                .setTopologyLevel(TopologyLevel.valueOf(ConversionParameters.readStringParameter(getFormat(), parameters, TOPOLOGY_LEVEL_PARAMETER, defaultValueConfig)))\n+                .setThrowExceptionIfExtensionNotFound(ConversionParameters.readBooleanParameter(getFormat(), parameters, THROW_EXCEPTION_IF_EXTENSION_NOT_FOUND_PARAMETER, defaultValueConfig))\n+                .setExtensions(ConversionParameters.readStringListParameter(getFormat(), parameters, EXTENSIONS_LIST_PARAMETER, defaultValueConfig) != null ? new HashSet<>(ConversionParameters.readStringListParameter(getFormat(), parameters, EXTENSIONS_LIST_PARAMETER, defaultValueConfig)) : null)\n+                .setVersion(ConversionParameters.readStringParameter(getFormat(), parameters, VERSION_PARAMETER, defaultValueConfig));\n+        addExtensionsVersions(parameters, options);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI3ODMxMg==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1215#discussion_r392278312", "createdAt": "2020-03-13T14:55:08Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/XMLImporter.java", "diffHunk": "@@ -195,5 +187,12 @@ public Network importData(ReadOnlyDataSource dataSource, NetworkFactory networkF\n         }\n         return network;\n     }\n+\n+    protected void buildImportOptions(Properties parameters, ImportOptions options) {\n+        options\n+                .setThrowExceptionIfExtensionNotFound(ConversionParameters.readBooleanParameter(getFormat(), parameters, THROW_EXCEPTION_IF_EXTENSION_NOT_FOUND_PARAMETER, defaultValueConfig))\n+                .setExtensions(ConversionParameters.readStringListParameter(getFormat(), parameters, EXTENSIONS_LIST_PARAMETER, defaultValueConfig) != null ? new HashSet<>(ConversionParameters.readStringListParameter(getFormat(), parameters, EXTENSIONS_LIST_PARAMETER, defaultValueConfig)) : null);\n+\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f"}, "originalPosition": 62}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "764a1e64263139d32e0973d4378b8eb96ea39ca0", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/764a1e64263139d32e0973d4378b8eb96ea39ca0", "committedDate": "2020-03-18T11:20:11Z", "message": "Move all code regarding multi-files XIIDM files in new modules\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c731858f3fa4bde2887f1699f157003c9c90741", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4c731858f3fa4bde2887f1699f157003c9c90741", "committedDate": "2020-03-18T11:20:11Z", "message": "Add tests + corrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38b3d2a1ac5862ec7cbba47d9b47585337ff475e", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/38b3d2a1ac5862ec7cbba47d9b47585337ff475e", "committedDate": "2020-03-18T11:20:11Z", "message": "Revert public level of XML components\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0eabf0727f82bbc5f34e501049bd10ca110d92f2", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0eabf0727f82bbc5f34e501049bd10ca110d92f2", "committedDate": "2020-03-18T11:20:11Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrect checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/4dee8c8c859c4fd8b6b9934d9f1fefdbeb743c9f", "committedDate": "2020-03-13T09:55:18Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrect checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}, "afterCommit": {"oid": "0eabf0727f82bbc5f34e501049bd10ca110d92f2", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0eabf0727f82bbc5f34e501049bd10ca110d92f2", "committedDate": "2020-03-18T11:20:11Z", "message": "Deletion of multi-files XIIDM import/export\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nAdd deprecated comments + correct a code smell\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete whitespace changes\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\nclean\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete white spaces\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrections\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ndelete unused field\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>\n\ncorrect checkstyle\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9959afe5e58206f97a51c32b4f86b1ca224dba5b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/9959afe5e58206f97a51c32b4f86b1ca224dba5b", "committedDate": "2020-03-18T11:33:34Z", "message": "Revert XmlUtil mutualization\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9ffecb6d8eca3eb7e187a8be900af9c7e492532", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f9ffecb6d8eca3eb7e187a8be900af9c7e492532", "committedDate": "2020-03-18T11:34:24Z", "message": "Revert order change in IidmImportExportMode\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72f211218508b92916afd4f6ef4295b13f372c26", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/72f211218508b92916afd4f6ef4295b13f372c26", "committedDate": "2020-03-18T13:02:55Z", "message": "Refactoring XmlImporter and XmlExporter for options creations\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d534f7a3f00134db344ff6c93e5b2e3b67ac9ef", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/0d534f7a3f00134db344ff6c93e5b2e3b67ac9ef", "committedDate": "2020-03-18T13:08:26Z", "message": "Do not deprecate read(Path, ImportOptions) and validateAndRead(Path, ImportOptions)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adb7d07e5c1164b24badc51881aaa72764b008b", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/7adb7d07e5c1164b24badc51881aaa72764b008b", "committedDate": "2020-03-18T13:23:41Z", "message": "Rename validateWithoutExtensions as validate and delete validation without extensions (never used)\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0106241ed9ff2734b72258ec91d2fe15be53d20", "author": {"user": {"login": "MioRtia", "name": null}}, "url": "https://github.com/powsybl/powsybl-core/commit/f0106241ed9ff2734b72258ec91d2fe15be53d20", "committedDate": "2020-03-18T13:33:26Z", "message": "Revert changes commons/pom.xml\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MjkyMTU1", "url": "https://github.com/powsybl/powsybl-core/pull/1215#pullrequestreview-379292155", "createdAt": "2020-03-23T10:17:31Z", "commit": {"oid": "f0106241ed9ff2734b72258ec91d2fe15be53d20"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4dffe20f087918c29cc601c61b460d65046c99aa", "author": {"user": {"login": "mathbagu", "name": "Mathieu BAGUE"}}, "url": "https://github.com/powsybl/powsybl-core/commit/4dffe20f087918c29cc601c61b460d65046c99aa", "committedDate": "2020-03-23T10:17:55Z", "message": "Merge branch 'master' into separate_multi_xiidm"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4455, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}