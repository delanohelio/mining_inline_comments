{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyOTMxMjc1", "number": 1346, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo1NjoyMlrOEExP7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MjozN1rOEFbUPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNDM2NjU0OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/PhaseTapChangerHolder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo1NjoyMlrOGimV4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo1NjoyMlrOGimV4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODkzMjk2Mg==", "bodyText": "This is an API: adding a new method will break existing code that could implement this interface. Please provide a behavior.\nreturn Optional.ofNullable(getPhaseTapChanger());\n\nseems fine in that case.", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r438932962", "createdAt": "2020-06-11T16:56:22Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/PhaseTapChangerHolder.java", "diffHunk": "@@ -25,4 +27,8 @@\n      */\n     PhaseTapChanger getPhaseTapChanger();\n \n+    /**\n+     * Get the optional ratio tap changer.\n+     */\n+    Optional<PhaseTapChanger> getOptionalPhaseTapChanger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cb4edf62a1f1d8d0f1d8a01c43475f9977554d5"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNDM2Njk0OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/RatioTapChangerHolder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo1NjozMFrOGimWMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo1NjozMFrOGimWMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODkzMzA0MQ==", "bodyText": "Same remark here", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r438933041", "createdAt": "2020-06-11T16:56:30Z", "author": {"login": "mathbagu"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/RatioTapChangerHolder.java", "diffHunk": "@@ -25,4 +27,8 @@\n      */\n     RatioTapChanger getRatioTapChanger();\n \n+    /**\n+     * Get the optional ratio tap changer.\n+     */\n+    Optional<RatioTapChanger> getOptionalRatioTapChanger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cb4edf62a1f1d8d0f1d8a01c43475f9977554d5"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1NDk5OnYy", "diffSide": "LEFT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTozMVrOGjm6HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTozMVrOGjm6HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MDgxMg==", "bodyText": "Not sure you should remove this implementation (even if this method has a default implementation with the same behavior), it makes it explicit that you are using the ratioTapChanger field", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439990812", "createdAt": "2020-06-15T07:51:31Z", "author": {"login": "miovd"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerImpl.java", "diffHunk": "@@ -139,10 +138,6 @@ public RatioTapChangerImpl getRatioTapChanger() {\n             return ratioTapChanger;\n         }\n \n-        public Optional<RatioTapChanger> getOptionalRatioTapChanger() {\n-            return Optional.ofNullable(ratioTapChanger);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1NTQ3OnYy", "diffSide": "LEFT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo0MFrOGjm6ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo0MFrOGjm6ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MDg5MA==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439990890", "createdAt": "2020-06-15T07:51:40Z", "author": {"login": "miovd"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/ThreeWindingsTransformerImpl.java", "diffHunk": "@@ -151,11 +146,6 @@ public PhaseTapChangerImpl getPhaseTapChanger() {\n             return phaseTapChanger;\n         }\n \n-        @Override\n-        public Optional<PhaseTapChanger> getOptionalPhaseTapChanger() {\n-            return Optional.ofNullable(phaseTapChanger);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1NjIwOnYy", "diffSide": "LEFT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TwoWindingsTransformerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo1MVrOGjm61A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo1MVrOGjm61A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MDk5Ng==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439990996", "createdAt": "2020-06-15T07:51:51Z", "author": {"login": "miovd"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TwoWindingsTransformerImpl.java", "diffHunk": "@@ -171,11 +170,6 @@ public RatioTapChangerImpl getRatioTapChanger() {\n         return ratioTapChanger;\n     }\n \n-    @Override\n-    public Optional<RatioTapChanger> getOptionalRatioTapChanger() {\n-        return Optional.ofNullable(ratioTapChanger);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1NjU5OnYy", "diffSide": "LEFT", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TwoWindingsTransformerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo1OFrOGjm7Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MTo1OFrOGjm7Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MTA1OA==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439991058", "createdAt": "2020-06-15T07:51:58Z", "author": {"login": "miovd"}, "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/TwoWindingsTransformerImpl.java", "diffHunk": "@@ -186,11 +180,6 @@ public PhaseTapChangerImpl getPhaseTapChanger() {\n         return phaseTapChanger;\n     }\n \n-    @Override\n-    public Optional<PhaseTapChanger> getOptionalPhaseTapChanger() {\n-        return Optional.ofNullable(phaseTapChanger);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1ODQzOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/PhaseTapChangerHolder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MjoyOVrOGjm8NA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MjoyOVrOGjm8NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MTM0OA==", "bodyText": "You can add an implementation in iidm-impl (even if it is the same behavior) using the field in the impl class rather than the getPhaseTapChanger method", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439991348", "createdAt": "2020-06-15T07:52:29Z", "author": {"login": "miovd"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/PhaseTapChangerHolder.java", "diffHunk": "@@ -30,5 +30,14 @@\n     /**\n      * Get the optional ratio tap changer.\n      */\n-    Optional<PhaseTapChanger> getOptionalPhaseTapChanger();\n+    default Optional<PhaseTapChanger> getOptionalPhaseTapChanger() {\n+        return Optional.ofNullable(getPhaseTapChanger());\n+    }\n+\n+    /**\n+     *  Check if a phase tap changer is present\n+     */\n+    default boolean hasPhaseTapChanger() {\n+        return getPhaseTapChanger() != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTI1ODg0OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/RatioTapChangerHolder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MjozN1rOGjm8fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNzo1MjozN1rOGjm8fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk5MTQyMA==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1346#discussion_r439991420", "createdAt": "2020-06-15T07:52:37Z", "author": {"login": "miovd"}, "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/RatioTapChangerHolder.java", "diffHunk": "@@ -30,5 +30,14 @@\n     /**\n      * Get the optional ratio tap changer.\n      */\n-    Optional<RatioTapChanger> getOptionalRatioTapChanger();\n+    default Optional<RatioTapChanger> getOptionalRatioTapChanger() {\n+        return Optional.ofNullable(getRatioTapChanger());\n+    }\n+\n+    /**\n+     * Check if a phase tap changer is present\n+     */\n+    default boolean hasRatioTapChanger() {\n+        return getRatioTapChanger() != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3388f0caf0744075a586428f17b2319baf746a80"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}