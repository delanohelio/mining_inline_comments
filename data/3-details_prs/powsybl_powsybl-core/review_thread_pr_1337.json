{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NTI4MTE3", "number": 1337, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0Nzo1MlrOEDxbGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwOToyMjo1NlrOEY93Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkwOTM5OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0Nzo1MlrOGg_Dfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowNzoyN1rOG7VtaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDcwMg==", "bodyText": "Don't know if we should change the signature of this deprecated method? I think we can either delete it directly or not change it and make it call writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, new ExportOptions());", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437240702", "createdAt": "2020-06-09T08:47:52Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzMjc5Mw==", "bodyText": "Deprecation has been put end of January (so 3.1?) so maybe the best solution is to to remove it? Using new ExportOptions() would be very confusing as we could end up using this deprecated method as partially sorted file (but we are not suppose to start using a deprecated method).\nAs you want.", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437432793", "createdAt": "2020-06-09T13:47:46Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkzNzAxNQ==", "bodyText": "In this case, I think we can remove the deprecated methods, it will be cleaner.", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437937015", "createdAt": "2020-06-10T08:05:34Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDg1Nw==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464874857", "createdAt": "2020-08-04T08:07:27Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkxMDMzOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0ODowM1rOGg_EAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowNzozNFrOG7VttA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDgzNQ==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437240835", "createdAt": "2020-06-09T08:48:03Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDkzMg==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464874932", "createdAt": "2020-08-04T08:07:34Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDgzNQ=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkyODEyOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1MjozN1rOGg_PXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowNzo0MVrOG7Vt8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0Mzc0MQ==", "bodyText": "Should we keep the previous signature writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion) as deprecated? It can be used in extensions outside iidm-xml-converter)", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437243741", "createdAt": "2020-06-09T08:52:37Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzNDM3OQ==", "bodyText": "Ok I will keep it for backward compat.", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437434379", "createdAt": "2020-06-09T13:49:19Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0Mzc0MQ=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NDk5NQ==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464874995", "createdAt": "2020-08-04T08:07:41Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0Mzc0MQ=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkyODk1OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1Mjo0OVrOGg_P2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowNzo0NlrOG7VuKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0Mzg2NQ==", "bodyText": "Same question", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437243865", "createdAt": "2020-06-09T08:52:49Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri, IidmXmlVersion version) throws XMLStreamException {\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri, IidmXmlVersion version,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTA0OQ==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875049", "createdAt": "2020-08-04T08:07:46Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,29 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, String, IidmXmlVersion, ExportOptions)} instead.\n      */\n     @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, nsUri, IidmXmlConstants.CURRENT_IIDM_XML_VERSION, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version,\n+                                          ExportOptions exportOptions) throws XMLStreamException {\n+        writeCurrentLimits(index, limits, writer, version.getNamespaceURI(), version, exportOptions);\n     }\n \n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri, IidmXmlVersion version) throws XMLStreamException {\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, String nsUri, IidmXmlVersion version,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0Mzg2NQ=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzk0MDIxOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1NToyOVrOGg_XBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowNzo1N1rOG7Vukg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTcwMg==", "bodyText": "Maybe add some javadoc? It is rather intuitive but I'd rather have public util methods well documentated here (particularly specifying by what are the extensions sorted, here by their names).", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437245702", "createdAt": "2020-06-09T08:55:29Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQzNjAyOQ==", "bodyText": "I can just globally document the sorted option in ExportOptions (so describe the sorting key for each of the xml element) ?", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437436029", "createdAt": "2020-06-09T13:50:50Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkzNzM0Ng==", "bodyText": "Yes, it works for me.", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437937346", "createdAt": "2020-06-10T08:05:57Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTE1NA==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875154", "createdAt": "2020-08-04T08:07:57Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTcwMg=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzk0MTYzOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1NTo0OFrOGg_X_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowODoxMFrOG7VvBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTk1MA==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437245950", "createdAt": "2020-06-09T08:55:48Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTI2OQ==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875269", "createdAt": "2020-08-04T08:08:10Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NTk1MA=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzk0MjI2OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1NTo1NlrOGg_YVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowODoxNVrOG7VvKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NjAzNw==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437246037", "createdAt": "2020-06-09T08:55:56Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTMwNA==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875304", "createdAt": "2020-08-04T08:08:15Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NjAzNw=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzk0Mjk4OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo1NjowNVrOGg_YvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowODoxOVrOG7VvTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NjE0MQ==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437246141", "createdAt": "2020-06-09T08:56:05Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {\n+        Objects.requireNonNull(temporaryLimits);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(temporaryLimits.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(CurrentLimits.TemporaryLimit::getName))\n+                                                       .collect(Collectors.toList())\n+                                        : temporaryLimits;\n+    }\n+\n+    public static Iterable<VoltageLevel.NodeBreakerView.InternalConnection> sortedInternalConnections(Iterable<VoltageLevel.NodeBreakerView.InternalConnection> internalConnections, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTM0Mg==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875342", "createdAt": "2020-08-04T08:08:19Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {\n+        Objects.requireNonNull(temporaryLimits);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(temporaryLimits.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(CurrentLimits.TemporaryLimit::getName))\n+                                                       .collect(Collectors.toList())\n+                                        : temporaryLimits;\n+    }\n+\n+    public static Iterable<VoltageLevel.NodeBreakerView.InternalConnection> sortedInternalConnections(Iterable<VoltageLevel.NodeBreakerView.InternalConnection> internalConnections, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0NjE0MQ=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzk5MDM5OnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwOTowNDo1N1rOGg_1bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwODowODoyM1rOG7Vvcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI1MzQ4Ng==", "bodyText": "Same remark", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r437253486", "createdAt": "2020-06-09T09:04:57Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {\n+        Objects.requireNonNull(temporaryLimits);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(temporaryLimits.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(CurrentLimits.TemporaryLimit::getName))\n+                                                       .collect(Collectors.toList())\n+                                        : temporaryLimits;\n+    }\n+\n+    public static Iterable<VoltageLevel.NodeBreakerView.InternalConnection> sortedInternalConnections(Iterable<VoltageLevel.NodeBreakerView.InternalConnection> internalConnections, ExportOptions exportOptions) {\n+        Objects.requireNonNull(internalConnections);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(internalConnections.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(VoltageLevel.NodeBreakerView.InternalConnection::getNode1)\n+                                                                         .thenComparing(VoltageLevel.NodeBreakerView.InternalConnection::getNode2))\n+                                                       .collect(Collectors.toList())\n+                : internalConnections;\n+    }\n+\n+    public static <T extends Identifiable<T>> Stream<T> sorted(Stream<T> stream, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg3NTM3OQ==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r464875379", "createdAt": "2020-08-04T08:08:23Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/util/IidmXmlUtil.java", "diffHunk": "@@ -177,6 +186,49 @@ public static void writeIntAttributeUntilMaximumVersion(String attributeName, in\n         }\n     }\n \n+    public static Iterable<? extends Extension<? extends Identifiable<?>>> sortedExtensions(Iterable<? extends Extension<? extends Identifiable<?>>> extensions, ExportOptions exportOptions) {\n+        Objects.requireNonNull(exportOptions);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(extensions.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Extension::getName))\n+                                                       .collect(Collectors.toList())\n+                : extensions;\n+    }\n+\n+    public static <T extends Identifiable> Iterable<T> sorted(Iterable<T> identifiables, ExportOptions exportOptions) {\n+        Objects.requireNonNull(identifiables);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(identifiables.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(Identifiable::getId))\n+                                                       .collect(Collectors.toList())\n+                                        : identifiables;\n+    }\n+\n+    public static Iterable<CurrentLimits.TemporaryLimit> sortedTemporaryLimits(Iterable<CurrentLimits.TemporaryLimit> temporaryLimits, ExportOptions exportOptions) {\n+        Objects.requireNonNull(temporaryLimits);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(temporaryLimits.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(CurrentLimits.TemporaryLimit::getName))\n+                                                       .collect(Collectors.toList())\n+                                        : temporaryLimits;\n+    }\n+\n+    public static Iterable<VoltageLevel.NodeBreakerView.InternalConnection> sortedInternalConnections(Iterable<VoltageLevel.NodeBreakerView.InternalConnection> internalConnections, ExportOptions exportOptions) {\n+        Objects.requireNonNull(internalConnections);\n+        Objects.requireNonNull(exportOptions);\n+        return exportOptions.isSorted() ? StreamSupport.stream(internalConnections.spliterator(), false)\n+                                                       .sorted(Comparator.comparing(VoltageLevel.NodeBreakerView.InternalConnection::getNode1)\n+                                                                         .thenComparing(VoltageLevel.NodeBreakerView.InternalConnection::getNode2))\n+                                                       .collect(Collectors.toList())\n+                : internalConnections;\n+    }\n+\n+    public static <T extends Identifiable<T>> Stream<T> sorted(Stream<T> stream, ExportOptions exportOptions) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI1MzQ4Ng=="}, "originalCommit": {"oid": "5ec66d10493a4186d3286ee1f4ecb279a37a758c"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NjE0NzkwOnYy", "diffSide": "RIGHT", "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwOToyMjo1NlrOHBhC_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjo0NjoyOVrOHFiopw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM1MjA2MQ==", "bodyText": "Please add the @Deprecated tag", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r471352061", "createdAt": "2020-08-17T09:22:56Z", "author": {"login": "miovd"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,27 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n-    @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82214c9456c3242b8382b449ec16fd1106cce8af"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU3MjM5MQ==", "bodyText": "Done", "url": "https://github.com/powsybl/powsybl-core/pull/1337#discussion_r475572391", "createdAt": "2020-08-24T12:46:29Z", "author": {"login": "geofjamg"}, "path": "iidm/iidm-xml-converter/src/main/java/com/powsybl/iidm/xml/AbstractConnectableXml.java", "diffHunk": "@@ -162,26 +164,27 @@ public static void readCurrentLimits(Integer index, Supplier<CurrentLimitsAdder>\n     }\n \n     /**\n-     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion)} instead.\n+     * @deprecated Use {@link #writeCurrentLimits(Integer, CurrentLimits, XMLStreamWriter, IidmXmlVersion, ExportOptions)} instead.\n      */\n-    @Deprecated\n-    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer) throws XMLStreamException {\n-        writeCurrentLimits(index, limits, writer, IidmXmlConstants.CURRENT_IIDM_XML_VERSION);\n+    public static void writeCurrentLimits(Integer index, CurrentLimits limits, XMLStreamWriter writer, IidmXmlVersion version) throws XMLStreamException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM1MjA2MQ=="}, "originalCommit": {"oid": "82214c9456c3242b8382b449ec16fd1106cce8af"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 141, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}