{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MzYwMDMw", "number": 4539, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo1NjoyNVrOElzDYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo1NjoyNVrOElzDYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MDY5MjE4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/bisq/core/api/CorePaymentAccountsService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo1NjoyNVrOHVeRkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo1NjoyNVrOHVeRkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3ODE2Mw==", "bodyText": "Yes there is lots of extra stuff, mainly the many different payment methods with their custom requirements. Input validation, currency selection, country selection, etc...", "url": "https://github.com/bisq-network/bisq/pull/4539#discussion_r492278163", "createdAt": "2020-09-21T18:56:25Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/api/CorePaymentAccountsService.java", "diffHunk": "@@ -49,17 +52,19 @@ public CorePaymentAccountsService(Config config,\n         this.user = user;\n     }\n \n-    public void createPaymentAccount(String accountName, String accountNumber, String fiatCurrencyCode) {\n-        // Create and persist a PerfectMoney dummy payment account.  There is no guard\n-        // against creating accounts with duplicate names & numbers, only the uuid and\n-        // creation date are unique.\n-        PaymentMethod dummyPaymentMethod = PaymentMethod.getDummyPaymentMethod(PaymentMethod.PERFECT_MONEY_ID);\n-        PaymentAccount paymentAccount = PaymentAccountFactory.getPaymentAccount(dummyPaymentMethod);\n-        paymentAccount.init();\n-        paymentAccount.setAccountName(accountName);\n-        ((PerfectMoneyAccount) paymentAccount).setAccountNr(accountNumber);\n-        paymentAccount.setSingleTradeCurrency(new FiatCurrency(fiatCurrencyCode.toUpperCase()));\n-        user.addPaymentAccount(paymentAccount);\n+    void createPaymentAccount(String paymentMethodId,\n+                              String accountName,\n+                              String accountNumber,\n+                              String currencyCode) {\n+\n+        PaymentAccount paymentAccount = getNewPaymentAccount(paymentMethodId,\n+                accountName,\n+                accountNumber,\n+                currencyCode);\n+\n+        // TODO not sure if there is more to do at account creation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2bd89f39a891c8b24364153a204177f37d0ccc4"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2451, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}