{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMzc4NTQy", "number": 4504, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMDo1OToxOVrOEhdylA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMTo0Mjo0MlrOEkfq9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTI2NTQ4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/bisq/core/btc/setup/BisqKeyChainGroupStructure.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMDo1OToxOVrOHOy23A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNzoxNToyNVrOHPSFaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NTM1Ng==", "bodyText": "Aren't there more script types (MultiSig) to check?", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485275356", "createdAt": "2020-09-09T00:59:19Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/btc/setup/BisqKeyChainGroupStructure.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * This file is part of Bisq.\n+ *\n+ * Bisq is free software: you can redistribute it and/or modify it\n+ * under the terms of the GNU Affero General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or (at\n+ * your option) any later version.\n+ *\n+ * Bisq is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public\n+ * License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with Bisq. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package bisq.core.btc.setup;\n+\n+import org.bitcoinj.crypto.ChildNumber;\n+import org.bitcoinj.script.Script;\n+import org.bitcoinj.wallet.DeterministicKeyChain;\n+import org.bitcoinj.wallet.KeyChainGroupStructure;\n+\n+import com.google.common.collect.ImmutableList;\n+\n+public class BisqKeyChainGroupStructure implements KeyChainGroupStructure {\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We use 0 (0x80000000) as coin_type for BTC\n+    // m / purpose' / coin_type' / account' / change / address_index\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We have registered 142 (0x8000008E) as coin_type for BSQ\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    private boolean isBsqWallet;\n+\n+    public BisqKeyChainGroupStructure (boolean isBsqWallet) {\n+        this.isBsqWallet = isBsqWallet;\n+    }\n+\n+    @Override\n+    public ImmutableList<ChildNumber> accountPathFor(Script.ScriptType outputScriptType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2fe2a7d96d8cb8369afb09330c99b938578aa5"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY5MDUwNw==", "bodyText": "Even though Bisq uses multisig (eg for payout tx signing), bisq does not use a multisig keychain.\nA multisig keychain (MarriedKeyChain in bitcoinj) makes sense when you want to repeatedly generate new multisig addresses for the same group of people.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485690507", "createdAt": "2020-09-09T15:11:31Z", "author": {"login": "oscarguindzberg"}, "path": "core/src/main/java/bisq/core/btc/setup/BisqKeyChainGroupStructure.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * This file is part of Bisq.\n+ *\n+ * Bisq is free software: you can redistribute it and/or modify it\n+ * under the terms of the GNU Affero General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or (at\n+ * your option) any later version.\n+ *\n+ * Bisq is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public\n+ * License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with Bisq. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package bisq.core.btc.setup;\n+\n+import org.bitcoinj.crypto.ChildNumber;\n+import org.bitcoinj.script.Script;\n+import org.bitcoinj.wallet.DeterministicKeyChain;\n+import org.bitcoinj.wallet.KeyChainGroupStructure;\n+\n+import com.google.common.collect.ImmutableList;\n+\n+public class BisqKeyChainGroupStructure implements KeyChainGroupStructure {\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We use 0 (0x80000000) as coin_type for BTC\n+    // m / purpose' / coin_type' / account' / change / address_index\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We have registered 142 (0x8000008E) as coin_type for BSQ\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    private boolean isBsqWallet;\n+\n+    public BisqKeyChainGroupStructure (boolean isBsqWallet) {\n+        this.isBsqWallet = isBsqWallet;\n+    }\n+\n+    @Override\n+    public ImmutableList<ChildNumber> accountPathFor(Script.ScriptType outputScriptType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NTM1Ng=="}, "originalCommit": {"oid": "6d2fe2a7d96d8cb8369afb09330c99b938578aa5"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc4Njk4Nw==", "bodyText": "Ok, thanks. Did not see the full context.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485786987", "createdAt": "2020-09-09T17:15:25Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/btc/setup/BisqKeyChainGroupStructure.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * This file is part of Bisq.\n+ *\n+ * Bisq is free software: you can redistribute it and/or modify it\n+ * under the terms of the GNU Affero General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or (at\n+ * your option) any later version.\n+ *\n+ * Bisq is distributed in the hope that it will be useful, but WITHOUT\n+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+ * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public\n+ * License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with Bisq. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package bisq.core.btc.setup;\n+\n+import org.bitcoinj.crypto.ChildNumber;\n+import org.bitcoinj.script.Script;\n+import org.bitcoinj.wallet.DeterministicKeyChain;\n+import org.bitcoinj.wallet.KeyChainGroupStructure;\n+\n+import com.google.common.collect.ImmutableList;\n+\n+public class BisqKeyChainGroupStructure implements KeyChainGroupStructure {\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We use 0 (0x80000000) as coin_type for BTC\n+    // m / purpose' / coin_type' / account' / change / address_index\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BTC_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(0, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    // See https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki\n+    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n+    // We have registered 142 (0x8000008E) as coin_type for BSQ\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_NON_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ZERO_HARDENED);\n+\n+    public static final ImmutableList<ChildNumber> BIP44_BSQ_SEGWIT_ACCOUNT_PATH = ImmutableList.of(\n+            new ChildNumber(44, true),\n+            new ChildNumber(142, true),\n+            ChildNumber.ONE_HARDENED);\n+\n+    private boolean isBsqWallet;\n+\n+    public BisqKeyChainGroupStructure (boolean isBsqWallet) {\n+        this.isBsqWallet = isBsqWallet;\n+    }\n+\n+    @Override\n+    public ImmutableList<ChildNumber> accountPathFor(Script.ScriptType outputScriptType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NTM1Ng=="}, "originalCommit": {"oid": "6d2fe2a7d96d8cb8369afb09330c99b938578aa5"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTI2ODk0OnYy", "diffSide": "LEFT", "path": "core/src/main/java/bisq/core/btc/setup/WalletsSetup.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMTowMDo1MlrOHOy4vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNjoxMDowNVrOHPO5VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NTgzNg==", "bodyText": "Are httpSeed still used by default in BitcoinJ? If so I would prefer to still make sure to not use http seeds as they have some privacy issues.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485275836", "createdAt": "2020-09-09T01:00:52Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/btc/setup/WalletsSetup.java", "diffHunk": "@@ -172,7 +172,6 @@ public WalletsSetup(RegTestHost regTestHost,\n \n         btcWalletFileName = \"bisq_\" + config.baseCurrencyNetwork.getCurrencyCode() + \".wallet\";\n         params = Config.baseCurrencyNetworkParameters();\n-        PeerGroup.setIgnoreHttpSeeds(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9be6a9dd295b439a66c4d369563411009c9db329"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTczNDc0MA==", "bodyText": "http seeds are not used by default in bitcoinj and are not used in bisq as is.\nHaving said that, I had another look at this and found they might be used if a bisq dev activates a certain feature of bitcoinj that is not being used today. So, I will add PeerGroup.setIgnoreHttpSeeds(true) again.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485734740", "createdAt": "2020-09-09T16:10:05Z", "author": {"login": "oscarguindzberg"}, "path": "core/src/main/java/bisq/core/btc/setup/WalletsSetup.java", "diffHunk": "@@ -172,7 +172,6 @@ public WalletsSetup(RegTestHost regTestHost,\n \n         btcWalletFileName = \"bisq_\" + config.baseCurrencyNetwork.getCurrencyCode() + \".wallet\";\n         params = Config.baseCurrencyNetworkParameters();\n-        PeerGroup.setIgnoreHttpSeeds(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NTgzNg=="}, "originalCommit": {"oid": "9be6a9dd295b439a66c4d369563411009c9db329"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTI3MzAyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/bisq/core/btc/setup/WalletConfig.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMTowMzoyM1rOHOy7FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNzoxNjoyM1rOHPSHiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NjQzNw==", "bodyText": "I guess the else case should be P2WPKH", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485276437", "createdAt": "2020-09-09T01:03:23Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/btc/setup/WalletConfig.java", "diffHunk": "@@ -495,6 +485,8 @@ private Wallet loadWallet(boolean shouldReplayWallet, File walletFile, boolean i\n     }\n \n     protected Wallet createWallet(boolean isBsqWallet) {\n+        // Change preferredOutputScriptType of btc wallet to P2WPKH to start using segwit\n+        Script.ScriptType preferredOutputScriptType = isBsqWallet ? Script.ScriptType.P2PKH : Script.ScriptType.P2PKH;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fae0eb1b782f9f4847df295bacbf62c221c38f3d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY5MzgzMw==", "bodyText": "That will be true when we implement segwit.\nFor now, this is just migration to bitcoinj 0.15\nThe code is a placeholder for the code that is coming soon (see the comment in the previous line).\nI will update the code to:\nScript.ScriptType preferredOutputScriptType = Script.ScriptType.P2PKH;\nTo avoid confusions until segwit is implemented.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485693833", "createdAt": "2020-09-09T15:15:57Z", "author": {"login": "oscarguindzberg"}, "path": "core/src/main/java/bisq/core/btc/setup/WalletConfig.java", "diffHunk": "@@ -495,6 +485,8 @@ private Wallet loadWallet(boolean shouldReplayWallet, File walletFile, boolean i\n     }\n \n     protected Wallet createWallet(boolean isBsqWallet) {\n+        // Change preferredOutputScriptType of btc wallet to P2WPKH to start using segwit\n+        Script.ScriptType preferredOutputScriptType = isBsqWallet ? Script.ScriptType.P2PKH : Script.ScriptType.P2PKH;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NjQzNw=="}, "originalCommit": {"oid": "fae0eb1b782f9f4847df295bacbf62c221c38f3d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc4NzUyOA==", "bodyText": "Ah missed the comment.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r485787528", "createdAt": "2020-09-09T17:16:23Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/btc/setup/WalletConfig.java", "diffHunk": "@@ -495,6 +485,8 @@ private Wallet loadWallet(boolean shouldReplayWallet, File walletFile, boolean i\n     }\n \n     protected Wallet createWallet(boolean isBsqWallet) {\n+        // Change preferredOutputScriptType of btc wallet to P2WPKH to start using segwit\n+        Script.ScriptType preferredOutputScriptType = isBsqWallet ? Script.ScriptType.P2PKH : Script.ScriptType.P2PKH;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI3NjQzNw=="}, "originalCommit": {"oid": "fae0eb1b782f9f4847df295bacbf62c221c38f3d"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjYwOTg5OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/bisq/core/btc/model/AddressEntryList.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwOTo0NDoxM1rOHTaHJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QyMToyOTo1OVrOHT2NMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDExMjgwNw==", "bodyText": "Prefer to break lines at 120 characters.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r490112807", "createdAt": "2020-09-17T09:44:13Z", "author": {"login": "sqrrm"}, "path": "core/src/main/java/bisq/core/btc/model/AddressEntryList.java", "diffHunk": "@@ -105,9 +107,9 @@ public void onWalletReady(Wallet wallet) {\n         if (!entrySet.isEmpty()) {\n             Set<AddressEntry> toBeRemoved = new HashSet<>();\n             entrySet.forEach(addressEntry -> {\n-                DeterministicKey keyFromPubHash = (DeterministicKey) wallet.findKeyFromPubHash(addressEntry.getPubKeyHash());\n+                DeterministicKey keyFromPubHash = (DeterministicKey) wallet.findKeyFromPubKeyHash(addressEntry.getPubKeyHash(), Script.ScriptType.P2PKH);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36219dee38a29239f584f24806ed3049dc2b0f52"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU3MzEwNA==", "bodyText": "done", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r490573104", "createdAt": "2020-09-17T21:29:59Z", "author": {"login": "oscarguindzberg"}, "path": "core/src/main/java/bisq/core/btc/model/AddressEntryList.java", "diffHunk": "@@ -105,9 +107,9 @@ public void onWalletReady(Wallet wallet) {\n         if (!entrySet.isEmpty()) {\n             Set<AddressEntry> toBeRemoved = new HashSet<>();\n             entrySet.forEach(addressEntry -> {\n-                DeterministicKey keyFromPubHash = (DeterministicKey) wallet.findKeyFromPubHash(addressEntry.getPubKeyHash());\n+                DeterministicKey keyFromPubHash = (DeterministicKey) wallet.findKeyFromPubKeyHash(addressEntry.getPubKeyHash(), Script.ScriptType.P2PKH);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDExMjgwNw=="}, "originalCommit": {"oid": "36219dee38a29239f584f24806ed3049dc2b0f52"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NzAzMDk0OnYy", "diffSide": "RIGHT", "path": "gradle/witness/gradle-witness.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMTo0Mjo0MlrOHTeDJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QyMToyMzo0NFrOHT2B6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE3NzMxNw==", "bodyText": "Upgraded btcd-cli4j, why was this necessary?", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r490177317", "createdAt": "2020-09-17T11:42:42Z", "author": {"login": "sqrrm"}, "path": "gradle/witness/gradle-witness.gradle", "diffHunk": "@@ -68,22 +68,23 @@ dependencyVerification {\n         'net.glxn:qrgen:c85d9d8512d91e8ad11fe56259a7825bd50ce0245447e236cf168d1b17591882',\n         'net.jcip:jcip-annotations:be5805392060c71474bf6c9a67a099471274d30b83eef84bfc4e0889a4f1dcc0',\n         'net.sf.jopt-simple:jopt-simple:df26cc58f235f477db07f753ba5a3ab243ebe5789d9f89ecf68dd62ea9a66c28',\n-        'network.bisq.btcd-cli4j:btcd-cli4j-core:203156fc63dc1202774de9818e4f21149549f79b25d356b08bb0c784be40c0e8',\n-        'network.bisq.btcd-cli4j:btcd-cli4j-daemon:0a2783a851add6e3d8ae899ade48c041b250bfac64b6a4c5f6380ebcdbbe6848',\n+        'network.bisq.btcd-cli4j:btcd-cli4j-core:4634b39de93764c4609e295e254e8c3b1427ba24febf43352f4f315029c5b1b3',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36219dee38a29239f584f24806ed3049dc2b0f52"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU3MDIxNw==", "bodyText": "Kind of long story...\nA year ago I upgraded some Bisq dependencies to match bitcoinj 0.15.1 dependencies. eg upgraded guava from 20 to 27.\nThen, when bitcoinj 0.15.8 came out with guava 28.2 , I upgraded Bisq to use that guava version.\nNone of those changes were merged yet, we are merging it as part of this PR.\nSome time ago this code was merged into the btcd-cli4j repo bisq-network/btcd-cli4j#4 . And then you reverted part of the change bisq-network/btcd-cli4j#8.\nSo, I am not actually upgrading btcd-cli4j but downgrading it to the version that declares a dependency on guava 27.\nIn any case, bisq's gradle resolves not to include the guava version declared in btcd-cli4j but the version declared on its own build.gradle file.\nTo make things clear a new btcd-cli4j version declaring a dependency to guava 28.2-jre could be created, then we could upgrade to that btcd-cli4j version in bisq.", "url": "https://github.com/bisq-network/bisq/pull/4504#discussion_r490570217", "createdAt": "2020-09-17T21:23:44Z", "author": {"login": "oscarguindzberg"}, "path": "gradle/witness/gradle-witness.gradle", "diffHunk": "@@ -68,22 +68,23 @@ dependencyVerification {\n         'net.glxn:qrgen:c85d9d8512d91e8ad11fe56259a7825bd50ce0245447e236cf168d1b17591882',\n         'net.jcip:jcip-annotations:be5805392060c71474bf6c9a67a099471274d30b83eef84bfc4e0889a4f1dcc0',\n         'net.sf.jopt-simple:jopt-simple:df26cc58f235f477db07f753ba5a3ab243ebe5789d9f89ecf68dd62ea9a66c28',\n-        'network.bisq.btcd-cli4j:btcd-cli4j-core:203156fc63dc1202774de9818e4f21149549f79b25d356b08bb0c784be40c0e8',\n-        'network.bisq.btcd-cli4j:btcd-cli4j-daemon:0a2783a851add6e3d8ae899ade48c041b250bfac64b6a4c5f6380ebcdbbe6848',\n+        'network.bisq.btcd-cli4j:btcd-cli4j-core:4634b39de93764c4609e295e254e8c3b1427ba24febf43352f4f315029c5b1b3',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE3NzMxNw=="}, "originalCommit": {"oid": "36219dee38a29239f584f24806ed3049dc2b0f52"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2443, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}