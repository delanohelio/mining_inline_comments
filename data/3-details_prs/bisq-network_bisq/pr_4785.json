{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NzcwMDQz", "number": 4785, "title": "Touch-ups to the DAO BSQ Supply page", "bodyText": "Intro\nThe BSQ supply page on the DAO GUI tab, provides 3 charts and some numerical data on the BSQ supply.\nFor simplicity, I will refer here to the charts as chart#1 (top), chart#2 (middle) and chart#3 (bottom) to avoid any confusion with the names.\nThe charts and the page itself seems a little confusing. This PR provides some touch-ups to improve it. It is not a redesign of the page.\nCurrent Status\nThe DAO BSQ pages, as of version 1.4.2 is like this:\n\n\nResults\nThe result of this PR becomes:\n\n\nDescription of changes\n\nChart touch-ups affect the display of lines and axes.\nRemoved Chart#2. It has no new information from Chart#1, so it is not needed.\nDid not:\n\nCheck or touch any of the calculations in the number sections.\nRemoved chart#2 by commenting-out the relevant code and left as a placeholder. Easy to re-insert another chart in its place if/when needed.\n\n\n\nRemaining issues\n\nSection BSQ burnt shows a negative number for Burned BSQ (fees). Q: Is this by design ?", "createdAt": "2020-11-12T10:07:48Z", "url": "https://github.com/bisq-network/bisq/pull/4785", "merged": true, "mergeCommit": {"oid": "e8a8e3b3a12cc76477f312883126fc8cc6ecfc6f"}, "closed": true, "closedAt": "2020-11-30T08:22:21Z", "author": {"login": "deusmax"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfRHCxAFqTUzNjI2Mjg2MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhg-r1AFqTU0MDY4MDQ5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjYyODYx", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-536262861", "createdAt": "2020-11-23T08:44:57Z", "commit": {"oid": "9fcd50c13580bd6f988019fcd603ad92e06e3a08"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwODo0NDo1N1rOH4DpCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwODo0NDo1N1rOH4DpCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU0MTk2Mw==", "bodyText": "If you want to remove it just get rid of it completely \ud83d\ude04", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r528541963", "createdAt": "2020-11-23T08:44:57Z", "author": {"login": "ripcurlx"}, "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -291,85 +298,75 @@ private void createSupplyLockedInformation() {\n                 Res.get(\"dao.factsAndFigures.supply.totalConfiscatedAmount\")).second;\n     }\n \n+    // chart #1 (top)\n     private Node createBSQIssuedVsBurntChart(\n-            XYChart.Series<Number, Number> seriesBSQIssuedMonthly,\n-            XYChart.Series<Number, Number> seriesBSQBurntMonthly\n+        XYChart.Series<Number, Number> seriesBSQIssuedMonthly,\n+        XYChart.Series<Number, Number> seriesBSQBurntMonthly\n     ) {\n-        Supplier<NumberAxis> makeXAxis = () -> {\n-            NumberAxis xAxis = new NumberAxis();\n-            configureAxis(xAxis);\n-            xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n-            return xAxis;\n-        };\n+        xAxisChart1 = new NumberAxis();\n+        configureAxis(xAxisChart1);\n+        xAxisChart1.setLabel(\"Month\");\n+        xAxisChart1.setTickLabelFormatter(getMonthTickLabelFormatter(\"MM\\nyyyy\"));\n+        addTickMarkLabelCssClass(xAxisChart1, \"axis-tick-mark-text-node\");\n \n-        Supplier<NumberAxis> makeYAxis = () -> {\n-            NumberAxis yAxis = new NumberAxis();\n-            configureYAxis(yAxis);\n-            yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n-            return yAxis;\n-        };\n-\n-        var chart = new LineChart<>(makeXAxis.get(), makeYAxis.get());\n+        NumberAxis yAxis = new NumberAxis();\n+        configureYAxis(yAxis);\n+        yAxis.setLabel(\"BSQ\");\n+        yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n \n+        var chart = new LineChart<>(xAxisChart1, yAxis);\n         configureChart(chart);\n-        chart.setCreateSymbols(false);\n-\n-        chart.getData().addAll(List.of(seriesBSQIssuedMonthly, seriesBSQBurntMonthly));\n-\n         chart.setLegendVisible(true);\n+        chart.setCreateSymbols(true);\n+\n+        chart.getData().addAll(seriesBSQIssuedMonthly, seriesBSQBurntMonthly);\n \n         return chart;\n     }\n \n-    private Node createBSQIssuedChart(XYChart.Series<Number, Number> series) {\n-        NumberAxis xAxis = new NumberAxis();\n-        configureAxis(xAxis);\n-        xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n+    // chart #2 (middle) - removed\n+    // private Node createBSQIssuedChart(XYChart.Series<Number, Number> series) {\n+    //     NumberAxis xAxis = new NumberAxis();\n+    //     configureAxis(xAxis);\n+    //     xAxis.setTickLabelFormatter(getTimestampTickLabelFormatter(\"MMM uu\"));\n \n-        NumberAxis yAxis = new NumberAxis();\n-        configureYAxis(yAxis);\n-        yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n+    //     NumberAxis yAxis = new NumberAxis();\n+    //     configureYAxis(yAxis);\n+    //     yAxis.setTickLabelFormatter(BSQPriceTickLabelFormatter);\n \n-        AreaChart<Number, Number> chart = new AreaChart<>(xAxis, yAxis);\n-\n-        configureChart(chart);\n-        chart.setCreateSymbols(false);\n+    //     AreaChart<Number, Number> chart = new AreaChart<>(xAxis, yAxis);\n+    //     configureChart(chart);\n+    //     chart.setCreateSymbols(true);\n \n-        chart.getData().add(series);\n+    //     chart.getData().add(series);\n \n-        return chart;\n-    }\n+    //     return chart;\n+    // }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fcd50c13580bd6f988019fcd603ad92e06e3a08"}, "originalPosition": 181}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzUzMzIz", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-539353323", "createdAt": "2020-11-26T14:19:25Z", "commit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOToyNVrOH6dSrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOToyNVrOH6dSrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTM3Mg==", "bodyText": "Could you please remove this as well?", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059372", "createdAt": "2020-11-26T14:19:25Z", "author": {"login": "ripcurlx"}, "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -108,7 +111,7 @@\n     private XYChart.Series<Number, Number> seriesBSQIssuedMonthly, seriesBSQBurntMonthly, seriesBSQBurntDaily,\n             seriesBSQBurntDailyMA;\n \n-    private XYChart.Series<Number, Number> seriesBSQIssuedMonthly2;\n+    // private XYChart.Series<Number, Number> seriesBSQIssuedMonthly2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzUzNTMw", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-539353530", "createdAt": "2020-11-26T14:19:40Z", "commit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOTo0MFrOH6dTRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOTo0MFrOH6dTRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTUyNw==", "bodyText": "Could you please remove this as well?", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059527", "createdAt": "2020-11-26T14:19:40Z", "author": {"login": "ripcurlx"}, "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -199,8 +205,8 @@ private void initializeSeries() {\n         // Because Series cannot be reused in multiple charts, we create a\n         // \"second\" Series and populate it at the same time as the original.\n         // Some other solutions: https://stackoverflow.com/questions/49770442\n-        seriesBSQIssuedMonthly2 = new XYChart.Series<>();\n-        seriesBSQIssuedMonthly2.setName(issuedLabel);\n+        // seriesBSQIssuedMonthly2 = new XYChart.Series<>();\n+        // seriesBSQIssuedMonthly2.setName(issuedLabel);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "originalPosition": 81}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzUzNzkz", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-539353793", "createdAt": "2020-11-26T14:19:59Z", "commit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOTo1OVrOH6dUEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxOTo1OVrOH6dUEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1OTcyOQ==", "bodyText": "Could you please remove this as well?", "url": "https://github.com/bisq-network/bisq/pull/4785#discussion_r531059729", "createdAt": "2020-11-26T14:19:59Z", "author": {"login": "ripcurlx"}, "path": "desktop/src/main/java/bisq/desktop/main/dao/economy/supply/SupplyView.java", "diffHunk": "@@ -630,7 +657,9 @@ private void updateBSQIssuedMonthly() {\n                 .collect(Collectors.toList());\n \n         seriesBSQIssuedMonthly.getData().setAll(updatedAddedBSQ);\n-        seriesBSQIssuedMonthly2.getData().setAll(updatedAddedBSQ);\n+        // seriesBSQIssuedMonthly2.getData().setAll(updatedAddedBSQ);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "originalPosition": 348}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzU0NTI0", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-539354524", "createdAt": "2020-11-26T14:20:52Z", "commit": {"oid": "d66383e175290b83e1b6f196fd1bf721c5a5648c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d8939c0ca7a8bc1d91131b6d58c03e424dbae5c", "author": {"user": {"login": "deusmax", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/9d8939c0ca7a8bc1d91131b6d58c03e424dbae5c", "committedDate": "2020-11-26T16:58:14Z", "message": "Touch ups on the DAO BSQ supply page.\n\n * Formatting changes to chart lines and axes.\n * Removed middle chart as it displays no\n   new info.\n * Function getMonthTickLabelFormatter rounds the\n   tick label display to the nearest month.\n   Only used for chart1.\n * New variable chart1XBounds to keep track of\n   chart1 X-axis limits, as autoRanging set false."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNjgwNDkw", "url": "https://github.com/bisq-network/bisq/pull/4785#pullrequestreview-540680490", "createdAt": "2020-11-30T08:22:10Z", "commit": {"oid": "9d8939c0ca7a8bc1d91131b6d58c03e424dbae5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3526, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}