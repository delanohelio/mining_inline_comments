{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3OTU2OTg1", "number": 4596, "title": "Simplify GrpcOffersService#createOffer (refactor)", "bodyText": "Push the placeOffer call down into CoreOffersService#createOffer, and use a countdown latch to wait for async placeOffer to complete.", "createdAt": "2020-10-05T16:00:03Z", "url": "https://github.com/bisq-network/bisq/pull/4596", "merged": true, "mergeCommit": {"oid": "66f6e49f8364530b576b6e93e2a0a21a033fcd01"}, "closed": true, "closedAt": "2020-10-07T07:30:40Z", "author": {"login": "ghubstan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPlcqxAH2gAyNDk3OTU2OTg1OmRkNjdhY2MxNTNiZjUzZDQyMTBiNGY5ZDJlZTZjMTg0ZDJmZGYzYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQH4CZAFqTUwMzU5NTg4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd67acc153bf53d4210b4f9d2ee6c184d2fdf3a1", "author": {"user": {"login": "ghubstan", "name": "Stan"}}, "url": "https://github.com/bisq-network/bisq/commit/dd67acc153bf53d4210b4f9d2ee6c184d2fdf3a1", "committedDate": "2020-10-05T15:23:54Z", "message": "Simplify GrpcOffersService#createOffer (refactor)\n\nPush the placeOffer call down into CoreOffersService#createOffer,\nand use a countdown latch to wait for async placeOffer to\ncomplete."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d34730bd8530a141ef1255cf690c7584937889b", "author": {"user": {"login": "ghubstan", "name": "Stan"}}, "url": "https://github.com/bisq-network/bisq/commit/2d34730bd8530a141ef1255cf690c7584937889b", "committedDate": "2020-10-05T16:51:48Z", "message": "Fix method name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f3f4f06f52d5fb60e90248d154ac72d6b076cf2", "author": {"user": {"login": "ghubstan", "name": "Stan"}}, "url": "https://github.com/bisq-network/bisq/commit/3f3f4f06f52d5fb60e90248d154ac72d6b076cf2", "committedDate": "2020-10-05T17:32:05Z", "message": "Use consumer::accept instead of a countdown latch\n\nThis is more readable and stylistically consistent."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNTYxNzQ5", "url": "https://github.com/bisq-network/bisq/pull/4596#pullrequestreview-502561749", "createdAt": "2020-10-06T03:38:30Z", "commit": {"oid": "3f3f4f06f52d5fb60e90248d154ac72d6b076cf2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMzozODozMVrOHc02Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMzozODozMVrOHc02Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk4ODAzNA==", "bodyText": "I think it would be more clear to not return the offer, as it is passed via the Consumer<Offer> resultHandler.", "url": "https://github.com/bisq-network/bisq/pull/4596#discussion_r499988034", "createdAt": "2020-10-06T03:38:31Z", "author": {"login": "chimp1984"}, "path": "core/src/main/java/bisq/core/api/CoreOffersService.java", "diffHunk": "@@ -87,15 +88,16 @@ public CoreOffersService(CreateOfferService createOfferService,\n     }\n \n     // Create and place new offer.\n-    Offer createOffer(String currencyCode,\n-                      String directionAsString,\n-                      String priceAsString,\n-                      boolean useMarketBasedPrice,\n-                      double marketPriceMargin,\n-                      long amountAsLong,\n-                      long minAmountAsLong,\n-                      double buyerSecurityDeposit,\n-                      String paymentAccountId) {\n+    Offer createAndPlaceOffer(String currencyCode,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f4f06f52d5fb60e90248d154ac72d6b076cf2"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30e6dae90b0140dbcae90ecf664875e8fd95f047", "author": {"user": {"login": "ghubstan", "name": "Stan"}}, "url": "https://github.com/bisq-network/bisq/commit/30e6dae90b0140dbcae90ecf664875e8fd95f047", "committedDate": "2020-10-06T14:19:08Z", "message": "Change return type to void\n\nThe prior Offer return type is redundant and confusing given the\nnew offer is passed up via the Consumer<Offer> resultHandler."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzA2OTU3", "url": "https://github.com/bisq-network/bisq/pull/4596#pullrequestreview-503306957", "createdAt": "2020-10-06T19:51:55Z", "commit": {"oid": "30e6dae90b0140dbcae90ecf664875e8fd95f047"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNTk1ODg0", "url": "https://github.com/bisq-network/bisq/pull/4596#pullrequestreview-503595884", "createdAt": "2020-10-07T07:30:34Z", "commit": {"oid": "30e6dae90b0140dbcae90ecf664875e8fd95f047"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3099, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}