{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MjA0ODk3", "number": 4193, "title": "Display \"Payment Method\" column in Open Offers view", "bodyText": "Adjust widths of existing columns to fit in a column for payment method.\nFixes #3902\nFixes #4125\nimplementation screenshot: #4125 (comment)", "createdAt": "2020-04-23T21:19:01Z", "url": "https://github.com/bisq-network/bisq/pull/4193", "merged": true, "mergeCommit": {"oid": "1a62f6b8b8283c190fe8f7551783594d4d4028c2"}, "closed": true, "closedAt": "2020-06-04T10:32:07Z", "author": {"login": "jmacxx"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbIXNrABqjMyNzIwNTM2MzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn7ihVAFqTQyNDMxMTE0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d826fba3f9d35e9b1f863c60313746fabe240a4f", "author": {"user": {"login": "jmacxx", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/d826fba3f9d35e9b1f863c60313746fabe240a4f", "committedDate": "2020-04-23T21:14:20Z", "message": "Display payment method column in Open Offers view\n\nAdjust widths of existing columns to fit in a column for payment method.\nFixes #3902\nFixes #4125"}, "afterCommit": {"oid": "434e3848353273ea50babc0f162c5059f4c0958a", "author": {"user": {"login": "jmacxx", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/434e3848353273ea50babc0f162c5059f4c0958a", "committedDate": "2020-04-25T16:07:18Z", "message": "Display payment method column in Open Offers view\n\nAdjust widths of existing columns to fit in a column for payment method.\nFixes #3902\nFixes #4125"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExODQ5NTMy", "url": "https://github.com/bisq-network/bisq/pull/4193#pullrequestreview-411849532", "createdAt": "2020-05-14T14:16:12Z", "commit": {"oid": "434e3848353273ea50babc0f162c5059f4c0958a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDoxNjoxMlrOGVeaSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDoyNzoxMVrOGVe7pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3MTUyOA==", "bodyText": "Is the null check necessary? The above calls to result of o.getOffer() don't null check.", "url": "https://github.com/bisq-network/bisq/pull/4193#discussion_r425171528", "createdAt": "2020-05-14T14:16:12Z", "author": {"login": "dmos62"}, "path": "desktop/src/main/java/bisq/desktop/main/portfolio/openoffer/OpenOffersView.java", "diffHunk": "@@ -116,6 +118,10 @@ public void initialize() {\n         priceColumn.setComparator(Comparator.comparing(o -> o.getOffer().getPrice(), Comparator.nullsFirst(Comparator.naturalOrder())));\n         volumeColumn.setComparator(Comparator.comparing(o -> o.getOffer().getVolume(), Comparator.nullsFirst(Comparator.naturalOrder())));\n         dateColumn.setComparator(Comparator.comparing(o -> o.getOffer().getDate()));\n+        paymentMethodColumn.setComparator(Comparator.comparing(\n+                o -> o.getOffer() != null ? o.getOffer().getPaymentMethod().getId() : null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "434e3848353273ea50babc0f162c5059f4c0958a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE3NTY0MA==", "bodyText": "Unused import.", "url": "https://github.com/bisq-network/bisq/pull/4193#discussion_r425175640", "createdAt": "2020-05-14T14:21:39Z", "author": {"login": "dmos62"}, "path": "desktop/src/main/java/bisq/desktop/main/portfolio/openoffer/OpenOffersViewModel.java", "diffHunk": "@@ -19,6 +19,7 @@\n \n import bisq.desktop.common.model.ActivatableWithDataModel;\n import bisq.desktop.common.model.ViewModel;\n+import bisq.desktop.main.portfolio.pendingtrades.PendingTradesListItem;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "434e3848353273ea50babc0f162c5059f4c0958a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE4MDA3MA==", "bodyText": "Can we guarantee that Res.get(paymentMethod.getId() + \"_SHORT\") will always find the translation? If unsure, should wrap in try-catch.", "url": "https://github.com/bisq-network/bisq/pull/4193#discussion_r425180070", "createdAt": "2020-05-14T14:27:11Z", "author": {"login": "dmos62"}, "path": "desktop/src/main/java/bisq/desktop/main/portfolio/openoffer/OpenOffersViewModel.java", "diffHunk": "@@ -118,6 +121,23 @@ String getMarketLabel(OpenOfferListItem item) {\n         return CurrencyUtil.getCurrencyPair(item.getOffer().getCurrencyCode());\n     }\n \n+    String getPaymentMethod(OpenOfferListItem item) {\n+        String result = \"\";\n+        if (item != null) {\n+            Offer offer = item.getOffer();\n+            checkNotNull(offer);\n+            checkNotNull(offer.getPaymentMethod());\n+            String method = Res.get(offer.getPaymentMethod().getId() + \"_SHORT\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "434e3848353273ea50babc0f162c5059f4c0958a"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d516ba4a5983dc6377e008fff13b1b25e1b64f7c", "author": {"user": {"login": "jmacxx", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/d516ba4a5983dc6377e008fff13b1b25e1b64f7c", "committedDate": "2020-05-15T14:06:48Z", "message": "Display payment method column in Open Offers view\n\nAdjust widths of existing columns to fit in a column for payment method.\nFixes #3902\nFixes #4125"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36018f90e3c032b3a34d832ae451dd4d6a2dae29", "author": {"user": {"login": "jmacxx", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/36018f90e3c032b3a34d832ae451dd4d6a2dae29", "committedDate": "2020-05-14T17:11:47Z", "message": "Refactor after suggestions from dmos62\n\nAdded Offer.getPaymentMethodNameWithCountryCode()\nAdded PaymentMethod.getShortName()\nThese are used in OpenOffersViewModel and PendingTradesViewModel"}, "afterCommit": {"oid": "d516ba4a5983dc6377e008fff13b1b25e1b64f7c", "author": {"user": {"login": "jmacxx", "name": null}}, "url": "https://github.com/bisq-network/bisq/commit/d516ba4a5983dc6377e008fff13b1b25e1b64f7c", "committedDate": "2020-05-15T14:06:48Z", "message": "Display payment method column in Open Offers view\n\nAdjust widths of existing columns to fit in a column for payment method.\nFixes #3902\nFixes #4125"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MzExMTQ3", "url": "https://github.com/bisq-network/bisq/pull/4193#pullrequestreview-424311147", "createdAt": "2020-06-04T10:31:14Z", "commit": {"oid": "d516ba4a5983dc6377e008fff13b1b25e1b64f7c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3268, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}