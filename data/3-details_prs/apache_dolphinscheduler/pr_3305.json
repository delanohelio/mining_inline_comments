{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NTU1MTM3", "number": 3305, "title": "[Test-3288][server] Fix github ci unit test oom", "bodyText": "What is the purpose of the pull request\n**Fix the github action oom #3288 **\nBrief change log\n\nOptimize the MasterExecThreadTest.java by using PowerMock\nAdd the stopper to TaskPriorityQueueConsumerTest.java\nAdd the unregistry function to release the resource in all test case which used the registry", "createdAt": "2020-07-25T02:48:32Z", "url": "https://github.com/apache/dolphinscheduler/pull/3305", "merged": true, "mergeCommit": {"oid": "0577dc97808226b2a5ef4b1fa5fc819b3a54095e"}, "closed": true, "closedAt": "2020-07-25T11:24:17Z", "author": {"login": "yangyichao-mango"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4PeNkgH2gAyNDU2NTU1MTM3OmIwNjc4ZjUwY2ZkYjA4ODczM2FhNzNlOWViOWExZGRiOWU3MGUzYjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4W3MFAFqTQ1NTI3OTQwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b0678f50cfdb088733aa73e9eb9a1ddb9e70e3b7", "author": {"user": {"login": "yangyichao-mango", "name": "Yichao Yang"}}, "url": "https://github.com/apache/dolphinscheduler/commit/b0678f50cfdb088733aa73e9eb9a1ddb9e70e3b7", "committedDate": "2020-07-25T02:47:25Z", "message": "[Improvement] Test github action oom"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjU4NDcz", "url": "https://github.com/apache/dolphinscheduler/pull/3305#pullrequestreview-455258473", "createdAt": "2020-07-25T03:50:45Z", "commit": {"oid": "70ddb898c91843dd0b349c30e893895da857e1d8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjU4Njcw", "url": "https://github.com/apache/dolphinscheduler/pull/3305#pullrequestreview-455258670", "createdAt": "2020-07-25T03:55:18Z", "commit": {"oid": "70ddb898c91843dd0b349c30e893895da857e1d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQwMzo1NToxOFrOG3CLTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQwMzo1NToxOFrOG3CLTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM2MDUyNA==", "bodyText": "During the project incubation stage, it is not recommended to remove the license check", "url": "https://github.com/apache/dolphinscheduler/pull/3305#discussion_r460360524", "createdAt": "2020-07-25T03:55:18Z", "author": {"login": "CalvinKirs"}, "path": ".github/workflows/ci_frontend.yml", "diffHunk": "@@ -1,71 +1,71 @@\n+##\n+## Licensed to the Apache Software Foundation (ASF) under one or more\n+## contributor license agreements.  See the NOTICE file distributed with\n+## this work for additional information regarding copyright ownership.\n+## The ASF licenses this file to You under the Apache License, Version 2.0\n+## (the \"License\"); you may not use this file except in compliance with\n+## the License.  You may obtain a copy of the License at\n+##\n+##     http://www.apache.org/licenses/LICENSE-2.0\n+##\n+## Unless required by applicable law or agreed to in writing, software\n+## distributed under the License is distributed on an \"AS IS\" BASIS,\n+## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+## See the License for the specific language governing permissions and\n+## limitations under the License.\n+##\n #\n-# Licensed to the Apache Software Foundation (ASF) under one or more\n-# contributor license agreements.  See the NOTICE file distributed with\n-# this work for additional information regarding copyright ownership.\n-# The ASF licenses this file to You under the Apache License, Version 2.0\n-# (the \"License\"); you may not use this file except in compliance with\n-# the License.  You may obtain a copy of the License at\n+#name: Frontend\n #\n-#     http://www.apache.org/licenses/LICENSE-2.0\n+#on:\n+#  push:\n+#    paths:\n+#      - '.github/workflows/ci_frontend.yml'\n+#      - 'dolphinscheduler-ui/**'\n+#  pull_request:\n+#    paths:\n+#      - '.github/workflows/ci_frontend.yml'\n+#      - 'dolphinscheduler-ui/**'\n #\n-# Unless required by applicable law or agreed to in writing, software\n-# distributed under the License is distributed on an \"AS IS\" BASIS,\n-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-# See the License for the specific language governing permissions and\n-# limitations under the License.\n+#jobs:\n+#  Compile-check:\n+#    runs-on: ${{ matrix.os }}\n+#    strategy:\n+#      matrix:\n+#        os: [ubuntu-latest, macos-latest]\n+#    steps:\n+#      - uses: actions/checkout@v2\n+#      # In the checkout@v2, it doesn't support git submodule. Execute the commands manually.\n+#      - name: checkout submodules\n+#        shell: bash\n+#        run: |\n+#          git submodule sync --recursive\n+#          git -c protocol.version=2 submodule update --init --force --recursive --depth=1\n+#      - name: Set up Node.js\n+#        uses: actions/setup-node@v1\n+#        with:\n+#          version: 8\n+#      - name: Compile\n+#        run: |\n+#          cd dolphinscheduler-ui\n+#          npm install node-sass --unsafe-perm\n+#          npm install\n+#          npm run lint\n+#          npm run build\n #\n-\n-name: Frontend\n-\n-on:\n-  push:\n-    paths:\n-      - '.github/workflows/ci_frontend.yml'\n-      - 'dolphinscheduler-ui/**'\n-  pull_request:\n-    paths:\n-      - '.github/workflows/ci_frontend.yml'\n-      - 'dolphinscheduler-ui/**'\n-\n-jobs:\n-  Compile-check:\n-    runs-on: ${{ matrix.os }}\n-    strategy:\n-      matrix:\n-        os: [ubuntu-latest, macos-latest]\n-    steps:\n-      - uses: actions/checkout@v2\n-      # In the checkout@v2, it doesn't support git submodule. Execute the commands manually.\n-      - name: checkout submodules\n-        shell: bash\n-        run: |\n-          git submodule sync --recursive\n-          git -c protocol.version=2 submodule update --init --force --recursive --depth=1\n-      - name: Set up Node.js\n-        uses: actions/setup-node@v1\n-        with:\n-          version: 8\n-      - name: Compile\n-        run: |\n-          cd dolphinscheduler-ui\n-          npm install node-sass --unsafe-perm\n-          npm install\n-          npm run lint\n-          npm run build\n-\n-  License-check:\n-    runs-on: ubuntu-latest\n-    steps:\n-      - uses: actions/checkout@v2\n-      # In the checkout@v2, it doesn't support git submodule. Execute the commands manually.\n-      - name: checkout submodules\n-        shell: bash\n-        run: |\n-          git submodule sync --recursive\n-          git -c protocol.version=2 submodule update --init --force --recursive --depth=1\n-      - name: Set up JDK 1.8\n-        uses: actions/setup-java@v1\n-        with:\n-          java-version: 1.8\n-      - name: Check\n-        run: mvn -B apache-rat:check\n+#  License-check:\n+#    runs-on: ubuntu-latest\n+#    steps:\n+#      - uses: actions/checkout@v2\n+#      # In the checkout@v2, it doesn't support git submodule. Execute the commands manually.\n+#      - name: checkout submodules\n+#        shell: bash\n+#        run: |\n+#          git submodule sync --recursive\n+#          git -c protocol.version=2 submodule update --init --force --recursive --depth=1\n+#      - name: Set up JDK 1.8\n+#        uses: actions/setup-java@v1\n+#        with:\n+#          java-version: 1.8\n+#      - name: Check\n+#        run: mvn -B apache-rat:check", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70ddb898c91843dd0b349c30e893895da857e1d8"}, "originalPosition": 138}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57a34b367a96640c3191039fb6bd9d18d7dfd57f", "author": {"user": {"login": "yangyichao-mango", "name": "Yichao Yang"}}, "url": "https://github.com/apache/dolphinscheduler/commit/57a34b367a96640c3191039fb6bd9d18d7dfd57f", "committedDate": "2020-07-25T07:14:13Z", "message": "Optimize the test case performance"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed77d745e29b02984e2c8d118467d5f81260b844", "author": {"user": {"login": "yangyichao-mango", "name": "Yichao Yang"}}, "url": "https://github.com/apache/dolphinscheduler/commit/ed77d745e29b02984e2c8d118467d5f81260b844", "committedDate": "2020-07-25T06:49:34Z", "message": "Revert the other ci"}, "afterCommit": {"oid": "57a34b367a96640c3191039fb6bd9d18d7dfd57f", "author": {"user": {"login": "yangyichao-mango", "name": "Yichao Yang"}}, "url": "https://github.com/apache/dolphinscheduler/commit/57a34b367a96640c3191039fb6bd9d18d7dfd57f", "committedDate": "2020-07-25T07:14:13Z", "message": "Optimize the test case performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "326cc71fe49365e0c3110f1e5e812771007c7c8b", "author": {"user": {"login": "yangyichao-mango", "name": "Yichao Yang"}}, "url": "https://github.com/apache/dolphinscheduler/commit/326cc71fe49365e0c3110f1e5e812771007c7c8b", "committedDate": "2020-07-25T07:17:07Z", "message": "Remove the unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjcxOTA4", "url": "https://github.com/apache/dolphinscheduler/pull/3305#pullrequestreview-455271908", "createdAt": "2020-07-25T08:44:16Z", "commit": {"oid": "326cc71fe49365e0c3110f1e5e812771007c7c8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mjc5NDA4", "url": "https://github.com/apache/dolphinscheduler/pull/3305#pullrequestreview-455279408", "createdAt": "2020-07-25T11:24:02Z", "commit": {"oid": "326cc71fe49365e0c3110f1e5e812771007c7c8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1795, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}