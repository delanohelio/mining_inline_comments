{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NTM3Mzcy", "number": 3186, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMzo1MjoxM1rOENdw7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMzo1MzowNVrOENdxKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyNTU0NjA0OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMzo1MjoxM1rOGwKIzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0wNFQxMTo0MzozMlrOIwMHFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDkyNQ==", "bodyText": "Hi,\nGood job,\nUtils should be used as a tool class and it is better not to involve business process.\nIs it better to implement this part in the business process class?", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r453150925", "createdAt": "2020-07-11T03:52:13Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -206,4 +215,8 @@ public static boolean ignoreNetworkInterface(NetworkInterface networkInterface)\n                 || !networkInterface.isUp();\n     }\n \n+    public static boolean isSpecifyNetworkInterface(NetworkInterface networkInterface) {\n+        String preferredNetworkInterface = System.getProperty(DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE);\n+        return Objects.equals(networkInterface.getDisplayName(), preferredNetworkInterface);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1NDQ2OA==", "bodyText": "Hello, this is exclusive to net, other business is not involved, so I think it is better to achieve here,how do you think\uff1f", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r453154468", "createdAt": "2020-07-11T04:37:33Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -206,4 +215,8 @@ public static boolean ignoreNetworkInterface(NetworkInterface networkInterface)\n                 || !networkInterface.isUp();\n     }\n \n+    public static boolean isSpecifyNetworkInterface(NetworkInterface networkInterface) {\n+        String preferredNetworkInterface = System.getProperty(DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE);\n+        return Objects.equals(networkInterface.getDisplayName(), preferredNetworkInterface);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDkyNQ=="}, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzIwMjc4NQ==", "bodyText": "Hello, this is exclusive to net, other business is not involved, so I think it is better to achieve here,how do you think\uff1f\n\n\nHi,\nI think it is better not to add the isSpecifyNetworkInterface in findNetworkInterface of utils, but I find there is only one call of findNetworkInterface, so I don't think of a better place to add this at present.\nI think we can think about the implement scheme again later.", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r453202785", "createdAt": "2020-07-11T14:57:04Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -206,4 +215,8 @@ public static boolean ignoreNetworkInterface(NetworkInterface networkInterface)\n                 || !networkInterface.isUp();\n     }\n \n+    public static boolean isSpecifyNetworkInterface(NetworkInterface networkInterface) {\n+        String preferredNetworkInterface = System.getProperty(DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE);\n+        return Objects.equals(networkInterface.getDisplayName(), preferredNetworkInterface);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDkyNQ=="}, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQwMDk4Mw==", "bodyText": "I think this modify like this, the name is more better.\n private static boolean isSpecifyNetworkInterface(NetworkInterface networkInterface) {\n        String preferredNetworkInterface = PropertyUtils.getString(DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE);\n        logger.info(\"config name:{}, net work interface: {}, addrs: {}\",\n                preferredNetworkInterface,  networkInterface, networkInterface.getInterfaceAddresses());\n        return Objects.equals(networkInterface.getName(), preferredNetworkInterface) || \n                Objects.equals(networkInterface.getDisplayName(), preferredNetworkInterface);\n    }\n\ncommon.properties add interface config\n# Network Interface name\n#dolphin.scheduler.network.interface.preferred=eth0", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r587400983", "createdAt": "2021-03-04T11:43:32Z", "author": {"login": "szs122"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -206,4 +215,8 @@ public static boolean ignoreNetworkInterface(NetworkInterface networkInterface)\n                 || !networkInterface.isUp();\n     }\n \n+    public static boolean isSpecifyNetworkInterface(NetworkInterface networkInterface) {\n+        String preferredNetworkInterface = System.getProperty(DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE);\n+        return Objects.equals(networkInterface.getDisplayName(), preferredNetworkInterface);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDkyNQ=="}, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyNTU0NjY1OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMzo1MzowNVrOGwKJEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwNDozOToxNFrOGwKXBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDk5Mg==", "bodyText": "Hi,\nIs it better to move DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE to Constants.java?", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r453150992", "createdAt": "2020-07-11T03:53:05Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -51,6 +48,8 @@ private NetUtils() {\n \n     private static volatile String HOST_ADDRESS;\n \n+    private static  String DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE = \"dolphin.scheduler.network.interface.preferred\";\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1NDU2Ng==", "bodyText": "Thanks for your suggestions, I have completed the changes.", "url": "https://github.com/apache/dolphinscheduler/pull/3186#discussion_r453154566", "createdAt": "2020-07-11T04:39:14Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/NetUtils.java", "diffHunk": "@@ -51,6 +48,8 @@ private NetUtils() {\n \n     private static volatile String HOST_ADDRESS;\n \n+    private static  String DOLPHIN_SCHEDULER_PREFERRED_NETWORK_INTERFACE = \"dolphin.scheduler.network.interface.preferred\";\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE1MDk5Mg=="}, "originalCommit": {"oid": "872762e9a488a6eefc7219f34f960cb09fc5ae2b"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3412, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}