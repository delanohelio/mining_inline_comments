{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNjgxOTky", "number": 3235, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODoxOToxOFrOEPvY8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNzozNzoxNFrOEWr2YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTQwNTI5OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODoxOToxOFrOGzmu-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODoxOToxOFrOGzmu-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NTE3Ng==", "bodyText": "Hi,\nThis variable is not used in this project, please delete.\nIf you have any question or suggestion, please put forward~", "url": "https://github.com/apache/dolphinscheduler/pull/3235#discussion_r456765176", "createdAt": "2020-07-18T08:19:18Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java", "diffHunk": "@@ -249,6 +249,8 @@ private Constants() {\n \n     public static final String WORKER_RESERVED_MEMORY = \"worker.reserved.memory\";\n \n+    public static final String WORKER_WEIGHT = \"worker.weight\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d80129667aaf0378a59a38e5b4ff289aad017cbb"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0OTQwNzgwOnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/registry/WorkerRegistry.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODoyMzowOFrOGzmwHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODozNzoxM1rOGzm0lA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NTQ2OA==", "bodyText": "Hi,\nIf user choose to use RoundRobinSelector, there will be no need to add the weight to zk heartbeat info. Maybe we can design this feature better.\nIf you have any question or suggestion, please put forward~", "url": "https://github.com/apache/dolphinscheduler/pull/3235#discussion_r456765468", "createdAt": "2020-07-18T08:23:08Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/registry/WorkerRegistry.java", "diffHunk": "@@ -152,6 +152,7 @@ public void unRegistry() {\n             // trim and lower case is need\n             workerZkPathBuilder.append(workGroup.trim().toLowerCase()).append(SLASH);\n             workerZkPathBuilder.append(address);\n+            workerZkPathBuilder.append(weight).append(SLASH);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d80129667aaf0378a59a38e5b4ff289aad017cbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NjYxMg==", "bodyText": "Hi, in my opinion, every load choice is related to weight. Can you talk about why it is not needed when using the RoundRobin algorithm?", "url": "https://github.com/apache/dolphinscheduler/pull/3235#discussion_r456766612", "createdAt": "2020-07-18T08:37:13Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/registry/WorkerRegistry.java", "diffHunk": "@@ -152,6 +152,7 @@ public void unRegistry() {\n             // trim and lower case is need\n             workerZkPathBuilder.append(workGroup.trim().toLowerCase()).append(SLASH);\n             workerZkPathBuilder.append(address);\n+            workerZkPathBuilder.append(weight).append(SLASH);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NTQ2OA=="}, "originalCommit": {"oid": "d80129667aaf0378a59a38e5b4ff289aad017cbb"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyMjIyNTYwOnYy", "diffSide": "RIGHT", "path": "docker/build/conf/dolphinscheduler/worker.properties.tpl", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNzozNzoxNFrOG-EIaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNzozNzoxNFrOG-EIaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzczMjU4NA==", "bodyText": "worker.properties  worker.group change to worker.groups", "url": "https://github.com/apache/dolphinscheduler/pull/3235#discussion_r467732584", "createdAt": "2020-08-10T07:37:14Z", "author": {"login": "qiaozhanwei"}, "path": "docker/build/conf/dolphinscheduler/worker.properties.tpl", "diffHunk": "@@ -34,4 +34,7 @@ worker.reserved.memory=${WORKER_RESERVED_MEMORY}\n #worker.listen.port=${WORKER_LISTEN_PORT}\n \n # default worker group\n-#worker.group=${WORKER_GROUP}\n\\ No newline at end of file\n+#worker.group=${WORKER_GROUP}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b508581ff2a36f0a9ffae198af0f8813464fb96d"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3420, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}