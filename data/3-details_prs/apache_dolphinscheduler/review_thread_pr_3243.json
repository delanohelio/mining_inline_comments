{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNDg1MDM5", "number": 3243, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowNzoyMlrOERtPgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowNzo1M1rOERtP4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MDAyNDk5OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowNzoyMlrOG2kFdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMjozMzozNFrOG4KX1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NzUwOA==", "bodyText": "why this condition removed?", "url": "https://github.com/apache/dolphinscheduler/pull/3243#discussion_r459867508", "createdAt": "2020-07-24T06:07:22Z", "author": {"login": "gabrywu"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "diffHunk": "@@ -87,7 +87,7 @@ public SqlTask(TaskExecutionContext taskExecutionContext, Logger logger) {\n         logger.info(\"sql task params {}\", taskExecutionContext.getTaskParams());\n         this.sqlParameters = JSONUtils.parseObject(taskExecutionContext.getTaskParams(), SqlParameters.class);\n \n-        if (!sqlParameters.checkParameters()) {\n+        if (sqlParameters == null || (!sqlParameters.checkParameters())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69ea501f6c223d3a24353eb25b309c6e7c4483a3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDYyODYxNg==", "bodyText": "Which condition was removed? I just added non-empty judgment", "url": "https://github.com/apache/dolphinscheduler/pull/3243#discussion_r460628616", "createdAt": "2020-07-27T03:31:25Z", "author": {"login": "zixi0825"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "diffHunk": "@@ -87,7 +87,7 @@ public SqlTask(TaskExecutionContext taskExecutionContext, Logger logger) {\n         logger.info(\"sql task params {}\", taskExecutionContext.getTaskParams());\n         this.sqlParameters = JSONUtils.parseObject(taskExecutionContext.getTaskParams(), SqlParameters.class);\n \n-        if (!sqlParameters.checkParameters()) {\n+        if (sqlParameters == null || (!sqlParameters.checkParameters())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NzUwOA=="}, "originalCommit": {"oid": "69ea501f6c223d3a24353eb25b309c6e7c4483a3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU0MzM4Mw==", "bodyText": "Non empty verification has been carried out in the API -module\uff0ccheckTaskNodeParameters  method\nAPI \u6a21\u5757 \u91cc\u9762\u5df2\u7ecf\u8fdb\u884c\u975e\u7a7a\u9a8c\u8bc1\uff0ccheckTaskNodeParameters \u65b9\u6cd5", "url": "https://github.com/apache/dolphinscheduler/pull/3243#discussion_r461543383", "createdAt": "2020-07-28T12:33:34Z", "author": {"login": "zhuangchong"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "diffHunk": "@@ -87,7 +87,7 @@ public SqlTask(TaskExecutionContext taskExecutionContext, Logger logger) {\n         logger.info(\"sql task params {}\", taskExecutionContext.getTaskParams());\n         this.sqlParameters = JSONUtils.parseObject(taskExecutionContext.getTaskParams(), SqlParameters.class);\n \n-        if (!sqlParameters.checkParameters()) {\n+        if (sqlParameters == null || (!sqlParameters.checkParameters())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NzUwOA=="}, "originalCommit": {"oid": "69ea501f6c223d3a24353eb25b309c6e7c4483a3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MDAyNTkyOnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowNzo1M1rOG2kF9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwNjowNzo1M1rOG2kF9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTg2NzYzOQ==", "bodyText": "logger.error(\"close result set error: {}\",e.getMessage(),e)    better", "url": "https://github.com/apache/dolphinscheduler/pull/3243#discussion_r459867639", "createdAt": "2020-07-24T06:07:53Z", "author": {"login": "gabrywu"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sql/SqlTask.java", "diffHunk": "@@ -367,33 +367,33 @@ private void close(ResultSet resultSet,\n             try {\n                 resultSet.close();\n             } catch (SQLException e) {\n-\n+                logger.error(\"close result set error :\",e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69ea501f6c223d3a24353eb25b309c6e7c4483a3"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3342, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}