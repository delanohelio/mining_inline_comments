{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MDE2Njgw", "number": 3024, "title": "fix testSqoopTaskTest bug", "bodyText": "Tips\n\nThanks very much for contributing to Apache DolphinScheduler.\nPlease review https://dolphinscheduler.apache.org/en-us/community/index.html before opening a pull request.\n\nWhat is the purpose of the pull request\nWhen I run this single test multiple times locally, the test results sometimes succeed, sometimes fail, this pr fixes this problem. see #2934\nVerify this pull request\nThis pull request is already covered by existing tests, such as (please describe tests).", "createdAt": "2020-06-19T10:17:19Z", "url": "https://github.com/apache/dolphinscheduler/pull/3024", "merged": true, "mergeCommit": {"oid": "4aa1826718a75d9fc7ac948d871732a09abc8b8d"}, "closed": true, "closedAt": "2020-06-19T11:28:12Z", "author": {"login": "CalvinKirs"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcswRjdAH2gAyNDM3MDE2NjgwOjczODMxOTJlM2ZjOTIwM2EyNDczZmUxYmY2YjgzMWQ3M2E4ZDIyYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsxV5egFqTQzNDAwMzE2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7383192e3fc9203a2473fe1bf6b831d73a8d22bf", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/7383192e3fc9203a2473fe1bf6b831d73a8d22bf", "committedDate": "2020-06-19T10:13:22Z", "message": "fix testSqoopTaskTest bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dd6aa959fc7586a2c57b8aa8e4cf47b732f4c65", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/9dd6aa959fc7586a2c57b8aa8e4cf47b732f4c65", "committedDate": "2020-06-19T10:17:28Z", "message": "Merge branch 'dev' into fix_test_error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTc4ODU5", "url": "https://github.com/apache/dolphinscheduler/pull/3024#pullrequestreview-433978859", "createdAt": "2020-06-19T10:43:16Z", "commit": {"oid": "9dd6aa959fc7586a2c57b8aa8e4cf47b732f4c65"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDo0MzoxN1rOGmQa5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDo0MzoxN1rOGmQa5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2ODEwMg==", "bodyText": "why sleep 10000\uff1f", "url": "https://github.com/apache/dolphinscheduler/pull/3024#discussion_r442768102", "createdAt": "2020-06-19T10:43:17Z", "author": {"login": "dailidong"}, "path": "dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/consumer/TaskPriorityQueueConsumerTest.java", "diffHunk": "@@ -232,9 +231,7 @@ public void testSqoopTask() throws Exception {\n         dataSource.setConnectionParams(\"{\\\"address\\\":\\\"jdbc:mysql://192.168.221.185:3306\\\",\\\"database\\\":\\\"dolphinscheduler_qiaozhanwei\\\",\\\"jdbcUrl\\\":\\\"jdbc:mysql://192.168.221.185:3306/dolphinscheduler_qiaozhanwei\\\",\\\"user\\\":\\\"root\\\",\\\"password\\\":\\\"root@123\\\"}\");\n         dataSource.setCreateTime(new Date());\n         dataSource.setUpdateTime(new Date());\n-\n-        Mockito.when(processService.findDataSourceById(1)).thenReturn(dataSource);\n-\n+        Mockito.doReturn(dataSource).when(processService).findDataSourceById(1);\n         Thread.sleep(10000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dd6aa959fc7586a2c57b8aa8e4cf47b732f4c65"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDAzMTY5", "url": "https://github.com/apache/dolphinscheduler/pull/3024#pullrequestreview-434003169", "createdAt": "2020-06-19T11:28:01Z", "commit": {"oid": "9dd6aa959fc7586a2c57b8aa8e4cf47b732f4c65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1840, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}