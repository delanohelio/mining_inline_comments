{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1OTcxMjgz", "number": 2677, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMTowNzowM1rOD7mdUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMTowNzowM1rOD7mdUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzODIyNjczOnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/enums/CommandType.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMTowNzowM1rOGUBgNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxMjowNTo1N1rOGUDXtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY0OTMzNQ==", "bodyText": "do you have better idea? I think the map key will be easy to make wrong with the enum self ,  actually , it write twice now, these number  will be easy to wrong", "url": "https://github.com/apache/dolphinscheduler/pull/2677#discussion_r423649335", "createdAt": "2020-05-12T11:07:03Z", "author": {"login": "dailidong"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/enums/CommandType.java", "diffHunk": "@@ -66,11 +69,26 @@ public String getDescp() {\n         return descp;\n     }\n \n-    public static CommandType of(Integer status){\n-        for(CommandType cmdType : values()){\n-            if(cmdType.getCode() == status){\n-                return cmdType;\n-            }\n+    private static final Map<Integer, CommandType> COMMAND_TYPE_MAP = new HashMap<>();\n+\n+    static {\n+        COMMAND_TYPE_MAP.put(0, START_PROCESS);\n+        COMMAND_TYPE_MAP.put(1, START_CURRENT_TASK_PROCESS);\n+        COMMAND_TYPE_MAP.put(2, RECOVER_TOLERANCE_FAULT_PROCESS);\n+        COMMAND_TYPE_MAP.put(3, RECOVER_SUSPENDED_PROCESS);\n+        COMMAND_TYPE_MAP.put(4, START_FAILURE_TASK_PROCESS);\n+        COMMAND_TYPE_MAP.put(5, COMPLEMENT_DATA);\n+        COMMAND_TYPE_MAP.put(6, SCHEDULER);\n+        COMMAND_TYPE_MAP.put(7, REPEAT_RUNNING);\n+        COMMAND_TYPE_MAP.put(8, PAUSE);\n+        COMMAND_TYPE_MAP.put(9, STOP);\n+        COMMAND_TYPE_MAP.put(10, RECOVER_WAITTING_THREAD);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0de5d0ffebef233ee6de0024f27a7de09cb7a97e"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY3OTkyNQ==", "bodyText": "do you have better idea? I think the map key will be easy to make wrong with the enum self , actually , it write twice now, these number will be easy to wrong\n\nI have completed the change, please review", "url": "https://github.com/apache/dolphinscheduler/pull/2677#discussion_r423679925", "createdAt": "2020-05-12T12:05:57Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/enums/CommandType.java", "diffHunk": "@@ -66,11 +69,26 @@ public String getDescp() {\n         return descp;\n     }\n \n-    public static CommandType of(Integer status){\n-        for(CommandType cmdType : values()){\n-            if(cmdType.getCode() == status){\n-                return cmdType;\n-            }\n+    private static final Map<Integer, CommandType> COMMAND_TYPE_MAP = new HashMap<>();\n+\n+    static {\n+        COMMAND_TYPE_MAP.put(0, START_PROCESS);\n+        COMMAND_TYPE_MAP.put(1, START_CURRENT_TASK_PROCESS);\n+        COMMAND_TYPE_MAP.put(2, RECOVER_TOLERANCE_FAULT_PROCESS);\n+        COMMAND_TYPE_MAP.put(3, RECOVER_SUSPENDED_PROCESS);\n+        COMMAND_TYPE_MAP.put(4, START_FAILURE_TASK_PROCESS);\n+        COMMAND_TYPE_MAP.put(5, COMPLEMENT_DATA);\n+        COMMAND_TYPE_MAP.put(6, SCHEDULER);\n+        COMMAND_TYPE_MAP.put(7, REPEAT_RUNNING);\n+        COMMAND_TYPE_MAP.put(8, PAUSE);\n+        COMMAND_TYPE_MAP.put(9, STOP);\n+        COMMAND_TYPE_MAP.put(10, RECOVER_WAITTING_THREAD);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY0OTMzNQ=="}, "originalCommit": {"oid": "0de5d0ffebef233ee6de0024f27a7de09cb7a97e"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3517, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}