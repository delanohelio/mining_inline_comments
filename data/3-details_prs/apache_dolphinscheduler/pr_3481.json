{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MjExNTA1", "number": 3481, "title": "[Improvement-3471][common] JSONUtils.toMap It is not necessary to check whether the JSON method is empty again. #3471", "bodyText": "What is the purpose of the pull request\n1.JSONUtils.toMap (string JSON) the JSON has been checked for null in the (string JSON) method. There is no need to call the method again to check whether the parameter is empty.\nBrief change log\n1.JSONUtils.toMap Method parameters have been checked empty\nif (StringUtils.isEmpty(json)) {\n            return null;\n        }\n\nDataSourceService\n        if (other != null && !\"\".equals(other)) {\t\n            Map<String, String> map = JSONUtils.toMap(other);\t\n            if (map.size() > 0) {\n              ....\n            }\n        }\n\nVerify this pull request\nThis pull request is code cleanup without any test coverage.\n\n\u62c9\u53d6\u8bf7\u6c42\u7684\u76ee\u7684\u662f\u4ec0\u4e48\n1.JSONUtils.toMap\uff08String json\uff09\u65b9\u6cd5\u5185\u90e8\u5df2\u7ecf\u5bf9json\u6821\u9a8c\u7a7a\uff0c\u6ca1\u6709\u5fc5\u8981\u518d\u8c03\u7528\u65b9\u6cd5\u662f\u518d\u6b21\u6821\u9a8c\u53c2\u6570\u662f\u5426\u4e3a\u7a7a\u3002\n\u7b80\u8981\u53d8\u66f4\u65e5\u5fd7\n1.JSONUtils.toMap \u65b9\u6cd5\u5185 \u53c2\u6570\u5df2\u7ecf\u6821\u9a8c\u7a7a\nif (StringUtils.isEmpty(json)) {\n            return null;\n        }\n\nDataSourceService\n        if (other != null && !\"\".equals(other)) {\t\n            Map<String, String> map = JSONUtils.toMap(other);\t\n            if (map.size() > 0) {\n              ....\n            }\n        }\n\n\u9a8c\u8bc1\u6b64\u8bf7\u6c42\n\u8fd9\u4e2a\u8bf7\u6c42\u662f\u4ee3\u7801\u6e05\u7406\uff0c\u6ca1\u6709\u4efb\u4f55\u6d4b\u8bd5\u8986\u76d6\u3002", "createdAt": "2020-08-13T07:47:35Z", "url": "https://github.com/apache/dolphinscheduler/pull/3481", "merged": true, "mergeCommit": {"oid": "3c89c9ad74e55e3aca1a36a4341202e31ceecbf7"}, "closed": true, "closedAt": "2020-11-18T06:30:30Z", "author": {"login": "zhuangchong"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-CYasAH2gAyNDY3MjExNTA1OjVlMmQzZjBlN2EzYWM5MDdmZDgwOTNmNjgxODU2ZThkMTJhZmJmOTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddoLjwAFqTUzMzEzNjU1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e2d3f0e7a3ac907fd8093f681856e8d12afbf96", "author": {"user": null}, "url": "https://github.com/apache/dolphinscheduler/commit/5e2d3f0e7a3ac907fd8093f681856e8d12afbf96", "committedDate": "2020-08-12T02:55:52Z", "message": "JSONUtils.toMap call improvement."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90a2e613fdbbb5609aa520a139050a7584f80bb2", "author": {"user": null}, "url": "https://github.com/apache/dolphinscheduler/commit/90a2e613fdbbb5609aa520a139050a7584f80bb2", "committedDate": "2020-08-13T07:21:51Z", "message": "Merge branch 'dev' into dev-imp-common-jsonutilstomap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7de42dce2c29c3c93188a09b96f7c03d8bd491c0", "author": {"user": null}, "url": "https://github.com/apache/dolphinscheduler/commit/7de42dce2c29c3c93188a09b96f7c03d8bd491c0", "committedDate": "2020-08-13T08:08:37Z", "message": "ProcessService if code clearup."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NjI2MTE1", "url": "https://github.com/apache/dolphinscheduler/pull/3481#pullrequestreview-466626115", "createdAt": "2020-08-13T10:12:03Z", "commit": {"oid": "7de42dce2c29c3c93188a09b96f7c03d8bd491c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b7ddd9e95b78f773516d9d87b9215677a226bd4", "author": {"user": null}, "url": "https://github.com/apache/dolphinscheduler/commit/0b7ddd9e95b78f773516d9d87b9215677a226bd4", "committedDate": "2020-09-07T11:16:01Z", "message": "Resolve code conflicts."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzEyMDEz", "url": "https://github.com/apache/dolphinscheduler/pull/3481#pullrequestreview-506312013", "createdAt": "2020-10-12T06:01:00Z", "commit": {"oid": "7de42dce2c29c3c93188a09b96f7c03d8bd491c0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjowMTowMFrOHfwCtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjowMTowMFrOHfwCtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1NTAyOA==", "bodyText": "return map==null?null: map.get(\"access_token\")", "url": "https://github.com/apache/dolphinscheduler/pull/3481#discussion_r503055028", "createdAt": "2020-10-12T06:01:00Z", "author": {"login": "gabrywu"}, "path": "dolphinscheduler-alert/src/main/java/org/apache/dolphinscheduler/alert/utils/EnterpriseWeChatUtils.java", "diffHunk": "@@ -101,11 +101,10 @@ public static String getToken() throws IOException {\n             }\n \n             Map<String, String> map = JSONUtils.toMap(resp);\n-            if (map != null) {\n-                return map.get(\"access_token\");\n-            } else {\n+            if (map == null) {\n                 return null;\n             }\n+            return map.get(\"access_token\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7de42dce2c29c3c93188a09b96f7c03d8bd491c0"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d490c21f2d50aff0a6ff8df1afd642c6f9f3d31f", "author": {"user": {"login": "zhuangchong", "name": "Kerwin"}}, "url": "https://github.com/apache/dolphinscheduler/commit/d490c21f2d50aff0a6ff8df1afd642c6f9f3d31f", "committedDate": "2020-10-14T11:10:32Z", "message": "Resolve code conflicts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44fcb75701b032754754f6e8c636ad0536e02c37", "author": {"user": {"login": "zhuangchong", "name": "Kerwin"}}, "url": "https://github.com/apache/dolphinscheduler/commit/44fcb75701b032754754f6e8c636ad0536e02c37", "committedDate": "2020-10-14T11:12:34Z", "message": "Resolve code conflicts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "724c2a000f662a03882411d03a15cca7f78d11fe", "author": {"user": {"login": "zhuangchong", "name": "Kerwin"}}, "url": "https://github.com/apache/dolphinscheduler/commit/724c2a000f662a03882411d03a15cca7f78d11fe", "committedDate": "2020-10-14T11:23:25Z", "message": "Resolve code conflicts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ef310aac403088a6902100720edd5b849b9b68d", "author": {"user": {"login": "zhuangchong", "name": "Kerwin"}}, "url": "https://github.com/apache/dolphinscheduler/commit/2ef310aac403088a6902100720edd5b849b9b68d", "committedDate": "2020-10-14T11:26:45Z", "message": "Resolve code conflicts."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MTU5MTMz", "url": "https://github.com/apache/dolphinscheduler/pull/3481#pullrequestreview-524159133", "createdAt": "2020-11-05T11:15:34Z", "commit": {"oid": "2ef310aac403088a6902100720edd5b849b9b68d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMTM2NTU2", "url": "https://github.com/apache/dolphinscheduler/pull/3481#pullrequestreview-533136556", "createdAt": "2020-11-18T06:29:52Z", "commit": {"oid": "2ef310aac403088a6902100720edd5b849b9b68d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1743, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}