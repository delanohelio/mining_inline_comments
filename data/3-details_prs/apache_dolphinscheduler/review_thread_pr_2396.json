{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzY0NTA4", "number": 2396, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1NDoxMVrODwxO7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1NDoxMVrODwxO7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNDY0ODc5OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/ExecutorService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1NDoxMVrOGD8uMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQwNTowNTo1MFrOGESRpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5Mzc3Ng==", "bodyText": "method name called updateProcessInstanceState maybe better\uff1f because changed the database state\uff0chow do you think ?", "url": "https://github.com/apache/dolphinscheduler/pull/2396#discussion_r406793776", "createdAt": "2020-04-10T14:54:11Z", "author": {"login": "dailidong"}, "path": "dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/ExecutorService.java", "diffHunk": "@@ -308,22 +302,27 @@ private boolean checkTenantSuitable(ProcessDefinition processDefinition) {\n     }\n \n     /**\n-     * update process instance state\n+     *  prepare to update process instance command type and status\n      *\n-     * @param processInstanceId process instance id\n+     * @param processInstance process instance\n+     * @param commandType command type\n      * @param executionStatus execute status\n      * @return update result\n      */\n-    private Map<String, Object> updateProcessInstanceState(Integer processInstanceId, ExecutionStatus executionStatus) {\n+    private Map<String, Object> updateProcessInstancePrepare(ProcessInstance processInstance, CommandType commandType, ExecutionStatus executionStatus) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9eb134d6829159ccfe9d973017336cb78ebfd7a"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE0NjkxNw==", "bodyText": "OK\uff0ci agree", "url": "https://github.com/apache/dolphinscheduler/pull/2396#discussion_r407146917", "createdAt": "2020-04-12T05:05:50Z", "author": {"login": "songquanhe-gitstudy"}, "path": "dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/ExecutorService.java", "diffHunk": "@@ -308,22 +302,27 @@ private boolean checkTenantSuitable(ProcessDefinition processDefinition) {\n     }\n \n     /**\n-     * update process instance state\n+     *  prepare to update process instance command type and status\n      *\n-     * @param processInstanceId process instance id\n+     * @param processInstance process instance\n+     * @param commandType command type\n      * @param executionStatus execute status\n      * @return update result\n      */\n-    private Map<String, Object> updateProcessInstanceState(Integer processInstanceId, ExecutionStatus executionStatus) {\n+    private Map<String, Object> updateProcessInstancePrepare(ProcessInstance processInstance, CommandType commandType, ExecutionStatus executionStatus) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5Mzc3Ng=="}, "originalCommit": {"oid": "b9eb134d6829159ccfe9d973017336cb78ebfd7a"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3527, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}