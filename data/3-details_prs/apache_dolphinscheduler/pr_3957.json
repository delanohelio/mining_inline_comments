{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2NzEzMjk5", "number": 3957, "title": "[Fix-#3956][Master] When running a task, the resource file is lost", "bodyText": "When running a shell task, the resource file is lost, which results in an error\nthis close #3956\nTaskParams\nTaskparams does not have a resourcelist. When converting, the content of resourcelist will be lost\nNot only shell tasks, param parameters in other task types may be overridden\nThe code is as follows:\nVarPoolUtils#setTaskNodeLocalParams\n/**\n     * setTaskNodeLocalParams\n     * @param taskNode taskNode\n     * @param prop LocalParamName\n     * @param value LocalParamValue\n     */\n    public static void setTaskNodeLocalParams(TaskNode taskNode, String prop, Object value) {\n        String taskParamsJson = taskNode.getParams();\n        TaskParams taskParams = JSONUtils.parseObject(taskParamsJson, TaskParams.class);\n        if (taskParams == null) {\n            return;\n        }\n        taskParams.setLocalParamValue(prop, value);\n        taskNode.setParams(JSONUtils.toJsonString(taskParams));\n    }", "createdAt": "2020-10-20T11:27:54Z", "url": "https://github.com/apache/dolphinscheduler/pull/3957", "merged": true, "mergeCommit": {"oid": "05b248f8e3323434c83851d26b1fcf6dc61eef4e"}, "closed": true, "closedAt": "2020-10-24T09:50:33Z", "author": {"login": "BoYiZhang"}, "timelineItems": {"totalCount": 57, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwDZMkgH2gAyNTA2NzEzMjk5OmQ2MmM5OGUzZGRmODNlOTI4ZDNmZjljZWRkOGEyNmIyYmY2ZmIyYzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVoEIzAFqTUxNjI2NTE3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d62c98e3ddf83e928d3ff9cedd8a26b2bf6fb2c7", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/d62c98e3ddf83e928d3ff9cedd8a26b2bf6fb2c7", "committedDate": "2020-06-29T16:11:41Z", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c059f98881c3e508398725b03b000c0c43d64c2", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/2c059f98881c3e508398725b03b000c0c43d64c2", "committedDate": "2020-06-29T16:23:09Z", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc98ab525f32e522b288763afaa482ac2a180d7d", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/bc98ab525f32e522b288763afaa482ac2a180d7d", "committedDate": "2020-06-30T10:02:04Z", "message": "fix bug\n\nDelete invalid field: executorcores\n\nModify verification prompt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fdb8a26e295e856629a8f3273f0913d0a97b4c3", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/1fdb8a26e295e856629a8f3273f0913d0a97b4c3", "committedDate": "2020-06-30T10:05:19Z", "message": "Merge pull request #1 from apache/dev\n\nupdate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fec36c129166640b0dccf9cf0ef196ec042a5ca", "author": {"user": {"login": "dailidong", "name": "lidongdai"}}, "url": "https://github.com/apache/dolphinscheduler/commit/5fec36c129166640b0dccf9cf0ef196ec042a5ca", "committedDate": "2020-07-04T08:19:53Z", "message": "Merge branch 'dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d01a10379e3f70db401860b14ecb628eff83847", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/9d01a10379e3f70db401860b14ecb628eff83847", "committedDate": "2020-07-05T04:40:58Z", "message": "Merge branch 'dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0332693e4a066441ade16ab65754acd2cbb68913", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/0332693e4a066441ade16ab65754acd2cbb68913", "committedDate": "2020-07-07T09:21:30Z", "message": "Merge branch 'dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "090c32e416fc25f4ab39594af0f8b48a30b136f6", "author": {"user": {"login": "dailidong", "name": "lidongdai"}}, "url": "https://github.com/apache/dolphinscheduler/commit/090c32e416fc25f4ab39594af0f8b48a30b136f6", "committedDate": "2020-07-08T10:19:38Z", "message": "Merge branch 'dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "038beff923be127d7272c56d8999b3568ce9b89c", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/038beff923be127d7272c56d8999b3568ce9b89c", "committedDate": "2020-07-09T06:28:07Z", "message": "dag  add close button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50f33a1bf189eb72453713297c0f7036513c8250", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/50f33a1bf189eb72453713297c0f7036513c8250", "committedDate": "2020-07-09T06:34:21Z", "message": "reset last version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9193ceae5d028d626bc9ddc9a2ae5d9956aa941b", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/9193ceae5d028d626bc9ddc9a2ae5d9956aa941b", "committedDate": "2020-07-09T06:38:23Z", "message": "reset last version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4d76c5d8b45fefeb69abf575ce8d200abc68c65", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/e4d76c5d8b45fefeb69abf575ce8d200abc68c65", "committedDate": "2020-07-12T05:59:16Z", "message": "Merge branch 'dev' of https://github.com/BoYiZhang/incubator-dolphinscheduler into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fc814459f4eb4bd2fdb2cfe8c25a678937bf2ad", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/4fc814459f4eb4bd2fdb2cfe8c25a678937bf2ad", "committedDate": "2020-07-12T06:00:58Z", "message": "dag add close buttion\n\ndag add close buttion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "259a644c7f66205ad5a98bea23de690a1e6c05d9", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/259a644c7f66205ad5a98bea23de690a1e6c05d9", "committedDate": "2020-07-12T06:01:16Z", "message": "Merge branch 'dev' of https://github.com/BoYiZhang/incubator-dolphinscheduler into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7949b672ccd5d999168ec4fcaa231fd020b10650", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/7949b672ccd5d999168ec4fcaa231fd020b10650", "committedDate": "2020-07-13T01:47:03Z", "message": "Merge pull request #1 from apache/dev\n\nupdate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bf187ce389d9d56291cf2be7958c1a1433fef50", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/4bf187ce389d9d56291cf2be7958c1a1433fef50", "committedDate": "2020-07-13T03:08:41Z", "message": "update  CLICK_SAVE_WORKFLOW_BUTTON  xpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ccb35570496b3c280f17a5815302164bf44f6ac", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/3ccb35570496b3c280f17a5815302164bf44f6ac", "committedDate": "2020-07-13T03:39:07Z", "message": "Merge remote-tracking branch 'origin/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16a47357d09f4071bc85388e5e5b2cc3483b456b", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/16a47357d09f4071bc85388e5e5b2cc3483b456b", "committedDate": "2020-07-13T03:40:01Z", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6bd0e3aab09639c6fe162a398be6336f6f316ca", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/e6bd0e3aab09639c6fe162a398be6336f6f316ca", "committedDate": "2020-07-13T03:46:56Z", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c41fbe41d8a353e0155d0f64326dc98f5d08569", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/3c41fbe41d8a353e0155d0f64326dc98f5d08569", "committedDate": "2020-07-13T04:06:10Z", "message": "updae CLICK_SAVE_WORKFLOW_BUTTON xpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a3df2e7439fdac3c326f5d2d3c667b5a96b2fc1", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/5a3df2e7439fdac3c326f5d2d3c667b5a96b2fc1", "committedDate": "2020-07-13T05:03:15Z", "message": "Update CreateWorkflowLocator.java\n\nmodify submit workflow button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "290d22d631740f2c87713a7995b99ad0f45d42e1", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/290d22d631740f2c87713a7995b99ad0f45d42e1", "committedDate": "2020-07-13T05:19:07Z", "message": "Update CreateWorkflowLocator.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19462dd13c428487f9326d7a05fbe4603f1c6e4a", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/19462dd13c428487f9326d7a05fbe4603f1c6e4a", "committedDate": "2020-07-13T05:27:24Z", "message": "Update CreateWorkflowLocator.java\n\nmodify CLICK_ADD_BUTTON"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "295aeadc039a8af6b787f39699ef49bf76f7193a", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/295aeadc039a8af6b787f39699ef49bf76f7193a", "committedDate": "2020-07-13T05:45:34Z", "message": "Update CreateWorkflowLocator.java\n\ndelete print"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89ec91187b42fcb6cafef312064c5e705609462b", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/89ec91187b42fcb6cafef312064c5e705609462b", "committedDate": "2020-07-13T05:50:06Z", "message": "Update CreateWorkflowLocator.java\n\n1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7b87fa0d88f8c3d5488d74272cc4a13f9b92441", "author": {"user": {"login": "xingchun-chen", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/c7b87fa0d88f8c3d5488d74272cc4a13f9b92441", "committedDate": "2020-07-13T08:35:37Z", "message": "Update CreateWorkflowLocator.java\n\n1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a2cba7a14b1dcf8325dab6fb1bfaa5840eae0fd", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/3a2cba7a14b1dcf8325dab6fb1bfaa5840eae0fd", "committedDate": "2020-07-13T09:13:52Z", "message": "Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e64eab9b373f5948a2b82dbb1c17a0a16f4a5e", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/15e64eab9b373f5948a2b82dbb1c17a0a16f4a5e", "committedDate": "2020-07-13T09:16:18Z", "message": "Update dag.vue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f22adad80961019c3dde7a3d0f9571aa6826cc36", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/f22adad80961019c3dde7a3d0f9571aa6826cc36", "committedDate": "2020-07-13T12:30:17Z", "message": "Update dag.vue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0ba1dc2e56cd08c435ea06b70aa0d677a4a1e4a", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/c0ba1dc2e56cd08c435ea06b70aa0d677a4a1e4a", "committedDate": "2020-07-13T13:00:27Z", "message": "Update dag.vue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2fab5701f66087055856011520295381bdf379e", "author": {"user": {"login": "dailidong", "name": "lidongdai"}}, "url": "https://github.com/apache/dolphinscheduler/commit/b2fab5701f66087055856011520295381bdf379e", "committedDate": "2020-07-13T14:52:37Z", "message": "Update CreateWorkflowLocator.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49f3398594e4339cf812703ae30ea74cc61c74c9", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/49f3398594e4339cf812703ae30ea74cc61c74c9", "committedDate": "2020-07-14T00:59:45Z", "message": "Merge remote-tracking branch 'origin/dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06404f56fd042a862961d1c74d0d015369c8a467", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/06404f56fd042a862961d1c74d0d015369c8a467", "committedDate": "2020-07-14T01:02:43Z", "message": "Revert \"Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\"\n\nThis reverts commit 3a2cba7a"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b21aca8e0077aca284d4e2dd0bd15089e97bb07f", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/b21aca8e0077aca284d4e2dd0bd15089e97bb07f", "committedDate": "2020-07-14T14:00:34Z", "message": "Merge pull request #2 from apache/dev\n\nupadtecode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deb19ee8a31dc3c18d884ecf2ce07601a5098391", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/deb19ee8a31dc3c18d884ecf2ce07601a5098391", "committedDate": "2020-07-14T14:29:22Z", "message": "Setting '-XX:+DisableExplicitGC ' causes netty memory leaks\n\nin addition\n\nupdate '- XX: largepagesizeinbytes = 128M' to '- XX: largepagesizeinbytes = 10M'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a655e1c3c5539a8ae41d8c9b9f570b8d509605d4", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/a655e1c3c5539a8ae41d8c9b9f570b8d509605d4", "committedDate": "2020-07-15T02:51:09Z", "message": "Merge pull request #3 from apache/dev\n\nupdate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3823a081bd36a8c626312e2d749121289e3f189b", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/3823a081bd36a8c626312e2d749121289e3f189b", "committedDate": "2020-07-18T02:36:52Z", "message": "Merge branch 'dev' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b11714ba73cd680a0111b35cbb92164449699284", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/b11714ba73cd680a0111b35cbb92164449699284", "committedDate": "2020-07-19T13:47:43Z", "message": "Update dolphinscheduler-daemon.sh"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e11365b6a4cca918950359e2d7faa2b91e325eb", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/0e11365b6a4cca918950359e2d7faa2b91e325eb", "committedDate": "2020-08-07T03:07:12Z", "message": "Merge pull request #7 from apache/dev\n\nupdate code from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d329914aa605086305ada6219f3117f21e941cbb", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/d329914aa605086305ada6219f3117f21e941cbb", "committedDate": "2020-08-13T03:49:54Z", "message": "Merge pull request #8 from apache/dev\n\nupdate code from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7cbfb1436c5ee630eda982e1c9a63af269bfd45", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/a7cbfb1436c5ee630eda982e1c9a63af269bfd45", "committedDate": "2020-08-15T15:40:40Z", "message": "Merge pull request #9 from apache/dev\n\nupdate code from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3666f3fb4401b785a2c6aeb39121004fc7e5884", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/c3666f3fb4401b785a2c6aeb39121004fc7e5884", "committedDate": "2020-09-04T01:40:58Z", "message": "Merge pull request #12 from apache/dev\n\nupdate data code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dffcf1e5bffba7affca9d363c1f89b22b2ea35b5", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/dffcf1e5bffba7affca9d363c1f89b22b2ea35b5", "committedDate": "2020-09-10T07:09:23Z", "message": "Merge pull request #13 from apache/dev\n\nupdate code from ds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a26724cebb4ea44c57e15885746837b55d88704c", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/a26724cebb4ea44c57e15885746837b55d88704c", "committedDate": "2020-09-15T10:37:59Z", "message": "Merge pull request #14 from apache/dev\n\nupdate from code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ea402252a817e92d105a586d9c9f73f9058c415", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/5ea402252a817e92d105a586d9c9f73f9058c415", "committedDate": "2020-09-21T03:43:53Z", "message": "Merge pull request #15 from apache/dev\n\nupdate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5480a6523b065688f0115aacb6071a8ae3f2d70b", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/5480a6523b065688f0115aacb6071a8ae3f2d70b", "committedDate": "2020-09-28T03:18:55Z", "message": "Merge pull request #16 from apache/dev\n\nupdate code from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "622bce603ab1ee08220428fdcb37e9bab2a944f0", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/622bce603ab1ee08220428fdcb37e9bab2a944f0", "committedDate": "2020-10-14T07:52:27Z", "message": "Merge pull request #19 from apache/dev\n\nupdate code from apa"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65216016ca29c1df158c0f8883a00090dd1f9a06", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/65216016ca29c1df158c0f8883a00090dd1f9a06", "committedDate": "2020-10-17T07:01:11Z", "message": "Merge pull request #20 from apache/dev\n\nupdate from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f817f2acdcf22dfc1895a9caa877f8cc7c489da", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/5f817f2acdcf22dfc1895a9caa877f8cc7c489da", "committedDate": "2020-10-20T11:14:42Z", "message": "Merge pull request #21 from apache/dev\n\nupdate code from apache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc565813efb1d46a79ee460ef715244c6d60f7b9", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/fc565813efb1d46a79ee460ef715244c6d60f7b9", "committedDate": "2020-10-20T11:25:14Z", "message": "When running a task, the resource file is lost, which results in an error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aace5517820f47657e27c888de816beec6f5e728", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/aace5517820f47657e27c888de816beec6f5e728", "committedDate": "2020-10-20T12:15:23Z", "message": "When running a task, the resource file is lost, which results in an error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef6cc62b96b819101cbd2b5fdf3d56ff96a86712", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/ef6cc62b96b819101cbd2b5fdf3d56ff96a86712", "committedDate": "2020-10-20T12:20:01Z", "message": "When running a task, the resource file is lost, which results in an error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48177b650eae261348eb1b43d3ea1518f8f7d48d", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/48177b650eae261348eb1b43d3ea1518f8f7d48d", "committedDate": "2020-10-20T12:26:09Z", "message": "When running a task, the resource file is lost, which results in an error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3", "author": {"user": {"login": "BoYiZhang", "name": null}}, "url": "https://github.com/apache/dolphinscheduler/commit/7dd717af16f374c217f956b7c55d19161580dbd3", "committedDate": "2020-10-21T15:32:22Z", "message": "When running a task, the resource file is lost, which results in an error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MjEyNzM0", "url": "https://github.com/apache/dolphinscheduler/pull/3957#pullrequestreview-516212734", "createdAt": "2020-10-24T07:56:20Z", "commit": {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MjYzNzg2", "url": "https://github.com/apache/dolphinscheduler/pull/3957#pullrequestreview-516263786", "createdAt": "2020-10-24T09:24:31Z", "commit": {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwOToyNDozMVrOHnq9nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwOToyNDozMVrOHnq9nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTM2MDQxNQ==", "bodyText": "no need to use list", "url": "https://github.com/apache/dolphinscheduler/pull/3957#discussion_r511360415", "createdAt": "2020-10-24T09:24:31Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/utils/VarPoolUtils.java", "diffHunk": "@@ -62,11 +39,20 @@ public static void setTaskNodeLocalParams(TaskNode taskNode, String prop, Object\n      */\n     public static void setTaskNodeLocalParams(TaskNode taskNode, Map<String, Object> propToValue) {\n         String taskParamsJson = taskNode.getParams();\n-        TaskParams taskParams = JSONUtils.parseObject(taskParamsJson, TaskParams.class);\n-        if (taskParams == null) {\n-            return;\n+        Map<String,Object> taskParams = JSONUtils.parseObject(taskParamsJson, HashMap.class);\n+\n+        Object localParamsObject = taskParams.get(LOCALPARAMS);\n+        if (null != localParamsObject && null != propToValue && propToValue.size() > 0) {\n+            ArrayList<Object> localParams = (ArrayList)localParamsObject;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MjY1MTcy", "url": "https://github.com/apache/dolphinscheduler/pull/3957#pullrequestreview-516265172", "createdAt": "2020-10-24T09:50:22Z", "commit": {"oid": "7dd717af16f374c217f956b7c55d19161580dbd3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2338, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}