{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMTY3NTE4", "number": 3415, "title": "[Improvement][server] Fix some sonar analyzed bugs", "bodyText": "fix assert error(assertions always pass) .\nuse AtomicReference to replace unsafe volatile Object\nlazy initialization holder class Singleton...(unsafe volatile Object)\n#3321", "createdAt": "2020-08-05T06:10:00Z", "url": "https://github.com/apache/dolphinscheduler/pull/3415", "merged": true, "mergeCommit": {"oid": "a1ce54b8e6b36f915fe73e02a8aa43923e665476"}, "closed": true, "closedAt": "2020-08-19T07:15:29Z", "author": {"login": "CalvinKirs"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7zubWgH2gAyNDYzMTY3NTE4OmY1OWFjZDE0MWExODNkNjBlOGJhODEyNDc3ODJkN2RkZjBlYmRiZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAWRoIAFqTQ3MDE4MzUyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f59acd141a183d60e8ba81247782d7ddf0ebdbd7", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/f59acd141a183d60e8ba81247782d7ddf0ebdbd7", "committedDate": "2020-08-05T04:43:29Z", "message": "[FIX_BUG][*]fix sonar bugs\nfix assert error(assertions always pass)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "680d370f1c980ba6cf10817d627f03045d70304d", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/680d370f1c980ba6cf10817d627f03045d70304d", "committedDate": "2020-08-05T04:44:56Z", "message": "fix assert error(assertions always pass)\ninsert data should judging the success status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "494039419aa1e781491881cafa142b9d5c8d9883", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/494039419aa1e781491881cafa142b9d5c8d9883", "committedDate": "2020-08-05T04:51:25Z", "message": "fix assert error(assertions always pass)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ff1e9be3855f1060a567aa2ae3caa743d2486ec", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/4ff1e9be3855f1060a567aa2ae3caa743d2486ec", "committedDate": "2020-08-05T05:01:18Z", "message": "use AtomicReference<Object> to replace unsafe volatile Object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b8df7459da4efc0c8493ebe74d63f834c2d6635", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/3b8df7459da4efc0c8493ebe74d63f834c2d6635", "committedDate": "2020-08-05T05:03:27Z", "message": "use AtomicReference<Object> to replace unsafe volatile Object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1be935e100c0515a8413df69515f9bc594559f84", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/1be935e100c0515a8413df69515f9bc594559f84", "committedDate": "2020-08-05T06:07:39Z", "message": "lazy initialization holder class Singleton..."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNTE5MTMy", "url": "https://github.com/apache/dolphinscheduler/pull/3415#pullrequestreview-461519132", "createdAt": "2020-08-05T10:03:53Z", "commit": {"oid": "1be935e100c0515a8413df69515f9bc594559f84"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMTI1NTUx", "url": "https://github.com/apache/dolphinscheduler/pull/3415#pullrequestreview-462125551", "createdAt": "2020-08-06T01:23:34Z", "commit": {"oid": "1be935e100c0515a8413df69515f9bc594559f84"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMToyMzozNFrOG8f8kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMToyMzozNFrOG8f8kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA5MTE1Mg==", "bodyText": "If the RuntimeException, how the invokers to handle it ?", "url": "https://github.com/apache/dolphinscheduler/pull/3415#discussion_r466091152", "createdAt": "2020-08-06T01:23:34Z", "author": {"login": "gabrywu"}, "path": "dolphinscheduler-dao/src/test/java/org/apache/dolphinscheduler/dao/mapper/ResourceMapperTest.java", "diffHunk": "@@ -76,8 +76,10 @@ private Resource insertOne(){\n         resource.setDirectory(false);\n         resource.setType(ResourceType.FILE);\n         resource.setUserId(111);\n-        resourceMapper.insert(resource);\n-        return resource;\n+        if( resourceMapper.insert(resource)>0 ){\n+            return resource;\n+        }\n+        throw new RuntimeException(\"insert data error\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1be935e100c0515a8413df69515f9bc594559f84"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b691b53b8527376dce9204e20707dcebe8b192", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/b5b691b53b8527376dce9204e20707dcebe8b192", "committedDate": "2020-08-10T11:49:13Z", "message": "reformat code\njudge database operations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba8d552b1af954ed0c1aff8f91e3b2ce440bf317", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/ba8d552b1af954ed0c1aff8f91e3b2ce440bf317", "committedDate": "2020-08-10T12:23:01Z", "message": "reformat code\njudge database operations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3f902734f62626892fb6eb307a81dbcc9c3114c", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/c3f902734f62626892fb6eb307a81dbcc9c3114c", "committedDate": "2020-08-11T01:35:26Z", "message": "revert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44358ee1f0ae37bb7bfc16b972aabfe091d8adb2", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/44358ee1f0ae37bb7bfc16b972aabfe091d8adb2", "committedDate": "2020-08-11T05:36:01Z", "message": "use ThreadLocalRandom to build random numbers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42e7a3a792681c35360ea2ba0c4c8d1522467411", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/42e7a3a792681c35360ea2ba0c4c8d1522467411", "committedDate": "2020-08-12T12:29:36Z", "message": "reform code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cadb5d70fd16ef6d3b6722751d339598f6142d51", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/cadb5d70fd16ef6d3b6722751d339598f6142d51", "committedDate": "2020-08-12T12:44:42Z", "message": "fix dao test error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee71089d259bb13f06792a0c3e2e7e0047ea20c5", "author": {"user": {"login": "CalvinKirs", "name": "Kirs"}}, "url": "https://github.com/apache/dolphinscheduler/commit/ee71089d259bb13f06792a0c3e2e7e0047ea20c5", "committedDate": "2020-08-12T12:46:57Z", "message": "judge database operations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTU4NTIx", "url": "https://github.com/apache/dolphinscheduler/pull/3415#pullrequestreview-470158521", "createdAt": "2020-08-19T06:28:21Z", "commit": {"oid": "ee71089d259bb13f06792a0c3e2e7e0047ea20c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTgzNTI2", "url": "https://github.com/apache/dolphinscheduler/pull/3415#pullrequestreview-470183526", "createdAt": "2020-08-19T07:14:24Z", "commit": {"oid": "ee71089d259bb13f06792a0c3e2e7e0047ea20c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1832, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}