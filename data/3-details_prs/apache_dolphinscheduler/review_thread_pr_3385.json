{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxODE2MTI3", "number": 3385, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwNzo1NToyNFrOEUgSFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOToxMDoyNlrOEVU_Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5OTM1ODkyOnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/entity/TaskInstance.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwNzo1NToyNFrOG6vpoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwNzo1NzoyMlrOG6vtLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1MTI5Ng==", "bodyText": "Why change common.utils.JSONUtils to jackson.annotation.JsonFormat ?", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r464251296", "createdAt": "2020-08-03T07:55:24Z", "author": {"login": "Jave-Chen"}, "path": "dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/entity/TaskInstance.java", "diffHunk": "@@ -16,19 +16,18 @@\n  */\n package org.apache.dolphinscheduler.dao.entity;\n \n-import com.baomidou.mybatisplus.annotation.IdType;\n-import com.baomidou.mybatisplus.annotation.TableField;\n-import com.fasterxml.jackson.annotation.JsonFormat;\n import org.apache.dolphinscheduler.common.enums.ExecutionStatus;\n import org.apache.dolphinscheduler.common.enums.Flag;\n import org.apache.dolphinscheduler.common.enums.Priority;\n import org.apache.dolphinscheduler.common.enums.TaskType;\n import org.apache.dolphinscheduler.common.model.TaskNode;\n-import org.apache.dolphinscheduler.common.utils.*;\n+import org.apache.dolphinscheduler.common.utils.JSONUtils;\n+\n import com.baomidou.mybatisplus.annotation.IdType;\n+import com.baomidou.mybatisplus.annotation.TableField;\n import com.baomidou.mybatisplus.annotation.TableId;\n import com.baomidou.mybatisplus.annotation.TableName;\n-import org.apache.dolphinscheduler.common.utils.JSONUtils;\n+import com.fasterxml.jackson.annotation.JsonFormat;\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "630c7873b356b5edb5d5b47ef934536c8a256cb5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1MjIwNQ==", "bodyText": "Why change common.utils.JSONUtils to jackson.annotation.JsonFormat ?\n\nA import auto refactoring happened here.", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r464252205", "createdAt": "2020-08-03T07:57:22Z", "author": {"login": "hsupu"}, "path": "dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/entity/TaskInstance.java", "diffHunk": "@@ -16,19 +16,18 @@\n  */\n package org.apache.dolphinscheduler.dao.entity;\n \n-import com.baomidou.mybatisplus.annotation.IdType;\n-import com.baomidou.mybatisplus.annotation.TableField;\n-import com.fasterxml.jackson.annotation.JsonFormat;\n import org.apache.dolphinscheduler.common.enums.ExecutionStatus;\n import org.apache.dolphinscheduler.common.enums.Flag;\n import org.apache.dolphinscheduler.common.enums.Priority;\n import org.apache.dolphinscheduler.common.enums.TaskType;\n import org.apache.dolphinscheduler.common.model.TaskNode;\n-import org.apache.dolphinscheduler.common.utils.*;\n+import org.apache.dolphinscheduler.common.utils.JSONUtils;\n+\n import com.baomidou.mybatisplus.annotation.IdType;\n+import com.baomidou.mybatisplus.annotation.TableField;\n import com.baomidou.mybatisplus.annotation.TableId;\n import com.baomidou.mybatisplus.annotation.TableName;\n-import org.apache.dolphinscheduler.common.utils.JSONUtils;\n+import com.fasterxml.jackson.annotation.JsonFormat;\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1MTI5Ng=="}, "originalCommit": {"oid": "630c7873b356b5edb5d5b47ef934536c8a256cb5"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5OTQxMDU3OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODoxMjoyNlrOG6wIng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMzo1NzoxMFrOG75QSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1OTIzMA==", "bodyText": "Hi,\nGood job, but there is no necessary to add the FLOWNODE_RUN_FLAG_NORMAL in Constants just for test case.\nIf you want to add the constant, you can directly add FLOWNODE_RUN_FLAG_NORMAL in ConditionsTaskTest", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r464259230", "createdAt": "2020-08-03T08:12:26Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java", "diffHunk": "@@ -391,7 +391,12 @@ private Constants() {\n     public static final int RPC_PORT = 50051;\n \n     /**\n-     * forbid running task\n+     * task can be run normally\n+     */\n+    public static final String FLOWNODE_RUN_FLAG_NORMAL = \"NORMAL\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "630c7873b356b5edb5d5b47ef934536c8a256cb5"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ1NzIyNQ==", "bodyText": "I just moved it to the test file by now, but I think it should be a constant for \"NORMAL\" in common/Constants.java for use in future.", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r465457225", "createdAt": "2020-08-05T03:57:10Z", "author": {"login": "hsupu"}, "path": "dolphinscheduler-common/src/main/java/org/apache/dolphinscheduler/common/Constants.java", "diffHunk": "@@ -391,7 +391,12 @@ private Constants() {\n     public static final int RPC_PORT = 50051;\n \n     /**\n-     * forbid running task\n+     * task can be run normally\n+     */\n+    public static final String FLOWNODE_RUN_FLAG_NORMAL = \"NORMAL\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI1OTIzMA=="}, "originalCommit": {"oid": "630c7873b356b5edb5d5b47ef934536c8a256cb5"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5OTQ2OTE5OnYy", "diffSide": "RIGHT", "path": "dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/ConditionsTaskTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODozMDoyOFrOG6wrzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODozMDoyOFrOG6wrzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI2ODIzOQ==", "bodyText": "Hi,\nI checkout to your branch and found that the ConditionsTaskTest.java is not in the test case includer.\nPlease add the test to root pom.", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r464268239", "createdAt": "2020-08-03T08:30:28Z", "author": {"login": "yangyichao-mango"}, "path": "dolphinscheduler-server/src/test/java/org/apache/dolphinscheduler/server/master/ConditionsTaskTest.java", "diffHunk": "@@ -17,7 +17,16 @@\n package org.apache.dolphinscheduler.server.master;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "630c7873b356b5edb5d5b47ef934536c8a256cb5"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzk5MzgzOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOToxMDoyNlrOG8BEwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwOTo1NDowOVrOG8Cl6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU4NTM0NQ==", "bodyText": "Please revert the changes and just add your test.", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r465585345", "createdAt": "2020-08-05T09:10:26Z", "author": {"login": "yangyichao-mango"}, "path": "pom.xml", "diffHunk": "@@ -783,12 +783,38 @@\n                         <include>**/common/utils/RetryerUtilsTest.java</include>\n                         <include>**/common/plugin/FilePluginManagerTest</include>\n                         <include>**/common/plugin/PluginClassLoaderTest</include>\n+                        <include>**/dao/AlertDaoTest.java</include>\n+                        <include>**/dao/datasource/OracleDataSourceTest.java</include>\n+                        <include>**/dao/datasource/HiveDataSourceTest.java</include>\n+                        <!--<include>**/dao/entity/ProcessDefinitionTest.java</include>-->\n+                        <include>**/dao/entity/TaskInstanceTest.java</include>\n+                        <include>**/dao/entity/UdfFuncTest.java</include>\n                         <include>**/dao/mapper/AccessTokenMapperTest.java</include>\n                         <include>**/dao/mapper/AlertGroupMapperTest.java</include>\n                         <include>**/dao/mapper/CommandMapperTest.java</include>\n                         <include>**/dao/mapper/ConnectionFactoryTest.java</include>\n                         <include>**/dao/mapper/DataSourceMapperTest.java</include>\n-                        <include>**/dao/entity/UdfFuncTest.java</include>\n+                        <include>**/dao/mapper/DataSourceUserMapperTest.java</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "443cf37adf47c4a44dc6dcdd13ba04e32c8f87e9"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTYxMDIxNg==", "bodyText": "done. and you may wannt to know that there're two parts for /dao here and the dao/entity/ProcessDefinitionTest is missing.", "url": "https://github.com/apache/dolphinscheduler/pull/3385#discussion_r465610216", "createdAt": "2020-08-05T09:54:09Z", "author": {"login": "hsupu"}, "path": "pom.xml", "diffHunk": "@@ -783,12 +783,38 @@\n                         <include>**/common/utils/RetryerUtilsTest.java</include>\n                         <include>**/common/plugin/FilePluginManagerTest</include>\n                         <include>**/common/plugin/PluginClassLoaderTest</include>\n+                        <include>**/dao/AlertDaoTest.java</include>\n+                        <include>**/dao/datasource/OracleDataSourceTest.java</include>\n+                        <include>**/dao/datasource/HiveDataSourceTest.java</include>\n+                        <!--<include>**/dao/entity/ProcessDefinitionTest.java</include>-->\n+                        <include>**/dao/entity/TaskInstanceTest.java</include>\n+                        <include>**/dao/entity/UdfFuncTest.java</include>\n                         <include>**/dao/mapper/AccessTokenMapperTest.java</include>\n                         <include>**/dao/mapper/AlertGroupMapperTest.java</include>\n                         <include>**/dao/mapper/CommandMapperTest.java</include>\n                         <include>**/dao/mapper/ConnectionFactoryTest.java</include>\n                         <include>**/dao/mapper/DataSourceMapperTest.java</include>\n-                        <include>**/dao/entity/UdfFuncTest.java</include>\n+                        <include>**/dao/mapper/DataSourceUserMapperTest.java</include>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU4NTM0NQ=="}, "originalCommit": {"oid": "443cf37adf47c4a44dc6dcdd13ba04e32c8f87e9"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3379, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}