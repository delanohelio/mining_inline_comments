{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3MDg1OTQx", "number": 4036, "title": "[FIX-4034][server] fix sqoop import fail", "bodyText": "What is the purpose of the pull request\nfix #4034 sqoop query import fail and optimize hard code & code style\nBrief change log\n\nAdd SqoopConstants class to store sqoop task constants\nRemove hard code in sqoop task\nmodify sqoop query '$CONDITIONS' params\n\nVerify this pull request\nThis change added tests and can be verified as follows:\n\nDS-worker-server/test/sqoop/SqoopTaskTest", "createdAt": "2020-11-07T04:46:25Z", "url": "https://github.com/apache/dolphinscheduler/pull/4036", "merged": true, "mergeCommit": {"oid": "145314b782c765802463031ee3e075de857a823d"}, "closed": true, "closedAt": "2020-11-25T03:11:45Z", "author": {"login": "Eights-Li"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZyJ5GAH2gAyNTE3MDg1OTQxOmNhNzU3OTc4MGE1YzUwNWZiNjA0Yzg1NTdiYjQzYTJiMDgzYjljNmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdf0XXEAFqTUzODA5Nzk5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ca7579780a5c505fb604c8557bb43a2b083b9c6e", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/ca7579780a5c505fb604c8557bb43a2b083b9c6e", "committedDate": "2020-11-06T07:51:24Z", "message": "fix #4043, sqoop import query fail"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d53ca392f751223cb5def2be48c3dc9e4e4e47b2", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/d53ca392f751223cb5def2be48c3dc9e4e4e47b2", "committedDate": "2020-11-07T04:25:31Z", "message": "fix #4043, sqoop task hard code & code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23b1c180c3b0fd6ca3ffa18c968d78a19408cfd", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/e23b1c180c3b0fd6ca3ffa18c968d78a19408cfd", "committedDate": "2020-11-07T15:31:28Z", "message": "add license for SqoopConstants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dedc3c8952caa0c48e10ac8487878828ae6fe543", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/dedc3c8952caa0c48e10ac8487878828ae6fe543", "committedDate": "2020-11-13T08:51:58Z", "message": "add private constructor for SqoopConstants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2391876ae0d4626f8dc12f532a1920a7218e55a", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/e2391876ae0d4626f8dc12f532a1920a7218e55a", "committedDate": "2020-11-13T08:57:52Z", "message": "Merge branch 'dev' of https://github.com/apache/incubator-dolphinscheduler into dev-sqoop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxOTU3MDU3", "url": "https://github.com/apache/dolphinscheduler/pull/4036#pullrequestreview-531957057", "createdAt": "2020-11-17T01:34:54Z", "commit": {"oid": "e2391876ae0d4626f8dc12f532a1920a7218e55a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a46d9353bbeff769928317ba97a35e62f57e3b2", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/9a46d9353bbeff769928317ba97a35e62f57e3b2", "committedDate": "2020-11-20T14:37:25Z", "message": "Merge branch 'dev' of https://github.com/apache/incubator-dolphinscheduler into dev-sqoop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f93a9f6124cdcacd6b64504c2402fc1dff31c256", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/f93a9f6124cdcacd6b64504c2402fc1dff31c256", "committedDate": "2020-11-21T12:54:23Z", "message": "fixed sqoop mysql pwd have special character"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcdde58d2a718a2c73e57d5609e4aa6d5accae5f", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/fcdde58d2a718a2c73e57d5609e4aa6d5accae5f", "committedDate": "2020-11-21T12:57:16Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NDUzOTc2", "url": "https://github.com/apache/dolphinscheduler/pull/4036#pullrequestreview-536453976", "createdAt": "2020-11-23T13:06:10Z", "commit": {"oid": "fcdde58d2a718a2c73e57d5609e4aa6d5accae5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMzowNjoxMVrOH4MoFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMzowNjoxMVrOH4MoFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY4OTE3Mg==", "bodyText": "logger uses static final uniformly", "url": "https://github.com/apache/dolphinscheduler/pull/4036#discussion_r528689172", "createdAt": "2020-11-23T13:06:11Z", "author": {"login": "CalvinKirs"}, "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sqoop/generator/CommonGenerator.java", "diffHunk": "@@ -14,71 +14,72 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n+\n package org.apache.dolphinscheduler.server.worker.task.sqoop.generator;\n \n import org.apache.dolphinscheduler.common.Constants;\n import org.apache.dolphinscheduler.common.process.Property;\n import org.apache.dolphinscheduler.common.task.sqoop.SqoopParameters;\n import org.apache.dolphinscheduler.common.utils.CollectionUtils;\n-import org.apache.dolphinscheduler.common.utils.StringUtils;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n+import org.apache.dolphinscheduler.server.worker.task.sqoop.SqoopConstants;\n \n import java.util.List;\n \n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n /**\n  * common script generator\n  */\n public class CommonGenerator {\n \n-    private Logger logger = LoggerFactory.getLogger(getClass());\n+    private final Logger logger = LoggerFactory.getLogger(getClass());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcdde58d2a718a2c73e57d5609e4aa6d5accae5f"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NTA5NDQw", "url": "https://github.com/apache/dolphinscheduler/pull/4036#pullrequestreview-536509440", "createdAt": "2020-11-23T14:14:42Z", "commit": {"oid": "fcdde58d2a718a2c73e57d5609e4aa6d5accae5f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfc9cc3055526ea9da4a63dcfb72ba09ce34e774", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/dfc9cc3055526ea9da4a63dcfb72ba09ce34e774", "committedDate": "2020-11-25T01:00:19Z", "message": "Merge branch 'dev' of https://github.com/apache/incubator-dolphinscheduler into dev-sqoop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f87fe77c6c0206717bf761a80dc1fb6ddcaa0066", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/f87fe77c6c0206717bf761a80dc1fb6ddcaa0066", "committedDate": "2020-11-25T01:31:54Z", "message": "fix sqoop task log"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26de656d3d1830c773c1766c3ab9a29cc9ecbe67", "author": {"user": {"login": "Eights-Li", "name": "Yelli"}}, "url": "https://github.com/apache/dolphinscheduler/commit/26de656d3d1830c773c1766c3ab9a29cc9ecbe67", "committedDate": "2020-11-25T01:32:32Z", "message": "remove unused constants"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MDk3OTk4", "url": "https://github.com/apache/dolphinscheduler/pull/4036#pullrequestreview-538097998", "createdAt": "2020-11-25T01:49:28Z", "commit": {"oid": "26de656d3d1830c773c1766c3ab9a29cc9ecbe67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2350, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}