{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4ODYwNjMz", "number": 2899, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMDowMDo1NVrOD2mJcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoxNDo0OFrOEEUI1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4NTc0NzA0OnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMDowMDo1NVrOGMa_vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMTo0NToyNVrOGMe6Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY3ODM5OQ==", "bodyText": "exceeds 120 limit.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r415678399", "createdAt": "2020-04-27T10:00:55Z", "author": {"login": "thanujalk"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,85 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +\n+                    \". SkipSignUpCheck flag is set to \" + skipSignUpCheck + \".\");\n         }\n \n         try (CloseableHttpClient httpclient = HttpClientBuilder.create().useSystemProperties().build()) {\n-            JSONObject user = new JSONObject();\n-            user.put(USERNAME, username);\n+            JSONObject userObject = new JSONObject();\n+            userObject.put(USERNAME, user.getUsername());\n \n             JSONArray properties = new JSONArray();\n             JSONObject property = new JSONObject();\n             property.put(\n                     IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.SKIP_SIGN_UP_ENABLE_CHECK);\n             property.put(IdentityManagementEndpointConstants.VALUE, skipSignUpCheck);\n             properties.put(property);\n-            user.put(PROPERTIES, properties);\n+\n+            if (!StringUtils.isBlank(user.getTenantDomain())) {\n+                JSONObject tenantProperty = new JSONObject();\n+                tenantProperty.put(IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.TENANT_DOMAIN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "943b108b9e5b8b224944d3af95fd96872e5291fe"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc0MjU1MA==", "bodyText": "Fixed", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r415742550", "createdAt": "2020-04-27T11:45:25Z", "author": {"login": "mevan-karu"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,85 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +\n+                    \". SkipSignUpCheck flag is set to \" + skipSignUpCheck + \".\");\n         }\n \n         try (CloseableHttpClient httpclient = HttpClientBuilder.create().useSystemProperties().build()) {\n-            JSONObject user = new JSONObject();\n-            user.put(USERNAME, username);\n+            JSONObject userObject = new JSONObject();\n+            userObject.put(USERNAME, user.getUsername());\n \n             JSONArray properties = new JSONArray();\n             JSONObject property = new JSONObject();\n             property.put(\n                     IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.SKIP_SIGN_UP_ENABLE_CHECK);\n             property.put(IdentityManagementEndpointConstants.VALUE, skipSignUpCheck);\n             properties.put(property);\n-            user.put(PROPERTIES, properties);\n+\n+            if (!StringUtils.isBlank(user.getTenantDomain())) {\n+                JSONObject tenantProperty = new JSONObject();\n+                tenantProperty.put(IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.TENANT_DOMAIN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY3ODM5OQ=="}, "originalCommit": {"oid": "943b108b9e5b8b224944d3af95fd96872e5291fe"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MDIzNTYyOnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNToyNDo0N1rOGNDG5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNTozMDo1M1rOGNDO4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNTU5MA==", "bodyText": "don't we need to set tenantDomain to the user object?", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416335590", "createdAt": "2020-04-28T05:24:47Z", "author": {"login": "emswbandara"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,86 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNjYzMQ==", "bodyText": "This was the method used for preprocessed usernames. We can deprecate this method.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416336631", "createdAt": "2020-04-28T05:27:51Z", "author": {"login": "mevan-karu"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,86 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNTU5MA=="}, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNzYzNQ==", "bodyText": "let's deprecate.. add the deprecate annotation and add a comment to use new method", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416337635", "createdAt": "2020-04-28T05:30:53Z", "author": {"login": "emswbandara"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,86 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNTU5MA=="}, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MDIzNjk5OnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNToyNToyNFrOGNDHrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNToyNToyNFrOGNDHrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNTc5MQ==", "bodyText": "do we need this change?", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416335791", "createdAt": "2020-04-28T05:25:24Z", "author": {"login": "emswbandara"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -201,7 +202,7 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     /**\n      * Checks whether a given username is valid or not.\n      *\n-     * @param username Username.\n+     * @param username", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MDIzOTkxOnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNToyNjoyNlrOGNDJRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQwNTozMDowNlrOGNDN-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNjE5Ng==", "bodyText": "let's use StringUtils.isNotBlank here", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416336196", "createdAt": "2020-04-28T05:26:26Z", "author": {"login": "emswbandara"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,86 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +\n+                    \". SkipSignUpCheck flag is set to \" + skipSignUpCheck + \".\");\n         }\n \n         try (CloseableHttpClient httpclient = HttpClientBuilder.create().useSystemProperties().build()) {\n-            JSONObject user = new JSONObject();\n-            user.put(USERNAME, username);\n+            JSONObject userObject = new JSONObject();\n+            userObject.put(USERNAME, user.getUsername());\n \n             JSONArray properties = new JSONArray();\n             JSONObject property = new JSONObject();\n             property.put(\n                     IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.SKIP_SIGN_UP_ENABLE_CHECK);\n             property.put(IdentityManagementEndpointConstants.VALUE, skipSignUpCheck);\n             properties.put(property);\n-            user.put(PROPERTIES, properties);\n+\n+            if (!StringUtils.isBlank(user.getTenantDomain())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNzQwMA==", "bodyText": "Fixed", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r416337400", "createdAt": "2020-04-28T05:30:06Z", "author": {"login": "mevan-karu"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -210,60 +211,86 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +\n+                    \". SkipSignUpCheck flag is set to \" + skipSignUpCheck + \".\");\n         }\n \n         try (CloseableHttpClient httpclient = HttpClientBuilder.create().useSystemProperties().build()) {\n-            JSONObject user = new JSONObject();\n-            user.put(USERNAME, username);\n+            JSONObject userObject = new JSONObject();\n+            userObject.put(USERNAME, user.getUsername());\n \n             JSONArray properties = new JSONArray();\n             JSONObject property = new JSONObject();\n             property.put(\n                     IdentityManagementEndpointConstants.KEY, IdentityManagementEndpointConstants.SKIP_SIGN_UP_ENABLE_CHECK);\n             property.put(IdentityManagementEndpointConstants.VALUE, skipSignUpCheck);\n             properties.put(property);\n-            user.put(PROPERTIES, properties);\n+\n+            if (!StringUtils.isBlank(user.getTenantDomain())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjMzNjE5Ng=="}, "originalCommit": {"oid": "dec28eeda17af2fb7123e30e9c6cec2d6572c5e9"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTU5MzEyOnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoxMzo1NVrOGh22jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNTo0NTozMVrOG7R7hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NDg5NA==", "bodyText": "@Depricated should be changed to @depricated.  [1]\n[1] https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r438154894", "createdAt": "2020-06-10T14:13:55Z", "author": {"login": "JKAUSHALYA"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -206,64 +207,92 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n      *                        tenant.\n      * @return An integer with status code.\n      * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     * @Deprecated Use {@link #checkUsernameValidity(User user, boolean skipSignUpCheck)}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fab8bf14b5d42d058cade50fba707aee029a5dd2"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDgxMjkzNQ==", "bodyText": "Fixed in #3035", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r464812935", "createdAt": "2020-08-04T05:45:31Z", "author": {"login": "mevan-karu"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -206,64 +207,92 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n      *                        tenant.\n      * @return An integer with status code.\n      * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     * @Deprecated Use {@link #checkUsernameValidity(User user, boolean skipSignUpCheck)}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NDg5NA=="}, "originalCommit": {"oid": "fab8bf14b5d42d058cade50fba707aee029a5dd2"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTU5NzAyOnYy", "diffSide": "RIGHT", "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoxNDo0OFrOGh25Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNTo0NTozOVrOG7R7pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NTU0Ng==", "bodyText": "Use the inbuilt formatting mechanism of Log4J. Use {} instead of combining strings. Update every location.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r438155546", "createdAt": "2020-06-10T14:14:48Z", "author": {"login": "JKAUSHALYA"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -206,64 +207,92 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n      *                        tenant.\n      * @return An integer with status code.\n      * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     * @Deprecated Use {@link #checkUsernameValidity(User user, boolean skipSignUpCheck)}\n      */\n+    @Deprecated\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fab8bf14b5d42d058cade50fba707aee029a5dd2"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDgxMjk2NQ==", "bodyText": "Fixed in #3035", "url": "https://github.com/wso2/carbon-identity-framework/pull/2899#discussion_r464812965", "createdAt": "2020-08-04T05:45:39Z", "author": {"login": "mevan-karu"}, "path": "components/identity-mgt/org.wso2.carbon.identity.mgt.endpoint.util/src/main/java/org/wso2/carbon/identity/mgt/endpoint/util/client/SelfRegistrationMgtClient.java", "diffHunk": "@@ -206,64 +207,92 @@ public Integer checkUsernameValidity(String username) throws SelfRegistrationMgt\n      *                        tenant.\n      * @return An integer with status code.\n      * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     * @Deprecated Use {@link #checkUsernameValidity(User user, boolean skipSignUpCheck)}\n      */\n+    @Deprecated\n     public Integer checkUsernameValidity(String username, boolean skipSignUpCheck) throws\n             SelfRegistrationMgtClientException {\n \n+        User user = new User();\n+        user.setUsername(username);\n+        return checkUsernameValidity(user, skipSignUpCheck);\n+    }\n+\n+    /**\n+     * Validates user attributes.\n+     *\n+     * @param user User object to validate.\n+     * @param skipSignUpCheck To specify whether to enable or disable the check whether sign up is enabled for this\n+     *                        tenant.\n+     * @return An integer with status code.\n+     * @throws SelfRegistrationMgtClientException Self Registration Management Exception.\n+     */\n+    public Integer checkUsernameValidity(User user, boolean skipSignUpCheck) throws\n+            SelfRegistrationMgtClientException {\n+\n         if (log.isDebugEnabled()) {\n-            log.debug(\"Checking username validating for username: \" + username + \". SkipSignUpCheck flag is set to \"\n-                    + skipSignUpCheck + \".\");\n+            log.debug(\"Checking username validating for username: \" + user.getUsername() +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NTU0Ng=="}, "originalCommit": {"oid": "fab8bf14b5d42d058cade50fba707aee029a5dd2"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2334, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}