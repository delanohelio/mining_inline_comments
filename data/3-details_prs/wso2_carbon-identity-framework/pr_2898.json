{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NDY2MDkz", "number": 2898, "title": "Fix OIDC issuer ID in resident IdP", "bodyText": "Proposed changes in this pull request\nIn tenant-qualified URLs mode, the OIDC Identity Provider Entity ID would be set to the token EP and would not be configurable.\n\n\n\nWhen should this PR be merged\nASAP", "createdAt": "2020-04-24T10:25:32Z", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898", "merged": true, "mergeCommit": {"oid": "cb53be0bfb86fa07197a34feb97e026694b3d838"}, "closed": true, "closedAt": "2020-04-24T12:26:01Z", "author": {"login": "chamathns"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcavBKJgFqTM5OTgzMTIxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-FzwxgFqTQ2NTYzNjYwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODMxMjEz", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898#pullrequestreview-399831213", "createdAt": "2020-04-24T10:34:55Z", "commit": {"oid": "4fa923084ec82f38fb2b661d28a868edd3245072"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMDozNDo1NVrOGLRb2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMDozNDo1NVrOGLRb2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDQ3MzE3Ng==", "bodyText": "Are we still using the previous util method as well? Can't we use the new ServiceURLBuilder hear as well?", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898#discussion_r414473176", "createdAt": "2020-04-24T10:34:55Z", "author": {"login": "ashensw"}, "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "diffHunk": "@@ -206,6 +206,7 @@ public IdentityProvider getResidentIdP(String tenantDomain)\n         if (StringUtils.isBlank(oauth2TokenEPUrl)) {\n             oauth2TokenEPUrl = IdentityUtil.getServerURL(IdentityConstants.OAuth.TOKEN, true, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fa923084ec82f38fb2b661d28a868edd3245072"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dec8df0736ff3661c0d7a9044fd73e3b77b040e6", "author": {"user": {"login": "chamathns", "name": "Chamath Samarawickrama"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/dec8df0736ff3661c0d7a9044fd73e3b77b040e6", "committedDate": "2020-04-24T10:39:32Z", "message": "Fix OIDC issuer ID in resident IdP"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4fa923084ec82f38fb2b661d28a868edd3245072", "author": {"user": {"login": "chamathns", "name": "Chamath Samarawickrama"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/4fa923084ec82f38fb2b661d28a868edd3245072", "committedDate": "2020-04-24T10:23:05Z", "message": "Fix OIDC issuer ID in resident IdP"}, "afterCommit": {"oid": "dec8df0736ff3661c0d7a9044fd73e3b77b040e6", "author": {"user": {"login": "chamathns", "name": "Chamath Samarawickrama"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/dec8df0736ff3661c0d7a9044fd73e3b77b040e6", "committedDate": "2020-04-24T10:39:32Z", "message": "Fix OIDC issuer ID in resident IdP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "810276eb3dc798ca5c7aeeab30144adc73fb9eb0", "author": {"user": {"login": "chamathns", "name": "Chamath Samarawickrama"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/810276eb3dc798ca5c7aeeab30144adc73fb9eb0", "committedDate": "2020-04-24T11:16:12Z", "message": "add changes to resolveAbsoluteURL method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODkzNzg4", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898#pullrequestreview-399893788", "createdAt": "2020-04-24T12:17:58Z", "commit": {"oid": "810276eb3dc798ca5c7aeeab30144adc73fb9eb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjM2NjAy", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898#pullrequestreview-465636602", "createdAt": "2020-08-12T06:55:26Z", "commit": {"oid": "810276eb3dc798ca5c7aeeab30144adc73fb9eb0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjo1NToyNlrOG_UK6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjo1NToyNlrOG_UK6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0Mzk0NA==", "bodyText": "Start sentence with a capital letter.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2898#discussion_r469043944", "createdAt": "2020-08-12T06:55:26Z", "author": {"login": "janakamarasena"}, "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "diffHunk": "@@ -2515,17 +2513,31 @@ private void validateResourceId(String resourceId, String tenantDomain) throws I\n         }\n     }\n \n-    private String resolveAbsoluteURL(String urlContext, String resolvedUrl) throws IdentityProviderManagementServerException {\n+    /**\n+     * Resolves the public service url given the default context and the url picked from the configuration based on\n+     * the 'tenant_context.enable_tenant_qualified_urls' mode set in deployment.toml.\n+     *\n+     * @param defaultUrlContext default url context path\n+     * @param urlFromConfig     url picked from the file configuration\n+     * @return absolute public url of the service if 'enable_tenant_qualified_urls' is 'true', else returns the url\n+     * from the file config\n+     * @throws IdentityProviderManagementServerException when fail to build the absolute public url", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "810276eb3dc798ca5c7aeeab30144adc73fb9eb0"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2360, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}