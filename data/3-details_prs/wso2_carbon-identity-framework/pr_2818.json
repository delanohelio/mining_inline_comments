{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MjYyNTg5", "number": 2818, "title": "Improve UserMgtAuditLogger", "bodyText": "Fixes wso2/product-is#7822\nFixes wso2/product-is#7809", "createdAt": "2020-03-10T17:16:59Z", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818", "merged": true, "mergeCommit": {"oid": "a56b9c972bd5c5cc4f5dfa2d3bb1fc716594e1aa"}, "closed": true, "closedAt": "2020-03-13T11:37:35Z", "author": {"login": "tharindu-bandara"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMVxn_gH2gAyMzg2MjYyNTg5OjcwZmU2NmZhN2U3ZGUxODExZjkyNjM2NDI5ODlmZmRhM2Q0MWEzNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMhtNIgFqTM3MjUxNTMzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "70fe66fa7e7de1811f9263642989ffda3d41a376", "author": {"user": {"login": "tharindu-bandara", "name": "Tharindu Bandara"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/70fe66fa7e7de1811f9263642989ffda3d41a376", "committedDate": "2020-03-10T17:15:23Z", "message": "Improve UserMgtAuditLogger"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTA3NjI5", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818#pullrequestreview-372507629", "createdAt": "2020-03-11T06:48:02Z", "commit": {"oid": "70fe66fa7e7de1811f9263642989ffda3d41a376"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNjo0ODowM1rOF0q3CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNjo0ODowM1rOF0q3CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc3MjQ4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"UsersAddedToRole : \" + Arrays.toString(newUsers) + \", UsersDeletedFromRole : \" +\n          \n          \n            \n                            \"UsersAdded : \" + Arrays.toString(newUsers) + \", UsersRemoved : \" +", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818#discussion_r390772488", "createdAt": "2020-03-11T06:48:03Z", "author": {"login": "madurangasiriwardena"}, "path": "components/user-mgt/org.wso2.carbon.user.mgt/src/main/java/org/wso2/carbon/user/mgt/listeners/UserMgtAuditLogger.java", "diffHunk": "@@ -149,7 +161,8 @@ public boolean doPostUpdateUserListOfRole(String roleName, String[] deletedUsers\n         }\n \n         audit.info(String.format(AUDIT_MESSAGE, getUser(), \"Update Users of Role\", roleName,\n-                \"Users : \" + Arrays.toString(newUsers), SUCCESS));\n+                \"UsersAddedToRole : \" + Arrays.toString(newUsers) + \", UsersDeletedFromRole : \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70fe66fa7e7de1811f9263642989ffda3d41a376"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTA3ODE1", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818#pullrequestreview-372507815", "createdAt": "2020-03-11T06:48:29Z", "commit": {"oid": "70fe66fa7e7de1811f9263642989ffda3d41a376"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNjo0ODoyOVrOF0q3og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNjo0ODoyOVrOF0q3og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc3MjY0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"RolesAddedToUser : \" + Arrays.toString(newRoles) + \", RolesDeletedFromUser : \"\n          \n          \n            \n                            \"RolesAdded : \" + Arrays.toString(newRoles) + \", RolesRemoved : \"", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818#discussion_r390772642", "createdAt": "2020-03-11T06:48:29Z", "author": {"login": "madurangasiriwardena"}, "path": "components/user-mgt/org.wso2.carbon.user.mgt/src/main/java/org/wso2/carbon/user/mgt/listeners/UserMgtAuditLogger.java", "diffHunk": "@@ -161,7 +174,8 @@ public boolean doPostUpdateRoleListOfUser(String userName, String[] deletedRoles\n         }\n \n         audit.info(String.format(AUDIT_MESSAGE, getUser(), \"Update Roles of User\", userName,\n-                \"Roles : \" + Arrays.toString(newRoles), SUCCESS));\n+                \"RolesAddedToUser : \" + Arrays.toString(newRoles) + \", RolesDeletedFromUser : \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70fe66fa7e7de1811f9263642989ffda3d41a376"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cceb14de08b43fcdc2bf3e533ee9b12479e345bc", "author": {"user": {"login": "tharindu-bandara", "name": "Tharindu Bandara"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/cceb14de08b43fcdc2bf3e533ee9b12479e345bc", "committedDate": "2020-03-11T06:55:41Z", "message": "Improve users added to role audit log\n\nCo-Authored-By: Maduranga Siriwardena <maduranga.siriwardena@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0665e726698909ce591fc5117d3e7cead97a2f6c", "author": {"user": {"login": "tharindu-bandara", "name": "Tharindu Bandara"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/0665e726698909ce591fc5117d3e7cead97a2f6c", "committedDate": "2020-03-11T06:56:07Z", "message": "Improve roles added to user audit log\n\nCo-Authored-By: Maduranga Siriwardena <maduranga.siriwardena@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNTE1MzM2", "url": "https://github.com/wso2/carbon-identity-framework/pull/2818#pullrequestreview-372515336", "createdAt": "2020-03-11T07:09:25Z", "commit": {"oid": "0665e726698909ce591fc5117d3e7cead97a2f6c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2421, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}