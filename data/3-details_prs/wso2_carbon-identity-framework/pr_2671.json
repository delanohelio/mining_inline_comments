{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNDkwMDg3", "number": 2671, "title": "Fix inconstancy in the login and logout consent flows", "bodyText": "Proposed changes in this pull request\nFix wso2/product-is#7256", "createdAt": "2020-01-16T07:07:03Z", "url": "https://github.com/wso2/carbon-identity-framework/pull/2671", "merged": true, "mergeCommit": {"oid": "1977c44e46f03348b1f5b4f4399fb0f53b750076"}, "closed": true, "closedAt": "2020-01-19T05:34:11Z", "author": {"login": "senthalan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb60fESAH2gAyMzYzNDkwMDg3OmYwMGI2YjFlZGUzNDZjZWVmMTM0MjM5MGU5MmYzZDBhZGZiZWZkMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7O0UugH2gAyMzYzNDkwMDg3OjVhNzM3ZDVhOTBhZmU3YTc4N2I1ZTJhNWE2NWFmNmQ4NzUwMWU2NjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f00b6b1ede346ceef1342390e92f3d0adfbefd17", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/f00b6b1ede346ceef1342390e92f3d0adfbefd17", "committedDate": "2020-01-16T06:51:32Z", "message": "Remove the invalid logout consent in post authentication consent mgt."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a207dc5c83e8cbfbfac0262882f49d6d17916ff", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/3a207dc5c83e8cbfbfac0262882f49d6d17916ff", "committedDate": "2020-01-16T07:04:23Z", "message": "Add separate properties to manage login and logout consent flow."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDE5Njc0", "url": "https://github.com/wso2/carbon-identity-framework/pull/2671#pullrequestreview-344419674", "createdAt": "2020-01-17T08:19:31Z", "commit": {"oid": "52ea48539d20bec95dc53a853b37eca1d6fa936d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODoxOTozMVrOFexmQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODoxOTozMVrOFexmQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxNDIwOA==", "bodyText": "Don't we need these newly introduced configs in identity.xml file also https://github.com/wso2/carbon-identity-framework/blob/master/features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml#L451", "url": "https://github.com/wso2/carbon-identity-framework/pull/2671#discussion_r367814208", "createdAt": "2020-01-17T08:19:31Z", "author": {"login": "piraveena"}, "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -560,10 +560,15 @@\n             {% else %}\n             <UserInfoEndpointResponseBuilder>org.wso2.carbon.identity.oauth.endpoint.user.impl.UserInfoJSONResponseBuilder</UserInfoEndpointResponseBuilder>\n             {% endif %}\n-            {% if oauth.prompt_consent is sameas true %}\n-            <SkipUserConsent>false</SkipUserConsent>\n+            {% if oauth.prompt_login_consent is sameas true %}\n+            <SkipLoginConsent>false</SkipLoginConsent>\n             {% else %}\n-            <SkipUserConsent>true</SkipUserConsent>\n+            <SkipLoginConsent>true</SkipLoginConsent>\n+            {% endif %}\n+            {% if oauth.prompt_logout_consent is sameas true %}\n+            <SkipLogoutConsent>false</SkipLogoutConsent>\n+            {% else %}\n+            <SkipLogoutConsent>true</SkipLogoutConsent>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "52ea48539d20bec95dc53a853b37eca1d6fa936d"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDMxMzUw", "url": "https://github.com/wso2/carbon-identity-framework/pull/2671#pullrequestreview-344431350", "createdAt": "2020-01-17T08:45:35Z", "commit": {"oid": "558af5caaeb0f9bdd782fdfaf6158d58e56ceb79"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a737d5a90afe7a787b5e2a5a65af6d87501e666", "author": {"user": {"login": "senthalan", "name": "Kanagalingam Senthalan"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/5a737d5a90afe7a787b5e2a5a65af6d87501e666", "committedDate": "2020-01-17T13:32:17Z", "message": "Add config to identity.xml"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2428, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}