{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTQ3ODU4", "number": 2908, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NjowN1rOD3hCtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NjowN1rOD3hCtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTM5NjM5OnYy", "diffSide": "RIGHT", "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NjowN1rOGNzrug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwODowMTowOFrOGNz2hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMTQ1MA==", "bodyText": "Can't we use the ServiceURLBuilder here to get the URL?", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908#discussion_r417131450", "createdAt": "2020-04-29T07:56:07Z", "author": {"login": "ashensw"}, "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "diffHunk": "@@ -702,6 +578,173 @@ public IdentityProvider getResidentIdP(String tenantDomain)\n         return identityProvider;\n     }\n \n+    private String buildSAMLUrl(String urlFromConfigFile, String defaultContext, boolean appendTenantDomainInLegacyMode)\n+            throws IdentityProviderManagementServerException {\n+\n+        String url = urlFromConfigFile;\n+        if (StringUtils.isBlank(url)) {\n+            url = IdentityUtil.getServerURL(defaultContext, true, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "730ffa869c7e4c09817fcbd28c0f5cc973c3925a"}, "originalPosition": 174}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzNDIxMg==", "bodyText": "Some of the SAML URLs don't need the tenant domain appended as a query param. For example the artifact resolve URL.\nIf we use the ServiceURLBuilder all of them will be appended with the tenant domain.\nBut i think we can improve and use two methods for the two cases.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908#discussion_r417134212", "createdAt": "2020-04-29T08:01:08Z", "author": {"login": "mefarazath"}, "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "diffHunk": "@@ -702,6 +578,173 @@ public IdentityProvider getResidentIdP(String tenantDomain)\n         return identityProvider;\n     }\n \n+    private String buildSAMLUrl(String urlFromConfigFile, String defaultContext, boolean appendTenantDomainInLegacyMode)\n+            throws IdentityProviderManagementServerException {\n+\n+        String url = urlFromConfigFile;\n+        if (StringUtils.isBlank(url)) {\n+            url = IdentityUtil.getServerURL(defaultContext, true, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMTQ1MA=="}, "originalCommit": {"oid": "730ffa869c7e4c09817fcbd28c0f5cc973c3925a"}, "originalPosition": 174}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2346, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}