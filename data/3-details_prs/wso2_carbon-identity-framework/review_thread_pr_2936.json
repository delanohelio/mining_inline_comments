{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NTA2Mzkx", "number": 2936, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxMToyMVrOD9EBew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDo1MjozM1rOFLJMoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzU1NjQzOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxMToyMVrOGWYRuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxNTowNlrOGWYSrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTYwOQ==", "bodyText": "rename to deleteApplications(int tenantId)", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119609", "createdAt": "2020-05-16T05:11:21Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "diffHunk": "@@ -131,6 +131,14 @@ public abstract void updateApplication(ServiceProvider serviceProvider, String t\n     public abstract void deleteApplication(String applicationName, String tenantDomain, String username)\n             throws IdentityApplicationManagementException;\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    public abstract void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTg1NQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119855", "createdAt": "2020-05-16T05:15:06Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "diffHunk": "@@ -131,6 +131,14 @@ public abstract void updateApplication(ServiceProvider serviceProvider, String t\n     public abstract void deleteApplication(String applicationName, String tenantDomain, String username)\n             throws IdentityApplicationManagementException;\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    public abstract void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTYwOQ=="}, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzU1NzUxOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxMzowOFrOGWYSOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxNToyMVrOGWYSuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTczNw==", "bodyText": "remove line", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119737", "createdAt": "2020-05-16T05:13:08Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "diffHunk": "@@ -714,6 +714,20 @@ public void deleteApplication(String applicationName, String tenantDomain, Strin\n         }\n     }\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {\n+\n+        ApplicationDAO appDAO = ApplicationMgtSystemConfig.getInstance().getApplicationDAO();\n+        appDAO.deleteApplicationsByTenantId(tenantId);\n+    }\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTg2NQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119865", "createdAt": "2020-05-16T05:15:21Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "diffHunk": "@@ -714,6 +714,20 @@ public void deleteApplication(String applicationName, String tenantDomain, Strin\n         }\n     }\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {\n+\n+        ApplicationDAO appDAO = ApplicationMgtSystemConfig.getInstance().getApplicationDAO();\n+        appDAO.deleteApplicationsByTenantId(tenantId);\n+    }\n+\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTczNw=="}, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzU1NzY4OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxMzo1MlrOGWYSUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNToxNTozMlrOGWYSxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTc2Mw==", "bodyText": "Lets put an audit log here...", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119763", "createdAt": "2020-05-16T05:13:52Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3540,41 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {\n+\n+        if (log.isDebugEnabled()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTg3Nw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r426119877", "createdAt": "2020-05-16T05:15:32Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3540,41 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {\n+\n+        if (log.isDebugEnabled()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjExOTc2Mw=="}, "originalCommit": {"oid": "4843821f680d349686111c760cc96650d098a818"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0NjA4NTEwOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMDo1NzoxNlrOGkWGdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxMDo1NzoxNlrOGkWGdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDc2NDAyMQ==", "bodyText": "Add the params of the method.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r440764021", "createdAt": "2020-06-16T10:57:16Z", "author": {"login": "ShanChathusanda93"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3545,45 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c159bf2a8d905d2c763bd4368c46dcb51081c71b"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1ODQ3OTc5OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyNzoyOVrOGmQAwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyNzoyOVrOGmQAwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTQxMA==", "bodyText": "rename to  public void deleteApplications(int tenantId)", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r442761410", "createdAt": "2020-06-19T10:27:29Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3545,45 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a9ebd30e2972ba85399e560f38f4455d384c8cc"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1ODQ4MDU3OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/listener/ApplicationTenantMgtListener.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyNzo0NlrOGmQBOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQyMDoxNTo0OVrOGmoJ1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTUyOQ==", "bodyText": "Use org.wso2.carbon.identity.oauth2.listener.TenantCreationEventListener", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r442761529", "createdAt": "2020-06-19T10:27:46Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/listener/ApplicationTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package org.wso2.carbon.identity.application.mgt.listener;\n+\n+import org.wso2.carbon.identity.application.common.IdentityApplicationManagementException;\n+import org.wso2.carbon.identity.application.mgt.ApplicationManagementService;\n+import org.wso2.carbon.stratos.common.beans.TenantInfoBean;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+import org.wso2.carbon.stratos.common.listeners.TenantMgtListener;\n+\n+/**\n+ * Application Tenant Management Listener\n+ */\n+public class ApplicationTenantMgtListener implements TenantMgtListener {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a9ebd30e2972ba85399e560f38f4455d384c8cc"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1Njk1MQ==", "bodyText": "Removed ApplicationTenantMgtListener and will use org.wso2.carbon.identity.oauth2.listener.TenantCreationEventListener instead.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r443156951", "createdAt": "2020-06-20T20:15:49Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/listener/ApplicationTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package org.wso2.carbon.identity.application.mgt.listener;\n+\n+import org.wso2.carbon.identity.application.common.IdentityApplicationManagementException;\n+import org.wso2.carbon.identity.application.mgt.ApplicationManagementService;\n+import org.wso2.carbon.stratos.common.beans.TenantInfoBean;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+import org.wso2.carbon.stratos.common.listeners.TenantMgtListener;\n+\n+/**\n+ * Application Tenant Management Listener\n+ */\n+public class ApplicationTenantMgtListener implements TenantMgtListener {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTUyOQ=="}, "originalCommit": {"oid": "5a9ebd30e2972ba85399e560f38f4455d384c8cc"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1ODQ4MTc4OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyODoxNlrOGmQCGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyODoxNlrOGmQCGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTc1Mg==", "bodyText": "better use try with resource", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r442761752", "createdAt": "2020-06-19T10:28:16Z", "author": {"login": "IsuraD"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3545,45 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplicationsByTenantId(int tenantId) throws IdentityApplicationManagementException {\n+\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Deleting all applications of the tenant: \" + tenantId);\n+        }\n+\n+        String auditData = \"\\\"\" + \"Tenant Id\" + \"\\\" : \\\"\" + tenantId + \"\\\"\";\n+\n+        Connection connection = IdentityDatabaseUtil.getDBConnection(false);\n+        PreparedStatement deleteClientPrepStmt = null;\n+\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a9ebd30e2972ba85399e560f38f4455d384c8cc"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjI0Mzc1OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDoxOTozM1rOIOJm6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMjoyNTozNlrOIPYKSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODM5Mw==", "bodyText": "Complete the Javadoc comment by adding the specific Exception type. The param descriptions should start with a capital letter and end with a full stop.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551708393", "createdAt": "2021-01-05T04:19:33Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "diffHunk": "@@ -131,6 +131,14 @@ public abstract void updateApplication(ServiceProvider serviceProvider, String t\n     public abstract void deleteApplication(String applicationName, String tenantDomain, String username)\n             throws IdentityApplicationManagementException;\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODUwMQ==", "bodyText": "Check every other instance and fix this", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551708501", "createdAt": "2021-01-05T04:20:14Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "diffHunk": "@@ -131,6 +131,14 @@ public abstract void updateApplication(ServiceProvider serviceProvider, String t\n     public abstract void deleteApplication(String applicationName, String tenantDomain, String username)\n             throws IdentityApplicationManagementException;\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODM5Mw=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5NTQwMA==", "bodyText": "Fixed in #3312", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r552995400", "createdAt": "2021-01-06T22:25:36Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementService.java", "diffHunk": "@@ -131,6 +131,14 @@ public abstract void updateApplication(ServiceProvider serviceProvider, String t\n     public abstract void deleteApplication(String applicationName, String tenantDomain, String username)\n             throws IdentityApplicationManagementException;\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODM5Mw=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjI0NTA5OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDoyMDo1NFrOIOJnvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMjoyNTo0NFrOIPYKig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODYwNg==", "bodyText": "Comment should end with a full stop.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551708606", "createdAt": "2021-01-05T04:20:54Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "diffHunk": "@@ -714,6 +718,38 @@ public void deleteApplication(String applicationName, String tenantDomain, Strin\n         }\n     }\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplications(int tenantId) throws IdentityApplicationManagementException {\n+\n+        String tenantDomain = IdentityTenantUtil.getTenantDomain(tenantId);\n+        ApplicationBasicInfo[] applicationBasicInfos = getAllApplicationBasicInfo(\n+                tenantDomain, CarbonContext.getThreadLocalCarbonContext().getUsername());\n+\n+        ApplicationDAO appDAO = ApplicationMgtSystemConfig.getInstance().getApplicationDAO();\n+        appDAO.deleteApplications(tenantId);\n+\n+        // Clear cache entries of each deleted SP", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5NTQ2Ng==", "bodyText": "Fixed in #3312", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r552995466", "createdAt": "2021-01-06T22:25:44Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationManagementServiceImpl.java", "diffHunk": "@@ -714,6 +718,38 @@ public void deleteApplication(String applicationName, String tenantDomain, Strin\n         }\n     }\n \n+    /**\n+     * Delete Applications by tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplications(int tenantId) throws IdentityApplicationManagementException {\n+\n+        String tenantDomain = IdentityTenantUtil.getTenantDomain(tenantId);\n+        ApplicationBasicInfo[] applicationBasicInfos = getAllApplicationBasicInfo(\n+                tenantDomain, CarbonContext.getThreadLocalCarbonContext().getUsername());\n+\n+        ApplicationDAO appDAO = ApplicationMgtSystemConfig.getInstance().getApplicationDAO();\n+        appDAO.deleteApplications(tenantId);\n+\n+        // Clear cache entries of each deleted SP", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcwODYwNg=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjI4OTY4OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDo0OTo0NVrOIOKBIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMjoyNTo1OFrOIPYK6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTEwNg==", "bodyText": "end the comment with a full stop", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551715106", "createdAt": "2021-01-05T04:49:45Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3545,41 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplications(int tenantId) throws IdentityApplicationManagementException {\n+\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Deleting all applications of the tenant: \" + tenantId);\n+        }\n+\n+        String auditData = \"\\\"\" + \"Tenant Id\" + \"\\\" : \\\"\" + tenantId + \"\\\"\";\n+\n+        try (Connection connection = IdentityDatabaseUtil.getDBConnection(true)) {\n+\n+            // Delete the application certificates of the tenant", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5NTU2Mw==", "bodyText": "Fixed in #3312", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r552995563", "createdAt": "2021-01-06T22:25:58Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -3538,6 +3545,41 @@ public void deleteApplication(int applicationID, Connection connection)\n \n     }\n \n+    /**\n+     * Delete all applications of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws IdentityApplicationManagementException\n+     */\n+    @Override\n+    public void deleteApplications(int tenantId) throws IdentityApplicationManagementException {\n+\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Deleting all applications of the tenant: \" + tenantId);\n+        }\n+\n+        String auditData = \"\\\"\" + \"Tenant Id\" + \"\\\" : \\\"\" + tenantId + \"\\\"\";\n+\n+        try (Connection connection = IdentityDatabaseUtil.getDBConnection(true)) {\n+\n+            // Delete the application certificates of the tenant", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTEwNg=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjI5MTYwOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDo1MToxMVrOIOKCTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMjoyNjowNFrOIPYLEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTQwNw==", "bodyText": "Format the Javadoc descriptions. Also, the descriptions should end with a full stop.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551715407", "createdAt": "2021-01-05T04:51:11Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -5060,4 +5125,24 @@ private int createServiceProvider(String tenantDomain, ServiceProvider servicePr\n         }\n         return applicationId;\n     }\n+\n+    /**\n+     * Add audit log entry.\n+     *\n+     * @param action Action\n+     * @param data Audit data\n+     * @param result Result", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5NTYwMA==", "bodyText": "Fixed in #3312", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r552995600", "createdAt": "2021-01-06T22:26:04Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -5060,4 +5125,24 @@ private int createServiceProvider(String tenantDomain, ServiceProvider servicePr\n         }\n         return applicationId;\n     }\n+\n+    /**\n+     * Add audit log entry.\n+     *\n+     * @param action Action\n+     * @param data Audit data\n+     * @param result Result", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTQwNw=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 115}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjI5MzQ0OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwNDo1MjozM1rOIOKDeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMjoyNjowOVrOIPYLRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTcwNA==", "bodyText": "Remove redundant line", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r551715704", "createdAt": "2021-01-05T04:52:33Z", "author": {"login": "sachiniWettasinghe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -5060,4 +5125,24 @@ private int createServiceProvider(String tenantDomain, ServiceProvider servicePr\n         }\n         return applicationId;\n     }\n+\n+    /**\n+     * Add audit log entry.\n+     *\n+     * @param action Action\n+     * @param data Audit data\n+     * @param result Result\n+     */\n+    private void audit(String action, String data, String result) {\n+\n+        String loggedInUser = PrivilegedCarbonContext.getThreadLocalCarbonContext().getUsername();\n+        if (StringUtils.isBlank(loggedInUser)) {\n+            loggedInUser = CarbonConstants.REGISTRY_SYSTEM_USERNAME;\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 123}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5NTY1NA==", "bodyText": "Fixed in #3312", "url": "https://github.com/wso2/carbon-identity-framework/pull/2936#discussion_r552995654", "createdAt": "2021-01-06T22:26:09Z", "author": {"login": "sumedhe"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/dao/impl/ApplicationDAOImpl.java", "diffHunk": "@@ -5060,4 +5125,24 @@ private int createServiceProvider(String tenantDomain, ServiceProvider servicePr\n         }\n         return applicationId;\n     }\n+\n+    /**\n+     * Add audit log entry.\n+     *\n+     * @param action Action\n+     * @param data Audit data\n+     * @param result Result\n+     */\n+    private void audit(String action, String data, String result) {\n+\n+        String loggedInUser = PrivilegedCarbonContext.getThreadLocalCarbonContext().getUsername();\n+        if (StringUtils.isBlank(loggedInUser)) {\n+            loggedInUser = CarbonConstants.REGISTRY_SYSTEM_USERNAME;\n+        }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTcxNTcwNA=="}, "originalCommit": {"oid": "63d253dd3f414c122fad68907a164d830bf19406"}, "originalPosition": 123}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2661, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}