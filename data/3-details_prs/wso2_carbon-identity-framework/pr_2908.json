{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTQ3ODU4", "number": 2908, "title": "Fix SAML metadata URLs in tenant qualified URL mode", "bodyText": "Proposed changes in this pull request\nIn the tenant qualified URL mode,\n\nFixes SAML endpoint URLs build for SAML metadata being overridden by already saved values in the DB.\nAdds the SAML SSO URL as a destination URL by default in addition to already configured ones.", "createdAt": "2020-04-29T07:50:26Z", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908", "merged": true, "mergeCommit": {"oid": "8f857b4444e19c65610f2bc730567cbb51c45576"}, "closed": true, "closedAt": "2020-04-29T11:30:11Z", "author": {"login": "mefarazath"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccTbv6AH2gAyNDEwNTQ3ODU4OjczMGZmYTg2OWM3ZTRjMDk4MTdmY2JkMjhjMGY1Y2M5NzNjMzkyNWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccWe4MAFqTQwMjU2NTk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "730ffa869c7e4c09817fcbd28c0f5cc973c3925a", "author": {"user": {"login": "mefarazath", "name": "Farasath Ahamed"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/730ffa869c7e4c09817fcbd28c0f5cc973c3925a", "committedDate": "2020-04-29T07:34:28Z", "message": "Fix SAML metadata URLs in tenant qualified URL mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNDM4MDU3", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908#pullrequestreview-402438057", "createdAt": "2020-04-29T07:56:07Z", "commit": {"oid": "730ffa869c7e4c09817fcbd28c0f5cc973c3925a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NjowN1rOGNzrug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NjowN1rOGNzrug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMTQ1MA==", "bodyText": "Can't we use the ServiceURLBuilder here to get the URL?", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908#discussion_r417131450", "createdAt": "2020-04-29T07:56:07Z", "author": {"login": "ashensw"}, "path": "components/idp-mgt/org.wso2.carbon.idp.mgt/src/main/java/org/wso2/carbon/idp/mgt/IdentityProviderManager.java", "diffHunk": "@@ -702,6 +578,173 @@ public IdentityProvider getResidentIdP(String tenantDomain)\n         return identityProvider;\n     }\n \n+    private String buildSAMLUrl(String urlFromConfigFile, String defaultContext, boolean appendTenantDomainInLegacyMode)\n+            throws IdentityProviderManagementServerException {\n+\n+        String url = urlFromConfigFile;\n+        if (StringUtils.isBlank(url)) {\n+            url = IdentityUtil.getServerURL(defaultContext, true, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "730ffa869c7e4c09817fcbd28c0f5cc973c3925a"}, "originalPosition": 174}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb6c889f02ec69c459e4279cda6676536b291e50", "author": {"user": {"login": "mefarazath", "name": "Farasath Ahamed"}}, "url": "https://github.com/wso2/carbon-identity-framework/commit/eb6c889f02ec69c459e4279cda6676536b291e50", "committedDate": "2020-04-29T10:05:01Z", "message": "Improve saml URL building logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTY1OTY5", "url": "https://github.com/wso2/carbon-identity-framework/pull/2908#pullrequestreview-402565969", "createdAt": "2020-04-29T11:07:36Z", "commit": {"oid": "eb6c889f02ec69c459e4279cda6676536b291e50"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2369, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}