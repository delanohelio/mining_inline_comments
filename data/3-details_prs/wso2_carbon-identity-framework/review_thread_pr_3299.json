{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNDQwMDc0", "number": 3299, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTozNTowMFrOFH1Z4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToyNDoxOVrOFIZc4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNzU5MzI4OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNTozNTowMFrOIJcXRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwNDo1NDoxMlrOIJuVfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3MjgwNw==", "bodyText": "Do we need to add default implementation for the newly introduced methods to this interface.", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r546772807", "createdAt": "2020-12-21T15:35:00Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "diffHunk": "@@ -119,6 +119,20 @@ Resources getTenantResources(String tenantDomain, Condition searchCondition) thr\n      */\n     Resource addResource(String resourceTypeName, ResourceAdd resourceAdd) throws ConfigurationManagementException;\n \n+    /**\n+     * This API is used to create the given resource including a file.\n+     *\n+     * @param resourceTypeName Name of the {@link ResourceType}.\n+     * @param resourceAdd      Request to create the {@link Resource}.\n+     * @param resourceAdd      Name of the {@link ResourceFile}\n+     * @param fileName         {@link InputStream} representing the file.\n+     * @return 201 created. Returns {@link Resource} created.\n+     * @throws ConfigurationManagementException Resource management exception.\n+     */\n+    Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb5cc32aae1effe46aaf3decb22a5f973bc4d96c"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA2NzI2MQ==", "bodyText": "Addressed in 3d05632 and 7d912de", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547067261", "createdAt": "2020-12-22T04:54:12Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "diffHunk": "@@ -119,6 +119,20 @@ Resources getTenantResources(String tenantDomain, Condition searchCondition) thr\n      */\n     Resource addResource(String resourceTypeName, ResourceAdd resourceAdd) throws ConfigurationManagementException;\n \n+    /**\n+     * This API is used to create the given resource including a file.\n+     *\n+     * @param resourceTypeName Name of the {@link ResourceType}.\n+     * @param resourceAdd      Request to create the {@link Resource}.\n+     * @param resourceAdd      Name of the {@link ResourceFile}\n+     * @param fileName         {@link InputStream} representing the file.\n+     * @return 201 created. Returns {@link Resource} created.\n+     * @throws ConfigurationManagementException Resource management exception.\n+     */\n+    Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc3MjgwNw=="}, "originalCommit": {"oid": "eb5cc32aae1effe46aaf3decb22a5f973bc4d96c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MDMyNzA5OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQwOTo1OTo0NlrOIJ1WPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMDo1Mjo0NlrOIKI43g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4MjE0Mg==", "bodyText": "Pass a resource with file details", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547182142", "createdAt": "2020-12-22T09:59:46Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "diffHunk": "@@ -119,6 +120,22 @@ Resources getTenantResources(String tenantDomain, Condition searchCondition) thr\n      */\n     Resource addResource(String resourceTypeName, ResourceAdd resourceAdd) throws ConfigurationManagementException;\n \n+    /**\n+     * This API is used to create the given resource including a file.\n+     *\n+     * @param resourceTypeName Name of the {@link ResourceType}.\n+     * @param resourceAdd      Request to create the {@link Resource}.\n+     * @param resourceAdd      Name of the {@link ResourceFile}\n+     * @param fileName         {@link InputStream} representing the file.\n+     * @return 201 created. Returns {@link Resource} created.\n+     * @throws ConfigurationManagementException Resource management exception.\n+     */\n+    default Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzUwMjMwMg==", "bodyText": "fix in 1741f1f", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547502302", "createdAt": "2020-12-22T20:52:46Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManager.java", "diffHunk": "@@ -119,6 +120,22 @@ Resources getTenantResources(String tenantDomain, Condition searchCondition) thr\n      */\n     Resource addResource(String resourceTypeName, ResourceAdd resourceAdd) throws ConfigurationManagementException;\n \n+    /**\n+     * This API is used to create the given resource including a file.\n+     *\n+     * @param resourceTypeName Name of the {@link ResourceType}.\n+     * @param resourceAdd      Request to create the {@link Resource}.\n+     * @param resourceAdd      Name of the {@link ResourceFile}\n+     * @param fileName         {@link InputStream} representing the file.\n+     * @return 201 created. Returns {@link Resource} created.\n+     * @throws ConfigurationManagementException Resource management exception.\n+     */\n+    default Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4MjE0Mg=="}, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MDM4NDQ0OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMDoxMTowNlrOIJ1rwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMDo1MjozNFrOIKI4ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4NzY1MA==", "bodyText": "remove this check", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547187650", "createdAt": "2020-12-22T10:11:06Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,6 +244,26 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,\n+                                        InputStream fileStream) throws ConfigurationManagementException {\n+\n+        checkFeatureStatus();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzUwMjIzOA==", "bodyText": "fix in 1741f1f", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547502238", "createdAt": "2020-12-22T20:52:34Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,6 +244,26 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,\n+                                        InputStream fileStream) throws ConfigurationManagementException {\n+\n+        checkFeatureStatus();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4NzY1MA=="}, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MDM4NzI1OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMDoxMTo1OFrOIJ1tfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQyMDo1MjoxN1rOIKI4Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4ODA5Mw==", "bodyText": "add info log", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547188093", "createdAt": "2020-12-22T10:11:58Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,6 +244,26 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,\n+                                        InputStream fileStream) throws ConfigurationManagementException {\n+\n+        checkFeatureStatus();\n+        validateResourceCreateWithFileRequest(resourceTypeName, resourceAdd, fileName, fileStream);\n+        Resource resource = generateResourceFromRequest(resourceTypeName, resourceAdd);\n+        resource.setHasFile(true);\n+        String resourceId = generateUniqueID();\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Resource id generated: \" + resourceId);\n+        }\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().addResourceWithFile(resource, fileName, fileStream);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resourceAdd.getName() + \" resource created successfully.\");\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4ODU3Nw==", "bodyText": "Improvement:  audit logs", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547188577", "createdAt": "2020-12-22T10:12:51Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,6 +244,26 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,\n+                                        InputStream fileStream) throws ConfigurationManagementException {\n+\n+        checkFeatureStatus();\n+        validateResourceCreateWithFileRequest(resourceTypeName, resourceAdd, fileName, fileStream);\n+        Resource resource = generateResourceFromRequest(resourceTypeName, resourceAdd);\n+        resource.setHasFile(true);\n+        String resourceId = generateUniqueID();\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Resource id generated: \" + resourceId);\n+        }\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().addResourceWithFile(resource, fileName, fileStream);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resourceAdd.getName() + \" resource created successfully.\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4ODA5Mw=="}, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzUwMjE0Ng==", "bodyText": "Add info log in 1741f1f", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547502146", "createdAt": "2020-12-22T20:52:17Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,6 +244,26 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResourceWithFile(String resourceTypeName, ResourceAdd resourceAdd, String fileName,\n+                                        InputStream fileStream) throws ConfigurationManagementException {\n+\n+        checkFeatureStatus();\n+        validateResourceCreateWithFileRequest(resourceTypeName, resourceAdd, fileName, fileStream);\n+        Resource resource = generateResourceFromRequest(resourceTypeName, resourceAdd);\n+        resource.setHasFile(true);\n+        String resourceId = generateUniqueID();\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Resource id generated: \" + resourceId);\n+        }\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().addResourceWithFile(resource, fileName, fileStream);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resourceAdd.getName() + \" resource created successfully.\");\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4ODA5Mw=="}, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MDQxOTEzOnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/dao/ConfigurationDAO.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMDoyMToxNFrOIJ2ANg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxMTozNjo1NFrOIJ4LOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE5Mjg4Ng==", "bodyText": "Formatting check all method comments", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547192886", "createdAt": "2020-12-22T10:21:14Z", "author": {"login": "Buddhimah"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/dao/ConfigurationDAO.java", "diffHunk": "@@ -115,6 +115,17 @@ Resource getResourceByName(int tenantId, String resourceTypeId, String name)\n      */\n     void addResource(Resource resource) throws ConfigurationManagementException;\n \n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyODQ3NA==", "bodyText": "Checked all places. There is no formatting issue.", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547228474", "createdAt": "2020-12-22T11:36:54Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/dao/ConfigurationDAO.java", "diffHunk": "@@ -115,6 +115,17 @@ Resource getResourceByName(int tenantId, String resourceTypeId, String name)\n      */\n     void addResource(Resource resource) throws ConfigurationManagementException;\n \n+    /**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE5Mjg4Ng=="}, "originalCommit": {"oid": "d85f5a3ff6b61326ec4f6fee706d155e776308a0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MzQ1MTI0OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToxMjo0N1rOIKR2Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNzo0Mjo1MFrOIKYxRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY0OTA5OQ==", "bodyText": "Do you need to add both debug and info logs here. Isn't info log enough?", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547649099", "createdAt": "2020-12-23T05:12:47Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,14 +232,29 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResource(String resourceTypeName, Resource resource) throws ConfigurationManagementException {\n+\n+        validateResourceCreateRequest(resourceTypeName, resource);\n+        String resourceId = generateUniqueID();\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Resource id generated: \" + resourceId);\n+        }\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().addResource(resource);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resource.getResourceName() + \" resource created successfully.\");\n+        }\n+        log.info(\"Resource: \" + resource.getResourceName() + \" added successfully\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc2MjUwMg==", "bodyText": "Fixed in d8a058a", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547762502", "createdAt": "2020-12-23T07:42:50Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -244,14 +232,29 @@ public Resource addResource(String resourceTypeName, ResourceAdd resourceAdd)\n         return resource;\n     }\n \n+    @Override\n+    public Resource addResource(String resourceTypeName, Resource resource) throws ConfigurationManagementException {\n+\n+        validateResourceCreateRequest(resourceTypeName, resource);\n+        String resourceId = generateUniqueID();\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Resource id generated: \" + resourceId);\n+        }\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().addResource(resource);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resource.getResourceName() + \" resource created successfully.\");\n+        }\n+        log.info(\"Resource: \" + resource.getResourceName() + \" added successfully\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY0OTA5OQ=="}, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MzQ2MDY2OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToxNDo0N1rOIKR8eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNzo0Mjo0NVrOIKYxEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1MDY4MA==", "bodyText": "Info log is enough, no need both info and debug logs.", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547650680", "createdAt": "2020-12-23T05:14:47Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -263,13 +266,26 @@ public Resource replaceResource(String resourceTypeName, ResourceAdd resourceAdd\n         return resource;\n     }\n \n+    @Override\n+    public Resource replaceResource(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        validateResourceReplaceRequest(resourceTypeName, resource);\n+        String resourceId = generateResourceId(resourceTypeName, resource.getResourceName());\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().replaceResourceWithFiles(resource);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resource.getResourceName() + \" resource created successfully.\");\n+        }\n+        log.info(resource.getResourceName() + \" resource created successfully.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc2MjQ1MA==", "bodyText": "Fixed in d8a058a", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547762450", "createdAt": "2020-12-23T07:42:45Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -263,13 +266,26 @@ public Resource replaceResource(String resourceTypeName, ResourceAdd resourceAdd\n         return resource;\n     }\n \n+    @Override\n+    public Resource replaceResource(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        validateResourceReplaceRequest(resourceTypeName, resource);\n+        String resourceId = generateResourceId(resourceTypeName, resource.getResourceName());\n+        resource.setResourceId(resourceId);\n+        this.getConfigurationDAO().replaceResourceWithFiles(resource);\n+        if (log.isDebugEnabled()) {\n+            log.debug(resource.getResourceName() + \" resource created successfully.\");\n+        }\n+        log.info(resource.getResourceName() + \" resource created successfully.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1MDY4MA=="}, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 101}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MzQ2NDUyOnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToxNTo0MVrOIKR-7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNzo0MjozOVrOIKYwyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1MTMwOQ==", "bodyText": "Add a method description on what validations are done inside the method.", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547651309", "createdAt": "2020-12-23T05:15:41Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -531,6 +531,39 @@ private void validateResourceCreateRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceCreateRequest(String resourceTypeName, Resource resource)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 191}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc2MjM3Ng==", "bodyText": "Fixed in d8a058a", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547762376", "createdAt": "2020-12-23T07:42:39Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -531,6 +531,39 @@ private void validateResourceCreateRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceCreateRequest(String resourceTypeName, Resource resource)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1MTMwOQ=="}, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 191}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MzQ5NTE4OnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToyMzoxNVrOIKSTVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNzo0MjozMFrOIKYwVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1NjUzNA==", "bodyText": "\"fileStream is invalid.\" -> \"Filestream is invalid or empty.\"", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547656534", "createdAt": "2020-12-23T05:23:15Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -531,6 +531,39 @@ private void validateResourceCreateRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceCreateRequest(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        if (StringUtils.isEmpty(resourceTypeName) || StringUtils.isEmpty(resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ADD_REQUEST_INVALID, null);\n+        }\n+        if (isResourceExists(resourceTypeName, resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ALREADY_EXISTS, resource.getResourceName());\n+        }\n+        if (CollectionUtils.isNotEmpty(resource.getFiles())) {\n+            List<ResourceFile> files = resource.getFiles();\n+            for (ResourceFile file : files) {\n+                if (StringUtils.isEmpty(file.getId())) {\n+                    file.setId(generateUniqueID());\n+                }\n+                if (StringUtils.isEmpty(file.getName())) {\n+                    String fileIdentifiers = String.format(\"Resource type: %s, resourceName: %s\", resourceTypeName,\n+                            resource.getResourceName());\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, fileIdentifiers);\n+                }\n+                if (file.getInputStream() == null) {\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, \"fileStream is invalid.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 212}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc2MjI2Mg==", "bodyText": "Fixed in d8a058a", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547762262", "createdAt": "2020-12-23T07:42:30Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -531,6 +531,39 @@ private void validateResourceCreateRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceCreateRequest(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        if (StringUtils.isEmpty(resourceTypeName) || StringUtils.isEmpty(resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ADD_REQUEST_INVALID, null);\n+        }\n+        if (isResourceExists(resourceTypeName, resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ALREADY_EXISTS, resource.getResourceName());\n+        }\n+        if (CollectionUtils.isNotEmpty(resource.getFiles())) {\n+            List<ResourceFile> files = resource.getFiles();\n+            for (ResourceFile file : files) {\n+                if (StringUtils.isEmpty(file.getId())) {\n+                    file.setId(generateUniqueID());\n+                }\n+                if (StringUtils.isEmpty(file.getName())) {\n+                    String fileIdentifiers = String.format(\"Resource type: %s, resourceName: %s\", resourceTypeName,\n+                            resource.getResourceName());\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, fileIdentifiers);\n+                }\n+                if (file.getInputStream() == null) {\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, \"fileStream is invalid.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1NjUzNA=="}, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 212}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MzQ5OTIxOnYy", "diffSide": "RIGHT", "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNToyNDoxOVrOIKSWHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwNzo0MjoyMFrOIKYvpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1NzI0Nw==", "bodyText": "\"fileStream is invalid.\" -> \"Filestream is invalid or empty.\"", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547657247", "createdAt": "2020-12-23T05:24:19Z", "author": {"login": "ayshsandu"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -594,6 +625,39 @@ private void validateResourceReplaceRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceReplaceRequest(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        if (StringUtils.isEmpty(resourceTypeName)) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ADD_REQUEST_INVALID, null);\n+        }\n+        if (!isResourceExists(resourceTypeName, resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_DOES_NOT_EXISTS, resource.getResourceName());\n+        }\n+        if (CollectionUtils.isNotEmpty(resource.getFiles())) {\n+            List<ResourceFile> files = resource.getFiles();\n+            for (ResourceFile file : files) {\n+                if (StringUtils.isEmpty(file.getId())) {\n+                    file.setId(generateUniqueID());\n+                }\n+                if (StringUtils.isEmpty(file.getName())) {\n+                    String fileIdentifiers = String.format(\"Resource type: %s, resourceName: %s\", resourceTypeName,\n+                            resource.getResourceName());\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, fileIdentifiers);\n+                }\n+                if (file.getInputStream() == null) {\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, \"fileStream is invalid.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 261}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc2MjA4Ng==", "bodyText": "Fixed in d8a058a", "url": "https://github.com/wso2/carbon-identity-framework/pull/3299#discussion_r547762086", "createdAt": "2020-12-23T07:42:20Z", "author": {"login": "AnuradhaSK"}, "path": "components/configuration-mgt/org.wso2.carbon.identity.configuration.mgt.core/src/main/java/org/wso2/carbon/identity/configuration/mgt/core/ConfigurationManagerImpl.java", "diffHunk": "@@ -594,6 +625,39 @@ private void validateResourceReplaceRequest(String resourceTypeName, ResourceAdd\n         }\n     }\n \n+    private void validateResourceReplaceRequest(String resourceTypeName, Resource resource)\n+            throws ConfigurationManagementException {\n+\n+        if (StringUtils.isEmpty(resourceTypeName)) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_ADD_REQUEST_INVALID, null);\n+        }\n+        if (!isResourceExists(resourceTypeName, resource.getResourceName())) {\n+            throw handleClientException(ERROR_CODE_RESOURCE_DOES_NOT_EXISTS, resource.getResourceName());\n+        }\n+        if (CollectionUtils.isNotEmpty(resource.getFiles())) {\n+            List<ResourceFile> files = resource.getFiles();\n+            for (ResourceFile file : files) {\n+                if (StringUtils.isEmpty(file.getId())) {\n+                    file.setId(generateUniqueID());\n+                }\n+                if (StringUtils.isEmpty(file.getName())) {\n+                    String fileIdentifiers = String.format(\"Resource type: %s, resourceName: %s\", resourceTypeName,\n+                            resource.getResourceName());\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, fileIdentifiers);\n+                }\n+                if (file.getInputStream() == null) {\n+                    throw handleClientException(ERROR_CODE_FILE_IDENTIFIERS_REQUIRED, \"fileStream is invalid.\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzY1NzI0Nw=="}, "originalCommit": {"oid": "1741f1feb8e720cb738e8a96ad964174020220a1"}, "originalPosition": 261}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2474, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}