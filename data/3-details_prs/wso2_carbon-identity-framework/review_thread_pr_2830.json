{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMjkzMTQ0", "number": 2830, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo1MToyNlrODpBIfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNToxOTo1NFrODpX12w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzM2NzY1OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo1MToyNlrOF37RTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDoxMDowOVrOF3-HMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4NzA4NA==", "bodyText": "shall we rename the variable to remoteClaimUris?\nalso no need to define type when initializing array list. we can directly call new ArrayList<>();", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394187084", "createdAt": "2020-03-18T08:51:26Z", "author": {"login": "emswbandara"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -357,20 +357,22 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n \n         ApplicationManagementService applicationMgtService = ApplicationManagementService.getInstance();\n         String[] allLocalClaimUris = applicationMgtService.getAllLocalClaimUris(tenantDomain);\n+        ArrayList<String> allRemoteClaimUris = new ArrayList<String>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMzY1MA==", "bodyText": "addressed in 5f538eb", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394233650", "createdAt": "2020-03-18T10:10:09Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -357,20 +357,22 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n \n         ApplicationManagementService applicationMgtService = ApplicationManagementService.getInstance();\n         String[] allLocalClaimUris = applicationMgtService.getAllLocalClaimUris(tenantDomain);\n+        ArrayList<String> allRemoteClaimUris = new ArrayList<String>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4NzA4NA=="}, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzM5NjkyOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo1OTo0NVrOF37jcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDoxMDoyM1rOF3-H4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE5MTczMA==", "bodyText": "We might need to use a different error message here.\n\"Local claim %s is not available in the server for tenantDomain:%s\". Might not be suitable here.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394191730", "createdAt": "2020-03-18T08:59:45Z", "author": {"login": "mefarazath"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -381,6 +383,17 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n                     subjectClaimUri)) {\n                 validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, subjectClaimUri, tenantDomain));\n             }\n+        } else {\n+            if (StringUtils.isNotBlank(roleClaimUri) && !(allRemoteClaimUris).contains(roleClaimUri)) {\n+                validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, roleClaimUri, tenantDomain));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIxMzM0MA==", "bodyText": "Is it okay to have \"Service Provider claim %s is not available for Service Provider:%s.\" error message.\n\"String serviceProviderName\" will be added to validateClaimsConfigs method signature", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394213340", "createdAt": "2020-03-18T09:36:31Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -381,6 +383,17 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n                     subjectClaimUri)) {\n                 validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, subjectClaimUri, tenantDomain));\n             }\n+        } else {\n+            if (StringUtils.isNotBlank(roleClaimUri) && !(allRemoteClaimUris).contains(roleClaimUri)) {\n+                validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, roleClaimUri, tenantDomain));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE5MTczMA=="}, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyOTYwMQ==", "bodyText": "Application Claim URI: xyz is not defined for Service Provider : %s\nor something along the lines would be fine :)", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394229601", "createdAt": "2020-03-18T10:03:09Z", "author": {"login": "mefarazath"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -381,6 +383,17 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n                     subjectClaimUri)) {\n                 validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, subjectClaimUri, tenantDomain));\n             }\n+        } else {\n+            if (StringUtils.isNotBlank(roleClaimUri) && !(allRemoteClaimUris).contains(roleClaimUri)) {\n+                validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, roleClaimUri, tenantDomain));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE5MTczMA=="}, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMzgyNA==", "bodyText": "addressed in 5f538eb", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394233824", "createdAt": "2020-03-18T10:10:23Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -381,6 +383,17 @@ private void validateClaimsConfigs(List<String> validationMsg, ClaimConfig claim\n                     subjectClaimUri)) {\n                 validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, subjectClaimUri, tenantDomain));\n             }\n+        } else {\n+            if (StringUtils.isNotBlank(roleClaimUri) && !(allRemoteClaimUris).contains(roleClaimUri)) {\n+                validationMsg.add(String.format(CLAIM_NOT_AVAILABLE, roleClaimUri, tenantDomain));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE5MTczMA=="}, "originalCommit": {"oid": "b6c9dffa79cf6f0d4c4d4bf8e3f7bf196033e145"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzY1NDM5OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDoxMDozN1rOF3-Ihg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNDoxNTo1M1rOF4fk1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMzk5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI %s is not defined \" +\n          \n          \n            \n                private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI '%s' is not defined \" +", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394233990", "createdAt": "2020-03-18T10:10:37Z", "author": {"login": "mefarazath"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI %s is not defined \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f538eb3b5513b3978a784dd8a0df158de48ae34"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc4MTkxMQ==", "bodyText": "addressed in 121ee60", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394781911", "createdAt": "2020-03-19T04:15:53Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI %s is not defined \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMzk5MA=="}, "originalCommit": {"oid": "5f538eb3b5513b3978a784dd8a0df158de48ae34"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0NzAwNjczOnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNDoyNDo0OFrOF4fr1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNDo1NjoyM1rOF4gIRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc4MzcwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"for Service Provider:%s.\";\n          \n          \n            \n                        \"for application:%s.\";", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394783701", "createdAt": "2020-03-19T04:24:48Z", "author": {"login": "mefarazath"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI '%s' is not defined \" +\n+            \"for Service Provider:%s.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "121ee605b817fd29af4b4901ec148ad73160a779"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc5MDk4MQ==", "bodyText": "addressed in b29cb4f", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394790981", "createdAt": "2020-03-19T04:56:23Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI '%s' is not defined \" +\n+            \"for Service Provider:%s.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc4MzcwMQ=="}, "originalCommit": {"oid": "121ee605b817fd29af4b4901ec148ad73160a779"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0NzA4ODI3OnYy", "diffSide": "RIGHT", "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNToxOTo1NFrOF4gc2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQwNTozODo0NFrOF4gtlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc5NjI1MA==", "bodyText": "shall we add a space after : mark", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394796250", "createdAt": "2020-03-19T05:19:54Z", "author": {"login": "emswbandara"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI '%s' is not defined \" +\n+            \"for application:%s.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b29cb4f92c6de08a226dd39ed245c1df3363f5cc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgwMDUzNQ==", "bodyText": "I didn't add a space there to keep consistency with other error logs.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2830#discussion_r394800535", "createdAt": "2020-03-19T05:38:44Z", "author": {"login": "AnuradhaSK"}, "path": "components/application-mgt/org.wso2.carbon.identity.application.mgt/src/main/java/org/wso2/carbon/identity/application/mgt/ApplicationMgtValidator.java", "diffHunk": "@@ -77,6 +77,8 @@\n             \"for tenantDomain:%s.\";\n     private static final String CLAIM_NOT_AVAILABLE = \"Local claim %s is not available in the server \" +\n             \"for tenantDomain:%s.\";\n+    private static final String SP_CLAIM_NOT_AVAILABLE = \"Application Claim URI '%s' is not defined \" +\n+            \"for application:%s.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDc5NjI1MA=="}, "originalCommit": {"oid": "b29cb4f92c6de08a226dd39ed245c1df3363f5cc"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2246, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}