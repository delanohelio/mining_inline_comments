{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwODIyMzI3", "number": 2795, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1MzozN1rODjc7wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNDo0NToxNFrODjfPKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NTAwODAyOnYy", "diffSide": "RIGHT", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1MzozN1rOFvRFAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1MzozN1rOFvRFAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEwNzIwMw==", "bodyText": "should be /permission/admin/manage/identity/identitymgt/update", "url": "https://github.com/wso2/carbon-identity-framework/pull/2795#discussion_r385107203", "createdAt": "2020-02-27T12:53:37Z", "author": {"login": "IsuraD"}, "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "diffHunk": "@@ -1213,20 +1213,58 @@\n             <Permissions>none</Permissions>\n             <Scopes>internal_login</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"all\">\n-            <Permissions>/permission/admin/manage/identity</Permissions>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/associations\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/user/association/view</Permissions>\n+            <Scopes>internal_user_association_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/associations\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/user/association/delete</Permissions>\n+            <Scopes>internal_user_association_delete</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/federated-associations\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/user/association/view</Permissions>\n+            <Scopes>internal_user_association_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/federated-associations(.*)\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/user/association/delete</Permissions>\n+            <Scopes>internal_user_association_delete</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>\n             <Scopes>internal_identity_mgt_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"PUT, PATCH\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/update</Permissions>\n             <Scopes>internal_identity_mgt_update</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/create</Permissions>\n             <Scopes>internal_identity_mgt_create</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/delete</Permissions>\n             <Scopes>internal_identity_mgt_delete</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"all\">\n-            <Permissions>/permission/admin/manage/identity</Permissions>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>\n             <Scopes>internal_identity_mgt_view</Scopes>\n-            <Scopes>internal_identity_mgt_update</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"PUT, PATCH\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2e19f08f6097deeda1bea0bbf8fb617ab5000f8"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NTAxNTE4OnYy", "diffSide": "RIGHT", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1NjoxNFrOFvRJeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1NjoxNFrOFvRJeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEwODM0Ng==", "bodyText": "we need fine-grained permission for this. Just login permission won't enough", "url": "https://github.com/wso2/carbon-identity-framework/pull/2795#discussion_r385108346", "createdAt": "2020-02-27T12:56:14Z", "author": {"login": "IsuraD"}, "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "diffHunk": "@@ -1213,20 +1213,58 @@\n             <Permissions>none</Permissions>\n             <Scopes>internal_login</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"all\">\n-            <Permissions>/permission/admin/manage/identity</Permissions>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/associations\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/user/association/view</Permissions>\n+            <Scopes>internal_user_association_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/associations\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/user/association/delete</Permissions>\n+            <Scopes>internal_user_association_delete</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/federated-associations\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/user/association/view</Permissions>\n+            <Scopes>internal_user_association_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/federated-associations(.*)\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/user/association/delete</Permissions>\n+            <Scopes>internal_user_association_delete</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>\n             <Scopes>internal_identity_mgt_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"PUT, PATCH\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/update</Permissions>\n             <Scopes>internal_identity_mgt_update</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/create</Permissions>\n             <Scopes>internal_identity_mgt_create</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenges(.*)\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/delete</Permissions>\n             <Scopes>internal_identity_mgt_delete</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"all\">\n-            <Permissions>/permission/admin/manage/identity</Permissions>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>\n             <Scopes>internal_identity_mgt_view</Scopes>\n-            <Scopes>internal_identity_mgt_update</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"PUT, PATCH\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/view</Permissions>\n+            <Scopes>internal_identity_mgt_view</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/create</Permissions>\n             <Scopes>internal_identity_mgt_create</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/users/v1/(.*)/challenge-answers(.*)\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/admin/manage/identity/identitymgt/delete</Permissions>\n             <Scopes>internal_identity_mgt_delete</Scopes>\n         </Resource>\n+        <Resource context=\"(.*)/api/users/v1/claim-dialects/(.*)\" secured=\"true\" http-method=\"all\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2e19f08f6097deeda1bea0bbf8fb617ab5000f8"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NTAyNTM3OnYy", "diffSide": "RIGHT", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1OTozNFrOFvRPzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxMjo1OTozNFrOFvRPzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEwOTk2Ng==", "bodyText": "WE can't unsecure this. Need fine-grained permission.", "url": "https://github.com/wso2/carbon-identity-framework/pull/2795#discussion_r385109966", "createdAt": "2020-02-27T12:59:34Z", "author": {"login": "IsuraD"}, "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "diffHunk": "@@ -1251,12 +1289,15 @@\n             <Scopes>internal_identity_mgt_delete</Scopes>\n         </Resource>\n         <Resource context=\"(.*)/api/server/v1/keystores/certs/public(.*)\" secured=\"false\" http-method=\"GET\"/>\n-        <Resource context=\"(.*)/api/server/v1/applications(.*)\" secured=\"true\" http-method=\"PUT, POST, PATCH\">\n-            <Permissions>/permission/admin/manage/identity/applicationmgt/update</Permissions>\n+        <Resource context=\"(.*)/api/server/v1/keystores/(.*)\" secured=\"false\" http-method=\"GET, POST, DELETE\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a5ef09a381587adae6e282ec0a35f7fa53c7354"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4NTM4NTM2OnYy", "diffSide": "RIGHT", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNDo0NToxNFrOFvUqng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNDo0NToxNFrOFvUqng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTE2NTk4Mg==", "bodyText": "idpmgt/view for GET\nidpmgt/update for PATCH", "url": "https://github.com/wso2/carbon-identity-framework/pull/2795#discussion_r385165982", "createdAt": "2020-02-27T14:45:14Z", "author": {"login": "IsuraD"}, "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml", "diffHunk": "@@ -1265,6 +1326,44 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/identity-governance/(.*)\" secured=\"true\" http-method=\"GET, PATCH\">\n+            <Permissions>/permission/admin/manage</Permissions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45c3d8491b4e61816ab203ea102f7ec8243642fb"}, "originalPosition": 107}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2412, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}