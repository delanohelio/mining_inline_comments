{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNjIwNTUy", "number": 892, "title": "Feature/task 891 multiline state labels", "bodyText": "Make state labels mutli line....\n'MY_STATE' then looks like this:\n\n'TestStateBla' like this:\n\n(Also of course breaking on white space)\nClosing #891", "createdAt": "2020-12-07T12:04:40Z", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892", "merged": true, "mergeCommit": {"oid": "4bf89f2739204d2e922520f5ff6413ded0eff885"}, "closed": true, "closedAt": "2020-12-07T15:51:48Z", "author": {"login": "franzTobiasDLR"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj0NN0gH2gAyNTMzNjIwNTUyOmZlYjU4NGZmNDVmYmYzNWNmZDFhNDE0ZWU4N2U1ZmNjMTFiNTY5OWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj2M8oAFqTU0NjE4NjcyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "feb584ff45fbf35cfd1a414ee87e5fcc11b5699c", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/feb584ff45fbf35cfd1a414ee87e5fcc11b5699c", "committedDate": "2020-12-07T11:54:05Z", "message": "Implement multiline state label - (Task #891)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f34f8369c90637b27ab64aa38fac8d834006e9e2", "committedDate": "2020-12-07T11:54:28Z", "message": "Refactor transiition label provider"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTAzNzE2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#pullrequestreview-546103716", "createdAt": "2020-12-07T12:31:47Z", "commit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjozMTo0N1rOIAkkUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjozNToyNFrOIAksrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MDAzMw==", "bodyText": "Maybe its just github but the whitespacing seems off in this method.", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537470033", "createdAt": "2020-12-07T12:31:47Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r\n+            \tbuilder.append(' ');\r\n+            }\r\n+            builder.append(charArray[i]);\r\n+        }\r\n+\t\treturn WordUtils.wrap(builder.toString(), 1);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MDY4Mg==", "bodyText": "Could we start the for loop with i = 1 and then remove this condition?", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537470682", "createdAt": "2020-12-07T12:32:52Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MTcyMg==", "bodyText": "Lets move the formatter to the model plugin, then we can also test it.\nI dont see any UI dependencies.", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537471722", "createdAt": "2020-12-07T12:34:40Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MjE3NA==", "bodyText": "Can we define a constant for the second parameter?", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537472174", "createdAt": "2020-12-07T12:35:24Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r\n+            \tbuilder.append(' ');\r\n+            }\r\n+            builder.append(charArray[i]);\r\n+        }\r\n+\t\treturn WordUtils.wrap(builder.toString(), 1);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTA5MjM0", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#pullrequestreview-546109234", "createdAt": "2020-12-07T12:39:22Z", "commit": {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb527aea8ce71ba4e10d551f775e57937f836bb4", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/cb527aea8ce71ba4e10d551f775e57937f836bb4", "committedDate": "2020-12-07T13:07:00Z", "message": "Some code improvements accroding to review - (Task #891)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ddaa298e9689f0041df7a4f3b1a63a33cd73183", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0ddaa298e9689f0041df7a4f3b1a63a33cd73183", "committedDate": "2020-12-07T13:08:32Z", "message": "Fix refactoring - (Task #891)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ce0a70092df706ba8ee101834dffc6dec64d92", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/a9ce0a70092df706ba8ee101834dffc6dec64d92", "committedDate": "2020-12-07T13:11:43Z", "message": "Revert moving of transition label provider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b2dac5155829bc9b11ca222fee9d883c35cd840", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/6b2dac5155829bc9b11ca222fee9d883c35cd840", "committedDate": "2020-12-07T13:16:50Z", "message": "Move label formatter to virsat graphiti project - (Task #891)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d88e84393ad9a99a773b8667d074c130a8954bb5", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d88e84393ad9a99a773b8667d074c130a8954bb5", "committedDate": "2020-12-07T13:31:52Z", "message": "Merge branch 'integration' into feature/task_891-Multiline_state_labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bd24efa8f6e8f61d00eaaeba90ebf1a8b882a6c", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0bd24efa8f6e8f61d00eaaeba90ebf1a8b882a6c", "committedDate": "2020-12-07T13:51:50Z", "message": "Add tset for formatter - (Task #891)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d852575cf4ee03c14d9ef7c4b8dd2d6fdc957fb1", "author": {"user": {"login": "franzTobiasDLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d852575cf4ee03c14d9ef7c4b8dd2d6fdc957fb1", "committedDate": "2020-12-07T13:54:49Z", "message": "Fix wrong version number"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTg2NzI2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#pullrequestreview-546186726", "createdAt": "2020-12-07T14:13:36Z", "commit": {"oid": "d852575cf4ee03c14d9ef7c4b8dd2d6fdc957fb1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 457, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}