{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1Mzk2NDA0", "number": 470, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QwODoyMToyNVrODgTOFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QwODoyMToyNVrODgTOFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM1MTk1OTI3OnYy", "diffSide": "RIGHT", "path": "de.dlr.sc.virsat.project/src/de/dlr/sc/virsat/project/editingDomain/VirSatWorkspaceCommandStack.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QwODoyMToyNlrOFqbkIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwNzo1Mjo1NlrOFq4MeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNjEyOQ==", "bodyText": "Which boolean are we talking about in this comment?", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/470#discussion_r380036129", "createdAt": "2020-02-17T08:21:26Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.project/src/de/dlr/sc/virsat/project/editingDomain/VirSatWorkspaceCommandStack.java", "diffHunk": "@@ -224,20 +227,22 @@ public void setEditingDomain(VirSatTransactionalEditingDomain editingDomain) {\n \t/**\r\n \t * Trigger a save all upon completion of the executing command\r\n \t */\r\n-\tpublic void triggerSaveAll() {\r\n+\tpublic synchronized void triggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save all Triggered by Thread: \" + Thread.currentThread().getName()));\r\n \t\ttriggerSave = true;\r\n \t}\r\n \t\r\n \t/**\r\n \t * Check if the triggerSave flag has been set. If so, ask the editing domain to save everything\r\n \t * and reset the flag.\r\n \t */\r\n-\tprivate void checkTriggerSaveAll() {\r\n+\tprivate synchronized void checkTriggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Check for save trigger\"));\r\n \t\tif (triggerSave) {\r\n-\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"Executed command triggered save all on editing domain\"));\r\n-\t\t\tVirSatSaveJob saveJob = new VirSatSaveJob(editingDomain, true);\r\n-\t\t\tsaveJob.scheduleIfNoSaveJobPending();\r\n-\t\t\ttriggerSave = false;\r\n+\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save tiggered Scheduling Save Job.\"));\r\n+\t\t\t// This boolean has to be reset first, otherwise the save all will be executed in\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0154f039e1ef6697be01fb6a5a5b527d48b25c79"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDE2NzIxNQ==", "bodyText": "Has been a deprecated comment. Updated it.", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/470#discussion_r380167215", "createdAt": "2020-02-17T12:58:47Z", "author": {"login": "PhilMFischer"}, "path": "de.dlr.sc.virsat.project/src/de/dlr/sc/virsat/project/editingDomain/VirSatWorkspaceCommandStack.java", "diffHunk": "@@ -224,20 +227,22 @@ public void setEditingDomain(VirSatTransactionalEditingDomain editingDomain) {\n \t/**\r\n \t * Trigger a save all upon completion of the executing command\r\n \t */\r\n-\tpublic void triggerSaveAll() {\r\n+\tpublic synchronized void triggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save all Triggered by Thread: \" + Thread.currentThread().getName()));\r\n \t\ttriggerSave = true;\r\n \t}\r\n \t\r\n \t/**\r\n \t * Check if the triggerSave flag has been set. If so, ask the editing domain to save everything\r\n \t * and reset the flag.\r\n \t */\r\n-\tprivate void checkTriggerSaveAll() {\r\n+\tprivate synchronized void checkTriggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Check for save trigger\"));\r\n \t\tif (triggerSave) {\r\n-\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"Executed command triggered save all on editing domain\"));\r\n-\t\t\tVirSatSaveJob saveJob = new VirSatSaveJob(editingDomain, true);\r\n-\t\t\tsaveJob.scheduleIfNoSaveJobPending();\r\n-\t\t\ttriggerSave = false;\r\n+\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save tiggered Scheduling Save Job.\"));\r\n+\t\t\t// This boolean has to be reset first, otherwise the save all will be executed in\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNjEyOQ=="}, "originalCommit": {"oid": "0154f039e1ef6697be01fb6a5a5b527d48b25c79"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTIwOQ==", "bodyText": "@PhilMFischer I dont see any new commits.", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/470#discussion_r380505209", "createdAt": "2020-02-18T07:52:56Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.project/src/de/dlr/sc/virsat/project/editingDomain/VirSatWorkspaceCommandStack.java", "diffHunk": "@@ -224,20 +227,22 @@ public void setEditingDomain(VirSatTransactionalEditingDomain editingDomain) {\n \t/**\r\n \t * Trigger a save all upon completion of the executing command\r\n \t */\r\n-\tpublic void triggerSaveAll() {\r\n+\tpublic synchronized void triggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save all Triggered by Thread: \" + Thread.currentThread().getName()));\r\n \t\ttriggerSave = true;\r\n \t}\r\n \t\r\n \t/**\r\n \t * Check if the triggerSave flag has been set. If so, ask the editing domain to save everything\r\n \t * and reset the flag.\r\n \t */\r\n-\tprivate void checkTriggerSaveAll() {\r\n+\tprivate synchronized void checkTriggerSaveAll() {\r\n+\t\tActivator.getDefault().getLog().log(new Status(Status.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Check for save trigger\"));\r\n \t\tif (triggerSave) {\r\n-\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"Executed command triggered save all on editing domain\"));\r\n-\t\t\tVirSatSaveJob saveJob = new VirSatSaveJob(editingDomain, true);\r\n-\t\t\tsaveJob.scheduleIfNoSaveJobPending();\r\n-\t\t\ttriggerSave = false;\r\n+\t\t\tActivator.getDefault().getLog().log(new Status(IStatus.INFO, Activator.getPluginId(), \"VirSatWorkspaceCommandStack: Save tiggered Scheduling Save Job.\"));\r\n+\t\t\t// This boolean has to be reset first, otherwise the save all will be executed in\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNjEyOQ=="}, "originalCommit": {"oid": "0154f039e1ef6697be01fb6a5a5b527d48b25c79"}, "originalPosition": 106}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 680, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}