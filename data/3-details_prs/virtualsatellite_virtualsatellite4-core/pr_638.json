{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNTk0NzUy", "number": 638, "title": "Implementing ComposedPropertyBean", "bodyText": "Added missing BeanPropertyComposed and used it in GenerateCategoryBeans.\nCloses #633", "createdAt": "2020-06-12T10:18:58Z", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/638", "merged": true, "mergeCommit": {"oid": "39bb7412f608f25c3ee2a0beab06de28f1ee82cb"}, "closed": true, "closedAt": "2020-06-25T13:41:40Z", "author": {"login": "JAmmermann-DLR"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpi_1-gH2gAyNDMzNTk0NzUyOjNiZTM0OWJiMzg1MDc1Mzc3ZjZmOTQwM2M4OTEyMWRiZmJhYjE3MTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuu2TsgFqTQzNzUwNTA2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3be349bb385075377f6f9403c89121dbfbab1710", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/3be349bb385075377f6f9403c89121dbfbab1710", "committedDate": "2020-06-09T11:03:29Z", "message": "Add BeanPropertyComposed - (Task #633)\n\n---\nTask #633: Add missing BeanPropertyComposed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86f79ead9a61e90560dc624ea2bab19a9d789534", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/86f79ead9a61e90560dc624ea2bab19a9d789534", "committedDate": "2020-06-09T11:52:02Z", "message": "Add BeanPropertyComposed to GenerateCategoryBeans - (Task #633)\n\n---\nTask #633: Add missing BeanPropertyComposed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e541e404548a10d70bf9191e5244cdf2cf3d32fa", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e541e404548a10d70bf9191e5244cdf2cf3d32fa", "committedDate": "2020-06-10T11:40:25Z", "message": "Update GenerateCategoryBeans and BeanPropertyComposedTest - (Task #633)\n\n---\nTask #633: Add missing BeanPropertyComposed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9be1476bf3521419366540678c9f7deea37d813", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f9be1476bf3521419366540678c9f7deea37d813", "committedDate": "2020-06-10T14:27:00Z", "message": "Update GenerateCategoryBeans - (Task #633)\n\nAdd missing saveAccess call\n\n---\nTask #633: Add missing BeanPropertyComposed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e1b0d0387d50329f54357cb853629018ded35c8", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/3e1b0d0387d50329f54357cb853629018ded35c8", "committedDate": "2020-06-10T14:36:39Z", "message": "Merge remote-tracking branch 'origin/development' into\nfeature/task_633-Add_missing_BeanPrope\n\nConflicts:\n\tde.dlr.sc.virsat.model.concept/src/de/dlr/sc/virsat/model/concept/generator/beans/GenerateCategoryBeans.xtend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac", "author": {"user": {"login": "JAmmermann-DLR", "name": null}}, "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac", "committedDate": "2020-06-12T07:42:11Z", "message": "Update BeanPropertyComposed - (Task #633)\n\nNow uses UnexecutableCommand\n\n---\nTask #633: Add missing BeanPropertyComposed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMTE1Nzgw", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/638#pullrequestreview-432115780", "createdAt": "2020-06-17T07:08:40Z", "commit": {"oid": "cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzowODo0MFrOGk4dQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzowODo0MFrOGk4dQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTMyNjkxMw==", "bodyText": "Assertion comment looks wrong. Ca should still be set, right?", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/638#discussion_r441326913", "createdAt": "2020-06-17T07:08:40Z", "author": {"login": "SaMuellerDLR"}, "path": "de.dlr.sc.virsat.model.extension.tests.test/src/de/dlr/sc/virsat/model/concept/types/property/BeanPropertyComposedTest.java", "diffHunk": "@@ -0,0 +1,96 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.model.concept.types.property;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+\n+import org.eclipse.emf.common.command.Command;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import de.dlr.sc.virsat.model.dvlm.categories.CategoryAssignment;\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.ComposedPropertyInstance;\n+import de.dlr.sc.virsat.model.dvlm.categories.util.CategoryAssignmentHelper;\n+import de.dlr.sc.virsat.model.dvlm.concepts.Concept;\n+import de.dlr.sc.virsat.model.extension.tests.model.AConceptTestCase;\n+import de.dlr.sc.virsat.model.extension.tests.model.TestCategoryAllProperty;\n+import de.dlr.sc.virsat.model.extension.tests.model.TestCategoryComposition;\n+\n+public class BeanPropertyComposedTest extends AConceptTestCase {\n+\n+\tprivate TestCategoryAllProperty testCategoryAllProperty;\n+\tprivate TestCategoryComposition testCategoryComposition;\n+\tprivate BeanPropertyComposed<TestCategoryAllProperty> beanPropertyComposed;\n+\tprivate ComposedPropertyInstance cpiToCategory;\n+\n+\t@Before\n+\tpublic void setUp() throws Exception {\n+\t\tprepareEditingDomain();\n+\n+\t\tConcept concept = loadConceptFromPlugin();\n+\n+\t\ttestCategoryComposition = new TestCategoryComposition(concept);\n+\t\t\n+\t\tCategoryAssignment testCategoryCompositionCa = testCategoryComposition.getTypeInstance();\n+\t\tCategoryAssignmentHelper caHelper = new CategoryAssignmentHelper(testCategoryCompositionCa);\n+\n+\t\t// Create a bean for the cpi with a ca\n+\t\tcpiToCategory = (ComposedPropertyInstance) caHelper.getPropertyInstance(TestCategoryComposition.PROPERTY_TESTSUBCATEGORY);\n+\t\tbeanPropertyComposed = new BeanPropertyComposed<>(cpiToCategory);\n+\t\ttestCategoryAllProperty = testCategoryComposition.getTestSubCategory();\n+\t}\n+\n+\t@Test\n+\tpublic void testSetValue() {\n+\t\tassertNotNull(\"Initial a composed ca is set\", testCategoryComposition.getTestSubCategory());\n+\t\t\n+\t\t// This should have no effect\n+\t\tbeanPropertyComposed.setValue(null);\n+\t\t\n+\t\tassertEquals(\"The composed ca didn't change\", testCategoryAllProperty, testCategoryComposition.getTestSubCategory());\n+\t}\n+\n+\t@Test(expected = UnsupportedOperationException .class)\n+\tpublic void testSetValueEditingDomain() {\n+\t\tCommand setCommand = beanPropertyComposed.setValue(editingDomain, null);\n+\t\tassertFalse(\"Can't execute the command\", setCommand.canExecute());\n+\t\t\n+\t\t// Should always throw UnsupportedOperationException\n+\t\tsetCommand.execute();\n+\t}\n+\n+\t@Test\n+\tpublic void testGetValue() {\n+\t\tassertEquals(\"Got the expected value\", testCategoryAllProperty, beanPropertyComposed.getValue());\n+\t}\n+\n+\t@Test\n+\tpublic void testIsSet() {\n+\t\tassertTrue(\"A ca is set\", beanPropertyComposed.isSet());\n+\t\t\n+\t\tcpiToCategory.setTypeInstance(null);\n+\t\t\n+\t\tassertFalse(\"No ca is set\", beanPropertyComposed.isSet());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac"}, "originalPosition": 83}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNTk5NjAy", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/638#pullrequestreview-432599602", "createdAt": "2020-06-17T17:02:10Z", "commit": {"oid": "cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NTA1MDYx", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/638#pullrequestreview-437505061", "createdAt": "2020-06-25T13:41:33Z", "commit": {"oid": "cc131aeb52f462de539b0cbcc9dabdd6bff0f2ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 493, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}