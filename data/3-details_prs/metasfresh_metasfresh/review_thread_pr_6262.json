{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NjYxMTcw", "number": 6262, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjoyNzo0NVrODjDoIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMjowNlrODjDtFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MDg2MTc4OnYy", "diffSide": "RIGHT", "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjoyNzo0NVrOFupmpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMzo0MlrOFupxGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MDQ1Mg==", "bodyText": "why full cache reset is needed?", "url": "https://github.com/metasfresh/metasfresh/pull/6262#discussion_r384460452", "createdAt": "2020-02-26T12:27:45Z", "author": {"login": "teosarca"}, "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "diffHunk": "@@ -153,6 +175,7 @@ public void run(final String localTrxName) throws Exception\n \t\t\t\tsetTrxName(localTrxName);\n \n \t\t\t\tupdate0();\n+\t\t\t\tCacheMgt.get().reset();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d37e2a5d0293d48e58a6488560f5db2bb4254b"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MjU3NA==", "bodyText": "i would really really really avoid this.", "url": "https://github.com/metasfresh/metasfresh/pull/6262#discussion_r384462574", "createdAt": "2020-02-26T12:32:27Z", "author": {"login": "teosarca"}, "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "diffHunk": "@@ -153,6 +175,7 @@ public void run(final String localTrxName) throws Exception\n \t\t\t\tsetTrxName(localTrxName);\n \n \t\t\t\tupdate0();\n+\t\t\t\tCacheMgt.get().reset();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MDQ1Mg=="}, "originalCommit": {"oid": "67d37e2a5d0293d48e58a6488560f5db2bb4254b"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MzEzMQ==", "bodyText": "forgot that one there while testing smth, it's not.", "url": "https://github.com/metasfresh/metasfresh/pull/6262#discussion_r384463131", "createdAt": "2020-02-26T12:33:42Z", "author": {"login": "dragospodariu96"}, "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "diffHunk": "@@ -153,6 +175,7 @@ public void run(final String localTrxName) throws Exception\n \t\t\t\tsetTrxName(localTrxName);\n \n \t\t\t\tupdate0();\n+\t\t\t\tCacheMgt.get().reset();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MDQ1Mg=="}, "originalCommit": {"oid": "67d37e2a5d0293d48e58a6488560f5db2bb4254b"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MDg3MjUwOnYy", "diffSide": "RIGHT", "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMToyNVrOFuptFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMToyNVrOFuptFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MjEwMA==", "bodyText": "pls getC_PaySelection_ID() method instead of _paySelection.getC_PaySelection_ID().\nNOTE: in metasfresh, usually class fields which are prefixed with _ shall not be used directly.", "url": "https://github.com/metasfresh/metasfresh/pull/6262#discussion_r384462100", "createdAt": "2020-02-26T12:31:25Z", "author": {"login": "teosarca"}, "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "diffHunk": "@@ -673,6 +707,17 @@ private void setTrxName(final String trxName)\n \t\t_trxName = trxName;\n \t}\n \n+\t/**\n+\t * Invalidates Cache for current PaySelection.\n+\t */\n+\tprivate void cacheInvalidationForCurrentPaySelection()\n+\t{\n+\t\tfinal IModelCacheInvalidationService modelCacheInvalidationService = Services.get(IModelCacheInvalidationService.class);\n+\t\tmodelCacheInvalidationService.invalidate(\n+\t\t\t\tCacheInvalidateMultiRequest.fromTableNameAndRecordId(I_C_PaySelection.Table_Name, _paySelection.getC_PaySelection_ID()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d37e2a5d0293d48e58a6488560f5db2bb4254b"}, "originalPosition": 212}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MDg3NDQ2OnYy", "diffSide": "RIGHT", "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMjowNlrOFupuUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMjozMjowNlrOFupuUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ2MjQxNw==", "bodyText": "declare your modelCacheInvalidationService service  at the top, near the other services.", "url": "https://github.com/metasfresh/metasfresh/pull/6262#discussion_r384462417", "createdAt": "2020-02-26T12:32:06Z", "author": {"login": "teosarca"}, "path": "de.metas.banking/de.metas.banking.base/src/main/java/de/metas/banking/payment/impl/PaySelectionUpdater.java", "diffHunk": "@@ -673,6 +707,17 @@ private void setTrxName(final String trxName)\n \t\t_trxName = trxName;\n \t}\n \n+\t/**\n+\t * Invalidates Cache for current PaySelection.\n+\t */\n+\tprivate void cacheInvalidationForCurrentPaySelection()\n+\t{\n+\t\tfinal IModelCacheInvalidationService modelCacheInvalidationService = Services.get(IModelCacheInvalidationService.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d37e2a5d0293d48e58a6488560f5db2bb4254b"}, "originalPosition": 210}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1515, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}