{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMzYwMTIw", "number": 6707, "title": "Gh6696 add paymentTerm to Olcand rest endpoint", "bodyText": "#6696", "createdAt": "2020-05-21T13:44:16Z", "url": "https://github.com/metasfresh/metasfresh/pull/6707", "merged": true, "mergeCommit": {"oid": "ebf3ea7ff847ea3b7830f6ac80a25b7c3563205a"}, "closed": true, "closedAt": "2020-05-22T14:13:52Z", "author": {"login": "metas-rc"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjclLfgH2gAyNDIxMzYwMTIwOmE1OTBiZGYxY2U4ZTI3NzM0NjA2MGZjNjJlOGE2MTJmOTI5YjVhNjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjyx2WAFqTQxNjkzNjI3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a590bdf1ce8e277346060fc62e8a612f929b5a68", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/a590bdf1ce8e277346060fc62e8a612f929b5a68", "committedDate": "2020-05-21T12:11:23Z", "message": "#6696 ExternalId in C_PaymentTerm\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91c24a1627feb8c091e4365557076da7842b7798", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/91c24a1627feb8c091e4365557076da7842b7798", "committedDate": "2020-05-21T12:12:10Z", "message": "#6696 C_PaymentTerm_ID in C_OLCand\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86c612cf91634ab13aabd017c66cc018816880c9", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/86c612cf91634ab13aabd017c66cc018816880c9", "committedDate": "2020-05-21T12:14:10Z", "message": "#6696 propagate payment term from request until order\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63edbef66d6a67839739029215c36987b030b0e5", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/63edbef66d6a67839739029215c36987b030b0e5", "committedDate": "2020-05-21T13:42:33Z", "message": "#6696 tests\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b9989b2ea99c4f5dd45ac565652bd9e431a2f6b", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/8b9989b2ea99c4f5dd45ac565652bd9e431a2f6b", "committedDate": "2020-05-22T08:02:27Z", "message": "#6696 delete the snap file.\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a38ab70160af7b67e9f053046bd74f5ee3855fd", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/7a38ab70160af7b67e9f053046bd74f5ee3855fd", "committedDate": "2020-05-22T08:03:36Z", "message": "#6696 regenerated snap\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3b4eed026cbece528873740d34de22eb3f7fa2c", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c3b4eed026cbece528873740d34de22eb3f7fa2c", "committedDate": "2020-05-22T10:04:12Z", "message": "#6696 Modernize SystemTime and TimeSource\n\n- bring the changes from master\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8deace3fbe4c900f4b2ca5ede14af58412dacc77", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/8deace3fbe4c900f4b2ca5ede14af58412dacc77", "committedDate": "2020-05-22T10:05:17Z", "message": "#6696 let this test use a new FixedTimeSource\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a156fb297fdb7e3588701de0e3421a2a113d125", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/6a156fb297fdb7e3588701de0e3421a2a113d125", "committedDate": "2020-05-22T11:12:53Z", "message": "#6696 Bring more time related changes from master\n\nhttps://github.com/metasfresh/metasfresh/issues/6696"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2OTM2Mjc4", "url": "https://github.com/metasfresh/metasfresh/pull/6707#pullrequestreview-416936278", "createdAt": "2020-05-22T14:03:08Z", "commit": {"oid": "6a156fb297fdb7e3588701de0e3421a2a113d125"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNDowMzowOFrOGZYR9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNDowMzowOFrOGZYR9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI2NTM5Ng==", "bodyText": "not needed", "url": "https://github.com/metasfresh/metasfresh/pull/6707#discussion_r429265396", "createdAt": "2020-05-22T14:03:08Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.business/src/main/java/de/metas/payment/paymentterm/impl/PaymentTermRepository.java", "diffHunk": "@@ -86,4 +92,42 @@ public PaymentTermId getDefaultPaymentTermIdOrNull()\n \n \t\treturn null;\n \t}\n+\n+\t@Override\n+\tpublic Optional<PaymentTermId> retrievePaymentTermId(@NonNull final PaymentTermQuery query)\n+\t{\n+\t\tfinal IQueryBL queryBL = Services.get(IQueryBL.class);\n+\n+\t\tfinal IQueryBuilder<I_C_PaymentTerm> queryBuilder = queryBL\n+\t\t\t\t.createQueryBuilder(I_C_PaymentTerm.class)\n+\t\t\t\t.addOnlyActiveRecordsFilter();\n+\n+\t\tCheck.assumeNotNull(query.getOrgId(), \"Org Id is missing from PaymentTermQuery \", query);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a156fb297fdb7e3588701de0e3421a2a113d125"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3436, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}