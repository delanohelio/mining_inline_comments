{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2NDA2MDUx", "number": 6083, "title": "6081-app - Generate Invoices Action Parm \"Invoicedate\" is not taken", "bodyText": "AggregationEngine:\n\ngive precedence to the dataAcct and dateInvoiced parameters, if specified\nif the resp date is not given as paremt, then give precedence to the ICs DateInvoiced resp DateAcct\nalso enhance logging with MDCs here and there\n\n\nInvoiceCandidate2WorkpackageAggregator:\n\nwhen enqueing ICs for invoicing, then provide the process parameters to the respective workpackages\n(=> this is more or less the actual fix)\n\n\n\n#6081", "createdAt": "2020-01-23T14:58:20Z", "url": "https://github.com/metasfresh/metasfresh/pull/6083", "merged": true, "mergeCommit": {"oid": "649e8edcb5c42fdab2ba857f1ed764896745ee25"}, "closed": true, "closedAt": "2020-01-24T22:50:15Z", "author": {"login": "metas-ts"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9Lm2bAH2gAyMzY2NDA2MDUxOjE3YmQ5ZDU5ZjM5YmI0NGNmMjVmYmRhZmU1NjYyOGViMTMxN2Y5YTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9hf7XgH2gAyMzY2NDA2MDUxOjQxMDRmMTQ5NWUxNTQyZDhiYThmOWM3OGMxMWJmNTcwNmY5OTVlMDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "17bd9d59f39bb44cf25fbdafe56628eb1317f9a3", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/17bd9d59f39bb44cf25fbdafe56628eb1317f9a3", "committedDate": "2020-01-23T14:55:42Z", "message": "6081-app - Generate Invoices Action Parm \"Invoicedate\" is not taken\n\n* AggregationEngine:\n  * give precedence to the dataAcct and dateInvoiced parameters, if specified\n  * if the resp date is not given as paremt, then give precedence to the ICs DateInvoiced resp DateAcct\n  * also enhance logging with MDCs here and there\n* InvoiceCandidate2WorkpackageAggregator:\n  * when enqueing ICs for invoicing, then provide the process parameters to the respective workpackages\n  * (=> this is more or less the actual fix)\n\nhttps://github.com/metasfresh/metasfresh/issues/6081"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f59a28547bd80c6baf54cb2fcfd42d725bd9df7", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0f59a28547bd80c6baf54cb2fcfd42d725bd9df7", "committedDate": "2020-01-23T15:04:23Z", "message": "6081-app - Generate Invoices Action Parm \"Invoicedate\" is not taken\n\nAggregationEngine: give precedence to the \"preset\" dates over DateInvoiced/DateAcct (that's how it was anyways)\nhttps://github.com/metasfresh/metasfresh/issues/6081"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d581948b54398ea979f1528034504f3bee261486", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/d581948b54398ea979f1528034504f3bee261486", "committedDate": "2020-01-23T15:23:54Z", "message": "6070-app - EDI credit-memo QA\n\nadd current C_Invoice record to MDC\n#6070\n\n(cherry picked from commit 7d88f103771ffabf1e6edaec524717207484b8ec)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd5a9261324fcad34a4178011ea4ba715c17d3bb", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/cd5a9261324fcad34a4178011ea4ba715c17d3bb", "committedDate": "2020-01-23T15:59:59Z", "message": "6081-app - Generate Invoices Action Parm \"Invoicedate\" is not taken\n\nfix compile issues\nhttps://github.com/metasfresh/metasfresh/issues/6081"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "074e5376fd330cbc45c7e145ad281242d0ea13c6", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/074e5376fd330cbc45c7e145ad281242d0ea13c6", "committedDate": "2020-01-24T06:13:18Z", "message": "6081-app - Generate Invoices Action Parm \"Invoicedate\" is not taken\n\nfix unit test; add logging\nhttps://github.com/metasfresh/metasfresh/issues/6081"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "574014c443281dd40364c81e28f040968e23c5fc", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/574014c443281dd40364c81e28f040968e23c5fc", "committedDate": "2020-01-24T06:52:43Z", "message": "improve logging during dev-tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3Nzg2OTU2", "url": "https://github.com/metasfresh/metasfresh/pull/6083#pullrequestreview-347786956", "createdAt": "2020-01-24T07:40:17Z", "commit": {"oid": "574014c443281dd40364c81e28f040968e23c5fc"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNzo0MDoxOFrOFhVxgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwNzo0NDo0NVrOFhV1bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDUwNDA2NQ==", "bodyText": "note: this is an unrelated fix; not sure how long this was broken..", "url": "https://github.com/metasfresh/metasfresh/pull/6083#discussion_r370504065", "createdAt": "2020-01-24T07:40:18Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/org/adempiere/ad/callout/api/impl/CalloutExecutor.java", "diffHunk": "@@ -167,7 +168,7 @@ public void executeAll(final Function<String, ICalloutField> calloutFieldsSuppli\n \t\t\t\tfor (final ICalloutInstance callout : callouts)\n \t\t\t\t{\n \t\t\t\t\t// Optimization: don't fire this callout if it was indirectly already fired.\n-\t\t\t\t\tif (executedCalloutsTrace.contains(callout))\n+\t\t\t\t\tif (executedCalloutsTrace.contains(Util.mkKey(field.getColumnName(), callout)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "574014c443281dd40364c81e28f040968e23c5fc"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDUwNTA2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\treturn MDC.putCloseable(\"AD_PInstance_ID\", Integer.toString(selectionId.getRepoId()));\n          \n          \n            \n            \t\treturn MDC.putCloseable(\"RevalidationId\", Integer.toString(selectionId.getRepoId()));", "url": "https://github.com/metasfresh/metasfresh/pull/6083#discussion_r370505068", "createdAt": "2020-01-24T07:44:45Z", "author": {"login": "metas-ts"}, "path": "de.metas.swat/de.metas.swat.base/src/main/java/de/metas/inoutcandidate/api/ShipmentSchedulesMDC.java", "diffHunk": "@@ -33,17 +34,17 @@\n @UtilityClass\n public class ShipmentSchedulesMDC\n {\n-\tpublic static MDCCloseable withShipmentScheduleId(@NonNull final ShipmentScheduleId shipmentScheduleId)\n+\tpublic MDCCloseable withShipmentScheduleId(@NonNull final ShipmentScheduleId shipmentScheduleId)\n \t{\n-\t\treturn MDC.putCloseable(I_M_ShipmentSchedule.COLUMNNAME_M_ShipmentSchedule_ID, Integer.toString(shipmentScheduleId.getRepoId()));\n+\t\treturn TableRecordMDC.withTableRecordReference(I_M_ShipmentSchedule.Table_Name, shipmentScheduleId);\n \t}\n \n-\tpublic static MDCCloseable withShipmentScheduleUpdateRunNo(final int runNo)\n+\tpublic MDCCloseable withShipmentScheduleUpdateRunNo(final int runNo)\n \t{\n \t\treturn MDC.putCloseable(\"ShipmentScheduleUpdater-Run#\", Integer.toString(runNo));\n \t}\n \n-\tpublic static MDCCloseable withRevalidationId(@NonNull final PInstanceId selectionId)\n+\tpublic MDCCloseable withRevalidationId(@NonNull final PInstanceId selectionId)\n \t{\n \t\treturn MDC.putCloseable(\"AD_PInstance_ID\", Integer.toString(selectionId.getRepoId()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "574014c443281dd40364c81e28f040968e23c5fc"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4028791efc7ea4b39f8a3b2a81910c1c7fbd68d", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/e4028791efc7ea4b39f8a3b2a81910c1c7fbd68d", "committedDate": "2020-01-24T07:50:57Z", "message": "Apply suggestions from code review\r\n\r\n#6081"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4104f1495e1542d8ba8f9c78c11bf5706f995e00", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/4104f1495e1542d8ba8f9c78c11bf5706f995e00", "committedDate": "2020-01-24T16:26:03Z", "message": "minor codacy issue fix\n\n#6081"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3671, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}