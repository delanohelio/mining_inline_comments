{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNjcwMzM1", "number": 10362, "title": "Change how full grid refreshes from websockets work", "bodyText": "Related to #10276 . Impact is limited to grid views only and only in reaction to a websocket event, so it's safe to merge anytime.\nhttps://recordit.co/zfdKI8KD3p", "createdAt": "2020-12-07T13:29:13Z", "url": "https://github.com/metasfresh/metasfresh/pull/10362", "merged": true, "mergeCommit": {"oid": "4667933745f4411eaef412103f7de7110400779f"}, "closed": true, "closedAt": "2020-12-08T10:26:49Z", "author": {"login": "siemiatj"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj0kPdAH2gAyNTMzNjcwMzM1OjI0MmRlYjJmMmViMDk1NmZiZDM0NWI5NTE2NjFmMDkyZmY5NGUwNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkDokQAFqTU0Njc2NDgxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "242deb2f2eb0956fbd345b951661f092ff94e067", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/242deb2f2eb0956fbd345b951661f092ff94e067", "committedDate": "2020-12-07T12:19:14Z", "message": "#10276 suppress filters/quickactions refreshes when data request comes from a ws"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "593c22d88faacade16eaf33b3f5cd403661e70e7", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/593c22d88faacade16eaf33b3f5cd403661e70e7", "committedDate": "2020-12-07T13:31:59Z", "message": "#10276 linter fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTg3MTk1", "url": "https://github.com/metasfresh/metasfresh/pull/10362#pullrequestreview-546187195", "createdAt": "2020-12-07T14:14:08Z", "commit": {"oid": "593c22d88faacade16eaf33b3f5cd403661e70e7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDoxNDowOVrOIAouSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDoyMDo0MlrOIApBhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUzODEyMg==", "bodyText": "too many params. Can we use object param in here ?", "url": "https://github.com/metasfresh/metasfresh/pull/10362#discussion_r537538122", "createdAt": "2020-12-07T14:14:09Z", "author": {"login": "petrican"}, "path": "frontend/src/containers/DocumentList.js", "diffHunk": "@@ -459,7 +471,7 @@ class DocumentListContainer extends Component {\n    * @method getData\n    * @summary Loads view/included tab data from REST endpoint\n    */\n-  getData = (id, page, sortingQuery, locationAreaSearch) => {\n+  getData = (id, page, sortingQuery, locationAreaSearch, websocketRefresh) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "593c22d88faacade16eaf33b3f5cd403661e70e7"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU0MzA0NA==", "bodyText": "As I understand from Teo this is NOK as quickactions shall be refreshed", "url": "https://github.com/metasfresh/metasfresh/pull/10362#discussion_r537543044", "createdAt": "2020-12-07T14:20:42Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/ViewActions.js", "diffHunk": "@@ -416,7 +422,7 @@ export function fetchDocument({\n         }\n \n         // get quickactions\n-        if (viewId && shouldFetchQuickActions) {\n+        if (viewId && shouldFetchQuickActions && !websocketRefresh) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "593c22d88faacade16eaf33b3f5cd403661e70e7"}, "originalPosition": 75}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e000568f48e931705c2ae45c8ad257baf6d43eed", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/e000568f48e931705c2ae45c8ad257baf6d43eed", "committedDate": "2020-12-07T15:58:09Z", "message": "#10276 refresh quick actions and don't show spinner at all"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16692a73c2d2ca778c0728c6ae8deb3c73474b55", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/16692a73c2d2ca778c0728c6ae8deb3c73474b55", "committedDate": "2020-12-07T16:57:00Z", "message": "#10276 update tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NzY0ODE3", "url": "https://github.com/metasfresh/metasfresh/pull/10362#pullrequestreview-546764817", "createdAt": "2020-12-08T05:52:32Z", "commit": {"oid": "16692a73c2d2ca778c0728c6ae8deb3c73474b55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2943, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}