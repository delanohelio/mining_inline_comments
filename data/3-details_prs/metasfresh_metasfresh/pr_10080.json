{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5Mjc3OTY3", "number": 10080, "title": "#10079", "bodyText": "#10079", "createdAt": "2020-10-07T14:06:18Z", "url": "https://github.com/metasfresh/metasfresh/pull/10080", "merged": true, "mergeCommit": {"oid": "267f9516d4de39f8454909790137de3c8e56ec2e"}, "closed": true, "closedAt": "2020-10-08T15:18:05Z", "author": {"login": "dragospodariu96"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQNfu5gH2gAyNDk5Mjc3OTY3OjU3YzNlNjhjMTZlYmIyOWYzNDBmNDRhNWJmMGFmMmFmZGQ0NjljZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQgraMAFqTUwNDcyNTEyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "57c3e68c16ebb29f340f44a5bf0af2afdd469cfb", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/57c3e68c16ebb29f340f44a5bf0af2afdd469cfb", "committedDate": "2020-10-07T14:03:27Z", "message": "#10079\n - Added 2 new windows to webui\n - Marked column as key so we can show view in window"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e16b54fdcf99556ed65d93a70c3bb5b25dd70f2b", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/e16b54fdcf99556ed65d93a70c3bb5b25dd70f2b", "committedDate": "2020-10-08T11:15:02Z", "message": "#10079\n - Added a new column to be used as key in the view.\n - Updated scripts so that first the adjustments to the view are made."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzEzMTUw", "url": "https://github.com/metasfresh/metasfresh/pull/10080#pullrequestreview-504713150", "createdAt": "2020-10-08T12:09:11Z", "commit": {"oid": "e16b54fdcf99556ed65d93a70c3bb5b25dd70f2b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjowOToxMVrOHebbew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMjoxMzozMlrOHebmDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY2ODczMQ==", "bodyText": "no urls of private repos pls", "url": "https://github.com/metasfresh/metasfresh/pull/10080#discussion_r501668731", "createdAt": "2020-10-08T12:09:11Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5569920_sys_gh10079ModifyRV_Missing_Counter_Documents.sql", "diffHunk": "@@ -0,0 +1,133 @@\n+\n+\n+DROP VIEW IF EXISTS RV_Missing_Counter_Documents;\n+\n+\n+-- This view is made for C_Order entries and their counter-documents\n+-- If we start supporting other kind of counter documents in the fututre, this view will have to be updated with the logic on those tables, using unions\n+\n+CREATE VIEW RV_Missing_Counter_Documents\n+AS\n+\n+\n+SELECT\n+    -- In the future, if we will add support for other documents (i.e: invoices), we will have to update the id column's logic using a case when logic.\n+    -- https://github.com/metasfresh/mf15/issues/318", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e16b54fdcf99556ed65d93a70c3bb5b25dd70f2b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY3MTQzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    WHEN doc.Record_ID IS NOT NULL THEN (doc.Record_ID * 10) + 1\n          \n          \n            \n                    WHEN doc.C_OrderLine_ID IS NOT NULL THEN (doc.Record_ID * 10) + 1\n          \n      \n    \n    \n  \n\ni wrote\n\nexplicitly return the C_OrderLine_ID which has the missing counter doc from the doc subselect, together with the Record_ID\n\nexactly for the purpose of using it in RV_Missing_Counter_Document_ID\nif we later add e.g. C_Invoice_Lines with missing-counter-docs then it will also be aliased to Record_ID, so using doc.Record_ID does not make sense", "url": "https://github.com/metasfresh/metasfresh/pull/10080#discussion_r501671439", "createdAt": "2020-10-08T12:13:32Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5569920_sys_gh10079ModifyRV_Missing_Counter_Documents.sql", "diffHunk": "@@ -0,0 +1,133 @@\n+\n+\n+DROP VIEW IF EXISTS RV_Missing_Counter_Documents;\n+\n+\n+-- This view is made for C_Order entries and their counter-documents\n+-- If we start supporting other kind of counter documents in the fututre, this view will have to be updated with the logic on those tables, using unions\n+\n+CREATE VIEW RV_Missing_Counter_Documents\n+AS\n+\n+\n+SELECT\n+    -- In the future, if we will add support for other documents (i.e: invoices), we will have to update the id column's logic using a case when logic.\n+    -- https://github.com/metasfresh/mf15/issues/318\n+    CASE\n+        WHEN doc.Record_ID IS NOT NULL THEN (doc.Record_ID * 10) + 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e16b54fdcf99556ed65d93a70c3bb5b25dd70f2b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba714d0e5356a748ab5524285733f62ba73bfed4", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/ba714d0e5356a748ab5524285733f62ba73bfed4", "committedDate": "2020-10-08T12:17:38Z", "message": "#10079\n - Implemented review notes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzI1MTI3", "url": "https://github.com/metasfresh/metasfresh/pull/10080#pullrequestreview-504725127", "createdAt": "2020-10-08T12:24:24Z", "commit": {"oid": "ba714d0e5356a748ab5524285733f62ba73bfed4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3095, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}