{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1OTc1MzE3", "number": 6324, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo1ODoyNVrODmvsaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowNDowM1rODmv20w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTUzODk5OnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTo1ODoyNVrOF0Vl2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNTo1NToyMFrOF0qBjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNDAyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              AND ad_element_id = (SELECT ad_element_id FROM ad_element WHERE columnname = 'AD_Org_ID')\n          \n          \n            \n              AND ad_element_id = (SELECT ad_element_id FROM ad_element WHERE columnname = 'AD_Org_ID')\n          \n          \n            \n              AND ad_reference_id != (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search')", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390424026", "createdAt": "2020-03-10T15:58:25Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,\n+    Updated=now()\n+WHERE TRUE\n+  AND ad_element_id = (SELECT ad_element_id FROM ad_element WHERE columnname = 'AD_Org_ID')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyOTY4MA==", "bodyText": "please stick with teos suggestion to update only the record that actually need updating", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390429680", "createdAt": "2020-03-10T16:06:05Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,\n+    Updated=now()\n+WHERE TRUE\n+  AND ad_element_id = (SELECT ad_element_id FROM ad_element WHERE columnname = 'AD_Org_ID')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNDAyNg=="}, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc1ODc5OQ==", "bodyText": "updated sql", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390758799", "createdAt": "2020-03-11T05:55:20Z", "author": {"login": "TheBestPessimist"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,\n+    Updated=now()\n+WHERE TRUE\n+  AND ad_element_id = (SELECT ad_element_id FROM ad_element WHERE columnname = 'AD_Org_ID')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNDAyNg=="}, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTU2MjIxOnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowMzoxOVrOF0V0XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNTo1NTowOFrOF0qBbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNzc0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Updated=now()\n          \n          \n            \n                Updated=`2020-03-10 17:01:56.767453+01`\n          \n      \n    \n    \n  \n\nuse a hardcoded date string that will be the same in the SQL and the DB", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390427740", "createdAt": "2020-03-10T16:03:19Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,\n+    Updated=now()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc1ODc2Ng==", "bodyText": "done", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390758766", "createdAt": "2020-03-11T05:55:08Z", "author": {"login": "TheBestPessimist"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,\n+    Updated=now()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNzc0MA=="}, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTU2NTYzOnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowNDowM1rOF0V2dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwNTo1NTozN1rOF0qB2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyODI3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                UpdatedBy=0,\n          \n          \n            \n                UpdatedBy=99,\n          \n      \n    \n    \n  \n\nuse AD_User_ID 99 which is generally used for \"manual\" migrations", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390428276", "createdAt": "2020-03-10T16:04:03Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDc1ODg3Mg==", "bodyText": "Updated user id", "url": "https://github.com/metasfresh/metasfresh/pull/6324#discussion_r390758872", "createdAt": "2020-03-11T05:55:37Z", "author": {"login": "TheBestPessimist"}, "path": "de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5554220_sys_gh6298_Update_AD_Org_ID_InProcessesToSearch.sql", "diffHunk": "@@ -0,0 +1,18 @@\n+-- Backup the table AD_Process_Para, Even though only the rows containing 'AD_Org_ID' will be modified\n+CREATE TABLE backup.ad_process_para_gh6298_ad_org_id_as_search AS\n+    (\n+        SELECT *\n+        FROM ad_process_para\n+    )\n+;\n+\n+\n+-- Unconditionally update the `ad_reference_id` to `Search`\n+UPDATE ad_process_para\n+SET --\n+    ad_reference_id = (SELECT ad_reference_id FROM ad_reference WHERE name = 'Search'),\n+    UpdatedBy=0,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyODI3Ng=="}, "originalCommit": {"oid": "241520b9d3bc94d6b1adac0a6e2204d5aedaafb9"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1416, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}