{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NDI0OTc3", "number": 10331, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowMFrOE-x28w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowOFrOE-x3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjY0MDUxOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.contracts/src/main/java/de/metas/contracts/commission/salesrep/interceptor/C_Order.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowMFrOH8HnMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowMFrOH8HnMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjgwMTMzMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t// then don't override the sales partner from the BPartners' mater data, but assume that the sales partner shall remain the way it is.\n          \n          \n            \n            \t\t// then don't override the sales-partner-id from the BPartners' mater data, but assume that the sales-partner-id shall remain the way it was set on the new record.\n          \n          \n            \n            \t\t// This implies that the master data might be updated on thid C_Order's after-new modelinterceptor method", "url": "https://github.com/metasfresh/metasfresh/pull/10331#discussion_r532801331", "createdAt": "2020-11-30T18:15:00Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.contracts/src/main/java/de/metas/contracts/commission/salesrep/interceptor/C_Order.java", "diffHunk": "@@ -62,8 +63,21 @@ public C_Order(\n \t\tServices.get(IProgramaticCalloutProvider.class).registerAnnotatedCallout(this);\n \t}\n \n+\t@ModelChange(\n+\t\t\ttimings = { ModelValidator.TYPE_BEFORE_NEW, ModelValidator.TYPE_BEFORE_CHANGE },\n+\t\t\tifColumnsChanged = { I_C_Order.COLUMNNAME_C_BPartner_ID, I_C_Order.COLUMNNAME_Bill_BPartner_ID })\n+\tpublic void updateSalesPartnerFromCustomer(@NonNull final I_C_Order orderRecord, @NonNull final ModelChangeType type)\n+\t{\n+\t\t// if on a new C_Order record both SalesPartnerCode and the BPartner-IDs were set at the same time,\n+\t\t// then don't override the sales partner from the BPartners' mater data, but assume that the sales partner shall remain the way it is.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd52ff8e2fb119914eb2523c85a9f8a3fb99a08c"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MjY0MTE3OnYy", "diffSide": "RIGHT", "path": "backend/de.metas.contracts/src/main/java/de/metas/contracts/commission/salesrep/interceptor/C_Order.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowOFrOH8Hnkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxODoxNTowOFrOH8Hnkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjgwMTQyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t// if on a new C_Order record both SalesPartnerCode and the BPartner-IDs were set at the same time,\n          \n          \n            \n            \t\t// If on a new C_Order record both SalesPartnerCode and the BPartner-IDs were set at the same time,", "url": "https://github.com/metasfresh/metasfresh/pull/10331#discussion_r532801426", "createdAt": "2020-11-30T18:15:08Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.contracts/src/main/java/de/metas/contracts/commission/salesrep/interceptor/C_Order.java", "diffHunk": "@@ -62,8 +63,21 @@ public C_Order(\n \t\tServices.get(IProgramaticCalloutProvider.class).registerAnnotatedCallout(this);\n \t}\n \n+\t@ModelChange(\n+\t\t\ttimings = { ModelValidator.TYPE_BEFORE_NEW, ModelValidator.TYPE_BEFORE_CHANGE },\n+\t\t\tifColumnsChanged = { I_C_Order.COLUMNNAME_C_BPartner_ID, I_C_Order.COLUMNNAME_Bill_BPartner_ID })\n+\tpublic void updateSalesPartnerFromCustomer(@NonNull final I_C_Order orderRecord, @NonNull final ModelChangeType type)\n+\t{\n+\t\t// if on a new C_Order record both SalesPartnerCode and the BPartner-IDs were set at the same time,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd52ff8e2fb119914eb2523c85a9f8a3fb99a08c"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1574, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}