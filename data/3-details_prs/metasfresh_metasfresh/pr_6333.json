{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MjQ4NTYw", "number": 6333, "title": "#6331 Implement translating greeting", "bodyText": "#6331 The Greeting of the contact is not translated in the address block", "createdAt": "2020-03-10T16:49:26Z", "url": "https://github.com/metasfresh/metasfresh/pull/6333", "merged": true, "mergeCommit": {"oid": "ae7857b9a8ebb7b09fac4145fcf974630eac2d84"}, "closed": true, "closedAt": "2020-03-12T09:37:00Z", "author": {"login": "cristinamghita"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMUE86gH2gAyMzg2MjQ4NTYwOmRkNmM4MmZiMjdmMDgyZmJmNTk1ODczY2FkOTE1YTRhMzEzOWUwOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMlTqKAH2gAyMzg2MjQ4NTYwOmM4NjI2NmY0MGFlN2VlZjk2Yzc0ZmE0NDc1YjMxMzgzMDUxODEzYTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd6c82fb27f082fbf595873cad915a4a3139e08e", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/dd6c82fb27f082fbf595873cad915a4a3139e08e", "committedDate": "2020-03-10T15:16:41Z", "message": "#6331 Move greeting repo and all\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91cfd1da6569cb73eae9feb171af2c97386fefdc", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/91cfd1da6569cb73eae9feb171af2c97386fefdc", "committedDate": "2020-03-10T15:17:00Z", "message": "#6331 Implement translating greeting\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a409db6d31e8e2dfe4e50f853e4652c4a41eed67", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/a409db6d31e8e2dfe4e50f853e4652c4a41eed67", "committedDate": "2020-03-10T15:17:21Z", "message": "Merge branch 'master' into gh6331"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b1a5efcf1fdc287694d5f55438e17ba119deef7", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0b1a5efcf1fdc287694d5f55438e17ba119deef7", "committedDate": "2020-03-10T15:26:42Z", "message": "#6331 Add spring ApplicationContext\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e2d545b6ca299291fce8893e10267f383c089ab", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0e2d545b6ca299291fce8893e10267f383c089ab", "committedDate": "2020-03-10T16:10:43Z", "message": "#6331 Refactor and set the language\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3e98c188263aee01af578f9c0aa189da3c2ce67", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/a3e98c188263aee01af578f9c0aa189da3c2ce67", "committedDate": "2020-03-10T16:22:09Z", "message": "#6331 Do not set langugae in all tests\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f44b2812a007925d84a5c6c1f16259d5202c1012", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/f44b2812a007925d84a5c6c1f16259d5202c1012", "committedDate": "2020-03-10T16:24:37Z", "message": "#6331 Use proper tag\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "540eb9fdaf5404481e55673bcc1bb6696a44b540", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/540eb9fdaf5404481e55673bcc1bb6696a44b540", "committedDate": "2020-03-10T16:48:52Z", "message": "#6331 Update display sequence\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMTUxODA2", "url": "https://github.com/metasfresh/metasfresh/pull/6333#pullrequestreview-372151806", "createdAt": "2020-03-10T17:06:49Z", "commit": {"oid": "540eb9fdaf5404481e55673bcc1bb6696a44b540"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNzowNjo0OVrOF0Yh0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNzowNjo0OVrOF0Yh0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ3MjE0Nw==", "bodyText": "BP's language is not mandatory....", "url": "https://github.com/metasfresh/metasfresh/pull/6333#discussion_r390472147", "createdAt": "2020-03-10T17:06:49Z", "author": {"login": "teosarca"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/location/impl/AddressBuilder.java", "diffHunk": "@@ -648,15 +655,19 @@ else if (\"CR\".equals(token))\n \t * @param trxName\n \t * @return\n \t */\n-\tprivate String buildUserBlock(final Properties ctx, final boolean isLocal, final I_AD_User user, final String bPartnerBlock, final boolean isPartnerCompany, final String trxName)\n+\tprivate String buildUserBlock(@NonNull final org.compiere.model.I_C_BPartner bPartner,  final boolean isLocal, final I_AD_User user, final String bPartnerBlock, final String trxName)\n \t{\n-\t\tString userGreeting = \"\";\n+\t\tfinal Properties ctx = InterfaceWrapperHelper.getCtx(bPartner);\n+\t\tfinal boolean isPartnerCompany = bPartner.isCompany();\n+\t\tfinal Language language = Language.asLanguage(bPartner.getAD_Language());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "540eb9fdaf5404481e55673bcc1bb6696a44b540"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/12b5f28d6858cbebe3030fd596197f361e1d6ee2", "committedDate": "2020-03-10T17:14:42Z", "message": "#6331 Use app spring context for testing\n\n#6331 The Greeting of the contact is not translated in address block"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMTg5NDgw", "url": "https://github.com/metasfresh/metasfresh/pull/6333#pullrequestreview-372189480", "createdAt": "2020-03-10T17:53:36Z", "commit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNzo1MzozN1rOF0aZYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNzo1NTo0MFrOF0ae7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUwMjc1NQ==", "bodyText": "Don't use SpringRunner. Just use org.compiere.SpringContextHolder.registerJUnitBean(T) to register ur bean (in ur case, register the GreetingRepository).\nMore, when touching a junit4 test, pls convert it to junit5.", "url": "https://github.com/metasfresh/metasfresh/pull/6333#discussion_r390502755", "createdAt": "2020-03-10T17:53:37Z", "author": {"login": "teosarca"}, "path": "de.metas.adempiere.adempiere/base/src/test/java/de/metas/location/impl/AddressBuilderTest.java", "diffHunk": "@@ -14,14 +14,23 @@\n import org.junit.Before;\n import org.junit.BeforeClass;\n import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.test.context.junit4.SpringRunner;\n \n+import de.metas.ShutdownListener;\n+import de.metas.StartupListener;\n import de.metas.adempiere.model.I_AD_User;\n import de.metas.bpartner.service.IBPartnerBL;\n import de.metas.bpartner.service.impl.BPartnerBL;\n+import de.metas.greeting.GreetingRepository;\n import de.metas.interfaces.I_C_BPartner;\n import de.metas.organization.OrgId;\n import de.metas.user.UserRepository;\n+import lombok.Builder;\n \n+@RunWith(SpringRunner.class)\n+@SpringBootTest(classes = { StartupListener.class, ShutdownListener.class, GreetingRepository.class })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUwMjk4MQ==", "bodyText": "remove it", "url": "https://github.com/metasfresh/metasfresh/pull/6333#discussion_r390502981", "createdAt": "2020-03-10T17:53:56Z", "author": {"login": "teosarca"}, "path": "de.metas.business.rest-api-impl/pom.xml", "diffHunk": "@@ -98,5 +98,10 @@\n             <scope>test</scope>\n         </dependency>\n \n+        <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUwMzQ2MQ==", "bodyText": "same, avoid SpringRunner and SpringBootTest.", "url": "https://github.com/metasfresh/metasfresh/pull/6333#discussion_r390503461", "createdAt": "2020-03-10T17:54:31Z", "author": {"login": "teosarca"}, "path": "de.metas.business.rest-api-impl/src/test/java/de/metas/rest_api/bpartner/impl/BpartnerRestControllerTest.java", "diffHunk": "@@ -121,6 +126,8 @@\n  * #L%\n  */\n \n+@RunWith(SpringRunner.class)\n+@SpringBootTest(classes = { StartupListener.class, ShutdownListener.class, GreetingRepository.class })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUwNDE3Mw==", "bodyText": "in this case, it's highly advisable to set builderClassName=\"BPartnerBuilder\".", "url": "https://github.com/metasfresh/metasfresh/pull/6333#discussion_r390504173", "createdAt": "2020-03-10T17:55:40Z", "author": {"login": "teosarca"}, "path": "de.metas.adempiere.adempiere/base/src/test/java/de/metas/location/impl/AddressBuilderTest.java", "diffHunk": "@@ -732,13 +793,15 @@ private I_C_BPartner_Location prepareBPLocation(final I_C_Location location)\n \t\treturn bpLoc;\n \t}\n \n-\tprivate I_C_BPartner prepareBPartner(final String name, final String name2, final boolean isCompany)\n+\t@Builder(builderMethodName = \"builderBPartner\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12b5f28d6858cbebe3030fd596197f361e1d6ee2"}, "originalPosition": 187}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b6114784940d336c2fabccb3c6314c2edcf85ee", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/6b6114784940d336c2fabccb3c6314c2edcf85ee", "committedDate": "2020-03-11T08:00:54Z", "message": "#6331 Use SpringContextHolder.registerJUnitBean\n\n#6331 The Greeting of the contact is not translated in the address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aed6cb1eba72a7828b3dd9a7d0e4a1168c7aae09", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/aed6cb1eba72a7828b3dd9a7d0e4a1168c7aae09", "committedDate": "2020-03-11T10:40:50Z", "message": "#6331 Convert test to Junit 5\n\n#6331 The Greeting of the contact is not translated in the address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d192c47536072f7c2b66ef30249e115a887d602", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/9d192c47536072f7c2b66ef30249e115a887d602", "committedDate": "2020-03-11T11:04:21Z", "message": "#6331 Adjust text to adivse properly\n\n#6331 The Greeting of the contact is not translated in the address block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c86266f40ae7eef96c74fa4475b31383051813a3", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c86266f40ae7eef96c74fa4475b31383051813a3", "committedDate": "2020-03-11T11:21:08Z", "message": "#6331 Avoid null greeting\n\n#6331 The Greeting of the contact is not translated in address block"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3554, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}