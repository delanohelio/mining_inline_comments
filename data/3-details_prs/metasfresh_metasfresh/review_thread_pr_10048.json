{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MTQzODM0", "number": 10048, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxMjo1OVrOEpfnqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNTowMTo1N1rOEphDkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTQ1MTI5OnYy", "diffSide": "RIGHT", "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxMjo1OVrOHbMYVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxMjo1OVrOHbMYVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI3NjQzNw==", "bodyText": "move this sysconfig to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper and call it de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct.", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498276437", "createdAt": "2020-10-01T14:12:59Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "diffHunk": "@@ -75,6 +76,9 @@\n \n public class HUPIItemProductDAO implements IHUPIItemProductDAO\n {\n+\tprivate static final ISysConfigBL sysConfigBL = Services.get(ISysConfigBL.class);\n+\tprivate static final String SYSCONFIG_Enforce_M_HU_PI_Item_Product_ID = \"de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_M_HU_PI_Item_Product_ID\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTQ1NjkyOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxNDowMVrOHbMbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxNDowMVrOHbMbqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI3NzI4OA==", "bodyText": "do this checking in de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper and decide there if u set queryVO's priceListVersionId.", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498277288", "createdAt": "2020-10-01T14:14:01Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "diffHunk": "@@ -291,10 +295,12 @@ public I_M_HU_PI_Item_Product retrieveMaterialItemProduct(\n \t\t\t}\n \t\t}\n \n+\t\tfinal boolean enforceHU_PI_Item_Product = sysConfigBL.getBooleanValue(SYSCONFIG_Enforce_M_HU_PI_Item_Product_ID, false);\n+\t\t\n \t\t//\n \t\t// Product Price of a Price List Version has this Packing Item\n \t\t{\n-\t\t\tif (queryVO.getPriceListVersionId() != null)\n+\t\t\tif (enforceHU_PI_Item_Product && queryVO.getPriceListVersionId() != null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTQ4Nzc5OnYy", "diffSide": "RIGHT", "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDoyNlrOHbMu8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDoyNlrOHbMu8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4MjIyNw==", "bodyText": "rename it to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498282227", "createdAt": "2020-10-01T14:20:26Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "diffHunk": "@@ -0,0 +1,11 @@\n+-- 2020-10-01T08:04:59.066Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_SysConfig (AD_Client_ID,AD_Org_ID,AD_SysConfig_ID,ConfigurationLevel,Created,CreatedBy,EntityType,IsActive,Name,Updated,UpdatedBy,Value) VALUES (0,0,541342,'C',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'D','Y','de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_ M_HU_PI_Item_Product_ID',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'N')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTQ4ODIwOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDozMlrOHbMvOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDozMlrOHbMvOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4MjI5OA==", "bodyText": "rename it to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498282298", "createdAt": "2020-10-01T14:20:32Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "diffHunk": "@@ -0,0 +1,11 @@\n+-- 2020-10-01T08:04:59.066Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_SysConfig (AD_Client_ID,AD_Org_ID,AD_SysConfig_ID,ConfigurationLevel,Created,CreatedBy,EntityType,IsActive,Name,Updated,UpdatedBy,Value) VALUES (0,0,541342,'C',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'D','Y','de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_ M_HU_PI_Item_Product_ID',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'N')\n+;\n+\n+\n+-- 2020-10-01T10:34:07.379Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+UPDATE AD_SysConfig SET Name='de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_M_HU_PI_Item_Product_ID',Updated=TO_TIMESTAMP('2020-10-01 13:34:07','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_SysConfig_ID=541342", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExOTY4NjU3OnYy", "diffSide": "RIGHT", "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/quickinput/field/PackingItemProductFieldHelper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNTowMTo1N1rOHbOrvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNzo1MjoyM1rOHc6H7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNDE3Mw==", "bodyText": "not sure this will work with Client level sysconfigs....", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498314173", "createdAt": "2020-10-01T15:01:57Z", "author": {"login": "teosarca"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/quickinput/field/PackingItemProductFieldHelper.java", "diffHunk": "@@ -88,6 +92,8 @@\n \t\t\treturn Optional.empty();\n \t\t}\n \n+\t\tfinal boolean enforcePrecisePricePerHUItemProduct = sysConfigBL.getBooleanValue(SYSCONFIG_EnforcePrecisePricePerHUItemProduct, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0013941cbd2bd633dbb5084e7c7756756706ae5c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA3NDQ3Ng==", "bodyText": "Agree. Tested and fixed it! Thx!", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r500074476", "createdAt": "2020-10-06T07:52:23Z", "author": {"login": "cristinamghita"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/quickinput/field/PackingItemProductFieldHelper.java", "diffHunk": "@@ -88,6 +92,8 @@\n \t\t\treturn Optional.empty();\n \t\t}\n \n+\t\tfinal boolean enforcePrecisePricePerHUItemProduct = sysConfigBL.getBooleanValue(SYSCONFIG_EnforcePrecisePricePerHUItemProduct, false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNDE3Mw=="}, "originalCommit": {"oid": "0013941cbd2bd633dbb5084e7c7756756706ae5c"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1206, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}