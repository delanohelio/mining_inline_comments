{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NzY2MzU3", "number": 10301, "title": "Implement AD_UI_Element.Inline_Tab_ID", "bodyText": "related issue: #10275\nhttps://www.loom.com/share/0b21b04c3baf4dc69cc913e0f8172494", "createdAt": "2020-11-24T20:39:34Z", "url": "https://github.com/metasfresh/metasfresh/pull/10301", "merged": true, "mergeCommit": {"oid": "6015bd03f92bdb76ed85e36809ec13a64020f9e7"}, "closed": true, "closedAt": "2020-12-17T13:21:38Z", "author": {"login": "teosarca"}, "timelineItems": {"totalCount": 121, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmZ1xXgH2gAyNTI2NzY2MzU3OjZlYzE1Y2Y4NGZlNGMzNzUzZWZjOTQxNjk4MDZhNWEwZWY5Zjc2YmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnC9HngH2gAyNTI2NzY2MzU3OjczODMyZjBkMjkzOWUxM2E5MmU2ZTY2OWI2MDNkZTEyMjAyMmM3YTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ec15cf84fe4c3753efc94169806a5a0ef9f76bf", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/6ec15cf84fe4c3753efc94169806a5a0ef9f76bf", "committedDate": "2020-12-15T12:52:43Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/72ae73b53cf0243bf5886ba2b8435dcabd6668d8", "committedDate": "2020-12-15T15:10:44Z", "message": "#10257 This script is not needed.\n\nThe baseline wndow for BPartner (123)  should not have inline tabs\n\nhttps://github.com/metasfresh/metasfresh/issues/10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c9418157e0b667967d248e8952e73971f78037e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/6c9418157e0b667967d248e8952e73971f78037e", "committedDate": "2020-12-16T07:30:08Z", "message": "Move promptOpen property to the store instead of local state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cd34e738dd1fae41c322e47a59d82f4dcb0251b", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/1cd34e738dd1fae41c322e47a59d82f4dcb0251b", "committedDate": "2020-12-16T07:35:22Z", "message": "Add doc to the function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e20012b8ab392e9ada911afd401c588f91af8f7", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/7e20012b8ab392e9ada911afd401c588f91af8f7", "committedDate": "2020-12-16T08:00:26Z", "message": "More cleanup and removed isOpen from the local state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01e971dd3c58baaf6eb0d55d1491f0c8bf86d296", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/01e971dd3c58baaf6eb0d55d1491f0c8bf86d296", "committedDate": "2020-12-16T08:04:01Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33217f7937818e612126b1d999aaa168846de450", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/33217f7937818e612126b1d999aaa168846de450", "committedDate": "2020-12-16T08:23:58Z", "message": "Add test for the setInlineTabitemProp action"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "528e0bb2a4c405738c1fd6d29de0e60e9b5dc559", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/528e0bb2a4c405738c1fd6d29de0e60e9b5dc559", "committedDate": "2020-12-16T09:19:47Z", "message": "Test the open state of inlineTab row item"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "441061e978d2fdf9d363413c9a8bfffa3a81ceed", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/441061e978d2fdf9d363413c9a8bfffa3a81ceed", "committedDate": "2020-12-16T09:26:19Z", "message": "Test for closed state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b1397456fb928aead319ef314aa69e02cc9c118", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/2b1397456fb928aead319ef314aa69e02cc9c118", "committedDate": "2020-12-16T09:32:34Z", "message": "Test for the presence of the delete button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60a9aa951674ab8e0131b86925a7b743317c2a4d", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/60a9aa951674ab8e0131b86925a7b743317c2a4d", "committedDate": "2020-12-16T09:44:27Z", "message": "Test the presence of the delete confirmation prompt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdfec355ed488b8e4b5489da576ee9ddc2368c6c", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/cdfec355ed488b8e4b5489da576ee9ddc2368c6c", "committedDate": "2020-12-16T10:26:36Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNTQ1MjQ3", "url": "https://github.com/metasfresh/metasfresh/pull/10301#pullrequestreview-551545247", "createdAt": "2020-12-14T16:22:41Z", "commit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjoyMjo0MVrOIFYoMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxODoxMjo0MlrOIGZGxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxNzI5OA==", "bodyText": "Why not just use a single splice tabData.splice(lastAdditionIndex, 1, tempData); ? Or even better - create a new array instead of mutating the response object ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542517298", "createdAt": "2020-12-14T16:22:41Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/InlineTabActions.js", "diffHunk": "@@ -0,0 +1,223 @@\n+import { fetchTab } from './WindowActions';\n+import { getLayout, getData } from '../api';\n+import { INLINE_TAB_SHOW_MORE_FROM } from '../constants/Constants';\n+import {\n+  UPDATE_INLINE_TAB_ITEM_FIELDS,\n+  UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+  SET_INLINE_TAB_WRAPPER_DATA,\n+  SET_INLINE_TAB_LAYOUT_AND_DATA,\n+  SET_INLINE_TAB_ADD_NEW,\n+  SET_INLINE_TAB_SHOW_MORE,\n+} from '../constants/ActionTypes';\n+\n+/*\n+ * @method updateInlineTabItemFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Item\n+ *\n+ * @param {string} inlineTabId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabItemFields({ inlineTabId, fieldsByName }) {\n+  return {\n+    type: UPDATE_INLINE_TAB_ITEM_FIELDS,\n+    payload: { inlineTabId, fieldsByName },\n+  };\n+}\n+\n+/*\n+ * @method updateInlineTabWrapperFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Wrapper\n+ *\n+ * @param {string} inlineTabWrapperId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabWrapperFields({\n+  inlineTabWrapperId,\n+  rowId,\n+  response,\n+}) {\n+  return {\n+    type: UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+    payload: { inlineTabWrapperId, rowId, response },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTabWrapper branch in the redux store with the data payload\n+ */\n+export function setInlineTabWrapperData({ inlineTabWrapperId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_WRAPPER_DATA,\n+    payload: { inlineTabWrapperId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the showMore value for the corresponding inlineTabWrapperId\n+ */\n+export function setInlineTabShowMore({ inlineTabWrapperId, showMore }) {\n+  return {\n+    type: SET_INLINE_TAB_SHOW_MORE,\n+    payload: { inlineTabWrapperId, showMore },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab branch in the redux store with the data payload\n+ */\n+export function setInlineTabLayoutAndData({ inlineTabId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_LAYOUT_AND_DATA,\n+    payload: { inlineTabId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab AddNew form related data in the store, visible is for toggling the visibility\n+ */\n+export function setInlineTabAddNew({ visible, windowId, tabId, rowId, docId }) {\n+  return {\n+    type: SET_INLINE_TAB_ADD_NEW,\n+    payload: { visible, windowId, tabId, rowId, docId },\n+  };\n+}\n+\n+/*\n+ * @method fetchInlineTabWrapperData\n+ * @summary Action creator for fetching the data for the `InlineTab` Wrapper (note: wrapper not the inline tab item!)\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} query\n+ */\n+export function fetchInlineTabWrapperData({\n+  windowId,\n+  tabId,\n+  docId,\n+  query,\n+  rowId,\n+  postDeletion,\n+}) {\n+  return (dispatch) => {\n+    dispatch(fetchTab({ tabId, windowId, docId, query })).then((tabData) => {\n+      /** - if we have the rowId it means we have a new record addition, so we put that at the end of the array - only if this doesn't happen as a result of deletion */\n+      if (rowId && !postDeletion) {\n+        const lastAdditionIndex = tabData.findIndex(\n+          (item) => item.rowId === rowId\n+        );\n+        if (lastAdditionIndex) {\n+          const tempData = tabData[lastAdditionIndex];\n+          tabData.splice(lastAdditionIndex, 1);\n+          tabData.splice(tabData.length, 0, tempData);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxNzg0OA==", "bodyText": "Add a helper to format id's ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542517848", "createdAt": "2020-12-14T16:23:28Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/InlineTabActions.js", "diffHunk": "@@ -0,0 +1,223 @@\n+import { fetchTab } from './WindowActions';\n+import { getLayout, getData } from '../api';\n+import { INLINE_TAB_SHOW_MORE_FROM } from '../constants/Constants';\n+import {\n+  UPDATE_INLINE_TAB_ITEM_FIELDS,\n+  UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+  SET_INLINE_TAB_WRAPPER_DATA,\n+  SET_INLINE_TAB_LAYOUT_AND_DATA,\n+  SET_INLINE_TAB_ADD_NEW,\n+  SET_INLINE_TAB_SHOW_MORE,\n+} from '../constants/ActionTypes';\n+\n+/*\n+ * @method updateInlineTabItemFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Item\n+ *\n+ * @param {string} inlineTabId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabItemFields({ inlineTabId, fieldsByName }) {\n+  return {\n+    type: UPDATE_INLINE_TAB_ITEM_FIELDS,\n+    payload: { inlineTabId, fieldsByName },\n+  };\n+}\n+\n+/*\n+ * @method updateInlineTabWrapperFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Wrapper\n+ *\n+ * @param {string} inlineTabWrapperId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabWrapperFields({\n+  inlineTabWrapperId,\n+  rowId,\n+  response,\n+}) {\n+  return {\n+    type: UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+    payload: { inlineTabWrapperId, rowId, response },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTabWrapper branch in the redux store with the data payload\n+ */\n+export function setInlineTabWrapperData({ inlineTabWrapperId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_WRAPPER_DATA,\n+    payload: { inlineTabWrapperId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the showMore value for the corresponding inlineTabWrapperId\n+ */\n+export function setInlineTabShowMore({ inlineTabWrapperId, showMore }) {\n+  return {\n+    type: SET_INLINE_TAB_SHOW_MORE,\n+    payload: { inlineTabWrapperId, showMore },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab branch in the redux store with the data payload\n+ */\n+export function setInlineTabLayoutAndData({ inlineTabId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_LAYOUT_AND_DATA,\n+    payload: { inlineTabId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab AddNew form related data in the store, visible is for toggling the visibility\n+ */\n+export function setInlineTabAddNew({ visible, windowId, tabId, rowId, docId }) {\n+  return {\n+    type: SET_INLINE_TAB_ADD_NEW,\n+    payload: { visible, windowId, tabId, rowId, docId },\n+  };\n+}\n+\n+/*\n+ * @method fetchInlineTabWrapperData\n+ * @summary Action creator for fetching the data for the `InlineTab` Wrapper (note: wrapper not the inline tab item!)\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} query\n+ */\n+export function fetchInlineTabWrapperData({\n+  windowId,\n+  tabId,\n+  docId,\n+  query,\n+  rowId,\n+  postDeletion,\n+}) {\n+  return (dispatch) => {\n+    dispatch(fetchTab({ tabId, windowId, docId, query })).then((tabData) => {\n+      /** - if we have the rowId it means we have a new record addition, so we put that at the end of the array - only if this doesn't happen as a result of deletion */\n+      if (rowId && !postDeletion) {\n+        const lastAdditionIndex = tabData.findIndex(\n+          (item) => item.rowId === rowId\n+        );\n+        if (lastAdditionIndex) {\n+          const tempData = tabData[lastAdditionIndex];\n+          tabData.splice(lastAdditionIndex, 1);\n+          tabData.splice(tabData.length, 0, tempData);\n+        }\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUxOTg5Mg==", "bodyText": "are we supposed to have a new color for this ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542519892", "createdAt": "2020-12-14T16:26:04Z", "author": {"login": "siemiatj"}, "path": "frontend/src/assets/css/tabs.css", "diffHunk": "@@ -308,3 +309,96 @@\n     display: flex;\n     flex-direction: column;\n }\n+\n+/** Inline TAB **/\n+.inline-tab-wrapper {\n+    width: 100%;\n+    box-sizing: border-box;\n+    .main-label {\n+      font-weight: bold; \n+      color: #495057;\n+    }\n+    .inlinetab-action-button {\n+      float:left;\n+    }\n+    .inlinetab-showmore {\n+      float: right;\n+    }\n+    .bottom-offset {\n+      margin-bottom: 5px;\n+    }\n+}\n+.inline-tab-fullscreen-top-offset {\n+  padding-top: 20px !important;\n+}\n+.inline-tab {\n+    background: #E3E1E2;\n+    width: 100%;\n+    box-sizing: border-box;\n+    padding: 10px 15px 10px 15px;\n+    border-radius: 3px;\n+    cursor: pointer;\n+    margin-bottom:5px;\n+\n+    .arrow-pointer {\n+      display: block;\n+      float: left;\n+      margin: 6px 8px 8px 0px;\n+      width: 8px;\n+      height: 8px;\n+      border-top: 2px solid #000;\n+      border-left: 2px solid #000;\n+      transform: rotate(135deg);\n+    }\n+    .offset-left {\n+      margin-left:15px;\n+    }\n+}\n+\n+.inline-tab:hover {\n+  background-color: #dddddd;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUyMDM1MQ==", "bodyText": "New color again ? Won't brand-bright-color work ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542520351", "createdAt": "2020-12-14T16:26:35Z", "author": {"login": "siemiatj"}, "path": "frontend/src/assets/css/tabs.css", "diffHunk": "@@ -308,3 +309,96 @@\n     display: flex;\n     flex-direction: column;\n }\n+\n+/** Inline TAB **/\n+.inline-tab-wrapper {\n+    width: 100%;\n+    box-sizing: border-box;\n+    .main-label {\n+      font-weight: bold; \n+      color: #495057;\n+    }\n+    .inlinetab-action-button {\n+      float:left;\n+    }\n+    .inlinetab-showmore {\n+      float: right;\n+    }\n+    .bottom-offset {\n+      margin-bottom: 5px;\n+    }\n+}\n+.inline-tab-fullscreen-top-offset {\n+  padding-top: 20px !important;\n+}\n+.inline-tab {\n+    background: #E3E1E2;\n+    width: 100%;\n+    box-sizing: border-box;\n+    padding: 10px 15px 10px 15px;\n+    border-radius: 3px;\n+    cursor: pointer;\n+    margin-bottom:5px;\n+\n+    .arrow-pointer {\n+      display: block;\n+      float: left;\n+      margin: 6px 8px 8px 0px;\n+      width: 8px;\n+      height: 8px;\n+      border-top: 2px solid #000;\n+      border-left: 2px solid #000;\n+      transform: rotate(135deg);\n+    }\n+    .offset-left {\n+      margin-left:15px;\n+    }\n+}\n+\n+.inline-tab:hover {\n+  background-color: #dddddd;\n+}\n+\n+.inline-tab-offset-top {\n+  margin-top: -5px;\n+}\n+\n+.inline-tab-active {\n+  background: #F6F4EF;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUyMDg0Nw==", "bodyText": "This looks like brand-light-color", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542520847", "createdAt": "2020-12-14T16:27:12Z", "author": {"login": "siemiatj"}, "path": "frontend/src/assets/css/tabs.css", "diffHunk": "@@ -308,3 +309,96 @@\n     display: flex;\n     flex-direction: column;\n }\n+\n+/** Inline TAB **/\n+.inline-tab-wrapper {\n+    width: 100%;\n+    box-sizing: border-box;\n+    .main-label {\n+      font-weight: bold; \n+      color: #495057;\n+    }\n+    .inlinetab-action-button {\n+      float:left;\n+    }\n+    .inlinetab-showmore {\n+      float: right;\n+    }\n+    .bottom-offset {\n+      margin-bottom: 5px;\n+    }\n+}\n+.inline-tab-fullscreen-top-offset {\n+  padding-top: 20px !important;\n+}\n+.inline-tab {\n+    background: #E3E1E2;\n+    width: 100%;\n+    box-sizing: border-box;\n+    padding: 10px 15px 10px 15px;\n+    border-radius: 3px;\n+    cursor: pointer;\n+    margin-bottom:5px;\n+\n+    .arrow-pointer {\n+      display: block;\n+      float: left;\n+      margin: 6px 8px 8px 0px;\n+      width: 8px;\n+      height: 8px;\n+      border-top: 2px solid #000;\n+      border-left: 2px solid #000;\n+      transform: rotate(135deg);\n+    }\n+    .offset-left {\n+      margin-left:15px;\n+    }\n+}\n+\n+.inline-tab:hover {\n+  background-color: #dddddd;\n+}\n+\n+.inline-tab-offset-top {\n+  margin-top: -5px;\n+}\n+\n+.inline-tab-active {\n+  background: #F6F4EF;\n+  width: 100%;\n+  box-sizing: border-box;\n+  padding: 10px 15px 10px 15px;\n+  border-radius: 3px;\n+  cursor: pointer;\n+  margin-bottom:5px;\n+\n+  .arrow-pointer {\n+    display: block;\n+    float: left;\n+    margin: 4px 8px 8px 0px;\n+    width: 8px;\n+    height: 8px;\n+    border-top: 2px solid #000;\n+    border-left: 2px solid #000;\n+    transform: rotate(224deg);\n+  }\n+  .offset-left {\n+    margin-left:15px;\n+  }\n+  .inline-tab-separator {\n+    width:100%;\n+    border-top: 1px solid #C8D6D5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUyNDAxMg==", "bodyText": "typo", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542524012", "createdAt": "2020-12-14T16:31:02Z", "author": {"login": "siemiatj"}, "path": "frontend/src/reducers/windowHandler.js", "diffHunk": "@@ -732,6 +790,111 @@ export default function windowHandler(state = initialState, action) {\n         },\n       };\n     }\n+    // INLINE TAB ACTINIONS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 131}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUyNjI3Ng==", "bodyText": "Why use map if you're not returning a map but just iterate over items ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542526276", "createdAt": "2020-12-14T16:33:59Z", "author": {"login": "siemiatj"}, "path": "frontend/src/reducers/windowHandler.js", "diffHunk": "@@ -732,6 +790,111 @@ export default function windowHandler(state = initialState, action) {\n         },\n       };\n     }\n+    // INLINE TAB ACTINIONS\n+    case SET_INLINE_TAB_LAYOUT_AND_DATA: {\n+      return {\n+        ...state,\n+        inlineTab: {\n+          ...state.inlineTab,\n+          [`${action.payload.inlineTabId}`]: action.payload.data,\n+        },\n+      };\n+    }\n+    case SET_INLINE_TAB_WRAPPER_DATA: {\n+      return {\n+        ...state,\n+        inlineTab: {\n+          ...state.inlineTab,\n+          wrapperData: {\n+            ...state.inlineTab.wrapperData,\n+            [`${action.payload.inlineTabWrapperId}`]: action.payload.data,\n+          },\n+        },\n+      };\n+    }\n+    case UPDATE_INLINE_TAB_WRAPPER_FIELDS: {\n+      let indexWD;\n+      const { inlineTabWrapperId, rowId, response } = action.payload;\n+      const { fieldsByName, saveStatus, validStatus } = response;\n+      state.inlineTab.wrapperData[inlineTabWrapperId].forEach((item, i) => {\n+        if (item.rowId === rowId) indexWD = i;\n+      });\n+\n+      const wrapperDataClone = { ...state.inlineTab.wrapperData };\n+      if (wrapperDataClone[inlineTabWrapperId][indexWD]) {\n+        wrapperDataClone[inlineTabWrapperId][indexWD].saveStatus = saveStatus;\n+        wrapperDataClone[inlineTabWrapperId][indexWD].validStatus = validStatus;\n+        wrapperDataClone[inlineTabWrapperId][indexWD].fieldsByName = {\n+          ...wrapperDataClone[inlineTabWrapperId][indexWD].fieldsByName,\n+          ...fieldsByName,\n+        };\n+      }\n+\n+      return {\n+        ...state,\n+        inlineTab: {\n+          ...state.inlineTab,\n+          wrapperData: wrapperDataClone,\n+        },\n+      };\n+    }\n+\n+    case UPDATE_INLINE_TAB_ITEM_FIELDS: {\n+      const { inlineTabId, fieldsByName } = action.payload;\n+\n+      const targetTabData = { ...state.inlineTab[`${inlineTabId}`].data };\n+\n+      Object.keys(fieldsByName).map((fieldItem) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 185}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUyNzcwNg==", "bodyText": "Please add a fallback when state.windowHandler.inlineTab[id] doesn't exist. Best to just use lodash's get", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r542527706", "createdAt": "2020-12-14T16:35:36Z", "author": {"login": "siemiatj"}, "path": "frontend/src/reducers/windowHandler.js", "diffHunk": "@@ -205,6 +250,19 @@ export const getElementWidgetData = createCachedSelector(\n   (data, layout) => selectWidgetData(data, layout)\n )((_state_, isModal, layoutPath) => layoutPath);\n \n+/**\n+ * @method getInlineTabWidgetFields\n+ *\n+ * @param {object} state - redux state\n+ * @param {boolean} isModal\n+ * @param {string} layoutPath - indexes of elements in the layout structure\n+ */\n+export const getInlineTabWidgetFields = ({ state, inlineTabId }) => {\n+  const data = state.windowHandler.inlineTab[`${inlineTabId}`].data;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM3MzM5Ng==", "bodyText": "What are those comments for ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543373396", "createdAt": "2020-12-15T14:11:20Z", "author": {"login": "siemiatj"}, "path": "frontend/src/__tests__/actions/InlineTabActions.test.js", "diffHunk": "@@ -0,0 +1,322 @@\n+import thunk from 'redux-thunk';\n+import configureStore from 'redux-mock-store';\n+import merge from 'merge';\n+import {\n+  updateInlineTabItemFields,\n+  updateInlineTabWrapperFields,\n+  setInlineTabWrapperData,\n+  setInlineTabShowMore,\n+  setInlineTabLayoutAndData,\n+  setInlineTabAddNew,\n+} from '../../actions/InlineTabActions';\n+import * as ACTION_TYPES from '../../constants/ActionTypes';\n+import gridProps from '../../../test_setup/fixtures/grid.json';\n+import gridLayoutFixtures from '../../../test_setup/fixtures/grid/layout.json';\n+import { initialState as initialViewsState } from '../../reducers/viewHandler';\n+import tablesHandler from '../../reducers/tables';\n+const middlewares = [thunk];\n+const mockStore = configureStore(middlewares);\n+\n+const createState = function(state = {}) {\n+  const res = merge.recursive(\n+    true,\n+    {\n+      viewHandler: initialViewsState,\n+      tables: { ...tablesHandler(undefined, {}) },\n+    },\n+    state\n+  );\n+\n+  return res;\n+};\n+\n+describe('InlineTab - actions general', () => {\n+  /** UPDATE_INLINE_TAB_ITEM_FIELDS action */\n+  it('should call UPDATE_INLINE_TAB_ITEM_FIELDS action with correct payload', () => {\n+    const { windowType } = gridProps.props1;\n+    const layoutResponse = gridLayoutFixtures.layout1;\n+    const initialInlineTabId = '123_AD_Tab-222_2205230';\n+    const initialFieldsByName = {\n+      BPartnerName: {\n+        field: 'BPartnerName',\n+        value: 'e',\n+        widgetType: 'Text',\n+        validStatus: {\n+          valid: true,\n+          initialValue: true,\n+          fieldName: 'BPartnerName',\n+        },\n+      },\n+    };\n+    const payload = {\n+      inlineTabId: initialInlineTabId,\n+      fieldsByName: initialFieldsByName,\n+    };\n+    const action = updateInlineTabItemFields({\n+      inlineTabId: initialInlineTabId,\n+      fieldsByName: initialFieldsByName,\n+    });\n+\n+    expect(action.type).toEqual(ACTION_TYPES.UPDATE_INLINE_TAB_ITEM_FIELDS);\n+    expect(action.payload).toHaveProperty('inlineTabId', payload.inlineTabId);\n+    expect(action.payload).toHaveProperty('fieldsByName', payload.fieldsByName);\n+\n+    const initialState = createState({\n+      viewHandler: {\n+        views: {\n+          [windowType]: {\n+            layout: { ...layoutResponse },\n+          },\n+        },\n+      },\n+    });\n+    const store = mockStore(initialState);\n+    const expectedActions = [\n+      { type: ACTION_TYPES.UPDATE_INLINE_TAB_ITEM_FIELDS, payload },\n+    ];\n+\n+    store.dispatch(\n+      updateInlineTabItemFields({\n+        inlineTabId: initialInlineTabId,\n+        fieldsByName: initialFieldsByName,\n+      })\n+    );\n+    expect(store.getActions()).toEqual(expect.arrayContaining(expectedActions));\n+  });\n+\n+  /** UPDATE_INLINE_TAB_WRAPPER_FIELDS action */\n+  it('should call UPDATE_INLINE_TAB_WRAPPER_FIELDS action with correct payload', () => {\n+    const { windowType } = gridProps.props1;\n+    const layoutResponse = gridLayoutFixtures.layout1;\n+    const initialInlineTabId = '123_AD_Tab-222_2205230';\n+    const rowId = '2205230';\n+    const payload = {\n+      inlineTabWrapperId: initialInlineTabId,\n+      rowId,\n+      response: {},\n+    };\n+\n+    const action = updateInlineTabWrapperFields({\n+      inlineTabWrapperId: initialInlineTabId,\n+      rowId,\n+      response: {},\n+    });\n+\n+    expect(action.type).toEqual(ACTION_TYPES.UPDATE_INLINE_TAB_WRAPPER_FIELDS);\n+    expect(action.payload).toHaveProperty(\n+      'inlineTabWrapperId',\n+      payload.inlineTabWrapperId\n+    );\n+    expect(action.payload).toHaveProperty('rowId', payload.rowId);\n+    expect(action.payload).toHaveProperty('response', payload.response);\n+\n+    const initialState = createState({\n+      viewHandler: {\n+        views: {\n+          [windowType]: {\n+            layout: { ...layoutResponse },\n+          },\n+        },\n+      },\n+    });\n+    const store = mockStore(initialState);\n+    const expectedActions = [\n+      { type: ACTION_TYPES.UPDATE_INLINE_TAB_WRAPPER_FIELDS, payload },\n+    ];\n+\n+    store.dispatch(\n+      updateInlineTabWrapperFields({\n+        inlineTabWrapperId: initialInlineTabId,\n+        rowId,\n+        response: {},\n+      })\n+    );\n+    expect(store.getActions()).toEqual(expect.arrayContaining(expectedActions));\n+  });\n+\n+  /** SET_INLINE_TAB_WRAPPER_DATA action */\n+  it('should call SET_INLINE_TAB_WRAPPER_DATA action with correct payload', () => {\n+    const { windowType } = gridProps.props1;\n+    const layoutResponse = gridLayoutFixtures.layout1;\n+    const initialInlineTabWrapperId = '123_AD_Tab-222_2205230';\n+    const dummyProp = { dummyProp: 'test ' };\n+    const payload = {\n+      inlineTabWrapperId: initialInlineTabWrapperId,\n+      data: dummyProp,\n+    };\n+\n+    const action = setInlineTabWrapperData({\n+      inlineTabWrapperId: initialInlineTabWrapperId,\n+      data: dummyProp,\n+    });\n+\n+    expect(action.type).toEqual(ACTION_TYPES.SET_INLINE_TAB_WRAPPER_DATA);\n+    expect(action.payload).toHaveProperty(\n+      'inlineTabWrapperId',\n+      payload.inlineTabWrapperId\n+    );\n+    expect(action.payload).toHaveProperty('data', payload.data);\n+\n+    const initialState = createState({\n+      viewHandler: {\n+        views: {\n+          [windowType]: {\n+            layout: { ...layoutResponse },\n+          },\n+        },\n+      },\n+    });\n+    const store = mockStore(initialState);\n+    const expectedActions = [\n+      { type: ACTION_TYPES.SET_INLINE_TAB_WRAPPER_DATA, payload },\n+    ];\n+\n+    store.dispatch(\n+      setInlineTabWrapperData({\n+        inlineTabWrapperId: initialInlineTabWrapperId,\n+        data: dummyProp,\n+      })\n+    );\n+    expect(store.getActions()).toEqual(expect.arrayContaining(expectedActions));\n+  });\n+\n+  /** SET_INLINE_TAB_SHOW_MORE action */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ec15cf84fe4c3753efc94169806a5a0ef9f76bf"}, "originalPosition": 183}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzM3NTcyNw==", "bodyText": "From what I saw in the test these could probably get a default null value here.", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543375727", "createdAt": "2020-12-15T14:13:10Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/WindowActions.js", "diffHunk": "@@ -499,14 +500,17 @@ export function initWindow(windowType, docId, tabId, rowId = null, isAdvanced) {\n /*\n  * Main method to generate window\n  */\n-export function createWindow(\n-  windowType,\n-  documentId = 'NEW',\n+export function createWindow({\n+  windowId: windowType,\n+  docId,\n   tabId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ec15cf84fe4c3753efc94169806a5a0ef9f76bf"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ4OTQ0OQ==", "bodyText": "please use values from fixtures instead of hardcoded ids", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543489449", "createdAt": "2020-12-15T16:22:39Z", "author": {"login": "siemiatj"}, "path": "frontend/src/__tests__/components/widget/InlineTab/InlineTabWrapper.test.js", "diffHunk": "@@ -0,0 +1,229 @@\n+import React from 'react';\n+import nock from 'nock';\n+import { shallow, mount } from 'enzyme';\n+import configureStore from 'redux-mock-store';\n+import merge from 'merge';\n+import viewHandler from '../../../../reducers/viewHandler';\n+import InlineTabWrapper from '../../../../components/widget/InlineTabWrapper';\n+import hotkeys from '../../../../../test_setup/fixtures/hotkeys.json';\n+import keymap from '../../../../../test_setup/fixtures/keymap.json';\n+import { ShortcutProvider } from '../../../../components/keyshortcuts/ShortcutProvider';\n+import { initialState as appHandlerState } from '../../../../reducers/appHandler';\n+import { initialState as windowHandlerState } from '../../../../reducers/windowHandler';\n+import tablesHandler from '../../../../reducers/tables';\n+import { Provider } from 'react-redux';\n+import props from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_wrapper.json';\n+import tabData from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data.json';\n+import inlineTabStoreMore from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data_more.json';\n+import inlineTabStore from '../../../../../test_setup/fixtures/widget/inlinetab/inlineTabStore.json';\n+import addNewData from '../../../../../test_setup/fixtures/widget/inlinetab/addNewData.json';\n+import inlineTabInvalid from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_invalid.json';\n+import thunk from 'redux-thunk';\n+const middlewares = [thunk];\n+\n+const mockStore = configureStore(middlewares);\n+\n+const createStore = function(state = {}) {\n+  const res = merge.recursive(\n+    true,\n+    {\n+      appHandler: {\n+        ...appHandlerState,\n+        me: { timeZone: 'America/Los_Angeles' },\n+      },\n+      windowHandler: { ...windowHandlerState },\n+      ...viewHandler,\n+      tables: { ...tablesHandler(undefined, {}) },\n+    },\n+    state\n+  );\n+\n+  return res;\n+};\n+\n+describe('InlineTabWrapper component', () => {\n+  describe('rendering tests:', () => {\n+    it('renders without errors', () => {\n+      shallow(<InlineTabWrapper {...props} />);\n+    });\n+\n+    it('renders a line properly', () => {\n+      const initialState = createStore({\n+        windowHandler: {\n+          allowShortcut: true,\n+          modal: {\n+            visible: true,\n+          },\n+          inlineTab: inlineTabStore,\n+        },\n+      });\n+      const store = mockStore(initialState);\n+\n+      nock(config.API_URL)\n+        .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+        .get(`/window/123/2156425/AD_Tab-222/`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ5MDYwOQ==", "bodyText": "Same here. Otherwise whenever we'll use new fixtures these will fail for no real reason.", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543490609", "createdAt": "2020-12-15T16:24:01Z", "author": {"login": "siemiatj"}, "path": "frontend/src/__tests__/components/widget/InlineTab/InlineTabWrapper.test.js", "diffHunk": "@@ -0,0 +1,229 @@\n+import React from 'react';\n+import nock from 'nock';\n+import { shallow, mount } from 'enzyme';\n+import configureStore from 'redux-mock-store';\n+import merge from 'merge';\n+import viewHandler from '../../../../reducers/viewHandler';\n+import InlineTabWrapper from '../../../../components/widget/InlineTabWrapper';\n+import hotkeys from '../../../../../test_setup/fixtures/hotkeys.json';\n+import keymap from '../../../../../test_setup/fixtures/keymap.json';\n+import { ShortcutProvider } from '../../../../components/keyshortcuts/ShortcutProvider';\n+import { initialState as appHandlerState } from '../../../../reducers/appHandler';\n+import { initialState as windowHandlerState } from '../../../../reducers/windowHandler';\n+import tablesHandler from '../../../../reducers/tables';\n+import { Provider } from 'react-redux';\n+import props from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_wrapper.json';\n+import tabData from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data.json';\n+import inlineTabStoreMore from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data_more.json';\n+import inlineTabStore from '../../../../../test_setup/fixtures/widget/inlinetab/inlineTabStore.json';\n+import addNewData from '../../../../../test_setup/fixtures/widget/inlinetab/addNewData.json';\n+import inlineTabInvalid from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_invalid.json';\n+import thunk from 'redux-thunk';\n+const middlewares = [thunk];\n+\n+const mockStore = configureStore(middlewares);\n+\n+const createStore = function(state = {}) {\n+  const res = merge.recursive(\n+    true,\n+    {\n+      appHandler: {\n+        ...appHandlerState,\n+        me: { timeZone: 'America/Los_Angeles' },\n+      },\n+      windowHandler: { ...windowHandlerState },\n+      ...viewHandler,\n+      tables: { ...tablesHandler(undefined, {}) },\n+    },\n+    state\n+  );\n+\n+  return res;\n+};\n+\n+describe('InlineTabWrapper component', () => {\n+  describe('rendering tests:', () => {\n+    it('renders without errors', () => {\n+      shallow(<InlineTabWrapper {...props} />);\n+    });\n+\n+    it('renders a line properly', () => {\n+      const initialState = createStore({\n+        windowHandler: {\n+          allowShortcut: true,\n+          modal: {\n+            visible: true,\n+          },\n+          inlineTab: inlineTabStore,\n+        },\n+      });\n+      const store = mockStore(initialState);\n+\n+      nock(config.API_URL)\n+        .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+        .get(`/window/123/2156425/AD_Tab-222/`)\n+        .reply(200, tabData);\n+\n+      const wrapper = mount(\n+        <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+          <Provider store={store}>\n+            <InlineTabWrapper {...props} />\n+          </Provider>\n+        </ShortcutProvider>\n+      );\n+      const htmlOutput = wrapper.html();\n+      expect(htmlOutput).toContain('<span>Testadresse 3</span');\n+      expect(htmlOutput).toContain('inlinetab-action-button');\n+      expect(htmlOutput).not.toContain('meta-icon-fullscreen');\n+    });\n+  });\n+\n+  it('renders more lines properly', () => {\n+    props.dataId = '2155894'; // we pass different docId such that will match the selector used for the mocked up data\n+    const initialState = createStore({\n+      windowHandler: {\n+        allowShortcut: true,\n+        modal: {\n+          visible: true,\n+        },\n+        inlineTab: inlineTabStoreMore,\n+      },\n+    });\n+    const store = mockStore(initialState);\n+\n+    nock(config.API_URL)\n+      .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+      .get(`/window/123/2155894/AD_Tab-222/`)\n+      .reply(200, tabData);\n+\n+    const wrapper = mount(\n+      <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+        <Provider store={store}>\n+          <InlineTabWrapper {...props} />\n+        </Provider>\n+      </ShortcutProvider>\n+    );\n+    const htmlOutput = wrapper.html();\n+\n+    expect(htmlOutput).toContain('Amerikanische Jungferninseln');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ5MTg4Ng==", "bodyText": "Maybe it's worth adding a test that tries adding something with the form too ? Then intercept the request, send back dummy response and see if all works ok ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543491886", "createdAt": "2020-12-15T16:25:32Z", "author": {"login": "siemiatj"}, "path": "frontend/src/__tests__/components/widget/InlineTab/InlineTabWrapper.test.js", "diffHunk": "@@ -0,0 +1,229 @@\n+import React from 'react';\n+import nock from 'nock';\n+import { shallow, mount } from 'enzyme';\n+import configureStore from 'redux-mock-store';\n+import merge from 'merge';\n+import viewHandler from '../../../../reducers/viewHandler';\n+import InlineTabWrapper from '../../../../components/widget/InlineTabWrapper';\n+import hotkeys from '../../../../../test_setup/fixtures/hotkeys.json';\n+import keymap from '../../../../../test_setup/fixtures/keymap.json';\n+import { ShortcutProvider } from '../../../../components/keyshortcuts/ShortcutProvider';\n+import { initialState as appHandlerState } from '../../../../reducers/appHandler';\n+import { initialState as windowHandlerState } from '../../../../reducers/windowHandler';\n+import tablesHandler from '../../../../reducers/tables';\n+import { Provider } from 'react-redux';\n+import props from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_wrapper.json';\n+import tabData from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data.json';\n+import inlineTabStoreMore from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_data_more.json';\n+import inlineTabStore from '../../../../../test_setup/fixtures/widget/inlinetab/inlineTabStore.json';\n+import addNewData from '../../../../../test_setup/fixtures/widget/inlinetab/addNewData.json';\n+import inlineTabInvalid from '../../../../../test_setup/fixtures/widget/inlinetab/inline_tab_invalid.json';\n+import thunk from 'redux-thunk';\n+const middlewares = [thunk];\n+\n+const mockStore = configureStore(middlewares);\n+\n+const createStore = function(state = {}) {\n+  const res = merge.recursive(\n+    true,\n+    {\n+      appHandler: {\n+        ...appHandlerState,\n+        me: { timeZone: 'America/Los_Angeles' },\n+      },\n+      windowHandler: { ...windowHandlerState },\n+      ...viewHandler,\n+      tables: { ...tablesHandler(undefined, {}) },\n+    },\n+    state\n+  );\n+\n+  return res;\n+};\n+\n+describe('InlineTabWrapper component', () => {\n+  describe('rendering tests:', () => {\n+    it('renders without errors', () => {\n+      shallow(<InlineTabWrapper {...props} />);\n+    });\n+\n+    it('renders a line properly', () => {\n+      const initialState = createStore({\n+        windowHandler: {\n+          allowShortcut: true,\n+          modal: {\n+            visible: true,\n+          },\n+          inlineTab: inlineTabStore,\n+        },\n+      });\n+      const store = mockStore(initialState);\n+\n+      nock(config.API_URL)\n+        .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+        .get(`/window/123/2156425/AD_Tab-222/`)\n+        .reply(200, tabData);\n+\n+      const wrapper = mount(\n+        <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+          <Provider store={store}>\n+            <InlineTabWrapper {...props} />\n+          </Provider>\n+        </ShortcutProvider>\n+      );\n+      const htmlOutput = wrapper.html();\n+      expect(htmlOutput).toContain('<span>Testadresse 3</span');\n+      expect(htmlOutput).toContain('inlinetab-action-button');\n+      expect(htmlOutput).not.toContain('meta-icon-fullscreen');\n+    });\n+  });\n+\n+  it('renders more lines properly', () => {\n+    props.dataId = '2155894'; // we pass different docId such that will match the selector used for the mocked up data\n+    const initialState = createStore({\n+      windowHandler: {\n+        allowShortcut: true,\n+        modal: {\n+          visible: true,\n+        },\n+        inlineTab: inlineTabStoreMore,\n+      },\n+    });\n+    const store = mockStore(initialState);\n+\n+    nock(config.API_URL)\n+      .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+      .get(`/window/123/2155894/AD_Tab-222/`)\n+      .reply(200, tabData);\n+\n+    const wrapper = mount(\n+      <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+        <Provider store={store}>\n+          <InlineTabWrapper {...props} />\n+        </Provider>\n+      </ShortcutProvider>\n+    );\n+    const htmlOutput = wrapper.html();\n+\n+    expect(htmlOutput).toContain('Amerikanische Jungferninseln');\n+    expect(htmlOutput).toContain('Amerikanisch-Samoa');\n+    expect(htmlOutput).toContain('Amerikanisch-Samoa (2)');\n+    expect(htmlOutput).toContain('Am Nossbacher Weg 2');\n+    expect(htmlOutput).toContain(\n+      'Antarktis (Sonderstatus durch Antarktis-Vertrag)'\n+    );\n+    expect(htmlOutput).not.toContain('Russland'); // only five rows shown - this should not be rendered\n+    expect(htmlOutput).toContain('meta-icon-fullscreen');\n+  });\n+\n+  it('renders the form in full screen correctly', () => {\n+    props.dataId = '2155894'; // we pass different docId such that will match the selector used for the mocked up data\n+    inlineTabStoreMore.showMore['123_AD_Tab-222_2155894'] = false;\n+    const initialState = createStore({\n+      windowHandler: {\n+        allowShortcut: true,\n+        modal: {\n+          visible: true,\n+        },\n+        inlineTab: inlineTabStoreMore,\n+      },\n+    });\n+    const store = mockStore(initialState);\n+\n+    nock(config.API_URL)\n+      .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+      .get(`/window/123/2155894/AD_Tab-222/`)\n+      .reply(200, tabData);\n+\n+    const wrapper = mount(\n+      <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+        <Provider store={store}>\n+          <InlineTabWrapper {...props} />\n+        </Provider>\n+      </ShortcutProvider>\n+    );\n+    const htmlOutput = wrapper.html();\n+\n+    expect(htmlOutput).toContain('Amerikanische Jungferninseln');\n+    expect(htmlOutput).toContain('Amerikanisch-Samoa');\n+    expect(htmlOutput).toContain('Amerikanisch-Samoa (2)');\n+    expect(htmlOutput).toContain('Am Nossbacher Weg 2');\n+    expect(htmlOutput).toContain(\n+      'Antarktis (Sonderstatus durch Antarktis-Vertrag)'\n+    );\n+    expect(htmlOutput).toContain('Russland'); // all rows should be visible now, including this one\n+    expect(htmlOutput).toContain('meta-icon-fullscreen');\n+  });\n+\n+  it('renders the add new form', () => {\n+    props.dataId = '2155894'; // we pass different docId such that will match the selector used for the mocked up data\n+    // inlineTabStoreMore.showMore['123_AD_Tab-222_2155894'] = false;\n+    inlineTabStoreMore.addNew[`123_AD_Tab-222_2155894`] = {\n+      visible: true,\n+      windowId: '123',\n+      tabId: 'AD_Tab-222',\n+      rowId: '2205259',\n+    };\n+    inlineTabStoreMore[`123_AD_Tab-222_2205259`] = addNewData;\n+    const initialState = createStore({\n+      windowHandler: {\n+        allowShortcut: true,\n+        modal: {\n+          visible: true,\n+        },\n+        inlineTab: inlineTabStoreMore,\n+      },\n+    });\n+    const store = mockStore(initialState);\n+\n+    nock(config.API_URL)\n+      .defaultReplyHeaders({ 'access-control-allow-origin': '*' })\n+      .get(`/window/123/2155894/AD_Tab-222/`)\n+      .reply(200, tabData);\n+\n+    const wrapper = mount(\n+      <ShortcutProvider hotkeys={hotkeys} keymap={keymap}>\n+        <Provider store={store}>\n+          <InlineTabWrapper {...props} />\n+        </Provider>\n+      </ShortcutProvider>\n+    );\n+    const htmlOutput = wrapper.html();\n+\n+    expect(htmlOutput).toContain(\n+      `<div class=\"form-group form-field-BPartnerName\">`\n+    );\n+    expect(htmlOutput).toContain(`<i class=\"meta-icon-close-alt\">`);\n+  });\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 198}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ5NDEzMw==", "bodyText": "add docs", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543494133", "createdAt": "2020-12-15T16:28:20Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/InlineTabActions.js", "diffHunk": "@@ -0,0 +1,223 @@\n+import { fetchTab } from './WindowActions';\n+import { getLayout, getData } from '../api';\n+import { INLINE_TAB_SHOW_MORE_FROM } from '../constants/Constants';\n+import {\n+  UPDATE_INLINE_TAB_ITEM_FIELDS,\n+  UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+  SET_INLINE_TAB_WRAPPER_DATA,\n+  SET_INLINE_TAB_LAYOUT_AND_DATA,\n+  SET_INLINE_TAB_ADD_NEW,\n+  SET_INLINE_TAB_SHOW_MORE,\n+} from '../constants/ActionTypes';\n+\n+/*\n+ * @method updateInlineTabItemFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Item\n+ *\n+ * @param {string} inlineTabId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabItemFields({ inlineTabId, fieldsByName }) {\n+  return {\n+    type: UPDATE_INLINE_TAB_ITEM_FIELDS,\n+    payload: { inlineTabId, fieldsByName },\n+  };\n+}\n+\n+/*\n+ * @method updateInlineTabWrapperFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Wrapper\n+ *\n+ * @param {string} inlineTabWrapperId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabWrapperFields({\n+  inlineTabWrapperId,\n+  rowId,\n+  response,\n+}) {\n+  return {\n+    type: UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+    payload: { inlineTabWrapperId, rowId, response },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTabWrapper branch in the redux store with the data payload\n+ */\n+export function setInlineTabWrapperData({ inlineTabWrapperId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_WRAPPER_DATA,\n+    payload: { inlineTabWrapperId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the showMore value for the corresponding inlineTabWrapperId\n+ */\n+export function setInlineTabShowMore({ inlineTabWrapperId, showMore }) {\n+  return {\n+    type: SET_INLINE_TAB_SHOW_MORE,\n+    payload: { inlineTabWrapperId, showMore },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab branch in the redux store with the data payload\n+ */\n+export function setInlineTabLayoutAndData({ inlineTabId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_LAYOUT_AND_DATA,\n+    payload: { inlineTabId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab AddNew form related data in the store, visible is for toggling the visibility\n+ */\n+export function setInlineTabAddNew({ visible, windowId, tabId, rowId, docId }) {\n+  return {\n+    type: SET_INLINE_TAB_ADD_NEW,\n+    payload: { visible, windowId, tabId, rowId, docId },\n+  };\n+}\n+\n+/*\n+ * @method fetchInlineTabWrapperData\n+ * @summary Action creator for fetching the data for the `InlineTab` Wrapper (note: wrapper not the inline tab item!)\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} query\n+ */\n+export function fetchInlineTabWrapperData({\n+  windowId,\n+  tabId,\n+  docId,\n+  query,\n+  rowId,\n+  postDeletion,\n+}) {\n+  return (dispatch) => {\n+    dispatch(fetchTab({ tabId, windowId, docId, query })).then((tabData) => {\n+      /** - if we have the rowId it means we have a new record addition, so we put that at the end of the array - only if this doesn't happen as a result of deletion */\n+      if (rowId && !postDeletion) {\n+        const lastAdditionIndex = tabData.findIndex(\n+          (item) => item.rowId === rowId\n+        );\n+        if (lastAdditionIndex) {\n+          const tempData = tabData[lastAdditionIndex];\n+          tabData.splice(lastAdditionIndex, 1);\n+          tabData.splice(tabData.length, 0, tempData);\n+        }\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: false,\n+          })\n+        );\n+      }\n+\n+      dispatch(\n+        setInlineTabWrapperData({\n+          inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+          data: tabData,\n+        })\n+      );\n+      /** when we don't have the rowId then we are in the case of the normal rendering, we set the flag to show more (if criteria is met) */\n+      !rowId &&\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: tabData.length > INLINE_TAB_SHOW_MORE_FROM ? true : false,\n+          })\n+        );\n+    });\n+  };\n+}\n+\n+/*\n+ * @method getInlineTabLayoutAndData\n+ * @summary Action creator for fetching and updating the layout and data for the `inlineTab`\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} rowId\n+ */\n+export function getInlineTabLayoutAndData({ windowId, tabId, docId, rowId }) {\n+  return (dispatch) => {\n+    getLayout('window', windowId, tabId, null, null, false).then(\n+      ({ data: layoutData }) => {\n+        getData({\n+          entity: 'window',\n+          docType: windowId,\n+          docId,\n+          tabId,\n+          fetchAdvancedFields: false,\n+        }).then(({ data: respFields }) => {\n+          const { result } = respFields;\n+          const wantedData = result.filter((item) => item.rowId === rowId);\n+          dispatch(\n+            setInlineTabLayoutAndData({\n+              inlineTabId: `${windowId}_${tabId}_${rowId}`,\n+              data: { layout: layoutData, data: wantedData[0] },\n+            })\n+          );\n+        });\n+      }\n+    );\n+  };\n+}\n+\n+/**\n+ * @method inlineTabAfterGetLayout\n+ * @summary triggers post layout fetch actions that will update the inline tab layout and data and the inlineTab addNew sub-branch\n+ * @param {object} data - the layout fetched previously with getLayout\n+ * @param {object} disconnectedData - result from initWindow (add new case for inlineTab) - see in the WindowActions what it contains (for debug)\n+ */\n+export function inlineTabAfterGetLayout({ data, disconnectedData }) {\n+  return (dispatch) => {\n+    const inlineTabTargetId = `${disconnectedData.windowId}_${\n+      disconnectedData.tabId\n+    }_${disconnectedData.rowId}`;\n+    dispatch(\n+      setInlineTabLayoutAndData({\n+        inlineTabId: inlineTabTargetId,\n+        data: { layout: data, data: disconnectedData },\n+      })\n+    );\n+    dispatch(\n+      setInlineTabAddNew({\n+        visible: true,\n+        docId: disconnectedData.id,\n+        windowId: disconnectedData.windowId,\n+        tabId: disconnectedData.tabId,\n+        rowId: disconnectedData.rowId,\n+      })\n+    );\n+  };\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 204}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUyOTAxNg==", "bodyText": "can this get a more meaningful name ? I think it's showing the add new form, right ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543529016", "createdAt": "2020-12-15T17:11:28Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/InlineTabActions.js", "diffHunk": "@@ -0,0 +1,223 @@\n+import { fetchTab } from './WindowActions';\n+import { getLayout, getData } from '../api';\n+import { INLINE_TAB_SHOW_MORE_FROM } from '../constants/Constants';\n+import {\n+  UPDATE_INLINE_TAB_ITEM_FIELDS,\n+  UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+  SET_INLINE_TAB_WRAPPER_DATA,\n+  SET_INLINE_TAB_LAYOUT_AND_DATA,\n+  SET_INLINE_TAB_ADD_NEW,\n+  SET_INLINE_TAB_SHOW_MORE,\n+} from '../constants/ActionTypes';\n+\n+/*\n+ * @method updateInlineTabItemFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Item\n+ *\n+ * @param {string} inlineTabId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabItemFields({ inlineTabId, fieldsByName }) {\n+  return {\n+    type: UPDATE_INLINE_TAB_ITEM_FIELDS,\n+    payload: { inlineTabId, fieldsByName },\n+  };\n+}\n+\n+/*\n+ * @method updateInlineTabWrapperFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Wrapper\n+ *\n+ * @param {string} inlineTabWrapperId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabWrapperFields({\n+  inlineTabWrapperId,\n+  rowId,\n+  response,\n+}) {\n+  return {\n+    type: UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+    payload: { inlineTabWrapperId, rowId, response },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTabWrapper branch in the redux store with the data payload\n+ */\n+export function setInlineTabWrapperData({ inlineTabWrapperId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_WRAPPER_DATA,\n+    payload: { inlineTabWrapperId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the showMore value for the corresponding inlineTabWrapperId\n+ */\n+export function setInlineTabShowMore({ inlineTabWrapperId, showMore }) {\n+  return {\n+    type: SET_INLINE_TAB_SHOW_MORE,\n+    payload: { inlineTabWrapperId, showMore },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab branch in the redux store with the data payload\n+ */\n+export function setInlineTabLayoutAndData({ inlineTabId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_LAYOUT_AND_DATA,\n+    payload: { inlineTabId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab AddNew form related data in the store, visible is for toggling the visibility\n+ */\n+export function setInlineTabAddNew({ visible, windowId, tabId, rowId, docId }) {\n+  return {\n+    type: SET_INLINE_TAB_ADD_NEW,\n+    payload: { visible, windowId, tabId, rowId, docId },\n+  };\n+}\n+\n+/*\n+ * @method fetchInlineTabWrapperData\n+ * @summary Action creator for fetching the data for the `InlineTab` Wrapper (note: wrapper not the inline tab item!)\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} query\n+ */\n+export function fetchInlineTabWrapperData({\n+  windowId,\n+  tabId,\n+  docId,\n+  query,\n+  rowId,\n+  postDeletion,\n+}) {\n+  return (dispatch) => {\n+    dispatch(fetchTab({ tabId, windowId, docId, query })).then((tabData) => {\n+      /** - if we have the rowId it means we have a new record addition, so we put that at the end of the array - only if this doesn't happen as a result of deletion */\n+      if (rowId && !postDeletion) {\n+        const lastAdditionIndex = tabData.findIndex(\n+          (item) => item.rowId === rowId\n+        );\n+        if (lastAdditionIndex) {\n+          const tempData = tabData[lastAdditionIndex];\n+          tabData.splice(lastAdditionIndex, 1);\n+          tabData.splice(tabData.length, 0, tempData);\n+        }\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: false,\n+          })\n+        );\n+      }\n+\n+      dispatch(\n+        setInlineTabWrapperData({\n+          inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+          data: tabData,\n+        })\n+      );\n+      /** when we don't have the rowId then we are in the case of the normal rendering, we set the flag to show more (if criteria is met) */\n+      !rowId &&\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: tabData.length > INLINE_TAB_SHOW_MORE_FROM ? true : false,\n+          })\n+        );\n+    });\n+  };\n+}\n+\n+/*\n+ * @method getInlineTabLayoutAndData\n+ * @summary Action creator for fetching and updating the layout and data for the `inlineTab`\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} rowId\n+ */\n+export function getInlineTabLayoutAndData({ windowId, tabId, docId, rowId }) {\n+  return (dispatch) => {\n+    getLayout('window', windowId, tabId, null, null, false).then(\n+      ({ data: layoutData }) => {\n+        getData({\n+          entity: 'window',\n+          docType: windowId,\n+          docId,\n+          tabId,\n+          fetchAdvancedFields: false,\n+        }).then(({ data: respFields }) => {\n+          const { result } = respFields;\n+          const wantedData = result.filter((item) => item.rowId === rowId);\n+          dispatch(\n+            setInlineTabLayoutAndData({\n+              inlineTabId: `${windowId}_${tabId}_${rowId}`,\n+              data: { layout: layoutData, data: wantedData[0] },\n+            })\n+          );\n+        });\n+      }\n+    );\n+  };\n+}\n+\n+/**\n+ * @method inlineTabAfterGetLayout\n+ * @summary triggers post layout fetch actions that will update the inline tab layout and data and the inlineTab addNew sub-branch\n+ * @param {object} data - the layout fetched previously with getLayout\n+ * @param {object} disconnectedData - result from initWindow (add new case for inlineTab) - see in the WindowActions what it contains (for debug)\n+ */\n+export function inlineTabAfterGetLayout({ data, disconnectedData }) {\n+  return (dispatch) => {\n+    const inlineTabTargetId = `${disconnectedData.windowId}_${\n+      disconnectedData.tabId\n+    }_${disconnectedData.rowId}`;\n+    dispatch(\n+      setInlineTabLayoutAndData({\n+        inlineTabId: inlineTabTargetId,\n+        data: { layout: data, data: disconnectedData },\n+      })\n+    );\n+    dispatch(\n+      setInlineTabAddNew({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 194}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUyOTk1NA==", "bodyText": "This name also doesn't say much. It's not only passing layout but also rows data, so something like updateInlineTab would make more sense.", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543529954", "createdAt": "2020-12-15T17:12:44Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/InlineTabActions.js", "diffHunk": "@@ -0,0 +1,223 @@\n+import { fetchTab } from './WindowActions';\n+import { getLayout, getData } from '../api';\n+import { INLINE_TAB_SHOW_MORE_FROM } from '../constants/Constants';\n+import {\n+  UPDATE_INLINE_TAB_ITEM_FIELDS,\n+  UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+  SET_INLINE_TAB_WRAPPER_DATA,\n+  SET_INLINE_TAB_LAYOUT_AND_DATA,\n+  SET_INLINE_TAB_ADD_NEW,\n+  SET_INLINE_TAB_SHOW_MORE,\n+} from '../constants/ActionTypes';\n+\n+/*\n+ * @method updateInlineTabItemFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Item\n+ *\n+ * @param {string} inlineTabId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabItemFields({ inlineTabId, fieldsByName }) {\n+  return {\n+    type: UPDATE_INLINE_TAB_ITEM_FIELDS,\n+    payload: { inlineTabId, fieldsByName },\n+  };\n+}\n+\n+/*\n+ * @method updateInlineTabWrapperFields\n+ * @summary Action creator for updating the fields for the `InlineTab` Wrapper\n+ *\n+ * @param {string} inlineTabWrapperId\n+ * @param {string} rowId\n+ * @param {object} fieldsByName\n+ */\n+export function updateInlineTabWrapperFields({\n+  inlineTabWrapperId,\n+  rowId,\n+  response,\n+}) {\n+  return {\n+    type: UPDATE_INLINE_TAB_WRAPPER_FIELDS,\n+    payload: { inlineTabWrapperId, rowId, response },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTabWrapper branch in the redux store with the data payload\n+ */\n+export function setInlineTabWrapperData({ inlineTabWrapperId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_WRAPPER_DATA,\n+    payload: { inlineTabWrapperId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the showMore value for the corresponding inlineTabWrapperId\n+ */\n+export function setInlineTabShowMore({ inlineTabWrapperId, showMore }) {\n+  return {\n+    type: SET_INLINE_TAB_SHOW_MORE,\n+    payload: { inlineTabWrapperId, showMore },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab branch in the redux store with the data payload\n+ */\n+export function setInlineTabLayoutAndData({ inlineTabId, data }) {\n+  return {\n+    type: SET_INLINE_TAB_LAYOUT_AND_DATA,\n+    payload: { inlineTabId, data },\n+  };\n+}\n+\n+/*\n+ * Action creator called to set the inlineTab AddNew form related data in the store, visible is for toggling the visibility\n+ */\n+export function setInlineTabAddNew({ visible, windowId, tabId, rowId, docId }) {\n+  return {\n+    type: SET_INLINE_TAB_ADD_NEW,\n+    payload: { visible, windowId, tabId, rowId, docId },\n+  };\n+}\n+\n+/*\n+ * @method fetchInlineTabWrapperData\n+ * @summary Action creator for fetching the data for the `InlineTab` Wrapper (note: wrapper not the inline tab item!)\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} query\n+ */\n+export function fetchInlineTabWrapperData({\n+  windowId,\n+  tabId,\n+  docId,\n+  query,\n+  rowId,\n+  postDeletion,\n+}) {\n+  return (dispatch) => {\n+    dispatch(fetchTab({ tabId, windowId, docId, query })).then((tabData) => {\n+      /** - if we have the rowId it means we have a new record addition, so we put that at the end of the array - only if this doesn't happen as a result of deletion */\n+      if (rowId && !postDeletion) {\n+        const lastAdditionIndex = tabData.findIndex(\n+          (item) => item.rowId === rowId\n+        );\n+        if (lastAdditionIndex) {\n+          const tempData = tabData[lastAdditionIndex];\n+          tabData.splice(lastAdditionIndex, 1);\n+          tabData.splice(tabData.length, 0, tempData);\n+        }\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: false,\n+          })\n+        );\n+      }\n+\n+      dispatch(\n+        setInlineTabWrapperData({\n+          inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+          data: tabData,\n+        })\n+      );\n+      /** when we don't have the rowId then we are in the case of the normal rendering, we set the flag to show more (if criteria is met) */\n+      !rowId &&\n+        dispatch(\n+          setInlineTabShowMore({\n+            inlineTabWrapperId: `${windowId}_${tabId}_${docId}`,\n+            showMore: tabData.length > INLINE_TAB_SHOW_MORE_FROM ? true : false,\n+          })\n+        );\n+    });\n+  };\n+}\n+\n+/*\n+ * @method getInlineTabLayoutAndData\n+ * @summary Action creator for fetching and updating the layout and data for the `inlineTab`\n+ *\n+ * @param {string} windowId\n+ * @param {string} tabId\n+ * @param {string} docId\n+ * @param {string} rowId\n+ */\n+export function getInlineTabLayoutAndData({ windowId, tabId, docId, rowId }) {\n+  return (dispatch) => {\n+    getLayout('window', windowId, tabId, null, null, false).then(\n+      ({ data: layoutData }) => {\n+        getData({\n+          entity: 'window',\n+          docType: windowId,\n+          docId,\n+          tabId,\n+          fetchAdvancedFields: false,\n+        }).then(({ data: respFields }) => {\n+          const { result } = respFields;\n+          const wantedData = result.filter((item) => item.rowId === rowId);\n+          dispatch(\n+            setInlineTabLayoutAndData({\n+              inlineTabId: `${windowId}_${tabId}_${rowId}`,\n+              data: { layout: layoutData, data: wantedData[0] },\n+            })\n+          );\n+        });\n+      }\n+    );\n+  };\n+}\n+\n+/**\n+ * @method inlineTabAfterGetLayout\n+ * @summary triggers post layout fetch actions that will update the inline tab layout and data and the inlineTab addNew sub-branch\n+ * @param {object} data - the layout fetched previously with getLayout\n+ * @param {object} disconnectedData - result from initWindow (add new case for inlineTab) - see in the WindowActions what it contains (for debug)\n+ */\n+export function inlineTabAfterGetLayout({ data, disconnectedData }) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 182}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzU3MzcwMw==", "bodyText": "Did we change the structure for Switch widgets ?", "url": "https://github.com/metasfresh/metasfresh/pull/10301#discussion_r543573703", "createdAt": "2020-12-15T18:12:42Z", "author": {"login": "siemiatj"}, "path": "frontend/src/components/widget/RawWidget.js", "diffHunk": "@@ -412,9 +413,11 @@ export class RawWidget extends PureComponent {\n     }\n \n     // TODO: API SHOULD RETURN THE SAME PROPERTIES FOR FILTERS\n-    const widgetField = filterWidget\n-      ? fields[0].parameterName\n-      : fields[0].field;\n+    let widgetField = filterWidget ? fields[0].parameterName : fields[0].field;\n+    if (!widgetField && this.props.widgetType === 'Switch') {\n+      widgetField = fields[0].fields[0].field;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72ae73b53cf0243bf5886ba2b8435dcabd6668d8"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "073869c6d607e44cc4aeb161d05deb17d48a0267", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/073869c6d607e44cc4aeb161d05deb17d48a0267", "committedDate": "2020-12-17T06:10:04Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5923ec229ef021296d214bfd64ebcd2fc46e06b1", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/5923ec229ef021296d214bfd64ebcd2fc46e06b1", "committedDate": "2020-12-17T08:01:14Z", "message": "Define selector before multiple usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "394b127638406b19b0431ded8d3fee0abcb3ac66", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/394b127638406b19b0431ded8d3fee0abcb3ac66", "committedDate": "2020-12-17T08:23:55Z", "message": "Add doc to patchInlineTab"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1e87aae1a5853b3c059fa38854f27ac20de03eb", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/d1e87aae1a5853b3c059fa38854f27ac20de03eb", "committedDate": "2020-12-17T08:48:05Z", "message": "Colors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff7714206ca2cd6a8e360cfdbfca618314705d0a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/ff7714206ca2cd6a8e360cfdbfca618314705d0a", "committedDate": "2020-12-17T08:56:37Z", "message": "More post review fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c1fcfab5218eb3607cdb2288213e01363b2d62d", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/4c1fcfab5218eb3607cdb2288213e01363b2d62d", "committedDate": "2020-12-17T08:57:41Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c44a547ab2dac9b964fa5f8f7e24f74fccef8fa", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/8c44a547ab2dac9b964fa5f8f7e24f74fccef8fa", "committedDate": "2020-12-17T12:22:47Z", "message": "Fix css"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73832f0d2939e13a92e6e669b603de122022c7a9", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/73832f0d2939e13a92e6e669b603de122022c7a9", "committedDate": "2020-12-17T12:46:51Z", "message": "Stay in full screen if more than five and we click on AddNew"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a571ca9eae773b801ee83cb41b450b28e2af232", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/8a571ca9eae773b801ee83cb41b450b28e2af232", "committedDate": "2020-11-24T20:32:49Z", "message": "Introduce InlineTab widget type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0335026c4e7f6bdd5d2f6302127c74d63740d58", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/f0335026c4e7f6bdd5d2f6302127c74d63740d58", "committedDate": "2020-11-24T20:34:35Z", "message": "5573030_sys_gh10275_BPartnerWindow_make_Locations_inline_tab.sql"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7504dcf083f3e9416d3832f1762060261b748b27", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/7504dcf083f3e9416d3832f1762060261b748b27", "committedDate": "2020-11-24T20:38:00Z", "message": "ADWindowDAO: handle Inline_Tab_ID when copying AD_UI_Element(s)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75815f3f85eed66bbcd3bc701feff4bf7b9786f5", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/75815f3f85eed66bbcd3bc701feff4bf7b9786f5", "committedDate": "2020-11-25T08:37:50Z", "message": "fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9db843c4684c06ac9d916da90c45cb6ba9b8df86", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9db843c4684c06ac9d916da90c45cb6ba9b8df86", "committedDate": "2020-11-25T09:24:28Z", "message": "Add placeholder for the InlineTab component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1e8bf712ab0275617e5bb2f0bb15e951498e756", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/e1e8bf712ab0275617e5bb2f0bb15e951498e756", "committedDate": "2020-11-25T10:54:49Z", "message": "Bypass the issues with the rendering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e256f34ab6dfa35072dbd51dbacfbb5d3b494d63", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/e256f34ab6dfa35072dbd51dbacfbb5d3b494d63", "committedDate": "2020-11-25T13:40:39Z", "message": "prepare toggle and the skeleton for the actual elements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c51f37698cbc7e2252ec7c3de16cebcc862c0d97", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/c51f37698cbc7e2252ec7c3de16cebcc862c0d97", "committedDate": "2020-11-25T13:59:52Z", "message": "Add separator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e0eb4f2bbd7704a46bf221a687bbd6cd8311d38", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/5e0eb4f2bbd7704a46bf221a687bbd6cd8311d38", "committedDate": "2020-11-25T15:22:41Z", "message": "Spacing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e6b002c38ed01e9e20bd01b9785c7f55606caa3", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/2e6b002c38ed01e9e20bd01b9785c7f55606caa3", "committedDate": "2020-11-26T06:02:08Z", "message": "Correct the type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f02e81529e8e5d15b6e82db7de52120589be9cde", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/f02e81529e8e5d15b6e82db7de52120589be9cde", "committedDate": "2020-11-26T06:33:51Z", "message": "fetchTab in the wrapper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60796acd6ada01ba02386892550d6a0099c45a8d", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/60796acd6ada01ba02386892550d6a0099c45a8d", "committedDate": "2020-11-26T07:35:09Z", "message": "Put the name and address in the item listing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3bef68d21c08c2f93a38971c57daf00f1a2c65e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/b3bef68d21c08c2f93a38971c57daf00f1a2c65e", "committedDate": "2020-11-26T07:36:40Z", "message": "Some cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44f21471d7fb3383a2c0258ed25ea4da472116d9", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/44f21471d7fb3383a2c0258ed25ea4da472116d9", "committedDate": "2020-11-26T08:17:37Z", "message": "Close the form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c02f6d15626f888ab634e6e0353bfa96ede31266", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/c02f6d15626f888ab634e6e0353bfa96ede31266", "committedDate": "2020-11-26T10:54:45Z", "message": "prerequisites for getting the layout and data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ac8765b8a3f5f97dfb50a3d7559b2cd78f228ea", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/6ac8765b8a3f5f97dfb50a3d7559b2cd78f228ea", "committedDate": "2020-11-26T12:38:36Z", "message": "Diff selector special for the inline tab"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d97d319b84ba30256c7f73d94f2371114d7d6664", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/d97d319b84ba30256c7f73d94f2371114d7d6664", "committedDate": "2020-11-27T01:27:48Z", "message": "- put some basic plumbing in place"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8df609b4945a82ab875e0543784af405b93b1f4", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/e8df609b4945a82ab875e0543784af405b93b1f4", "committedDate": "2020-11-27T07:35:48Z", "message": "RawWidget rendering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fb5111088d9bd94a24b87592c0a6f8fb82eed19", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9fb5111088d9bd94a24b87592c0a6f8fb82eed19", "committedDate": "2020-11-27T07:46:38Z", "message": "Css changes to adapt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7839b8c360583b5463c4b5aa98a582814024aaa7", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/7839b8c360583b5463c4b5aa98a582814024aaa7", "committedDate": "2020-12-02T06:00:42Z", "message": "Remove lock file from e2e structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff5b64fdcf08d25231fe2e8b9d0ead2d06250cd2", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/ff5b64fdcf08d25231fe2e8b9d0ead2d06250cd2", "committedDate": "2020-12-03T08:49:14Z", "message": "Wire up with the redux store"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2d83c19690ea360ae6a4e4f32aa6c53e38686d", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/dd2d83c19690ea360ae6a4e4f32aa6c53e38686d", "committedDate": "2020-12-03T08:50:14Z", "message": "Fix expected type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d535b7dc3bfa73bbd8f8a0da872414caaef158a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/5d535b7dc3bfa73bbd8f8a0da872414caaef158a", "committedDate": "2020-12-03T10:17:46Z", "message": "Safety check on the Attributes comp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b65f00b5af07d2ef46af2ef5ae3aed770612f34", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/7b65f00b5af07d2ef46af2ef5ae3aed770612f34", "committedDate": "2020-12-03T12:36:59Z", "message": "Another safety check for the attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c7be7747d8cbf46811db430da4957c2cfa25981", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/2c7be7747d8cbf46811db430da4957c2cfa25981", "committedDate": "2020-12-03T13:36:28Z", "message": "Put InlineTabWrapper data into the store also"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11db00caa10a46dc70a993576ac998cc49fffc0f", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/11db00caa10a46dc70a993576ac998cc49fffc0f", "committedDate": "2020-12-03T14:39:44Z", "message": "Prerequisites for updating in the store the property using disconnected flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c13a142652d92423adc00c430a892fcfd0dd914", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/1c13a142652d92423adc00c430a892fcfd0dd914", "committedDate": "2020-12-04T06:35:47Z", "message": "move logic from component to the WindowActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d822d520ac95dea18c4675f2c442a76233404dab", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/d822d520ac95dea18c4675f2c442a76233404dab", "committedDate": "2020-12-04T07:42:09Z", "message": "Update on patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e21ac9be77102d68d73cd80f877c6d4f1c0a2ac3", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/e21ac9be77102d68d73cd80f877c6d4f1c0a2ac3", "committedDate": "2020-12-04T10:04:12Z", "message": "Add update on the wrapper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88687583a5c9e2563a4b789c72ec976670bff3bb", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/88687583a5c9e2563a4b789c72ec976670bff3bb", "committedDate": "2020-12-04T12:56:23Z", "message": "Sync data with the store"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc6ca895f690185d4855d19402e7390d168b0bb4", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/bc6ca895f690185d4855d19402e7390d168b0bb4", "committedDate": "2020-12-04T14:52:17Z", "message": "Put parameters to createWindow method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11dde4e8fa7c99ecda32fdff7ba2d34ab25ecb96", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/11dde4e8fa7c99ecda32fdff7ba2d34ab25ecb96", "committedDate": "2020-12-07T08:48:05Z", "message": "Move addNew to a sub branch in inlineTab"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "310887b1a9942802c7791824660ca530da875127", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/310887b1a9942802c7791824660ca530da875127", "committedDate": "2020-12-07T10:07:57Z", "message": "Prerequisites for rendering the window in the add new dropdown"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f52958d33343bdc9417cf02fdf9bd3c4c9ae31b", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9f52958d33343bdc9417cf02fdf9bd3c4c9ae31b", "committedDate": "2020-12-07T10:51:59Z", "message": "Added some safety check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63da2b0429725e510ab80ee2002681bc57beed70", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/63da2b0429725e510ab80ee2002681bc57beed70", "committedDate": "2020-12-07T10:53:27Z", "message": "Remove debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b062bf5e34d72dd6e7012c1038f0dd8d101aac5", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/3b062bf5e34d72dd6e7012c1038f0dd8d101aac5", "committedDate": "2020-12-07T12:17:40Z", "message": "Mark rows with errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4dbfc569217ff3dabeded81624fe2bc47e19f85", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/a4dbfc569217ff3dabeded81624fe2bc47e19f85", "committedDate": "2020-12-07T13:31:06Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d424c2d3dd7bf183caf6327d4934a458d8c72529", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/d424c2d3dd7bf183caf6327d4934a458d8c72529", "committedDate": "2020-12-07T13:42:49Z", "message": "Refresh the widget on close"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5061d89f92531ba408538812f7049ced9526f1d0", "author": {"user": {"login": "adi-stefan", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/5061d89f92531ba408538812f7049ced9526f1d0", "committedDate": "2020-12-07T13:43:43Z", "message": "#10357 as discussed with Teo, don't return empty strings anymore. https://github.com/metasfresh/metasfresh/issues/10357"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38946068ec44b0fb5cfe89b52a65564c47afaa99", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/38946068ec44b0fb5cfe89b52a65564c47afaa99", "committedDate": "2020-12-07T13:53:13Z", "message": "Merge remote-tracking branch 'origin/gh10275' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa43b7be398ee9e914c3a895de7ad6a1cb30d728", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/fa43b7be398ee9e914c3a895de7ad6a1cb30d728", "committedDate": "2020-12-07T13:55:30Z", "message": "avoid NPE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45f0cfbf4994b1f266f3d350292fd79328fb56da", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/45f0cfbf4994b1f266f3d350292fd79328fb56da", "committedDate": "2020-12-07T14:02:27Z", "message": "Refresh edited line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44130ca2506e5994edf01d73bdd667a7539de9c2", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/44130ca2506e5994edf01d73bdd667a7539de9c2", "committedDate": "2020-12-07T14:02:38Z", "message": "Merge branch 'gh10275' of github.com:metasfresh/metasfresh into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "943ffca2ad1956b4afa17dfd0f500250f1283b69", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/943ffca2ad1956b4afa17dfd0f500250f1283b69", "committedDate": "2020-12-07T14:53:29Z", "message": "Rename Window component into SectionGroup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39fc694815f9731343039f14a5152d5d7223b8c2", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/39fc694815f9731343039f14a5152d5d7223b8c2", "committedDate": "2020-12-08T06:47:26Z", "message": "Prerequisites for the delete button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66e4fc786745be8c405fa06bf02c6eb9a73adb1c", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/66e4fc786745be8c405fa06bf02c6eb9a73adb1c", "committedDate": "2020-12-08T08:01:37Z", "message": "Add prompt to show before the delete action"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b40b584e834d30a7bc31f80a9f48a580a245aa5", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/1b40b584e834d30a7bc31f80a9f48a580a245aa5", "committedDate": "2020-12-08T09:36:00Z", "message": "Some safety check on valid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "258ce47a2860f85d5fc6586948a297d6d928dc6e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/258ce47a2860f85d5fc6586948a297d6d928dc6e", "committedDate": "2020-12-08T10:30:06Z", "message": "Cleanup actions and put them in InlineTabActions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8fd24cd5427b699edfd07327dc90456546ccac6", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/c8fd24cd5427b699edfd07327dc90456546ccac6", "committedDate": "2020-12-08T10:36:25Z", "message": "Merged master into local branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3106e381bd285ec79909c4900a145ecf4d56af3e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/3106e381bd285ec79909c4900a145ecf4d56af3e", "committedDate": "2020-12-08T13:06:52Z", "message": "Get rid of that annoying warning message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60818f71b921ce83c6d9f359f5d784bccb457576", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/60818f71b921ce83c6d9f359f5d784bccb457576", "committedDate": "2020-12-08T13:12:57Z", "message": "Prepare Prompt strings for the BE changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11ed45a89c53509930ab53ebf251b2259cb23bf3", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/11ed45a89c53509930ab53ebf251b2259cb23bf3", "committedDate": "2020-12-08T13:18:52Z", "message": "Fix prompt strings in other areas of the site"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc6fe7d70e2c728483ef1f2493e8b037d5a5af75", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/cc6fe7d70e2c728483ef1f2493e8b037d5a5af75", "committedDate": "2020-12-08T14:03:47Z", "message": "Document the InlineTabWrapper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "906ac48de489dd0cd042364e963fc33e64090047", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/906ac48de489dd0cd042364e963fc33e64090047", "committedDate": "2020-12-08T14:21:22Z", "message": "Inline tab doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e561c75aa080ee5dd44ae1323c762db768286ad", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9e561c75aa080ee5dd44ae1323c762db768286ad", "committedDate": "2020-12-08T14:23:12Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3f2502b062989c26497a2bf5627aeab834a0328", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/c3f2502b062989c26497a2bf5627aeab834a0328", "committedDate": "2020-12-08T14:53:44Z", "message": "Some more cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "731dd663f0dc02998c4a3e386cf175679c906f38", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/731dd663f0dc02998c4a3e386cf175679c906f38", "committedDate": "2020-12-09T06:35:37Z", "message": "Sync the confirm dialog messages with the ones received from BE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de5b58e6131cd3d2bf6107353688123cab6f5d70", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/de5b58e6131cd3d2bf6107353688123cab6f5d70", "committedDate": "2020-12-09T08:02:25Z", "message": "Always put the last addition at the end of the list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6f312d706901c5a2ba2ef40f8b7819c389a3708", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/b6f312d706901c5a2ba2ef40f8b7819c389a3708", "committedDate": "2020-12-09T10:32:11Z", "message": "Prerequisites for show more"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c506d42c189ac104dc0cd3ff134457991e605b4", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/7c506d42c189ac104dc0cd3ff134457991e605b4", "committedDate": "2020-12-09T12:10:39Z", "message": "Show more logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd41872b70f12250ad1a7ab98067c3bf5fd1c10c", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/fd41872b70f12250ad1a7ab98067c3bf5fd1c10c", "committedDate": "2020-12-09T12:16:10Z", "message": "Added doc for the function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08cf0fa69699cceda6debf897c11d42bb66e9c4f", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/08cf0fa69699cceda6debf897c11d42bb66e9c4f", "committedDate": "2020-12-09T12:17:44Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d83504226fd6bed753bb226b022c866cb089030", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/8d83504226fd6bed753bb226b022c866cb089030", "committedDate": "2020-12-09T12:20:31Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06c2b885f341b1a05330662e5bce5eedb918fd3a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/06c2b885f341b1a05330662e5bce5eedb918fd3a", "committedDate": "2020-12-09T12:30:02Z", "message": "reuse functionality using toggleShowMore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b738578441d0db2a5ac68011d4544b8db44f06b4", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/b738578441d0db2a5ac68011d4544b8db44f06b4", "committedDate": "2020-12-09T13:08:39Z", "message": "Dont Show less when is not the case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c41a277f81d94b5ed1344cebc8b47d3d1020b85a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/c41a277f81d94b5ed1344cebc8b47d3d1020b85a", "committedDate": "2020-12-09T13:22:35Z", "message": "css fix for action buttons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1b5fb37a13cc53a76f7ce7d30c86188ca67c0f1", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/f1b5fb37a13cc53a76f7ce7d30c86188ca67c0f1", "committedDate": "2020-12-09T14:23:56Z", "message": "Fix addNew for multi widget presence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65a3ec6197f330a2b90e3f1efd6a0a98cdfcfd21", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/65a3ec6197f330a2b90e3f1efd6a0a98cdfcfd21", "committedDate": "2020-12-09T15:07:49Z", "message": "Ditch hardcoded Show more/Show less..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4f4ffd387e14e2604be8c698b149110418979af", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/f4f4ffd387e14e2604be8c698b149110418979af", "committedDate": "2020-12-10T06:18:50Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d1f1dd405798eaac5aa4044b72f05909327624f", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/1d1f1dd405798eaac5aa4044b72f05909327624f", "committedDate": "2020-12-10T08:35:40Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "231d2dc7e766c577e87a065e64aa6b8a754cd851", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/231d2dc7e766c577e87a065e64aa6b8a754cd851", "committedDate": "2020-12-10T09:48:42Z", "message": "Add display order by first 4 fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62c468697ee8e8f9e10beb267b6183377b3f5891", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/62c468697ee8e8f9e10beb267b6183377b3f5891", "committedDate": "2020-12-10T10:15:51Z", "message": "Small clarif on why I did not used a constant in this case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ccca8e5382ad7ba4ffc396cdf35b9cb47f55fe1", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9ccca8e5382ad7ba4ffc396cdf35b9cb47f55fe1", "committedDate": "2020-12-10T10:57:58Z", "message": "Fix deletion issue after addition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26676c4aa9d1e94faed40ec1120b455b163bb43b", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/26676c4aa9d1e94faed40ec1120b455b163bb43b", "committedDate": "2020-12-10T13:02:57Z", "message": "Add more safety checks for the deletion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5523d2842938771c86508e6a274e73d321df9228", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/5523d2842938771c86508e6a274e73d321df9228", "committedDate": "2020-12-10T13:55:56Z", "message": "Dont show the message in case of invalid for the inlineTab type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "324ef2348891f2c744ae90d92c6bc754bcca00fd", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/324ef2348891f2c744ae90d92c6bc754bcca00fd", "committedDate": "2020-12-10T14:27:16Z", "message": "Place the show more button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b229bceac0fdb8c8f9a66a9b65111ac75d6c8945", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/b229bceac0fdb8c8f9a66a9b65111ac75d6c8945", "committedDate": "2020-12-10T14:45:02Z", "message": "Put the caption in place"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44308247e8d34dd725b1ccfb37411a77d0a4c32", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/b44308247e8d34dd725b1ccfb37411a77d0a4c32", "committedDate": "2020-12-11T06:20:58Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ee89140766f6febe8a6131563b10f4b9329bfe7", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/3ee89140766f6febe8a6131563b10f4b9329bfe7", "committedDate": "2020-12-11T09:44:14Z", "message": "Adapt logic for showing the widget in full screen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4db5d12a2792fee93a7d02092b07cd49aa9d9c46", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/4db5d12a2792fee93a7d02092b07cd49aa9d9c46", "committedDate": "2020-12-11T10:16:22Z", "message": "fix scroll with overlay"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f725becd7b0e6379af2f20aca4c1b1b44a2318c4", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/f725becd7b0e6379af2f20aca4c1b1b44a2318c4", "committedDate": "2020-12-11T13:39:08Z", "message": "Fixtures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ecc476d39964d6302c941f5ab05ae0d9d96eea1", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/3ecc476d39964d6302c941f5ab05ae0d9d96eea1", "committedDate": "2020-12-14T06:27:45Z", "message": "Merge branch 'master' into gh10275"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eff5c36aee24e97ca922b3b520285a8ae22ff3da", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/eff5c36aee24e97ca922b3b520285a8ae22ff3da", "committedDate": "2020-12-14T06:33:57Z", "message": "Prereq InlineTabWrapper tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec5e734d327892131a1dd989f21662f984791a60", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/ec5e734d327892131a1dd989f21662f984791a60", "committedDate": "2020-12-14T07:04:04Z", "message": "Fix the test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "355fc5c2958fce5b50d5ca8a6bd14679ac03c89b", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/355fc5c2958fce5b50d5ca8a6bd14679ac03c89b", "committedDate": "2020-12-14T09:45:01Z", "message": "Initial main test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a48ace29f0bdb4fb81458bf2c3d797c8fcd1d220", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/a48ace29f0bdb4fb81458bf2c3d797c8fcd1d220", "committedDate": "2020-12-14T10:22:09Z", "message": "Test for more than 5 rows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3260d5743a3e6d8a49acb6bcbf43cbc4c3ca54ae", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/3260d5743a3e6d8a49acb6bcbf43cbc4c3ca54ae", "committedDate": "2020-12-14T10:36:00Z", "message": "Test fullscreen view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85a119cbbfbccffb46aff01b80c5a26153a9766e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/85a119cbbfbccffb46aff01b80c5a26153a9766e", "committedDate": "2020-12-14T10:44:51Z", "message": "Move fixture to a folder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13c5eff2a07beeb792ba6b6507a8eecaa997c5f5", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/13c5eff2a07beeb792ba6b6507a8eecaa997c5f5", "committedDate": "2020-12-14T12:09:39Z", "message": "Move to separate folder the inlineTab tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff28483f7ce0dfa408d0ea7cdcf32d3434b18bbd", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/ff28483f7ce0dfa408d0ea7cdcf32d3434b18bbd", "committedDate": "2020-12-14T12:20:01Z", "message": "Removed the hardcoded lines from the fields order display"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba0176749b17f21b0f420292d4bfe9ee9300e98a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/ba0176749b17f21b0f420292d4bfe9ee9300e98a", "committedDate": "2020-12-14T12:23:34Z", "message": "Skel for InlineTab item component test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8755e61745287fc5beb537323d59860cd5299b6e", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/8755e61745287fc5beb537323d59860cd5299b6e", "committedDate": "2020-12-14T13:41:46Z", "message": "InlineTab test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "929c454f7bca730decf3b9ce66b29eee52fc1669", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/929c454f7bca730decf3b9ce66b29eee52fc1669", "committedDate": "2020-12-14T14:09:08Z", "message": "Skeleton for the actions tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4580f52d98b90ba63b12949d56dff768b00676a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/d4580f52d98b90ba63b12949d56dff768b00676a", "committedDate": "2020-12-14T14:09:55Z", "message": "Remove redundant code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9a688cb943f95671f11bb3930fef627edd7809f", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/f9a688cb943f95671f11bb3930fef627edd7809f", "committedDate": "2020-12-14T14:25:31Z", "message": "UPDATE_INLINE_TAB_WRAPPER_FIELDS action test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf227ec69a13ff1e000fa6c711756ed04ab8aadf", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/cf227ec69a13ff1e000fa6c711756ed04ab8aadf", "committedDate": "2020-12-14T14:53:23Z", "message": "setInlineTabShowMore test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9901a31e4ee02ee966bd32955bc444d8364a86b9", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/9901a31e4ee02ee966bd32955bc444d8364a86b9", "committedDate": "2020-12-14T15:05:08Z", "message": "SET_INLINE_TAB_LAYOUT_AND_DATA test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f63af1096f726bd57a4b913066b8932edd49d7a", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/7f63af1096f726bd57a4b913066b8932edd49d7a", "committedDate": "2020-12-14T15:25:25Z", "message": "Test for setInlineTabAddNew action"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ef7270b70e9550598381699e2ac6b7786770ad", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/17ef7270b70e9550598381699e2ac6b7786770ad", "committedDate": "2020-12-15T12:10:08Z", "message": "Test the form display in case of new addition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dce8f18c8c5bc683c4832f96925875de583febc", "author": {"user": null}, "url": "https://github.com/metasfresh/metasfresh/commit/5dce8f18c8c5bc683c4832f96925875de583febc", "committedDate": "2020-12-15T12:40:33Z", "message": "Test for the case we have an invalid item in the inlineTab"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3040, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}