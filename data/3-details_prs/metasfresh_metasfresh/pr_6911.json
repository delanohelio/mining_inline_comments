{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMDY0NzM5", "number": 6911, "title": "#1253 Work In Progress - Clone Lines.", "bodyText": "metasfresh/metasfresh-webui-api-legacy#1253", "createdAt": "2020-06-25T14:38:00Z", "url": "https://github.com/metasfresh/metasfresh/pull/6911", "merged": true, "mergeCommit": {"oid": "1251c74c1d6ba960fe9a73be44dd6a13d4f546ad"}, "closed": true, "closedAt": "2020-07-08T15:32:56Z", "author": {"login": "dragospodariu96"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuvowNgH2gAyNDQwMDY0NzM5OmJlMGViNmY2YTI2NDliNjQyNjBjYjExMTQ2ZmU4OGI5YWZlMGU1NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy8MtggFqTQ0NDg4Mzc4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be0eb6f6a2649b64260cb11146fe88b9afe0e565", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/be0eb6f6a2649b64260cb11146fe88b9afe0e565", "committedDate": "2020-06-25T14:36:39Z", "message": "#1253 Work In Progress - First commit."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/4aecca323191599866c67ba4ba8474debd16f9bf", "committedDate": "2020-06-26T12:59:51Z", "message": "#1253 Work In Progress - now extending Java Process"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4OTczODE3", "url": "https://github.com/metasfresh/metasfresh/pull/6911#pullrequestreview-438973817", "createdAt": "2020-06-29T08:06:59Z", "commit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwODowNjo1OVrOGqJQIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwODoxMDo0MVrOGqJX_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg0NDk2Mw==", "bodyText": "use rejectWithInternalReason(...) as it's clearer", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r446844963", "createdAt": "2020-06-29T08:06:59Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,77 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\t// To be replaced with table id of the selected row's table and row id\n+\t\t// Also, if we are gonna support multiple rows cloning we could put the following 2 lines in a foreach (rowId : rowIds) statement\n+\t\tfinal TableRecordReference tableRecordReference = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateDocumentInTrxGeneric(tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn null;\n+\t}\n+\n+\t@Override\n+\tpublic void flush()\n+\t{\n+\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAllowThreadInherited()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ProcessPreconditionsResolution checkPreconditionsApplicable(final @NonNull IProcessPreconditionsContext context)\n+\t{\n+\t\tif (context.getAdTabId() == null)\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.reject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg0NTQ2NQ==", "bodyText": "there is a constant we return if all is fine..MSG_OK afair..", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r446845465", "createdAt": "2020-06-29T08:07:55Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,77 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\t// To be replaced with table id of the selected row's table and row id\n+\t\t// Also, if we are gonna support multiple rows cloning we could put the following 2 lines in a foreach (rowId : rowIds) statement\n+\t\tfinal TableRecordReference tableRecordReference = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateDocumentInTrxGeneric(tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg0NjE3OQ==", "bodyText": "not sure why you picked this class name..why not something more \"speaking\"?", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r446846179", "createdAt": "2020-06-29T08:09:15Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/config/StandardProcessConfig.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process.config;\n+\n+import de.metas.process.IADProcessDAO;\n+import de.metas.process.RelatedProcessDescriptor;\n+import de.metas.ui.web.process.WEBUI_CloneLine;\n+import de.metas.util.Services;\n+import org.springframework.stereotype.Component;\n+\n+import javax.annotation.PostConstruct;\n+\n+@Component\n+public class StandardProcessConfig", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg0Njk3Mw==", "bodyText": "if they can't/shall not be null, then please use lombok's @NonNull annotation", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r446846973", "createdAt": "2020-06-29T08:10:41Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/window/model/DocumentCollection.java", "diffHunk": "@@ -790,10 +789,17 @@ private DocumentPath duplicateDocumentInTrx(final DocumentPath fromDocumentPath)\n \n \t\tfinal TableRecordReference fromRecordRef = getTableRecordReference(fromDocumentPath);\n \n+\t\treturn duplicateDocumentInTrxGeneric(fromRecordRef, fromDocumentPath.getAdWindowIdOrNull());\n+\n+\t}\n+\n+\tpublic DocumentPath duplicateDocumentInTrxGeneric(final TableRecordReference fromRecordRef, final AdWindowId windowId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4aecca323191599866c67ba4ba8474debd16f9bf"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25f7de6bb6939f270b914de215977ac0a8664556", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/25f7de6bb6939f270b914de215977ac0a8664556", "committedDate": "2020-06-30T10:49:01Z", "message": "Revert \"Revert bigbang (#6925)\"\n\nThis reverts commit 387aac17173a5550e7dd7dd9b2bfbff248d31522."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35b3d60e7e471fe79e031434c567adb69fab14ee", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/35b3d60e7e471fe79e031434c567adb69fab14ee", "committedDate": "2020-06-30T12:11:05Z", "message": "4307 fix table collapse (#6927)\n\n* Fix collapsible table\r\n\r\n* Remove redundant code\r\n\r\n* Fix table tree\r\n\r\n* Safety check to make sure is action is dispatched\r\n\r\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfbc83f2725e04f6f0853bd0dc54f8fa29ebe0af", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/dfbc83f2725e04f6f0853bd0dc54f8fa29ebe0af", "committedDate": "2020-06-30T18:34:17Z", "message": "Merge branch 'master' into gh1253_clone_lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2639d17ac879851f277cc92439444c883d9f933a", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/2639d17ac879851f277cc92439444c883d9f933a", "committedDate": "2020-06-30T18:53:25Z", "message": "Cherry-Picked front-end par\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>\n(cherry picked from commit 643fdb774e1a0499b6482e2994e7315903cb2ec6)\n\nbackend/drsdf\nzvc\nzxvc\nz\nxcbnfdskj;bn g;dsa,,fda[piqwepity[poeriuyq\n\n `\n asfdasfafsddsaf\n fresh/de.metas.fresh.base/src/main/jasperreports/de/metas/reports/DataAdapter#"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94fff9f63b2969122ca3c182c21b1e8f5ea58d80", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/94fff9f63b2969122ca3c182c21b1e8f5ea58d80", "committedDate": "2020-06-30T18:56:53Z", "message": "Send selection on process creation (#6916)\n\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>\n(cherry picked from commit 643fdb774e1a0499b6482e2994e7315903cb2ec6)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1b72ff5a4f5ae61a671f3be51699580a3042862", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/f1b72ff5a4f5ae61a671f3be51699580a3042862", "committedDate": "2020-07-01T09:02:42Z", "message": "Fix for actions dropdown remaining opened (#6930)\n\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b748baa7ee2bed0c0f7f45d421d294697c72de0", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/8b748baa7ee2bed0c0f7f45d421d294697c72de0", "committedDate": "2020-07-01T10:25:16Z", "message": "Fix refreshing table with attributes (#6928)\n\n* #6873 change how spinner works for tables with attributes\r\n\r\n* #6873 don't deselect items manually on refresh of data as redux handles that\r\n\r\n* - remove todo comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f03deff0268b477c4e7754906bc0d9079ca058d", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/1f03deff0268b477c4e7754906bc0d9079ca058d", "committedDate": "2020-07-02T04:13:21Z", "message": "Fix shortcuts (#6936)\n\n* #6873 fix open in new tab shortcut\r\n\r\n* #6873 fix QuickActions shortcut"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a97fa030f1c4423b3aead058f327d6651d949f8", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0a97fa030f1c4423b3aead058f327d6651d949f8", "committedDate": "2020-07-02T04:18:32Z", "message": "Discard unsaved row when closing modal (#6939)\n\n* #6873 merge `discard` new items functions into one\r\n\r\n* #6873 remove unsaved table rows on closing modal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c552cc3366b2be2454f083bf8538705adf5afda", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/5c552cc3366b2be2454f083bf8538705adf5afda", "committedDate": "2020-07-02T04:31:10Z", "message": "Fix filtering data in tables (#6940)\n\n* #6873 add missing action creator to mapDispatchToProps\r\n- log errors to the console\r\n- add tableId prop to make debugging easier\r\n\r\n* #6873 create AC for clearing table data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31b58ac241dffa62f91c5ca7760e157f5433ac00", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/31b58ac241dffa62f91c5ca7760e157f5433ac00", "committedDate": "2020-07-02T05:31:04Z", "message": "Revert \"Discard unsaved row when closing modal (#6939)\" (#6941)\n\nThis reverts commit 0a97fa030f1c4423b3aead058f327d6651d949f8."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "332b8017ad3d7aa6ef6b4ee6c1ebc671907ee140", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/332b8017ad3d7aa6ef6b4ee6c1ebc671907ee140", "committedDate": "2020-07-02T14:18:36Z", "message": "Fix how we handle discarding rows (#6944)\n\n* Revert \"Revert \"Discard unsaved row when closing modal (#6939)\" (#6941)\"\r\n\r\nThis reverts commit 31b58ac241dffa62f91c5ca7760e157f5433ac00.\r\n\r\n* #6873 remove rows in table only when the modal is not saved"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eeefc1883fa60b29414563633bff036038e9e0d4", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/eeefc1883fa60b29414563633bff036038e9e0d4", "committedDate": "2020-07-02T14:21:32Z", "message": "#6873 don't create tab tables for advanced edit (#6948)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ec44dcca727e4be562e9513d00ece7018305e20", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/6ec44dcca727e4be562e9513d00ece7018305e20", "committedDate": "2020-07-02T16:20:15Z", "message": "Fix date picker (#6947)\n\n* Fix date picker\r\n\r\n* Fix linter errors\r\n\r\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05b1026bc0582f2c593a748fb05bff4995d619d4", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/05b1026bc0582f2c593a748fb05bff4995d619d4", "committedDate": "2020-07-03T05:08:38Z", "message": "#6873 don't filter on WS event, fix quickactions (#6951)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efa8c3381322d47b12e25f617d04e39c8e39b00f", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/efa8c3381322d47b12e25f617d04e39c8e39b00f", "committedDate": "2020-07-03T05:16:07Z", "message": "- fixing e2e tests (#6952)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0718274b5aa4cbf384f672939538df78ce42261f", "author": {"user": {"login": "petrican", "name": "Petrica Nanca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0718274b5aa4cbf384f672939538df78ce42261f", "committedDate": "2020-07-03T10:01:00Z", "message": "Fix multiselect with ctrl/command key (#6955)\n\nCo-authored-by: Petrica Nanca <petrica.nanca@metasfresh.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "078474aabe09a41e5bbd9e5c3ad6ba524916329d", "author": {"user": {"login": "teosarca", "name": "Teo Sarca"}}, "url": "https://github.com/metasfresh/metasfresh/commit/078474aabe09a41e5bbd9e5c3ad6ba524916329d", "committedDate": "2020-07-03T12:00:25Z", "message": "Merge branch 'master' into master-revert-revert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c77b5e2574322fa597f84a4d107639a8dc6ee9d9", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/c77b5e2574322fa597f84a4d107639a8dc6ee9d9", "committedDate": "2020-07-03T12:27:47Z", "message": "Merge remote-tracking branch 'origin/master-revert-revert' into gh1253_clone_lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4901990629aed511b254c8fec80eb28a9822ff84", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/4901990629aed511b254c8fec80eb28a9822ff84", "committedDate": "2020-07-07T15:27:19Z", "message": "#1253 Can now clone tab lines."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d5dcd9522889537d5fb36a61b394c6b3904296e", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/0d5dcd9522889537d5fb36a61b394c6b3904296e", "committedDate": "2020-07-07T15:28:13Z", "message": "Merge remote-tracking branch 'origin/master' into gh1253_clone_lines\n\n# Conflicts:\n#\tfrontend/src/actions/TableActions.js"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/b64daf5920d86def97d3aa96e7420181ea5888ad", "committedDate": "2020-07-07T15:45:25Z", "message": "#1253 Translated process to german."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MTU1ODg4", "url": "https://github.com/metasfresh/metasfresh/pull/6911#pullrequestreview-444155888", "createdAt": "2020-07-07T18:42:09Z", "commit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODo0MjowOVrOGuLFJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxODo1MjoyM1rOGuLZzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2OTIyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);\n          \n          \n            \n            \t\tfinal TableRecordReference tableRecordReference = CollectionUtils.singleElementOrNull(getProcessInfo().getSelectedIncludedRecords());\n          \n          \n            \n            \t\tif(tableRecordReference == null)\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\taddLog(\"The precondition of one selected included record does not hold anymore; -> doing nothing\");\n          \n          \n            \n            \t\t\treturn MSG_OK;\n          \n          \n            \n            \t\t}", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451069221", "createdAt": "2020-07-07T18:42:09Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2OTU0Mg==", "bodyText": "why override flush with an empty method?", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451069542", "createdAt": "2020-07-07T18:42:47Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);\n+\t\tfinal TableRecordReference parentRef = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateTabRowInTrx(parentRef, tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn MSG_OK;\n+\t}\n+\n+\t@Override\n+\tpublic void flush()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2OTY4Mg==", "bodyText": "why override isAllowThreadInherited?", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451069682", "createdAt": "2020-07-07T18:43:02Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);\n+\t\tfinal TableRecordReference parentRef = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateTabRowInTrx(parentRef, tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn MSG_OK;\n+\t}\n+\n+\t@Override\n+\tpublic void flush()\n+\t{\n+\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAllowThreadInherited()\n+\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3MDAxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"More than one row selected.\");\n          \n          \n            \n            \t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"More or less than one row selected.\");", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451070013", "createdAt": "2020-07-07T18:43:40Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);\n+\t\tfinal TableRecordReference parentRef = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateTabRowInTrx(parentRef, tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn MSG_OK;\n+\t}\n+\n+\t@Override\n+\tpublic void flush()\n+\t{\n+\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAllowThreadInherited()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ProcessPreconditionsResolution checkPreconditionsApplicable(final @NonNull IProcessPreconditionsContext context)\n+\t{\n+\t\tif (context.getAdTabId() == null)\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"No row(s) from a tab selected.\");\n+\t\t}\n+\n+\t\t//making sure only one row is selected at a time\n+\t\tif (context.getSelectedIncludedRecords().size() != 1)\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"More than one row selected.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3MDU4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tTableRecordReference ref = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(context.getSelectedIncludedRecords())).get(0);\n          \n          \n            \n            \t\tfinal TableRecordReference ref = CollectionUtils.singleElement(getProcessInfo().getSelectedIncludedRecords());", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451070589", "createdAt": "2020-07-07T18:44:46Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/*\n+ * #%L\n+ * metasfresh-webui-api\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.ui.web.process;\n+\n+import de.metas.process.IProcessPrecondition;\n+import de.metas.process.IProcessPreconditionsContext;\n+import de.metas.process.JavaProcess;\n+import de.metas.process.ProcessPreconditionsResolution;\n+import de.metas.ui.web.window.model.DocumentCollection;\n+import lombok.NonNull;\n+import org.adempiere.model.CopyRecordFactory;\n+import org.adempiere.util.lang.impl.TableRecordReference;\n+import org.compiere.SpringContextHolder;\n+\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+\n+public class WEBUI_CloneLine extends JavaProcess implements IProcessPrecondition\n+{\n+\tDocumentCollection documentCollectionService = SpringContextHolder.instance.getBean(DocumentCollection.class);\n+\n+\t@Nullable\n+\t@Override\n+\tprotected String doIt() throws Exception\n+\t{\n+\t\tfinal TableRecordReference tableRecordReference = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(getProcessInfo().getSelectedIncludedRecords())).get(0);\n+\t\tfinal TableRecordReference parentRef = TableRecordReference.of(getTable_ID(), getRecord_ID());\n+\t\tdocumentCollectionService.duplicateTabRowInTrx(parentRef, tableRecordReference, getProcessInfo().getAdWindowId());\n+\t\treturn MSG_OK;\n+\t}\n+\n+\t@Override\n+\tpublic void flush()\n+\t{\n+\n+\t}\n+\n+\t@Override\n+\tpublic boolean isAllowThreadInherited()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ProcessPreconditionsResolution checkPreconditionsApplicable(final @NonNull IProcessPreconditionsContext context)\n+\t{\n+\t\tif (context.getAdTabId() == null)\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"No row(s) from a tab selected.\");\n+\t\t}\n+\n+\t\t//making sure only one row is selected at a time\n+\t\tif (context.getSelectedIncludedRecords().size() != 1)\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"More than one row selected.\");\n+\t\t}\n+\n+\t\tTableRecordReference ref = new ArrayList<TableRecordReference>(TableRecordReference.ofSet(context.getSelectedIncludedRecords())).get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3NDUwOA==", "bodyText": "with respect to\n\nOBS: Enabled copyrecordfactory for salesorderline to be able to test it on at least a tab. (In the future this can be enabled for more).\n\nWhy wait for the future? Suggestion:\n\nfind the usages of CopyRecordFactory.enableForTableName.\nif the factory is enable for a parent (e.g. C_Order or DD_Order) then also add a second line there to enable it also for the line", "url": "https://github.com/metasfresh/metasfresh/pull/6911#discussion_r451074508", "createdAt": "2020-07-07T18:52:23Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.salescandidate.base/src/main/java/de/metas/ordercandidate/modelvalidator/C_OrderLine.java", "diffHunk": "@@ -39,6 +40,13 @@\n @Component\n public class C_OrderLine\n {\n+\n+\t@Init\n+\tpublic void init()\n+\t{\n+\t\tCopyRecordFactory.enableForTableName(I_C_OrderLine.Table_Name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b64daf5920d86def97d3aa96e7420181ea5888ad"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84d65b3b0badd6c366742304ed27c3940b5eb496", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/84d65b3b0badd6c366742304ed27c3940b5eb496", "committedDate": "2020-07-08T08:13:41Z", "message": "#1253 Enabled copyrecordfactory for more tables & small refractorings."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0ODgzNzg2", "url": "https://github.com/metasfresh/metasfresh/pull/6911#pullrequestreview-444883786", "createdAt": "2020-07-08T15:30:29Z", "commit": {"oid": "84d65b3b0badd6c366742304ed27c3940b5eb496"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3296, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}