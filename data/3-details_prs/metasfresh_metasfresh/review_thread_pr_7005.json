{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjM5OTQ0", "number": 7005, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo0NDoxMVrOEN0xXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo0NDoxMVrOEN0xXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyOTMxNTUwOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5563310_sys_gh7003_Only_Default_BillToContact_Valrule.sql", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo0NDoxMVrOGwpLzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo0NDoxMVrOGwpLzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzY1OTU5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@\n          \n          \n            \n            -- fail, until the AD_Val_Rule exists (created by backend/de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5563310_sys_gh7003_Only_Default_BillToContact_Valrule.sql)\n          \n          \n            \n            select db_fail_unless_row_count_greater_zero('select 1 from AD_Val_Rule WHERE AD_Val_Rule_ID=540511');\n          \n          \n            \n            \n          \n          \n            \n            UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@", "url": "https://github.com/metasfresh/metasfresh/pull/7005#discussion_r453659596", "createdAt": "2020-07-13T13:44:11Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.adempiere.adempiere/migration/src/main/sql/postgresql/system/10-de.metas.adempiere/5563310_sys_gh7003_Only_Default_BillToContact_Valrule.sql", "diffHunk": "@@ -0,0 +1,67 @@\n+\n+-- 2020-07-09T17:50:46.801Z\n+-- URL zum Konzept\n+INSERT INTO AD_Val_Rule (AD_Client_ID,AD_Org_ID,AD_Val_Rule_ID,Code,Created,CreatedBy,EntityType,IsActive,Name,Type,Updated,UpdatedBy) VALUES\n+ (0,0,540511,'AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@\n+AND AD_User.IsBillToContact_Default = ''Y''',TO_TIMESTAMP('2020-07-09 20:50:46','YYYY-MM-DD HH24:MI:SS'),100,'D','Y',\n+'AD_User_BillToDefault of Context  Partner','S',TO_TIMESTAMP('2020-07-09 20:50:46','YYYY-MM-DD HH24:MI:SS'),100)\n+;\n+\n+\n+-- 2020-07-09T17:51:49.277Z\n+-- URL zum Konzept\n+UPDATE AD_Val_Rule SET Name='AD_User_BillToDefault of Context Partner',Updated=TO_TIMESTAMP('2020-07-09 20:51:49','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Val_Rule_ID=540511\n+;\n+\n+-- 2020-07-09T17:52:19.262Z\n+-- URL zum Konzept\n+UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@\n+AND AD_User.IsBillToContact_Default = ''Y''',Updated=TO_TIMESTAMP('2020-07-09 20:52:19','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Val_Rule_ID=540511\n+;\n+\n+\n+\n+-- 2020-07-09T18:04:42.665Z\n+-- URL zum Konzept\n+UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@\n+AND AD_User.IsBillToContact_Default = ''Y''\n+AND AD_User.C_BPartner_ID IS NOT NULL',Updated=TO_TIMESTAMP('2020-07-09 21:04:42','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Val_Rule_ID=540511\n+;\n+\n+-- 2020-07-09T18:05:32.191Z\n+-- URL zum Konzept\n+UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@\n+AND AD_User.IsBillToContact_Default = ''Y''\n+AND AD_User.C_BPartner_ID >0',Updated=TO_TIMESTAMP('2020-07-09 21:05:32','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Val_Rule_ID=540511\n+;\n+\n+\n+\n+-- 2020-07-09T18:19:00.185Z\n+-- URL zum Konzept\n+UPDATE AD_Val_Rule SET Code='AD_User.C_Bpartner_ID = @C_BPartner_ID/-1@", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da95b00fc67d609bc55746df501109c0b72f3058"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1428, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}