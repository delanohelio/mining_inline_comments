{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MzUxNDIx", "number": 6996, "title": "#1253 No longer showing 'Clone Line' action when subtab's table is the same as the document's.", "bodyText": "#6911", "createdAt": "2020-07-10T10:08:44Z", "url": "https://github.com/metasfresh/metasfresh/pull/6996", "merged": true, "mergeCommit": {"oid": "2ee587ce9db5a26e544cf9d0f92c23656a9927bc"}, "closed": true, "closedAt": "2020-07-10T11:00:08Z", "author": {"login": "dragospodariu96"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczgyJEgH2gAyNDQ3MzUxNDIxOjdhYzBmNmI5ZjhiZGRjY2FiM2QwZjZjOWZkMTIzN2IyNjE0MDFhNmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczhHMugH2gAyNDQ3MzUxNDIxOjI0YjY3NjU1NmYxY2FhYTY0YmU5MWM3Njg0ZGI5NDNjMzRjYjUyMDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ac0f6b9f8bddccab3d0f6c9fd1237b261401a6f", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/7ac0f6b9f8bddccab3d0f6c9fd1237b261401a6f", "committedDate": "2020-07-10T10:07:57Z", "message": "#1253 No longer showing 'Clone Line' action when subtab's table is the same as the document's."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Mjk2ODI1", "url": "https://github.com/metasfresh/metasfresh/pull/6996#pullrequestreview-446296825", "createdAt": "2020-07-10T10:30:19Z", "commit": {"oid": "7ac0f6b9f8bddccab3d0f6c9fd1237b261401a6f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMDozMDoxOVrOGvyaOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMDozMDoxOVrOGvyaOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjc2MjE2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"Same Table as in document in sub-tab, can only have one line.\");\n          \n          \n            \n            \t\t\t// we have e.g. in the C_BPartner-window two subtabs (\"Customer\" and \"Vendor\") that show a different view on the same C_BPartner record. \n          \n          \n            \n            \t\t\t// There, cloning the subtab-line makes no sense\n          \n          \n            \n            \t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"The main-window has the same Record as the sub-tab, there can only be one line.\");", "url": "https://github.com/metasfresh/metasfresh/pull/6996#discussion_r452762169", "createdAt": "2020-07-10T10:30:19Z", "author": {"login": "metas-ts"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/process/WEBUI_CloneLine.java", "diffHunk": "@@ -73,6 +73,11 @@ public ProcessPreconditionsResolution checkPreconditionsApplicable(final @NonNul\n \t\t{\n \t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"CopyRecordFactory not enabled for the table the row belongs to.\");\n \t\t}\n+\n+\t\tif (ref.getTableName().equals(context.getTableName()))\n+\t\t{\n+\t\t\treturn ProcessPreconditionsResolution.rejectWithInternalReason(\"Same Table as in document in sub-tab, can only have one line.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ac0f6b9f8bddccab3d0f6c9fd1237b261401a6f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24b676556f1caaa64be91c7684db943c34cb5203", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/24b676556f1caaa64be91c7684db943c34cb5203", "committedDate": "2020-07-10T10:30:57Z", "message": "Improve clarity - i hope\r\n\r\nhttps://github.com/metasfresh/metasfresh/pull/6911"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3323, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}