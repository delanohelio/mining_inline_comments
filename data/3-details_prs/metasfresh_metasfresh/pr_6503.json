{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NTQ0ODMw", "number": 6503, "title": "Gh6495 throw error on missing account", "bodyText": "#6495", "createdAt": "2020-04-21T09:12:35Z", "url": "https://github.com/metasfresh/metasfresh/pull/6503", "merged": true, "mergeCommit": {"oid": "9a9b4125862fb6e1c83febad4f5005dd4dd6d64a"}, "closed": true, "closedAt": "2020-04-21T09:20:23Z", "author": {"login": "metas-rc"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZwB6JgH2gAyNDA2NTQ0ODMwOjFmNTQ0ZDJlMjczYmJiODJmMjA3NTkyZmMyNDY0YzY4NGFiYzYwY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZwJibgH2gAyNDA2NTQ0ODMwOjY0NTkxZTBiZWU1ZWZkMmQyNGJjOTMzM2Y4MjRjN2RiYTRlOWJiZjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f544d2e273bbb82f207592fc2464c684abc60ca", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/1f544d2e273bbb82f207592fc2464c684abc60ca", "committedDate": "2020-04-21T09:11:43Z", "message": "#6495 throw error if the account was not found\n\nhttps://github.com/metasfresh/metasfresh/issues/6495"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80fa70eac61dd0965a00887120e9393086845572", "author": {"user": {"login": "metas-rc", "name": "Ruxandra Craciunescu"}}, "url": "https://github.com/metasfresh/metasfresh/commit/80fa70eac61dd0965a00887120e9393086845572", "committedDate": "2020-04-21T09:12:02Z", "message": "Merge branch 'master' into gh6495"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTQ1MTk3", "url": "https://github.com/metasfresh/metasfresh/pull/6503#pullrequestreview-397145197", "createdAt": "2020-04-21T09:19:41Z", "commit": {"oid": "80fa70eac61dd0965a00887120e9393086845572"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwOToxOTo0MVrOGI7qQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwOToxOTo0MVrOGI7qQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjAxOTI2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\t.setParameter(\"sql\", sql)\n          \n          \n            \n            \t\t\t\t\t\t.markAsUserValidationError()\n          \n          \n            \n            \t\t\t\t\t\t.setParameter(\"sql\", sql)", "url": "https://github.com/metasfresh/metasfresh/pull/6503#discussion_r412019267", "createdAt": "2020-04-21T09:19:41Z", "author": {"login": "metas-ts"}, "path": "de.metas.acct.base/src/main/java-legacy/org/compiere/acct/Doc.java", "diffHunk": "@@ -1328,15 +1330,18 @@ else if (acctType == ACCTTYPE_PPVOffset)\n \t\t\t\tfinal AccountId accountId = AccountId.ofRepoIdOrNull(rs.getInt(1));\n \t\t\t\tif (accountId == null)\n \t\t\t\t{\n-\t\t\t\t\tlog.error(\"account ID not set for: account Type=\" + acctType + \", Record=\" + get_ID() + \", SQL=\" + sql + \", sqlParams=\" + sqlParams);\n+\t\t\t\t\tlog.warn(\"account ID not set for: account Type=\" + acctType + \", Record=\" + get_ID() + \", SQL=\" + sql + \", sqlParams=\" + sqlParams);\n \t\t\t\t}\n \n \t\t\t\treturn accountId;\n \t\t\t}\n \t\t\telse\n \t\t\t{\n-\t\t\t\tlog.error(\"No record found for: account Type=\" + acctType + \", Record=\" + get_ID() + \", SQL=\" + sql + \", sqlParams=\" + sqlParams);\n-\t\t\t\treturn null;\n+\t\t\t\tthrow new AdempiereException(MSG_NoAccountFound, get_ID(), acctType)\n+\t\t\t\t\t\t.setParameter(\"sql\", sql)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80fa70eac61dd0965a00887120e9393086845572"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64591e0bee5efd2d24bc9333f824c7dba4e9bbf0", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/64591e0bee5efd2d24bc9333f824c7dba4e9bbf0", "committedDate": "2020-04-21T09:20:03Z", "message": "Update de.metas.acct.base/src/main/java-legacy/org/compiere/acct/Doc.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3472, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}