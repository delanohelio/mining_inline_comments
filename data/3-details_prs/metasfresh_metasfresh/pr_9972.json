{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MjAzMDM2", "number": 9972, "title": "Allow `Issue`ing of `By-Product` and `Co-Product` created HUs in manufacturing", "bodyText": "#9971", "createdAt": "2020-09-18T09:45:55Z", "url": "https://github.com/metasfresh/metasfresh/pull/9972", "merged": true, "mergeCommit": {"oid": "188e1de57b01ebbc9b41ea2d5939d4b42c42527e"}, "closed": true, "closedAt": "2020-09-24T05:00:31Z", "author": {"login": "TheBestPessimist"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLRCVIAH2gAyNDg5MjAzMDM2OjNhMTEzOWJiYmI0OTNjZDY0YWI2Y2FiNWM2YTViMTUyZTRjYTFhZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLtCM0AFqTQ5NDY5MDYxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3a1139bbbb493cd64ab6cab5c6a5b152e4ca1aee", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/3a1139bbbb493cd64ab6cab5c6a5b152e4ca1aee", "committedDate": "2020-09-22T05:21:20Z", "message": "Use HU.Status when checking if a HU is issued or not\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c177fd37864c266e0e8febec49a51f4618b51318", "committedDate": "2020-09-22T05:22:03Z", "message": "Bugfix: don't set virtual column\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "307834c52905f9bebdae2407e1d27796fa5c04f1", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/307834c52905f9bebdae2407e1d27796fa5c04f1", "committedDate": "2020-09-18T09:45:19Z", "message": "Bugfix: don't set virtual column\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}, "afterCommit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c177fd37864c266e0e8febec49a51f4618b51318", "committedDate": "2020-09-22T05:22:03Z", "message": "Bugfix: don't set virtual column\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e8c61bb6b5d39e743abc9fa284a9cc3aa8435ec", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/4e8c61bb6b5d39e743abc9fa284a9cc3aa8435ec", "committedDate": "2020-09-22T09:32:41Z", "message": "Revert \"Create a WidgetWrapper component for fetching data (#9973)\" (#9985)\n\nThis reverts commit 58ee80b1b4e1e6c0a77304376aed7a4e25850c32."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTE5OTkx", "url": "https://github.com/metasfresh/metasfresh/pull/9972#pullrequestreview-493519991", "createdAt": "2020-09-22T14:26:44Z", "commit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyNjo0NVrOHV816Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyNjo0NVrOHV816Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc3ODk4NQ==", "bodyText": "pls always use IHandlingUnitsDAO.getById !", "url": "https://github.com/metasfresh/metasfresh/pull/9972#discussion_r492778985", "createdAt": "2020-09-22T14:26:45Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUStatusBL.java", "diffHunk": "@@ -237,6 +238,11 @@ public boolean isStatusIssued(@Nullable final I_M_HU huRecord)\n \t\treturn X_M_HU.HUSTATUS_Issued.equals(huRecord.getHUStatus());\n \t}\n \n+\t@Override\n+\tpublic boolean isStatusIssued(@NonNull final HuId huId){\n+\t\treturn isStatusIssued(InterfaceWrapperHelper.load(huId, I_M_HU.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTIzMzIx", "url": "https://github.com/metasfresh/metasfresh/pull/9972#pullrequestreview-493523321", "createdAt": "2020-09-22T14:29:43Z", "commit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyOTo0M1rOHV8_pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyOTo0M1rOHV8_pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc4MTQ3Nw==", "bodyText": "why removing this line?", "url": "https://github.com/metasfresh/metasfresh/pull/9972#discussion_r492781477", "createdAt": "2020-09-22T14:29:43Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.manufacturing/src/main/java/org/eevolution/api/impl/PPOrderBL.java", "diffHunk": "@@ -153,7 +155,6 @@ public void updateQtyBatchs(final I_PP_Order order, final boolean override)\n \n \t\t\tfinal I_AD_Workflow wf = order.getAD_Workflow();\n \t\t\tqtyBatchSize = wf.getQtyBatchSize().setScale(0, RoundingMode.UP);\n-\t\t\torder.setQtyBatchSize(qtyBatchSize);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "originalPosition": 105}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTMxMzA4", "url": "https://github.com/metasfresh/metasfresh/pull/9972#pullrequestreview-493531308", "createdAt": "2020-09-22T14:36:56Z", "commit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDozNjo1NlrOHV9WfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDozNjo1NlrOHV9WfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc4NzMyNQ==", "bodyText": "instead of removing it, we shall introduce PP_Order_Qty.Type={I=Issue, R=Receipt}.\nisHuIdIssued shall also filter by Type=I.\nTo set the new field, check\nde.metas.handlingunits.pporder.api.impl.HUPPOrderQtyDAO.save(CreateIssueCandidateRequest)\nde.metas.handlingunits.pporder.api.impl.HUPPOrderQtyDAO.save(CreateReceiptCandidateRequest)\nAlso, don't forget to migrate the new column!", "url": "https://github.com/metasfresh/metasfresh/pull/9972#discussion_r492787325", "createdAt": "2020-09-22T14:36:56Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/pporder/api/impl/HUPPOrderQtyDAO.java", "diffHunk": "@@ -161,16 +161,4 @@ public I_PP_Order_Qty retrieveOrderQtyForCostCollector(@NonNull final PPOrderId\n \t\t\t\t})\n \t\t\t\t.orElse(null);\n \t}\n-\n-\t@Override\n-\t@Cached(cacheName = I_PP_Order_Qty.Table_Name + \"#by#\" + I_PP_Order_Qty.COLUMNNAME_M_HU_ID)\n-\tpublic boolean isHuIdIssued(@NonNull final HuId huId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTMxOTc4", "url": "https://github.com/metasfresh/metasfresh/pull/9972#pullrequestreview-493531978", "createdAt": "2020-09-22T14:37:32Z", "commit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDozNzozMlrOHV9YYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDozNzozMlrOHV9YYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc4NzgwOQ==", "bodyText": "pls don't remove it", "url": "https://github.com/metasfresh/metasfresh/pull/9972#discussion_r492787809", "createdAt": "2020-09-22T14:37:32Z", "author": {"login": "teosarca"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/pporder/process/WEBUI_PP_Order_HUEditor_Launcher.java", "diffHunk": "@@ -173,7 +172,7 @@ private boolean isEligibleHuToIssue(final HuId huId)\n \t\t\treturn false;\n \t\t}\n \n-\t\tif (huOrderCandidatesRepo.isHuIdIssued(huId))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c177fd37864c266e0e8febec49a51f4618b51318"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ca2b3a12a16d51fe8ffb4b008eda1dac237bfd0", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/3ca2b3a12a16d51fe8ffb4b008eda1dac237bfd0", "committedDate": "2020-09-23T10:11:49Z", "message": "PPOrderCost: set `coProductCostDistributionPercent` to 0 instead of null\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "576b3b3564736bfcc7c1a803e8f8c23f594aad75", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/576b3b3564736bfcc7c1a803e8f8c23f594aad75", "committedDate": "2020-09-23T10:52:45Z", "message": "Use HandlingUnitDao instead of InterfaceWrapperHelper\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b4875a14e13265fd9839fd0632ede0d5e20adcc", "author": {"user": {"login": "TheBestPessimist", "name": "TheBestPessimist"}}, "url": "https://github.com/metasfresh/metasfresh/commit/6b4875a14e13265fd9839fd0632ede0d5e20adcc", "committedDate": "2020-09-23T10:57:38Z", "message": "Revert: \"Bugfix: don't set virtual column\"\n\nhttps://github.com/metasfresh/metasfresh/issues/9971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fbc2a144265c9e0e0de05458e5da2667286d542", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/5fbc2a144265c9e0e0de05458e5da2667286d542", "committedDate": "2020-09-23T13:56:22Z", "message": "Merge remote-tracking branch 'origin/master' into gh9971-manufacturing-Issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjkwNjE1", "url": "https://github.com/metasfresh/metasfresh/pull/9972#pullrequestreview-494690615", "createdAt": "2020-09-23T13:58:32Z", "commit": {"oid": "5fbc2a144265c9e0e0de05458e5da2667286d542"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3188, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}