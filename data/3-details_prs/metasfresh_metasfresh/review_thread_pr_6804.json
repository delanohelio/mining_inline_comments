{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NTI3NTAw", "number": 6804, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODoyMzoxMFrOEDw09Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NzowOFrOEDxZ-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzgxMTczOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/ITourDAO.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODoyMzoxMFrOGg-Fqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODo0NDoxNlrOGi8GXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyNDg3NQ==", "bodyText": "no finals needed in this interface", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r437224875", "createdAt": "2020-06-09T08:23:10Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/ITourDAO.java", "diffHunk": "@@ -38,4 +38,6 @@\n \t * @return tour version ranges\n \t */\n \tList<ITourVersionRange> retrieveTourVersionRanges(I_M_Tour tour, LocalDate dateFrom, LocalDate dateTo);\n+\n+\tITourVersionRange generateTourVersionRange(final I_M_TourVersion tourVersion, final LocalDate validFrom, final LocalDate validTo);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4OTQzOA==", "bodyText": "Done!", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r439289438", "createdAt": "2020-06-12T08:44:16Z", "author": {"login": "dragospodariu96"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/ITourDAO.java", "diffHunk": "@@ -38,4 +38,6 @@\n \t * @return tour version ranges\n \t */\n \tList<ITourVersionRange> retrieveTourVersionRanges(I_M_Tour tour, LocalDate dateFrom, LocalDate dateTo);\n+\n+\tITourVersionRange generateTourVersionRange(final I_M_TourVersion tourVersion, final LocalDate validFrom, final LocalDate validTo);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyNDg3NQ=="}, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzgxOTA4OnYy", "diffSide": "RIGHT", "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/impl/DeliveryDayGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODoyNTowMVrOGg-KQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwOToxNDoxM1rOGi9BCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyNjA1MQ==", "bodyText": "see if you can't avoid the code duplication; looks very similar to generateForTour to me on the first glimpse", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r437226051", "createdAt": "2020-06-09T08:25:01Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/impl/DeliveryDayGenerator.java", "diffHunk": "@@ -151,6 +150,26 @@ public final void generate(final String trxName)\n \t\t}\n \t}\n \n+\t@Override\n+\tpublic void generateDeliveryDaysForTourVersion(final String trxName, final I_M_TourVersion tourVersion)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwNDQ1Nw==", "bodyText": "Extracted duplicate code to new method!", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r439304457", "createdAt": "2020-06-12T09:14:13Z", "author": {"login": "dragospodariu96"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/impl/DeliveryDayGenerator.java", "diffHunk": "@@ -151,6 +150,26 @@ public final void generate(final String trxName)\n \t\t}\n \t}\n \n+\t@Override\n+\tpublic void generateDeliveryDaysForTourVersion(final String trxName, final I_M_TourVersion tourVersion)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyNjA1MQ=="}, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzgzMTk5OnYy", "diffSide": "RIGHT", "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/IDeliveryDayGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODoyODoxNFrOGg-SLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODo0NDowNlrOGi8GBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyODA3OQ==", "bodyText": "pls call it generateForTourVersion\n...we allready guessed that i created delviery days ;-)", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r437228079", "createdAt": "2020-06-09T08:28:14Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/IDeliveryDayGenerator.java", "diffHunk": "@@ -22,4 +22,6 @@\n \tvoid setDateFrom(final LocalDate dateFrom);\n \n \tvoid generate(String trxName);\n+\n+\tvoid generateDeliveryDaysForTourVersion(String trxName, I_M_TourVersion tourVersion);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4OTM1MQ==", "bodyText": "Done!", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r439289351", "createdAt": "2020-06-12T08:44:06Z", "author": {"login": "dragospodariu96"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/api/IDeliveryDayGenerator.java", "diffHunk": "@@ -22,4 +22,6 @@\n \tvoid setDateFrom(final LocalDate dateFrom);\n \n \tvoid generate(String trxName);\n+\n+\tvoid generateDeliveryDaysForTourVersion(String trxName, I_M_TourVersion tourVersion);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIyODA3OQ=="}, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzg5OTIwOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NToyM1rOGg-9Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODo0Mzo1NFrOGi8FsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTA0Nw==", "bodyText": "please use the modern way of assigning parameters in this process (de.metas.process.Param annotation)", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r437239047", "createdAt": "2020-06-09T08:45:23Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "diffHunk": "@@ -92,6 +93,11 @@ else if (PARAM_DateTo.equals(name))\n \t\t{\n \t\t\tp_tour = InterfaceWrapperHelper.create(getCtx(), getRecord_ID(), I_M_Tour.class, ITrx.TRXNAME_None);\n \t\t}\n+\t\tif (I_M_TourVersion.Table_Name.equals(getTableName()) && getRecord_ID() > 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4OTI2NA==", "bodyText": "Done!", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r439289264", "createdAt": "2020-06-12T08:43:54Z", "author": {"login": "dragospodariu96"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "diffHunk": "@@ -92,6 +93,11 @@ else if (PARAM_DateTo.equals(name))\n \t\t{\n \t\t\tp_tour = InterfaceWrapperHelper.create(getCtx(), getRecord_ID(), I_M_Tour.class, ITrx.TRXNAME_None);\n \t\t}\n+\t\tif (I_M_TourVersion.Table_Name.equals(getTableName()) && getRecord_ID() > 0)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTA0Nw=="}, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkwNjUwOnYy", "diffSide": "RIGHT", "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NzowOFrOGg_Bnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODo0NDo1OFrOGi8Hog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDIyMw==", "bodyText": "as written in the channel, i'm unsure about the role of p_DateFrom and p_DateTo in case a  p_tourVersion is selected.\nMaybe you should preset them? see IProcessDefaultParametersProvider", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r437240223", "createdAt": "2020-06-09T08:47:08Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "diffHunk": "@@ -58,18 +58,19 @@\n \tprivate Timestamp p_DateFrom = null;\n \tprivate Timestamp p_DateTo = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI4OTc2Mg==", "bodyText": "Clarified with Mark, we shall leave the behaviour as it is in the tour window. Parameters are set and overwritten if necessary", "url": "https://github.com/metasfresh/metasfresh/pull/6804#discussion_r439289762", "createdAt": "2020-06-12T08:44:58Z", "author": {"login": "dragospodariu96"}, "path": "backend/de.metas.swat/de.metas.swat.base/src/main/java/de/metas/tourplanning/process/GenerateDeliveryDays.java", "diffHunk": "@@ -58,18 +58,19 @@\n \tprivate Timestamp p_DateFrom = null;\n \tprivate Timestamp p_DateTo = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI0MDIyMw=="}, "originalCommit": {"oid": "9b3d6e04c594036f726ab8599ef2ed65ee648304"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1464, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}