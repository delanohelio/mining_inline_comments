{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4NzAxNzU3", "number": 9962, "title": "#9935 C_project_id propagation and window adjustments", "bodyText": "#9935", "createdAt": "2020-09-17T14:15:00Z", "url": "https://github.com/metasfresh/metasfresh/pull/9962", "merged": true, "mergeCommit": {"oid": "c8eb04316b314a35209105908f5048e27e8a39b6"}, "closed": true, "closedAt": "2020-09-18T09:11:56Z", "author": {"login": "dragospodariu96"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJxqKIgH2gAyNDg4NzAxNzU3OjA1NjBlMTQ4N2Q0MDUxN2FjYWNiYTA3ZjAzOWJlMzM0YjU3Y2JkNWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKB0dcgFqTQ5MTI4MTkyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0560e1487d40517acacba07f039be334b57cbd5a", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/0560e1487d40517acacba07f039be334b57cbd5a", "committedDate": "2020-09-17T14:13:57Z", "message": "#9935\n - Setting the project from the order's header to an orderline when adding a new orderline\n - Setting the project from the orderline to a shipmentline when generating shipments\n - Setting the project from the orderline to an invoiceline when generating Invoices\n - Ad_Rel_type entries to show sidelist references between\n            - c_order(so) <-> c_project\n            - m_inout(so) <-> c_project\n            - c_invoice(so) <-> c_project\n            - fact_acct <-> c_project\n - Displaying project field in shipment line and invoice line"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMjU5NDkz", "url": "https://github.com/metasfresh/metasfresh/pull/9962#pullrequestreview-491259493", "createdAt": "2020-09-18T08:33:00Z", "commit": {"oid": "0560e1487d40517acacba07f039be334b57cbd5a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwODozMzowMFrOHUDaYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwODozMzowMFrOHUDaYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc4OTQ3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tfinal I_C_Order order = orderline.getC_Order();\n          \n          \n            \n            \t\tif (order != null)\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\torderline.setC_Project_ID(order.getC_Project_ID());\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tif (orderline.getC_Order_ID() > 0 && orderLine.getC_Project_ID() <= 0)\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\tfinal I_C_Order order = orderline.getC_Order();\n          \n          \n            \n            \t\t\torderline.setC_Project_ID(order.getC_Project_ID());\n          \n          \n            \n            \t\t}\n          \n      \n    \n    \n  \n\nimprovements:\n\ndon't overwrite a rpoject that a used just set in the add-new modal\ndon't load the order if you don't have to", "url": "https://github.com/metasfresh/metasfresh/pull/9962#discussion_r490789473", "createdAt": "2020-09-18T08:33:00Z", "author": {"login": "metas-ts"}, "path": "backend/de.metas.business/src/main/java/de/metas/order/model/interceptor/C_OrderLine.java", "diffHunk": "@@ -126,6 +126,16 @@ public void setQtyEnteredInPriceUOM(final I_C_OrderLine orderLine)\n \t\torderLine.setQtyEnteredInPriceUOM(qtyEnteredInPriceUOM);\n \t}\n \n+\t@ModelChange(timings = { ModelValidator.TYPE_BEFORE_NEW })\n+\tpublic void setProjectToOrderline(final I_C_OrderLine orderline)\n+\t{\n+\t\tfinal I_C_Order order = orderline.getC_Order();\n+\t\tif (order != null)\n+\t\t{\n+\t\t\torderline.setC_Project_ID(order.getC_Project_ID());\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0560e1487d40517acacba07f039be334b57cbd5a"}, "originalPosition": 88}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a860f817a5cd9f5b828ded5757453d780645806", "author": {"user": {"login": "dragospodariu96", "name": null}}, "url": "https://github.com/metasfresh/metasfresh/commit/7a860f817a5cd9f5b828ded5757453d780645806", "committedDate": "2020-09-18T08:41:18Z", "message": "#9935\n - applied review requested changes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMjgxOTI4", "url": "https://github.com/metasfresh/metasfresh/pull/9962#pullrequestreview-491281928", "createdAt": "2020-09-18T09:03:41Z", "commit": {"oid": "7a860f817a5cd9f5b828ded5757453d780645806"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3180, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}