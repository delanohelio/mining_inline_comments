{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MTQzODM0", "number": 10048, "title": "#10045 Packing instructions are no longer displayed when ordering ", "bodyText": "#10045 Packing instructions are no longer displayed when ordering", "createdAt": "2020-10-01T10:21:34Z", "url": "https://github.com/metasfresh/metasfresh/pull/10048", "merged": true, "mergeCommit": {"oid": "96f45b79fcf97fe6ea1ec67e37c898d696e60763"}, "closed": true, "closedAt": "2020-10-06T09:34:12Z", "author": {"login": "cristinamghita"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdON6AdAH2gAyNDk2MTQzODM0OjFhYzMzM2E2ZWM1ZGY1ZTRhNWY0NWRlYmJjMWY2MmJkODRjYjQ2Mjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdP0yGSgH2gAyNDk2MTQzODM0OmU5Y2E2ZTQ1N2MwZDc2YmNjODgxOGJjZTA0YzRjNTJkODg5NTRiNmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1ac333a6ec5df5e4a5f45debbc1f62bd84cb4627", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/1ac333a6ec5df5e4a5f45debbc1f62bd84cb4627", "committedDate": "2020-10-01T09:24:18Z", "message": "#10045 Add sys config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5caa97b8bc603cf322581ba734635a5ba9f47ae", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/d5caa97b8bc603cf322581ba734635a5ba9f47ae", "committedDate": "2020-10-01T10:20:47Z", "message": "#10045 Use sys config for skipping enforcing M_HU_PI_Item_Product_ID in product price"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0bfbba646e9381c75eaddb0f483be4653fa056bc", "committedDate": "2020-10-01T10:38:11Z", "message": "#10045 Correct the name of sys config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzkwNzk5", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500390799", "createdAt": "2020-10-01T14:12:59Z", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxMjo1OVrOHbMYVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxMjo1OVrOHbMYVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI3NjQzNw==", "bodyText": "move this sysconfig to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper and call it de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct.", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498276437", "createdAt": "2020-10-01T14:12:59Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "diffHunk": "@@ -75,6 +76,9 @@\n \n public class HUPIItemProductDAO implements IHUPIItemProductDAO\n {\n+\tprivate static final ISysConfigBL sysConfigBL = Services.get(ISysConfigBL.class);\n+\tprivate static final String SYSCONFIG_Enforce_M_HU_PI_Item_Product_ID = \"de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_M_HU_PI_Item_Product_ID\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzkxOTg2", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500391986", "createdAt": "2020-10-01T14:14:01Z", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxNDowMVrOHbMbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoxNDowMVrOHbMbqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI3NzI4OA==", "bodyText": "do this checking in de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper and decide there if u set queryVO's priceListVersionId.", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498277288", "createdAt": "2020-10-01T14:14:01Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/HUPIItemProductDAO.java", "diffHunk": "@@ -291,10 +295,12 @@ public I_M_HU_PI_Item_Product retrieveMaterialItemProduct(\n \t\t\t}\n \t\t}\n \n+\t\tfinal boolean enforceHU_PI_Item_Product = sysConfigBL.getBooleanValue(SYSCONFIG_Enforce_M_HU_PI_Item_Product_ID, false);\n+\t\t\n \t\t//\n \t\t// Product Price of a Price List Version has this Packing Item\n \t\t{\n-\t\t\tif (queryVO.getPriceListVersionId() != null)\n+\t\t\tif (enforceHU_PI_Item_Product && queryVO.getPriceListVersionId() != null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzkyODA4", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500392808", "createdAt": "2020-10-01T14:14:46Z", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzk4ODYx", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500398861", "createdAt": "2020-10-01T14:20:26Z", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDoyNlrOHbMu8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDoyNlrOHbMu8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4MjIyNw==", "bodyText": "rename it to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498282227", "createdAt": "2020-10-01T14:20:26Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "diffHunk": "@@ -0,0 +1,11 @@\n+-- 2020-10-01T08:04:59.066Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_SysConfig (AD_Client_ID,AD_Org_ID,AD_SysConfig_ID,ConfigurationLevel,Created,CreatedBy,EntityType,IsActive,Name,Updated,UpdatedBy,Value) VALUES (0,0,541342,'C',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'D','Y','de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_ M_HU_PI_Item_Product_ID',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'N')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMzk4OTU2", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500398956", "createdAt": "2020-10-01T14:20:32Z", "commit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDozMlrOHbMvOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNDoyMDozMlrOHbMvOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI4MjI5OA==", "bodyText": "rename it to de.metas.ui.web.quickinput.field.PackingItemProductFieldHelper.EnforcePrecisePricePerHUItemProduct", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498282298", "createdAt": "2020-10-01T14:20:32Z", "author": {"login": "teosarca"}, "path": "backend/de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5569170_sys_gh10045_AddSysConfig.sql", "diffHunk": "@@ -0,0 +1,11 @@\n+-- 2020-10-01T08:04:59.066Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+INSERT INTO AD_SysConfig (AD_Client_ID,AD_Org_ID,AD_SysConfig_ID,ConfigurationLevel,Created,CreatedBy,EntityType,IsActive,Name,Updated,UpdatedBy,Value) VALUES (0,0,541342,'C',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'D','Y','de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_ M_HU_PI_Item_Product_ID',TO_TIMESTAMP('2020-10-01 11:04:58','YYYY-MM-DD HH24:MI:SS'),100,'N')\n+;\n+\n+\n+-- 2020-10-01T10:34:07.379Z\n+-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator\n+UPDATE AD_SysConfig SET Name='de.metas.handlingunits.impl.HUPIItemProductDAO.Enforce_M_HU_PI_Item_Product_ID',Updated=TO_TIMESTAMP('2020-10-01 13:34:07','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_SysConfig_ID=541342", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bfbba646e9381c75eaddb0f483be4653fa056bc"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0013941cbd2bd633dbb5084e7c7756756706ae5c", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0013941cbd2bd633dbb5084e7c7756756706ae5c", "committedDate": "2020-10-01T14:54:44Z", "message": "#10045 Rename sys config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNDQyMDE4", "url": "https://github.com/metasfresh/metasfresh/pull/10048#pullrequestreview-500442018", "createdAt": "2020-10-01T15:01:56Z", "commit": {"oid": "0013941cbd2bd633dbb5084e7c7756756706ae5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNTowMTo1N1rOHbOrvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxNTowMTo1N1rOHbOrvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNDE3Mw==", "bodyText": "not sure this will work with Client level sysconfigs....", "url": "https://github.com/metasfresh/metasfresh/pull/10048#discussion_r498314173", "createdAt": "2020-10-01T15:01:57Z", "author": {"login": "teosarca"}, "path": "backend/metasfresh-webui-api/src/main/java/de/metas/ui/web/quickinput/field/PackingItemProductFieldHelper.java", "diffHunk": "@@ -88,6 +92,8 @@\n \t\t\treturn Optional.empty();\n \t\t}\n \n+\t\tfinal boolean enforcePrecisePricePerHUItemProduct = sysConfigBL.getBooleanValue(SYSCONFIG_EnforcePrecisePricePerHUItemProduct, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0013941cbd2bd633dbb5084e7c7756756706ae5c"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2037032df4b95767dc514ad05c7406538062d4a6", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/2037032df4b95767dc514ad05c7406538062d4a6", "committedDate": "2020-10-06T07:51:58Z", "message": "#10045 Add clientId as parameter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9035688bf4e2339444004e0b6bffd9b90e8bcd8", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/d9035688bf4e2339444004e0b6bffd9b90e8bcd8", "committedDate": "2020-10-06T08:54:03Z", "message": "#10045 Introduce ClientId to DefaultPackingItemCriteria"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ca6e457c0d76bcc8818bce04c4c52d88954b6b", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/e9ca6e457c0d76bcc8818bce04c4c52d88954b6b", "committedDate": "2020-10-06T09:15:53Z", "message": "#10045 Make sure we set ClientId all over"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3086, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}