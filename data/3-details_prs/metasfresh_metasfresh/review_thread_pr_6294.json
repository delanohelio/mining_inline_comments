{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNTA0NzQ2", "number": 6294, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoxNzo0OVrODkXwqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoyMjoxNVrODkX2Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDY0NjE2OnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoxNzo0OVrOFwp-rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMToxMToxNVrOFxBlHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2Mzc1OA==", "bodyText": "instead of forceActive i would call it onlyActive", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386563758", "createdAt": "2020-03-02T18:17:49Z", "author": {"login": "teosarca"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "diffHunk": "@@ -206,6 +206,10 @@\n \t\t@Default\n \t\t@NonNull\n \t\tComparator<User> comparator = Comparator.comparing(User::getName);\n+\n+\t\tboolean forceActive;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MDQzMA==", "bodyText": "done", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386950430", "createdAt": "2020-03-03T11:11:15Z", "author": {"login": "metas-rc"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "diffHunk": "@@ -206,6 +206,10 @@\n \t\t@Default\n \t\t@NonNull\n \t\tComparator<User> comparator = Comparator.comparing(User::getName);\n+\n+\t\tboolean forceActive;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2Mzc1OA=="}, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDY0OTQ5OnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoxODo1M1rOFwqAvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMToxMjoyM1rOFxBnRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NDI4NA==", "bodyText": "i am not sure this is a intention revealing name.\nFor me is not clear what's it's purpose.", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386564284", "createdAt": "2020-03-02T18:18:53Z", "author": {"login": "teosarca"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "diffHunk": "@@ -206,6 +206,10 @@\n \t\t@Default\n \t\t@NonNull\n \t\tComparator<User> comparator = Comparator.comparing(User::getName);\n+\n+\t\tboolean forceActive;\n+\n+\t\tboolean forceType;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MDk4Mg==", "bodyText": "Added\npublic enum IfNotFound\n{\nRETURN_DEFAULT_CONTACT, RETURN_NULL\n};", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386950982", "createdAt": "2020-03-03T11:12:23Z", "author": {"login": "metas-rc"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/de/metas/bpartner/service/IBPartnerBL.java", "diffHunk": "@@ -206,6 +206,10 @@\n \t\t@Default\n \t\t@NonNull\n \t\tComparator<User> comparator = Comparator.comparing(User::getName);\n+\n+\t\tboolean forceActive;\n+\n+\t\tboolean forceType;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NDI4NA=="}, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDY2MDU1OnYy", "diffSide": "RIGHT", "path": "de.metas.swat/de.metas.swat.base/src/main/java/de/metas/invoicecandidate/api/impl/AggregationEngine.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoyMjoxNVrOFwqHkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMToxNDoyN1rOFxBrLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NjAzMw==", "bodyText": "btw, isUpdateLocationAndContactForInvoice is not the right name....", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386566033", "createdAt": "2020-03-02T18:22:15Z", "author": {"login": "teosarca"}, "path": "de.metas.swat/de.metas.swat.base/src/main/java/de/metas/invoicecandidate/api/impl/AggregationEngine.java", "diffHunk": "@@ -540,12 +541,15 @@ private int getBill_User_ID(@NonNull final I_C_Invoice_Candidate ic, final boole\n \n \t\tfinal RetrieveContactRequest request = RetrieveContactRequest\n \t\t\t\t.builder()\n+\t\t\t\t.forceActive(true)\n+\t\t\t\t.contactType(ContactType.BILL_TO_DEFAULT)\n+\t\t\t\t.forceType(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NjQ0OA==", "bodyText": "also some unit tests would be very nice", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386566448", "createdAt": "2020-03-02T18:23:05Z", "author": {"login": "teosarca"}, "path": "de.metas.swat/de.metas.swat.base/src/main/java/de/metas/invoicecandidate/api/impl/AggregationEngine.java", "diffHunk": "@@ -540,12 +541,15 @@ private int getBill_User_ID(@NonNull final I_C_Invoice_Candidate ic, final boole\n \n \t\tfinal RetrieveContactRequest request = RetrieveContactRequest\n \t\t\t\t.builder()\n+\t\t\t\t.forceActive(true)\n+\t\t\t\t.contactType(ContactType.BILL_TO_DEFAULT)\n+\t\t\t\t.forceType(true)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NjAzMw=="}, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MTk4Mg==", "bodyText": "Used useDefaultBillLocationAndContactIfNotOverride.\nThere already were some unit tests on this functionality but they did not cover the cases in this issue. Added them: de.metas.invoicecandidate.api.impl.aggregationEngine.TestUpdatedLocationAndUser", "url": "https://github.com/metasfresh/metasfresh/pull/6294#discussion_r386951982", "createdAt": "2020-03-03T11:14:27Z", "author": {"login": "metas-rc"}, "path": "de.metas.swat/de.metas.swat.base/src/main/java/de/metas/invoicecandidate/api/impl/AggregationEngine.java", "diffHunk": "@@ -540,12 +541,15 @@ private int getBill_User_ID(@NonNull final I_C_Invoice_Candidate ic, final boole\n \n \t\tfinal RetrieveContactRequest request = RetrieveContactRequest\n \t\t\t\t.builder()\n+\t\t\t\t.forceActive(true)\n+\t\t\t\t.contactType(ContactType.BILL_TO_DEFAULT)\n+\t\t\t\t.forceType(true)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NjAzMw=="}, "originalCommit": {"oid": "4528b147bcf61067460b08b9c24da4c67784014d"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1404, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}