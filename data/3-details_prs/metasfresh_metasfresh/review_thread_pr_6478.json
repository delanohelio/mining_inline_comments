{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNjIxMjEy", "number": 6478, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDowMTo0MVrODxqOdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDoxMjoxOFrODxqiUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzk4NjQ1OnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/base/src/main/java-legacy/org/compiere/model/ColumnDisplayTypeProvider.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDowMTo0MVrOGFQHwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjoxMDowN1rOGFrFQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2MDE5Mw==", "bodyText": "i suggest you flag this as @FunctionalInterface, so we can inject lambdas", "url": "https://github.com/metasfresh/metasfresh/pull/6478#discussion_r408160193", "createdAt": "2020-04-14T14:01:41Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/base/src/main/java-legacy/org/compiere/model/ColumnDisplayTypeProvider.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * #%L\n+ * de.metas.adempiere.adempiere.base\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package org.compiere.model;\n+\n+public interface ColumnDisplayTypeProvider", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abfd0637d208e16b5d2c2bfcb88736e2f7946ac4"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYwMTkyMg==", "bodyText": "done.", "url": "https://github.com/metasfresh/metasfresh/pull/6478#discussion_r408601922", "createdAt": "2020-04-15T06:10:07Z", "author": {"login": "TheBestPessimist"}, "path": "de.metas.adempiere.adempiere/base/src/main/java-legacy/org/compiere/model/ColumnDisplayTypeProvider.java", "diffHunk": "@@ -0,0 +1,28 @@\n+/*\n+ * #%L\n+ * de.metas.adempiere.adempiere.base\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package org.compiere.model;\n+\n+public interface ColumnDisplayTypeProvider", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2MDE5Mw=="}, "originalCommit": {"oid": "abfd0637d208e16b5d2c2bfcb88736e2f7946ac4"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNDAzNzMxOnYy", "diffSide": "RIGHT", "path": "de.metas.adempiere.adempiere/base/src/main/java/org/compiere/apps/search/UserQueryFieldHelper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNDoxMjoxOFrOGFQnVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjowMjozN1rOGFq7xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2ODI3OQ==", "bodyText": "i think here you lost the part from the legacy code where the error is logger. pls add some logging; (Level.WARN)", "url": "https://github.com/metasfresh/metasfresh/pull/6478#discussion_r408168279", "createdAt": "2020-04-14T14:12:18Z", "author": {"login": "metas-ts"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/org/compiere/apps/search/UserQueryFieldHelper.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * #%L\n+ * de.metas.adempiere.adempiere.base\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package org.compiere.apps.search;\n+\n+import lombok.NonNull;\n+import org.compiere.util.DisplayType;\n+import org.compiere.util.TimeUtil;\n+\n+import javax.annotation.Nullable;\n+import java.math.BigDecimal;\n+import java.sql.Timestamp;\n+import java.text.DecimalFormat;\n+\n+public class UserQueryFieldHelper\n+{\n+\t@Nullable\n+\tpublic static Object parseValueObjectByColumnDisplayType(@Nullable final Object valueObj, final int displayType, @NonNull final String columnName)\n+\t{\n+\t\tif (valueObj == null)\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\t\ttry\n+\t\t{\n+\t\t\t// Return Integer\n+\t\t\tif (displayType == DisplayType.Integer || DisplayType.isID(displayType) && columnName.endsWith(\"_ID\"))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof Integer)\n+\t\t\t\t{\n+\t\t\t\t\treturn valueObj;\n+\t\t\t\t}\n+\t\t\t\tfinal int i = Integer.parseInt(valueObj.toString());\n+\t\t\t\treturn i;\n+\t\t\t}\n+\t\t\t// Return BigDecimal\n+\t\t\telse if (DisplayType.isNumeric(displayType))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof BigDecimal)\n+\t\t\t\t{\n+\t\t\t\t\treturn valueObj;\n+\t\t\t\t}\n+\t\t\t\tfinal DecimalFormat numberFormat = DisplayType.getNumberFormat(displayType);\n+\t\t\t\tnumberFormat.setParseBigDecimal(true);\n+\t\t\t\treturn numberFormat.parse(valueObj.toString());\n+\t\t\t}\n+\t\t\t// Return Timestamp\n+\t\t\telse if (DisplayType.isDate(displayType))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof java.util.Date)\n+\t\t\t\t{\n+\t\t\t\t\treturn TimeUtil.asTimestamp((java.util.Date)valueObj);\n+\t\t\t\t}\n+\t\t\t\tlong time;\n+\t\t\t\ttry\n+\t\t\t\t{\n+\t\t\t\t\ttime = DisplayType.getDateFormat_JDBC().parse(valueObj.toString()).getTime();\n+\t\t\t\t\treturn new Timestamp(time);\n+\t\t\t\t}\n+\t\t\t\tcatch (final Exception e)\n+\t\t\t\t{\n+\t\t\t\t\ttime = DisplayType.getDateFormat(displayType).parse(valueObj.toString()).getTime();\n+\t\t\t\t}\n+\t\t\t\treturn new Timestamp(time);\n+\t\t\t}\n+\t\t\t// Return Y/N for Boolean\n+\t\t\telse if (valueObj instanceof Boolean)\n+\t\t\t{\n+\t\t\t\treturn DisplayType.toBooleanString((Boolean)valueObj);\n+\t\t\t}\n+\t\t}\n+\t\tcatch (final Exception ex)\n+\t\t{\n+\t\t\tString error = ex.getLocalizedMessage();\n+\t\t\tif (error == null || error.isEmpty())\n+\t\t\t{\n+\t\t\t\terror = ex.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abfd0637d208e16b5d2c2bfcb88736e2f7946ac4"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5OTQ5NQ==", "bodyText": "Added warn logs", "url": "https://github.com/metasfresh/metasfresh/pull/6478#discussion_r408599495", "createdAt": "2020-04-15T06:02:37Z", "author": {"login": "TheBestPessimist"}, "path": "de.metas.adempiere.adempiere/base/src/main/java/org/compiere/apps/search/UserQueryFieldHelper.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * #%L\n+ * de.metas.adempiere.adempiere.base\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package org.compiere.apps.search;\n+\n+import lombok.NonNull;\n+import org.compiere.util.DisplayType;\n+import org.compiere.util.TimeUtil;\n+\n+import javax.annotation.Nullable;\n+import java.math.BigDecimal;\n+import java.sql.Timestamp;\n+import java.text.DecimalFormat;\n+\n+public class UserQueryFieldHelper\n+{\n+\t@Nullable\n+\tpublic static Object parseValueObjectByColumnDisplayType(@Nullable final Object valueObj, final int displayType, @NonNull final String columnName)\n+\t{\n+\t\tif (valueObj == null)\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\t\ttry\n+\t\t{\n+\t\t\t// Return Integer\n+\t\t\tif (displayType == DisplayType.Integer || DisplayType.isID(displayType) && columnName.endsWith(\"_ID\"))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof Integer)\n+\t\t\t\t{\n+\t\t\t\t\treturn valueObj;\n+\t\t\t\t}\n+\t\t\t\tfinal int i = Integer.parseInt(valueObj.toString());\n+\t\t\t\treturn i;\n+\t\t\t}\n+\t\t\t// Return BigDecimal\n+\t\t\telse if (DisplayType.isNumeric(displayType))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof BigDecimal)\n+\t\t\t\t{\n+\t\t\t\t\treturn valueObj;\n+\t\t\t\t}\n+\t\t\t\tfinal DecimalFormat numberFormat = DisplayType.getNumberFormat(displayType);\n+\t\t\t\tnumberFormat.setParseBigDecimal(true);\n+\t\t\t\treturn numberFormat.parse(valueObj.toString());\n+\t\t\t}\n+\t\t\t// Return Timestamp\n+\t\t\telse if (DisplayType.isDate(displayType))\n+\t\t\t{\n+\t\t\t\tif (valueObj instanceof java.util.Date)\n+\t\t\t\t{\n+\t\t\t\t\treturn TimeUtil.asTimestamp((java.util.Date)valueObj);\n+\t\t\t\t}\n+\t\t\t\tlong time;\n+\t\t\t\ttry\n+\t\t\t\t{\n+\t\t\t\t\ttime = DisplayType.getDateFormat_JDBC().parse(valueObj.toString()).getTime();\n+\t\t\t\t\treturn new Timestamp(time);\n+\t\t\t\t}\n+\t\t\t\tcatch (final Exception e)\n+\t\t\t\t{\n+\t\t\t\t\ttime = DisplayType.getDateFormat(displayType).parse(valueObj.toString()).getTime();\n+\t\t\t\t}\n+\t\t\t\treturn new Timestamp(time);\n+\t\t\t}\n+\t\t\t// Return Y/N for Boolean\n+\t\t\telse if (valueObj instanceof Boolean)\n+\t\t\t{\n+\t\t\t\treturn DisplayType.toBooleanString((Boolean)valueObj);\n+\t\t\t}\n+\t\t}\n+\t\tcatch (final Exception ex)\n+\t\t{\n+\t\t\tString error = ex.getLocalizedMessage();\n+\t\t\tif (error == null || error.isEmpty())\n+\t\t\t{\n+\t\t\t\terror = ex.toString();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE2ODI3OQ=="}, "originalCommit": {"oid": "abfd0637d208e16b5d2c2bfcb88736e2f7946ac4"}, "originalPosition": 96}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1582, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}