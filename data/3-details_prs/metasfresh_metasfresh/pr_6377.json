{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNTU1ODEw", "number": 6377, "title": "#6376 Fix componentName", "bodyText": "#6376 Avoid empty text for packing material in Product specifications", "createdAt": "2020-03-20T14:16:16Z", "url": "https://github.com/metasfresh/metasfresh/pull/6377", "merged": true, "mergeCommit": {"oid": "ccc46c16d2c7eb670be7cd8cea5f7507ba2b0a78"}, "closed": true, "closedAt": "2020-03-21T06:31:04Z", "author": {"login": "cristinamghita"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPhMwmgH2gAyMzkxNTU1ODEwOmRlZWU3YjY4OGFjMmZkYjExNzg5NmY4YmNlNGMyZWQ5NjdjYzA1Mjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPvJF-gH2gAyMzkxNTU1ODEwOjU3NmZjZDc0MzkyZmI3NDQ0NjdjZTg2MjEyYjk0Y2ZmZTg5ODQ1ZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529", "author": {"user": {"login": "cristinamghita", "name": "Cristina Ghita"}}, "url": "https://github.com/metasfresh/metasfresh/commit/deee7b688ac2fdb117896f8bce4c2ed967cc0529", "committedDate": "2020-03-20T14:15:45Z", "message": "#6376 Fix componentName\n\n#6376 Avoid empty text for packing material in Product specifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODk2NDkw", "url": "https://github.com/metasfresh/metasfresh/pull/6377#pullrequestreview-378896490", "createdAt": "2020-03-21T06:25:15Z", "commit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODk2NTU5", "url": "https://github.com/metasfresh/metasfresh/pull/6377#pullrequestreview-378896559", "createdAt": "2020-03-21T06:26:26Z", "commit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwNjoyNjoyNlrOF5n5aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwNjoyNjoyNlrOF5n5aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk2NjgyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,\n          \n          \n            \n                coalesce(NULLIF(TRIM(bomProduct.CustomerLabelName),''), bomProduct.Name) as componentName,\n          \n      \n    \n    \n  \n\n..also guard against e.g. ' '", "url": "https://github.com/metasfresh/metasfresh/pull/6377#discussion_r395966825", "createdAt": "2020-03-21T06:26:26Z", "author": {"login": "metas-ts"}, "path": "de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/ddl/views/product_specifications_v.sql", "diffHunk": "@@ -17,7 +17,7 @@ CREATE OR REPLACE VIEW \"de.metas.fresh\".product_specifications_v AS\n     nf.Name                                                 as nutritionName,\n     pn.SeqNo                                                as NutritionSeqNo,\n     pn.nutritionqty,\n-    coalesce(bomProduct.CustomerLabelName, bomProduct.Name) as componentName,\n+    coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4ODk2Njg4", "url": "https://github.com/metasfresh/metasfresh/pull/6377#pullrequestreview-378896688", "createdAt": "2020-03-21T06:29:37Z", "commit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwNjoyOTozN1rOF5n6Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQwNjoyOTozN1rOF5n6Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk2Njk5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,\n          \n          \n            \n                coalesce(NULLIF(TRIM(bomProduct.CustomerLabelName),''), bomProduct.Name) as componentName,\n          \n      \n    \n    \n  \n\n..also guard against e.g. ' '", "url": "https://github.com/metasfresh/metasfresh/pull/6377#discussion_r395966999", "createdAt": "2020-03-21T06:29:37Z", "author": {"login": "metas-ts"}, "path": "de.metas.fresh/de.metas.fresh.base/src/main/sql/postgresql/system/70-de.metas.fresh/5555030_gh6376_FixEmptyTextInCustomerLabelName.sql", "diffHunk": "@@ -0,0 +1,41 @@\n+drop VIEW \"de.metas.fresh\".product_specifications_v;\n+CREATE OR REPLACE VIEW \"de.metas.fresh\".product_specifications_v AS\n+  select\n+    p.Name                                                  as productName,\n+    p.CustomerLabelName,\n+    p.additional_produktinfos,\n+    p.Ingredients,\n+    p.Value                                                 as productValue,\n+    p.UPC,\n+    p.weight,\n+    c.name                                                  as country,\n+    p.guaranteedaysmin,\n+    p.warehouse_temperature,\n+    p.description                                           as productDecription,\n+    a.Name                                                  as allergen,\n+    nf.Name                                                 as nutritionName,\n+    pn.SeqNo                                                as NutritionSeqNo,\n+    pn.nutritionqty,\n+    coalesce(NULLIF(bomProduct.CustomerLabelName,''), bomProduct.Name) as componentName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "deee7b688ac2fdb117896f8bce4c2ed967cc0529"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "576fcd74392fb744467ce86212b94cffe89845e5", "author": {"user": {"login": "metas-ts", "name": "Tobias Sch\u00f6neberg"}}, "url": "https://github.com/metasfresh/metasfresh/commit/576fcd74392fb744467ce86212b94cffe89845e5", "committedDate": "2020-03-21T06:30:25Z", "message": "Apply suggestions from code review\r\n\r\n#6376"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3565, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}