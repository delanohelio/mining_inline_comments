{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0ODk0NDg5", "number": 10126, "title": "Fix handing/reacting to changes in data entry tabs", "bodyText": "Related to #10125", "createdAt": "2020-10-16T14:34:04Z", "url": "https://github.com/metasfresh/metasfresh/pull/10126", "merged": true, "mergeCommit": {"oid": "6175923351c6d073e8bce3f8397f4216bdc0db0a"}, "closed": true, "closedAt": "2020-10-19T13:18:51Z", "author": {"login": "siemiatj"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTFT2OAH2gAyNTA0ODk0NDg5OjBiODE3YzYxZWJmZjVhZjhhMzdjNmI4YTQ3YTk0NjViZmEwMGYxMjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUDwjSAH2gAyNTA0ODk0NDg5OmJiOGQ3ZjZlM2QxMDE4ZGQ1NmQ1MThlZWEzMTlkY2FiNmI1NDM4NmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0b817c61ebff5af8a37c6b8a47a9465bfa00f129", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/0b817c61ebff5af8a37c6b8a47a9465bfa00f129", "committedDate": "2020-10-16T12:13:00Z", "message": "#10125 request functions for tab's layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf379b5bc329518b469112ba5e610d7965ccdc39", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/bf379b5bc329518b469112ba5e610d7965ccdc39", "committedDate": "2020-10-16T14:01:13Z", "message": "#10125 utils for getting/updating nested tabs\n#10125 cleanup and add new actions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fde5bc90fd78661ce8259528858654b68cf513a5", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/fde5bc90fd78661ce8259528858654b68cf513a5", "committedDate": "2020-10-16T14:01:59Z", "message": "#10125 small cleanup + docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c730db2434a1b95674365a439ae7ba8e5613dc82", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c730db2434a1b95674365a439ae7ba8e5613dc82", "committedDate": "2020-10-16T14:06:33Z", "message": "#10125 properly handle websocket updates in EntryTable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dbec78f21401ea2e92d581904ab19c6a942012c", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/9dbec78f21401ea2e92d581904ab19c6a942012c", "committedDate": "2020-10-16T14:07:50Z", "message": "#10125 refresh entry table's data on widget patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c378cf0243d63574b77856e7fda9635b86f7cd9a", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/c378cf0243d63574b77856e7fda9635b86f7cd9a", "committedDate": "2020-10-16T14:34:51Z", "message": "Merge branch 'master' into frontend-10125"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/31f8718ca42e76d02fabf6e43a38d818ee9836e8", "committedDate": "2020-10-16T17:00:11Z", "message": "#10125 use shallow rendering in test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNTYwNzk5", "url": "https://github.com/metasfresh/metasfresh/pull/10126#pullrequestreview-511560799", "createdAt": "2020-10-19T09:11:56Z", "commit": {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOToxMTo1NlrOHkE_gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOToxNzozOVrOHkFNEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5MjU3OQ==", "bodyText": "I would put the params in an object ({ tabId, layoutData })", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507592579", "createdAt": "2020-10-19T09:11:56Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/WindowActions.js", "diffHunk": "@@ -229,6 +232,17 @@ export function unselectTab(scope) {\n   };\n }\n \n+/**\n+ * @method setUpdatedTabLayout\n+ * @summary Action creator to update tab's layout data in the store\n+ */\n+function setUpdatedTabLayout(tabId, layoutData) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5MzI5Nw==", "bodyText": "Here too doc param and pass them as object params", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507593297", "createdAt": "2020-10-19T09:13:10Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/WindowActions.js", "diffHunk": "@@ -431,6 +443,24 @@ export function fetchTab({ tabId, windowId, docId, query }) {\n   };\n }\n \n+/*\n+ * @method updateTabLayout\n+ * @summary Action creator for fetching and updating single tab's layout\n+ */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU5NjA1MQ==", "bodyText": "what happens if orderBy is undefined ?", "url": "https://github.com/metasfresh/metasfresh/pull/10126#discussion_r507596051", "createdAt": "2020-10-19T09:17:39Z", "author": {"login": "petrican"}, "path": "frontend/src/containers/MasterWindow.js", "diffHunk": "@@ -177,20 +181,20 @@ class MasterWindowContainer extends PureComponent {\n       tabId: activeTabId,\n     });\n \n-    const tabLayout =\n-      master.layout.tabs &&\n-      master.layout.tabs.filter((tab) => tab.tabId === activeTabId)[0];\n-\n-    const orderBy = tabLayout.orderBy;\n+    const tabLayout = getTab(master.layout, activeTabId);\n+    const orderBy = tabLayout ? tabLayout.orderBy : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31f8718ca42e76d02fabf6e43a38d818ee9836e8"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb8d7f6e3d1018dd56d518eea319dcab6b54386e", "author": {"user": {"login": "siemiatj", "name": "Kuba Siemi\u0105tkowski"}}, "url": "https://github.com/metasfresh/metasfresh/commit/bb8d7f6e3d1018dd56d518eea319dcab6b54386e", "committedDate": "2020-10-19T12:58:28Z", "message": "#10125 utils tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3107, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}