{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMDc3OTk0", "number": 10223, "reviewThreads": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowOTowMVrOE7aTpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyNjo1NFrOE7b3aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzMyNDUzOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowOTowMVrOH3C51Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTo1MzowOVrOH3MsEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4MTMwMQ==", "bodyText": "I would group the actions specific to QuickActions into src/constants/actions/QuickActions.js then in the Action types I would do\n export * from './actions/QuickActions'\nand in the end would import here like it's already done. wdyt ?", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527481301", "createdAt": "2020-11-20T07:09:01Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxOTQ3MA==", "bodyText": "I personally think it's an overkill. The reason why I named the file (and action creators) just Actions, as top actions are quick actions for tabs (even though for now they're stored in the window and should probably be extracted to a tab reducer in the future).", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527619470", "createdAt": "2020-11-20T11:08:29Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4MTMwMQ=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY0MTYxNg==", "bodyText": "I'm ok in having them in one place it's just that I thought having them separately would make them more reachable.", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527641616", "createdAt": "2020-11-20T11:53:09Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4MTMwMQ=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzMzMjI3OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxMTo0M1rOH3C-DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxMTo0M1rOH3C-DA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4MjM4MA==", "bodyText": "this doesn't seem to be used", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527482380", "createdAt": "2020-11-20T07:11:43Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzM0MDYzOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxNTowMFrOH3DDAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxNTowMFrOH3DDAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4MzY1MA==", "bodyText": "L:34-L38 can be written in just\nlet viewProfileId = includedView.windowId === windowId ? includedView.viewProfileId : null;", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527483650", "createdAt": "2020-11-20T07:15:00Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzM0NjM0OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxNzowOVrOH3DGTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoxNzowOVrOH3DGTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4NDQ5Mg==", "bodyText": "this doesn't seem to be defined. Pls define it somewhere above before use and set a default value for it.", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527484492", "createdAt": "2020-11-20T07:17:09Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzM2NzkxOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoyNTo1NVrOH3DSuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzoyOTo0MFrOH3DYdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4NzY3NQ==", "bodyText": "I would put this in just one line\nlet [fetch,fetchWindowId, fetchViewId, parentView, childView, viewProfileId ] = Array(6).fill(null);", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527487675", "createdAt": "2020-11-20T07:25:55Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4OTE0Mg==", "bodyText": "Actually if we set viewProfileId below we can just put\nlet [fetch,fetchWindowId, fetchViewId, parentView, childView ] = Array(5).fill(null);\nand down below\nlet viewProfileId = includedView.windowId === windowId ? includedView.viewProfileId : null;", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527489142", "createdAt": "2020-11-20T07:29:40Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4NzY3NQ=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzM4OTIxOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozNDoyNVrOH3DfRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozNDoyNVrOH3DfRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5MDg4NA==", "bodyText": "fetch = !childQuickActions.pending ? true : false;", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527490884", "createdAt": "2020-11-20T07:34:25Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 113}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzM5MDkzOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozNDo1OVrOH3DgQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozNDo1OVrOH3DgQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5MTEzOQ==", "bodyText": "same as above", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527491139", "createdAt": "2020-11-20T07:34:59Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 126}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQwMzk4OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozOTozNlrOH3DnxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzozOTozNlrOH3DnxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5MzA2MA==", "bodyText": "dispatch({ type: FETCH_QUICK_ACTIONS, payload: { id }});", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527493060", "createdAt": "2020-11-20T07:39:36Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 169}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQwNzU3OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0MDo1MVrOH3Dp5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0MDo1MVrOH3Dp5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5MzYwNg==", "bodyText": "dispatch({ type: FETCH_QUICK_ACTIONS_FAILURE, payload: { id }});", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527493606", "createdAt": "2020-11-20T07:40:51Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({\n+      type: FETCH_QUICK_ACTIONS,\n+      payload: { id },\n+    });\n+\n+    return quickActionsRequest({\n+      windowId,\n+      viewId,\n+      viewProfileId,\n+      selectedIds,\n+      childView,\n+      parentView,\n+    })\n+      .then((response) => {\n+        const actions = response.data.actions;\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_SUCCESS,\n+          payload: {\n+            id,\n+            actions,\n+          },\n+        });\n+\n+        return Promise.resolve(actions);\n+      })\n+      .catch((e) => {\n+        dispatch({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 195}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQxMjY5OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0Mjo0OFrOH3Ds0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0Mjo0OFrOH3Ds0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5NDM1Mg==", "bodyText": "return { type: DELETE_QUICK_ACTIONS, payload: { id }};", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527494352", "createdAt": "2020-11-20T07:42:48Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({\n+      type: FETCH_QUICK_ACTIONS,\n+      payload: { id },\n+    });\n+\n+    return quickActionsRequest({\n+      windowId,\n+      viewId,\n+      viewProfileId,\n+      selectedIds,\n+      childView,\n+      parentView,\n+    })\n+      .then((response) => {\n+        const actions = response.data.actions;\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_SUCCESS,\n+          payload: {\n+            id,\n+            actions,\n+          },\n+        });\n+\n+        return Promise.resolve(actions);\n+      })\n+      .catch((e) => {\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_FAILURE,\n+          payload: { id },\n+        });\n+\n+        return Promise.reject(e);\n+      });\n+  };\n+}\n+\n+/**\n+ * @method deleteQuickActions\n+ * @summary Action creator to delete quick actions from the store\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ */\n+export function deleteQuickActions(windowId, viewId) {\n+  const id = getQuickActionsId({ windowId, viewId });\n+\n+  return {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 215}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQxMzczOnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0MzoyMlrOH3Dtfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0MzoyMlrOH3Dtfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5NDUyNw==", "bodyText": "return { type: DELETE_TOP_ACTIONS };", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527494527", "createdAt": "2020-11-20T07:43:22Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({\n+      type: FETCH_QUICK_ACTIONS,\n+      payload: { id },\n+    });\n+\n+    return quickActionsRequest({\n+      windowId,\n+      viewId,\n+      viewProfileId,\n+      selectedIds,\n+      childView,\n+      parentView,\n+    })\n+      .then((response) => {\n+        const actions = response.data.actions;\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_SUCCESS,\n+          payload: {\n+            id,\n+            actions,\n+          },\n+        });\n+\n+        return Promise.resolve(actions);\n+      })\n+      .catch((e) => {\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_FAILURE,\n+          payload: { id },\n+        });\n+\n+        return Promise.reject(e);\n+      });\n+  };\n+}\n+\n+/**\n+ * @method deleteQuickActions\n+ * @summary Action creator to delete quick actions from the store\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ */\n+export function deleteQuickActions(windowId, viewId) {\n+  const id = getQuickActionsId({ windowId, viewId });\n+\n+  return {\n+    type: DELETE_QUICK_ACTIONS,\n+    payload: { id },\n+  };\n+}\n+\n+/**\n+ * @method deleteTopActions\n+ * @summary Deletes tab's actions\n+ */\n+export function deleteTopActions() {\n+  return {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 226}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQxNzY3OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0NDo0MVrOH3Dvtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0NDo0MVrOH3Dvtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5NTA5NQ==", "bodyText": "@param {string} windowType aso, pls put the actual type of each param", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527495095", "createdAt": "2020-11-20T07:44:41Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({\n+      type: FETCH_QUICK_ACTIONS,\n+      payload: { id },\n+    });\n+\n+    return quickActionsRequest({\n+      windowId,\n+      viewId,\n+      viewProfileId,\n+      selectedIds,\n+      childView,\n+      parentView,\n+    })\n+      .then((response) => {\n+        const actions = response.data.actions;\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_SUCCESS,\n+          payload: {\n+            id,\n+            actions,\n+          },\n+        });\n+\n+        return Promise.resolve(actions);\n+      })\n+      .catch((e) => {\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_FAILURE,\n+          payload: { id },\n+        });\n+\n+        return Promise.reject(e);\n+      });\n+  };\n+}\n+\n+/**\n+ * @method deleteQuickActions\n+ * @summary Action creator to delete quick actions from the store\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ */\n+export function deleteQuickActions(windowId, viewId) {\n+  const id = getQuickActionsId({ windowId, viewId });\n+\n+  return {\n+    type: DELETE_QUICK_ACTIONS,\n+    payload: { id },\n+  };\n+}\n+\n+/**\n+ * @method deleteTopActions\n+ * @summary Deletes tab's actions\n+ */\n+export function deleteTopActions() {\n+  return {\n+    type: DELETE_TOP_ACTIONS,\n+  };\n+}\n+\n+/**\n+ * @method fetchTopActions\n+ * @summary Fetches tab's top actions\n+ *\n+ * @param {*} windowType", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 235}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQxOTc5OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/Actions.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0NToyNVrOH3Dw9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0NToyNVrOH3Dw9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5NTQxNA==", "bodyText": "dispatch({ type: FETCH_TOP_ACTIONS_FAILURE });", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527495414", "createdAt": "2020-11-20T07:45:25Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/Actions.js", "diffHunk": "@@ -0,0 +1,262 @@\n+import { quickActionsRequest, topActionsRequest } from '../api';\n+import {\n+  DELETE_QUICK_ACTIONS,\n+  DELETE_TOP_ACTIONS,\n+  FETCH_QUICK_ACTIONS,\n+  FETCH_QUICK_ACTIONS_FAILURE,\n+  FETCH_QUICK_ACTIONS_SUCCESS,\n+  FETCH_TOP_ACTIONS,\n+  FETCH_TOP_ACTIONS_FAILURE,\n+  FETCH_TOP_ACTIONS_SUCCESS,\n+} from '../constants/ActionTypes';\n+\n+import { getQuickActionsId, getQuickActions } from '../reducers/actionsHandler';\n+import { getTable } from '../reducers/tables';\n+import { getView } from '../reducers/viewHandler';\n+\n+/*\n+ * @method getTableActions\n+ * @summary Action creator that calls the quick actions fetch internally for\n+ * when we're updating the table selection \n+ \n+ * @param {string} tableId\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function getTableActions({ tableId, windowId, viewId, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const table = getTable(state, tableId);\n+    const selectedIds = table.selected;\n+    const { includedView } = state.viewHandler;\n+    let fetchActions = true;\n+    let viewProfileId = null;\n+\n+    if (includedView.windowId === windowId) {\n+      viewProfileId = includedView.viewProfileId;\n+    }\n+\n+    if (viewId) {\n+      const quickActionsId = getQuickActionsId({\n+        windowId,\n+        viewId,\n+      });\n+      const quickActions = getQuickActions(state, quickActionsId);\n+      fetch = !quickActions.pending;\n+    }\n+\n+    if (fetch) {\n+      dispatch(\n+        fetchQuickActions({\n+          windowId,\n+          viewId,\n+          viewProfileId,\n+          selectedIds,\n+        })\n+      );\n+    }\n+\n+    dispatch(\n+      fetchIncludedQuickActions({\n+        windowId,\n+        selectedIds,\n+        isModal,\n+      })\n+    );\n+  };\n+}\n+\n+/*\n+ * @method fetchIncludedQuickActions\n+ * @summary Action creator that calls the quick actions fetch internally for parent/child\n+ * quick actions, when a table selection has changed\n+ *\n+ * @param {string} windowId\n+ * @param {array} selectedIds\n+ * @param {boolean} isModal\n+ */\n+export function fetchIncludedQuickActions({ windowId, selectedIds, isModal }) {\n+  return (dispatch, getState) => {\n+    const state = getState();\n+    const includedView = state.viewHandler.includedView.windowId\n+      ? state.viewHandler.includedView\n+      : null;\n+\n+    // we're only interested in included view's quick actions if it\n+    // actually exists\n+    if (includedView) {\n+      let fetch = false;\n+      let fetchWindowId = null;\n+      let fetchViewId = null;\n+      let parentView = null;\n+      let childView = null;\n+      let viewProfileId = null;\n+      const isParent = includedView.parentId === windowId;\n+      const isChild = includedView.windowId === windowId;\n+\n+      if (includedView.windowId === windowId) {\n+        viewProfileId = includedView.viewProfileId;\n+      }\n+\n+      if (isParent) {\n+        fetchWindowId = includedView.windowId;\n+        childView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = childView.viewId;\n+        const childQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const childQuickActions = getQuickActions(state, childQuickActionsId);\n+\n+        // only update quick actions if they're not already requested\n+        if (!childQuickActions.pending) {\n+          fetch = true;\n+        }\n+      } else if (isChild) {\n+        fetchWindowId = includedView.parentId;\n+        parentView = getView(state, fetchWindowId, isModal);\n+        fetchViewId = parentView.viewId;\n+        const parentQuickActionsId = getQuickActionsId({\n+          windowId: fetchWindowId,\n+          viewId: fetchViewId,\n+        });\n+        const parentQuickActions = getQuickActions(state, parentQuickActionsId);\n+\n+        if (!parentQuickActions.pending) {\n+          fetch = true;\n+        }\n+      }\n+\n+      if ((isParent || isChild) && fetch) {\n+        dispatch(\n+          fetchQuickActions({\n+            windowId: fetchWindowId,\n+            viewId: fetchViewId,\n+            viewProfileId,\n+            selectedIds,\n+            parentView,\n+            childView,\n+          })\n+        );\n+      }\n+    }\n+  };\n+}\n+\n+/**\n+ * @method fetchQuickActions\n+ * @summary Fetches the quick actions\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {string} viewProfileId\n+ * @param {array} selectedIds\n+ * @param {object} childView\n+ * @param {object} parentView\n+ */\n+export function fetchQuickActions({\n+  windowId,\n+  viewId,\n+  viewProfileId,\n+  selectedIds,\n+  childView,\n+  parentView,\n+}) {\n+  return (dispatch) => {\n+    const id = getQuickActionsId({ windowId, viewId });\n+\n+    dispatch({\n+      type: FETCH_QUICK_ACTIONS,\n+      payload: { id },\n+    });\n+\n+    return quickActionsRequest({\n+      windowId,\n+      viewId,\n+      viewProfileId,\n+      selectedIds,\n+      childView,\n+      parentView,\n+    })\n+      .then((response) => {\n+        const actions = response.data.actions;\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_SUCCESS,\n+          payload: {\n+            id,\n+            actions,\n+          },\n+        });\n+\n+        return Promise.resolve(actions);\n+      })\n+      .catch((e) => {\n+        dispatch({\n+          type: FETCH_QUICK_ACTIONS_FAILURE,\n+          payload: { id },\n+        });\n+\n+        return Promise.reject(e);\n+      });\n+  };\n+}\n+\n+/**\n+ * @method deleteQuickActions\n+ * @summary Action creator to delete quick actions from the store\n+ *\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ */\n+export function deleteQuickActions(windowId, viewId) {\n+  const id = getQuickActionsId({ windowId, viewId });\n+\n+  return {\n+    type: DELETE_QUICK_ACTIONS,\n+    payload: { id },\n+  };\n+}\n+\n+/**\n+ * @method deleteTopActions\n+ * @summary Deletes tab's actions\n+ */\n+export function deleteTopActions() {\n+  return {\n+    type: DELETE_TOP_ACTIONS,\n+  };\n+}\n+\n+/**\n+ * @method fetchTopActions\n+ * @summary Fetches tab's top actions\n+ *\n+ * @param {*} windowType\n+ * @param {*} docId\n+ * @param {*} tabId\n+ */\n+export function fetchTopActions(windowType, docId, tabId) {\n+  return (dispatch) => {\n+    dispatch({\n+      type: FETCH_TOP_ACTIONS,\n+    });\n+\n+    return topActionsRequest(windowType, docId, tabId)\n+      .then((response) => {\n+        dispatch({\n+          type: FETCH_TOP_ACTIONS_SUCCESS,\n+          payload: response.data.actions,\n+        });\n+\n+        return Promise.resolve(response.data.actions);\n+      })\n+      .catch((e) => {\n+        dispatch({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 255}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQzMDM4OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/TableActions.js", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0OToxNVrOH3D3JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTo1MDo1MVrOH3MnyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5Njk5Ng==", "bodyText": "this fits in one line also\ndispatch({ type: types.DESELECT_TABLE_ROWS, payload: { id, selection } });", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527496996", "createdAt": "2020-11-20T07:49:15Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/TableActions.js", "diffHunk": "@@ -547,14 +538,128 @@ export function collapseTableRow({ tableId, collapse, node }) {\n  * @param {array} selection - array of selected items. This will be validated\n  * for existence in the rows data by the reducer, but not for duplication\n  * @param {string} keyProperty=id - `id` or `rowId` depending on the table type\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n  */\n-export function updateTableSelection(id, selection, keyProperty = 'id') {\n+export function updateTableSelection({\n+  id,\n+  selection,\n+  keyProperty = 'id',\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n   return (dispatch) => {\n     dispatch({\n       type: types.UPDATE_TABLE_SELECTION,\n       payload: { id, selection, keyProperty },\n     });\n \n+    if (viewId) {\n+      // update quick actions\n+      dispatch(getTableActions({ tableId: id, windowId, viewId, isModal }));\n+      // show included view\n+      dispatch(\n+        handleToggleIncludedView({ windowId, tableId: id, selection, isModal })\n+      );\n+    }\n+\n     return Promise.resolve(selection);\n   };\n }\n+\n+/**\n+ * @method deselectTableRows\n+ * @summary deselect rows or deselect all if an empty `ids` array is provided\n+ *\n+ * @param {string} id - table id\n+ * @param {array} selection - array of items to deselect\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function deselectTableRows({\n+  id,\n+  selection,\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n+  return (dispatch) => {\n+    dispatch({", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyNDIwMA==", "bodyText": "Not a fan of one-liners in this case. It's easier to read and understand them when the type clearly stands out.", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527624200", "createdAt": "2020-11-20T11:17:54Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/TableActions.js", "diffHunk": "@@ -547,14 +538,128 @@ export function collapseTableRow({ tableId, collapse, node }) {\n  * @param {array} selection - array of selected items. This will be validated\n  * for existence in the rows data by the reducer, but not for duplication\n  * @param {string} keyProperty=id - `id` or `rowId` depending on the table type\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n  */\n-export function updateTableSelection(id, selection, keyProperty = 'id') {\n+export function updateTableSelection({\n+  id,\n+  selection,\n+  keyProperty = 'id',\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n   return (dispatch) => {\n     dispatch({\n       type: types.UPDATE_TABLE_SELECTION,\n       payload: { id, selection, keyProperty },\n     });\n \n+    if (viewId) {\n+      // update quick actions\n+      dispatch(getTableActions({ tableId: id, windowId, viewId, isModal }));\n+      // show included view\n+      dispatch(\n+        handleToggleIncludedView({ windowId, tableId: id, selection, isModal })\n+      );\n+    }\n+\n     return Promise.resolve(selection);\n   };\n }\n+\n+/**\n+ * @method deselectTableRows\n+ * @summary deselect rows or deselect all if an empty `ids` array is provided\n+ *\n+ * @param {string} id - table id\n+ * @param {array} selection - array of items to deselect\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function deselectTableRows({\n+  id,\n+  selection,\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n+  return (dispatch) => {\n+    dispatch({", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5Njk5Ng=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY0MDUyMA==", "bodyText": "I do like the code to be easily readable but also would like the overall size in lines of a file to be small. You see you gain two lines in here, two lines in there aso and in the end we will have a smaller file.", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527640520", "createdAt": "2020-11-20T11:50:51Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/TableActions.js", "diffHunk": "@@ -547,14 +538,128 @@ export function collapseTableRow({ tableId, collapse, node }) {\n  * @param {array} selection - array of selected items. This will be validated\n  * for existence in the rows data by the reducer, but not for duplication\n  * @param {string} keyProperty=id - `id` or `rowId` depending on the table type\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n  */\n-export function updateTableSelection(id, selection, keyProperty = 'id') {\n+export function updateTableSelection({\n+  id,\n+  selection,\n+  keyProperty = 'id',\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n   return (dispatch) => {\n     dispatch({\n       type: types.UPDATE_TABLE_SELECTION,\n       payload: { id, selection, keyProperty },\n     });\n \n+    if (viewId) {\n+      // update quick actions\n+      dispatch(getTableActions({ tableId: id, windowId, viewId, isModal }));\n+      // show included view\n+      dispatch(\n+        handleToggleIncludedView({ windowId, tableId: id, selection, isModal })\n+      );\n+    }\n+\n     return Promise.resolve(selection);\n   };\n }\n+\n+/**\n+ * @method deselectTableRows\n+ * @summary deselect rows or deselect all if an empty `ids` array is provided\n+ *\n+ * @param {string} id - table id\n+ * @param {array} selection - array of items to deselect\n+ * @param {number} windowId\n+ * @param {string} viewId\n+ * @param {boolean} isModal\n+ */\n+export function deselectTableRows({\n+  id,\n+  selection,\n+  windowId,\n+  viewId,\n+  isModal,\n+}) {\n+  return (dispatch) => {\n+    dispatch({", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5Njk5Ng=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzQ1OTA3OnYy", "diffSide": "RIGHT", "path": "frontend/src/actions/ViewActions.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo1ODo1OVrOH3EH5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMToyMzoxNlrOH3LySA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMTI4Nw==", "bodyText": "id && dispatch(toggleIncludedView(id, showIncludedView, isModal));\n\n    showIncludedView &&\n      dispatch(\n        setIncludedView({ windowId, viewId, parentId: id, viewProfileId })\n      );\n\n    !showIncludedView &&\n      dispatch(unsetIncludedView({ windowId, viewId, forceClose }));", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527501287", "createdAt": "2020-11-20T07:58:59Z", "author": {"login": "petrican"}, "path": "frontend/src/actions/ViewActions.js", "diffHunk": "@@ -542,14 +571,17 @@ export function showIncludedView({\n   viewId,\n   forceClose,\n   isModal,\n+  viewProfileId,\n } = {}) {\n   return (dispatch) => {\n     if (id) {\n       dispatch(toggleIncludedView(id, showIncludedView, isModal));\n     }\n \n     if (showIncludedView) {\n-      dispatch(setIncludedView({ windowId, viewId }));\n+      dispatch(\n+        setIncludedView({ windowId, viewId, parentId: id, viewProfileId })\n+      );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyNjgyNA==", "bodyText": "As long as we don't have typing, I'm trying to avoid the x && y construction.", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527626824", "createdAt": "2020-11-20T11:23:16Z", "author": {"login": "siemiatj"}, "path": "frontend/src/actions/ViewActions.js", "diffHunk": "@@ -542,14 +571,17 @@ export function showIncludedView({\n   viewId,\n   forceClose,\n   isModal,\n+  viewProfileId,\n } = {}) {\n   return (dispatch) => {\n     if (id) {\n       dispatch(toggleIncludedView(id, showIncludedView, isModal));\n     }\n \n     if (showIncludedView) {\n-      dispatch(setIncludedView({ windowId, viewId }));\n+      dispatch(\n+        setIncludedView({ windowId, viewId, parentId: id, viewProfileId })\n+      );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUwMTI4Nw=="}, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzU3MzI4OnYy", "diffSide": "RIGHT", "path": "frontend/src/reducers/actionsHandler.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyNTowMlrOH3FNHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyNTowMlrOH3FNHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUxOTAwNg==", "bodyText": "rem original if not in use", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527519006", "createdAt": "2020-11-20T08:25:02Z", "author": {"login": "petrican"}, "path": "frontend/src/reducers/actionsHandler.js", "diffHunk": "@@ -0,0 +1,73 @@\n+import { produce /*, original*/ } from 'immer';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzU3OTkyOnYy", "diffSide": "RIGHT", "path": "frontend/src/utils/documentListHelper.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyNjo1NFrOH3FRCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwODoyNjo1NFrOH3FRCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUyMDAxMQ==", "bodyText": "remove if no longer in use", "url": "https://github.com/metasfresh/metasfresh/pull/10223#discussion_r527520011", "createdAt": "2020-11-20T08:26:54Z", "author": {"login": "petrican"}, "path": "frontend/src/utils/documentListHelper.js", "diffHunk": "@@ -21,7 +21,7 @@ const DLpropTypes = {\n   windowId: PropTypes.string.isRequired,\n   viewId: PropTypes.string,\n   queryViewId: PropTypes.string,\n-  updateParentSelectedIds: PropTypes.func,\n+  // updateParentSelectedIds: PropTypes.func,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f550405f45c2171c86bafbe563bada0209dc6e2"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1149, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}