{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MDU1OTkw", "number": 307, "title": "sling servlet suffix utility", "bodyText": "Add a utility for dealing with Sling path suffixes. In this revision the utility allows for template-based extraction of path parameters, enabling building complex, non-static API paths.", "createdAt": "2020-06-04T19:57:28Z", "url": "https://github.com/redhataccess/pantheon/pull/307", "merged": true, "mergeCommit": {"oid": "e4c7195e1e697adc131cfe812ade19b8c5a6f469"}, "closed": true, "closedAt": "2020-06-04T21:12:12Z", "author": {"login": "carlosmunoz"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoB00ZgH2gAyNDI4MDU1OTkwOmFjNWUxOGMxOWM5ZTQ3MDc0Nzc3MDY5NjZhM2VkNjNiNzZhM2ZlZDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoEgPGgFqTQyNDgyMjYwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ac5e18c19c9e4707477706966a3ed63b76a3fed3", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/ac5e18c19c9e4707477706966a3ed63b76a3fed3", "committedDate": "2020-06-04T17:50:39Z", "message": "introduce the SlingPathSuffix class\n\nThe new class allows for the easy manipulation of sling servlet\nsuffixes, when needed.\nIt should also facilitate the creation of better resource urls\nwithout involving query parameters."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5777265f68f30d7758a8b9700268eb67f9b6a09a", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/5777265f68f30d7758a8b9700268eb67f9b6a09a", "committedDate": "2020-06-04T19:43:12Z", "message": "add javadocs to SlingPathSuffix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d6ca48b04f94127885deaa64796ee6c7a9fc210", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/8d6ca48b04f94127885deaa64796ee6c7a9fc210", "committedDate": "2020-06-04T19:53:06Z", "message": "add additional unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODExOTAw", "url": "https://github.com/redhataccess/pantheon/pull/307#pullrequestreview-424811900", "createdAt": "2020-06-04T20:41:21Z", "commit": {"oid": "8d6ca48b04f94127885deaa64796ee6c7a9fc210"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMDo0MToyMVrOGfXByw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMDo0MToyMVrOGfXByw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzNjMzMQ==", "bodyText": "do we allow '-' in the sufix pattern?", "url": "https://github.com/redhataccess/pantheon/pull/307#discussion_r435536331", "createdAt": "2020-06-04T20:41:21Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/servlet/util/SlingPathSuffix.java", "diffHunk": "@@ -0,0 +1,88 @@\n+package com.redhat.pantheon.servlet.util;\n+\n+import org.apache.sling.api.SlingHttpServletRequest;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+/**\n+ * Represents the suffix of a sling url and allows to extract information from it.\n+ * To be used primarily in servlets where suffix information contains input information\n+ * (i.e. parameters).\n+ * <br><br>\n+ *\n+ * Parameters may be extracted like so:\n+ *\n+ * <pre>{@code\n+ * SlingPathSuffix suffix = new SlingPathSuffix(\"/path/with/{param1}/and/{param2}\");\n+ * suffix.getParam(\"param1\", request);\n+ * suffix.getParam(\"param2\", request);\n+ * }</pre>\n+ *\n+ * The suffix needs a template or pattern to be provided in order to be able to extract\n+ * information from it. It may be a completely static pattern or contain placeholders for\n+ * named parameters.\n+ *\n+ * @author Carlos Munoz\n+ */\n+public class SlingPathSuffix {\n+\n+    private static final Pattern PARAMETER_PATTERN = Pattern.compile(\"(\\\\{[a-zA-Z0-9]+})\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d6ca48b04f94127885deaa64796ee6c7a9fc210"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODIyNjAy", "url": "https://github.com/redhataccess/pantheon/pull/307#pullrequestreview-424822602", "createdAt": "2020-06-04T20:57:53Z", "commit": {"oid": "8d6ca48b04f94127885deaa64796ee6c7a9fc210"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2133, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}