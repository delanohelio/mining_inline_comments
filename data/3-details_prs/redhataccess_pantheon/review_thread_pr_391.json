{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1Mjk3MDg0", "number": 391, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1NzoxM1rOEd1wCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowMDowM1rOEd1y_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzI0ODEwOnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1NzoxM1rOHJPnew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1NzoxM1rOHJPnew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1NTA5OQ==", "bodyText": "instead of this.state.productValue/versionValue, it should be the urlFragment values. The urlFragment for product and version is introduced in PR#/390", "url": "https://github.com/redhataccess/pantheon/pull/391#discussion_r479455099", "createdAt": "2020-08-28T17:57:13Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -69,7 +69,7 @@ class AssemblyDisplay extends Component<any, any, any> {\n                             {this.state.releaseUpdateDate.trim() !== \"\" && this.state.releaseUpdateDate !== '-'\n                                 && this.state.variantUUID !== \"\"\n                                 && this.state.portalHost !== \"\"\n-                                && <span><a href={this.state.portalHost + '/guides/en-us/' + this.state.variantUUID} target=\"_blank\">View on Customer Portal  <i className=\"fa pf-icon-arrow\" /></a> </span>\n+                                && <span><a href={this.state.portalHost + '/documentation/en-us/guide/' + this.state.productValue + '/' + this.state.versionValue + '/' + this.state.variantUUID} target=\"_blank\">View on Customer Portal  <i className=\"fa pf-icon-arrow\" /></a> </span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e78d3ee25813465c90a31b7ef7abdf86d0665de"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzI0OTY4OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/moduleDisplay.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1Nzo1MFrOHJPofw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1Nzo1MFrOHJPofw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1NTM1OQ==", "bodyText": "instead of this.state.productValue/versionValue, it should be the urlFragment values. The urlFragment for product and version is introduced in PR#/390", "url": "https://github.com/redhataccess/pantheon/pull/391#discussion_r479455359", "createdAt": "2020-08-28T17:57:50Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/moduleDisplay.tsx", "diffHunk": "@@ -70,7 +70,7 @@ class ModuleDisplay extends Component<any, any, any> {\n                         {this.state.releaseUpdateDate.trim() !== \"\" && this.state.releaseUpdateDate !== '-'\n                             && this.state.variantUUID !== \"\"\n                             && this.state.portalHost !== \"\"\n-                            && <span><a href={this.state.portalHost + '/topics/en-us/' + this.state.variantUUID} target=\"_blank\">View on Customer Portal  <i className=\"fa pf-icon-arrow\" /></a> </span>\n+                            && <span><a href={this.state.portalHost + '/documentation/en-us/topic/' + this.state.productValue + '/' + this.state.versionValue + '/' + this.state.variantUUID} target=\"_blank\">View on Customer Portal  <i className=\"fa pf-icon-arrow\" /></a> </span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e78d3ee25813465c90a31b7ef7abdf86d0665de"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzI1NDc4OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/servlet/assembly/AssemblyJsonServlet.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1OTo0OFrOHJPr5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxNzo1OTo0OFrOHJPr5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1NjIyOQ==", "bodyText": "we need use the urlFragment instead of product/version name", "url": "https://github.com/redhataccess/pantheon/pull/391#discussion_r479456229", "createdAt": "2020-08-28T17:59:48Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/servlet/assembly/AssemblyJsonServlet.java", "diffHunk": "@@ -162,7 +162,7 @@ protected boolean isValidResource(@Nonnull SlingHttpServletRequest request, @Non\n \n         // Process view_uri\n         if (System.getenv(PORTAL_URL) != null) {\n-            String view_uri = System.getenv(PORTAL_URL) + \"/guides/\" + ServletUtils.toLanguageTag(locale) + \"/\" + assemblyId;\n+            String view_uri = System.getenv(PORTAL_URL) + \"/documentation/\" + ServletUtils.toLanguageTag(locale) + \"/guide/\" + pv.name().get() + \"/\" + pv.getProduct().name().get() + \"/\" + assembly_uuid;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e78d3ee25813465c90a31b7ef7abdf86d0665de"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzI1NTY1OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/servlet/module/ModuleJsonServlet.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowMDowM1rOHJPsZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODowMDowM1rOHJPsZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ1NjM1OQ==", "bodyText": "we need use the urlFragment instead of product/version name", "url": "https://github.com/redhataccess/pantheon/pull/391#discussion_r479456359", "createdAt": "2020-08-28T18:00:03Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/servlet/module/ModuleJsonServlet.java", "diffHunk": "@@ -168,7 +168,7 @@ protected boolean isValidResource(@Nonnull SlingHttpServletRequest request, @Non\n \n         // Process view_uri\n         if (System.getenv(PORTAL_URL) != null) {\n-            String view_uri = System.getenv(PORTAL_URL) + \"/topics/\" + ServletUtils.toLanguageTag(locale) + \"/\" + module_uuid;\n+            String view_uri = System.getenv(PORTAL_URL) + \"/documentation/\" + ServletUtils.toLanguageTag(locale) + \"/topic/\" + pv.name().get() + \"/\" + pv.getProduct().name().get() + \"/\" + module_uuid;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e78d3ee25813465c90a31b7ef7abdf86d0665de"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 199, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}