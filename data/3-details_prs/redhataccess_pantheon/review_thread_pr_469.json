{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxOTIzNjIy", "number": 469, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowMjozMFrOE5t28A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowNzo0NlrOE5uI4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTU1NjMyOnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/product.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowMjozMVrOH0WGrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowMjozMVrOH0WGrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY1MDE1OA==", "bodyText": "we don't need the lambda function for onClick event or the Button type. I recommend:\nSave", "url": "https://github.com/redhataccess/pantheon/pull/469#discussion_r524650158", "createdAt": "2020-11-16T22:02:31Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/product.tsx", "diffHunk": "@@ -94,8 +98,24 @@ class Product extends Component<any, IState> {\n                                     <TextInput id=\"product_description_text\" type=\"text\" placeholder=\"Product Description\" value={this.state.productDescription} onChange={this.handleProductInput} />\n                                 </FormGroup>\n                                 <br />\n+                                <FormGroup\n+                                        label=\"Product Version:\"\n+                                        isRequired={true}\n+                                        fieldId=\"version_name\"\n+                                >\n+                                    <TextInput id=\"new_version_name_text\" type=\"text\" placeholder=\"Product Version\" onChange={this.handleTextInputChange} value={this.state.versionName} />\n+                                </FormGroup>\n+                                <br />\n+                                <FormGroup\n+                                        label=\"Version URL Fragment:\"\n+                                        isRequired={true}\n+                                        fieldId=\"version_url_fragment\"\n+                                >\n+                                    <TextInput id=\"new_version_url_fragment\" type=\"text\" placeholder=\"Version URL Fragment\" onChange={this.handleUrlInputChange} value={this.state.versionUrlFragment} />\n+                                </FormGroup>\n+                                <br />\n                                 <ActionGroup>\n-                                    <Button aria-label=\"Creates a new Product Name with Description specified.\" onClick={this.saveProduct}>Save</Button>\n+                                    <Button type='submit' aria-label=\"Creates a new Product Name with Description specified.\" onClick={e => this.saveProduct(e)}>Save</Button>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2792535c956a7633c387203d7b65f84baacad52b"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTU2ODM4OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/product.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowMzo1MVrOH0WO7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowMzo1MVrOH0WO7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY1MjI2OQ==", "bodyText": "I don't believe we don't believe we the changes on line 44.", "url": "https://github.com/redhataccess/pantheon/pull/469#discussion_r524652269", "createdAt": "2020-11-16T22:03:51Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/product.tsx", "diffHunk": "@@ -26,18 +28,20 @@ class Product extends Component<any, IState> {\n             productDescription: \"\",\n             productName: \"\",\n             productUrlFragment: \"\",\n+            versionName: \"\",\n+            versionUrlFragment: \"\",\n             redirect: false\n         }\n \n     }\n-\n+    \n     // render method transforms the react components into DOM nodes for the browser.\n     public render() {\n         return (\n             <React.Fragment>\n                 {/* Bullseye makes sure everyhting is in the middle */}\n                 <Bullseye>\n-                    <Form>\n+                    <Form onSubmit={this.saveProduct} method='POST'>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2792535c956a7633c387203d7b65f84baacad52b"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTYwMjI2OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/product.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowNzo0NlrOH0WmEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjowNzo0NlrOH0WmEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDY1ODE5NA==", "bodyText": "line 162 does not check if users can enter an empty string in Version Name field. It would be better if we do something like this:\nif (this.state.versionName.trim() === \"\" || this.state.versionUrlFragment === \"\")", "url": "https://github.com/redhataccess/pantheon/pull/469#discussion_r524658194", "createdAt": "2020-11-16T22:07:46Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/product.tsx", "diffHunk": "@@ -125,8 +145,52 @@ class Product extends Component<any, IState> {\n         }\n     }\n \n-    private saveProduct = () => {\n-        if (this.state.productName === \"\"|| this.state.productUrlFragment === \"\") {\n+    private handleTextInputChange = versionName => {\n+        this.setState({ versionName })\n+    }\n+\n+    private handleUrlInputChange = versionUrlFragment => {\n+        if (/^[-.\\w]+$/.test(versionUrlFragment)) {\n+            this.setState({ versionUrlFragment, isUrlFragmentValid: true })\n+        } else {\n+            this.setState({ isUrlFragmentValid: false})\n+        }\n+    }\n+\n+    private saveVersion = () => {\n+        // confirming form state is valid\n+        if (this.state.versionName === \"\" || this.state.productUrlFragment === \"\") {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2792535c956a7633c387203d7b65f84baacad52b"}, "originalPosition": 87}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 114, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}