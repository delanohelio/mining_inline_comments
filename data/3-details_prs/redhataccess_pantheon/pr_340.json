{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4OTg5NjY1", "number": 340, "title": "add github builds", "bodyText": "This should add functionality to build using github. It replicates the exact same build process we have on travis with the addition of an exception when the changes happen solely on the docs folder.", "createdAt": "2020-07-14T16:35:32Z", "url": "https://github.com/redhataccess/pantheon/pull/340", "merged": true, "mergeCommit": {"oid": "44f54ae6ecf52d715322129ebacbf729171c4ecf"}, "closed": true, "closedAt": "2020-07-21T14:05:23Z", "author": {"login": "carlosmunoz"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0jtXDAH2gAyNDQ4OTg5NjY1OjYxNjk2MjQ1NzBhM2FiMWE0NzYwNmFlNjFhM2YyMTA5MWY1YmQ0M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3GuTDgFqTQ1MjQ4ODY0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6169624570a3ab1a47606ae61a3f21091f5bd43e", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/6169624570a3ab1a47606ae61a3f21091f5bd43e", "committedDate": "2020-07-13T16:06:22Z", "message": "create maven.yml for github CI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7287a8091caacb24173023d9e682ecbad7a3391", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/f7287a8091caacb24173023d9e682ecbad7a3391", "committedDate": "2020-07-13T16:06:28Z", "message": "fix maven executable name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cda626e9cfe3261f6fd3db6fbcf08b80d9e7600", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/7cda626e9cfe3261f6fd3db6fbcf08b80d9e7600", "committedDate": "2020-07-13T16:06:28Z", "message": "add maven repository caching"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c753df68b097bdbd98988451afb9adcbcba56e52", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/c753df68b097bdbd98988451afb9adcbcba56e52", "committedDate": "2020-07-13T16:06:29Z", "message": "revert os change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8385efb92cf9da2a44a352e0a9cdc1bd4c09d991", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/8385efb92cf9da2a44a352e0a9cdc1bd4c09d991", "committedDate": "2020-07-13T16:10:28Z", "message": "add a codecov github action"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cdec195aa3e76051127452c5ee22a920734e3dc", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/5cdec195aa3e76051127452c5ee22a920734e3dc", "committedDate": "2020-07-13T17:00:21Z", "message": "add a matrixed step to run with java 1.8 and 11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2a83285d9c38876f3c3fffa47463b3f73c3da94", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/d2a83285d9c38876f3c3fffa47463b3f73c3da94", "committedDate": "2020-07-13T17:04:56Z", "message": "add a trigger for pull requests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48accfdaed3d1629b91c1450680df806826a4763", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/48accfdaed3d1629b91c1450680df806826a4763", "committedDate": "2020-07-13T17:11:37Z", "message": "ignore docs paths when building (no need to build the code)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8022b4b371b2c8fc76dab935d3204a62edf0488", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/f8022b4b371b2c8fc76dab935d3204a62edf0488", "committedDate": "2020-07-13T17:47:34Z", "message": "upgrade the cache action to v2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e5a977f5020fe8492cd1bf689ecf5f8fca76352", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/8e5a977f5020fe8492cd1bf689ecf5f8fca76352", "committedDate": "2020-07-14T16:27:27Z", "message": "add steps for building and testing git2pantheon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c83302922a055dffee4aabb760ef7fe9f355ae2", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/4c83302922a055dffee4aabb760ef7fe9f355ae2", "committedDate": "2020-07-14T18:22:27Z", "message": "remove travis build file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a933779c679b467de90f3d744205d0382530bda9", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/a933779c679b467de90f3d744205d0382530bda9", "committedDate": "2020-07-14T18:50:40Z", "message": "increase version of the checkout action"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTk0MTgz", "url": "https://github.com/redhataccess/pantheon/pull/340#pullrequestreview-452194183", "createdAt": "2020-07-21T07:28:29Z", "commit": {"oid": "a933779c679b467de90f3d744205d0382530bda9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoyODoyOVrOG0riHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoyODoyOVrOG0riHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5MjM4MQ==", "bodyText": "Providing  modules' list for building would make knowing errors, if encountered, easy to trace.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  run: ./mvnw clean install\n          \n          \n            \n                  run: ./mvnw clean install -pl pantheon-bundle,pantheon-karaf-feature,pantheon-karaf-dist", "url": "https://github.com/redhataccess/pantheon/pull/340#discussion_r457892381", "createdAt": "2020-07-21T07:28:29Z", "author": {"login": "aprajshekhar"}, "path": ".github/workflows/maven.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: CI build\n+\n+on:\n+  push:\n+    paths-ignore:\n+      - docs/**\n+  pull_request:\n+    paths-ignore:\n+      - docs/**\n+\n+jobs:\n+  maven-build:\n+\n+    runs-on: [ubuntu-latest]\n+    strategy:\n+      matrix:\n+        java: [1.8]\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+    \n+    - name: Set up JDK ${{ matrix.java }}\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: ${{ matrix.java }}\n+\n+    - name: Set up Go\n+      uses: actions/setup-go@v2\n+    \n+    - name: Cache maven dependencies\n+      uses: actions/cache@v2\n+      with:\n+        path: ~/.m2\n+        key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n+        restore-keys: |\n+          ${{ runner.os }}-maven-\n+    \n+    - name: Build with Maven\n+      run: ./mvnw clean install", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a933779c679b467de90f3d744205d0382530bda9"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7605ea9ffc62c5200ace563c9ea8e61b15bdaa3e", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/7605ea9ffc62c5200ace563c9ea8e61b15bdaa3e", "committedDate": "2020-07-21T13:43:31Z", "message": "limit the build to specific maven modules\n\nCo-authored-by: A.P.Rajshekhar <randalap@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDg4NjQx", "url": "https://github.com/redhataccess/pantheon/pull/340#pullrequestreview-452488641", "createdAt": "2020-07-21T14:01:56Z", "commit": {"oid": "7605ea9ffc62c5200ace563c9ea8e61b15bdaa3e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1952, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}