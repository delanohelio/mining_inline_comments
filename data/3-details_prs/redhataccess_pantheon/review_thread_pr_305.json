{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NTM0OTg4", "number": 305, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzozMjoyMVrOEBvu4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo1MDo0MVrOEBwP9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjY2MDgyOnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzozMjoyMVrOGdxv-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjoyNDoxM1rOGd53iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg3Njk4Nw==", "bodyText": "Is it a docker image ?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433876987", "createdAt": "2020-06-02T13:32:21Z", "author": {"login": "rednitish"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAwOTk5Mw==", "bodyText": "Yes.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434009993", "createdAt": "2020-06-02T16:24:13Z", "author": {"login": "aprajshekhar"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg3Njk4Nw=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjY3ODY4OnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzozNjozMFrOGdx7YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjoyNTowNlrOGd55cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg3OTkwNA==", "bodyText": "Correct me if, i am wrong, should it be  \" run the sling container in the pod.\"?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433879904", "createdAt": "2020-06-02T13:36:30Z", "author": {"login": "rednitish"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image\n+\n+```sh\n+buildah bud --layers -f container/Dockerfile -t pantheon-karaf-app .\n+```\n+\n+Run the sling container pod in the pod.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMDQ4Mw==", "bodyText": "You are correct. However, this mistake exists in the current README as well :). I will update this.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434010483", "createdAt": "2020-06-02T16:25:06Z", "author": {"login": "aprajshekhar"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image\n+\n+```sh\n+buildah bud --layers -f container/Dockerfile -t pantheon-karaf-app .\n+```\n+\n+Run the sling container pod in the pod.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg3OTkwNA=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjY4ODk5OnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzozODo0MFrOGdyB7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjoyNjowMFrOGd57pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4MTU4Mw==", "bodyText": "I am  not sure, if it's an issue at my end, but this step is throwing error message on my local.\nError: Transaction failed\nerror building at STEP \"RUN yum -y install java-1.8.0-openjdk\": error while running runtime: exit status 1\nERRO exit status 1", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433881583", "createdAt": "2020-06-02T13:38:40Z", "author": {"login": "rednitish"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image\n+\n+```sh\n+buildah bud --layers -f container/Dockerfile -t pantheon-karaf-app .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMTA0NA==", "bodyText": "It works fine at my end. I used to receive that error if the network was wonky.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434011044", "createdAt": "2020-06-02T16:26:00Z", "author": {"login": "aprajshekhar"}, "path": "README.md", "diffHunk": "@@ -48,6 +48,51 @@ For sling's management UI, you can head to http://localhost:8181/starter/index.h\n - To list all bundles and view their status: bundle:list\n - Find out why a bundle is in waiting state: diag _[bundle-id]_\n \n+### Run the application using Podman\n+First, install [podman](https://podman.io).\n+\n+Then, create a pod:\n+\n+```sh\n+podman pod create --name pantheon-karaf -p 8181 -p 5005\n+```\n+\n+This will create a `pantheon-karaf` pod with ports 8181 (for web access) and 5005 (for\n+remote Java debugging) open.\n+\n+Run a mongo database container in the pod.\n+\n+```sh\n+podman run --pod pantheon-karaf --name slingmongo -d mongo\n+```\n+\n+Build the pantheon docker image\n+\n+```sh\n+buildah bud --layers -f container/Dockerfile -t pantheon-karaf-app .", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4MTU4Mw=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjcxMzg0OnYy", "diffSide": "RIGHT", "path": "container/Dockerfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo0Mzo0OVrOGdyRBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjoyNjo1OVrOGd59wQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4NTQ0Nw==", "bodyText": "Why are we exposing  ports : 1099 and 44444 ?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433885447", "createdAt": "2020-06-02T13:43:49Z", "author": {"login": "rednitish"}, "path": "container/Dockerfile", "diffHunk": "@@ -1,15 +1,21 @@\n FROM registry.access.redhat.com/ubi8/ubi\n RUN yum -y install java-1.8.0-openjdk\n \n-RUN mkdir -p /opt/sling\n+ENV MONGO_DB=\"sling\"\n+ENV REPOSITORY=\"sling/repository\"\n \n-COPY ../pantheon-slingstart/target/pantheon-slingstart-*.jar /opt/sling/pantheon.jar\n+RUN mkdir -p /opt/pantheon-karaf-dist\n+RUN mkdir /tmp/archive\n+WORKDIR /tmp/archive\n \n-WORKDIR /opt/sling/\n-EXPOSE 8080\n-EXPOSE 5005\n+COPY ../pantheon-karaf-dist/target/pantheon-karaf-dist-*.tar.gz /tmp/archive/pantheon-karaf-dist.tar.gz\n \n-ENV JAVA_OPTS -Xmx1024m -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n-ENV SLING_OPS ''\n+RUN tar --strip-components=1 -C /opt/pantheon-karaf-dist -xzf pantheon-karaf-dist.tar.gz; \\\n+    rm -rf /tmp/*\n \n-CMD export COMMIT_HASH=$(cat /opt/sling/commit_hash); java $JAVA_OPTS -jar pantheon.jar $SLING_OPTS\n+RUN chmod 755 /opt; \n+    #sed -i \"21s/out/stdout/\" /opt/pantheon-karaf-dist/etc/org.ops4j.pax.logging.cfg;\n+\n+EXPOSE 1099 8181 44444", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMTU4NQ==", "bodyText": "They are JMX ports. I will check if there is a different single port of debug and jmx.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434011585", "createdAt": "2020-06-02T16:26:59Z", "author": {"login": "aprajshekhar"}, "path": "container/Dockerfile", "diffHunk": "@@ -1,15 +1,21 @@\n FROM registry.access.redhat.com/ubi8/ubi\n RUN yum -y install java-1.8.0-openjdk\n \n-RUN mkdir -p /opt/sling\n+ENV MONGO_DB=\"sling\"\n+ENV REPOSITORY=\"sling/repository\"\n \n-COPY ../pantheon-slingstart/target/pantheon-slingstart-*.jar /opt/sling/pantheon.jar\n+RUN mkdir -p /opt/pantheon-karaf-dist\n+RUN mkdir /tmp/archive\n+WORKDIR /tmp/archive\n \n-WORKDIR /opt/sling/\n-EXPOSE 8080\n-EXPOSE 5005\n+COPY ../pantheon-karaf-dist/target/pantheon-karaf-dist-*.tar.gz /tmp/archive/pantheon-karaf-dist.tar.gz\n \n-ENV JAVA_OPTS -Xmx1024m -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n-ENV SLING_OPS ''\n+RUN tar --strip-components=1 -C /opt/pantheon-karaf-dist -xzf pantheon-karaf-dist.tar.gz; \\\n+    rm -rf /tmp/*\n \n-CMD export COMMIT_HASH=$(cat /opt/sling/commit_hash); java $JAVA_OPTS -jar pantheon.jar $SLING_OPTS\n+RUN chmod 755 /opt; \n+    #sed -i \"21s/out/stdout/\" /opt/pantheon-karaf-dist/etc/org.ops4j.pax.logging.cfg;\n+\n+EXPOSE 1099 8181 44444", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4NTQ0Nw=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjcyMzQwOnYy", "diffSide": "RIGHT", "path": "container/pantheon-karaf.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo0NTo0OVrOGdyW-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo0NTo0OVrOGdyW-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4Njk2OQ==", "bodyText": "Is it required ?\nwon't it get automatically created ?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433886969", "createdAt": "2020-06-02T13:45:49Z", "author": {"login": "rednitish"}, "path": "container/pantheon-karaf.yml", "diffHunk": "@@ -0,0 +1,91 @@\n+# Generation of Kubernetes YAML is still under development!\n+#\n+# Save the output of this file and use kubectl create -f to import\n+# it into Kubernetes.\n+#\n+# Created with podman-1.9.2\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  creationTimestamp: \"2020-06-02T11:45:11Z\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjczMzQwOnYy", "diffSide": "RIGHT", "path": "container/pantheon-karaf.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo0ODowNFrOGdydLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjoyOTo0MlrOGd6EdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4ODU1OA==", "bodyText": "Can we parameterize tags, so that we can deploy stable and latest images as well ?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433888558", "createdAt": "2020-06-02T13:48:04Z", "author": {"login": "rednitish"}, "path": "container/pantheon-karaf.yml", "diffHunk": "@@ -0,0 +1,91 @@\n+# Generation of Kubernetes YAML is still under development!\n+#\n+# Save the output of this file and use kubectl create -f to import\n+# it into Kubernetes.\n+#\n+# Created with podman-1.9.2\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  creationTimestamp: \"2020-06-02T11:45:11Z\"\n+  labels:\n+    app: pantheon-karaf\n+  name: pantheon-karaf\n+spec:\n+  containers:\n+  - command:\n+    - /opt/pantheon-karaf-dist/bin/karaf\n+    - run\n+    env:\n+    - name: PATH\n+      value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+    - name: TERM\n+      value: xterm\n+    - name: HOSTNAME\n+      value: pantheon-karaf\n+    - name: MONGO_DB\n+      value: sling\n+    - name: REPOSITORY\n+      value: sling/repository\n+    - name: MONGO_DB_REPLICA\n+      value: mongodb://localhost:27017\n+    - name: container\n+      value: oci\n+    image: localhost/pantheon-karaf-app:latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMzMwMQ==", "bodyText": "This file was generated using podman generate. I am not sure is this required. I have asked Lisa about it. I will remove this and regenerate if required. This is useful only if you are using kubectl, AFAIK.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434013301", "createdAt": "2020-06-02T16:29:42Z", "author": {"login": "aprajshekhar"}, "path": "container/pantheon-karaf.yml", "diffHunk": "@@ -0,0 +1,91 @@\n+# Generation of Kubernetes YAML is still under development!\n+#\n+# Save the output of this file and use kubectl create -f to import\n+# it into Kubernetes.\n+#\n+# Created with podman-1.9.2\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  creationTimestamp: \"2020-06-02T11:45:11Z\"\n+  labels:\n+    app: pantheon-karaf\n+  name: pantheon-karaf\n+spec:\n+  containers:\n+  - command:\n+    - /opt/pantheon-karaf-dist/bin/karaf\n+    - run\n+    env:\n+    - name: PATH\n+      value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+    - name: TERM\n+      value: xterm\n+    - name: HOSTNAME\n+      value: pantheon-karaf\n+    - name: MONGO_DB\n+      value: sling\n+    - name: REPOSITORY\n+      value: sling/repository\n+    - name: MONGO_DB_REPLICA\n+      value: mongodb://localhost:27017\n+    - name: container\n+      value: oci\n+    image: localhost/pantheon-karaf-app:latest", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg4ODU1OA=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMjc0NTUxOnYy", "diffSide": "RIGHT", "path": "container/pantheon-karaf.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzo1MDo0MVrOGdyktQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjozMDoyMFrOGd6GLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5MDQ4NQ==", "bodyText": "mongoDB as container, is it for testing purpose only ?", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r433890485", "createdAt": "2020-06-02T13:50:41Z", "author": {"login": "rednitish"}, "path": "container/pantheon-karaf.yml", "diffHunk": "@@ -0,0 +1,91 @@\n+# Generation of Kubernetes YAML is still under development!\n+#\n+# Save the output of this file and use kubectl create -f to import\n+# it into Kubernetes.\n+#\n+# Created with podman-1.9.2\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  creationTimestamp: \"2020-06-02T11:45:11Z\"\n+  labels:\n+    app: pantheon-karaf\n+  name: pantheon-karaf\n+spec:\n+  containers:\n+  - command:\n+    - /opt/pantheon-karaf-dist/bin/karaf\n+    - run\n+    env:\n+    - name: PATH\n+      value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+    - name: TERM\n+      value: xterm\n+    - name: HOSTNAME\n+      value: pantheon-karaf\n+    - name: MONGO_DB\n+      value: sling\n+    - name: REPOSITORY\n+      value: sling/repository\n+    - name: MONGO_DB_REPLICA\n+      value: mongodb://localhost:27017\n+    - name: container\n+      value: oci\n+    image: localhost/pantheon-karaf-app:latest\n+    name: pantheon-karaf-app\n+    ports:\n+    - containerPort: 8181\n+      hostPort: 8181\n+      protocol: TCP\n+    - containerPort: 55555\n+      hostPort: 55555\n+      protocol: TCP\n+    - containerPort: 1099\n+      hostPort: 1099\n+      protocol: TCP\n+    resources: {}\n+    securityContext:\n+      allowPrivilegeEscalation: true\n+      capabilities: {}\n+      privileged: false\n+      readOnlyRootFilesystem: false\n+      seLinuxOptions: {}\n+    tty: true\n+    workingDir: /tmp/archive\n+  - command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMzc0Mg==", "bodyText": "This file was generated using podman generate. I am not sure is this required. I have asked Lisa about it. I will remove this and regenerate if required. This is useful only if you are using kubectl, AFAIK. And this seems only for local.", "url": "https://github.com/redhataccess/pantheon/pull/305#discussion_r434013742", "createdAt": "2020-06-02T16:30:20Z", "author": {"login": "aprajshekhar"}, "path": "container/pantheon-karaf.yml", "diffHunk": "@@ -0,0 +1,91 @@\n+# Generation of Kubernetes YAML is still under development!\n+#\n+# Save the output of this file and use kubectl create -f to import\n+# it into Kubernetes.\n+#\n+# Created with podman-1.9.2\n+apiVersion: v1\n+kind: Pod\n+metadata:\n+  creationTimestamp: \"2020-06-02T11:45:11Z\"\n+  labels:\n+    app: pantheon-karaf\n+  name: pantheon-karaf\n+spec:\n+  containers:\n+  - command:\n+    - /opt/pantheon-karaf-dist/bin/karaf\n+    - run\n+    env:\n+    - name: PATH\n+      value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n+    - name: TERM\n+      value: xterm\n+    - name: HOSTNAME\n+      value: pantheon-karaf\n+    - name: MONGO_DB\n+      value: sling\n+    - name: REPOSITORY\n+      value: sling/repository\n+    - name: MONGO_DB_REPLICA\n+      value: mongodb://localhost:27017\n+    - name: container\n+      value: oci\n+    image: localhost/pantheon-karaf-app:latest\n+    name: pantheon-karaf-app\n+    ports:\n+    - containerPort: 8181\n+      hostPort: 8181\n+      protocol: TCP\n+    - containerPort: 55555\n+      hostPort: 55555\n+      protocol: TCP\n+    - containerPort: 1099\n+      hostPort: 1099\n+      protocol: TCP\n+    resources: {}\n+    securityContext:\n+      allowPrivilegeEscalation: true\n+      capabilities: {}\n+      privileged: false\n+      readOnlyRootFilesystem: false\n+      seLinuxOptions: {}\n+    tty: true\n+    workingDir: /tmp/archive\n+  - command:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg5MDQ4NQ=="}, "originalCommit": {"oid": "55e803e76185ecd724f16735ddf61dfd34830666"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 305, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}