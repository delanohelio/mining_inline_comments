{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMTcwNDk2", "number": 436, "title": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up", "bodyText": "This PR\n\nCalls the url provider endpoint from publish event handler in modules component.\nAdds a wait of 1 sec to the above call so that JCR changes are propagated. This is needed because even though publish endpoint sends 200, it takes nearly a second for changes to propagate in JCR structure.", "createdAt": "2020-10-14T07:24:32Z", "url": "https://github.com/redhataccess/pantheon/pull/436", "merged": true, "mergeCommit": {"oid": "03d23fb4ad55f11d6d0f6b9a11e3c3e25c9d7072"}, "closed": true, "closedAt": "2020-10-19T14:19:08Z", "author": {"login": "aprajshekhar"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSdC5agBqjM4NzY1MzkwNDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUEy3bAFqTUxMTgwNTMzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a978ca0a4f1a1fa158e198a0854c9b1effbc902", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/0a978ca0a4f1a1fa158e198a0854c9b1effbc902", "committedDate": "2020-10-13T13:27:49Z", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up"}, "afterCommit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/bf421bf9658b18849e163f4e196f901655492c28", "committedDate": "2020-10-14T13:17:44Z", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjMzMzI3", "url": "https://github.com/redhataccess/pantheon/pull/436#pullrequestreview-508633327", "createdAt": "2020-10-14T18:48:24Z", "commit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo0ODoyNFrOHhghOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo0ODoyNFrOHhghOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5Nzg0OA==", "bodyText": "assemblyDisplay doesn't have issue with  \"\"View on Customer Portal\" link when publishing. This code is not neccessary.", "url": "https://github.com/redhataccess/pantheon/pull/436#discussion_r504897848", "createdAt": "2020-10-14T18:48:24Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -254,6 +254,10 @@ class AssemblyDisplay extends Component<any, any, any> {\n \n     private onPublishEvent = () => {\n         this.getVersionUUID(this.props.location.pathname)\n+        // wait for 1 second so that JCR data gets updated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjM0NDgy", "url": "https://github.com/redhataccess/pantheon/pull/436#pullrequestreview-508634482", "createdAt": "2020-10-14T18:50:03Z", "commit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo1MDowM1rOHhgk4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxODo1MDowM1rOHhgk4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDg5ODc4NQ==", "bodyText": "I don't believe this fix the underlining problem. The reason on Module display, \"View on Customer Portal\" link doesn't show up when publishing is because, you need add this method call in public componentDidMount() method:\nthis.getPortalUrl()", "url": "https://github.com/redhataccess/pantheon/pull/436#discussion_r504898785", "createdAt": "2020-10-14T18:50:03Z", "author": {"login": "xdavidson"}, "path": "pantheon-bundle/frontend/src/app/moduleDisplay.tsx", "diffHunk": "@@ -306,6 +306,10 @@ class ModuleDisplay extends Component<any, IModuleDisplayState> {\n \n     private onPublishEvent = () => {\n         this.getVersionUUID(this.props.location.pathname)\n+        // wait for 1 second so that JCR data gets updated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d095c811847d0cac87b4d62de5ef692035b3b1f3", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/d095c811847d0cac87b4d62de5ef692035b3b1f3", "committedDate": "2020-10-15T03:26:42Z", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up. Updating for the changes in master"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bf421bf9658b18849e163f4e196f901655492c28", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/bf421bf9658b18849e163f4e196f901655492c28", "committedDate": "2020-10-14T13:17:44Z", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up"}, "afterCommit": {"oid": "d095c811847d0cac87b4d62de5ef692035b3b1f3", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/d095c811847d0cac87b4d62de5ef692035b3b1f3", "committedDate": "2020-10-15T03:26:42Z", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up. Updating for the changes in master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODA1MzM4", "url": "https://github.com/redhataccess/pantheon/pull/436#pullrequestreview-511805338", "createdAt": "2020-10-19T14:10:55Z", "commit": {"oid": "d095c811847d0cac87b4d62de5ef692035b3b1f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1892, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}