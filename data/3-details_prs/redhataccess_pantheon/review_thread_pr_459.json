{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMDY5NTk1", "number": 459, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0MzowOFrOEzMiDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0MzowOFrOEzMiDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMTE4MTU4OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwODo0MzowOFrOHqRgwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwOTowMzoyOFrOHqSQiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw==", "bodyText": "In future can we check if publish event can have different approach for this condition ?", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514089153", "createdAt": "2020-10-29T08:43:08Z", "author": {"login": "rednitish"}, "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -271,10 +281,33 @@ class AssemblyDisplay extends Component<any, IAssemblyDisplayState> {\n     }\n \n     private onPublishEvent = () => {\n-        this.getVersionUUID(this.props.location.pathname)\n-        setTimeout(()=> {\n-            this.getPortalUrl(this.props.location.pathname.substring(PathPrefixes.MODULE_PATH_PREFIX.length), this.state.variant)\n-        }, 500)\n+        // try to get the url from api only if the component has been published\n+        if (this.state.releaseUpdateDate.trim() !== \"\"\n+        && this.state.releaseUpdateDate.length >= 15 ?\n+            new Intl.DateTimeFormat(\"en-GB\", { year: \"numeric\", month: \"long\", day: \"numeric\" }).format(new Date(this.state.releaseUpdateDate)) : \"--\") {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "992bfc3448073ea865c554e42e48998a8e512f19"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MzE2OQ==", "bodyText": "Thanks for the review. Once CCS-3860 is done, the whole publish event itself would change.", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514093169", "createdAt": "2020-10-29T08:49:53Z", "author": {"login": "aprajshekhar"}, "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -271,10 +281,33 @@ class AssemblyDisplay extends Component<any, IAssemblyDisplayState> {\n     }\n \n     private onPublishEvent = () => {\n-        this.getVersionUUID(this.props.location.pathname)\n-        setTimeout(()=> {\n-            this.getPortalUrl(this.props.location.pathname.substring(PathPrefixes.MODULE_PATH_PREFIX.length), this.state.variant)\n-        }, 500)\n+        // try to get the url from api only if the component has been published\n+        if (this.state.releaseUpdateDate.trim() !== \"\"\n+        && this.state.releaseUpdateDate.length >= 15 ?\n+            new Intl.DateTimeFormat(\"en-GB\", { year: \"numeric\", month: \"long\", day: \"numeric\" }).format(new Date(this.state.releaseUpdateDate)) : \"--\") {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw=="}, "originalCommit": {"oid": "992bfc3448073ea865c554e42e48998a8e512f19"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEwMTM4NQ==", "bodyText": "Anyways updated to simplify the logic.", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514101385", "createdAt": "2020-10-29T09:03:28Z", "author": {"login": "aprajshekhar"}, "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -271,10 +281,33 @@ class AssemblyDisplay extends Component<any, IAssemblyDisplayState> {\n     }\n \n     private onPublishEvent = () => {\n-        this.getVersionUUID(this.props.location.pathname)\n-        setTimeout(()=> {\n-            this.getPortalUrl(this.props.location.pathname.substring(PathPrefixes.MODULE_PATH_PREFIX.length), this.state.variant)\n-        }, 500)\n+        // try to get the url from api only if the component has been published\n+        if (this.state.releaseUpdateDate.trim() !== \"\"\n+        && this.state.releaseUpdateDate.length >= 15 ?\n+            new Intl.DateTimeFormat(\"en-GB\", { year: \"numeric\", month: \"long\", day: \"numeric\" }).format(new Date(this.state.releaseUpdateDate)) : \"--\") {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw=="}, "originalCommit": {"oid": "992bfc3448073ea865c554e42e48998a8e512f19"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 101, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}