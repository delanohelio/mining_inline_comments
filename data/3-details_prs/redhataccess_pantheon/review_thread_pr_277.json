{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3MTI3NDQ2", "number": 277, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyNjowMlrOD07XhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTozMToxMVrOD23CRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2ODI1MjIxOnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyNjowMlrOGKHQ_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyNjowMlrOGKHQ_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI1Nzk4MA==", "bodyText": "Small nitpick, but could you remove the double-spacing after the equal sign?\n...attributeFileRelPath =<space><space>moduleVersion... <-- double-spacing here.", "url": "https://github.com/redhataccess/pantheon/pull/277#discussion_r413257980", "createdAt": "2020-04-22T19:26:02Z", "author": {"login": "benradey"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "diffHunk": "@@ -179,10 +179,15 @@ private String buildModule(Module base, ModuleVersion moduleVersion, Map<String,\n                     .map(Supplier::get);\n \n             SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd MMMMM yyyy\");\n+\n+            String workspacePath = moduleVersion.getWorkspace().getPath();\n+            String attributeFileRelPath =  moduleVersion.getWorkspace().attributeFile().get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58fe349a3de23a2eef86cf7ebad17594280e0c73"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2ODI2MTQwOnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyODoyOVrOGKHWsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOToyODoyOVrOGKHWsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI1OTQ0MA==", "bodyText": "Two comments here... first of all, please fix the spacing in this code. :)\n...concat(<remove this space>\"/\"<add a space here>+ attribute...\nSecond, it's very minor, but please be consistent the call that you use. I'd like to see either\nworkspacePath + \"/\" + attributeFileRelPath\n...or...\nworkspacePath.concat(\"/\").concat(attributeFileRelPath)\n...but not a mix of the two. It keeps the code clean.\nThanks!", "url": "https://github.com/redhataccess/pantheon/pull/277#discussion_r413259440", "createdAt": "2020-04-22T19:28:29Z", "author": {"login": "benradey"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "diffHunk": "@@ -179,10 +179,15 @@ private String buildModule(Module base, ModuleVersion moduleVersion, Map<String,\n                     .map(Supplier::get);\n \n             SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd MMMMM yyyy\");\n+\n+            String workspacePath = moduleVersion.getWorkspace().getPath();\n+            String attributeFileRelPath =  moduleVersion.getWorkspace().attributeFile().get();\n             // build the attributes (default + those coming from http parameters)\n             AttributesBuilder atts = AttributesBuilder.attributes()\n                     // show the title on the generated html\n                     .attribute(\"showtitle\")\n+                    // provide attribute file as argument to ASCIIDOCTOR for building doc.\n+                    .attribute(\"attsFile\", workspacePath.concat( \"/\"+ attributeFileRelPath))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58fe349a3de23a2eef86cf7ebad17594280e0c73"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2ODI3Mjc3OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOTozMToyMFrOGKHdpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxOTozMToyMFrOGKHdpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MTIyMQ==", "bodyText": "Clever! I wouldn't have thought of this, but I like the logic!", "url": "https://github.com/redhataccess/pantheon/pull/277#discussion_r413261221", "createdAt": "2020-04-22T19:31:20Z", "author": {"login": "benradey"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "diffHunk": "@@ -240,14 +245,10 @@ private String buildModule(Module base, ModuleVersion moduleVersion, Map<String,\n                             new MetadataExtractorTreeProcessor(moduleVersion.metadata().getOrCreate()));\n                 }\n \n-                String workspacePath = moduleVersion.getWorkspace().getPath();\n-                String attributeFileRelPath =  moduleVersion.getWorkspace().attributeFile().get();\n                 StringBuilder content = new StringBuilder();\n                 if (attributeFileRelPath != null && !attributeFileRelPath.isEmpty()) {\n                     content.append(\"include::\")\n-                            .append(workspacePath)\n-                            .append(\"/\")\n-                            .append(attributeFileRelPath)\n+                            .append(\"{attsFile}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58fe349a3de23a2eef86cf7ebad17594280e0c73"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4ODUxMzk2OnYy", "diffSide": "RIGHT", "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTozMToxMVrOGM0J4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTozMToxMVrOGM0J4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA5MDU5Mw==", "bodyText": "You're missing a space after the \"/\", but I won't ask for another commit, just please keep an eye out in the future. :)\nThanks!", "url": "https://github.com/redhataccess/pantheon/pull/277#discussion_r416090593", "createdAt": "2020-04-27T19:31:11Z", "author": {"login": "benradey"}, "path": "pantheon-bundle/src/main/java/com/redhat/pantheon/asciidoctor/AsciidoctorService.java", "diffHunk": "@@ -179,10 +179,15 @@ private String buildModule(Module base, ModuleVersion moduleVersion, Map<String,\n                     .map(Supplier::get);\n \n             SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd MMMMM yyyy\");\n+\n+            String workspacePath = moduleVersion.getWorkspace().getPath();\n+            String attributeFileRelPath = moduleVersion.getWorkspace().attributeFile().get();\n             // build the attributes (default + those coming from http parameters)\n             AttributesBuilder atts = AttributesBuilder.attributes()\n                     // show the title on the generated html\n                     .attribute(\"showtitle\")\n+                    // provide attribute file as argument to ASCIIDOCTOR for building doc.\n+                    .attribute(\"attsFile\", workspacePath + \"/\"+ attributeFileRelPath)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a3d28a9d48ce94ebde7b1a6c796624637b5ff1"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 280, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}