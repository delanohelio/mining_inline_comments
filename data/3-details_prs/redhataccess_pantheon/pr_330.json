{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNTQxMjc4", "number": 330, "title": "CCS-3603 Migrate Pantheon 2 to Apache Karaf", "bodyText": "Merge request for karaf migration", "createdAt": "2020-07-01T08:46:50Z", "url": "https://github.com/redhataccess/pantheon/pull/330", "merged": true, "mergeCommit": {"oid": "a04dd5661d496b0d6aa18ed4b853318874e84935"}, "closed": true, "closedAt": "2020-07-01T09:41:17Z", "author": {"login": "aprajshekhar"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcia8BeAH2gAyNDQyNTQxMjc4OjkxMzlkYjRlZWNjNDQ4NzBlNDM0Zjk1MDJmZDQ2YzRmOGVmMGVkNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwmovEAFqTQ0MDY5MTIwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9139db4eecc44870e434f9502fd46c4f8ef0ed70", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/9139db4eecc44870e434f9502fd46c4f8ef0ed70", "committedDate": "2020-05-18T07:42:36Z", "message": "   CCS-3609:  Create Karaf distribution of Pantheon."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69c0a49a9d0eec5de8b52cf8244e4fcee2305222", "author": {"user": {"login": "rednitish", "name": "Nitish Sharma"}}, "url": "https://github.com/redhataccess/pantheon/commit/69c0a49a9d0eec5de8b52cf8244e4fcee2305222", "committedDate": "2020-05-19T07:23:53Z", "message": "typo fix. (#289)\n\n_PANTHEON_CODBASE_ to _PANTHEON_CODEBASE_"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47a69926c2020dd72ca5dcabbd7cc29dbaa68c13", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/47a69926c2020dd72ca5dcabbd7cc29dbaa68c13", "committedDate": "2020-05-27T06:40:46Z", "message": " CCS-3635:  Update travis build to work with karaf distribution (#295)\n\n* CCS-3635:  Update travis build to work with karaf distribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5c965831453c38f361c28442d7f609c9aead2c4", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/a5c965831453c38f361c28442d7f609c9aead2c4", "committedDate": "2020-06-01T14:40:49Z", "message": "update pantheon feature with latest permissions (#302)\n\nPermissions updated from the main branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c47835b2f179d083d0bba138b1e16e4236aa299f", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/c47835b2f179d083d0bba138b1e16e4236aa299f", "committedDate": "2020-06-02T10:54:14Z", "message": "CCS-3639 Merge latest changes from master to pantheon_karaf_dist branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "865ef6030aa7d1b6e2b0c6ca4420254ba3465693", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/865ef6030aa7d1b6e2b0c6ca4420254ba3465693", "committedDate": "2020-06-03T05:51:37Z", "message": "CCS-3634: Update the container creation files to use the karaf based distribution (#305)\n\n* CCS-3634: Update the container creation files to use the karaf based distribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "213fa2936c0cbad2bdda46aee2e8b598f8bceaa4", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/213fa2936c0cbad2bdda46aee2e8b598f8bceaa4", "committedDate": "2020-06-03T10:46:19Z", "message": "CCS-3639 Merge latest changes from master to pantheon_karaf_dist branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be1d041e1508d5c46c84638fbf3e393accf74630", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/be1d041e1508d5c46c84638fbf3e393accf74630", "committedDate": "2020-06-09T09:15:30Z", "message": "Cosmetic changes for deployment preparations (#308)\n\n* Cosmetic changes for deployment preparations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88eaa306ee54bd98c2851d3bd5ff82e8282526ed", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/88eaa306ee54bd98c2851d3bd5ff82e8282526ed", "committedDate": "2020-06-10T10:43:37Z", "message": "CCS-3663 Merge latest changes from master to pantheon_karaf_dist branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed7ff984e4b5b81425bc582f5615c0e3a1e211ef", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/ed7ff984e4b5b81425bc582f5615c0e3a1e211ef", "committedDate": "2020-06-15T12:33:07Z", "message": "CCS-3640. Using https for apache repo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e14bd3d8b9feb2e8d0240b9eaf03e1bf998d81", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/14e14bd3d8b9feb2e8d0240b9eaf03e1bf998d81", "committedDate": "2020-06-16T06:30:40Z", "message": "CCS-3640. proxy changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0494a0bb1dadc17e58b50eda8bb3d8a47f8e0d99", "author": {"user": {"login": "carlosmunoz", "name": "Carlos Munoz"}}, "url": "https://github.com/redhataccess/pantheon/commit/0494a0bb1dadc17e58b50eda8bb3d8a47f8e0d99", "committedDate": "2020-06-17T15:38:03Z", "message": "update dependencies to latest provided by karaf (#320)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca39328ea7c96a5f66bfc3855a68d219f7c4667d", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/ca39328ea7c96a5f66bfc3855a68d219f7c4667d", "committedDate": "2020-06-22T06:47:16Z", "message": "CCS-3640. repo changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "051c849e1f267f8ade880de8472049ba3125d606", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/051c849e1f267f8ade880de8472049ba3125d606", "committedDate": "2020-06-23T11:49:35Z", "message": "Reverse merge from master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68c8190026517fdd862917c367afb86d742ae941", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/68c8190026517fdd862917c367afb86d742ae941", "committedDate": "2020-06-24T08:21:20Z", "message": "Reverse merge from master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55a93dc2f1d5beef855ebecb71f0dfab481d48e6", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/55a93dc2f1d5beef855ebecb71f0dfab481d48e6", "committedDate": "2020-06-25T10:26:03Z", "message": "Reverse merge from master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "546a889d5a5220758a290f54dfbe211f9c282134", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/546a889d5a5220758a290f54dfbe211f9c282134", "committedDate": "2020-07-01T06:49:57Z", "message": "reverse merge from master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59daee07bc03a1a21bcd71b9e99aff4d41475514", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/59daee07bc03a1a21bcd71b9e99aff4d41475514", "committedDate": "2020-07-01T07:07:30Z", "message": "CCS-3603: Migrate Pantheon 2 to Apache Karaf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed139a0dd70b3811683bbbbe751534b3778da18f", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/ed139a0dd70b3811683bbbbe751534b3778da18f", "committedDate": "2020-07-01T08:22:30Z", "message": "Merge branch 'master' into pantheon_karaf_dist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18ef3190d0ec7d089d7c9b98b51e187360333a16", "author": {"user": {"login": "aprajshekhar", "name": "A.P.Rajshekhar"}}, "url": "https://github.com/redhataccess/pantheon/commit/18ef3190d0ec7d089d7c9b98b51e187360333a16", "committedDate": "2020-07-01T08:37:02Z", "message": "CCS-3603: Migrate Pantheon 2 to Apache Karaf. Remove extraneous and whitespace related changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjc2NDI4", "url": "https://github.com/redhataccess/pantheon/pull/330#pullrequestreview-440676428", "createdAt": "2020-07-01T08:55:46Z", "commit": {"oid": "18ef3190d0ec7d089d7c9b98b51e187360333a16"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwODo1NTo0NlrOGrdF8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwODo1OToyN1rOGrdOMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIxODYwOA==", "bodyText": "Can we have this at project specific location instead of a user ?", "url": "https://github.com/redhataccess/pantheon/pull/330#discussion_r448218608", "createdAt": "2020-07-01T08:55:46Z", "author": {"login": "rednitish"}, "path": ".travis.yml", "diffHunk": "@@ -2,15 +2,19 @@ matrix:\n   include:\n     - language: java\n       jdk: openjdk8\n-      install: true\n-      script: ./mvnw clean install\n+\n+      cache:\n+        directories:\n+          - $HOME/.m2\n+\n+      install:\n+        - curl -o $HOME/.m2/settings.xml     https://raw.githubusercontent.com/aprajshekhar/maven-settings/master/settings.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18ef3190d0ec7d089d7c9b98b51e187360333a16"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIyMDcyMg==", "bodyText": "Can we made it more generic ?", "url": "https://github.com/redhataccess/pantheon/pull/330#discussion_r448220722", "createdAt": "2020-07-01T08:59:27Z", "author": {"login": "rednitish"}, "path": "container/Dockerfile", "diffHunk": "@@ -1,15 +1,22 @@\n FROM registry.access.redhat.com/ubi8/ubi\n RUN yum -y install java-1.8.0-openjdk\n \n-RUN mkdir -p /opt/sling\n+ENV MONGO_DB=\"sling\"\n+ENV REPOSITORY=\"sling/repository\"\n+ENV KARAF_DEBUG=true\n+RUN mkdir -p /opt/pantheon-karaf-dist\n+RUN mkdir /tmp/archive\n+WORKDIR /tmp/archive\n \n-COPY ../pantheon-slingstart/target/pantheon-slingstart-*.jar /opt/sling/pantheon.jar\n+COPY ../pantheon-karaf-dist/target/pantheon-karaf-dist-*.tar.gz /tmp/archive/pantheon-karaf-dist.tar.gz", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18ef3190d0ec7d089d7c9b98b51e187360333a16"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjkxMjA2", "url": "https://github.com/redhataccess/pantheon/pull/330#pullrequestreview-440691206", "createdAt": "2020-07-01T09:15:20Z", "commit": {"oid": "18ef3190d0ec7d089d7c9b98b51e187360333a16"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1939, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}