{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMzAwNjg5", "number": 636, "title": "Upload assemblies through the IRIDA UI", "bodyText": "Description of changes\nThis allows for uploading assemblies on the IRIDA Sample Files page.\nRelated issue\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-03-23T10:38:10Z", "url": "https://github.com/phac-nml/irida/pull/636", "merged": true, "mergeCommit": {"oid": "f0008d29ce576f978159e8ffe8df316c05008ed4"}, "closed": true, "closedAt": "2020-04-01T13:30:11Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPNIIyAH2gAyMzkyMzAwNjg5OjAxYmYxYTFlYWQ0ZDBiOTU2NDgxOTlhNmY4MDRiMTY4NjQwNWQyZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTXvBMgFqTM4NTU4NTU4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "01bf1a1ead4d0b95648199a6f804b1686405d2f9", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/01bf1a1ead4d0b95648199a6f804b1686405d2f9", "committedDate": "2020-03-19T14:52:36Z", "message": "chore: Removed logging statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "845d9ea42c7ccdde7ebf1ed39814ce0975eb4d26", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/845d9ea42c7ccdde7ebf1ed39814ce0975eb4d26", "committedDate": "2020-03-19T20:21:05Z", "message": "refactor: Working new sequence file upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e77c191658c8ecebec258539ec64a15b4c7bce51", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e77c191658c8ecebec258539ec64a15b4c7bce51", "committedDate": "2020-03-19T20:29:26Z", "message": "chore: Updated code comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c8f68d7928fbd0961f14d0e46cb720922e17216", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/9c8f68d7928fbd0961f14d0e46cb720922e17216", "committedDate": "2020-03-20T10:10:18Z", "message": "chore: Added messages for successful upload or error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9293f3e4b500ee94e7618050b27cfdd4d6f2cd6", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/a9293f3e4b500ee94e7618050b27cfdd4d6f2cd6", "committedDate": "2020-03-20T13:08:07Z", "message": "tests: Fixed tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e12d56511dd1266f4b2f906f07578104bf6f272", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/1e12d56511dd1266f4b2f906f07578104bf6f272", "committedDate": "2020-03-20T16:32:26Z", "message": "tests: All tests passing locally"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "873f6f9133c038b9a180c87d231ff5af096fbb26", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/873f6f9133c038b9a180c87d231ff5af096fbb26", "committedDate": "2020-03-20T18:28:33Z", "message": "feature: Working assembly uploader"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c36582e06b78f4628f80e8f0e88ea96b7e027383", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/c36582e06b78f4628f80e8f0e88ea96b7e027383", "committedDate": "2020-03-20T19:27:18Z", "message": "fix: Missing quote"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb7009fc899f3afd8870a2ab01919d8a97581405", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/eb7009fc899f3afd8870a2ab01919d8a97581405", "committedDate": "2020-03-20T20:46:32Z", "message": "feature: Working progress bars for uploads"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f54b2a26b905aa474583a15ce73973b8d965e2b8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f54b2a26b905aa474583a15ce73973b8d965e2b8", "committedDate": "2020-03-23T10:29:56Z", "message": "styles: Updated position of buttons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8a028058d95cb63b5c20214b501caab134e719d", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e8a028058d95cb63b5c20214b501caab134e719d", "committedDate": "2020-03-23T11:57:40Z", "message": "fix: Updated JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95cf2bdaac4b4058c135f4382d2294256ed3132c", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/95cf2bdaac4b4058c135f4382d2294256ed3132c", "committedDate": "2020-03-23T13:55:48Z", "message": "test: Updated tests for assembly files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02bb3a293ace74d8a2c95ea4359904d32c25bff0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/02bb3a293ace74d8a2c95ea4359904d32c25bff0", "committedDate": "2020-03-23T14:08:54Z", "message": "chore: Updated changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8e72599a08998b1e8bb304c75790541cbbe557b", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/a8e72599a08998b1e8bb304c75790541cbbe557b", "committedDate": "2020-03-24T00:27:15Z", "message": "feature: Working cancelling of upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee9d853d05ef0048b7074d5902a2aebb06c2a863", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ee9d853d05ef0048b7074d5902a2aebb06c2a863", "committedDate": "2020-03-24T16:06:04Z", "message": "Disable uploads after starting the upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b04bdf80175c9f8abed63e2a8846ed60c5780ec4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b04bdf80175c9f8abed63e2a8846ed60c5780ec4", "committedDate": "2020-03-24T16:26:24Z", "message": "Removed logging statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2ca38bd17af2bfa79bf84598f6fedfc7dec1f41", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b2ca38bd17af2bfa79bf84598f6fedfc7dec1f41", "committedDate": "2020-03-25T10:21:27Z", "message": "Update JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4bc9ae1c07f02e00fd15048288420714edde660", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e4bc9ae1c07f02e00fd15048288420714edde660", "committedDate": "2020-03-25T12:03:11Z", "message": "test: Added check to ensure page translations were being loaded"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMjI2Nzcz", "url": "https://github.com/phac-nml/irida/pull/636#pullrequestreview-381226773", "createdAt": "2020-03-25T14:53:32Z", "commit": {"oid": "e4bc9ae1c07f02e00fd15048288420714edde660"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNDo1MzozMlrOF7e_OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNDo1MzozMlrOF7e_OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkxODAwOQ==", "bodyText": "Can we have a full variable name here instead of a shorthand?", "url": "https://github.com/phac-nml/irida/pull/636#discussion_r397918009", "createdAt": "2020-03-25T14:53:32Z", "author": {"login": "tom114"}, "path": "src/main/webapp/pages/samples/sample_files.html", "diffHunk": "@@ -6,64 +6,18 @@\n \t<title th:text=\"#{samples.files.title(${sample.label})}\">THIS IS SOMETHING WRONG</title>\n \t<link rel=\"stylesheet\" th:href=\"@{/dist/css/sample-files.bundle.css}\">\n \t<script th:inline=\"javascript\">\n-\t\tvar PAGE = {\n-\t\t\tsample: {\n-\t\t\t\tid: /*[[${sample.getId()}]]*/ '1'\n-\t\t\t},\n-\t\t  \tURLS: {\n-\t\t\t  upload: /*[[@{/samples/{id}/sequenceFiles/upload(id=${sample.getId()})}]]*/ ''\n-\t\t\t}\n+\t\twindow.PAGE = {\n+\t\t\tid: /*[[${sample.getId()}]]*/ '1',\n+\t\t\t__cm: /*[[${canManageSample}]]*/ false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4bc9ae1c07f02e00fd15048288420714edde660"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04268527dff0a100f5ec09049219afb7e5627f68", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/04268527dff0a100f5ec09049219afb7e5627f68", "committedDate": "2020-03-25T15:38:14Z", "message": "Updated canManage variable name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0911f32c5c99e4826cd1073940fdc864321a7bb", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f0911f32c5c99e4826cd1073940fdc864321a7bb", "committedDate": "2020-03-25T15:57:15Z", "message": "Remove close icon from notification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb3543fdcc8761285bd070122ea93806e7c54570", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/fb3543fdcc8761285bd070122ea93806e7c54570", "committedDate": "2020-03-25T16:01:14Z", "message": "Updated broken internationalization test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34fc3188245e53353362ecdcc8a0ed6a5cb56f89", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/34fc3188245e53353362ecdcc8a0ed6a5cb56f89", "committedDate": "2020-03-25T17:48:18Z", "message": "Merge branch 'development' into ui-assembly-uploads\n\n# Conflicts:\n#\tCHANGELOG.md\n#\tsrc/main/webapp/resources/js/pages/samples/sample-files.js"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6ad280e45424fbbf4a497339e3e1588406c80c8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/c6ad280e45424fbbf4a497339e3e1588406c80c8", "committedDate": "2020-03-25T19:22:21Z", "message": "Working confirm if user tries to leave during upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02861487e2b76ce5bea36f64c3e31fced09eb010", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/02861487e2b76ce5bea36f64c3e31fced09eb010", "committedDate": "2020-03-25T19:39:26Z", "message": "Working tests and upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3ad19ce41083ccb682b78d5da9e9de47abf0d36", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d3ad19ce41083ccb682b78d5da9e9de47abf0d36", "committedDate": "2020-03-25T19:41:04Z", "message": "Internationalizes warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e310fc9ebc8d5d66151838457a22016a3a30e2c0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e310fc9ebc8d5d66151838457a22016a3a30e2c0", "committedDate": "2020-03-25T19:43:08Z", "message": "Comments and removed logging statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f00f82097c832549daae9332041b64c25a8e7ec5", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f00f82097c832549daae9332041b64c25a8e7ec5", "committedDate": "2020-03-30T11:23:33Z", "message": "Merge branch 'development' into ui-assembly-uploads"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7a3c14510845fd35b347ec65e5051877d85e638", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/c7a3c14510845fd35b347ec65e5051877d85e638", "committedDate": "2020-03-30T12:28:18Z", "message": "\ud83d\udc84\ufe0fFixed styles on progress and cancel file upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "134093c02d2f9fe2dd24db8a078b89c1545b4596", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/134093c02d2f9fe2dd24db8a078b89c1545b4596", "committedDate": "2020-03-30T12:49:41Z", "message": "Cleaned up cancel icon and adjusted layout of notification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f137bd9629d01452dbaed6ae704654427a81d242", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f137bd9629d01452dbaed6ae704654427a81d242", "committedDate": "2020-03-30T13:00:20Z", "message": "Uploaded documentation to include assemblies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc1ceb70d83135c2191ddd4f2103ed20b4a01aa3", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/bc1ceb70d83135c2191ddd4f2103ed20b4a01aa3", "committedDate": "2020-03-30T13:37:35Z", "message": "Merge remote-tracking branch 'origin/upload-assemblies' into ui-assembly-uploads"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODgxMDk2", "url": "https://github.com/phac-nml/irida/pull/636#pullrequestreview-383881096", "createdAt": "2020-03-30T13:57:53Z", "commit": {"oid": "bc1ceb70d83135c2191ddd4f2103ed20b4a01aa3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzo1Nzo1M1rOF9rDCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTozMjo1N1rOF9vmRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIxMjc0NQ==", "bodyText": "Comments for what this file is for please.", "url": "https://github.com/phac-nml/irida/pull/636#discussion_r400212745", "createdAt": "2020-03-30T13:57:53Z", "author": {"login": "tom114"}, "path": "src/main/webapp/resources/js/components/MenuBar.jsx", "diffHunk": "@@ -0,0 +1,6 @@\n+import React from \"react\";\n+import { SPACE_XS } from \"../styles/spacing\";\n+\n+export function MenuBar({ children }) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc1ceb70d83135c2191ddd4f2103ed20b4a01aa3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDI4NzMwMQ==", "bodyText": "Concatenate files image below here is still the old style.", "url": "https://github.com/phac-nml/irida/pull/636#discussion_r400287301", "createdAt": "2020-03-30T15:32:57Z", "author": {"login": "tom114"}, "path": "doc/_includes/tutorials/common/uploading-sample-files.md", "diffHunk": "@@ -1,11 +1,17 @@\n-Sequence files can be uploaded by clicking on the \"Upload Sequence Files\" button, on the left hand side side of the sequence file table.  Files must have the extension `.fastq` or `.fastq.gz`, all other formats will be ignored.\n+### Sequence Files\n+\n+Sequence files can be uploaded by hovering over the \"Upload Files\" above the sequence file table, and select the \"Upload Sequence Files\" drop down option. Files must have the extension `.fastq` or `.fastq.gz`, all other formats will be ignored.\n \n ![Upload sequence file.]({{ site.baseurl }}/images/tutorials/common/samples/upload-sample-file-btn.png)\n \n-You can select single or multiple files in the system file selection window.\n+You can select single or multiple files in the system file selection window.  If you are uploading paired end data, ensure they are selected in the same upload.\n \n-![Upload File Selection.]({{ site.baseurl }}/images/tutorials/common/samples/upload-sample-file-selection.png)\n+![Cancel upload]({{ site.baseurl }}/images/tutorials/common/samples/upload-sample-progress-cancel.png)\n \n-Files will upload immediately and a progress bar will be displayed.  If you need to cancel an upload click the <img class=\"inline\" src=\"{{ site.baseurl }}/images/tutorials/common/samples/upload-sample-cancel-btn.png\" alt=\"Cancel Upload Button\" /> button.\n+Files will upload will begin immediately.  A notification will open in the bottom right corner of the screen displaying the status of the upload.  If you need to cancel an upload click the <img class=\"inline\" src=\"{{ site.baseurl }}/images/tutorials/common/samples/upload-sample-cancel-btn.png\" alt=\"Cancel Upload Button\" /> button.  **Do not leave or refresh the page as this will cancel the upload**, a warning will be display if you attempt to do this.\n \n-![Cancel upload]({{ site.baseurl }}/images/tutorials/common/samples/upload-sample-progress-cancel.png)\n+### Assembly Files\n+\n+Assembly files can be uploading the same way as sequence files, using the \"Upload Files\" drop down above the sequence files table.  Select the \"Upload Assembly\" drop down option.  Assembly files must have the extension `.fasta` or `.fna`, all other formats will be ignored.\n+\n+![Upload assembly.]({{ site.baseurl }}/images/tutorials/common/samples/upload-assembly.png)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc1ceb70d83135c2191ddd4f2103ed20b4a01aa3"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ade001fd243872c437de97f05fa4a8681b7f892c", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ade001fd243872c437de97f05fa4a8681b7f892c", "committedDate": "2020-03-30T16:20:01Z", "message": "Update JSDoc for MenuBar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7be5124f282eee310baffc0bffe627033cfcc86", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d7be5124f282eee310baffc0bffe627033cfcc86", "committedDate": "2020-03-30T16:24:45Z", "message": "Updated concatenate image"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTg1NTg0", "url": "https://github.com/phac-nml/irida/pull/636#pullrequestreview-385585584", "createdAt": "2020-04-01T13:29:49Z", "commit": {"oid": "d7be5124f282eee310baffc0bffe627033cfcc86"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 207, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}