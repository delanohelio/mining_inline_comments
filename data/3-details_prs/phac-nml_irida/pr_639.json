{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0OTA5NDk0", "number": 639, "title": "Configurable login page ", "bodyText": "Description of changes\n\nUpdated default login page to use Ant Design\nCreated ability to have custom login page\n\n\n Location of login page can be on the file system, set in the configuration file.\n Login page must include links to the  css and js links\n Added developer docs on how to create custom login page\n\nRelated issue\nRelated to #423\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-03-27T18:30:55Z", "url": "https://github.com/phac-nml/irida/pull/639", "merged": true, "mergeCommit": {"oid": "54762f715ef6e626f9479b05e133e8ecc14949df"}, "closed": true, "closedAt": "2020-04-08T13:29:59Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 44, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRxzQsAH2gAyMzk0OTA5NDk0OmU3MjljN2E3NWI5ZjUzNzk2Njk0NjNiOTM1ODg0NWI2OTVkZGI0NjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVn7dUAFqTM4OTk3NDQ2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e729c7a75b9f5379669463b9358845b695ddb464", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e729c7a75b9f5379669463b9358845b695ddb464", "committedDate": "2020-03-27T14:44:08Z", "message": "Allow UI templates to be loaded from file system\n\nThis will allow developers to override default IRIDA pages by putting the template into a file system directory of their choosing."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d07425ccead9d8e0344f4df98f2684ccfd537db", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3d07425ccead9d8e0344f4df98f2684ccfd537db", "committedDate": "2020-03-27T15:31:45Z", "message": "Basic layout of login form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a95df79c9225e223ee644fbf35ed336ac2069574", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/a95df79c9225e223ee644fbf35ed336ac2069574", "committedDate": "2020-03-27T15:36:25Z", "message": "Basic layout of login form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c780e4b85fa60d6c0630f3179baaa56c703aaa62", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/c780e4b85fa60d6c0630f3179baaa56c703aaa62", "committedDate": "2020-03-27T16:31:34Z", "message": "Updated login page UI working with logos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a79dd4dfe3b52b881c8c8ae8a17776f394b9d5f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/7a79dd4dfe3b52b881c8c8ae8a17776f394b9d5f", "committedDate": "2020-03-27T18:25:35Z", "message": "Updated testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "106b78ed3e5edb8c7593c9fd0769e98f7cd7d9fb", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/106b78ed3e5edb8c7593c9fd0769e98f7cd7d9fb", "committedDate": "2020-03-29T00:16:50Z", "message": "Merge branch 'development' into ant-design-login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbbcfebe4321bf76e0ad74f1682f6c02abdf28f4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/cbbcfebe4321bf76e0ad74f1682f6c02abdf28f4", "committedDate": "2020-03-31T18:34:49Z", "message": "Updated user documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f4449dca6fa9a0efc19dd6880ce9be9d8253ee0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/6f4449dca6fa9a0efc19dd6880ce9be9d8253ee0", "committedDate": "2020-04-01T03:18:07Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f6c81a70c12f8a90ea2778565eda85574d9c5ad", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/9f6c81a70c12f8a90ea2778565eda85574d9c5ad", "committedDate": "2020-04-01T13:10:40Z", "message": "Documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f7d79b5293bcdc00e91fd134bde3ae819225e7f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/9f7d79b5293bcdc00e91fd134bde3ae819225e7f", "committedDate": "2020-04-01T13:16:31Z", "message": "Trying to get template to load"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b30e1e52206f1737c3e24ecef068a13f3c98e96", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/4b30e1e52206f1737c3e24ecef068a13f3c98e96", "committedDate": "2020-04-01T14:10:51Z", "message": "Make resolves default ITemplateResolvers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d358b51ce19ba77d75564602424b8af40c748274", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d358b51ce19ba77d75564602424b8af40c748274", "committedDate": "2020-04-01T15:44:00Z", "message": "Merge branch 'development' into ant-design-login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58e65dd45b9ece101d7df904464495b8ab2b2a4f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/58e65dd45b9ece101d7df904464495b8ab2b2a4f", "committedDate": "2020-04-01T19:20:15Z", "message": "Updated developer docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cfa69a551d27bb0bdcc0d88fde56bc48a3d2bd6", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5cfa69a551d27bb0bdcc0d88fde56bc48a3d2bd6", "committedDate": "2020-04-01T19:20:36Z", "message": "Merge branch 'development' into ant-design-login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8c23fe45756e5ab93967ee5336793d93de978ce", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e8c23fe45756e5ab93967ee5336793d93de978ce", "committedDate": "2020-04-02T02:25:50Z", "message": "Merge branch 'development' into ant-design-login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/24e381330e4b1be216ecc238a37814bf1e662f25", "committedDate": "2020-04-02T02:26:47Z", "message": "\ud83d\udcd6\ufe0f Updated CHANGELOG.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MzA1Mjgy", "url": "https://github.com/phac-nml/irida/pull/639#pullrequestreview-388305282", "createdAt": "2020-04-06T14:27:56Z", "commit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDoyNzo1N1rOGBacwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNjowMjo0NVrOGBe5Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA==", "bodyText": "Any reason they would want to have a different template location?  If not I'd prefer it's just hardcoded to /etc/irida/templates for now.  That's where all the rest of the irida config stuff resides.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135104", "createdAt": "2020-04-06T14:27:57Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTY1NA==", "bodyText": "Reword please.  \"... can be easily rendered on and DOM node.\"", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135654", "createdAt": "2020-04-06T14:28:36Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA==", "bodyText": "Can you add a full example template file to the repo somewhere?  In the docs somewhere is fine.  Just something maybe with an example header, footer, main section, and the login form?\n\n  \n    Header\n  \n  \n    Institutional info\n    Login\n  \n  \n    Footer\n  \n\nSimilar to what you have in the image below?  That way they have something to start from.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404142550", "createdAt": "2020-04-06T14:37:19Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MzIyMA==", "bodyText": "With lots of commenting in the file as well please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404143220", "createdAt": "2020-04-06T14:38:09Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0ODYzMw==", "bodyText": "Comment please", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404148633", "createdAt": "2020-04-06T14:45:13Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -145,29 +145,55 @@ public void addViewControllers(ViewControllerRegistry registry) {\n \t\t\t\t.setViewName(\"projects/templates/referenceFiles/delete\");\n \t}\n \n+\tprivate ITemplateResolver internalTemplateResolver(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1MTI3Nw==", "bodyText": "Remove the old login page entries if they're unused please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404151277", "createdAt": "2020-04-06T14:48:32Z", "author": {"login": "tom114"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -41,6 +40,21 @@ bc.automated-outputs=Automated Single Sample Analysis Outputs\n bc.metadata-templates=Sample Metadata Templates\n bc.delete=Delete Project\n \n+\n+# ========================================================================================== #\n+# LOGIN PAGE                                                                                 #\n+# ========================================================================================== #\n+LoginPage.username=Username", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1NjMxNA==", "bodyText": "Comments in this file please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404156314", "createdAt": "2020-04-06T14:54:47Z", "author": {"login": "tom114"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE4NjQyNQ==", "bodyText": "Can we focus the page on the username field on page load please?", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404186425", "createdAt": "2020-04-06T15:33:56Z", "author": {"login": "tom114"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {\n+  const [form] = Form.useForm();\n+\n+  const onFinish = () => document.getElementById(\"loginForm\").submit();\n+\n+  return (\n+    <Form\n+      form={form}\n+      onFinish={onFinish}\n+      name=\"loginForm\"\n+      action={setBaseUrl(`/login`)}\n+      method=\"POST\"\n+      size=\"large\"\n+    >\n+      <Item\n+        rules={[\n+          {\n+            required: true,\n+            message: i18n(\"LoginPage.username.required\")\n+          }\n+        ]}\n+      >\n+        <Input name=\"username\" prefix={<IconUser style={{ color: blue6 }} />} />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNjg4NA==", "bodyText": "I'm not really sure what this is for.  Is it for if they want to completely re-write the login form rather than use the <div id=\"login-root\"></div> section?  If so that needs more detail please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404206884", "createdAt": "2020-04-06T16:01:18Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>\n+  </body>\n+</html>\n+```\n+\n+ * CSS and JS links are required.  This will include all `React` and styles required.  the `th:` is for our server templating language Thymeleaf to set the url's properly.\n+ * `BASE_URL` is required by the script file in order to properly set the servlet context for the current installation.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+\n+#### Example of Custom login page\n+\n+![Custom Login Page](images/irida-custom-login.png)\n+\n+### Create a custom login form\n+\n+Login form basic skeleton:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNzkxMQ==", "bodyText": "Are they able to add their own JS/CSS/image resources to be displayed in this page as well?  If so how are they configured and served?", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404207911", "createdAt": "2020-04-06T16:02:45Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2288ee32d326671d2956fe093660b433d82c904", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d2288ee32d326671d2956fe093660b433d82c904", "committedDate": "2020-04-06T17:27:27Z", "message": "\ud83d\udea7 Hard coded the path the the templates directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f485c3e133e712be832a9989c58a27ad7275a11", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/7f485c3e133e712be832a9989c58a27ad7275a11", "committedDate": "2020-04-06T17:41:57Z", "message": "\ud83d\udcd6\ufe0f Update documentation wording"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0810eebc4de3a0b2848ab82589398c738125ad4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b0810eebc4de3a0b2848ab82589398c738125ad4", "committedDate": "2020-04-06T19:12:50Z", "message": "\ud83d\udcd6\ufe0f Updated custom image and included code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0274552fad93d381478b81249a221fcf912b700", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b0274552fad93d381478b81249a221fcf912b700", "committedDate": "2020-04-06T23:58:37Z", "message": "\ud83d\udcd6\ufe0f Added example custom login page."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fada17fae4b0295b9854d7c7c771838a68333a8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3fada17fae4b0295b9854d7c7c771838a68333a8", "committedDate": "2020-04-07T02:04:44Z", "message": "\ud83d\udea7 Updated JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66c29ec3ce6805dc3d74f53579ae6fdbaa3b15b4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/66c29ec3ce6805dc3d74f53579ae6fdbaa3b15b4", "committedDate": "2020-04-07T02:07:56Z", "message": "Updated internationalizations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6b4ea1f4aa4d44528b49ecfbb56cd3c270213ae", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f6b4ea1f4aa4d44528b49ecfbb56cd3c270213ae", "committedDate": "2020-04-07T02:54:35Z", "message": "\ud83d\udea7 Update code comments and added focus to username when mounted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "169dd1396a046e4bfd0079d5c6672be5088d722f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/169dd1396a046e4bfd0079d5c6672be5088d722f", "committedDate": "2020-04-07T10:02:47Z", "message": "\ud83d\udcd6\ufe0f Updated description of a fully custom login form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a0eb660bc720bca96ec3c70e1f70e5c5da08c17", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3a0eb660bc720bca96ec3c70e1f70e5c5da08c17", "committedDate": "2020-04-07T10:06:58Z", "message": "\ud83d\udcd6\ufe0f Added documentation on adding custom scripts and styles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80675d907bf6e1897b8e2f1889d2414bb9a9111", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f80675d907bf6e1897b8e2f1889d2414bb9a9111", "committedDate": "2020-04-07T10:39:51Z", "message": "Merge branch 'development' into ant-design-login\n\n# Conflicts:\n#\tCHANGELOG.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96d9a366ebbc4d556799f94ba2831976f8da2e46", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/96d9a366ebbc4d556799f94ba2831976f8da2e46", "committedDate": "2020-04-07T10:40:27Z", "message": "Updated yarn.lock after merging dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90e6802735f3e6cc7784156a72b8ac2d9e9bfaa2", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/90e6802735f3e6cc7784156a72b8ac2d9e9bfaa2", "committedDate": "2020-04-07T13:26:13Z", "message": "added a /static endpoint where installations can add custom resources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49a3e4152ae7a11c547604d06ff834567f544c5f", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/49a3e4152ae7a11c547604d06ff834567f544c5f", "committedDate": "2020-04-07T13:45:01Z", "message": "added more comments about static page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cfbb7ce2901abb27afcf71aee74f45db442077d", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/1cfbb7ce2901abb27afcf71aee74f45db442077d", "committedDate": "2020-04-07T14:14:07Z", "message": "Merge pull request #647 from tom114/login-static-resources\n\n/static endpoint for customizing brand"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b", "committedDate": "2020-04-07T14:49:56Z", "message": "\ud83d\udcd6\ufe0f Updated documentation on static resources."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02a74bd3ca024697402d0bc8a36154b48f489fdb", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/02a74bd3ca024697402d0bc8a36154b48f489fdb", "committedDate": "2020-04-07T15:14:01Z", "message": "Fixed styles on password reset page."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MjQ0NDg5", "url": "https://github.com/phac-nml/irida/pull/639#pullrequestreview-389244489", "createdAt": "2020-04-07T15:41:00Z", "commit": {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNTo0MTowMFrOGCJzNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNTo0MTowMFrOGCJzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkxMDkwMw==", "bodyText": "Can we change this to Adding custom resources?\nAlso add some about adding images in here as well.  It'll likely be one of the biggest uses of this feature.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404910903", "createdAt": "2020-04-07T15:41:00Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,92 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system, and save it to the path `/etc/irida/templates/`;\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be added to any template by adding:\n+\n+ * CSS (`/dist/css/login.bundle.css`) and JS (`/dist/js/login.bundle.js`) files.\n+ * A `head` > `script` tag with a global `PAGE` variable containing: `BASE_URL: /*[[@{\"/\"}]]*/ \"/\"` as an attribute.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+ \n+#### Adding custom script", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a8e711a72be7eaa4dda707e1a604f9e0dbbb6fa", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/7a8e711a72be7eaa4dda707e1a604f9e0dbbb6fa", "committedDate": "2020-04-07T15:53:30Z", "message": "\ud83d\udcd6\ufe0f Update wording for adding custom resources."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99930029eceec33d22775645e7f63356e8f40eed", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/99930029eceec33d22775645e7f63356e8f40eed", "committedDate": "2020-04-07T15:58:02Z", "message": "Added better description for images"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "049eb1dd821c560e09e814621009f248c6d01c87", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/049eb1dd821c560e09e814621009f248c6d01c87", "committedDate": "2020-04-07T16:04:02Z", "message": "\ud83d\udcd6\ufe0f Fixed formatting of thymeleaf attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28145ddfec4d4e70003a3976e89f3613fd40b44f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/28145ddfec4d4e70003a3976e89f3613fd40b44f", "committedDate": "2020-04-07T18:41:14Z", "message": "Fixed displaying errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12e9af73d10fac7aa67b962efb07727e6ff959ac", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/12e9af73d10fac7aa67b962efb07727e6ff959ac", "committedDate": "2020-04-07T18:47:34Z", "message": "added basic example login pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fb1f5e75bb1c5cf739bf29f73d063d6507fb3e7", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/8fb1f5e75bb1c5cf739bf29f73d063d6507fb3e7", "committedDate": "2020-04-07T18:58:36Z", "message": "removed hasError from the basic login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5efed4521810acfbcef179aa31382dda4be2a9b8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5efed4521810acfbcef179aa31382dda4be2a9b8", "committedDate": "2020-04-07T20:02:48Z", "message": "\ud83d\udea7 Fixed login issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e3f7d431d1a22f914e7ae1662308f7cac364ef6", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2e3f7d431d1a22f914e7ae1662308f7cac364ef6", "committedDate": "2020-04-07T20:06:03Z", "message": "Merge pull request #648 from tom114/basic-custom-login\n\nBasic custom login"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f946885e8d806bbe56b0aeb6d6eca6516edd76d", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3f946885e8d806bbe56b0aeb6d6eca6516edd76d", "committedDate": "2020-04-07T20:09:27Z", "message": "Merge branch 'development' into ant-design-login"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTc0NDY4", "url": "https://github.com/phac-nml/irida/pull/639#pullrequestreview-389974468", "createdAt": "2020-04-08T13:29:44Z", "commit": {"oid": "3f946885e8d806bbe56b0aeb6d6eca6516edd76d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 215, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}