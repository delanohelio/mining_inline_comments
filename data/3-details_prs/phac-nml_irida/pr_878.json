{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNDQwMzUx", "number": 878, "title": "Fixing adding samples to the cart", "bodyText": "Description of changes\nCurrently broken.  The UI is expecting a response that contains an object that has messages about the status of the cart, when I refactored it, I only returned the number of samples in the cart.\nRelated issue\nLink to the GitHub issue this pull request addresses using the #issuenum format.  If it completes an issue, use Fixes #issuenum to automatically close the issue.\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-12-01T16:53:32Z", "url": "https://github.com/phac-nml/irida/pull/878", "merged": true, "mergeCommit": {"oid": "95e5236c9a16fd00fb97bfa448f1df80715d6a35"}, "closed": true, "closedAt": "2020-12-04T19:51:38Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhsb5nAH2gAyNTMwNDQwMzUxOjA4ODI2ZDRlOTllNzk2N2I0MWVkNzYwYzg2ZjI2ZTE4MTI5ZWRiODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi9PKjAFqTU0NTI1Mjg1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "08826d4e99e7967b41ed760c86f26e18129edb89", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/08826d4e99e7967b41ed760c86f26e18129edb89", "committedDate": "2020-11-30T21:43:02Z", "message": "Fixing messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b829a4d8dfbb1982b6cc4fecc256a3c31a933f96", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b829a4d8dfbb1982b6cc4fecc256a3c31a933f96", "committedDate": "2020-12-01T16:10:18Z", "message": "fix: correctly updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3e078499de7df4791cd6ef6c1c1465354ccd924", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f3e078499de7df4791cd6ef6c1c1465354ccd924", "committedDate": "2020-12-01T16:11:04Z", "message": "fix: correctly updates the cart and displays a message\n\nMessage for how many were added and how many already exist in the cart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a41f9e52ddb856443d6c7b8ce9f14bf70fccc9bd", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/a41f9e52ddb856443d6c7b8ce9f14bf70fccc9bd", "committedDate": "2020-12-01T19:26:46Z", "message": "Update to ensure that no duplicate names are in the cart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2df39f16f95e1bc1b57893979bc709d4a95b59cb", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2df39f16f95e1bc1b57893979bc709d4a95b59cb", "committedDate": "2020-12-02T11:11:31Z", "message": "Cleaned up JavaDoc and remove unused method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3af3443521efbe9adb8e74a82418a2389a4f1a0e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3af3443521efbe9adb8e74a82418a2389a4f1a0e", "committedDate": "2020-12-02T19:08:34Z", "message": "Merge branch 'development' into fix-adding-samples-response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69a7cd042d15fefa9e40aff267f26a5410c9d9fa", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/69a7cd042d15fefa9e40aff267f26a5410c9d9fa", "committedDate": "2020-12-03T13:25:58Z", "message": "Cleaning up cart service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c8c2902e49ffa58ae3b7110fc718d10def84a2", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/82c8c2902e49ffa58ae3b7110fc718d10def84a2", "committedDate": "2020-12-03T15:53:10Z", "message": "Fixed issue with samples repeatedly showing in the cart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e64845d5f52ebaa690b2a71f0a90b07ea1661ff1", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e64845d5f52ebaa690b2a71f0a90b07ea1661ff1", "committedDate": "2020-12-03T15:59:03Z", "message": "Update JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42f2044042c7cf54419ef272af62a2b8cae67ea9", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/42f2044042c7cf54419ef272af62a2b8cae67ea9", "committedDate": "2020-12-03T16:08:04Z", "message": "Fixed JavaDoc param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzMDI1NTg2", "url": "https://github.com/phac-nml/irida/pull/878#pullrequestreview-543025586", "createdAt": "2020-12-02T16:39:09Z", "commit": {"oid": "2df39f16f95e1bc1b57893979bc709d4a95b59cb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNjozOTowOVrOH9j7Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxODo0Nzo0OFrOH-r2WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMxMzc4Nw==", "bodyText": "Typo", "url": "https://github.com/phac-nml/irida/pull/878#discussion_r534313787", "createdAt": "2020-12-02T16:39:09Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UICartService.java", "diffHunk": "@@ -59,11 +132,13 @@ public void emptyCart() {\n \t/**\n \t * Remove a specific sample from the cart.\n \t *\n-\t * @param request Information about the samplet o remove from the cart\n+\t * @param request Information about the sample o remove from the cart", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2df39f16f95e1bc1b57893979bc709d4a95b59cb"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTQ5MjE4NA==", "bodyText": "Add a response to the UI to display a notification that a sample was removed and also if a project is removed from the cart", "url": "https://github.com/phac-nml/irida/pull/878#discussion_r535492184", "createdAt": "2020-12-03T18:47:48Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/CartAjaxController.java", "diffHunk": "@@ -51,9 +54,9 @@ public CartAjaxController(UICartService service) {\n \t * @param request Request to move a sample from the cart\n \t * @return the number of samples currently in the cart\n \t */\n-\t@DeleteMapping(\"/sample\")\n-\tpublic ResponseEntity<Integer> removeSample(@RequestBody RemoveSampleRequest request) {\n-\t\treturn ResponseEntity.ok(service.removeSample(request));\n+\t@DeleteMapping(\"/sample/{sampleId}\")\n+\tpublic ResponseEntity<Integer> removeSample(@PathVariable Long sampleId) {\n+\t\treturn ResponseEntity.ok(service.removeSample(sampleId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82c8c2902e49ffa58ae3b7110fc718d10def84a2"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecbbb2a2ee779cdc9ae8173c36348ecc6dbff004", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ecbbb2a2ee779cdc9ae8173c36348ecc6dbff004", "committedDate": "2020-12-04T13:43:56Z", "message": "Added notifications for adding and removing samples\n\nRefactored how messages are displayed to the user through the cart."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d23055d06a4ddf3412b2a524de1b842a940c6a45", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d23055d06a4ddf3412b2a524de1b842a940c6a45", "committedDate": "2020-12-04T13:45:11Z", "message": "Removed unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b85ee12847a9271bbd48a534a5083b3cba81705c", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b85ee12847a9271bbd48a534a5083b3cba81705c", "committedDate": "2020-12-04T15:00:10Z", "message": "Fixed typo in JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec0b0c103dfd7bee2fccebdfa3909d53a05e6062", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ec0b0c103dfd7bee2fccebdfa3909d53a05e6062", "committedDate": "2020-12-04T16:25:33Z", "message": "Fixed JavaDoc errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce396eb84afa74fb0e3b4e45df0b3b35e0a7ca63", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ce396eb84afa74fb0e3b4e45df0b3b35e0a7ca63", "committedDate": "2020-12-04T18:02:48Z", "message": "Updated JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70130660cc6ab5b8da58c53501cad70fa6ee56ec", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/70130660cc6ab5b8da58c53501cad70fa6ee56ec", "committedDate": "2020-12-04T18:09:35Z", "message": "Updated JavaDoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MjUyODU5", "url": "https://github.com/phac-nml/irida/pull/878#pullrequestreview-545252859", "createdAt": "2020-12-04T19:51:26Z", "commit": {"oid": "70130660cc6ab5b8da58c53501cad70fa6ee56ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4985, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}