{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMzYyODg2", "number": 862, "title": "Main navigation upgrade to Ant Design", "bodyText": "Description of changes\n\nUpdate main navigation to use Ant Design.  In the process I added the ability to customize any Ant Design properties found in the custom variables less file.  To do this just take the less variable e.g. @primary-color remove the @ and prepend styles.ant. to it --> styles.ant.primary-color and add it either to /etc/irida/irida.conf file or to src/main/resources/configuration.properties.  Light or dark themes can also be set by setting styles.theme= to either light or dark.\nE.g. Adding:\nstyles.ant.primary-color=#eb2f96\nstyles.ant.info-color=#1890ff\nstyles.ant.link-color=#1890ff\nstyles.ant.font-size-base=14px\nstyles.ant.border-radius-base=10px\n\nWill result in IRIDA looking like:\n\nRelated issue\nN/A\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-11-18T17:44:16Z", "url": "https://github.com/phac-nml/irida/pull/862", "merged": true, "mergeCommit": {"oid": "54ffaedd250f970167e1f90c2ef2b62838a155bd"}, "closed": true, "closedAt": "2020-12-24T20:00:27Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 46, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddsWewgH2gAyNTIzMzYyODg2OjkwZTNlOTMyNmY4YzhkODQyZGI3M2E4ZjExM2RmODdkM2Q1Y2Q3M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpYsjdgH2gAyNTIzMzYyODg2OjJiMThlZjk2NTY2YTA4ODc2MjFiYzkwZmQxMWEyNjI3YTIyNDlhYTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "90e3e9326f8c8d842db73a8f113df87d3d5cd73e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/90e3e9326f8c8d842db73a8f113df87d3d5cd73e", "committedDate": "2020-11-18T11:21:25Z", "message": "Initial work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9c6e681a090b6f42856d65edf474774f6f77dea", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/c9c6e681a090b6f42856d65edf474774f6f77dea", "committedDate": "2020-11-18T15:18:41Z", "message": "Awesome working nav"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e51348d57f87f787fdab63cce1790f2d32b4b70", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/0e51348d57f87f787fdab63cce1790f2d32b4b70", "committedDate": "2020-11-18T17:39:09Z", "message": "Fixed issue with line list not updating cart counts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "876e2a154b011149415d7ce81a8d83943e752b27", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/876e2a154b011149415d7ce81a8d83943e752b27", "committedDate": "2020-11-19T03:05:01Z", "message": "Darkened up the bottom border color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "778f6319101568f0d86e36a5101755aed82e9fae", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/778f6319101568f0d86e36a5101755aed82e9fae", "committedDate": "2020-11-19T03:16:15Z", "message": "Merge branch 'development' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "967b176b952747e2bd71b020466f16599b8b6f98", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/967b176b952747e2bd71b020466f16599b8b6f98", "committedDate": "2020-11-19T13:54:51Z", "message": "Fully configurable color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94387014bbe55fc6b1a9bf83818c1fea33a4d395", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/94387014bbe55fc6b1a9bf83818c1fea33a4d395", "committedDate": "2020-11-19T15:18:16Z", "message": "Updated the background color of user is the theme color and added username"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1edc4467c52503c8edaa90d3039243d8a4bbc72", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d1edc4467c52503c8edaa90d3039243d8a4bbc72", "committedDate": "2020-11-19T17:17:15Z", "message": "Configuration light and dark menu themes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deb7902fbde9330811f0638ee0a695e2e4735a02", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/deb7902fbde9330811f0638ee0a695e2e4735a02", "committedDate": "2020-11-19T20:02:37Z", "message": "Working using ant design theming :)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "573f12c20fd0b0775d9c8911cf7016b5ecdf4cb1", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/573f12c20fd0b0775d9c8911cf7016b5ecdf4cb1", "committedDate": "2020-11-19T20:03:09Z", "message": "Good light defaults"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60bac746f67968f100b4eb6458ea816923b3016a", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/60bac746f67968f100b4eb6458ea816923b3016a", "committedDate": "2020-11-23T01:28:22Z", "message": "Fixing issues around the new modifiable colour scheme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26edd80440c2d604c725197a276ccc2f305c5727", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/26edd80440c2d604c725197a276ccc2f305c5727", "committedDate": "2020-11-23T16:49:35Z", "message": "Merge branch 'development' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f7afefb2bbab86c39d4b9304c40b642a5c56c5", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e1f7afefb2bbab86c39d4b9304c40b642a5c56c5", "committedDate": "2020-11-23T17:03:54Z", "message": "Changed what where to get the current count for testing."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bee2e215d89bbdc9dfd182070141c9f7a9cf9409", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/bee2e215d89bbdc9dfd182070141c9f7a9cf9409", "committedDate": "2020-11-24T10:51:30Z", "message": "Only keep bare theme and primary colour in configuration.properties\n\nStore all others in /etc/irida/irida.conf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f869f46b72ffffc7f5c1a29993cf0253ef04f9b2", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f869f46b72ffffc7f5c1a29993cf0253ef04f9b2", "committedDate": "2020-11-24T10:51:59Z", "message": "Merge remote-tracking branch 'origin/main-navigation-upgrade' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6516d3ef113bb35bcee5fd199ab06d14ca3f036", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e6516d3ef113bb35bcee5fd199ab06d14ca3f036", "committedDate": "2020-11-25T11:51:51Z", "message": "Check to see what values are in which file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "877222309fb388fe322d7e2b4b7c0a7fde76f331", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/877222309fb388fe322d7e2b4b7c0a7fde76f331", "committedDate": "2020-11-25T13:32:38Z", "message": "Added some minimal default styles."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e45da7140f2a54b1f35610f2629c11ab3c73ac4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/6e45da7140f2a54b1f35610f2629c11ab3c73ac4", "committedDate": "2020-11-25T14:56:42Z", "message": "Playing with defaults"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "724c0c2ed06f9dd2d2ff8b7a67e0d8afcdd17af1", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/724c0c2ed06f9dd2d2ff8b7a67e0d8afcdd17af1", "committedDate": "2020-12-01T19:59:56Z", "message": "Merge branch 'development' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5326835846f3e019595f781b056243a2082b18", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2e5326835846f3e019595f781b056243a2082b18", "committedDate": "2020-12-03T16:11:09Z", "message": "Defaulted to a dark theme, cleaned up a bit around that\n\nMoved configuration into its own properties file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed6f73359ded8b9e007e0500ce6c50eff5ca7bd4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ed6f73359ded8b9e007e0500ce6c50eff5ca7bd4", "committedDate": "2020-12-03T16:11:31Z", "message": "Merge remote-tracking branch 'origin/main-navigation-upgrade' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aca0acd6f03852d6e86e2ef9027627c5fd97e62f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/aca0acd6f03852d6e86e2ef9027627c5fd97e62f", "committedDate": "2020-12-03T17:53:45Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "153e635255df2a4af0382bb13b982b1a7be6cfcd", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/153e635255df2a4af0382bb13b982b1a7be6cfcd", "committedDate": "2020-12-08T13:41:48Z", "message": "Sane dark default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98eaf0ea7c648e7a466f14788357e845a81b9245", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/98eaf0ea7c648e7a466f14788357e845a81b9245", "committedDate": "2020-12-16T11:10:21Z", "message": "Merge branch 'development' into main-navigation-upgrade\n\n# Conflicts:\n#\tsrc/main/webapp/resources/js/app.js\n#\tsrc/main/webapp/resources/js/redux/sagas/cart.js\n#\tsrc/main/webapp/yarn.lock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5861a15415efe36009adec7011408025362247e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e5861a15415efe36009adec7011408025362247e", "committedDate": "2020-12-16T11:50:52Z", "message": "Fixed issue with background colour of analysis queue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31dc6ab6a272193cbcb8cf4293a908ee8eca3b66", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/31dc6ab6a272193cbcb8cf4293a908ee8eca3b66", "committedDate": "2020-12-16T16:24:25Z", "message": "Updated initial nav images"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9582e361350ffd3ea048dc777c5941d72e126be8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/9582e361350ffd3ea048dc777c5941d72e126be8", "committedDate": "2020-12-16T16:46:37Z", "message": "Updated images on dashboard page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fc01f60ee01454ebe27be0aea0e4e5acab2cc03", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/8fc01f60ee01454ebe27be0aea0e4e5acab2cc03", "committedDate": "2020-12-17T12:58:41Z", "message": "Updated images for dashboard page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d43dd2b7a2e16088569b2dfc7e0f7541e132deb9", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d43dd2b7a2e16088569b2dfc7e0f7541e132deb9", "committedDate": "2020-12-17T20:02:56Z", "message": "Should not have been commiited"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f388dc212a86628c4018ad18a0051d1458551737", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/f388dc212a86628c4018ad18a0051d1458551737", "committedDate": "2020-12-21T13:08:44Z", "message": "Merge branch 'development' into main-navigation-upgrade"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b9d3ba08641ab5cfd53e5688c112d2709becfad", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3b9d3ba08641ab5cfd53e5688c112d2709becfad", "committedDate": "2020-12-21T13:42:08Z", "message": "Removed strict height setting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "173bde5068f310d107b34ddc9331643bf1fef6f9", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/173bde5068f310d107b34ddc9331643bf1fef6f9", "committedDate": "2020-12-21T14:08:24Z", "message": "Updated config JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a70ec8df1e9e3e5f314feeb73198ea9fddeec07", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5a70ec8df1e9e3e5f314feeb73198ea9fddeec07", "committedDate": "2020-12-21T18:46:58Z", "message": "Fixed issue with conflicting style names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44bc0a9146064267c68dbf575fe4f62e964b3d0d", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/44bc0a9146064267c68dbf575fe4f62e964b3d0d", "committedDate": "2020-12-21T20:39:47Z", "message": "Added missing class name to admin link"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cefe436ed9cea45306602dc537c43fe9eaac267f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/cefe436ed9cea45306602dc537c43fe9eaac267f", "committedDate": "2020-12-22T15:23:57Z", "message": "Added missing class for testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b724b6460b8958aa77d398533be0924cd42fc86", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2b724b6460b8958aa77d398533be0924cd42fc86", "committedDate": "2020-12-22T15:34:00Z", "message": "Removed testing for admin search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13cfbe439d641e0e2c55da7f15f817c19d197556", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/13cfbe439d641e0e2c55da7f15f817c19d197556", "committedDate": "2020-12-22T17:19:27Z", "message": "Fixed testing cart counts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1866d00eeace5035d4ccd1f9d960979407a17aa3", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/1866d00eeace5035d4ccd1f9d960979407a17aa3", "committedDate": "2020-12-22T17:23:51Z", "message": "Fixed issue with count not always set in nav bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/4a89f444dd318cdc9e0f644a853a35f63fb136cb", "committedDate": "2020-12-22T20:21:17Z", "message": "Updated screenshots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTM0NDcy", "url": "https://github.com/phac-nml/irida/pull/862#pullrequestreview-533934472", "createdAt": "2020-11-18T22:29:21Z", "commit": {"oid": "0e51348d57f87f787fdab63cce1790f2d32b4b70"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMjoyOToyMVrOH2E8Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxNzowODo1MlrOILNlWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ2NjA2Mg==", "bodyText": "I don't think the irida version should be a menu item. Even if it is disabled", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r526466062", "createdAt": "2020-11-18T22:29:21Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/components/Header/MainNavigation.jsx", "diffHunk": "@@ -0,0 +1,151 @@\n+import React from \"react\";\n+import { Badge, Button, Col, Form, Input, Menu, Row } from \"antd\";\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+import { grey3, grey6 } from \"../../styles/colors\";\n+import { SPACE_MD } from \"../../styles/spacing\";\n+import {\n+  IconQuestionCircle,\n+  IconSearch,\n+  IconShoppingCart,\n+  IconUser,\n+} from \"../icons/Icons\";\n+import { CartLink } from \"./main-navigation/components/CartLink\";\n+import { GlobalSearch } from \"./main-navigation/components/GlobalSearch\";\n+\n+export function MainNavigation() {\n+  const isAdmin = window.TL._USER.systemRole === \"ROLE_ADMIN\";\n+\n+  return (\n+    <Row\n+      style={{\n+        display: \"flex\",\n+        alignItems: \"center\",\n+        borderBottom: `2px solid ${grey3}`,\n+      }}\n+    >\n+      <Col md={10} sm={24}>\n+        <a href={setBaseUrl(\"/\")} style={{ padding: `0 ${SPACE_MD}` }}>\n+          <img\n+            style={{ height: 28 }}\n+            src={setBaseUrl(\"/resources/img/irida_logo_light.svg\")}\n+            alt={i18n(\"global.title\")}\n+          />\n+        </a>\n+        <Menu\n+          mode=\"horizontal\"\n+          style={{ display: \"inline-block\", borderBottom: \"none\" }}\n+        >\n+          <Menu.SubMenu key=\"projects\" title={i18n(\"nav.main.project\")}>\n+            <Menu.Item key=\"project:list\">\n+              <a href={setBaseUrl(\"/projects\")}>\n+                {i18n(\"nav.main.project-list\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/projects/all\")}>\n+                  {i18n(\"nav.main.project-list-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item key=\"project:sync\">\n+              <a href={setBaseUrl(\"/projects/synchronize\")}>\n+                {i18n(\"nav.main.project-sync\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+          <Menu.SubMenu title={i18n(\"nav.main.analysis\")}>\n+            <Menu.Item>\n+              <a href={setBaseUrl(`/analysis`)}>\n+                {i18n(\"nav.main.analysis-admin-user\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/analysis/all\")}>\n+                  {i18n(\"nav.main.analysis-admin-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item>\n+              <a href={setBaseUrl(\"/analysis/user/analysis-outputs\")}>\n+                {i18n(\"Analysis.outputFiles\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+        </Menu>\n+      </Col>\n+      <Col\n+        md={14}\n+        sm={24}\n+        style={{\n+          display: \"flex\",\n+          flexDirection: \"row-reverse\",\n+          alignItems: \"center\",\n+          width: `100%`,\n+        }}\n+      >\n+        <Menu\n+          mode=\"horizontal\"\n+          style={{\n+            display: \"inline-block\",\n+            borderBottom: \"none\",\n+          }}\n+        >\n+          <Menu.Item icon={<CartLink />} />\n+          {isAdmin && (\n+            <Menu.Item>\n+              <a href={setBaseUrl(\"/admin\")}>\n+                {i18n(\"MainNavigation.admin\").toUpperCase()}\n+              </a>\n+            </Menu.Item>\n+          )}\n+          <Menu.SubMenu title={<IconQuestionCircle />}>\n+            <Menu.ItemGroup title=\"Documentation\">\n+              <Menu.Item>\n+                <a\n+                  href=\"https://irida.corefacility.ca/documentation/user/user\"\n+                  target=\"_blank\"\n+                >\n+                  {i18n(\"nav.main.userguide\")}\n+                </a>\n+              </Menu.Item>\n+              {isAdmin && (\n+                <Menu.Item>\n+                  <a href=\"https://irida.corefacility.ca/documentation/user/administrator\">\n+                    {i18n(\"nav.main.adminguide\")}\n+                  </a>\n+                </Menu.Item>\n+              )}\n+            </Menu.ItemGroup>\n+            <Menu.Divider />\n+            <Menu.Item>\n+              <a\n+                href=\"http://www.irida.ca\"\n+                target=\"_blank\"\n+                rel=\"noopener noreferrer\"\n+              >\n+                {i18n(\"generic.irida.website\")}\n+              </a>\n+            </Menu.Item>\n+            <Menu.Divider />\n+            <Menu.Item disabled>{i18n(\"irida.version\")}</Menu.Item>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e51348d57f87f787fdab63cce1790f2d32b4b70"}, "originalPosition": 134}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODYxMzE1OA==", "bodyText": "Typo in comment", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r548613158", "createdAt": "2020-12-24T16:47:26Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/security/LoginSuccessHandler.java", "diffHunk": "@@ -53,6 +67,10 @@ public void onAuthenticationSuccess(HttpServletRequest httpServletRequest, HttpS\n \t\t// Add the user into the session\n \t\tsession.setAttribute(\"user\", user);\n \n+\t\t// Add the site them", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODYxNzQyMA==", "bodyText": "Just a question. What does the && represent?", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r548617420", "createdAt": "2020-12-24T16:53:43Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/components/Header/MainNavigation.jsx", "diffHunk": "@@ -0,0 +1,159 @@\n+import React from \"react\";\n+import { Avatar, Col, Menu, Row, Space } from \"antd\";\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+import { SPACE_MD } from \"../../styles/spacing\";\n+import { IconCog, IconQuestionCircle, IconUser } from \"../icons/Icons\";\n+import { CartLink } from \"./main-navigation/components/CartLink\";\n+import { GlobalSearch } from \"./main-navigation/components/GlobalSearch\";\n+import { primaryColour, theme } from \"../../utilities/theme-utilities\";\n+import \"./main-navigation/style.css\";\n+\n+export function MainNavigation() {\n+  const isAdmin = window.TL._USER.systemRole === \"ROLE_ADMIN\";\n+\n+  return (\n+    <Row\n+      className={`${theme}-theme main-navigation`}\n+      style={{\n+        borderBottom: `2px solid ${primaryColour}`,\n+      }}\n+    >\n+      <Col md={10} sm={24}>\n+        <a href={setBaseUrl(\"/\")} style={{ padding: `0 ${SPACE_MD}` }}>\n+          <img\n+            style={{ height: 20 }}\n+            src={setBaseUrl(`/resources/img/irida_logo_${theme}.svg`)}\n+            alt={i18n(\"global.title\")}\n+          />\n+        </a>\n+        <Menu mode=\"horizontal\" theme={theme}>\n+          <Menu.SubMenu key=\"projects\" title={i18n(\"nav.main.project\")}>\n+            <Menu.Item key=\"project:list\">\n+              <a href={setBaseUrl(\"/projects\")}>\n+                {i18n(\"nav.main.project-list\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODYxOTE1OA==", "bodyText": "Internationalize", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r548619158", "createdAt": "2020-12-24T16:56:17Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/components/Header/MainNavigation.jsx", "diffHunk": "@@ -0,0 +1,159 @@\n+import React from \"react\";\n+import { Avatar, Col, Menu, Row, Space } from \"antd\";\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+import { SPACE_MD } from \"../../styles/spacing\";\n+import { IconCog, IconQuestionCircle, IconUser } from \"../icons/Icons\";\n+import { CartLink } from \"./main-navigation/components/CartLink\";\n+import { GlobalSearch } from \"./main-navigation/components/GlobalSearch\";\n+import { primaryColour, theme } from \"../../utilities/theme-utilities\";\n+import \"./main-navigation/style.css\";\n+\n+export function MainNavigation() {\n+  const isAdmin = window.TL._USER.systemRole === \"ROLE_ADMIN\";\n+\n+  return (\n+    <Row\n+      className={`${theme}-theme main-navigation`}\n+      style={{\n+        borderBottom: `2px solid ${primaryColour}`,\n+      }}\n+    >\n+      <Col md={10} sm={24}>\n+        <a href={setBaseUrl(\"/\")} style={{ padding: `0 ${SPACE_MD}` }}>\n+          <img\n+            style={{ height: 20 }}\n+            src={setBaseUrl(`/resources/img/irida_logo_${theme}.svg`)}\n+            alt={i18n(\"global.title\")}\n+          />\n+        </a>\n+        <Menu mode=\"horizontal\" theme={theme}>\n+          <Menu.SubMenu key=\"projects\" title={i18n(\"nav.main.project\")}>\n+            <Menu.Item key=\"project:list\">\n+              <a href={setBaseUrl(\"/projects\")}>\n+                {i18n(\"nav.main.project-list\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/projects/all\")}>\n+                  {i18n(\"nav.main.project-list-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item key=\"project:sync\">\n+              <a href={setBaseUrl(\"/projects/synchronize\")}>\n+                {i18n(\"nav.main.project-sync\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+          <Menu.SubMenu title={i18n(\"nav.main.analysis\")}>\n+            <Menu.Item>\n+              <a href={setBaseUrl(`/analysis`)}>\n+                {i18n(\"nav.main.analysis-admin-user\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/analysis/all\")}>\n+                  {i18n(\"nav.main.analysis-admin-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item>\n+              <a href={setBaseUrl(\"/analysis/user/analysis-outputs\")}>\n+                {i18n(\"Analysis.outputFiles\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+        </Menu>\n+      </Col>\n+      <Col\n+        md={14}\n+        sm={24}\n+        style={{\n+          display: \"flex\",\n+          flexDirection: \"row-reverse\",\n+          alignItems: \"center\",\n+          width: `100%`,\n+        }}\n+      >\n+        <Menu mode=\"horizontal\" theme={theme} className=\"accessory-menu\">\n+          <Menu.Item icon={<CartLink />} key=\"cart\" />\n+          <Menu.SubMenu title={<IconCog />}>\n+            <Menu.Item key=\"user:groups\">\n+              <a href={setBaseUrl(\"/groups\")}>{i18n(\"nav.main.groups-list\")}</a>\n+            </Menu.Item>\n+            <Menu.Divider />\n+            <Menu.Item key=\"remote_api\">\n+              <a href={setBaseUrl(\"/remote_api\")}>\n+                {i18n(\"nav.main.remoteapis\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+          {isAdmin && (\n+            <Menu.Item key=\"admin:link\">\n+              <a className=\"t-admin-panel-btn\" href={setBaseUrl(\"/admin\")}>\n+                {i18n(\"MainNavigation.admin\").toUpperCase()}\n+              </a>\n+            </Menu.Item>\n+          )}\n+          <Menu.SubMenu title={<IconQuestionCircle />}>\n+            <Menu.ItemGroup title=\"Documentation\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODYyMDE3OA==", "bodyText": "The more I see these styles with display \"flex\" I really think we should make separate file in styles directory for them. One for row reverse, one for justifyContent etc. What do you think?", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r548620178", "createdAt": "2020-12-24T16:57:49Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/components/Header/MainNavigation.jsx", "diffHunk": "@@ -0,0 +1,159 @@\n+import React from \"react\";\n+import { Avatar, Col, Menu, Row, Space } from \"antd\";\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+import { SPACE_MD } from \"../../styles/spacing\";\n+import { IconCog, IconQuestionCircle, IconUser } from \"../icons/Icons\";\n+import { CartLink } from \"./main-navigation/components/CartLink\";\n+import { GlobalSearch } from \"./main-navigation/components/GlobalSearch\";\n+import { primaryColour, theme } from \"../../utilities/theme-utilities\";\n+import \"./main-navigation/style.css\";\n+\n+export function MainNavigation() {\n+  const isAdmin = window.TL._USER.systemRole === \"ROLE_ADMIN\";\n+\n+  return (\n+    <Row\n+      className={`${theme}-theme main-navigation`}\n+      style={{\n+        borderBottom: `2px solid ${primaryColour}`,\n+      }}\n+    >\n+      <Col md={10} sm={24}>\n+        <a href={setBaseUrl(\"/\")} style={{ padding: `0 ${SPACE_MD}` }}>\n+          <img\n+            style={{ height: 20 }}\n+            src={setBaseUrl(`/resources/img/irida_logo_${theme}.svg`)}\n+            alt={i18n(\"global.title\")}\n+          />\n+        </a>\n+        <Menu mode=\"horizontal\" theme={theme}>\n+          <Menu.SubMenu key=\"projects\" title={i18n(\"nav.main.project\")}>\n+            <Menu.Item key=\"project:list\">\n+              <a href={setBaseUrl(\"/projects\")}>\n+                {i18n(\"nav.main.project-list\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/projects/all\")}>\n+                  {i18n(\"nav.main.project-list-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item key=\"project:sync\">\n+              <a href={setBaseUrl(\"/projects/synchronize\")}>\n+                {i18n(\"nav.main.project-sync\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+          <Menu.SubMenu title={i18n(\"nav.main.analysis\")}>\n+            <Menu.Item>\n+              <a href={setBaseUrl(`/analysis`)}>\n+                {i18n(\"nav.main.analysis-admin-user\")}\n+              </a>\n+            </Menu.Item>\n+            {isAdmin && (\n+              <Menu.Item key=\"project:all\">\n+                <a href={setBaseUrl(\"/analysis/all\")}>\n+                  {i18n(\"nav.main.analysis-admin-all\")}\n+                </a>\n+              </Menu.Item>\n+            )}\n+            <Menu.Divider />\n+            <Menu.Item>\n+              <a href={setBaseUrl(\"/analysis/user/analysis-outputs\")}>\n+                {i18n(\"Analysis.outputFiles\")}\n+              </a>\n+            </Menu.Item>\n+          </Menu.SubMenu>\n+        </Menu>\n+      </Col>\n+      <Col\n+        md={14}\n+        sm={24}\n+        style={{\n+          display: \"flex\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODYyNzgwMw==", "bodyText": "The user can set the properties in irida.conf or styles.properties correct? Do we want to allow the user to mix and put some styles in both files? I think this if and the if blocl below should be changed to an if/else block", "url": "https://github.com/phac-nml/irida/pull/862#discussion_r548627803", "createdAt": "2020-12-24T17:08:52Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/styles.js", "diffHunk": "@@ -0,0 +1,44 @@\n+const propertiesReader = require(\"properties-reader\");\n+const fs = require(\"fs\");\n+\n+const defaults = {\n+  \"primary-color\": \"#1890ff\",\n+  \"info-color\": \"#1890ff\",\n+  \"link-color\": \"#1890ff\",\n+  \"font-size-base\": \"2px\",\n+  \"border-radius-base\": \"2px\",\n+};\n+const iridaConfig = \"/etc/irida/irida.conf\";\n+const propertiesConfig = \"../resources/ca/corefacility/bioinformatics/irida/config/styles.properties\";\n+\n+function formatAntStyles() {\n+  const colourProperties = {};\n+  const re = /styles.ant.([\\w+-]*)/;\n+\n+  try {\n+    if (fs.existsSync(propertiesConfig)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a89f444dd318cdc9e0f644a853a35f63fb136cb"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93c5e06d32f1f357bc3da2e9d942c150a3642509", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/93c5e06d32f1f357bc3da2e9d942c150a3642509", "committedDate": "2020-12-24T17:27:36Z", "message": "Merge branch 'development' into main-navigation-upgrade\n\n# Conflicts:\n#\tsrc/main/webapp/package.json\n#\tsrc/main/webapp/yarn.lock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25f217a1a3e37209c3e9801072b6e89209b1abb8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/25f217a1a3e37209c3e9801072b6e89209b1abb8", "committedDate": "2020-12-24T17:29:05Z", "message": "Fixed typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffccf964c6a7a2c0bd00749a09fb478d9abebc85", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/ffccf964c6a7a2c0bd00749a09fb478d9abebc85", "committedDate": "2020-12-24T17:33:17Z", "message": "Updated i18n"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "264b0e5cc9ce579cf439f25630edddc6cf4595f5", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/264b0e5cc9ce579cf439f25630edddc6cf4595f5", "committedDate": "2020-12-24T17:35:05Z", "message": "Updated to only pulling styles from one file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzA1MTEw", "url": "https://github.com/phac-nml/irida/pull/862#pullrequestreview-558705110", "createdAt": "2020-12-24T19:13:10Z", "commit": {"oid": "264b0e5cc9ce579cf439f25630edddc6cf4595f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b18ef96566a0887621bc90fd11a2627a2249aa0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2b18ef96566a0887621bc90fd11a2627a2249aa0", "committedDate": "2020-12-24T19:14:31Z", "message": "Updated CHANGELOG"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4960, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}