{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4Njk2MjY3", "number": 820, "title": "Syncing with older versions of IRIDA", "bodyText": "Description of changes\nAllowing IRIDA 20.09 to synchronize with older versions which do not yet have the assemblies available in the REST API.\nRelated issue\nFixes #819\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n* [ ] User documentation updated for UI or technical changes.", "createdAt": "2020-10-06T16:55:01Z", "url": "https://github.com/phac-nml/irida/pull/820", "merged": true, "mergeCommit": {"oid": "2fad571ac0a38619cffc9bcebbcc40b79ff4f0cf"}, "closed": true, "closedAt": "2020-10-08T19:17:52Z", "author": {"login": "tom114"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdP435LAH2gAyNDk4Njk2MjY3OmQ3ZGNiZDUzNTQ2NmFhMDYyMTQ0NmQ0NWQxMDIzNzYzNDcwMzRkYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQSfrdgFqTUwNDIxNjc0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7dcbd535466aa0621446d45d102376347034dbf", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/d7dcbd535466aa0621446d45d102376347034dbf", "committedDate": "2020-10-06T14:01:50Z", "message": "added exception for when a link is not available in the rest api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acaf0d0af322ffd9899fee93717e1d82ba650e7f", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/acaf0d0af322ffd9899fee93717e1d82ba650e7f", "committedDate": "2020-10-06T14:02:14Z", "message": "added exception thrown and handled when there are no assemblies\navailable in a given rest api version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d7afc64833e67c0c104f180794bf1666d596c2", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/91d7afc64833e67c0c104f180794bf1666d596c2", "committedDate": "2020-10-06T14:08:53Z", "message": "added some commenting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45a0926dd9a0424c2a48dc7acafc19db984d926d", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/45a0926dd9a0424c2a48dc7acafc19db984d926d", "committedDate": "2020-10-06T15:06:01Z", "message": "updated pom to 20.09.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af7283e255d67eb7119c7ffe124c64173451dba2", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/af7283e255d67eb7119c7ffe124c64173451dba2", "committedDate": "2020-10-06T15:06:14Z", "message": "added changelog entry for fixing sync without assemblies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5882faab21dcb1b69caf5249b8f4d5138e1e62eb", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/5882faab21dcb1b69caf5249b8f4d5138e1e62eb", "committedDate": "2020-10-06T15:59:19Z", "message": "added tests for sync without assemblies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dcf02486ce58566281d35d74d0fca61386ec81f", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/1dcf02486ce58566281d35d74d0fca61386ec81f", "committedDate": "2020-10-06T15:59:41Z", "message": "changed some strucutre to how the list is formed for assemblies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTc2NjA3", "url": "https://github.com/phac-nml/irida/pull/820#pullrequestreview-503176607", "createdAt": "2020-10-06T17:00:43Z", "commit": {"oid": "1dcf02486ce58566281d35d74d0fca61386ec81f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzowMDo0M1rOHdRZTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzowMDo0M1rOHdRZTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ1NTc1OQ==", "bodyText": "Would it be possible to print the URL to the referenced IRIDA instance?", "url": "https://github.com/phac-nml/irida/pull/820#discussion_r500455759", "createdAt": "2020-10-06T17:00:43Z", "author": {"login": "apetkau"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/service/remote/ProjectSynchronizationService.java", "diffHunk": "@@ -371,8 +374,16 @@ private void syncProject(Project project) {\n \t\t\t}\n \t\t}\n \n-\t\t//list the remote assemblies for the sample\n-\t\tList<UploadedAssembly> genomeAssembliesForSample = assemblyRemoteService.getGenomeAssembliesForSample(sample);\n+\t\t//list the remote assemblies for the sample.\n+\t\tList<UploadedAssembly> genomeAssembliesForSample;\n+\t\ttry {\n+\t\t\tgenomeAssembliesForSample = assemblyRemoteService.getGenomeAssembliesForSample(sample);\n+\t\t} catch (LinkNotFoundException e) {\n+\t\t\t//if the target IRIDA doesn't support assemblies yet, warn and ignore assemblies.\n+\t\t\tlogger.warn(\"The referenced IRIDA instance doesn't support assemblies.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1dcf02486ce58566281d35d74d0fca61386ec81f"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce0cf1f8618498c34de675154fcead8c2d8422a7", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/ce0cf1f8618498c34de675154fcead8c2d8422a7", "committedDate": "2020-10-06T19:11:19Z", "message": "added url to sample if it does not support assemblies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MjE2NzQ4", "url": "https://github.com/phac-nml/irida/pull/820#pullrequestreview-504216748", "createdAt": "2020-10-07T19:52:55Z", "commit": {"oid": "ce0cf1f8618498c34de675154fcead8c2d8422a7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 132, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}