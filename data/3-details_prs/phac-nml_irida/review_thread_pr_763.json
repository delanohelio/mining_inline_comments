{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NzA4OTcy", "number": 763, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMToyNDozNVrOETbs4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMTo0NToxM1rOEVlq7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODEyMjU5OnYy", "diffSide": "RIGHT", "path": "doc/_includes/tutorials/common/creating-a-sample.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMToyNDozNVrOG5KwMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMTozODowM1rOG5fWnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5ODE5Mg==", "bodyText": "Typo: mmodal", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462598192", "createdAt": "2020-07-29T21:24:35Z", "author": {"login": "deepsidhu85"}, "path": "doc/_includes/tutorials/common/creating-a-sample.md", "diffHunk": "@@ -2,14 +2,8 @@ You can add a new sample to the project if you have the project Manager role on\n \n ![New sample button]({{ site.baseurl }}/images/tutorials/common/samples/add-sample-button.png)\n \n-Clicking this button will take you to the Create New Sample page.  When creating a sample, you must define the sample name (only upper and lowercase letters, numbers, and the special characters <code>!, @, #, $, %, _, -</code>, and <code>`</code> are allowed) and optionally choose an organism for the sample:\n+Clicking this button will open the Create New Sample mmodal dialog.  When creating a sample, you must define the sample name (only upper and lowercase letters, numbers, and the special characters <code>!, @, #, $, %, _, -</code>, and <code>`</code> are allowed) and optionally choose an organism for the sample:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzNTcwOA==", "bodyText": "Fixed in df1dd88", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462935708", "createdAt": "2020-07-30T11:38:03Z", "author": {"login": "joshsadam"}, "path": "doc/_includes/tutorials/common/creating-a-sample.md", "diffHunk": "@@ -2,14 +2,8 @@ You can add a new sample to the project if you have the project Manager role on\n \n ![New sample button]({{ site.baseurl }}/images/tutorials/common/samples/add-sample-button.png)\n \n-Clicking this button will take you to the Create New Sample page.  When creating a sample, you must define the sample name (only upper and lowercase letters, numbers, and the special characters <code>!, @, #, $, %, _, -</code>, and <code>`</code> are allowed) and optionally choose an organism for the sample:\n+Clicking this button will open the Create New Sample mmodal dialog.  When creating a sample, you must define the sample name (only upper and lowercase letters, numbers, and the special characters <code>!, @, #, $, %, _, -</code>, and <code>`</code> are allowed) and optionally choose an organism for the sample:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5ODE5Mg=="}, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODE1NDY5OnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTozNDoyMFrOG5LDHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMTozNzoyM1rOG5fVaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMzAzNg==", "bodyText": "This needs to be updated. Currently for example if we set the name to SAM it still displays this error but it has 3 characters", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462603036", "createdAt": "2020-07-29T21:34:20Z", "author": {"login": "deepsidhu85"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -1968,6 +1968,18 @@ SampleDetails.description=Description\n SampleDetails.organism=Organism\n SampleDetails.createdDate=Created\n SampleDetails.modifiedDate=Modified\n+\n+# ========================================================================================== #\n+# ADD SAMPLE REACT COMPONENT                                                                 #\n+# ========================================================================================== #\n+AddSample.title=Create New Sample in Project\n+AddSample.name=Sample Name\n+AddSample.organism=Organism\n+AddSample.submit=Create Sample\n+server.AddSample.error.length=Sample name must have at least 3 characters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzNTQwMQ==", "bodyText": "Updated in 9e3f14a", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462935401", "createdAt": "2020-07-30T11:37:23Z", "author": {"login": "joshsadam"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -1968,6 +1968,18 @@ SampleDetails.description=Description\n SampleDetails.organism=Organism\n SampleDetails.createdDate=Created\n SampleDetails.modifiedDate=Modified\n+\n+# ========================================================================================== #\n+# ADD SAMPLE REACT COMPONENT                                                                 #\n+# ========================================================================================== #\n+AddSample.title=Create New Sample in Project\n+AddSample.name=Sample Name\n+AddSample.organism=Organism\n+AddSample.submit=Create Sample\n+server.AddSample.error.length=Sample name must have at least 3 characters.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMzAzNg=="}, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODE1NTY1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/apis/projects/samples.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTozNDo0MVrOG5LDxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMTozOTo1MlrOG5faNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMzIwNg==", "bodyText": "Function comment", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462603206", "createdAt": "2020-07-29T21:34:41Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/apis/projects/samples.js", "diffHunk": "@@ -0,0 +1,27 @@\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+\n+const URL = setBaseUrl(`/ajax/projects/${window.project.id}/samples`);\n+\n+/**\n+ * Server side validation of a new sample name.\n+ * @param {string} name - sample name to validate\n+ * @returns {Promise<any>}\n+ */\n+export async function validateSampleName(name) {\n+  const params = new URLSearchParams();\n+  params.append(\"name\", name.trim());\n+  const response = await fetch(`${URL}/add-sample/validate?${params}`);\n+  return response.json();\n+}\n+\n+export async function createNewSample({ name, organism }) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzNjYzMQ==", "bodyText": "Updated in 0f9e62c", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r462936631", "createdAt": "2020-07-30T11:39:52Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/apis/projects/samples.js", "diffHunk": "@@ -0,0 +1,27 @@\n+import { setBaseUrl } from \"../../utilities/url-utilities\";\n+\n+const URL = setBaseUrl(`/ajax/projects/${window.project.id}/samples`);\n+\n+/**\n+ * Server side validation of a new sample name.\n+ * @param {string} name - sample name to validate\n+ * @returns {Promise<any>}\n+ */\n+export async function validateSampleName(name) {\n+  const params = new URLSearchParams();\n+  params.append(\"name\", name.trim());\n+  const response = await fetch(`${URL}/add-sample/validate?${params}`);\n+  return response.json();\n+}\n+\n+export async function createNewSample({ name, organism }) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwMzIwNg=="}, "originalCommit": {"oid": "323a2cf9cc0e2b087336ec6820098b43fc2ccb2d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMDcyNzQ5OnYy", "diffSide": "RIGHT", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/dto/CreateSampleResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMTo0NToxM1rOG8bvOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjo0MzowNVrOG8xzsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAyMjIwMA==", "bodyText": "What is this being used for exactly? Since there are no methods for a sub class to extend we can probably get rid of it", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r466022200", "createdAt": "2020-08-05T21:45:13Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/dto/CreateSampleResponse.java", "diffHunk": "@@ -0,0 +1,7 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax.dto;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2368627b263de066b2d204b007a00228baeac25"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM4Mzc5NQ==", "bodyText": "It's there because to allow you to return an instance of that either as CreateSampleSuccessResponse or CreateSampleErrorResponse. Since you must indicate what object a ResponseEntity is returning. \u00a0Do you have a better idea?", "url": "https://github.com/phac-nml/irida/pull/763#discussion_r466383795", "createdAt": "2020-08-06T12:43:05Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/dto/CreateSampleResponse.java", "diffHunk": "@@ -0,0 +1,7 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax.dto;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjAyMjIwMA=="}, "originalCommit": {"oid": "b2368627b263de066b2d204b007a00228baeac25"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 690, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}