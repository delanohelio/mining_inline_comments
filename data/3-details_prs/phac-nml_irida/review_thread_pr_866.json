{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MTczMDE5", "number": 866, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNzo1MTowOVrOFOyIdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNzo1NDowMFrOFOyMPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUxMDQ1NzUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/announcements/AnnouncementsController.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNzo1MTowOVrOITwFAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxOToyNDoyOVrOITzexA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzU4MTU3MQ==", "bodyText": "Is this default required here anymore?", "url": "https://github.com/phac-nml/irida/pull/866#discussion_r557581571", "createdAt": "2021-01-14T17:51:09Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/announcements/AnnouncementsController.java", "diffHunk": "@@ -129,19 +127,27 @@ public String getControlCentreAdminPage(final Model model) {\n      *\n      * @param announcementID\n      *                  The ID of the announcement to be updated\n+     * @param title\n+     *                  The title of the updated announcement\n      * @param message\n      *                  The content of the updated announcement\n+     * @param priority\n+     *                  The priority of the updated announcement\n      * @param model\n      *                  The model for the view\n      * @return A redirect to the announcement control center page\n      */\n     @RequestMapping(value = \"/{announcementID}/details\", method = RequestMethod.POST)\n     @PreAuthorize(\"hasRole('ROLE_ADMIN')\")\n     public String submitUpdatedAnnouncement(@PathVariable long announcementID,\n+                                            @RequestParam(defaultValue = \"title placeholder\") String title,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "675ccc82bb1d07c64102e4f717e122b7e06413ef"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzYzNzMxNg==", "bodyText": "Right, I forgot about that placeholder. I removed the deprecated constructor and placeholder. Thanks! Please see ec4627d.", "url": "https://github.com/phac-nml/irida/pull/866#discussion_r557637316", "createdAt": "2021-01-14T19:24:29Z", "author": {"login": "ksierks"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/announcements/AnnouncementsController.java", "diffHunk": "@@ -129,19 +127,27 @@ public String getControlCentreAdminPage(final Model model) {\n      *\n      * @param announcementID\n      *                  The ID of the announcement to be updated\n+     * @param title\n+     *                  The title of the updated announcement\n      * @param message\n      *                  The content of the updated announcement\n+     * @param priority\n+     *                  The priority of the updated announcement\n      * @param model\n      *                  The model for the view\n      * @return A redirect to the announcement control center page\n      */\n     @RequestMapping(value = \"/{announcementID}/details\", method = RequestMethod.POST)\n     @PreAuthorize(\"hasRole('ROLE_ADMIN')\")\n     public String submitUpdatedAnnouncement(@PathVariable long announcementID,\n+                                            @RequestParam(defaultValue = \"title placeholder\") String title,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzU4MTU3MQ=="}, "originalCommit": {"oid": "675ccc82bb1d07c64102e4f717e122b7e06413ef"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUxMDQ2NzE5OnYy", "diffSide": "RIGHT", "path": "src/main/resources/scripts/announcements/generate_json.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNzo1NDowMFrOITwLRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxOToyNDo1N1rOITzh8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzU4MzE3NA==", "bodyText": "Please add a note in UPGRADING.md about this script.  You should consider adding something to the Upgrade Notes docs page about it if the notice in UPGRADING.md gets too long.  https://phac-nml.github.io/irida-documentation/administrator/upgrades/", "url": "https://github.com/phac-nml/irida/pull/866#discussion_r557583174", "createdAt": "2021-01-14T17:54:00Z", "author": {"login": "tom114"}, "path": "src/main/resources/scripts/announcements/generate_json.py", "diffHunk": "@@ -0,0 +1,95 @@\n+#!/usr/bin/python\n+import argparse\n+import json\n+import mysql.connector\n+import re\n+\n+# This script will fetch all the rows from the announcement table, then parse\n+# the title out from the message content and return a json file with the newly\n+# populated title and modified message content.\n+#\n+# Step #1: Run this script to generate a json file with the modified\n+# announcement data.\n+#\n+# Step #2: Please review the json file to make sure the title was parsed\n+# correctly from the message content.\n+#\n+# Step #3: To update the announcement table with the json file run the\n+# update_announcement.py script next.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "675ccc82bb1d07c64102e4f717e122b7e06413ef"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzYzODEzMQ==", "bodyText": "I hope this works. Please see cd23520.", "url": "https://github.com/phac-nml/irida/pull/866#discussion_r557638131", "createdAt": "2021-01-14T19:24:57Z", "author": {"login": "ksierks"}, "path": "src/main/resources/scripts/announcements/generate_json.py", "diffHunk": "@@ -0,0 +1,95 @@\n+#!/usr/bin/python\n+import argparse\n+import json\n+import mysql.connector\n+import re\n+\n+# This script will fetch all the rows from the announcement table, then parse\n+# the title out from the message content and return a json file with the newly\n+# populated title and modified message content.\n+#\n+# Step #1: Run this script to generate a json file with the modified\n+# announcement data.\n+#\n+# Step #2: Please review the json file to make sure the title was parsed\n+# correctly from the message content.\n+#\n+# Step #3: To update the announcement table with the json file run the\n+# update_announcement.py script next.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzU4MzE3NA=="}, "originalCommit": {"oid": "675ccc82bb1d07c64102e4f717e122b7e06413ef"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 580, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}