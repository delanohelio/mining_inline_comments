{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1MzQzODcx", "number": 830, "title": "Admin statistics/ basic stats", "bodyText": "Description of changes\nWhat did you change in this pull request?  Provide a description of files changed, user interactions changed, etc.  Include how to test your changes.\nAdded basic stats retrieved from server for analyes ran, users created, projects created, users logged in, and samples created within the default time period (currently set to past week);.\nRelated issue\nLink to the GitHub issue this pull request addresses using the #issuenum format.  If it completes an issue, use Fixes #issuenum to automatically close the issue.\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n* [ ] CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n* [ ] Tests added (or description of how to test) for any new features.\n* [ ] User documentation updated for UI or technical changes.", "createdAt": "2020-10-17T20:38:34Z", "url": "https://github.com/phac-nml/irida/pull/830", "merged": true, "mergeCommit": {"oid": "9c8a9d92ca4b202786a1c447aeac823ba70e0524"}, "closed": true, "closedAt": "2020-10-19T16:11:12Z", "author": {"login": "deepsidhu85"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOo9KZgH2gAyNTA1MzQzODcxOjdhNjg0NjEwMmZlNTYxMDA1ZWY5Nzc0MzkwMzM2NGY0Yjc2NTgwYTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUGg5agFqTUxMTkzMDE0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7a6846102fe561005ef97743903364f4b76580a3", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/7a6846102fe561005ef97743903364f4b76580a3", "committedDate": "2020-10-02T16:55:11Z", "message": "Added logic to get basic results for projects created, samples created, analyses ran, and users logged in, for the provided time period"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e485114886db59cb36d218624123c02b9e135e82", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/e485114886db59cb36d218624123c02b9e135e82", "committedDate": "2020-10-08T14:55:07Z", "message": "Removed dtos not required. Removed advanced stats from being set in react context. Updated text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95c5bb5432e7ea5cb97a9b8f818a72c8d8d89165", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/95c5bb5432e7ea5cb97a9b8f818a72c8d8d89165", "committedDate": "2020-10-08T15:21:10Z", "message": "Merged ui branch and fixed merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8c30b0b1af9379b9228bdfb3bf3b46a06e5fba3", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/f8c30b0b1af9379b9228bdfb3bf3b46a06e5fba3", "committedDate": "2020-10-08T17:18:11Z", "message": "Merge branch 'admin-statistics/_ui' into admin-statistics/_basic-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d91f1a06538fdf23244aeec3ec2368bf20cd0875", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/d91f1a06538fdf23244aeec3ec2368bf20cd0875", "committedDate": "2020-10-08T17:31:35Z", "message": "Added users created in time period to basic stats. Updated styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c8a47d5fba4442f939cdb3904a56aa76d47521c", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/7c8a47d5fba4442f939cdb3904a56aa76d47521c", "committedDate": "2020-10-08T19:18:03Z", "message": "Merged ui branch and fixed merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ada2afa9b5f5122566591ae61c6f460850d434f", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/9ada2afa9b5f5122566591ae61c6f460850d434f", "committedDate": "2020-10-08T20:00:48Z", "message": "Merge branch 'admin-statistics/_ui' into admin-statistics/_basic-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10494cf1b083569d1a9219adfa641d4e3dddb8a0", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/10494cf1b083569d1a9219adfa641d4e3dddb8a0", "committedDate": "2020-10-09T15:08:06Z", "message": "Merged ui branch and fixed merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dfccf4724666de1a8d564e332f4bdf318f8444f", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/3dfccf4724666de1a8d564e332f4bdf318f8444f", "committedDate": "2020-10-09T15:20:07Z", "message": "Updated requestmapping value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd95997480ea558529441246ecbcffff2204b658", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/bd95997480ea558529441246ecbcffff2204b658", "committedDate": "2020-10-15T20:39:35Z", "message": "Merged ui branch and fixed merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b411406b2a21c685469de795e88da07a685cfbb", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/2b411406b2a21c685469de795e88da07a685cfbb", "committedDate": "2020-10-16T18:14:34Z", "message": "Merged ui branch and fixed merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b52b126fca8e2b682f84fd21c819468f1b239200", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/b52b126fca8e2b682f84fd21c819468f1b239200", "committedDate": "2020-10-16T18:36:59Z", "message": "Changed requestmapping to getmapping."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbfeaa141f5e9f2c1d94546520fe16236847c471", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/cbfeaa141f5e9f2c1d94546520fe16236847c471", "committedDate": "2020-10-17T20:36:17Z", "message": "Merge branch 'admin-statistics/_base' into admin-statistics/_basic-stats"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNTk4OTcy", "url": "https://github.com/phac-nml/irida/pull/830#pullrequestreview-511598972", "createdAt": "2020-10-19T09:57:35Z", "commit": {"oid": "cbfeaa141f5e9f2c1d94546520fe16236847c471"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOTo1NzozNlrOHkGwwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwOTo1OTowNlrOHkG0PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYyMTU2OA==", "bodyText": "The name of these functions, to me, implies a count between two dates. \u00a0I think these functions should except 2 dates, making them more generic.", "url": "https://github.com/phac-nml/irida/pull/830#discussion_r507621568", "createdAt": "2020-10-19T09:57:36Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/repositories/analysis/submission/AnalysisSubmissionRepository.java", "diffHunk": "@@ -154,4 +151,7 @@\n \t */\n \tList<ProjectSampleAnalysisOutputInfo> getAllAutomatedAnalysisOutputInfoForAProject(Long projectId,\n \t\t\tSet<UUID> workflowIds);\n+\n+\t@Query(\"select count(s.id) from AnalysisSubmission s where s.createdDate >= ?1\")\n+\tpublic Long countAnalysesRanInTimePeriod(Date createdDate);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfeaa141f5e9f2c1d94546520fe16236847c471"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYyMjQ2MA==", "bodyText": "Class comment", "url": "https://github.com/phac-nml/irida/pull/830#discussion_r507622460", "createdAt": "2020-10-19T09:59:06Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/admin/dto/BasicStats.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.admin.dto;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfeaa141f5e9f2c1d94546520fe16236847c471"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79528868cf55cd02ed7cd7aeec193e93e28c27e8", "author": {"user": {"login": "deepsidhu85", "name": null}}, "url": "https://github.com/phac-nml/irida/commit/79528868cf55cd02ed7cd7aeec193e93e28c27e8", "committedDate": "2020-10-19T13:42:09Z", "message": "Added class comment to BasicStats dto. Added missing @param tags in javadocs for services/repos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTMwMTQz", "url": "https://github.com/phac-nml/irida/pull/830#pullrequestreview-511930143", "createdAt": "2020-10-19T16:11:05Z", "commit": {"oid": "79528868cf55cd02ed7cd7aeec193e93e28c27e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 143, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}