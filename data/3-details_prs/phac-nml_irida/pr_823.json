{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5OTYyNzU2", "number": 823, "title": "HOTFIX: Addres issue 822 where clicking link for remote API  fails", "bodyText": "Description of changes\nFixed url for remote api, now directs user to the project settings page for the remote api.\nRelated issue\nFixes #822\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n* [ ] Tests added (or description of how to test) for any new features.\n* [ ] User documentation updated for UI or technical changes.", "createdAt": "2020-10-08T14:23:34Z", "url": "https://github.com/phac-nml/irida/pull/823", "merged": true, "mergeCommit": {"oid": "2fad571ac0a38619cffc9bcebbcc40b79ff4f0cf"}, "closed": true, "closedAt": "2020-10-08T19:19:13Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQfJHLAH2gAyNDk5OTYyNzU2OmRlNWJmNzljNGY3MDJlNTM3NmNhMjYyZDgyYjQ1ZDhhMTcyM2FiODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQmhQ8gFqTUwNTA4OTE4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "de5bf79c4f702e5376ca262d82b45d8a1723ab85", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/de5bf79c4f702e5376ca262d82b45d8a1723ab85", "committedDate": "2020-10-08T10:37:02Z", "message": "Don't allow collaborators to see details about the remote api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5114c59e806698965bb6532fd4c335abaceeea8b", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5114c59e806698965bb6532fd4c335abaceeea8b", "committedDate": "2020-10-08T10:37:12Z", "message": "Merge remote-tracking branch 'origin/HOTFIX-manage-remote-api' into HOTFIX-822-link-to-remote-api-in-projects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa6b82a00fa430bd954eacc868ee5148b73dbe45", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/aa6b82a00fa430bd954eacc868ee5148b73dbe45", "committedDate": "2020-10-08T14:14:49Z", "message": "Display on text if the user does not have permission to modify the api"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f", "committedDate": "2020-10-08T14:17:26Z", "message": "Updated pom.xml and CHANGELOG.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTQ5OTQ0", "url": "https://github.com/phac-nml/irida/pull/823#pullrequestreview-504949944", "createdAt": "2020-10-08T16:16:04Z", "commit": {"oid": "adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxNjowNFrOHemOrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxNjowNFrOHemOrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg0NTY3OA==", "bodyText": "Sorry for the overall format change, this is one line that was add (11)", "url": "https://github.com/phac-nml/irida/pull/823#discussion_r501845678", "createdAt": "2020-10-08T16:16:04Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/pages/projects/_base.html", "diffHunk": "@@ -1,41 +1,49 @@\n <!DOCTYPE html>\n-<html xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\n-\t  data-layout-decorate=\"~{template/page}\">\n-<head>\n-\t<title th:text=\"${project.label}\">Project</title>\n-\t<script th:inline=\"javascript\">\n-\t\twindow.project = {\n-          canManage: /*[[${isOwner or isAdmin}]]*/ false,\n-          page: /*[[${activeNav}]]*/ \"settings\",\n-          label: /*[[${project.getLabel()}]]*/ 1,\n-          id: /*[[${project.getId()}]]*/ 1\n-        };\n-\t</script>\n-    <script th:inline=\"javascript\" th:if=\"${project.isRemote()}\" th:with=\"status=${project.getRemoteStatus()}\">\n+<html\n+  xmlns:th=\"http://www.thymeleaf.org\"\n+  xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\n+  data-layout-decorate=\"~{template/page}\"\n+>\n+  <head>\n+    <title th:text=\"${project.label}\">Project</title>\n+    <script th:inline=\"javascript\">\n+      window.project = {\n+        canManageRemote: /*[[${isAdmin or isOwnerAllowRemote}]]*/ false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTUwMTY4", "url": "https://github.com/phac-nml/irida/pull/823#pullrequestreview-504950168", "createdAt": "2020-10-08T16:16:21Z", "commit": {"oid": "adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxNjoyMVrOHemPWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxNjoyMVrOHemPWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg0NTg0OQ==", "bodyText": "This line was also updated", "url": "https://github.com/phac-nml/irida/pull/823#discussion_r501845849", "createdAt": "2020-10-08T16:16:21Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/pages/projects/_base.html", "diffHunk": "@@ -1,41 +1,49 @@\n <!DOCTYPE html>\n-<html xmlns:th=\"http://www.thymeleaf.org\" xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\n-\t  data-layout-decorate=\"~{template/page}\">\n-<head>\n-\t<title th:text=\"${project.label}\">Project</title>\n-\t<script th:inline=\"javascript\">\n-\t\twindow.project = {\n-          canManage: /*[[${isOwner or isAdmin}]]*/ false,\n-          page: /*[[${activeNav}]]*/ \"settings\",\n-          label: /*[[${project.getLabel()}]]*/ 1,\n-          id: /*[[${project.getId()}]]*/ 1\n-        };\n-\t</script>\n-    <script th:inline=\"javascript\" th:if=\"${project.isRemote()}\" th:with=\"status=${project.getRemoteStatus()}\">\n+<html\n+  xmlns:th=\"http://www.thymeleaf.org\"\n+  xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\n+  data-layout-decorate=\"~{template/page}\"\n+>\n+  <head>\n+    <title th:text=\"${project.label}\">Project</title>\n+    <script th:inline=\"javascript\">\n+      window.project = {\n+        canManageRemote: /*[[${isAdmin or isOwnerAllowRemote}]]*/ false,\n+        canManage: /*[[${isOwner or isAdmin}]]*/ false,\n+        page: /*[[${activeNav}]]*/ \"settings\",\n+        label: /*[[${project.getLabel()}]]*/ 1,\n+        id: /*[[${project.getId()}]]*/ 1,\n+      };\n+    </script>\n+    <script\n+      th:inline=\"javascript\"\n+      th:if=\"${project.isRemote()}\"\n+      th:with=\"status=${project.getRemoteStatus()}\"\n+    >\n       window.project.remote = {\n-        url: /*[[@{/remote_api/{id}(id=${status.getApi().getId()})}]]*/ '',\n+        url:\n+          /*[[@{/projects/{id}/settings/remote(id=${project.getId()})}]]*/ \"\",\n         label: /*[[${status.getApi().getLabel()}]]*/ \"\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "adeaf9e8f8313b5c56293fb99c9e329f23bb7b1f"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "279289403811af304a71f963263274ee2f3bf203", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/279289403811af304a71f963263274ee2f3bf203", "committedDate": "2020-10-08T16:19:45Z", "message": "Used existing version number"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MDg5MTg2", "url": "https://github.com/phac-nml/irida/pull/823#pullrequestreview-505089186", "createdAt": "2020-10-08T19:12:45Z", "commit": {"oid": "279289403811af304a71f963263274ee2f3bf203"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 135, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}