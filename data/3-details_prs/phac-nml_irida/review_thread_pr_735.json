{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1OTMyMjIx", "number": 735, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTozOToxN1rOEGaAlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODo0MTo0MVrOEHNOww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTUzMDQ0OnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTozOToxN1rOGlLtRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTozOToxN1rOGlLtRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY0MjMwOA==", "bodyText": "To go with the naming convention we have set up for our React components change the keys to:\nAdminPanel.* where the * is title etc", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441642308", "createdAt": "2020-06-17T15:39:17Z", "author": {"login": "deepsidhu85"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -2150,4 +2150,12 @@ EditableParagraph.tooltip=Edit\n # ========================================================================================== #\n # ADMINISTRATIVE PANEL                                                                       #\n # ========================================================================================== #\n-admin.panel.title=Admin Panel\n\\ No newline at end of file\n+admin.panel.title=Admin Panel", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2516d75fe324be10d59231e4e15a995a25d3cb20"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTU5NTE0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/pages/admin/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTo1NDo0NVrOGlMV_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTo1NDo0NVrOGlMV_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY1MjczNA==", "bodyText": "Fix the formatting of this comment", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441652734", "createdAt": "2020-06-17T15:54:45Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/pages/admin/index.html", "diffHunk": "@@ -1,10 +1,28 @@\n <!DOCTYPE html>\n-<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\n+<html lang=\"en\"\n+      xmlns:th=\"http://www.thymeleaf.org\"\n+      xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\">\n <head>\n     <meta charset=\"UTF-8\">\n     <title th:text=\"#{admin.panel.title}\">ADMIN PANEL</title>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/admin.bundle.css}\" />\n </head>\n-<body>\n-    <h1 class=\"t-admin-panel-title\" th:text=\"#{admin.panel.title}\">ADMIN PANEL</h1>\n+    <body>\n+    <div id=\"root\" style=\"height: 100%;\" layout:fragment=\"page\">\n+        <!--", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "518eff5ad29991380d8b85e30464efd7e4a4ce88"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTYzODU4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/admin/components/Admin.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNjowNToyN1rOGlMwvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNjowNToyN1rOGlMwvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY1OTU4Mw==", "bodyText": "Since we are just lazy loading the components in and don't need to add anything to the page, you might be able to get rid of the AdminUsers.jsx and AdminUserGroups.jsx files and instead import AdminUserGroupsPage and AdminUsersPage.  Then here you would replace AdminUsers with AdminUsersPage and AdminUserGroups below with AdminUserGroupsPage.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441659583", "createdAt": "2020-06-17T16:05:27Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/admin/components/Admin.jsx", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * This file renders the details for the admin as well as,\n+ * lazily loads the Users and Statistics components (component\n+ * is only loaded when the corresponding tab is clicked)\n+ */\n+\n+/*\n+ * The following import statements makes available all the elements\n+ * required by the components encompassed within\n+ */\n+\n+import { Layout } from \"antd\";\n+import { Router } from \"@reach/router\";\n+import { ADMIN } from \"../routes\";\n+import React, { Suspense, lazy} from \"react\";\n+import { ContentLoading } from \"../../../components/loader\";\n+\n+const { Content } = Layout;\n+\n+import AdminHeader from \"./AdminHeader\";\n+import AdminSideMenu from \"./AdminSideMenu\"\n+import { setBaseUrl } from \"../../../utilities/url-utilities\";\n+\n+const AdminStatistics = lazy(() => import(\"./AdminStatistics\"));\n+const AdminUsers = lazy(() => import(\"./AdminUsers\"));\n+const AdminUserGroups = lazy(() => import(\"./AdminUserGroups\"));\n+\n+export default function Admin() {\n+  const DEFAULT_URL = setBaseUrl(\"/admin\");\n+\n+  /*\n+   * The following renders the tabs for statistics and users,\n+   * the components are only loaded if the corresponding\n+   * tab is clicked\n+   */\n+  return (\n+    <Layout>\n+        <AdminSideMenu />\n+        <Layout>\n+          <AdminHeader />\n+          <Content>\n+            <Suspense fallback={<ContentLoading />}>\n+              <Router>\n+                <AdminStatistics\n+                  path={\n+                    `${DEFAULT_URL}/${ADMIN.STATISTICS}`\n+                  }\n+                  default\n+                />\n+                <AdminUsers", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "518eff5ad29991380d8b85e30464efd7e4a4ce88"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTY1NDM1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/admin/components/AdminSideMenu.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNjowOToxOVrOGlM6Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNjowOToxOVrOGlM6Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY2MjAxNQ==", "bodyText": "Rename the key to userGroupsList", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441662015", "createdAt": "2020-06-17T16:09:19Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/admin/components/AdminSideMenu.jsx", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * This file renders the AdminSideMenu component\n+ */\n+\n+/*\n+ * The following import statements makes available\n+ * all the elements required by the component\n+ */\n+\n+import React from \"react\";\n+\n+import { Layout, Menu } from \"antd\";\n+const { SubMenu } = Menu;\n+import { setBaseUrl } from \"../../../utilities/url-utilities\";\n+import { Link, Location } from \"@reach/router\";\n+import { ADMIN } from \"../routes\";\n+\n+const { Sider } = Layout;\n+\n+export default function AdminHeader() {\n+  const DEFAULT_URL = setBaseUrl(\"/admin\");\n+  const pathRegx = new RegExp(/([a-zA-Z]+)$/);\n+\n+  // The following renders the AdminPanelSideMenu component\n+  return (\n+    <Sider>\n+      <Location>\n+        {props => {\n+          const keyname = props.location.pathname.match(pathRegx);\n+          return (\n+            <section>\n+              <Link style={{ paddingLeft: 10, paddingRight: 10 }} to={`${DEFAULT_URL}/${ADMIN.STATISTICS}`}>\n+                <img style={{ height: 64, width: 180 }} src=\"/resources/img/irida_logo_dark.svg\"/>\n+              </Link>\n+              <Menu className={\"t-admin-side-menu\"} style={{ height: '100vh' }} theme={\"dark\"} mode={\"inline\"}\n+                    selectedKeys={[keyname ? keyname[1] : ADMIN.STATISTICS]}>\n+                <Menu.Item key=\"statistics\">\n+                  <Link to={`${DEFAULT_URL}/${ADMIN.STATISTICS}`} className={\"t-admin-stats-link\"}>\n+                    {i18n(\"admin.panel.statistics\")}\n+                  </Link>\n+                </Menu.Item>\n+                <SubMenu key=\"users\" title={i18n(\"admin.panel.users\")} className={\"t-admin-users-submenu\"}>\n+                  <Menu.Item key=\"userList\">\n+                    <Link to={`${DEFAULT_URL}/${ADMIN.USERS}`} className={\"t-admin-users-link\"}>\n+                      {i18n(\"admin.panel.userList\")}\n+                    </Link>\n+                  </Menu.Item>\n+                  <Menu.Item key=\"groupList\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "518eff5ad29991380d8b85e30464efd7e4a4ce88"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTY2MDM3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/admin/routes.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNjoxMDo0N1rOGlM9sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzo1OToyNVrOGlQ9ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY2Mjg5Ng==", "bodyText": "Rename to UserGroups: \"user-groups\" and update the key wherever it is used", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441662896", "createdAt": "2020-06-17T16:10:47Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/admin/routes.js", "diffHunk": "@@ -0,0 +1,10 @@\n+/*\n+ * This file contains the route names for the admin panel\n+ */\n+\n+export const ADMIN = {\n+  ADMIN: \"admin\",\n+  STATISTICS: \"statistics\",\n+  USERS: \"users\",\n+  GROUPS: \"groups\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "518eff5ad29991380d8b85e30464efd7e4a4ce88"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcyODQ0Mg==", "bodyText": "I am using these routes to change the URL. The old settings cog had /groups. Should it still be changed in this case? That means the path would then become admin/user-groups when the groups link is clicked", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441728442", "createdAt": "2020-06-17T17:59:25Z", "author": {"login": "paulowenbrown"}, "path": "src/main/webapp/resources/js/pages/admin/routes.js", "diffHunk": "@@ -0,0 +1,10 @@\n+/*\n+ * This file contains the route names for the admin panel\n+ */\n+\n+export const ADMIN = {\n+  ADMIN: \"admin\",\n+  STATISTICS: \"statistics\",\n+  USERS: \"users\",\n+  GROUPS: \"groups\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY2Mjg5Ng=="}, "originalCommit": {"oid": "518eff5ad29991380d8b85e30464efd7e4a4ce88"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MjI3ODAyOnYy", "diffSide": "RIGHT", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/admin/AdminBaseController.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxODo1NzozMVrOGlTQGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxODo1NzozMVrOGlTQGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2NTkxMg==", "bodyText": "Let's remove the logger, not providing anything worthwhile.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441765912", "createdAt": "2020-06-17T18:57:31Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/admin/AdminBaseController.java", "diffHunk": "@@ -19,7 +19,7 @@\n \t * Get the index page\n \t * @return name of the admin panel view\n \t */\n-\t@RequestMapping(\"\")\n+\t@RequestMapping(value = {\"\", \"/**\"})\n \t@PreAuthorize(\"hasRole('ROLE_ADMIN')\")\n \tpublic String getAdminDashboard() {\n \t\tlogger.debug(\"Displaying admin panel\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c3b1718d9430fdc7b65f3dbd1287c0a0457e63"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MjI5MTQ1OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/AdminUsersPage.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowMDowNVrOGlTZKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowMDowNVrOGlTZKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2ODIzNA==", "bodyText": "Can you move this inside the admin directory, want to keep everything specifically tied to the admin in it's own grouping.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441768234", "createdAt": "2020-06-17T19:00:05Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/AdminUsersPage.jsx", "diffHunk": "@@ -147,7 +147,7 @@ function UsersTable() {\n  * @returns {*}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c3b1718d9430fdc7b65f3dbd1287c0a0457e63"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MjI5NzM0OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/admin/components/AdminSideMenu.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowMTo0MVrOGlTcrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowMTo0MVrOGlTcrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc2OTEzMw==", "bodyText": "The img src needs to be wrapped in setBaseUrl", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441769133", "createdAt": "2020-06-17T19:01:41Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/admin/components/AdminSideMenu.jsx", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * This file renders the AdminSideMenu component\n+ */\n+\n+/*\n+ * The following import statements makes available\n+ * all the elements required by the component\n+ */\n+\n+import React from \"react\";\n+\n+import { Layout, Menu } from \"antd\";\n+const { SubMenu } = Menu;\n+import { setBaseUrl } from \"../../../utilities/url-utilities\";\n+import { Link, Location } from \"@reach/router\";\n+import { ADMIN } from \"../routes\";\n+\n+const { Sider } = Layout;\n+\n+export default function AdminHeader() {\n+  const DEFAULT_URL = setBaseUrl(\"/admin\");\n+  const pathRegx = new RegExp(/([a-zA-Z]+)$/);\n+\n+  // The following renders the AdminPanelSideMenu component\n+  return (\n+    <Sider>\n+      <Location>\n+        {props => {\n+          const keyname = props.location.pathname.match(pathRegx);\n+          return (\n+            <section>\n+              <Link style={{ paddingLeft: 10, paddingRight: 10 }} to={`${DEFAULT_URL}/${ADMIN.STATISTICS}`}>\n+                <img style={{ height: 64, width: 180 }} src=\"/resources/img/irida_logo_dark.svg\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c3b1718d9430fdc7b65f3dbd1287c0a0457e63"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MjMwNTMwOnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowNDoxM1rOGlTh7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowNDoxM1rOGlTh7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc3MDQ3OQ==", "bodyText": "Try to name your keys after the component they are tied to e.g. AdminPanel.title or whatever the component is. \u00a0That way it is easy to track down where it is used. \u00a0We have had problems deleting keys that get re-used. \u00a0I have also begun using a system that if it is internationalized on the server (e.g. the response from a request), preface the key with server. \u00a0just makes it easier to track down.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441770479", "createdAt": "2020-06-17T19:04:13Z", "author": {"login": "joshsadam"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -2150,4 +2150,12 @@ EditableParagraph.tooltip=Edit\n # ========================================================================================== #\n # ADMINISTRATIVE PANEL                                                                       #\n # ========================================================================================== #\n-admin.panel.title=Admin Panel\n\\ No newline at end of file\n+admin.panel.title=Admin Panel\n+admin.panel.users=Users", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c3b1718d9430fdc7b65f3dbd1287c0a0457e63"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MjMxMDk3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/pages/admin/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowNTo1NlrOGlTlkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxOTowNTo1NlrOGlTlkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc3MTQxMA==", "bodyText": "Don't need `xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"\\` it is used for doing complicated templating on the main site that I really wish was not there.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r441771410", "createdAt": "2020-06-17T19:05:56Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/pages/admin/index.html", "diffHunk": "@@ -1,10 +1,28 @@\n <!DOCTYPE html>\n-<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\n+<html lang=\"en\"\n+      xmlns:th=\"http://www.thymeleaf.org\"\n+      xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78c3b1718d9430fdc7b65f3dbd1287c0a0457e63"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTkwMDcwOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/entries.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozMjoyNlrOGmd8pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozMjoyNlrOGmd8pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4OTczNA==", "bodyText": "FYI, and please don't bother changing it this is just a teaching point. \u00a0You don't have to include index.js, that is the default file name for js files so if you just had admin: \"./resources/js/pages/admin\" it would also be valid.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r442989734", "createdAt": "2020-06-19T18:32:26Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/entries.js", "diffHunk": "@@ -86,4 +86,5 @@ module.exports = {\n   \"user-details\": \"./resources/js/pages/user-details.js\",\n   \"project-metadata-templates\":\n     \"./resources/js/pages/projects/metadata-templates\",\n+  admin: \"./resources/js/pages/admin/index.js\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "856455ae374e0ce9543d9ee62151174a85de1b9b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTkwMzU3OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/pages/admin/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozMzo0OVrOGmd-nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozMzo0OVrOGmd-nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk5MDIzOQ==", "bodyText": "Please add:\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n    <link rel=\"icon\" th:href=\"@{/resources/img/favicon.ico}\" />", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r442990239", "createdAt": "2020-06-19T18:33:49Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/pages/admin/index.html", "diffHunk": "@@ -1,10 +1,29 @@\n <!DOCTYPE html>\n-<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\n-<head>\n+<html\n+  lang=\"en\"\n+  xmlns:th=\"http://www.thymeleaf.org\"\n+>\n+  <head>\n     <meta charset=\"UTF-8\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "856455ae374e0ce9543d9ee62151174a85de1b9b"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTkwNTgyOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/pages/admin/index.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozNDo0OFrOGmeAAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODozNDo0OFrOGmeAAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk5MDU5Mg==", "bodyText": "You don't need the <th:block> wrapper here.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r442990592", "createdAt": "2020-06-19T18:34:48Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/pages/admin/index.html", "diffHunk": "@@ -1,10 +1,29 @@\n <!DOCTYPE html>\n-<html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org\">\n-<head>\n+<html\n+  lang=\"en\"\n+  xmlns:th=\"http://www.thymeleaf.org\"\n+>\n+  <head>\n     <meta charset=\"UTF-8\">\n-    <title th:text=\"#{admin.panel.title}\">ADMIN PANEL</title>\n-</head>\n-<body>\n-    <h1 class=\"t-admin-panel-title\" th:text=\"#{admin.panel.title}\">ADMIN PANEL</h1>\n-</body>\n+    <title th:text=\"#{AdminPanel.title}\">ADMIN PANEL</title>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/admin.bundle.css}\" />\n+  </head>\n+  <body>\n+    <div id=\"root\" style=\"height: 100%;\" layout:fragment=\"page\">\n+      <!--\n+         This is a DOM element for React to render the admin details into.\n+         See src/main/webapp/resources/js/pages/analysis/components/Admin.jsx\n+      -->\n+    </div>\n+\n+    <th:block layout:fragment=\"scripts\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "856455ae374e0ce9543d9ee62151174a85de1b9b"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTkyMjU5OnYy", "diffSide": "LEFT", "path": "src/main/webapp/resources/js/pages/UsersPage.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODo0MTo0MVrOGmeKHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxODo0MTo0MVrOGmeKHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk5MzE4Mg==", "bodyText": "This is kind of ugly. \u00a0Can you move the `UsersTable` into it's own file, in the components directory (follow the naming in there for directory names). \u00a0Then create a AdminUsersPage that imports that. \u00a0The benefit is that it prevents checking the page variable if the user is an admin, you know if they are in the admin section that they must be one. \u00a0You can then pass that in as a param into the UsersTable component.", "url": "https://github.com/phac-nml/irida/pull/735#discussion_r442993182", "createdAt": "2020-06-19T18:41:41Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/UsersPage.jsx", "diffHunk": "@@ -175,4 +176,7 @@ function UsersPage() {\n   );\n }\n \n-render(<UsersPage />, document.querySelector(\"#react-root\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "856455ae374e0ce9543d9ee62151174a85de1b9b"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 646, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}