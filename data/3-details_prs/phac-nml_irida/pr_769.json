{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MTI2NzY1", "number": 769, "title": "Removed broken XML content/accept types from REST API", "bodyText": "Description of changes\nLong long ago we planned to allow both XML and JSON to be accepted and sent by the REST API.  There was partial content negotiation and media type code in some places in the REST API.  In reality the XML code hasn't worked in many years.  This PR removes the XML media types, view resolvers, accept types etc from the REST API.\nThis specifically came up because some future updates and tools targeting the REST API had accept strings that included application/xml.  Since the REST API was configured to respond with this type, it tried to and failed.  Removing all of this from the REST API code ensures that it only returns application/json and the other appropriate types when needed.\nRelated issue\nN/A\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n* [ ] Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-08-06T16:16:34Z", "url": "https://github.com/phac-nml/irida/pull/769", "merged": true, "mergeCommit": {"oid": "a93ec08320ea70b1364dc53ef5b91df8ed963558"}, "closed": true, "closedAt": "2020-08-12T02:48:38Z", "author": {"login": "tom114"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8SKYTAH2gAyNDY0MTI2NzY1OmIzMzRlNTkxNjlmOTI2ZThmYTllNDE3NTQ4MDZjMGRiZGM4ZjRhNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc99JxsgFqTQ2NTQxODcwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b334e59169f926e8fa9e41754806c0dbdc8f4a55", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/b334e59169f926e8fa9e41754806c0dbdc8f4a55", "committedDate": "2020-08-06T16:11:10Z", "message": "removed all XML content types and accepts from REST API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7843853d6a3e206b2512b093d3c533a426b2ede5", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/7843853d6a3e206b2512b093d3c533a426b2ede5", "committedDate": "2020-08-06T17:06:27Z", "message": "organized imports and formatted file for root controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b7be06625c60a1248b2b19117e1998f6c392818", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/3b7be06625c60a1248b2b19117e1998f6c392818", "committedDate": "2020-08-06T19:45:04Z", "message": "added xml content-type responses removal to changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de0725aac33e9f4b183a7f9dbb02c9a3f208dc11", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/de0725aac33e9f4b183a7f9dbb02c9a3f208dc11", "committedDate": "2020-08-07T17:54:56Z", "message": "Merge branch 'development' into restapi-remove-deprecated-xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c40cfa9b532dbbccb3de0a29baa32410d0e31fe9", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/c40cfa9b532dbbccb3de0a29baa32410d0e31fe9", "committedDate": "2020-08-07T17:55:19Z", "message": "reworded changelog entry for rest api xml removal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f14cc4eacfb9ca4fff6fcaaddb1d7cb33136a651", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/f14cc4eacfb9ca4fff6fcaaddb1d7cb33136a651", "committedDate": "2020-08-07T18:21:44Z", "message": "removed xml from rest api docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MTU0MDY5", "url": "https://github.com/phac-nml/irida/pull/769#pullrequestreview-465154069", "createdAt": "2020-08-11T14:58:58Z", "commit": {"oid": "f14cc4eacfb9ca4fff6fcaaddb1d7cb33136a651"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNDo1ODo1OFrOG-7_9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxNDo1ODo1OFrOG-7_9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODY0NzkyNg==", "bodyText": "Typo in receiving", "url": "https://github.com/phac-nml/irida/pull/769#discussion_r468647926", "createdAt": "2020-08-11T14:58:58Z", "author": {"login": "deepsidhu85"}, "path": "doc/developer/rest/index.md", "diffHunk": "@@ -20,7 +20,7 @@ The IRIDA REST API follows a standard output format, regardless of the resource\n   1. As an individual resource,\n   2. As part of a resource collection.\n \n-Both XML and JSON are valid output formats for all resources. Some resources (notably resources representing files produced by a sequencer stored on the file-system) support output in FASTA or FASTQ format.\n+Communication with the IRIDA REST API should be via the JSON format for sending and reciving data.  Generally this means using an `Accept` and `Content-type` of `application/json` for requests and submissions.  Some resources (for example sequence file and analysis result resources stored on the file-system) support output in FASTA or FASTQ format.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f14cc4eacfb9ca4fff6fcaaddb1d7cb33136a651"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40eabdcc8853dab9526be344590d88a42a9a8374", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/40eabdcc8853dab9526be344590d88a42a9a8374", "committedDate": "2020-08-11T20:40:17Z", "message": "fixed typo in docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NDE4NzA2", "url": "https://github.com/phac-nml/irida/pull/769#pullrequestreview-465418706", "createdAt": "2020-08-11T20:50:21Z", "commit": {"oid": "40eabdcc8853dab9526be344590d88a42a9a8374"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 70, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}