{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNzc5MDQ1", "number": 885, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTozMDozMlrOFCRb7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTozMDozMlrOFCRb7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3OTI3MTUxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/components/AnalysesTable/AnalysisDownloadButton.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTozMDozMlrOIBU6gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTozMDozMlrOIBU6gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI2MjE0Ng==", "bodyText": "You already have state.value !== \"COMPLETED\" as a variable isAnalysisCompleted why repeat check it?  That will get re-evaluated every time this component gets new props.", "url": "https://github.com/phac-nml/irida/pull/885#discussion_r538262146", "createdAt": "2020-12-08T11:30:32Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/components/AnalysesTable/AnalysisDownloadButton.jsx", "diffHunk": "@@ -15,20 +15,24 @@ import { AnalysesTableContext } from \"../../contexts/AnalysesTableContext\";\n  * @constructor\n  */\n export function AnalysisDownloadButton({ state, analysisId, updateDelay }) {\n-  const [isAnalysisCompleted, setIsAnalysisCompleted] = useState(state.value !== \"COMPLETED\");\n+  const [isAnalysisCompleted, setIsAnalysisCompleted] = useState(\n+    state.value !== \"COMPLETED\"\n+  );\n   const { analysesTableContext } = useContext(AnalysesTableContext);\n \n   // Update if an analysis is completed (to enable or disable download results button)\n   const intervalId = useInterval(() => {\n-    if(state.value !== \"COMPLETED\" && state.value !== \"ERROR\") {\n-      let rowData = analysesTableContext.rows.filter(row => row.identifier === analysisId);\n+    if (state.value !== \"COMPLETED\" && state.value !== \"ERROR\") {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a249daad9134a6dcacd1c120dba006e1232d8de"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 604, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}