{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MzcxOTQx", "number": 734, "title": "Hotfix: managers cannot see users", "bodyText": "Description of changes\nFixed issue where managers could not load the Users page.  This was a mistake I made.  I had to update the UI components to ensure that a manager could not modify the user.\nRelated issue\nFixes #732\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-06-16T17:46:51Z", "url": "https://github.com/phac-nml/irida/pull/734", "merged": true, "mergeCommit": {"oid": "1845c175cfcaf08525630d6266454d3b57e8d462"}, "closed": true, "closedAt": "2020-06-17T18:26:33Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrkMt_AH2gAyNDM1MzcxOTQxOjYxMzJiNDE3OWRkYzJkNTI4OGZlZThjMzUyZTA4MDQxZmFhYTgxNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsH_I5gH2gAyNDM1MzcxOTQxOjE4NDVjMTc1Y2ZjYWYwODUyNTYzMGQ2MjY2NDU0ZDNiNTdlOGQ0NjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6132b4179ddc2d5288fee8c352e08041faaa8170", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/6132b4179ddc2d5288fee8c352e08041faaa8170", "committedDate": "2020-06-15T17:35:18Z", "message": ":construction: Updated to reflect change in select2 behaviour"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26f8400dc6a929e38fd504e9da787f332a22417e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/26f8400dc6a929e38fd504e9da787f332a22417e", "committedDate": "2020-06-15T17:39:22Z", "message": ":memo: Updated CHANGELOG.md & pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9f247646ea537b85c23e912d7ada2464fad6ce6", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/e9f247646ea537b85c23e912d7ada2464fad6ce6", "committedDate": "2020-06-16T17:44:08Z", "message": ":bug: Fixed issue where managers could not load Users listing page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODUwMTE1", "url": "https://github.com/phac-nml/irida/pull/734#pullrequestreview-431850115", "createdAt": "2020-06-16T20:03:58Z", "commit": {"oid": "e9f247646ea537b85c23e912d7ada2464fad6ce6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowMzo1OFrOGkrNGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowMzo1OFrOGkrNGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTEwOTc4NA==", "bodyText": "Another change to add in this file please.  The original issue was that it was throwing a 500 when access was denied.  Can you remove the handleAccessDenied method at the bottom of this file?  That's what was causing the 500 error as the template it's trying to load doesn't exist.  If a user tries to access this page it'll give the access denied page as it should.", "url": "https://github.com/phac-nml/irida/pull/734#discussion_r441109784", "createdAt": "2020-06-16T20:03:58Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/users/UsersController.java", "diffHunk": "@@ -91,7 +91,7 @@ public UsersController(UserService userService, ProjectService projectService,\n \t * @return The name of the page.\n \t */\n \t@RequestMapping\n-\t@PreAuthorize(\"hasRole('ROLE_ADMIN')\")\n+\t@PreAuthorize(\"hasAnyRole('ROLE_ADMIN', 'ROLE_MANAGER')\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f247646ea537b85c23e912d7ada2464fad6ce6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1845c175cfcaf08525630d6266454d3b57e8d462", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/1845c175cfcaf08525630d6266454d3b57e8d462", "committedDate": "2020-06-17T11:17:03Z", "message": ":fire: Removed handleAccessDeniedException"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 23, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}