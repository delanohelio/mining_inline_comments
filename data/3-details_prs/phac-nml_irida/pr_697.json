{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNDQ3Nzcw", "number": 697, "title": "Project groups to ant design", "bodyText": "Description of changes\nUpdated Project User Groups page to use Ant Design.\nRelated issue\nN/A\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n Tests added (or description of how to test) for any new features.\n User documentation updated for UI or technical changes.", "createdAt": "2020-05-20T01:09:19Z", "url": "https://github.com/phac-nml/irida/pull/697", "merged": true, "mergeCommit": {"oid": "d9e579931fac66ca6c54448e4f17e53bd12aba21"}, "closed": true, "closedAt": "2020-06-01T19:10:07Z", "author": {"login": "joshsadam"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchiTLPAH2gAyNDIwNDQ3NzcwOjdlMGU3OTA1NThhNzAyYzBhM2ZiM2QyNjRmYTlkYWJlZTVmYzYxNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmG6wqgH2gAyNDIwNDQ3NzcwOmQ2YzJlNGE2NDI0M2VhMGI4MDdkZmNkODE3OGYxZTI1ZjU3MDFjZjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e0e790558a702c0a3fb3d264fa9dabee5fc614c", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/7e0e790558a702c0a3fb3d264fa9dabee5fc614c", "committedDate": "2020-05-15T13:43:18Z", "message": ":art: Code cleanup to have only one AddMemberButton\n\nIncluded refactoring of roles context to be more than just project roles."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a3c062edecab224c4089176372e0ceeef4c8a69", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/9a3c062edecab224c4089176372e0ceeef4c8a69", "committedDate": "2020-05-15T13:44:40Z", "message": ":construction: Initial code for project user groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5aa30439fc00ec26c588b2deff6a56395623c9cd", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5aa30439fc00ec26c588b2deff6a56395623c9cd", "committedDate": "2020-05-15T18:34:27Z", "message": ":construction: work on removing a user group from project."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd0e5b7331159ec14020ed5aa0702b695fb9a58b", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/dd0e5b7331159ec14020ed5aa0702b695fb9a58b", "committedDate": "2020-05-19T11:45:01Z", "message": "Merge branch 'group-create-new' into project-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dfb2fc86ee980ff5bdeb1911cc790048e5bc63e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/8dfb2fc86ee980ff5bdeb1911cc790048e5bc63e", "committedDate": "2020-05-19T15:25:16Z", "message": "Working on add group button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbdca43f7c01e2d0f802b8911f82dc71b111afea", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/bbdca43f7c01e2d0f802b8911f82dc71b111afea", "committedDate": "2020-05-19T16:11:56Z", "message": "Basic setup to get available user groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d541ae2828a9bef611ff81906421b29fbf62532", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3d541ae2828a9bef611ff81906421b29fbf62532", "committedDate": "2020-05-20T01:06:10Z", "message": "Merge branch '\u26d4\ufe0f-development' into project-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0033cee303866c38add7556e830aea33365a0f1", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b0033cee303866c38add7556e830aea33365a0f1", "committedDate": "2020-05-20T16:49:53Z", "message": "Working user groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd4a4ac68ff81fae1faa55cfa97585b2a55f546e", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/dd4a4ac68ff81fae1faa55cfa97585b2a55f546e", "committedDate": "2020-05-20T17:40:13Z", "message": "Cleaned up usage of remove button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f87fe9ba6346992e79ea3e6825226889d0d6dcf", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/2f87fe9ba6346992e79ea3e6825226889d0d6dcf", "committedDate": "2020-05-20T18:32:20Z", "message": "Updated JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "905296f47ae4ba143de97afb43f3b228b88d2824", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/905296f47ae4ba143de97afb43f3b228b88d2824", "committedDate": "2020-05-20T18:51:24Z", "message": "Updated JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c6cfd51b93673d1acbc0d9db8ad05217b3f5895", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/6c6cfd51b93673d1acbc0d9db8ad05217b3f5895", "committedDate": "2020-05-21T11:18:26Z", "message": "Fixed broken test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "241f901a12d4516c35e0234c98449db9cf8546e7", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/241f901a12d4516c35e0234c98449db9cf8546e7", "committedDate": "2020-05-21T11:20:18Z", "message": "Fixed JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c6b0f0de751d5d8160bcddd498d1a82bb6fc6d7", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/1c6b0f0de751d5d8160bcddd498d1a82bb6fc6d7", "committedDate": "2020-05-21T18:11:29Z", "message": "Unit testing for UIProjectUserGroupService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/5b55997cbd03fe33112f60afa242c57db86205e0", "committedDate": "2020-05-21T18:21:12Z", "message": "Merge branch '\u26d4\ufe0f-development' into project-groups"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MzkyMzY0", "url": "https://github.com/phac-nml/irida/pull/697#pullrequestreview-418392364", "createdAt": "2020-05-26T15:05:37Z", "commit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNTowNTozN1rOGaiqMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNTozNzozM1rOGakMLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NDAxNg==", "bodyText": "Just a general question. Even if there is an error deleting the usergroup would we still want it to return a ResponseEntity.ok? Or should we set the status as a bad request with the error message?", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430484016", "createdAt": "2020-05-26T15:05:37Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/projects/ProjectUserGroupsAjaxController.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax.projects;\n+\n+import java.util.List;\n+import java.util.Locale;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.web.bind.annotation.*;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.ProjectWithoutOwnerException;\n+import ca.corefacility.bioinformatics.irida.model.user.group.UserGroup;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.NewMemberRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ProjectUserGroupsTableModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.services.UIProjectUserGroupsService;\n+\n+/**\n+ * UI Ajax Controller for handling project user groups\n+ */\n+@RestController\n+@RequestMapping(\"/ajax/projects/{projectId}/user-groups\")\n+public class ProjectUserGroupsAjaxController {\n+\tprivate final UIProjectUserGroupsService service;\n+\n+\t@Autowired\n+\tpublic ProjectUserGroupsAjaxController(UIProjectUserGroupsService service) {\n+\t\tthis.service = service;\n+\t}\n+\n+\t/**\n+\t * Get a table page of {@link ProjectUserGroupsTableModel}\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param request   {@link TableRequest} details about the current page of the table\n+\t * @return {@link TableResponse}\n+\t */\n+\t@RequestMapping(\"\")\n+\tpublic ResponseEntity<TableResponse<ProjectUserGroupsTableModel>> getProjectUserGroups(@PathVariable Long projectId,\n+\t\t\t@RequestBody TableRequest request) {\n+\t\treturn ResponseEntity.ok(service.getUserGroupsForProject(projectId, request));\n+\t}\n+\n+\t/**\n+\t * Remove a user group from a project\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param groupId   Identifier for an user group\n+\t * @param locale    current users locale\n+\t * @return message to user about the result of removing the user group\n+\t */\n+\t@RequestMapping(value = \"\", method = RequestMethod.DELETE)\n+\tpublic ResponseEntity<String> removeUserGroupFromProject(@PathVariable long projectId, @RequestParam long groupId,\n+\t\t\tLocale locale) {\n+\t\treturn ResponseEntity.ok(service.removeUserGroupFromProject(projectId, groupId, locale));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ4NTQ3OA==", "bodyText": "We should probably set this as a bad request instead of an internal server error as this really isn't an internal server error", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430485478", "createdAt": "2020-05-26T15:07:35Z", "author": {"login": "deepsidhu85"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/projects/ProjectUserGroupsAjaxController.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax.projects;\n+\n+import java.util.List;\n+import java.util.Locale;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.web.bind.annotation.*;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.ProjectWithoutOwnerException;\n+import ca.corefacility.bioinformatics.irida.model.user.group.UserGroup;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.NewMemberRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ProjectUserGroupsTableModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.services.UIProjectUserGroupsService;\n+\n+/**\n+ * UI Ajax Controller for handling project user groups\n+ */\n+@RestController\n+@RequestMapping(\"/ajax/projects/{projectId}/user-groups\")\n+public class ProjectUserGroupsAjaxController {\n+\tprivate final UIProjectUserGroupsService service;\n+\n+\t@Autowired\n+\tpublic ProjectUserGroupsAjaxController(UIProjectUserGroupsService service) {\n+\t\tthis.service = service;\n+\t}\n+\n+\t/**\n+\t * Get a table page of {@link ProjectUserGroupsTableModel}\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param request   {@link TableRequest} details about the current page of the table\n+\t * @return {@link TableResponse}\n+\t */\n+\t@RequestMapping(\"\")\n+\tpublic ResponseEntity<TableResponse<ProjectUserGroupsTableModel>> getProjectUserGroups(@PathVariable Long projectId,\n+\t\t\t@RequestBody TableRequest request) {\n+\t\treturn ResponseEntity.ok(service.getUserGroupsForProject(projectId, request));\n+\t}\n+\n+\t/**\n+\t * Remove a user group from a project\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param groupId   Identifier for an user group\n+\t * @param locale    current users locale\n+\t * @return message to user about the result of removing the user group\n+\t */\n+\t@RequestMapping(value = \"\", method = RequestMethod.DELETE)\n+\tpublic ResponseEntity<String> removeUserGroupFromProject(@PathVariable long projectId, @RequestParam long groupId,\n+\t\t\tLocale locale) {\n+\t\treturn ResponseEntity.ok(service.removeUserGroupFromProject(projectId, groupId, locale));\n+\t}\n+\n+\t/**\n+\t * Get a list of user groups that are not on the current project\n+\t *\n+\t * @param projectId Identifier for the current project\n+\t * @param query     Filter string to search the existing user groups by\n+\t * @return List of user groups\n+\t */\n+\t@RequestMapping(\"/available\")\n+\tpublic ResponseEntity<List<UserGroup>> getAvailableUserGroupsForProject(@PathVariable Long projectId,\n+\t\t\t@RequestParam String query) {\n+\t\treturn ResponseEntity.ok(service.getAvailableUserGroupsForProject(projectId, query));\n+\t}\n+\n+\t/**\n+\t * Add a user group to the current project\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param request   Identifier for an user group\n+\t * @param locale    Current users locale\n+\t * @return message to user about the outcome of adding the user group to the project\n+\t */\n+\t@RequestMapping(value = \"/add\", method = RequestMethod.POST)\n+\tpublic ResponseEntity<String> addUserGroupToProject(@PathVariable Long projectId,\n+\t\t\t@RequestBody NewMemberRequest request, Locale locale) {\n+\t\treturn ResponseEntity.ok(service.addUserGroupToProject(projectId, request, locale));\n+\t}\n+\n+\t/**\n+\t * Update the project role of a user group on the current project\n+\t *\n+\t * @param projectId Identifier for a project\n+\t * @param id        Identifier for an user group\n+\t * @param role      Role to update the user group to\n+\t * @param locale    Current users locale\n+\t * @return message to user about the result of the update\n+\t */\n+\t@RequestMapping(value = \"/role\", method = RequestMethod.PUT)\n+\tpublic ResponseEntity<String> updateUserGroupRoleOnProject(@PathVariable Long projectId, @RequestParam Long id,\n+\t\t\t@RequestParam String role, Locale locale) {\n+\t\ttry {\n+\t\t\treturn ResponseEntity.ok(service.updateUserGroupRoleOnProject(projectId, id, role, locale));\n+\t\t} catch (ProjectWithoutOwnerException e) {\n+\t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ5MTQyNw==", "bodyText": "Can you change the - to . here and in the translation keys below? Just to keep with the format we have for the keys", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430491427", "createdAt": "2020-05-26T15:15:50Z", "author": {"login": "deepsidhu85"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -369,6 +369,25 @@ AddMemberButton.modal.user-help=Search by first name, last name, or username.\n AddMemberButton.modal.role=Project Role\n AddMemberButton.modal.okText=Add Member\n \n+# ========================================================================================== #\n+# Project User Groups                                                                        #\n+# ========================================================================================== #\n+server.usergroups.remove-group.success={0} removed from this project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ5MjE1NQ==", "bodyText": "Function comments", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430492155", "createdAt": "2020-05-26T15:16:53Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/apis/projects/user-groups.js", "diffHunk": "@@ -0,0 +1,28 @@\n+import axios from \"axios\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ5OTQ3NA==", "bodyText": "Clicking the cancel or x button in the modal results in the modal just refreshing and not actually closing", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430499474", "createdAt": "2020-05-26T15:25:26Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/components/project-user-groups/AddGroupButton.jsx", "diffHunk": "@@ -77,87 +79,84 @@ export function AddMembersButton() {\n     visible,\n   });\n \n-  /*\n-  Watch for changes to the forms visibility, when it becomes visible\n-  set keyboard focus onto the user name input.\n-   */\n-  useEffect(() => {\n-    if (visible) {\n-      setTimeout(() => userRef.current.focus(), 100);\n-    }\n-  }, [visible]);\n-\n   /*\n   Watch for changes to the debounced entered value for the user search.\n   Once it changes send a request for filtered users.\n    */\n   useEffect(() => {\n     if (debouncedQuery) {\n-      getAvailableUsersForProject(debouncedQuery).then((data) =>\n+      getAvailableGroupsForProject(debouncedQuery).then((data) =>\n         setResults(data)\n       );\n     } else {\n       setResults([]);\n     }\n   }, [debouncedQuery]);\n \n+  /*\n+  Watch for changes to the forms visibility, when it becomes visible\n+  set keyboard focus onto the user name input.\n+   */\n+  useEffect(() => {\n+    if (visible) {\n+      setTimeout(() => groupRef.current.focus(), 100);\n+    }\n+  }, [visible]);\n+\n+  /*\n+  Close the modal and reset the fields\n+   */\n+  const onCancel = () => {\n+    form.resetFields();\n+    setVisible(false);\n+  };\n+\n+  /*\n+  Add the user group\n+   */\n+  const addUserGroup = () => {\n+    addUserGroupToProject({ groupId, role }).then((message) => {\n+      onGroupAdded();\n+      notification.success({ message });\n+      form.resetFields();\n+      setVisible(false);\n+    });\n+  };\n+\n   /*\n   Before rendering format the results into Select.Option\n    */\n   const options = results.map((u) => (\n     <Option className=\"t-new-member\" key={u.identifier}>\n       <Text style={{ marginRight: SPACE_XS }}>{u.label}</Text>\n-      <Text type=\"secondary\">{u.username}</Text>\n     </Option>\n   ));\n \n-  /**\n-   * Called when the user clicks the ok button.\n-   */\n-  const addUserToProject = () => {\n-    addMemberToProject({ id: userId, role })\n-      .then((message) => {\n-        updateTable();\n-        notification.success({ message });\n-        setVisible(false);\n-      })\n-      .catch((message) => notification.error({ message }));\n-  };\n-\n   return (\n-    <>\n-      <Button className=\"t-add-member-btn\" onClick={() => setVisible(true)}>\n-        {i18n(\"AddMemberButton.label\")}\n-      </Button>\n-      <Modal\n-        className=\"t-add-member-modal\"\n-        visible={visible}\n-        okButtonProps={{ disabled: typeof userId === \"undefined\" }}\n-        onCancel={() => setVisible(false)}\n-        title={i18n(\"AddMemberButton.modal.title\")}\n-        onOk={addUserToProject}\n-        okText={i18n(\"AddMemberButton.modal.okText\")}\n-      >\n-        <Form layout=\"vertical\" form={form} initialValues={{ role }}>\n+    <Button onClick={() => setVisible(true)}>\n+      {i18n(\"AddGroupButton.label\")}\n+      <Modal onCancel={onCancel} visible={visible} onOk={addUserGroup}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDUwNjQxMg==", "bodyText": "A question related to this file. Should it be allowed for a group to be left without an owner? Testing this out on the group members table let's me change the owner to a member (currently only the one member is a part of the group)?", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430506412", "createdAt": "2020-05-26T15:34:39Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/UserGroupsPage/components/UserGroupMembersTable.jsx", "diffHunk": "@@ -35,21 +34,6 @@ export default function UserGroupMembersTable({\n   groupId,\n   updateTable,\n }) {\n-  const { roles } = useContext(UserGroupRolesContext);\n-\n-  /**\n-   * Remove a member from the group, and then refresh the table.\n-   * @param user\n-   * @returns {void | Promise<AxiosResponse<*>>}\n-   */\n-  function removeMember(user) {\n-    return removeMemberFromUserGroup({ groupId, userId: user.id }).then(\n-      (message) => {\n-        updateTable();\n-        return message;\n-      }\n-    );\n-  }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDUwNjcwMQ==", "bodyText": "File comments", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430506701", "createdAt": "2020-05-26T15:35:03Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/UserGroupsPage/index.js", "diffHunk": "@@ -2,6 +2,8 @@ import React, { lazy, Suspense } from \"react\";\n import { render } from \"react-dom\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDUwODU1Nw==", "bodyText": "Shouldn't we use setBaseUrl here? Probably best to set it at the top of the function as it used a couple of times", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430508557", "createdAt": "2020-05-26T15:37:01Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/UserGroupsPage/index.js", "diffHunk": "@@ -30,10 +32,10 @@ export function UserGroups() {\n         </div>\n       }\n     >\n-      <Router style={{ height: \"100%\" }}>\n-        <UserGroupsPage path=\"/groups\" />\n-        <UserGroupsDetailsPage path=\"/groups/:id\" />\n-      </Router>\n+      <RolesProvider rolesFn={getUserGroupRoles}><Router style={{height: \"100%\"}}>\n+        <UserGroupsPage path=\"/groups\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDUwOTEwMA==", "bodyText": "File comments", "url": "https://github.com/phac-nml/irida/pull/697#discussion_r430509100", "createdAt": "2020-05-26T15:37:33Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/projects/ProjectUserGroups.jsx", "diffHunk": "@@ -0,0 +1,25 @@\n+import React from \"react\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b55997cbd03fe33112f60afa242c57db86205e0"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fef586d427479ab04e2a83352945df48bbdeed19", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/fef586d427479ab04e2a83352945df48bbdeed19", "committedDate": "2020-05-26T15:45:25Z", "message": "Merge branch '\u26d4\ufe0f-development' into project-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fc41cc5ddaee74e410d1a8d142311f8eace56c4", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/8fc41cc5ddaee74e410d1a8d142311f8eace56c4", "committedDate": "2020-05-26T15:49:38Z", "message": "Changed from server error to bad request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2184e556cdbb0070be1b52a06b03fe38dd037a2", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d2184e556cdbb0070be1b52a06b03fe38dd037a2", "committedDate": "2020-05-26T15:52:37Z", "message": "Updated i18n"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e455c10ee03b53ac55d8da92f596ff8ac5d35c0", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3e455c10ee03b53ac55d8da92f596ff8ac5d35c0", "committedDate": "2020-05-26T15:55:17Z", "message": "Added JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a86d8c74626e724e9e35d6764848d2d291b03159", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/a86d8c74626e724e9e35d6764848d2d291b03159", "committedDate": "2020-05-26T16:13:57Z", "message": "Fix for issue where modal was not closing on cancel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "144312ef6e7fdf3dc85b960e72768fd1975162c6", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/144312ef6e7fdf3dc85b960e72768fd1975162c6", "committedDate": "2020-05-26T16:39:21Z", "message": "Updated JSDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a15ed6181b02b682e78158fac2ea1c23b615d98", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/3a15ed6181b02b682e78158fac2ea1c23b615d98", "committedDate": "2020-05-26T17:59:43Z", "message": "Fixed issue where a user group could result in to owner"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjAzMjk3", "url": "https://github.com/phac-nml/irida/pull/697#pullrequestreview-418603297", "createdAt": "2020-05-26T19:20:30Z", "commit": {"oid": "3a15ed6181b02b682e78158fac2ea1c23b615d98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "812b50b51ec52318afbc0b6cd223f0380f96a898", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/812b50b51ec52318afbc0b6cd223f0380f96a898", "committedDate": "2020-05-26T19:33:38Z", "message": "\ud83d\udcda\ufe0f Updating user documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b578fbb542bd7d24e497741d7057538436c2bea7", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/b578fbb542bd7d24e497741d7057538436c2bea7", "committedDate": "2020-05-27T11:10:33Z", "message": "Merge branch '\u26d4\ufe0f-development' into project-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "483fdd814f87497c9828e8e3bd77e364dd635a4d", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/483fdd814f87497c9828e8e3bd77e364dd635a4d", "committedDate": "2020-05-27T12:11:01Z", "message": "\ud83d\udcda\ufe0f Updated user doc images"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4de5cd229affbc39ee862859d043d8eaeff64989", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/4de5cd229affbc39ee862859d043d8eaeff64989", "committedDate": "2020-05-29T18:37:15Z", "message": "Merge branch 'development' into project-groups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6c2e4a64243ea0b807dfcd8178f1e25f5701cf8", "author": {"user": {"login": "joshsadam", "name": "Josh Adam"}}, "url": "https://github.com/phac-nml/irida/commit/d6c2e4a64243ea0b807dfcd8178f1e25f5701cf8", "committedDate": "2020-05-29T18:38:49Z", "message": ":memo: Updated CHANGELOG.md"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 260, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}