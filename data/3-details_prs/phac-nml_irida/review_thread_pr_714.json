{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MjAwMTQy", "number": 714, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzowODoyNVrOED3pXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoyOTo0NVrOEEUklg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNDkyODkzOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzowODoyNVrOGhI5bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0Mzo1OFrOGhKiWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMTk2NA==", "bodyText": "File comments", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437401964", "createdAt": "2020-06-09T13:08:25Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "diffHunk": "@@ -0,0 +1,81 @@\n+import React, { useEffect, useState } from \"react\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQyODgyNA==", "bodyText": "Updated in 9f6d0cd", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437428824", "createdAt": "2020-06-09T13:43:58Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "diffHunk": "@@ -0,0 +1,81 @@\n+import React, { useEffect, useState } from \"react\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMTk2NA=="}, "originalCommit": {"oid": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNDk0MDg4OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/apis/metadata/metadata-templates.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzoxMDoxNlrOGhJAbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo0Mzo1N1rOGhKiSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMzc1Ng==", "bodyText": "Function comments", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437403756", "createdAt": "2020-06-09T13:10:16Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/apis/metadata/metadata-templates.js", "diffHunk": "@@ -0,0 +1,10 @@\n+import axios from \"axios\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQyODgwOA==", "bodyText": "Updated in 9f6d0cd", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r437428808", "createdAt": "2020-06-09T13:43:57Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/apis/metadata/metadata-templates.js", "diffHunk": "@@ -0,0 +1,10 @@\n+import axios from \"axios\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMzc1Ng=="}, "originalCommit": {"oid": "8b29ded79319b9ec4fb1b60ae4dfe82a04d13f8e"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTY2ODA2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoyOTo0NVrOGh3nBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNDoyOTo0NVrOGh3nBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NzMwMA==", "bodyText": "Since we already have BASE_URL set at the top of the file you should probably use ${BASE_URL}/${item.id} instead of setBaseUrl(/projects/${window.project.id}/metadata-templates/${item.id})", "url": "https://github.com/phac-nml/irida/pull/714#discussion_r438167300", "createdAt": "2020-06-10T14:29:45Z", "author": {"login": "deepsidhu85"}, "path": "src/main/webapp/resources/js/pages/projects/metadata-templates/index.js", "diffHunk": "@@ -0,0 +1,86 @@\n+import React, { useEffect, useState } from \"react\";\n+import { render } from \"react-dom\";\n+import { getProjectMetadataTemplates } from \"../../../apis/metadata/metadata-templates\";\n+import { Avatar, Button, List, Space, Tag, Typography } from \"antd\";\n+import {\n+  IconDownloadFile,\n+  IconMetadataTemplate,\n+} from \"../../../components/icons/Icons\";\n+import { setBaseUrl } from \"../../../utilities/url-utilities\";\n+\n+const { Title } = Typography;\n+\n+/**\n+ * Display a list of metadata templates that are associated with a project.\n+ * @returns {JSX.Element}\n+ * @constructor\n+ */\n+function ProjectMetadataTemplates() {\n+  const [templates, setTemplates] = useState([]);\n+  const BASE_URL = setBaseUrl(\n+    `/projects/${window.project.id}/metadata-templates`\n+  );\n+\n+  useEffect(() => {\n+    getProjectMetadataTemplates(window.project.id).then((data) =>\n+      setTemplates(data)\n+    );\n+  }, []);\n+\n+  return (\n+    <div>\n+      <Space direction=\"vertical\" style={{ width: \"100%\" }}>\n+        <Title level={2}>{i18n(\"ProjectMetadataTemplates.title\")}</Title>\n+        <Space>\n+          <Button href={`${BASE_URL}/new`} className=\"t-create-template-btn\">\n+            Create New Template\n+          </Button>\n+        </Space>\n+        <List\n+          bordered\n+          itemLayout=\"horizontal\"\n+          dataSource={templates}\n+          renderItem={(item) => (\n+            <List.Item\n+              className=\"t-template\"\n+              actions={[\n+                <Button\n+                  shape=\"circle\"\n+                  icon={<IconDownloadFile />}\n+                  href={`${BASE_URL}/${item.id}/excel`}\n+                  key=\"list-download\"\n+                />,\n+              ]}\n+            >\n+              <List.Item.Meta\n+                avatar={<Avatar icon={<IconMetadataTemplate />} />}\n+                title={\n+                  <div\n+                    style={{\n+                      display: \"flex\",\n+                      justifyContent: \"space-between\",\n+                    }}\n+                  >\n+                    <a\n+                      href={setBaseUrl(\n+                        `/projects/${window.project.id}/metadata-templates/${item.id}`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f6d0cd737dc347a5b98613b2c96f70a3c0d3a62"}, "originalPosition": 66}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 629, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}