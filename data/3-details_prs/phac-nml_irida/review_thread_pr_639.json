{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0OTA5NDk0", "number": 639, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDoyNzo1N1rODvJ4JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNTo0MTowMFrODvnzqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzcxNDkzOnYy", "diffSide": "RIGHT", "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDoyNzo1N1rOGBacwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxODoyMDo1NVrOGBkSAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA==", "bodyText": "Any reason they would want to have a different template location?  If not I'd prefer it's just hardcoded to /etc/irida/templates for now.  That's where all the rest of the irida config stuff resides.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135104", "createdAt": "2020-04-06T14:27:57Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI1MzczNQ==", "bodyText": "I have no problems making it hard coded, thought people might like having the option.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404253735", "createdAt": "2020-04-06T17:11:03Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI2NDAyMw==", "bodyText": "Updated in d2288ee", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404264023", "createdAt": "2020-04-06T17:27:41Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI5NjE5Mg==", "bodyText": "Thanks.  Might want to make things configurable someday, but I think we'd want to make it all configurable rather than just the templates.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404296192", "createdAt": "2020-04-06T18:20:55Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -52,21 +53,20 @@\n @Import({ WebEmailConfig.class, IridaApiSecurityConfig.class })\n public class IridaUIWebConfig implements WebMvcConfigurer, ApplicationContextAware {\n \tprivate static final String SPRING_PROFILE_PRODUCTION = \"prod\";\n-\tprivate static final String TEMPLATE_LOCATION = \"/pages/\";\n-\tprivate static final String TEMPLATE_SUFFIX = \".html\";\n-\tprivate static final String LOCALE_CHANGE_PARAMETER = \"lang\";\n+\tprivate static final String INTERNAL_TEMPLATE_PREFIX = \"/pages/\";\n+\tprivate static final String HTML_TEMPLATE_SUFFIX = \".html\";\n \tprivate static final long TEMPLATE_CACHE_TTL_MS = 3600000L;\n \tprivate static final Logger logger = LoggerFactory.getLogger(IridaUIWebConfig.class);\n \tprivate final static String ANALYTICS_DIR = \"/etc/irida/analytics/\";\n \n \t@Value(\"${locales.default}\")\n \tprivate String defaultLocaleValue;\n \n-\t@Autowired\n-\tprivate Environment env;\n+\t@Value(\"${ui.templates}\")\n+\tprivate String extraUITemplates;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTEwNA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzcxODUwOnYy", "diffSide": "RIGHT", "path": "doc/developer/interface/custom-login/index.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDoyODozNlrOGBae5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNzo0MjoxM1rOGBi3xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTY1NA==", "bodyText": "Reword please.  \"... can be easily rendered on and DOM node.\"", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404135654", "createdAt": "2020-04-06T14:28:36Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDI3MzA5NQ==", "bodyText": "Updated in 7f485c3", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404273095", "createdAt": "2020-04-06T17:42:13Z", "author": {"login": "joshsadam"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDEzNTY1NA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzc2MTkxOnYy", "diffSide": "RIGHT", "path": "doc/developer/interface/custom-login/index.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDozNzoxOVrOGBa51g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQyMzo1OTowMVrOGBuLwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA==", "bodyText": "Can you add a full example template file to the repo somewhere?  In the docs somewhere is fine.  Just something maybe with an example header, footer, main section, and the login form?\n\n  \n    Header\n  \n  \n    Institutional info\n    Login\n  \n  \n    Footer\n  \n\nSimilar to what you have in the image below?  That way they have something to start from.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404142550", "createdAt": "2020-04-06T14:37:19Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MzIyMA==", "bodyText": "With lots of commenting in the file as well please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404143220", "createdAt": "2020-04-06T14:38:09Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ1ODQzMw==", "bodyText": "Updated in b027455", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404458433", "createdAt": "2020-04-06T23:59:01Z", "author": {"login": "joshsadam"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0MjU1MA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzgwMDA2OnYy", "diffSide": "RIGHT", "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDo0NToxM1rOGBbRmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMjowNDo1N1rOGBwVpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0ODYzMw==", "bodyText": "Comment please", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404148633", "createdAt": "2020-04-06T14:45:13Z", "author": {"login": "tom114"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -145,29 +145,55 @@ public void addViewControllers(ViewControllerRegistry registry) {\n \t\t\t\t.setViewName(\"projects/templates/referenceFiles/delete\");\n \t}\n \n+\tprivate ITemplateResolver internalTemplateResolver(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ5MzczMw==", "bodyText": "Updated in 3fada17", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404493733", "createdAt": "2020-04-07T02:04:57Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/config/web/IridaUIWebConfig.java", "diffHunk": "@@ -145,29 +145,55 @@ public void addViewControllers(ViewControllerRegistry registry) {\n \t\t\t\t.setViewName(\"projects/templates/referenceFiles/delete\");\n \t}\n \n+\tprivate ITemplateResolver internalTemplateResolver(){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE0ODYzMw=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzgxNzM1OnYy", "diffSide": "RIGHT", "path": "src/main/resources/i18n/messages.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDo0ODozMlrOGBbb7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMjowODozMFrOGBwZBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1MTI3Nw==", "bodyText": "Remove the old login page entries if they're unused please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404151277", "createdAt": "2020-04-06T14:48:32Z", "author": {"login": "tom114"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -41,6 +40,21 @@ bc.automated-outputs=Automated Single Sample Analysis Outputs\n bc.metadata-templates=Sample Metadata Templates\n bc.delete=Delete Project\n \n+\n+# ========================================================================================== #\n+# LOGIN PAGE                                                                                 #\n+# ========================================================================================== #\n+LoginPage.username=Username", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDQ5NDU5Nw==", "bodyText": "Updated in 66c29ec", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404494597", "createdAt": "2020-04-07T02:08:30Z", "author": {"login": "joshsadam"}, "path": "src/main/resources/i18n/messages.properties", "diffHunk": "@@ -41,6 +40,21 @@ bc.automated-outputs=Automated Single Sample Analysis Outputs\n bc.metadata-templates=Sample Metadata Templates\n bc.delete=Delete Project\n \n+\n+# ========================================================================================== #\n+# LOGIN PAGE                                                                                 #\n+# ========================================================================================== #\n+LoginPage.username=Username", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1MTI3Nw=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNzg0ODYxOnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNDo1NDo0N1rOGBbvmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMjo1NDo1MlrOGBxGiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1NjMxNA==", "bodyText": "Comments in this file please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404156314", "createdAt": "2020-04-06T14:54:47Z", "author": {"login": "tom114"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUwNjI0OA==", "bodyText": "Updated in f6b4ea1", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404506248", "createdAt": "2020-04-07T02:54:52Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE1NjMxNA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODAzNjk2OnYy", "diffSide": "RIGHT", "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNTozMzo1NlrOGBdlOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwMjo1NDo1OFrOGBxGng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE4NjQyNQ==", "bodyText": "Can we focus the page on the username field on page load please?", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404186425", "createdAt": "2020-04-06T15:33:56Z", "author": {"login": "tom114"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {\n+  const [form] = Form.useForm();\n+\n+  const onFinish = () => document.getElementById(\"loginForm\").submit();\n+\n+  return (\n+    <Form\n+      form={form}\n+      onFinish={onFinish}\n+      name=\"loginForm\"\n+      action={setBaseUrl(`/login`)}\n+      method=\"POST\"\n+      size=\"large\"\n+    >\n+      <Item\n+        rules={[\n+          {\n+            required: true,\n+            message: i18n(\"LoginPage.username.required\")\n+          }\n+        ]}\n+      >\n+        <Input name=\"username\" prefix={<IconUser style={{ color: blue6 }} />} />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUwNjI3MA==", "bodyText": "Updated in f6b4ea1", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404506270", "createdAt": "2020-04-07T02:54:58Z", "author": {"login": "joshsadam"}, "path": "src/main/webapp/resources/js/pages/LoginPage.jsx", "diffHunk": "@@ -0,0 +1,104 @@\n+import React from \"react\";\n+import { render } from \"react-dom\";\n+import { Alert, Button, Col, Form, Input, Row } from \"antd\";\n+import { IconLocked, IconUser } from \"../components/icons/Icons\";\n+import { setBaseUrl } from \"../utilities/url-utilities\";\n+import { SPACE_MD } from \"../styles/spacing\";\n+import { blue6 } from \"../styles/colors\";\n+\n+const { Item } = Form;\n+\n+function LoginForm() {\n+  const [form] = Form.useForm();\n+\n+  const onFinish = () => document.getElementById(\"loginForm\").submit();\n+\n+  return (\n+    <Form\n+      form={form}\n+      onFinish={onFinish}\n+      name=\"loginForm\"\n+      action={setBaseUrl(`/login`)}\n+      method=\"POST\"\n+      size=\"large\"\n+    >\n+      <Item\n+        rules={[\n+          {\n+            required: true,\n+            message: i18n(\"LoginPage.username.required\")\n+          }\n+        ]}\n+      >\n+        <Input name=\"username\" prefix={<IconUser style={{ color: blue6 }} />} />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE4NjQyNQ=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODE2NDE5OnYy", "diffSide": "RIGHT", "path": "doc/developer/interface/custom-login/index.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNjowMToxOFrOGBe1JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMDowMzoxMFrOGB8RJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNjg4NA==", "bodyText": "I'm not really sure what this is for.  Is it for if they want to completely re-write the login form rather than use the <div id=\"login-root\"></div> section?  If so that needs more detail please.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404206884", "createdAt": "2020-04-06T16:01:18Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>\n+  </body>\n+</html>\n+```\n+\n+ * CSS and JS links are required.  This will include all `React` and styles required.  the `th:` is for our server templating language Thymeleaf to set the url's properly.\n+ * `BASE_URL` is required by the script file in order to properly set the servlet context for the current installation.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+\n+#### Example of Custom login page\n+\n+![Custom Login Page](images/irida-custom-login.png)\n+\n+### Create a custom login form\n+\n+Login form basic skeleton:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY4OTE5MQ==", "bodyText": "Updated in 169dd13", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404689191", "createdAt": "2020-04-07T10:03:10Z", "author": {"login": "joshsadam"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>\n+  </body>\n+</html>\n+```\n+\n+ * CSS and JS links are required.  This will include all `React` and styles required.  the `th:` is for our server templating language Thymeleaf to set the url's properly.\n+ * `BASE_URL` is required by the script file in order to properly set the servlet context for the current installation.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+\n+#### Example of Custom login page\n+\n+![Custom Login Page](images/irida-custom-login.png)\n+\n+### Create a custom login form\n+\n+Login form basic skeleton:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNjg4NA=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwODE3MDM4OnYy", "diffSide": "RIGHT", "path": "doc/developer/interface/custom-login/index.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxNjowMjo0NVrOGBe5Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxMDowODozNVrOGB8d4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNzkxMQ==", "bodyText": "Are they able to add their own JS/CSS/image resources to be displayed in this page as well?  If so how are they configured and served?", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404207911", "createdAt": "2020-04-06T16:02:45Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY5MjQ0OA==", "bodyText": "Added a small not in 3a0eb66.  This is something we can explore more later.  Perhaps they could use their own build system to store script in say /etc/irida/dist/ or something.  This might actually also work for plugin pipelines.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404692448", "createdAt": "2020-04-07T10:08:35Z", "author": {"login": "joshsadam"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,70 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system.  The default path IRIDA will check is `/etc/irida/templates`, but can be configured in the configuration file `src/main/resources/configuration.properties` by updating the `ui.templates` property,\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be easily rendered on and DOM node.  The basic layout can be found in the code snippet below:\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+  <head>\n+    <link rel=\"stylesheet\" th:href=\"@{/dist/css/login.bundle.css}\" />\n+    <script th:inline=\"javascript\">\n+      window.PAGE = {\n+        BASE_URL: /*[[@{\"/\"}]]*/ \"/\"\n+      };\n+    </script>\n+  </head>\n+  <body>\n+    <div id=\"login-root\"></div>\n+    <script th:src=\"@{/dist/js/login.bundle.js}\"></script>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDIwNzkxMQ=="}, "originalCommit": {"oid": "24e381330e4b1be216ecc238a37814bf1e662f25"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMjYxODY1OnYy", "diffSide": "RIGHT", "path": "doc/developer/interface/custom-login/index.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNTo0MTowMFrOGCJzNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxNTo1ODoyMlrOGCKnFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkxMDkwMw==", "bodyText": "Can we change this to Adding custom resources?\nAlso add some about adding images in here as well.  It'll likely be one of the biggest uses of this feature.", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404910903", "createdAt": "2020-04-07T15:41:00Z", "author": {"login": "tom114"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,92 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system, and save it to the path `/etc/irida/templates/`;\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be added to any template by adding:\n+\n+ * CSS (`/dist/css/login.bundle.css`) and JS (`/dist/js/login.bundle.js`) files.\n+ * A `head` > `script` tag with a global `PAGE` variable containing: `BASE_URL: /*[[@{\"/\"}]]*/ \"/\"` as an attribute.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+ \n+#### Adding custom script", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkyNDE4Mw==", "bodyText": "Updated in 7a8e711", "url": "https://github.com/phac-nml/irida/pull/639#discussion_r404924183", "createdAt": "2020-04-07T15:58:22Z", "author": {"login": "joshsadam"}, "path": "doc/developer/interface/custom-login/index.md", "diffHunk": "@@ -0,0 +1,92 @@\n+---\n+layout: default\n+---\n+\n+\n+Custom Login Page\n+==========================================================\n+\n+The default landing / login page for IRIDA can be replaced by an institution without modifying the existing one.\n+\n+Create a html file called `login.html` on your files system, and save it to the path `/etc/irida/templates/`;\n+\n+```properties\n+# Overwritten UI templates\n+ui.templates=/etc/irida/templates/\n+```\n+\n+### Use IRIDA base login form.\n+\n+IRIDA uses a React component as its login form and can be added to any template by adding:\n+\n+ * CSS (`/dist/css/login.bundle.css`) and JS (`/dist/js/login.bundle.js`) files.\n+ * A `head` > `script` tag with a global `PAGE` variable containing: `BASE_URL: /*[[@{\"/\"}]]*/ \"/\"` as an attribute.\n+ * The div with id `login-root` should be placed on the dom element that you want React to render the login form.\n+ \n+#### Adding custom script", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkxMDkwMw=="}, "originalCommit": {"oid": "7efc82f6cd89bcba035fb97511b9fc7cbcc7b93b"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 841, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}