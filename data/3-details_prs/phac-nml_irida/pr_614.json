{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMTg0OTEz", "number": 614, "title": "Hotfix single end analyises", "bodyText": "Description of changes\nFixed a GUI bug that was not properly showing single end files when selecting inputs for analysis pipeline.  Also added displaying those files in the analysis results.  All the back end stuff worked with it with no changes.\nIn the future I'd like to beef up the cart to separate the single-end and paired-end pipelines and maybe only show the tools applicable to the data in the cart.  For now this is a start.\nNote this is a hotfix and must be merged into both master and development.\nRelated issue\nFixes #53\nChecklist\nThings for the developer to confirm they've done before the PR should be accepted:\n\n CHANGELOG.md (and UPGRADING.md if necessary) updated with information for new change.\n* [ ] Tests added (or description of how to test) for any new features.\n* [ ] User documentation updated for UI or technical changes.", "createdAt": "2020-03-03T21:19:56Z", "url": "https://github.com/phac-nml/irida/pull/614", "merged": true, "mergeCommit": {"oid": "2da4fa3cddfe77b8ccd69b147fd1823c61cda1eb"}, "closed": true, "closedAt": "2020-03-05T15:27:43Z", "author": {"login": "tom114"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKJA-SAH2gAyMzgzMTg0OTEzOmZhODljNDRhMDhjOTRkOGVmYWZkNTA4YWQzZTIyNWQ5MDlhMjgxNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKtIqhgFqTM2OTY1OTIxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa89c44a08c94d8efafd508ad3e225d909a28152", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/fa89c44a08c94d8efafd508ad3e225d909a28152", "committedDate": "2020-03-03T21:15:32Z", "message": "added UI fixes to show single end analysis input files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "005bfd97cde873aafff9153b8eace882a9f65068", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/005bfd97cde873aafff9153b8eace882a9f65068", "committedDate": "2020-03-03T21:17:16Z", "message": "added changelog and pom version bump to 20.01.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTU2Njcy", "url": "https://github.com/phac-nml/irida/pull/614#pullrequestreview-368956672", "createdAt": "2020-03-04T17:00:48Z", "commit": {"oid": "005bfd97cde873aafff9153b8eace882a9f65068"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzowMDo0OFrOFx1rig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzowMTo0NlrOFx1tsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgwNDA0Mg==", "bodyText": "The sorter function is exactly the same as what is on line 265.  Want to make that it's own method?", "url": "https://github.com/phac-nml/irida/pull/614#discussion_r387804042", "createdAt": "2020-03-04T17:00:48Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisController.java", "diffHunk": "@@ -277,6 +275,22 @@ public String getDetailsPage(@PathVariable Long submissionId, Model model, Local\n \t\t}).collect(Collectors.toList());\n \t\tmodel.addAttribute(\"paired_end\", sampleFiles);\n \n+\t\t// - Single\n+\t\tSet<SingleEndSequenceFile> inputFilesSingle = sequencingObjectService.getSequencingObjectsOfTypeForAnalysisSubmission(\n+\t\t\t\tsubmission, SingleEndSequenceFile.class);\n+\t\tList<SampleSingleFiles> singleFiles = inputFilesSingle.stream().map(SampleSingleFiles::new).sorted((a, b) -> {\n+\t\t\tif (a.sample == null && b.sample == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "005bfd97cde873aafff9153b8eace882a9f65068"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgwNDU5Mg==", "bodyText": "Why did you make this a private class when we have been keeping all our UI models in dto packages?", "url": "https://github.com/phac-nml/irida/pull/614#discussion_r387804592", "createdAt": "2020-03-04T17:01:46Z", "author": {"login": "joshsadam"}, "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/analysis/AnalysisController.java", "diffHunk": "@@ -1114,4 +1128,37 @@ public SequenceFilePair getSequenceFilePair() {\n \t\t\treturn sequenceFilePair;\n \t\t}\n \t}\n+\n+\t/**\n+\t * UI Model to return a single end sequence file with its sample", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "005bfd97cde873aafff9153b8eace882a9f65068"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2da4fa3cddfe77b8ccd69b147fd1823c61cda1eb", "author": {"user": {"login": "tom114", "name": "Tom Matthews"}}, "url": "https://github.com/phac-nml/irida/commit/2da4fa3cddfe77b8ccd69b147fd1823c61cda1eb", "committedDate": "2020-03-04T17:28:07Z", "message": "refactored the single/paired file ui classes into a single class and removed the big sort method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NjU5MjE5", "url": "https://github.com/phac-nml/irida/pull/614#pullrequestreview-369659219", "createdAt": "2020-03-05T15:20:31Z", "commit": {"oid": "2da4fa3cddfe77b8ccd69b147fd1823c61cda1eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 185, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}