{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NDc5MjEz", "number": 629, "title": "poetic form should be maintained by RIPE-DBM-MNT", "bodyText": "", "createdAt": "2020-04-24T10:53:07Z", "url": "https://github.com/RIPE-NCC/whois/pull/629", "merged": true, "mergeCommit": {"oid": "c3d5e1df27e13148724160e64d69506c98f8d3d3"}, "closed": true, "closedAt": "2020-04-24T13:03:53Z", "author": {"login": "maggarwal13"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcavITLgH2gAyNDA4NDc5MjEzOjExMTA0NmI0NDA4ZjY0YTEyNTk4M2Y0ZmE3ZTkxOGM1NmEzY2YzYzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaw7F3AH2gAyNDA4NDc5MjEzOmZjYzBmNjEwYTMyOTkyMDYwODUwY2ZmMDNjY2NhY2E2NGY3ZWI1NjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "111046b4408f64a125983f4fa7e918c56a3cf3c6", "author": {"user": {"login": "maggarwal13", "name": null}}, "url": "https://github.com/RIPE-NCC/whois/commit/111046b4408f64a125983f4fa7e918c56a3cf3c6", "committedDate": "2020-04-24T10:42:43Z", "message": "poetic form should be maintained by RIPE-DBM-MNT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5OTAzMDky", "url": "https://github.com/RIPE-NCC/whois/pull/629#pullrequestreview-399903092", "createdAt": "2020-04-24T12:31:31Z", "commit": {"oid": "111046b4408f64a125983f4fa7e918c56a3cf3c6"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjozMTozMVrOGLVdyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjozMzoyMFrOGLVh5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUzOTIxMA==", "bodyText": "update.getUpdatedObject().getValuesForAttribute(AttributeType.MNT_BY); is a bit cleaner?", "url": "https://github.com/RIPE-NCC/whois/pull/629#discussion_r414539210", "createdAt": "2020-04-24T12:31:31Z", "author": {"login": "eshryane"}, "path": "whois-update/src/main/java/net/ripe/db/whois/update/handler/validator/poem/PoeticFormHasOnlyDbmMaintainerValidator.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package net.ripe.db.whois.update.handler.validator.poem;\n+\n+import com.google.common.collect.ImmutableList;\n+import net.ripe.db.whois.common.domain.CIString;\n+import net.ripe.db.whois.common.rpsl.AttributeType;\n+import net.ripe.db.whois.common.rpsl.ObjectType;\n+import net.ripe.db.whois.common.rpsl.RpslAttribute;\n+import net.ripe.db.whois.update.domain.Action;\n+import net.ripe.db.whois.update.domain.PreparedUpdate;\n+import net.ripe.db.whois.update.domain.UpdateContext;\n+import net.ripe.db.whois.update.domain.UpdateMessages;\n+import net.ripe.db.whois.update.handler.validator.BusinessRuleValidator;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+\n+import static net.ripe.db.whois.common.domain.CIString.ciString;\n+\n+@Component\n+public class PoeticFormHasOnlyDbmMaintainerValidator implements BusinessRuleValidator {\n+\n+    private static final ImmutableList<Action> ACTIONS = ImmutableList.of(Action.CREATE, Action.MODIFY);\n+    private static final ImmutableList<ObjectType> TYPES = ImmutableList.of(ObjectType.POETIC_FORM);\n+\n+    private static final CIString POETC_FORM_MAINTAINER = ciString(\"RIPE-DBM-MNT\");\n+\n+    @Override\n+    public void validate(final PreparedUpdate update, final UpdateContext updateContext) {\n+        final List<RpslAttribute> mntByAttribute = update.getUpdatedObject().findAttributes(AttributeType.MNT_BY);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "111046b4408f64a125983f4fa7e918c56a3cf3c6"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUzOTU2Mw==", "bodyText": "Typo, \"POETIC\"", "url": "https://github.com/RIPE-NCC/whois/pull/629#discussion_r414539563", "createdAt": "2020-04-24T12:32:05Z", "author": {"login": "eshryane"}, "path": "whois-update/src/main/java/net/ripe/db/whois/update/handler/validator/poem/PoeticFormHasOnlyDbmMaintainerValidator.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package net.ripe.db.whois.update.handler.validator.poem;\n+\n+import com.google.common.collect.ImmutableList;\n+import net.ripe.db.whois.common.domain.CIString;\n+import net.ripe.db.whois.common.rpsl.AttributeType;\n+import net.ripe.db.whois.common.rpsl.ObjectType;\n+import net.ripe.db.whois.common.rpsl.RpslAttribute;\n+import net.ripe.db.whois.update.domain.Action;\n+import net.ripe.db.whois.update.domain.PreparedUpdate;\n+import net.ripe.db.whois.update.domain.UpdateContext;\n+import net.ripe.db.whois.update.domain.UpdateMessages;\n+import net.ripe.db.whois.update.handler.validator.BusinessRuleValidator;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+\n+import static net.ripe.db.whois.common.domain.CIString.ciString;\n+\n+@Component\n+public class PoeticFormHasOnlyDbmMaintainerValidator implements BusinessRuleValidator {\n+\n+    private static final ImmutableList<Action> ACTIONS = ImmutableList.of(Action.CREATE, Action.MODIFY);\n+    private static final ImmutableList<ObjectType> TYPES = ImmutableList.of(ObjectType.POETIC_FORM);\n+\n+    private static final CIString POETC_FORM_MAINTAINER = ciString(\"RIPE-DBM-MNT\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "111046b4408f64a125983f4fa7e918c56a3cf3c6"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU0MDI2Mg==", "bodyText": "Reorder the sentence? \"Poetic-form must only be maintained by..\"", "url": "https://github.com/RIPE-NCC/whois/pull/629#discussion_r414540262", "createdAt": "2020-04-24T12:33:20Z", "author": {"login": "eshryane"}, "path": "whois-update/src/main/java/net/ripe/db/whois/update/domain/UpdateMessages.java", "diffHunk": "@@ -406,6 +406,10 @@ public static Message poemRequiresPublicMaintainer() {\n         return new Message(Type.ERROR, \"Poem must be maintained by 'LIM-MNT', which has a public password\");\n     }\n \n+    public static Message poeticFormRequiresDbmMaintainer() {\n+        return new Message(Type.ERROR, \"Poetic-form must be maintained by only 'RIPE-DBM-MNT'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "111046b4408f64a125983f4fa7e918c56a3cf3c6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcc0f610a32992060850cff03cccaca64f7eb563", "author": {"user": {"login": "maggarwal13", "name": null}}, "url": "https://github.com/RIPE-NCC/whois/commit/fcc0f610a32992060850cff03cccaca64f7eb563", "committedDate": "2020-04-24T12:48:06Z", "message": "implement Ed suggestions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 748, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}