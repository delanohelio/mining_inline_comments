{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNTM0NTQw", "number": 657, "title": "Created new dummfiier for RC environment.", "bodyText": "", "createdAt": "2020-09-23T05:59:00Z", "url": "https://github.com/RIPE-NCC/whois/pull/657", "merged": true, "mergeCommit": {"oid": "fe3aef285bcd7ea380e53bc11c1bd2d4e6bba002"}, "closed": true, "closedAt": "2020-10-06T07:18:37Z", "author": {"login": "eshryane"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLd0iXAH2gAyNDkxNTM0NTQwOmM3OWM1Njc4OGI2ZWUzMTczYzE2NzEwYThjMzNkYTMzZWI4OWE2Y2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLulqDAFqTQ5NDgwMzE2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c79c56788b6ee3173c16710a8c33da33eb89a6cf", "author": {"user": {"login": "eshryane", "name": "Ed Shryane"}}, "url": "https://github.com/RIPE-NCC/whois/commit/c79c56788b6ee3173c16710a8c33da33eb89a6cf", "committedDate": "2020-09-22T20:15:02Z", "message": "Created new dummfiier for RC environment."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzEwNjc3", "url": "https://github.com/RIPE-NCC/whois/pull/657#pullrequestreview-494710677", "createdAt": "2020-09-23T14:17:35Z", "commit": {"oid": "c79c56788b6ee3173c16710a8c33da33eb89a6cf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNzozNlrOHWwziA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNzozNlrOHWwziA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMDM0NA==", "bodyText": "Minor: the logger is not being used to log anything though. Consider using it, or removing", "url": "https://github.com/RIPE-NCC/whois/pull/657#discussion_r493630344", "createdAt": "2020-09-23T14:17:36Z", "author": {"login": "dadepo"}, "path": "whois-commons/src/main/java/net/ripe/db/whois/common/rpsl/DummifierRC.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package net.ripe.db.whois.common.rpsl;\n+\n+import com.google.common.collect.Lists;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+\n+@Component\n+public class DummifierRC extends DummifierCurrent {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(DummifierRC.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c79c56788b6ee3173c16710a8c33da33eb89a6cf"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzE2MjI3", "url": "https://github.com/RIPE-NCC/whois/pull/657#pullrequestreview-494716227", "createdAt": "2020-09-23T14:22:55Z", "commit": {"oid": "c79c56788b6ee3173c16710a8c33da33eb89a6cf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoyMjo1NVrOHWxEIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoyMjo1NVrOHWxEIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzNDU5NA==", "bodyText": "the rpslObject is also not used by the dummifyDescr method...consider removing/using it somehow?", "url": "https://github.com/RIPE-NCC/whois/pull/657#discussion_r493634594", "createdAt": "2020-09-23T14:22:55Z", "author": {"login": "dadepo"}, "path": "whois-commons/src/main/java/net/ripe/db/whois/common/rpsl/DummifierRC.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package net.ripe.db.whois.common.rpsl;\n+\n+import com.google.common.collect.Lists;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+\n+@Component\n+public class DummifierRC extends DummifierCurrent {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(DummifierRC.class);\n+\n+    @Override\n+    public RpslObject dummify(final int version, final RpslObject rpslObject) {\n+        final List<RpslAttribute> attributes = Lists.newArrayList(rpslObject.getAttributes());\n+\n+        for (int i = 0; i < attributes.size(); i++) {\n+            RpslAttribute replacement = attributes.get(i);\n+\n+            replacement = dummifyOrgName(rpslObject, replacement);\n+            replacement = dummifyDescr(rpslObject, replacement);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c79c56788b6ee3173c16710a8c33da33eb89a6cf"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118", "author": {"user": {"login": "eshryane", "name": "Ed Shryane"}}, "url": "https://github.com/RIPE-NCC/whois/commit/00f3f0517d219323f5314750698ab29e1b8a3118", "committedDate": "2020-09-23T14:28:17Z", "message": "Removed unused logger and method arguments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzIzODEw", "url": "https://github.com/RIPE-NCC/whois/pull/657#pullrequestreview-494723810", "createdAt": "2020-09-23T14:29:55Z", "commit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoyOTo1NVrOHWxaXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoyOTo1NVrOHWxaXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY0MDI4NA==", "bodyText": "Looks like this test named wrongly...it seems to be checking the dummification of description and remarks and not role", "url": "https://github.com/RIPE-NCC/whois/pull/657#discussion_r493640284", "createdAt": "2020-09-23T14:29:55Z", "author": {"login": "dadepo"}, "path": "whois-commons/src/test/java/net/ripe/db/whois/common/rpsl/DummifierRCTest.java", "diffHunk": "@@ -0,0 +1,151 @@\n+package net.ripe.db.whois.common.rpsl;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import static org.hamcrest.Matchers.is;\n+import static org.junit.Assert.assertThat;\n+\n+public class DummifierRCTest {\n+\n+    private DummifierRC subject;\n+\n+    @Before\n+    public void setup() {\n+        subject = new DummifierRC();\n+    }\n+\n+    @Test\n+    public void dummify_organisation() {\n+        final RpslObject before = RpslObject.parse(\n+            \"organisation:   ORG-RIEN1-TEST\\n\" +\n+            \"org-name:       Reseaux IP Europeens Network Coordination Centre (RIPE NCC)\\n\" +\n+            \"org-type:       LIR\\n\" +\n+            \"descr:          RIPE NCC Operations\\n\" +\n+            \"address:        Singel 256\\n\" +\n+            \"address:        Amsterdam\\n\" +\n+            \"address:        Netherlands\\n\" +\n+            \"phone:          +31205552222\\n\" +\n+            \"fax-no:         +31205552266\\n\" +\n+            \"admin-c:        AC1-TEST\\n\" +\n+            \"admin-c:        AC2-TEST\\n\" +\n+            \"abuse-c:        AR1-TEST\\n\" +\n+            \"mnt-ref:        TEST-MNT\\n\" +\n+            \"mnt-by:         TEST-MNT\\n\" +\n+            \"created:        1970-01-01T00:00:00Z\\n\" +\n+            \"last-modified:  2020-09-22T09:00:00Z\\n\" +\n+            \"source:         TEST\");\n+\n+        final RpslObject after = subject.dummify(3, before);\n+\n+        assertThat(after.toString(), is(\n+            \"organisation:   ORG-RIEN1-TEST\\n\" +\n+            \"org-name:       Dummy org-name for ORG-RIEN1-TEST\\n\" +\n+            \"org-type:       LIR\\n\" +\n+            \"descr:          ***\\n\" +\n+            \"address:        ***\\n\" +\n+            \"address:        ***\\n\" +\n+            \"address:        Netherlands\\n\" +\n+            \"phone:          +31205......\\n\" +\n+            \"fax-no:         +31205......\\n\" +\n+            \"admin-c:        AC1-TEST\\n\" +\n+            \"admin-c:        AC2-TEST\\n\" +\n+            \"abuse-c:        AR1-TEST\\n\" +\n+            \"mnt-ref:        TEST-MNT\\n\" +\n+            \"mnt-by:         TEST-MNT\\n\" +\n+            \"created:        1970-01-01T00:00:00Z\\n\" +\n+            \"last-modified:  2020-09-22T09:00:00Z\\n\" +\n+            \"source:         TEST\\n\"));\n+    }\n+\n+    @Test\n+    public void dummify_role() {\n+        final RpslObject before = RpslObject.parse(\n+            \"role:           Abuse Contact\\n\" +\n+            \"descr:          RIPE NCC Operations\\n\" +\n+            \"address:        Singel 256\\n\" +\n+            \"address:        Amsterdam\\n\" +\n+            \"address:        Netherlands\\n\" +\n+            \"e-mail:         abuse@ripe.net\\n\" +\n+            \"nic-hdl:        AC1-TEST\\n\" +\n+            \"remarks:        Abuse\\n\" +\n+            \"+Contact\\n\" +\n+            \"\\tRole\\n\" +\n+            \"abuse-mailbox:  abuse@ripe.net\\n\" +\n+            \"mnt-by:         TEST-MNT\\n\" +\n+            \"created:        1970-01-01T00:00:00Z\\n\" +\n+            \"last-modified:  2020-09-22T09:00:00Z\\n\" +\n+            \"source:         TEST\");\n+\n+        final RpslObject after = subject.dummify(3, before);\n+\n+        assertThat(after.toString(), is(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzMxNjIz", "url": "https://github.com/RIPE-NCC/whois/pull/657#pullrequestreview-494731623", "createdAt": "2020-09-23T14:37:16Z", "commit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDozNzoxNlrOHWxxjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDozNzoxNlrOHWxxjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY0NjIyMw==", "bodyText": "question: shouldn't mnt-by also be dummified?...looks like it can be used to retrieve the role object/email details in production", "url": "https://github.com/RIPE-NCC/whois/pull/657#discussion_r493646223", "createdAt": "2020-09-23T14:37:16Z", "author": {"login": "dadepo"}, "path": "whois-commons/src/main/java/net/ripe/db/whois/common/rpsl/DummifierRC.java", "diffHunk": "@@ -0,0 +1,70 @@\n+package net.ripe.db.whois.common.rpsl;\n+\n+import com.google.common.collect.Lists;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+\n+@Component\n+public class DummifierRC extends DummifierCurrent {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0ODAzMTY3", "url": "https://github.com/RIPE-NCC/whois/pull/657#pullrequestreview-494803167", "createdAt": "2020-09-23T15:47:10Z", "commit": {"oid": "00f3f0517d219323f5314750698ab29e1b8a3118"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 785, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}