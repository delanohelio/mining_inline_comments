{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MDQ5Mzk3", "number": 1863, "title": "DBZ-2597 Fix ConcurrentModificationException when schema modified in sharded cluster", "bodyText": "https://issues.redhat.com/browse/DBZ-2597", "createdAt": "2020-10-02T17:48:06Z", "url": "https://github.com/debezium/debezium/pull/1863", "merged": true, "mergeCommit": {"oid": "85821b4975fb6eb921fde139b5bfe2c7770920cc"}, "closed": true, "closedAt": "2020-10-03T11:36:18Z", "author": {"login": "Naros"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOps8BAH2gAyNDk3MDQ5Mzk3Ojk1NGYyYmNkN2U5NjhkNWNhMDAyMjI1ZGExYzA4NTBhYTkwNWY5YmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOsPE-AFqTUwMTQzNjQ3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "954f2bcd7e968d5ca002225da1c0850aa905f9bd", "author": {"user": {"login": "Naros", "name": "Chris Cranford"}}, "url": "https://github.com/debezium/debezium/commit/954f2bcd7e968d5ca002225da1c0850aa905f9bd", "committedDate": "2020-10-02T17:47:22Z", "message": "DBZ-2597 Fix ConcurrentModificationException when schema modified in sharded cluster"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMzU1OTEy", "url": "https://github.com/debezium/debezium/pull/1863#pullrequestreview-501355912", "createdAt": "2020-10-02T18:25:12Z", "commit": {"oid": "954f2bcd7e968d5ca002225da1c0850aa905f9bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxODoyNToxMlrOHb3fQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxODoyNToxMlrOHb3fQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4MjcyMw==", "bodyText": "Can you change the variable type to ConcurrentInterface to and also see whether some of our marker annotations like @ThreadSafe, Immutable etc. can be added? Thx!", "url": "https://github.com/debezium/debezium/pull/1863#discussion_r498982723", "createdAt": "2020-10-02T18:25:12Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/MongoDbSchema.java", "diffHunk": "@@ -56,7 +57,7 @@\n     private final Schema sourceSchema;\n     private final SchemaNameAdjuster adjuster = SchemaNameAdjuster.create(LOGGER);\n     private final Function<Document, String> valueTransformer;\n-    private final Map<CollectionId, MongoDbCollectionSchema> collections = new HashMap<>();\n+    private final Map<CollectionId, MongoDbCollectionSchema> collections = new ConcurrentHashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "954f2bcd7e968d5ca002225da1c0850aa905f9bd"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d5c6e7823c78830ee5a439df9e7de818029dbe6", "author": {"user": {"login": "Naros", "name": "Chris Cranford"}}, "url": "https://github.com/debezium/debezium/commit/0d5c6e7823c78830ee5a439df9e7de818029dbe6", "committedDate": "2020-10-02T19:08:42Z", "message": "DBZ-2597 Suggested changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "0d5c6e7823c78830ee5a439df9e7de818029dbe6", "author": {"user": {"login": "Naros", "name": "Chris Cranford"}}, "url": "https://github.com/debezium/debezium/commit/0d5c6e7823c78830ee5a439df9e7de818029dbe6", "committedDate": "2020-10-02T19:08:42Z", "message": "DBZ-2597 Suggested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNDM2NDcw", "url": "https://github.com/debezium/debezium/pull/1863#pullrequestreview-501436470", "createdAt": "2020-10-02T20:44:28Z", "commit": {"oid": "0d5c6e7823c78830ee5a439df9e7de818029dbe6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2289, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}