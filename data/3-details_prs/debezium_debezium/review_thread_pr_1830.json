{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxODcyMTg0", "number": 1830, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMDoyNDoyMlrOEm-efQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMDoyNDoyMlrOEm-efQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MzA0OTU3OnYy", "diffSide": "RIGHT", "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMDoyNDoyMlrOHXT2GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwOTo0NDoyN1rOHZlFbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA==", "bodyText": "Do we really need a new option for this? Couldn't this also be controlled via eventDeserializationFailureHandlingMode?", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r494204440", "createdAt": "2020-09-24T10:24:22Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDI0OTE2OQ==", "bodyText": "Hi, I will remake it, but I'll ask first: how much does mysql connector care about backward / forward compatibility of configs vs programs?\nIn case you don't care, it's better to merge the options and I'll do it. But if you do care about having compatible options (and unchanged behavior on upgrade), then we have to have another option to avoid changing features without announcing it first somehow.", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r494249169", "createdAt": "2020-09-24T11:45:54Z", "author": {"login": "petoju"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDI4NTA2Mw==", "bodyText": "Good point; we do care about compatibility, a lot :)\nSo the default behavior of that setting is FAIL, i.e. in that case there'd be no behavioral change. Only if someone had set it to WARN or IGNORE, they'd now not longer fail on unexpected \"statement\" style rows but move forward. Which seems ok-ish to me, but I also could understand someone finding this not acceptable.\n@jpechane, @rk3rn3r, @Naros, any thoughts on this?", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r494285063", "createdAt": "2020-09-24T12:42:26Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDI5MTcyNg==", "bodyText": "@gunnarmorling IMHO this is fine as during the start of connector we check the global setting of binlog_format.\nIn fact this could be even improvement as we had reports in the past that people switch to row-based rpelication but Debezium still refused to start as there were still old statemenet-based replication messages in the binlog. They were then asked to flush the binlog etc. This could be easier solution for such scenario.", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r494291726", "createdAt": "2020-09-24T12:52:49Z", "author": {"login": "jpechane"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg0OTUyMA==", "bodyText": "@jpechane sorry I don't fully understand. So what is \"this\", that could be easier solution? Is it the original PR or is it related to the suggested changes?", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r495849520", "createdAt": "2020-09-28T10:46:34Z", "author": {"login": "petoju"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ2NzkyNg==", "bodyText": "I am sorry for the confsion. IMHO we should just use the single eventDeserializationFailureHandlingMode for that purpose as proposed by @gunnarmorling . I don't think there is a real break in backward compatibility.", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r496467926", "createdAt": "2020-09-29T07:14:20Z", "author": {"login": "jpechane"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU4NDA0Nw==", "bodyText": "Thanks, this should be fixed now.", "url": "https://github.com/debezium/debezium/pull/1830#discussion_r496584047", "createdAt": "2020-09-29T09:44:27Z", "author": {"login": "petoju"}, "path": "debezium-connector-mysql/src/main/java/io/debezium/connector/mysql/BinlogReader.java", "diffHunk": "@@ -100,6 +100,7 @@\n     private final Clock clock;\n     private final ElapsedTimeStrategy pollOutputDelay;\n     private final EventProcessingFailureHandlingMode eventDeserializationFailureHandlingMode;\n+    private final EventProcessingFailureHandlingMode eventStatementFailureHandlingMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwNDQ0MA=="}, "originalCommit": null, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4212, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}