{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMDQ4Njg1", "number": 1948, "title": "DBZ-2637 Enhance Postgres validation checks", "bodyText": "DBZ-2637 Enhance Postgres validation checks\n\nadd wal_level config check\nadd LOGIN and REPLICATION roles check\nadd replication slot is already in use check\n\ncloses https://issues.redhat.com/browse/DBZ-2637", "createdAt": "2020-11-12T17:41:42Z", "url": "https://github.com/debezium/debezium/pull/1948", "merged": true, "mergeCommit": {"oid": "4faf13d0c9c025124fcfcd7e9b25a76fbd13c476"}, "closed": true, "closedAt": "2020-11-16T06:47:26Z", "author": {"login": "rk3rn3r"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb2KMgAH2gAyNTIwMDQ4Njg1OjdlYWNmZGJiYmY1NjhjYWRlMjljNjZjNDJlNGUwZTc3Y2U1ZmRhOGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcHMxYAH2gAyNTIwMDQ4Njg1OmZjMDZhMDVlM2FkMDM3MWI0MzJiMzgzYTc1YzQyMDI4M2NhYmJiN2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7eacfdbbbf568cade29c66c42e4e0e77ce5fda8b", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/7eacfdbbbf568cade29c66c42e4e0e77ce5fda8b", "committedDate": "2020-11-12T17:39:12Z", "message": "DBZ-2637 Enhance Postgres validation checks\n+ add wal_level config check\n+ add LOGIN and REPLICATION roles check\n+ add replication slot is already in use check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c4cb1cacafe48e8bda07336df234c03025700c", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/17c4cb1cacafe48e8bda07336df234c03025700c", "committedDate": "2020-11-12T17:40:26Z", "message": "DBZ-2637 unrelated cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzM1MTE4", "url": "https://github.com/debezium/debezium/pull/1948#pullrequestreview-529335118", "createdAt": "2020-11-12T17:42:43Z", "commit": {"oid": "17c4cb1cacafe48e8bda07336df234c03025700c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNzo0Mjo0M1rOHyGW7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNzo0Mjo0M1rOHyGW7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI5NTAyMA==", "bodyText": "Unrelated cleanup in separate commit. Is it okay to show all possible values?", "url": "https://github.com/debezium/debezium/pull/1948#discussion_r522295020", "createdAt": "2020-11-12T17:42:43Z", "author": {"login": "rk3rn3r"}, "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/PostgresConnectorConfig.java", "diffHunk": "@@ -561,7 +561,13 @@ public static SchemaRefreshMode parse(String value) {\n             .withWidth(Width.MEDIUM)\n             .withImportance(Importance.MEDIUM)\n             .withDescription(\"The name of the Postgres logical decoding plugin installed on the server. \" +\n-                    \"Supported values are '\" + LogicalDecoder.DECODERBUFS.getValue() + \"' and '\" + LogicalDecoder.WAL2JSON.getValue() + \"'. \" +\n+                    \"Supported values are '\" + LogicalDecoder.DECODERBUFS.getValue()\n+                    + \"', '\" + LogicalDecoder.WAL2JSON.getValue()\n+                    + \"', '\" + LogicalDecoder.PGOUTPUT.getValue()\n+                    + \"', '\" + LogicalDecoder.WAL2JSON_STREAMING.getValue()\n+                    + \"', '\" + LogicalDecoder.WAL2JSON_RDS.getValue()\n+                    + \"' and '\" + LogicalDecoder.WAL2JSON_RDS_STREAMING.getValue()\n+                    + \"'. \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17c4cb1cacafe48e8bda07336df234c03025700c"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d5f95ae60914b410e676ce03ff7560e1a378e2d", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/9d5f95ae60914b410e676ce03ff7560e1a378e2d", "committedDate": "2020-11-12T19:06:25Z", "message": "DBZ-2637 fix unit test timeouts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "9d5f95ae60914b410e676ce03ff7560e1a378e2d", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/9d5f95ae60914b410e676ce03ff7560e1a378e2d", "committedDate": "2020-11-12T19:06:25Z", "message": "DBZ-2637 fix unit test timeouts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMDQxMzUy", "url": "https://github.com/debezium/debezium/pull/1948#pullrequestreview-530041352", "createdAt": "2020-11-13T13:00:33Z", "commit": {"oid": "9d5f95ae60914b410e676ce03ff7560e1a378e2d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMzowMDozM1rOHytbUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMzowMDozM1rOHytbUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkzNTEyMQ==", "bodyText": "The database is really named PostgreSQL :-)", "url": "https://github.com/debezium/debezium/pull/1948#discussion_r522935121", "createdAt": "2020-11-13T13:00:33Z", "author": {"login": "jpechane"}, "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/connection/PostgresReplicationConnection.java", "diffHunk": "@@ -321,15 +321,15 @@ public void initConnection() throws SQLException, InterruptedException {\n \n     @Override\n     public Optional<SlotCreationResult> createReplicationSlot() throws SQLException {\n-        // note that some of these options are only supported in pg94+, additionally\n-        // the options are not yet exported by the jdbc api wrapper, therefore, we just do this ourselves\n-        // but eventually this should be moved back to the jdbc API\n+        // note that some of these options are only supported in Postgres 9.4+, additionally\n+        // the options are not yet exported by the jdbc api wrapper, therefore, we just do\n+        // this ourselves but eventually this should be moved back to the jdbc API\n         // see https://github.com/pgjdbc/pgjdbc/issues/1305\n \n         LOGGER.debug(\"Creating new replication slot '{}' for plugin '{}'\", slotName, plugin);\n         String tempPart = \"\";\n-        // Exported snapshots are supported in PostgreSQL 9.4+\n-        Boolean canExportSnapshot = pgConnection().haveMinimumServerVersion(ServerVersion.v9_4);\n+        // Exported snapshots are supported in Postgres 9.4+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d5f95ae60914b410e676ce03ff7560e1a378e2d"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc06a05e3ad0371b432b383a75c420283cabbb7e", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/fc06a05e3ad0371b432b383a75c420283cabbb7e", "committedDate": "2020-11-13T13:30:24Z", "message": "DBZ-2637 apply feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2372, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}