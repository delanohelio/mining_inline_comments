{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMjc2NDgx", "number": 1731, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDowNTo0OVrOEU7uyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjowNTozOVrOEVETxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMzg1NjEwOnYy", "diffSide": "RIGHT", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDowNTo0OVrOG7Z3nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNToyOTo0NFrOG7lwwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk0MzAwNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    final int connectTimeoutMS = config.getInteger(MongoDbConnectorConfig.CONNECT_TIMEOUT_MS);\n          \n          \n            \n                    final int connectTimeoutMs = config.getInteger(MongoDbConnectorConfig.CONNECT_TIMEOUT_MS);\n          \n      \n    \n    \n  \n\nSame for others.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r464943005", "createdAt": "2020-08-04T10:05:49Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -63,6 +63,10 @@ public ConnectionContext(Configuration config) {\n         final boolean useSSL = config.getBoolean(MongoDbConnectorConfig.SSL_ENABLED);\n         final boolean sslAllowInvalidHostnames = config.getBoolean(MongoDbConnectorConfig.SSL_ALLOW_INVALID_HOSTNAMES);\n \n+        final int connectTimeoutMS = config.getInteger(MongoDbConnectorConfig.CONNECT_TIMEOUT_MS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEzNzg1Ng==", "bodyText": "Applied", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465137856", "createdAt": "2020-08-04T15:29:44Z", "author": {"login": "Naros"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -63,6 +63,10 @@ public ConnectionContext(Configuration config) {\n         final boolean useSSL = config.getBoolean(MongoDbConnectorConfig.SSL_ENABLED);\n         final boolean sslAllowInvalidHostnames = config.getBoolean(MongoDbConnectorConfig.SSL_ALLOW_INVALID_HOSTNAMES);\n \n+        final int connectTimeoutMS = config.getInteger(MongoDbConnectorConfig.CONNECT_TIMEOUT_MS);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk0MzAwNQ=="}, "originalCommit": null, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMzg1OTk5OnYy", "diffSide": "RIGHT", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/MongoDbConnectorConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDowNjo0OFrOG7Z5wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNDozNTozMFrOG7jWwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk0MzU1Mw==", "bodyText": "Should we prefix the option names with \"mongodb.\", e.g. \"mongodb.connect.timeout.ms\"? Looks like we do that for the properties which are mostly through to the client builder.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r464943553", "createdAt": "2020-08-04T10:06:48Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/MongoDbConnectorConfig.java", "diffHunk": "@@ -308,6 +308,30 @@ public static SnapshotMode parse(String value, String defaultValue) {\n                     + \"'initial' (the default) to specify the connector should always perform an initial sync when required; \"\n                     + \"'never' to specify the connector should never perform an initial sync \");\n \n+    public static final Field CONNECT_TIMEOUT_MS = Field.create(\"connect.timeout.ms\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA5ODQzNA==", "bodyText": "That's probably a good idea, +1.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465098434", "createdAt": "2020-08-04T14:35:30Z", "author": {"login": "Naros"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/MongoDbConnectorConfig.java", "diffHunk": "@@ -308,6 +308,30 @@ public static SnapshotMode parse(String value, String defaultValue) {\n                     + \"'initial' (the default) to specify the connector should always perform an initial sync when required; \"\n                     + \"'never' to specify the connector should never perform an initial sync \");\n \n+    public static final Field CONNECT_TIMEOUT_MS = Field.create(\"connect.timeout.ms\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk0MzU1Mw=="}, "originalCommit": null, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTEyODA3OnYy", "diffSide": "RIGHT", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTozNDoyNlrOG7l9rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTozNDoyNlrOG7l9rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE0MTE2NA==", "bodyText": "Let's convert it to Duration right here. In general the approach should be to represent temporal data using the strong semantical types like Duration internally, and only convert from/to ms and other representations at the system boundaries.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465141164", "createdAt": "2020-08-04T15:34:26Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -132,8 +143,11 @@ public String hosts() {\n         return config.getString(MongoDbConnectorConfig.HOSTS);\n     }\n \n-    public int pollPeriodInSeconds() {\n-        return config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC);\n+    public long pollPeriodInMilliSeconds() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTEzMTAxOnYy", "diffSide": "RIGHT", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTozNTowMlrOG7l_bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTozNTowMlrOG7l_bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE0MTYxNQ==", "bodyText": "There should be a warning logged when using the old property name.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465141615", "createdAt": "2020-08-04T15:35:02Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -132,8 +143,11 @@ public String hosts() {\n         return config.getString(MongoDbConnectorConfig.HOSTS);\n     }\n \n-    public int pollPeriodInSeconds() {\n-        return config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC);\n+    public long pollPeriodInMilliSeconds() {\n+        if (config.hasKey(MongoDbConnectorConfig.MONGODB_POLL_INTERVAL_MS.name())) {\n+            return config.getLong(MongoDbConnectorConfig.MONGODB_POLL_INTERVAL_MS);\n+        }\n+        return TimeUnit.SECONDS.toMillis(config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC));", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTI2MTQ5OnYy", "diffSide": "RIGHT", "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjowNTozOVrOG7nQhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjo0MDo1MlrOG7ooVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE2MjM3NQ==", "bodyText": "I think we gave the new option precedence in case both are given in similar cases?", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465162375", "createdAt": "2020-08-04T16:05:39Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -132,8 +142,12 @@ public String hosts() {\n         return config.getString(MongoDbConnectorConfig.HOSTS);\n     }\n \n-    public int pollPeriodInSeconds() {\n-        return config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC);\n+    public Duration pollInterval() {\n+        if (config.hasKey(MongoDbConnectorConfig.POLL_INTERVAL_SEC.name())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4MTY0Mg==", "bodyText": "I can definitely change it to be consistent.", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465181642", "createdAt": "2020-08-04T16:35:33Z", "author": {"login": "Naros"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -132,8 +142,12 @@ public String hosts() {\n         return config.getString(MongoDbConnectorConfig.HOSTS);\n     }\n \n-    public int pollPeriodInSeconds() {\n-        return config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC);\n+    public Duration pollInterval() {\n+        if (config.hasKey(MongoDbConnectorConfig.POLL_INTERVAL_SEC.name())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE2MjM3NQ=="}, "originalCommit": null, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4NDg1NA==", "bodyText": "+1", "url": "https://github.com/debezium/debezium/pull/1731#discussion_r465184854", "createdAt": "2020-08-04T16:40:52Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-mongodb/src/main/java/io/debezium/connector/mongodb/ConnectionContext.java", "diffHunk": "@@ -132,8 +142,12 @@ public String hosts() {\n         return config.getString(MongoDbConnectorConfig.HOSTS);\n     }\n \n-    public int pollPeriodInSeconds() {\n-        return config.getInteger(MongoDbConnectorConfig.POLL_INTERVAL_SEC);\n+    public Duration pollInterval() {\n+        if (config.hasKey(MongoDbConnectorConfig.POLL_INTERVAL_SEC.name())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE2MjM3NQ=="}, "originalCommit": null, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4265, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}