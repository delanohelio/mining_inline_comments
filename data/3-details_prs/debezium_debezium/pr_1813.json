{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3OTE0Nzg2", "number": 1813, "title": "DBZ-78 add Debezium auto-creation topics configuration documentation", "bodyText": "Debezium Configuration docs for https://issues.redhat.com/browse/DBZ-78", "createdAt": "2020-09-16T11:15:42Z", "url": "https://github.com/debezium/debezium/pull/1813", "merged": true, "mergeCommit": {"oid": "e9a4bf4126ed0509ae610705ae0edc560526d5af"}, "closed": true, "closedAt": "2020-09-18T09:56:02Z", "author": {"login": "rk3rn3r"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJalfTAH2gAyNDg3OTE0Nzg2Ojk1N2UwMWZjMGZmZDk5NzAzMmI0MmU2YmEyNTk2YjJmNWM2NzM3MWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKCjmDAFqTQ5MTMyMDAxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/957e01fc0ffd997032b42e6ba2596b2f5c67371d", "committedDate": "2020-09-16T11:21:02Z", "message": "DBZ-78 add Debezium auto-creation topics configuration documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/957e01fc0ffd997032b42e6ba2596b2f5c67371d", "committedDate": "2020-09-16T11:21:02Z", "message": "DBZ-78 add Debezium auto-creation topics configuration documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NTI3MDUy", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-489527052", "createdAt": "2020-09-16T11:25:35Z", "commit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMToyNTozNVrOHSsUxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMToyNTozNVrOHSsUxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MjYzMA==", "bodyText": "Can we use that for the downstream docs as well or do we need a different wording here?\nWhat do you suggest? @gunnarmorling  @TovaCohen", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489362630", "createdAt": "2020-09-16T11:25:35Z", "author": {"login": "rk3rn3r"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NTI3ODgy", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-489527882", "createdAt": "2020-09-16T11:26:52Z", "commit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMToyNjo1M1rOHSsXFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMToyNjo1M1rOHSsXFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MzIyMQ==", "bodyText": "I only allowed these resources in community. Is that fine or can this be in the downstream docs as well?", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489363221", "createdAt": "2020-09-16T11:26:53Z", "author": {"login": "rk3rn3r"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.\n+====\n+\n+You don't have to specify any custom group. When there's no custom group registered or\n+the registered group's `include` patterns don't match the topic which is to be created\n+then the default config will be used.\n+\n+You can specify all https://kafka.apache.org/documentation/#topicconfigs[*topic level configuration parameters*]\n+to customize how topics will be created.\n+\n+=== Default Group Config\n+\n+The default config can be passed in the connector config JSON like:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,  //<1>\n+    \"topic.creation.default.partitions\": 10,  //<2>\n+    \"topic.creation.default.cleanup.policy\": \"compact\",  //<3>\n+    \"topic.creation.default.compression.type\": \"lz4\"  //<4>\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for the `default` topic creation group\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|`topic.creation.default.replication.factor` defines the replication factor for topics created by\n+the default group.\n+\n+|2\n+|`topic.creation.default.partitions` defines the number of partitions for topics created by\n+the default group.\n+\n+|3\n+|`topic.creation.default.cleanup.policy` is mapped to the https://kafka.apache.org/documentation/#cleanup.policy[`cleanup.policy`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines the log retention policy.\n+\n+|4\n+|`topic.creation.default.compression.type` is mapped to the https://kafka.apache.org/documentation/#compression.type[`compression.type`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines how messages are compressed on harddisk.\n+|===\n+\n+As you can see, you can put every https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameter]\n+as property.\n+\n+=== Custom Group Config\n+\n+You can specify multiple groups. Similar to the `default` group you group properties together by\n+the group name. This will look like that in your connector JSON:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    //<1>\n+    \"topic.creation.inventory.include\": \"dbserver1\\\\.inventory\\\\.*\",  //<2>\n+    \"topic.creation.inventory.replication.factor\": 3,\n+    \"topic.creation.inventory.partitions\": 20,\n+    \"topic.creation.inventory.cleanup.policy\": \"compact\",\n+    \"topic.creation.inventory.delete.retention.ms\": 7776000000,\n+\n+    //<3>\n+    \"topic.creation.applicationlogs.include\": \"dbserver1\\\\.logs\\\\.applog-.*\",  //<4>\n+    \"topic.creation.applicationlogs.exclude\": \"dbserver1\\\\.logs\\\\.applog-old-.*\",  //<5>\n+    \"topic.creation.applicationlogs.replication.factor\": 1,\n+    \"topic.creation.applicationlogs.partitions\": 20,\n+    \"topic.creation.applicationlogs.cleanup.policy\": \"delete\",\n+    \"topic.creation.applicationlogs.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.compression.type\": \"lz4\",\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for custom `inventory` and `applicationlogs` topic creation groups\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|First we define the configuration for the `inventory` group.\n+\n+|2\n+|`topic.creation.inventory.include` defines a regular expression to match all topics that start with\n+`dbserver1.inventory.`. The config defined for the `inventory` group will only be applied when the\n+topic name matches the given regular expression.\n+\n+|3\n+|Then we define the configuration for the `applicationlogs` group.\n+\n+|4\n+|`topic.creation.applicationlogs.include` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name matches the given regular expression. As there's also the `exclude`\n+property defined at position *<5>* all topics matching this `include` regular expression might be\n+further restricted by the that `exlude` property.\n+\n+|5\n+|`topic.creation.applicationlogs.exclude` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-old-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name does *not* match the given regular expression. As there's also the\n+`include` property set for this group the `applicationlogs` group will only be applied to topics\n+which name matches the `include` regular expression/s *and* _not_ match the `exclude` regular\n+expression/s.\n+|===\n+\n+=== Registering Custom Groups\n+\n+Finally, we need to register the two defined custom groups `inventory` and `applicationlogs` with\n+the `topic.creation.groups` property:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",\n+\n+     ...\n+}\n+----\n+\n+A complete connector JSON config will look like that:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,\n+    \"topic.creation.default.partitions\": 10,\n+    \"topic.creation.default.cleanup.policy\": \"compact\",\n+    \"topic.creation.default.compression.type\": \"lz4\"\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",\n+    \"topic.creation.inventory.include\": \"dbserver1\\\\.inventory\\\\.*\",\n+    \"topic.creation.inventory.replication.factor\": 3,\n+    \"topic.creation.inventory.partitions\": 20,\n+    \"topic.creation.inventory.cleanup.policy\": \"compact\",\n+    \"topic.creation.inventory.delete.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.include\": \"dbserver1\\\\.logs\\\\.applog-.*\",\n+    \"topic.creation.applicationlogs.exclude\": \"dbserver1\\\\.logs\\\\.applog-old-.*\",\n+    \"topic.creation.applicationlogs.replication.factor\": 1,\n+    \"topic.creation.applicationlogs.partitions\": 20,\n+    \"topic.creation.applicationlogs.cleanup.policy\": \"delete\",\n+    \"topic.creation.applicationlogs.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.compression.type\": \"lz4\"\n+}\n+----\n+\n+ifdef::community[]\n+== Additional resources\n+- Debezium Blog: https://debezium.io/blog/2020/09/15/debezium-auto-create-topics/[Auto-creating Debezium Change Data Topics]\n+- Kafka Improvement Proposal about adding topic auto-creation to Kafka Connect: https://cwiki.apache.org/confluence/display/KAFKA/KIP-158%3A+Kafka+Connect+should+allow+source+connectors+to+set+topic-specific+settings+for+new+topics[KIP-158]\n+endif::community[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 216}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NTI3NzA3", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-489527707", "createdAt": "2020-09-16T11:26:36Z", "commit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMToyNjozNlrOHSsWjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxMTozMDozN1rOHSsehQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MzA4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `auto.create.topics.enable` is enabled.{empty} +\n          \n          \n            \n            `auto.create.topics.enable` is set to `true`.{empty} +", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489363086", "createdAt": "2020-09-16T11:26:36Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MzYyMw==", "bodyText": "No, for downstream this should refer to the connector CRD equivalent of this configuration.", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489363623", "createdAt": "2020-09-16T11:27:43Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MjYzMA=="}, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MzgwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            have precedent and override any inclusion rules for topics.\n          \n          \n            \n            take precedence and override any inclusion rules for topics.", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489363803", "createdAt": "2020-09-16T11:28:04Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2NDExMQ==", "bodyText": "There's a var in antora.yml or similar for the Kafka docs base URL.", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489364111", "createdAt": "2020-09-16T11:28:42Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.\n+====\n+\n+You don't have to specify any custom group. When there's no custom group registered or\n+the registered group's `include` patterns don't match the topic which is to be created\n+then the default config will be used.\n+\n+You can specify all https://kafka.apache.org/documentation/#topicconfigs[*topic level configuration parameters*]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2NDM1NQ==", "bodyText": "See above.", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489364355", "createdAt": "2020-09-16T11:29:07Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.\n+====\n+\n+You don't have to specify any custom group. When there's no custom group registered or\n+the registered group's `include` patterns don't match the topic which is to be created\n+then the default config will be used.\n+\n+You can specify all https://kafka.apache.org/documentation/#topicconfigs[*topic level configuration parameters*]\n+to customize how topics will be created.\n+\n+=== Default Group Config\n+\n+The default config can be passed in the connector config JSON like:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,  //<1>\n+    \"topic.creation.default.partitions\": 10,  //<2>\n+    \"topic.creation.default.cleanup.policy\": \"compact\",  //<3>\n+    \"topic.creation.default.compression.type\": \"lz4\"  //<4>\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for the `default` topic creation group\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|`topic.creation.default.replication.factor` defines the replication factor for topics created by\n+the default group.\n+\n+|2\n+|`topic.creation.default.partitions` defines the number of partitions for topics created by\n+the default group.\n+\n+|3\n+|`topic.creation.default.cleanup.policy` is mapped to the https://kafka.apache.org/documentation/#cleanup.policy[`cleanup.policy`]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2NDgzNA==", "bodyText": "Maybe add some empty lines between the groups?", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489364834", "createdAt": "2020-09-16T11:30:03Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.\n+====\n+\n+You don't have to specify any custom group. When there's no custom group registered or\n+the registered group's `include` patterns don't match the topic which is to be created\n+then the default config will be used.\n+\n+You can specify all https://kafka.apache.org/documentation/#topicconfigs[*topic level configuration parameters*]\n+to customize how topics will be created.\n+\n+=== Default Group Config\n+\n+The default config can be passed in the connector config JSON like:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,  //<1>\n+    \"topic.creation.default.partitions\": 10,  //<2>\n+    \"topic.creation.default.cleanup.policy\": \"compact\",  //<3>\n+    \"topic.creation.default.compression.type\": \"lz4\"  //<4>\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for the `default` topic creation group\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|`topic.creation.default.replication.factor` defines the replication factor for topics created by\n+the default group.\n+\n+|2\n+|`topic.creation.default.partitions` defines the number of partitions for topics created by\n+the default group.\n+\n+|3\n+|`topic.creation.default.cleanup.policy` is mapped to the https://kafka.apache.org/documentation/#cleanup.policy[`cleanup.policy`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines the log retention policy.\n+\n+|4\n+|`topic.creation.default.compression.type` is mapped to the https://kafka.apache.org/documentation/#compression.type[`compression.type`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines how messages are compressed on harddisk.\n+|===\n+\n+As you can see, you can put every https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameter]\n+as property.\n+\n+=== Custom Group Config\n+\n+You can specify multiple groups. Similar to the `default` group you group properties together by\n+the group name. This will look like that in your connector JSON:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    //<1>\n+    \"topic.creation.inventory.include\": \"dbserver1\\\\.inventory\\\\.*\",  //<2>\n+    \"topic.creation.inventory.replication.factor\": 3,\n+    \"topic.creation.inventory.partitions\": 20,\n+    \"topic.creation.inventory.cleanup.policy\": \"compact\",\n+    \"topic.creation.inventory.delete.retention.ms\": 7776000000,\n+\n+    //<3>\n+    \"topic.creation.applicationlogs.include\": \"dbserver1\\\\.logs\\\\.applog-.*\",  //<4>\n+    \"topic.creation.applicationlogs.exclude\": \"dbserver1\\\\.logs\\\\.applog-old-.*\",  //<5>\n+    \"topic.creation.applicationlogs.replication.factor\": 1,\n+    \"topic.creation.applicationlogs.partitions\": 20,\n+    \"topic.creation.applicationlogs.cleanup.policy\": \"delete\",\n+    \"topic.creation.applicationlogs.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.compression.type\": \"lz4\",\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for custom `inventory` and `applicationlogs` topic creation groups\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|First we define the configuration for the `inventory` group.\n+\n+|2\n+|`topic.creation.inventory.include` defines a regular expression to match all topics that start with\n+`dbserver1.inventory.`. The config defined for the `inventory` group will only be applied when the\n+topic name matches the given regular expression.\n+\n+|3\n+|Then we define the configuration for the `applicationlogs` group.\n+\n+|4\n+|`topic.creation.applicationlogs.include` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name matches the given regular expression. As there's also the `exclude`\n+property defined at position *<5>* all topics matching this `include` regular expression might be\n+further restricted by the that `exlude` property.\n+\n+|5\n+|`topic.creation.applicationlogs.exclude` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-old-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name does *not* match the given regular expression. As there's also the\n+`include` property set for this group the `applicationlogs` group will only be applied to topics\n+which name matches the `include` regular expression/s *and* _not_ match the `exclude` regular\n+expression/s.\n+|===\n+\n+=== Registering Custom Groups\n+\n+Finally, we need to register the two defined custom groups `inventory` and `applicationlogs` with\n+the `topic.creation.groups` property:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",\n+\n+     ...\n+}\n+----\n+\n+A complete connector JSON config will look like that:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,\n+    \"topic.creation.default.partitions\": 10,\n+    \"topic.creation.default.cleanup.policy\": \"compact\",\n+    \"topic.creation.default.compression.type\": \"lz4\"\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 196}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2NTEyNQ==", "bodyText": "An introductory sentence would be good: \"To learn more about topic creation settings...\".", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489365125", "createdAt": "2020-09-16T11:30:37Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,216 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is enabled.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+// TODO: how to express this for downstream?\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[Debezium's container image for Kafka Connect]).\n+====\n+\n+== Configuration\n+\n+Topic auto-creation is based on groups. Every custom group has an `include` and an\n+`exclude` property which are comma-separated lists of regular expressions matching\n+topic names that should be included or excluded.\n+\n+[NOTE]\n+====\n+You can specify both, `include` and `exclude` parameters, but note that exclusion rules\n+have precedent and override any inclusion rules for topics.\n+====\n+\n+You don't have to specify any custom group. When there's no custom group registered or\n+the registered group's `include` patterns don't match the topic which is to be created\n+then the default config will be used.\n+\n+You can specify all https://kafka.apache.org/documentation/#topicconfigs[*topic level configuration parameters*]\n+to customize how topics will be created.\n+\n+=== Default Group Config\n+\n+The default config can be passed in the connector config JSON like:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,  //<1>\n+    \"topic.creation.default.partitions\": 10,  //<2>\n+    \"topic.creation.default.cleanup.policy\": \"compact\",  //<3>\n+    \"topic.creation.default.compression.type\": \"lz4\"  //<4>\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for the `default` topic creation group\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|`topic.creation.default.replication.factor` defines the replication factor for topics created by\n+the default group.\n+\n+|2\n+|`topic.creation.default.partitions` defines the number of partitions for topics created by\n+the default group.\n+\n+|3\n+|`topic.creation.default.cleanup.policy` is mapped to the https://kafka.apache.org/documentation/#cleanup.policy[`cleanup.policy`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines the log retention policy.\n+\n+|4\n+|`topic.creation.default.compression.type` is mapped to the https://kafka.apache.org/documentation/#compression.type[`compression.type`]\n+property of the https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameters] and\n+defines how messages are compressed on harddisk.\n+|===\n+\n+As you can see, you can put every https://kafka.apache.org/documentation/#topicconfigs[topic level configuration parameter]\n+as property.\n+\n+=== Custom Group Config\n+\n+You can specify multiple groups. Similar to the `default` group you group properties together by\n+the group name. This will look like that in your connector JSON:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    //<1>\n+    \"topic.creation.inventory.include\": \"dbserver1\\\\.inventory\\\\.*\",  //<2>\n+    \"topic.creation.inventory.replication.factor\": 3,\n+    \"topic.creation.inventory.partitions\": 20,\n+    \"topic.creation.inventory.cleanup.policy\": \"compact\",\n+    \"topic.creation.inventory.delete.retention.ms\": 7776000000,\n+\n+    //<3>\n+    \"topic.creation.applicationlogs.include\": \"dbserver1\\\\.logs\\\\.applog-.*\",  //<4>\n+    \"topic.creation.applicationlogs.exclude\": \"dbserver1\\\\.logs\\\\.applog-old-.*\",  //<5>\n+    \"topic.creation.applicationlogs.replication.factor\": 1,\n+    \"topic.creation.applicationlogs.partitions\": 20,\n+    \"topic.creation.applicationlogs.cleanup.policy\": \"delete\",\n+    \"topic.creation.applicationlogs.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.compression.type\": \"lz4\",\n+\n+     ...\n+}\n+----\n+\n+.Connector configuration for custom `inventory` and `applicationlogs` topic creation groups\n+[cols=\"1,9\",options=\"header\"]\n+|===\n+|Item |Description\n+\n+|1\n+|First we define the configuration for the `inventory` group.\n+\n+|2\n+|`topic.creation.inventory.include` defines a regular expression to match all topics that start with\n+`dbserver1.inventory.`. The config defined for the `inventory` group will only be applied when the\n+topic name matches the given regular expression.\n+\n+|3\n+|Then we define the configuration for the `applicationlogs` group.\n+\n+|4\n+|`topic.creation.applicationlogs.include` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name matches the given regular expression. As there's also the `exclude`\n+property defined at position *<5>* all topics matching this `include` regular expression might be\n+further restricted by the that `exlude` property.\n+\n+|5\n+|`topic.creation.applicationlogs.exclude` defines a regular expression to match all topics that start\n+with `dbserver1.logs.applog-old-`. The config defined for the `applicationlogs` group will only be\n+applied when the topic name does *not* match the given regular expression. As there's also the\n+`include` property set for this group the `applicationlogs` group will only be applied to topics\n+which name matches the `include` regular expression/s *and* _not_ match the `exclude` regular\n+expression/s.\n+|===\n+\n+=== Registering Custom Groups\n+\n+Finally, we need to register the two defined custom groups `inventory` and `applicationlogs` with\n+the `topic.creation.groups` property:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",\n+\n+     ...\n+}\n+----\n+\n+A complete connector JSON config will look like that:\n+\n+[source,options=\"nowrap\",json]\n+----\n+{\n+    ...\n+\n+    \"topic.creation.default.replication.factor\": 3,\n+    \"topic.creation.default.partitions\": 10,\n+    \"topic.creation.default.cleanup.policy\": \"compact\",\n+    \"topic.creation.default.compression.type\": \"lz4\"\n+    \"topic.creation.groups\": \"inventory,applicationlogs\",\n+    \"topic.creation.inventory.include\": \"dbserver1\\\\.inventory\\\\.*\",\n+    \"topic.creation.inventory.replication.factor\": 3,\n+    \"topic.creation.inventory.partitions\": 20,\n+    \"topic.creation.inventory.cleanup.policy\": \"compact\",\n+    \"topic.creation.inventory.delete.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.include\": \"dbserver1\\\\.logs\\\\.applog-.*\",\n+    \"topic.creation.applicationlogs.exclude\": \"dbserver1\\\\.logs\\\\.applog-old-.*\",\n+    \"topic.creation.applicationlogs.replication.factor\": 1,\n+    \"topic.creation.applicationlogs.partitions\": 20,\n+    \"topic.creation.applicationlogs.cleanup.policy\": \"delete\",\n+    \"topic.creation.applicationlogs.retention.ms\": 7776000000,\n+    \"topic.creation.applicationlogs.compression.type\": \"lz4\"\n+}\n+----\n+\n+ifdef::community[]\n+== Additional resources", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "957e01fc0ffd997032b42e6ba2596b2f5c67371d"}, "originalPosition": 213}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ae98cda4e30b79e3c74b604629e66fd8efc8f10", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/0ae98cda4e30b79e3c74b604629e66fd8efc8f10", "committedDate": "2020-09-16T13:53:03Z", "message": "DBZ-78 applied PR feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NjYyNTgx", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-489662581", "createdAt": "2020-09-16T14:06:18Z", "commit": {"oid": "0ae98cda4e30b79e3c74b604629e66fd8efc8f10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDowNjoxOFrOHSylZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDowNjoxOFrOHSylZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ2NTE5MA==", "bodyText": "added a reference / backlink and note here as well @gunnarmorling", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489465190", "createdAt": "2020-09-16T14:06:18Z", "author": {"login": "rk3rn3r"}, "path": "documentation/modules/ROOT/pages/install.adoc", "diffHunk": "@@ -103,6 +103,10 @@ e.g. when updating them\n ** Replicated in production\n ** Single partition\n *** You can relax the single partition rule but your application must handle out-of-order events for different rows in database (events for a single row are still totally ordered). If multiple partitions are used, Kafka will determine the partition by hashing the key by default. Other partition strategies require using SMTs to set the partition number for each record.\n+// the condition can be removed once downstream  is updated to Kafka 2.6+\n+ifdef::community[]\n+** For customizable topic auto-creation (available since Kafka Connect 2.6.0) see {link-prefix}:{link-topic-auto-creation}[Custom Topic Auto-Creation]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ae98cda4e30b79e3c74b604629e66fd8efc8f10"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5Njg4NjY5", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-489688669", "createdAt": "2020-09-16T14:31:52Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDozMTo1MlrOHSzxeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNDozMTo1MlrOHSzxeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ4NDY2NA==", "bodyText": "is that a correct example for it? WDYT? @gunnarmorling", "url": "https://github.com/debezium/debezium/pull/1813#discussion_r489484664", "createdAt": "2020-09-16T14:31:52Z", "author": {"login": "rk3rn3r"}, "path": "documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc", "diffHunk": "@@ -0,0 +1,246 @@\n+// Category: debezium-using\n+// Type: assembly\n+// ModuleID: configuring-debezium-to-auto-create-change-data-capture-topics\n+// Title: Configuring {prodname} to use automatically create topics\n+[id=\"cdc-topic-auto-create-config\"]\n+= Custom Topic Auto-Creation\n+\n+:toc:\n+:toc-placement: macro\n+:linkattrs:\n+:icons: font\n+:source-highlighter: highlight.js\n+\n+toc::[]\n+\n+{prodname} automatically creates *internal* topics for offsets, connector status, config\n+storage and history topics. The destination topics for the captured tables will be\n+automatically created with a default config by the Kafka brokers when\n+`auto.create.topics.enable` is set to `true`.{empty} +\n+When topic creation is disabled on the brokers, for example in production environments,\n+or when the topics need a different configuration then these topics have to be created\n+upfront either automated in a custom deployment process or manually until Kafka Connect 2.6.\n+\n+Since Kafka 2.6.0 Kafka Connect supports customizable topic auto-creation.\n+\n+== Kafka Connect\n+\n+Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:\n+\n+[source,options=\"nowrap\",shell]\n+----\n+topic.creation.enable = true\n+----\n+\n+ifdef::community[]\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect config (_connect-distributed.properties_ file or via environment variable\n+_CONNECT_TOPIC_CREATION_ENABLE_ when using https://hub.docker.com/r/debezium/connect[{prodname}'s container image for Kafka Connect]).\n+====\n+endif::community[]\n+\n+ifdef::product[]\n+[NOTE]\n+====\n+If you don't want to allow automatic topic creation by connectors you can set this value to `false`\n+in the Kafka Connect CRD:\n+====\n+\n+[source,yaml,options=\"nowrap\"]\n+----\n+apiVersion: kafka.strimzi.io/v1beta1\n+kind: KafkaConnect\n+metadata:\n+  name: my-connect-cluster\n+\n+...\n+\n+spec:\n+  config:\n+    topic.creation.enable: \"false\"\n+----\n+endif::product[]", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 64}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "c999ea9ebc5c18bf21348011beeabf7eb59461e3", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/c999ea9ebc5c18bf21348011beeabf7eb59461e3", "committedDate": "2020-09-16T16:20:30Z", "message": "DBZ-78 applied PR feedback: add CRD docs for downstream"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c999ea9ebc5c18bf21348011beeabf7eb59461e3", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/c999ea9ebc5c18bf21348011beeabf7eb59461e3", "committedDate": "2020-09-16T16:20:30Z", "message": "DBZ-78 applied PR feedback: add CRD docs for downstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e578a3369178faa0e273fd9f8d8764ac1d38a586", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/e578a3369178faa0e273fd9f8d8764ac1d38a586", "committedDate": "2020-09-17T10:20:59Z", "message": "DBZ-78 added fallback and default value behavior documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "e578a3369178faa0e273fd9f8d8764ac1d38a586", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/e578a3369178faa0e273fd9f8d8764ac1d38a586", "committedDate": "2020-09-17T10:20:59Z", "message": "DBZ-78 added fallback and default value behavior documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMzIwMDEy", "url": "https://github.com/debezium/debezium/pull/1813#pullrequestreview-491320012", "createdAt": "2020-09-18T09:55:10Z", "commit": {"oid": "e578a3369178faa0e273fd9f8d8764ac1d38a586"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2432, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}