{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2ODE3OTEy", "number": 1687, "title": "DBZ-2083 fix docs for Apicurio Avro converter", "bodyText": "After debezium/docker-images#173 and debezium/docker-images#175 this should update the docs to use new ENABLE_APICURIO_CONVERTERS env var to enable Apicurio converters.", "createdAt": "2020-07-09T12:07:26Z", "url": "https://github.com/debezium/debezium/pull/1687", "merged": true, "mergeCommit": {"oid": "b372438b33b9d14e5c2777877ad3fb06807c6627"}, "closed": true, "closedAt": "2020-07-14T15:28:10Z", "author": {"login": "rk3rn3r"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczOeW7gFqTQ0NTU3MDY5MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc03wm-gFqTQ0ODIxNzU4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NTcwNjkw", "url": "https://github.com/debezium/debezium/pull/1687#pullrequestreview-445570690", "createdAt": "2020-07-09T12:33:22Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxMjozMzoyMlrOGvPDNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxMjo0NjozMFrOGvPhHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4MjgzOQ==", "bodyText": "Worth adding a sentence that this is not needed when using the Debezium container image for Kafka Connect?", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452182839", "createdAt": "2020-07-09T12:33:22Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -92,7 +92,7 @@ ifdef::product[]\n endif::product[]\n \n ifdef::community[]\n-. Install the Avro converter from link:https://repo1.maven.org/maven2/io/apicurio/apicurio-registry-distro-connect-converter/{apicurio-version}/apicurio-registry-distro-connect-converter-{apicurio-version}-converter.tar.gz[the installation package] into Kafka Connect's _libs_ directory or directly into a plug-in directory.\n+. Install the Avro converter from link:https://repo1.maven.org/maven2/io/apicurio/apicurio-registry-distro-connect-converter/{apicurio-version}/apicurio-registry-distro-connect-converter-{apicurio-version}-converter.tar.gz[the installation package] into into a plug-in directory.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4NDA0Ng==", "bodyText": "This seems not right to remove. Note the Debezium container image is only used for community, this is not used by the downstream product. Instead, the AMQ Streams image for Kafka Connect is used there, and procedure for that one still is the same as before at this point.", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452184046", "createdAt": "2020-07-09T12:35:30Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -190,55 +169,9 @@ ifdef::product[]\n * Setting up AMQ Streams storage\n * Installing {registry}\n \n-. Extract the {prodname} connector archive(s) to create a directory structure for the connector plug-in(s). If you downloaded and extracted the archive for each {prodname} connector, the structure looks like this: ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4NDM1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . Run {prodname} image, configuring it to provide the Avro converter by enabling Apicurio via `ENABLE_APICURIO_CONVERTERS=true` environment variable:\n          \n          \n            \n            . Run the {prodname} container image for Kafka Connect, configuring it to provide the Avro converter by enabling Apicurio via `ENABLE_APICURIO_CONVERTERS=true` environment variable:", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452184359", "createdAt": "2020-07-09T12:36:01Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -137,29 +137,7 @@ docker run -it --rm --name apicurio \\\n     -p 8080:8080 apicurio/apicurio-registry-mem:{apicurio-version}\n ----\n \n-. Build a {prodname} container image that contains the Avro converter:\n-+\n-.. Copy link:https://github.com/debezium/debezium-examples/blob/master/tutorial/debezium-with-apicurio/Dockerfile[`Dockerfile`] to a convenient location. This file has the following content: \n-+\n-[listing,subs=\"attributes+\",options=\"nowrap\"]\n-----\n-ARG DEBEZIUM_VERSION\n-FROM debezium/connect:$DEBEZIUM_VERSION\n-ENV KAFKA_CONNECT_DEBEZIUM_DIR=$KAFKA_CONNECT_PLUGINS_DIR/debezium-connector-mysql\n-ENV APICURIO_VERSION={apicurio-version}\n-\n-RUN cd $KAFKA_CONNECT_DEBEZIUM_DIR &&\\\n-    curl https://repo1.maven.org/maven2/io/apicurio/apicurio-registry-distro-connect-converter/$APICURIO_VERSION/apicurio-registry-distro-connect-converter-$APICURIO_VERSION-converter.tar.gz | tar xzv\n-----\n-\n-.. Run the following command: \n-+\n-[source,subs=\"attributes+\"]\n-----\n-docker build --build-arg DEBEZIUM_VERSION={debezium-docker-label} -t debezium/connect-apicurio:{debezium-docker-label} .\n-----\n-\n-. Run the newly built Kafka Connect image, configuring it so it uses the Avro converter:\n+. Run {prodname} image, configuring it to provide the Avro converter by enabling Apicurio via `ENABLE_APICURIO_CONVERTERS=true` environment variable:", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE4OTg3Ng==", "bodyText": "Whoops, good catch. There's also a \"serializaion\" typo a few lines before you could fix.", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452189876", "createdAt": "2020-07-09T12:45:24Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -121,7 +121,7 @@ In your environment, you might want to use a provided {prodname} container to de\n \n .Prerequisites\n \n-* You have the cluster administrator access to an OpenShift cluster.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE5MDQ5Mg==", "bodyText": "So that's the case already for the upstream image. Also the sentence \"In this procedure, you build a custom Kafka Connect container image for Debezium\" before doesn't make sense any longer.", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452190492", "createdAt": "2020-07-09T12:46:30Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -121,7 +121,7 @@ In your environment, you might want to use a provided {prodname} container to de\n \n .Prerequisites\n \n-* You have the cluster administrator access to an OpenShift cluster.\n+* You have Docker installed and rights to create and manage containers.\n * You downloaded the {prodname} connector plug-in(s) that you want to deploy with Avro serialization.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 28}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NDc0ODU0", "url": "https://github.com/debezium/debezium/pull/1687#pullrequestreview-446474854", "createdAt": "2020-07-10T15:01:56Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNTowMTo1NlrOGv6zjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNTowMTo1NlrOGv6zjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg5OTcyNw==", "bodyText": "s/Docker image/container image/", "url": "https://github.com/debezium/debezium/pull/1687#discussion_r452899727", "createdAt": "2020-07-10T15:01:56Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/avro.adoc", "diffHunk": "@@ -92,7 +92,7 @@ ifdef::product[]\n endif::product[]\n \n ifdef::community[]\n-. Install the Avro converter from link:https://repo1.maven.org/maven2/io/apicurio/apicurio-registry-distro-connect-converter/{apicurio-version}/apicurio-registry-distro-connect-converter-{apicurio-version}-converter.tar.gz[the installation package] into Kafka Connect's _libs_ directory or directly into a plug-in directory.\n+. Install the Avro converter from link:https://repo1.maven.org/maven2/io/apicurio/apicurio-registry-distro-connect-converter/{apicurio-version}/apicurio-registry-distro-connect-converter-{apicurio-version}-converter.tar.gz[the installation package] into a plug-in directory. This is not needed when using the link:https://hub.docker.com/r/debezium/connect[Debezium Connect Docker image], see details in <<deploying-with-debezium-containers>>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "098010be0392505a08a6d2328bf4e368df7271cd", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/098010be0392505a08a6d2328bf4e368df7271cd", "committedDate": "2020-07-13T11:13:05Z", "message": "DBZ-2083 fix docs for Apicurio Avro converter\n* apply PR comment, co-authored-by: Gunnar Morling\n* apply PR comments and cleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "098010be0392505a08a6d2328bf4e368df7271cd", "author": {"user": {"login": "rk3rn3r", "name": "Ren\u00e9 Kerner"}}, "url": "https://github.com/debezium/debezium/commit/098010be0392505a08a6d2328bf4e368df7271cd", "committedDate": "2020-07-13T11:13:05Z", "message": "DBZ-2083 fix docs for Apicurio Avro converter\n* apply PR comment, co-authored-by: Gunnar Morling\n* apply PR comments and cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjE3NTgz", "url": "https://github.com/debezium/debezium/pull/1687#pullrequestreview-448217583", "createdAt": "2020-07-14T15:28:01Z", "commit": {"oid": "098010be0392505a08a6d2328bf4e368df7271cd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2485, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}