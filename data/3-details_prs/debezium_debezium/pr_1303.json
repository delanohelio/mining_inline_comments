{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTkwNzQ5", "number": 1303, "title": " DBZ-1840 Fix pgoutput and wal2json", "bodyText": "Fixes for issues in #1298", "createdAt": "2020-03-03T14:41:55Z", "url": "https://github.com/debezium/debezium/pull/1303", "merged": true, "mergeCommit": {"oid": "10dfc12c99f7cbe28290a08e37e8b99f9e97e41f"}, "closed": true, "closedAt": "2020-03-04T08:25:58Z", "author": {"login": "jpechane"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKDX46AH2gAyMzgyOTkwNzQ5OjcxMmJmYjQ0NzY1YjFiZDI1ZThhNjY5ODU1ZDQ5MzFlNDk5ZTI4MGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKSGn3gH2gAyMzgyOTkwNzQ5OjU2ZDA3NzZkZjJlM2RhYmNlNDU0NGQ3ZjVjNzM5OGIxMTY5Yjc2YWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "712bfb44765b1bd25e8a669855d4931e499e280f", "author": {"user": {"login": "jpechane", "name": "Jiri Pechanec"}}, "url": "https://github.com/debezium/debezium/commit/712bfb44765b1bd25e8a669855d4931e499e280f", "committedDate": "2020-03-03T14:41:08Z", "message": "DBZ-1840 No nulls to stream producer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e897e6bbfcd448edef488427221e422890b23e6a", "author": {"user": {"login": "jpechane", "name": "Jiri Pechanec"}}, "url": "https://github.com/debezium/debezium/commit/e897e6bbfcd448edef488427221e422890b23e6a", "committedDate": "2020-03-04T04:57:37Z", "message": "DBZ-1840 Syntheitc message to replace messages dropped in decoder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae291a2443d1fedb6153771a77b53c7e2a95640d", "author": {"user": {"login": "jpechane", "name": "Jiri Pechanec"}}, "url": "https://github.com/debezium/debezium/commit/ae291a2443d1fedb6153771a77b53c7e2a95640d", "committedDate": "2020-03-04T05:29:18Z", "message": "DBZ-1840 Test logic was out of order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NTU0NDQz", "url": "https://github.com/debezium/debezium/pull/1303#pullrequestreview-368554443", "createdAt": "2020-03-04T07:33:06Z", "commit": {"oid": "ae291a2443d1fedb6153771a77b53c7e2a95640d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNzozMzowN1rOFxig9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwNzozMzozMFrOFxihhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5MDAzNg==", "bodyText": "Why not the NOOP message here?", "url": "https://github.com/debezium/debezium/pull/1303#discussion_r387490036", "createdAt": "2020-03-04T07:33:07Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/connection/wal2json/NonStreamingWal2JsonMessageDecoder.java", "diffHunk": "@@ -62,7 +62,8 @@ public void processNotEmptyMessage(ByteBuffer buffer, ReplicationMessageProcesso\n             // WAL2JSON may send empty changes that still have a txid. These events are from things like vacuum,\n             // materialized view, DDL, etc. They still need to be processed for the heartbeat to fire.\n             if (changes.isEmpty()) {\n-                processor.process(null);\n+                processor.process(new TransactionMessage(Operation.BEGIN, txId, commitTime));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae291a2443d1fedb6153771a77b53c7e2a95640d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQ5MDE4Mg==", "bodyText": "In which case would no table be found? Could you add a comment?", "url": "https://github.com/debezium/debezium/pull/1303#discussion_r387490182", "createdAt": "2020-03-04T07:33:30Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/connection/pgoutput/PgOutputMessageDecoder.java", "diffHunk": "@@ -393,7 +394,7 @@ private void decodeUpdate(ByteBuffer buffer, TypeRegistry typeRegistry, Replicat\n \n         Optional<Table> resolvedTable = resolveRelation(relationId);\n         if (!resolvedTable.isPresent()) {\n-            processor.process(null);\n+            processor.process(new NoopMessage(transactionId, commitTimestamp));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae291a2443d1fedb6153771a77b53c7e2a95640d"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56d0776df2e3dabce4544d7f5c7398b1169b76ad", "author": {"user": {"login": "jpechane", "name": "Jiri Pechanec"}}, "url": "https://github.com/debezium/debezium/commit/56d0776df2e3dabce4544d7f5c7398b1169b76ad", "committedDate": "2020-03-04T07:50:51Z", "message": "DBZ-1840 Explanation for unresolvable tables"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2099, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}