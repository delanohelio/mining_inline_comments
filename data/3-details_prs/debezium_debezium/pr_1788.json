{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNTI1MzQy", "number": 1788, "title": "DBZ-2480 Initial commit of outbox event router SMT doc updated for 1.2", "bodyText": "This is for DBZ-2480.\nI revised the doc for the outbox event router SMT. The downstream Technology Preview note is conditionalized to show downstream.  Comments contain annotations that allow the downstream fetch script to split this file into the modular files required downstream.\nLet me know what needs to change.\nWhen this is merged, please backport this to 1.2.\nThanks!", "createdAt": "2020-09-05T14:10:28Z", "url": "https://github.com/debezium/debezium/pull/1788", "merged": true, "mergeCommit": {"oid": "11cb66f53304428f64a3a88a7d936a063ad3e18d"}, "closed": true, "closedAt": "2020-09-11T14:56:27Z", "author": {"login": "TovaCohen"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG3xRvgBqjM3NDA5OTUyMDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdH2pMBAFqTQ4Njg4MDUxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MTcwOTA3", "url": "https://github.com/debezium/debezium/pull/1788#pullrequestreview-484170907", "createdAt": "2020-09-08T14:00:50Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NzUzMDU1", "url": "https://github.com/debezium/debezium/pull/1788#pullrequestreview-484753055", "createdAt": "2020-09-09T07:58:16Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNzo1ODoxNlrOHO7THA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwODoxODo1OFrOHO8CYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQxMzY2MA==", "bodyText": "The outbox pattern is a way for exchanging data between multiple (micro) services in a safe and reliable way, avoiding any inconsistencies between a services own internal state (as typically persisted in its database) and events sent to consuming services.", "url": "https://github.com/debezium/debezium/pull/1788#discussion_r485413660", "createdAt": "2020-09-09T07:58:16Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/outbox-event-router.adoc", "diffHunk": "@@ -9,26 +13,56 @@\n \n toc::[]\n \n+The outbox pattern is a way to ensure that related services that need the same data updates get those updates in a consistent manner. To implement the outbox pattern in a {prodname} application, configure a {prodname} connector to: ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQyNTc2Mg==", "bodyText": "Let's remove the reference to the Jira issue, it's not really needed in the docs.", "url": "https://github.com/debezium/debezium/pull/1788#discussion_r485425762", "createdAt": "2020-09-09T08:18:58Z", "author": {"login": "gunnarmorling"}, "path": "documentation/modules/ROOT/pages/configuration/outbox-event-router.adoc", "diffHunk": "@@ -9,26 +13,56 @@\n \n toc::[]\n \n+The outbox pattern is a way to ensure that related services that need the same data updates get those updates in a consistent manner. To implement the outbox pattern in a {prodname} application, configure a {prodname} connector to: \n+\n+* Capture changes in an outbox table\n+* Apply the {prodname} `outbox.EventRouter` single message transformation (SMT)\n+\n+A {prodname} connector that is configured to apply the outbox SMT should capture changes in only an outbox table. A connector can capture changes in more than one outbox table only if each outbox table has the same structure.  \n+\n+ifdef::community[]\n [NOTE]\n ====\n-This single message transformation (SMT) is under active development right now, so the emitted message structure or other details may still change as development progresses.\n+The `outbox.EventRouter` SMT is under active development. The structure of the emitted message or other details might change as development progresses.\n ====\n+endif::community[]\n \n-[NOTE]\n+ifdef::product[]\n+[IMPORTANT]\n ====\n-This SMT does *not* support the MongoDB connector.\n+The {prodname} outbox event router SMT is a Technology Preview feature. Technology Preview features are not supported with Red Hat production service-level agreements (SLAs) and might not be functionally complete; therefore, Red Hat does not recommend implementing any Technology Preview features in production environments. This Technology Preview feature provides early access to upcoming product innovations, enabling you to test functionality and provide feedback during the development process. For more information about support scope, see link:https://access.redhat.com/support/offerings/techpreview/[Technology Preview Features Support Scope].\n ====\n+endif::product[]\n+\n+See link:https://debezium.io/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/[Reliable Microservices Data Exchange With the Outbox Pattern] to learn about why the outbox pattern is useful and how it works. \n \n-The Outbox Event Router SMT has the intent to provide out-of-the-box support for the Outbox Pattern.\n-For more information on why and how the Outbox Pattern is used please refer our blog post link:/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/[Reliable Microservices Data Exchange With the Outbox Pattern].\n+ifdef::community[]\n+For details about how {prodname} implements the outbox pattern, see {jira-url}/browse/DBZ-1169[Outbox SMT Design]. For an example that you can run, see the  link:https://github.com/debezium/debezium-examples/tree/master/outbox[outbox pattern demo], which is in the {prodname} examples repository. It includes an example of how to configure a {prodname} connector to run the `outbox.EventRouter` SMT. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f357332946efd9452d57c8a7e1c14776539675b9", "author": {"user": {"login": "TovaCohen", "name": null}}, "url": "https://github.com/debezium/debezium/commit/f357332946efd9452d57c8a7e1c14776539675b9", "committedDate": "2020-09-09T12:56:09Z", "message": "DBZ-2480 Initial commit of outbox event router SMT doc updated for 1.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e46e01c162517de91902b371a96734d59c783ccc", "author": {"user": {"login": "TovaCohen", "name": null}}, "url": "https://github.com/debezium/debezium/commit/e46e01c162517de91902b371a96734d59c783ccc", "committedDate": "2020-09-09T12:56:09Z", "message": "DBZ-2480 Added that outbox tables must have some structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e3da219795e65a246acd34d39850a5d2d74db66", "author": {"user": {"login": "TovaCohen", "name": null}}, "url": "https://github.com/debezium/debezium/commit/1e3da219795e65a246acd34d39850a5d2d74db66", "committedDate": "2020-09-09T13:12:21Z", "message": "DBZ-2480 update intro sentence and remove Jira reference"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "1e3da219795e65a246acd34d39850a5d2d74db66", "author": {"user": {"login": "TovaCohen", "name": null}}, "url": "https://github.com/debezium/debezium/commit/1e3da219795e65a246acd34d39850a5d2d74db66", "committedDate": "2020-09-09T13:12:21Z", "message": "DBZ-2480 update intro sentence and remove Jira reference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf80b882b1159da7a2fe23c079059d1daa25dbce", "author": {"user": {"login": "TovaCohen", "name": null}}, "url": "https://github.com/debezium/debezium/commit/bf80b882b1159da7a2fe23c079059d1daa25dbce", "committedDate": "2020-09-09T13:22:02Z", "message": "DBZ-2480 Replace `outbox.EventRouter` with plain text: outbox event router"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODgwNTE2", "url": "https://github.com/debezium/debezium/pull/1788#pullrequestreview-486880516", "createdAt": "2020-09-11T14:54:34Z", "commit": {"oid": "bf80b882b1159da7a2fe23c079059d1daa25dbce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2402, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}