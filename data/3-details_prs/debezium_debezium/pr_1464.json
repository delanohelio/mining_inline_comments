{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMzk1NjQ0", "number": 1464, "title": "DBZ-2044 Load Postgres enum values with a single query instead of N queries", "bodyText": "This changes the enum query to returns results like this:\n=# SELECT t.enumtypid as id, array_agg(t.enumlabel) as enum_values FROM pg_catalog.pg_enum t GROUP BY id;\n  id   |  enum_values\n-------+--------------\n 25022 | {FOO,BAR}\n\nThe results of this query get joined into the existing query for type information. This means that we now have all of the information needed about Postgres types from a single query.\nhttps://issues.redhat.com/browse/DBZ-2044", "createdAt": "2020-05-02T04:02:00Z", "url": "https://github.com/debezium/debezium/pull/1464", "merged": true, "mergeCommit": {"oid": "a8cb4e319c84e6632df6cbedc7fcf2064a14577e"}, "closed": true, "closedAt": "2020-05-04T10:08:17Z", "author": {"login": "bradengroom"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdOIdmAH2gAyNDEyMzk1NjQ0OmJlOTc4MmZkMzM2ZDhhOTkwZTAxNmQ1MGM5MTE5MDc0ZDdhZDcyNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcd8oJ7gFqTQwNDg1MzAwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be9782fd336d8a990e016d50c9119074d7ad7240", "author": {"user": {"login": "bradengroom", "name": "Braden Groom"}}, "url": "https://github.com/debezium/debezium/commit/be9782fd336d8a990e016d50c9119074d7ad7240", "committedDate": "2020-05-02T03:57:48Z", "message": "DBZ-2044 Load Postgres enum values with a single query instead of N queries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0ODUzMDA2", "url": "https://github.com/debezium/debezium/pull/1464#pullrequestreview-404853006", "createdAt": "2020-05-04T10:02:06Z", "commit": {"oid": "be9782fd336d8a990e016d50c9119074d7ad7240"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDowMjowNlrOGP55zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDowMjowNlrOGP55zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMzMDUxMA==", "bodyText": "Neat trick with array_agg.", "url": "https://github.com/debezium/debezium/pull/1464#discussion_r419330510", "createdAt": "2020-05-04T10:02:06Z", "author": {"login": "gunnarmorling"}, "path": "debezium-connector-postgres/src/main/java/io/debezium/connector/postgresql/TypeRegistry.java", "diffHunk": "@@ -59,18 +60,19 @@\n     private static final String CATEGORY_ARRAY = \"A\";\n     private static final String CATEGORY_ENUM = \"E\";\n \n-    private static final String SQL_TYPES = \"SELECT t.oid AS oid, t.typname AS name, t.typelem AS element, t.typbasetype AS parentoid, t.typtypmod as modifiers, t.typcategory as category \"\n-            + \"FROM pg_catalog.pg_type t JOIN pg_catalog.pg_namespace n ON (t.typnamespace = n.oid) \"\n+    private static final String SQL_ENUM_VALUES = \"SELECT t.enumtypid as id, array_agg(t.enumlabel) as values \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be9782fd336d8a990e016d50c9119074d7ad7240"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2640, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}