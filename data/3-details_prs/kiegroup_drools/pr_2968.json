{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNTQ0ODkw", "number": 2968, "title": "[DROOLS-5410] Externalize lambda for accumulate", "bodyText": "", "createdAt": "2020-07-01T08:52:37Z", "url": "https://github.com/kiegroup/drools/pull/2968", "merged": true, "mergeCommit": {"oid": "74d2659e67fb40d497e2ec62ef4c65cc27706654"}, "closed": true, "closedAt": "2020-07-03T07:20:01Z", "author": {"login": "tkobayas"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwmQKzAH2gAyNDQyNTQ0ODkwOjVhZTIzNDE1OTYyZTVkMzgwNDZiNzI1MzJjZWE3NWU5MTMwZWU0ZDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxNAHmAH2gAyNDQyNTQ0ODkwOmJjNDJiYjEyM2ZjMjEzZTY3MjNhYzU0MDQ2MDNkZDVjOWM0NDRiZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5ae23415962e5d38046b72532cea75e9130ee4d2", "author": {"user": {"login": "tkobayas", "name": "Toshiya Kobayashi"}}, "url": "https://github.com/kiegroup/drools/commit/5ae23415962e5d38046b72532cea75e9130ee4d2", "committedDate": "2020-07-01T08:48:30Z", "message": "[DROOLS-5410] Externalize lambda for accumulate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjc2MjIy", "url": "https://github.com/kiegroup/drools/pull/2968#pullrequestreview-440676222", "createdAt": "2020-07-01T08:55:31Z", "commit": {"oid": "5ae23415962e5d38046b72532cea75e9130ee4d2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwODo1NTozMVrOGrdFRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwODo1NTozMVrOGrdFRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIxODQzOA==", "bodyText": "This is the main fix. Just to add a type so that ExecModelLambdaPostProcessor can externalize the lambda later.", "url": "https://github.com/kiegroup/drools/pull/2968#discussion_r448218438", "createdAt": "2020-07-01T08:55:31Z", "author": {"login": "tkobayas"}, "path": "drools-model/drools-model-compiler/src/main/java/org/drools/modelcompiler/builder/generator/visitor/accumulate/AccumulateVisitor.java", "diffHunk": "@@ -475,7 +476,7 @@ private String getRootNodeName(DrlxParseUtil.RemoveRootNodeResult methodCallWith\n     Expression buildConstraintExpression(Expression expr, Collection<String> usedDeclarations) {\n         LambdaExpr lambdaExpr = new LambdaExpr();\n         lambdaExpr.setEnclosingParameters(true);\n-        usedDeclarations.stream().map(s -> new Parameter(new UnknownType(), s)).forEach(lambdaExpr::addParameter);\n+        usedDeclarations.stream().map(s -> new Parameter(context.getDelarationType(s), s)).forEach(lambdaExpr::addParameter);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae23415962e5d38046b72532cea75e9130ee4d2"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNzI0NjE2", "url": "https://github.com/kiegroup/drools/pull/2968#pullrequestreview-440724616", "createdAt": "2020-07-01T09:58:46Z", "commit": {"oid": "5ae23415962e5d38046b72532cea75e9130ee4d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed2221c666cf9d7a48b9260fb2f55359b208018d", "author": {"user": {"login": "tkobayas", "name": "Toshiya Kobayashi"}}, "url": "https://github.com/kiegroup/drools/commit/ed2221c666cf9d7a48b9260fb2f55359b208018d", "committedDate": "2020-07-02T09:46:42Z", "message": "- Fixed code smells"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzU0MDc5", "url": "https://github.com/kiegroup/drools/pull/2968#pullrequestreview-441754079", "createdAt": "2020-07-02T14:50:41Z", "commit": {"oid": "ed2221c666cf9d7a48b9260fb2f55359b208018d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc42bb123fc213e6723ac5404603dd5c9c444be5", "author": {"user": {"login": "danielezonca", "name": "Daniele Zonca"}}, "url": "https://github.com/kiegroup/drools/commit/bc42bb123fc213e6723ac5404603dd5c9c444be5", "committedDate": "2020-07-03T05:57:16Z", "message": "Merge branch 'master' into DROOLS-5410"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1834, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}