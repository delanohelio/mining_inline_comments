{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MTAxMDk4", "number": 3170, "title": "DROOLS-5733 prevent removing trailing zeros for numbers in scientific\u2026", "bodyText": "\u2026 notation\nThank you for submitting this pull request\nJIRA:\nlink\n\n\nHow to retest this PR or trigger a specific build:\n\n\n\na pull request please add comment: Jenkins retest this\n\n\na full downstream build please add comment: Jenkins run fdb\n\n\na compile downstream build please  add comment: Jenkins run cdb\n\n\na full production downstream build please add comment: Jenkins execute product fdb\n\n\nan upstream build please add comment: Jenkins run upstream", "createdAt": "2020-10-15T13:22:32Z", "url": "https://github.com/kiegroup/drools/pull/3170", "merged": true, "mergeCommit": {"oid": "a098a98687688c810128e3d2996fce57d17d09ba"}, "closed": true, "closedAt": "2020-10-19T12:44:24Z", "author": {"login": "TommyNeubert"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSxsGDgH2gAyNTA0MTAxMDk4OjUwMGQ3ODIzOWU5NDQyYTk5NzE4MGQ4N2NiYzc0ZTE5YzM1MjhkMWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUDjcagFqTUxMTcxODgyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e", "author": {"user": {"login": "TommyNeubert", "name": "Tommy Neubert"}}, "url": "https://github.com/kiegroup/drools/commit/500d78239e9442a997180d87cbc74e19c3528d1e", "committedDate": "2020-10-15T13:21:23Z", "message": "DROOLS-5733 prevent removing trailing zeros for numbers in scientific notation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5Mzc3Njc4", "url": "https://github.com/kiegroup/drools/pull/3170#pullrequestreview-509377678", "createdAt": "2020-10-15T13:27:49Z", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzoyNzo0OVrOHiHx-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzoyNzo0OVrOHiHx-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0MTExMw==", "bodyText": "@tarilabs seems I was a bit too quick, we found another one \ud83d\ude05\nThere's probably a number of other solutions, such as using\nString.format(\"%f\", value)\ninstead of\nvalue.toString()\nIf you'd prefer a different solution, let us know.\nOverall, it's probably not a huge issue - normally, when dealing with large numbers with fractions, one should provide a BigDecimal as input value, instead of a float/double, anyways.\nWe just wanted to inform you that this bug exists. We're also fine with you closing this PR if you don't consider it imporant \ud83d\ude42", "url": "https://github.com/kiegroup/drools/pull/3170#discussion_r505541113", "createdAt": "2020-10-15T13:27:49Z", "author": {"login": "j-beyer"}, "path": "kie-dmn/kie-dmn-feel/src/main/java/org/kie/dmn/feel/util/EvalHelper.java", "diffHunk": "@@ -711,6 +711,9 @@ private static Boolean isEqual(Object l, Object r) {\n     }\n \n     private static String removeTrailingZeros(final String stringNumber) {\n+        if(stringNumber.contains(\"E\")) {\n+            return stringNumber;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MzgwNzYw", "url": "https://github.com/kiegroup/drools/pull/3170#pullrequestreview-509380760", "createdAt": "2020-10-15T13:30:48Z", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzozMDo0OFrOHiH6yQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzozMDo0OFrOHiH6yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0MzM2OQ==", "bodyText": "Note: this assertion would break without the change.\nvalue.toString()\nwill produce 1.00000000005E10, and removeTrailingZeros() would change this to 1.00000000005E1", "url": "https://github.com/kiegroup/drools/pull/3170#discussion_r505543369", "createdAt": "2020-10-15T13:30:48Z", "author": {"login": "j-beyer"}, "path": "kie-dmn/kie-dmn-feel/src/test/java/org/kie/dmn/feel/util/EvalHelperTest.java", "diffHunk": "@@ -49,4 +52,12 @@ public void testNormalizeSpace() {\n         assertEquals(\"ab c\", normalizeVariableName(\"ab c  \"));\n         assertEquals(\"a b\", normalizeVariableName(\"a\\u00A0b\"));\n     }\n+    \n+    @Test\n+    public void testGetBigDecimalOrNull() {\n+        assertEquals(new BigDecimal(\"10\"), getBigDecimalOrNull(10d));\n+        assertEquals(new BigDecimal(\"10\"), getBigDecimalOrNull(10.00000000D));\n+        assertEquals(new BigDecimal(\"10000000000.5\"), getBigDecimalOrNull(10000000000.5D));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjA3MTg4", "url": "https://github.com/kiegroup/drools/pull/3170#pullrequestreview-511607188", "createdAt": "2020-10-19T10:08:06Z", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNzE3MTgz", "url": "https://github.com/kiegroup/drools/pull/3170#pullrequestreview-511717183", "createdAt": "2020-10-19T12:42:08Z", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNzE4ODIy", "url": "https://github.com/kiegroup/drools/pull/3170#pullrequestreview-511718822", "createdAt": "2020-10-19T12:44:09Z", "commit": {"oid": "500d78239e9442a997180d87cbc74e19c3528d1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1709, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}