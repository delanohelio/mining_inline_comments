{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNjkyNTYy", "number": 3280, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozNzo1NFrOFA7V5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDowOTozMVrOFE50Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTE2NTgyOnYy", "diffSide": "RIGHT", "path": "drools-model/drools-mvel-parser/src/test/java/org/drools/mvel/parser/DroolsMvelParserTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozNzo1NFrOH_dKgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozNzo1NFrOH_dKgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMwMDE2Mw==", "bodyText": "I updated this test because I don't think this parses in a regular java grammar. Field/variable accesses are not statements and this was failing IIRC", "url": "https://github.com/kiegroup/drools/pull/3280#discussion_r536300163", "createdAt": "2020-12-04T18:37:54Z", "author": {"login": "evacchi"}, "path": "drools-model/drools-mvel-parser/src/test/java/org/drools/mvel/parser/DroolsMvelParserTest.java", "diffHunk": "@@ -716,14 +722,14 @@ public void testWithConstructor() {\n     @Test\n     public void testWithoutSemicolon() {\n         String expr = \"{             \" +\n-                        \"a\" + newLine() +\n-                        \"b\" + newLine() +\n+                        \"a()\" + newLine() +\n+                        \"b()\" + newLine() +\n                         \"}\";\n \n         BlockStmt expression = MvelParser.parseBlock(expr);\n         assertEquals(\"{\" + newLine() +\n-                             \"    a;\" + newLine() +\n-                             \"    b;\" + newLine() +\n+                             \"    a();\" + newLine() +\n+                             \"    b();\" + newLine() +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e3e84feec3293137edecd7febff63e4fcad442"}, "originalPosition": 74}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTE2Nzc5OnYy", "diffSide": "LEFT", "path": "drools-model/drools-mvel-parser/src/test/java/org/drools/mvel/parser/DroolsMvelParserTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozODozMVrOH_dLxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODozODozMVrOH_dLxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjMwMDQ4Ng==", "bodyText": "I removed these newlines because they are now treated as whitespace and not empty statements. I think this a good behavior.", "url": "https://github.com/kiegroup/drools/pull/3280#discussion_r536300486", "createdAt": "2020-12-04T18:38:31Z", "author": {"login": "evacchi"}, "path": "drools-model/drools-mvel-parser/src/test/java/org/drools/mvel/parser/DroolsMvelParserTest.java", "diffHunk": "@@ -815,8 +821,6 @@ public void commentsWithEmptyStatements() {\n \n         BlockStmt expression = MvelParser.parseBlock(expr);\n         assertEquals(\"{\" + newLine() +\n-                             \"    ;\" + newLine() +\n-                             \"    ;\" + newLine() +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8e3e84feec3293137edecd7febff63e4fcad442"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNjg1OTE1OnYy", "diffSide": "RIGHT", "path": "drools-model/drools-mvel-parser/src/main/java/org/drools/mvel/parser/MvelParser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDowOTozMVrOIFJDVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDowOTozMVrOIFJDVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI2MjEwMQ==", "bodyText": "Nitpick: you could make this constructor to simply call the other, passing true as 2nd argument.", "url": "https://github.com/kiegroup/drools/pull/3280#discussion_r542262101", "createdAt": "2020-12-14T10:09:31Z", "author": {"login": "mariofusco"}, "path": "drools-model/drools-mvel-parser/src/main/java/org/drools/mvel/parser/MvelParser.java", "diffHunk": "@@ -91,6 +92,13 @@ public MvelParser() {\n     public MvelParser(ParserConfiguration configuration) {\n         this.configuration = configuration;\n         configuration.getPostProcessors().clear();\n+        this.optionalSemicolon = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a5562d3dde639c8e0ad54b7900554e305cf04a0"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2215, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}