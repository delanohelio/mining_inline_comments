{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNTQ2NDc1", "number": 2969, "title": "[DROOLS-5462] Generating default model name for models missing it.", "bodyText": "@danielezonca @mariofusco @jiripetrlik\nsee https://issues.redhat.com/browse/DROOLS-5462\nModifications done:\n\nimplemented a KiePMMLUtil.populateMissingModelNames method\nadd \"String fileName\" parameter to KiePMMLUtil.load method\ninvoking KiePMMLUtil.populateMissingModelNames from KiePMMLUtil.load soon before returning PMML instance\nadapted all invoking code to this new parameter\nInside PMMLCompilerService, retrieving file name from Resource.getSourcePath\nadd some tests", "createdAt": "2020-07-01T08:55:02Z", "url": "https://github.com/kiegroup/drools/pull/2969", "merged": true, "mergeCommit": {"oid": "4b0c12b11e54a06731936f83eb4be1c825ec2880"}, "closed": true, "closedAt": "2020-07-01T12:37:36Z", "author": {"login": "gitgabrio"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwmQrBgH2gAyNDQyNTQ2NDc1OmM2NzAzNzhhNmFjYWUxNWFjOTk5MDk0MjE2YTc1ZTQwYzRjNzQ1ZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwphr-gFqTQ0MDgyODg3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c670378a6acae15ac999094216a75e40c4c745ee", "author": {"user": {"login": "gitgabrio", "name": "Gabriele Cardosi"}}, "url": "https://github.com/kiegroup/drools/commit/c670378a6acae15ac999094216a75e40c4c745ee", "committedDate": "2020-07-01T08:49:03Z", "message": "[DROOLS-5462] Generating default model name for models missing it."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjg1ODky", "url": "https://github.com/kiegroup/drools/pull/2969#pullrequestreview-440685892", "createdAt": "2020-07-01T09:08:13Z", "commit": {"oid": "c670378a6acae15ac999094216a75e40c4c745ee"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwOTowODoxM1rOGrdhew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxMDoyMTo0NlrOGrgAXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODIyNTY1OQ==", "bodyText": "what about empty string instead of ANONYMOUS?", "url": "https://github.com/kiegroup/drools/pull/2969#discussion_r448225659", "createdAt": "2020-07-01T09:08:13Z", "author": {"login": "danielezonca"}, "path": "kie-pmml-trusty/kie-pmml-compiler/kie-pmml-compiler-commons/src/main/java/org/kie/pmml/compiler/commons/utils/KiePMMLUtil.java", "diffHunk": "@@ -40,7 +43,7 @@ private KiePMMLUtil() {\n      * @throws JAXBException\n      */\n     public static PMML load(String source) throws SAXException, JAXBException {\n-        return load(new ByteArrayInputStream(source.getBytes()));\n+        return load(new ByteArrayInputStream(source.getBytes()), \"ANONYMOUS\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c670378a6acae15ac999094216a75e40c4c745ee"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODI2NjMzMw==", "bodyText": "Do not use File.separator and use /: Kie virtual file system doesn't support OS specific separator so you always receive /. Or at least try both", "url": "https://github.com/kiegroup/drools/pull/2969#discussion_r448266333", "createdAt": "2020-07-01T10:21:46Z", "author": {"login": "danielezonca"}, "path": "kie-pmml-trusty/kie-pmml-evaluator/kie-pmml-evaluator-assembler/src/main/java/org/kie/pmml/evaluator/assembler/service/PMMLCompilerService.java", "diffHunk": "@@ -102,4 +107,12 @@ static PMMLCompiler getCompiler(KnowledgeBuilderImpl kbuilderImpl) {\n         // to retrieve model implementations\n         return new PMMLCompilerImpl();\n     }\n+\n+    static String getFileName(final String fullPath) {\n+        String toReturn = fullPath;\n+        if (fullPath.contains(File.separator)) {\n+            toReturn = fullPath.substring(fullPath.lastIndexOf(File.separator) + 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c670378a6acae15ac999094216a75e40c4c745ee"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNzU0MzM1", "url": "https://github.com/kiegroup/drools/pull/2969#pullrequestreview-440754335", "createdAt": "2020-07-01T10:42:27Z", "commit": {"oid": "c670378a6acae15ac999094216a75e40c4c745ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "053ad3f2f8eea0febf42d6ca35e3b1365e6510e3", "author": {"user": {"login": "gitgabrio", "name": "Gabriele Cardosi"}}, "url": "https://github.com/kiegroup/drools/commit/053ad3f2f8eea0febf42d6ca35e3b1365e6510e3", "committedDate": "2020-07-01T10:55:52Z", "message": "[DROOLS-5462] Fixed as per PR suggestion"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a9ddacc79a8eedd3d5e6a9bf05cb89a64467b74", "author": {"user": {"login": "gitgabrio", "name": "Gabriele Cardosi"}}, "url": "https://github.com/kiegroup/drools/commit/3a9ddacc79a8eedd3d5e6a9bf05cb89a64467b74", "committedDate": "2020-07-01T10:56:09Z", "message": "Merge remote-tracking branch 'origin/master' into DROOLS-5462"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4b11be87b976d8bd04f2aa9b45446a10f43fbb5", "author": {"user": {"login": "gitgabrio", "name": "Gabriele Cardosi"}}, "url": "https://github.com/kiegroup/drools/commit/d4b11be87b976d8bd04f2aa9b45446a10f43fbb5", "committedDate": "2020-07-01T10:58:36Z", "message": "[DROOLS-5462] Fixed as per PR suggestion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwODI4ODcz", "url": "https://github.com/kiegroup/drools/pull/2969#pullrequestreview-440828873", "createdAt": "2020-07-01T12:37:21Z", "commit": {"oid": "d4b11be87b976d8bd04f2aa9b45446a10f43fbb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1836, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}