{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTUzMTY1", "number": 3259, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMjowMDoxMFrOE8aebg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMzoyOTowN1rOE8uMWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzgzNzkwOnYy", "diffSide": "RIGHT", "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMjowMDoxMFrOH4hCjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwODozNjo1MlrOH4xctg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAyMzYyOA==", "bodyText": "I'm not sure I understand this fix, shouldn't the usual 4 dependencies be included if JDK detected is a >=11 ?", "url": "https://github.com/kiegroup/drools/pull/3259#discussion_r529023628", "createdAt": "2020-11-23T22:00:10Z", "author": {"login": "tarilabs"}, "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "diffHunk": "@@ -89,4 +67,19 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n+\n+  <profiles>\n+    <profile>\n+      <id>java11-pmml</id>\n+      <activation>\n+        <jdk>[11,)</jdk>\n+      </activation>\n+      <dependencies>\n+        <dependency>\n+          <groupId>org.glassfish.jaxb</groupId>\n+          <artifactId>jaxb-runtime</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8a4b7695aee29164619911ecf3db8040c334e7d"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTI5MjQ3MA==", "bodyText": "The problem is that both com.sun.xml.bind:jaxb-impl and org.glassfish.jaxb:jaxb-runtime provide jaxb interfaces and impl needed in jdk11 so the enforcer fails because of duplicated classes. kie-pmml-trusty already brings in the glassfish one so the possible fixes are:\n\nexclude transitive dependency from kie-pmml-trusty and keep here jaxb-impl etc: not sure it if works because as far as I remember kie-pmml-trusty works only with glassfish impl (probably because of jpmml-model but not sure)\nremove everything from this module and leverage the transitive dependency from kie-pmml-trusty: I prefer to declare external transitive dependencies\nchange glassfish dependency from kie-pmml-trusty to be not transitive (i.e. provided): this will require many more changes because ~all kie-pmml-trusty test modules need to be changed so I prefer to postpone a similar change to a future ticket\ndeclare here the same glassfish dependency to avoid the duplication that is what I did\n\nI also make this dependency active only if jdk>=11", "url": "https://github.com/kiegroup/drools/pull/3259#discussion_r529292470", "createdAt": "2020-11-24T08:36:52Z", "author": {"login": "danielezonca"}, "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "diffHunk": "@@ -89,4 +67,19 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n+\n+  <profiles>\n+    <profile>\n+      <id>java11-pmml</id>\n+      <activation>\n+        <jdk>[11,)</jdk>\n+      </activation>\n+      <dependencies>\n+        <dependency>\n+          <groupId>org.glassfish.jaxb</groupId>\n+          <artifactId>jaxb-runtime</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAyMzYyOA=="}, "originalCommit": {"oid": "f8a4b7695aee29164619911ecf3db8040c334e7d"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMTA2ODQyOnYy", "diffSide": "RIGHT", "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMzoyOTowN1rOH5A1gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwODoxMzoxMVrOH60lAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU0NDU3Nw==", "bodyText": "i think it would be good to have the same profile name/id for jdk11 instead of java11_pmml", "url": "https://github.com/kiegroup/drools/pull/3259#discussion_r529544577", "createdAt": "2020-11-24T13:29:07Z", "author": {"login": "mareknovotny"}, "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "diffHunk": "@@ -89,4 +67,19 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n+\n+  <profiles>\n+    <profile>\n+      <id>java11-pmml</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8a4b7695aee29164619911ecf3db8040c334e7d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ0MDg5OQ==", "bodyText": "Done", "url": "https://github.com/kiegroup/drools/pull/3259#discussion_r531440899", "createdAt": "2020-11-27T08:13:11Z", "author": {"login": "danielezonca"}, "path": "kie-dmn/kie-dmn-pmml-tests-parent/kie-dmn-pmml-tests-trusty/pom.xml", "diffHunk": "@@ -89,4 +67,19 @@\n       </dependency>\n     </dependencies>\n   </dependencyManagement>\n+\n+  <profiles>\n+    <profile>\n+      <id>java11-pmml</id>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTU0NDU3Nw=="}, "originalCommit": {"oid": "f8a4b7695aee29164619911ecf3db8040c334e7d"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2290, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}