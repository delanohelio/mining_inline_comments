{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMTk4NzQ5", "number": 943, "title": "optimize list property read", "bodyText": "Change-Id: I621e5cb441f48c961ffc5ea78a83d5428238c4c2", "createdAt": "2020-04-11T14:36:08Z", "url": "https://github.com/hugegraph/hugegraph/pull/943", "merged": true, "mergeCommit": {"oid": "0eb7bee8f6e4793fece194dce099e43b2620c180"}, "closed": true, "closedAt": "2020-04-12T04:57:04Z", "author": {"login": "javeme"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWn8VggH2gAyNDAyMTk4NzQ5OjdjMTYzOGQxMGVjM2VkZGFiMTFlYzY0MGRhMWNiMDEwODc1YWU3YjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWy_H4gFqTM5MTgyMTcyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7c1638d10ec3eddab11ec640da1cb010875ae7b5", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/7c1638d10ec3eddab11ec640da1cb010875ae7b5", "committedDate": "2020-04-11T16:04:37Z", "message": "optimize list property read\n\nChange-Id: I621e5cb441f48c961ffc5ea78a83d5428238c4c2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0901e35cd0ee556dafde2ed3918ea7b10d346f78", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/0901e35cd0ee556dafde2ed3918ea7b10d346f78", "committedDate": "2020-04-11T16:04:39Z", "message": "optimize cache with capatity=0\n\nChange-Id: I0f05c8f6484c392a5fb278ec2c92b9d2a4d906b5"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36d98c838e648478ce4eb4a230fa07545186fbbd", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/36d98c838e648478ce4eb4a230fa07545186fbbd", "committedDate": "2020-04-11T14:15:27Z", "message": "optimize cache with capatity=0\n\nChange-Id: I0f05c8f6484c392a5fb278ec2c92b9d2a4d906b5"}, "afterCommit": {"oid": "0901e35cd0ee556dafde2ed3918ea7b10d346f78", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/0901e35cd0ee556dafde2ed3918ea7b10d346f78", "committedDate": "2020-04-11T16:04:39Z", "message": "optimize cache with capatity=0\n\nChange-Id: I0f05c8f6484c392a5fb278ec2c92b9d2a4d906b5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d9ad5bd8031135436307019d4d87cad66fd4612", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/4d9ad5bd8031135436307019d4d87cad66fd4612", "committedDate": "2020-04-11T18:08:49Z", "message": "optimize string format which cost ~3% time when query.toString()\n\nChange-Id: Ic066730ccf5f35f71a56156389c55085cd34f2cb"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/8f3efec347777c10cc327c5b72ef29a7fe9a7b8d", "committedDate": "2020-04-11T18:45:55Z", "message": "optimize assignId(): EdgeId.asString() cost 6% time\n\nChange-Id: Ie1edacdfaf5028fea184fde6f787fa05a13c9ac3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODAwNzMz", "url": "https://github.com/hugegraph/hugegraph/pull/943#pullrequestreview-391800733", "createdAt": "2020-04-11T21:08:40Z", "commit": {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQyMTowODo0MFrOGEQGNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQyMTowODo0MFrOGEQGNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExMTIyMw==", "bodyText": "false", "url": "https://github.com/hugegraph/hugegraph/pull/943#discussion_r407111223", "createdAt": "2020-04-11T21:08:40Z", "author": {"login": "zhoney"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/schema/PropertyKey.java", "diffHunk": "@@ -217,11 +217,13 @@ public String clazz() {\n \n     public <V> V validValueOrThrow(V value) {\n         V validValue = this.validValue(value);\n-        E.checkArgument(validValue != null,\n-                        \"Invalid property value '%s' for key '%s', \" +\n-                        \"expect a value of type %s, actual type %s\",\n-                        value, this.name(), this.clazz(),\n-                        value.getClass().getSimpleName());\n+        if (validValue == null) {\n+            E.checkArgument(validValue != null,\n+                            \"Invalid property value '%s' for key '%s', \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODIxMTM1", "url": "https://github.com/hugegraph/hugegraph/pull/943#pullrequestreview-391821135", "createdAt": "2020-04-12T04:43:42Z", "commit": {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODIxNzIz", "url": "https://github.com/hugegraph/hugegraph/pull/943#pullrequestreview-391821723", "createdAt": "2020-04-12T04:56:37Z", "commit": {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2423, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}