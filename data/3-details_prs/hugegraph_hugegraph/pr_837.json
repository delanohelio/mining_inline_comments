{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MjM4MTgy", "number": 837, "title": "add option vertex.check_adjacent_vertex_exist", "bodyText": "when check_adjacent_vertex_exist=true:\nthrow exception: \"vertex does not exist\" if not exist adjacent vertex\nwhen check_adjacent_vertex_exist=false:\nreturn vertex with \"~undefined\" label if not exist adjacent vertex\nfix: #835\nChange-Id: I30ce32ae358d0483888895a0017b77d55f346491", "createdAt": "2020-01-17T17:09:52Z", "url": "https://github.com/hugegraph/hugegraph/pull/837", "merged": true, "mergeCommit": {"oid": "f856bf21729b64eb8742c1cb24e40f812a3605f1"}, "closed": true, "closedAt": "2020-03-20T03:42:43Z", "author": {"login": "javeme"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcB2AN3gFqTM1NDkwMDY4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPYGKeAFqTM3ODIxOTA2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0OTAwNjg4", "url": "https://github.com/hugegraph/hugegraph/pull/837#pullrequestreview-354900688", "createdAt": "2020-02-07T02:34:59Z", "commit": {"oid": "140ba77bd38cfd680c0b3dcf0822cf7e8f0130f5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwMjozNTowMFrOFmwsnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwMjozNTowMFrOFmwsnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjE4ODA2MA==", "bodyText": "TODO: deal vertex with unmatch label", "url": "https://github.com/hugegraph/hugegraph/pull/837#discussion_r376188060", "createdAt": "2020-02-07T02:35:00Z", "author": {"login": "javeme"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/backend/tx/GraphTransaction.java", "diffHunk": "@@ -544,20 +558,26 @@ public void removeVertex(HugeVertex vertex) {\n \n         if (!query.empty()) {\n             // Query from backend store\n-            if (vertices.isEmpty() && query.ids().size() == ids.size()) {\n-                // Sort at the lower layer and return directly\n-                Iterator<HugeVertex> it = this.queryVerticesFromBackend(query);\n-                @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n-                Iterator<Vertex> r = (Iterator) it;\n-                return r;\n-            }\n             query.mustSortByInput(false);\n             Iterator<HugeVertex> it = this.queryVerticesFromBackend(query);\n             QueryResults.fillMap(it, vertices);\n         }\n \n         return new MapperIterator<>(ids.iterator(), id -> {\n-            return vertices.get(id);\n+            HugeVertex vertex = vertices.get(id);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "140ba77bd38cfd680c0b3dcf0822cf7e8f0130f5"}, "originalPosition": 74}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32fb1fc11670449a3274c7787abe0aeffd08f6dc", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/32fb1fc11670449a3274c7787abe0aeffd08f6dc", "committedDate": "2020-03-19T13:07:05Z", "message": "add option vertex.check_adjacent_vertex_exist\n\ncheck_adjacent_vertex_exist=true:\n throw exception: vertex does not exist\ncheck_adjacent_vertex_exist=false:\n return vertex with \"~undefined\" label if not exist adjacent vertex,\n\nfix: #835\nChange-Id: I30ce32ae358d0483888895a0017b77d55f346491"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fce93b531211a2770cd47f1f436894bc615a882", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/6fce93b531211a2770cd47f1f436894bc615a882", "committedDate": "2020-03-19T13:07:05Z", "message": "don't let g.E() return inVLabel \"~undefined\" and fetch inV\n\nfix: #835\nChange-Id: Iac7ea3c51092253f20a35a579460d8c7124c5f94"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "140ba77bd38cfd680c0b3dcf0822cf7e8f0130f5", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/140ba77bd38cfd680c0b3dcf0822cf7e8f0130f5", "committedDate": "2020-01-17T17:06:45Z", "message": "don't let g.E() return inVLabel \"~undefined\" and fetch inV\n\nfix: #835\nChange-Id: Iac7ea3c51092253f20a35a579460d8c7124c5f94"}, "afterCommit": {"oid": "6fce93b531211a2770cd47f1f436894bc615a882", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/6fce93b531211a2770cd47f1f436894bc615a882", "committedDate": "2020-03-19T13:07:05Z", "message": "don't let g.E() return inVLabel \"~undefined\" and fetch inV\n\nfix: #835\nChange-Id: Iac7ea3c51092253f20a35a579460d8c7124c5f94"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3ODY5OTIz", "url": "https://github.com/hugegraph/hugegraph/pull/837#pullrequestreview-377869923", "createdAt": "2020-03-19T16:08:04Z", "commit": {"oid": "6fce93b531211a2770cd47f1f436894bc615a882"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4MjE5MDYy", "url": "https://github.com/hugegraph/hugegraph/pull/837#pullrequestreview-378219062", "createdAt": "2020-03-20T03:39:25Z", "commit": {"oid": "6fce93b531211a2770cd47f1f436894bc615a882"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2374, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}