{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNzg0ODMx", "number": 939, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwODoyOTowMVrODwr0dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwODoyOTowMVrODwr0dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMzc2MTgxOnYy", "diffSide": "RIGHT", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/traversal/algorithm/SubGraphTraverser.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwODoyOTowMVrOGD0kiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwODo1ODoyMVrOGD1MLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY2MDIzMw==", "bodyText": "still returned 3 vertices", "url": "https://github.com/hugegraph/hugegraph/pull/939#discussion_r406660233", "createdAt": "2020-04-10T08:29:01Z", "author": {"login": "javeme"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/traversal/algorithm/SubGraphTraverser.java", "diffHunk": "@@ -82,15 +82,20 @@ private PathSet subGraphPaths(Id sourceV, Directions dir, String label,\n     }\n \n     private static boolean hasMultiEdges(List<Edge> edges, Id target) {\n-        int count = 0;\n+        boolean hasOutEdge = false;\n+        boolean hasInEdge = false;\n         for (Edge edge : edges) {\n             if (((HugeEdge) edge).id().otherVertexId().equals(target)) {\n-                if (++count > 1) {\n+                if (((HugeEdge) edge).direction() == Directions.OUT) {\n+                    hasOutEdge = true;\n+                } else {\n+                    hasInEdge = true;\n+                }\n+                if (hasOutEdge && hasInEdge) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a42dde8d55e0cb7a1cb6c5a24c63cb046c42869"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY3MDM4MA==", "bodyText": "oh seems the graph itself exist both direction edges between tow vertices", "url": "https://github.com/hugegraph/hugegraph/pull/939#discussion_r406670380", "createdAt": "2020-04-10T08:58:21Z", "author": {"login": "javeme"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/traversal/algorithm/SubGraphTraverser.java", "diffHunk": "@@ -82,15 +82,20 @@ private PathSet subGraphPaths(Id sourceV, Directions dir, String label,\n     }\n \n     private static boolean hasMultiEdges(List<Edge> edges, Id target) {\n-        int count = 0;\n+        boolean hasOutEdge = false;\n+        boolean hasInEdge = false;\n         for (Edge edge : edges) {\n             if (((HugeEdge) edge).id().otherVertexId().equals(target)) {\n-                if (++count > 1) {\n+                if (((HugeEdge) edge).direction() == Directions.OUT) {\n+                    hasOutEdge = true;\n+                } else {\n+                    hasInEdge = true;\n+                }\n+                if (hasOutEdge && hasInEdge) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY2MDIzMw=="}, "originalCommit": {"oid": "4a42dde8d55e0cb7a1cb6c5a24c63cb046c42869"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1609, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}