{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5OTEzMjYz", "number": 845, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1MTo1MlrODccsXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTo0OTo1OFrOE69Ysw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTU2ODMwOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1MTo1MlrOFkgHMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1MTo1MlrOFkgHMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTE4Nw==", "bodyText": "prefer to add an env var for version", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819187", "createdAt": "2020-02-02T04:51:52Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTU3MTAwOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1OTo0NVrOFkgIdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1OTo0NVrOFkgIdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTUxMA==", "bodyText": "can it be a real ip instead of 0.0.0.0", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819510", "createdAt": "2020-02-02T04:59:45Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTU3MTM2OnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNTowMDo1N1rOFkgIpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNTowMDo1N1rOFkgIpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTU1Nw==", "bodyText": "is the ip stable?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819557", "createdAt": "2020-02-02T05:00:57Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTc0NDExOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMjozMToxM1rOFkhhYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwNzoxMzo1NlrOFkoA-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0MjI3NQ==", "bodyText": "should we also support centos?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373842275", "createdAt": "2020-02-02T12:31:13Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwNjgzOQ==", "bodyText": "We can only write a basically similar Dockerfile for CentOS. (Generally use Debian/Ubuntu)\nUsually , I haven't seen the official image provide two types of Dockerfile,\nMaybe we can see the opinions of other community users.\nAnd here are some refers:\n\nCassandra_Dockerfile\nNginx_Dockerfile\nOther Official Dockerfile", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373906839", "createdAt": "2020-02-03T03:06:06Z", "author": {"login": "imbajin"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0MjI3NQ=="}, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk0ODY2NQ==", "bodyText": "OK", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373948665", "createdAt": "2020-02-03T07:13:56Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0MjI3NQ=="}, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTc2OTEzOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMzoyNDo1MFrOFkhu-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMzoyNDo1MFrOFkhu-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0NTc1Mg==", "bodyText": "replace server with hugegraph-server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373845752", "createdAt": "2020-02-02T13:24:50Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/studio \\\n+    && curl -L -S ${PKG_URL}/hugegraph-studio/releases/download/v0.10.0/hugegraph-studio-0.10.0.tar.gz -o /root/studio.tar.gz \\\n+    && tar xzf /root/studio.tar.gz --strip-components 1 -C /root/studio \\\n+    && rm /root/studio.tar.gz \\\n+    && sed -i \"s/^studio.server.host.*$/studio.server.host=0.0.0.0/g\" /root/studio/conf/hugegraph-studio.properties \\\n+    && sed -i \"s/^graph.server.host.*$/graph.server.host=0.0.0.0/g\" /root/studio/conf/hugegraph-studio.properties\n+\n+EXPOSE 8080\n+EXPOSE 8088\n+WORKDIR /root\n+\n+ENTRYPOINT [\"./server/bin/start-hugegraph.sh\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTg2NjkxOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjozNjo1M1rOFkih1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwMjo0ODoxN1rOFklTFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODc3NA==", "bodyText": "add a shell install-server.sh to improve readability?\nsome references found https://github.com/search?l=Dockerfile&p=99&q=RUN++install.sh&type=Code", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373858774", "createdAt": "2020-02-02T16:36:53Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzkwNDE0OA==", "bodyText": "Need test it:\nif there is a file named start.sh\necho \"old msg\"\n\n\nRUN start.sh\nRUN echo \"old msg\" && echo \"new msg\"\n\nIf we use a shell file to change the code, would dockerfile think this is a repeated step and skip the rebuild?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373904148", "createdAt": "2020-02-03T02:48:17Z", "author": {"login": "imbajin"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODc3NA=="}, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTg2ODQ2OnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjo0MDoxMFrOFkiiog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwOToyNTowMFrOFoB2Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODk3OA==", "bodyText": "seems no studio tar when building server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373858978", "createdAt": "2020-02-02T16:40:10Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/studio \\\n+    && curl -L -S ${PKG_URL}/hugegraph-studio/releases/download/v0.10.0/hugegraph-studio-0.10.0.tar.gz -o /root/studio.tar.gz \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNzU3NQ==", "bodyText": "we may need to also trigger docker image building when studio release to resolve it.\nand what is the behavior if studio tar don't exist: hugegraph-studio / releases / download / v0.10.0 / hugegraph-studio-0.10.0.tar.gz?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r377517575", "createdAt": "2020-02-11T09:25:00Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/studio \\\n+    && curl -L -S ${PKG_URL}/hugegraph-studio/releases/download/v0.10.0/hugegraph-studio-0.10.0.tar.gz -o /root/studio.tar.gz \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODk3OA=="}, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjEwMTUyOnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozNTowNFrOFlKX4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozNTowNFrOFlKX4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMTU4NA==", "bodyText": "merge the 11-15 lines, and align with apt-get", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r374511584", "createdAt": "2020-02-04T07:35:04Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjExNDA1OnYy", "diffSide": "RIGHT", "path": "Dockerfile", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzo0MDo1OFrOFlKfPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQwOToyMjoyMVrOFoBxSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMzQ2OA==", "bodyText": "remove it since added when building server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r374513468", "createdAt": "2020-02-04T07:40:58Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+ENV SERVER_VERSION 0.10.4\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/hugegraph-server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v${SERVER_VERSION}/hugegraph-${SERVER_VERSION}.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/hugegraph-server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/hugegraph-server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+ENV STUDIO_VERSION 0.10.0\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU1MjgwMA==", "bodyText": "Each layer of docker image use a separate network layer.\nSo when leave current layer(step), other step cannot reuse it\nAnd other ways are troublesome to solve it, like this", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r374552800", "createdAt": "2020-02-04T09:18:23Z", "author": {"login": "imbajin"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+ENV SERVER_VERSION 0.10.4\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/hugegraph-server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v${SERVER_VERSION}/hugegraph-${SERVER_VERSION}.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/hugegraph-server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/hugegraph-server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+ENV STUDIO_VERSION 0.10.0\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMzQ2OA=="}, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNjM2Mw==", "bodyText": "Get it", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r377516363", "createdAt": "2020-02-11T09:22:21Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+ENV SERVER_VERSION 0.10.4\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/hugegraph-server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v${SERVER_VERSION}/hugegraph-${SERVER_VERSION}.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/hugegraph-server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/hugegraph-server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+ENV STUDIO_VERSION 0.10.0\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMzQ2OA=="}, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMjU4NjExOnYy", "diffSide": "RIGHT", "path": "hugegraph-dist/src/assembly/static/conf/hugegraph.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTo0OTo1OFrOH2U4kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTo0OTo1OFrOH2U4kQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjcyNzMxMw==", "bodyText": "also move it to independent commit", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r526727313", "createdAt": "2020-11-19T09:49:58Z", "author": {"login": "javeme"}, "path": "hugegraph-dist/src/assembly/static/conf/hugegraph.properties", "diffHunk": "@@ -42,7 +42,7 @@ cassandra.password=\n # hbase backend config\n #hbase.hosts=localhost\n #hbase.port=2181\n-#hbase.znode_parent=/hbsae\n+#hbase.znode_parent=/hbase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b24a5a4306da12d20dd67a9301fa09774f1dcca"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1580, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}