{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5OTEzMjYz", "number": 845, "title": "Add Dockerfile for server & studio", "bodyText": "Fix #1284 / Fix #840 / Fix #989 :\n\nUse rocksdb as the default storage engine\nAdd hosts to speed up image build (comment by default)\nModify some configs to enable the server to run better in container\nBecause Dockerfile doesn't allow multiple startup commands, currently only the server will be automatically started after the container is started. If you want to start studio, enter the container to start it.\n\nHere are some simple using commands:\n# 0. download image\ndocker pull imbajin/hugegraph\n\n# 1. start container\ndocker run -itd imbajin/hugegraph  # quick start\n\n# (Optional configs)\ndocker run -itd --name=graph -p 18080:8080 -p 18088:8088 imbajin/hugegraph\n\n# 2. (Optional) enter the container & start hugegraph-studio\ndocker exec -it graph /bin/bash\nxxxx (start hugegraph studio by command)\nTODOs:\n\nBuild from the latest code instead of tar package.\nSupport hubble studio\nAdd & split studio/loader into separate images, use docker-compose to manage them.\nMaybe have better way to modify the configs to satisfied the container (like add a option for running in the foreground)\n\nAfter the above completed, it can provides a one-click pure test environment for graph", "createdAt": "2020-02-01T16:14:16Z", "url": "https://github.com/hugegraph/hugegraph/pull/845", "merged": true, "mergeCommit": {"oid": "67cfb6fa63382f46a961aaa78d695bfe6c058e7a"}, "closed": true, "closedAt": "2020-11-20T09:47:14Z", "author": {"login": "imbajin"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcAGOYKgH2gAyMzY5OTEzMjYzOmU5YmU0NWNiNjkyNzNjNzYzNDQ1MGU1NGI0ZDA4OWQ4NTA5ZTVmMmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeUK1fAFqTUzNTI3MzAzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/e9be45cb69273c7634450e54b4d089d8509e5f2d", "committedDate": "2020-02-01T16:21:13Z", "message": "Add Dockerfile for server & studio\n\n1. Add hosts to speed up image download\n2. Modify some configs to enable the server to run better in container\n3. Because Dockerfile doesn't allow multiple startup commands, currently only the server will be automatically started after the container is started. If you want to start studio, you can enter the container to start it.\n\nHere is a simple container start command:\n```bash\ndocker run -it --name=graph -p 18080:8080 -p 18088:8088 hugegraph:0.10 /bin/bash\n```"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "139ecbde14e1f98247b5a4d8403322dfcf599e82", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/139ecbde14e1f98247b5a4d8403322dfcf599e82", "committedDate": "2020-02-01T16:11:40Z", "message": "Add Dockerfile for server & studio\n\n1. Add hosts to speed up image download\n2. Modify some configs to enable the server to run better in container\n3. Because Dockerfile doesn't allow multiple startup commands, currently only the server will be automatically started after the container is started. If you want to start studio, you can enter the container to start it.\n\nHere is a simple container start command:\n```bash\ndocker run -it --name=graph -p 18080:8080 -p 18088:8088 hugegraph:0.10 /bin/bash\n```"}, "afterCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/e9be45cb69273c7634450e54b4d089d8509e5f2d", "committedDate": "2020-02-01T16:21:13Z", "message": "Add Dockerfile for server & studio\n\n1. Add hosts to speed up image download\n2. Modify some configs to enable the server to run better in container\n3. Because Dockerfile doesn't allow multiple startup commands, currently only the server will be automatically started after the container is started. If you want to start studio, you can enter the container to start it.\n\nHere is a simple container start command:\n```bash\ndocker run -it --name=graph -p 18080:8080 -p 18088:8088 hugegraph:0.10 /bin/bash\n```"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTE4NjQ0", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-351918644", "createdAt": "2020-02-02T04:51:51Z", "commit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNDo1MTo1MlrOFkgHMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQwNTowMDo1N1rOFkgIpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTE4Nw==", "bodyText": "prefer to add an env var for version", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819187", "createdAt": "2020-02-02T04:51:52Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTUxMA==", "bodyText": "can it be a real ip instead of 0.0.0.0", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819510", "createdAt": "2020-02-02T04:59:45Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgxOTU1Nw==", "bodyText": "is the ip stable?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373819557", "createdAt": "2020-02-02T05:00:57Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTM4NDg3", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-351938487", "createdAt": "2020-02-02T12:31:13Z", "commit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxMjozMToxM1rOFkhhYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxNjo0MDoxMFrOFkiiog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0MjI3NQ==", "bodyText": "should we also support centos?", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373842275", "createdAt": "2020-02-02T12:31:13Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg0NTc1Mg==", "bodyText": "replace server with hugegraph-server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373845752", "createdAt": "2020-02-02T13:24:50Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/studio \\\n+    && curl -L -S ${PKG_URL}/hugegraph-studio/releases/download/v0.10.0/hugegraph-studio-0.10.0.tar.gz -o /root/studio.tar.gz \\\n+    && tar xzf /root/studio.tar.gz --strip-components 1 -C /root/studio \\\n+    && rm /root/studio.tar.gz \\\n+    && sed -i \"s/^studio.server.host.*$/studio.server.host=0.0.0.0/g\" /root/studio/conf/hugegraph-studio.properties \\\n+    && sed -i \"s/^graph.server.host.*$/graph.server.host=0.0.0.0/g\" /root/studio/conf/hugegraph-studio.properties\n+\n+EXPOSE 8080\n+EXPOSE 8088\n+WORKDIR /root\n+\n+ENTRYPOINT [\"./server/bin/start-hugegraph.sh\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODc3NA==", "bodyText": "add a shell install-server.sh to improve readability?\nsome references found https://github.com/search?l=Dockerfile&p=99&q=RUN++install.sh&type=Code", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373858774", "createdAt": "2020-02-02T16:36:53Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODk3OA==", "bodyText": "seems no studio tar when building server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r373858978", "createdAt": "2020-02-02T16:40:10Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,46 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v0.10.4/hugegraph-0.10.4.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/studio \\\n+    && curl -L -S ${PKG_URL}/hugegraph-studio/releases/download/v0.10.0/hugegraph-studio-0.10.0.tar.gz -o /root/studio.tar.gz \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9be45cb69273c7634450e54b4d089d8509e5f2d"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/4da4b87e8734728010c93811becc84948e0ede1e", "committedDate": "2020-02-03T07:29:54Z", "message": "rename dir & merge port"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d511abe280368467a2dceadfccaa08bf1aaced27", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/d511abe280368467a2dceadfccaa08bf1aaced27", "committedDate": "2020-02-03T07:27:21Z", "message": "rename dir & merge port"}, "afterCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/4da4b87e8734728010c93811becc84948e0ede1e", "committedDate": "2020-02-03T07:29:54Z", "message": "rename dir & merge port"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNzY5MzY4", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-352769368", "createdAt": "2020-02-04T07:35:03Z", "commit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozNTowNFrOFlKX4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzo0MDo1OFrOFlKfPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMTU4NA==", "bodyText": "merge the 11-15 lines, and align with apt-get", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r374511584", "createdAt": "2020-02-04T07:35:04Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMzQ2OA==", "bodyText": "remove it since added when building server", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r374513468", "createdAt": "2020-02-04T07:40:58Z", "author": {"login": "javeme"}, "path": "Dockerfile", "diffHunk": "@@ -0,0 +1,48 @@\n+FROM ubuntu:xenial\n+\n+LABEL maintainer=\"HugeGraph Docker Maintainers <hugegraph@googlegroups.com>\"\n+\n+ENV PKG_URL https://github.com/hugegraph\n+\n+# 1. Install needed dependencies of GraphServer & RocksDB\n+RUN set -x \\\n+    && apt-get -q update \\\n+    && apt-get -q install -y --no-install-recommends --no-install-suggests \\\n+    curl \\\n+    lsof \\\n+    g++ \\\n+    gcc \\\n+    openjdk-8-jdk \\ \n+    && apt-get clean \\\n+    && rm -rf /var/lib/apt/lists/* \n+\n+# 2. Init HugeGraph Sever (speed up)\n+ENV SERVER_VERSION 0.10.4\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\\n+    && mkdir -p /root/hugegraph-server \\\n+    && curl -L -S ${PKG_URL}/hugegraph/releases/download/v${SERVER_VERSION}/hugegraph-${SERVER_VERSION}.tar.gz -o /root/server.tar.gz \\\n+    && tar xzf /root/server.tar.gz --strip-components 1 -C /root/hugegraph-server \\\n+    && rm /root/server.tar.gz \\\n+    && cd /root/hugegraph-server/ \\\n+    && sed -i \"s/^restserver.url.*$/restserver.url=http:\\/\\/0.0.0.0:8080/g\" ./conf/rest-server.properties \\\n+    && sed -n '63p' ./bin/start-hugegraph.sh | grep \"&\" > /dev/null && sed -i 63{s/\\&$/#/g} ./bin/start-hugegraph.sh \\\n+    && sed -n '74p' ./bin/start-hugegraph.sh | grep \"exit\" > /dev/null && sed -i 74{s/^/#/g} ./bin/start-hugegraph.sh \\\n+    && ./bin/init-store.sh\n+\n+# 3. Prepare for HugeGraph Studio\n+ENV STUDIO_VERSION 0.10.0\n+RUN set -e \\\n+    && echo \"192.30.253.112 github.com\\n151.101.44.249 github.global.ssl.fastly.net\" >> /etc/hosts \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4da4b87e8734728010c93811becc84948e0ede1e"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4201418de846bd1b744c1954a1242b4f51ad87", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/9a4201418de846bd1b744c1954a1242b4f51ad87", "committedDate": "2020-02-04T08:31:28Z", "message": "set default volume path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8fe879d3263c4a409a92d4453dd1d9512a003ca", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/b8fe879d3263c4a409a92d4453dd1d9512a003ca", "committedDate": "2020-02-05T13:47:51Z", "message": "align command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NTAyNjc1", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-356502675", "createdAt": "2020-02-11T09:19:05Z", "commit": {"oid": "b8fe879d3263c4a409a92d4453dd1d9512a003ca"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43b611be53da326622ef623be883e1ed4ab98c93", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/43b611be53da326622ef623be883e1ed4ab98c93", "committedDate": "2020-05-06T07:15:34Z", "message": "Comment ip-mapping & apt-repo clean\n\n1. Github-IP is not fixed, comment it now\n2. For the convenience of users, the apt-source is not cleared by default."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mzg3MDc5", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-406387079", "createdAt": "2020-05-06T08:08:53Z", "commit": {"oid": "43b611be53da326622ef623be883e1ed4ab98c93"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mzk4OTA4", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-406398908", "createdAt": "2020-05-06T08:26:27Z", "commit": {"oid": "43b611be53da326622ef623be883e1ed4ab98c93"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea5857693ad632cbbf6009c4f032da95e50ac9cf", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/ea5857693ad632cbbf6009c4f032da95e50ac9cf", "committedDate": "2020-05-19T13:56:39Z", "message": "Update rest-server.properties\n\nupdate auth default config in rest-server.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c15a15e8160d2b4a740989957c412d7f0c57803", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/8c15a15e8160d2b4a740989957c412d7f0c57803", "committedDate": "2020-05-19T14:02:42Z", "message": "Merge branch 'master' into support-docker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fbaff7d754b88c4052c6079256315b2cc5d44b1", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/0fbaff7d754b88c4052c6079256315b2cc5d44b1", "committedDate": "2020-05-19T14:05:04Z", "message": "Update rest-server.properties\n\nremove line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b24a5a4306da12d20dd67a9301fa09774f1dcca", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/3b24a5a4306da12d20dd67a9301fa09774f1dcca", "committedDate": "2020-05-20T08:18:33Z", "message": "revert changes for auth\n\nrevert"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MjQ2MzMx", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-534246331", "createdAt": "2020-11-19T09:49:58Z", "commit": {"oid": "3b24a5a4306da12d20dd67a9301fa09774f1dcca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTo0OTo1OFrOH2U4kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwOTo0OTo1OFrOH2U4kQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjcyNzMxMw==", "bodyText": "also move it to independent commit", "url": "https://github.com/hugegraph/hugegraph/pull/845#discussion_r526727313", "createdAt": "2020-11-19T09:49:58Z", "author": {"login": "javeme"}, "path": "hugegraph-dist/src/assembly/static/conf/hugegraph.properties", "diffHunk": "@@ -42,7 +42,7 @@ cassandra.password=\n # hbase backend config\n #hbase.hosts=localhost\n #hbase.port=2181\n-#hbase.znode_parent=/hbsae\n+#hbase.znode_parent=/hbase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b24a5a4306da12d20dd67a9301fa09774f1dcca"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "438bfe56beaad8df33bd9207f7d51333689412bc", "author": {"user": {"login": "imbajin", "name": null}}, "url": "https://github.com/hugegraph/hugegraph/commit/438bfe56beaad8df33bd9207f7d51333689412bc", "committedDate": "2020-11-19T10:17:26Z", "message": "Merge remote-tracking branch 'upstream/master' into support-docker"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MDM4NjE0", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-535038614", "createdAt": "2020-11-20T03:00:18Z", "commit": {"oid": "438bfe56beaad8df33bd9207f7d51333689412bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MDQxODcw", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-535041870", "createdAt": "2020-11-20T03:11:06Z", "commit": {"oid": "438bfe56beaad8df33bd9207f7d51333689412bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjczMDM2", "url": "https://github.com/hugegraph/hugegraph/pull/845#pullrequestreview-535273036", "createdAt": "2020-11-20T09:44:54Z", "commit": {"oid": "438bfe56beaad8df33bd9207f7d51333689412bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2381, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}