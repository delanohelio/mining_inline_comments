{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4Mzg2MTY2", "number": 1120, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxMTo0NFrOETRdfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxNDozMVrOETRixg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjQ0NDc5OnYy", "diffSide": "RIGHT", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/job/computer/AbstractComputer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxMTo0NFrOG46Xpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxMTo0NFrOG46Xpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMyOTc2Ng==", "bodyText": "move to line 131", "url": "https://github.com/hugegraph/hugegraph/pull/1120#discussion_r462329766", "createdAt": "2020-07-29T14:11:44Z", "author": {"login": "javeme"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/job/computer/AbstractComputer.java", "diffHunk": "@@ -166,4 +202,11 @@ protected static double precision(Map<String, Object> parameters) {\n                         PRECISION, precision);\n         return precision;\n     }\n+\n+    private String executeDir() {\n+        Map<String, Object> envs = this.readEnvConfig();\n+        E.checkState(envs.containsKey(COMPUTER_HOME),\n+                     \"Expect '%s' in '%s' section\", COMPUTER_HOME, ENV);\n+        return (String) envs.get(COMPUTER_HOME);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878abee05f070ef09e30fb812a576c95579b5602"}, "originalPosition": 150}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NjQ1ODMwOnYy", "diffSide": "RIGHT", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/job/computer/AbstractComputer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxNDozMVrOG46gGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoxNDozMVrOG46gGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMzMTkyOQ==", "bodyText": "move to line 50", "url": "https://github.com/hugegraph/hugegraph/pull/1120#discussion_r462331929", "createdAt": "2020-07-29T14:14:31Z", "author": {"login": "javeme"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/job/computer/AbstractComputer.java", "diffHunk": "@@ -19,32 +19,43 @@\n \n package com.baidu.hugegraph.job.computer;\n \n+import java.io.File;\n+import java.io.InputStreamReader;\n+import java.io.LineNumberReader;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n \n import org.apache.commons.configuration.tree.ConfigurationNode;\n import org.apache.tinkerpop.gremlin.util.config.YamlConfiguration;\n+import org.slf4j.Logger;\n \n import com.baidu.hugegraph.HugeException;\n import com.baidu.hugegraph.job.ComputerJob;\n import com.baidu.hugegraph.job.Job;\n import com.baidu.hugegraph.util.E;\n+import com.baidu.hugegraph.util.Log;\n import com.baidu.hugegraph.util.ParameterUtil;\n \n public abstract class AbstractComputer implements Computer {\n \n-    private static final String COMMAND_PREFIX =\n-            \"cd $COMPUTER_HOME;\" +\n-            \"hadoop jar hugegraph-computer.jar com.baidu.hugegraph.Computer \" +\n-            \"-D libjars=./hugegraph-computer-core.jar\";\n+    private static final Logger LOG = Log.logger(Computer.class);\n \n+    private static final String HADOOP_HOME = \"HADOOP_HOME\";\n+    private static final String COMPUTER_HOME = \"computer_home\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878abee05f070ef09e30fb812a576c95579b5602"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1467, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}