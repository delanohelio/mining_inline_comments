{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NzI4NzMw", "number": 862, "title": "check for unexpected sysprop query", "bodyText": "fix: #861\nChange-Id: Idd72a7640750c1669b95c8e30dfe053107e015d6", "createdAt": "2020-02-23T17:14:54Z", "url": "https://github.com/hugegraph/hugegraph/pull/862", "merged": true, "mergeCommit": {"oid": "b38ca33a81e25d70c55fc4a2b176fcfe79da019d"}, "closed": true, "closedAt": "2020-03-30T03:27:58Z", "author": {"login": "javeme"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHMJ6_gH2gAyMzc4NzI4NzMwOjVkZmY0MWI1YTg1NGFlNGEwMDlhN2EzNjgxZGFhODlhMWVlY2JjMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSl5_igFqTM4MzUwNjY5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5dff41b5a854ae4a009a7a3681daa89a1eecbc13", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/5dff41b5a854ae4a009a7a3681daa89a1eecbc13", "committedDate": "2020-02-23T17:13:15Z", "message": "check unexpected sysprop query\n\nfix: #861\nChange-Id: Idd72a7640750c1669b95c8e30dfe053107e015d6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ca3e5f1b333db91a9c504cc157ccd4e64ed6583", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/2ca3e5f1b333db91a9c504cc157ccd4e64ed6583", "committedDate": "2020-02-25T09:57:28Z", "message": "workaround: cassandra column with null value can't be queryed with CONTAINS\n\nChange-Id: Iac062950c62e3dd88c4894ee03ae100b145bfcaf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48debc2be7e6107a6997c2b173ca148a5e4c7582", "author": {"user": {"login": "javeme", "name": "Jermy Li"}}, "url": "https://github.com/hugegraph/hugegraph/commit/48debc2be7e6107a6997c2b173ca148a5e4c7582", "committedDate": "2020-03-22T17:48:43Z", "message": "string2HugeKey() disallow pass syspprop from gremlin\n\nChange-Id: I319703286f65fd38819b2de91d7c9a18203ceafd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMjk2NTg1", "url": "https://github.com/hugegraph/hugegraph/pull/862#pullrequestreview-383296585", "createdAt": "2020-03-28T09:04:51Z", "commit": {"oid": "48debc2be7e6107a6997c2b173ca148a5e4c7582"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNTA2Njk4", "url": "https://github.com/hugegraph/hugegraph/pull/862#pullrequestreview-383506698", "createdAt": "2020-03-30T03:12:51Z", "commit": {"oid": "48debc2be7e6107a6997c2b173ca148a5e4c7582"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwMzoxMjo1MVrOF9YT3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwMzoxMjo1MVrOF9YT3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTkwNTc1OA==", "bodyText": "vertex", "url": "https://github.com/hugegraph/hugegraph/pull/862#discussion_r399905758", "createdAt": "2020-03-30T03:12:51Z", "author": {"login": "Linary"}, "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/backend/tx/GraphTransaction.java", "diffHunk": "@@ -995,13 +995,51 @@ public static boolean matchEdgeSortKeys(ConditionQuery query,\n         return false;\n     }\n \n-    public static void verifyEdgesConditionQuery(ConditionQuery query) {\n+    private static void verifyVerticesConditionQuery(ConditionQuery query) {\n+        assert query.resultType().isVertex();\n+\n+        int total = query.conditions().size();\n+        if (total == 1) {\n+            /*\n+             * Supported query:\n+             *  1.query just by edge label", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48debc2be7e6107a6997c2b173ca148a5e4c7582"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2393, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}