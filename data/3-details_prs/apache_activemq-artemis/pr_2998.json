{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNDAzMzk2", "number": 2998, "title": "ARTEMIS-2641 Openwire client runs out of credits after reconnection", "bodyText": "Clear the messagePullHandler on setting prefetchSize.", "createdAt": "2020-03-04T08:20:31Z", "url": "https://github.com/apache/activemq-artemis/pull/2998", "merged": true, "mergeCommit": {"oid": "ca37a09f87bcc81c8e00e1b9f25fb162e3b6adb8"}, "closed": true, "closedAt": "2020-03-04T11:37:56Z", "author": {"login": "brusdev"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKScoEgH2gAyMzgzNDAzMzk2OmMwZjNlYTY2YTkxNjEzY2IxZjkyOGVkYWJkZmUyMTNlN2M0NGE0Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKS__vgFqTM2ODU5NTkzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0f3ea66a91613cb1f928edabdfe213e7c44a4b9", "author": {"user": {"login": "brusdev", "name": "Bruscino Domenico Francesco"}}, "url": "https://github.com/apache/activemq-artemis/commit/c0f3ea66a91613cb1f928edabdfe213e7c44a4b9", "committedDate": "2020-03-04T08:14:53Z", "message": "ARTEMIS-2641 Openwire client runs out of credits after reconnection\n\nClear the messagePullHandler on setting prefetchSize."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NTk1OTM4", "url": "https://github.com/apache/activemq-artemis/pull/2998#pullrequestreview-368595938", "createdAt": "2020-03-04T08:53:24Z", "commit": {"oid": "c0f3ea66a91613cb1f928edabdfe213e7c44a4b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwODo1MzoyNVrOFxkkQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwODo1MzoyNVrOFxkkQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzUyMzY0OQ==", "bodyText": "what happen if it won't succeed?", "url": "https://github.com/apache/activemq-artemis/pull/2998#discussion_r387523649", "createdAt": "2020-03-04T08:53:25Z", "author": {"login": "franz1981"}, "path": "artemis-protocols/artemis-openwire-protocol/src/main/java/org/apache/activemq/artemis/core/protocol/openwire/amq/AMQConsumer.java", "diffHunk": "@@ -380,6 +383,11 @@ public void setPrefetchSize(int prefetchSize) {\n       this.prefetchSize = prefetchSize;\n       this.currentWindow.set(prefetchSize);\n       this.info.setPrefetchSize(prefetchSize);\n+      if (this.prefetchSize == 0) {\n+         messagePullHandler.compareAndSet(null, new MessagePullHandler());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0f3ea66a91613cb1f928edabdfe213e7c44a4b9"}, "originalPosition": 62}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1625, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}