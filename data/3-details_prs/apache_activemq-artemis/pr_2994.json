{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxNDI2MjEx", "number": 2994, "title": "ARTEMIS-2637 Making UDP client discovery resilient", "bodyText": "In case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\nThis is also improving locking around DiscoveryGroup initial connection.", "createdAt": "2020-02-28T14:43:07Z", "url": "https://github.com/apache/activemq-artemis/pull/2994", "merged": true, "mergeCommit": {"oid": "ffb8df7f4be33672cc98d191f9323f9fbb00e1c9"}, "closed": true, "closedAt": "2020-02-28T17:12:41Z", "author": {"login": "clebertsuconic"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIxJDngFqTM2NjQ1MzA4MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIy4mSgBqjMwODI2ODU3MTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDUzMDgw", "url": "https://github.com/apache/activemq-artemis/pull/2994#pullrequestreview-366453080", "createdAt": "2020-02-28T14:52:42Z", "commit": {"oid": "ca7144d28eaf9e23fa1bf76fdd9849374f33449c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNDo1Mjo0M1rOFv3kTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNDo1Mjo0M1rOFv3kTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTczNzgwNw==", "bodyText": "There are no assertions in this test?", "url": "https://github.com/apache/activemq-artemis/pull/2994#discussion_r385737807", "createdAt": "2020-02-28T14:52:43Z", "author": {"login": "jbertram"}, "path": "tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/cluster/topology/NettyHAClientTopologyWithDiscoveryTest.java", "diffHunk": "@@ -16,11 +16,146 @@\n  */\n package org.apache.activemq.artemis.tests.integration.cluster.topology;\n \n+import org.apache.activemq.artemis.api.core.DiscoveryGroupConfiguration;\n+import org.apache.activemq.artemis.api.core.UDPBroadcastEndpointFactory;\n+import org.apache.activemq.artemis.api.core.client.ActiveMQClient;\n+import org.apache.activemq.artemis.api.core.client.ClientSession;\n+import org.apache.activemq.artemis.api.core.client.ClientSessionFactory;\n+import org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import java.util.concurrent.CyclicBarrier;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n public class NettyHAClientTopologyWithDiscoveryTest extends HAClientTopologyWithDiscoveryTest {\n \n    @Override\n    protected boolean isNetty() {\n       return true;\n    }\n \n+\n+\n+   @Test\n+   public void testRecoveryBadUDPWithRetry() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca7144d28eaf9e23fa1bf76fdd9849374f33449c"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c6338ede3a65ab413e97648102be00267a83b94", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/6c6338ede3a65ab413e97648102be00267a83b94", "committedDate": "2020-02-28T15:19:28Z", "message": "review: use serialization"}, "afterCommit": {"oid": "a773178b72272bd5c9c7c3188e33a4478d9b5d74", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/a773178b72272bd5c9c7c3188e33a4478d9b5d74", "committedDate": "2020-02-28T15:31:15Z", "message": "review: use serialization"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a773178b72272bd5c9c7c3188e33a4478d9b5d74", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/a773178b72272bd5c9c7c3188e33a4478d9b5d74", "committedDate": "2020-02-28T15:31:15Z", "message": "review: use serialization"}, "afterCommit": {"oid": "5270be9b874ea4c2d2a840662272e823bff89f8d", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/5270be9b874ea4c2d2a840662272e823bff89f8d", "committedDate": "2020-02-28T15:38:03Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5270be9b874ea4c2d2a840662272e823bff89f8d", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/5270be9b874ea4c2d2a840662272e823bff89f8d", "committedDate": "2020-02-28T15:38:03Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}, "afterCommit": {"oid": "51a4d03d5739ee547c4af5909f67e9e7201239f2", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/51a4d03d5739ee547c4af5909f67e9e7201239f2", "committedDate": "2020-02-28T15:41:24Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "51a4d03d5739ee547c4af5909f67e9e7201239f2", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/51a4d03d5739ee547c4af5909f67e9e7201239f2", "committedDate": "2020-02-28T15:41:24Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}, "afterCommit": {"oid": "ab6a9578ae16e8f505fcc3581a5074bc3b5f2787", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/ab6a9578ae16e8f505fcc3581a5074bc3b5f2787", "committedDate": "2020-02-28T15:46:47Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ab6a9578ae16e8f505fcc3581a5074bc3b5f2787", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/ab6a9578ae16e8f505fcc3581a5074bc3b5f2787", "committedDate": "2020-02-28T15:46:47Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}, "afterCommit": {"oid": "2cbdde38f8bd0be59f45ef8a072225c1dfa8e38d", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/2cbdde38f8bd0be59f45ef8a072225c1dfa8e38d", "committedDate": "2020-02-28T16:51:40Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cac669840d22ed6b9b89b5bdecc91f0c9d53126", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/0cac669840d22ed6b9b89b5bdecc91f0c9d53126", "committedDate": "2020-02-28T16:54:27Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2cbdde38f8bd0be59f45ef8a072225c1dfa8e38d", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/2cbdde38f8bd0be59f45ef8a072225c1dfa8e38d", "committedDate": "2020-02-28T16:51:40Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}, "afterCommit": {"oid": "0cac669840d22ed6b9b89b5bdecc91f0c9d53126", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/0cac669840d22ed6b9b89b5bdecc91f0c9d53126", "committedDate": "2020-02-28T16:54:27Z", "message": "ARTEMIS-2637 Making UDP client discovery resilient\n\nIn case there is a hardware, firewal or any other thing making the UDP connection to go deaf\nwe will now reopen the connection in an attempt to go over possible issues.\n\nThis is also improving locking around DiscoveryGroup initial connection."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1535, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}