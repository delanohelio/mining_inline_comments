{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExODIwNDU5", "number": 3318, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTozNTowNVrOEzWxsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTozNTowNVrOEzWxsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMjg2MDAxOnYy", "diffSide": "RIGHT", "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTozNTowNVrOHqhyJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxOTo0ODoyN1rOHqr93Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM1NTc1MQ==", "bodyText": "This is unexpected. It uses the AMQPS port for a non-SSL acceptor, and the AMQP port for an SSL acceptor. All the communication (client->broker->broker->client) is now expected to be over SSL so why even have the second acceptor?", "url": "https://github.com/apache/activemq-artemis/pull/3318#discussion_r514355751", "createdAt": "2020-10-29T15:35:05Z", "author": {"login": "gemmellr"}, "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "diffHunk": "@@ -31,7 +31,8 @@ under the License.\n       <!-- Acceptors -->\n       <acceptors>\n          <!-- keystores will be found automatically if they are on the classpath -->\n-         <acceptor name=\"artemis\">tcp://0.0.0.0:5660?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"artemis\">tcp://0.0.0.0:5671?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"netty-ssl-acceptor\">tcp://localhost:5672?sslEnabled=true;keyStorePath=activemq.example.keystore;keyStorePassword=activemqexample;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE</acceptor>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d51c89471eb07ea21feffb6afb5edc58abbcfc6b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ1ODMwNg==", "bodyText": "I raised #3321 with various improvements", "url": "https://github.com/apache/activemq-artemis/pull/3318#discussion_r514458306", "createdAt": "2020-10-29T17:57:32Z", "author": {"login": "gemmellr"}, "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "diffHunk": "@@ -31,7 +31,8 @@ under the License.\n       <!-- Acceptors -->\n       <acceptors>\n          <!-- keystores will be found automatically if they are on the classpath -->\n-         <acceptor name=\"artemis\">tcp://0.0.0.0:5660?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"artemis\">tcp://0.0.0.0:5671?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"netty-ssl-acceptor\">tcp://localhost:5672?sslEnabled=true;keyStorePath=activemq.example.keystore;keyStorePassword=activemqexample;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE</acceptor>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM1NTc1MQ=="}, "originalCommit": {"oid": "d51c89471eb07ea21feffb6afb5edc58abbcfc6b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDUyMjU4OQ==", "bodyText": "I confused the port numbers.", "url": "https://github.com/apache/activemq-artemis/pull/3318#discussion_r514522589", "createdAt": "2020-10-29T19:48:27Z", "author": {"login": "clebertsuconic"}, "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "diffHunk": "@@ -31,7 +31,8 @@ under the License.\n       <!-- Acceptors -->\n       <acceptors>\n          <!-- keystores will be found automatically if they are on the classpath -->\n-         <acceptor name=\"artemis\">tcp://0.0.0.0:5660?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"artemis\">tcp://0.0.0.0:5671?tcpSendBufferSize=1048576;tcpReceiveBufferSize=1048576;amqpMinLargeMessageSize=102400;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE;useEpoll=true;amqpCredits=1000;amqpLowCredits=300;amqpDuplicateDetection=true</acceptor>\n+         <acceptor name=\"netty-ssl-acceptor\">tcp://localhost:5672?sslEnabled=true;keyStorePath=activemq.example.keystore;keyStorePassword=activemqexample;protocols=CORE,AMQP,STOMP,HORNETQ,MQTT,OPENWIRE</acceptor>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM1NTc1MQ=="}, "originalCommit": {"oid": "d51c89471eb07ea21feffb6afb5edc58abbcfc6b"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3924, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}