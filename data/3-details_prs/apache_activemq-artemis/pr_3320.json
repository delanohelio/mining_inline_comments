{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyNDU1MDUx", "number": 3320, "title": "ARTEMIS-2937 Documentation improvements", "bodyText": "Adding a paragraph about addressing and distinct queue names\nRenaming match on peers, senders and receivers as \"address-match\"", "createdAt": "2020-10-29T17:51:29Z", "url": "https://github.com/apache/activemq-artemis/pull/3320", "merged": true, "mergeCommit": {"oid": "52fa82738e91e8e72b34a9e0f526db6c5668426f"}, "closed": true, "closedAt": "2020-10-29T19:03:59Z", "author": {"login": "clebertsuconic"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXV-GoABqjM5Mzc2NjAzMDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXW9SkgBqjM5Mzc5MzU2Nzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe32df1c0b71a150b18b1857c1d0bd014d2f10ce", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/fe32df1c0b71a150b18b1857c1d0bd014d2f10ce", "committedDate": "2020-10-29T17:50:24Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a chapter about addressing\n- Renaming match on peers, senders and receivers as \"address-match\""}, "afterCommit": {"oid": "c4fd0eec96e927425d68efdcba0d146e3c851da0", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/c4fd0eec96e927425d68efdcba0d146e3c851da0", "committedDate": "2020-10-29T17:53:03Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4fd0eec96e927425d68efdcba0d146e3c851da0", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/c4fd0eec96e927425d68efdcba0d146e3c851da0", "committedDate": "2020-10-29T17:53:03Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\""}, "afterCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "committedDate": "2020-10-29T17:58:04Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\""}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/8ac46a6253e1e3061b093fc6ad2c0569b310ed2c", "committedDate": "2020-10-29T17:58:04Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\""}, "afterCommit": {"oid": "8d3c2e8310417594e5069a7365ba48deffdf1d85", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/8d3c2e8310417594e5069a7365ba48deffdf1d85", "committedDate": "2020-10-29T18:07:54Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch example to use a single listener"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTM5ODA3", "url": "https://github.com/apache/activemq-artemis/pull/3320#pullrequestreview-519939807", "createdAt": "2020-10-29T18:04:19Z", "commit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODowNDoxOVrOHqoTiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODoxMjowOFrOHqonLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MjYwMQ==", "bodyText": "Introduces a typo in \"wildcards\".", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514462601", "createdAt": "2020-10-29T18:04:19Z", "author": {"login": "gemmellr"}, "path": "artemis-tools/src/test/resources/artemis-configuration.xsd", "diffHunk": "@@ -3865,20 +3863,12 @@\n                </xsd:annotation>\n             </xsd:element>\n \n-            <xsd:element name=\"page-store-name\" type=\"xsd:string\" maxOccurs=\"1\" minOccurs=\"0\">\n-               <xsd:annotation>\n-                  <xsd:documentation>\n-                     the name of the page store to use, to allow the page store to coalesce for address hierarchies when wildcard routing is in play\n-                  </xsd:documentation>\n-               </xsd:annotation>\n-            </xsd:element>\n-\n          </xsd:all>\n \n          <xsd:attribute name=\"match\" type=\"xsd:string\" use=\"required\">\n             <xsd:annotation>\n                <xsd:documentation>\n-                  pattern for matching settings against addresses; can use wildcards\n+                  pattern for matching settings against addresses; can use wildards", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzA1MQ==", "bodyText": "Typo in address", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463051", "createdAt": "2020-10-29T18:04:59Z", "author": {"login": "gemmellr"}, "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -71,9 +71,9 @@ Using address expressions:\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n-        <sender match=\"queues.#\"/>\n+        <sender addres-match=\"queues.#\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzMwNA==", "bodyText": "Typo in address", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463304", "createdAt": "2020-10-29T18:05:23Z", "author": {"login": "gemmellr"}, "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -71,9 +71,9 @@ Using address expressions:\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n-        <sender match=\"queues.#\"/>\n+        <sender addres-match=\"queues.#\"/>\n         <!-- notice the local queues for remotequeues.# need to be created on this broker -->\n-        <receiver match=\"remotequeues.#\"/>\n+        <receiver addres-match=\"remotequeues.#\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2MzQ3Mw==", "bodyText": "Typo in address", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514463473", "createdAt": "2020-10-29T18:05:42Z", "author": {"login": "gemmellr"}, "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -130,7 +128,7 @@ With a peer configuration, you have the same properties that you have on a sende\n ```xml\n <broker-connections>\n     <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-router\">\n-       <peer match=\"queues.#\"/>\n+       <peer addres-match=\"queues.#\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ac46a6253e1e3061b093fc6ad2c0569b310ed2c"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NjYzOA==", "bodyText": "For clarity I would use \"addressprefix.#\" and  \"addressprefix.A\"or some such alterantive. Its just simpler to consider when not having \"queues\" in the address value when thinking of it as an address name.", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514466638", "createdAt": "2020-10-29T18:10:33Z", "author": {"login": "gemmellr"}, "path": "docs/user-manual/en/amqp-broker-connections.md", "diffHunk": "@@ -163,7 +161,29 @@ For more information refer to the \"brokered messaging\" documentation for [Apache\n \n *Important:* You do not need to configure the router with a connector or auto-links to communicate with the broker. The brokers peer configuration replaces these aspects of the router waypoint usage.\n \n-# Mirror \n+## Address Consideration\n+It is highly recommended that you keep `address name` and `queue name` the same, as when you use a queue with its distinct name (as in the following example), senders and receivers will always use the `address name` when creating the remote endpoint.\n+\n+```xml\n+<broker-connections>\n+    <amqp-connection uri=\"tcp://MY_HOST:MY_PORT\" name=\"my-broker\">\n+       <sender address-match=\"queues.#\"/>\n+    </amqp-connection>\n+</broker-connections>\n+<addresses>\n+     <address name=\"queues.A\">\n+        <anycast>\n+           <queue name=\"distinctNameQueue.A\"/>\n+        </anycast>\n+     </address>\n+</addresses>\n+```\n+\n+In the above example the `broker connection` would create an AMQP sender towards \"queues.A\". ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d3c2e8310417594e5069a7365ba48deffdf1d85"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ2NzYzMQ==", "bodyText": "#3321 may conflict here, can you please jsut update it and merge, ill be heading off now.", "url": "https://github.com/apache/activemq-artemis/pull/3320#discussion_r514467631", "createdAt": "2020-10-29T18:12:08Z", "author": {"login": "gemmellr"}, "path": "examples/features/broker-connection/amqp-sending-overssl/src/main/resources/activemq/server0/broker.xml", "diffHunk": "@@ -37,7 +37,7 @@ under the License.\n \n       <broker-connections>\n          <amqp-connection uri=\"tcp://localhost:5772?sslEnabled=true;trustStorePath=activemq.example.truststore;trustStorePassword=activemqexample\" name=\"otherSSL\" retry-interval=\"1000\">\n-            <sender match=\"#\"/>\n+            <sender address-match=\"#\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d3c2e8310417594e5069a7365ba48deffdf1d85"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d3c2e8310417594e5069a7365ba48deffdf1d85", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/8d3c2e8310417594e5069a7365ba48deffdf1d85", "committedDate": "2020-10-29T18:07:54Z", "message": "ARTEMIS-2937 Documentation improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch example to use a single listener"}, "afterCommit": {"oid": "2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "committedDate": "2020-10-29T18:42:22Z", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "committedDate": "2020-10-29T19:01:51Z", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/2b4dc1de2e6c865c6e7bdb3ba016720b2e85d202", "committedDate": "2020-10-29T18:42:22Z", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message"}, "afterCommit": {"oid": "dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/dc7eb5c23db356e9f7bbdc66d68240efafb19f6a", "committedDate": "2020-10-29T19:01:51Z", "message": "ARTEMIS-2937 Broker connection improvements\n\n- Adding a paragraph about addressing and distinct queue names\n- Renaming match on peers, senders and receivers as \"address-match\"\n- Changing qpid dispatch test to use a single listener\n- Fixing reconnect attemps message"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1553, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}