{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NjY4OTA2", "number": 3374, "title": "ARTEMIS-3024 Expiry or DLQ Retry not working with AMQP", "bodyText": "", "createdAt": "2020-12-08T19:20:48Z", "url": "https://github.com/apache/activemq-artemis/pull/3374", "merged": true, "mergeCommit": {"oid": "caf314ec821e5abb1f0827d4d2f2e7d87f7868f6"}, "closed": true, "closedAt": "2020-12-08T19:43:25Z", "author": {"login": "clebertsuconic"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkPGOWgH2gAyNTM0NjY4OTA2OjgyNTM0MTczNGE4NDgwNzYzNGY0NGM2YmQxNGM0MGI3Mzc5MTgyZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkSEA1gFqTU0NzY5MzU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "825341734a84807634f44c6bd14c40b7379182f2", "author": {"user": {"login": "clebertsuconic", "name": null}}, "url": "https://github.com/apache/activemq-artemis/commit/825341734a84807634f44c6bd14c40b7379182f2", "committedDate": "2020-12-08T19:13:53Z", "message": "ARTEMIS-3024 Expiry or DLQ Retry not working with AMQP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjkzMDA2", "url": "https://github.com/apache/activemq-artemis/pull/3374#pullrequestreview-547693006", "createdAt": "2020-12-08T22:40:07Z", "commit": {"oid": "825341734a84807634f44c6bd14c40b7379182f2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo0MDowOFrOIB5hnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo0MDowOFrOIB5hnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg2MTk4MA==", "bodyText": "Whats the purpose of this?", "url": "https://github.com/apache/activemq-artemis/pull/3374#discussion_r538861980", "createdAt": "2020-12-08T22:40:08Z", "author": {"login": "michaelandrepearce"}, "path": "artemis-server/src/main/java/org/apache/activemq/artemis/core/server/impl/QueueImpl.java", "diffHunk": "@@ -2140,6 +2140,7 @@ private int iterQueue(final int flushLimit,\n                                       QueueIterateAction messageAction) throws Exception {\n       int count = 0;\n       int txCount = 0;\n+      Integer expectedHits = messageAction.expectedHits();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "825341734a84807634f44c6bd14c40b7379182f2"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjkzNTY5", "url": "https://github.com/apache/activemq-artemis/pull/3374#pullrequestreview-547693569", "createdAt": "2020-12-08T22:41:11Z", "commit": {"oid": "825341734a84807634f44c6bd14c40b7379182f2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo0MToxMVrOIB5jsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMjo0MToxMVrOIB5jsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg2MjUxNQ==", "bodyText": "Why default method? Its been implemented in queueimpl", "url": "https://github.com/apache/activemq-artemis/pull/3374#discussion_r538862515", "createdAt": "2020-12-08T22:41:11Z", "author": {"login": "michaelandrepearce"}, "path": "artemis-server/src/main/java/org/apache/activemq/artemis/core/server/Queue.java", "diffHunk": "@@ -361,6 +361,10 @@ int moveReferences(int flushLimit,\n \n    int retryMessages(Filter filter) throws Exception;\n \n+   default int retryMessages(Filter filter, Integer expectedHits) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "825341734a84807634f44c6bd14c40b7379182f2"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1570, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}