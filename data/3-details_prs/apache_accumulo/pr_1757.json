{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNzQ2NTEw", "number": 1757, "title": "Create Ample interface method for createDeleteMutation", "bodyText": "Drop static method in favor of method on the Ample interface for\ncreating delete mutations\nChange GarbageCollectorIT to use Ample for one of the tests\nReuse Ample object in loops to prevent extra object creation", "createdAt": "2020-10-28T18:16:46Z", "url": "https://github.com/apache/accumulo/pull/1757", "merged": true, "mergeCommit": {"oid": "d820360b975de759b1575d68456e69c828225a85"}, "closed": true, "closedAt": "2020-10-30T16:26:49Z", "author": {"login": "milleruntime"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXEcEFAFqTUxOTA4OTQzOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXZbsRAFqTUyMDExNzAzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDg5NDM4", "url": "https://github.com/apache/accumulo/pull/1757#pullrequestreview-519089438", "createdAt": "2020-10-28T21:14:37Z", "commit": {"oid": "e140d72f041ebc68c9e29ac4781bfff38ab3e1f1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMToxNDozOFrOHp9uiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQyMToxNDozOFrOHp9uiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc2NTAwMw==", "bodyText": "Is ample not available off of ServerContext? Not sure we need to pass in another param here.", "url": "https://github.com/apache/accumulo/pull/1757#discussion_r513765003", "createdAt": "2020-10-28T21:14:38Z", "author": {"login": "ctubbsii"}, "path": "server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java", "diffHunk": "@@ -283,17 +283,18 @@ public static void finishSplit(KeyExtent extent,\n    * datafilesToDelete are strings because they can be a TabletFile or directory\n    */\n   public static void addDeleteEntries(KeyExtent extent, Set<String> datafilesToDelete,\n-      ServerContext context) {\n+      ServerContext context, Ample ample) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e140d72f041ebc68c9e29ac4781bfff38ab3e1f1"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cff774becbd3f6d128713f78f494e041e56aea2a", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/cff774becbd3f6d128713f78f494e041e56aea2a", "committedDate": "2020-10-29T16:21:43Z", "message": "Create Ample interface method for createDeleteMutation\n\n* Drop static method in favor of method on the Ample interface for\ncreating delete mutations\n* Change GarbageCollectorIT to use Ample for one of the tests\n* Reuse Ample object in loops to prevent extra object creation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e140d72f041ebc68c9e29ac4781bfff38ab3e1f1", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/e140d72f041ebc68c9e29ac4781bfff38ab3e1f1", "committedDate": "2020-10-28T18:16:11Z", "message": "Create Ample interface method for createDeleteMutation\n\n* Drop static method in favor of method on the Ample interface for\ncreating delete mutations\n* Change GarbageCollectorIT to use Ample for one of the tests\n* Reuse Ample object in loops to prevent extra object creation"}, "afterCommit": {"oid": "cff774becbd3f6d128713f78f494e041e56aea2a", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/cff774becbd3f6d128713f78f494e041e56aea2a", "committedDate": "2020-10-29T16:21:43Z", "message": "Create Ample interface method for createDeleteMutation\n\n* Drop static method in favor of method on the Ample interface for\ncreating delete mutations\n* Change GarbageCollectorIT to use Ample for one of the tests\n* Reuse Ample object in loops to prevent extra object creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a924cd0fb37b9a9dd506c2740f3800da6e074936", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/a924cd0fb37b9a9dd506c2740f3800da6e074936", "committedDate": "2020-10-29T16:30:03Z", "message": "Move method to ServerAmpleImpl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMDY0MTE1", "url": "https://github.com/apache/accumulo/pull/1757#pullrequestreview-520064115", "createdAt": "2020-10-29T20:41:30Z", "commit": {"oid": "a924cd0fb37b9a9dd506c2740f3800da6e074936"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQyMDo0MTozMFrOHqt2Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQyMDo0MTozMFrOHqt2Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU1MzM1NQ==", "bodyText": "Perhaps in some future issue, we can make ServerContext hold onto a lazily instantiated Ample object, so we don't have to keep constructing one.", "url": "https://github.com/apache/accumulo/pull/1757#discussion_r514553355", "createdAt": "2020-10-29T20:41:30Z", "author": {"login": "ctubbsii"}, "path": "server/base/src/main/java/org/apache/accumulo/server/util/MetadataTableUtil.java", "diffHunk": "@@ -283,17 +283,18 @@ public static void finishSplit(KeyExtent extent,\n    * datafilesToDelete are strings because they can be a TabletFile or directory\n    */\n   public static void addDeleteEntries(KeyExtent extent, Set<String> datafilesToDelete,\n-      ServerContext context) {\n+      ServerContext context, Ample ample) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc2NTAwMw=="}, "originalCommit": {"oid": "e140d72f041ebc68c9e29ac4781bfff38ab3e1f1"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMTE3MDMx", "url": "https://github.com/apache/accumulo/pull/1757#pullrequestreview-520117031", "createdAt": "2020-10-29T21:55:22Z", "commit": {"oid": "a924cd0fb37b9a9dd506c2740f3800da6e074936"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1762, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}