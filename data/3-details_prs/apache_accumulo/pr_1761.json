{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMTI0NTI0", "number": 1761, "title": "Refactor TabletGroupWatcher", "bodyText": "Create TabletLists to hold the many different data structures being\ntracked in the run method of TabletGroupWatcher\nCreate methods for some of the logic in the switch case\nPass TabletLists to the flush method and break flush into methods\nRename TabletLocationState.getServer() to getLocation() as location is\na more meaningful name instead of server", "createdAt": "2020-10-30T16:30:18Z", "url": "https://github.com/apache/accumulo/pull/1761", "merged": true, "mergeCommit": {"oid": "3f47da1777f5d059d42d7706574ee3fd9882006b"}, "closed": true, "closedAt": "2020-11-02T15:14:15Z", "author": {"login": "milleruntime"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXpXhzAH2gAyNTEzMTI0NTI0OjFmNmJlMzUyZDg2ZWM4YjQ3YzM1MjQwZjQ0ZjAxNmVhZDYyMjIyYzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYl3alAH2gAyNTEzMTI0NTI0OjczNTU4OTQzMDMzZDFhMGUwMTY3NDI0ZTlmMDZjZjgzNGNmYjBmMzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f6be352d86ec8b47c35240f44f016ead62222c5", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/1f6be352d86ec8b47c35240f44f016ead62222c5", "committedDate": "2020-10-30T16:29:18Z", "message": "Refactor TabletGroupWatcher\n\n* Create TabletLists to hold the many different data structures being\ntracked in the run method of TabletGroupWatcher\n* Create methods for some of the logic in the switch case\n* Pass TabletLists to the flush method and break flush into methods\n* Rename TabletLocationState.getServer() to getLocation() as location is\na more meaningful name instead of server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMDIyNTk3", "url": "https://github.com/apache/accumulo/pull/1761#pullrequestreview-521022597", "createdAt": "2020-10-30T20:40:52Z", "commit": {"oid": "1f6be352d86ec8b47c35240f44f016ead62222c5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMDo0MDo1M1rOHrfq5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMDo0MDo1M1rOHrfq5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM2OTcwMg==", "bodyText": "Introducing this class is really nice, really reduces a lot of methods parameters.", "url": "https://github.com/apache/accumulo/pull/1761#discussion_r515369702", "createdAt": "2020-10-30T20:40:53Z", "author": {"login": "keith-turner"}, "path": "server/manager/src/main/java/org/apache/accumulo/master/TabletGroupWatcher.java", "diffHunk": "@@ -134,6 +134,37 @@ synchronized boolean isSameTserversAsLastScan(Set<TServerInstance> candidates) {\n     return candidates.equals(lastScanServers);\n   }\n \n+  /**\n+   * Collection of data structures used to track Tablet assignments\n+   */\n+  private static class TabletLists {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f6be352d86ec8b47c35240f44f016ead62222c5"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMDcyMDU1", "url": "https://github.com/apache/accumulo/pull/1761#pullrequestreview-521072055", "createdAt": "2020-10-30T22:39:22Z", "commit": {"oid": "1f6be352d86ec8b47c35240f44f016ead62222c5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMjozOToyMlrOHriPaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMjozOToyMlrOHriPaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxMTgxNw==", "bodyText": "I think this method can be static now.", "url": "https://github.com/apache/accumulo/pull/1761#discussion_r515411817", "createdAt": "2020-10-30T22:39:22Z", "author": {"login": "ctubbsii"}, "path": "server/manager/src/main/java/org/apache/accumulo/master/Master.java", "diffHunk": "@@ -1675,9 +1675,8 @@ public boolean delegationTokensAvailable() {\n     }\n   }\n \n-  public void markDeadServerLogsAsClosed(Map<TServerInstance,List<Path>> logsForDeadServers)\n-      throws WalMarkerException {\n-    WalStateManager mgr = new WalStateManager(getContext());\n+  public void markDeadServerLogsAsClosed(WalStateManager mgr,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f6be352d86ec8b47c35240f44f016ead62222c5"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73558943033d1a0e0167424e9f06cf834cfb0f39", "author": {"user": {"login": "milleruntime", "name": "Mike Miller"}}, "url": "https://github.com/apache/accumulo/commit/73558943033d1a0e0167424e9f06cf834cfb0f39", "committedDate": "2020-11-02T14:58:26Z", "message": "Move method from Master and make private"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1771, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}