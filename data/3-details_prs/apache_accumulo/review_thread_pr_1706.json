{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MTM5MzE4", "number": 1706, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxODoyNzozMVrOEkLKoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzo0MTozMVrOEkiwFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2MzY3MTM2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxODoyNzozMVrOHS9ITQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxODoyNzozMVrOHS9ITQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTYzNzk2NQ==", "bodyText": "If we make this property of type PropertyType.BYTES, then it may be more user friendly, and the comment about the default can be removed, because it would be redundant. If you do that, then it's a simple matter to divide by 2 to get the approximate number of characters for the count in the implementation. Using PropertyType.BYTES will also make it more user friendly, because users can use the typed-strings, like 16M or 1G or 512K when they change the configuration (and the default can be 8M).", "url": "https://github.com/apache/accumulo/pull/1706#discussion_r489637965", "createdAt": "2020-09-16T18:27:31Z", "author": {"login": "ctubbsii"}, "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "diffHunk": "@@ -568,6 +568,8 @@\n   // accumulo garbage collector properties\n   GC_PREFIX(\"gc.\", null, PropertyType.PREFIX,\n       \"Properties in this category affect the behavior of the accumulo garbage collector.\"),\n+  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"4000000\", PropertyType.COUNT,\n+          \"The batch size used for garbage collection. The default is effectively 8MB\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9708a3b8849dac0a38ddfb7d04eee136263796dd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NzUzNTU3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzo0MTozMVrOHTiz6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNjo0MDo0MVrOHTr-4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI1NTMzNg==", "bodyText": "Although our type engine is case-insensitive, it is better to use upper-case, so it looks like MegaBytes, and not milliBytes. \ud83d\ude3a\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"8m\", PropertyType.BYTES,\n          \n          \n            \n              GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"8M\", PropertyType.BYTES,", "url": "https://github.com/apache/accumulo/pull/1706#discussion_r490255336", "createdAt": "2020-09-17T13:41:31Z", "author": {"login": "ctubbsii"}, "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "diffHunk": "@@ -568,8 +568,8 @@\n   // accumulo garbage collector properties\n   GC_PREFIX(\"gc.\", null, PropertyType.PREFIX,\n       \"Properties in this category affect the behavior of the accumulo garbage collector.\"),\n-  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"4000000\", PropertyType.COUNT,\n-          \"The batch size used for garbage collection. The default is effectively 8MB\"),\n+  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"8m\", PropertyType.BYTES,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bdb74bad3494e6564a86026f318e677966089d4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI2NTMyMg==", "bodyText": "Fair, I had it capitalized but I didn't like the way it looked and saw we had a 1g somewhere.", "url": "https://github.com/apache/accumulo/pull/1706#discussion_r490265322", "createdAt": "2020-09-17T13:55:01Z", "author": {"login": "Manno15"}, "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "diffHunk": "@@ -568,8 +568,8 @@\n   // accumulo garbage collector properties\n   GC_PREFIX(\"gc.\", null, PropertyType.PREFIX,\n       \"Properties in this category affect the behavior of the accumulo garbage collector.\"),\n-  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"4000000\", PropertyType.COUNT,\n-          \"The batch size used for garbage collection. The default is effectively 8MB\"),\n+  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"8m\", PropertyType.BYTES,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI1NTMzNg=="}, "originalCommit": {"oid": "8bdb74bad3494e6564a86026f318e677966089d4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQwNTYwMg==", "bodyText": "I'll take a look and make a separate PR to standardize everything on the case used by SI conventions, for all of our property descriptions and default values (uppercase for everything, except kilo, which is lowercase). It probably doesn't matter to anybody but me. \ud83d\ude3a", "url": "https://github.com/apache/accumulo/pull/1706#discussion_r490405602", "createdAt": "2020-09-17T16:40:41Z", "author": {"login": "ctubbsii"}, "path": "core/src/main/java/org/apache/accumulo/core/conf/Property.java", "diffHunk": "@@ -568,8 +568,8 @@\n   // accumulo garbage collector properties\n   GC_PREFIX(\"gc.\", null, PropertyType.PREFIX,\n       \"Properties in this category affect the behavior of the accumulo garbage collector.\"),\n-  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"4000000\", PropertyType.COUNT,\n-          \"The batch size used for garbage collection. The default is effectively 8MB\"),\n+  GC_CANDIDATE_BATCH_SIZE(\"gc.candidate.batch.size\", \"8m\", PropertyType.BYTES,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI1NTMzNg=="}, "originalCommit": {"oid": "8bdb74bad3494e6564a86026f318e677966089d4"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4049, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}