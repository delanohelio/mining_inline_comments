{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NTY3ODMw", "number": 1813, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDoxMTowMlrOE-0tqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDoyOToyMlrOE-1GPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MzEwODI3OnYy", "diffSide": "RIGHT", "path": "test/src/main/java/org/apache/accumulo/test/VolumeChooserIT.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDoxMTowMlrOH8MC_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDoxODo0NlrOH8MTRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg3Mzk4Mg==", "bodyText": "From a quick look, it seems this test trying to create a \"hole\" - does this invalidate the test if all volumes are present?", "url": "https://github.com/apache/accumulo/pull/1813#discussion_r532873982", "createdAt": "2020-11-30T20:11:02Z", "author": {"login": "EdColeman"}, "path": "test/src/main/java/org/apache/accumulo/test/VolumeChooserIT.java", "diffHunk": "@@ -132,7 +129,7 @@ public void configure(MiniAccumuloConfigImpl cfg, Configuration hadoopCoreSite)\n \n     // Only add volumes 1, 2, and 4 to the list of instance volumes to have one volume that isn't in\n     // the options list when they are choosing\n-    cfg.setProperty(Property.INSTANCE_VOLUMES, v1 + \",\" + v2 + \",\" + v4);\n+    cfg.setProperty(Property.INSTANCE_VOLUMES, v1 + \",\" + v2 + \",\" + v3);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a827d9b68196735746e6f0cb79c82099ab0fa60c"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg3ODE0OQ==", "bodyText": "The v3 variable was entirely unused in this test. I removed it, and renamed v4 to v3. That's it.", "url": "https://github.com/apache/accumulo/pull/1813#discussion_r532878149", "createdAt": "2020-11-30T20:18:46Z", "author": {"login": "ctubbsii"}, "path": "test/src/main/java/org/apache/accumulo/test/VolumeChooserIT.java", "diffHunk": "@@ -132,7 +129,7 @@ public void configure(MiniAccumuloConfigImpl cfg, Configuration hadoopCoreSite)\n \n     // Only add volumes 1, 2, and 4 to the list of instance volumes to have one volume that isn't in\n     // the options list when they are choosing\n-    cfg.setProperty(Property.INSTANCE_VOLUMES, v1 + \",\" + v2 + \",\" + v4);\n+    cfg.setProperty(Property.INSTANCE_VOLUMES, v1 + \",\" + v2 + \",\" + v3);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg3Mzk4Mg=="}, "originalCommit": {"oid": "a827d9b68196735746e6f0cb79c82099ab0fa60c"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MzE3MTE3OnYy", "diffSide": "RIGHT", "path": "server/base/src/main/java/org/apache/accumulo/server/master/balancer/ChaoticLoadBalancer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDoyOToyMlrOH8MpHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo0ODo1MFrOH8NRDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg4Mzc0MQ==", "bodyText": "Out of curiosity, why is this constructor required?", "url": "https://github.com/apache/accumulo/pull/1813#discussion_r532883741", "createdAt": "2020-11-30T20:29:22Z", "author": {"login": "jmark99"}, "path": "server/base/src/main/java/org/apache/accumulo/server/master/balancer/ChaoticLoadBalancer.java", "diffHunk": "@@ -52,17 +52,10 @@\n public class ChaoticLoadBalancer extends TabletBalancer {\n   private static final Logger log = LoggerFactory.getLogger(ChaoticLoadBalancer.class);\n \n-  @SuppressWarnings(\"unused\")\n-  private final String tableName;\n-\n-  public ChaoticLoadBalancer() {\n-    this.tableName = null;\n-  }\n+  public ChaoticLoadBalancer() {}\n \n   // Required constructor\n-  public ChaoticLoadBalancer(String tableName) {\n-    this.tableName = tableName;\n-  }\n+  public ChaoticLoadBalancer(String tableName) {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a827d9b68196735746e6f0cb79c82099ab0fa60c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5Mzk2Nw==", "bodyText": "We dynamically load balancer classes, based on user configuration. My guess is that this supports per-table balancing features. I left it as-is, rather than head down the rabbit hole of figuring out if it was necessary. \ud83d\ude3a", "url": "https://github.com/apache/accumulo/pull/1813#discussion_r532893967", "createdAt": "2020-11-30T20:48:50Z", "author": {"login": "ctubbsii"}, "path": "server/base/src/main/java/org/apache/accumulo/server/master/balancer/ChaoticLoadBalancer.java", "diffHunk": "@@ -52,17 +52,10 @@\n public class ChaoticLoadBalancer extends TabletBalancer {\n   private static final Logger log = LoggerFactory.getLogger(ChaoticLoadBalancer.class);\n \n-  @SuppressWarnings(\"unused\")\n-  private final String tableName;\n-\n-  public ChaoticLoadBalancer() {\n-    this.tableName = null;\n-  }\n+  public ChaoticLoadBalancer() {}\n \n   // Required constructor\n-  public ChaoticLoadBalancer(String tableName) {\n-    this.tableName = tableName;\n-  }\n+  public ChaoticLoadBalancer(String tableName) {}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg4Mzc0MQ=="}, "originalCommit": {"oid": "a827d9b68196735746e6f0cb79c82099ab0fa60c"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3986, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}