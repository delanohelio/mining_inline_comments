{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MzI0MTMx", "number": 1832, "title": "Add additional permission checks in AuditMessageIT", "bodyText": "In relation to #1830, I only added an audit check for flushing a table at the moment but I am working on adding additional ones for set/remove system property and any other that is requested.", "createdAt": "2020-12-09T17:00:48Z", "url": "https://github.com/apache/accumulo/pull/1832", "merged": true, "mergeCommit": {"oid": "8433b587a674343253626a7f498eb38b76b8556e"}, "closed": true, "closedAt": "2020-12-16T03:27:07Z", "author": {"login": "Manno15"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkhuLggH2gAyNTM1MzI0MTMxOmE5YmY3N2FkM2IxN2NkOTZlYzkwMDE1NzZkNjFmODc0ZjU4ZDdlYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmkltsAH2gAyNTM1MzI0MTMxOmZhZTI0OTMyZDViODM3ZGE2NGU3MDA5ZDRiMWUzNjJmZjVlNGE4MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9bf77ad3b17cd96ec9001576d61f874f58d7eba", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/a9bf77ad3b17cd96ec9001576d61f874f58d7eba", "committedDate": "2020-12-09T16:55:49Z", "message": "add security check for flush operation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4f420656d130f72bd5a3791374b5031ada98537", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/f4f420656d130f72bd5a3791374b5031ada98537", "committedDate": "2020-12-09T17:01:27Z", "message": "remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDM0MTE1", "url": "https://github.com/apache/accumulo/pull/1832#pullrequestreview-548434115", "createdAt": "2020-12-09T17:37:47Z", "commit": {"oid": "f4f420656d130f72bd5a3791374b5031ada98537"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzozNzo0N1rOIChHNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzozNzo0N1rOIChHNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUxMDU4MQ==", "bodyText": "Normally, a range would be specified so that the start sorts before the end, but 's' sorts after 'e'. You should change it to match myRow and myRow~ like the previous line, instead, so that way this will still work, even if we later add additional argument checks to make sure the start sorts before the end.", "url": "https://github.com/apache/accumulo/pull/1832#discussion_r539510581", "createdAt": "2020-12-09T17:37:47Z", "author": {"login": "ctubbsii"}, "path": "test/src/main/java/org/apache/accumulo/test/AuditMessageIT.java", "diffHunk": "@@ -482,6 +482,10 @@ public void testDeniedAudits() throws AccumuloSecurityException, AccumuloExcepti\n       auditConnector.tableOperations().deleteRows(OLD_TEST_TABLE_NAME, new Text(\"myRow\"),\n           new Text(\"myRow~\"));\n     } catch (AccumuloSecurityException ex) {}\n+    try {\n+      auditConnector.tableOperations().flush(OLD_TEST_TABLE_NAME, new Text(\"start\"),\n+              new Text(\"end\"), false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4f420656d130f72bd5a3791374b5031ada98537"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9209f5b27a4763717cfba65af62b872bd0fa77f", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/d9209f5b27a4763717cfba65af62b872bd0fa77f", "committedDate": "2020-12-09T18:19:49Z", "message": "make requested change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "489ec63f23dddda91b9a907fc4426fb1b4a294db", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/489ec63f23dddda91b9a907fc4426fb1b4a294db", "committedDate": "2020-12-10T13:51:43Z", "message": "add test to make sure we can flush"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c95a31c4d2f273ffcc27de32ead4053458221f5b", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/c95a31c4d2f273ffcc27de32ead4053458221f5b", "committedDate": "2020-12-10T15:30:07Z", "message": "add basic test for System.SYSTEM perm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe1c24749a4de7d5847e12ece36f240a13d48f84", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/fe1c24749a4de7d5847e12ece36f240a13d48f84", "committedDate": "2020-12-15T10:40:33Z", "message": "revise flush test and add set/remove prop test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebef3fa4f2c4884259a515f104719f0982ded000", "author": {"user": {"login": "Manno15", "name": "Jeffrey Manno"}}, "url": "https://github.com/apache/accumulo/commit/ebef3fa4f2c4884259a515f104719f0982ded000", "committedDate": "2020-12-15T12:38:58Z", "message": "implement suggested idea"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0ba79f445859fbbbb8ddedd3af3cebbbdf22873", "author": {"user": {"login": "ctubbsii", "name": "Christopher Tubbs"}}, "url": "https://github.com/apache/accumulo/commit/a0ba79f445859fbbbb8ddedd3af3cebbbdf22873", "committedDate": "2020-12-15T19:39:17Z", "message": "Merge branch '1.10' into pr/1832"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fae24932d5b837da64e7009d4b1e362ff5e4a816", "author": {"user": {"login": "ctubbsii", "name": "Christopher Tubbs"}}, "url": "https://github.com/apache/accumulo/commit/fae24932d5b837da64e7009d4b1e362ff5e4a816", "committedDate": "2020-12-16T01:24:08Z", "message": "Update ManagerApiIT\n\n* Make tests independent with consistent naming scheme\n* Make use of assertThrows to simplify checks\n* Rename variables and inline the test operations to make it easier to\n  follow the test intentions"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1674, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}