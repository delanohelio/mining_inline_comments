{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MTg5MDYw", "number": 1688, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMDo1Mzo0N1rOEaJVIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyMDo1OVrOEap0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1ODUxMjk2OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMDo1Mzo0N1rOHDYsNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMjo0MDo0N1rOHDd3BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMxMjMwOQ==", "bodyText": "Is this an artifact of release testing?", "url": "https://github.com/apache/accumulo/pull/1688#discussion_r473312309", "createdAt": "2020-08-19T20:53:47Z", "author": {"login": "keith-turner"}, "path": "pom.xml", "diffHunk": "@@ -136,10 +136,12 @@\n     <maven.compiler.release>8</maven.compiler.release>\n     <maven.compiler.source>1.8</maven.compiler.source>\n     <maven.compiler.target>1.8</maven.compiler.target>\n-    <maven.plugin-version>3.0.5</maven.plugin-version>\n+    <maven.plugin-version>3.5.0</maven.plugin-version>\n     <!-- surefire/failsafe plugin option -->\n     <maven.test.redirectTestOutputToFile>true</maven.test.redirectTestOutputToFile>\n     <powermock.version>2.0.2</powermock.version>\n+    <!-- timestamp for reproducible outputs, updated on release by the release plugin -->\n+    <project.build.outputTimestamp>2020-08-18T00:00:00Z</project.build.outputTimestamp>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eec612863e78114c41c48457afeb6074d5b3b3e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM3MDE3Nw==", "bodyText": "This property is for reproducible builds. The timestamp is used by several plugins where timestamps would have caused the plugin to produce different binaries. See https://maven.apache.org/guides/mini/guide-reproducible-builds.html\nThe property itself is supposed to be updated in the POM by the release plugin when it updates the version number during the release process. I have not tested, but will look for that during RC testing when it comes to that.", "url": "https://github.com/apache/accumulo/pull/1688#discussion_r473370177", "createdAt": "2020-08-19T22:05:40Z", "author": {"login": "ctubbsii"}, "path": "pom.xml", "diffHunk": "@@ -136,10 +136,12 @@\n     <maven.compiler.release>8</maven.compiler.release>\n     <maven.compiler.source>1.8</maven.compiler.source>\n     <maven.compiler.target>1.8</maven.compiler.target>\n-    <maven.plugin-version>3.0.5</maven.plugin-version>\n+    <maven.plugin-version>3.5.0</maven.plugin-version>\n     <!-- surefire/failsafe plugin option -->\n     <maven.test.redirectTestOutputToFile>true</maven.test.redirectTestOutputToFile>\n     <powermock.version>2.0.2</powermock.version>\n+    <!-- timestamp for reproducible outputs, updated on release by the release plugin -->\n+    <project.build.outputTimestamp>2020-08-18T00:00:00Z</project.build.outputTimestamp>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMxMjMwOQ=="}, "originalCommit": {"oid": "2eec612863e78114c41c48457afeb6074d5b3b3e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzM5Njk5Ng==", "bodyText": "Ok.  I thought maybe you were testing the maven release process and this was accidentally introduced.", "url": "https://github.com/apache/accumulo/pull/1688#discussion_r473396996", "createdAt": "2020-08-19T22:40:47Z", "author": {"login": "keith-turner"}, "path": "pom.xml", "diffHunk": "@@ -136,10 +136,12 @@\n     <maven.compiler.release>8</maven.compiler.release>\n     <maven.compiler.source>1.8</maven.compiler.source>\n     <maven.compiler.target>1.8</maven.compiler.target>\n-    <maven.plugin-version>3.0.5</maven.plugin-version>\n+    <maven.plugin-version>3.5.0</maven.plugin-version>\n     <!-- surefire/failsafe plugin option -->\n     <maven.test.redirectTestOutputToFile>true</maven.test.redirectTestOutputToFile>\n     <powermock.version>2.0.2</powermock.version>\n+    <!-- timestamp for reproducible outputs, updated on release by the release plugin -->\n+    <project.build.outputTimestamp>2020-08-18T00:00:00Z</project.build.outputTimestamp>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMxMjMwOQ=="}, "originalCommit": {"oid": "2eec612863e78114c41c48457afeb6074d5b3b3e"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MzgzNTM3OnYy", "diffSide": "RIGHT", "path": "server/gc/src/main/java/org/apache/accumulo/gc/replication/CloseWriteAheadLogReferences.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyMDo1OVrOHEN3mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyNzoyOFrOHEOFdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4MzU3Nw==", "bodyText": "Probably just a nit, but does changing the output format matter?  Duration will print out like: PT0.021850552S , Stopwatch is more \"user\" friendly with \"333.2 ms\"\nAlso, maybe unrelated by anything other than name, but there is a StopWatch class in org.apache.accumulo.core.util - it seems to be referenced only in org.apache.accumulo.server.client.BulkImporter.", "url": "https://github.com/apache/accumulo/pull/1688#discussion_r474183577", "createdAt": "2020-08-20T18:20:59Z", "author": {"login": "EdColeman"}, "path": "server/gc/src/main/java/org/apache/accumulo/gc/replication/CloseWriteAheadLogReferences.java", "diffHunk": "@@ -104,28 +105,27 @@ public void run() {\n     Span findWalsSpan = Trace.start(\"findReferencedWals\");\n     HashSet<String> closed = null;\n     try {\n-      sw.start();\n+      startTime = System.nanoTime();\n       closed = getClosedLogs(conn);\n+      duration = Duration.ofNanos(System.nanoTime() - startTime);\n     } finally {\n-      sw.stop();\n       findWalsSpan.stop();\n     }\n \n-    log.info(\"Found \" + closed.size() + \" WALs referenced in metadata in \" + sw.toString());\n-    sw.reset();\n+    log.info(\"Found \" + closed.size() + \" WALs referenced in metadata in \" + duration);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa5a19260685905e843703f5fbd651407426cd6d"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4NzEyNQ==", "bodyText": "I tried really hard to preserve the format, without writing or copying code, and still supporting the various Guava versions, which had breaking changes in Stopwatch, and finally gave up. I don't think the format matters as much as the information... and I'm not sure the information even matters that much.", "url": "https://github.com/apache/accumulo/pull/1688#discussion_r474187125", "createdAt": "2020-08-20T18:27:28Z", "author": {"login": "ctubbsii"}, "path": "server/gc/src/main/java/org/apache/accumulo/gc/replication/CloseWriteAheadLogReferences.java", "diffHunk": "@@ -104,28 +105,27 @@ public void run() {\n     Span findWalsSpan = Trace.start(\"findReferencedWals\");\n     HashSet<String> closed = null;\n     try {\n-      sw.start();\n+      startTime = System.nanoTime();\n       closed = getClosedLogs(conn);\n+      duration = Duration.ofNanos(System.nanoTime() - startTime);\n     } finally {\n-      sw.stop();\n       findWalsSpan.stop();\n     }\n \n-    log.info(\"Found \" + closed.size() + \" WALs referenced in metadata in \" + sw.toString());\n-    sw.reset();\n+    log.info(\"Found \" + closed.size() + \" WALs referenced in metadata in \" + duration);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4MzU3Nw=="}, "originalCommit": {"oid": "fa5a19260685905e843703f5fbd651407426cd6d"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4041, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}