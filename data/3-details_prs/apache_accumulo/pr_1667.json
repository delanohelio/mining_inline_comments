{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5NzI0MTkx", "number": 1667, "title": "Fix #1663 - Missing metrics files running CI tests", "bodyText": "excluded hadoop-metrics2-accumulo.properties from jar plugin\nadded gc metrics config sample to template", "createdAt": "2020-07-31T02:18:34Z", "url": "https://github.com/apache/accumulo/pull/1667", "merged": true, "mergeCommit": {"oid": "346400d1812402bc35562f63708e65f8ea8165ac"}, "closed": true, "closedAt": "2020-08-04T20:41:59Z", "author": {"login": "EdColeman"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6KeKQgH2gAyNDU5NzI0MTkxOjVlODgxNDQ4ZDVkZmIwYjRkOGYwOWMzZDIwOTIzODRjNTRiZDcxOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7mT3HAFqTQ2MDc5MjQ3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e881448d5dfb0b4d8f09c3d2092384c54bd718f", "author": {"user": null}, "url": "https://github.com/apache/accumulo/commit/5e881448d5dfb0b4d8f09c3d2092384c54bd718f", "committedDate": "2020-07-31T02:05:41Z", "message": "Fix #1663 - Missing metrics files running CI tests\n\n- excluded hadoop-metrics2-accumulo.properties from jar plugin\n- added gc metrics config sample to template"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODg4NDUw", "url": "https://github.com/apache/accumulo/pull/1667#pullrequestreview-458888450", "createdAt": "2020-07-31T02:58:36Z", "commit": {"oid": "5e881448d5dfb0b4d8f09c3d2092384c54bd718f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMjo1ODozNlrOG56e_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMjo1ODozNlrOG56e_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MDIyMw==", "bodyText": "This should probably exist only in the test module, rather than in the root pom.", "url": "https://github.com/apache/accumulo/pull/1667#discussion_r463380223", "createdAt": "2020-07-31T02:58:36Z", "author": {"login": "ctubbsii"}, "path": "pom.xml", "diffHunk": "@@ -658,6 +658,9 @@\n           <groupId>org.apache.maven.plugins</groupId>\n           <artifactId>maven-jar-plugin</artifactId>\n           <configuration>\n+            <excludes>\n+              <exclude>**/hadoop-metrics2-accumulo.properties</exclude>\n+            </excludes>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e881448d5dfb0b4d8f09c3d2092384c54bd718f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7de2d4b04bd4b81393a37979704799f5c62bf90b", "author": {"user": null}, "url": "https://github.com/apache/accumulo/commit/7de2d4b04bd4b81393a37979704799f5c62bf90b", "committedDate": "2020-07-31T15:03:36Z", "message": "move property excludes to module instead of parent pom"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTEwODg4", "url": "https://github.com/apache/accumulo/pull/1667#pullrequestreview-459510888", "createdAt": "2020-07-31T22:38:50Z", "commit": {"oid": "7de2d4b04bd4b81393a37979704799f5c62bf90b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozODo1MVrOG6Yqsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozODo1MVrOG6Yqsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3NDczOA==", "bodyText": "This can be omitted, as it would be merged with the configuration from the parent anyway. We only need to specify the portions that we wish to override in here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      </excludes>\n          \n          \n            \n                      <archive>\n          \n          \n            \n                        <manifestEntries>\n          \n          \n            \n                          <Sealed>true</Sealed>\n          \n          \n            \n                          <Implementation-Build>${mvngit.commit.id}</Implementation-Build>\n          \n          \n            \n                        </manifestEntries>\n          \n          \n            \n                      </archive>\n          \n          \n            \n                      </excludes>", "url": "https://github.com/apache/accumulo/pull/1667#discussion_r463874738", "createdAt": "2020-07-31T22:38:51Z", "author": {"login": "ctubbsii"}, "path": "test/pom.xml", "diffHunk": "@@ -270,6 +270,21 @@\n           </execution>\n         </executions>\n       </plugin>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-jar-plugin</artifactId>\n+        <configuration>\n+          <excludes>\n+            <exclude>**/hadoop-metrics2-accumulo.properties</exclude>\n+          </excludes>\n+          <archive>\n+            <manifestEntries>\n+              <Sealed>true</Sealed>\n+              <Implementation-Build>${mvngit.commit.id}</Implementation-Build>\n+            </manifestEntries>\n+          </archive>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7de2d4b04bd4b81393a37979704799f5c62bf90b"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4474082ede6d95b6a7088a8a48a66a1e6ee4c1ab", "author": {"user": null}, "url": "https://github.com/apache/accumulo/commit/4474082ede6d95b6a7088a8a48a66a1e6ee4c1ab", "committedDate": "2020-08-03T16:27:44Z", "message": "address pr comments to remove redundant local override"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTk1MDY3", "url": "https://github.com/apache/accumulo/pull/1667#pullrequestreview-460195067", "createdAt": "2020-08-03T17:08:40Z", "commit": {"oid": "4474082ede6d95b6a7088a8a48a66a1e6ee4c1ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzowODo0MFrOG7BmFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNzowODo0MFrOG7BmFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU0NTMwMg==", "bodyText": "It occurs to me... does this still allow metrics to work when we're doing testing? If it's not in the jar, how does it get on the class path?", "url": "https://github.com/apache/accumulo/pull/1667#discussion_r464545302", "createdAt": "2020-08-03T17:08:40Z", "author": {"login": "ctubbsii"}, "path": "test/pom.xml", "diffHunk": "@@ -270,6 +270,15 @@\n           </execution>\n         </executions>\n       </plugin>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-jar-plugin</artifactId>\n+        <configuration>\n+          <excludes>\n+            <exclude>**/hadoop-metrics2-accumulo.properties</exclude>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4474082ede6d95b6a7088a8a48a66a1e6ee4c1ab"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ceea4fb39552d71d2388a4f7fa27ca814201076", "author": {"user": {"login": "EdColeman", "name": null}}, "url": "https://github.com/apache/accumulo/commit/1ceea4fb39552d71d2388a4f7fa27ca814201076", "committedDate": "2020-08-03T18:38:36Z", "message": "Update test/pom.xml\n\nCo-authored-by: Christopher Tubbs <ctubbsii@apache.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjY2Mzg0", "url": "https://github.com/apache/accumulo/pull/1667#pullrequestreview-460266384", "createdAt": "2020-08-03T18:56:21Z", "commit": {"oid": "1ceea4fb39552d71d2388a4f7fa27ca814201076"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e79bedb9f30908956182afe069dca5e31a7caebe", "author": {"user": null}, "url": "https://github.com/apache/accumulo/commit/e79bedb9f30908956182afe069dca5e31a7caebe", "committedDate": "2020-08-03T19:42:02Z", "message": "revert excluding full path - does not work as expected"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5ab7f99d1f6bee90090fbff69b9bf3cdd137cdb", "author": {"user": {"login": "ctubbsii", "name": "Christopher Tubbs"}}, "url": "https://github.com/apache/accumulo/commit/a5ab7f99d1f6bee90090fbff69b9bf3cdd137cdb", "committedDate": "2020-08-04T13:05:13Z", "message": "Update test/pom.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzkyNDcx", "url": "https://github.com/apache/accumulo/pull/1667#pullrequestreview-460792471", "createdAt": "2020-08-04T13:05:42Z", "commit": {"oid": "a5ab7f99d1f6bee90090fbff69b9bf3cdd137cdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1691, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}