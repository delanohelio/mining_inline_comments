{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MzUxNjAw", "number": 1833, "title": "Fixes #1760 - `listcompactions` command error is not helpful", "bodyText": "Fixing issue #1760. Adding more helpful error messages for the listcompactions command when a tserver address is passed.", "createdAt": "2020-12-09T17:43:50Z", "url": "https://github.com/apache/accumulo/pull/1833", "merged": true, "mergeCommit": {"oid": "5fca90dc8f359dcaa0e8d345ff55e306365f5699"}, "closed": true, "closedAt": "2020-12-10T13:26:28Z", "author": {"login": "DomGarguilo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkiQBhgH2gAyNTM1MzUxNjAwOmU4YWU1ZTUwNjQ2MTAxNjI0ZGRmMzFhMGM1NTBkNmUyOTY2MTg1NDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkxWstgFqTU0OTA4ODA4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e8ae5e50646101624ddf31a0c550d6e296618541", "author": {"user": {"login": "DomGarguilo", "name": "Dom G."}}, "url": "https://github.com/apache/accumulo/commit/e8ae5e50646101624ddf31a0c550d6e296618541", "committedDate": "2020-12-09T17:32:47Z", "message": "added a more helpful error message when no port is passed with the listcompactions command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDQwNzI1", "url": "https://github.com/apache/accumulo/pull/1833#pullrequestreview-548440725", "createdAt": "2020-12-09T17:45:39Z", "commit": {"oid": "e8ae5e50646101624ddf31a0c550d6e296618541"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzo0NTozOVrOIChc1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzo0NTozOVrOIChc1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUxNjExNg==", "bodyText": "Just a minor wording suggestion:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                checkState(hasPort(), \"The given address does not include a port\");\n          \n          \n            \n                checkState(hasPort(), \"the address does not include a port\");\n          \n      \n    \n    \n  \n\nThe reason for this is that the exception could also occur when the user has not \"given\" any address. For example, if it's our own internal code. In that case, the word \"given\" might be confusing.", "url": "https://github.com/apache/accumulo/pull/1833#discussion_r539516116", "createdAt": "2020-12-09T17:45:39Z", "author": {"login": "ctubbsii"}, "path": "core/src/main/java/org/apache/accumulo/core/util/HostAndPort.java", "diffHunk": "@@ -105,7 +105,7 @@ public boolean hasPort() {\n    *           occurring.\n    */\n   public int getPort() {\n-    checkState(hasPort());\n+    checkState(hasPort(), \"The given address does not include a port\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8ae5e50646101624ddf31a0c550d6e296618541"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4402021b830d513abb623d43915ad41af0bdd554", "author": {"user": {"login": "DomGarguilo", "name": "Dom G."}}, "url": "https://github.com/apache/accumulo/commit/4402021b830d513abb623d43915ad41af0bdd554", "committedDate": "2020-12-09T20:09:23Z", "message": "error message edit and exception log in debug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NTcyMzc2", "url": "https://github.com/apache/accumulo/pull/1833#pullrequestreview-548572376", "createdAt": "2020-12-09T20:17:21Z", "commit": {"oid": "4402021b830d513abb623d43915ad41af0bdd554"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMDoxNzoyMlrOICnkrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMDoxNzoyMlrOICnkrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTYxNjQzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  log.debug(\"Exception thrown while attempting to list active compactions\", e);\n          \n          \n            \n                  log.debug(\"Failed to list active compactions for server {}\", tserver, e);", "url": "https://github.com/apache/accumulo/pull/1833#discussion_r539616431", "createdAt": "2020-12-09T20:17:22Z", "author": {"login": "ctubbsii"}, "path": "shell/src/main/java/org/apache/accumulo/shell/commands/ActiveCompactionHelper.java", "diffHunk": "@@ -86,6 +90,7 @@ private static String formatActiveCompactionLine(String tserver, ActiveCompactio\n         compactions.add(formatActiveCompactionLine(tserver, ac));\n       }\n     } catch (Exception e) {\n+      log.debug(\"Exception thrown while attempting to list active compactions\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4402021b830d513abb623d43915ad41af0bdd554"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fda90fd7a1c610124cf3f615f998272f902b6200", "author": {"user": {"login": "DomGarguilo", "name": "Dom G."}}, "url": "https://github.com/apache/accumulo/commit/fda90fd7a1c610124cf3f615f998272f902b6200", "committedDate": "2020-12-09T20:18:29Z", "message": "Update shell/src/main/java/org/apache/accumulo/shell/commands/ActiveCompactionHelper.java\r\n\r\nDebug message edit\n\nCo-authored-by: Christopher Tubbs <ctubbsii@apache.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NTc0MjE2", "url": "https://github.com/apache/accumulo/pull/1833#pullrequestreview-548574216", "createdAt": "2020-12-09T20:20:06Z", "commit": {"oid": "fda90fd7a1c610124cf3f615f998272f902b6200"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDg4MDg2", "url": "https://github.com/apache/accumulo/pull/1833#pullrequestreview-549088086", "createdAt": "2020-12-10T11:08:39Z", "commit": {"oid": "fda90fd7a1c610124cf3f615f998272f902b6200"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1676, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}