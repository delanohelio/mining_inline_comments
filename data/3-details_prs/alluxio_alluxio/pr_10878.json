{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNDAyODQ4", "number": 10878, "title": "Fix unauthenticated exception during relogin", "bodyText": "We recently moved relogin early before the retry loop to fix polling master client authentication. Now we start to see random unauthenticated exception during the relogin time. Since the polling master client does not really need the authentication, disabling it and move the relogin back inside the retry. The unauthenticated exception can no longer be observed after this change.", "createdAt": "2020-02-10T23:19:42Z", "url": "https://github.com/Alluxio/alluxio/pull/10878", "merged": true, "mergeCommit": {"oid": "3e09025349a20fd726d3c9e3a1df2a7e8c5cab7d"}, "closed": true, "closedAt": "2020-02-13T19:23:07Z", "author": {"login": "bf8086"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDFir6AH2gAyMzczNDAyODQ4OjMwYmYwNWQxMGE4MGRiOGVmZjc2ODA5Zjk2NWMyNGI4NmNmZTEwMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDaVNOgFqTM1NzA3MTg0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "30bf05d10a80db8eff76809f965c24b86cfe1034", "author": {"user": {"login": "bf8086", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/30bf05d10a80db8eff76809f965c24b86cfe1034", "committedDate": "2020-02-10T23:15:16Z", "message": "fix unauthenticated exception during relogin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTc5NzY3", "url": "https://github.com/Alluxio/alluxio/pull/10878#pullrequestreview-356979767", "createdAt": "2020-02-11T20:43:44Z", "commit": {"oid": "30bf05d10a80db8eff76809f965c24b86cfe1034"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDo0Mzo0NVrOFoYZBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDo0Mzo0NVrOFoYZBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg4Njk4Mg==", "bodyText": "Please add a comment that we are disabling authentication on purpose.", "url": "https://github.com/Alluxio/alluxio/pull/10878#discussion_r377886982", "createdAt": "2020-02-11T20:43:45Z", "author": {"login": "gpang"}, "path": "core/common/src/main/java/alluxio/master/PollingMasterInquireClient.java", "diffHunk": "@@ -131,7 +131,8 @@ private InetSocketAddress getAddress() {\n   private void pingMetaService(InetSocketAddress address) throws AlluxioStatusException {\n     GrpcChannel channel =\n         GrpcChannelBuilder.newBuilder(GrpcServerAddress.create(address), mConfiguration)\n-            .setSubject(mUserState.getSubject()).setClientType(\"MasterInquireClient\").build();\n+            .setSubject(mUserState.getSubject()).setClientType(\"MasterInquireClient\")\n+            .disableAuthentication().build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30bf05d10a80db8eff76809f965c24b86cfe1034"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "020b3b051d2971c012bca34621097dee13760255", "author": {"user": {"login": "bf8086", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/020b3b051d2971c012bca34621097dee13760255", "committedDate": "2020-02-11T21:49:18Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52b31dcec1ebbe9495ebc542a5465f2da2c160a5", "author": {"user": {"login": "bf8086", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/52b31dcec1ebbe9495ebc542a5465f2da2c160a5", "committedDate": "2020-02-11T22:06:56Z", "message": "update comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MDcxODQ2", "url": "https://github.com/Alluxio/alluxio/pull/10878#pullrequestreview-357071846", "createdAt": "2020-02-11T23:28:33Z", "commit": {"oid": "52b31dcec1ebbe9495ebc542a5465f2da2c160a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4925, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}