{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNjEzMjA0", "number": 11683, "title": "Add thread-factory for fork-join-pool threads", "bodyText": "This PR introduces a thread-factory implementation for use by ForkJoinPool in order to provide a custom name for worker threads.", "createdAt": "2020-06-29T19:46:01Z", "url": "https://github.com/Alluxio/alluxio/pull/11683", "merged": true, "mergeCommit": {"oid": "5c759e8dc0678dc8bc6a9db7344b4ddc21c2e6ef"}, "closed": true, "closedAt": "2020-06-30T23:59:09Z", "author": {"login": "ggezer"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwGc-2AH2gAyNDQxNjEzMjA0OjU4YTUwYjUwMjQ3MGUxNWYwOGVhODQ2M2E1ZmI1MmFjNzAyY2RjM2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwbmoogFqTQ0MDM1ODI0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "58a50b502470e15f08ea8463a5fb52ac702cdc3e", "author": {"user": {"login": "ggezer", "name": "G\u00f6kt\u00fcrk Gezer"}}, "url": "https://github.com/Alluxio/alluxio/commit/58a50b502470e15f08ea8463a5fb52ac702cdc3e", "committedDate": "2020-06-29T19:45:32Z", "message": "Add thread-factory for fork-join-pool threads"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMzE5MTYx", "url": "https://github.com/Alluxio/alluxio/pull/11683#pullrequestreview-440319161", "createdAt": "2020-06-30T19:25:09Z", "commit": {"oid": "58a50b502470e15f08ea8463a5fb52ac702cdc3e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxOToyNTowOVrOGrLP1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxOToyNTowOVrOGrLP1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzkyNjIyOA==", "bodyText": "minor question, do thread ids typically start from 0 or 1?", "url": "https://github.com/Alluxio/alluxio/pull/11683#discussion_r447926228", "createdAt": "2020-06-30T19:25:09Z", "author": {"login": "gpang"}, "path": "core/common/src/main/java/alluxio/concurrent/jsr/ForkJoinPool.java", "diffHunk": "@@ -2495,6 +2496,45 @@ public ForkJoinWorkerThread run() {\n     }\n   }\n \n+  /**\n+   * Default ForkJoinWorkerThreadFactory implementation; creates a new ForkJoinWorkerThread using\n+   * the system class loader as the thread context class loader.\n+   */\n+  public static final class AlluxioForkJoinWorkerThreadFactory\n+          implements ForkJoinWorkerThreadFactory {\n+    private static final AccessControlContext ACC = contextWithPermissions(\n+            // new RuntimePermission(\"setContextClassLoader\"), // java9-concurrent-backport changed\n+            new RuntimePermission(\"getClassLoader\"));\n+    // Thread id counter.\n+    private static final AtomicLong sThreadId = new AtomicLong(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58a50b502470e15f08ea8463a5fb52ac702cdc3e"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ff0f39431e226b747240dd35b278be959814982", "author": {"user": {"login": "ggezer", "name": "G\u00f6kt\u00fcrk Gezer"}}, "url": "https://github.com/Alluxio/alluxio/commit/3ff0f39431e226b747240dd35b278be959814982", "committedDate": "2020-06-30T20:16:57Z", "message": "name change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMzU4MjQ4", "url": "https://github.com/Alluxio/alluxio/pull/11683#pullrequestreview-440358248", "createdAt": "2020-06-30T20:24:05Z", "commit": {"oid": "3ff0f39431e226b747240dd35b278be959814982"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4399, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}