{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwOTAzNzEy", "number": 12226, "title": "Upgrade Ozone ufs to 1.0.0 version", "bodyText": "#12202\nSomething I should clarify:\n\nAdd a new ozone shade module to avoid classCaseException for the following code from org.apache.hadoop.ipc.ProtobufRpcEngine#invoke\n\n      final Message theRequest = (Message) args[1];\n\nUpdate the Ozone.md", "createdAt": "2020-10-10T03:52:06Z", "url": "https://github.com/Alluxio/alluxio/pull/12226", "merged": true, "mergeCommit": {"oid": "118769ba1ff5da6ca9382e9358e6a939e32fb8f6"}, "closed": true, "closedAt": "2020-10-15T05:14:32Z", "author": {"login": "maobaolong"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRCaXCgH2gAyNTAwOTAzNzEyOmJlOGU0MDM0NWU2NGIzZTBiNjQyZjNjN2Y3MGEwYjYzNjI5MjMyMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSquK_gFqTUwODk0MTg2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/be8e40345e64b3e0b642f3c7f70a0b6362923203", "committedDate": "2020-10-10T03:42:33Z", "message": "Upgrade Ozone ufs to 1.0.0."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzE2MTI0", "url": "https://github.com/Alluxio/alluxio/pull/12226#pullrequestreview-506316124", "createdAt": "2020-10-12T06:12:12Z", "commit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjoxMjoxMlrOHfwQHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjoxMzozNVrOHfwRsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODQ2MA==", "bodyText": "do we need this? this looks to run by default, do we currently support other way to build without this profile?\nIf not, we should simply have it in dependency rather than being selected by a profile", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503058460", "createdAt": "2020-10-12T06:12:12Z", "author": {"login": "apc999"}, "path": "underfs/ozone/pom.xml", "diffHunk": "@@ -25,18 +25,25 @@\n     <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n     <!-- run properly from sub-project directories -->\n     <build.path>${project.parent.parent.basedir}/build</build.path>\n+    <ufs.ozone.version>1.0.0</ufs.ozone.version>\n   </properties>\n \n+  <profiles>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODg2Ng==", "bodyText": "is shading this module required?\nIn UFS, by default all dependencies are loaded by a separate class loader, do we still see the exception you described?\nAdd a new ozone shade module to avoid classCaseException for the following code from org.apache.hadoop.ipc.ProtobufRpcEngine#invoke\n      final Message theRequest = (Message) args[1];", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503058866", "createdAt": "2020-10-12T06:13:35Z", "author": {"login": "apc999"}, "path": "shaded/pom.xml", "diffHunk": "@@ -25,6 +25,7 @@\n   <modules>\n     <module>client</module>\n     <module>hadoop</module>\n+    <module>ozone</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "531f4d6956b4aba79d942e7718c457cd7851034e", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/531f4d6956b4aba79d942e7718c457cd7851034e", "committedDate": "2020-10-12T08:52:47Z", "message": "Address comment, use ozone dependencies directly."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODgwNDAx", "url": "https://github.com/Alluxio/alluxio/pull/12226#pullrequestreview-508880401", "createdAt": "2020-10-15T01:42:45Z", "commit": {"oid": "531f4d6956b4aba79d942e7718c457cd7851034e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTo0Mjo0NVrOHhtyQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTo0Mjo0NVrOHhtyQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTExNTIwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002\n          \n          \n            \n            [\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r505115201", "createdAt": "2020-10-15T01:42:45Z", "author": {"login": "apc999"}, "path": "docs/cn/ufs/Ozone.md", "diffHunk": "@@ -17,9 +17,9 @@ Ozone\u53ef\u4ee5\u5728\u5bb9\u5668\u5316\u73af\u5883(\u4f8b\u5982Kubernetes\u548cYARN)\u4e2d\u6709\u6548\u8fd0\u884c\u3002\n \u5177\u6709\u6b63\u786e\u7684Hadoop\u7248\u672c(\u63a8\u8350))\uff0c\u6216 \n [\u4eceAlluxio\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6]({{ '/en/contributor/Building-Alluxio-From-Source.html' | relativize_url}})(\u9002\u7528\u4e8e\u9ad8\u7ea7\u7528\u6237)\u3002\n \n-\u5728\u51c6\u5907Ozone\u4e0eAlluxio\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8bf7\u9075\u5faa[Ozone\u672c\u5730\u5b89\u88c5](https://hadoop.apache.org/ozone/docs/0.5.0-beta/start/onprem.html)\n-\u5b89\u88c5Ozone\u96c6\u7fa4\uff0c\u5e76\u9075\u5faa[\u5377\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/0.5.0-beta/shell/volumecommands.html)\u548c \n-[\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/0.5.0-beta/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002\n+\u5728\u51c6\u5907Ozone\u4e0eAlluxio\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8bf7\u9075\u5faa[Ozone\u672c\u5730\u5b89\u88c5](https://hadoop.apache.org/ozone/docs/1.0.0/start/onprem.html)\n+\u5b89\u88c5Ozone\u96c6\u7fa4\uff0c\u5e76\u9075\u5faa[\u5377\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/1.0.0/shell/volumecommands.html)\u548c \n+[\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "531f4d6956b4aba79d942e7718c457cd7851034e"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9b511024566d3115da3a2fb078f12cc11e608ed", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/d9b511024566d3115da3a2fb078f12cc11e608ed", "committedDate": "2020-10-15T02:16:16Z", "message": "Update docs/cn/ufs/Ozone.md\n\nCo-authored-by: Bin Fan <fanbin103@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4OTQxODY3", "url": "https://github.com/Alluxio/alluxio/pull/12226#pullrequestreview-508941867", "createdAt": "2020-10-15T05:14:19Z", "commit": {"oid": "d9b511024566d3115da3a2fb078f12cc11e608ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3523, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}