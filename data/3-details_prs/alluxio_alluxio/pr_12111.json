{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MjY2NzQ0", "number": 12111, "title": "Add Filters to Job Failure History", "bodyText": "", "createdAt": "2020-09-16T21:56:29Z", "url": "https://github.com/Alluxio/alluxio/pull/12111", "merged": true, "mergeCommit": {"oid": "ef63795e33a2057ad300647d94f87c33a3c0f5ab"}, "closed": true, "closedAt": "2020-09-21T17:39:41Z", "author": {"login": "bradyoo"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG_jrNAH2gAyNDg4MjY2NzQ0OjAyNjBlODhiOGFlNGI1ODBjN2Q3MmUzODZiN2FjZTVmZTU1OTBlYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLGaCEAH2gAyNDg4MjY2NzQ0OjMzZWVhMDQ0MDRjZmI4ZGEzYWNkN2Q4M2NmYWFiNjVhODA2MjFhYWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0260e88b8ae4b580c7d72e386b7ace5fe5590ea1", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/0260e88b8ae4b580c7d72e386b7ace5fe5590ea1", "committedDate": "2020-09-08T22:43:46Z", "message": "initial job history work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "229ebe7e0c859fa49bedc03a4185c4bac7244fe4", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/229ebe7e0c859fa49bedc03a4185c4bac7244fe4", "committedDate": "2020-09-09T22:14:16Z", "message": "Job Failure History V0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15090864730d269928f746b92f874fe9c25bc003", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/15090864730d269928f746b92f874fe9c25bc003", "committedDate": "2020-09-09T22:37:00Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e31f350a7d45f37dc868c5018d71ccfd43b7cc3", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/4e31f350a7d45f37dc868c5018d71ccfd43b7cc3", "committedDate": "2020-09-09T23:21:14Z", "message": "fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24a669d8db4f41717a75c2b6532e791302c00827", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/24a669d8db4f41717a75c2b6532e791302c00827", "committedDate": "2020-09-10T00:06:46Z", "message": "fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cbe3a1c20dfa700a29d7ea2142355bc5cce0ea5", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/6cbe3a1c20dfa700a29d7ea2142355bc5cce0ea5", "committedDate": "2020-09-10T21:45:06Z", "message": "Merge remote-tracking branch 'upstream/master' into job_failure_history_0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b89fc81b3759974821202cbcf5a3866be0e30d91", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/b89fc81b3759974821202cbcf5a3866be0e30d91", "committedDate": "2020-09-10T21:45:10Z", "message": "Leave error message in PlanInfo even when non verbose info is requested"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49384a7418bb77684bfb5c74af5945c978d1c894", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/49384a7418bb77684bfb5c74af5945c978d1c894", "committedDate": "2020-09-11T21:50:04Z", "message": "Add Limit and Ordering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3548e7921c024bfcca781458c656c2f93559a41", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/d3548e7921c024bfcca781458c656c2f93559a41", "committedDate": "2020-09-11T21:50:45Z", "message": "Merge remote-tracking branch 'upstream/master' into job_failure_history"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e222d44a7324104935d360ed763f2d2804d618f", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/1e222d44a7324104935d360ed763f2d2804d618f", "committedDate": "2020-09-11T22:15:51Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3c78e76c40d370ff22071332bcad19f0284b5fc", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/b3c78e76c40d370ff22071332bcad19f0284b5fc", "committedDate": "2020-09-14T22:34:58Z", "message": "work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce390fb234ff41525ac4656e9447a90f15546ca8", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/ce390fb234ff41525ac4656e9447a90f15546ca8", "committedDate": "2020-09-14T22:36:21Z", "message": "Merge remote-tracking branch 'upstream/master' into job_failure_history_0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33ad3dd9160fd387aabbbf68d6c865a814637e5e", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/33ad3dd9160fd387aabbbf68d6c865a814637e5e", "committedDate": "2020-09-14T23:17:36Z", "message": "work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c3f6d8c3439b61ea71ddcaeee5c0f4dd755e3f2", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/7c3f6d8c3439b61ea71ddcaeee5c0f4dd755e3f2", "committedDate": "2020-09-14T23:21:28Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3228ed64e5d79bb76f178ce90db4bf1b36f3dafe", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/3228ed64e5d79bb76f178ce90db4bf1b36f3dafe", "committedDate": "2020-09-14T23:21:58Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "561a647b9c86b38793a6be2d305b1344b84cedaa", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/561a647b9c86b38793a6be2d305b1344b84cedaa", "committedDate": "2020-09-14T23:45:08Z", "message": "Add ErrorType in WorkflowInfo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d450809efa6eeafa463435fe5ca6b08b706cd30b", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/d450809efa6eeafa463435fe5ca6b08b706cd30b", "committedDate": "2020-09-15T18:20:54Z", "message": "refactor into ErrorUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e011d35a82833ec801a3ebca38448cf95193210", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/0e011d35a82833ec801a3ebca38448cf95193210", "committedDate": "2020-09-15T20:48:21Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6577a82c7ef9cd2daa4907f3606c7bb9093d9a10", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/6577a82c7ef9cd2daa4907f3606c7bb9093d9a10", "committedDate": "2020-09-15T22:40:44Z", "message": "Merge branch 'job_failure_history_0' into job_failure_history_1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2b7f137ed92e14331d71950acc11f6e2093fde4", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/f2b7f137ed92e14331d71950acc11f6e2093fde4", "committedDate": "2020-09-15T23:13:05Z", "message": "Merge remote-tracking branch 'upstream/master' into job_failure_history_1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4fcf71613de304bad49f265989da9dc8ad15308", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/c4fcf71613de304bad49f265989da9dc8ad15308", "committedDate": "2020-09-16T21:56:55Z", "message": "meant to add these"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODM3MzY5", "url": "https://github.com/Alluxio/alluxio/pull/12111#pullrequestreview-491837369", "createdAt": "2020-09-19T00:06:42Z", "commit": {"oid": "c4fcf71613de304bad49f265989da9dc8ad15308"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMDowNjo0MlrOHUe84Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMDowNjo0MlrOHUe84Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI0MDY3Mw==", "bodyText": "kind of unusual to pass stream back as return value, is the idea here to save a potential copy?", "url": "https://github.com/Alluxio/alluxio/pull/12111#discussion_r491240673", "createdAt": "2020-09-19T00:06:42Z", "author": {"login": "yuzhu"}, "path": "job/server/src/main/java/alluxio/master/job/plan/PlanTracker.java", "diffHunk": "@@ -276,7 +277,7 @@ private synchronized boolean removeFinished() {\n   /**\n    * @return list of failed plans\n    */\n-  public List<PlanInfo> failed() {\n-    return Lists.newArrayList(mFailed);\n+  public Stream<PlanInfo> failed() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4fcf71613de304bad49f265989da9dc8ad15308"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33eea04404cfb8da3acd7d83cfaab65a80621aac", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/33eea04404cfb8da3acd7d83cfaab65a80621aac", "committedDate": "2020-09-21T16:58:16Z", "message": "Remove extraneous comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3584, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}