{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1NjA4NDQ3", "number": 10778, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozOTo1MlrODaUiPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozOTo1MlrODaUiPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4OTI2MDE1OnYy", "diffSide": "RIGHT", "path": "core/common/src/main/java/alluxio/AbstractClient.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozOTo1M1rOFhNigA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTo1OTo1NVrOFhODVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2OTE1Mg==", "bodyText": "Can you put this to beforeConnect() ?", "url": "https://github.com/Alluxio/alluxio/pull/10778#discussion_r370369152", "createdAt": "2020-01-23T21:39:53Z", "author": {"login": "ggezer"}, "path": "core/common/src/main/java/alluxio/AbstractClient.java", "diffHunk": "@@ -199,6 +199,7 @@ public synchronized void connect() throws AlluxioStatusException {\n     disconnect();\n     Preconditions.checkState(!mClosed, \"Client is closed, will not try to connect.\");\n \n+    mContext.getUserState().relogin();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c830acc9e4de479e77728d49b465ffe031dc055"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM3NzU1OQ==", "bodyText": "beforeConnect() would be too late. The relogin() must happen before getAddress() which is called in the try block before the beforeConnect().", "url": "https://github.com/Alluxio/alluxio/pull/10778#discussion_r370377559", "createdAt": "2020-01-23T21:59:55Z", "author": {"login": "ns1123"}, "path": "core/common/src/main/java/alluxio/AbstractClient.java", "diffHunk": "@@ -199,6 +199,7 @@ public synchronized void connect() throws AlluxioStatusException {\n     disconnect();\n     Preconditions.checkState(!mClosed, \"Client is closed, will not try to connect.\");\n \n+    mContext.getUserState().relogin();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2OTE1Mg=="}, "originalCommit": {"oid": "3c830acc9e4de479e77728d49b465ffe031dc055"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2087, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}