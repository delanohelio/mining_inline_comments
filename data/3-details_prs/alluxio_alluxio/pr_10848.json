{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNTg4NTkz", "number": 10848, "title": "Refactor leftover metric keys", "bodyText": "Refactor async cache and block related metric keys", "createdAt": "2020-02-05T21:15:24Z", "url": "https://github.com/Alluxio/alluxio/pull/10848", "merged": true, "mergeCommit": {"oid": "f9dbb45d780c07d2e322f45e149a4fb9590739d0"}, "closed": true, "closedAt": "2020-02-06T21:56:49Z", "author": {"login": "LuQQiu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBc0kXAH2gAyMzcxNTg4NTkzOjdlYTk2ZTFiOGYzN2I1MmZmYTA4MjNmM2I5MjFhZDU5NTI3YjFkYWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBxxqcAFqTM1NDc5MDk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ea96e1b8f37b52ffa0823f3b921ad59527b1dac", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/7ea96e1b8f37b52ffa0823f3b921ad59527b1dac", "committedDate": "2020-02-05T21:14:46Z", "message": "Refactor leftover metric keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27ff209417d320cf31fbfaacd62b6cf693746aaa", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/27ff209417d320cf31fbfaacd62b6cf693746aaa", "committedDate": "2020-02-06T00:01:19Z", "message": "Add back MetricsSystem.getClusterMetricName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjkyMzU4", "url": "https://github.com/Alluxio/alluxio/pull/10848#pullrequestreview-354692358", "createdAt": "2020-02-06T18:56:51Z", "commit": {"oid": "27ff209417d320cf31fbfaacd62b6cf693746aaa"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo1Njo1MVrOFmmeeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxODo1OToyMFrOFmmjYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAyMDYwMA==", "bodyText": "Aggreagated is spelled like Aggregated. not related to this PR, but feel free to rename the method", "url": "https://github.com/Alluxio/alluxio/pull/10848#discussion_r376020600", "createdAt": "2020-02-06T18:56:51Z", "author": {"login": "madanadit"}, "path": "core/common/src/main/java/alluxio/metrics/MetricKey.java", "diffHunk": "@@ -533,12 +533,85 @@ public MetricKey build() {\n           .build();\n \n   // Worker metrics\n+  public static final MetricKey WORKER_ASYNC_CACHE_DUPLICATE_REQUESTS =\n+      new Builder(Name.WORKER_ASYNC_CACHE_DUPLICATE_REQUESTS)\n+          .setDescription(\"Total number of duplicated async cache request received by this worker\")\n+          .setMetricType(MetricType.COUNTER)\n+          .setIsClusterAggreagated(false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27ff209417d320cf31fbfaacd62b6cf693746aaa"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAyMTg1Ng==", "bodyText": "how is IsClusterAggregated used? I'm not quiet sure how to set this to true/false", "url": "https://github.com/Alluxio/alluxio/pull/10848#discussion_r376021856", "createdAt": "2020-02-06T18:59:20Z", "author": {"login": "madanadit"}, "path": "core/common/src/main/java/alluxio/metrics/MetricKey.java", "diffHunk": "@@ -533,12 +533,85 @@ public MetricKey build() {\n           .build();\n \n   // Worker metrics\n+  public static final MetricKey WORKER_ASYNC_CACHE_DUPLICATE_REQUESTS =\n+      new Builder(Name.WORKER_ASYNC_CACHE_DUPLICATE_REQUESTS)\n+          .setDescription(\"Total number of duplicated async cache request received by this worker\")\n+          .setMetricType(MetricType.COUNTER)\n+          .setIsClusterAggreagated(false)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjAyMDYwMA=="}, "originalCommit": {"oid": "27ff209417d320cf31fbfaacd62b6cf693746aaa"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebfdc6f59760f90f19d78465d1a10e497e4350ba", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/ebfdc6f59760f90f19d78465d1a10e497e4350ba", "committedDate": "2020-02-06T19:17:38Z", "message": "Change from Aggreagated to aggregated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzkwOTU5", "url": "https://github.com/Alluxio/alluxio/pull/10848#pullrequestreview-354790959", "createdAt": "2020-02-06T21:39:36Z", "commit": {"oid": "ebfdc6f59760f90f19d78465d1a10e497e4350ba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3192, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}