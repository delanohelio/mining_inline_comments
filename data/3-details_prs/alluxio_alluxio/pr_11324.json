{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NjgyODQz", "number": 11324, "title": "Upgrade helm command to support only helm 3", "bodyText": "This addresses #11319\nWe upgrade the helm template generation commands from Helm 2 to Helm 3.", "createdAt": "2020-04-21T13:41:50Z", "url": "https://github.com/Alluxio/alluxio/pull/11324", "merged": true, "mergeCommit": {"oid": "ff59e2a99850591e68550d2c7ac5fdacd7aba205"}, "closed": true, "closedAt": "2020-04-28T06:07:12Z", "author": {"login": "jiacheliu3"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaedPMAFqTM5OTIwNTM1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb7y1vABqjMyNzg0Nzg3NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MjA1MzU5", "url": "https://github.com/Alluxio/alluxio/pull/11324#pullrequestreview-399205359", "createdAt": "2020-04-23T15:17:11Z", "commit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToxNzoxMVrOGKtqJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToxNzoxMVrOGKtqJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg4NzAxMg==", "bodyText": "Seems Helm 3 has its own understanding of where the comments should appear in a range loop. This is really hilarious. @madanadit", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413887012", "createdAt": "2020-04-23T15:17:11Z", "author": {"login": "jiacheliu3"}, "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -41,17 +29,30 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-0\n+    statefulset.kubernetes.io/pod-name: alluxio-master-2\n ---\n+# Source: alluxio/templates/master/service.yaml\n+#\n+# The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+# (the \"License\"). You may not use this work except in compliance with the License, which is\n+# available at www.apache.org/licenses/LICENSE-2.0\n+#\n+# This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+# either express or implied, as more fully set forth in the License.\n+#\n+# See the NOTICE file distributed with this work for information regarding copyright ownership.\n+#\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MjA4MjE3", "url": "https://github.com/Alluxio/alluxio/pull/11324#pullrequestreview-399208217", "createdAt": "2020-04-23T15:20:03Z", "commit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToyMDowM1rOGKtzwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToyMDowM1rOGKtzwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg4OTQ3Mg==", "bodyText": "Seems they are generated in order but output separately. @madanadit\nNot that this will corrupt the output template, but just an interesting caveat to note about Helm 3.", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413889472", "createdAt": "2020-04-23T15:20:03Z", "author": {"login": "jiacheliu3"}, "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -72,17 +73,18 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-1\n+    statefulset.kubernetes.io/pod-name: alluxio-master-0\n ---\n+# Source: alluxio/templates/master/service.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "originalPosition": 70}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MjExMDI2", "url": "https://github.com/Alluxio/alluxio/pull/11324#pullrequestreview-399211026", "createdAt": "2020-04-23T15:22:55Z", "commit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToyMjo1NVrOGKt9EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNToyMjo1NVrOGKt9EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg5MTg1Nw==", "bodyText": "Also the output are all trimmed and lost the ending empty row. That's fine to me as we are removing these from the code repo.", "url": "https://github.com/Alluxio/alluxio/pull/11324#discussion_r413891857", "createdAt": "2020-04-23T15:22:55Z", "author": {"login": "jiacheliu3"}, "path": "integration/kubernetes/multiMaster-embeddedJournal/master/alluxio-master-service.yaml.template", "diffHunk": "@@ -103,6 +105,4 @@ spec:\n     role: alluxio-master\n     app: alluxio\n     release: alluxio\n-    statefulset.kubernetes.io/pod-name: alluxio-master-2\n----\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c2869ce710367467e42d1abc5c1fd2ed57f7c88"}, "originalPosition": 91}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7bea82da81356ae6b520ca15d3bd5a94b9e8a204", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/7bea82da81356ae6b520ca15d3bd5a94b9e8a204", "committedDate": "2020-04-27T14:09:20Z", "message": "remove extra whitespace trimming"}, "afterCommit": {"oid": "4bf2976fb19f8412301b12661c509d2637efde41", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/4bf2976fb19f8412301b12661c509d2637efde41", "committedDate": "2020-04-27T14:27:58Z", "message": "remove extra whitespace trimming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNDQ0NDY0", "url": "https://github.com/Alluxio/alluxio/pull/11324#pullrequestreview-401444464", "createdAt": "2020-04-28T01:52:55Z", "commit": {"oid": "578b7d38bacce3758b295fd3326b75ca6aa7fcfa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b28140062686027d5e92079e83f0e81d2da1bf8", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/9b28140062686027d5e92079e83f0e81d2da1bf8", "committedDate": "2020-04-28T04:01:10Z", "message": "change to helm3 command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac5d693091ec60ffea3c09ae7805578e939e85e4", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/ac5d693091ec60ffea3c09ae7805578e939e85e4", "committedDate": "2020-04-28T04:01:10Z", "message": "fix whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90661cfd7084ccd73687c5da9de441c705e513cd", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/90661cfd7084ccd73687c5da9de441c705e513cd", "committedDate": "2020-04-28T04:01:11Z", "message": "Update doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b43fac908d09e33606340aaa8eb42204e28b1b95", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/b43fac908d09e33606340aaa8eb42204e28b1b95", "committedDate": "2020-04-28T04:01:11Z", "message": "remove extra whitespace trimming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "committedDate": "2020-04-28T04:01:12Z", "message": "rephrasing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "578b7d38bacce3758b295fd3326b75ca6aa7fcfa", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/578b7d38bacce3758b295fd3326b75ca6aa7fcfa", "committedDate": "2020-04-27T14:36:41Z", "message": "rephrasing"}, "afterCommit": {"oid": "48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/48b8d5b6c2195b4456affa19d1aaf2aa07844b91", "committedDate": "2020-04-28T04:01:12Z", "message": "rephrasing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4551, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}