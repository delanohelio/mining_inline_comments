{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyMjkyMjcz", "number": 12261, "title": "[SMALLFIX] Update S3 deprecated API usage", "bodyText": "Constructor new AmazonS3Client() is deprecated. Replaced with recommended call.", "createdAt": "2020-10-13T13:08:55Z", "url": "https://github.com/Alluxio/alluxio/pull/12261", "merged": true, "mergeCommit": {"oid": "1d31e6425fca932c70d5626fde7412c3668014ec"}, "closed": true, "closedAt": "2020-10-14T19:41:36Z", "author": {"login": "jiacheliu3"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSIKkBgH2gAyNTAyMjkyMjczOmMzMzRjZTI4YzMxMTY1NjVjOGFkZDZjMDQ4NzcyMjM4NmU5YzMzZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdShsTmAFqTUwODYyOTUyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c334ce28c3116565c8add6c0487722386e9c33f0", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/c334ce28c3116565c8add6c0487722386e9c33f0", "committedDate": "2020-10-13T12:58:39Z", "message": "update one deprecated call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39a5479055adb2f3f4ab397072c1b5f91f84e40a", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/39a5479055adb2f3f4ab397072c1b5f91f84e40a", "committedDate": "2020-10-13T13:08:20Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7971f5123bcd75a06796737574416c917f31254", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/d7971f5123bcd75a06796737574416c917f31254", "committedDate": "2020-10-13T14:32:02Z", "message": "checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTY2MDg3", "url": "https://github.com/Alluxio/alluxio/pull/12261#pullrequestreview-507966087", "createdAt": "2020-10-14T03:19:24Z", "commit": {"oid": "d7971f5123bcd75a06796737574416c917f31254"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMzoxOToyNVrOHhAsDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMzoxOTo1N1rOHhAsnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM3NjMzNQ==", "bodyText": "Based on https://stackoverflow.com/questions/18136437/whats-the-use-of-new-string0-in-toarraynew-string0\nlooks like it will be better to create the array with new String[size] than new String[0]", "url": "https://github.com/Alluxio/alluxio/pull/12261#discussion_r504376335", "createdAt": "2020-10-14T03:19:25Z", "author": {"login": "LuQQiu"}, "path": "underfs/s3a/src/main/java/alluxio/underfs/s3a/S3AUnderFileSystem.java", "diffHunk": "@@ -452,7 +453,7 @@ private ObjectListing getObjectListingChunkV1(ListObjectsRequest request) throws\n     @Override\n     public String[] getCommonPrefixes() {\n       List<String> res = mResult.getCommonPrefixes();\n-      return res.toArray(new String[res.size()]);\n+      return res.toArray(new String[0]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7971f5123bcd75a06796737574416c917f31254"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM3NjQ3OQ==", "bodyText": "Why it needs casting, can we use the concrete type in the whole S3AUnderFileSystem?", "url": "https://github.com/Alluxio/alluxio/pull/12261#discussion_r504376479", "createdAt": "2020-10-14T03:19:57Z", "author": {"login": "LuQQiu"}, "path": "underfs/s3a/src/main/java/alluxio/underfs/s3a/S3AUnderFileSystem.java", "diffHunk": "@@ -198,7 +198,8 @@ public static S3AUnderFileSystem createInstance(AlluxioURI uri,\n       clientConf.setSignerOverride(conf.get(PropertyKey.UNDERFS_S3_SIGNER_ALGORITHM));\n     }\n \n-    AmazonS3Client amazonS3Client = new AmazonS3Client(credentials, clientConf);\n+    AmazonS3Client amazonS3Client = (AmazonS3Client) AmazonS3Client.builder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7971f5123bcd75a06796737574416c917f31254"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NjI5NTIx", "url": "https://github.com/Alluxio/alluxio/pull/12261#pullrequestreview-508629521", "createdAt": "2020-10-14T18:43:08Z", "commit": {"oid": "d7971f5123bcd75a06796737574416c917f31254"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3534, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}