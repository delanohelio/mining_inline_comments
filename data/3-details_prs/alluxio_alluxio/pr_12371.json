{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4Nzc5NjYz", "number": 12371, "title": "Upgrade Ozone ufs to 1.0.0 version", "bodyText": "Fix #12202 #12338", "createdAt": "2020-10-23T07:34:37Z", "url": "https://github.com/Alluxio/alluxio/pull/12371", "merged": true, "mergeCommit": {"oid": "79b8cb20c9ad02d68618794ff2fe14249b1a1015"}, "closed": true, "closedAt": "2020-10-23T17:42:27Z", "author": {"login": "maobaolong"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVRW93gH2gAyNTA4Nzc5NjYzOjAyMGY0NGU0NGY3ZWU1OWMyMTI1ODkxMjk3MDJlNTlhNDk0MjI0MTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVaNV6gFqTUxNTg3NjQ3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "020f44e44f7ee59c212589129702e59a49422419", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/020f44e44f7ee59c212589129702e59a49422419", "committedDate": "2020-10-23T07:23:07Z", "message": "Upgrade Ozone ufs to 1.0.0 version\n\n#12202\n\nSomething I should clarify:\n- Add a new ozone shade module to avoid classCaseException for the\nfollowing code from `org.apache.hadoop.ipc.ProtobufRpcEngine#invoke`\n```java\nfinal Message theRequest = (Message) args[1];\n```\n- Update the Ozone.md\n\npr-link: Alluxio/alluxio#12226\nchange-id: cid-0ef47507e66bf4ac527799aa16b14601634db2c4\n(cherry picked from commit 118769ba1ff5da6ca9382e9358e6a939e32fb8f6)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/8dd57d85331f0ac857f4825db96d89861b457f45", "committedDate": "2020-10-23T07:32:36Z", "message": "Using release profile properties to determine if we need to generate dependency reduced pom."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDE5MTk0", "url": "https://github.com/Alluxio/alluxio/pull/12371#pullrequestreview-515419194", "createdAt": "2020-10-23T07:43:57Z", "commit": {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0Mzo1OFrOHnCZbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0Mzo1OFrOHnCZbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NTc5MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              <version>${ufs.ozone.version}</version>\n          \n          \n            \n              <version>2.5.0-SNAPSHOT</version>\n          \n      \n    \n    \n  \n\nHaving a var here ${ufs.ozone.version} is not encouraged", "url": "https://github.com/Alluxio/alluxio/pull/12371#discussion_r510695790", "createdAt": "2020-10-23T07:43:58Z", "author": {"login": "apc999"}, "path": "shaded/ozone/pom.xml", "diffHunk": "@@ -0,0 +1,190 @@\n+<!--\n+\n+    The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+    (the \"License\"). You may not use this work except in compliance with the License, which is\n+    available at www.apache.org/licenses/LICENSE-2.0\n+\n+    This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+    either express or implied, as more fully set forth in the License.\n+\n+    See the NOTICE file distributed with this work for information regarding copyright ownership.\n+\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+    <groupId>org.alluxio</groupId>\n+    <artifactId>alluxio-shaded</artifactId>\n+    <version>2.5.0-SNAPSHOT</version>\n+  </parent>\n+  <artifactId>alluxio-shaded-ozone</artifactId>\n+  <packaging>jar</packaging>\n+  <name>Alluxio Shaded Libraries - Ozone</name>\n+  <version>${ufs.ozone.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDE5NTUy", "url": "https://github.com/Alluxio/alluxio/pull/12371#pullrequestreview-515419552", "createdAt": "2020-10-23T07:44:30Z", "commit": {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0NDozMFrOHnCajQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNzo0NDozMFrOHnCajQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDY5NjA3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  <version>${ufs.ozone.version}</version>\n          \n          \n            \n                  <version>${project.version}</version>", "url": "https://github.com/Alluxio/alluxio/pull/12371#discussion_r510696077", "createdAt": "2020-10-23T07:44:30Z", "author": {"login": "apc999"}, "path": "underfs/ozone/pom.xml", "diffHunk": "@@ -25,17 +25,15 @@\n     <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n     <!-- run properly from sub-project directories -->\n     <build.path>${project.parent.parent.basedir}/build</build.path>\n+    <ufs.ozone.version>1.0.0</ufs.ozone.version>\n   </properties>\n \n   <dependencies>\n     <!-- External dependencies -->\n     <dependency>\n-      <groupId>org.apache.hadoop</groupId>\n-      <artifactId>hadoop-ozone-client</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.apache.hadoop</groupId>\n-      <artifactId>hadoop-ozone-filesystem</artifactId>\n+      <groupId>org.alluxio</groupId>\n+      <artifactId>alluxio-shaded-ozone</artifactId>\n+      <version>${ufs.ozone.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8dd57d85331f0ac857f4825db96d89861b457f45"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/f2177a83079b6b87b70e7f9f26481170041ec48b", "committedDate": "2020-10-23T07:53:42Z", "message": "Replace Ozone shaded version to project version."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63530f8350fe3e1130b124b49588e5179ae1292c", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/63530f8350fe3e1130b124b49588e5179ae1292c", "committedDate": "2020-10-23T07:47:31Z", "message": "Replace Ozone shaded version to project version."}, "afterCommit": {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/f2177a83079b6b87b70e7f9f26481170041ec48b", "committedDate": "2020-10-23T07:53:42Z", "message": "Replace Ozone shaded version to project version."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDMwNzg1", "url": "https://github.com/Alluxio/alluxio/pull/12371#pullrequestreview-515430785", "createdAt": "2020-10-23T08:00:43Z", "commit": {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1ODc2NDc4", "url": "https://github.com/Alluxio/alluxio/pull/12371#pullrequestreview-515876478", "createdAt": "2020-10-23T17:41:45Z", "commit": {"oid": "f2177a83079b6b87b70e7f9f26481170041ec48b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3478, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}