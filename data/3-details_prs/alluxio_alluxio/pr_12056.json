{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2ODAzODM1", "number": 12056, "title": "Remove the catalyst dependencies in backup transport", "bodyText": "", "createdAt": "2020-09-01T04:42:07Z", "url": "https://github.com/Alluxio/alluxio/pull/12056", "merged": true, "mergeCommit": {"oid": "146842203cf9c604331cf5a02b41b0383a5f3c8b"}, "closed": true, "closedAt": "2020-09-02T18:17:04Z", "author": {"login": "LuQQiu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEZMMugH2gAyNDc2ODAzODM1OjdlNWVhNzA3ZGFlNmNjYmY2MTRhODhmYjhkZWFkMDRmODRlYmJlNDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFACwYAFqTQ4MTEzMjI4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e5ea707dae6ccbf614a88fb8dead04f84ebbe47", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/7e5ea707dae6ccbf614a88fb8dead04f84ebbe47", "committedDate": "2020-08-31T20:53:53Z", "message": "Remove catalyst connection, client, server, address, assert"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "590a3246c6d2e7ecfa2c5ce57a5d05fe3e864163", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/590a3246c6d2e7ecfa2c5ce57a5d05fe3e864163", "committedDate": "2020-08-31T22:24:15Z", "message": "Remove threadContext"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29296ea7259ca98e5809a0f6c03380d5b9bc7cd8", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/29296ea7259ca98e5809a0f6c03380d5b9bc7cd8", "committedDate": "2020-08-31T23:30:35Z", "message": "Remove listener, listeners"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40c9d824f283148efc2617d12544e6cb64face2e", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/40c9d824f283148efc2617d12544e6cb64face2e", "committedDate": "2020-09-01T04:41:13Z", "message": "add back SerializationException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85f35a0b51c2bf9c76c1c019b07a61a30171ca47", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/85f35a0b51c2bf9c76c1c019b07a61a30171ca47", "committedDate": "2020-09-01T05:52:44Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dfe7a2f38ecccb0927ab7221b90a129e192c018", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/7dfe7a2f38ecccb0927ab7221b90a129e192c018", "committedDate": "2020-09-01T18:04:49Z", "message": "SmallFix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41ebd07b6c4f96155164320d30bcb2159487268c", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/41ebd07b6c4f96155164320d30bcb2159487268c", "committedDate": "2020-09-01T18:51:58Z", "message": "Update code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTgwMTAy", "url": "https://github.com/Alluxio/alluxio/pull/12056#pullrequestreview-480180102", "createdAt": "2020-09-01T23:19:21Z", "commit": {"oid": "41ebd07b6c4f96155164320d30bcb2159487268c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzoxOToyMlrOHLLdfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMzoyNjozNVrOHLLmpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ4NDE1OQ==", "bodyText": "Is there any Java built-in or guava alternative of this listener we can use?", "url": "https://github.com/Alluxio/alluxio/pull/12056#discussion_r481484159", "createdAt": "2020-09-01T23:19:22Z", "author": {"login": "bf8086"}, "path": "core/server/common/src/main/java/alluxio/master/transport/Listeners.java", "diffHunk": "@@ -0,0 +1,122 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.master.transport;\n+\n+import com.google.common.base.Preconditions;\n+\n+import java.util.ArrayList;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.CopyOnWriteArrayList;\n+import java.util.concurrent.RejectedExecutionException;\n+import java.util.function.Consumer;\n+\n+/**\n+ * A class to hold all listeners belong to given type T.\n+ *\n+ * @param <T> the listener type\n+ */\n+public class Listeners<T> implements Iterable<Listener<T>> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41ebd07b6c4f96155164320d30bcb2159487268c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ4NjUwMQ==", "bodyText": "Is this class needed? Will there be any problem running everything without this context?", "url": "https://github.com/Alluxio/alluxio/pull/12056#discussion_r481486501", "createdAt": "2020-09-01T23:26:35Z", "author": {"login": "bf8086"}, "path": "core/server/common/src/main/java/alluxio/master/transport/GrpcMessagingContext.java", "diffHunk": "@@ -0,0 +1,233 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.master.transport;\n+\n+import com.google.common.base.Preconditions;\n+import io.atomix.catalyst.serializer.Serializer;\n+import org.apache.http.concurrent.Cancellable;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.time.Duration;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.Executor;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.RejectedExecutionException;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.ScheduledThreadPoolExecutor;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicReference;\n+import java.util.function.Supplier;\n+\n+/**\n+ * The context for Grpc messaging single thread.\n+ * This context uses a {@link ScheduledExecutorService} to schedule events on the context thread.\n+ */\n+public class GrpcMessagingContext {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41ebd07b6c4f96155164320d30bcb2159487268c"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTMyMjg2", "url": "https://github.com/Alluxio/alluxio/pull/12056#pullrequestreview-481132286", "createdAt": "2020-09-02T18:09:52Z", "commit": {"oid": "41ebd07b6c4f96155164320d30bcb2159487268c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3645, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}