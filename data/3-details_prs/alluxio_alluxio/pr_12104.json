{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NzUzMjUy", "number": 12104, "title": "Support dynamic user to run alluxio", "bodyText": "The issue is that alluxio docker image only supports two users: alluxio and root, but in the customer env, they have more users and the data of each user are isolated. So we need to make alluxio docker image can support run container by specifying during running time.\nThis feature by default is disabled.", "createdAt": "2020-09-12T05:09:23Z", "url": "https://github.com/Alluxio/alluxio/pull/12104", "merged": true, "mergeCommit": {"oid": "56533bc928f90bd96fa032c170b6e528182e65cb"}, "closed": true, "closedAt": "2020-09-13T06:26:29Z", "author": {"login": "cheyang"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIC2JdgH2gAyNDg1NzUzMjUyOmZhOGU4ZDdkZThjNDZlNTM5ZTQwZGE2MjI4NmNhZGEzNTc5YWY0Zjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIYki0AFqTQ4NzI3ODg4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7", "author": {"user": {"login": "cheyang", "name": "cheyang"}}, "url": "https://github.com/Alluxio/alluxio/commit/fa8e8d7de8c46e539e40da62286cada3579af4f7", "committedDate": "2020-09-12T05:07:35Z", "message": "Support dynamic user to run alluxio"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjEyNTQw", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487212540", "createdAt": "2020-09-12T07:46:02Z", "commit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjM1OTQx", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487235941", "createdAt": "2020-09-12T15:14:30Z", "commit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxNToxNDozMFrOHQ1tKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxNToxNDozMFrOHQ1tKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQxOTE3Nw==", "bodyText": "@apc999 I'm concerned about the security implications. If we really have to give a 777 permission, I think at least there should be warnings in the printout and code comments saying that's high security risk.", "url": "https://github.com/Alluxio/alluxio/pull/12104#discussion_r487419177", "createdAt": "2020-09-12T15:14:30Z", "author": {"login": "jiacheliu3"}, "path": "integration/docker/Dockerfile", "diffHunk": "@@ -26,11 +27,16 @@ RUN cd /opt && \\\n     (if ls | grep -q \".tar.gz\"; then tar -xzf *.tar.gz && rm *.tar.gz; fi) && \\\n     ln -s alluxio-* alluxio\n \n+RUN if [ ${ENABLE_DYANMIC_USER} = \"true\" ] ; then \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjM2MDg1", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487236085", "createdAt": "2020-09-12T15:16:53Z", "commit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjY0MzYw", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487264360", "createdAt": "2020-09-13T00:16:14Z", "commit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xM1QwMDoxNjoxNFrOHQ4Wgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xM1QwMDoxNjoxNFrOHQ4Wgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQ2MjUzMA==", "bodyText": "The journal is only accessed by Alluxio servers. Is there a case for running server containers not as root or Alluxio? Or is the requirement only for Alluxio client containers which can be a larger set of users?", "url": "https://github.com/Alluxio/alluxio/pull/12104#discussion_r487462530", "createdAt": "2020-09-13T00:16:14Z", "author": {"login": "madanadit"}, "path": "integration/docker/Dockerfile", "diffHunk": "@@ -61,6 +67,10 @@ COPY --chown=${ALLUXIO_USERNAME}:${ALLUXIO_GROUP} --from=extractor /opt/ /opt/\n COPY --chown=${ALLUXIO_USERNAME}:${ALLUXIO_GROUP} conf /opt/alluxio/conf/\n COPY --chown=${ALLUXIO_USERNAME}:${ALLUXIO_GROUP} entrypoint.sh /\n \n+RUN if [ ${ENABLE_DYANMIC_USER} = \"true\" ] ; then \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa8e8d7de8c46e539e40da62286cada3579af4f7"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ef00121c9cda6031a273c1a4e4fa804ee90cf36", "author": {"user": {"login": "cheyang", "name": "cheyang"}}, "url": "https://github.com/Alluxio/alluxio/commit/0ef00121c9cda6031a273c1a4e4fa804ee90cf36", "committedDate": "2020-09-13T04:14:02Z", "message": "add warning"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Mjc2MzI5", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487276329", "createdAt": "2020-09-13T05:34:11Z", "commit": {"oid": "0ef00121c9cda6031a273c1a4e4fa804ee90cf36"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Mjc4ODg3", "url": "https://github.com/Alluxio/alluxio/pull/12104#pullrequestreview-487278887", "createdAt": "2020-09-13T06:26:16Z", "commit": {"oid": "0ef00121c9cda6031a273c1a4e4fa804ee90cf36"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3581, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}