{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMTEwODI5", "number": 12200, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxODo0Njo0MFrOErvtuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxODo0Njo0MFrOErvtuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MzA1OTc5OnYy", "diffSide": "RIGHT", "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxODo0Njo0MFrOHer6XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwMToxMTozMVrOHe2pWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzODc4MQ==", "bodyText": "@gpang Looks like they change from printing only the message to print all the stack trace in logger.warn.\nCan you help confirm that @HelloHorizon?\nMaybe we need to change other warn loggings in the whole system as well.", "url": "https://github.com/Alluxio/alluxio/pull/12200#discussion_r501938781", "createdAt": "2020-10-08T18:46:40Z", "author": {"login": "LuQQiu"}, "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "diffHunk": "@@ -119,7 +119,7 @@ private RpcUtils() {} // prevent instantiation\n         MetricsSystem.counter(getQualifiedFailureMetricName(methodName)).inc();\n         if (!logger.isDebugEnabled()) {\n           logger.warn(\"Exit (Error): {}: {}, Error={}\", methodName,\n-              String.format(description, args), e);\n+              String.format(description, args), e.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5c774b9e8673ef9403b67a937e52dacb93333ab"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk0ODk2OQ==", "bodyText": "@LuQQiu They print the stack trace in 2.x as follows:\nwarn(CharSequence\u00a0message,\u00a0Throwable\u00a0t)\n         Logs a CharSequence at the\u00a0WARN\u00a0level including the stack trace of the\u00a0Throwable\u00a0t\u00a0passed as parameter.`\n\nAnd for 1.x as follows:\nwarn(Object message, Throwable t)\n          Log a message with the WARN level including the stack trace of the Throwable t passed as parameter.\n\nBoth of them throw the stack trace?", "url": "https://github.com/Alluxio/alluxio/pull/12200#discussion_r501948969", "createdAt": "2020-10-08T19:04:21Z", "author": {"login": "HelloHorizon"}, "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "diffHunk": "@@ -119,7 +119,7 @@ private RpcUtils() {} // prevent instantiation\n         MetricsSystem.counter(getQualifiedFailureMetricName(methodName)).inc();\n         if (!logger.isDebugEnabled()) {\n           logger.warn(\"Exit (Error): {}: {}, Error={}\", methodName,\n-              String.format(description, args), e);\n+              String.format(description, args), e.getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzODc4MQ=="}, "originalCommit": {"oid": "e5c774b9e8673ef9403b67a937e52dacb93333ab"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjAyNjU3Mw==", "bodyText": "In the logs themselves, do the stacks shows up for both versions?", "url": "https://github.com/Alluxio/alluxio/pull/12200#discussion_r502026573", "createdAt": "2020-10-08T21:36:20Z", "author": {"login": "gpang"}, "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "diffHunk": "@@ -119,7 +119,7 @@ private RpcUtils() {} // prevent instantiation\n         MetricsSystem.counter(getQualifiedFailureMetricName(methodName)).inc();\n         if (!logger.isDebugEnabled()) {\n           logger.warn(\"Exit (Error): {}: {}, Error={}\", methodName,\n-              String.format(description, args), e);\n+              String.format(description, args), e.getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzODc4MQ=="}, "originalCommit": {"oid": "e5c774b9e8673ef9403b67a937e52dacb93333ab"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjA0OTc0MQ==", "bodyText": "The stacks are not showing up in the previous version but for the latest version.", "url": "https://github.com/Alluxio/alluxio/pull/12200#discussion_r502049741", "createdAt": "2020-10-08T22:35:38Z", "author": {"login": "HelloHorizon"}, "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "diffHunk": "@@ -119,7 +119,7 @@ private RpcUtils() {} // prevent instantiation\n         MetricsSystem.counter(getQualifiedFailureMetricName(methodName)).inc();\n         if (!logger.isDebugEnabled()) {\n           logger.warn(\"Exit (Error): {}: {}, Error={}\", methodName,\n-              String.format(description, args), e);\n+              String.format(description, args), e.getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzODc4MQ=="}, "originalCommit": {"oid": "e5c774b9e8673ef9403b67a937e52dacb93333ab"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjExNDY0OQ==", "bodyText": "@gpang - based on the comment from @HelloHorizon , this should be good to go - please confirm.", "url": "https://github.com/Alluxio/alluxio/pull/12200#discussion_r502114649", "createdAt": "2020-10-09T01:11:31Z", "author": {"login": "rastogiasr"}, "path": "core/server/common/src/main/java/alluxio/RpcUtils.java", "diffHunk": "@@ -119,7 +119,7 @@ private RpcUtils() {} // prevent instantiation\n         MetricsSystem.counter(getQualifiedFailureMetricName(methodName)).inc();\n         if (!logger.isDebugEnabled()) {\n           logger.warn(\"Exit (Error): {}: {}, Error={}\", methodName,\n-              String.format(description, args), e);\n+              String.format(description, args), e.getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzODc4MQ=="}, "originalCommit": {"oid": "e5c774b9e8673ef9403b67a937e52dacb93333ab"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1229, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}