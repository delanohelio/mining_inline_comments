{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMTU3ODY0", "number": 10704, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozMTo0NFrODWaLjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozNDoxMVrODWaM7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0ODI0MjA2OnYy", "diffSide": "RIGHT", "path": "shell/src/main/java/alluxio/cli/fs/command/DistributedLoadCommand.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozMTo0NFrOFbJ1LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozMTo0NFrOFbJ1LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAxNjk0MA==", "bodyText": "Print number of retries?", "url": "https://github.com/Alluxio/alluxio/pull/10704#discussion_r364016940", "createdAt": "2020-01-08T00:31:44Z", "author": {"login": "calvinjia"}, "path": "shell/src/main/java/alluxio/cli/fs/command/DistributedLoadCommand.java", "diffHunk": "@@ -89,7 +88,8 @@ private boolean run() {\n         }\n         return true;\n       }\n-      LOG.warn(\"Failed to complete job after retries: {}\", mJobConfig);\n+      System.out.println(String.format(\"Failed to complete loading %s after retries.\",\n+          mJobConfig.getFilePath()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16b8151bcc4e9ed76a40ef9da5c108e806db8806"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0ODI0NTU2OnYy", "diffSide": "RIGHT", "path": "shell/src/main/java/alluxio/cli/fs/command/DistributedLoadCommand.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozNDoxMVrOFbJ3XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwMDozNDoxMVrOFbJ3XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDAxNzUwMQ==", "bodyText": "Perhaps word this a bit differently, Successfully loaded path %s after %d attempts? Also, is it possible for this to become spammy if a large number of files is to be loaded?", "url": "https://github.com/Alluxio/alluxio/pull/10704#discussion_r364017501", "createdAt": "2020-01-08T00:34:11Z", "author": {"login": "calvinjia"}, "path": "shell/src/main/java/alluxio/cli/fs/command/DistributedLoadCommand.java", "diffHunk": "@@ -111,7 +111,27 @@ private Status check() {\n         return Status.FAILED;\n       }\n \n-      return jobInfo.getStatus();\n+      // This make an assumption that this job tree only goes 1 level deep\n+      boolean finished = true;\n+      for (JobInfo child : jobInfo.getChildren()) {\n+        if (!child.getStatus().isFinished()) {\n+          finished = false;\n+          break;\n+        }\n+      }\n+\n+      if (finished) {\n+        if (jobInfo.getStatus().equals(Status.FAILED)) {\n+          System.out.println(String.format(\"Attempt %s to load %s failed because: %s\",\n+              mRetryPolicy.getAttemptCount(), mJobConfig.getFilePath(),\n+              jobInfo.getErrorMessage()));\n+        } else if (jobInfo.getStatus().equals(Status.COMPLETED)) {\n+          System.out.println(String.format(\"Attempt %s to load %s completed\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16b8151bcc4e9ed76a40ef9da5c108e806db8806"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2194, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}