{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Njg5OTIy", "number": 11348, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo1MzoyOVrOD16TGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzoyODoyNVrOD1_kxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODU2MjgwOnYy", "diffSide": "RIGHT", "path": "docs/en/operation/Metrics-System.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo1MzoyOVrOGLk9TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMTo0NjoxOFrOGLqYMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5MzAzNw==", "bodyText": "a HTTP request to the /metrics/prometheus/ endpoint of the Alluxio leading master or workers", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r414793037", "createdAt": "2020-04-24T18:53:29Z", "author": {"login": "Xenorith"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,43 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:\n+\n+```\n+# Enable PrometheusMetricsServlet\n+sink.prometheus.class=alluxio.metrics.sink.PrometheusMetricsServlet\n+```\n+\n+You can send an HTTP request to `/metrics/prometheus/` of the Alluxio leading master or workers to get a snapshot of metrics in Prometheus format. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "970652e16e0830e3a4df2f321efcf8c051312e39"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg4MTg0Mw==", "bodyText": "Got it! thanks", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r414881843", "createdAt": "2020-04-24T21:46:18Z", "author": {"login": "LuQQiu"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,43 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:\n+\n+```\n+# Enable PrometheusMetricsServlet\n+sink.prometheus.class=alluxio.metrics.sink.PrometheusMetricsServlet\n+```\n+\n+You can send an HTTP request to `/metrics/prometheus/` of the Alluxio leading master or workers to get a snapshot of metrics in Prometheus format. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5MzAzNw=="}, "originalCommit": {"oid": "970652e16e0830e3a4df2f321efcf8c051312e39"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3ODU3MzgyOnYy", "diffSide": "RIGHT", "path": "docs/en/operation/Metrics-System.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo1NjoyM1rOGLlDzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMTo0NjowN1rOGLqXzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5NDcwMQ==", "bodyText": "does the server need to be restarted after setting this property for it to work?", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r414794701", "createdAt": "2020-04-24T18:56:23Z", "author": {"login": "Xenorith"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,43 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "970652e16e0830e3a4df2f321efcf8c051312e39"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg4MTc0MQ==", "bodyText": "Added the distributed and server restarted part.", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r414881741", "createdAt": "2020-04-24T21:46:07Z", "author": {"login": "LuQQiu"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,43 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc5NDcwMQ=="}, "originalCommit": {"oid": "970652e16e0830e3a4df2f321efcf8c051312e39"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTQyNzI3OnYy", "diffSide": "RIGHT", "path": "docs/en/operation/Metrics-System.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMzoyODoyNVrOGLsiEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQxOTozNToxNlrOGL5cfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxNzEzOQ==", "bodyText": "to activate the new configuration changes", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r414917139", "createdAt": "2020-04-24T23:28:25Z", "author": {"login": "Xenorith"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,46 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:\n+\n+```\n+# Enable PrometheusMetricsServlet\n+sink.prometheus.class=alluxio.metrics.sink.PrometheusMetricsServlet\n+```\n+\n+If Alluxio is deployed in a cluster, this file needs to be distributed to all the nodes.\n+Restart the Alluxio servers to active new configuration changes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab1c3527b509600443372d789e2dab4663bf474b"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTEyODcwMw==", "bodyText": "oh jeez the incorrect wording was in more than one place.... >.<", "url": "https://github.com/Alluxio/alluxio/pull/11348#discussion_r415128703", "createdAt": "2020-04-25T19:35:16Z", "author": {"login": "Xenorith"}, "path": "docs/en/operation/Metrics-System.md", "diffHunk": "@@ -96,6 +97,46 @@ The filename will correspond with the metric name.\n \n Refer to `metrics.properties.template` for all possible sink specific configurations. \n \n+### Prometheus Sink Setup\n+\n+[Prometheus](https://prometheus.io/) is a monitoring tool that can help monitoring Alluxio metrics changes.\n+\n+In the metrics property file, `$ALLUXIO_HOME/conf/metrics.properties` by default, add the following properties:\n+\n+```\n+# Enable PrometheusMetricsServlet\n+sink.prometheus.class=alluxio.metrics.sink.PrometheusMetricsServlet\n+```\n+\n+If Alluxio is deployed in a cluster, this file needs to be distributed to all the nodes.\n+Restart the Alluxio servers to active new configuration changes.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkxNzEzOQ=="}, "originalCommit": {"oid": "ab1c3527b509600443372d789e2dab4663bf474b"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1674, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}