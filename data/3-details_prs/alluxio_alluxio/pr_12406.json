{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNDgyNDA1", "number": 12406, "title": "Support specific version of hadoop by generate-tarball", "bodyText": "Fix #12405", "createdAt": "2020-10-28T11:40:03Z", "url": "https://github.com/Alluxio/alluxio/pull/12406", "merged": true, "mergeCommit": {"oid": "5cc248acd213302af4eac068160f80f294d7d70d"}, "closed": true, "closedAt": "2020-10-30T18:11:38Z", "author": {"login": "maobaolong"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW8A3SgH2gAyNTExNDgyNDA1OmVlMzcxZWI0YjdlMmNhNzNjNGVhN2ZlMjdlYzZjZWMyNjA4M2M2M2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXqyRagFqTUyMDkxOTgxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ee371eb4b7e2ca73c4ea7fe27ec6cec26083c63d", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/ee371eb4b7e2ca73c4ea7fe27ec6cec26083c63d", "committedDate": "2020-10-28T11:38:49Z", "message": "Support specific version of hadoop by generate-tarball"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTU2Mjg4", "url": "https://github.com/Alluxio/alluxio/pull/12406#pullrequestreview-518956288", "createdAt": "2020-10-28T18:13:51Z", "commit": {"oid": "ee371eb4b7e2ca73c4ea7fe27ec6cec26083c63d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODoxMzo1MVrOHp3eEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxODoxMzo1MVrOHp3eEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY2MjQ4MA==", "bodyText": "update this line to fmt.Printf to log the message, otherwise it will not be displayed anywhere", "url": "https://github.com/Alluxio/alluxio/pull/12406#discussion_r513662480", "createdAt": "2020-10-28T18:13:51Z", "author": {"login": "Xenorith"}, "path": "dev/scripts/src/alluxio.org/build-distribution/cmd/generate-tarball.go", "diffHunk": "@@ -229,10 +229,11 @@ func addAdditionalFiles(srcPath, dstPath string, hadoopVersion version, version\n }\n \n func generateTarball(hadoopClients []string, skipUI bool, skipHelm bool) error {\n-\thadoopVersion, ok := hadoopDistributions[hadoopDistributionFlag]\n-\tif !ok {\n-\t\treturn fmt.Errorf(\"hadoop distribution %s not recognized\\n\", hadoopDistributionFlag)\n-\t}\n+    hadoopVersion, ok := hadoopDistributions[hadoopDistributionFlag]\n+    if !ok {\n+\t\thadoopVersion = parseVersion(hadoopDistributionFlag)\n+ \t\tfmt.Errorf(\"hadoop distribution %s not recognized, change to %s\\n\", hadoopDistributionFlag, hadoopVersion)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee371eb4b7e2ca73c4ea7fe27ec6cec26083c63d"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98e9227e448111af1938460d521207da2a8f5f88", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/98e9227e448111af1938460d521207da2a8f5f88", "committedDate": "2020-10-29T05:27:32Z", "message": "Fix print level and fix style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MzU3NDIy", "url": "https://github.com/Alluxio/alluxio/pull/12406#pullrequestreview-519357422", "createdAt": "2020-10-29T06:14:19Z", "commit": {"oid": "98e9227e448111af1938460d521207da2a8f5f88"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwOTE5ODEz", "url": "https://github.com/Alluxio/alluxio/pull/12406#pullrequestreview-520919813", "createdAt": "2020-10-30T18:08:25Z", "commit": {"oid": "98e9227e448111af1938460d521207da2a8f5f88"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3501, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}