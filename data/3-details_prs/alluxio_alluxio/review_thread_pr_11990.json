{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MTE4MTA1", "number": 11990, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDozOToyMFrOEYnEog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwMDoxNTo1MlrOEYpcjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MjQxNDQyOnYy", "diffSide": "RIGHT", "path": "table/server/underdb/glue/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDozOToyMFrOHBCsPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMDozOToyMFrOHBCsPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDg1NDcxNw==", "bodyText": "this is the main part of the change. the rest of the file was wrongly indented", "url": "https://github.com/Alluxio/alluxio/pull/11990#discussion_r470854717", "createdAt": "2020-08-14T20:39:20Z", "author": {"login": "yuzhu"}, "path": "table/server/underdb/glue/pom.xml", "diffHunk": "@@ -77,5 +77,38 @@\n         </dependency>\n     </dependencies>\n \n-\n+  <profiles>\n+    <profile>\n+      <id>java11</id>\n+      <activation>\n+        <jdk>11</jdk>\n+      </activation>\n+      <dependencies>\n+        <dependency>\n+          <groupId>org.apache.hive</groupId>\n+          <artifactId>hive-metastore</artifactId>\n+          <version>${hive-metastore.version}</version>\n+          <scope>compile</scope>\n+          <exclusions>\n+            <exclusion>\n+              <groupId>org.apache.logging.log4j</groupId>\n+              <artifactId>log4j-1.2-api</artifactId>\n+            </exclusion>\n+            <exclusion>\n+              <groupId>org.apache.logging.log4j</groupId>\n+              <artifactId>log4j-slf4j-impl</artifactId>\n+            </exclusion>\n+            <exclusion>\n+              <groupId>com.google.protobuf</groupId>\n+              <artifactId>protobuf-java</artifactId>\n+            </exclusion>\n+            <exclusion>\n+              <groupId>jdk.tools</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d5ada5c8cab0b4fba103167e0448e6042300b18"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0Mjc3NTc3OnYy", "diffSide": "LEFT", "path": "table/server/underdb/glue/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQyMzo1MjowOFrOHBF90A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwMDoxNzozMFrOHBGOVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkwODM2OA==", "bodyText": "do we not need to exclude this any more?", "url": "https://github.com/Alluxio/alluxio/pull/11990#discussion_r470908368", "createdAt": "2020-08-14T23:52:08Z", "author": {"login": "ZacBlanco"}, "path": "table/server/underdb/glue/pom.xml", "diffHunk": "@@ -13,69 +13,98 @@\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n-    <parent>\n-        <artifactId>alluxio-table-server-underdb</artifactId>\n-        <groupId>org.alluxio</groupId>\n-        <version>2.4.0-SNAPSHOT</version>\n-    </parent>\n-    <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+      <artifactId>alluxio-table-server-underdb</artifactId>\n+      <groupId>org.alluxio</groupId>\n+      <version>2.4.0-SNAPSHOT</version>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n \n-    <artifactId>alluxio-table-server-underdb-glue</artifactId>\n-    <packaging>jar</packaging>\n-    <name>Alluxio Table - Server - UnderDB - Glue</name>\n-    <description>Alluxio table underDB implementation for aws glue</description>\n+  <artifactId>alluxio-table-server-underdb-glue</artifactId>\n+  <packaging>jar</packaging>\n+  <name>Alluxio Table - Server - UnderDB - Glue</name>\n+  <description>Alluxio table underDB implementation for aws glue</description>\n \n-    <properties>\n-        <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n-        <!-- run properly from sub-project directories -->\n-        <build.path>${project.parent.parent.parent.parent.basedir}/build</build.path>\n-        <glue.version>1.11.820</glue.version>\n-        <aws.java.jdk.version>1.11.820</aws.java.jdk.version>\n-        <hive-metastore.version>2.3.7</hive-metastore.version>\n-    </properties>\n+  <properties>\n+      <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n+      <!-- run properly from sub-project directories -->\n+      <build.path>${project.parent.parent.parent.parent.basedir}/build</build.path>\n+      <glue.version>1.11.820</glue.version>\n+      <aws.java.jdk.version>1.11.820</aws.java.jdk.version>\n+      <hive-metastore.version>2.3.7</hive-metastore.version>\n+  </properties>\n \n-    <dependencies>\n-        <!-- External dependencies -->\n-        <dependency>\n-            <groupId>com.amazonaws</groupId>\n-            <artifactId>aws-java-sdk-glue</artifactId>\n-            <version>${glue.version}</version>\n-        </dependency>\n+  <dependencies>\n+      <!-- External dependencies -->\n+      <dependency>\n+          <groupId>com.amazonaws</groupId>\n+          <artifactId>aws-java-sdk-glue</artifactId>\n+          <version>${glue.version}</version>\n+      </dependency>\n \n-        <dependency>\n-            <groupId>com.amazonaws</groupId>\n-            <artifactId>aws-java-sdk-core</artifactId>\n-            <version>${aws.java.jdk.version}</version>\n-        </dependency>\n+      <dependency>\n+          <groupId>com.amazonaws</groupId>\n+          <artifactId>aws-java-sdk-core</artifactId>\n+          <version>${aws.java.jdk.version}</version>\n+      </dependency>\n \n-        <!--aws sdk requires jaxb binding at runtime-->\n-        <dependency>\n-            <groupId>com.sun.xml.bind</groupId>\n-            <artifactId>jaxb-impl</artifactId>\n-            <scope>runtime</scope>\n-        </dependency>\n+      <!--aws sdk requires jaxb binding at runtime-->\n+      <dependency>\n+          <groupId>com.sun.xml.bind</groupId>\n+          <artifactId>jaxb-impl</artifactId>\n+          <scope>runtime</scope>\n+      </dependency>\n+\n+      <dependency>\n+          <groupId>org.apache.hive</groupId>\n+          <artifactId>hive-common</artifactId>\n+          <version>${hive-metastore.version}</version>\n+          <scope>compile</scope>\n+          <exclusions>\n+              <exclusion>\n+                  <groupId>org.apache.logging.log4j</groupId>\n+                  <artifactId>log4j-1.2-api</artifactId>\n+              </exclusion>\n+              <exclusion>\n+                  <groupId>org.apache.logging.log4j</groupId>\n+                  <artifactId>log4j-slf4j-impl</artifactId>\n+              </exclusion>\n+              <exclusion>\n+                  <groupId>com.google.protobuf</groupId>\n+                  <artifactId>protobuf-java</artifactId>\n+              </exclusion>\n+          </exclusions>\n+      </dependency>\n+  </dependencies>\n \n+  <profiles>\n+    <profile>\n+      <id>java11</id>\n+      <activation>\n+        <jdk>11</jdk>\n+      </activation>\n+      <dependencies>\n         <dependency>\n-            <groupId>org.apache.hive</groupId>\n-            <artifactId>hive-common</artifactId>\n-            <version>${hive-metastore.version}</version>\n-            <scope>compile</scope>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>org.apache.logging.log4j</groupId>\n-                    <artifactId>log4j-1.2-api</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>org.apache.logging.log4j</groupId>\n-                    <artifactId>log4j-slf4j-impl</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>com.google.protobuf</groupId>\n-                    <artifactId>protobuf-java</artifactId>\n-                </exclusion>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b7a571af720548f9d02f2f97c31978e7b624d30"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkxMjU5OA==", "bodyText": "fixed, keeping the files consistent", "url": "https://github.com/Alluxio/alluxio/pull/11990#discussion_r470912598", "createdAt": "2020-08-15T00:17:30Z", "author": {"login": "yuzhu"}, "path": "table/server/underdb/glue/pom.xml", "diffHunk": "@@ -13,69 +13,98 @@\n <project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n-    <parent>\n-        <artifactId>alluxio-table-server-underdb</artifactId>\n-        <groupId>org.alluxio</groupId>\n-        <version>2.4.0-SNAPSHOT</version>\n-    </parent>\n-    <modelVersion>4.0.0</modelVersion>\n+  <parent>\n+      <artifactId>alluxio-table-server-underdb</artifactId>\n+      <groupId>org.alluxio</groupId>\n+      <version>2.4.0-SNAPSHOT</version>\n+  </parent>\n+  <modelVersion>4.0.0</modelVersion>\n \n-    <artifactId>alluxio-table-server-underdb-glue</artifactId>\n-    <packaging>jar</packaging>\n-    <name>Alluxio Table - Server - UnderDB - Glue</name>\n-    <description>Alluxio table underDB implementation for aws glue</description>\n+  <artifactId>alluxio-table-server-underdb-glue</artifactId>\n+  <packaging>jar</packaging>\n+  <name>Alluxio Table - Server - UnderDB - Glue</name>\n+  <description>Alluxio table underDB implementation for aws glue</description>\n \n-    <properties>\n-        <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n-        <!-- run properly from sub-project directories -->\n-        <build.path>${project.parent.parent.parent.parent.basedir}/build</build.path>\n-        <glue.version>1.11.820</glue.version>\n-        <aws.java.jdk.version>1.11.820</aws.java.jdk.version>\n-        <hive-metastore.version>2.3.7</hive-metastore.version>\n-    </properties>\n+  <properties>\n+      <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n+      <!-- run properly from sub-project directories -->\n+      <build.path>${project.parent.parent.parent.parent.basedir}/build</build.path>\n+      <glue.version>1.11.820</glue.version>\n+      <aws.java.jdk.version>1.11.820</aws.java.jdk.version>\n+      <hive-metastore.version>2.3.7</hive-metastore.version>\n+  </properties>\n \n-    <dependencies>\n-        <!-- External dependencies -->\n-        <dependency>\n-            <groupId>com.amazonaws</groupId>\n-            <artifactId>aws-java-sdk-glue</artifactId>\n-            <version>${glue.version}</version>\n-        </dependency>\n+  <dependencies>\n+      <!-- External dependencies -->\n+      <dependency>\n+          <groupId>com.amazonaws</groupId>\n+          <artifactId>aws-java-sdk-glue</artifactId>\n+          <version>${glue.version}</version>\n+      </dependency>\n \n-        <dependency>\n-            <groupId>com.amazonaws</groupId>\n-            <artifactId>aws-java-sdk-core</artifactId>\n-            <version>${aws.java.jdk.version}</version>\n-        </dependency>\n+      <dependency>\n+          <groupId>com.amazonaws</groupId>\n+          <artifactId>aws-java-sdk-core</artifactId>\n+          <version>${aws.java.jdk.version}</version>\n+      </dependency>\n \n-        <!--aws sdk requires jaxb binding at runtime-->\n-        <dependency>\n-            <groupId>com.sun.xml.bind</groupId>\n-            <artifactId>jaxb-impl</artifactId>\n-            <scope>runtime</scope>\n-        </dependency>\n+      <!--aws sdk requires jaxb binding at runtime-->\n+      <dependency>\n+          <groupId>com.sun.xml.bind</groupId>\n+          <artifactId>jaxb-impl</artifactId>\n+          <scope>runtime</scope>\n+      </dependency>\n+\n+      <dependency>\n+          <groupId>org.apache.hive</groupId>\n+          <artifactId>hive-common</artifactId>\n+          <version>${hive-metastore.version}</version>\n+          <scope>compile</scope>\n+          <exclusions>\n+              <exclusion>\n+                  <groupId>org.apache.logging.log4j</groupId>\n+                  <artifactId>log4j-1.2-api</artifactId>\n+              </exclusion>\n+              <exclusion>\n+                  <groupId>org.apache.logging.log4j</groupId>\n+                  <artifactId>log4j-slf4j-impl</artifactId>\n+              </exclusion>\n+              <exclusion>\n+                  <groupId>com.google.protobuf</groupId>\n+                  <artifactId>protobuf-java</artifactId>\n+              </exclusion>\n+          </exclusions>\n+      </dependency>\n+  </dependencies>\n \n+  <profiles>\n+    <profile>\n+      <id>java11</id>\n+      <activation>\n+        <jdk>11</jdk>\n+      </activation>\n+      <dependencies>\n         <dependency>\n-            <groupId>org.apache.hive</groupId>\n-            <artifactId>hive-common</artifactId>\n-            <version>${hive-metastore.version}</version>\n-            <scope>compile</scope>\n-            <exclusions>\n-                <exclusion>\n-                    <groupId>org.apache.logging.log4j</groupId>\n-                    <artifactId>log4j-1.2-api</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>org.apache.logging.log4j</groupId>\n-                    <artifactId>log4j-slf4j-impl</artifactId>\n-                </exclusion>\n-                <exclusion>\n-                    <groupId>com.google.protobuf</groupId>\n-                    <artifactId>protobuf-java</artifactId>\n-                </exclusion>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkwODM2OA=="}, "originalCommit": {"oid": "8b7a571af720548f9d02f2f97c31978e7b624d30"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MjgwMzM0OnYy", "diffSide": "RIGHT", "path": "table/server/underdb/hive/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwMDoxNTo1MlrOHBGNXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQwMDoyMjo0NVrOHBGROA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkxMjM0OA==", "bodyText": "is this added now to be consistent with the other dependency? Can we make this a dependency in table/server or table/server/underdb and share it between hive and glue so we don't have to name the exclusions list twice?\nedit: by \"make this a dependency\" I mean the hive-metastore a higher level dependency so we don't need the exclusions multiple places", "url": "https://github.com/Alluxio/alluxio/pull/11990#discussion_r470912348", "createdAt": "2020-08-15T00:15:52Z", "author": {"login": "ZacBlanco"}, "path": "table/server/underdb/hive/pom.xml", "diffHunk": "@@ -151,6 +151,10 @@\n               <groupId>org.apache.logging.log4j</groupId>\n               <artifactId>log4j-slf4j-impl</artifactId>\n             </exclusion>\n+            <exclusion>\n+              <groupId>com.google.protobuf</groupId>\n+              <artifactId>protobuf-java</artifactId>\n+            </exclusion>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edd26524703b1d4e623a6a43356ce943463c1c3a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkxMzMzNg==", "bodyText": "my goal is to soon remove the dependency on hive from glue. i think right now it uses some string manipulation functions from hive....", "url": "https://github.com/Alluxio/alluxio/pull/11990#discussion_r470913336", "createdAt": "2020-08-15T00:22:45Z", "author": {"login": "yuzhu"}, "path": "table/server/underdb/hive/pom.xml", "diffHunk": "@@ -151,6 +151,10 @@\n               <groupId>org.apache.logging.log4j</groupId>\n               <artifactId>log4j-slf4j-impl</artifactId>\n             </exclusion>\n+            <exclusion>\n+              <groupId>com.google.protobuf</groupId>\n+              <artifactId>protobuf-java</artifactId>\n+            </exclusion>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkxMjM0OA=="}, "originalCommit": {"oid": "edd26524703b1d4e623a6a43356ce943463c1c3a"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1313, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}