{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMTE3MjUw", "number": 11108, "title": "Improve how tests handle restarting workers", "bodyText": "Instead of relying on waiting for lost worker detection, force the workers to be lost.", "createdAt": "2020-03-03T18:53:21Z", "url": "https://github.com/Alluxio/alluxio/pull/11108", "merged": true, "mergeCommit": {"oid": "7b08333df138dce240360e1313cb10d38a584434"}, "closed": true, "closedAt": "2020-03-03T20:27:15Z", "author": {"login": "gpang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKG-QEgH2gAyMzgzMTE3MjUwOmQ5NDE3N2NkMzhlMzFjNTYzMDk1Yzk0OTA0Njc5ZGU0NTU4MGNjNjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKH-EDgFqTM2ODI4Mzg2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d94177cd38e31c563095c94904679de45580cc68", "author": {"user": {"login": "gpang", "name": "Gene Pang"}}, "url": "https://github.com/Alluxio/alluxio/commit/d94177cd38e31c563095c94904679de45580cc68", "committedDate": "2020-03-03T18:52:45Z", "message": "Improve how tests handle restarting workers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MjM4ODY4", "url": "https://github.com/Alluxio/alluxio/pull/11108#pullrequestreview-368238868", "createdAt": "2020-03-03T18:56:10Z", "commit": {"oid": "d94177cd38e31c563095c94904679de45580cc68"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxODo1NjoxMFrOFxSZgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxODo1NjoxMFrOFxSZgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzIyNTk4NQ==", "bodyText": "Should we check if the master is started here/getMasterProcess() returns null?\nI didn't check the method signature but I think I vaguely remember that it could be possible", "url": "https://github.com/Alluxio/alluxio/pull/11108#discussion_r387225985", "createdAt": "2020-03-03T18:56:10Z", "author": {"login": "ZacBlanco"}, "path": "minicluster/src/main/java/alluxio/master/AbstractLocalAlluxioCluster.java", "diffHunk": "@@ -255,6 +257,11 @@ public void stopWorkers() throws Exception {\n       }\n     }\n     mWorkerThreads.clear();\n+\n+    // forget all the workers in the master\n+    DefaultBlockMaster bm = (DefaultBlockMaster) getLocalAlluxioMaster().getMasterProcess()\n+        .getMaster(BlockMaster.class);\n+    bm.forgetAllWorkers();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d94177cd38e31c563095c94904679de45580cc68"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9df771fdb6ed1ab0f97022440e76c703877714c0", "author": {"user": {"login": "gpang", "name": "Gene Pang"}}, "url": "https://github.com/Alluxio/alluxio/commit/9df771fdb6ed1ab0f97022440e76c703877714c0", "committedDate": "2020-03-03T18:58:38Z", "message": "Check for null master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MjgzODY4", "url": "https://github.com/Alluxio/alluxio/pull/11108#pullrequestreview-368283868", "createdAt": "2020-03-03T20:02:28Z", "commit": {"oid": "9df771fdb6ed1ab0f97022440e76c703877714c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4805, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}