{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MDM5NDgx", "number": 11519, "title": "Change hms validation tool to use extension class loader", "bodyText": "Hms validation tool depends on hive metastore jar which internally has many dependencies that are conflicts with alluxio dependencies.\nShade the whole hms validation tool and put it in alluxio/lib directory.\nLoad the hms validation tool when running hms tests.", "createdAt": "2020-06-04T19:21:01Z", "url": "https://github.com/Alluxio/alluxio/pull/11519", "merged": true, "mergeCommit": {"oid": "b3e29ac8b019ed4b876e9f407690335a95ebc056"}, "closed": true, "closedAt": "2020-06-09T03:30:17Z", "author": {"login": "LuQQiu"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoDGj2AH2gAyNDI4MDM5NDgxOmJkYTg1MzAwYWEwNmVlZTI0MjZiOTliNDdhNzQ3NThiMTdkZjAyYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpXdp1gFqTQyNjYzOTg3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bda85300aa06eee2426b99b47a74758b17df02bf", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/bda85300aa06eee2426b99b47a74758b17df02bf", "committedDate": "2020-06-04T19:19:56Z", "message": "Change hms tool version to 2.3.6"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0Nzc0NTQ0", "url": "https://github.com/Alluxio/alluxio/pull/11519#pullrequestreview-424774544", "createdAt": "2020-06-04T19:45:45Z", "commit": {"oid": "bda85300aa06eee2426b99b47a74758b17df02bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41358cb8e057f6c0b596d64d83986aaa0406e047", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/41358cb8e057f6c0b596d64d83986aaa0406e047", "committedDate": "2020-06-06T21:07:16Z", "message": "Fix checkstyle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "227f0706d81c85ac3ccee546d4c1b048184965d9", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/227f0706d81c85ac3ccee546d4c1b048184965d9", "committedDate": "2020-06-06T05:15:40Z", "message": "tmp"}, "afterCommit": {"oid": "41358cb8e057f6c0b596d64d83986aaa0406e047", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/41358cb8e057f6c0b596d64d83986aaa0406e047", "committedDate": "2020-06-06T21:07:16Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ca9f2860c3e825baed94402e02c69f16c41d2bc", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/9ca9f2860c3e825baed94402e02c69f16c41d2bc", "committedDate": "2020-06-06T21:17:03Z", "message": "small fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ad28b3fe54bbf2207e743f7e7606e85240b55e5", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/4ad28b3fe54bbf2207e743f7e7606e85240b55e5", "committedDate": "2020-06-07T01:06:50Z", "message": "Add to lib directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b12ee51e572071c61f92f7e800e9227f44a4dd9", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/2b12ee51e572071c61f92f7e800e9227f44a4dd9", "committedDate": "2020-06-07T01:21:24Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63899eb488a3388bb1c473a8c340d686e01d6dbe", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/63899eb488a3388bb1c473a8c340d686e01d6dbe", "committedDate": "2020-06-08T16:56:55Z", "message": "Small fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODY5MDg3", "url": "https://github.com/Alluxio/alluxio/pull/11519#pullrequestreview-425869087", "createdAt": "2020-06-08T00:50:27Z", "commit": {"oid": "2b12ee51e572071c61f92f7e800e9227f44a4dd9"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwMDo1MDoyN1rOGgM4dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQwMDo1MTozNFrOGgM5AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODY3OA==", "bodyText": "nit: a validation tool", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r436418678", "createdAt": "2020-06-08T00:50:27Z", "author": {"login": "madanadit"}, "path": "core/common/src/main/java/alluxio/cli/ValidationToolFactory.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.cli;\n+\n+/**\n+ * The validation tool factory interface.\n+ */\n+public interface ValidationToolFactory {\n+\n+  /**\n+   * Creates a new instance of an {@link ValidationTool}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b12ee51e572071c61f92f7e800e9227f44a4dd9"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQxODgxNg==", "bodyText": "The args are specific to HmsValidationTool, did you intend on making the Factory generic?", "url": "https://github.com/Alluxio/alluxio/pull/11519#discussion_r436418816", "createdAt": "2020-06-08T00:51:34Z", "author": {"login": "madanadit"}, "path": "core/common/src/main/java/alluxio/cli/ValidationToolFactory.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.cli;\n+\n+/**\n+ * The validation tool factory interface.\n+ */\n+public interface ValidationToolFactory {\n+\n+  /**\n+   * Creates a new instance of an {@link ValidationTool}.\n+   * Creation must not interact with external services.\n+   *\n+   * @param metastoreUri hive metastore uris\n+   * @param database database to run tests against\n+   * @param tables tables to run tests against\n+   * @param socketTimeout socket time of hms operations\n+   * @return a new validation tool instance\n+   */\n+  ValidationTool create(String metastoreUri, String database, String tables, int socketTimeout);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b12ee51e572071c61f92f7e800e9227f44a4dd9"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c75f11acd238bb00c05bff063296a8951fc2b1f", "author": {"user": {"login": "LuQQiu", "name": null}}, "url": "https://github.com/Alluxio/alluxio/commit/0c75f11acd238bb00c05bff063296a8951fc2b1f", "committedDate": "2020-06-08T21:27:24Z", "message": "small fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NjM5ODc2", "url": "https://github.com/Alluxio/alluxio/pull/11519#pullrequestreview-426639876", "createdAt": "2020-06-08T21:37:11Z", "commit": {"oid": "0c75f11acd238bb00c05bff063296a8951fc2b1f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4472, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}