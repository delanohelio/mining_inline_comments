{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMjg5NzU4", "number": 11192, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDowMDo1N1rODpt0Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDowMDo1N1rODpt0Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MDY4ODIzOnYy", "diffSide": "RIGHT", "path": "docs/check.go", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDowMDo1N1rOF5ET9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDoyNzozOVrOF5EtTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ==", "bodyText": "would it just be easier to add a yaml parsing command line tool in the CI container, and then use that to query for this?\nex:  https://kislyuk.github.io/yq/", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395383799", "createdAt": "2020-03-20T00:00:57Z", "author": {"login": "ZacBlanco"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4NDkzMw==", "bodyText": "pip -> python -> i have nothing more to say\nwe don't have python in the image, i would have given more consideration if it was already present and used for something else", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395384933", "createdAt": "2020-03-20T00:05:25Z", "author": {"login": "Xenorith"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4NTIxNw==", "bodyText": "but the next search result:\nhttps://github.com/mikefarah/yq", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395385217", "createdAt": "2020-03-20T00:06:31Z", "author": {"login": "Xenorith"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4OTM1NA==", "bodyText": "I am ok adding to the CI image. It will help make the code here more readable", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395389354", "createdAt": "2020-03-20T00:23:41Z", "author": {"login": "ZacBlanco"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4OTkzMw==", "bodyText": "ok adding python + pip + yq or wget yq && mv /usr/local/bin/?", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395389933", "createdAt": "2020-03-20T00:26:03Z", "author": {"login": "Xenorith"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM5MDE4Nw==", "bodyText": "Isn't go installed? Can we not use GO111MODULE=on go get github.com/mikefarah/yq/v3 from the link you gave above?", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395390187", "createdAt": "2020-03-20T00:27:10Z", "author": {"login": "ZacBlanco"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM5MDI4Nw==", "bodyText": "Either way, I'm good with adding the go-based one", "url": "https://github.com/Alluxio/alluxio/pull/11192#discussion_r395390287", "createdAt": "2020-03-20T00:27:39Z", "author": {"login": "ZacBlanco"}, "path": "docs/check.go", "diffHunk": "@@ -145,11 +145,16 @@ func parseCategoryNames(configPath string) (StringSet, error) {\n \t\t\tcontinue\n \t\t}\n \t\tif found {\n-\t\t\tif !strings.HasPrefix(l, categoryPrefix) {\n-\t\t\t\tfound = false\n+\t\t\tif strings.HasPrefix(l, commentPrefix) {\n+\t\t\t\t// skip commented lines\n \t\t\t\tcontinue\n \t\t\t}\n-\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\tif strings.HasPrefix(l, categoryPrefix) {\n+\t\t\t\tcategoryNames.Add(strings.TrimPrefix(l, categoryPrefix))\n+\t\t\t\tcontinue\n+\t\t\t}\n+\t\t\t// stop parsing if line is neither comment or category\n+\t\t\tfound = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4Mzc5OQ=="}, "originalCommit": {"oid": "c91c41712c900352b3f07cd196434204791a282f"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1786, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}