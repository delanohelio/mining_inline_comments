{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNzU0NTQw", "number": 11545, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMTo0OTozOVrOEEg8AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMjoxNDo0OVrOEEhLkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMTY5NDA5OnYy", "diffSide": "RIGHT", "path": "integration/emr/alluxio-emr.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMTo0OTozOVrOGiL1Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMTo0OTozOVrOGiL1Og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ5ODYxOA==", "bodyText": "alphabetical ordering of flags (but i may suggest using other characters in a bit)", "url": "https://github.com/Alluxio/alluxio/pull/11545#discussion_r438498618", "createdAt": "2020-06-11T01:49:39Z", "author": {"login": "Xenorith"}, "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -170,13 +171,15 @@ main() {\n   print_help() {\n     local -r USAGE=$(cat <<USAGE_END\n \n-Usage: alluxio-emr.sh <root-ufs-uri> [-b <backup_uri>]\n-                             [ -d <alluxio-download-uri>]\n-                             [-f <file_uri>]\n-                             [-i <journal_backup_uri>]\n-                             [-n <storage percentage>]\n-                             [-p <delimited_properties>]\n-                             [-s <property_delimiter>]\n+Usage: alluxio-emr.sh [-u <root-ufs-uri>]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2df2ffeeec47719a47f840a4052f482a4f38c18"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMTY5NjAwOnYy", "diffSide": "RIGHT", "path": "integration/emr/alluxio-emr.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMTo1MDo0MFrOGiL2Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMTo1MDo0MFrOGiL2Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ5ODkxNQ==", "bodyText": "the getopts string should be \"b:cd:f:i:n:p:s:u:\"\n: means expect an argument value afterwards, so c doesn't get one", "url": "https://github.com/Alluxio/alluxio/pull/11545#discussion_r438498915", "createdAt": "2020-06-11T01:50:40Z", "author": {"login": "Xenorith"}, "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -244,17 +249,16 @@ USAGE_END\n   local restore_from_backup_uri=\"\"\n   local files_list=\"\"\n   local nvme_capacity_usage=\"\"\n-\n-  if [[ \"$#\" -lt \"1\" ]]; then\n-    echo -e \"No root UFS URI provided\"\n-    print_help 1\n-  fi\n-\n-  local root_ufs_uri=\"${1}\"\n-  shift\n-  while getopts \"b:d:f:i:n:p:s:\" option; do\n-    OPTARG=$(echo -e \"${OPTARG}\" | tr -d '[:space:]')\n+  local root_ufs_uri=\"\"\n+  local client_only=\"false\"\n+  while getopts \":u:b:d:f:i:n:p:s:c\" option; do", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2df2ffeeec47719a47f840a4052f482a4f38c18"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMTczMzkzOnYy", "diffSide": "RIGHT", "path": "integration/emr/alluxio-emr.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMjoxNDo0OVrOGiMNoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwMjo0ODo0OVrOGiMteQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUwNDg2NA==", "bodyText": "@yuzhu why introduce a new flag? we are breaking backwards compatibility here", "url": "https://github.com/Alluxio/alluxio/pull/11545#discussion_r438504864", "createdAt": "2020-06-11T02:14:49Z", "author": {"login": "madanadit"}, "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -170,13 +171,15 @@ main() {\n   print_help() {\n     local -r USAGE=$(cat <<USAGE_END\n \n-Usage: alluxio-emr.sh <root-ufs-uri> [-b <backup_uri>]\n-                             [ -d <alluxio-download-uri>]\n-                             [-f <file_uri>]\n-                             [-i <journal_backup_uri>]\n-                             [-n <storage percentage>]\n-                             [-p <delimited_properties>]\n-                             [-s <property_delimiter>]\n+Usage: alluxio-emr.sh [-u <root-ufs-uri>]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2df2ffeeec47719a47f840a4052f482a4f38c18"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUwOTY0Mg==", "bodyText": "the alternative is to use empty string to represent \"use local hdfs as root ufs\"\nI am fine with that too.", "url": "https://github.com/Alluxio/alluxio/pull/11545#discussion_r438509642", "createdAt": "2020-06-11T02:34:42Z", "author": {"login": "yuzhu"}, "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -170,13 +171,15 @@ main() {\n   print_help() {\n     local -r USAGE=$(cat <<USAGE_END\n \n-Usage: alluxio-emr.sh <root-ufs-uri> [-b <backup_uri>]\n-                             [ -d <alluxio-download-uri>]\n-                             [-f <file_uri>]\n-                             [-i <journal_backup_uri>]\n-                             [-n <storage percentage>]\n-                             [-p <delimited_properties>]\n-                             [-s <property_delimiter>]\n+Usage: alluxio-emr.sh [-u <root-ufs-uri>]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUwNDg2NA=="}, "originalCommit": {"oid": "f2df2ffeeec47719a47f840a4052f482a4f38c18"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUxMzAxNw==", "bodyText": "is that possible? would bash read this correctly? alluxio-emr.sh \"\" -a someArg -b someArg ...", "url": "https://github.com/Alluxio/alluxio/pull/11545#discussion_r438513017", "createdAt": "2020-06-11T02:48:49Z", "author": {"login": "Xenorith"}, "path": "integration/emr/alluxio-emr.sh", "diffHunk": "@@ -170,13 +171,15 @@ main() {\n   print_help() {\n     local -r USAGE=$(cat <<USAGE_END\n \n-Usage: alluxio-emr.sh <root-ufs-uri> [-b <backup_uri>]\n-                             [ -d <alluxio-download-uri>]\n-                             [-f <file_uri>]\n-                             [-i <journal_backup_uri>]\n-                             [-n <storage percentage>]\n-                             [-p <delimited_properties>]\n-                             [-s <property_delimiter>]\n+Usage: alluxio-emr.sh [-u <root-ufs-uri>]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODUwNDg2NA=="}, "originalCommit": {"oid": "f2df2ffeeec47719a47f840a4052f482a4f38c18"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1620, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}