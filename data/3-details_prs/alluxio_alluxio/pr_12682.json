{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NjE0MTMy", "number": 12682, "title": "Add a native profile to build jnifuse in compile phase", "bodyText": "Fix #12681", "createdAt": "2020-12-25T17:04:56Z", "url": "https://github.com/Alluxio/alluxio/pull/12682", "merged": true, "mergeCommit": {"oid": "b189dd45631d96bc7f0fbeaa610534e073195422"}, "closed": true, "closedAt": "2021-01-07T23:35:22Z", "author": {"login": "maobaolong"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdprbYEgH2gAyNTQ1NjE0MTMyOjVhZmU0YTQwZGVmMGIyZjI4NzQ4MDQ0MDI5YjExN2MyN2ZmZjA2M2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdt80N7AFqTU2MzkwNTMwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5afe4a40def0b2f28748044029b117c27fff063f", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/5afe4a40def0b2f28748044029b117c27fff063f", "committedDate": "2020-12-25T17:03:57Z", "message": "Add a native profile to build jnifuse in compile phase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db830e99e50c33b198f1b9725cbe54e8431ade1c", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/db830e99e50c33b198f1b9725cbe54e8431ade1c", "committedDate": "2020-12-30T07:33:41Z", "message": "Improve makefile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyOTgyNTIx", "url": "https://github.com/Alluxio/alluxio/pull/12682#pullrequestreview-562982521", "createdAt": "2021-01-06T19:27:17Z", "commit": {"oid": "db830e99e50c33b198f1b9725cbe54e8431ade1c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxOToyNzoxN1rOIPTdpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQxOToyNzoxN1rOIPTdpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjkxODQzNg==", "bodyText": "it seems I have to change this to <exec executable=\"make\" failonerror=\"true\" dir=\"${project.basedir}/src/main/native/libjnifuse\"/>\nor the build will fail", "url": "https://github.com/Alluxio/alluxio/pull/12682#discussion_r552918436", "createdAt": "2021-01-06T19:27:17Z", "author": {"login": "apc999"}, "path": "integration/fuse/pom.xml", "diffHunk": "@@ -63,7 +63,39 @@\n       <scope>test</scope>\n     </dependency>\n   </dependencies>\n-\n+  <profiles>\n+    <profile>\n+      <id>native</id>\n+      <activation>\n+        <activeByDefault>false</activeByDefault>\n+      </activation>\n+      <properties>\n+        <runningWithNative>true</runningWithNative>\n+      </properties>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-antrun-plugin</artifactId>\n+            <executions>\n+              <execution>\n+                <id>native_fuse_compile</id>\n+                <phase>compile</phase>\n+                <goals><goal>run</goal></goals>\n+                <configuration>\n+                  <target>\n+                    <mkdir dir=\"${project.build.directory}/native\"/>\n+                    <exec executable=\"make\" failonerror=\"true\" dir=\"${project.build.directory}/native\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db830e99e50c33b198f1b9725cbe54e8431ade1c"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e56ddb118162b53b2222fb000aed6879bb159b", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/Alluxio/alluxio/commit/f4e56ddb118162b53b2222fb000aed6879bb159b", "committedDate": "2021-01-07T05:05:47Z", "message": "Fix build error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYzOTA1MzA5", "url": "https://github.com/Alluxio/alluxio/pull/12682#pullrequestreview-563905309", "createdAt": "2021-01-07T23:35:10Z", "commit": {"oid": "f4e56ddb118162b53b2222fb000aed6879bb159b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3383, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}