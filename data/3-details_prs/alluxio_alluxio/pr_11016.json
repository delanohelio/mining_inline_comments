{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5ODUwMDM1", "number": 11016, "title": "Fix \"In Alluxio\" calculation for DuCommand", "bodyText": "Previously, we were always using the \"InMemoryPercentage\" to calculate the\ntotal amount in Alluxio. This is incorrect. We will now use the proper value", "createdAt": "2020-02-25T22:46:21Z", "url": "https://github.com/Alluxio/alluxio/pull/11016", "merged": true, "mergeCommit": {"oid": "0208ae0b67e81cbbf72d16411fc6a686ab7d7b13"}, "closed": true, "closedAt": "2020-02-26T20:54:41Z", "author": {"login": "ZacBlanco"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcH6GoEgH2gAyMzc5ODUwMDM1Ojc2ZTM0NDQ5ZDQ3ZDFmZDI4YmRlZTUyZTU2MTc2NGIxNmM2YmFjOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcILRjIAFqTM2NTE0OTIyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "76e34449d47d1fd28bdee52e561764b16c6bac90", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/76e34449d47d1fd28bdee52e561764b16c6bac90", "committedDate": "2020-02-25T22:45:17Z", "message": "Fix \"In Alluxio\" calculation for DuCommand"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NTA2NTI3", "url": "https://github.com/Alluxio/alluxio/pull/11016#pullrequestreview-364506527", "createdAt": "2020-02-25T22:47:05Z", "commit": {"oid": "76e34449d47d1fd28bdee52e561764b16c6bac90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18459f2aba0312f1bf6f519bfdae1b4e006d1ebd", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/18459f2aba0312f1bf6f519bfdae1b4e006d1ebd", "committedDate": "2020-02-26T02:01:59Z", "message": "Add tests for different combinations of du output"}, "afterCommit": {"oid": "4d9a0d889a73d6fb29add36d8e7d1159d898f2f8", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/4d9a0d889a73d6fb29add36d8e7d1159d898f2f8", "committedDate": "2020-02-26T06:50:10Z", "message": "Add tests for different combinations of du output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1", "committedDate": "2020-02-26T18:42:23Z", "message": "Add tests for different combinations of du output"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d9a0d889a73d6fb29add36d8e7d1159d898f2f8", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/4d9a0d889a73d6fb29add36d8e7d1159d898f2f8", "committedDate": "2020-02-26T06:50:10Z", "message": "Add tests for different combinations of du output"}, "afterCommit": {"oid": "17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1", "author": {"user": {"login": "ZacBlanco", "name": "Zac Blanco"}}, "url": "https://github.com/Alluxio/alluxio/commit/17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1", "committedDate": "2020-02-26T18:42:23Z", "message": "Add tests for different combinations of du output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MTQ5MjI2", "url": "https://github.com/Alluxio/alluxio/pull/11016#pullrequestreview-365149226", "createdAt": "2020-02-26T18:45:28Z", "commit": {"oid": "17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODo0NToyOFrOFu3m-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxODo0NToyOFrOFu3m-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY4OTkxNA==", "bodyText": "up to you but we have DuIntegrationTest if you want to consolidate", "url": "https://github.com/Alluxio/alluxio/pull/11016#discussion_r384689914", "createdAt": "2020-02-26T18:45:28Z", "author": {"login": "apc999"}, "path": "shell/src/test/java/alluxio/cli/fs/command/DuCommandTest.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * The Alluxio Open Foundation licenses this work under the Apache License, version 2.0\n+ * (the \"License\"). You may not use this work except in compliance with the License, which is\n+ * available at www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * This software is distributed on an \"AS IS\" basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,\n+ * either express or implied, as more fully set forth in the License.\n+ *\n+ * See the NOTICE file distributed with this work for information regarding copyright ownership.\n+ */\n+\n+package alluxio.cli.fs.command;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+\n+import alluxio.AlluxioURI;\n+import alluxio.SystemOutRule;\n+import alluxio.client.file.URIStatus;\n+import alluxio.wire.FileInfo;\n+\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+public class DuCommandTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17c9a014cef6f9ebc1a5842baef4c9c3412ac3c1"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4892, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}