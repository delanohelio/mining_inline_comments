{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4ODM5NTQy", "number": 10692, "title": "Parallelize load definition within a worker", "bodyText": "Also removed active_jobs parameter from the command because it's needlessly confusing.", "createdAt": "2020-01-03T00:35:01Z", "url": "https://github.com/Alluxio/alluxio/pull/10692", "merged": true, "mergeCommit": {"oid": "16e897777de13e91a9198146686baa8f56f7ac59"}, "closed": true, "closedAt": "2020-01-04T00:22:43Z", "author": {"login": "bradyoo"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2jS84gH2gAyMzU4ODM5NTQyOmZkNzlmZTI4YWYxNDE1ZGJhZTlkN2EzZmM4MTExYTI1MDM0NjFmOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb2zNUqgFqTMzODIyNzg3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/fd79fe28af1415dbae9d7a3fc8111a2503461f95", "committedDate": "2020-01-03T00:34:13Z", "message": "parallelize load definition within a worker"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTIyNDE1", "url": "https://github.com/Alluxio/alluxio/pull/10692#pullrequestreview-337922415", "createdAt": "2020-01-03T01:03:43Z", "commit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMTowMzo0M1rOFZ4aVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMTowMzo0M1rOFZ4aVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY4Mjk2NA==", "bodyText": "Will this be a problem if list.size is smaller than numLists + 1?", "url": "https://github.com/Alluxio/alluxio/pull/10692#discussion_r362682964", "createdAt": "2020-01-03T01:03:43Z", "author": {"login": "calvinjia"}, "path": "core/common/src/main/java/alluxio/util/CommonUtils.java", "diffHunk": "@@ -717,5 +717,27 @@ private synchronized T firstTime() {\n     };\n   }\n \n+  /**\n+   * Partitions a list into numLists many lists each with around list.size() / numLists elements.\n+   *\n+   * @param list the list to partition\n+   * @param numLists number of lists to return\n+   * @param <T> the object type\n+   * @return partitioned list\n+   */\n+  public static <T> List<List<T>> partition(List<T> list, int numLists) {\n+    ArrayList<List<T>> result = new ArrayList<>(numLists);\n+\n+    for (int i = 0; i < numLists; i++) {\n+      result.add(new ArrayList<>(list.size() / numLists + 1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTIyNzc0", "url": "https://github.com/Alluxio/alluxio/pull/10692#pullrequestreview-337922774", "createdAt": "2020-01-03T01:06:29Z", "commit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMTowNjoyOVrOFZ4bng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMTowNjoyOVrOFZ4bng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY4MzI5NA==", "bodyText": "Should the replication options be removed?", "url": "https://github.com/Alluxio/alluxio/pull/10692#discussion_r362683294", "createdAt": "2020-01-03T01:06:29Z", "author": {"login": "calvinjia"}, "path": "shell/src/main/java/alluxio/cli/fs/command/DistributedLoadCommand.java", "diffHunk": "@@ -148,11 +138,6 @@ public String getCommandName() {\n     return \"distributedLoad\";\n   }\n \n-  @Override\n-  public Options getOptions() {\n-    return new Options().addOption(REPLICATION_OPTION).addOption(ACTIVE_JOBS_OPTION);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTIzMDA5", "url": "https://github.com/Alluxio/alluxio/pull/10692#pullrequestreview-337923009", "createdAt": "2020-01-03T01:08:10Z", "commit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3OTQxNTYw", "url": "https://github.com/Alluxio/alluxio/pull/10692#pullrequestreview-337941560", "createdAt": "2020-01-03T03:44:18Z", "commit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMzo0NDoxOFrOFZ5cFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QwMzo0NDoxOFrOFZ5cFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjY5OTc5OA==", "bodyText": "nit: I would remove the empty line 57. We try to keep the src code concise and compact", "url": "https://github.com/Alluxio/alluxio/pull/10692#discussion_r362699798", "createdAt": "2020-01-03T03:44:18Z", "author": {"login": "apc999"}, "path": "job/server/src/main/java/alluxio/job/plan/load/LoadDefinition.java", "diffHunk": "@@ -54,6 +55,8 @@\n   private static final Logger LOG = LoggerFactory.getLogger(LoadDefinition.class);\n   private static final int MAX_BUFFER_SIZE = 500 * Constants.MB;\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd79fe28af1415dbae9d7a3fc8111a2503461f95"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e3ba29c0c8a9032b14485a67706595fc1b2c3e7", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/0e3ba29c0c8a9032b14485a67706595fc1b2c3e7", "committedDate": "2020-01-03T15:02:10Z", "message": "checkstyle and feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e422a2e7ca9de29305b10c14fea6416168e0302e", "author": {"user": {"login": "bradyoo", "name": "Bradley Yoo"}}, "url": "https://github.com/Alluxio/alluxio/commit/e422a2e7ca9de29305b10c14fea6416168e0302e", "committedDate": "2020-01-03T18:11:25Z", "message": "fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MjI3ODc0", "url": "https://github.com/Alluxio/alluxio/pull/10692#pullrequestreview-338227874", "createdAt": "2020-01-03T19:06:33Z", "commit": {"oid": "e422a2e7ca9de29305b10c14fea6416168e0302e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3232, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}