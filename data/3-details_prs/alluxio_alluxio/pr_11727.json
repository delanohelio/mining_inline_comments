{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1Njc1MzM0", "number": 11727, "title": "Improve logging for catalog errors", "bodyText": "", "createdAt": "2020-07-07T20:58:09Z", "url": "https://github.com/Alluxio/alluxio/pull/11727", "merged": true, "mergeCommit": {"oid": "b8cca5bce71e94566805fd4db5a47436e1c3830c"}, "closed": true, "closedAt": "2020-07-08T01:00:46Z", "author": {"login": "gpang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcysR2egH2gAyNDQ1Njc1MzM0OjE2MmI2MWVmY2JiZmQyMmMwZGYxZmQ4MjU2OWRmNzUwMTNkYjlmZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcys0KxAFqTQ0NDI2NzA2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf", "author": {"user": {"login": "gpang", "name": "Gene Pang"}}, "url": "https://github.com/Alluxio/alluxio/commit/162b61efcbbfd22c0df1fd82569df75013db9fdf", "committedDate": "2020-07-07T20:57:37Z", "message": "Improve logging for catalog errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjUxNjcw", "url": "https://github.com/Alluxio/alluxio/pull/11727#pullrequestreview-444251670", "createdAt": "2020-07-07T21:09:12Z", "commit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTowOToxMlrOGuProA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMToxNDoyOFrOGuP10Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDYwOA==", "bodyText": "Are location and comment also need a non-null value? Glue doesn't require user to set values for these fields in the database?", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451144608", "createdAt": "2020-07-07T21:09:12Z", "author": {"login": "HelloHorizon"}, "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NzIxNw==", "bodyText": "The glue UDB handles the NPE for parameters, do we want to check it again here?", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451147217", "createdAt": "2020-07-07T21:14:28Z", "author": {"login": "HelloHorizon"}, "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;\n+    if (params == null) {\n+      mParameters = Collections.emptyMap();\n+    } else {\n+      mParameters = params;\n+    }\n   }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjY0OTgw", "url": "https://github.com/Alluxio/alluxio/pull/11727#pullrequestreview-444264980", "createdAt": "2020-07-07T21:31:26Z", "commit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozMToyNlrOGuQV-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozMjowNlrOGuQXPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTQ1MQ==", "bodyText": "Not sure, but those fields were already annotated to be @Nullable so I am assuming it is ok to be null.", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451155451", "createdAt": "2020-07-07T21:31:26Z", "author": {"login": "gpang"}, "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NDYwOA=="}, "originalCommit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTc3Mw==", "bodyText": "The reason I put that here, was because this field was not classified as @Nullable, so I am enforcing that here.", "url": "https://github.com/Alluxio/alluxio/pull/11727#discussion_r451155773", "createdAt": "2020-07-07T21:32:06Z", "author": {"login": "gpang"}, "path": "table/server/common/src/main/java/alluxio/master/table/DatabaseInfo.java", "diffHunk": "@@ -47,7 +49,11 @@ public DatabaseInfo(String location, String ownerName, PrincipalType ownerType,\n     mOwnerName = ownerName;\n     mOwnerType = ownerType;\n     mComment = comment;\n-    mParameters = params;\n+    if (params == null) {\n+      mParameters = Collections.emptyMap();\n+    } else {\n+      mParameters = params;\n+    }\n   }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0NzIxNw=="}, "originalCommit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjY3MDYy", "url": "https://github.com/Alluxio/alluxio/pull/11727#pullrequestreview-444267062", "createdAt": "2020-07-07T21:35:07Z", "commit": {"oid": "162b61efcbbfd22c0df1fd82569df75013db9fdf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4252, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}