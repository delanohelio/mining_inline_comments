{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMDMyNjU2", "number": 11077, "title": "[DOCFIX] Update kubernetes documentation", "bodyText": "Add specification for Helm version in prerequisites.\nAdd Format Journal section for Helm and kubectl deployments.\nAdd FUSE deployment config for Helm deployment", "createdAt": "2020-03-01T11:29:52Z", "url": "https://github.com/Alluxio/alluxio/pull/11077", "merged": true, "mergeCommit": {"oid": "a0c5d2dc0019d7d1186bc2899bcb0f2ea22383cb"}, "closed": true, "closedAt": "2020-03-07T01:28:18Z", "author": {"login": "jiacheliu3"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJWu0XgH2gAyMzgyMDMyNjU2OmI1NGEzMjk3ODNkNDA1NThiZDUwY2FjOTgyMjQzMzQ4Yjc4YTg0Yzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLKbAiAFqTM3MDcwOTQ3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/b54a329783d40558bd50cac982243348b78a84c8", "committedDate": "2020-03-01T10:40:27Z", "message": "update doc on FUSE and Job deployment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODUyNjYx", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-366852661", "createdAt": "2020-03-01T11:31:38Z", "commit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMTozOFrOFwNrYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMTozOFrOFwNrYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMDA2NA==", "bodyText": "There are some duplicated sentences in kubectl section I wasn't able to avoid.", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386100064", "createdAt": "2020-03-01T11:31:38Z", "author": {"login": "jiacheliu3"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,25 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODUyNjk2", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-366852696", "createdAt": "2020-03-01T11:32:09Z", "commit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMjowOVrOFwNrfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMjowOVrOFwNrfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMDA5NA==", "bodyText": "#format-journal-1 as #format-journal belongs to helm section", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386100094", "createdAt": "2020-03-01T11:32:09Z", "author": {"login": "jiacheliu3"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -502,18 +541,8 @@ Make sure all the Pods have been terminated before you move on to the next step.\n Check the Alluxio upgrade guide page for whether the Alluxio master journal has to be formatted.\n If no format is needed, you are ready to skip the rest of this section and move on to restart all Alluxio master and worker Pods.\n \n-There is a single Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n-template that can be used for only formatting the master.\n-The Job runs `alluxio formatMasters` and formats the journal for all masters.\n-You should make sure the Job runs with the same configMap with all your other Alluxio masters so it's able to find the journal persistent storage and format it.\n-\n-```console\n-$ cp ./job/alluxio-format-journal-job.yaml.template ./job/alluxio-format-journal-job.yaml\n-$ kubectl apply -f ./job/alluxio-format-journal-job.yaml\n-```\n-\n-After the Job completes, it will be deleted by Kubernetes after the defined `ttlSecondsAfterFinished`.\n-Then the clean journal will be ready for a new Alluxio master(s) to start with.\n+You can follow [formatting journal with kubectl]({{ '/en/deploy/Running-Alluxio-On-Kubernetes.html#format-journal-1' | relativize_url }})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODUyNzI1", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-366852725", "createdAt": "2020-03-01T11:32:37Z", "commit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMjozN1rOFwNrnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxMTozMjozN1rOFwNrnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMDEyNA==", "bodyText": "Is it acceptable to use kubectl in helm section?", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386100124", "createdAt": "2020-03-01T11:32:37Z", "author": {"login": "jiacheliu3"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,25 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can manually trigger the journal formatting by applying the Job template.\n+```console\n+# Generate the YAML definition for the journal formatting Job(s)\n+$ helm template --name alluxio helm-chart/alluxio/ --set journal.format.runFormat=true -x templates/job/format-journal-job.yaml -f ./config.yaml > alluxio-format-journal-job.yaml\n+# Create the Jobs(s) with kubectl\n+$ kubectl create -f alluxio-format-journal-job.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDcxNDYx", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-367471461", "createdAt": "2020-03-02T19:36:51Z", "commit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOTozNjo1MVrOFwsldQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMTowNToyOFrOFwvM8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjQ1Mw==", "bodyText": "nit: newline after every sentence (a period .) is the doc convention. So start a newline with \"You can install\"", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386606453", "createdAt": "2020-03-02T19:36:51Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -92,6 +92,8 @@ There are other ways to create Persistent Volumes as documented [here](https://k\n \n #### Prerequisites\n \n+You should have helm 2.X installed. You can install helm following instructions [here](https://v2.helm.sh/docs/using_helm/#install-helm).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjU4Mw==", "bodyText": "same for the rest of the doc changes", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386606583", "createdAt": "2020-03-02T19:37:07Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -92,6 +92,8 @@ There are other ways to create Persistent Volumes as documented [here](https://k\n \n #### Prerequisites\n \n+You should have helm 2.X installed. You can install helm following instructions [here](https://v2.helm.sh/docs/using_helm/#install-helm).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwNjQ1Mw=="}, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwOTA0NA==", "bodyText": "we should not recommend running helm template as the directory helm-chart/alluxio will not be available locally once we publish the chart to a gcs bucket", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386609044", "createdAt": "2020-03-02T19:42:09Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,25 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can manually trigger the journal formatting by applying the Job template.\n+```console\n+# Generate the YAML definition for the journal formatting Job(s)\n+$ helm template --name alluxio helm-chart/alluxio/ --set journal.format.runFormat=true -x templates/job/format-journal-job.yaml -f ./config.yaml > alluxio-format-journal-job.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0ODAzNg==", "bodyText": "instead i would suggest helm install with the option journal.format.runFormat=true for formatting explicitly before starting the masters.", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386648036", "createdAt": "2020-03-02T21:02:35Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,25 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can manually trigger the journal formatting by applying the Job template.\n+```console\n+# Generate the YAML definition for the journal formatting Job(s)\n+$ helm template --name alluxio helm-chart/alluxio/ --set journal.format.runFormat=true -x templates/job/format-journal-job.yaml -f ./config.yaml > alluxio-format-journal-job.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYwOTA0NA=="}, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0ODE2OQ==", "bodyText": "this will not be needed if we suggest helm install", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386648169", "createdAt": "2020-03-02T21:02:51Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,25 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can manually trigger the journal formatting by applying the Job template.\n+```console\n+# Generate the YAML definition for the journal formatting Job(s)\n+$ helm template --name alluxio helm-chart/alluxio/ --set journal.format.runFormat=true -x templates/job/format-journal-job.yaml -f ./config.yaml > alluxio-format-journal-job.yaml\n+# Create the Jobs(s) with kubectl\n+$ kubectl create -f alluxio-format-journal-job.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjEwMDEyNA=="}, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0ODgyNA==", "bodyText": "can we suggest helm upgrade? i want to eliminate helm template because of the same reason as for the format job", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386648824", "createdAt": "2020-03-02T21:04:17Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -604,6 +633,26 @@ $ kubectl create -f alluxio-fuse-client.yaml\n If using the template, Alluxio is mounted at `/alluxio-fuse` and can be accessed via the POSIX-API\n across multiple containers.\n \n+***Using `helm`***\n+You can deploy the FUSE daemon by configuring the following properties:\n+```properties\n+fuse:\n+  enabled: true\n+  clientEnabled: true\n+```\n+\n+Then follow the steps to install Alluxio with helm [here]({{ '/en/deploy/Running-Alluxio-On-Kubernetes.html#deploy-using-helm' | relativize_url }}).\n+\n+If Alluxio has already been deployed with helm and now you want to enable FUSE, you can manually add the FUSE daemons.\n+```console\n+# Generate YAML resources with helm template\n+$ helm template --name alluxio helm-chart/alluxio/ --set fuse.enabled=true -x templates/fuse/daemonset.yaml -f ./config.yaml > \"alluxio-fuse.yaml\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY0OTMyOQ==", "bodyText": "split the kubectl  commands into a separate block as only one of the kubectl or helm command is needed", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r386649329", "createdAt": "2020-03-02T21:05:28Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -604,6 +633,26 @@ $ kubectl create -f alluxio-fuse-client.yaml\n If using the template, Alluxio is mounted at `/alluxio-fuse` and can be accessed via the POSIX-API\n across multiple containers.\n \n+***Using `helm`***\n+You can deploy the FUSE daemon by configuring the following properties:\n+```properties\n+fuse:\n+  enabled: true\n+  clientEnabled: true\n+```\n+\n+Then follow the steps to install Alluxio with helm [here]({{ '/en/deploy/Running-Alluxio-On-Kubernetes.html#deploy-using-helm' | relativize_url }}).\n+\n+If Alluxio has already been deployed with helm and now you want to enable FUSE, you can manually add the FUSE daemons.\n+```console\n+# Generate YAML resources with helm template\n+$ helm template --name alluxio helm-chart/alluxio/ --set fuse.enabled=true -x templates/fuse/daemonset.yaml -f ./config.yaml > \"alluxio-fuse.yaml\"\n+$ helm template --name alluxio helm-chart/alluxio/ --set fuse.clientEnabled=true -x templates/fuse/client-daemonset.yaml -f ./config.yaml > \"alluxio-fuse-client.yaml\"\n+# Manually apply the YAML files using kubectl\n+$ kubectl create -f alluxio-fuse.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54a329783d40558bd50cac982243348b78a84c8"}, "originalPosition": 101}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/02d364485f0b59c39d65a56545cb71fe75292e10", "committedDate": "2020-03-05T06:16:51Z", "message": "helm upgrade"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5OTAxNTcz", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-369901573", "createdAt": "2020-03-05T20:46:23Z", "commit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMDo0NjoyNFrOFyjipA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMDo1MDoyOFrOFyjq9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NTQyOA==", "bodyText": "have you tested this? i think helm would run Job after StatefulSet which is not desirable", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r388555428", "createdAt": "2020-03-05T20:46:24Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,20 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can trigger the journal formatting by upgrading the helm deployment with `journal.format.runFormat=true`.\n+```console\n+# Use the same config.yaml and switch on journal formatting\n+$ helm upgrade alluxio --version 0.5.5 -f config.yaml --set journal.format.runFormat=true alluxio-local/alluxio\n+```\n+\n+> Note: `helm upgrade` is another deployment, which will result in new master and worker pods.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NTgzNA==", "bodyText": "why is  --version 0.5.5 needed? i plan on removing the helm version tag from documentation", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r388555834", "createdAt": "2020-03-05T20:47:06Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,20 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.\n+Each Job runs `alluxio formatJournal` and formats the journal for that master.\n+\n+You can trigger the journal formatting by upgrading the helm deployment with `journal.format.runFormat=true`.\n+```console\n+# Use the same config.yaml and switch on journal formatting\n+$ helm upgrade alluxio --version 0.5.5 -f config.yaml --set journal.format.runFormat=true alluxio-local/alluxio\n+```\n+\n+> Note: `helm upgrade` is another deployment, which will result in new master and worker pods.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NTQyOA=="}, "originalCommit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NzQ0NQ==", "bodyText": "newline after .", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r388557445", "createdAt": "2020-03-05T20:50:14Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -310,6 +312,20 @@ Uninstall Alluxio as follows:\n $ helm delete alluxio\n ```\n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NzU1Nw==", "bodyText": "newline", "url": "https://github.com/Alluxio/alluxio/pull/11077#discussion_r388557557", "createdAt": "2020-03-05T20:50:28Z", "author": {"login": "madanadit"}, "path": "docs/en/deploy/Running-Alluxio-On-Kubernetes.md", "diffHunk": "@@ -455,6 +471,24 @@ $ kubectl delete configmap alluxio-config\n > Note: This will delete all resources under `./master/` and `./worker/`. \n Be careful if you have persistent volumes or other important resources you want to keep under those directories.  \n \n+#### Format Journal\n+\n+The helm chart contains one Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/)\n+template that can be used for formatting the Alluxio journal. The template contains one Job for each Alluxio master.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02d364485f0b59c39d65a56545cb71fe75292e10"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1db8d425c93ad9092fa587aef7e78776d07ed41", "author": {"user": {"login": "jiacheliu3", "name": "Jiacheng Liu"}}, "url": "https://github.com/Alluxio/alluxio/commit/b1db8d425c93ad9092fa587aef7e78776d07ed41", "committedDate": "2020-03-06T16:32:20Z", "message": "resolve commends and add helm installation switch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzA5NDc2", "url": "https://github.com/Alluxio/alluxio/pull/11077#pullrequestreview-370709476", "createdAt": "2020-03-07T01:27:48Z", "commit": {"oid": "b1db8d425c93ad9092fa587aef7e78776d07ed41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4791, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}