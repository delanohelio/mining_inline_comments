{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwOTAzNzEy", "number": 12226, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjoxMjoxMlrOEsfD4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTo0Mjo0NVrOEtvp4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MDgxNjk3OnYy", "diffSide": "RIGHT", "path": "underfs/ozone/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjoxMjoxMlrOHfwQHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjozMjoxNlrOHfwryg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODQ2MA==", "bodyText": "do we need this? this looks to run by default, do we currently support other way to build without this profile?\nIf not, we should simply have it in dependency rather than being selected by a profile", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503058460", "createdAt": "2020-10-12T06:12:12Z", "author": {"login": "apc999"}, "path": "underfs/ozone/pom.xml", "diffHunk": "@@ -25,18 +25,25 @@\n     <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n     <!-- run properly from sub-project directories -->\n     <build.path>${project.parent.parent.basedir}/build</build.path>\n+    <ufs.ozone.version>1.0.0</ufs.ozone.version>\n   </properties>\n \n+  <profiles>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA2NTU0Ng==", "bodyText": "ok", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503065546", "createdAt": "2020-10-12T06:32:16Z", "author": {"login": "maobaolong"}, "path": "underfs/ozone/pom.xml", "diffHunk": "@@ -25,18 +25,25 @@\n     <!-- The following paths need to be defined here as well as in the parent pom so that mvn can -->\n     <!-- run properly from sub-project directories -->\n     <build.path>${project.parent.parent.basedir}/build</build.path>\n+    <ufs.ozone.version>1.0.0</ufs.ozone.version>\n   </properties>\n \n+  <profiles>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODQ2MA=="}, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MDgxOTY4OnYy", "diffSide": "RIGHT", "path": "shaded/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNjoxMzozNVrOHfwRsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0OTozMlrOHf1FJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODg2Ng==", "bodyText": "is shading this module required?\nIn UFS, by default all dependencies are loaded by a separate class loader, do we still see the exception you described?\nAdd a new ozone shade module to avoid classCaseException for the following code from org.apache.hadoop.ipc.ProtobufRpcEngine#invoke\n      final Message theRequest = (Message) args[1];", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503058866", "createdAt": "2020-10-12T06:13:35Z", "author": {"login": "apc999"}, "path": "shaded/pom.xml", "diffHunk": "@@ -25,6 +25,7 @@\n   <modules>\n     <module>client</module>\n     <module>hadoop</module>\n+    <module>ozone</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzNzU3Mg==", "bodyText": "@apc999 I have to shade ozone, because ozone ufs module dependent hdfs ufs module, so the Message in the ProtobufRpcEngine has been shaded by hdfs shade module, if I don't shade ozone, the ozone proto Message have no alluxio.shade.hdfs prefix, so it will meet classCassException.", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r503137572", "createdAt": "2020-10-12T08:49:32Z", "author": {"login": "maobaolong"}, "path": "shaded/pom.xml", "diffHunk": "@@ -25,6 +25,7 @@\n   <modules>\n     <module>client</module>\n     <module>hadoop</module>\n+    <module>ozone</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1ODg2Ng=="}, "originalCommit": {"oid": "be8e40345e64b3e0b642f3c7f70a0b6362923203"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDAyMTQ0OnYy", "diffSide": "RIGHT", "path": "docs/cn/ufs/Ozone.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTo0Mjo0NVrOHhtyQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwMTo0Mjo0NVrOHhtyQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTExNTIwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002\n          \n          \n            \n            [\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002", "url": "https://github.com/Alluxio/alluxio/pull/12226#discussion_r505115201", "createdAt": "2020-10-15T01:42:45Z", "author": {"login": "apc999"}, "path": "docs/cn/ufs/Ozone.md", "diffHunk": "@@ -17,9 +17,9 @@ Ozone\u53ef\u4ee5\u5728\u5bb9\u5668\u5316\u73af\u5883(\u4f8b\u5982Kubernetes\u548cYARN)\u4e2d\u6709\u6548\u8fd0\u884c\u3002\n \u5177\u6709\u6b63\u786e\u7684Hadoop\u7248\u672c(\u63a8\u8350))\uff0c\u6216 \n [\u4eceAlluxio\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e8c\u8fdb\u5236\u6587\u4ef6]({{ '/en/contributor/Building-Alluxio-From-Source.html' | relativize_url}})(\u9002\u7528\u4e8e\u9ad8\u7ea7\u7528\u6237)\u3002\n \n-\u5728\u51c6\u5907Ozone\u4e0eAlluxio\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8bf7\u9075\u5faa[Ozone\u672c\u5730\u5b89\u88c5](https://hadoop.apache.org/ozone/docs/0.5.0-beta/start/onprem.html)\n-\u5b89\u88c5Ozone\u96c6\u7fa4\uff0c\u5e76\u9075\u5faa[\u5377\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/0.5.0-beta/shell/volumecommands.html)\u548c \n-[\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/0.5.0-beta/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002\n+\u5728\u51c6\u5907Ozone\u4e0eAlluxio\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u8bf7\u9075\u5faa[Ozone\u672c\u5730\u5b89\u88c5](https://hadoop.apache.org/ozone/docs/1.0.0/start/onprem.html)\n+\u5b89\u88c5Ozone\u96c6\u7fa4\uff0c\u5e76\u9075\u5faa[\u5377\u547d\u4ee4](https://hadoop.apache.org/ozone/docs/1.0.0/shell/volumecommands.html)\u548c \n+[\u6876\u547d\u4ee4](https://hadoop.apache.org/ozone /docs/1.0.0/shell/bucketcommands.html)\u521b\u5efaOzone\u96c6\u7fa4\u7684\u5377\u548c\u5b58\u50a8\u6876\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "531f4d6956b4aba79d942e7718c457cd7851034e"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1121, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}