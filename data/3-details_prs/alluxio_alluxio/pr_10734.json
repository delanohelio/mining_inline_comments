{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzM1MDI3", "number": 10734, "title": "Implement basic version of getDatabase in catalog service", "bodyText": "Note here getDatabase returns an object that contains only the database name.\nA subsequent PR will add more content into this database object and the associated Udb object to populate this database object.", "createdAt": "2020-01-13T21:41:10Z", "url": "https://github.com/Alluxio/alluxio/pull/10734", "merged": true, "mergeCommit": {"oid": "a9c7a281b5ff27a9fc51861bcd0b01b0429ed3ac"}, "closed": true, "closedAt": "2020-01-14T00:39:17Z", "author": {"login": "yuzhu"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6DQsQgH2gAyMzYyMzM1MDI3OjE0NjZhNjdjMzJmMzY1NzZmNjkyNzAwMDU4NzNmN2ZjYmYxNTBjNWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6FvF9AFqTM0MjIyNjMyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1466a67c32f36576f69270005873f7fcbf150c5c", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/1466a67c32f36576f69270005873f7fcbf150c5c", "committedDate": "2020-01-13T21:30:29Z", "message": "implement basic getDatabase\n\nNote here getDatabase returns an object that only contains the database name.\nA subsequent PR will add more content into this database object."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43d0eff95d3e224d75f8dd9f1b0f9da4d2a86700", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/43d0eff95d3e224d75f8dd9f1b0f9da4d2a86700", "committedDate": "2020-01-13T21:39:14Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMTYwMjMy", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342160232", "createdAt": "2020-01-13T21:44:49Z", "commit": {"oid": "43d0eff95d3e224d75f8dd9f1b0f9da4d2a86700"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMTo0NDo0OVrOFdFmwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMTo0NDo0OVrOFdFmwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA0NDg2NQ==", "bodyText": "nit: typo", "url": "https://github.com/Alluxio/alluxio/pull/10734#discussion_r366044865", "createdAt": "2020-01-13T21:44:49Z", "author": {"login": "ZacBlanco"}, "path": "table/server/master/src/main/java/alluxio/master/table/AlluxioCatalog.java", "diffHunk": "@@ -196,6 +196,19 @@ private Table getTableInternal(String dbName, String tableName) throws IOExcepti\n     return new ArrayList<>(mDBs.keySet());\n   }\n \n+  /**\n+   * Get Database by its name.\n+   *\n+   * @param dbName database name\n+   * @return a databae object", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43d0eff95d3e224d75f8dd9f1b0f9da4d2a86700"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMTYwMzU5", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342160359", "createdAt": "2020-01-13T21:45:04Z", "commit": {"oid": "43d0eff95d3e224d75f8dd9f1b0f9da4d2a86700"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9ac749499f4877da18feff8f827bb2fc54012f7", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/f9ac749499f4877da18feff8f827bb2fc54012f7", "committedDate": "2020-01-13T21:47:20Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69276b7432ebc6b9501d7ca34aa5e12d790de182", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/69276b7432ebc6b9501d7ca34aa5e12d790de182", "committedDate": "2020-01-13T23:28:36Z", "message": "add test coverage for getDatabase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjA5MTk0", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342209194", "createdAt": "2020-01-13T23:30:44Z", "commit": {"oid": "69276b7432ebc6b9501d7ca34aa5e12d790de182"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMzozMDo0NFrOFdIAUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMzozMDo0NFrOFdIAUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA4NDE3OA==", "bodyText": "won't this stop the rest of the test from being run?", "url": "https://github.com/Alluxio/alluxio/pull/10734#discussion_r366084178", "createdAt": "2020-01-13T23:30:44Z", "author": {"login": "ZacBlanco"}, "path": "tests/src/test/java/alluxio/server/ft/journal/TableMasterJournalIntegrationTest.java", "diffHunk": "@@ -92,8 +96,12 @@ public void journalAttachDb() throws Exception {\n     TableMaster tableMaster =\n         mCluster.getLocalAlluxioMaster().getMasterProcess().getMaster(TableMaster.class);\n \n+    mException.expect(IOException.class);\n+    tableMaster.getDatabase(DB_NAME);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69276b7432ebc6b9501d7ca34aa5e12d790de182"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjA5NDI4", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342209428", "createdAt": "2020-01-13T23:31:23Z", "commit": {"oid": "69276b7432ebc6b9501d7ca34aa5e12d790de182"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMzozMToyM1rOFdIBDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QyMzozMToyM1rOFdIBDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA4NDM2Ng==", "bodyText": "similarly, won't all lines after this not be executed?", "url": "https://github.com/Alluxio/alluxio/pull/10734#discussion_r366084366", "createdAt": "2020-01-13T23:31:23Z", "author": {"login": "ZacBlanco"}, "path": "table/server/master/src/test/java/alluxio/master/table/AlluxioCatalogTest.java", "diffHunk": "@@ -100,6 +100,18 @@ public void detachDb() throws Exception {\n     assertEquals(0, mCatalog.getAllDatabases().size());\n   }\n \n+  @Test\n+  public void getDb() throws Exception {\n+    String dbName = \"testdb\";\n+    TestDatabase.genTable(1, 2);\n+    mException.expect(NotFoundException.class);\n+    mCatalog.getDatabase(dbName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69276b7432ebc6b9501d7ca34aa5e12d790de182"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20eab99938b49b05d2b4d7b18df62740e3cdf38d", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/20eab99938b49b05d2b4d7b18df62740e3cdf38d", "committedDate": "2020-01-13T23:56:14Z", "message": "fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjI1MjA0", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342225204", "createdAt": "2020-01-14T00:19:56Z", "commit": {"oid": "20eab99938b49b05d2b4d7b18df62740e3cdf38d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMDoxOTo1NlrOFdI0pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMDoxOTo1NlrOFdI0pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA5NzU3NQ==", "bodyText": "i don't care that much but for the most part methods are in alphabetical order in this class. Should we try to keep it that way? the transform methods are obviously not in the right order, but the rest seem to be", "url": "https://github.com/Alluxio/alluxio/pull/10734#discussion_r366097575", "createdAt": "2020-01-14T00:19:56Z", "author": {"login": "ZacBlanco"}, "path": "table/server/master/src/main/java/alluxio/master/table/TableMaster.java", "diffHunk": "@@ -138,4 +139,12 @@ boolean detachDatabase(String dbName)\n    * @return true if the database was changed as a result\n    */\n   boolean syncDatabase(String dbName) throws IOException;\n+\n+  /**\n+   * Gets a database object.\n+   *\n+   * @param dbName the database name\n+   * @return a database object\n+   */\n+  Database getDatabase(String dbName) throws IOException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20eab99938b49b05d2b4d7b18df62740e3cdf38d"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "359b16745c1f18b4e50607dd2d48a8d2d294ac41", "author": {"user": {"login": "yuzhu", "name": "David Zhu"}}, "url": "https://github.com/Alluxio/alluxio/commit/359b16745c1f18b4e50607dd2d48a8d2d294ac41", "committedDate": "2020-01-14T00:22:38Z", "message": "use alphabetical order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjI2MzI5", "url": "https://github.com/Alluxio/alluxio/pull/10734#pullrequestreview-342226329", "createdAt": "2020-01-14T00:23:30Z", "commit": {"oid": "359b16745c1f18b4e50607dd2d48a8d2d294ac41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3287, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}