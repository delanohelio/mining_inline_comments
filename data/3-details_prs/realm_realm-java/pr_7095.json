{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0MDQ0ODU3", "number": 7095, "title": "Add support for multiple apps", "bodyText": "Closes #6920\nCloses #6996\nTODO\n\n Add test showing that you can sync against two different apps\n Add test showing that you can create two different App objects against the same Id\n Verify how logging works (I suspect it might need changes) (Verified to work by introspecting logs)\n Redirect OS commit against v10 branch once the OS PR has been merged\n Verify that ClientReset from two different apps do not accidentally override each other files.", "createdAt": "2020-09-10T16:02:22Z", "url": "https://github.com/realm/realm-java/pull/7095", "merged": true, "mergeCommit": {"oid": "b7435b467f0247c16691e09ac870d20e0750bbb8"}, "closed": true, "closedAt": "2020-09-16T09:56:15Z", "author": {"login": "cmelchior"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHi8N3gH2gAyNDg0MDQ0ODU3OjQ4ZTQyNWYzYzc1NmM5ZmY2MTllODAwNzY2YjFiNmQwMTgyZDA4ZDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJZXXTAFqTQ4OTQ2NDA2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "48e425f3c756c9ff619e800766b1b6d0182d08d9", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/48e425f3c756c9ff619e800766b1b6d0182d08d9", "committedDate": "2020-09-10T15:57:15Z", "message": "Add support for multiple apps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf69209bba499c9a7db064d9a99d3575966535af", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/bf69209bba499c9a7db064d9a99d3575966535af", "committedDate": "2020-09-14T11:36:53Z", "message": "Upgrade to latest OS commit. Add new sample app to test multiple apps."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cc65390efc50bad2bc931c47c64be0f41e6f8b6", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/7cc65390efc50bad2bc931c47c64be0f41e6f8b6", "committedDate": "2020-09-15T07:22:11Z", "message": "Add App caching when creating multiple instances. Add tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f48bb0917a66a1c5f7fc2ff6923807b027ff065", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/4f48bb0917a66a1c5f7fc2ff6923807b027ff065", "committedDate": "2020-09-15T07:25:34Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b00b443f6a99b5d73fd4ebe0d846f09d785d80a3", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/b00b443f6a99b5d73fd4ebe0d846f09d785d80a3", "committedDate": "2020-09-15T08:31:32Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9431977e09b891d396732a5aab5dd2b6e5c4faa1", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/9431977e09b891d396732a5aab5dd2b6e5c4faa1", "committedDate": "2020-09-15T09:30:15Z", "message": "Fix SpotBugs errors. Correctly clear app cache when resetting a test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/480e6e54df81e30c956303704ef173b784ce8a2a", "committedDate": "2020-09-15T09:45:54Z", "message": "More SpotBugs fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NTY1MDA3", "url": "https://github.com/realm/realm-java/pull/7095#pullrequestreview-488565007", "createdAt": "2020-09-15T11:00:21Z", "commit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMTowMDoyMVrOHR8UvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMToxNzoyOVrOHR84GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3NjE4OA==", "bodyText": "Maybe we should document what is meant by equals.", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488576188", "createdAt": "2020-09-15T11:00:21Z", "author": {"login": "rorbech"}, "path": "realm/realm-library/src/objectServer/java/io/realm/mongodb/App.java", "diffHunk": "@@ -524,6 +504,24 @@ protected void setNetworkTransport(OsJavaNetworkTransport transport) {\n         osApp.setNetworkTransport(transport);\n     }\n \n+    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU3OTk5MQ==", "bodyText": "Even more reasons to migrate to the build in app import of docker image's run.sh that already takes care of importing all app in some directory.", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488579991", "createdAt": "2020-09-15T11:07:30Z", "author": {"login": "rorbech"}, "path": "tools/sync_test_server/setup_mongodb_realm.sh", "diffHunk": "@@ -37,45 +37,57 @@ yes | stitch-cli login --config-path=/tmp/stitch-config \\\n                  --username=unique_user@domain.com \\\n                  --password=password\n \n-# 2. Attempt to import project. It will fail because of lacking secret, but create the App ID\n-#    which we need to extract from the commandline output\n-IMPORT_RESPONSE=$(stitch-cli import \\\n-                  --config-path=/tmp/stitch-config \\\n-                  --base-url=http://localhost:9090 \\\n-                  --path=/tmp/app_config \\\n-                  --app-name realm-sdk-integration-tests \\\n-                  --project-id \"$GROUP_ID\" \\\n-                  --strategy replace \\\n-                  -y)\n-APP_ID_SUFFIX=$(echo \"$IMPORT_RESPONSE\" | grep \"New app created:\" | cut -d ':' -f 2 | cut -d '-' -f 5)\n-echo \"App ID Suffix: $APP_ID_SUFFIX\"\n-\n-# 3. Create the secret(s) needed to start the Stitch app:\n-#    - a) MongoDB Service: Requires an URI.\n-stitch-cli secrets add \\\n-                  --name=\"BackingDB_uri\" \\\n-                  --value=\"mongodb://localhost:26000\" \\\n-                  --app-id=\"realm-sdk-integration-tests-$APP_ID_SUFFIX\" \\\n-                  --base-url=http://localhost:9090 \\\n-                  --config-path=/tmp/stitch-config\n-\n-#    - b) GCM (Firebase Cloud Messaging): Requires a server key - add your key here to test actual push notifications.\n-stitch-cli secrets add \\\n-                  --name=\"gcm\" \\\n-                  --value=\"gcm\" \\\n-                  --app-id=\"realm-sdk-integration-tests-$APP_ID_SUFFIX\" \\\n-                  --base-url=http://localhost:9090 \\\n-                  --config-path=/tmp/stitch-config\n-\n-# 4. Now we can correctly import the Stitch app\n-stitch-cli import \\\n-                  --config-path=/tmp/stitch-config \\\n-                  --base-url=http://localhost:9090 \\\n-                  --path=/tmp/app_config \\\n-                  --app-name realm-sdk-integration-tests \\\n-                  --project-id \"$GROUP_ID\" \\\n-                  --strategy replace \\\n-                  -y\n-\n-# 5. Store the application id in the Command Server so it can be accessed by Integration Tests on the device\n-curl -X PUT -d id=\"realm-sdk-integration-tests-$APP_ID_SUFFIX\" http://localhost:8888/application-id\n+\n+# 2. Import two identical app projects\n+APPS=( \"testapp1\" \"testapp2\" )\n+\n+for APP_NAME in \"${APPS[@]}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4MjcwMg==", "bodyText": "Again; it would maybe be nice to document the criteria for equals, but at least it is derivable from the code here.", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488582702", "createdAt": "2020-09-15T11:12:47Z", "author": {"login": "rorbech"}, "path": "realm/realm-library/src/objectServer/java/io/realm/mongodb/User.java", "diffHunk": "@@ -502,8 +502,8 @@ public boolean equals(@Nullable Object o) {\n \n         User user = (User) o;\n \n-        if (!osUser.equals(user.osUser)) return false;\n-        return app.equals(user.app);\n+        if (!osUser.getIdentity().equals(user.osUser.getIdentity())) return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4NTI0MQ==", "bodyText": "Not important, but would maybe make sense to keep the ordering in sync with the constructor arguments.", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488585241", "createdAt": "2020-09-15T11:17:29Z", "author": {"login": "rorbech"}, "path": "realm/realm-library/src/main/java/io/realm/internal/OsRealmConfig.java", "diffHunk": "@@ -222,6 +222,7 @@ private OsRealmConfig(final RealmConfiguration config,\n         Byte clientResyncMode = (Byte) syncConfigurationOptions[j++];\n         String encodedPartitionValue = (String) syncConfigurationOptions[j++];\n         Object syncService = syncConfigurationOptions[j++];\n+        Long appPtr = (Long) syncConfigurationOptions[j++];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NTc0MDc5", "url": "https://github.com/realm/realm-java/pull/7095#pullrequestreview-488574079", "createdAt": "2020-09-15T11:12:12Z", "commit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMToxMjoxMlrOHR8tIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMjowMTowNFrOHR-YdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4MjQzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Check that it is possible how have two Java instances of an App class, but they will\n          \n          \n            \n                // Check that it is possible to have two Java instances of an App class, but they will", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488582432", "createdAt": "2020-09-15T11:12:12Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/AppTests.kt", "diffHunk": "@@ -269,29 +273,55 @@ class AppTests {\n \n     @Test()\n     fun encryption() {\n-        // Remove the App instance created on setUp() because we need to create\n-        // a custom one and only one App instance is allowed\n-        tearDown()\n-\n         val context = InstrumentationRegistry.getInstrumentation().targetContext\n \n-        // Setup an App instance with a random encryption key\n-        Realm.init(context)\n-        app = TestApp(customizeConfig = {\n+        // Create new test app with a random encryption key\n+        val testApp = TestApp(appName = TEST_APP_2, customizeConfig = {\n             it.encryptionKey(TestHelper.getRandomKey())\n         })\n \n-        val metadataDir = File(context.filesDir, \"mongodb-realm/server-utility/metadata/\")\n-        val config = RealmConfiguration.Builder()\n-                .name(\"sync_metadata.realm\")\n-                .directory(metadataDir)\n-                .build()\n-\n-        assertTrue(File(config.path).exists())\n+        try {\n+            // Create Realm in order to create the sync metadata Realm\n+            var user = testApp.login(Credentials.anonymous())\n+            val syncConfig = SyncConfiguration.defaultConfig(user, \"foo\")\n+            Realm.getInstance(syncConfig).close()\n+\n+            // Create a configuration pointing to the metadata Realm for that app\n+            val metadataDir = File(context.filesDir, \"mongodb-realm/${testApp.configuration.appId}/server-utility/metadata/\")\n+            val config = RealmConfiguration.Builder()\n+                    .name(\"sync_metadata.realm\")\n+                    .directory(metadataDir)\n+                    .build()\n+            assertTrue(File(config.path).exists())\n+\n+            // Open the metadata realm file without a valid encryption key\n+            assertFailsWith<RealmFileException> {\n+                DynamicRealm.getInstance(config)\n+            }\n+        } finally {\n+            testApp.close()\n+        }\n+    }\n \n-        // Open the metadata realm file without a valid encryption key\n-        assertFailsWith<RealmFileException> {\n-            DynamicRealm.getInstance(config)\n+    // Check that it is possible how have two Java instances of an App class, but they will", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODU4NDQ1Mg==", "bodyText": "Well, empty is the same initial state. Is there a test that writes different bits to each realm then check it's fetched correctly locally by each App?", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488584452", "createdAt": "2020-09-15T11:15:59Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/mongodb/sync/SyncedRealmTests.kt", "diffHunk": "@@ -467,6 +469,40 @@ class SyncedRealmTests {\n         }\n     }\n \n+    // Check that we can create multiple apps that synchronize with each other\n+    @Test\n+    fun multipleAppsCanSync() {\n+        val app2 = TestApp(appName = TEST_APP_2)\n+        var realm1: Realm? = null\n+        var realm2: Realm? = null\n+        try {\n+            // Login users on both Realms\n+            val app1User = app.login(Credentials.anonymous())\n+            val app2User = app2.login(Credentials.anonymous())\n+            assertNotEquals(app1User, app2User)\n+\n+            // Create one Realm against each app\n+            val config1 = configFactory.createSyncConfigurationBuilder(app1User, BsonString(\"foo\"))\n+                    .modules(DefaultSyncSchema())\n+                    .build()\n+            val config2 = configFactory.createSyncConfigurationBuilder(app2User, BsonString(\"foo\"))\n+                    .modules(DefaultSyncSchema())\n+                    .build()\n+\n+            // Make sure we can synchronize changes\n+            realm1 = Realm.getInstance(config1)\n+            realm2 = Realm.getInstance(config2)\n+            realm1.syncSession.downloadAllServerChanges()\n+            realm2.syncSession.downloadAllServerChanges()\n+            Assert.assertTrue(realm1.isEmpty)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYwNTI1MQ==", "bodyText": "I assume this call is synchronized and the app_id is stable/unique", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488605251", "createdAt": "2020-09-15T11:52:58Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/main/cpp/io_realm_internal_objectstore_OsApp.cpp", "diffHunk": "@@ -109,6 +109,18 @@ JNIEXPORT jlong JNICALL Java_io_realm_internal_objectstore_OsApp_nativeCreate(JN\n                                                                jstring j_sdk_version)\n {\n     try {\n+\n+        JStringAccessor app_id(env, j_app_id);\n+\n+        // Check if we already have a cached instance, if yes, return that instead. The Java GC\n+        // will only cleanup the shared pointer, but leave the cached instance alone. This also\n+        // means that no App is never fully closed. This should be safe as App doesn't implement\n+        // Closable in Java, so it doesn't have a a visible lifecycle.\n+        auto cached_app = App::get_cached_app(app_id);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYwNjQwMw==", "bodyText": "missing the rest of the comment?", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488606403", "createdAt": "2020-09-15T11:55:02Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/objectServer/java/io/realm/internal/SyncObjectServerFacade.java", "diffHunk": "@@ -88,6 +90,18 @@ public void realmClosed(RealmConfiguration configuration) {\n             String urlPrefix = syncConfig.getUrlPrefix();\n             String customAuthorizationHeaderName = app.getConfiguration().getAuthorizationHeaderName();\n             Map<String, String> customHeaders = app.getConfiguration().getCustomRequestHeaders();\n+            long appNativePointer;\n+\n+            // We cannot get the app native pointer without exposing it in the public API due to\n+            // how our packages are structured. Instead of polluting the API we", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYwNzQ5NQ==", "bodyText": "can we cache this lookup of OsApp so it's not redundant for each SyncConf?", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488607495", "createdAt": "2020-09-15T11:56:52Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/objectServer/java/io/realm/internal/SyncObjectServerFacade.java", "diffHunk": "@@ -88,6 +90,18 @@ public void realmClosed(RealmConfiguration configuration) {\n             String urlPrefix = syncConfig.getUrlPrefix();\n             String customAuthorizationHeaderName = app.getConfiguration().getAuthorizationHeaderName();\n             Map<String, String> customHeaders = app.getConfiguration().getCustomRequestHeaders();\n+            long appNativePointer;\n+\n+            // We cannot get the app native pointer without exposing it in the public API due to\n+            // how our packages are structured. Instead of polluting the API we\n+            try {\n+                Field osAppField = App.class.getDeclaredField(\"osApp\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYwODA5MQ==", "bodyText": "Is this by design? can an app name be nullable?", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488608091", "createdAt": "2020-09-15T11:57:49Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/objectServer/java/io/realm/mongodb/AppConfiguration.java", "diffHunk": "@@ -187,6 +187,7 @@ public String getAppId() {\n      *\n      * @return the app name.\n      */\n+    @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODYwOTkwOQ==", "bodyText": "Does the app_id hash include the user identity also? if yes we can simplify the condition to check only on it. If not we need to maintain this and we risk having a collision in https://github.com/realm/realm-java/pull/7095/files#diff-79b05914e49eabc2a48d017ab1b7b38dR119  since two users could have the same app_id?", "url": "https://github.com/realm/realm-java/pull/7095#discussion_r488609909", "createdAt": "2020-09-15T12:01:04Z", "author": {"login": "nhachicha"}, "path": "realm/realm-library/src/objectServer/java/io/realm/mongodb/User.java", "diffHunk": "@@ -502,8 +502,8 @@ public boolean equals(@Nullable Object o) {\n \n         User user = (User) o;\n \n-        if (!osUser.equals(user.osUser)) return false;\n-        return app.equals(user.app);\n+        if (!osUser.getIdentity().equals(user.osUser.getIdentity())) return false;\n+        return app.getConfiguration().getAppId().equals(user.app.getConfiguration().getAppId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480e6e54df81e30c956303704ef173b784ce8a2a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5834c6cabb667d4c4501e1ec70ee55cfdffc778", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/b5834c6cabb667d4c4501e1ec70ee55cfdffc778", "committedDate": "2020-09-15T13:07:34Z", "message": "Merge branch 'v10' into cm/multiple-app-support\n\n# Conflicts:\n#\trealm/realm-library/src/androidTestObjectServer/kotlin/io/realm/AppTests.kt\n#\trealm/realm-library/src/objectServer/java/io/realm/mongodb/sync/SyncSession.java\n#\trealm/realm-library/src/syncTestUtils/kotlin/io/realm/TestApp.kt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a078d379a5161e3b2ac0c8237acd1280480630b0", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/a078d379a5161e3b2ac0c8237acd1280480630b0", "committedDate": "2020-09-15T14:42:35Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4ODkxNzI4", "url": "https://github.com/realm/realm-java/pull/7095#pullrequestreview-488891728", "createdAt": "2020-09-15T17:08:41Z", "commit": {"oid": "a078d379a5161e3b2ac0c8237acd1280480630b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e470facfec65e245c523bf61b4665b15dd15682", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/7e470facfec65e245c523bf61b4665b15dd15682", "committedDate": "2020-09-16T05:39:38Z", "message": "Fix API changes after merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b793775183294d0b4f7653cb7d8518bdbc74b03d", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/b793775183294d0b4f7653cb7d8518bdbc74b03d", "committedDate": "2020-09-16T06:02:12Z", "message": "PR feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aab6fef5bdfc8a864d0d183a8dc9d1348e95b8a3", "author": {"user": {"login": "cmelchior", "name": "Christian Melchior"}}, "url": "https://github.com/realm/realm-java/commit/aab6fef5bdfc8a864d0d183a8dc9d1348e95b8a3", "committedDate": "2020-09-16T07:27:00Z", "message": "Fix CheckStyle warning"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NDY0MDYy", "url": "https://github.com/realm/realm-java/pull/7095#pullrequestreview-489464062", "createdAt": "2020-09-16T09:55:42Z", "commit": {"oid": "aab6fef5bdfc8a864d0d183a8dc9d1348e95b8a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2369, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}