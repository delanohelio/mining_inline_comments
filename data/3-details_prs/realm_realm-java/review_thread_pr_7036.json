{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4ODc3Njk2", "number": 7036, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNTozMDozNVrOEaCCBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNzowNToxM1rOEbbpSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzMxNzE3OnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNTozMDozNVrOHDM4-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwODoxMDozNlrOHEhbgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExODk2OA==", "bodyText": "There also seem to be spotbugsBase and spotBugsObjectServer. Not 100% sure what Main covers?", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r473118968", "createdAt": "2020-08-19T15:30:35Z", "author": {"login": "cmelchior"}, "path": "Jenkinsfile", "diffHunk": "@@ -183,9 +183,16 @@ def runBuild(abiFilter, instrumentationTestTarget) {\n     },\n     'Static code analysis' : {\n       try {\n-        gradle('realm', \"findbugs ${abiFilter}\") // FIXME Renable pmd and checkstyle\n+        gradle('realm', \"spotbugsMain ${abiFilter}\") // FIXME Renable pmd and checkstyle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef53c96dea39a9501b1997a8822fe49359273dd3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExOTYxOQ==", "bodyText": "Ah sorry. Missed the change where you configure this as its own target \ud83e\udd26 \ud83d\udc4d", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r473119619", "createdAt": "2020-08-19T15:31:37Z", "author": {"login": "cmelchior"}, "path": "Jenkinsfile", "diffHunk": "@@ -183,9 +183,16 @@ def runBuild(abiFilter, instrumentationTestTarget) {\n     },\n     'Static code analysis' : {\n       try {\n-        gradle('realm', \"findbugs ${abiFilter}\") // FIXME Renable pmd and checkstyle\n+        gradle('realm', \"spotbugsMain ${abiFilter}\") // FIXME Renable pmd and checkstyle", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExODk2OA=="}, "originalCommit": {"oid": "ef53c96dea39a9501b1997a8822fe49359273dd3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDUwNDA2NQ==", "bodyText": "It doesnt allow me to set the \"spotbugs\" name to the task.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r474504065", "createdAt": "2020-08-21T08:10:36Z", "author": {"login": "clementetb"}, "path": "Jenkinsfile", "diffHunk": "@@ -183,9 +183,16 @@ def runBuild(abiFilter, instrumentationTestTarget) {\n     },\n     'Static code analysis' : {\n       try {\n-        gradle('realm', \"findbugs ${abiFilter}\") // FIXME Renable pmd and checkstyle\n+        gradle('realm', \"spotbugsMain ${abiFilter}\") // FIXME Renable pmd and checkstyle", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExODk2OA=="}, "originalCommit": {"oid": "ef53c96dea39a9501b1997a8822fe49359273dd3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MTk1ODIwOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNjo0OTo0OVrOHFWrIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMTowMzowMlrOHFfhuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM3NjQxOA==", "bodyText": "Not sure how long time it takes, but I guess javadoc could be generated in parallel.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475376418", "createdAt": "2020-08-24T06:49:49Z", "author": {"login": "rorbech"}, "path": "Jenkinsfile", "diffHunk": "@@ -175,7 +175,7 @@ try {\n def runBuild(abiFilter, instrumentationTestTarget) {\n \n   stage('Build') {\n-    sh \"chmod +x gradlew && ./gradlew assemble javadoc ${abiFilter} --stacktrace\"\n+    sh \"chmod +x gradlew && ./gradlew assemble ${abiFilter} --stacktrace && ./gradlew javadoc ${abiFilter} --stacktrace\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUyMTQ2Nw==", "bodyText": "It takes ~5s to generate the javadoc, I have added a new step in Jenkins for it.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475521467", "createdAt": "2020-08-24T11:03:02Z", "author": {"login": "clementetb"}, "path": "Jenkinsfile", "diffHunk": "@@ -175,7 +175,7 @@ try {\n def runBuild(abiFilter, instrumentationTestTarget) {\n \n   stage('Build') {\n-    sh \"chmod +x gradlew && ./gradlew assemble javadoc ${abiFilter} --stacktrace\"\n+    sh \"chmod +x gradlew && ./gradlew assemble ${abiFilter} --stacktrace && ./gradlew javadoc ${abiFilter} --stacktrace\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM3NjQxOA=="}, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MTk2MjM2OnYy", "diffSide": "RIGHT", "path": "dependencies.list", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNjo1MToxOVrOHFWtoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMTowNDoxMFrOHFfj3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM3NzA1Ng==", "bodyText": "Might want to strip the version here too, or is gradle to dangerous to use as variable name?", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475377056", "createdAt": "2020-08-24T06:51:19Z", "author": {"login": "rorbech"}, "path": "dependencies.list", "diffHunk": "@@ -1,21 +1,26 @@\n # Realm Sync release used by Realm Java (This includes Realm Core)\n # https://github.com/realm/realm-sync/releases\n-REALM_SYNC_VERSION=10.0.0-beta.6\n+REALM_SYNC=10.0.0-beta.6\n REALM_SYNC_SHA256=824192a67e7ded59d33707265f78c8d5546b1fef473e9ee5ecff8a5bc9f8506e\n \n # Version of MongoDB Realm used by integration tests\n # See https://github.com/realm/ci/packages/147854 for available versions\n-MONGODB_REALM_SERVER_VERSION=2020-08-17\n+MONGODB_REALM_SERVER=2020-08-17\n \n # Common Android settings across projects\n-GRADLE_BUILD_TOOLS=3.6.1\n+GRADLE_BUILD_TOOLS=4.0.0\n ANDROID_BUILD_TOOLS=29.0.3\n+KOTLIN=1.3.72\n \n # Common classpath dependencies\n-gradleVersion=5.6.4\n+gradleVersion=6.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUyMjAxNQ==", "bodyText": "Actually this variable wasn't being used anywhere. I have renamed the variable and tweaked the gradle update script to make use of this variable.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475522015", "createdAt": "2020-08-24T11:04:10Z", "author": {"login": "clementetb"}, "path": "dependencies.list", "diffHunk": "@@ -1,21 +1,26 @@\n # Realm Sync release used by Realm Java (This includes Realm Core)\n # https://github.com/realm/realm-sync/releases\n-REALM_SYNC_VERSION=10.0.0-beta.6\n+REALM_SYNC=10.0.0-beta.6\n REALM_SYNC_SHA256=824192a67e7ded59d33707265f78c8d5546b1fef473e9ee5ecff8a5bc9f8506e\n \n # Version of MongoDB Realm used by integration tests\n # See https://github.com/realm/ci/packages/147854 for available versions\n-MONGODB_REALM_SERVER_VERSION=2020-08-17\n+MONGODB_REALM_SERVER=2020-08-17\n \n # Common Android settings across projects\n-GRADLE_BUILD_TOOLS=3.6.1\n+GRADLE_BUILD_TOOLS=4.0.0\n ANDROID_BUILD_TOOLS=29.0.3\n+KOTLIN=1.3.72\n \n # Common classpath dependencies\n-gradleVersion=5.6.4\n+gradleVersion=6.5", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM3NzA1Ng=="}, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MTk3MDYzOnYy", "diffSide": "RIGHT", "path": "dependencies.list", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNjo1NDo0OFrOHFWy1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNjo1NDo0OFrOHFWy1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM3ODM4OQ==", "bodyText": "Is this used for anything? Gradle version is given by gradle-wrapper.properties. If this is just for an overview of dependencies, maybe just put a pointer to the file. Alternatively we should maybe verify this version against the executing gradle version.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475378389", "createdAt": "2020-08-24T06:54:48Z", "author": {"login": "rorbech"}, "path": "dependencies.list", "diffHunk": "@@ -1,21 +1,26 @@\n # Realm Sync release used by Realm Java (This includes Realm Core)\n # https://github.com/realm/realm-sync/releases\n-REALM_SYNC_VERSION=10.0.0-beta.6\n+REALM_SYNC=10.0.0-beta.6\n REALM_SYNC_SHA256=824192a67e7ded59d33707265f78c8d5546b1fef473e9ee5ecff8a5bc9f8506e\n \n # Version of MongoDB Realm used by integration tests\n # See https://github.com/realm/ci/packages/147854 for available versions\n-MONGODB_REALM_SERVER_VERSION=2020-08-17\n+MONGODB_REALM_SERVER=2020-08-17\n \n # Common Android settings across projects\n-GRADLE_BUILD_TOOLS=3.6.1\n+GRADLE_BUILD_TOOLS=4.0.0\n ANDROID_BUILD_TOOLS=29.0.3\n+KOTLIN=1.3.72\n \n # Common classpath dependencies\n-gradleVersion=5.6.4\n+gradleVersion=6.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MTk5OTQ1OnYy", "diffSide": "RIGHT", "path": "realm/realm-library/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQwNzowNToxM1rOHFXEHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMTowNDo0OFrOHFflCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM4MjgxMw==", "bodyText": "As far as I remember there are some of the types from this library that is actually part of our API (Decoder, CodecRegistry, etc)...at least for the sync flavor, in which case it would be more correct to have this as an api dependency.", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475382813", "createdAt": "2020-08-24T07:05:13Z", "author": {"login": "rorbech"}, "path": "realm/realm-library/build.gradle", "diffHunk": "@@ -217,22 +218,19 @@ dependencies {\n     api \"io.realm:realm-annotations:${version}\"\n     implementation 'com.google.code.findbugs:jsr305:3.0.2'\n     implementation 'com.getkeepsafe.relinker:relinker:1.4.0'\n-    implementation \"org.mongodb:bson:${properties.getProperty('BSON_DEPENDENCY_VERSION')}\"\n-    implementation('io.reactivex.rxjava2:rxandroid:2.1.1') {\n+    implementation \"org.mongodb:bson:${properties.getProperty('BSON_DEPENDENCY')}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUyMjMxNA==", "bodyText": "makes sense \ud83d\udc4c\ud83d\udc4c", "url": "https://github.com/realm/realm-java/pull/7036#discussion_r475522314", "createdAt": "2020-08-24T11:04:48Z", "author": {"login": "clementetb"}, "path": "realm/realm-library/build.gradle", "diffHunk": "@@ -217,22 +218,19 @@ dependencies {\n     api \"io.realm:realm-annotations:${version}\"\n     implementation 'com.google.code.findbugs:jsr305:3.0.2'\n     implementation 'com.getkeepsafe.relinker:relinker:1.4.0'\n-    implementation \"org.mongodb:bson:${properties.getProperty('BSON_DEPENDENCY_VERSION')}\"\n-    implementation('io.reactivex.rxjava2:rxandroid:2.1.1') {\n+    implementation \"org.mongodb:bson:${properties.getProperty('BSON_DEPENDENCY')}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM4MjgxMw=="}, "originalCommit": {"oid": "74298fb054e23d1c601fd35a4b4a5cf6c24728ef"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 483, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}