{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4Njc5NTgy", "number": 6859, "title": "Migrate and reenable SyncedRealmTests", "bodyText": "Seems like Realm.compactRealm(config) sometimes returns false after closing the realm, so kept compactRealm_populatedRealm disabled.", "createdAt": "2020-05-15T16:13:17Z", "url": "https://github.com/realm/realm-java/pull/6859", "merged": true, "mergeCommit": {"oid": "38bdee258a725ef0dc1f13df69374b699d76963f"}, "closed": true, "closedAt": "2020-05-30T09:26:54Z", "author": {"login": "rorbech"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchkY08gH2gAyNDE4Njc5NTgyOjcyODA4OTVjZGYzYTI5NWM3YWQwODlmMDEyN2E2ZjI5YmVlMWYxZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmDmKOAFqTQyMTAyMzcxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7280895cdf3a295c7ad089f0127a6f29bee1f1d8", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/7280895cdf3a295c7ad089f0127a6f29bee1f1d8", "committedDate": "2020-05-15T16:09:17Z", "message": "Migrate and reenable SyncedRealmTests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMzMwMDAw", "url": "https://github.com/realm/realm-java/pull/6859#pullrequestreview-413330000", "createdAt": "2020-05-18T07:22:49Z", "commit": {"oid": "7280895cdf3a295c7ad089f0127a6f29bee1f1d8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNzoyMjo0OVrOGWqZmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwNzoyMzowNFrOGWqaHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQxNjUzNw==", "bodyText": "There was a FIXME in KotlinSyncedRealmTeststo merge it into this one once we migrated to Kotlin. Might as well be part of this PR.", "url": "https://github.com/realm/realm-java/pull/6859#discussion_r426416537", "createdAt": "2020-05-18T07:22:49Z", "author": {"login": "cmelchior"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/SyncedRealmTests.kt", "diffHunk": "@@ -0,0 +1,123 @@\n+/*\n+ * Copyright 2020 Realm Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.realm\n+\n+import androidx.test.ext.junit.runners.AndroidJUnit4\n+import androidx.test.platform.app.InstrumentationRegistry\n+import io.realm.SyncTestUtils.Companion.createTestUser\n+import io.realm.entities.AllJavaTypes\n+import io.realm.entities.AllTypes\n+import org.junit.*\n+import org.junit.Assert.*\n+import org.junit.runner.RunWith\n+import java.io.File\n+import java.io.IOException\n+\n+/**\n+ * Testing sync specific methods on [Realm].\n+ */\n+@RunWith(AndroidJUnit4::class)\n+class SyncedRealmTests {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7280895cdf3a295c7ad089f0127a6f29bee1f1d8"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQxNjY2OQ==", "bodyText": "Just delete this test", "url": "https://github.com/realm/realm-java/pull/6859#discussion_r426416669", "createdAt": "2020-05-18T07:23:04Z", "author": {"login": "cmelchior"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/SyncedRealmTests.kt", "diffHunk": "@@ -0,0 +1,123 @@\n+/*\n+ * Copyright 2020 Realm Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.realm\n+\n+import androidx.test.ext.junit.runners.AndroidJUnit4\n+import androidx.test.platform.app.InstrumentationRegistry\n+import io.realm.SyncTestUtils.Companion.createTestUser\n+import io.realm.entities.AllJavaTypes\n+import io.realm.entities.AllTypes\n+import org.junit.*\n+import org.junit.Assert.*\n+import org.junit.runner.RunWith\n+import java.io.File\n+import java.io.IOException\n+\n+/**\n+ * Testing sync specific methods on [Realm].\n+ */\n+@RunWith(AndroidJUnit4::class)\n+class SyncedRealmTests {\n+    @get:Rule\n+    val configFactory = TestSyncConfigurationFactory()\n+\n+    private lateinit var app: RealmApp\n+\n+    @Before\n+    fun setUp() {\n+        app = TestRealmApp()\n+    }\n+\n+    @After\n+    fun tearDown() {\n+        if (this::app.isInitialized) {\n+            app.close()\n+        }\n+    }\n+\n+    // Test for https://github.com/realm/realm-java/issues/6619\n+    @Test\n+    @Ignore(\"Only relates to query based sync, will be going to be removed anyway\")\n+    @Throws(IOException::class)\n+    fun testUpgradingOptionalSubscriptionFields() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7280895cdf3a295c7ad089f0127a6f29bee1f1d8"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5a0c51af784d2e43db67bd8a8529dfcebf70c42", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/e5a0c51af784d2e43db67bd8a8529dfcebf70c42", "committedDate": "2020-05-25T12:01:35Z", "message": "Merge branch 'v10' into cr/sync-test-migration-syncedrealm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13592751829f7cfbffd023592856fcdaf146399f", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/13592751829f7cfbffd023592856fcdaf146399f", "committedDate": "2020-05-25T12:03:23Z", "message": "Remove query based sync test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "976b210cd674e9204976fff13c234cbd227ecb47", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/976b210cd674e9204976fff13c234cbd227ecb47", "committedDate": "2020-05-25T12:25:32Z", "message": "Merged all Kotlin sync realm tests to same class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "565ce63530f725b2b093b04d31140246e1875f06", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/565ce63530f725b2b093b04d31140246e1875f06", "committedDate": "2020-05-25T13:07:27Z", "message": "Updated SyncedRealmTests to `use`-pattern"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "746b41dbad4c096dc71daec96e2b37c948079e01", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/746b41dbad4c096dc71daec96e2b37c948079e01", "committedDate": "2020-05-25T13:10:01Z", "message": "Fix ignored test no longer crashing server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6696e6d51648afcb98e97eaabc9f01eb65b82033", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/6696e6d51648afcb98e97eaabc9f01eb65b82033", "committedDate": "2020-05-26T08:05:49Z", "message": "Merge branch 'v10' into cr/sync-test-migration-syncedrealm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d090b99a465e35daedfb8fba9caff9ab85623dc5", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/d090b99a465e35daedfb8fba9caff9ab85623dc5", "committedDate": "2020-05-26T09:43:03Z", "message": "Fix test using fake user"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "161d7967444b20b620145529fad7745acbbc2afd", "author": {"user": {"login": "rorbech", "name": "Claus R\u00f8rbech"}}, "url": "https://github.com/realm/realm-java/commit/161d7967444b20b620145529fad7745acbbc2afd", "committedDate": "2020-05-26T10:36:42Z", "message": "Add FIXME to ignored flaky test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMDIzNzEw", "url": "https://github.com/realm/realm-java/pull/6859#pullrequestreview-421023710", "createdAt": "2020-05-29T14:46:36Z", "commit": {"oid": "161d7967444b20b620145529fad7745acbbc2afd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2538, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}