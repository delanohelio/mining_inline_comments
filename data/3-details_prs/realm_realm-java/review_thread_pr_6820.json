{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNTE4ODA4", "number": 6820, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNzowNDo1NFrOD43yqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNzowNDo1NFrOD43yqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwOTYwOTM3OnYy", "diffSide": "RIGHT", "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/KotlinSyncedRealmTests.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNzowNDo1NFrOGP0p9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNzoxNzoxNFrOGP07vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI0NDUzMg==", "bodyText": "Is this normal way of doing it. If so, seems like something others could also forget and it could be worth considering adding an argument to downloadAllServerChanges to force people to think of it.", "url": "https://github.com/realm/realm-java/pull/6820#discussion_r419244532", "createdAt": "2020-05-04T07:04:54Z", "author": {"login": "rorbech"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/KotlinSyncedRealmTests.kt", "diffHunk": "@@ -122,6 +122,7 @@ class KotlinSyncedRealmTests { // FIXME: Rename to SyncedRealmTests once remaini\n         val config2 = createDefaultConfig(user2, partitionValue)\n         realm = Realm.getInstance(config2)\n         realm.syncSession.downloadAllServerChanges()\n+        realm.refresh()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ad69f7d893e6d42b6d15ec604ca2a2d4ab2236d"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI0OTA4NA==", "bodyText": "Yes, the problem is that downloadAllServerChanges block until the background thread doing the download is done, but the Realm on the caller thread is not automatically updated. I created this issue: #6814 to track it. Because it is not entirely trivial.", "url": "https://github.com/realm/realm-java/pull/6820#discussion_r419249084", "createdAt": "2020-05-04T07:17:14Z", "author": {"login": "cmelchior"}, "path": "realm/realm-library/src/androidTestObjectServer/kotlin/io/realm/KotlinSyncedRealmTests.kt", "diffHunk": "@@ -122,6 +122,7 @@ class KotlinSyncedRealmTests { // FIXME: Rename to SyncedRealmTests once remaini\n         val config2 = createDefaultConfig(user2, partitionValue)\n         realm = Realm.getInstance(config2)\n         realm.syncSession.downloadAllServerChanges()\n+        realm.refresh()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI0NDUzMg=="}, "originalCommit": {"oid": "0ad69f7d893e6d42b6d15ec604ca2a2d4ab2236d"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 670, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}