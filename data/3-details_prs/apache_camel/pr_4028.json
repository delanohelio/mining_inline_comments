{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTg3MDk5", "number": 4028, "title": "camel-arangodb: add components configuration", "bodyText": "[ ] Make sure there is a JIRA issue filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.\n[ ] Each commit in the pull request should have a meaningful subject line and body.\n[ ] If you're unsure, you can format the pull request title like [CAMEL-XXX] Fixes bug in camel-file component, where you replace CAMEL-XXX with the appropriate JIRA issue.\n[ ] Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n[ ] Run mvn clean install -Psourcecheck in your module with source check enabled to make sure basic checks pass and there are no checkstyle violations. A more thorough check will be performed on your pull request automatically.\nBelow are the contribution guidelines:\nhttps://github.com/apache/camel/blob/master/CONTRIBUTING.md", "createdAt": "2020-07-21T15:37:22Z", "url": "https://github.com/apache/camel/pull/4028", "merged": true, "mergeCommit": {"oid": "ddb28b739cd5968eabf1889724889217bfe968e8"}, "closed": true, "closedAt": "2020-07-22T13:29:56Z", "author": {"login": "zbendhiba"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3IGihAFqTQ1MjU4NTIwMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3XqKPgFqTQ1MzE2MTUzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNTg1MjAw", "url": "https://github.com/apache/camel/pull/4028#pullrequestreview-452585200", "createdAt": "2020-07-21T15:38:18Z", "commit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNTkwNTU0", "url": "https://github.com/apache/camel/pull/4028#pullrequestreview-452590554", "createdAt": "2020-07-21T15:43:52Z", "commit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0Mzo1M1rOG0-PLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0NzoxMlrOG0-Yxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5ODgyOA==", "bodyText": "I'd assume at least host and port are required, then I think it makes sense to add required metadata to any required fields.", "url": "https://github.com/apache/camel/pull/4028#discussion_r458198828", "createdAt": "2020-07-21T15:43:53Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5OTg4Ng==", "bodyText": "Also label here are missing for the configurations, e.g: producer, consumer or common .. etc", "url": "https://github.com/apache/camel/pull/4028#discussion_r458199886", "createdAt": "2020-07-21T15:45:17Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;\n+    @UriParam\n+    private int port;\n+    @UriParam(label = \"security\", secret = true)\n+    private String user;\n+    @UriParam(label = \"security\", secret = true)\n+    private String password;\n+    @UriParam", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwMTI4Nw==", "bodyText": "Perhaps before setting the database, it would make sense to check its validity (e.g: is not empty)", "url": "https://github.com/apache/camel/pull/4028#discussion_r458201287", "createdAt": "2020-07-21T15:47:12Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbComponent.java", "diffHunk": "@@ -18,15 +18,44 @@\n \n import java.util.Map;\n \n+import org.apache.camel.CamelContext;\n import org.apache.camel.Endpoint;\n+import org.apache.camel.spi.Metadata;\n+import org.apache.camel.spi.annotations.Component;\n import org.apache.camel.support.DefaultComponent;\n \n-@org.apache.camel.spi.annotations.Component(\"arangodb\")\n+@Component(\"arangodb\")\n public class ArangoDbComponent extends DefaultComponent {\n \n+    @Metadata\n+    private ArangoDbConfiguration configuration = new ArangoDbConfiguration();\n+\n+    public ArangoDbComponent() {\n+        this(null);\n+    }\n+\n+    public ArangoDbComponent(CamelContext context) {\n+        super(context);\n+    }\n+\n     protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {\n-        Endpoint endpoint = new ArangoDbEndpoint(uri, this);\n+        final ArangoDbConfiguration configuration = this.configuration != null ? this.configuration.copy() : new ArangoDbConfiguration();\n+        configuration.setDatabase(remaining);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed6df277cb2bbae4c5603b992552f2232998a667", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/ed6df277cb2bbae4c5603b992552f2232998a667", "committedDate": "2020-07-22T09:37:41Z", "message": "camel-arangodb: add components attributes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/187286283b52f84f06ae7617ab14aa3abaaa9e37", "committedDate": "2020-07-21T13:35:56Z", "message": "camel-arangodb: add components attributes"}, "afterCommit": {"oid": "ed6df277cb2bbae4c5603b992552f2232998a667", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/ed6df277cb2bbae4c5603b992552f2232998a667", "committedDate": "2020-07-22T09:37:41Z", "message": "camel-arangodb: add components attributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTU3NDI0", "url": "https://github.com/apache/camel/pull/4028#pullrequestreview-453157424", "createdAt": "2020-07-22T09:40:02Z", "commit": {"oid": "ed6df277cb2bbae4c5603b992552f2232998a667"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTYxNTM4", "url": "https://github.com/apache/camel/pull/4028#pullrequestreview-453161538", "createdAt": "2020-07-22T09:45:47Z", "commit": {"oid": "ed6df277cb2bbae4c5603b992552f2232998a667"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2973, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}