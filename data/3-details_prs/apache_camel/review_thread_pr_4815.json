{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0ODk5NzUw", "number": 4815, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowODo1NlrOFI3FbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowOToxN1rOFI3FoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0ODM1NDM3OnYy", "diffSide": "RIGHT", "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowODo1NlrOILBH4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQyMToxNToxOVrOIMCKBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ==", "bodyText": "Is it only confluent that has avra deseriazlier and this implies you are using confluent schema registry. Can we make this example also work with other schema registries? And add some more notes on this? And btw the example is using endpoint-dsl which we should mention.", "url": "https://github.com/apache/camel/pull/4815#discussion_r548423651", "createdAt": "2020-12-24T07:08:56Z", "author": {"login": "davsclaus"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDE2OA==", "bodyText": "I am all for improving it, but please note that I am totally lacking on the required expertise. All I did in this PR is just summing up the info gathered by @tstuber in apache/camel-quarkus#1960 .", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480168", "createdAt": "2020-12-24T10:15:09Z", "author": {"login": "ppalaga"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ=="}, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ4OTE1Nw==", "bodyText": "Actually, the adjusted code misses now a closing bracket at the end: .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\"))", "url": "https://github.com/apache/camel/pull/4815#discussion_r549489157", "createdAt": "2020-12-28T21:15:19Z", "author": {"login": "tstuber"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzY1MQ=="}, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0ODM1NDg4OnYy", "diffSide": "RIGHT", "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwNzowOToxN1rOILBINw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxMDoxNzo0M1rOILEnww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ==", "bodyText": "You would not call resolve when using endpoint-dsl creating routes", "url": "https://github.com/apache/camel/pull/4815#discussion_r548423735", "createdAt": "2020-12-24T07:09:17Z", "author": {"login": "davsclaus"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")\n+    .resolve(getContext()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDM0Ng==", "bodyText": "OK, let me remove resolve()", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480346", "createdAt": "2020-12-24T10:15:46Z", "author": {"login": "ppalaga"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")\n+    .resolve(getContext()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ=="}, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQ4MDk2Mw==", "bodyText": "Fixed in d5154d9", "url": "https://github.com/apache/camel/pull/4815#discussion_r548480963", "createdAt": "2020-12-24T10:17:43Z", "author": {"login": "ppalaga"}, "path": "catalog/camel-catalog/src/generated/resources/org/apache/camel/catalog/docs/kafka-component.adoc", "diffHunk": "@@ -580,3 +580,23 @@ from(\"kafka:my_topic?headerFilterStrategy=#myStrategy\")\n `myStrategy` object should be subclass of `HeaderFilterStrategy` and must be placed in the Camel registry, either manually or by registration as a bean in Spring/Blueprint, as it is `CamelContext` aware.\n \n include::camel-spring-boot::page$kafka-starter.adoc[]\n+\n+== Consuming Avro messages from Kafka using the schema-registry\n+*Since Camel 3.0.0*\n+\n+This route applies the schema and converts the Avro messages to POJOs for further processing:\n+\n+[source,java]\n+----\n+from(kafka(\"avro-events\")\n+    .brokers(\"localhost:9092\")\n+    .schemaRegistryURL(\"http://localhost:8081\")\n+    .specificAvroReader(true)\n+    .valueDeserializer(\"io.confluent.kafka.serializers.KafkaAvroDeserializer\")\n+    .resolve(getContext()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQyMzczNQ=="}, "originalCommit": {"oid": "80ae65ada719ca96c5e824f93b47930557bb57e0"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4744, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}