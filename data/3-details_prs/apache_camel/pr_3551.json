{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTY1NDQ1", "number": 3551, "title": "CAMEL-14514: Improve performance of Camel Google Pub/Sub", "bodyText": "Use google-cloud-pubsub library\nAsynchronous pull\nCache producers\nhttps://issues.apache.org/jira/browse/CAMEL-14514", "createdAt": "2020-02-06T23:38:41Z", "url": "https://github.com/apache/camel/pull/3551", "merged": true, "mergeCommit": {"oid": "5ef63390a07ac6aace7162718b98344897c90aa8"}, "closed": true, "closedAt": "2020-02-28T09:02:13Z", "author": {"login": "alvinkwekel"}, "timelineItems": {"totalCount": 50, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcB3x1WgFqTM1NDkyNzM4Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIZRvkgFqTM2NTU5Mjc1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0OTI3Mzg3", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-354927387", "createdAt": "2020-02-07T04:39:13Z", "commit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0OTYyMTAx", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-354962101", "createdAt": "2020-02-07T07:03:23Z", "commit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNzowMzoyM1rOFmz4aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNzowMzoyM1rOFmz4aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI0MDIzNQ==", "bodyText": "Please use explicit imports", "url": "https://github.com/apache/camel/pull/3551#discussion_r376240235", "createdAt": "2020-02-07T07:03:23Z", "author": {"login": "oscerd"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -16,14 +16,11 @@\n  */\n package org.apache.camel.component.google.pubsub;\n \n-import java.util.concurrent.ExecutorService;\n-\n-import com.google.api.services.pubsub.Pubsub;\n-import org.apache.camel.Component;\n-import org.apache.camel.Consumer;\n-import org.apache.camel.ExchangePattern;\n-import org.apache.camel.Processor;\n-import org.apache.camel.Producer;\n+import com.google.cloud.pubsub.v1.Publisher;\n+import com.google.common.cache.Cache;\n+import com.google.common.cache.CacheBuilder;\n+import com.google.common.cache.RemovalListener;\n+import org.apache.camel.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDI5MTA1", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-355029105", "createdAt": "2020-02-07T09:31:41Z", "commit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwOTozMTo0MVrOFm3IkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwOTo0NTo1N1rOFm3h6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI5MzUyMQ==", "bodyText": "Can you please run your build using the source check mvn -Psourcecheck clean install to fix the checkstyle issues, for example the missing license header in this class", "url": "https://github.com/apache/camel/pull/3551#discussion_r376293521", "createdAt": "2020-02-07T09:31:41Z", "author": {"login": "omarsmak"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/consumer/CamelMessageReceiver.java", "diffHunk": "@@ -0,0 +1,62 @@\n+package org.apache.camel.component.google.pubsub.consumer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI5NjY3Nw==", "bodyText": "Any reason to remove the private constructor since it was meant to be a singleton class?", "url": "https://github.com/apache/camel/pull/3551#discussion_r376296677", "createdAt": "2020-02-07T09:38:46Z", "author": {"login": "omarsmak"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubConstants.java", "diffHunk": "@@ -19,16 +19,12 @@\n public final class GooglePubsubConstants {\n \n     public static final String MESSAGE_ID = \"CamelGooglePubsub.MessageId\";\n-    public static final String ACK_ID = \"CamelGooglePubsub.MsgAckId\";\n     public static final String PUBLISH_TIME = \"CamelGooglePubsub.PublishTime\";\n     public static final String ATTRIBUTES = \"CamelGooglePubsub.Attributes\";\n-    public static final String ACK_DEADLINE = \"CamelGooglePubsub.AckDeadline\";\n \n     public enum AckMode {\n         AUTO, NONE\n     }\n \n-    private GooglePubsubConstants() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMwMDAwOA==", "bodyText": "My IDE reports that publisher reports this could be null, does it make sense to check for nullity here?", "url": "https://github.com/apache/camel/pull/3551#discussion_r376300008", "createdAt": "2020-02-07T09:45:57Z", "author": {"login": "omarsmak"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -57,16 +58,24 @@\n     @UriParam(name = \"concurrentConsumers\", description = \"The number of parallel streams consuming from the subscription\", defaultValue = \"1\")\n     private Integer concurrentConsumers = 1;\n \n-    @UriParam(name = \"maxMessagesPerPoll\", description = \"The max number of messages to receive from the server in a single API call\", defaultValue = \"1\")\n-    private Integer maxMessagesPerPoll = 1;\n-\n-    @UriParam(name = \"connectionFactory\", description = \"ConnectionFactory to obtain connection to PubSub Service. If non provided the default one will be used\")\n-    private GooglePubsubConnectionFactory connectionFactory;\n-\n     @UriParam(defaultValue = \"AUTO\", enums = \"AUTO,NONE\", description = \"AUTO = exchange gets ack'ed/nack'ed on completion. NONE = downstream process has to ack/nack explicitly\")\n     private GooglePubsubConstants.AckMode ackMode = GooglePubsubConstants.AckMode.AUTO;\n \n-    private Pubsub pubsub;\n+    private RemovalListener<String, Publisher> removalListener = removal -> {\n+        Publisher publisher = removal.getValue();\n+        publisher.shutdown();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2af501f744247cf6b035d9f78e2ba8584d5e3c2"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MDEzNDE2", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-358013416", "createdAt": "2020-02-13T07:58:03Z", "commit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4ODYxNjYw", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-358861660", "createdAt": "2020-02-14T10:55:30Z", "commit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxMDo1NTozMFrOFpy27Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxMTowMTo1MVrOFpzB2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM2OTE5Nw==", "bodyText": "There is some API on CamelContext via ExecutorServiceStrategy that can shutdown thread pools graceful and is recommened to use", "url": "https://github.com/apache/camel/pull/3551#discussion_r379369197", "createdAt": "2020-02-14T10:55:30Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -57,16 +62,27 @@\n     @UriParam(name = \"concurrentConsumers\", description = \"The number of parallel streams consuming from the subscription\", defaultValue = \"1\")\n     private Integer concurrentConsumers = 1;\n \n-    @UriParam(name = \"maxMessagesPerPoll\", description = \"The max number of messages to receive from the server in a single API call\", defaultValue = \"1\")\n-    private Integer maxMessagesPerPoll = 1;\n-\n-    @UriParam(name = \"connectionFactory\", description = \"ConnectionFactory to obtain connection to PubSub Service. If non provided the default one will be used\")\n-    private GooglePubsubConnectionFactory connectionFactory;\n-\n     @UriParam(defaultValue = \"AUTO\", enums = \"AUTO,NONE\", description = \"AUTO = exchange gets ack'ed/nack'ed on completion. NONE = downstream process has to ack/nack explicitly\")\n     private GooglePubsubConstants.AckMode ackMode = GooglePubsubConstants.AckMode.AUTO;\n \n-    private Pubsub pubsub;\n+    private RemovalListener<String, Publisher> removalListener = removal -> {\n+        Publisher publisher = removal.getValue();\n+        if (publisher == null) {\n+            return;\n+        }\n+        publisher.shutdown();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM2OTU0Ng==", "bodyText": "These are hardcoded values, why these values? And would it make sense for users to be able to cofigure them", "url": "https://github.com/apache/camel/pull/3551#discussion_r379369546", "createdAt": "2020-02-14T10:56:14Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -57,16 +62,27 @@\n     @UriParam(name = \"concurrentConsumers\", description = \"The number of parallel streams consuming from the subscription\", defaultValue = \"1\")\n     private Integer concurrentConsumers = 1;\n \n-    @UriParam(name = \"maxMessagesPerPoll\", description = \"The max number of messages to receive from the server in a single API call\", defaultValue = \"1\")\n-    private Integer maxMessagesPerPoll = 1;\n-\n-    @UriParam(name = \"connectionFactory\", description = \"ConnectionFactory to obtain connection to PubSub Service. If non provided the default one will be used\")\n-    private GooglePubsubConnectionFactory connectionFactory;\n-\n     @UriParam(defaultValue = \"AUTO\", enums = \"AUTO,NONE\", description = \"AUTO = exchange gets ack'ed/nack'ed on completion. NONE = downstream process has to ack/nack explicitly\")\n     private GooglePubsubConstants.AckMode ackMode = GooglePubsubConstants.AckMode.AUTO;\n \n-    private Pubsub pubsub;\n+    private RemovalListener<String, Publisher> removalListener = removal -> {\n+        Publisher publisher = removal.getValue();\n+        if (publisher == null) {\n+            return;\n+        }\n+        publisher.shutdown();\n+        try {\n+            publisher.awaitTermination(1, TimeUnit.MINUTES);\n+        } catch (Exception e) {\n+            throw new RuntimeException(e);\n+        }\n+    };\n+\n+    private Cache<String, Publisher> cachedPublishers = CacheBuilder.newBuilder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM2OTg2OA==", "bodyText": "You need to call configureConsumer", "url": "https://github.com/apache/camel/pull/3551#discussion_r379369868", "createdAt": "2020-02-14T10:56:57Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -108,9 +122,7 @@ public Producer createProducer() throws Exception {\n     public Consumer createConsumer(Processor processor) throws Exception {\n         afterPropertiesSet();\n         setExchangePattern(ExchangePattern.InOnly);\n-        GooglePubsubConsumer consumer = new GooglePubsubConsumer(this, processor);\n-        configureConsumer(consumer);\n-        return consumer;\n+        return new GooglePubsubConsumer(this, processor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM3MDY2MA==", "bodyText": "Its possible better to have such cache on the component so there is a single cache for all endpoints. And also shutdown the cache whe the componet stop", "url": "https://github.com/apache/camel/pull/3551#discussion_r379370660", "createdAt": "2020-02-14T10:58:49Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -57,16 +62,27 @@\n     @UriParam(name = \"concurrentConsumers\", description = \"The number of parallel streams consuming from the subscription\", defaultValue = \"1\")\n     private Integer concurrentConsumers = 1;\n \n-    @UriParam(name = \"maxMessagesPerPoll\", description = \"The max number of messages to receive from the server in a single API call\", defaultValue = \"1\")\n-    private Integer maxMessagesPerPoll = 1;\n-\n-    @UriParam(name = \"connectionFactory\", description = \"ConnectionFactory to obtain connection to PubSub Service. If non provided the default one will be used\")\n-    private GooglePubsubConnectionFactory connectionFactory;\n-\n     @UriParam(defaultValue = \"AUTO\", enums = \"AUTO,NONE\", description = \"AUTO = exchange gets ack'ed/nack'ed on completion. NONE = downstream process has to ack/nack explicitly\")\n     private GooglePubsubConstants.AckMode ackMode = GooglePubsubConstants.AckMode.AUTO;\n \n-    private Pubsub pubsub;\n+    private RemovalListener<String, Publisher> removalListener = removal -> {\n+        Publisher publisher = removal.getValue();\n+        if (publisher == null) {\n+            return;\n+        }\n+        publisher.shutdown();\n+        try {\n+            publisher.awaitTermination(1, TimeUnit.MINUTES);\n+        } catch (Exception e) {\n+            throw new RuntimeException(e);\n+        }\n+    };\n+\n+    private Cache<String, Publisher> cachedPublishers = CacheBuilder.newBuilder()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM2OTU0Ng=="}, "originalCommit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM3MTk5Mw==", "bodyText": "Do not wrap everything. Some of these are already osgi bundles like commons-logging and so on", "url": "https://github.com/apache/camel/pull/3551#discussion_r379371993", "createdAt": "2020-02-14T11:01:51Z", "author": {"login": "davsclaus"}, "path": "platforms/karaf/features/src/main/resources/features.xml", "diffHunk": "@@ -1128,18 +1128,49 @@\n   </feature>\n   <feature name='camel-google-pubsub' version='${project.version}' start-level='50'>\n     <feature version='${project.version}'>camel-core</feature>\n-    <bundle dependency='true'>wrap:mvn:com.google.apis/google-api-services-pubsub/${google-api-services-pubsub-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.api-client/google-api-client/${google-api-client-version}</bundle>\n-    <bundle dependency='true'>mvn:commons-codec/commons-codec/${commons-codec-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.http-client/google-http-client/${google-api-client-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.http-client/google-http-client-jackson2/${google-api-client-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.oauth-client/google-oauth-client/${google-api-client-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.oauth-client/google-oauth-client-java6/${google-api-client-version}</bundle>\n-    <bundle dependency='true'>wrap:mvn:com.google.oauth-client/google-oauth-client-jetty/${google-api-client-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.cloud/google-cloud-pubsub/${google-cloud-pubsub-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-api/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-context/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:org.codehaus.mojo/animal-sniffer-annotations/${animal-sniffer-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-stub/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-protobuf/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-protobuf-lite/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api/api-common/${google-api-common-version}</bundle>\n+    <bundle dependency='true'>mvn:com.google.protobuf/protobuf-java/${protobuf-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api.grpc/proto-google-common-protos/${google-proto-common-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api.grpc/proto-google-cloud-pubsub-v1/${google-proto-pubsub-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api.grpc/proto-google-iam-v1/${google-proto-iam-version}</bundle>\n+    <bundle dependency='true'>mvn:com.google.guava/guava/${google-guava-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api/gax/${google-gax-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.auth/google-auth-library-oauth2-http/${grpc-google-auth-library-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.http-client/google-http-client-jackson2/${google-http-jackson2-version}</bundle>\n     <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-core/${jackson2-version}</bundle>\n-    <bundle dependency='true'>mvn:org.apache.httpcomponents/httpcore-osgi/${httpcore4-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.api/gax-grpc/${google-gax-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-auth/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.auth/google-auth-library-credentials/${grpc-google-auth-library-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-netty-shaded/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-alts/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-grpclb/${grpc-version}</bundle>\n+    <bundle dependency='true'>mvn:com.google.protobuf/protobuf-java-util/${protobuf-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:org.apache.commons/commons-lang3/${commons-lang3-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:org.conscrypt/conscrypt-openjdk-uber/${conscrypt-uber-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:org.threeten/threetenbp/${threetenbp-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.code.findbugs/jsr305/${google-findbugs-jsr305-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.opencensus/opencensus-api/${opencensus-api-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.grpc/grpc-core/${grpc-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.code.gson/gson/${gson-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.android/annotations/${android-annotations-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.perfmark/perfmark-api/${perfmark-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:io.opencensus/opencensus-contrib-grpc-metrics/${opencensus-api-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.errorprone/error_prone_annotations/${google-errorprone-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.auto.value/auto-value-annotations/${google-auto-value-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:com.google.http-client/google-http-client/${google-http-client-version}</bundle>\n     <bundle dependency='true'>mvn:org.apache.httpcomponents/httpclient-osgi/${httpclient4-version}</bundle>\n-    <bundle dependency='true'>mvn:javax.servlet/javax.servlet-api/${javax-servlet-api-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:commons-logging/commons-logging/${commons-logging-version}</bundle>\n+    <bundle dependency='true'>wrap:mvn:commons-codec/commons-codec/${commons-codec-version}</bundle>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9f6745757c24e62f9f0f094c4bf0a18c25bf3f2"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NjY3NDg1", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-364667485", "createdAt": "2020-02-26T07:22:56Z", "commit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNzoyMjo1N1rOFugehg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwNzoyODoyM1rOFugldQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDMxMDkxOA==", "bodyText": "boolean", "url": "https://github.com/apache/camel/pull/3551#discussion_r384310918", "createdAt": "2020-02-26T07:22:57Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubEndpoint.java", "diffHunk": "@@ -60,14 +65,12 @@\n     @UriParam(name = \"maxMessagesPerPoll\", description = \"The max number of messages to receive from the server in a single API call\", defaultValue = \"1\")\n     private Integer maxMessagesPerPoll = 1;\n \n-    @UriParam(name = \"connectionFactory\", description = \"ConnectionFactory to obtain connection to PubSub Service. If non provided the default one will be used\")\n-    private GooglePubsubConnectionFactory connectionFactory;\n+    @UriParam(name = \"synchronousPull\", description = \"Synchronously pull batches of messages\", defaultValue = \"false\")\n+    private Boolean synchronousPull = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDMxMjIwOA==", "bodyText": "Do NOT change this as other components are dependent on this old version. Instead create a new for pubnub (guava hell)", "url": "https://github.com/apache/camel/pull/3551#discussion_r384312208", "createdAt": "2020-02-26T07:26:49Z", "author": {"login": "davsclaus"}, "path": "parent/pom.xml", "diffHunk": "@@ -230,16 +233,27 @@\n         <geronimo-jta-spec-version>1.1.1</geronimo-jta-spec-version>\n         <geronimo-ws-metadata-spec-version>1.1.3</geronimo-ws-metadata-spec-version>\n         <gmetric4j-version>1.0.10</gmetric4j-version>\n-        <google-guava-version>19.0</google-guava-version>\n+        <google-guava-version>28.1-jre</google-guava-version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDMxMjY5Mw==", "bodyText": "Avoid using commons lang - Camel has API also for checking if string is empty - StringHelper / ObjectHelper etc.", "url": "https://github.com/apache/camel/pull/3551#discussion_r384312693", "createdAt": "2020-02-26T07:28:23Z", "author": {"login": "davsclaus"}, "path": "components/camel-google-pubsub/src/main/java/org/apache/camel/component/google/pubsub/GooglePubsubComponent.java", "diffHunk": "@@ -16,19 +16,80 @@\n  */\n package org.apache.camel.component.google.pubsub;\n \n+import java.io.IOException;\n import java.util.Map;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n \n+import com.google.api.gax.core.CredentialsProvider;\n+import com.google.api.gax.core.NoCredentialsProvider;\n+import com.google.api.gax.grpc.GrpcTransportChannel;\n+import com.google.api.gax.rpc.FixedTransportChannelProvider;\n+import com.google.api.gax.rpc.TransportChannelProvider;\n+import com.google.cloud.pubsub.v1.MessageReceiver;\n+import com.google.cloud.pubsub.v1.Publisher;\n+import com.google.cloud.pubsub.v1.Subscriber;\n+import com.google.cloud.pubsub.v1.stub.SubscriberStub;\n+import com.google.cloud.pubsub.v1.stub.SubscriberStubSettings;\n+import com.google.common.cache.Cache;\n+import com.google.common.cache.CacheBuilder;\n+import com.google.common.cache.RemovalListener;\n+import io.grpc.ManagedChannel;\n+import io.grpc.ManagedChannelBuilder;\n import org.apache.camel.Endpoint;\n+import org.apache.camel.spi.Metadata;\n import org.apache.camel.spi.annotations.Component;\n import org.apache.camel.support.DefaultComponent;\n+import org.apache.commons.lang3.StringUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d163cb161b7f440c7b068e63416850de0f4a0f89", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/d163cb161b7f440c7b068e63416850de0f4a0f89", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Improve performance of Camel Google Pub/Sub\n\nUse google-cloud-pubsub library\nAsynchronous pull\nCache producers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b1ff013ebca78e8943037799fbc5d06291175db", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/2b1ff013ebca78e8943037799fbc5d06291175db", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Private constructor to constants class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc1408d7804ffd8b4564633753d513d09f8a92e3", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/cc1408d7804ffd8b4564633753d513d09f8a92e3", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Cleanup and make imports explicit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81853692cb264a4928eecfbe0cec0a6be39fa39b", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/81853692cb264a4928eecfbe0cec0a6be39fa39b", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Null check in removal listener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03147989f1349179e4695e487c47f70b6e4116e6", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/03147989f1349179e4695e487c47f70b6e4116e6", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Add class licence headers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f34c7d4a29031053fff964e68da63e1c4e223c81", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/f34c7d4a29031053fff964e68da63e1c4e223c81", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Correct test properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b7a411f7301a7f5c3c030efddcc11e680049189", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/2b7a411f7301a7f5c3c030efddcc11e680049189", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Update documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b92cbfa9b3d632c93c3ab0b88fca625b74c8c77a", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/b92cbfa9b3d632c93c3ab0b88fca625b74c8c77a", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Imports ordering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e42e70e638d4e91223b2fcf7c72d6f23265a398", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/6e42e70e638d4e91223b2fcf7c72d6f23265a398", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Update Karaf feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b9a5a043ad8c3baee855d68289c04c0b93ba841", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/0b9a5a043ad8c3baee855d68289c04c0b93ba841", "committedDate": "2020-02-26T22:32:47Z", "message": "fixup! CAMEL-14514: Update Karaf feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f48ac70d4450849067e0434b0572d01737faad29", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/f48ac70d4450849067e0434b0572d01737faad29", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Explicitly manage GRPC dependencies\n\nTo avoid conflicts between the GRPC component and Google Pub/Sub component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "733e207c1496739751bce48eb9d6e0e6af696fc7", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/733e207c1496739751bce48eb9d6e0e6af696fc7", "committedDate": "2020-02-26T22:32:47Z", "message": "CAMEL-14514: Call configureConsumer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "564d67656c6f5ce1963d5276202ebdabea367515", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/564d67656c6f5ce1963d5276202ebdabea367515", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Move producer cache from endpoint to component and make it configurable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "198997647e0f22388da784064fd09b09d8e94212", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/198997647e0f22388da784064fd09b09d8e94212", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Don't wrap OSGi bundles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8eae1ebc4330861004215bc6c1170aa6dffb8c43", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/8eae1ebc4330861004215bc6c1170aa6dffb8c43", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Graceful shutdown consumer thread pool"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b293fc7d466eb5bab5d85a79266b49d1f39296a", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/0b293fc7d466eb5bab5d85a79266b49d1f39296a", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Unnecessary set parallel count to default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f5efd0f0fb3ec52b2a71607fedcf532fc684851", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/5f5efd0f0fb3ec52b2a71607fedcf532fc684851", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Update Google Guava"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69b2b36171c30a026b402891a059eb573b94e47b", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/69b2b36171c30a026b402891a059eb573b94e47b", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Generated documentation update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da62c17dccfb5e20f02e5e564f85048ef2e64ce9", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/da62c17dccfb5e20f02e5e564f85048ef2e64ce9", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Handle null message attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67f9ae97f5c032ba19e8d3205cea337cae8fa5dd", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/67f9ae97f5c032ba19e8d3205cea337cae8fa5dd", "committedDate": "2020-02-26T22:32:48Z", "message": "fixup! CAMEL-14514: Handle null message attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f50fabd4ee9ecc7abe2392be2bc7091e4679ea71", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/f50fabd4ee9ecc7abe2392be2bc7091e4679ea71", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Draft implementation of configurable endpoint\n\nTo use with local Pub/Sub emulator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "457889b3c744bd5ede699e133063eecd85744fe5", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/457889b3c744bd5ede699e133063eecd85744fe5", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Rename async acknowledge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbe49746e3facbcf5f60871b5d752f5d430515ac", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/fbe49746e3facbcf5f60871b5d752f5d430515ac", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Add sync pull"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ac4eb9077e67325843e1ce49502ad879bdf55c5", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/4ac4eb9077e67325843e1ce49502ad879bdf55c5", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Ignore exceptions when creating test topics and subscriptions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c160af9cd51047612ab2ddd44057fd533edbf2e", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/1c160af9cd51047612ab2ddd44057fd533edbf2e", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Integration test with synchronous pull to avoid issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed5fd531a74aadeadb77f2a33155ae0122cf6f85", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/ed5fd531a74aadeadb77f2a33155ae0122cf6f85", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Minor code formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fee3702ac0219c22d85eb1613885404335968bf", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/5fee3702ac0219c22d85eb1613885404335968bf", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Serialize payload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "272b3983e00487da99f99828e71cb27bd4b563e9", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/272b3983e00487da99f99828e71cb27bd4b563e9", "committedDate": "2020-02-26T22:32:48Z", "message": "CAMEL-14514: Correct working of grouped exchange"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "777a80d1bd7419efd2392cabfb55995724436af2", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/777a80d1bd7419efd2392cabfb55995724436af2", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Correct source check issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6df7a6ceb5f3a5cba44461d1c480cfc6b2135a7c", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/6df7a6ceb5f3a5cba44461d1c480cfc6b2135a7c", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Pass subscription name when acknowledging synchronously"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ef5ecf93269742ce17cfa6d64d41d7eb7dbb05d", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/3ef5ecf93269742ce17cfa6d64d41d7eb7dbb05d", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Don't reuse subscriber stub"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "626c7614478a79fc5a3b189e4455cb80bd8fbb5b", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/626c7614478a79fc5a3b189e4455cb80bd8fbb5b", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Stop all async subscribers on consumer stop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5da0fb04b8246fa9b4918c0fe5ff77e2af9c3168", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/5da0fb04b8246fa9b4918c0fe5ff77e2af9c3168", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Remove unused test properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61e334c1ea7abe3f689a3dac54f5169c3097f456", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/61e334c1ea7abe3f689a3dac54f5169c3097f456", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Revert parent Google guava version to 19.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b592b7830656f7649cdb2671d69b0caf6b7c6a", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/e7b592b7830656f7649cdb2671d69b0caf6b7c6a", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Acknowledge test with synchronous pull"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93b21429f5ec301d441b26111ff5d43507e46973", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/93b21429f5ec301d441b26111ff5d43507e46973", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Don't use StringUtils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c23a753f94a1e19ea6fa624f08074a27f3ca2a6", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/1c23a753f94a1e19ea6fa624f08074a27f3ca2a6", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Synchronous pull boolean default value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9258480976d3793fae7ca460af161fd6c50292d0", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/9258480976d3793fae7ca460af161fd6c50292d0", "committedDate": "2020-02-26T22:32:49Z", "message": "CAMEL-14514: Properly shutdown test resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1Mjc5OTM3", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-365279937", "createdAt": "2020-02-26T22:08:17Z", "commit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMjowODoxN1rOFu-Jcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMjowODoxN1rOFu-Jcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDc5NzA0Mw==", "bodyText": "Right. Added a new property for pubsub.", "url": "https://github.com/apache/camel/pull/3551#discussion_r384797043", "createdAt": "2020-02-26T22:08:17Z", "author": {"login": "alvinkwekel"}, "path": "parent/pom.xml", "diffHunk": "@@ -230,16 +233,27 @@\n         <geronimo-jta-spec-version>1.1.1</geronimo-jta-spec-version>\n         <geronimo-ws-metadata-spec-version>1.1.3</geronimo-ws-metadata-spec-version>\n         <gmetric4j-version>1.0.10</gmetric4j-version>\n-        <google-guava-version>19.0</google-guava-version>\n+        <google-guava-version>28.1-jre</google-guava-version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDMxMjIwOA=="}, "originalCommit": {"oid": "6ee7d191b6b1433d2014002fc74404c08938a441"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdc27381646658bfe70a5074850257957c26c078", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/cdc27381646658bfe70a5074850257957c26c078", "committedDate": "2020-02-26T22:36:45Z", "message": "fixup! CAMEL-14514: Revert parent Google guava version to 19.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1Mjk2MTE2", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-365296116", "createdAt": "2020-02-26T22:37:12Z", "commit": {"oid": "cdc27381646658bfe70a5074850257957c26c078"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b7e357f66311d0a20f0e4f748751ad566b6e867", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/5b7e357f66311d0a20f0e4f748751ad566b6e867", "committedDate": "2020-02-26T22:40:54Z", "message": "CAMEL-14514: Explicit Google PubSub Guava version property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NTkyNTI1", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-365592525", "createdAt": "2020-02-27T11:04:05Z", "commit": {"oid": "5b7e357f66311d0a20f0e4f748751ad566b6e867"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NTkyNzU0", "url": "https://github.com/apache/camel/pull/3551#pullrequestreview-365592754", "createdAt": "2020-02-27T11:04:29Z", "commit": {"oid": "5b7e357f66311d0a20f0e4f748751ad566b6e867"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2665, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}