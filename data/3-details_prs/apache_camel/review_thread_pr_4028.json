{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTg3MDk5", "number": 4028, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0Mzo1M1rOEQrx5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0NzoxMlrOEQr36A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTI5OTU5OnYy", "diffSide": "RIGHT", "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0Mzo1M1rOG0-PLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODoxNDoyMlrOG1XspA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5ODgyOA==", "bodyText": "I'd assume at least host and port are required, then I think it makes sense to add required metadata to any required fields.", "url": "https://github.com/apache/camel/pull/4028#discussion_r458198828", "createdAt": "2020-07-21T15:43:53Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIxMDcyNA==", "bodyText": "I didn't make them required actually. Since the arangoDb driver has default values if no host/port indicated (same for user/password)", "url": "https://github.com/apache/camel/pull/4028#discussion_r458210724", "createdAt": "2020-07-21T16:00:07Z", "author": {"login": "zbendhiba"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5ODgyOA=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYxNTk3Mg==", "bodyText": "ah then is all fine", "url": "https://github.com/apache/camel/pull/4028#discussion_r458615972", "createdAt": "2020-07-22T08:14:22Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5ODgyOA=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTMwNjM2OnYy", "diffSide": "RIGHT", "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0NToxN1rOG0-TTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwOTozOToxNVrOG1a0CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5OTg4Ng==", "bodyText": "Also label here are missing for the configurations, e.g: producer, consumer or common .. etc", "url": "https://github.com/apache/camel/pull/4028#discussion_r458199886", "createdAt": "2020-07-21T15:45:17Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;\n+    @UriParam\n+    private int port;\n+    @UriParam(label = \"security\", secret = true)\n+    private String user;\n+    @UriParam(label = \"security\", secret = true)\n+    private String password;\n+    @UriParam", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY1NDA2NA==", "bodyText": "@zbendhiba can you please add labels here?", "url": "https://github.com/apache/camel/pull/4028#discussion_r458654064", "createdAt": "2020-07-22T09:17:28Z", "author": {"login": "oscerd"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;\n+    @UriParam\n+    private int port;\n+    @UriParam(label = \"security\", secret = true)\n+    private String user;\n+    @UriParam(label = \"security\", secret = true)\n+    private String password;\n+    @UriParam", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5OTg4Ng=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2NzAxNg==", "bodyText": "yes , done !!", "url": "https://github.com/apache/camel/pull/4028#discussion_r458667016", "createdAt": "2020-07-22T09:39:15Z", "author": {"login": "zbendhiba"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbConfiguration.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.arangodb;\n+\n+import org.apache.camel.RuntimeCamelException;\n+import org.apache.camel.spi.UriParam;\n+import org.apache.camel.spi.UriParams;\n+\n+@UriParams\n+public class ArangoDbConfiguration implements Cloneable {\n+    private String database;\n+    @UriParam\n+    private String host;\n+    @UriParam\n+    private int port;\n+    @UriParam(label = \"security\", secret = true)\n+    private String user;\n+    @UriParam(label = \"security\", secret = true)\n+    private String password;\n+    @UriParam", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODE5OTg4Ng=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTMxNDk2OnYy", "diffSide": "RIGHT", "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbComponent.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNTo0NzoxMlrOG0-Yxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwOTo0MDoxMlrOG1a2Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwMTI4Nw==", "bodyText": "Perhaps before setting the database, it would make sense to check its validity (e.g: is not empty)", "url": "https://github.com/apache/camel/pull/4028#discussion_r458201287", "createdAt": "2020-07-21T15:47:12Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbComponent.java", "diffHunk": "@@ -18,15 +18,44 @@\n \n import java.util.Map;\n \n+import org.apache.camel.CamelContext;\n import org.apache.camel.Endpoint;\n+import org.apache.camel.spi.Metadata;\n+import org.apache.camel.spi.annotations.Component;\n import org.apache.camel.support.DefaultComponent;\n \n-@org.apache.camel.spi.annotations.Component(\"arangodb\")\n+@Component(\"arangodb\")\n public class ArangoDbComponent extends DefaultComponent {\n \n+    @Metadata\n+    private ArangoDbConfiguration configuration = new ArangoDbConfiguration();\n+\n+    public ArangoDbComponent() {\n+        this(null);\n+    }\n+\n+    public ArangoDbComponent(CamelContext context) {\n+        super(context);\n+    }\n+\n     protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {\n-        Endpoint endpoint = new ArangoDbEndpoint(uri, this);\n+        final ArangoDbConfiguration configuration = this.configuration != null ? this.configuration.copy() : new ArangoDbConfiguration();\n+        configuration.setDatabase(remaining);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYxNzE2NA==", "bodyText": "since arango driver has default values, I don't see the need for the check here", "url": "https://github.com/apache/camel/pull/4028#discussion_r458617164", "createdAt": "2020-07-22T08:16:18Z", "author": {"login": "omarsmak"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbComponent.java", "diffHunk": "@@ -18,15 +18,44 @@\n \n import java.util.Map;\n \n+import org.apache.camel.CamelContext;\n import org.apache.camel.Endpoint;\n+import org.apache.camel.spi.Metadata;\n+import org.apache.camel.spi.annotations.Component;\n import org.apache.camel.support.DefaultComponent;\n \n-@org.apache.camel.spi.annotations.Component(\"arangodb\")\n+@Component(\"arangodb\")\n public class ArangoDbComponent extends DefaultComponent {\n \n+    @Metadata\n+    private ArangoDbConfiguration configuration = new ArangoDbConfiguration();\n+\n+    public ArangoDbComponent() {\n+        this(null);\n+    }\n+\n+    public ArangoDbComponent(CamelContext context) {\n+        super(context);\n+    }\n+\n     protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {\n-        Endpoint endpoint = new ArangoDbEndpoint(uri, this);\n+        final ArangoDbConfiguration configuration = this.configuration != null ? this.configuration.copy() : new ArangoDbConfiguration();\n+        configuration.setDatabase(remaining);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwMTI4Nw=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2NzU2Nw==", "bodyText": "we do need database name at minimum for any operation", "url": "https://github.com/apache/camel/pull/4028#discussion_r458667567", "createdAt": "2020-07-22T09:40:12Z", "author": {"login": "zbendhiba"}, "path": "components/camel-arangodb/src/main/java/org/apache/camel/component/arangodb/ArangoDbComponent.java", "diffHunk": "@@ -18,15 +18,44 @@\n \n import java.util.Map;\n \n+import org.apache.camel.CamelContext;\n import org.apache.camel.Endpoint;\n+import org.apache.camel.spi.Metadata;\n+import org.apache.camel.spi.annotations.Component;\n import org.apache.camel.support.DefaultComponent;\n \n-@org.apache.camel.spi.annotations.Component(\"arangodb\")\n+@Component(\"arangodb\")\n public class ArangoDbComponent extends DefaultComponent {\n \n+    @Metadata\n+    private ArangoDbConfiguration configuration = new ArangoDbConfiguration();\n+\n+    public ArangoDbComponent() {\n+        this(null);\n+    }\n+\n+    public ArangoDbComponent(CamelContext context) {\n+        super(context);\n+    }\n+\n     protected Endpoint createEndpoint(String uri, String remaining, Map<String, Object> parameters) throws Exception {\n-        Endpoint endpoint = new ArangoDbEndpoint(uri, this);\n+        final ArangoDbConfiguration configuration = this.configuration != null ? this.configuration.copy() : new ArangoDbConfiguration();\n+        configuration.setDatabase(remaining);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwMTI4Nw=="}, "originalCommit": {"oid": "187286283b52f84f06ae7617ab14aa3abaaa9e37"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4897, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}