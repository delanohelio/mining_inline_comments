{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NTA4MjE4", "number": 3595, "title": "CAMEL-14608: add support for dead letter policies to camel-pulsar", "bodyText": "Addresses CAMEL-14608\nMotivation\nPulsar has support to add Dead Letter Topics to consumers for messages which have exceeded the max retry count to get sent to. Camel should be able to support the creation and customization of dead letter policies on Pulsar Endpoints.\nLink to Pulsar documentation for Dead Letter Topics: https://pulsar.apache.org/docs/en/next/concepts-messaging/#dead-letter-topic\nVerifying the Changes\nTests have been added to PulsarConsumerDeadLetterPolicyTest to verify the existence of the Dead Letter Topic and that it has been configured correctly according to the configuration given.", "createdAt": "2020-02-21T23:01:38Z", "url": "https://github.com/apache/camel/pull/3595", "merged": true, "mergeCommit": {"oid": "60fb3bfd056e7aab4545b122ae1bc4034ccc9a9c"}, "closed": true, "closedAt": "2020-02-25T07:15:03Z", "author": {"login": "connormcauliffe-toast"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGoeSpgFqTM2Mjk3Nzk3MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHsy2ZgFqTM2MzkxMjM1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyOTc3OTcx", "url": "https://github.com/apache/camel/pull/3595#pullrequestreview-362977971", "createdAt": "2020-02-21T23:38:55Z", "commit": {"oid": "43557874d02588ea8dc2ad4c58d0a563e884be9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDE0MjU2", "url": "https://github.com/apache/camel/pull/3595#pullrequestreview-363014256", "createdAt": "2020-02-22T06:50:00Z", "commit": {"oid": "43557874d02588ea8dc2ad4c58d0a563e884be9d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQwNjo1MDowMFrOFtJ4KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQwNjo1MTo0MVrOFtJ4jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg5MjA3Mg==", "bodyText": "Lets avoid using {xxx} in the description but just the name of the option is fine", "url": "https://github.com/apache/camel/pull/3595#discussion_r382892072", "createdAt": "2020-02-22T06:50:00Z", "author": {"login": "davsclaus"}, "path": "components/camel-pulsar/src/main/java/org/apache/camel/component/pulsar/configuration/PulsarConfiguration.java", "diffHunk": "@@ -55,6 +55,10 @@\n     private long ackGroupTimeMillis = 100;\n     @UriParam(label = \"consumer\", defaultValue = \"LATEST\")\n     private SubscriptionInitialPosition subscriptionInitialPosition = LATEST;\n+    @UriParam(label = \"consumer\", description = \"Maximum number of times that a message will be redelivered before being sent to the dead letter queue. If this value is not set, no Dead Letter Policy will be created\")\n+    private Integer maxRedeliverCount;\n+    @UriParam(label = \"consumer\", description = \"Name of the topic where the messages which fail {maxRedeliverCount} times will be sent. Note: if not set, default topic name will be <topicname>-<subscriptionname>-DLQ\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43557874d02588ea8dc2ad4c58d0a563e884be9d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg5MjEwMw==", "bodyText": "Also avoid the < > in the DLQ name as the generated docs in the json will strip out invalid characters.", "url": "https://github.com/apache/camel/pull/3595#discussion_r382892103", "createdAt": "2020-02-22T06:50:36Z", "author": {"login": "davsclaus"}, "path": "components/camel-pulsar/src/main/java/org/apache/camel/component/pulsar/configuration/PulsarConfiguration.java", "diffHunk": "@@ -55,6 +55,10 @@\n     private long ackGroupTimeMillis = 100;\n     @UriParam(label = \"consumer\", defaultValue = \"LATEST\")\n     private SubscriptionInitialPosition subscriptionInitialPosition = LATEST;\n+    @UriParam(label = \"consumer\", description = \"Maximum number of times that a message will be redelivered before being sent to the dead letter queue. If this value is not set, no Dead Letter Policy will be created\")\n+    private Integer maxRedeliverCount;\n+    @UriParam(label = \"consumer\", description = \"Name of the topic where the messages which fail {maxRedeliverCount} times will be sent. Note: if not set, default topic name will be <topicname>-<subscriptionname>-DLQ\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg5MjA3Mg=="}, "originalCommit": {"oid": "43557874d02588ea8dc2ad4c58d0a563e884be9d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg5MjE3NQ==", "bodyText": "This javadoc and the option description are not the same, eg if the other options dont have javadoc then remove it also here, eg they are documented in the json/adoc file which is the important place", "url": "https://github.com/apache/camel/pull/3595#discussion_r382892175", "createdAt": "2020-02-22T06:51:41Z", "author": {"login": "davsclaus"}, "path": "components/camel-pulsar/src/main/java/org/apache/camel/component/pulsar/configuration/PulsarConfiguration.java", "diffHunk": "@@ -354,4 +358,28 @@ public void setMessageRouter(MessageRouter messageRouter) {\n         this.messageRouter = messageRouter;\n     }\n \n+    public Integer getMaxRedeliverCount() {\n+        return maxRedeliverCount;\n+    }\n+\n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43557874d02588ea8dc2ad4c58d0a563e884be9d"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNDg1NDAy", "url": "https://github.com/apache/camel/pull/3595#pullrequestreview-363485402", "createdAt": "2020-02-24T15:41:23Z", "commit": {"oid": "4129044022bdd4199df7230ec3bcaa989906c462"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTE0NjMz", "url": "https://github.com/apache/camel/pull/3595#pullrequestreview-363514633", "createdAt": "2020-02-24T16:17:06Z", "commit": {"oid": "4129044022bdd4199df7230ec3bcaa989906c462"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5402db486e85d54dcc3a689605f7a51de44c50c", "author": {"user": {"login": "connormcauliffe-toast", "name": "Connor McAuliffe"}}, "url": "https://github.com/apache/camel/commit/d5402db486e85d54dcc3a689605f7a51de44c50c", "committedDate": "2020-02-24T16:20:10Z", "message": "CAMEL-14608: add support for dead letter policies to camel-pulsar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6817e57483c8c23b41458b1275838db3dadd6b9d", "author": {"user": {"login": "connormcauliffe-toast", "name": "Connor McAuliffe"}}, "url": "https://github.com/apache/camel/commit/6817e57483c8c23b41458b1275838db3dadd6b9d", "committedDate": "2020-02-24T16:20:33Z", "message": "CAMEL-14608: address documentation issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4129044022bdd4199df7230ec3bcaa989906c462", "author": {"user": {"login": "connormcauliffe-toast", "name": "Connor McAuliffe"}}, "url": "https://github.com/apache/camel/commit/4129044022bdd4199df7230ec3bcaa989906c462", "committedDate": "2020-02-24T14:58:02Z", "message": "CAMEL-14608: address documentation issues"}, "afterCommit": {"oid": "6817e57483c8c23b41458b1275838db3dadd6b9d", "author": {"user": {"login": "connormcauliffe-toast", "name": "Connor McAuliffe"}}, "url": "https://github.com/apache/camel/commit/6817e57483c8c23b41458b1275838db3dadd6b9d", "committedDate": "2020-02-24T16:20:33Z", "message": "CAMEL-14608: address documentation issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzOTEyMzUx", "url": "https://github.com/apache/camel/pull/3595#pullrequestreview-363912351", "createdAt": "2020-02-25T07:14:55Z", "commit": {"oid": "6817e57483c8c23b41458b1275838db3dadd6b9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2686, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}