{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NTM4MzY3", "number": 4343, "title": "CAMEL-15617: Fix filter Google PubSub reserved attributes", "bodyText": "When Camel receives a PubSub message with reserved Google PubSub attributes these are set on a Camel header and passed on to any message sender. These reserved attributes are not allowed to be set on an outgoing message so this throws an error.\nThis filters out these reserved attributes before sending.\nhttps://issues.apache.org/jira/browse/CAMEL-15617", "createdAt": "2020-10-01T20:49:12Z", "url": "https://github.com/apache/camel/pull/4343", "merged": true, "mergeCommit": {"oid": "320dd0df9dd362523c0ee8769f87eebf8100b465"}, "closed": true, "closedAt": "2020-10-07T04:19:25Z", "author": {"login": "alvinkwekel"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOXYxdgH2gAyNDk2NTM4MzY3OjZmNWEzMjM1N2FjZmZiMTdkY2M2MjEzZTNiNjg3YWViNDI2NTU2MWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQFI3dAFqTUwMzUxMzU5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6f5a32357acffb17dcc6213e3b687aeb4265561a", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/6f5a32357acffb17dcc6213e3b687aeb4265561a", "committedDate": "2020-10-01T20:27:03Z", "message": "CAMEL-15617: Upgrade Google PubSub client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be0691b1a90bcc53fa9e78d95d901eefadfc24a7", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/be0691b1a90bcc53fa9e78d95d901eefadfc24a7", "committedDate": "2020-10-01T20:27:17Z", "message": "CAMEL-15617: Refactored creating test topics and subscriptions to be more extensible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c36a2e39b63313f9a9d6f925e2a096a012e65506", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/c36a2e39b63313f9a9d6f925e2a096a012e65506", "committedDate": "2020-10-01T20:27:27Z", "message": "CAMEL-15617: Split creating topic and subscription in tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f21cdb2aa34e5ebc29b28001378bd23ae11e3584", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/f21cdb2aa34e5ebc29b28001378bd23ae11e3584", "committedDate": "2020-10-01T20:28:42Z", "message": "CAMEL-15617: Add test to recreate the issue of sending reserved attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "202087eb81f07623eb0c27a3967a5f71c6ab582e", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/202087eb81f07623eb0c27a3967a5f71c6ab582e", "committedDate": "2020-10-01T20:28:48Z", "message": "CAMEL-15617: Remove reserved attributes before sending"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4be87dabab918fd34c7d17670507659aedf5a0bd", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/4be87dabab918fd34c7d17670507659aedf5a0bd", "committedDate": "2020-10-01T20:48:18Z", "message": "CAMEL-15617: Formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNzEyODcz", "url": "https://github.com/apache/camel/pull/4343#pullrequestreview-500712873", "createdAt": "2020-10-01T20:57:45Z", "commit": {"oid": "4be87dabab918fd34c7d17670507659aedf5a0bd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQyMDo1Nzo0NlrOHbamAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQyMDo1ODo1MlrOHbaoFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUwOTMxNQ==", "bodyText": "Are you sure about removing the exclusions?", "url": "https://github.com/apache/camel/pull/4343#discussion_r498509315", "createdAt": "2020-10-01T20:57:46Z", "author": {"login": "oscerd"}, "path": "components/camel-google-pubsub/pom.xml", "diffHunk": "@@ -47,83 +47,7 @@\n             <groupId>com.google.cloud</groupId>\n             <artifactId>google-cloud-pubsub</artifactId>\n             <version>${google-cloud-pubsub-version}</version>\n-            <exclusions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4be87dabab918fd34c7d17670507659aedf5a0bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUwOTY2Mg==", "bodyText": "I think this require a check on the karaf feature if needed", "url": "https://github.com/apache/camel/pull/4343#discussion_r498509662", "createdAt": "2020-10-01T20:58:25Z", "author": {"login": "oscerd"}, "path": "parent/pom.xml", "diffHunk": "@@ -205,7 +205,7 @@\n         <geronimo-ws-metadata-spec-version>1.1.3</geronimo-ws-metadata-spec-version>\n         <gmetric4j-version>1.0.10</gmetric4j-version>\n         <google-guava-version>19.0</google-guava-version>\n-        <google-pubsub-guava-version>28.2-jre</google-pubsub-guava-version>\n+        <google-pubsub-guava-version>29.0-jre</google-pubsub-guava-version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4be87dabab918fd34c7d17670507659aedf5a0bd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUwOTg0Ng==", "bodyText": "I think that's the reason for removing the exclusions, but we need to double check", "url": "https://github.com/apache/camel/pull/4343#discussion_r498509846", "createdAt": "2020-10-01T20:58:52Z", "author": {"login": "oscerd"}, "path": "parent/pom.xml", "diffHunk": "@@ -215,7 +215,7 @@\n         <google-api-services-mail-version>v1-rev81-1.22.0</google-api-services-mail-version>\n         <google-api-services-bigquery-version>v2-rev352-1.22.0</google-api-services-bigquery-version>\n         <google-api-services-pubsub-version>v1-rev12-1.22.0</google-api-services-pubsub-version>\n-        <google-cloud-pubsub-version>1.102.0</google-cloud-pubsub-version>\n+        <google-cloud-pubsub-version>1.108.1</google-cloud-pubsub-version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4be87dabab918fd34c7d17670507659aedf5a0bd"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eb97eb102a1c9f69965ba960d27c818fc8ebf90", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/1eb97eb102a1c9f69965ba960d27c818fc8ebf90", "committedDate": "2020-10-01T21:19:09Z", "message": "CAMEL-15617: Update Camel dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2e8776075e95a779644c4f67c291dab7832e89e", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/e2e8776075e95a779644c4f67c291dab7832e89e", "committedDate": "2020-10-02T07:20:05Z", "message": "CAMEL-15617: Explicit GRPC dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMjgwNzQz", "url": "https://github.com/apache/camel/pull/4343#pullrequestreview-501280743", "createdAt": "2020-10-02T16:30:09Z", "commit": {"oid": "e2e8776075e95a779644c4f67c291dab7832e89e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c16450dc800f11c5e594c732570b5bf649f99282", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/c16450dc800f11c5e594c732570b5bf649f99282", "committedDate": "2020-10-03T11:23:07Z", "message": "CAMEL-15617: Downgrade PubSub to have GRPC version match the Camel GRPC component\n\nRemove obsolete version properties for PubSub\nRemove dependency exclusions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTM5NDYx", "url": "https://github.com/apache/camel/pull/4343#pullrequestreview-501539461", "createdAt": "2020-10-03T11:26:32Z", "commit": {"oid": "c16450dc800f11c5e594c732570b5bf649f99282"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "628b5e85c0e261d4869baf69ec9c71acd2ce0ee2", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/628b5e85c0e261d4869baf69ec9c71acd2ce0ee2", "committedDate": "2020-10-05T18:18:51Z", "message": "CAMEL-15617: Update Camel dependencies module"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50f0effeca6747dee6d7178982eff6b4fa002a39", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/50f0effeca6747dee6d7178982eff6b4fa002a39", "committedDate": "2020-10-05T18:18:24Z", "message": "Update Camel dependencies module"}, "afterCommit": {"oid": "628b5e85c0e261d4869baf69ec9c71acd2ce0ee2", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/628b5e85c0e261d4869baf69ec9c71acd2ce0ee2", "committedDate": "2020-10-05T18:18:51Z", "message": "CAMEL-15617: Update Camel dependencies module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3aafad93ffe7b80cb6ce7aa7ec5c864b3789fdd4", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/3aafad93ffe7b80cb6ce7aa7ec5c864b3789fdd4", "committedDate": "2020-10-05T21:12:43Z", "message": "CAMEL-15617: Update Camel dependencies module - forgot grpc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNjg3OTky", "url": "https://github.com/apache/camel/pull/4343#pullrequestreview-502687992", "createdAt": "2020-10-06T08:13:05Z", "commit": {"oid": "3aafad93ffe7b80cb6ce7aa7ec5c864b3789fdd4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8a494ebd7f0659e0e73c427594eca6e48ba69eb", "author": {"user": {"login": "alvinkwekel", "name": "Alvin Kwekel"}}, "url": "https://github.com/apache/camel/commit/c8a494ebd7f0659e0e73c427594eca6e48ba69eb", "committedDate": "2020-10-06T19:27:55Z", "message": "CAMEL-15617: Shutdown cached producers on component shutdown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNTEzNTk4", "url": "https://github.com/apache/camel/pull/4343#pullrequestreview-503513598", "createdAt": "2020-10-07T04:19:14Z", "commit": {"oid": "c8a494ebd7f0659e0e73c427594eca6e48ba69eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2860, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}