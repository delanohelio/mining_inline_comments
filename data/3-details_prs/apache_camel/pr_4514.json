{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5ODkxMTYy", "number": 4514, "title": "[CAMEL-15757] Add rawPayload support in camel-salesforce composite", "bodyText": "Make sure there is a JIRA issue filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.\n Each commit in the pull request should have a meaningful subject line and body.\n If you're unsure, you can format the pull request title like [CAMEL-XXX] Fixes bug in camel-file component, where you replace CAMEL-XXX with the appropriate JIRA issue.\n Write a pull request description that is detailed enough to understand what the pull request does, how, and why.\n Run mvn clean install -Psourcecheck in your module with source check enabled to make sure basic checks pass and there are no checkstyle violations. A more thorough check will be performed on your pull request automatically.\nBelow are the contribution guidelines:\nhttps://github.com/apache/camel/blob/master/CONTRIBUTING.md", "createdAt": "2020-10-26T09:19:50Z", "url": "https://github.com/apache/camel/pull/4514", "merged": true, "mergeCommit": {"oid": "f4bd41a360fc29b0472a8936e041ddf67cbb7edc"}, "closed": true, "closedAt": "2020-12-09T17:07:45Z", "author": {"login": "jbonofre"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWQ2RoABqjM5MTk2ODYxNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkg5y-AFqTU0ODMzNDU2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c08d114a4212f80390fe091d7cb1da605571eeb", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/6c08d114a4212f80390fe091d7cb1da605571eeb", "committedDate": "2020-10-26T09:17:26Z", "message": "Add composite support in camel-salesforce\n\nAuthor: Ahmed Ben Salha <ahmedbensalha@hotmail.com>\nSigned off: JB Onofr\u00e9 <jbonofre@apache.org>"}, "afterCommit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/8d988687ea19d8ece763253c26302de9351896cf", "committedDate": "2020-10-26T09:20:56Z", "message": "[CAMEL-15757] Add composite support in camel-salesforce\n\nAuthor: Ahmed Ben Salha <ahmedbensalha@hotmail.com>\nSigned off: JB Onofr\u00e9 <jbonofre@apache.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTk2MDQ5", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-516596049", "createdAt": "2020-10-26T09:28:15Z", "commit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOToyODoxNVrOHoHF5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOToyODoyNVrOHoHGQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyMTI4Nw==", "bodyText": "Please remove todos", "url": "https://github.com/apache/camel/pull/4514#discussion_r511821287", "createdAt": "2020-10-26T09:28:15Z", "author": {"login": "oscerd"}, "path": "components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/internal/processor/JsonRestProcessor.java", "diffHunk": "@@ -98,6 +98,14 @@ protected void processRequest(Exchange exchange) throws SalesforceException {\n                 exchange.setProperty(RESPONSE_CLASS, CreateSObjectResult.class);\n                 break;\n \n+            /**\n+             * TODO AHMEDBS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyMTM3OQ==", "bodyText": "Ditto", "url": "https://github.com/apache/camel/pull/4514#discussion_r511821379", "createdAt": "2020-10-26T09:28:25Z", "author": {"login": "oscerd"}, "path": "components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/internal/processor/XmlRestProcessor.java", "diffHunk": "@@ -124,6 +124,13 @@ protected void processRequest(Exchange exchange) throws SalesforceException {\n                 exchange.setProperty(RESPONSE_CLASS, CreateSObjectResult.class);\n                 break;\n \n+            /**\n+             * TODO AHMEDBS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NjU1MzI0", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-516655324", "createdAt": "2020-10-26T10:45:48Z", "commit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d988687ea19d8ece763253c26302de9351896cf", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/8d988687ea19d8ece763253c26302de9351896cf", "committedDate": "2020-10-26T09:20:56Z", "message": "[CAMEL-15757] Add composite support in camel-salesforce\n\nAuthor: Ahmed Ben Salha <ahmedbensalha@hotmail.com>\nSigned off: JB Onofr\u00e9 <jbonofre@apache.org>"}, "afterCommit": {"oid": "db20609d0241b3164d87ac22f243a807867c68b0", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/db20609d0241b3164d87ac22f243a807867c68b0", "committedDate": "2020-11-27T16:10:41Z", "message": "Add Composite Batch support on Salesforce component"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db20609d0241b3164d87ac22f243a807867c68b0", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/db20609d0241b3164d87ac22f243a807867c68b0", "committedDate": "2020-11-27T16:10:41Z", "message": "Add Composite Batch support on Salesforce component"}, "afterCommit": {"oid": "7e93b3695eaf1aa310962328247000bddf4fc06f", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/7e93b3695eaf1aa310962328247000bddf4fc06f", "committedDate": "2020-11-28T05:53:44Z", "message": "Add update composite sobjects support on Salesforce component"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7e93b3695eaf1aa310962328247000bddf4fc06f", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/7e93b3695eaf1aa310962328247000bddf4fc06f", "committedDate": "2020-11-28T05:53:44Z", "message": "Add update composite sobjects support on Salesforce component"}, "afterCommit": {"oid": "2fcea11925c80da6efade70925f3856477542116", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/2fcea11925c80da6efade70925f3856477542116", "committedDate": "2020-11-29T06:12:05Z", "message": "Add update composite sobjects support on Salesforce component"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNjQzNjQ1", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-540643645", "createdAt": "2020-11-30T07:13:27Z", "commit": {"oid": "2fcea11925c80da6efade70925f3856477542116"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2fcea11925c80da6efade70925f3856477542116", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/2fcea11925c80da6efade70925f3856477542116", "committedDate": "2020-11-29T06:12:05Z", "message": "Add update composite sobjects support on Salesforce component"}, "afterCommit": {"oid": "8add9a2c0e752dab722316df501fb6789382f400", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/8add9a2c0e752dab722316df501fb6789382f400", "committedDate": "2020-11-30T08:13:07Z", "message": "Add update composite sobjects support on Salesforce component"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8add9a2c0e752dab722316df501fb6789382f400", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/8add9a2c0e752dab722316df501fb6789382f400", "committedDate": "2020-11-30T08:13:07Z", "message": "Add update composite sobjects support on Salesforce component"}, "afterCommit": {"oid": "74d0d6f9445fb43da794021c13bdc7386d8574c7", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/74d0d6f9445fb43da794021c13bdc7386d8574c7", "committedDate": "2020-12-04T06:23:25Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74d0d6f9445fb43da794021c13bdc7386d8574c7", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/74d0d6f9445fb43da794021c13bdc7386d8574c7", "committedDate": "2020-12-04T06:23:25Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}, "afterCommit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/42a9b80beb664435ea385142b61699eccfde8bdf", "committedDate": "2020-12-07T06:15:52Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1ODU3NDQ0", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-545857444", "createdAt": "2020-12-07T06:21:57Z", "commit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1OTI5MTQ4", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-545929148", "createdAt": "2020-12-07T08:40:41Z", "commit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MzI5NzE3", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-547329717", "createdAt": "2020-12-08T15:12:48Z", "commit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToxMjo0OVrOIBiUJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToxNTozMlrOIBifow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4MTcwMA==", "bodyText": "Remove system out, or change into a debug LOG", "url": "https://github.com/apache/camel/pull/4514#discussion_r538481700", "createdAt": "2020-12-08T15:12:49Z", "author": {"login": "davsclaus"}, "path": "components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/internal/client/DefaultCompositeApiClient.java", "diffHunk": "@@ -93,6 +93,35 @@ public DefaultCompositeApiClient(final SalesforceEndpointConfig configuration, f\n         xStreamCompositeTree.alias(\"SObjectTreeResponse\", SObjectTreeResponse.class);\n     }\n \n+    public void submitCompositeRaw(\n+            final InputStream raw, final Map<String, List<String>> headers,\n+            final ResponseCallback<InputStream> callback,\n+            final String sObjectName, final String extId, String compositeMethod)\n+            throws SalesforceException {\n+        checkCompositeFormat(format, SObjectComposite.REQUIRED_PAYLOAD_FORMAT);\n+\n+        final String url = String.format(\"%s%s/%s/%s/%s\", versionUrl(), \"composite\", \"sobjects\", sObjectName, extId);\n+\n+        System.out.println(\"URL: \" + url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4NDY0Mw==", "bodyText": "Can this be used both on consumer or producer? If not then add label to mark it as consumer or producer only.", "url": "https://github.com/apache/camel/pull/4514#discussion_r538484643", "createdAt": "2020-12-08T15:15:32Z", "author": {"login": "davsclaus"}, "path": "components/camel-salesforce/camel-salesforce-component/src/main/java/org/apache/camel/component/salesforce/SalesforceEndpointConfig.java", "diffHunk": "@@ -126,6 +127,8 @@\n     @UriParam\n     private String apexMethod;\n     @UriParam\n+    private String compositeMethod;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42a9b80beb664435ea385142b61699eccfde8bdf", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/42a9b80beb664435ea385142b61699eccfde8bdf", "committedDate": "2020-12-07T06:15:52Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}, "afterCommit": {"oid": "fe096b2a9ddbbf1bad7d0bf91255715dd0d60948", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/fe096b2a9ddbbf1bad7d0bf91255715dd0d60948", "committedDate": "2020-12-09T13:33:13Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe096b2a9ddbbf1bad7d0bf91255715dd0d60948", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/fe096b2a9ddbbf1bad7d0bf91255715dd0d60948", "committedDate": "2020-12-09T13:33:13Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}, "afterCommit": {"oid": "1c451e5cebabbb8203f086f31963c4e4088d0905", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/1c451e5cebabbb8203f086f31963c4e4088d0905", "committedDate": "2020-12-09T14:22:12Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjM4Mzgy", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-548238382", "createdAt": "2020-12-09T14:29:09Z", "commit": {"oid": "1c451e5cebabbb8203f086f31963c4e4088d0905"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjQxODkx", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-548241891", "createdAt": "2020-12-09T14:32:31Z", "commit": {"oid": "1c451e5cebabbb8203f086f31963c4e4088d0905"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c451e5cebabbb8203f086f31963c4e4088d0905", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/1c451e5cebabbb8203f086f31963c4e4088d0905", "committedDate": "2020-12-09T14:22:12Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}, "afterCommit": {"oid": "962a40229022d86a1087aa1402bbd4c167541e5b", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/962a40229022d86a1087aa1402bbd4c167541e5b", "committedDate": "2020-12-09T14:43:07Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22162395419fa2e43c7e4d9455ba755a461818b0", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/22162395419fa2e43c7e4d9455ba755a461818b0", "committedDate": "2020-12-09T14:44:57Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "962a40229022d86a1087aa1402bbd4c167541e5b", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/962a40229022d86a1087aa1402bbd4c167541e5b", "committedDate": "2020-12-09T14:43:07Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}, "afterCommit": {"oid": "22162395419fa2e43c7e4d9455ba755a461818b0", "author": {"user": {"login": "jbonofre", "name": "Jean-Baptiste Onofr\u00e9"}}, "url": "https://github.com/apache/camel/commit/22162395419fa2e43c7e4d9455ba755a461818b0", "committedDate": "2020-12-09T14:44:57Z", "message": "[CAMEL-15757] Add rawPayload support on camel-salesforce composite"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MzM0NTY2", "url": "https://github.com/apache/camel/pull/4514#pullrequestreview-548334566", "createdAt": "2020-12-09T15:58:36Z", "commit": {"oid": "22162395419fa2e43c7e4d9455ba755a461818b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2850, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}