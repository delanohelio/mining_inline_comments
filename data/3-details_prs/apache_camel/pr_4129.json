{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMzcyNTUw", "number": 4129, "title": "CAMEL-15420 camel-http dynamic aware removes Exchange.HTTP_QUERY head\u2026", "bodyText": "\u2026er if Exchange.HTTP_PATH header not specified (backport to 2.5.x)", "createdAt": "2020-08-25T18:09:38Z", "url": "https://github.com/apache/camel/pull/4129", "merged": true, "mergeCommit": {"oid": "763d689c9574320df2b7b78adcd8af19474c22ac"}, "closed": true, "closedAt": "2020-08-26T06:49:39Z", "author": {"login": "artemse"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCbM1EAH2gAyNDczMzcyNTUwOjRlZmUwNmI1NGYyMTJlNDBjYmUyYjliMDhmYmJlMDk0NDc0ZWFjYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCmHZEgFqTQ3NTE5NzA2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4efe06b54f212e40cbe2b9b08fbbe094474eacc3", "author": {"user": {"login": "artemse", "name": null}}, "url": "https://github.com/apache/camel/commit/4efe06b54f212e40cbe2b9b08fbbe094474eacc3", "committedDate": "2020-08-25T18:06:32Z", "message": "CAMEL-15420 camel-http dynamic aware removes Exchange.HTTP_QUERY header if Exchange.HTTP_PATH header not specified (backport to 2.5.x)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NzMyOTU5", "url": "https://github.com/apache/camel/pull/4129#pullrequestreview-474732959", "createdAt": "2020-08-25T18:10:41Z", "commit": {"oid": "4efe06b54f212e40cbe2b9b08fbbe094474eacc3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTQwOTU0", "url": "https://github.com/apache/camel/pull/4129#pullrequestreview-475140954", "createdAt": "2020-08-26T04:24:36Z", "commit": {"oid": "4efe06b54f212e40cbe2b9b08fbbe094474eacc3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNDoyNDozNlrOHG7VWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNDoyNDozNlrOHG7VWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzAyNTYyNg==", "bodyText": "You need to check for the headers like done here: https://github.com/apache/camel/blob/master/components/camel-http/src/test/java/org/apache/camel/component/http/HttpSendDynamicAwareHeadersTest.java#L42", "url": "https://github.com/apache/camel/pull/4129#discussion_r477025626", "createdAt": "2020-08-26T04:24:36Z", "author": {"login": "davsclaus"}, "path": "components/camel-http4/src/test/java/org/apache/camel/component/http4/HttpSendDynamicAwareHeadersTest.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.http4;\n+\n+import org.apache.camel.Exchange;\n+import org.apache.camel.RoutesBuilder;\n+import org.apache.camel.builder.RouteBuilder;\n+import org.apache.camel.component.http4.handler.BasicValidationHandler;\n+import org.apache.http.impl.bootstrap.HttpServer;\n+import org.apache.http.impl.bootstrap.ServerBootstrap;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class HttpSendDynamicAwareHeadersTest extends BaseHttpTest {\n+\n+    private HttpServer localServer;\n+\n+    @Before\n+    @Override\n+    public void setUp() throws Exception {\n+        localServer = ServerBootstrap.bootstrap()\n+                .setHttpProcessor(getBasicHttpProcessor())\n+                .setConnectionReuseStrategy(getConnectionReuseStrategy())\n+                .setResponseFactory(getHttpResponseFactory())\n+                .setExpectationVerifier(getHttpExpectationVerifier())\n+                .setSslContext(getSSLContext())\n+                .registerHandler(\"/dynamicAware\", new BasicValidationHandler(\"GET\", null, null, null)).create();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4efe06b54f212e40cbe2b9b08fbbe094474eacc3"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b36a44f1fd6cd1671c62934a5a9272699affb3", "author": {"user": {"login": "artemse", "name": null}}, "url": "https://github.com/apache/camel/commit/b6b36a44f1fd6cd1671c62934a5a9272699affb3", "committedDate": "2020-08-26T06:28:14Z", "message": "CAMEL-15420 camel-http dynamic aware removes Exchange.HTTP_QUERY header if Exchange.HTTP_PATH header not specified (backport to 2.5.x).\n\nExpected query check added"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTk3MDYy", "url": "https://github.com/apache/camel/pull/4129#pullrequestreview-475197062", "createdAt": "2020-08-26T06:49:34Z", "commit": {"oid": "b6b36a44f1fd6cd1671c62934a5a9272699affb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2907, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}