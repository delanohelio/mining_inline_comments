{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MjkzNTY5", "number": 4552, "title": "CAMEL-15731: Add support for InOnly exchange pattern to camel-mllp", "bodyText": "This change allows sending and receiving HL7 messages using MLLP without waiting or sending back any acknowledgment. This is possible when autoAck=false and exchangePattern=InOnly.", "createdAt": "2020-11-02T20:17:26Z", "url": "https://github.com/apache/camel/pull/4552", "merged": true, "mergeCommit": {"oid": "7aea258261fcf791227d3872faf44d6f017ab4d9"}, "closed": true, "closedAt": "2020-11-03T06:24:15Z", "author": {"login": "rafaljaw"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYrUVogH2gAyNTE0MjkzNTY5OmUyZDE2ZTgwNWYyNDM3YzE0NTAxZjA2Y2E0ZWNlYTU1NWM1ODU5OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYzGz-gFqTUyMjIxMTk1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e2d16e805f2437c14501f06ca4ecea555c585991", "author": {"user": {"login": "rafaljaw-inveox", "name": null}}, "url": "https://github.com/apache/camel/commit/e2d16e805f2437c14501f06ca4ecea555c585991", "committedDate": "2020-11-02T21:19:33Z", "message": "CAMEL-15731: Add support for InOnly exchange pattern to camel-mllp"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c3da86428f04538d9a2c8678b2591ba0e141763", "author": {"user": {"login": "rafaljaw-inveox", "name": null}}, "url": "https://github.com/apache/camel/commit/3c3da86428f04538d9a2c8678b2591ba0e141763", "committedDate": "2020-11-02T20:12:08Z", "message": "CAMEL-15731: Add support for InOnly exchange pattern to camel-mllp"}, "afterCommit": {"oid": "e2d16e805f2437c14501f06ca4ecea555c585991", "author": {"user": {"login": "rafaljaw-inveox", "name": null}}, "url": "https://github.com/apache/camel/commit/e2d16e805f2437c14501f06ca4ecea555c585991", "committedDate": "2020-11-02T21:19:33Z", "message": "CAMEL-15731: Add support for InOnly exchange pattern to camel-mllp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTk5NTY4", "url": "https://github.com/apache/camel/pull/4552#pullrequestreview-522199568", "createdAt": "2020-11-03T05:39:12Z", "commit": {"oid": "e2d16e805f2437c14501f06ca4ecea555c585991"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwNTozOToxM1rOHsgzSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwNTozOToxM1rOHsgzSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQzNjgwOQ==", "bodyText": "You should not print the exception, this should be removed", "url": "https://github.com/apache/camel/pull/4552#discussion_r516436809", "createdAt": "2020-11-03T05:39:13Z", "author": {"login": "davsclaus"}, "path": "components/camel-mllp/src/main/java/org/apache/camel/component/mllp/MllpTcpClientProducer.java", "diffHunk": "@@ -193,7 +194,14 @@ public synchronized void process(Exchange exchange) throws MllpException {\n                     mllpBuffer.resetSocket(socket);\n                 }\n             }\n-\n+            if (getConfiguration().getExchangePattern() == ExchangePattern.InOnly) {\n+                log.debug(\"process({}) [{}] - not checking acknowledgement from external system\",\n+                        exchange.getExchangeId(), socket);\n+                if (exchange.getException() != null) {\n+                    exchange.getException().printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2d16e805f2437c14501f06ca4ecea555c585991"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80b604b75b2b2e960cba7dea52bbaf930780a4c6", "author": {"user": {"login": "rafaljaw-inveox", "name": null}}, "url": "https://github.com/apache/camel/commit/80b604b75b2b2e960cba7dea52bbaf930780a4c6", "committedDate": "2020-11-03T06:04:52Z", "message": "CAMEL-15731: Code review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a97e29e0108e7711e68327577a1132b48ef3508", "author": {"user": {"login": "rafaljaw-inveox", "name": null}}, "url": "https://github.com/apache/camel/commit/7a97e29e0108e7711e68327577a1132b48ef3508", "committedDate": "2020-11-03T06:08:14Z", "message": "CAMEL-15731: Regenerate documentation for camel-mllp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMjExOTUz", "url": "https://github.com/apache/camel/pull/4552#pullrequestreview-522211953", "createdAt": "2020-11-03T06:24:01Z", "commit": {"oid": "7a97e29e0108e7711e68327577a1132b48ef3508"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2815, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}