{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MTA4Nzk4", "number": 4085, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzo1MjoyOVrOEXOGAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzo1MjoyOVrOEXOGAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyNzgzNjE5OnYy", "diffSide": "RIGHT", "path": "components/camel-openapi-java/src/main/java/org/apache/camel/openapi/OpenApiRestProducerFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzo1MjoyOVrOG-40cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwOTowMTozNVrOG_YY3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU5NTgyNw==", "bodyText": "I think we can avoid the 2 x toString as that is a costly operation. We can use length method to know if its empty or not. For example if length > 1 (as delimiter is 1) I think. There is a few other places where toString would be called twice like this.", "url": "https://github.com/apache/camel/pull/4085#discussion_r468595827", "createdAt": "2020-08-11T13:52:29Z", "author": {"login": "davsclaus"}, "path": "components/camel-openapi-java/src/main/java/org/apache/camel/openapi/OpenApiRestProducerFactory.java", "diffHunk": "@@ -176,13 +176,13 @@ private Producer createHttpProducer(CamelContext camelContext, OasDocument openA\n                 }\n                 if (list != null) {\n                     for (String s : list) {\n-                        csb.append(s);\n+                        producesBuilder.add(s);\n                     }\n                 }\n-                produces = csb.isEmpty() ? null : csb.toString();\n+                produces = producesBuilder.toString().isEmpty() ? null : producesBuilder.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6aa74940d68679a6d88d35ddaaf5060c6e58716c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTExMzA1Mw==", "bodyText": "The length is 0 by the way, the delimiter is not added. If the value is null, the length gets prefix + suffix, which in this case is empty.", "url": "https://github.com/apache/camel/pull/4085#discussion_r469113053", "createdAt": "2020-08-12T09:01:35Z", "author": {"login": "zbendhiba"}, "path": "components/camel-openapi-java/src/main/java/org/apache/camel/openapi/OpenApiRestProducerFactory.java", "diffHunk": "@@ -176,13 +176,13 @@ private Producer createHttpProducer(CamelContext camelContext, OasDocument openA\n                 }\n                 if (list != null) {\n                     for (String s : list) {\n-                        csb.append(s);\n+                        producesBuilder.add(s);\n                     }\n                 }\n-                produces = csb.isEmpty() ? null : csb.toString();\n+                produces = producesBuilder.toString().isEmpty() ? null : producesBuilder.toString();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU5NTgyNw=="}, "originalCommit": {"oid": "6aa74940d68679a6d88d35ddaaf5060c6e58716c"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4854, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}