{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NjY3Mzgw", "number": 3706, "title": "CAMEL-14626 : api maven plugin - Cannot load <T> class", "bodyText": "refs #CAMEL-14626", "createdAt": "2020-04-02T15:55:24Z", "url": "https://github.com/apache/camel/pull/3706", "merged": true, "mergeCommit": {"oid": "7fefaf9feaaff48c3f9285a221aea1c50cedbde4"}, "closed": true, "closedAt": "2020-04-07T07:02:37Z", "author": {"login": "manonthegithub"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTuYhwAH2gAyMzk3NjY3MzgwOjdiYjU4MGIyN2Q4YmUxZGU3MDk4NjE0Y2I4NGZkMWZlNTdmNmU0Yzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU7g5fAFqTM4ODA5MDMxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7bb580b27d8be1de7098614cb84fd1fe57f6e4c9", "author": {"user": {"login": "manonthegithub", "name": "Kirill Yankov"}}, "url": "https://github.com/apache/camel/commit/7bb580b27d8be1de7098614cb84fd1fe57f6e4c9", "committedDate": "2020-04-02T15:53:04Z", "message": "CAMEL-14626 : api maven plugin - Cannot load <T> class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTcwMjg4", "url": "https://github.com/apache/camel/pull/3706#pullrequestreview-386570288", "createdAt": "2020-04-02T15:59:44Z", "commit": {"oid": "7bb580b27d8be1de7098614cb84fd1fe57f6e4c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTo1OTo0NFrOF_yNnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTo1OTo0NFrOF_yNnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQyNzI5NQ==", "bodyText": "Could also do it at line 335, but I think this approach is more universal.", "url": "https://github.com/apache/camel/pull/3706#discussion_r402427295", "createdAt": "2020-04-02T15:59:44Z", "author": {"login": "manonthegithub"}, "path": "tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractApiMethodGeneratorMojo.java", "diffHunk": "@@ -344,9 +344,15 @@ public String getCanonicalName(ApiMethodArg argument) throws MojoExecutionExcept\n                         parameterizedType.append(\n                             getCanonicalName(getProjectClassLoader().loadClass(\"java.lang.\" + argType)));\n                     } catch (ClassNotFoundException e1) {\n-                        log.warn(\"Ignoring type parameters <\" + typeArgs + \"> for argument \" + argument.getName()\n-                                 + \", unable to load parametric type argument \" + argType, e1);\n-                        ignore = true;\n+                        // if the length of the artType is 1, we think that it's variable type parameter (like T in List<T>)\n+                        // not perfect solution, but should work in most of the cases\n+                        if (argType.trim().length() > 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bb580b27d8be1de7098614cb84fd1fe57f6e4c9"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NjEyNTgy", "url": "https://github.com/apache/camel/pull/3706#pullrequestreview-386612582", "createdAt": "2020-04-02T16:50:25Z", "commit": {"oid": "7bb580b27d8be1de7098614cb84fd1fe57f6e4c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjo1MDoyNlrOF_0SfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjo1MDoyNlrOF_0SfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ2MTMwOQ==", "bodyText": "@manonthegithub I'm not sure, but we could try to implement more elegant solution, like cast to (T) and catch ClassCastException?", "url": "https://github.com/apache/camel/pull/3706#discussion_r402461309", "createdAt": "2020-04-02T16:50:26Z", "author": {"login": "dmvolod"}, "path": "tooling/maven/camel-api-component-maven-plugin/src/main/java/org/apache/camel/maven/AbstractApiMethodGeneratorMojo.java", "diffHunk": "@@ -344,9 +344,15 @@ public String getCanonicalName(ApiMethodArg argument) throws MojoExecutionExcept\n                         parameterizedType.append(\n                             getCanonicalName(getProjectClassLoader().loadClass(\"java.lang.\" + argType)));\n                     } catch (ClassNotFoundException e1) {\n-                        log.warn(\"Ignoring type parameters <\" + typeArgs + \"> for argument \" + argument.getName()\n-                                 + \", unable to load parametric type argument \" + argType, e1);\n-                        ignore = true;\n+                        // if the length of the artType is 1, we think that it's variable type parameter (like T in List<T>)\n+                        // not perfect solution, but should work in most of the cases\n+                        if (argType.trim().length() > 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bb580b27d8be1de7098614cb84fd1fe57f6e4c9"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "007d1ad2629ecc7be01258cc0db6fbcd67935c42", "author": {"user": {"login": "manonthegithub", "name": "Kirill Yankov"}}, "url": "https://github.com/apache/camel/commit/007d1ad2629ecc7be01258cc0db6fbcd67935c42", "committedDate": "2020-04-04T16:02:38Z", "message": "improved parser to handle multiple generic args, fixed ignoring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3OTcwMDQ2", "url": "https://github.com/apache/camel/pull/3706#pullrequestreview-387970046", "createdAt": "2020-04-06T06:46:15Z", "commit": {"oid": "007d1ad2629ecc7be01258cc0db6fbcd67935c42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3OTcyNDgy", "url": "https://github.com/apache/camel/pull/3706#pullrequestreview-387972482", "createdAt": "2020-04-06T06:51:23Z", "commit": {"oid": "007d1ad2629ecc7be01258cc0db6fbcd67935c42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MDkwMzE3", "url": "https://github.com/apache/camel/pull/3706#pullrequestreview-388090317", "createdAt": "2020-04-06T09:44:54Z", "commit": {"oid": "007d1ad2629ecc7be01258cc0db6fbcd67935c42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3070, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}