{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5OTA0MTk5", "number": 4399, "title": "CAMEL-15658: camel-pgevent : automate integration tests", "bodyText": "", "createdAt": "2020-10-08T12:59:21Z", "url": "https://github.com/apache/camel/pull/4399", "merged": true, "mergeCommit": {"oid": "893fa5facdd3ff12f607ea21283bdc99b3cf6bd7"}, "closed": true, "closedAt": "2020-10-08T16:55:34Z", "author": {"login": "zbendhiba"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQhPMOgFqTUwNDc1NzI3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQkjl-gFqTUwNDk4MTk0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzU3Mjc4", "url": "https://github.com/apache/camel/pull/4399#pullrequestreview-504757278", "createdAt": "2020-10-08T13:02:39Z", "commit": {"oid": "ffee98ab65a4033ec55ca1264d16b87126e58cee"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMzowMjozOVrOHedc6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMzowMjo1NVrOHeddnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTg2NA==", "bodyText": "Maybe it's better to have the component name too here", "url": "https://github.com/apache/camel/pull/4399#discussion_r501701864", "createdAt": "2020-10-08T13:02:39Z", "author": {"login": "oscerd"}, "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffee98ab65a4033ec55ca1264d16b87126e58cee"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMTk0OA==", "bodyText": "ditto", "url": "https://github.com/apache/camel/pull/4399#discussion_r501701948", "createdAt": "2020-10-08T13:02:47Z", "author": {"login": "oscerd"}, "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <artifactId>maven-surefire-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>true</skipTests>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <!-- activate integration test if the docker socket file is accessible -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-file</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffee98ab65a4033ec55ca1264d16b87126e58cee"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTcwMjA0NQ==", "bodyText": "ditto", "url": "https://github.com/apache/camel/pull/4399#discussion_r501702045", "createdAt": "2020-10-08T13:02:55Z", "author": {"login": "oscerd"}, "path": "components/camel-pgevent/pom.xml", "diffHunk": "@@ -64,6 +65,94 @@\n             <artifactId>log4j-slf4j-impl</artifactId>\n             <scope>test</scope>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-testcontainers-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n     </dependencies>\n \n+    <profiles>\n+        <profile>\n+            <id>testcontainers-skip-tests</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <artifactId>maven-surefire-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>true</skipTests>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <!-- activate integration test if the docker socket file is accessible -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-file</id>\n+            <activation>\n+                <file>\n+                    <exists>/var/run/docker.sock</exists>\n+                </file>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipTests>${skipTests}</skipTests>\n+                            <systemPropertyVariables>\n+                                <visibleassertions.silence>true</visibleassertions.silence>\n+                            </systemPropertyVariables>\n+                        </configuration>\n+                        <executions>\n+                            <execution>\n+                                <goals>\n+                                    <goal>integration-test</goal>\n+                                    <goal>verify</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <!-- activate integration test if the DOCKER_HOST env var is set -->\n+        <profile>\n+            <id>testcontainers-integration-tests-docker-env</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffee98ab65a4033ec55ca1264d16b87126e58cee"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "committedDate": "2020-10-08T13:14:07Z", "message": "CAMEL-15658: camel-pgevent : automate integration tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffee98ab65a4033ec55ca1264d16b87126e58cee", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/ffee98ab65a4033ec55ca1264d16b87126e58cee", "committedDate": "2020-10-08T12:52:43Z", "message": "CAMEL-15658: camel-pgevent : automate integration tests"}, "afterCommit": {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "author": {"user": {"login": "zbendhiba", "name": "Zineb BENDHIBA"}}, "url": "https://github.com/apache/camel/commit/1cb1ee6a1eb43a9b8e794b63bc354eb02486b131", "committedDate": "2020-10-08T13:14:07Z", "message": "CAMEL-15658: camel-pgevent : automate integration tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzcxNzQ3", "url": "https://github.com/apache/camel/pull/4399#pullrequestreview-504771747", "createdAt": "2020-10-08T13:18:08Z", "commit": {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTgxOTQ5", "url": "https://github.com/apache/camel/pull/4399#pullrequestreview-504981949", "createdAt": "2020-10-08T16:55:29Z", "commit": {"oid": "1cb1ee6a1eb43a9b8e794b63bc354eb02486b131"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2878, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}