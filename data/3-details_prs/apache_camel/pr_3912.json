{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MTA1NjIz", "number": 3912, "title": "Re-style the javascript for gulpfile", "bodyText": "As discussed in PR#3879, the basic syntax and styling were overlooked for the gulpfile.js. I have replaced the usage of == with === and != with !== to create a strict comparison.\nApart from that, I observed that there were statements that included semicolons and a few that didn't hence to bring consistency, I included semicolons for each statement.", "createdAt": "2020-06-14T07:09:28Z", "url": "https://github.com/apache/camel/pull/3912", "merged": true, "mergeCommit": {"oid": "2c5e9ff2637e9292546e797d9f893b1f28b369d7"}, "closed": true, "closedAt": "2020-06-16T05:46:53Z", "author": {"login": "AemieJ"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrOjMKABqjM0NDE4Mjk0ODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrtyaWgBqjM0NDcxODUzNjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "867f587a789398b69e99ee4cff878efb112abd44", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/867f587a789398b69e99ee4cff878efb112abd44", "committedDate": "2020-06-13T18:50:04Z", "message": "re-style the javascript for gulpfile"}, "afterCommit": {"oid": "1b942474f7640ab52011815bae4c2a10151b298f", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/1b942474f7640ab52011815bae4c2a10151b298f", "committedDate": "2020-06-14T16:21:26Z", "message": "add linting setup for gulpfile within docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNDExMjY1", "url": "https://github.com/apache/camel/pull/3912#pullrequestreview-430411265", "createdAt": "2020-06-15T08:07:52Z", "commit": {"oid": "1b942474f7640ab52011815bae4c2a10151b298f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNDI3OTM1", "url": "https://github.com/apache/camel/pull/3912#pullrequestreview-430427935", "createdAt": "2020-06-15T08:30:06Z", "commit": {"oid": "1b942474f7640ab52011815bae4c2a10151b298f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b942474f7640ab52011815bae4c2a10151b298f", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/1b942474f7640ab52011815bae4c2a10151b298f", "committedDate": "2020-06-14T16:21:26Z", "message": "add linting setup for gulpfile within docs"}, "afterCommit": {"oid": "e2e136e224404f355a56874c5e8cc1145b39e1b6", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/e2e136e224404f355a56874c5e8cc1145b39e1b6", "committedDate": "2020-06-15T19:06:11Z", "message": "modify gulpfile using lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTE5Nzc1", "url": "https://github.com/apache/camel/pull/3912#pullrequestreview-430919775", "createdAt": "2020-06-15T19:10:28Z", "commit": {"oid": "e2e136e224404f355a56874c5e8cc1145b39e1b6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOToxMDoyOFrOGj_LdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOToxMTo1OVrOGj_OWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4ODQ2OQ==", "bodyText": "Nitpick: this should go to devDependencies", "url": "https://github.com/apache/camel/pull/3912#discussion_r440388469", "createdAt": "2020-06-15T19:10:28Z", "author": {"login": "zregvart"}, "path": "docs/package.json", "diffHunk": "@@ -14,5 +18,14 @@\n     \"gulp-sort\": \"^2.0.0\",\n     \"map-stream\": \"^0.0.7\",\n     \"through2\": \"^3.0.1\"\n+  },\n+  \"dependencies\": {\n+    \"eslint\": \"^7.2.0\",\n+    \"eslint-config-standard\": \"^14.1.1\",\n+    \"eslint-plugin-import\": \"^2.21.2\",\n+    \"eslint-plugin-node\": \"^11.1.0\",\n+    \"eslint-plugin-promise\": \"^4.2.1\",\n+    \"eslint-plugin-standard\": \"^4.0.1\",\n+    \"prettier-eslint-cli\": \"^5.0.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2e136e224404f355a56874c5e8cc1145b39e1b6"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4OTIwOA==", "bodyText": "Seems that '../core/camel-main/src/main/docs/*.adoc' is missing here.", "url": "https://github.com/apache/camel/pull/3912#discussion_r440389208", "createdAt": "2020-06-15T19:11:59Z", "author": {"login": "zregvart"}, "path": "docs/gulpfile.js", "diffHunk": "@@ -14,343 +14,427 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-const { dest, series, parallel, src, symlink } = require('gulp');\n-const del = require('del');\n-const filter = require('gulp-filter');\n-const inject = require('gulp-inject');\n+/* eslint-disable-next-line no-unused-vars */\n+const { dest, series, parallel, src, symlink } = require('gulp')\n+const del = require('del')\n+const filter = require('gulp-filter')\n+const inject = require('gulp-inject')\n const map = require('map-stream')\n-const path = require('path');\n-const rename = require('gulp-rename');\n-const replace = require('gulp-replace');\n-const sort = require('gulp-sort');\n-const through2 = require('through2');\n+const path = require('path')\n+const rename = require('gulp-rename')\n+const replace = require('gulp-replace')\n+const sort = require('gulp-sort')\n+const through2 = require('through2')\n const File = require('vinyl')\n-const fs = require('fs');\n+const fs = require('fs')\n \n-function deleteComponentSymlinks() {\n-    return del(['components/modules/ROOT/pages/*', '!components/modules/ROOT/pages/index.adoc']);\n+function deleteComponentSymlinks () {\n+  return del(['components/modules/ROOT/pages/*', '!components/modules/ROOT/pages/index.adoc'])\n }\n \n-function deleteComponentImageSymlinks() {\n-    return del(['components/modules/ROOT/assets/images/*']);\n+function deleteComponentImageSymlinks () {\n+  return del(['components/modules/ROOT/assets/images/*'])\n }\n \n-function createComponentSymlinks() {\n-    return src(['../core/camel-base/src/main/docs/*-component.adoc', '../components/{*,*/*}/src/main/docs/*-component.adoc', '../components/{*,*/*}/src/main/docs/*-summary.adoc'])\n-        .pipe(map((file, done) => {\n-            // this flattens the output to just .../pages/....adoc\n-            // instead of .../pages/camel-.../src/main/docs/....adoc\n-            file.base = path.dirname(file.path);\n-            done(null, file);\n-        }))\n-        // Antora disabled symlinks, there is an issue open\n-        // https://gitlab.com/antora/antora/issues/188\n-        // to reinstate symlink support, until that's resolved\n-        // we'll simply copy over instead of creating symlinks\n-        // .pipe(symlink('components/modules/ROOT/pages/', {\n-        //     relativeSymlinks: true\n-        // }));\n-        // uncomment above .pipe() and remove the .pipe() below\n-        // when antora#188 is resolved\n-        .pipe(insertSourceAttribute())\n-        .pipe(dest('components/modules/ROOT/pages/'));\n+function createComponentSymlinks () {\n+  return (\n+    src([\n+      '../core/camel-base/src/main/docs/*-component.adoc',\n+      '../components/{*,*/*}/src/main/docs/*-component.adoc',\n+      '../components/{*,*/*}/src/main/docs/*-summary.adoc',\n+    ])\n+      .pipe(\n+        map((file, done) => {\n+          // this flattens the output to just .../pages/....adoc\n+          // instead of .../pages/camel-.../src/main/docs/....adoc\n+          file.base = path.dirname(file.path)\n+          done(null, file)\n+        })\n+      )\n+      // Antora disabled symlinks, there is an issue open\n+      // https://gitlab.com/antora/antora/issues/188\n+      // to reinstate symlink support, until that's resolved\n+      // we'll simply copy over instead of creating symlinks\n+      // .pipe(symlink('components/modules/ROOT/pages/', {\n+      //     relativeSymlinks: true\n+      // }));\n+      // uncomment above .pipe() and remove the .pipe() below\n+      // when antora#188 is resolved\n+      .pipe(insertSourceAttribute())\n+      .pipe(dest('components/modules/ROOT/pages/'))\n+  )\n }\n \n-function createComponentOthersSymlinks() {\n-    const f = filter(['**','!**/*-language.adoc', '!**/*-dataformat.adoc', '!**/*-component.adoc', '!**/*-summary.adoc'])\n-    return src(['../core/camel-base/src/main/docs/*.adoc','../core/camel-main/src/main/docs/*.adoc','../components/{*,*/*}/src/main/docs/*.adoc'])\n-        .pipe(f)\n-        .pipe(map((file, done) => {\n-            // this flattens the output to just .../pages/....adoc\n-            // instead of .../pages/camel-.../src/main/docs/....adoc\n-            file.base = path.dirname(file.path);\n-            done(null, file);\n-        }))\n-        // Antora disabled symlinks, there is an issue open\n-        // https://gitlab.com/antora/antora/issues/188\n-        // to reinstate symlink support, until that's resolved\n-        // we'll simply copy over instead of creating symlinks\n-        // .pipe(symlink('components/modules/ROOT/pages/', {\n-        //     relativeSymlinks: true\n-        // }));\n-        // uncomment above .pipe() and remove the .pipe() below\n-        // when antora#188 is resolved\n-        .pipe(insertSourceAttribute())\n-        .pipe(dest('components/modules/others/pages/'));\n+function createComponentOthersSymlinks () {\n+  const f = filter([\n+    '**',\n+    '!**/*-language.adoc',\n+    '!**/*-dataformat.adoc',\n+    '!**/*-component.adoc',\n+    '!**/*-summary.adoc',\n+  ])\n+  return (\n+    src(['../core/camel-base/src/main/docs/*.adoc', '../components/{*,*/*}/src/main/docs/*.adoc'])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2e136e224404f355a56874c5e8cc1145b39e1b6"}, "originalPosition": 118}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2e136e224404f355a56874c5e8cc1145b39e1b6", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/e2e136e224404f355a56874c5e8cc1145b39e1b6", "committedDate": "2020-06-15T19:06:11Z", "message": "modify gulpfile using lint"}, "afterCommit": {"oid": "8234ae6c5e6386bc27d4199e19ec2a506099af37", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/8234ae6c5e6386bc27d4199e19ec2a506099af37", "committedDate": "2020-06-15T20:12:09Z", "message": "modify gulpfile using lint\n\nadd the packages as devDependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4b63f06ae2b7712897344586859d6dc595c7719", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/f4b63f06ae2b7712897344586859d6dc595c7719", "committedDate": "2020-06-16T04:32:31Z", "message": "add linting setup for gulpfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6ce8f2442d1f7f48de88bf38fe00c9ec79093c8", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/d6ce8f2442d1f7f48de88bf38fe00c9ec79093c8", "committedDate": "2020-06-16T04:45:00Z", "message": "modify gulpfile using lint"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8234ae6c5e6386bc27d4199e19ec2a506099af37", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/8234ae6c5e6386bc27d4199e19ec2a506099af37", "committedDate": "2020-06-15T20:12:09Z", "message": "modify gulpfile using lint\n\nadd the packages as devDependencies"}, "afterCommit": {"oid": "d6ce8f2442d1f7f48de88bf38fe00c9ec79093c8", "author": {"user": {"login": "AemieJ", "name": "Aemie Jariwala"}}, "url": "https://github.com/apache/camel/commit/d6ce8f2442d1f7f48de88bf38fe00c9ec79093c8", "committedDate": "2020-06-16T04:45:00Z", "message": "modify gulpfile using lint"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3003, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}