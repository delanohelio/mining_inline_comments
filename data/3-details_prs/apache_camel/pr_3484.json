{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMjE5MTQ3", "number": 3484, "title": "Improve EndpointDslMojo", "bodyText": "This commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\nIn addition, this commit introduces:\n\noptions to control the generation of the endpoint dsl interfaces\nan option to control the package name where to generate component\nspecific endpoint factories\nan option to control the package name where to generate the endpoint\ndsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components.", "createdAt": "2020-01-15T16:13:53Z", "url": "https://github.com/apache/camel/pull/3484", "merged": true, "mergeCommit": {"oid": "78b8ebcebb3e68909fb0e475d43adfb5a5ad14d3"}, "closed": true, "closedAt": "2020-01-16T09:24:39Z", "author": {"login": "lburgazzoli"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6oFIwgBqjI5NTE0NTA0NTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb62nQGgFqTM0Mzc2ODY1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef3228c0e459509cc68ed7d7534025eea94d0595", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/ef3228c0e459509cc68ed7d7534025eea94d0595", "committedDate": "2020-01-15T16:09:36Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}, "afterCommit": {"oid": "01f48e8085ee45f6f8a6df61791a2558715996ed", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/01f48e8085ee45f6f8a6df61791a2558715996ed", "committedDate": "2020-01-15T16:24:11Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNDkyODQ0", "url": "https://github.com/apache/camel/pull/3484#pullrequestreview-343492844", "createdAt": "2020-01-15T20:15:32Z", "commit": {"oid": "01f48e8085ee45f6f8a6df61791a2558715996ed"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMDoxNTozMlrOFeFGoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMDoxNTozMlrOFeFGoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4NTIxNw==", "bodyText": "I guess this could use String#replace instead of String#replaceAll to avoid the regex and therefore improve performance. (Not sure if this is relevent.)", "url": "https://github.com/apache/camel/pull/3484#discussion_r367085217", "createdAt": "2020-01-15T20:15:32Z", "author": {"login": "PascalSchumacher"}, "path": "tooling/maven/camel-package-maven-plugin/src/main/java/org/apache/camel/maven/packaging/EndpointDslMojo.java", "diffHunk": "@@ -480,16 +509,12 @@ private void createEndpointDsl(String packageName, ComponentModel model, List<Co\n             method.getJavaDoc().setText(desc);\n         }\n \n-        String fileName = packageName.replaceAll(\"\\\\.\", \"\\\\/\") + \"/\" + builderName + \"Factory.java\";\n-        writeSourceIfChanged(javaClass, fileName, false);\n+        writeSourceIfChanged(javaClass, packageName.replaceAll(\"\\\\.\", \"\\\\/\"), builderName + \"Factory.java\", false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f48e8085ee45f6f8a6df61791a2558715996ed"}, "originalPosition": 106}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01f48e8085ee45f6f8a6df61791a2558715996ed", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/01f48e8085ee45f6f8a6df61791a2558715996ed", "committedDate": "2020-01-15T16:24:11Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}, "afterCommit": {"oid": "fc93837e2252d8b07546a5770c7512d6aff3019c", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/fc93837e2252d8b07546a5770c7512d6aff3019c", "committedDate": "2020-01-16T07:28:32Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "committedDate": "2020-01-16T07:35:06Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc93837e2252d8b07546a5770c7512d6aff3019c", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/fc93837e2252d8b07546a5770c7512d6aff3019c", "committedDate": "2020-01-16T07:28:32Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}, "afterCommit": {"oid": "12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "committedDate": "2020-01-16T07:35:06Z", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNzY4NjU1", "url": "https://github.com/apache/camel/pull/3484#pullrequestreview-343768655", "createdAt": "2020-01-16T09:20:17Z", "commit": {"oid": "12ef91cc835c81cf198c87733d4c2175e7e5bd3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2742, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}