{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MTkwNjYy", "number": 4087, "title": "CAMEL-15176 Add the components-init-work-in-progress.md to track the \u2026", "bodyText": "\u2026work\nFix the following components\n\ncamel-activemq\ncamel-any23\ncamel-apns\ncamel-as2\ncamel-asterisk\ncamel-atomix\ncamel-avro\ncamel-benio\ncamel-cbor\ncamel-cdi\ncamel-csv\n\nhttps://issues.apache.org/jira/browse/CAMEL-15176", "createdAt": "2020-08-13T07:01:08Z", "url": "https://github.com/apache/camel/pull/4087", "merged": true, "mergeCommit": {"oid": "cf173e6999f1e720bec9d63f11318b83dbaf8dac"}, "closed": true, "closedAt": "2020-08-19T16:32:16Z", "author": {"login": "zhfeng"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-bZrKAFqTQ2NjUzMjY2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAeQQygFqTQ3MDY0MDA0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NTMyNjY4", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-466532668", "createdAt": "2020-08-13T08:04:52Z", "commit": {"oid": "5322968843fbe71fe6d03670051eb35e0043ab5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2ODgyMzU4", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-466882358", "createdAt": "2020-08-13T15:37:41Z", "commit": {"oid": "5322968843fbe71fe6d03670051eb35e0043ab5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNTozNzo0MVrOHARMyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNTozNzo0MVrOHARMyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA0Mzg0OQ==", "bodyText": "I wonder if this may cause some problems, as its in the JDK itself and if your build vs runtime are not the same then it can cause problems. I think we need to make this part in the doStart", "url": "https://github.com/apache/camel/pull/4087#discussion_r470043849", "createdAt": "2020-08-13T15:37:41Z", "author": {"login": "davsclaus"}, "path": "components/camel-as2/camel-as2-component/src/main/java/org/apache/camel/component/as2/AS2Component.java", "diffHunk": "@@ -58,8 +58,8 @@ protected Endpoint createEndpoint(String uri, String methodName, AS2ApiName apiN\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n-        super.doStart();\n+    protected void doInit() throws Exception {\n+        super.doInit();\n         if (Security.getProvider(\"BC\") == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5322968843fbe71fe6d03670051eb35e0043ab5a"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5322968843fbe71fe6d03670051eb35e0043ab5a", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/5322968843fbe71fe6d03670051eb35e0043ab5a", "committedDate": "2020-08-13T06:58:10Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-as2\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv"}, "afterCommit": {"oid": "4c8c11ab78264dc43afda892886a6c0ef730966c", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/4c8c11ab78264dc43afda892886a6c0ef730966c", "committedDate": "2020-08-17T05:31:29Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c8c11ab78264dc43afda892886a6c0ef730966c", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/4c8c11ab78264dc43afda892886a6c0ef730966c", "committedDate": "2020-08-17T05:31:29Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv"}, "afterCommit": {"oid": "836d3e09957eb63444a320229b14b6cf197c37e8", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/836d3e09957eb63444a320229b14b6cf197c37e8", "committedDate": "2020-08-17T05:46:49Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTc5ODgw", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-468179880", "createdAt": "2020-08-17T05:53:54Z", "commit": {"oid": "836d3e09957eb63444a320229b14b6cf197c37e8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNTo1Mzo1NFrOHBajUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNTo1Mzo1NFrOHBajUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0NTY1MQ==", "bodyText": "This should be in doStart as we add / remove the consumer when the consumer is started/stopped, eg you can stop a consumer/route and then later start it. So this should be as before", "url": "https://github.com/apache/camel/pull/4087#discussion_r471245651", "createdAt": "2020-08-17T05:53:54Z", "author": {"login": "davsclaus"}, "path": "components/camel-cdi/src/main/java/org/apache/camel/cdi/CdiEventConsumer.java", "diffHunk": "@@ -37,8 +37,8 @@\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n-        super.doStart();\n+    protected void doInit() throws Exception {\n+        super.doInit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "836d3e09957eb63444a320229b14b6cf197c37e8"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "836d3e09957eb63444a320229b14b6cf197c37e8", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/836d3e09957eb63444a320229b14b6cf197c37e8", "committedDate": "2020-08-17T05:46:49Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv"}, "afterCommit": {"oid": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "committedDate": "2020-08-17T06:06:01Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4Mjg0ODgw", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-468284880", "createdAt": "2020-08-17T08:55:46Z", "commit": {"oid": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODo1NTo0NlrOHBgKSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODo1NTo0NlrOHBgKSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMzNzU0NQ==", "bodyText": "Same thing here as before, we should do this in doStart as its adding and removing consumers on the endpoint at runtime when its started/stopped.", "url": "https://github.com/apache/camel/pull/4087#discussion_r471337545", "createdAt": "2020-08-17T08:55:46Z", "author": {"login": "davsclaus"}, "path": "components/camel-apns/src/main/java/org/apache/camel/component/apns/ApnsConsumer.java", "diffHunk": "@@ -82,15 +82,15 @@ public ApnsEndpoint getEndpoint() {\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n+    protected void doInit() throws Exception {\n         // only add as consumer if not already registered\n         if (!getEndpoint().getConsumers().contains(this)) {\n             if (!getEndpoint().getConsumers().isEmpty()) {\n                 throw new IllegalStateException(\"Endpoint \" + getEndpoint().getEndpointUri() + \" only allows 1 active consumer but you attempted to start a 2nd consumer.\");\n             }\n             getEndpoint().getConsumers().add(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "committedDate": "2020-08-17T06:06:01Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}, "afterCommit": {"oid": "45056a158418c1c0e0780e42598b72b1af808a74", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/45056a158418c1c0e0780e42598b72b1af808a74", "committedDate": "2020-08-18T06:15:20Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv\n\ntest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MDM4ODY5", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-469038869", "createdAt": "2020-08-18T06:55:31Z", "commit": {"oid": "45056a158418c1c0e0780e42598b72b1af808a74"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45056a158418c1c0e0780e42598b72b1af808a74", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/45056a158418c1c0e0780e42598b72b1af808a74", "committedDate": "2020-08-18T06:15:20Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv\n\ntest"}, "afterCommit": {"oid": "a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "committedDate": "2020-08-18T09:04:22Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f650f3fc84958895b885a686e1f383cd410bb21", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/7f650f3fc84958895b885a686e1f383cd410bb21", "committedDate": "2020-08-18T09:07:36Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "committedDate": "2020-08-18T09:04:22Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}, "afterCommit": {"oid": "7f650f3fc84958895b885a686e1f383cd410bb21", "author": {"user": {"login": "zhfeng", "name": "Amos Feng"}}, "url": "https://github.com/apache/camel/commit/7f650f3fc84958895b885a686e1f383cd410bb21", "committedDate": "2020-08-18T09:07:36Z", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNjQwMDQy", "url": "https://github.com/apache/camel/pull/4087#pullrequestreview-470640042", "createdAt": "2020-08-19T16:32:09Z", "commit": {"oid": "7f650f3fc84958895b885a686e1f383cd410bb21"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2919, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}