{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNjYxNzcw", "number": 4409, "title": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI", "bodyText": "", "createdAt": "2020-10-09T15:20:00Z", "url": "https://github.com/apache/camel/pull/4409", "merged": true, "mergeCommit": {"oid": "69b2d49e49ce4d70e1894a820f3cbe7196f29ed5"}, "closed": true, "closedAt": "2020-10-12T10:37:12Z", "author": {"login": "lburgazzoli"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ4BOrgFqTUwNTc4NTI1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRwB8jgFqTUwNjQxOTU4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1Nzg1MjUw", "url": "https://github.com/apache/camel/pull/4409#pullrequestreview-505785250", "createdAt": "2020-10-09T15:36:03Z", "commit": {"oid": "a208dec84a2eb5951b099307184eb9ae958e14ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ad26e179b801c93b084ef4dc42af0c1124eb19b", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/5ad26e179b801c93b084ef4dc42af0c1124eb19b", "committedDate": "2020-10-09T15:49:03Z", "message": "CAMEL-15664: Fix CS"}, "afterCommit": {"oid": "fb1ea464df3424db588ed1418ff2b94cfe0e7617", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/fb1ea464df3424db588ed1418ff2b94cfe0e7617", "committedDate": "2020-10-09T16:17:24Z", "message": "CAMEL-15664: Fix CS"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb1ea464df3424db588ed1418ff2b94cfe0e7617", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/fb1ea464df3424db588ed1418ff2b94cfe0e7617", "committedDate": "2020-10-09T16:17:24Z", "message": "CAMEL-15664: Fix CS"}, "afterCommit": {"oid": "85e9cf65d2e038f1d23e46d21bf75617c1fe41d8", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/85e9cf65d2e038f1d23e46d21bf75617c1fe41d8", "committedDate": "2020-10-10T07:24:21Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDc2MzEx", "url": "https://github.com/apache/camel/pull/4409#pullrequestreview-506076311", "createdAt": "2020-10-10T07:45:33Z", "commit": {"oid": "85e9cf65d2e038f1d23e46d21bf75617c1fe41d8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDgxMzY5", "url": "https://github.com/apache/camel/pull/4409#pullrequestreview-506081369", "createdAt": "2020-10-10T09:03:56Z", "commit": {"oid": "85e9cf65d2e038f1d23e46d21bf75617c1fe41d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwOTowMzo1N1rOHfeelw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwOTowMzo1N1rOHfeelw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc2NzI1NQ==", "bodyText": "Isnt there a way to do this faster, eg now you replace all values? What if there are no secrets at all? Wont it be faster just to walk on the secret property names, and see if they are in the parameters, and then only replace those.", "url": "https://github.com/apache/camel/pull/4409#discussion_r502767255", "createdAt": "2020-10-10T09:03:57Z", "author": {"login": "davsclaus"}, "path": "core/camel-support/src/main/java/org/apache/camel/support/component/EndpointUriFactorySupport.java", "diffHunk": "@@ -78,6 +79,20 @@ protected String buildQueryParameters(String uri, Map<String, Object> parameters\n             throws URISyntaxException {\n         // we want sorted parameters\n         Map<String, Object> map = new TreeMap<>(parameters);\n+        map.replaceAll(new BiFunction<String, Object, Object>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85e9cf65d2e038f1d23e46d21bf75617c1fe41d8"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85e9cf65d2e038f1d23e46d21bf75617c1fe41d8", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/85e9cf65d2e038f1d23e46d21bf75617c1fe41d8", "committedDate": "2020-10-10T07:24:21Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}, "afterCommit": {"oid": "a78f9bced48ea6e8314b5f7a8799baf36a3e4e5e", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/a78f9bced48ea6e8314b5f7a8799baf36a3e4e5e", "committedDate": "2020-10-10T14:14:09Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91c6ba9f9691ef50b6122090b9610c70dbe0183f", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/91c6ba9f9691ef50b6122090b9610c70dbe0183f", "committedDate": "2020-10-12T08:25:56Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f0a55c35551cbc280da54dbdf2e430f97a46b56", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/4f0a55c35551cbc280da54dbdf2e430f97a46b56", "committedDate": "2020-10-12T08:25:57Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a78f9bced48ea6e8314b5f7a8799baf36a3e4e5e", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/a78f9bced48ea6e8314b5f7a8799baf36a3e4e5e", "committedDate": "2020-10-10T14:14:09Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}, "afterCommit": {"oid": "4f0a55c35551cbc280da54dbdf2e430f97a46b56", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel/commit/4f0a55c35551cbc280da54dbdf2e430f97a46b56", "committedDate": "2020-10-12T08:25:57Z", "message": "CAMEL-15664: Automatically wrap secret properites with RAW when computing the URI (regen)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NDE5NTg2", "url": "https://github.com/apache/camel/pull/4409#pullrequestreview-506419586", "createdAt": "2020-10-12T08:51:31Z", "commit": {"oid": "4f0a55c35551cbc280da54dbdf2e430f97a46b56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2881, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}