{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxMTM0Nzcw", "number": 2250, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMDo1MTo1N1rOE6gj6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNjoxMjoxNFrOE7myWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5Nzg2MzQ3OnYy", "diffSide": "RIGHT", "path": "janusgraph-core/src/main/java/org/janusgraph/graphdb/configuration/GraphDatabaseConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMDo1MTo1N1rOH1n_CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMDo1MTo1N1rOH1n_CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5MTY4OQ==", "bodyText": "(nitpick) I would expand the description a bit to include that this logging applies to the schema makers /  schema operations. Also, all descriptions here seem to be complete sentences so they should start with a capital latter and end with a \".\".", "url": "https://github.com/JanusGraph/janusgraph/pull/2250#discussion_r525991689", "createdAt": "2020-11-18T10:51:57Z", "author": {"login": "FlorianHockmann"}, "path": "janusgraph-core/src/main/java/org/janusgraph/graphdb/configuration/GraphDatabaseConfiguration.java", "diffHunk": "@@ -318,10 +316,12 @@ public boolean apply(@Nullable String s) {\n             put(\"ignore-prop\", IgnorePropertySchemaMaker.INSTANCE);\n             put(\"default\", JanusGraphDefaultSchemaMaker.INSTANCE);\n             put(\"tp3\", Tp3DefaultSchemaMaker.INSTANCE);\n-            put(\"logging\", LoggingSchemaMaker.DEFAULT_INSTANCE);\n         }}\n     );\n \n+    public static final ConfigOption<Boolean> SCHEMA_MAKER_LOGGING = new ConfigOption<>(SCHEMA_NS, \"logging\",\n+            \"whether logging is enabled\", ConfigOption.Type.MASKABLE, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "024045f940cbfa0ed1eef1436d879ef48cb7ae71"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5Nzk5ODM3OnYy", "diffSide": "RIGHT", "path": "janusgraph-core/src/main/java/org/janusgraph/core/schema/JanusGraphDefaultSchemaMaker.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMToyNToyN1rOH1pQVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMTo0MDo0MFrOH1pyHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAxMjUwMQ==", "bodyText": "Wouldn't it make sense to add the information to this log message that the edge label will now be created?", "url": "https://github.com/JanusGraph/janusgraph/pull/2250#discussion_r526012501", "createdAt": "2020-11-18T11:25:27Z", "author": {"login": "FlorianHockmann"}, "path": "janusgraph-core/src/main/java/org/janusgraph/core/schema/JanusGraphDefaultSchemaMaker.java", "diffHunk": "@@ -31,30 +33,96 @@\n public class JanusGraphDefaultSchemaMaker implements DefaultSchemaMaker {\n \n     public static final DefaultSchemaMaker INSTANCE = new JanusGraphDefaultSchemaMaker();\n+    private static final Logger log = LoggerFactory.getLogger(JanusGraphDefaultSchemaMaker.class);\n+\n+    private boolean loggingEnabled;\n \n     private JanusGraphDefaultSchemaMaker() {\n     }\n \n+    @Override\n+    public void enableLogging(Boolean enabled) {\n+        if (Boolean.TRUE.equals(enabled)) {\n+            loggingEnabled = true;\n+        }\n+    }\n+\n     @Override\n     public Cardinality defaultPropertyCardinality(String key) {\n         return Cardinality.SINGLE;\n     }\n \n+    @Override\n+    public EdgeLabel makeEdgeLabel(EdgeLabelMaker factory) {\n+        logWarn(\"Edge Label with given name does not exist: {}\", factory.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "024045f940cbfa0ed1eef1436d879ef48cb7ae71"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAyMTE1MA==", "bodyText": "Make sense. I simply didn't change the log message introduced by #1918 so that behavior wouldn't change. But anyway, it would be better to improve the log message as well.", "url": "https://github.com/JanusGraph/janusgraph/pull/2250#discussion_r526021150", "createdAt": "2020-11-18T11:40:40Z", "author": {"login": "li-boxuan"}, "path": "janusgraph-core/src/main/java/org/janusgraph/core/schema/JanusGraphDefaultSchemaMaker.java", "diffHunk": "@@ -31,30 +33,96 @@\n public class JanusGraphDefaultSchemaMaker implements DefaultSchemaMaker {\n \n     public static final DefaultSchemaMaker INSTANCE = new JanusGraphDefaultSchemaMaker();\n+    private static final Logger log = LoggerFactory.getLogger(JanusGraphDefaultSchemaMaker.class);\n+\n+    private boolean loggingEnabled;\n \n     private JanusGraphDefaultSchemaMaker() {\n     }\n \n+    @Override\n+    public void enableLogging(Boolean enabled) {\n+        if (Boolean.TRUE.equals(enabled)) {\n+            loggingEnabled = true;\n+        }\n+    }\n+\n     @Override\n     public Cardinality defaultPropertyCardinality(String key) {\n         return Cardinality.SINGLE;\n     }\n \n+    @Override\n+    public EdgeLabel makeEdgeLabel(EdgeLabelMaker factory) {\n+        logWarn(\"Edge Label with given name does not exist: {}\", factory.getName());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAxMjUwMQ=="}, "originalCommit": {"oid": "024045f940cbfa0ed1eef1436d879ef48cb7ae71"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwOTM2OTIxOnYy", "diffSide": "RIGHT", "path": "janusgraph-core/src/main/java/org/janusgraph/graphdb/configuration/GraphDatabaseConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNjoxMjoxNFrOH3WLuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNjoxMjoxNFrOH3WLuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzc5NzE3OQ==", "bodyText": "(nitpick) I think the  \"'\" should be backticks to properly render this as inline code in markdown.", "url": "https://github.com/JanusGraph/janusgraph/pull/2250#discussion_r527797179", "createdAt": "2020-11-20T16:12:14Z", "author": {"login": "FlorianHockmann"}, "path": "janusgraph-core/src/main/java/org/janusgraph/graphdb/configuration/GraphDatabaseConfiguration.java", "diffHunk": "@@ -318,10 +316,15 @@ public boolean apply(@Nullable String s) {\n             put(\"ignore-prop\", IgnorePropertySchemaMaker.INSTANCE);\n             put(\"default\", JanusGraphDefaultSchemaMaker.INSTANCE);\n             put(\"tp3\", Tp3DefaultSchemaMaker.INSTANCE);\n-            put(\"logging\", LoggingSchemaMaker.DEFAULT_INSTANCE);\n         }}\n     );\n \n+    public static final ConfigOption<Boolean> SCHEMA_MAKER_LOGGING = new ConfigOption<>(SCHEMA_NS, \"logging\",\n+            \"Controls whether logging is enabled for schema makers. This only takes effect if you set 'schema.default' \" +\n+            \"to 'default' or 'ignore-prop'. For 'default' schema maker, warning messages will be logged before schema types \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e202398f767802d45b19e3b25147efcb55cdd1c4"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1397, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}