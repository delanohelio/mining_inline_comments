{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMzM5MTEw", "number": 386, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOToxNTo1OFrODYnN1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOToyMDoyMlrODYnS4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MTM0OTM1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/hubspot/jinjava/lib/filter/DateTimeFormatFilter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOToxNTo1OFrOFeklyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOTo1MjozN1rOFeln_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMTA5Nw==", "bodyText": "You could do this all in one loop. In fact, you don't need stringArgs at all. I know this was just moved from another file, but might as well clean it up while we're in here.", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367601097", "createdAt": "2020-01-16T19:15:58Z", "author": {"login": "jboulter"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DateTimeFormatFilter.java", "diffHunk": "@@ -27,10 +31,19 @@ public String getName() {\n \n   @Override\n   public Object filter(Object var, JinjavaInterpreter interpreter,\n-      String... args) {\n+      Object... args) {\n+\n+    List<String> stringArgs = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxODA0Ng==", "bodyText": "done \ud83d\udc4d", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367618046", "createdAt": "2020-01-16T19:52:37Z", "author": {"login": "gabru-md"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DateTimeFormatFilter.java", "diffHunk": "@@ -27,10 +31,19 @@ public String getName() {\n \n   @Override\n   public Object filter(Object var, JinjavaInterpreter interpreter,\n-      String... args) {\n+      Object... args) {\n+\n+    List<String> stringArgs = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMTA5Nw=="}, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MTM1NjE5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/hubspot/jinjava/lib/filter/DivideFilter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOToxODoxMFrOFekp8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxOTozMTowNVrOFfDFiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMjE2MQ==", "bodyText": "Objects.toString takes care of nulls for you.", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367602161", "createdAt": "2020-01-16T19:18:10Z", "author": {"login": "jboulter"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DivideFilter.java", "diffHunk": "@@ -41,11 +42,11 @@\n public class DivideFilter implements Filter {\n \n   @Override\n-  public Object filter(Object object, JinjavaInterpreter interpreter, String... arg) {\n+  public Object filter(Object object, JinjavaInterpreter interpreter, Object... arg) {\n     if (arg.length < 1) {\n       throw new TemplateSyntaxException(interpreter, getName(), \"requires 1 number (divisor) argument\");\n     }\n-    String toMul = arg[0];\n+    String toMul = arg[0] == null ? null : Objects.toString(arg[0]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMzUyNQ==", "bodyText": "Docs state that it returns \"null\" and not null.\nAlso if I use Objects.toString(arg[0]) then the following test breaks. Therefore had to ensure that arg[0] == null check was made.", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367613525", "createdAt": "2020-01-16T19:42:33Z", "author": {"login": "gabru-md"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DivideFilter.java", "diffHunk": "@@ -41,11 +42,11 @@\n public class DivideFilter implements Filter {\n \n   @Override\n-  public Object filter(Object object, JinjavaInterpreter interpreter, String... arg) {\n+  public Object filter(Object object, JinjavaInterpreter interpreter, Object... arg) {\n     if (arg.length < 1) {\n       throw new TemplateSyntaxException(interpreter, getName(), \"requires 1 number (divisor) argument\");\n     }\n-    String toMul = arg[0];\n+    String toMul = arg[0] == null ? null : Objects.toString(arg[0]);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMjE2MQ=="}, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODEwMDc0Nw==", "bodyText": "Ah, good to know.", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r368100747", "createdAt": "2020-01-17T19:31:05Z", "author": {"login": "boulter"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DivideFilter.java", "diffHunk": "@@ -41,11 +42,11 @@\n public class DivideFilter implements Filter {\n \n   @Override\n-  public Object filter(Object object, JinjavaInterpreter interpreter, String... arg) {\n+  public Object filter(Object object, JinjavaInterpreter interpreter, Object... arg) {\n     if (arg.length < 1) {\n       throw new TemplateSyntaxException(interpreter, getName(), \"requires 1 number (divisor) argument\");\n     }\n-    String toMul = arg[0];\n+    String toMul = arg[0] == null ? null : Objects.toString(arg[0]);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMjE2MQ=="}, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MTM2MjI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/hubspot/jinjava/lib/filter/DefaultFilter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOToyMDoyMlrOFekt2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxOTo0MzoxNlrOFelXrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMzE2MQ==", "bodyText": "this is the only real significant change, right?", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367603161", "createdAt": "2020-01-16T19:20:22Z", "author": {"login": "jboulter"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DefaultFilter.java", "diffHunk": "@@ -61,7 +64,7 @@ public Object filter(Object object, JinjavaInterpreter interpreter, String... ar\n       return object;\n     }\n \n-    return args[0];\n+    return (args[0] instanceof PyWrapper) ? args[0] : Objects.toString(args[0]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxMzg2OQ==", "bodyText": "Yes. basically checking if the argument is an instance of PyWrapper then we do not need to convert it into String.", "url": "https://github.com/HubSpot/jinjava/pull/386#discussion_r367613869", "createdAt": "2020-01-16T19:43:16Z", "author": {"login": "gabru-md"}, "path": "src/main/java/com/hubspot/jinjava/lib/filter/DefaultFilter.java", "diffHunk": "@@ -61,7 +64,7 @@ public Object filter(Object object, JinjavaInterpreter interpreter, String... ar\n       return object;\n     }\n \n-    return args[0];\n+    return (args[0] instanceof PyWrapper) ? args[0] : Objects.toString(args[0]);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYwMzE2MQ=="}, "originalCommit": {"oid": "7abb0ccd3ca407d960236dcbc33e7df19a6dad06"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1751, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}