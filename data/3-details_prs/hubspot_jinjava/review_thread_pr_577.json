{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NTg0MjIx", "number": 577, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxODoxMTowOFrOFJ1eGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxODoxMTowOFrOFJ1eGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODU3NTYwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/hubspot/jinjava/util/ChunkResolver.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxODoxMTowOFrOIMVHXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQxNTozNTo1OFrOIMvrJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc5OTc3NA==", "bodyText": "This should be the only place where null needs to be swapped out for the empty string as this is the last step where the object must be resolved to a string. (That string could be presented in the final output of the render)", "url": "https://github.com/HubSpot/jinjava/pull/577#discussion_r549799774", "createdAt": "2020-12-29T18:11:08Z", "author": {"login": "jasmith-hs"}, "path": "src/main/java/com/hubspot/jinjava/util/ChunkResolver.java", "diffHunk": "@@ -105,7 +107,12 @@ public String resolveChunks() {\n       .getThrowInterpreterErrors();\n     try {\n       interpreter.getContext().setThrowInterpreterErrors(true);\n-      return String.join(\"\", getChunk(null));\n+      String expression = String.join(\"\", getChunk(null));\n+      if (JINJAVA_NULL.equals(expression)) {\n+        // Resolved value of null as a string is ''.\n+        return JINJAVA_EMPTY_STRING;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba2fcabf8215a79b95153afea2a2fba2459e071f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDIzNDkxOA==", "bodyText": "See https://private.hubteam.com/opengrok/xref/all/github.com-HubSpot-jinjava%23master/src/main/java/com/hubspot/jinjava/lib/expression/DefaultExpressionStrategy.java#22 where null is replaced with empty when converting to a string.", "url": "https://github.com/HubSpot/jinjava/pull/577#discussion_r550234918", "createdAt": "2020-12-30T15:35:58Z", "author": {"login": "jasmith-hs"}, "path": "src/main/java/com/hubspot/jinjava/util/ChunkResolver.java", "diffHunk": "@@ -105,7 +107,12 @@ public String resolveChunks() {\n       .getThrowInterpreterErrors();\n     try {\n       interpreter.getContext().setThrowInterpreterErrors(true);\n-      return String.join(\"\", getChunk(null));\n+      String expression = String.join(\"\", getChunk(null));\n+      if (JINJAVA_NULL.equals(expression)) {\n+        // Resolved value of null as a string is ''.\n+        return JINJAVA_EMPTY_STRING;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc5OTc3NA=="}, "originalCommit": {"oid": "ba2fcabf8215a79b95153afea2a2fba2459e071f"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1676, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}