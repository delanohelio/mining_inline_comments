{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzkwNjUz", "number": 3679, "title": "Delay selecting current task until creating a correction comment", "bodyText": "Since all tasks in a workflow must have the same value in the flag separateStructure, setting a current task when opening the metadata editor is not required anymore to determine whether the combined or the separate structure tree will be displayed.\nA current task is now only required when creating a new correction comment. Therefor the selection of a current task has been moved to the newCommentDialog instead.\n\nFixes #3567\nFixes #3524", "createdAt": "2020-05-20T14:31:51Z", "url": "https://github.com/kitodo/kitodo-production/pull/3679", "merged": true, "mergeCommit": {"oid": "70b392bd0fa15d5c7e64f077fc3e243ce668682f"}, "closed": true, "closedAt": "2020-05-26T06:36:57Z", "author": {"login": "solth"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjJ36fgH2gAyNDIwNzkwNjUzOmFmMWY2MDU5OTRiOWI4N2YxNjkxMGI5ZmMyZDA3ZTliYmZjNGI3MjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABck25kzgH2gAyNDIwNzkwNjUzOmEyY2Y5NGJhMjViNDc1NGQ4NDg1ODhlODZhOTg1NTA0Y2I1OTdkYTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "af1f605994b9b87f16910b9fc2d07e9bbfc4b723", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/af1f605994b9b87f16910b9fc2d07e9bbfc4b723", "committedDate": "2020-05-20T14:23:39Z", "message": "Delay selecting current task until creating a correction comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deec2ddff6ae124b70d3e171b20d00c6b08e87ea", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/deec2ddff6ae124b70d3e171b20d00c6b08e87ea", "committedDate": "2020-05-20T14:36:56Z", "message": "Fix indentation level"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b4e63d4a756a4c13e98e1d1968813cc86fc5ee2", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/5b4e63d4a756a4c13e98e1d1968813cc86fc5ee2", "committedDate": "2020-05-25T12:24:58Z", "message": "Remove redundant 'edit metadata' message from metadata header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3Njg2NjEy", "url": "https://github.com/kitodo/kitodo-production/pull/3679#pullrequestreview-417686612", "createdAt": "2020-05-25T12:45:07Z", "commit": {"oid": "5b4e63d4a756a4c13e98e1d1968813cc86fc5ee2"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMjo0NTowN1rOGZ_-pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMzowMDoxMFrOGaAXnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxNTgxMg==", "bodyText": "There is no tooltip, when it's the first task", "url": "https://github.com/kitodo/kitodo-production/pull/3679#discussion_r429915812", "createdAt": "2020-05-25T12:45:07Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/CommentForm.java", "diffHunk": "@@ -309,7 +328,7 @@ public boolean isConcurrentTaskInWork() {\n      * @return concurrent task in work tooltip\n      */\n     public String getConcurrentTaskInWorkTooltip() {\n-        List<Task> concurrentTasks = getConcurrentTasksInWork();\n+        List<Task> concurrentTasks = TaskService.getListOfConcurrentTasksInWork(this.process, this.currentTask);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b4e63d4a756a4c13e98e1d1968813cc86fc5ee2"}, "originalPosition": 133}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkyMjIwNA==", "bodyText": "Furthermore the tooltipe is \"parallelTaskInWork\" even if there is only one task,  but assigned to a different user. Not a dealbreaker, but maybe confusing.", "url": "https://github.com/kitodo/kitodo-production/pull/3679#discussion_r429922204", "createdAt": "2020-05-25T13:00:10Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/CommentForm.java", "diffHunk": "@@ -309,7 +328,7 @@ public boolean isConcurrentTaskInWork() {\n      * @return concurrent task in work tooltip\n      */\n     public String getConcurrentTaskInWorkTooltip() {\n-        List<Task> concurrentTasks = getConcurrentTasksInWork();\n+        List<Task> concurrentTasks = TaskService.getListOfConcurrentTasksInWork(this.process, this.currentTask);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxNTgxMg=="}, "originalCommit": {"oid": "5b4e63d4a756a4c13e98e1d1968813cc86fc5ee2"}, "originalPosition": 133}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2cf94ba25b4754d848588e86a985504cb597da2", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/a2cf94ba25b4754d848588e86a985504cb597da2", "committedDate": "2020-05-25T21:25:07Z", "message": "Refactor tooltip creation and add tooltip for first task in workflow"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2593, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}