{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNDA1ODEz", "number": 3902, "title": "Remove the broken rest interface", "bodyText": "Fixes #3873", "createdAt": "2020-08-05T14:03:52Z", "url": "https://github.com/kitodo/kitodo-production/pull/3902", "merged": true, "mergeCommit": {"oid": "803d088b2982964574053ddecfe4801669c05c0e"}, "closed": true, "closedAt": "2020-08-13T09:19:48Z", "author": {"login": "matthias-ronge"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc77uNQgH2gAyNDYzNDA1ODEzOjViZmU4NTZmZmRkMmRlZWUyMmY4ODM2MWZkOGM1NDU4OTFlZjkyYzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8eeBegH2gAyNDYzNDA1ODEzOmY2M2NlMDNhYjNjNjVmODM0ZWE1YjM5MjVhYjQ3NTA4NDMzNzU0MDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5bfe856ffdd2deee22f88361fd8c545891ef92c0", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/5bfe856ffdd2deee22f88361fd8c545891ef92c0", "committedDate": "2020-08-05T14:02:29Z", "message": "Remove the broken rest interface\n\nFixes #3873"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNzQwMDE2", "url": "https://github.com/kitodo/kitodo-production/pull/3902#pullrequestreview-461740016", "createdAt": "2020-08-05T14:49:08Z", "commit": {"oid": "5bfe856ffdd2deee22f88361fd8c545891ef92c0"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d2f91c4d0ae2088682276579014a7ca476d8359", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/3d2f91c4d0ae2088682276579014a7ca476d8359", "committedDate": "2020-08-06T09:21:09Z", "message": "Remove Maven dependencies of Jersey REST packages as far as possible"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fc5d48188db08f0a1252fa353efa7611562e104", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/6fc5d48188db08f0a1252fa353efa7611562e104", "committedDate": "2020-08-06T13:07:27Z", "message": "Replace frameworks, remove exception out of context"}, "afterCommit": {"oid": "0a46f3975021896f6162e5f9455ed185799f6318", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/0a46f3975021896f6162e5f9455ed185799f6318", "committedDate": "2020-08-06T13:12:30Z", "message": "Replace frameworks, remove exception out of context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a46f3975021896f6162e5f9455ed185799f6318", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/0a46f3975021896f6162e5f9455ed185799f6318", "committedDate": "2020-08-06T13:12:30Z", "message": "Replace frameworks, remove exception out of context"}, "afterCommit": {"oid": "07102aacc03d708b37cb98a122a7d0530104b22a", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/07102aacc03d708b37cb98a122a7d0530104b22a", "committedDate": "2020-08-06T13:14:57Z", "message": "Replace frameworks, remove exception out of context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/e36479346586c22dc3b428ff7953a20603b09600", "committedDate": "2020-08-06T13:16:30Z", "message": "Replace frameworks, remove exception out of context"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07102aacc03d708b37cb98a122a7d0530104b22a", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/07102aacc03d708b37cb98a122a7d0530104b22a", "committedDate": "2020-08-06T13:14:57Z", "message": "Replace frameworks, remove exception out of context"}, "afterCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/e36479346586c22dc3b428ff7953a20603b09600", "committedDate": "2020-08-06T13:16:30Z", "message": "Replace frameworks, remove exception out of context"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTI5NzM4", "url": "https://github.com/kitodo/kitodo-production/pull/3902#pullrequestreview-462529738", "createdAt": "2020-08-06T13:41:43Z", "commit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MTo0M1rOG80Dug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MzoxNlrOG80HuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMDY2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        String rulesetFile;\n          \n          \n            \n                        try {\n          \n          \n            \n                            rulesetFile = getMainProcess().getRuleset().getFile();\n          \n          \n            \n                        } catch (IndexOutOfBoundsException noProcess) {\n          \n          \n            \n                            logger.catching(Level.TRACE, noProcess);\n          \n          \n            \n                            rulesetFile = \"Process list is empty!\";\n          \n          \n            \n                        }\n          \n          \n            \n                        String rulesetFile = \"Process list is empty\";\n          \n          \n            \n                        if (!this.processes.isEmpty() && Objects.nonNull(getMainProcess().getRuleset())) {\n          \n          \n            \n                            rulesetFile = getMainProcess().getRuleset().getFile();\n          \n          \n            \n                        }", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466420666", "createdAt": "2020-08-06T13:41:43Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/CreateProcessForm.java", "diffHunk": "@@ -296,8 +289,14 @@ public String createNewProcess() {\n         } catch (IOException | ProcessGenerationException e) {\n             logger.error(e.getLocalizedMessage());\n         } catch (RulesetNotFoundException e) {\n-            Helper.setErrorMessage(\"rulesetNotFound\", new Object[] {this.getMainProcess().getRuleset().getFile()},\n-                    logger, e);\n+            String rulesetFile;\n+            try {\n+                rulesetFile = getMainProcess().getRuleset().getFile();\n+            } catch (IndexOutOfBoundsException noProcess) {\n+                logger.catching(Level.TRACE, noProcess);\n+                rulesetFile = \"Process list is empty!\";\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTEzMw==", "bodyText": "Why did you remove this?", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466421133", "createdAt": "2020-08-06T13:42:25Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ProjectService.java", "diffHunk": "@@ -249,7 +249,7 @@ public boolean isProjectComplete(Project project) {\n         boolean projectsXmlExists = KitodoConfigFile.PROJECT_CONFIGURATION.exists();\n         boolean digitalCollectionsXmlExists = KitodoConfigFile.DIGITAL_COLLECTIONS.exists();\n \n-        return Objects.nonNull(project.getTitle()) && Objects.nonNull(project.template)\n+        return Objects.nonNull(project.getTitle())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTY4OA==", "bodyText": "why did you remove this?", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466421688", "createdAt": "2020-08-06T13:43:16Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ProjectServiceTest.java", "diffHunk": "@@ -52,11 +49,6 @@ public void testProjectForCompletness() throws IOException {\n         project.setTitle(\"testProject\");\n         Assert.assertFalse(\"Project shouldn't be complete\", projectService.isProjectComplete(project));\n \n-        // Add templates, still not complete", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f63ce03ab3c65f834ea5b3925ab4750843375405", "author": {"user": null}, "url": "https://github.com/kitodo/kitodo-production/commit/f63ce03ab3c65f834ea5b3925ab4750843375405", "committedDate": "2020-08-07T06:31:29Z", "message": "Update Kitodo/src/main/java/org/kitodo/production/forms/createprocess/CreateProcessForm.java\n\nCo-authored-by: Kathrin Huber <kathrin.huber@slub-dresden.de>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2818, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}