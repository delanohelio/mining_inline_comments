{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NzUwODgx", "number": 4094, "title": "add none workflow condition", "bodyText": "Pre-work for #4090", "createdAt": "2020-11-12T09:35:41Z", "url": "https://github.com/kitodo/kitodo-production/pull/4094", "merged": true, "mergeCommit": {"oid": "a1df7b643ea457d8a693373967763906b473894e"}, "closed": true, "closedAt": "2020-11-13T09:06:27Z", "author": {"login": "Kathrin-Huber"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbvcYsAFqTUyODkxNjIxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbyCzFAFqTUyOTA1NTE1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTE2MjEy", "url": "https://github.com/kitodo/kitodo-production/pull/4094#pullrequestreview-528916212", "createdAt": "2020-11-12T09:49:23Z", "commit": {"oid": "45d333d8ca51a70bfba0261e82c0e886e9bb08d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTo0OToyNFrOHxywnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTo0OToyNFrOHxywnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk3MzkxOQ==", "bodyText": "I would put the none-condition first like it is defined in WorkflowConditionType for consistency. Also, it might be the most likely case anyway. We wouldn't have to evaluate all options all the time.\nMight make sense to change the if/else if block to a switch-statement now though.\nswitch (type.toLowerCase()) {\n    case \"none\": { \u2026 }\n    case \"script\": { \u2026 }\n    case \"xpath\": { \u2026 }\n    default: { Exception }\n}", "url": "https://github.com/kitodo/kitodo-production/pull/4094#discussion_r521973919", "createdAt": "2020-11-12T09:49:24Z", "author": {"login": "Erikmitk"}, "path": "Kitodo-DataManagement/src/main/java/org/kitodo/data/database/beans/WorkflowCondition.java", "diffHunk": "@@ -48,8 +48,10 @@ public WorkflowCondition(String type, String value) {\n             this.type = WorkflowConditionType.SCRIPT;\n         } else if (type.equalsIgnoreCase(\"xpath\")) {\n             this.type = WorkflowConditionType.XPATH;\n+        } else if (type.equalsIgnoreCase(\"none\")) {\n+            this.type = WorkflowConditionType.NONE;\n         } else {\n-            throw new InvalidParameterException(\"Type should be script or XPath, but was \" +  type);\n+            throw new InvalidParameterException(\"Type should be none, script or XPath, but was \" +  type);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45d333d8ca51a70bfba0261e82c0e886e9bb08d1"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a2be71af1102dc0ef719994188f07c576b45157", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/3a2be71af1102dc0ef719994188f07c576b45157", "committedDate": "2020-11-12T11:10:58Z", "message": "add none workflow condition"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45d333d8ca51a70bfba0261e82c0e886e9bb08d1", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/45d333d8ca51a70bfba0261e82c0e886e9bb08d1", "committedDate": "2020-11-12T09:31:22Z", "message": "add none workflow condition"}, "afterCommit": {"oid": "3a2be71af1102dc0ef719994188f07c576b45157", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/3a2be71af1102dc0ef719994188f07c576b45157", "committedDate": "2020-11-12T11:10:58Z", "message": "add none workflow condition"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MDU1MTUy", "url": "https://github.com/kitodo/kitodo-production/pull/4094#pullrequestreview-529055152", "createdAt": "2020-11-12T12:51:30Z", "commit": {"oid": "3a2be71af1102dc0ef719994188f07c576b45157"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2789, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}