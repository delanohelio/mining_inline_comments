{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2ODgxNTY4", "number": 4124, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMTozODowNFrOFMGfKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMzoyNzo0NFrOFMIhvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MjMzNTEzOnYy", "diffSide": "RIGHT", "path": "Kitodo-API/src/main/java/org/kitodo/config/OPACConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMTozODowNFrOIPpRVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMTozODowNFrOIPpRVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI3NTczNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return HierarchicalConfiguration for catalog's \"parentMappingFile\"\n          \n          \n            \n                 * @return String containing given catalogs \"parentMappingFile\"", "url": "https://github.com/kitodo/kitodo-production/pull/4124#discussion_r553275735", "createdAt": "2021-01-07T11:38:04Z", "author": {"login": "solth"}, "path": "Kitodo-API/src/main/java/org/kitodo/config/OPACConfig.java", "diffHunk": "@@ -113,6 +115,15 @@ public static HierarchicalConfiguration getUrlParameters(String catalogName) {\n                 .map(c -> c.getRoot().getValue().toString()).collect(Collectors.toList());\n     }\n \n+    /**\n+     * Retrieve the \"parentMappingFile\" of the catalog identified by its title.\n+     * @param catalogName String identifying the catalog by its title\n+     * @return HierarchicalConfiguration for catalog's \"parentMappingFile\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2dde25f26c17464a86db835998e6bf9b79e74f99"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MjQ1MjkwOnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoxODo0OFrOIPqXGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoxODo0OFrOIPqXGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI5MzU5Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            mappingFileNames = Arrays.asList(OPACConfig.getXsltMappingFileForParentInRecord(opac));\n          \n          \n            \n                            mappingFileNames = Collections.singletonList(OPACConfig.getXsltMappingFileForParentInRecord(opac));", "url": "https://github.com/kitodo/kitodo-production/pull/4124#discussion_r553293592", "createdAt": "2021-01-07T12:18:48Z", "author": {"login": "solth"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -594,10 +609,17 @@ private NodeList extractMetadataNodeList(Document document) throws ProcessGenera\n         return kitodoNode.getChildNodes();\n     }\n \n-    private List<File> getMappingFiles(String opac) throws URISyntaxException {\n+    private List<File> getMappingFiles(String opac, boolean forParentInRecord) throws URISyntaxException {\n         List<File> mappingFiles = new ArrayList<>();\n+\n+        List<String> mappingFileNames;\n         try {\n-            for (String mappingFileName : OPACConfig.getXsltMappingFiles(opac)) {\n+            if (forParentInRecord) {\n+                mappingFileNames = Arrays.asList(OPACConfig.getXsltMappingFileForParentInRecord(opac));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2dde25f26c17464a86db835998e6bf9b79e74f99"}, "originalPosition": 115}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MjY2OTQyOnYy", "diffSide": "RIGHT", "path": "Kitodo-API/src/main/java/org/kitodo/config/OPACConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMzoyNzo0NFrOIPsVoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMzoyNzo0NFrOIPsVoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzMyNTk4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import java.util.Arrays;\n          \n          \n            \n            import java.util.Collections;", "url": "https://github.com/kitodo/kitodo-production/pull/4124#discussion_r553325985", "createdAt": "2021-01-07T13:27:44Z", "author": {"login": "solth"}, "path": "Kitodo-API/src/main/java/org/kitodo/config/OPACConfig.java", "diffHunk": "@@ -13,6 +13,8 @@\n \n import java.io.FileNotFoundException;\n import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2dde25f26c17464a86db835998e6bf9b79e74f99"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3882, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}