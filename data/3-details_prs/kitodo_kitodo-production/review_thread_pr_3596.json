{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NzE3NjE4", "number": 3596, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjozMzowNlrOD6VBBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwODoyOTo0NVrOD6j_Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDg4MzI0OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/services/validation/MetadataValidationService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjozMzowNlrOGSGxgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjozMzowNlrOGSGxgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYzODUzMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            .parse(Objects.nonNull(metadataLanguage) && !metadataLanguage.isEmpty() ? metadataLanguage : \"en\");\n          \n          \n            \n                            .parse(StringUtils.isBlank(metadataLanguage) ? metadataLanguage : \"en\");", "url": "https://github.com/kitodo/kitodo-production/pull/3596#discussion_r421638530", "createdAt": "2020-05-07T16:33:06Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/validation/MetadataValidationService.java", "diffHunk": "@@ -227,7 +227,8 @@ private ValidationResult checkTheIdentifier(Workpiece workpiece) throws DAOExcep\n         User user = ServiceManager.getUserService().getAuthenticatedUser();\n         String metadataLanguage = user != null ? user.getMetadataLanguage()\n                 : Helper.getRequestParameter(\"Accept-Language\");\n-        return LanguageRange.parse(! metadataLanguage.isEmpty() ? metadataLanguage : \"en\");\n+        return LanguageRange\n+                .parse(Objects.nonNull(metadataLanguage) && !metadataLanguage.isEmpty() ? metadataLanguage : \"en\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a53739d40bace57ad346ef0187cbeb464627dcb"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNzMzNjQ3OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/services/validation/MetadataValidationService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwODoyOTo0NVrOGSd4RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQwOToyMzowMVrOGSfVXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjAxNzA5Mg==", "bodyText": "Should `StringUtils.isBlank\" call not inverted or the values switched?", "url": "https://github.com/kitodo/kitodo-production/pull/3596#discussion_r422017092", "createdAt": "2020-05-08T08:29:45Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/validation/MetadataValidationService.java", "diffHunk": "@@ -228,7 +228,7 @@ private ValidationResult checkTheIdentifier(Workpiece workpiece) throws DAOExcep\n         String metadataLanguage = user != null ? user.getMetadataLanguage()\n                 : Helper.getRequestParameter(\"Accept-Language\");\n         return LanguageRange\n-                .parse(Objects.nonNull(metadataLanguage) && !metadataLanguage.isEmpty() ? metadataLanguage : \"en\");\n+                .parse(StringUtils.isBlank(metadataLanguage) ? metadataLanguage : \"en\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8e2c16e558f84757b5e6df95c042ef6238c16b7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA0MDkyNg==", "bodyText": "StringUtils isn't even imported, is it? \ud83d\ude27\nMetadataValidationService.java:[231,36] cannot find symbol", "url": "https://github.com/kitodo/kitodo-production/pull/3596#discussion_r422040926", "createdAt": "2020-05-08T09:23:01Z", "author": {"login": "solth"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/validation/MetadataValidationService.java", "diffHunk": "@@ -228,7 +228,7 @@ private ValidationResult checkTheIdentifier(Workpiece workpiece) throws DAOExcep\n         String metadataLanguage = user != null ? user.getMetadataLanguage()\n                 : Helper.getRequestParameter(\"Accept-Language\");\n         return LanguageRange\n-                .parse(Objects.nonNull(metadataLanguage) && !metadataLanguage.isEmpty() ? metadataLanguage : \"en\");\n+                .parse(StringUtils.isBlank(metadataLanguage) ? metadataLanguage : \"en\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjAxNzA5Mg=="}, "originalCommit": {"oid": "c8e2c16e558f84757b5e6df95c042ef6238c16b7"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3986, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}