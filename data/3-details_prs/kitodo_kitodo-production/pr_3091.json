{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MjY3MjE2", "number": 3091, "title": "Fix search result page", "bodyText": "", "createdAt": "2020-01-23T09:39:52Z", "url": "https://github.com/kitodo/kitodo-production/pull/3091", "merged": true, "mergeCommit": {"oid": "2c0d68a712891f67ffa6815b682eb9718fcf1d06"}, "closed": true, "closedAt": "2020-01-28T16:05:50Z", "author": {"login": "Kathrin-Huber"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb81_0wAH2gAyMzY2MjY3MjE2OmJhMGI1YmFmODAxM2YyNTM3N2UwMzFlZWY5NDZlMDJhZmFmM2E0ZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-xjQ7AH2gAyMzY2MjY3MjE2OjljMDE3MjNmNzk1NzBhM2YxZDFiYjgwMjcxNGM3NDg0ZDQ0ODlhZDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba0b5baf8013f25377e031eef946e02afaf3a4fe", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/ba0b5baf8013f25377e031eef946e02afaf3a4fe", "committedDate": "2020-01-22T13:45:04Z", "message": "fix xhtml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/87ca242dd5fc43dd1d6a103d3602709cd8220196", "committedDate": "2020-01-23T09:07:18Z", "message": "show hierarchy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NDIzNDA5", "url": "https://github.com/kitodo/kitodo-production/pull/3091#pullrequestreview-347423409", "createdAt": "2020-01-23T16:12:55Z", "commit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NDM1Mjcz", "url": "https://github.com/kitodo/kitodo-production/pull/3091#pullrequestreview-347435273", "createdAt": "2020-01-23T16:27:51Z", "commit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjoyNzo1MVrOFhEk_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjozMTowOFrOFhEsqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMjMzMw==", "bodyText": "Missing white space between ) and {.", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370222333", "createdAt": "2020-01-23T16:27:51Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMzQ2Ng==", "bodyText": "Should method delete not inside ProcessService class so deleting a process is not depending on a form class?", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370223466", "createdAt": "2020-01-23T16:29:45Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){\n+       try {\n+           ProcessForm processForm = new ProcessForm();\n+           processForm.setProcess(ServiceManager.getProcessService().getById(processDTO.getId()));\n+           processForm.delete();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyMzkxMw==", "bodyText": "Is it a good idea to remove this process from the filteredList if deleting is causing a DAOException?", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370223913", "createdAt": "2020-01-23T16:30:32Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -156,6 +158,22 @@ private void refreshFilteredList() {\n         filteredList.addAll(resultList);\n     }\n \n+    /**\n+     * delete process.\n+     * @param processDTO to delete\n+     */\n+    public void delete(ProcessDTO processDTO){\n+       try {\n+           ProcessForm processForm = new ProcessForm();\n+           processForm.setProcess(ServiceManager.getProcessService().getById(processDTO.getId()));\n+           processForm.delete();\n+       }\n+        catch (DAOException e) {\n+            Helper.setErrorMessage(\"errorOnSearch\", searchQuery);\n+        }\n+       filteredList.remove(processDTO);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIyNDI5OA==", "bodyText": "Not needed import statement.", "url": "https://github.com/kitodo/kitodo-production/pull/3091#discussion_r370224298", "createdAt": "2020-01-23T16:31:08Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/SearchResultForm.java", "diffHunk": "@@ -22,7 +22,9 @@\n import javax.enterprise.context.SessionScoped;\n import javax.inject.Named;\n \n+import org.kitodo.data.database.beans.Process;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87ca242dd5fc43dd1d6a103d3602709cd8220196"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "committedDate": "2020-01-28T09:40:37Z", "message": "fix codacy and tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b239ff351e80bcc1730fcb795c011a90a5a5947", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/2b239ff351e80bcc1730fcb795c011a90a5a5947", "committedDate": "2020-01-28T08:29:14Z", "message": "fix codacy"}, "afterCommit": {"oid": "eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/eae13b49d4fb3ed88ba7a38ea10e9391eb5a45d6", "committedDate": "2020-01-28T09:40:37Z", "message": "fix codacy and tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c01723f79570a3f1d1bb802714c7484d4489ad0", "author": {"user": {"login": "Kathrin-Huber", "name": "Kathrin Huber"}}, "url": "https://github.com/kitodo/kitodo-production/commit/9c01723f79570a3f1d1bb802714c7484d4489ad0", "committedDate": "2020-01-28T13:42:06Z", "message": "fix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2725, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}