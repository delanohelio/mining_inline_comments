{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNDA1ODEz", "number": 3902, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MTo0M1rOEV1WlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MzoxNlrOEV1Y8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzI5Njg1OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/CreateProcessForm.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MTo0M1rOG80Dug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MTo0M1rOG80Dug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMDY2Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        String rulesetFile;\n          \n          \n            \n                        try {\n          \n          \n            \n                            rulesetFile = getMainProcess().getRuleset().getFile();\n          \n          \n            \n                        } catch (IndexOutOfBoundsException noProcess) {\n          \n          \n            \n                            logger.catching(Level.TRACE, noProcess);\n          \n          \n            \n                            rulesetFile = \"Process list is empty!\";\n          \n          \n            \n                        }\n          \n          \n            \n                        String rulesetFile = \"Process list is empty\";\n          \n          \n            \n                        if (!this.processes.isEmpty() && Objects.nonNull(getMainProcess().getRuleset())) {\n          \n          \n            \n                            rulesetFile = getMainProcess().getRuleset().getFile();\n          \n          \n            \n                        }", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466420666", "createdAt": "2020-08-06T13:41:43Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/createprocess/CreateProcessForm.java", "diffHunk": "@@ -296,8 +289,14 @@ public String createNewProcess() {\n         } catch (IOException | ProcessGenerationException e) {\n             logger.error(e.getLocalizedMessage());\n         } catch (RulesetNotFoundException e) {\n-            Helper.setErrorMessage(\"rulesetNotFound\", new Object[] {this.getMainProcess().getRuleset().getFile()},\n-                    logger, e);\n+            String rulesetFile;\n+            try {\n+                rulesetFile = getMainProcess().getRuleset().getFile();\n+            } catch (IndexOutOfBoundsException noProcess) {\n+                logger.catching(Level.TRACE, noProcess);\n+                rulesetFile = \"Process list is empty!\";\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzI5OTUwOnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ProjectService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MjoyNVrOG80FjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjozNDowM1rOG9OKHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTEzMw==", "bodyText": "Why did you remove this?", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466421133", "createdAt": "2020-08-06T13:42:25Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ProjectService.java", "diffHunk": "@@ -249,7 +249,7 @@ public boolean isProjectComplete(Project project) {\n         boolean projectsXmlExists = KitodoConfigFile.PROJECT_CONFIGURATION.exists();\n         boolean digitalCollectionsXmlExists = KitodoConfigFile.DIGITAL_COLLECTIONS.exists();\n \n-        return Objects.nonNull(project.getTitle()) && Objects.nonNull(project.template)\n+        return Objects.nonNull(project.getTitle())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0ODI4NA==", "bodyText": "The only use of the project.template field was to list in the web service which production templates were assigned to the project. Since the web service is removed, it is no longer needed.", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466848284", "createdAt": "2020-08-07T06:34:03Z", "author": {"login": "matthias-ronge"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ProjectService.java", "diffHunk": "@@ -249,7 +249,7 @@ public boolean isProjectComplete(Project project) {\n         boolean projectsXmlExists = KitodoConfigFile.PROJECT_CONFIGURATION.exists();\n         boolean digitalCollectionsXmlExists = KitodoConfigFile.DIGITAL_COLLECTIONS.exists();\n \n-        return Objects.nonNull(project.getTitle()) && Objects.nonNull(project.template)\n+        return Objects.nonNull(project.getTitle())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTEzMw=="}, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzMwMjkxOnYy", "diffSide": "LEFT", "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ProjectServiceTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzo0MzoxNlrOG80HuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjozNDo0N1rOG9OLGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTY4OA==", "bodyText": "why did you remove this?", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466421688", "createdAt": "2020-08-06T13:43:16Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ProjectServiceTest.java", "diffHunk": "@@ -52,11 +49,6 @@ public void testProjectForCompletness() throws IOException {\n         project.setTitle(\"testProject\");\n         Assert.assertFalse(\"Project shouldn't be complete\", projectService.isProjectComplete(project));\n \n-        // Add templates, still not complete", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0ODUzOA==", "bodyText": "Since the project.template field is removed, the test had to be adapted.", "url": "https://github.com/kitodo/kitodo-production/pull/3902#discussion_r466848538", "createdAt": "2020-08-07T06:34:47Z", "author": {"login": "matthias-ronge"}, "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ProjectServiceTest.java", "diffHunk": "@@ -52,11 +49,6 @@ public void testProjectForCompletness() throws IOException {\n         project.setTitle(\"testProject\");\n         Assert.assertFalse(\"Project shouldn't be complete\", projectService.isProjectComplete(project));\n \n-        // Add templates, still not complete", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMTY4OA=="}, "originalCommit": {"oid": "e36479346586c22dc3b428ff7953a20603b09600"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3891, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}