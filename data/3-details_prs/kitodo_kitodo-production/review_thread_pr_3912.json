{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NDg3MTY5", "number": 3912, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowMTozOVrOEXk73w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowNDozOVrOEXk_Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMTU3ODU1OnYy", "diffSide": "RIGHT", "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/RulesetManagement.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowMTozOVrOG_cWDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowMTozOVrOG_cWDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3Nzg3MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    List<Division> divisions = universalDivisions.stream().map(universalDivision -> universalDivision.getDivision())\n          \n          \n            \n                    List<Division> divisions = universalDivisions.stream().map(UniversalDivision::getDivision)", "url": "https://github.com/kitodo/kitodo-production/pull/3912#discussion_r469177870", "createdAt": "2020-08-12T11:01:39Z", "author": {"login": "solth"}, "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/RulesetManagement.java", "diffHunk": "@@ -81,7 +82,10 @@\n \n     @Override\n     public Collection<String> getDivisionsWithNoWorkflow() {\n-        return getDivionsWithNoWorkflow(ruleset.getDivisions());\n+        Collection<UniversalDivision> universalDivisions = ruleset.getUniversalDivisions(true, true);\n+        List<Division> divisions = universalDivisions.stream().map(universalDivision -> universalDivision.getDivision())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "390b23c4902506fee91e29924c64b4801f003cd9"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMTU4Mzc4OnYy", "diffSide": "RIGHT", "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowMzozM1rOG_cZTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowMzozM1rOG_cZTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3ODcwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Map<String, String> map = all || !universalDivisions.isEmpty() ? Labeled.listByTranslatedLabel(this,\n          \n          \n            \n                        universalDivisions, UniversalDivision::getId, UniversalDivision::getLabels, priorityList)\n          \n          \n            \n                            : getDivisions(priorityList, true, subdivisionsByDate);\n          \n          \n            \n                    return map;\n          \n          \n            \n                    return all || !universalDivisions.isEmpty() ? Labeled.listByTranslatedLabel(this,\n          \n          \n            \n                        universalDivisions, UniversalDivision::getId, UniversalDivision::getLabels, priorityList)\n          \n          \n            \n                            : getDivisions(priorityList, true, subdivisionsByDate);", "url": "https://github.com/kitodo/kitodo-production/pull/3912#discussion_r469178701", "createdAt": "2020-08-12T11:03:33Z", "author": {"login": "solth"}, "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "diffHunk": "@@ -154,6 +154,20 @@ public String getDefaultLang() {\n      * @return all outline elements as map from IDs to labels\n      */\n     public Map<String, String> getDivisions(List<LanguageRange> priorityList, boolean all, boolean subdivisionsByDate) {\n+        Collection<UniversalDivision> universalDivisions = getUniversalDivisions(all, subdivisionsByDate);\n+        Map<String, String> map = all || !universalDivisions.isEmpty() ? Labeled.listByTranslatedLabel(this,\n+            universalDivisions, UniversalDivision::getId, UniversalDivision::getLabels, priorityList)\n+                : getDivisions(priorityList, true, subdivisionsByDate);\n+        return map;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "390b23c4902506fee91e29924c64b4801f003cd9"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMTU4NTkzOnYy", "diffSide": "RIGHT", "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowNDoxN1rOG_cakQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowNDoxN1rOG_cakQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3OTAyNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * get all universialDivisions as Collection.\n          \n          \n            \n                 * get all universalDivisions as Collection.", "url": "https://github.com/kitodo/kitodo-production/pull/3912#discussion_r469179025", "createdAt": "2020-08-12T11:04:17Z", "author": {"login": "solth"}, "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "diffHunk": "@@ -154,6 +154,20 @@ public String getDefaultLang() {\n      * @return all outline elements as map from IDs to labels\n      */\n     public Map<String, String> getDivisions(List<LanguageRange> priorityList, boolean all, boolean subdivisionsByDate) {\n+        Collection<UniversalDivision> universalDivisions = getUniversalDivisions(all, subdivisionsByDate);\n+        Map<String, String> map = all || !universalDivisions.isEmpty() ? Labeled.listByTranslatedLabel(this,\n+            universalDivisions, UniversalDivision::getId, UniversalDivision::getLabels, priorityList)\n+                : getDivisions(priorityList, true, subdivisionsByDate);\n+        return map;\n+    }\n+\n+    /**\n+     * get all universialDivisions as Collection.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "390b23c4902506fee91e29924c64b4801f003cd9"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMTU4NzA2OnYy", "diffSide": "RIGHT", "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowNDozOVrOG_cbOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMTowNDozOVrOG_cbOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3OTE5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return a collection of universialDivisions.\n          \n          \n            \n                 * @return a collection of universalDivisions.", "url": "https://github.com/kitodo/kitodo-production/pull/3912#discussion_r469179193", "createdAt": "2020-08-12T11:04:39Z", "author": {"login": "solth"}, "path": "Kitodo-DataEditor/src/main/java/org/kitodo/dataeditor/ruleset/xml/Ruleset.java", "diffHunk": "@@ -154,6 +154,20 @@ public String getDefaultLang() {\n      * @return all outline elements as map from IDs to labels\n      */\n     public Map<String, String> getDivisions(List<LanguageRange> priorityList, boolean all, boolean subdivisionsByDate) {\n+        Collection<UniversalDivision> universalDivisions = getUniversalDivisions(all, subdivisionsByDate);\n+        Map<String, String> map = all || !universalDivisions.isEmpty() ? Labeled.listByTranslatedLabel(this,\n+            universalDivisions, UniversalDivision::getId, UniversalDivision::getLabels, priorityList)\n+                : getDivisions(priorityList, true, subdivisionsByDate);\n+        return map;\n+    }\n+\n+    /**\n+     * get all universialDivisions as Collection.\n+     * @param all if all divisions should be respected.\n+     * @param subdivisionsByDate if subdivisionsByDate should be respected.\n+     * @return a collection of universialDivisions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "390b23c4902506fee91e29924c64b4801f003cd9"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3898, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}