{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MjkzNzE5", "number": 3872, "title": "Prevent NumberFormatException in task filter", "bodyText": "Prevent NumberFormatException when entering filter values with leading or trailing whitespaces in task filter (e.g. \"id: 3\")", "createdAt": "2020-07-29T08:54:42Z", "url": "https://github.com/kitodo/kitodo-production/pull/3872", "merged": true, "mergeCommit": {"oid": "270531d71693c573f09e58309bc2bda1079d0f52"}, "closed": true, "closedAt": "2020-08-03T07:25:18Z", "author": {"login": "solth"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5nG8jgH2gAyNDU4MjkzNzE5OjEzNjEzNzIxZWE0Yjk0MTdmNTkwOTBlOTExOTE5NjAzZmMwMzkyNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5nthTgFqTQ1NzM1NTY4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "13613721ea4b9417f59090e911919603fc03925e", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/13613721ea4b9417f59090e911919603fc03925e", "committedDate": "2020-07-29T08:53:39Z", "message": "Prevent NumberFormatException when entering filter values with leading or trailing whitespaces in task filter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MzI5MTgy", "url": "https://github.com/kitodo/kitodo-production/pull/3872#pullrequestreview-457329182", "createdAt": "2020-07-29T09:00:56Z", "commit": {"oid": "13613721ea4b9417f59090e911919603fc03925e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTowMDo1NlrOG4vUbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTowMDo1NlrOG4vUbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0ODcxOA==", "bodyText": "parseInt is throwing an NumberFormatException if tempId does not contain a parsable integer. See https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\nMaybe you should catch this exception and do not add this value to the list in this case?", "url": "https://github.com/kitodo/kitodo-production/pull/3872#discussion_r462148718", "createdAt": "2020-07-29T09:00:56Z", "author": {"login": "henning-gerhardt"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/FilterService.java", "diffHunk": "@@ -837,8 +837,10 @@ private QueryBuilder filterAutomaticTasks(String filter, ObjectType objectType)\n         Set<Integer> ids = new HashSet<>();\n         List<String> stringIds = getFilterValuesFromFilterString(filter, filterString);\n         for (String tempId : stringIds) {\n-            Integer id = Integer.parseInt(tempId);\n-            ids.add(id);\n+            if (!tempId.isEmpty()) {\n+                Integer id = Integer.parseInt(tempId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13613721ea4b9417f59090e911919603fc03925e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7afc6a22b5f06f1fd27e81c93317f06b2d19b5f", "author": {"user": {"login": "solth", "name": "Arved Solth"}}, "url": "https://github.com/kitodo/kitodo-production/commit/f7afc6a22b5f06f1fd27e81c93317f06b2d19b5f", "committedDate": "2020-07-29T09:18:33Z", "message": "Add explicit check whether non-empty filter string is numeric or not"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MzU1Njgw", "url": "https://github.com/kitodo/kitodo-production/pull/3872#pullrequestreview-457355680", "createdAt": "2020-07-29T09:35:47Z", "commit": {"oid": "f7afc6a22b5f06f1fd27e81c93317f06b2d19b5f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2630, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}