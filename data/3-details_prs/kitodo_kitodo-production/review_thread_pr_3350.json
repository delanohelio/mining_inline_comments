{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MDUxNjE2", "number": 3350, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoxNToxMlrODro6JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1Mjo0NVrODs-DTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MDg1NjA1OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/processes/processList.xhtml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoxNToxMlrOF8GRVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxMzoxNToxMlrOF8GRVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU2MTYyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <p:pieChart rendered=\"#{ProcessForm.isPieModel}\" model=\"#{ProcessForm.pieModel}\" style=\"width: 100%\"/>\n          \n          \n            \n                    <p:barChart rendered=\"#{ProcessForm.isBarModel}\" model=\"#{ProcessForm.stackedBarModel}\" style=\"width: 100%\"/>\n          \n          \n            \n                    <p:pieChart rendered=\"#{ProcessForm.pieModel}\" model=\"#{ProcessForm.pieModel}\" style=\"width: 100%\"/>\n          \n          \n            \n                    <p:barChart rendered=\"#{ProcessForm.barModel}\" model=\"#{ProcessForm.stackedBarModel}\" style=\"width: 100%\"/>\n          \n      \n    \n    \n  \n\nYou must either leave out the is or write the methods' parentheses to call a boolean getter.", "url": "https://github.com/kitodo/kitodo-production/pull/3350#discussion_r398561622", "createdAt": "2020-03-26T13:15:12Z", "author": {"login": "oliver-stoehr"}, "path": "Kitodo/src/main/webapp/WEB-INF/templates/includes/processes/processList.xhtml", "diffHunk": "@@ -351,9 +351,16 @@\n                             action=\"#{ProcessForm.showStateOfVolume}\"\n                             update=\"processesTabView:processesForm\"\n                             icon=\"fa fa-arrow-circle-o-up\"/>\n+                <p:menuitem id=\"durationOfTasks\"\n+                            value=\"#{msgs.durationOfTasks}\"\n+                            action=\"#{ProcessForm.showDurationOfTasks}\"\n+                            update=\"processesTabView:processesForm\"\n+                            icon=\"fa fa-arrow-circle-o-up\"/>\n             </p:menu>\n         </div>\n-        <p:pieChart rendered=\"#{ProcessForm.showStatistic}\" model=\"#{ProcessForm.pieModel}\" style=\"width: 100%; height: 500px;\"/>\n+\n+        <p:pieChart rendered=\"#{ProcessForm.isPieModel}\" model=\"#{ProcessForm.pieModel}\" style=\"width: 100%\"/>\n+        <p:barChart rendered=\"#{ProcessForm.isBarModel}\" model=\"#{ProcessForm.stackedBarModel}\" style=\"width: 100%\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf7ade964a4f7b9608267ddee78feba7e91a57c1"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NDgwNTkxOnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1Mjo0NVrOF-HnCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNjo1Mjo0NVrOF-HnCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY4MDcxNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            barDataSet.setBackgroundColor(bgColors.get(i%bgColors.size()));\n          \n          \n            \n                            barDataSet.setBackgroundColor(bgColors.get(i % bgColors.size()));", "url": "https://github.com/kitodo/kitodo-production/pull/3350#discussion_r400680715", "createdAt": "2020-03-31T06:52:45Z", "author": {"login": "oliver-stoehr"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "diffHunk": "@@ -1388,12 +1422,60 @@ private void createPieModel(Map<String, Integer> processValues) {\n         pieModel.setData(data);\n     }\n \n-    public boolean isShowStatistic() {\n-        return showStatistic;\n+    private void createBarModel(LinkedHashMap<String, LinkedHashMap<String, Integer>> taskValues) {\n+        ChartData data = new ChartData();\n+        boolean isTask;\n+        int i = 0;\n+        while (true) {\n+            isTask = false;\n+            HorizontalBarChartDataSet barDataSet = new HorizontalBarChartDataSet();\n+            List<Number> taskDurations = new ArrayList<>();\n+            for (String processTitle : taskValues.keySet()) {\n+                LinkedHashMap<String, Integer> tasksForProcess = taskValues.get(processTitle);\n+                ArrayList<Integer> durations = new ArrayList<>(tasksForProcess.values());\n+                Integer taskDuration = 0;\n+                if (durations.size() > i) {\n+                    barDataSet.setLabel(new ArrayList<>(tasksForProcess.keySet()).get(i));\n+                    taskDuration = durations.get(i);\n+                    isTask = true;\n+                }\n+                taskDurations.add(taskDuration);\n+            }\n+            if (isTask) {\n+                barDataSet.setStack(\"Stack 0\");\n+                barDataSet.setBackgroundColor(bgColors.get(i%bgColors.size()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efc7c021d0e76d615e286ac1fd2acb831a77f1aa"}, "originalPosition": 132}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4033, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}