{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTE5ODYy", "number": 4098, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzoxOFrOFGHj6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzo0OFrOFGHk2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTU5NjU2OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/PropertyService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzoxOFrOIG-VJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzoxOFrOIG-VJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE4MzU5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    List<Property> byQuery = getByQuery(\"SELECT DISTINCT property FROM Property AS property GROUP BY property.id\");\n          \n          \n            \n                    List<Property> byQuery = getByQuery(\"SELECT DISTINCT property FROM Property AS property GROUP BY property.title\");\n          \n      \n    \n    \n  \n\nshould be a better choice", "url": "https://github.com/kitodo/kitodo-production/pull/4098#discussion_r544183590", "createdAt": "2020-12-16T10:27:18Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/services/data/PropertyService.java", "diffHunk": "@@ -97,12 +99,12 @@ public Long countResults(Map filters) throws DAOException {\n     }\n \n     private List<String> findDistinctTitles(String type) {\n-        List<Property> byQuery = getByQuery(\"SELECT DISTINCT property.title from Property as property\");\n-        List<String> titles = new ArrayList<>();\n+        List<Property> byQuery = getByQuery(\"SELECT DISTINCT property FROM Property AS property GROUP BY property.id\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc7c07605d9f53ea5e1568305c4e2519825f4068"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTU5ODI1OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/webapp/pages/extendedSearch.xhtml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzozNlrOIG-WBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzozNlrOIG-WBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE4MzgxMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        <p:outputLabel for=\"processproperty\" value=\"#{msgs.processProperties}\"/>\n          \n          \n            \n                                        <p:outputLabel for=\"processProperty\" value=\"#{msgs.processProperties}\"/>", "url": "https://github.com/kitodo/kitodo-production/pull/4098#discussion_r544183813", "createdAt": "2020-12-16T10:27:36Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/webapp/pages/extendedSearch.xhtml", "diffHunk": "@@ -76,14 +76,24 @@\n                     <!--properties -->\n                     <p:row>\n                         <p:column>\n-                            <p:outputLabel for=\"propertyTitle\" value=\"#{msgs.properties}\"/>\n+                            <p:outputLabel for=\"processproperty\" value=\"#{msgs.processProperties}\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc7c07605d9f53ea5e1568305c4e2519825f4068"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTU5ODk5OnYy", "diffSide": "RIGHT", "path": "Kitodo/src/main/webapp/pages/extendedSearch.xhtml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzo0OFrOIG-Wdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDoyNzo0OFrOIG-Wdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE4MzkyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        <p:inputText id=\"processproperty\"\n          \n          \n            \n                                        <p:inputText id=\"processProperty\"", "url": "https://github.com/kitodo/kitodo-production/pull/4098#discussion_r544183926", "createdAt": "2020-12-16T10:27:48Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/webapp/pages/extendedSearch.xhtml", "diffHunk": "@@ -76,14 +76,24 @@\n                     <!--properties -->\n                     <p:row>\n                         <p:column>\n-                            <p:outputLabel for=\"propertyTitle\" value=\"#{msgs.properties}\"/>\n+                            <p:outputLabel for=\"processproperty\" value=\"#{msgs.processProperties}\"/>\n                         </p:column>\n                         <p:column>\n-                            <p:inputText id=\"propertyTitle\" placeholder=\"#{msgs.title}\" value=\"#{SearchForm.processPropertyTitle}\"\n-                                         styleClass=\"extended-search-input-field\"/>\n+                            <p:selectOneMenu value=\"#{SearchForm.processPropertyOperand}\">\n+                                <f:selectItems value=\"#{SearchForm.operands}\"/>\n+                            </p:selectOneMenu>\n+                        </p:column>\n+                        <p:column>\n+                            <p:selectOneMenu value=\"#{SearchForm.processPropertyTitle}\">\n+                                <f:selectItem itemValue=\"#{null}\" itemLabel=\"#{msgs.notSelected}\" noSelectionOption=\"true\"/>\n+                                <f:selectItems value=\"#{SearchForm.processPropertyTitles}\"\n+                                               var=\"proc\" itemLabel=\"#{proc}\"\n+                                               itemValue=\"#{proc}\"/>\n+                            </p:selectOneMenu>\n                         </p:column>\n                         <p:column>\n-                            <p:inputText id=\"propertyValue\" placeholder=\"#{msgs.value}\" value=\"#{SearchForm.processPropertyValue}\"\n+                            <p:inputText id=\"processproperty\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc7c07605d9f53ea5e1568305c4e2519825f4068"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3867, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}