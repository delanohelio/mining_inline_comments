{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNzI1NTY3", "number": 3060, "title": "Display information about process hierarchy", "bodyText": "Display information about process hierarchy in the process list:\n\nwhether the process has child/parent processes or both\nlist of the parent processes\nnumber of direct child processes with a link to filter for these processes", "createdAt": "2020-01-16T16:09:45Z", "url": "https://github.com/kitodo/kitodo-production/pull/3060", "merged": true, "mergeCommit": {"oid": "dcd62ba6d23a1806332b599b6e4cd09b334e7806"}, "closed": true, "closedAt": "2020-01-21T11:21:05Z", "author": {"login": "oliver-stoehr"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7LjL9gFqTM0NDQ1ODczNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8ezOGgBqjI5NjU3MDA0MDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NDU4NzM0", "url": "https://github.com/kitodo/kitodo-production/pull/3060#pullrequestreview-344458734", "createdAt": "2020-01-17T09:37:29Z", "commit": {"oid": "ce1495f786da6fcd2a9876bfceb46be87f2bffeb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwOTozNzozMFrOFezbTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwOTo0MzoxOVrOFezlnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0NDE3NA==", "bodyText": "If the message is just \"show\" so maybe the key shold be \"show\" ;-)", "url": "https://github.com/kitodo/kitodo-production/pull/3060#discussion_r367844174", "createdAt": "2020-01-17T09:37:30Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/resources/messages/messages_en.properties", "diffHunk": "@@ -785,6 +789,7 @@ shortcuts.dataEditor.detailView.keys=Ctrl Shift +\n showAutomaticTasks=show automatic tasks\n showClosedProcesses=Show closed processes\n showDataForProcess=show process data\n+showHierarchicalChildren=Show", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1495f786da6fcd2a9876bfceb46be87f2bffeb"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0NjgxMg==", "bodyText": "Please write a method ProcessService.getNumberOfChildren(process)\nwhich is calling the ProcessDAO to count on database", "url": "https://github.com/kitodo/kitodo-production/pull/3060#discussion_r367846812", "createdAt": "2020-01-17T09:43:19Z", "author": {"login": "Kathrin-Huber"}, "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "diffHunk": "@@ -1330,4 +1330,34 @@ public void setFilter(String filter) {\n     public String getCurrentTaskTitles(ProcessDTO processDTO) {\n         return ServiceManager.getProcessService().createProgressTooltip(processDTO);\n     }\n+\n+    /**\n+     * Get all parent processes recursively for the given process.\n+     *\n+     * @return List of Processes\n+     */\n+    public List<Process> getAllParentProcesses(int processId) {\n+        try {\n+            return ProcessService.getAllParentProcesses(ServiceManager.getProcessService().getById(processId));\n+        } catch (DAOException e) {\n+            Helper.setErrorMessage(ERROR_LOADING_ONE, new Object[] {ObjectType.PROCESS.getTranslationSingular(), processId }, logger, e);\n+            return new ArrayList<>();\n+        }\n+    }\n+\n+    /**\n+     * Get number of direct child processes for the given process.\n+     *\n+     * @param processId\n+     *          process id for given process\n+     * @return number of child processes\n+     */\n+    public int getNumberOfChildProcesses(int processId) {\n+        try {\n+            return ServiceManager.getProcessService().getById(processId).getChildren().size();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1495f786da6fcd2a9876bfceb46be87f2bffeb"}, "originalPosition": 28}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b2511071ad65b03540401d0d102fb3dca762488", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/3b2511071ad65b03540401d0d102fb3dca762488", "committedDate": "2020-01-17T13:21:15Z", "message": "Fix Selenium test"}, "afterCommit": {"oid": "cb1f9f3725df8796494316bdd43b6456801f6568", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/cb1f9f3725df8796494316bdd43b6456801f6568", "committedDate": "2020-01-21T07:49:28Z", "message": "Fix Selenium tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb1f9f3725df8796494316bdd43b6456801f6568", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/cb1f9f3725df8796494316bdd43b6456801f6568", "committedDate": "2020-01-21T07:49:28Z", "message": "Fix Selenium tests"}, "afterCommit": {"oid": "b883e2bf0d7838f792412ac9c02b432fcf77f357", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/b883e2bf0d7838f792412ac9c02b432fcf77f357", "committedDate": "2020-01-21T08:28:28Z", "message": "Fix Selenium tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b883e2bf0d7838f792412ac9c02b432fcf77f357", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/b883e2bf0d7838f792412ac9c02b432fcf77f357", "committedDate": "2020-01-21T08:28:28Z", "message": "Fix Selenium tests"}, "afterCommit": {"oid": "a82b7ae6ca60470fc825040276400bbf3aa67d4c", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/a82b7ae6ca60470fc825040276400bbf3aa67d4c", "committedDate": "2020-01-21T08:30:24Z", "message": "Fix Selenium tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17ddd8faa6dfa7889745d35f9b0c0f75c7b24bf5", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/17ddd8faa6dfa7889745d35f9b0c0f75c7b24bf5", "committedDate": "2020-01-21T10:42:52Z", "message": "Display information for process hierarchy in process list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aceacbbb03448a869827c29ba28718c6a8cbd2c2", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/aceacbbb03448a869827c29ba28718c6a8cbd2c2", "committedDate": "2020-01-21T10:42:52Z", "message": "Add links to parent processes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e6b984902d520a887117283fdd4d4c224fbc2c1", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/6e6b984902d520a887117283fdd4d4c224fbc2c1", "committedDate": "2020-01-21T10:42:52Z", "message": "Add option to display children of process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3464d4635ca8d8ea5d7b816d2d3f65a7356ad103", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/3464d4635ca8d8ea5d7b816d2d3f65a7356ad103", "committedDate": "2020-01-21T10:42:52Z", "message": "Simplify link for displaying hierarchical children"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d88b125f89f806a7152a7cfbc7ea4b133d387567", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/d88b125f89f806a7152a7cfbc7ea4b133d387567", "committedDate": "2020-01-21T10:42:52Z", "message": "Improve layout of hierarchical information"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ef6c75fca8c9f788e43fdbd7a247f426d84c347", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/9ef6c75fca8c9f788e43fdbd7a247f426d84c347", "committedDate": "2020-01-21T10:42:52Z", "message": "Improve rowToggler icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47a64034f8b5a814807a83769f158db4969bf666", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/47a64034f8b5a814807a83769f158db4969bf666", "committedDate": "2020-01-21T10:42:52Z", "message": "Improve code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d6a7f4b4d7b3907b7b45d997a7bcf128ee5107", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/24d6a7f4b4d7b3907b7b45d997a7bcf128ee5107", "committedDate": "2020-01-21T10:42:52Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41defbfd9b963c1bb8c0d3689cfee9361b688c78", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/41defbfd9b963c1bb8c0d3689cfee9361b688c78", "committedDate": "2020-01-21T10:42:52Z", "message": "Fix Selenium tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ae55ca8643de2f9f193ad70306b83de2105f431", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/2ae55ca8643de2f9f193ad70306b83de2105f431", "committedDate": "2020-01-21T10:42:52Z", "message": "Fix styling of row expansion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a82b7ae6ca60470fc825040276400bbf3aa67d4c", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/a82b7ae6ca60470fc825040276400bbf3aa67d4c", "committedDate": "2020-01-21T08:30:24Z", "message": "Fix Selenium tests"}, "afterCommit": {"oid": "2ae55ca8643de2f9f193ad70306b83de2105f431", "author": {"user": {"login": "oliver-stoehr", "name": "Oliver St\u00f6hr"}}, "url": "https://github.com/kitodo/kitodo-production/commit/2ae55ca8643de2f9f193ad70306b83de2105f431", "committedDate": "2020-01-21T10:42:52Z", "message": "Fix styling of row expansion"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2769, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}