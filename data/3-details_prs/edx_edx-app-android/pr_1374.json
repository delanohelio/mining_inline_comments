{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MjIyNDMy", "number": 1374, "title": "AndroidX Migration", "bodyText": "Description\nAndroidX Migration: LEARNER-7466\nDiscovery Ticket: LEARNER-7460\nMigration Guide Used:\nMigrating to AndroidX: The time is right (Android Dev Summit '19)\nhttps://www.youtube.com/watch?v=Hyt7LR5mXLc\nImportant Links:\n\n\n\nTitle\nLink\n\n\n\n\nMigrate to AndroidX\nhttps://developer.android.com/jetpack/androidx/migrate\n\n\nCross-stitching Plaid and AndroidX (An AndroidX migration guide)\nhttps://medium.com/androiddevelopers/cross-stitching-plaid-and-androidx-7603a192348e\n\n\nPlaid's PR for AndroidX Migration\nnickbutcher/plaid#524\n\n\nScript mentioned in the video for Migration\nhttps://gist.github.com/dlew/5db1b780896bbc6f542e7c00a11db6a0\n\n\nJetifier command-line tool\nhttps://developer.android.com/studio/command-line/jetifier\n\n\n\nMain Concern\nWe still haven't parted ways from Roboguice which is haunting us in this migration too. To work around it, here's what I did:\n\nTook the JAR created by Android Studio.\nDownloaded the Jetifier command-line tool.\nRan Jetifier on the Robojuice's JAR.\nRunning Jetifier on the JAR changed all support library references with equivalent androidx references.\nCommit in which it is done: 0bcfeb7", "createdAt": "2020-02-19T15:05:33Z", "url": "https://github.com/edx/edx-app-android/pull/1374", "merged": true, "mergeCommit": {"oid": "db226d41bfa149bfd83b7014e4e9466bbb08d16d"}, "closed": true, "closedAt": "2020-03-20T19:37:56Z", "author": {"login": "miankhalid"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO7zhnAFqTM3MjYzMTQ1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPldinABqjMxNTA1OTkzMDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNjMxNDUx", "url": "https://github.com/edx/edx-app-android/pull/1374#pullrequestreview-372631451", "createdAt": "2020-03-11T10:23:07Z", "commit": {"oid": "079f858987593205d18dadf44662a44385c44e1d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDoyMzowN1rOF0w78g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMTowOTozMFrOF4AM8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg3MjA1MA==", "bodyText": "We should use the latest version of the lib that is com.github.bumptech.glide:glide:4.11.0.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r390872050", "createdAt": "2020-03-11T10:23:07Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -180,9 +180,9 @@ dependencies {\n         exclude group: 'com.squareup.okhttp3', module: 'okhttp'\n         exclude group: 'com.google.code.gson', module: 'gson'\n     }\n-    implementation 'com.android.support:multidex:1.0.3'\n-    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n-    implementation 'com.github.bumptech.glide:glide:3.7.0'\n+    implementation 'androidx.multidex:multidex:2.0.0'\n+    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n+    implementation 'com.github.bumptech.glide:glide:4.10.0'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "079f858987593205d18dadf44662a44385c44e1d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5NjY1MQ==", "bodyText": "There is no Package name of androidx.core.widget.Space may leads to the app crash, we should use Space instated.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r390896651", "createdAt": "2020-03-11T11:07:50Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/row_course_dashboard_cert.xml", "diffHunk": "@@ -43,7 +43,7 @@\n                 android:textColor=\"@color/edx_brand_gray_base\"\n                 android:textSize=\"@dimen/edx_xx_small\" />\n \n-            <android.support.v4.widget.Space\n+            <androidx.core.widget.Space", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "079f858987593205d18dadf44662a44385c44e1d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkxNTUyOA==", "bodyText": "This class is never used, we can remove this.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r390915528", "createdAt": "2020-03-11T11:45:54Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/base/CustomTypefaceSpan.java", "diffHunk": "@@ -3,11 +3,12 @@\n import android.content.Context;\n import android.graphics.Paint;\n import android.graphics.Typeface;\n-import android.support.v4.util.LruCache;\n import android.text.Spannable;\n import android.text.TextPaint;\n import android.text.style.MetricAffectingSpan;\n \n+import androidx.collection.LruCache;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "079f858987593205d18dadf44662a44385c44e1d"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE5NTYyOA==", "bodyText": "no need to pass the ref as code check-out to the particular commit in any case @ line 27", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r394195628", "createdAt": "2020-03-18T09:06:45Z", "author": {"login": "farhan-arshad-dev"}, "path": "buildSrc/settings.gradle", "diffHunk": "@@ -10,25 +10,30 @@ buildscript {\n     }\n }\n \n-def edXAppPluginSetup(url) {\n+def edXAppPluginSetup(url, ref = null) {\n     def buildSrc = new File(rootProject.projectDir, 'plugins')\n     buildSrc.mkdirs()\n     def dest = new File(buildSrc, \"edx-app-gradle-plugin\")\n \n-    if(!dest.exists()) {\n-        Grgit.clone(dir: dest, uri: url)\n+    if (!dest.exists()) {\n+        Grgit.clone(dir: dest, uri: url, refToCheckout: ref)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b10547aeb2cf0da04348a3448cc8b8c89ff4112"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI0OTY1Mg==", "bodyText": "try to run the test without runOnUiThread, tests are running locally.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r394249652", "createdAt": "2020-03-18T10:37:22Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/androidTest/java/org/edx/mobile/test/screenshot/test/LaunchScreenshotTests.java", "diffHunk": "@@ -18,9 +20,14 @@\n     public ActivityTestRule<LaunchActivity> mActivityRule =\n             new ActivityTestRule<>(LaunchActivity.class, true, true);\n \n+    @Rule\n+    public TestName testName = new TestName();\n+\n     @Test\n     public void testScreenshot_recordLaunchActivity() throws Throwable {\n-        View view = mActivityRule.getActivity().findViewById(android.R.id.content);\n-        Screenshot.snap(view).record();\n+        Activity activity = mActivityRule.getActivity();\n+        activity.runOnUiThread(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3876f2fa1d7b699f2e4d072225c1cdc981c6b65"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI0OTc1NA==", "bodyText": "try to run the test without runOnUiThread, tests are running locally.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r394249754", "createdAt": "2020-03-18T10:37:33Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/androidTest/java/org/edx/mobile/view/PresenterActivityScreenshotTest.java", "diffHunk": "@@ -51,15 +52,19 @@\n     @Before\n     public void before() {\n         this.presenter = mock(getPresenterType());\n-        ((EdxInstrumentationTestApplication) InstrumentationRegistry.getTargetContext().getApplicationContext()).setNextPresenter(presenter);\n+        ((EdxInstrumentationTestApplication) InstrumentationRegistry.getInstrumentation().\n+                getTargetContext().getApplicationContext()).setNextPresenter(presenter);\n         this.activity = mActivityRule.launchActivity(null);\n         // To simplify tests, we automatically execute view methods on the application's UI thread.\n         this.view = UiThreadInvocationHandler.newProxyInstance(uiThreadTestRule, activity.view, getViewType());\n     }\n \n     @After\n     public void after() {\n-        Screenshot.snap(activity.findViewById(android.R.id.content)).setName(getClass().getName() + \"_\" + testName.getMethodName()).record();\n+        activity.runOnUiThread(() -> {\n+            Screenshot.snap(activity.findViewById(android.R.id.content)).setName(getClass().getName() + \"_\" + testName.getMethodName()).record();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3876f2fa1d7b699f2e4d072225c1cdc981c6b65"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1MDEzNQ==", "bodyText": "From which statements these comments are linked?", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r394250135", "createdAt": "2020-03-18T10:38:14Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -220,14 +220,20 @@ dependencies {\n \n     // test project configuration\n     testImplementation 'junit:junit:4.12'\n-    testImplementation (\"org.mockito:mockito-core:1.10.19\"){\n+    testImplementation (\"org.mockito:mockito-core:2.19.0\"){\n         exclude group: 'org.hamcrest'\n     }\n     testImplementation 'commons-lang:commons-lang:2.6'\n     testImplementation \"org.robolectric:robolectric:4.3.1\"\n     testImplementation \"com.github.nimbl3:robolectric.shadows-supportv4:4.1-SNAPSHOT\"\n-    testImplementation \"org.robolectric:shadows-multidex:3.8\"\n+    testImplementation \"org.robolectric:shadows-multidex:4.0.1\"\n     testImplementation 'org.assertj:assertj-core:2.5.0'\n+    /**\n+     * AssertJ has been deprecated and doesn't support AndroidX classes.\n+     * Ref: https://github.com/square/assertj-android\n+     * Instead of AssertJ we should move towards Truth library that they recommend instead.\n+     * Ref: https://truth.dev/comparison.html\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8aa1bb147f9222ecb260ea6aae51d0f0f8c8884f"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI2Nzg5MQ==", "bodyText": "Please mention the purpose/inspiration ref for these changes.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r394267891", "createdAt": "2020-03-18T11:09:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/http/util/Tls12SocketFactory.java", "diffHunk": "@@ -95,9 +101,19 @@ private Socket patch(Socket s) {\n     public static OkHttpClient.Builder enableTls12OnPreLollipop(OkHttpClient.Builder client) {\n         if (Build.VERSION.SDK_INT < 22) {\n             try {\n-                final SSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\");\n-                sslContext.init(null, null, null);\n-                client.sslSocketFactory(new Tls12SocketFactory(sslContext.getSocketFactory()));\n+                final TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(\n+                        TrustManagerFactory.getDefaultAlgorithm());\n+                trustManagerFactory.init((KeyStore) null);\n+                final TrustManager[] trustManagers = trustManagerFactory.getTrustManagers();\n+                if (trustManagers.length != 1 || !(trustManagers[0] instanceof X509TrustManager)) {\n+                    throw new IllegalStateException(\"Unexpected default trust managers:\"\n+                            + Arrays.toString(trustManagers));\n+                }\n+                final X509TrustManager trustManager = (X509TrustManager) trustManagers[0];\n+\n+                final SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n+                sslContext.init(null, new TrustManager[]{trustManager}, null);\n+                client.sslSocketFactory(new Tls12SocketFactory(sslContext.getSocketFactory()), trustManager);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "291dbbb8968ca1afba0979bdbd61e6ac78d1e3b2"}, "originalPosition": 39}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b10547aeb2cf0da04348a3448cc8b8c89ff4112", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/9b10547aeb2cf0da04348a3448cc8b8c89ff4112", "committedDate": "2020-02-19T17:02:52Z", "message": "Fix package issues after rebase on master"}, "afterCommit": {"oid": "8cd11462447056b6d50bd81f0efbb3e97b7061f6", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/8cd11462447056b6d50bd81f0efbb3e97b7061f6", "committedDate": "2020-03-20T06:20:25Z", "message": "Fix package issues after rebase on master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NDg3MDky", "url": "https://github.com/edx/edx-app-android/pull/1374#pullrequestreview-378487092", "createdAt": "2020-03-20T13:36:14Z", "commit": {"oid": "17896d11aa1d04e088c26ff232c6838bc5ab37c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzozNjoxNFrOF5T7tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo1Mzo0NFrOF5UnTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYzOTczNQ==", "bodyText": "SUPPORT_LIBRARY_VERSION not used anymore, also we need to add a new constant to represent the androidX Library version.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r395639735", "createdAt": "2020-03-20T13:36:14Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -115,12 +113,12 @@ dependencies {\n     // with module updates.\n     implementation project (':android-iconify-fontawesome')\n \n-    implementation \"com.android.support:appcompat-v7:${SUPPORT_LIBRARY_VERSION}\"\n-    implementation \"com.android.support:recyclerview-v7:${SUPPORT_LIBRARY_VERSION}\"\n-    implementation \"com.android.support:cardview-v7:${SUPPORT_LIBRARY_VERSION}\"\n-    implementation \"com.android.support:design:${SUPPORT_LIBRARY_VERSION}\"\n+    implementation \"androidx.appcompat:appcompat:1.0.0\"\n+    implementation \"androidx.recyclerview:recyclerview:1.0.0\"\n+    implementation \"androidx.cardview:cardview:1.0.0\"\n+    implementation \"com.google.android.material:material:1.0.0\"\n     // For the optional Nullable annotation\n-    implementation \"com.android.support:support-annotations:${SUPPORT_LIBRARY_VERSION}\"\n+    implementation \"androidx.annotation:annotation:1.0.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17896d11aa1d04e088c26ff232c6838bc5ab37c2"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0MTc2MQ==", "bodyText": "we can remove the comments now.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r395641761", "createdAt": "2020-03-20T13:39:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -203,19 +208,24 @@ dependencies {\n     implementation 'com.newrelic.agent.android:android-agent:5.4.1'\n \n     //Include DI framework\n-    implementation 'org.roboguice:roboguice:3.0.1'\n-    compileOnly 'org.roboguice:roboblender:3.0.1'\n+//    implementation 'org.roboguice:roboguice:3.0.1'\n+//    compileOnly 'org.roboguice:roboblender:3.0.1'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17896d11aa1d04e088c26ff232c6838bc5ab37c2"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY1MDg5NA==", "bodyText": "We can use androidX version constant after creation.", "url": "https://github.com/edx/edx-app-android/pull/1374#discussion_r395650894", "createdAt": "2020-03-20T13:53:44Z", "author": {"login": "farhan-arshad-dev"}, "path": "android-iconify-fontawesome/build.gradle", "diffHunk": "@@ -15,6 +15,6 @@ android {\n }\n \n dependencies {\n-    implementation \"com.android.support:support-annotations:${SUPPORT_LIBRARY_VERSION}\"\n+    implementation \"androidx.annotation:annotation:1.0.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17896d11aa1d04e088c26ff232c6838bc5ab37c2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NjUyNTE0", "url": "https://github.com/edx/edx-app-android/pull/1374#pullrequestreview-378652514", "createdAt": "2020-03-20T16:52:18Z", "commit": {"oid": "0a258436c1f1ca439234b3a5b0f60ad206088533"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a01f0c25b5c3a46ce27a38a49170193373397d67", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/a01f0c25b5c3a46ce27a38a49170193373397d67", "committedDate": "2020-03-20T18:25:13Z", "message": "Migrate to support library v28"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f24c819d36e46cf63fadcfb97e4b248fe7bf8e1", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/8f24c819d36e46cf63fadcfb97e4b248fe7bf8e1", "committedDate": "2020-03-20T18:25:15Z", "message": "Run automated AndroidX migration\n\n- Using Android Studio's migration option\n- Also ran the following bash script\nhttps://gist.github.com/dlew/5db1b780896bbc6f542e7c00a11db6a0\n- Plus some handpicked package changes\n\nAlso removed an extra file after the rebase."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b12d4cf91e5fe87a211d4a725ab682927897ac1b", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/b12d4cf91e5fe87a211d4a725ab682927897ac1b", "committedDate": "2020-03-20T18:39:47Z", "message": "Stop ignoring gradle.properties to enable Jetifier for Travis\n\nAlso increase Gradle build's heap to avoid OOM during build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c9a19413797a944b3b595da998679c0baed7fb2", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/2c9a19413797a944b3b595da998679c0baed7fb2", "committedDate": "2020-03-20T18:39:47Z", "message": "Add androidX variant of Roboguice lib\n\nComment out gradle implementation in favor of jar library."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0452d45d0fef4a7dad77c2448875cb2bb2347bdb", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/0452d45d0fef4a7dad77c2448875cb2bb2347bdb", "committedDate": "2020-03-20T18:39:47Z", "message": "Update Gradle wrapper & Groovy version\n\nAn error that has been fixed as part of this commit.\nError: << was deprecated in Gradle 4.x and removed in Gradle 5.0\nFix: << has been replaced with doLast.\n\nMore info here:\nhttps://docs.gradle.org/current/userguide/upgrading_version_4.html#changes_5.0\n\nPointing to Gradle 5 support PR for gradle plugin and modifying\nsettings.gradle to checkout specific commit."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a258436c1f1ca439234b3a5b0f60ad206088533", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/0a258436c1f1ca439234b3a5b0f60ad206088533", "committedDate": "2020-03-20T14:41:24Z", "message": "Separate out version constants"}, "afterCommit": {"oid": "3f5e569c2a204505f04d5f2a4dcd6d05331645ae", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/3f5e569c2a204505f04d5f2a4dcd6d05331645ae", "committedDate": "2020-03-20T18:39:50Z", "message": "Separate out version constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64f7da2f7a3798bd90acf564f9a9be1e6f96a9f2", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/64f7da2f7a3798bd90acf564f9a9be1e6f96a9f2", "committedDate": "2020-03-20T18:52:51Z", "message": "Add shadows (Robolectric) for support-v4 package\n\nIssue: \"org.robolectric:shadows-supportv4:{latest_version}\" library\nThis library from Robolectric doesn't support AndroidX and internally\nuses support-v4 package.\n\nReference Issue: https://github.com/robolectric/robolectric/issues/3985\n\nTemporary Resolution:\nAs a workaround I've switched to using a clone of this library which\nsupports AndroidX. Inspiration taken from here:\nhttps://github.com/robolectric/robolectric/issues/3985#issuecomment-441390867\n\nActual Resolution:\nIf this passes our tests, a future task should be created to start using\nFragmentScenario from package -> androidx.fragment:fragment-testing\n\nOfficial Doc: https://developer.android.com/training/basics/fragments/testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e852fc2808bcd2f52e3c9732253d53b3e37e143", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/2e852fc2808bcd2f52e3c9732253d53b3e37e143", "committedDate": "2020-03-20T18:57:11Z", "message": "Update test related libraries\n\nUpdated test related libraries and a test that was failing in\nWebViewActivityTest class due to usage of AssertJ library's assertThat\nfunction (which doesn't support AndroidX views).\n\nReason:\nAssertJ has been deprecated and doesn't support AndroidX classes.\nRef: https://github.com/square/assertj-android\nInstead of AssertJ we should move towards Truth library that they\nrecommend instead.\nRef: https://truth.dev/comparison.html"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f5e569c2a204505f04d5f2a4dcd6d05331645ae", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/3f5e569c2a204505f04d5f2a4dcd6d05331645ae", "committedDate": "2020-03-20T18:39:50Z", "message": "Separate out version constants"}, "afterCommit": {"oid": "09bfc946bb2aa63727763cd89e5ebbf294c7abf5", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/09bfc946bb2aa63727763cd89e5ebbf294c7abf5", "committedDate": "2020-03-20T18:57:32Z", "message": "Separate out version constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e7d1dcacbc6d4827dc234a03dc919c58a9df411", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/4e7d1dcacbc6d4827dc234a03dc919c58a9df411", "committedDate": "2020-03-20T18:59:47Z", "message": "Update mockito library and its dexmaker\n\nMockito: https://site.mockito.org/\nDexmaker: https://github.com/linkedin/dexmaker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ed01e6e641fd5ebe1908cb7934058d6462d7323", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/0ed01e6e641fd5ebe1908cb7934058d6462d7323", "committedDate": "2020-03-20T19:00:32Z", "message": "Fix screenshot test cases\n\n- Updated Screenshot testing library\n- Fixed screenshot tests running on wrong thread\nInstead of ActivityRule we should be using ActivityScenario which is a\nnewer API that allows running a test on main thread.\nBut for now Activity's runOnUiThread function has been used to make\ntests pass through minimal change.\n\n- Also Updated screenshots\nAfter running record statement screenshots' directory gets updated and\nprevious screenshots + directory need to be deleted.\n\nAlso updated the naming convention of screenshot generation of test in\nLaunchScreenshotTests class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09bfc946bb2aa63727763cd89e5ebbf294c7abf5", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/09bfc946bb2aa63727763cd89e5ebbf294c7abf5", "committedDate": "2020-03-20T18:57:32Z", "message": "Separate out version constants"}, "afterCommit": {"oid": "1fae03aeacdd0bc125e919a5b2cc9f8616d0ccf9", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/1fae03aeacdd0bc125e919a5b2cc9f8616d0ccf9", "committedDate": "2020-03-20T19:00:33Z", "message": "Separate out version constants"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fae03aeacdd0bc125e919a5b2cc9f8616d0ccf9", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/1fae03aeacdd0bc125e919a5b2cc9f8616d0ccf9", "committedDate": "2020-03-20T19:00:33Z", "message": "Separate out version constants"}, "afterCommit": {"oid": "722e35f06a67823cf53f968662203c3347e168cc", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/722e35f06a67823cf53f968662203c3347e168cc", "committedDate": "2020-03-20T19:07:00Z", "message": "Separate out version constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96c47503bc31792dfe6783b505a49da37af076e3", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/96c47503bc31792dfe6783b505a49da37af076e3", "committedDate": "2020-03-20T19:12:48Z", "message": "Fix code issues after the migration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cb4c2a0a7246e3dfec5fb1248da1f8bf62251c7", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/4cb4c2a0a7246e3dfec5fb1248da1f8bf62251c7", "committedDate": "2020-03-20T19:12:48Z", "message": "Fix Glide related issues\n\nFixed Glide's custom Transformation class after lib upgrade\nNote: Inspiration for code in updateDiskCacheKey function has been taken\nfrom various classes that extend BitmapTransformation e.g. CenterCrop &\nCenterInside inside Glide's `com.bumptech.glide.load.resource.bitmap`\npackage."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f7c7a00c88f52fd6ff195456f8e67193b654a3f", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/3f7c7a00c88f52fd6ff195456f8e67193b654a3f", "committedDate": "2020-03-20T19:12:48Z", "message": "Update okhttp3 and make Glide use our okhttp3 integration\n\nWe can't upgrade to okhttp3 v4.x since it requires the minSdkVersion set\nto Lollipop which isn't possible for us, so we are using the v3.12.x\nto cater KitKat devices.\n(p.s. okhttp3 v3.12.x will be maintained till December 31, 2020.)\n\nRef: https://square.github.io/okhttp/#requirements\nFor more info:\nhttps://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce\n\nTLS socket factory class has been updated to use X509TrustManager\n\nAlso, set message to being non-null in response builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb630d4a664a8d41b52c6167b26a837a906d936c", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/cb630d4a664a8d41b52c6167b26a837a906d936c", "committedDate": "2020-03-20T19:12:48Z", "message": "Separate out signing related configurations to a separate module\n\nRelease configurations have been moved out of gradle.properties & app's\nbuild.gradle file to a separate folder named `signing` which will now\ncontain the .keystore file, keystore.properties file & signing.gradle\nscript (which will only be executed if the build's type is release).\n\nFor more info:\nhttps://developer.android.com/studio/publish/app-signing#secure-shared-keystore\nhttps://stackoverflow.com/a/50966504/1402616\n\nREADME has also been updated for building a release.\nBonus: Auto-links inside the README have been wrapped inside <> for\nbetter performance during live preview inside Android Studio."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c53409b51b38fc172a4d2ae1324b95e9ab1d838", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/7c53409b51b38fc172a4d2ae1324b95e9ab1d838", "committedDate": "2020-03-20T19:12:48Z", "message": "Separate out version constants"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "722e35f06a67823cf53f968662203c3347e168cc", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/722e35f06a67823cf53f968662203c3347e168cc", "committedDate": "2020-03-20T19:07:00Z", "message": "Separate out version constants"}, "afterCommit": {"oid": "7c53409b51b38fc172a4d2ae1324b95e9ab1d838", "author": {"user": {"login": "miankhalid", "name": "Mian Khalid"}}, "url": "https://github.com/edx/edx-app-android/commit/7c53409b51b38fc172a4d2ae1324b95e9ab1d838", "committedDate": "2020-03-20T19:12:48Z", "message": "Separate out version constants"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4134, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}