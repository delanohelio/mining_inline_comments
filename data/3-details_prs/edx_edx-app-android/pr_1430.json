{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5ODk0MDcw", "number": 1430, "title": "Added Confirm email field in registration form", "bodyText": "Description\nLEARNER-7748\n\nAdded Confirm email field in the registration form\nVerify both email fields before call register account API\nUpdate the registration URL API_Version based on config\nHandle extra fields for Social login", "createdAt": "2020-06-25T09:36:48Z", "url": "https://github.com/edx/edx-app-android/pull/1430", "merged": true, "mergeCommit": {"oid": "eb07b2fedc5183013cf8698b21680d73a2bf77ec"}, "closed": true, "closedAt": "2020-07-01T15:55:58Z", "author": {"login": "omerhabib26"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcus6a_ABqjM0ODE5MzY1MjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwsB63ABqjM1MDMwMzA1MTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d854d1f172ff883b3e372cedda448c1a3e190b41", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/d854d1f172ff883b3e372cedda448c1a3e190b41", "committedDate": "2020-06-25T09:34:48Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}, "afterCommit": {"oid": "88076aba29e63e1c916647f4b6f3366da5b05dd8", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/88076aba29e63e1c916647f4b6f3366da5b05dd8", "committedDate": "2020-06-25T11:25:52Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88076aba29e63e1c916647f4b6f3366da5b05dd8", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/88076aba29e63e1c916647f4b6f3366da5b05dd8", "committedDate": "2020-06-25T11:25:52Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}, "afterCommit": {"oid": "69a19436408d1cc029ca807473a0469b6efa6b62", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/69a19436408d1cc029ca807473a0469b6efa6b62", "committedDate": "2020-06-25T11:36:20Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwODA2NTc1", "url": "https://github.com/edx/edx-app-android/pull/1430#pullrequestreview-440806575", "createdAt": "2020-07-01T12:04:52Z", "commit": {"oid": "b1b0818e77aac04b8e770ec56c084c99d3772a51"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxMjowNDo1MlrOGrjDuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxMjowNDo1MlrOGrjDuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODMxNjM0NQ==", "bodyText": "IMO, we can merge both the conditions,\nif (RegistrationFieldType.CONFIRM_EMAIL.name().equalsIgnoreCase(fieldName) ||\n                    RegistrationFieldType.PASSWORD.name().equalsIgnoreCase(fieldName)) {\n                field.getView().setVisibility(View.GONE);\n                extraFields.add(field);\n            }", "url": "https://github.com/edx/edx-app-android/pull/1430#discussion_r448316345", "createdAt": "2020-07-01T12:04:52Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/RegisterActivity.java", "diffHunk": "@@ -463,15 +477,20 @@ private void updateUIOnSocialLoginToEdxFailure(SocialFactory.SOCIAL_SOURCE_TYPE\n         showRegularMessage(socialType);\n         //populate the field with value from social site\n         populateEmailFromSocialSite(socialType, accessToken);\n-        //hide email and password field\n+        //hide confirm email and password field as we don't need them in case of social signup\n+        List<IRegistrationFieldView> extraFields = new ArrayList<>();\n         for (IRegistrationFieldView field : this.mFieldViews) {\n-            String fieldname = field.getField().getName();\n-            if (\"password\".equalsIgnoreCase(fieldname)) {\n+            String fieldName = field.getField().getName();\n+            if (RegistrationFieldType.CONFIRM_EMAIL.name().equalsIgnoreCase(fieldName)) {\n+                field.getView().setVisibility(View.GONE);\n+                extraFields.add(field);\n+            }\n+            if (RegistrationFieldType.PASSWORD.name().equalsIgnoreCase(fieldName)) {\n                 field.getView().setVisibility(View.GONE);\n-                this.mFieldViews.remove(field);\n-                break;\n+                extraFields.add(field);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1b0818e77aac04b8e770ec56c084c99d3772a51"}, "originalPosition": 75}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwOTcxNTUx", "url": "https://github.com/edx/edx-app-android/pull/1430#pullrequestreview-440971551", "createdAt": "2020-07-01T15:22:09Z", "commit": {"oid": "41ef1d0efcd836b62e493ec4fd23e2341d95b94a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27a7300df448853d1ee1aaf70a92019bd5121c87", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/27a7300df448853d1ee1aaf70a92019bd5121c87", "committedDate": "2020-07-01T15:31:54Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41ef1d0efcd836b62e493ec4fd23e2341d95b94a", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/41ef1d0efcd836b62e493ec4fd23e2341d95b94a", "committedDate": "2020-07-01T14:09:38Z", "message": "Address PR comment"}, "afterCommit": {"oid": "27a7300df448853d1ee1aaf70a92019bd5121c87", "author": {"user": {"login": "omerhabib26", "name": "Omer Habib"}}, "url": "https://github.com/edx/edx-app-android/commit/27a7300df448853d1ee1aaf70a92019bd5121c87", "committedDate": "2020-07-01T15:31:54Z", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4188, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}