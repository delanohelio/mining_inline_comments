{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2Mzk3NTg1", "number": 1466, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNDo1NToyNFrOEp2ERw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwNzozNzo1M1rOEqEb0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzEyOTAzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/drawable/blue_border_white_roundedbg.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNDo1NToyNFrOHbwzxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNDo1NToyNFrOHbwzxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg3MzI4NA==", "bodyText": "can use edx_box_radius from the dimens.\ncreate a new dimension instated of hardcode if general dimen is not existe.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498873284", "createdAt": "2020-10-02T14:55:24Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/drawable/blue_border_white_roundedbg.xml", "diffHunk": "@@ -0,0 +1,9 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<shape xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <solid android:color=\"@android:color/white\" />\n+    <stroke\n+        android:width=\"1dp\"\n+        android:color=\"@color/edx_brand_primary_base\" />\n+    <corners android:radius=\"5dp\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzE1OTI0OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTowMzozMFrOHbxHSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNTowMzozMFrOHbxHSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg3ODI4Mg==", "bodyText": "rename the id for the LinearLayout .", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498878282", "createdAt": "2020-10-02T15:03:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:id=\"@+id/last_accessed_bar\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzIxNDIyOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNToxODozMFrOHbxqfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNToxODozMFrOHbxqfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzI5NA==", "bodyText": "better to use 12dp padding as per mockups.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498887294", "createdAt": "2020-10-02T15:18:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:id=\"@+id/last_accessed_bar\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/edx_brand_primary_back\"\n+        android:orientation=\"vertical\"\n+        android:padding=\"@dimen/widget_margin\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzI0Mjg5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/course/CourseService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNToyNjoyN1rOHbx8bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNToyNjoyN1rOHbx8bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5MTg4Nw==", "bodyText": "use / before the path, to make parity with others.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498891887", "createdAt": "2020-10-02T15:26:27Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/course/CourseService.java", "diffHunk": "@@ -138,6 +140,12 @@ public CourseService get() {\n     @GET(\"api/course_home/v1/dates/{course_key}\")\n     Call<CourseDates> getCourseDates(@Path(\"course_key\") String courseId);\n \n+    @GET(\"api/course_experience/v1/course_deadlines_info/{course_key}\")\n+    Call<CourseBannerInfoModel> getCourseBannerInfo(@Path(\"course_key\") String courseId);\n+\n+    @POST(\"api/course_experience/v1/reset_course_deadlines\")\n+    Call<ResetCourseDates> resetCourseDates(@Body HashMap<String, String> courseBody);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzM2ODQ3OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowMzoyMFrOHbzMWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTo0ODozM1rOHb8edQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjM0NQ==", "bodyText": "why need to add this isBannerVisible ? deserve doc string.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498912345", "createdAt": "2020-10-02T16:03:20Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -97,6 +106,7 @@\n     private EnrolledCoursesResponse courseData;\n     private String courseComponentId;\n     private boolean isVideoMode;\n+    private boolean isBannerVisible = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NDQzNw==", "bodyText": "Flag to check the course dates banner visibility as we are adding the banner as an item in listView which should be only visible on CourseUnitDashboard.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499064437", "createdAt": "2020-10-02T21:48:33Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -97,6 +106,7 @@\n     private EnrolledCoursesResponse courseData;\n     private String courseComponentId;\n     private boolean isVideoMode;\n+    private boolean isBannerVisible = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjM0NQ=="}, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzM3MTA1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowNDowNlrOHbzN6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMjowMDoyMVrOHb8rlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjc0NQ==", "bodyText": "Remove un-necessary comments.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498912745", "createdAt": "2020-10-02T16:04:06Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 183}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Nzc5Ng==", "bodyText": "Removed", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499067796", "createdAt": "2020-10-02T22:00:21Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjc0NQ=="}, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 183}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU0MDAwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjo1ODo1M1rOHb05Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMjowMDoxM1rOHb8rbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDIwNw==", "bodyText": "Add todo.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498940207", "createdAt": "2020-10-02T16:58:53Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 171}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Nzc1OA==", "bodyText": "Added", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499067758", "createdAt": "2020-10-02T22:00:13Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDIwNw=="}, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 171}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU0MTg2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjo1OTozMVrOHb06Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTo1MzowMFrOHb8jdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDUxMQ==", "bodyText": "better to add the following code:\n            listView.removeHeaderView(bannerViewBinding.getRoot());\n            isBannerVisible = false;", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498940511", "createdAt": "2020-10-02T16:59:31Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);\n+                    break;\n+                case INFO_BANNER:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_info_banner));\n+                    break;\n+                case BLANK:\n+                    break;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 189}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2NTcxNw==", "bodyText": "(Y)", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499065717", "createdAt": "2020-10-02T21:53:00Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);\n+                    break;\n+                case INFO_BANNER:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_info_banner));\n+                    break;\n+                case BLANK:\n+                    break;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDUxMQ=="}, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 189}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU0MzM1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMDoxMFrOHb07bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMjowMDozMVrOHb8rwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDc4Mw==", "bodyText": "no need to pass the boolean as always show progress.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498940783", "createdAt": "2020-10-02T17:00:10Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);\n+                    break;\n+                case INFO_BANNER:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_info_banner));\n+                    break;\n+                case BLANK:\n+                    break;\n+            }\n+\n+            if (listView.getHeaderViewsCount() == 0 && !TextUtils.isEmpty(bannerViewBinding.bannerInfo.getText())) {\n+                if (!TextUtils.isEmpty(buttonText)) {\n+                    bannerViewBinding.btnShiftDates.setText(buttonText);\n+                    bannerViewBinding.btnShiftDates.setVisibility(View.VISIBLE);\n+                    bannerViewBinding.btnShiftDates.setOnClickListener(v -> {\n+                        resetCourseDatesBanner(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA2Nzg0MQ==", "bodyText": "Removed", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499067841", "createdAt": "2020-10-02T22:00:31Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -398,6 +478,54 @@ public void viewDownloadsStatus() {\n         }\n     }\n \n+    /**\n+     * Initialized dates info banner on CourseOutlineFragment\n+     *\n+     * @param courseBannerInfo object of course deadline info\n+     */\n+    private void initDatesBanner(CourseBannerInfoModel courseBannerInfo) {\n+        LayoutCourseDatesBannerBinding bannerViewBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.layout_course_dates_banner, listView, false);\n+        if (courseBannerInfo != null && !isVideoMode && isOnCourseOutline && !courseBannerInfo.getHasEnded()) {\n+            String buttonText = \"\";\n+            // Currently we are only handling RESET_DATES case,\n+            // UPGRADE_TO_GRADED & UPGRADE_TO_RESET will be enable once we are allowed to do payment through mobile\n+            switch (courseBannerInfo.getDatesBannerInfo().getCourseBannerType()) {\n+                case UPGRADE_TO_GRADED:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_graded));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_graded_button);\n+                    break;\n+                case UPGRADE_TO_RESET:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_upgrade_to_reset));\n+//                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_upgrade_to_reset_button);\n+                    break;\n+                case RESET_DATES:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_banner_reset_date));\n+                    buttonText = getContextOrThrow().getString(R.string.course_dates_banner_reset_date_button);\n+                    break;\n+                case INFO_BANNER:\n+                    bannerViewBinding.bannerInfo.setText(getText(R.string.course_dates_info_banner));\n+                    break;\n+                case BLANK:\n+                    break;\n+            }\n+\n+            if (listView.getHeaderViewsCount() == 0 && !TextUtils.isEmpty(bannerViewBinding.bannerInfo.getText())) {\n+                if (!TextUtils.isEmpty(buttonText)) {\n+                    bannerViewBinding.btnShiftDates.setText(buttonText);\n+                    bannerViewBinding.btnShiftDates.setVisibility(View.VISIBLE);\n+                    bannerViewBinding.btnShiftDates.setOnClickListener(v -> {\n+                        resetCourseDatesBanner(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MDc4Mw=="}, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 197}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU0ODM0OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/http/constants/ApiConstants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMTo1M1rOHb0-iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMTo1M1rOHb0-iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MTU3Nw==", "bodyText": "better to rename as COURSE_KEY", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498941577", "createdAt": "2020-10-02T17:01:53Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/http/constants/ApiConstants.java", "diffHunk": "@@ -44,6 +44,8 @@\n \n     public static final String VALIDATION_DECISIONS = \"validation_decisions\";\n \n+    public static final String KEY_COURSE_ID = \"course_key\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU1MjAzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzowMVrOHb1A1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzowMVrOHb1A1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MjE2Ng==", "bodyText": "need doc-string.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498942166", "createdAt": "2020-10-02T17:03:01Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -339,6 +413,9 @@ private void initListView(@NonNull View view) {\n         listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n             @Override\n             public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\n+                if (!isVideoMode && isBannerVisible && position == 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 141}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzU1MjU2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzoxM1rOHb1BLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzoxM1rOHb1BLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MjI1Mg==", "bodyText": "same.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r498942252", "createdAt": "2020-10-02T17:03:13Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -357,6 +434,9 @@ public void onItemClick(AdapterView<?> parent, View view, int position, long id)\n         listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n             @Override\n             public boolean onItemLongClick(AdapterView<?> parent, View view, int position, long id) {\n+                if (!isVideoMode && isBannerVisible && position == 0) {\n+                    return false;\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "651d9514ba99b5352061a4274d6bf30f17ca62fd"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNTQ4MzA1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwNzozNzo1M1rOHcFubA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwNzozNzo1M1rOHcFubA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIxNTk4MA==", "bodyText": "Create a new padding dimen constant for this, divider_with_text_margin  is created to other view.", "url": "https://github.com/edx/edx-app-android/pull/1466#discussion_r499215980", "createdAt": "2020-10-04T07:37:53Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/layout_course_dates_banner.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:id=\"@+id/container_layout\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/edx_brand_primary_back\"\n+        android:orientation=\"vertical\"\n+        android:padding=\"@dimen/divider_with_text_margin\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f243be800e41d2016d57d728324be852f19a445"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 592, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}