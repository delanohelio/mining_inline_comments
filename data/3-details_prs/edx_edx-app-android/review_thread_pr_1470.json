{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MDM4Mjc5", "number": 1470, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjo1OTozMVrOEvw2gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDoyODoxOVrOEyinNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTE4OTEzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/values/dates_badge_text_styles.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjo1OTozMVrOHk7Gfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwOTo0NTowMVrOHljdmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ3OTEwMg==", "bodyText": "can we add <item name=\"android:textStyle\">bold|italic</item> to meet the designs", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508479102", "createdAt": "2020-10-20T12:59:31Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/values/dates_badge_text_styles.xml", "diffHunk": "@@ -0,0 +1,33 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<resources>\n+\n+    <style name=\"dates_badge_text_appearance\">\n+        <item name=\"android:textSize\">@dimen/edx_small</item>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTE0MDM3Ng==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509140376", "createdAt": "2020-10-21T09:45:01Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/values/dates_badge_text_styles.xml", "diffHunk": "@@ -0,0 +1,33 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<resources>\n+\n+    <style name=\"dates_badge_text_appearance\">\n+        <item name=\"android:textSize\">@dimen/edx_small</item>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ3OTEwMg=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTE5OTY1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/values/dimens.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzowMTo0NVrOHk7M4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwOTo0NToxMFrOHljeFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4MDczOA==", "bodyText": "we can set badge start padding to 0", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508480738", "createdAt": "2020-10-20T13:01:45Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -266,5 +266,7 @@\n     <dimen name=\"width_hairline\">0.8dp</dimen>\n     <dimen name=\"date_block_badge_corner_margin\">6dp</dimen>\n     <dimen name=\"date_block_half_x_margin\">10dp</dimen>\n+    <dimen name=\"dates_badge_end_padding\">4dp</dimen>\n+    <dimen name=\"dates_badge_start_padding\">2dp</dimen>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4Mjg1Nw==", "bodyText": "also please add these\n<dimen name=\"dates_badge_icon_start_padding\">4dp</dimen>\n<dimen name=\"dates_badge_icon_end_padding\">-4dp</dimen>\nto use them for chip iconDrawablePadding", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508482857", "createdAt": "2020-10-20T13:04:43Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -266,5 +266,7 @@\n     <dimen name=\"width_hairline\">0.8dp</dimen>\n     <dimen name=\"date_block_badge_corner_margin\">6dp</dimen>\n     <dimen name=\"date_block_half_x_margin\">10dp</dimen>\n+    <dimen name=\"dates_badge_end_padding\">4dp</dimen>\n+    <dimen name=\"dates_badge_start_padding\">2dp</dimen>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4MDczOA=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTE0MDUwMw==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509140503", "createdAt": "2020-10-21T09:45:10Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -266,5 +266,7 @@\n     <dimen name=\"width_hairline\">0.8dp</dimen>\n     <dimen name=\"date_block_badge_corner_margin\">6dp</dimen>\n     <dimen name=\"date_block_half_x_margin\">10dp</dimen>\n+    <dimen name=\"dates_badge_end_padding\">4dp</dimen>\n+    <dimen name=\"dates_badge_start_padding\">2dp</dimen>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4MDczOA=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTIzNjI0OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzowOTo0MlrOHk7jLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwNzo0MDo0NFrOHmUk7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NjQ0NA==", "bodyText": "Please also mention in doc why we need this check", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508486444", "createdAt": "2020-10-20T13:09:42Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk0NDA0Nw==", "bodyText": "dateBlockItems != null removed.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509944047", "createdAt": "2020-10-22T07:39:05Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NjQ0NA=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk0NTA3MA==", "bodyText": "doc added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509945070", "createdAt": "2020-10-22T07:40:44Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NjQ0NA=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 126}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTIzODYyOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzoxMDoxNVrOHk7krA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwNzo0Mjo1NVrOHmUp0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NjgyOA==", "bodyText": "Doc required", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508486828", "createdAt": "2020-10-20T13:10:15Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 171}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk0NjMyMw==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509946323", "createdAt": "2020-10-22T07:42:55Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4NjgyOA=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 171}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTI1NTM4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzoxMzo0N1rOHk7vDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwNzo0MzoxNlrOHmUqqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4OTQ4Ng==", "bodyText": "Please add chipIcon size and padding i.e,\nchipDrawable.chipIconSize = textView.context.resources.getDimension(R.dimen.small_icon_size) chipDrawable.setIconStartPaddingResource(R.dimen.dates_badge_icon_start_padding) chipDrawable.setIconEndPaddingResource(R.dimen.dates_badge_icon_end_padding)", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508489486", "createdAt": "2020-10-20T13:13:47Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge\n+                for (i in 1 until dateBlockItems.size) {\n+                    if (dateBlockItems[i].dateBlockBadge != dateType &&\n+                            dateBlockItems[i].dateBlockBadge != CourseDateType.BLANK) {\n+                        return false\n                     }\n                 }\n             }\n-            textView.visibility = View.VISIBLE\n+            return true\n+        }\n+\n+        /**\n+         * Method to add the date badge at the end in given title with styles attributes\n+         */\n+        private fun addDateBadge(textView: TextView, title: String, badgeBackground: Int,\n+                                 textAppearance: Int,\n+                                 badgeIcon: IconDrawable?,\n+                                 badgeStrokeColor: Int) {\n+            // add badge title so can identify the actual badge position\n+            val titleWithBadge = SpannableStringBuilder((textView.text as Spannable))\n+            // add space before badge title\n+            titleWithBadge.append(\"  $title\")\n+            textView.setText(titleWithBadge, TextView.BufferType.SPANNABLE)\n+\n+            // setup the date badge\n+            val string = textView.text as Spannable\n+            val chipDrawable = ChipDrawable.createFromResource(textView.context,\n+                    R.xml.dates_badge_chip)\n+            chipDrawable.text = title\n+            chipDrawable.setChipBackgroundColorResource(badgeBackground)\n+            chipDrawable.setTextAppearanceResource(textAppearance)\n+            if (badgeIcon != null) {\n+                chipDrawable.chipIcon = badgeIcon", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk0NjUzOA==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509946538", "createdAt": "2020-10-22T07:43:16Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge\n+                for (i in 1 until dateBlockItems.size) {\n+                    if (dateBlockItems[i].dateBlockBadge != dateType &&\n+                            dateBlockItems[i].dateBlockBadge != CourseDateType.BLANK) {\n+                        return false\n                     }\n                 }\n             }\n-            textView.visibility = View.VISIBLE\n+            return true\n+        }\n+\n+        /**\n+         * Method to add the date badge at the end in given title with styles attributes\n+         */\n+        private fun addDateBadge(textView: TextView, title: String, badgeBackground: Int,\n+                                 textAppearance: Int,\n+                                 badgeIcon: IconDrawable?,\n+                                 badgeStrokeColor: Int) {\n+            // add badge title so can identify the actual badge position\n+            val titleWithBadge = SpannableStringBuilder((textView.text as Spannable))\n+            // add space before badge title\n+            titleWithBadge.append(\"  $title\")\n+            textView.setText(titleWithBadge, TextView.BufferType.SPANNABLE)\n+\n+            // setup the date badge\n+            val string = textView.text as Spannable\n+            val chipDrawable = ChipDrawable.createFromResource(textView.context,\n+                    R.xml.dates_badge_chip)\n+            chipDrawable.text = title\n+            chipDrawable.setChipBackgroundColorResource(badgeBackground)\n+            chipDrawable.setTextAppearanceResource(textAppearance)\n+            if (badgeIcon != null) {\n+                chipDrawable.chipIcon = badgeIcon", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ4OTQ4Ng=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 207}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTI3ODk2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzoxODo0NVrOHk79lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwNzo0NDozOVrOHmUtzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ5MzIwNg==", "bodyText": "IMO, we can reduce the chipDrawable spacing n size by this\nchipDrawable.setBounds(0, (chipDrawable.intrinsicHeight * -.12).toInt(), chipDrawable.intrinsicWidth, (chipDrawable.intrinsicHeight * .6).toInt())", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r508493206", "createdAt": "2020-10-20T13:18:45Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge\n+                for (i in 1 until dateBlockItems.size) {\n+                    if (dateBlockItems[i].dateBlockBadge != dateType &&\n+                            dateBlockItems[i].dateBlockBadge != CourseDateType.BLANK) {\n+                        return false\n                     }\n                 }\n             }\n-            textView.visibility = View.VISIBLE\n+            return true\n+        }\n+\n+        /**\n+         * Method to add the date badge at the end in given title with styles attributes\n+         */\n+        private fun addDateBadge(textView: TextView, title: String, badgeBackground: Int,\n+                                 textAppearance: Int,\n+                                 badgeIcon: IconDrawable?,\n+                                 badgeStrokeColor: Int) {\n+            // add badge title so can identify the actual badge position\n+            val titleWithBadge = SpannableStringBuilder((textView.text as Spannable))\n+            // add space before badge title\n+            titleWithBadge.append(\"  $title\")\n+            textView.setText(titleWithBadge, TextView.BufferType.SPANNABLE)\n+\n+            // setup the date badge\n+            val string = textView.text as Spannable\n+            val chipDrawable = ChipDrawable.createFromResource(textView.context,\n+                    R.xml.dates_badge_chip)\n+            chipDrawable.text = title\n+            chipDrawable.setChipBackgroundColorResource(badgeBackground)\n+            chipDrawable.setTextAppearanceResource(textAppearance)\n+            if (badgeIcon != null) {\n+                chipDrawable.chipIcon = badgeIcon\n+            }\n+            if (badgeStrokeColor != -1) {\n+                chipDrawable.setChipStrokeColorResource(badgeStrokeColor)\n+                chipDrawable.strokeWidth = ParsingUtil.dpToPx(textView.context, 1.0F)\n+            }\n+            // Reduce the chip height to match with the provided design.\n+            chipDrawable.setBounds(0, (chipDrawable.intrinsicHeight * .1).toInt(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 214}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk0NzM0Mw==", "bodyText": "replaced by the following code to make parity with mockup and web.\n// Reduce the chip height and vertical margins to match the design.\n            chipDrawable.setBounds(0, (chipDrawable.intrinsicHeight * -0.15).toInt(),\n                    chipDrawable.intrinsicWidth, (chipDrawable.intrinsicHeight * 0.675).toInt())", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r509947343", "createdAt": "2020-10-22T07:44:39Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +123,109 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check dateBlockItems not null its means we can adding the badge in Parent date view\n+            if (isToday && dateBlockItems != null) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            if (isToday && type == CourseDateType.COMPLETED) {\n+                setBadge(textView, type, false, dateBlockItems)\n+            }\n+        }\n+\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge\n+                for (i in 1 until dateBlockItems.size) {\n+                    if (dateBlockItems[i].dateBlockBadge != dateType &&\n+                            dateBlockItems[i].dateBlockBadge != CourseDateType.BLANK) {\n+                        return false\n                     }\n                 }\n             }\n-            textView.visibility = View.VISIBLE\n+            return true\n+        }\n+\n+        /**\n+         * Method to add the date badge at the end in given title with styles attributes\n+         */\n+        private fun addDateBadge(textView: TextView, title: String, badgeBackground: Int,\n+                                 textAppearance: Int,\n+                                 badgeIcon: IconDrawable?,\n+                                 badgeStrokeColor: Int) {\n+            // add badge title so can identify the actual badge position\n+            val titleWithBadge = SpannableStringBuilder((textView.text as Spannable))\n+            // add space before badge title\n+            titleWithBadge.append(\"  $title\")\n+            textView.setText(titleWithBadge, TextView.BufferType.SPANNABLE)\n+\n+            // setup the date badge\n+            val string = textView.text as Spannable\n+            val chipDrawable = ChipDrawable.createFromResource(textView.context,\n+                    R.xml.dates_badge_chip)\n+            chipDrawable.text = title\n+            chipDrawable.setChipBackgroundColorResource(badgeBackground)\n+            chipDrawable.setTextAppearanceResource(textAppearance)\n+            if (badgeIcon != null) {\n+                chipDrawable.chipIcon = badgeIcon\n+            }\n+            if (badgeStrokeColor != -1) {\n+                chipDrawable.setChipStrokeColorResource(badgeStrokeColor)\n+                chipDrawable.strokeWidth = ParsingUtil.dpToPx(textView.context, 1.0F)\n+            }\n+            // Reduce the chip height to match with the provided design.\n+            chipDrawable.setBounds(0, (chipDrawable.intrinsicHeight * .1).toInt(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ5MzIwNg=="}, "originalCommit": {"oid": "7cdc65bbb275c2deb0861fea2244a08e3a0724c8"}, "originalPosition": 214}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NTQxMzA3OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/CourseDateType.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMjoxODo0NVrOHme3cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMjoxODo0NVrOHme3cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDExMzY1MQ==", "bodyText": "Can we add some doc here?\ni.e, Handling the expired course as a separate entity when a different set of blocks lay in a single date.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r510113651", "createdAt": "2020-10-22T12:18:45Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/CourseDateType.kt", "diffHunk": "@@ -4,7 +4,9 @@ package org.edx.mobile.util\n  * This enum defines the Date type of Course Dates\n  */\n enum class CourseDateType {\n-    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED;\n+    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED,\n+    // No badge title and icon", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fa6fbc2e9e453d7fa7c65a4e466e38d657112a2"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NTcwMDMyOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNTozN1rOHmhpHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNTozN1rOHmhpHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDE1OTEzMw==", "bodyText": "Can we replace it with\nif (item.title.isNotBlank()) childView.title.visibility = View.VISIBLE", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r510159133", "createdAt": "2020-10-22T13:25:37Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -75,17 +81,21 @@ class DataBindingHelperUtils {\n                     }\n \n                     isViewVisible(childView.title, item.title.isNullOrBlank().not())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fa6fbc2e9e453d7fa7c65a4e466e38d657112a2"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5NTcwMzQxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNjoyNVrOHmhrIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxMzoyNjoyNVrOHmhrIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDE1OTY0OA==", "bodyText": "have to handle other cases as well", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r510159648", "createdAt": "2020-10-22T13:26:25Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +124,119 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:isToday\", \"binding:dateBlockItems\", requireAll = true)\n+        fun setBadge(textView: TextView, type: CourseDateType, isToday: Boolean,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?) {\n+            if (!hasSameDateTypes(dateBlockItems) && !isToday) {\n+                return\n+            }\n+            var courseDateType = type\n+            // check isToday is true then enforce the course dateType to add `TODAY` badge\n+            if (isToday) {\n+                courseDateType = CourseDateType.TODAY\n+            }\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+            // Check to add multiple badges if course date is match to the current date and also\n+            // marked as completed\n+            if (isToday && type == CourseDateType.COMPLETED) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fa6fbc2e9e453d7fa7c65a4e466e38d657112a2"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNDM0Mzg5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/CourseDateType.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQyMDowNzowN1rOHn0D1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNjoyMTowOFrOHpbgww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUwOTQ2Mw==", "bodyText": "IMO, as we already define some DateType so don't need to define doc of COURSE_EXPIRED_DATE separately", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r511509463", "createdAt": "2020-10-24T20:07:07Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/CourseDateType.kt", "diffHunk": "@@ -4,7 +4,9 @@ package org.edx.mobile.util\n  * This enum defines the Date type of Course Dates\n  */\n enum class CourseDateType {\n-    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED;\n+    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED,\n+    // Handling the expired course as a separate entity when a different set of blocks lay in a single date.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIwNDQxOQ==", "bodyText": "Removed.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513204419", "createdAt": "2020-10-28T06:21:08Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/CourseDateType.kt", "diffHunk": "@@ -4,7 +4,9 @@ package org.edx.mobile.util\n  * This enum defines the Date type of Course Dates\n  */\n enum class CourseDateType {\n-    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED;\n+    TODAY, BLANK, VERIFIED_ONLY, COMPLETED, PAST_DUE, DUE_NEXT, NOT_YET_RELEASED,\n+    // Handling the expired course as a separate entity when a different set of blocks lay in a single date.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTUwOTQ2Mw=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDIxNTM4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowMTowMFrOHpOqGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNzo1MToxOFrOHpdkgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5MzgxNw==", "bodyText": "same here", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r512993817", "createdAt": "2020-10-27T20:01:00Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -27,6 +28,7 @@\n             android:layout_height=\"wrap_content\"\n             android:textColor=\"@color/switch_text_color\"\n             android:textSize=\"@dimen/edx_small\"\n+            android:lineSpacingMultiplier=\"1.125\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIzODE0Ng==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513238146", "createdAt": "2020-10-28T07:51:18Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -27,6 +28,7 @@\n             android:layout_height=\"wrap_content\"\n             android:textColor=\"@color/switch_text_color\"\n             android:textSize=\"@dimen/edx_small\"\n+            android:lineSpacingMultiplier=\"1.125\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5MzgxNw=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDIxNjg5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowMToyMlrOHpOq7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNzo1MToyNlrOHpdkvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NDAyOA==", "bodyText": "Can we define these values in dimens.xml?\nRef: Add floating point value to android resources/values", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r512994028", "createdAt": "2020-10-27T20:01:22Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -88,42 +87,18 @@\n             binding:addView=\"@{dateBlockList}\"\n             binding:clickListener=\"@{dateItemListener}\">\n \n-            <LinearLayout\n-                android:layout_width=\"match_parent\"\n+            <TextView\n+                android:id=\"@+id/date\"\n+                fontPath=\"fonts/OpenSans-Semibold.ttf\"\n+                android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                android:orientation=\"horizontal\">\n-\n-                <TextView\n-                    android:id=\"@+id/date\"\n-                    fontPath=\"fonts/OpenSans-Semibold.ttf\"\n-                    android:layout_width=\"wrap_content\"\n-                    android:layout_height=\"wrap_content\"\n-                    android:text=\"@{dateBlock.getFormattedDate()}\"\n-                    android:textColor=\"@color/switch_text_color\"\n-                    android:textSize=\"@dimen/edx_large\"\n-                    tools:text=\"Wed, Aug 12, 2020\" />\n-\n-                <TextView\n-                    android:id=\"@+id/date_tag\"\n-                    fontPath=\"fonts/OpenSans-SemiboldItalic.ttf\"\n-                    android:layout_width=\"wrap_content\"\n-                    android:layout_height=\"wrap_content\"\n-                    android:layout_marginStart=\"@dimen/edx_half_margin\"\n-                    android:layout_marginBottom=\"@dimen/widget_margin_half\"\n-                    android:drawablePadding=\"@dimen/widget_margin_half\"\n-                    android:paddingStart=\"@dimen/edx_half_margin\"\n-                    android:paddingTop=\"3dp\"\n-                    android:paddingEnd=\"@dimen/edx_half_margin\"\n-                    android:paddingBottom=\"3dp\"\n-                    android:textColor=\"@color/white\"\n-                    android:textSize=\"@dimen/edx_small\"\n-                    binding:badgeBackground=\"@{dateBlock.dateBlockBadge}\"\n-                    binding:isToday=\"@{dateBlock.today}\"\n-                    tools:background=\"@drawable/yellow_roundedbg\"\n-                    tools:text=\"Today\"\n-                    tools:visibility=\"visible\" />\n-\n-            </LinearLayout>\n+                android:lineSpacingMultiplier=\"1.25\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIzODIwNA==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513238204", "createdAt": "2020-10-28T07:51:26Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -88,42 +87,18 @@\n             binding:addView=\"@{dateBlockList}\"\n             binding:clickListener=\"@{dateItemListener}\">\n \n-            <LinearLayout\n-                android:layout_width=\"match_parent\"\n+            <TextView\n+                android:id=\"@+id/date\"\n+                fontPath=\"fonts/OpenSans-Semibold.ttf\"\n+                android:layout_width=\"wrap_content\"\n                 android:layout_height=\"wrap_content\"\n-                android:orientation=\"horizontal\">\n-\n-                <TextView\n-                    android:id=\"@+id/date\"\n-                    fontPath=\"fonts/OpenSans-Semibold.ttf\"\n-                    android:layout_width=\"wrap_content\"\n-                    android:layout_height=\"wrap_content\"\n-                    android:text=\"@{dateBlock.getFormattedDate()}\"\n-                    android:textColor=\"@color/switch_text_color\"\n-                    android:textSize=\"@dimen/edx_large\"\n-                    tools:text=\"Wed, Aug 12, 2020\" />\n-\n-                <TextView\n-                    android:id=\"@+id/date_tag\"\n-                    fontPath=\"fonts/OpenSans-SemiboldItalic.ttf\"\n-                    android:layout_width=\"wrap_content\"\n-                    android:layout_height=\"wrap_content\"\n-                    android:layout_marginStart=\"@dimen/edx_half_margin\"\n-                    android:layout_marginBottom=\"@dimen/widget_margin_half\"\n-                    android:drawablePadding=\"@dimen/widget_margin_half\"\n-                    android:paddingStart=\"@dimen/edx_half_margin\"\n-                    android:paddingTop=\"3dp\"\n-                    android:paddingEnd=\"@dimen/edx_half_margin\"\n-                    android:paddingBottom=\"3dp\"\n-                    android:textColor=\"@color/white\"\n-                    android:textSize=\"@dimen/edx_small\"\n-                    binding:badgeBackground=\"@{dateBlock.dateBlockBadge}\"\n-                    binding:isToday=\"@{dateBlock.today}\"\n-                    tools:background=\"@drawable/yellow_roundedbg\"\n-                    tools:text=\"Today\"\n-                    tools:visibility=\"visible\" />\n-\n-            </LinearLayout>\n+                android:lineSpacingMultiplier=\"1.25\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NDAyOA=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDIyMzgxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowMzoyOVrOHpOvRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNzo1MjoxNVrOHpdmUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NTE0Mg==", "bodyText": "same here", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r512995142", "createdAt": "2020-10-27T20:03:29Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -14,6 +14,7 @@\n             fontPath=\"fonts/OpenSans-Semibold.ttf\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"\n+            android:lineSpacingMultiplier=\"1.25\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIzODYwOA==", "bodyText": "added.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513238608", "createdAt": "2020-10-28T07:52:15Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -14,6 +14,7 @@\n             fontPath=\"fonts/OpenSans-Semibold.ttf\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"\n+            android:lineSpacingMultiplier=\"1.25\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5NTE0Mg=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDMxMTU4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDoyNzo0NlrOHpPkNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNzo1Mjo1NlrOHpdniQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAwODY5NQ==", "bodyText": "we can use dateBlockItems.isNotEmpty()  instead of dateBlockItems.isEmpty().not()", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513008695", "createdAt": "2020-10-27T20:27:46Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +124,121 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:dateBlockItems\", \"binding:badgeAdded\", requireAll = false)\n+        fun setBadge(textView: TextView, dateBlock: CourseDateBlock,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?,\n+                     parentBadgeAdded: Boolean = false) {\n+            // Check Today's badge is already added or not\n+            if (dateBlock.isToday() && !parentBadgeAdded) {\n+                createBadge(textView, CourseDateType.TODAY)\n+            }\n+            // add date badge at second position OR sub date item other then Today's badge\n+            if (hasSameDateTypes(dateBlockItems) && !dateBlock.isDateTypeToday()) {\n+                createBadge(textView, dateBlock.dateBlockBadge)\n+            }\n+        }\n+\n+        /**\n+         * Method to create the Date badge as per given DateType\n+         */\n+        private fun createBadge(textView: TextView, courseDateType: CourseDateType) {\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+        }\n+\n+        /**\n+         * Method to check that all Date Items have same badge status or not\n+         *\n+         * @return true if all the date items have update badge status else false\n+         * */\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 185}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIzODkyMQ==", "bodyText": "replaced.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513238921", "createdAt": "2020-10-28T07:52:56Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +124,121 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:dateBlockItems\", \"binding:badgeAdded\", requireAll = false)\n+        fun setBadge(textView: TextView, dateBlock: CourseDateBlock,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?,\n+                     parentBadgeAdded: Boolean = false) {\n+            // Check Today's badge is already added or not\n+            if (dateBlock.isToday() && !parentBadgeAdded) {\n+                createBadge(textView, CourseDateType.TODAY)\n+            }\n+            // add date badge at second position OR sub date item other then Today's badge\n+            if (hasSameDateTypes(dateBlockItems) && !dateBlock.isDateTypeToday()) {\n+                createBadge(textView, dateBlock.dateBlockBadge)\n+            }\n+        }\n+\n+        /**\n+         * Method to create the Date badge as per given DateType\n+         */\n+        private fun createBadge(textView: TextView, courseDateType: CourseDateType) {\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+        }\n+\n+        /**\n+         * Method to check that all Date Items have same badge status or not\n+         *\n+         * @return true if all the date items have update badge status else false\n+         * */\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAwODY5NQ=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 185}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDMxMzUwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDoyODoxOVrOHpPldg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQwNzo1MzoyMFrOHpdoQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAwOTAxNA==", "bodyText": "IMO, we can use dateBlockItems.first() instead of dateBlockItems[0]", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513009014", "createdAt": "2020-10-27T20:28:19Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +124,121 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:dateBlockItems\", \"binding:badgeAdded\", requireAll = false)\n+        fun setBadge(textView: TextView, dateBlock: CourseDateBlock,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?,\n+                     parentBadgeAdded: Boolean = false) {\n+            // Check Today's badge is already added or not\n+            if (dateBlock.isToday() && !parentBadgeAdded) {\n+                createBadge(textView, CourseDateType.TODAY)\n+            }\n+            // add date badge at second position OR sub date item other then Today's badge\n+            if (hasSameDateTypes(dateBlockItems) && !dateBlock.isDateTypeToday()) {\n+                createBadge(textView, dateBlock.dateBlockBadge)\n+            }\n+        }\n+\n+        /**\n+         * Method to create the Date badge as per given DateType\n+         */\n+        private fun createBadge(textView: TextView, courseDateType: CourseDateType) {\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+        }\n+\n+        /**\n+         * Method to check that all Date Items have same badge status or not\n+         *\n+         * @return true if all the date items have update badge status else false\n+         * */\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 186}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzIzOTEwNQ==", "bodyText": "replaced.", "url": "https://github.com/edx/edx-app-android/pull/1470#discussion_r513239105", "createdAt": "2020-10-28T07:53:20Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -114,47 +124,121 @@ class DataBindingHelperUtils {\n         }\n \n         @JvmStatic\n-        @BindingAdapter(\"binding:badgeBackground\", \"binding:isToday\", requireAll = true)\n-        fun setBadgeBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n-            if (isToday || type == CourseDateType.TODAY) {\n-                textView.text = CourseDateType.TODAY.getTitle()\n-                textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_black))\n-                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n-            } else {\n-                setText(textView, type.getTitle())\n-                when (type) {\n-                    CourseDateType.VERIFIED_ONLY -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n-                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n-                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n-                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n-                                        .colorRes(textView.context, R.color.white),\n-                                null, null, null\n-                        )\n-                    }\n-                    CourseDateType.COMPLETED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n-                    }\n-                    CourseDateType.PAST_DUE -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_gray))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n-                    }\n-                    CourseDateType.DUE_NEXT -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_white))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n-                    }\n-                    CourseDateType.NOT_YET_RELEASED -> {\n-                        textView.setTextColor(ContextCompat.getColor(textView.context, R.color.course_date_badge_silver))\n-                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n-                    }\n-                    else -> {\n-                        textView.visibility = View.INVISIBLE\n+        @BindingAdapter(\"binding:badge\", \"binding:dateBlockItems\", \"binding:badgeAdded\", requireAll = false)\n+        fun setBadge(textView: TextView, dateBlock: CourseDateBlock,\n+                     dateBlockItems: ArrayList<CourseDateBlock>?,\n+                     parentBadgeAdded: Boolean = false) {\n+            // Check Today's badge is already added or not\n+            if (dateBlock.isToday() && !parentBadgeAdded) {\n+                createBadge(textView, CourseDateType.TODAY)\n+            }\n+            // add date badge at second position OR sub date item other then Today's badge\n+            if (hasSameDateTypes(dateBlockItems) && !dateBlock.isDateTypeToday()) {\n+                createBadge(textView, dateBlock.dateBlockBadge)\n+            }\n+        }\n+\n+        /**\n+         * Method to create the Date badge as per given DateType\n+         */\n+        private fun createBadge(textView: TextView, courseDateType: CourseDateType) {\n+            val badgeBackground: Int\n+            val textAppearance: Int\n+            var badgeStrokeColor: Int = -1\n+            var badgeIcon: IconDrawable? = null\n+            when (courseDateType) {\n+                CourseDateType.TODAY -> {\n+                    badgeBackground = R.color.course_today_date\n+                    textAppearance = R.style.today_date_badge_text_appearance\n+                }\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    badgeBackground = R.color.black\n+                    textAppearance = R.style.verified_only_badge_text_appearance\n+                    badgeIcon = IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                            .sizeRes(textView.context, R.dimen.small_icon_size)\n+                            .colorRes(textView.context, R.color.white)\n+                }\n+                CourseDateType.COMPLETED -> {\n+                    badgeBackground = R.color.tag_light_silver\n+                    textAppearance = R.style.completed_badge_text_appearance\n+                }\n+                CourseDateType.PAST_DUE -> {\n+                    badgeBackground = R.color.bullet_light_gray\n+                    textAppearance = R.style.past_due_badge_text_appearance\n+                }\n+                CourseDateType.DUE_NEXT -> {\n+                    badgeBackground = R.color.bullet_dark_gray\n+                    textAppearance = R.style.due_next_badge_text_appearance\n+                }\n+                CourseDateType.NOT_YET_RELEASED -> {\n+                    badgeBackground = android.R.color.transparent\n+                    textAppearance = R.style.not_yet_released_badge_text_appearance\n+                    badgeStrokeColor = R.color.tag_light_silver_border\n+                }\n+                else -> {\n+                    return\n+                }\n+            }\n+            addDateBadge(textView, courseDateType.getTitle(), badgeBackground, textAppearance, badgeIcon, badgeStrokeColor)\n+        }\n+\n+        /**\n+         * Method to check that all Date Items have same badge status or not\n+         *\n+         * @return true if all the date items have update badge status else false\n+         * */\n+        private fun hasSameDateTypes(dateBlockItems: ArrayList<CourseDateBlock>?): Boolean {\n+            if (dateBlockItems != null && dateBlockItems.isEmpty().not() && dateBlockItems.size > 1) {\n+                val dateType = dateBlockItems[0].dateBlockBadge", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAwOTAxNA=="}, "originalCommit": {"oid": "26a82c3de0c9fc06873fbdcbe242dd63a1d99926"}, "originalPosition": 186}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 599, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}