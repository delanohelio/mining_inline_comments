{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3Mjk2ODA4", "number": 1444, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzowNDowM1rOETxH2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzo1MjozMlrOEVAkrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTYzMjI1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationEditTextView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzowNDowM1rOG5sAbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMjoxMDo1NVrOG7dkuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE0MzAyMQ==", "bodyText": "I think the following lines of code will cover the story requirement\n        // Add text change listener\n        mEditText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                // Clear Error from the field\n                if (mErrorTextView.getVisibility() == View.VISIBLE) {\n                    mErrorTextView.setText(null);\n                    mErrorTextView.setVisibility(View.GONE);\n                    mTextInputLayout.setContentDescription(null);\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n            }\n        });\n\n        mEditText.setOnFocusChangeListener((v, hasFocus) -> {\n            if (!hasFocus) {\n                isValidInput();\n            }\n        });", "url": "https://github.com/edx/edx-app-android/pull/1444#discussion_r463143021", "createdAt": "2020-07-30T17:04:03Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationEditTextView.java", "diffHunk": "@@ -92,13 +93,23 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n                     isChangedByUser = true;\n                     return;\n                 }\n-                isValidInput();\n+                // Don't show the error until view has lost the focus at least once\n+                if (hasFocusLost) {\n+                    isValidInput();\n+                }\n             }\n \n             @Override\n             public void afterTextChanged(Editable s) {\n             }\n         });\n+\n+        mEditText.setOnFocusChangeListener((v, hasFocus) -> {\n+            if (!hasFocus) {\n+                isValidInput();\n+                hasFocusLost = true;\n+            }\n+        });\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6076d386d0e55397a8380ec31741058bc69e5e6"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTAwMzcwNQ==", "bodyText": "As per discussion on LEARNER-7767 Hilary approved the iOS flow implemented by @saeedbashir", "url": "https://github.com/edx/edx-app-android/pull/1444#discussion_r465003705", "createdAt": "2020-08-04T12:10:55Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationEditTextView.java", "diffHunk": "@@ -92,13 +93,23 @@ public void onTextChanged(CharSequence s, int start, int before, int count) {\n                     isChangedByUser = true;\n                     return;\n                 }\n-                isValidInput();\n+                // Don't show the error until view has lost the focus at least once\n+                if (hasFocusLost) {\n+                    isValidInput();\n+                }\n             }\n \n             @Override\n             public void afterTextChanged(Editable s) {\n             }\n         });\n+\n+        mEditText.setOnFocusChangeListener((v, hasFocus) -> {\n+            if (!hasFocus) {\n+                isValidInput();\n+                hasFocusLost = true;\n+            }\n+        });\n     }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE0MzAyMQ=="}, "originalCommit": {"oid": "f6076d386d0e55397a8380ec31741058bc69e5e6"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNDY0OTQwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationSelectView.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzo1MjozMlrOG7hXOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzo1MjozMlrOG7hXOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA2NTc4NQ==", "bodyText": "AutoComplete not showing error on focus out, to solve this issue we need to make the method call isValidInput();", "url": "https://github.com/edx/edx-app-android/pull/1444#discussion_r465065785", "createdAt": "2020-08-04T13:52:32Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationSelectView.java", "diffHunk": "@@ -87,8 +91,10 @@ public void afterTextChanged(Editable s) {\n         mInputView.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n             @Override\n             public void onFocusChange(View v, boolean hasFocus) {\n-                if(hasFocus){\n+                if (hasFocus) {\n                     mInputView.showDropDown();\n+                } else {\n+                    hasFocusLost = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a91cbb14e65c75a47caa40a775b873454e9bf43"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 573, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}