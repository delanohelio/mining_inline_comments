{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5MDY5NTg4", "number": 1445, "title": "Migrate from Drupal to Prospectus", "bodyText": "Description\nLEARNER-7854\n\nChanges in support to Migrate from Drupal to Prospectus\n\nAcceptance Criteria\n\n Test the migration on Android\n All the discovery tabs should work fine and only the filters selector should appear at the WebView's top\n Search should work as expected as it does on the web\n Subject discovery should work as expected\n\nFor internal use only\nThe config PR to checkout: edx/edx-mobile-config#110", "createdAt": "2020-07-30T10:51:17Z", "url": "https://github.com/edx/edx-app-android/pull/1445", "merged": true, "mergeCommit": {"oid": "3343c94473f5f0b854bc9afec619989760d7a4ca"}, "closed": true, "closedAt": "2020-08-21T06:18:39Z", "author": {"login": "farhan-arshad-dev"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAeMXxAH2gAyNDU5MDY5NTg4Ojc5ZTgyY2JmYzU0MjgyOWFmYTg1YjAxZWFmOTkyMjViMTA3Mjk4YjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA-XJfAFqTQ3MjE2MjE5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "79e82cbfc542829afa85b01eaf99225b107298b4", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/79e82cbfc542829afa85b01eaf99225b107298b4", "committedDate": "2020-08-19T16:27:54Z", "message": "Migrate from Drupal to Prospectus\n- LEARNER-7854\n- Changes in support to Migrate from Drupal to Prospectus"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aad486c4537cd053ff079274dcebc98270e38b5d", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/aad486c4537cd053ff079274dcebc98270e38b5d", "committedDate": "2020-08-19T16:34:40Z", "message": "Entertain only one search query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "committedDate": "2020-08-19T16:34:40Z", "message": "Implement empty query submit listener"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3350aa9b1b774d386ccd8e53b9b72222de7aa807", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/3350aa9b1b774d386ccd8e53b9b72222de7aa807", "committedDate": "2020-07-30T10:43:17Z", "message": "Migrate from Drupal to Prospectus\n- LEARNER-7845\n- Changes in support to Migrate from Drupal to Prospectus"}, "afterCommit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279", "committedDate": "2020-08-19T16:34:40Z", "message": "Implement empty query submit listener"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNDg4MDEz", "url": "https://github.com/edx/edx-app-android/pull/1445#pullrequestreview-471488013", "createdAt": "2020-08-20T11:04:52Z", "commit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTowNDo1MlrOHD71Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMToxNTowNVrOHD8JSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODA2Ng==", "bodyText": "extra line", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473888066", "createdAt": "2020-08-20T11:04:52Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java", "diffHunk": "@@ -1,6 +1,7 @@\n package org.edx.mobile.util;\n \n import android.net.Uri;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODcwOA==", "bodyText": "Can we update the doc?", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473888708", "createdAt": "2020-08-20T11:06:05Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/UrlUtil.java", "diffHunk": "@@ -74,4 +75,23 @@ public static String buildUrlWithQueryParams(@NonNull Logger logger, @NonNull St\n         }\n         return paramsMap;\n     }\n+\n+    /**\n+     * Method to remove the given parameter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg5MzE5NQ==", "bodyText": "Can we remove the parameters from the method as both parameters are defined in class level?", "url": "https://github.com/edx/edx-app-android/pull/1445#discussion_r473893195", "createdAt": "2020-08-20T11:15:05Z", "author": {"login": "omerhabib26"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/WebViewDiscoverFragment.java", "diffHunk": "@@ -155,15 +159,28 @@ public void onFocusChange(View view, boolean queryTextFocused) {\n     private void initSearchView() {\n         searchView = toolbarCallbacks.getSearchView();\n         if (getUserVisibleHint()) {\n-            searchView.setQueryHint(getResources().getString(getQueryHint()));\n-            searchView.setOnQueryTextListener(onQueryTextListener);\n-            searchView.setOnQueryTextFocusChangeListener(onFocusChangeListener);\n+            setupSearchViewListeners();\n         }\n         if (searchView.hasFocus()) {\n             updateTitleVisibility(View.GONE);\n         }\n     }\n \n+    private void setupSearchViewListeners() {\n+        searchView.setQueryHint(getResources().getString(getQueryHint()));\n+        searchView.setOnQueryTextListener(onQueryTextListener);\n+        searchView.setOnQueryTextFocusChangeListener(onFocusChangeListener);\n+        setupEmptyQuerySubmitListener(searchView, onQueryTextListener);\n+    }\n+\n+    private void setupEmptyQuerySubmitListener(SearchView searchView,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe6983b5795fd2bad7d5d40ee3844c6d0bc2c279"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "befa601a397100ebb5793bc61dba2cd516cc613e", "author": {"user": {"login": "farhan-arshad-dev", "name": "Farhan Arshad"}}, "url": "https://github.com/edx/edx-app-android/commit/befa601a397100ebb5793bc61dba2cd516cc613e", "committedDate": "2020-08-21T05:44:46Z", "message": "Address PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTYyMTk1", "url": "https://github.com/edx/edx-app-android/pull/1445#pullrequestreview-472162195", "createdAt": "2020-08-21T05:56:38Z", "commit": {"oid": "befa601a397100ebb5793bc61dba2cd516cc613e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4212, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}