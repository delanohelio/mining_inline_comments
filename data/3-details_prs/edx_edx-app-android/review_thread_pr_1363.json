{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMDc5NjI2", "number": 1363, "reviewThreads": {"totalCount": 42, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODoxMToxOVrODbIUQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDo1MjoxMlrODc71iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5Nzc0NDAzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODoxMToxOVrOFicCIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNzozMToxOVrOFkDRFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NTIwMw==", "bodyText": "this event is triggered only to send the course data to the course navigation screen. am I right?", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371655203", "createdAt": "2020-01-28T08:11:19Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -595,21 +591,19 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                     if (getActivity() != null) {\n                         // Set the revenue cookie\n                         EdxCookieManager.getSharedInstance(getActivity()).setMobileCookie();\n-                        final CourseUpgradeResponse courseUpgradeResponse = response.body();\n-                        if (courseUpgradeResponse != null && courseUpgradeResponse.showUpsell()\n-                                && !TextUtils.isEmpty(courseUpgradeResponse.getBasketUrl())) {\n-                            viewUpgradeToVerifiedFooter.setVisibility(View.VISIBLE);\n-                            if (!TextUtils.isEmpty(courseUpgradeResponse.getPrice())) {\n-                                tvUpgradePrice.setText(courseUpgradeResponse.getPrice());\n-                            } else {\n-                                tvUpgradePrice.setVisibility(View.GONE);\n-                            }\n-                            btnUpgradeCourse.setOnClickListener(view ->\n-                                    environment.getRouter().showCourseUpgradeWebViewActivity(\n-                                            getActivity(), courseUpgradeResponse.getBasketUrl()\n-                                    ));\n+                        courseUpgradeData = response.body();\n+                        if (courseUpgradeData != null && courseUpgradeData.showUpsell()\n+                                && !TextUtils.isEmpty(courseUpgradeData.getBasketUrl())) {\n+                            PaymentsBannerFragment.Companion.loadPaymentsBannerFragment(\n+                                    R.id.fragment_container, courseData, null,\n+                                    courseUpgradeData, true, getChildFragmentManager(), true);\n+                            EventBus.getDefault().postSticky(new CourseUpgradeDataReceivedEvent(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1OTQwNA==", "bodyText": "This should be triggered before the if condition after Line# 594 because it's a sticky event, and should be trigger again after performing payment.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371659404", "createdAt": "2020-01-28T08:22:56Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -595,21 +591,19 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                     if (getActivity() != null) {\n                         // Set the revenue cookie\n                         EdxCookieManager.getSharedInstance(getActivity()).setMobileCookie();\n-                        final CourseUpgradeResponse courseUpgradeResponse = response.body();\n-                        if (courseUpgradeResponse != null && courseUpgradeResponse.showUpsell()\n-                                && !TextUtils.isEmpty(courseUpgradeResponse.getBasketUrl())) {\n-                            viewUpgradeToVerifiedFooter.setVisibility(View.VISIBLE);\n-                            if (!TextUtils.isEmpty(courseUpgradeResponse.getPrice())) {\n-                                tvUpgradePrice.setText(courseUpgradeResponse.getPrice());\n-                            } else {\n-                                tvUpgradePrice.setVisibility(View.GONE);\n-                            }\n-                            btnUpgradeCourse.setOnClickListener(view ->\n-                                    environment.getRouter().showCourseUpgradeWebViewActivity(\n-                                            getActivity(), courseUpgradeResponse.getBasketUrl()\n-                                    ));\n+                        courseUpgradeData = response.body();\n+                        if (courseUpgradeData != null && courseUpgradeData.showUpsell()\n+                                && !TextUtils.isEmpty(courseUpgradeData.getBasketUrl())) {\n+                            PaymentsBannerFragment.Companion.loadPaymentsBannerFragment(\n+                                    R.id.fragment_container, courseData, null,\n+                                    courseUpgradeData, true, getChildFragmentManager(), true);\n+                            EventBus.getDefault().postSticky(new CourseUpgradeDataReceivedEvent(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NTIwMw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIzNjE2MQ==", "bodyText": "this line of code deserves java doc, we need to trigger the event.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372236161", "createdAt": "2020-01-29T08:04:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -595,21 +591,19 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                     if (getActivity() != null) {\n                         // Set the revenue cookie\n                         EdxCookieManager.getSharedInstance(getActivity()).setMobileCookie();\n-                        final CourseUpgradeResponse courseUpgradeResponse = response.body();\n-                        if (courseUpgradeResponse != null && courseUpgradeResponse.showUpsell()\n-                                && !TextUtils.isEmpty(courseUpgradeResponse.getBasketUrl())) {\n-                            viewUpgradeToVerifiedFooter.setVisibility(View.VISIBLE);\n-                            if (!TextUtils.isEmpty(courseUpgradeResponse.getPrice())) {\n-                                tvUpgradePrice.setText(courseUpgradeResponse.getPrice());\n-                            } else {\n-                                tvUpgradePrice.setVisibility(View.GONE);\n-                            }\n-                            btnUpgradeCourse.setOnClickListener(view ->\n-                                    environment.getRouter().showCourseUpgradeWebViewActivity(\n-                                            getActivity(), courseUpgradeResponse.getBasketUrl()\n-                                    ));\n+                        courseUpgradeData = response.body();\n+                        if (courseUpgradeData != null && courseUpgradeData.showUpsell()\n+                                && !TextUtils.isEmpty(courseUpgradeData.getBasketUrl())) {\n+                            PaymentsBannerFragment.Companion.loadPaymentsBannerFragment(\n+                                    R.id.fragment_container, courseData, null,\n+                                    courseUpgradeData, true, getChildFragmentManager(), true);\n+                            EventBus.getDefault().postSticky(new CourseUpgradeDataReceivedEvent(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NTIwMw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjIzNzc3Ng==", "bodyText": "there is no need to trigger this event in a case when the app gets the response before moving to the other screen. otherwise, a particular fragment/activity will get the data twice.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372237776", "createdAt": "2020-01-29T08:09:19Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -595,21 +591,19 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                     if (getActivity() != null) {\n                         // Set the revenue cookie\n                         EdxCookieManager.getSharedInstance(getActivity()).setMobileCookie();\n-                        final CourseUpgradeResponse courseUpgradeResponse = response.body();\n-                        if (courseUpgradeResponse != null && courseUpgradeResponse.showUpsell()\n-                                && !TextUtils.isEmpty(courseUpgradeResponse.getBasketUrl())) {\n-                            viewUpgradeToVerifiedFooter.setVisibility(View.VISIBLE);\n-                            if (!TextUtils.isEmpty(courseUpgradeResponse.getPrice())) {\n-                                tvUpgradePrice.setText(courseUpgradeResponse.getPrice());\n-                            } else {\n-                                tvUpgradePrice.setVisibility(View.GONE);\n-                            }\n-                            btnUpgradeCourse.setOnClickListener(view ->\n-                                    environment.getRouter().showCourseUpgradeWebViewActivity(\n-                                            getActivity(), courseUpgradeResponse.getBasketUrl()\n-                                    ));\n+                        courseUpgradeData = response.body();\n+                        if (courseUpgradeData != null && courseUpgradeData.showUpsell()\n+                                && !TextUtils.isEmpty(courseUpgradeData.getBasketUrl())) {\n+                            PaymentsBannerFragment.Companion.loadPaymentsBannerFragment(\n+                                    R.id.fragment_container, courseData, null,\n+                                    courseUpgradeData, true, getChildFragmentManager(), true);\n+                            EventBus.getDefault().postSticky(new CourseUpgradeDataReceivedEvent(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NTIwMw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM0NjU4Mw==", "bodyText": "fixed!", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373346583", "createdAt": "2020-01-31T07:31:19Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -595,21 +591,19 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                     if (getActivity() != null) {\n                         // Set the revenue cookie\n                         EdxCookieManager.getSharedInstance(getActivity()).setMobileCookie();\n-                        final CourseUpgradeResponse courseUpgradeResponse = response.body();\n-                        if (courseUpgradeResponse != null && courseUpgradeResponse.showUpsell()\n-                                && !TextUtils.isEmpty(courseUpgradeResponse.getBasketUrl())) {\n-                            viewUpgradeToVerifiedFooter.setVisibility(View.VISIBLE);\n-                            if (!TextUtils.isEmpty(courseUpgradeResponse.getPrice())) {\n-                                tvUpgradePrice.setText(courseUpgradeResponse.getPrice());\n-                            } else {\n-                                tvUpgradePrice.setVisibility(View.GONE);\n-                            }\n-                            btnUpgradeCourse.setOnClickListener(view ->\n-                                    environment.getRouter().showCourseUpgradeWebViewActivity(\n-                                            getActivity(), courseUpgradeResponse.getBasketUrl()\n-                                    ));\n+                        courseUpgradeData = response.body();\n+                        if (courseUpgradeData != null && courseUpgradeData.showUpsell()\n+                                && !TextUtils.isEmpty(courseUpgradeData.getBasketUrl())) {\n+                            PaymentsBannerFragment.Companion.loadPaymentsBannerFragment(\n+                                    R.id.fragment_container, courseData, null,\n+                                    courseUpgradeData, true, getChildFragmentManager(), true);\n+                            EventBus.getDefault().postSticky(new CourseUpgradeDataReceivedEvent(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NTIwMw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NzgzNDM3OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODo0NzozM1rOFic4iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNzo0MDowMlrOFkDZ5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY2OTEzMQ==", "bodyText": "After receiving the Sticky event that should be removed.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371669131", "createdAt": "2020-01-28T08:47:33Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            }\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentLockedCourseUnitBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_locked_course_unit, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        val courseUpgradeData = arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA)\n+        if (courseUpgradeData != null) {\n+            val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+            loadPaymentBannerFragment(courseData, courseUpgradeData as CourseUpgradeResponse)\n+        }\n+        if (!EventBus.getDefault().isRegistered(this)) {\n+            EventBus.getDefault().registerSticky(this)\n+        }\n+        analyticsRegistry?.trackScreenView(Analytics.Screens.COURSE_UNIT_LOCKED)\n+    }\n+\n+    fun onEvent(event: CourseUpgradeDataReceivedEvent) {\n+        val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM0ODgzOA==", "bodyText": "done!", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373348838", "createdAt": "2020-01-31T07:40:02Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            }\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentLockedCourseUnitBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_locked_course_unit, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        val courseUpgradeData = arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA)\n+        if (courseUpgradeData != null) {\n+            val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+            loadPaymentBannerFragment(courseData, courseUpgradeData as CourseUpgradeResponse)\n+        }\n+        if (!EventBus.getDefault().isRegistered(this)) {\n+            EventBus.getDefault().registerSticky(this)\n+        }\n+        analyticsRegistry?.trackScreenView(Analytics.Screens.COURSE_UNIT_LOCKED)\n+    }\n+\n+    fun onEvent(event: CourseUpgradeDataReceivedEvent) {\n+        val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY2OTEzMQ=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5ODEwOTAwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMDoxMjozOVrOFiff3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNzo0Njo0NFrOFkDgcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTcxMTk2Nw==", "bodyText": "IMO, we have to use the Parcelalbe introduce in android instated of.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371711967", "createdAt": "2020-01-28T10:12:39Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.java", "diffHunk": "@@ -2,7 +2,9 @@\n \n import com.google.gson.annotations.SerializedName;\n \n-public class CourseUpgradeResponse {\n+import java.io.Serializable;\n+\n+public class CourseUpgradeResponse implements Serializable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1MDUxNA==", "bodyText": "done!", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373350514", "createdAt": "2020-01-31T07:46:44Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.java", "diffHunk": "@@ -2,7 +2,9 @@\n \n import com.google.gson.annotations.SerializedName;\n \n-public class CourseUpgradeResponse {\n+import java.io.Serializable;\n+\n+public class CourseUpgradeResponse implements Serializable {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTcxMTk2Nw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5ODI5NjYzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseUnitPagerAdapter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToxNDowNlrOFihTig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1NTo1NVrOFkN4-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0MTU3OA==", "bodyText": "We have to check the following conditions here.\n\nFirebase is enabled.\nFirebase remote config for Revenue is enabled.\nCourseUpgrade->ShowUpsell is true.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371741578", "createdAt": "2020-01-28T11:14:06Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseUnitPagerAdapter.java", "diffHunk": "@@ -79,7 +84,11 @@ public Fragment getItem(int pos) {\n         CourseUnitFragment unitFragment;\n         final boolean isYoutubeVideo = (minifiedUnit instanceof VideoBlockModel && ((VideoBlockModel) minifiedUnit).getData().encodedVideos.getYoutubeVideoInfo() != null);\n         if (minifiedUnit.getAuthorizationDenialReason() == AuthorizationDenialReason.FEATURE_BASED_ENROLLMENTS) {\n-            unitFragment = CourseUnitMobileNotSupportedFragment.newInstance(minifiedUnit);\n+//            if (MPB is enabled on firebase config) {\n+            unitFragment = LockedCourseUnitFragment.newInstance(minifiedUnit, courseData, courseUpgradeData);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUyMDYzMg==", "bodyText": "fixed as per discussion", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373520632", "createdAt": "2020-01-31T14:55:55Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseUnitPagerAdapter.java", "diffHunk": "@@ -79,7 +84,11 @@ public Fragment getItem(int pos) {\n         CourseUnitFragment unitFragment;\n         final boolean isYoutubeVideo = (minifiedUnit instanceof VideoBlockModel && ((VideoBlockModel) minifiedUnit).getData().encodedVideos.getYoutubeVideoInfo() != null);\n         if (minifiedUnit.getAuthorizationDenialReason() == AuthorizationDenialReason.FEATURE_BASED_ENROLLMENTS) {\n-            unitFragment = CourseUnitMobileNotSupportedFragment.newInstance(minifiedUnit);\n+//            if (MPB is enabled on firebase config) {\n+            unitFragment = LockedCourseUnitFragment.newInstance(minifiedUnit, courseData, courseUpgradeData);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0MTU3OA=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5ODMwNTU1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/anim/slide_down.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToxNzoyMVrOFihYzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToxNzoyMVrOFihYzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0MjkyNA==", "bodyText": "Need a new line here.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371742924", "createdAt": "2020-01-28T11:17:21Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/anim/slide_down.xml", "diffHunk": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<set xmlns:android=\"http://schemas.android.com/apk/res/android\" >\n+\n+    <translate\n+        android:duration=\"500\"\n+        android:fromYDelta=\"0\"\n+        android:toYDelta=\"100%\" />\n+</set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5ODMwNTgzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/anim/slide_up.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToxNzoyNlrOFihY-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToxNzoyNlrOFihY-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0Mjk3MQ==", "bodyText": "Need a new line here.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371742971", "createdAt": "2020-01-28T11:17:26Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/anim/slide_up.xml", "diffHunk": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<set xmlns:android=\"http://schemas.android.com/apk/res/android\" >\n+\n+    <translate\n+        android:duration=\"500\"\n+        android:fromYDelta=\"100%\"\n+        android:toYDelta=\"0\" />\n+</set>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5ODMyMjk2OnYy", "diffSide": "LEFT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMToyNDozMFrOFihj6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNzo1Mjo1NVrOFkDm6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0NTc3MA==", "bodyText": "There should be logic to remove PaymentsBannerFragment in case of getCourseUpgradeStatus onFailure after successfully performing the payment.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r371745770", "createdAt": "2020-01-28T11:24:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -618,7 +612,6 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                 public void onFailure(Call<CourseUpgradeResponse> call, Throwable t) {\n                     // Setting the call to null ensures that only 1 request is enqueued at a specific point in time\n                     getCourseUpgradeStatus = null;\n-                    viewUpgradeToVerifiedFooter.setVisibility(View.GONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1MjE3MQ==", "bodyText": "done!", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373352171", "createdAt": "2020-01-31T07:52:55Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -618,7 +612,6 @@ public void onResponse(Call<CourseUpgradeResponse> call, Response<CourseUpgradeR\n                 public void onFailure(Call<CourseUpgradeResponse> call, Throwable t) {\n                     // Setting the call to null ensures that only 1 request is enqueued at a specific point in time\n                     getCourseUpgradeStatus = null;\n-                    viewUpgradeToVerifiedFooter.setVisibility(View.GONE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc0NTc3MA=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTUzNTI2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_payments_banner.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwODo0MjoyOVrOFjAXqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1NToxNVrOFkN3nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI1MDUzNw==", "bodyText": "need a new line at the end.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372250537", "createdAt": "2020-01-29T08:42:29Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_payments_banner.xml", "diffHunk": "@@ -0,0 +1,80 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <android.support.constraint.ConstraintLayout\n+        android:id=\"@+id/upgrade_to_verified_footer\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingBottom=\"@dimen/edx_half_margin\">\n+\n+        <View\n+            android:id=\"@+id/divider\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"@dimen/edx_divider_length\"\n+            android:background=\"@color/edx_success_accent\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <TextView\n+            android:id=\"@+id/upgrade_banner_description\"\n+            style=\"@style/regular_text\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_margin=\"@dimen/edx_half_margin\"\n+            android:gravity=\"center\"\n+            android:text=\"@string/upgrade_banner_description\"\n+            android:textColor=\"@color/black\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/divider\"\n+            tools:ignore=\"MissingPrefix\" />\n+\n+        <LinearLayout\n+            android:id=\"@+id/ll_upgrade_button\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_margin=\"@dimen/edx_half_margin\"\n+            android:background=\"@drawable/edx_success_accent_round_background\"\n+            android:orientation=\"vertical\"\n+            android:padding=\"@dimen/edx_half_margin\"\n+            app:layout_constraintEnd_toStartOf=\"@+id/info\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/upgrade_banner_description\">\n+\n+            <TextView\n+                style=\"@style/edX.Widget.Button\"\n+                fontPath=\"fonts/OpenSans-Semibold.ttf\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:text=\"@string/upgrade_to_verified_today_title\"\n+                android:textColor=\"@color/white\"\n+                tools:ignore=\"MissingPrefix\" />\n+\n+            <TextView\n+                android:id=\"@+id/tv_upgrade_price\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:gravity=\"center\"\n+                android:textColor=\"@color/transparent_white_85\"\n+                tools:text=\"$99 USD\" />\n+        </LinearLayout>\n+\n+        <org.edx.mobile.view.custom.IconImageViewXml\n+            android:id=\"@+id/info\"\n+            style=\"@style/edX.Widget.BorderedButton\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"0dp\"\n+            android:layout_marginEnd=\"@dimen/edx_half_margin\"\n+            android:focusable=\"true\"\n+            android:visibility=\"gone\"\n+            app:iconColor=\"@color/edx_brand_primary_base\"\n+            app:iconName=\"fa-info-circle\"\n+            app:layout_constraintBottom_toBottomOf=\"@+id/ll_upgrade_button\"\n+            app:layout_constraintDimensionRatio=\"1:1\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"@+id/ll_upgrade_button\"\n+            tools:visibility=\"visible\" />\n+\n+    </android.support.constraint.ConstraintLayout>\n+\n+</layout>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUyMDI4NQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373520285", "createdAt": "2020-01-31T14:55:15Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout/fragment_payments_banner.xml", "diffHunk": "@@ -0,0 +1,80 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <android.support.constraint.ConstraintLayout\n+        android:id=\"@+id/upgrade_to_verified_footer\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingBottom=\"@dimen/edx_half_margin\">\n+\n+        <View\n+            android:id=\"@+id/divider\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"@dimen/edx_divider_length\"\n+            android:background=\"@color/edx_success_accent\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <TextView\n+            android:id=\"@+id/upgrade_banner_description\"\n+            style=\"@style/regular_text\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_margin=\"@dimen/edx_half_margin\"\n+            android:gravity=\"center\"\n+            android:text=\"@string/upgrade_banner_description\"\n+            android:textColor=\"@color/black\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/divider\"\n+            tools:ignore=\"MissingPrefix\" />\n+\n+        <LinearLayout\n+            android:id=\"@+id/ll_upgrade_button\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_margin=\"@dimen/edx_half_margin\"\n+            android:background=\"@drawable/edx_success_accent_round_background\"\n+            android:orientation=\"vertical\"\n+            android:padding=\"@dimen/edx_half_margin\"\n+            app:layout_constraintEnd_toStartOf=\"@+id/info\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/upgrade_banner_description\">\n+\n+            <TextView\n+                style=\"@style/edX.Widget.Button\"\n+                fontPath=\"fonts/OpenSans-Semibold.ttf\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:text=\"@string/upgrade_to_verified_today_title\"\n+                android:textColor=\"@color/white\"\n+                tools:ignore=\"MissingPrefix\" />\n+\n+            <TextView\n+                android:id=\"@+id/tv_upgrade_price\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:gravity=\"center\"\n+                android:textColor=\"@color/transparent_white_85\"\n+                tools:text=\"$99 USD\" />\n+        </LinearLayout>\n+\n+        <org.edx.mobile.view.custom.IconImageViewXml\n+            android:id=\"@+id/info\"\n+            style=\"@style/edX.Widget.BorderedButton\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"0dp\"\n+            android:layout_marginEnd=\"@dimen/edx_half_margin\"\n+            android:focusable=\"true\"\n+            android:visibility=\"gone\"\n+            app:iconColor=\"@color/edx_brand_primary_base\"\n+            app:iconName=\"fa-info-circle\"\n+            app:layout_constraintBottom_toBottomOf=\"@+id/ll_upgrade_button\"\n+            app:layout_constraintDimensionRatio=\"1:1\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"@+id/ll_upgrade_button\"\n+            tools:visibility=\"visible\" />\n+\n+    </android.support.constraint.ConstraintLayout>\n+\n+</layout>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI1MDUzNw=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTkzMjc1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMDo1MjoxNFrOFjEMmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNzo1Mzo0M1rOFkDn2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMxMzI0MQ==", "bodyText": "courseUpgradeData can be null when we trigger the sticky event after Line# 594.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372313241", "createdAt": "2020-01-29T10:52:14Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1MjQxMA==", "bodyText": "fixed!", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373352410", "createdAt": "2020-01-31T07:53:43Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMxMzI0MQ=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTk0MzQ5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMDo1NTo0NlrOFjETag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1NDo0OFrOFkN2jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMxNDk4Ng==", "bodyText": "if (!TextUtils.isEmpty(courseUpgradeData.price)) { use instated of.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372314986", "createdAt": "2020-01-29T10:55:46Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {\n+                fragmentTransaction.setCustomAnimations(R.anim.slide_up, android.R.anim.fade_out)\n+            }\n+            fragmentTransaction.replace(containerId, fragment, \"payment_banner_frag\")\n+            fragmentTransaction.disallowAddToBackStack()\n+            fragmentTransaction.commitAllowingStateLoss()\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentPaymentsBannerBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_payments_banner, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        populateCourseUpgradeBanner(view.context)\n+    }\n+\n+    private fun populateCourseUpgradeBanner(context: Context) {\n+        val courseUpgradeData: CourseUpgradeResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA) as CourseUpgradeResponse\n+        val courseData: EnrolledCoursesResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+        val showInfoButton: Boolean = arguments?.getBoolean(EXTRA_SHOW_INFO_BUTTON) ?: false\n+        upgrade_to_verified_footer.visibility = View.VISIBLE\n+        if (showInfoButton) {\n+            info.visibility = View.VISIBLE\n+            info.setOnClickListener {\n+                environment?.router?.showPaymentsInfoActivity(context, courseData, courseUpgradeData)\n+            }\n+        } else {\n+            info.visibility = View.GONE\n+        }\n+        if (!TextUtils.isEmpty(courseUpgradeData.getPrice())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUyMDAxMw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373520013", "createdAt": "2020-01-31T14:54:48Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {\n+                fragmentTransaction.setCustomAnimations(R.anim.slide_up, android.R.anim.fade_out)\n+            }\n+            fragmentTransaction.replace(containerId, fragment, \"payment_banner_frag\")\n+            fragmentTransaction.disallowAddToBackStack()\n+            fragmentTransaction.commitAllowingStateLoss()\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentPaymentsBannerBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_payments_banner, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        populateCourseUpgradeBanner(view.context)\n+    }\n+\n+    private fun populateCourseUpgradeBanner(context: Context) {\n+        val courseUpgradeData: CourseUpgradeResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA) as CourseUpgradeResponse\n+        val courseData: EnrolledCoursesResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+        val showInfoButton: Boolean = arguments?.getBoolean(EXTRA_SHOW_INFO_BUTTON) ?: false\n+        upgrade_to_verified_footer.visibility = View.VISIBLE\n+        if (showInfoButton) {\n+            info.visibility = View.VISIBLE\n+            info.setOnClickListener {\n+                environment?.router?.showPaymentsInfoActivity(context, courseData, courseUpgradeData)\n+            }\n+        } else {\n+            info.visibility = View.GONE\n+        }\n+        if (!TextUtils.isEmpty(courseUpgradeData.getPrice())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMxNDk4Ng=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMTk5NzUwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMToxNToyM1rOFjE1BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1NDozMVrOFkN2GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyMzU4OQ==", "bodyText": "need an auto format here.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372323589", "createdAt": "2020-01-29T11:15:23Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxOTg5Ng==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373519896", "createdAt": "2020-01-31T14:54:31Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMyMzU4OQ=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMjA1NTUxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMTozNjo1NFrOFjFX_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1NDoyMVrOFkN1tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMzMjU0Mg==", "bodyText": "can be replaced by the following code\nval courseUnit: CourseComponent? = arguments?.getSerializable(Router.EXTRA_COURSE_UNIT) as CourseComponent?", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372332542", "createdAt": "2020-01-29T11:36:54Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {\n+                fragmentTransaction.setCustomAnimations(R.anim.slide_up, android.R.anim.fade_out)\n+            }\n+            fragmentTransaction.replace(containerId, fragment, \"payment_banner_frag\")\n+            fragmentTransaction.disallowAddToBackStack()\n+            fragmentTransaction.commitAllowingStateLoss()\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentPaymentsBannerBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_payments_banner, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        populateCourseUpgradeBanner(view.context)\n+    }\n+\n+    private fun populateCourseUpgradeBanner(context: Context) {\n+        val courseUpgradeData: CourseUpgradeResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA) as CourseUpgradeResponse\n+        val courseData: EnrolledCoursesResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+        val showInfoButton: Boolean = arguments?.getBoolean(EXTRA_SHOW_INFO_BUTTON) ?: false\n+        upgrade_to_verified_footer.visibility = View.VISIBLE\n+        if (showInfoButton) {\n+            info.visibility = View.VISIBLE\n+            info.setOnClickListener {\n+                environment?.router?.showPaymentsInfoActivity(context, courseData, courseUpgradeData)\n+            }\n+        } else {\n+            info.visibility = View.GONE\n+        }\n+        if (!TextUtils.isEmpty(courseUpgradeData.getPrice())) {\n+            tv_upgrade_price.text = courseUpgradeData.price\n+        } else {\n+            tv_upgrade_price.visibility = View.GONE\n+        }\n+\n+        val serializable = arguments?.getSerializable(Router.EXTRA_COURSE_UNIT)\n+        var courseUnit: CourseComponent? = null\n+        serializable?.let {\n+            courseUnit = arguments?.getSerializable(Router.EXTRA_COURSE_UNIT) as CourseComponent\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxOTc5OQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373519799", "createdAt": "2020-01-31T14:54:21Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UNIT, it)\n+            }\n+            bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            bundle.putBoolean(EXTRA_SHOW_INFO_BUTTON, showInfoButton)\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+\n+        fun loadPaymentsBannerFragment(containerId: Int,\n+                                       courseData: EnrolledCoursesResponse,\n+                                       courseUnit: CourseComponent?,\n+                                       courseUpgradeData: CourseUpgradeResponse, showInfoButton: Boolean,\n+                                       childFragmentManager: FragmentManager, animate: Boolean) {\n+            val frag: Fragment? = childFragmentManager.findFragmentByTag(\"payment_banner_frag\")\n+            if (frag != null) {\n+                // Payment banner already exists\n+                return\n+            }\n+            val fragment: Fragment = newInstance(courseData, courseUnit, courseUpgradeData, showInfoButton)\n+            // This activity will only ever hold this lone fragment, so we\n+            // can afford to retain the instance during activity recreation\n+            fragment.retainInstance = true\n+            val fragmentTransaction: FragmentTransaction = childFragmentManager.beginTransaction()\n+            if(animate) {\n+                fragmentTransaction.setCustomAnimations(R.anim.slide_up, android.R.anim.fade_out)\n+            }\n+            fragmentTransaction.replace(containerId, fragment, \"payment_banner_frag\")\n+            fragmentTransaction.disallowAddToBackStack()\n+            fragmentTransaction.commitAllowingStateLoss()\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentPaymentsBannerBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_payments_banner, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        populateCourseUpgradeBanner(view.context)\n+    }\n+\n+    private fun populateCourseUpgradeBanner(context: Context) {\n+        val courseUpgradeData: CourseUpgradeResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA) as CourseUpgradeResponse\n+        val courseData: EnrolledCoursesResponse =\n+                arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+        val showInfoButton: Boolean = arguments?.getBoolean(EXTRA_SHOW_INFO_BUTTON) ?: false\n+        upgrade_to_verified_footer.visibility = View.VISIBLE\n+        if (showInfoButton) {\n+            info.visibility = View.VISIBLE\n+            info.setOnClickListener {\n+                environment?.router?.showPaymentsInfoActivity(context, courseData, courseUpgradeData)\n+            }\n+        } else {\n+            info.visibility = View.GONE\n+        }\n+        if (!TextUtils.isEmpty(courseUpgradeData.getPrice())) {\n+            tv_upgrade_price.text = courseUpgradeData.price\n+        } else {\n+            tv_upgrade_price.visibility = View.GONE\n+        }\n+\n+        val serializable = arguments?.getSerializable(Router.EXTRA_COURSE_UNIT)\n+        var courseUnit: CourseComponent? = null\n+        serializable?.let {\n+            courseUnit = arguments?.getSerializable(Router.EXTRA_COURSE_UNIT) as CourseComponent\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMzMjU0Mg=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 106}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwMjA2NTk3OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQxMTo0MTowM1rOFjFeRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MzozNlrOFkN0Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMzNDE1MA==", "bodyText": "there is no need to implement the let in case of null, because if we not putSerializable then we will get null object on receiving end.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372334150", "createdAt": "2020-01-29T11:41:03Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxOTQwMw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373519403", "createdAt": "2020-01-31T14:53:36Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsBannerFragment.kt", "diffHunk": "@@ -0,0 +1,113 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import android.support.v4.app.FragmentManager\n+import android.support.v4.app.FragmentTransaction\n+import android.text.TextUtils\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import kotlinx.android.synthetic.main.fragment_payments_banner.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.core.IEdxEnvironment\n+import org.edx.mobile.databinding.FragmentPaymentsBannerBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+\n+class PaymentsBannerFragment : BaseFragment() {\n+    @Inject\n+    var environment: IEdxEnvironment? = null\n+\n+    companion object {\n+        private const val EXTRA_SHOW_INFO_BUTTON = \"show_info_button\"\n+        private fun newInstance(courseData: EnrolledCoursesResponse,\n+                                courseUnit: CourseComponent?,\n+                                courseUpgradeData: CourseUpgradeResponse,\n+                                showInfoButton: Boolean): Fragment {\n+            val fragment = PaymentsBannerFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUnit?.let {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjMzNDE1MA=="}, "originalCommit": {"oid": "7147a9c68d806ebbbb0e60604d9d33e401d5548b"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTAxNjIzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsInfoFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwNzo0OTo1N1rOFjh3hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1Mjo0NlrOFkNybg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjc5OTM2Ng==", "bodyText": "need auto format.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372799366", "createdAt": "2020-01-30T07:49:57Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsInfoFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import kotlinx.android.synthetic.main.fragment_payments_info.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.databinding.FragmentPaymentsInfoBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.ResourceUtil\n+import java.text.SimpleDateFormat\n+import java.util.*\n+\n+class PaymentsInfoFragment : BaseFragment() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODk1OA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518958", "createdAt": "2020-01-31T14:52:46Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsInfoFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import kotlinx.android.synthetic.main.fragment_payments_info.*\n+import org.edx.mobile.R\n+import org.edx.mobile.base.BaseFragment\n+import org.edx.mobile.databinding.FragmentPaymentsInfoBinding\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.ResourceUtil\n+import java.text.SimpleDateFormat\n+import java.util.*\n+\n+class PaymentsInfoFragment : BaseFragment() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjc5OTM2Ng=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTAyNDMyOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwNzo1Mzo0NlrOFjh8nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MjoyNVrOFkNxpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMDY2OA==", "bodyText": "Need auto-format", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372800668", "createdAt": "2020-01-30T07:53:46Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODc1OA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518758", "createdAt": "2020-01-31T14:52:25Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMDY2OA=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTAyNzIzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwNzo1NTowMlrOFjh-Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDo1NjoxNlrOFlP8Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTExOA==", "bodyText": "Need to add android:paddingEnd=\"@dimen/edx_margin\", to make the symmetry in case of RTL.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372801118", "createdAt": "2020-01-30T07:55:02Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDYwMjg1NA==", "bodyText": "not need file has been removed.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374602854", "createdAt": "2020-02-04T10:56:16Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTExOA=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTAyODIxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwNzo1NTozNFrOFjh_Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MjowNFrOFkNw2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTI5MQ==", "bodyText": "We have to declare in colors.xml", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372801291", "createdAt": "2020-01-30T07:55:34Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODU1NA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518554", "createdAt": "2020-01-31T14:52:04Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTI5MQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTAzMTU4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwNzo1NzoxMVrOFjiBQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MTo1N1rOFkNwoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTg1Ng==", "bodyText": "no need of android:layout_gravity within ConstraintLayout", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372801856", "createdAt": "2020-01-30T07:57:11Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_margin\">\n+\n+                    <ImageView\n+                        android:id=\"@+id/btn_close\"\n+                        android:layout_width=\"@dimen/fa_xxxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxxx_large\"\n+                        android:layout_gravity=\"center\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODQ5Nw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518497", "createdAt": "2020-01-31T14:51:57Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_margin\">\n+\n+                    <ImageView\n+                        android:id=\"@+id/btn_close\"\n+                        android:layout_width=\"@dimen/fa_xxxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxxx_large\"\n+                        android:layout_gravity=\"center\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwMTg1Ng=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTA4MTI4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwODoxOToxNFrOFjifDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MToxNlrOFkNvUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwOTQ4NQ==", "bodyText": "We have to use the following code instated of static height\n<ImageView\n\tandroid:id=\"@+id/certificate_slice\"\n\tandroid:layout_width=\"wrap_content\"\n\tandroid:layout_height=\"0dp\"\n        android:layout_marginTop=\"@dimen/edx_margin\"\n        android:background=\"@drawable/ic_new_cert\"\n        android:contentDescription=\"@null\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372809485", "createdAt": "2020-01-30T08:19:14Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_margin\">\n+\n+                    <ImageView\n+                        android:id=\"@+id/btn_close\"\n+                        android:layout_width=\"@dimen/fa_xxxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxxx_large\"\n+                        android:layout_gravity=\"center\"\n+                        android:layout_marginEnd=\"@dimen/edx_margin\"\n+                        android:background=\"@drawable/selectable_box_overlay\"\n+                        android:contentDescription=\"@string/close\"\n+                        android:padding=\"@dimen/widget_margin\"\n+                        android:src=\"@drawable/ic_close\"\n+                        android:tint=\"@color/white\"\n+                        app:layout_constraintEnd_toEndOf=\"parent\"\n+                        app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+                    <TextView\n+                        android:id=\"@+id/tv_header\"\n+                        style=\"@style/bold_white_text\"\n+                        android:layout_width=\"0dp\"\n+                        android:layout_height=\"wrap_content\"\n+                        android:singleLine=\"true\"\n+                        android:text=\"@string/payments_info_header\"\n+                        android:textSize=\"@dimen/edx_large\"\n+                        app:layout_constraintBottom_toBottomOf=\"@+id/btn_close\"\n+                        app:layout_constraintEnd_toStartOf=\"@+id/btn_close\"\n+                        app:layout_constraintStart_toStartOf=\"parent\"\n+                        app:layout_constraintTop_toTopOf=\"@+id/btn_close\" />\n+\n+                    <TextView\n+                        android:id=\"@+id/textView\"\n+                        android:layout_width=\"0dp\"\n+                        android:layout_height=\"wrap_content\"\n+                        android:layout_marginTop=\"@dimen/edx_double_margin\"\n+                        android:layout_marginEnd=\"@dimen/edx_margin\"\n+                        android:text=\"@string/payments_info_details\"\n+                        android:textColor=\"@color/white\"\n+                        android:textSize=\"@dimen/edx_base\"\n+                        app:layout_constraintEnd_toStartOf=\"@id/certificate_slice\"\n+                        app:layout_constraintStart_toStartOf=\"parent\"\n+                        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />\n+\n+                    <ImageView\n+                        android:id=\"@+id/certificate_slice\"\n+                        android:layout_width=\"wrap_content\"\n+                        android:layout_height=\"250dp\"\n+                        android:layout_marginTop=\"@dimen/edx_margin\"\n+                        android:background=\"@drawable/ic_new_cert\"\n+                        android:contentDescription=\"@null\"\n+                        app:layout_constraintEnd_toEndOf=\"parent\"\n+                        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODE2MA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518160", "createdAt": "2020-01-31T14:51:16Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout-land/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,121 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"#aa0075B4\"\n+                    android:paddingStart=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_margin\">\n+\n+                    <ImageView\n+                        android:id=\"@+id/btn_close\"\n+                        android:layout_width=\"@dimen/fa_xxxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxxx_large\"\n+                        android:layout_gravity=\"center\"\n+                        android:layout_marginEnd=\"@dimen/edx_margin\"\n+                        android:background=\"@drawable/selectable_box_overlay\"\n+                        android:contentDescription=\"@string/close\"\n+                        android:padding=\"@dimen/widget_margin\"\n+                        android:src=\"@drawable/ic_close\"\n+                        android:tint=\"@color/white\"\n+                        app:layout_constraintEnd_toEndOf=\"parent\"\n+                        app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+                    <TextView\n+                        android:id=\"@+id/tv_header\"\n+                        style=\"@style/bold_white_text\"\n+                        android:layout_width=\"0dp\"\n+                        android:layout_height=\"wrap_content\"\n+                        android:singleLine=\"true\"\n+                        android:text=\"@string/payments_info_header\"\n+                        android:textSize=\"@dimen/edx_large\"\n+                        app:layout_constraintBottom_toBottomOf=\"@+id/btn_close\"\n+                        app:layout_constraintEnd_toStartOf=\"@+id/btn_close\"\n+                        app:layout_constraintStart_toStartOf=\"parent\"\n+                        app:layout_constraintTop_toTopOf=\"@+id/btn_close\" />\n+\n+                    <TextView\n+                        android:id=\"@+id/textView\"\n+                        android:layout_width=\"0dp\"\n+                        android:layout_height=\"wrap_content\"\n+                        android:layout_marginTop=\"@dimen/edx_double_margin\"\n+                        android:layout_marginEnd=\"@dimen/edx_margin\"\n+                        android:text=\"@string/payments_info_details\"\n+                        android:textColor=\"@color/white\"\n+                        android:textSize=\"@dimen/edx_base\"\n+                        app:layout_constraintEnd_toStartOf=\"@id/certificate_slice\"\n+                        app:layout_constraintStart_toStartOf=\"parent\"\n+                        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />\n+\n+                    <ImageView\n+                        android:id=\"@+id/certificate_slice\"\n+                        android:layout_width=\"wrap_content\"\n+                        android:layout_height=\"250dp\"\n+                        android:layout_marginTop=\"@dimen/edx_margin\"\n+                        android:background=\"@drawable/ic_new_cert\"\n+                        android:contentDescription=\"@null\"\n+                        app:layout_constraintEnd_toEndOf=\"parent\"\n+                        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgwOTQ4NQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTA4NzU5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwODoyMTo0MVrOFjiinw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MTowN1rOFkNvAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgxMDM5OQ==", "bodyText": "We have to use the following code instated of static height\n<ImageView\n\tandroid:id=\"@+id/certificate_slice\"\n\tandroid:layout_width=\"wrap_content\"\n\tandroid:layout_height=\"0dp\"\n        android:layout_marginTop=\"@dimen/edx_margin\"\n        android:background=\"@drawable/ic_new_cert\"\n        android:contentDescription=\"@null\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372810399", "createdAt": "2020-01-30T08:21:41Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <android.support.constraint.ConstraintLayout\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:background=\"#aa0075B4\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingTop=\"@dimen/edx_margin\"\n+            android:paddingBottom=\"@dimen/edx_margin\">\n+\n+            <ImageView\n+                android:id=\"@+id/btn_close\"\n+                android:layout_width=\"@dimen/fa_xxxx_large\"\n+                android:layout_height=\"@dimen/fa_xxxx_large\"\n+                android:layout_gravity=\"center\"\n+                android:layout_marginEnd=\"@dimen/edx_margin\"\n+                android:background=\"@drawable/selectable_box_overlay\"\n+                android:contentDescription=\"@string/close\"\n+                android:padding=\"@dimen/widget_margin\"\n+                android:src=\"@drawable/ic_close\"\n+                android:tint=\"@color/white\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+            <TextView\n+                android:id=\"@+id/tv_header\"\n+                style=\"@style/bold_white_text\"\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:singleLine=\"true\"\n+                android:text=\"@string/payments_info_header\"\n+                android:textSize=\"@dimen/edx_large\"\n+                app:layout_constraintBottom_toBottomOf=\"@+id/btn_close\"\n+                app:layout_constraintEnd_toStartOf=\"@+id/btn_close\"\n+                app:layout_constraintStart_toStartOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"@+id/btn_close\" />\n+\n+            <TextView\n+                android:id=\"@+id/textView\"\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:layout_marginTop=\"@dimen/edx_double_margin\"\n+                android:layout_marginEnd=\"@dimen/edx_margin\"\n+                android:text=\"@string/payments_info_details\"\n+                android:textColor=\"@color/white\"\n+                android:textSize=\"@dimen/edx_base\"\n+                app:layout_constraintEnd_toStartOf=\"@id/certificate_slice\"\n+                app:layout_constraintStart_toStartOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />\n+\n+            <ImageView\n+                android:id=\"@+id/certificate_slice\"\n+                android:layout_width=\"wrap_content\"\n+                android:layout_height=\"250dp\"\n+                android:layout_marginTop=\"@dimen/edx_margin\"\n+                android:background=\"@drawable/ic_new_cert\"\n+                android:contentDescription=\"@null\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxODA4Mw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373518083", "createdAt": "2020-01-31T14:51:07Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <android.support.constraint.ConstraintLayout\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:background=\"#aa0075B4\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingTop=\"@dimen/edx_margin\"\n+            android:paddingBottom=\"@dimen/edx_margin\">\n+\n+            <ImageView\n+                android:id=\"@+id/btn_close\"\n+                android:layout_width=\"@dimen/fa_xxxx_large\"\n+                android:layout_height=\"@dimen/fa_xxxx_large\"\n+                android:layout_gravity=\"center\"\n+                android:layout_marginEnd=\"@dimen/edx_margin\"\n+                android:background=\"@drawable/selectable_box_overlay\"\n+                android:contentDescription=\"@string/close\"\n+                android:padding=\"@dimen/widget_margin\"\n+                android:src=\"@drawable/ic_close\"\n+                android:tint=\"@color/white\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+            <TextView\n+                android:id=\"@+id/tv_header\"\n+                style=\"@style/bold_white_text\"\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:singleLine=\"true\"\n+                android:text=\"@string/payments_info_header\"\n+                android:textSize=\"@dimen/edx_large\"\n+                app:layout_constraintBottom_toBottomOf=\"@+id/btn_close\"\n+                app:layout_constraintEnd_toStartOf=\"@+id/btn_close\"\n+                app:layout_constraintStart_toStartOf=\"parent\"\n+                app:layout_constraintTop_toTopOf=\"@+id/btn_close\" />\n+\n+            <TextView\n+                android:id=\"@+id/textView\"\n+                android:layout_width=\"0dp\"\n+                android:layout_height=\"wrap_content\"\n+                android:layout_marginTop=\"@dimen/edx_double_margin\"\n+                android:layout_marginEnd=\"@dimen/edx_margin\"\n+                android:text=\"@string/payments_info_details\"\n+                android:textColor=\"@color/white\"\n+                android:textSize=\"@dimen/edx_base\"\n+                app:layout_constraintEnd_toStartOf=\"@id/certificate_slice\"\n+                app:layout_constraintStart_toStartOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />\n+\n+            <ImageView\n+                android:id=\"@+id/certificate_slice\"\n+                android:layout_width=\"wrap_content\"\n+                android:layout_height=\"250dp\"\n+                android:layout_marginTop=\"@dimen/edx_margin\"\n+                android:background=\"@drawable/ic_new_cert\"\n+                android:contentDescription=\"@null\"\n+                app:layout_constraintEnd_toEndOf=\"parent\"\n+                app:layout_constraintTop_toBottomOf=\"@id/btn_close\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgxMDM5OQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTI2MjIwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOToyNTo1M1rOFjkOQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDo1Njo1NlrOFlP9tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNzk1Mw==", "bodyText": "Need to add android:paddingEnd=\"@dimen/edx_margin\", to make the symmetry in case of RTL.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372837953", "createdAt": "2020-01-30T09:25:53Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <android.support.constraint.ConstraintLayout\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:background=\"#aa0075B4\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingTop=\"@dimen/edx_margin\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDYwMzE5MQ==", "bodyText": "not needed after setting up the layout direction.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374603191", "createdAt": "2020-02-04T10:56:56Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:orientation=\"vertical\">\n+\n+        <android.support.constraint.ConstraintLayout\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:background=\"#aa0075B4\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingTop=\"@dimen/edx_margin\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjgzNzk1Mw=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTM1MTY2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQwOTo1NDoyMFrOFjlFow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MDo0MVrOFkNuGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg1MjEzMQ==", "bodyText": "We have to use the blockId instated of and remove minifiedBlockId from the method definition as to make parity with SegmentAnalytics.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372852131", "createdAt": "2020-01-30T09:54:20Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -184,6 +184,18 @@ public void trackDownloadComplete(String videoId, String courseId,\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n+    @Override\n+    public void trackCourseUpgradeSuccess(String blockId, String courseId, String minifiedBlockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UPGRADE_SUCCESS,\n+                Values.USER_COURSE_UPGRADE_SUCCESS);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, minifiedBlockId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNzg1MQ==", "bodyText": "Its in parity with trackCourseComponentViewed function.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373517851", "createdAt": "2020-01-31T14:50:41Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -184,6 +184,18 @@ public void trackDownloadComplete(String videoId, String courseId,\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n+    @Override\n+    public void trackCourseUpgradeSuccess(String blockId, String courseId, String minifiedBlockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UPGRADE_SUCCESS,\n+                Values.USER_COURSE_UPGRADE_SUCCESS);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, minifiedBlockId);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg1MjEzMQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTQyNjQzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMDoxODowN1rOFjl0Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo1MDozMlrOFkNt3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg2NDAxNQ==", "bodyText": "After the parity of Firebase and Segment analytics need to remove the minifiedBlockId.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372864015", "createdAt": "2020-01-30T10:18:07Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -131,6 +131,15 @@ void trackVideoSeek(String videoId, Double oldTime, Double newTime,\n     void trackDownloadComplete(String videoId, String courseId,\n                                String unitUrl);\n \n+    /**\n+     * Track user's successful course upgrade.\n+     *\n+     * @param blockId         ID of the locked course unit from which the user is redirected to upgrade screen.\n+     * @param courseId        ID of the course which user has upgraded.\n+     * @param minifiedBlockId Block ID of the locked course unit from which the user is redirected to upgrade screen.\n+     */\n+    void trackCourseUpgradeSuccess(String blockId, String courseId, String minifiedBlockId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNzc4OA==", "bodyText": "Its in parity with trackCourseComponentViewed function.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373517788", "createdAt": "2020-01-31T14:50:32Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -131,6 +131,15 @@ void trackVideoSeek(String videoId, Double oldTime, Double newTime,\n     void trackDownloadComplete(String videoId, String courseId,\n                                String unitUrl);\n \n+    /**\n+     * Track user's successful course upgrade.\n+     *\n+     * @param blockId         ID of the locked course unit from which the user is redirected to upgrade screen.\n+     * @param courseId        ID of the course which user has upgraded.\n+     * @param minifiedBlockId Block ID of the locked course unit from which the user is redirected to upgrade screen.\n+     */\n+    void trackCourseUpgradeSuccess(String blockId, String courseId, String minifiedBlockId);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg2NDAxNQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTYwMTM4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/Router.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMToxNjowM1rOFjnevQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0NzoyOVrOFkNnjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5MTMyNQ==", "bodyText": "There is no need to overload the method, the other method is not called from anywhere else.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372891325", "createdAt": "2020-01-30T11:16:03Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/Router.java", "diffHunk": "@@ -198,50 +203,43 @@ public void showCourseAnnouncementFromNotification(@NonNull Context context, @No\n                 .startActivities();\n     }\n \n-    public void showCourseContainerOutline(Activity activity, EnrolledCoursesResponse model,\n+    public void showCourseContainerOutline(Activity activity, EnrolledCoursesResponse courseData,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNjE3NQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373516175", "createdAt": "2020-01-31T14:47:29Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/Router.java", "diffHunk": "@@ -198,50 +203,43 @@ public void showCourseAnnouncementFromNotification(@NonNull Context context, @No\n                 .startActivities();\n     }\n \n-    public void showCourseContainerOutline(Activity activity, EnrolledCoursesResponse model,\n+    public void showCourseContainerOutline(Activity activity, EnrolledCoursesResponse courseData,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5MTMyNQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTYyNjMzOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMToyNTozMFrOFjntRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0NjoxMlrOFkNkjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5NTA0Ng==", "bodyText": "code can be replaced by\nfinal CourseComponent courseUnit = (CourseComponent) getIntent().getSerializableExtra(Router.EXTRA_COURSE_UNIT);", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372895046", "createdAt": "2020-01-30T11:25:30Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewActivity.java", "diffHunk": "@@ -30,7 +39,13 @@ protected void onCreate(Bundle savedInstanceState) {\n \n     @Override\n     public Fragment getFirstFragment() {\n+        final EnrolledCoursesResponse courseData = (EnrolledCoursesResponse) getIntent().getSerializableExtra(Router.EXTRA_COURSE_DATA);\n+        final Serializable serializable = getIntent().getSerializableExtra(Router.EXTRA_COURSE_UNIT);\n+        CourseComponent courseUnit = null;\n+        if (serializable != null) {\n+            courseUnit = (CourseComponent) serializable;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNTQwNQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373515405", "createdAt": "2020-01-31T14:46:12Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewActivity.java", "diffHunk": "@@ -30,7 +39,13 @@ protected void onCreate(Bundle savedInstanceState) {\n \n     @Override\n     public Fragment getFirstFragment() {\n+        final EnrolledCoursesResponse courseData = (EnrolledCoursesResponse) getIntent().getSerializableExtra(Router.EXTRA_COURSE_DATA);\n+        final Serializable serializable = getIntent().getSerializableExtra(Router.EXTRA_COURSE_UNIT);\n+        CourseComponent courseUnit = null;\n+        if (serializable != null) {\n+            courseUnit = (CourseComponent) serializable;\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5NTA0Ng=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTY0NzAyOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMTozMjoxOVrOFjn5Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0NToxNVrOFkNiaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5ODA2Ng==", "bodyText": "can be replaced by\n                // Fire analytics\n                final CourseComponent courseUnit = (CourseComponent) arguments.getSerializable(Router.EXTRA_COURSE_UNIT);\n                if (courseUnit != null) {\n                    analyticsRegistry.trackCourseUpgradeSuccess(courseUnit.getId(),\n                            courseData.getCourse().getId(), courseUnit.getBlockId());\n                } else {\n                    analyticsRegistry.trackCourseUpgradeSuccess(null,\n                            courseData.getCourse().getId(), null);\n                }", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372898066", "createdAt": "2020-01-30T11:32:19Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "diffHunk": "@@ -69,9 +90,40 @@ public void onStop() {\n         if (getActivity() != null && authWebView.getWebView() != null) {\n             final String url = authWebView.getWebView().getUrl();\n             if (url != null && url.contains(\"checkout/receipt\")) {\n-                getActivity().finish();\n+                onCoursePaymentSuccessful();\n             }\n+        }\n+    }\n \n+    public void onCoursePaymentSuccessful() {\n+        // Finish activity\n+        final Activity activity = getActivity();\n+        if( activity != null) {\n+            activity.finish();\n+        }\n+\n+        final Bundle arguments = getArguments();\n+        if (arguments != null) {\n+            final EnrolledCoursesResponse courseData =\n+                    (EnrolledCoursesResponse) arguments.getSerializable(Router.EXTRA_COURSE_DATA);\n+\n+            // Fire Course Upgraded event\n+            EventBus.getDefault().postSticky(new CourseUpgradedEvent(courseData.getCourse().getId()));\n+\n+            // Fire analytics\n+            final Serializable serializable = arguments.getSerializable(Router.EXTRA_COURSE_UNIT);\n+            CourseComponent courseUnit;\n+            if (serializable != null) {\n+                courseUnit = (CourseComponent) serializable;\n+                analyticsRegistry.trackCourseUpgradeSuccess(courseUnit.getId(),\n+                        courseData.getCourse().getId(), courseUnit.getBlockId());\n+            } else {\n+                analyticsRegistry.trackCourseUpgradeSuccess(null,\n+                        courseData.getCourse().getId(), null);\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 93}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNDg1Nw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373514857", "createdAt": "2020-01-31T14:45:15Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "diffHunk": "@@ -69,9 +90,40 @@ public void onStop() {\n         if (getActivity() != null && authWebView.getWebView() != null) {\n             final String url = authWebView.getWebView().getUrl();\n             if (url != null && url.contains(\"checkout/receipt\")) {\n-                getActivity().finish();\n+                onCoursePaymentSuccessful();\n             }\n+        }\n+    }\n \n+    public void onCoursePaymentSuccessful() {\n+        // Finish activity\n+        final Activity activity = getActivity();\n+        if( activity != null) {\n+            activity.finish();\n+        }\n+\n+        final Bundle arguments = getArguments();\n+        if (arguments != null) {\n+            final EnrolledCoursesResponse courseData =\n+                    (EnrolledCoursesResponse) arguments.getSerializable(Router.EXTRA_COURSE_DATA);\n+\n+            // Fire Course Upgraded event\n+            EventBus.getDefault().postSticky(new CourseUpgradedEvent(courseData.getCourse().getId()));\n+\n+            // Fire analytics\n+            final Serializable serializable = arguments.getSerializable(Router.EXTRA_COURSE_UNIT);\n+            CourseComponent courseUnit;\n+            if (serializable != null) {\n+                courseUnit = (CourseComponent) serializable;\n+                analyticsRegistry.trackCourseUpgradeSuccess(courseUnit.getId(),\n+                        courseData.getCourse().getId(), courseUnit.getBlockId());\n+            } else {\n+                analyticsRegistry.trackCourseUpgradeSuccess(null,\n+                        courseData.getCourse().getId(), null);\n+            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg5ODA2Ng=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 93}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTczNDM0OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMjowNDo1M1rOFjotTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0NDozMVrOFkNguw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjkxMTQzOQ==", "bodyText": "We can remove the let as we can put the null in putSerializable.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372911439", "createdAt": "2020-01-30T12:04:53Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNDQyNw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373514427", "createdAt": "2020-01-31T14:44:31Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjkxMTQzOQ=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNTc0NTEwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxMjowOToyNVrOFjo0HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0NDowNVrOFkNf3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjkxMzE4MA==", "bodyText": "code can be replaced by the followings line\n        val courseUpgradeData = arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA) as CourseUpgradeResponse?\n        if (courseUpgradeData != null) {\n            val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n            loadPaymentBannerFragment(courseData, courseUpgradeData)\n        }", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r372913180", "createdAt": "2020-01-30T12:09:25Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            }\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentLockedCourseUnitBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_locked_course_unit, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        val courseUpgradeData = arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA)\n+        if (courseUpgradeData != null) {\n+            val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+            loadPaymentBannerFragment(courseData, courseUpgradeData as CourseUpgradeResponse)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxNDIwNw==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r373514207", "createdAt": "2020-01-31T14:44:05Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/LockedCourseUnitFragment.kt", "diffHunk": "@@ -0,0 +1,77 @@\n+package org.edx.mobile.view\n+\n+import android.databinding.DataBindingUtil\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.google.inject.Inject\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.FragmentLockedCourseUnitBinding\n+import org.edx.mobile.event.CourseUpgradeDataReceivedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.model.course.CourseComponent\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.module.analytics.AnalyticsRegistry\n+\n+class LockedCourseUnitFragment : CourseUnitFragment() {\n+    @Inject\n+    var analyticsRegistry: AnalyticsRegistry? = null\n+\n+    companion object {\n+        @JvmStatic\n+        fun newInstance(unit: CourseComponent,\n+                        courseData: EnrolledCoursesResponse,\n+                        courseUpgradeData: CourseUpgradeResponse?): LockedCourseUnitFragment {\n+            val fragment = LockedCourseUnitFragment()\n+            val bundle = Bundle()\n+            bundle.putSerializable(Router.EXTRA_COURSE_UNIT, unit)\n+            bundle.putSerializable(Router.EXTRA_COURSE_DATA, courseData)\n+            courseUpgradeData?.let {\n+                bundle.putSerializable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData)\n+            }\n+            fragment.arguments = bundle\n+            return fragment\n+        }\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        val binding: FragmentLockedCourseUnitBinding =\n+                DataBindingUtil.inflate(inflater, R.layout.fragment_locked_course_unit, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        val courseUpgradeData = arguments?.getSerializable(Router.EXTRA_COURSE_UPGRADE_DATA)\n+        if (courseUpgradeData != null) {\n+            val courseData = arguments?.getSerializable(Router.EXTRA_COURSE_DATA) as EnrolledCoursesResponse\n+            loadPaymentBannerFragment(courseData, courseUpgradeData as CourseUpgradeResponse)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjkxMzE4MA=="}, "originalCommit": {"oid": "7a476155b1cf27f6ee126d2a62687a6af4241012"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjA5NjMwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUnitNavigationActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozMjozM1rOFlKUxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozMjozM1rOFlKUxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMDc5MQ==", "bodyText": "removeStickyEvent should be called only on the CourseOutlineActivity otherwise other screens won't be closed.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374510791", "createdAt": "2020-02-04T07:32:33Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUnitNavigationActivity.java", "diffHunk": "@@ -276,4 +278,9 @@ public boolean showGoogleCastButton() {\n         }\n         return super.showGoogleCastButton();\n     }\n+\n+    public void onEvent(CourseUpgradedEvent event) {\n+        EventBus.getDefault().removeStickyEvent(CourseUpgradedEvent.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjA5NzcxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozMzowNFrOFlKViA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozMzowNFrOFlKViA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMDk4NA==", "bodyText": "removeStickyEvent should be called only on the CourseOutlineActivity otherwise other screens won't be closed.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374510984", "createdAt": "2020-02-04T07:33:04Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -777,6 +778,16 @@ public void onEvent(CourseDashboardRefreshEvent e) {\n         fetchCourseComponent();\n     }\n \n+    public void onEvent(CourseUpgradedEvent event) {\n+        EventBus.getDefault().removeStickyEvent(CourseUpgradedEvent.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 141}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjEwMjE4OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsInfoActivity.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozNToyMFrOFlKYRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwNzozNToyMFrOFlKYRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUxMTY4NQ==", "bodyText": "removeStickyEvent should be called only on the CourseOutlineActivity otherwise other screens won't be closed.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374511685", "createdAt": "2020-02-04T07:35:20Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/PaymentsInfoActivity.kt", "diffHunk": "@@ -0,0 +1,52 @@\n+package org.edx.mobile.view\n+\n+import android.content.Context\n+import android.content.Intent\n+import android.os.Bundle\n+import android.support.v4.app.Fragment\n+import de.greenrobot.event.EventBus\n+import org.edx.mobile.base.BaseSingleFragmentActivity\n+import org.edx.mobile.event.CourseUpgradedEvent\n+import org.edx.mobile.model.api.CourseUpgradeResponse\n+import org.edx.mobile.model.api.EnrolledCoursesResponse\n+import org.edx.mobile.module.analytics.Analytics\n+import org.edx.mobile.view.Router.EXTRA_COURSE_DATA\n+import org.edx.mobile.view.Router.EXTRA_COURSE_UPGRADE_DATA\n+\n+class PaymentsInfoActivity : BaseSingleFragmentActivity() {\n+    companion object {\n+        fun newIntent(context: Context, courseData: EnrolledCoursesResponse, courseUpgrade: CourseUpgradeResponse): Intent {\n+            val intent = Intent(context, PaymentsInfoActivity::class.java)\n+            intent.putExtra(EXTRA_COURSE_DATA, courseData)\n+            intent.putExtra(EXTRA_COURSE_UPGRADE_DATA, courseUpgrade)\n+            return intent\n+        }\n+    }\n+\n+    override fun getToolbarLayoutId(): Int {\n+        return -1\n+    }\n+\n+    override fun getFirstFragment(): Fragment {\n+        val extras = intent.extras\n+        if (extras == null) {\n+            throw IllegalArgumentException()\n+        } else {\n+            return PaymentsInfoFragment.newInstance(extras)\n+        }\n+    }\n+\n+    override fun onCreate(savedInstanceState: Bundle?) {\n+        super.onCreate(savedInstanceState)\n+        environment.analyticsRegistry.trackScreenView(Analytics.Screens.PAYMENTS_INFO_SCREEN)\n+    }\n+\n+    fun onEvent(event: CourseUpgradedEvent?) {\n+        finish()\n+    }\n+\n+    override fun onDestroy() {\n+        super.onDestroy()\n+        EventBus.getDefault().removeStickyEvent(CourseUpgradedEvent::class.java)\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjE5OTE3OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwODoxOTowN1rOFlLTGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjo0NjoxNVrOFlSzzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyNjc0Nw==", "bodyText": "basketUrl can be null so this should be var basketUrl: String?", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374526747", "createdAt": "2020-02-04T08:19:07Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.model.api\n+\n+import android.os.Parcel\n+import android.os.Parcelable\n+import com.google.gson.annotations.SerializedName\n+\n+class CourseUpgradeResponse(source: Parcel) : Parcelable {\n+    @SerializedName(\"show_upsell\")\n+    var showUpsell: Boolean = false\n+\n+    @SerializedName(\"price\")\n+    var price: String? = null\n+\n+    @SerializedName(\"basket_url\")\n+    var basketUrl: String", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0OTgwNg==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374649806", "createdAt": "2020-02-04T12:46:15Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/CourseUpgradeResponse.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.model.api\n+\n+import android.os.Parcel\n+import android.os.Parcelable\n+import com.google.gson.annotations.SerializedName\n+\n+class CourseUpgradeResponse(source: Parcel) : Parcelable {\n+    @SerializedName(\"show_upsell\")\n+    var showUpsell: Boolean = false\n+\n+    @SerializedName(\"price\")\n+    var price: String? = null\n+\n+    @SerializedName(\"basket_url\")\n+    var basketUrl: String", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyNjc0Nw=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQxMTkxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozMjo0M1rOFlNWVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozNjoyNlrOFlSgzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MDM0Mw==", "bodyText": "IMO, this layout direction should be ltr, because we don't have the RTL design for now.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374560343", "createdAt": "2020-02-04T09:32:43Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,124 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0NDk0MQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374644941", "createdAt": "2020-02-04T12:36:26Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout/fragment_payments_info.xml", "diffHunk": "@@ -0,0 +1,124 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MDM0Mw=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQ3NjE2OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/anim/slide_down.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTo1MTo1N1rOFlN9Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozNDowNlrOFlSdHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3MDMzOA==", "bodyText": "this anim need to removed not use anywhere.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374570338", "createdAt": "2020-02-04T09:51:57Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/anim/slide_down.xml", "diffHunk": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0Mzk5OA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374643998", "createdAt": "2020-02-04T12:34:06Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/anim/slide_down.xml", "diffHunk": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3MDMzOA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjUxNzYwOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDowNDoxNlrOFlOWpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozMzoxN1rOFlSbVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3NjgwNA==", "bodyText": "icon is different from the available design.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374576804", "createdAt": "2020-02-04T10:04:16Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:background=\"@color/white\"\n+        android:gravity=\"center\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"@drawable/payment_blue_bg_2\"\n+                    android:paddingLeft=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_double_margin\"\n+                    android:paddingRight=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_double_margin\">\n+\n+                    <org.edx.mobile.view.custom.IconImageViewXml\n+                        android:id=\"@+id/lock\"\n+                        android:layout_width=\"@dimen/fa_xxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxx_large\"\n+                        app:iconColor=\"@color/white\"\n+                        app:iconName=\"fa-lock\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MzU0Mg==", "bodyText": "Its acceptable on the story", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374643542", "createdAt": "2020-02-04T12:33:17Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:background=\"@color/white\"\n+        android:gravity=\"center\"\n+        android:orientation=\"vertical\">\n+\n+        <ScrollView\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"0dp\"\n+            android:layout_weight=\"1\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"vertical\">\n+\n+                <android.support.constraint.ConstraintLayout\n+                    android:layout_width=\"match_parent\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:background=\"@drawable/payment_blue_bg_2\"\n+                    android:paddingLeft=\"@dimen/edx_margin\"\n+                    android:paddingTop=\"@dimen/edx_double_margin\"\n+                    android:paddingRight=\"@dimen/edx_margin\"\n+                    android:paddingBottom=\"@dimen/edx_double_margin\">\n+\n+                    <org.edx.mobile.view.custom.IconImageViewXml\n+                        android:id=\"@+id/lock\"\n+                        android:layout_width=\"@dimen/fa_xxx_large\"\n+                        android:layout_height=\"@dimen/fa_xxx_large\"\n+                        app:iconColor=\"@color/white\"\n+                        app:iconName=\"fa-lock\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3NjgwNA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjUyMDY5OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDowNToxOFrOFlOYoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozMjo0NlrOFlSahw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3NzMxMw==", "bodyText": "Need auto-formate.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374577313", "createdAt": "2020-02-04T10:05:18Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MzMzNQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374643335", "createdAt": "2020-02-04T12:32:46Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/res/layout/fragment_locked_course_unit.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU3NzMxMw=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjU1Njg1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDoxNjoyM1rOFlOvJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozMjoxOFrOFlSZxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4MzA3Nw==", "bodyText": "Need to remove extra line.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374583077", "createdAt": "2020-02-04T10:16:23Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -670,6 +682,8 @@ void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String\n         String REGISTRATION_SUCCESS = \"Registration Success\";\n         String COURSE_ENROLL_CLICKED = \"Course Enroll Clicked\";\n         String COURSE_ENROLL_SUCCESS = \"Course Enroll Success\";\n+        String COURSE_UPGRADE_SUCCESS = \"Course Upgrade Success\";\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MzE0MA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374643140", "createdAt": "2020-02-04T12:32:18Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -670,6 +682,8 @@ void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String\n         String REGISTRATION_SUCCESS = \"Registration Success\";\n         String COURSE_ENROLL_CLICKED = \"Course Enroll Clicked\";\n         String COURSE_ENROLL_SUCCESS = \"Course Enroll Success\";\n+        String COURSE_UPGRADE_SUCCESS = \"Course Upgrade Success\";\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4MzA3Nw=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjU5MDk0OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseBaseActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDoyNjo1MVrOFlPEIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozMTo0OVrOFlSY-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4ODQ0OA==", "bodyText": "Need to remove redundant cast.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374588448", "createdAt": "2020-02-04T10:26:51Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseBaseActivity.java", "diffHunk": "@@ -104,12 +106,14 @@ protected void onDestroy() {\n     public void onSaveInstanceState(Bundle outState) {\n         super.onSaveInstanceState(outState);\n         outState.putSerializable(Router.EXTRA_COURSE_DATA, courseData);\n+        outState.putParcelable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData);\n         outState.putString(Router.EXTRA_COURSE_COMPONENT_ID, courseComponentId);\n     }\n \n     protected void restore(Bundle savedInstanceState) {\n         blocksApiVersion = config.getApiUrlVersionConfig().getBlocksApiVersion();\n         courseData = (EnrolledCoursesResponse) savedInstanceState.getSerializable(Router.EXTRA_COURSE_DATA);\n+        courseUpgradeData = (CourseUpgradeResponse) savedInstanceState.getParcelable(Router.EXTRA_COURSE_UPGRADE_DATA);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MjkzOA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374642938", "createdAt": "2020-02-04T12:31:49Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseBaseActivity.java", "diffHunk": "@@ -104,12 +106,14 @@ protected void onDestroy() {\n     public void onSaveInstanceState(Bundle outState) {\n         super.onSaveInstanceState(outState);\n         outState.putSerializable(Router.EXTRA_COURSE_DATA, courseData);\n+        outState.putParcelable(Router.EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData);\n         outState.putString(Router.EXTRA_COURSE_COMPONENT_ID, courseComponentId);\n     }\n \n     protected void restore(Bundle savedInstanceState) {\n         blocksApiVersion = config.getApiUrlVersionConfig().getBlocksApiVersion();\n         courseData = (EnrolledCoursesResponse) savedInstanceState.getSerializable(Router.EXTRA_COURSE_DATA);\n+        courseUpgradeData = (CourseUpgradeResponse) savedInstanceState.getParcelable(Router.EXTRA_COURSE_UPGRADE_DATA);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4ODQ0OA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjU5NjczOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDoyODoyNlrOFlPHbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjozMDo0MVrOFlSXIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4OTI5NA==", "bodyText": "Need auto-format.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374589294", "createdAt": "2020-02-04T10:28:26Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -1,30 +1,60 @@\n package org.edx.mobile.view;\n \n+import android.app.Activity;\n+import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.app.Fragment;\n \n import org.edx.mobile.base.BaseSingleFragmentActivity;\n+import org.edx.mobile.event.CourseUpgradedEvent;\n+import org.edx.mobile.model.api.CourseUpgradeResponse;\n import org.edx.mobile.model.api.EnrolledCoursesResponse;\n import org.edx.mobile.module.analytics.Analytics;\n \n+import de.greenrobot.event.EventBus;\n import roboguice.inject.InjectExtra;\n \n+import static org.edx.mobile.view.Router.EXTRA_BUNDLE;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_COMPONENT_ID;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_UPGRADE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_IS_VIDEOS_MODE;\n+import static org.edx.mobile.view.Router.EXTRA_LAST_ACCESSED_ID;\n+\n public class CourseOutlineActivity extends BaseSingleFragmentActivity {\n-    @InjectExtra(Router.EXTRA_BUNDLE)\n+    @InjectExtra(EXTRA_BUNDLE)\n     private Bundle courseBundle;\n \n-    @InjectExtra(value = Router.EXTRA_COURSE_COMPONENT_ID, optional = true)\n+    @InjectExtra(value = EXTRA_COURSE_COMPONENT_ID, optional = true)\n     private String courseComponentId = null;\n \n-    @InjectExtra(Router.EXTRA_IS_VIDEOS_MODE)\n+    @InjectExtra(EXTRA_IS_VIDEOS_MODE)\n     private boolean isVideoMode = false;\n \n+    public static Intent newIntent(Activity activity,\n+                             EnrolledCoursesResponse courseData,\n+                             CourseUpgradeResponse courseUpgradeData,\n+                             String courseComponentId, String lastAccessedId,\n+                             boolean isVideosMode) {\n+        Bundle courseBundle = new Bundle();\n+        courseBundle.putSerializable(EXTRA_COURSE_DATA, courseData);\n+        courseBundle.putParcelable(EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData);\n+        courseBundle.putString(EXTRA_COURSE_COMPONENT_ID, courseComponentId);\n+\n+        final Intent intent = new Intent(activity, CourseOutlineActivity.class);\n+        intent.putExtra(EXTRA_BUNDLE, courseBundle);\n+        intent.putExtra(EXTRA_LAST_ACCESSED_ID, lastAccessedId);\n+        intent.putExtra(EXTRA_IS_VIDEOS_MODE, isVideosMode);\n+\n+        return intent;\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MjQ2NA==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374642464", "createdAt": "2020-02-04T12:30:41Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -1,30 +1,60 @@\n package org.edx.mobile.view;\n \n+import android.app.Activity;\n+import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.app.Fragment;\n \n import org.edx.mobile.base.BaseSingleFragmentActivity;\n+import org.edx.mobile.event.CourseUpgradedEvent;\n+import org.edx.mobile.model.api.CourseUpgradeResponse;\n import org.edx.mobile.model.api.EnrolledCoursesResponse;\n import org.edx.mobile.module.analytics.Analytics;\n \n+import de.greenrobot.event.EventBus;\n import roboguice.inject.InjectExtra;\n \n+import static org.edx.mobile.view.Router.EXTRA_BUNDLE;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_COMPONENT_ID;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_UPGRADE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_IS_VIDEOS_MODE;\n+import static org.edx.mobile.view.Router.EXTRA_LAST_ACCESSED_ID;\n+\n public class CourseOutlineActivity extends BaseSingleFragmentActivity {\n-    @InjectExtra(Router.EXTRA_BUNDLE)\n+    @InjectExtra(EXTRA_BUNDLE)\n     private Bundle courseBundle;\n \n-    @InjectExtra(value = Router.EXTRA_COURSE_COMPONENT_ID, optional = true)\n+    @InjectExtra(value = EXTRA_COURSE_COMPONENT_ID, optional = true)\n     private String courseComponentId = null;\n \n-    @InjectExtra(Router.EXTRA_IS_VIDEOS_MODE)\n+    @InjectExtra(EXTRA_IS_VIDEOS_MODE)\n     private boolean isVideoMode = false;\n \n+    public static Intent newIntent(Activity activity,\n+                             EnrolledCoursesResponse courseData,\n+                             CourseUpgradeResponse courseUpgradeData,\n+                             String courseComponentId, String lastAccessedId,\n+                             boolean isVideosMode) {\n+        Bundle courseBundle = new Bundle();\n+        courseBundle.putSerializable(EXTRA_COURSE_DATA, courseData);\n+        courseBundle.putParcelable(EXTRA_COURSE_UPGRADE_DATA, courseUpgradeData);\n+        courseBundle.putString(EXTRA_COURSE_COMPONENT_ID, courseComponentId);\n+\n+        final Intent intent = new Intent(activity, CourseOutlineActivity.class);\n+        intent.putExtra(EXTRA_BUNDLE, courseBundle);\n+        intent.putExtra(EXTRA_LAST_ACCESSED_ID, lastAccessedId);\n+        intent.putExtra(EXTRA_IS_VIDEOS_MODE, isVideosMode);\n+\n+        return intent;\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4OTI5NA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjU5ODM1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDoyODo1NVrOFlPIeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMjoyOTo1M1rOFlSVlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4OTU2MA==", "bodyText": "courseBundle should be final.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374589560", "createdAt": "2020-02-04T10:28:55Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -1,30 +1,60 @@\n package org.edx.mobile.view;\n \n+import android.app.Activity;\n+import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.app.Fragment;\n \n import org.edx.mobile.base.BaseSingleFragmentActivity;\n+import org.edx.mobile.event.CourseUpgradedEvent;\n+import org.edx.mobile.model.api.CourseUpgradeResponse;\n import org.edx.mobile.model.api.EnrolledCoursesResponse;\n import org.edx.mobile.module.analytics.Analytics;\n \n+import de.greenrobot.event.EventBus;\n import roboguice.inject.InjectExtra;\n \n+import static org.edx.mobile.view.Router.EXTRA_BUNDLE;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_COMPONENT_ID;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_UPGRADE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_IS_VIDEOS_MODE;\n+import static org.edx.mobile.view.Router.EXTRA_LAST_ACCESSED_ID;\n+\n public class CourseOutlineActivity extends BaseSingleFragmentActivity {\n-    @InjectExtra(Router.EXTRA_BUNDLE)\n+    @InjectExtra(EXTRA_BUNDLE)\n     private Bundle courseBundle;\n \n-    @InjectExtra(value = Router.EXTRA_COURSE_COMPONENT_ID, optional = true)\n+    @InjectExtra(value = EXTRA_COURSE_COMPONENT_ID, optional = true)\n     private String courseComponentId = null;\n \n-    @InjectExtra(Router.EXTRA_IS_VIDEOS_MODE)\n+    @InjectExtra(EXTRA_IS_VIDEOS_MODE)\n     private boolean isVideoMode = false;\n \n+    public static Intent newIntent(Activity activity,\n+                             EnrolledCoursesResponse courseData,\n+                             CourseUpgradeResponse courseUpgradeData,\n+                             String courseComponentId, String lastAccessedId,\n+                             boolean isVideosMode) {\n+        Bundle courseBundle = new Bundle();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY0MjA3MQ==", "bodyText": "done", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374642071", "createdAt": "2020-02-04T12:29:53Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -1,30 +1,60 @@\n package org.edx.mobile.view;\n \n+import android.app.Activity;\n+import android.content.Intent;\n import android.os.Bundle;\n import android.support.v4.app.Fragment;\n \n import org.edx.mobile.base.BaseSingleFragmentActivity;\n+import org.edx.mobile.event.CourseUpgradedEvent;\n+import org.edx.mobile.model.api.CourseUpgradeResponse;\n import org.edx.mobile.model.api.EnrolledCoursesResponse;\n import org.edx.mobile.module.analytics.Analytics;\n \n+import de.greenrobot.event.EventBus;\n import roboguice.inject.InjectExtra;\n \n+import static org.edx.mobile.view.Router.EXTRA_BUNDLE;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_COMPONENT_ID;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_COURSE_UPGRADE_DATA;\n+import static org.edx.mobile.view.Router.EXTRA_IS_VIDEOS_MODE;\n+import static org.edx.mobile.view.Router.EXTRA_LAST_ACCESSED_ID;\n+\n public class CourseOutlineActivity extends BaseSingleFragmentActivity {\n-    @InjectExtra(Router.EXTRA_BUNDLE)\n+    @InjectExtra(EXTRA_BUNDLE)\n     private Bundle courseBundle;\n \n-    @InjectExtra(value = Router.EXTRA_COURSE_COMPONENT_ID, optional = true)\n+    @InjectExtra(value = EXTRA_COURSE_COMPONENT_ID, optional = true)\n     private String courseComponentId = null;\n \n-    @InjectExtra(Router.EXTRA_IS_VIDEOS_MODE)\n+    @InjectExtra(EXTRA_IS_VIDEOS_MODE)\n     private boolean isVideoMode = false;\n \n+    public static Intent newIntent(Activity activity,\n+                             EnrolledCoursesResponse courseData,\n+                             CourseUpgradeResponse courseUpgradeData,\n+                             String courseComponentId, String lastAccessedId,\n+                             boolean isVideosMode) {\n+        Bundle courseBundle = new Bundle();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU4OTU2MA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjYwNDE1OnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDozMDo0N1rOFlPMIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzowMToyNlrOFlTM8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU5MDQ5Nw==", "bodyText": "IMO, first consume the event and then remove it.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374590497", "createdAt": "2020-02-04T10:30:47Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -39,4 +69,9 @@ public Fragment getFirstFragment() {\n         fragment.setArguments(getIntent().getExtras());\n         return fragment;\n     }\n+\n+    public void onEvent(CourseUpgradedEvent event) {\n+        EventBus.getDefault().removeStickyEvent(CourseUpgradedEvent.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY1NjI0Mg==", "bodyText": "as per discussion, code is equally good in this way", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374656242", "createdAt": "2020-02-04T13:01:26Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineActivity.java", "diffHunk": "@@ -39,4 +69,9 @@ public Fragment getFirstFragment() {\n         fragment.setArguments(getIntent().getExtras());\n         return fragment;\n     }\n+\n+    public void onEvent(CourseUpgradedEvent event) {\n+        EventBus.getDefault().removeStickyEvent(CourseUpgradedEvent.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU5MDQ5Nw=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjY3MDgxOnYy", "diffSide": "RIGHT", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMDo1MjoxMlrOFlP07A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzowMDozN1rOFlTLdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDYwMDk0MA==", "bodyText": "courseData can be removed, this is used only to get the courseId that we can get through courseUnit like the following statement\ncourseUnit.getRoot().getCourseId();\n\nps: please remove the passing of courseData from the paranet activities/fragment too, if not necessory.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374600940", "createdAt": "2020-02-04T10:52:12Z", "author": {"login": "farhan-arshad-dev"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "diffHunk": "@@ -69,9 +88,38 @@ public void onStop() {\n         if (getActivity() != null && authWebView.getWebView() != null) {\n             final String url = authWebView.getWebView().getUrl();\n             if (url != null && url.contains(\"checkout/receipt\")) {\n-                getActivity().finish();\n+                onCoursePaymentSuccessful();\n             }\n+        }\n+    }\n \n+    public void onCoursePaymentSuccessful() {\n+        // Finish activity\n+        final Activity activity = getActivity();\n+        if( activity != null) {\n+            activity.finish();\n+        }\n+\n+        final Bundle arguments = getArguments();\n+        if (arguments != null) {\n+            final EnrolledCoursesResponse courseData =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY1NTg2MQ==", "bodyText": "We need it when the user will be redirected from the Course Dashboard screen.", "url": "https://github.com/edx/edx-app-android/pull/1363#discussion_r374655861", "createdAt": "2020-02-04T13:00:37Z", "author": {"login": "farhan"}, "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUpgradeWebViewFragment.java", "diffHunk": "@@ -69,9 +88,38 @@ public void onStop() {\n         if (getActivity() != null && authWebView.getWebView() != null) {\n             final String url = authWebView.getWebView().getUrl();\n             if (url != null && url.contains(\"checkout/receipt\")) {\n-                getActivity().finish();\n+                onCoursePaymentSuccessful();\n             }\n+        }\n+    }\n \n+    public void onCoursePaymentSuccessful() {\n+        // Finish activity\n+        final Activity activity = getActivity();\n+        if( activity != null) {\n+            activity.finish();\n+        }\n+\n+        final Bundle arguments = getArguments();\n+        if (arguments != null) {\n+            final EnrolledCoursesResponse courseData =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDYwMDk0MA=="}, "originalCommit": {"oid": "395b5ab72403917ae45491412235f369abce3c48"}, "originalPosition": 75}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 634, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}