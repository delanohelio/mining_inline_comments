{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MzQyOTIy", "number": 2106, "title": "Run, debug JVM JavaScript with Graal.js as well as Nashorn", "bodyText": "The standard JDK's JavaScript engine Nashorn has already been deprecated for several years. Recently it has been removed from the JDK. Time to find more places where NetBeans functionality depends on Nashorn and make it more flexible.\nOne of the areas is support for executing and debugging standalone JavaScript files. Here is my pull request that enhances the options UI to allow one to switch between Nashorn and Graal.js (already present in NetBeans). My PR also makes sure that whenever Nashorn is missing Graal.js is selected to do the right job.\nThe PR registers Graal.js as a Java library (including its launcher). Then it modifies the run/debug actions to put that library on classpath - that's all necessary to make sure Graal.js runs on any JDK8+.", "createdAt": "2020-04-27T08:40:36Z", "url": "https://github.com/apache/netbeans/pull/2106", "merged": true, "mergeCommit": {"oid": "d1211736792d4076ce99c6c3f977f0d266deee7f"}, "closed": true, "closedAt": "2020-06-13T17:41:17Z", "author": {"login": "JaroslavTulach"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca-06GgH2gAyNDA5MzQyOTIyOjQxNDJiMGM2ZTQyMzNlZDA1NTAxNDE3NDliYWE1MTExZDQ2YThlOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciu8yOAFqTQxNDE1MzgxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4142b0c6e4233ed0550141749baa5111d46a8e8e", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/4142b0c6e4233ed0550141749baa5111d46a8e8e", "committedDate": "2020-04-25T05:00:01Z", "message": "Registering Graal.js as a Java library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0cf42f3d33abbf7f8a7b9c43e8ccbf5e0f9e25", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/aa0cf42f3d33abbf7f8a7b9c43e8ccbf5e0f9e25", "committedDate": "2020-04-25T05:08:33Z", "message": "Allow selection of execution via Graal.js or Nashorn"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1014e739c7214166d6954fccb83463b949549d64", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/1014e739c7214166d6954fccb83463b949549d64", "committedDate": "2020-04-25T05:09:03Z", "message": "run, debug actions shall be enabled even JavaC isn't present"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNzQ0OTE0", "url": "https://github.com/apache/netbeans/pull/2106#pullrequestreview-400744914", "createdAt": "2020-04-27T08:43:32Z", "commit": {"oid": "1014e739c7214166d6954fccb83463b949549d64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODo0MzozM1rOGMXv0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QwODo0MzozM1rOGMXv0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYyNTE3MQ==", "bodyText": "Without this change, @jlahoda, the Ant runner refused to perform run and debug actions. I am sure the check is here for a reason, but it is probably not correct to prevent run/debug just because we don't have nbjavac installed.", "url": "https://github.com/apache/netbeans/pull/2106#discussion_r415625171", "createdAt": "2020-04-27T08:43:33Z", "author": {"login": "JaroslavTulach"}, "path": "java/java.source.ant/src/org/netbeans/modules/java/source/ant/ProjectRunnerImpl.java", "diffHunk": "@@ -122,8 +122,7 @@\n     private static final RequestProcessor RP = new RequestProcessor(ProjectRunnerImpl.class);\n     \n     public boolean isSupported(String command, Map<String, ?> properties) {\n-        return BuildArtifactMapper.isCompileOnSaveSupported() &&\n-               locateScript(command) != null;\n+        return locateScript(command) != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1014e739c7214166d6954fccb83463b949549d64"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6c864fbc2a33c503b0fe7530f4f348aa2f5b12c", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/e6c864fbc2a33c503b0fe7530f4f348aa2f5b12c", "committedDate": "2020-04-28T08:16:40Z", "message": "Merge remote-tracking branch 'origin/master' into NashornGotRemovedIn15"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee12427a7d7a77342a82f8869f4d2a1022748b6a", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/ee12427a7d7a77342a82f8869f4d2a1022748b6a", "committedDate": "2020-04-30T03:40:04Z", "message": "Each library must have a display name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf5196cc6739b925b85d3d126df962eeda3dafb1", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/cf5196cc6739b925b85d3d126df962eeda3dafb1", "committedDate": "2020-05-13T09:12:53Z", "message": "Removing debug message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "957b12ff761fb926a2674d1e27b87af0ddd37aac", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/957b12ff761fb926a2674d1e27b87af0ddd37aac", "committedDate": "2020-05-13T09:13:31Z", "message": "Use javaPlatform boot classpath when searching for nashorn launcher"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MTUzODE0", "url": "https://github.com/apache/netbeans/pull/2106#pullrequestreview-414153814", "createdAt": "2020-05-19T07:01:32Z", "commit": {"oid": "957b12ff761fb926a2674d1e27b87af0ddd37aac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4948, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}