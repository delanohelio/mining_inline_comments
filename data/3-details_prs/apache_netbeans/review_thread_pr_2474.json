{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2ODMzMzgz", "number": 2474, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxNzowNVrOEv1WEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxODo1OVrOEv1ZlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTkyNTMwOnYy", "diffSide": "RIGHT", "path": "java/maven/src/org/netbeans/modules/maven/runjar/RunJarPrereqChecker.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxNzowNVrOHlCXkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNzozOTo1MVrOHleTSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODE2Mg==", "bodyText": "maybe add // NOI18N as these texts shall never be localized.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r508598162", "createdAt": "2020-10-20T15:17:05Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/src/org/netbeans/modules/maven/runjar/RunJarPrereqChecker.java", "diffHunk": "@@ -99,6 +105,58 @@\n         return true;\n     }\n \n+    private static String findMainClass(RunConfig config) {\n+        // Read main class from the manifest property:\n+        String mainClass = getConfiguration(config, \"maven-jar-plugin\", \"archive\", \"manifest\", \"mainClass\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA1NTgxOQ==", "bodyText": "Added.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r509055819", "createdAt": "2020-10-21T07:39:51Z", "author": {"login": "entlicher"}, "path": "java/maven/src/org/netbeans/modules/maven/runjar/RunJarPrereqChecker.java", "diffHunk": "@@ -99,6 +105,58 @@\n         return true;\n     }\n \n+    private static String findMainClass(RunConfig config) {\n+        // Read main class from the manifest property:\n+        String mainClass = getConfiguration(config, \"maven-jar-plugin\", \"archive\", \"manifest\", \"mainClass\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODE2Mg=="}, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NTkzNDI5OnYy", "diffSide": "RIGHT", "path": "java/maven/test/unit/src/org/netbeans/modules/maven/runjar/RunJarPrereqCheckerTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxOTowMFrOHlCdLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNzo0MDoyNVrOHleUxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5OTU5OA==", "bodyText": "Does this also work with a property? E.g.  <mainClass>${clazz}</mainClass> - I assume it does, but it would be good to verify that.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r508599598", "createdAt": "2020-10-20T15:19:00Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/test/unit/src/org/netbeans/modules/maven/runjar/RunJarPrereqCheckerTest.java", "diffHunk": "@@ -63,4 +69,103 @@ public void testWriteMapping() throws Exception {\n         assertEquals(1, mapping.getActions().size());\n     }\n \n+    public void testMainClassManifest() throws Exception {\n+        TestFileUtils.writeFile(d, \"pom.xml\",\n+                \"<project>\\n\" +\n+                \"    <modelVersion>4.0.0</modelVersion>\\n\" +\n+                \"    <groupId>testgrp</groupId>\\n\" +\n+                \"    <artifactId>testart</artifactId>\\n\" +\n+                \"    <version>1.0</version>\\n\" +\n+                \"    <build>\\n\" +\n+                \"        <plugins>\\n\" +\n+                \"            <plugin>\\n\" +\n+                \"                <groupId>org.apache.maven.plugins</groupId>\\n\" +\n+                \"                <artifactId>maven-jar-plugin</artifactId>\\n\" +\n+                \"                <configuration>\\n\" +\n+                \"                    <archive>\\n\" +\n+                \"                        <manifest>\\n\" +\n+                \"                            <mainClass>com.mycompany.Main2</mainClass>\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA1NjE5OA==", "bodyText": "Yes, it does. A test added.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r509056198", "createdAt": "2020-10-21T07:40:25Z", "author": {"login": "entlicher"}, "path": "java/maven/test/unit/src/org/netbeans/modules/maven/runjar/RunJarPrereqCheckerTest.java", "diffHunk": "@@ -63,4 +69,103 @@ public void testWriteMapping() throws Exception {\n         assertEquals(1, mapping.getActions().size());\n     }\n \n+    public void testMainClassManifest() throws Exception {\n+        TestFileUtils.writeFile(d, \"pom.xml\",\n+                \"<project>\\n\" +\n+                \"    <modelVersion>4.0.0</modelVersion>\\n\" +\n+                \"    <groupId>testgrp</groupId>\\n\" +\n+                \"    <artifactId>testart</artifactId>\\n\" +\n+                \"    <version>1.0</version>\\n\" +\n+                \"    <build>\\n\" +\n+                \"        <plugins>\\n\" +\n+                \"            <plugin>\\n\" +\n+                \"                <groupId>org.apache.maven.plugins</groupId>\\n\" +\n+                \"                <artifactId>maven-jar-plugin</artifactId>\\n\" +\n+                \"                <configuration>\\n\" +\n+                \"                    <archive>\\n\" +\n+                \"                        <manifest>\\n\" +\n+                \"                            <mainClass>com.mycompany.Main2</mainClass>\\n\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5OTU5OA=="}, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 328, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}