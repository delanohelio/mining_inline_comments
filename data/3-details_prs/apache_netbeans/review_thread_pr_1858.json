{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNDc4MDA1", "number": 1858, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxOToxNzozMlrODXV68A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxOToyMzozNVrODXV7ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODAyOTkyOnYy", "diffSide": "LEFT", "path": "platform/api.search/src/org/netbeans/modules/search/BasicSearchForm.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxOToxNzozMlrOFcmocw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQwNjowMjowNVrOFcoAEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzM5NQ==", "bodyText": "Not sure which separator this is. Does removing this make sense for other LAFs as well?", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365537395", "createdAt": "2020-01-11T19:17:32Z", "author": {"login": "eirikbakke"}, "path": "platform/api.search/src/org/netbeans/modules/search/BasicSearchForm.java", "diffHunk": "@@ -877,7 +876,6 @@ public void addSeparator() {\n             c.insets = new Insets(5, 5, 5, 5);\n             c.fill = GridBagConstraints.HORIZONTAL;\n             JSeparator separator = new JSeparator(JSeparator.HORIZONTAL);\n-            separator.setForeground(SystemColor.controlShadow);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0MzIzMw==", "bodyText": "This are the two horizontal separators in the \"Find in Projects\" dialog (see screenshots above). In Windows LAF there is no difference because default separator foreground is already controlShadow. Did not check other LAFs, but even if there is difference, this should be no problem. Its just a simple separator in a dialog. Default separator colors should work fine in dialogs.", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365543233", "createdAt": "2020-01-11T21:31:48Z", "author": {"login": "DevCharly"}, "path": "platform/api.search/src/org/netbeans/modules/search/BasicSearchForm.java", "diffHunk": "@@ -877,7 +876,6 @@ public void addSeparator() {\n             c.insets = new Insets(5, 5, 5, 5);\n             c.fill = GridBagConstraints.HORIZONTAL;\n             JSeparator separator = new JSeparator(JSeparator.HORIZONTAL);\n-            separator.setForeground(SystemColor.controlShadow);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzM5NQ=="}, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU1OTgyNg==", "bodyText": "Makes sense.", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365559826", "createdAt": "2020-01-12T06:02:05Z", "author": {"login": "eirikbakke"}, "path": "platform/api.search/src/org/netbeans/modules/search/BasicSearchForm.java", "diffHunk": "@@ -877,7 +876,6 @@ public void addSeparator() {\n             c.insets = new Insets(5, 5, 5, 5);\n             c.fill = GridBagConstraints.HORIZONTAL;\n             JSeparator separator = new JSeparator(JSeparator.HORIZONTAL);\n-            separator.setForeground(SystemColor.controlShadow);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzM5NQ=="}, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1ODAzMTcxOnYy", "diffSide": "RIGHT", "path": "platform/openide.explorer/src/org/openide/explorer/view/OutlineView.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMVQxOToyMzozNVrOFcmpbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMlQwNjowMjozOFrOFcoAIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzY0NQ==", "bodyText": "The diff is a bit confusing here. Is this just skipping a bunch of code for the FlatLaf case?\nWhy is the code not needed for FlatLaf? Shouldn't something rather be done so that focusSelectionBackground/focusSelectionForeground ends up being the right color?\n(If I remember correctly, there might very well be some bugs in OutlineView around this code; I implemented workarounds in my NetBeans Platform application many years ago. If the changes suggested here are really workarounds for bugs, then maybe the bugs should be fixed instead.)\nMaybe add a copy of the isFlatLaf() method for consistency with HtmlLabelUI. That will make it easier to grep for duplicated logic in the future.", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365537645", "createdAt": "2020-01-11T19:23:35Z", "author": {"login": "eirikbakke"}, "path": "platform/openide.explorer/src/org/openide/explorer/view/OutlineView.java", "diffHunk": "@@ -269,24 +269,28 @@ public void keyReleased(KeyEvent e) {\n             defaultTreeActionListener, KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, false), JComponent.WHEN_FOCUSED\n         );\n \n-        final Color focusSelectionBackground = outline.getSelectionBackground();\n-        final Color focusSelectionForeground = outline.getSelectionForeground();\n-        outline.addFocusListener(new java.awt.event.FocusListener(){\n-            @Override\n-            public void focusGained(java.awt.event.FocusEvent ev) {\n-                outline.setSelectionBackground(focusSelectionBackground);\n-                outline.setSelectionForeground(focusSelectionForeground);\n-            }\n+        // toggle selection colors depending on whether table is focused or not\n+        if (!UIManager.getLookAndFeel().getID().startsWith(\"FlatLaf\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU0NDE5Nw==", "bodyText": "GitHub diff is not that good. In SmartGit it looks like this:\n\n\nWhy is the code not needed for FlatLaf?\n\nBecause FlatLaf does this itself. With the NB code enabled it did not work anymore...\nBut in Windows LAF it works fine. Do not think that there is a problem in the NB code.", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365544197", "createdAt": "2020-01-11T21:57:59Z", "author": {"login": "DevCharly"}, "path": "platform/openide.explorer/src/org/openide/explorer/view/OutlineView.java", "diffHunk": "@@ -269,24 +269,28 @@ public void keyReleased(KeyEvent e) {\n             defaultTreeActionListener, KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, false), JComponent.WHEN_FOCUSED\n         );\n \n-        final Color focusSelectionBackground = outline.getSelectionBackground();\n-        final Color focusSelectionForeground = outline.getSelectionForeground();\n-        outline.addFocusListener(new java.awt.event.FocusListener(){\n-            @Override\n-            public void focusGained(java.awt.event.FocusEvent ev) {\n-                outline.setSelectionBackground(focusSelectionBackground);\n-                outline.setSelectionForeground(focusSelectionForeground);\n-            }\n+        // toggle selection colors depending on whether table is focused or not\n+        if (!UIManager.getLookAndFeel().getID().startsWith(\"FlatLaf\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzY0NQ=="}, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU1OTg0Mw==", "bodyText": "Because FlatLaf does this itself. With the NB code enabled it did not work anymore...\n\nThat would be a good comment to add in the code.", "url": "https://github.com/apache/netbeans/pull/1858#discussion_r365559843", "createdAt": "2020-01-12T06:02:38Z", "author": {"login": "eirikbakke"}, "path": "platform/openide.explorer/src/org/openide/explorer/view/OutlineView.java", "diffHunk": "@@ -269,24 +269,28 @@ public void keyReleased(KeyEvent e) {\n             defaultTreeActionListener, KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0, false), JComponent.WHEN_FOCUSED\n         );\n \n-        final Color focusSelectionBackground = outline.getSelectionBackground();\n-        final Color focusSelectionForeground = outline.getSelectionForeground();\n-        outline.addFocusListener(new java.awt.event.FocusListener(){\n-            @Override\n-            public void focusGained(java.awt.event.FocusEvent ev) {\n-                outline.setSelectionBackground(focusSelectionBackground);\n-                outline.setSelectionForeground(focusSelectionForeground);\n-            }\n+        // toggle selection colors depending on whether table is focused or not\n+        if (!UIManager.getLookAndFeel().getID().startsWith(\"FlatLaf\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTUzNzY0NQ=="}, "originalCommit": {"oid": "13c576030d7d7b1cdd2f7814ed30f0cb4673e893"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 707, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}