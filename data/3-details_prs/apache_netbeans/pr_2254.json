{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4ODQ2OTQ0", "number": 2254, "title": "[NETBEANS-4573] PHP CS Fixer doesn't work with a directory and a file", "bodyText": "https://issues.apache.org/jira/browse/NETBEANS-4573\nThe relative paths from the working directory are used in XML log if the working directory is set. So, set it as the root directory.", "createdAt": "2020-07-14T12:23:03Z", "url": "https://github.com/apache/netbeans/pull/2254", "merged": true, "mergeCommit": {"oid": "b4240355e44d61e7fe787f29c6c7bae39e19bcd9"}, "closed": true, "closedAt": "2020-07-15T11:28:50Z", "author": {"login": "junichi11"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0z-8LgH2gAyNDQ4ODQ2OTQ0OmQzNDkxODYyZDI4NTYyYzBiM2U5NWU3YmQ0ZjlhMDg4ZTE5NzA3MWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1Ez1FAFqTQ0ODY2ODM0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d3491862d28562c0b3e95e7bd4f9a088e197071c", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/d3491862d28562c0b3e95e7bd4f9a088e197071c", "committedDate": "2020-07-14T11:04:03Z", "message": "[NETBEANS-4573] PHP CS Fixer doesn't work with a directory and a file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjY3Njcw", "url": "https://github.com/apache/netbeans/pull/2254#pullrequestreview-448667670", "createdAt": "2020-07-15T06:39:02Z", "commit": {"oid": "d3491862d28562c0b3e95e7bd4f9a088e197071c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NjY4MzQy", "url": "https://github.com/apache/netbeans/pull/2254#pullrequestreview-448668342", "createdAt": "2020-07-15T06:40:17Z", "commit": {"oid": "d3491862d28562c0b3e95e7bd4f9a088e197071c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjo0MDoxN1rOGxwVrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjo0MDoxN1rOGxwVrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgyNTM4OA==", "bodyText": "Just to be sure - isn't a problem that before it was file but now it can be a directory?", "url": "https://github.com/apache/netbeans/pull/2254#discussion_r454825388", "createdAt": "2020-07-15T06:40:17Z", "author": {"login": "tmysik"}, "path": "php/php.code.analysis/src/org/netbeans/modules/php/analysis/commands/CodingStandardsFixer.java", "diffHunk": "@@ -172,15 +172,17 @@ public void startAnalyzeGroup() {\n     public List<Result> analyze(CodingStandardsFixerParams params, FileObject file) {\n         assert file.isValid() : \"Invalid file given: \" + file;\n         try {\n-            \n-            Integer result = getExecutable(Bundle.CodingStandardsFixer_analyze(analyzeGroupCounter++), findWorkDir(file))\n+            File workDir = findWorkDir(file);\n+            Integer result = getExecutable(Bundle.CodingStandardsFixer_analyze(analyzeGroupCounter++), workDir)\n                     .additionalParameters(getParameters(params, file))\n                     .runAndWait(getDescriptor(), \"Running coding standards fixer...\"); // NOI18N\n             if (result == null) {\n                 return null;\n             }\n-\n-            return CodingStandardsFixerReportParser.parse(XML_LOG, file);\n+            // if the project for the file is not found(i.e. if the workDir is not found),\n+            // the results are not shown in the inspector window\n+            FileObject root = workDir != null ? FileUtil.toFileObject(workDir) : file;\n+            return CodingStandardsFixerReportParser.parse(XML_LOG, root);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3491862d28562c0b3e95e7bd4f9a088e197071c"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4893, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}