{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NzAwODY1", "number": 2491, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxOTo1NTo1NlrOFHmwMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowNTo1MFrOFMv8dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNTE5MjgyOnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/ui/customizer/EjbJarProjectProperties.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxOTo1NTo1NlrOIJHWfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQyMzoyODozN1rOIYN6hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQyODU0Mg==", "bodyText": "This looks strange - EE6 -> source level 1.6 and EE5 -> source level 1.7?", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r546428542", "createdAt": "2020-12-20T19:55:56Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/ui/customizer/EjbJarProjectProperties.java", "diffHunk": "@@ -323,11 +323,16 @@ private void init() {\n         PLATFORM_LIST_RENDERER = PlatformUiSupport.createPlatformListCellRenderer();\n         SpecificationVersion minimalSourceLevel = null;\n         Profile profile = Profile.fromPropertiesString(evaluator.getProperty(J2EE_PLATFORM));\n-        if (Profile.JAVA_EE_6_FULL.equals(profile)) {\n+        LOGGER.log(Level.INFO, \"init(326) profile: {0}\", profile);\n+        if (Profile.JAKARTA_EE_8_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.8\");\n+        } else if (Profile.JAVA_EE_8_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.8\");\n+        } else if (Profile.JAVA_EE_7_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.7\");\n+        } else if (Profile.JAVA_EE_6_FULL.equals(profile)) {\n             minimalSourceLevel = new SpecificationVersion(\"1.6\");\n         } else if (Profile.JAVA_EE_5.equals(profile)) {\n-            minimalSourceLevel = new SpecificationVersion(\"1.5\");\n-        } else if (Profile.JAVA_EE_7_FULL.equals(profile)) {\n             minimalSourceLevel = new SpecificationVersion(\"1.7\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83fced288f153e3f52ccfdfacf47a1186bbbe66"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI2NDcwOQ==", "bodyText": "Fixed, thank you.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562264709", "createdAt": "2021-01-21T23:28:37Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/ui/customizer/EjbJarProjectProperties.java", "diffHunk": "@@ -323,11 +323,16 @@ private void init() {\n         PLATFORM_LIST_RENDERER = PlatformUiSupport.createPlatformListCellRenderer();\n         SpecificationVersion minimalSourceLevel = null;\n         Profile profile = Profile.fromPropertiesString(evaluator.getProperty(J2EE_PLATFORM));\n-        if (Profile.JAVA_EE_6_FULL.equals(profile)) {\n+        LOGGER.log(Level.INFO, \"init(326) profile: {0}\", profile);\n+        if (Profile.JAKARTA_EE_8_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.8\");\n+        } else if (Profile.JAVA_EE_8_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.8\");\n+        } else if (Profile.JAVA_EE_7_FULL.equals(profile)) {\n+            minimalSourceLevel = new SpecificationVersion(\"1.7\");\n+        } else if (Profile.JAVA_EE_6_FULL.equals(profile)) {\n             minimalSourceLevel = new SpecificationVersion(\"1.6\");\n         } else if (Profile.JAVA_EE_5.equals(profile)) {\n-            minimalSourceLevel = new SpecificationVersion(\"1.5\");\n-        } else if (Profile.JAVA_EE_7_FULL.equals(profile)) {\n             minimalSourceLevel = new SpecificationVersion(\"1.7\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQyODU0Mg=="}, "originalCommit": {"oid": "a83fced288f153e3f52ccfdfacf47a1186bbbe66"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEwOTk2OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo0MjoyMlrOIQoJOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMlQwMDo1OToyOFrOIYQE0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNTg1MQ==", "bodyText": "I read this as the target source level. If NetBeans runs on 8, it gets even worse. The description implies, that a build project should be compatible with Java 1.6, when generated for a JavaEE 6 client profile, this is ensures by the original code, you move all projects to 8.\nIn the area where JavaEE is at home (large companies) I can imaginge setups where indeed Java 1.6 ist the latest installed version.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554305851", "createdAt": "2021-01-09T07:42:22Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "diffHunk": "@@ -544,9 +563,7 @@ private static AntProjectHelper setupProject(FileObject dirFO, String name,\n         String sourceLevel = v.toString();\n         // #89131: these levels are not actually distinct from 1.5.\n         // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-        if (sourceLevel.equals(\"1.7\")) {\n-            sourceLevel = \"1.6\";\n-        }\n+        // #181215: Not neccessary anymore because NetBeans should run on minimum JDK 8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 162}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjMwMDExNA==", "bodyText": "After a more detailed testing to these validations, the methods were these validations reside are called every time independently of the selected profile. The sourceLevel variable is equal to the Java version that NetBeans is running.\n\nJavaPlatform defaultPlatform = JavaPlatformManager.getDefault().getDefaultPlatform();\nSpecificationVersion v = defaultPlatform.getSpecification().getVersion();\nString sourceLevel = v.toString();\n\nIn a new commit I added some missing validation that sets the correct target source level.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562300114", "createdAt": "2021-01-22T00:59:28Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "diffHunk": "@@ -544,9 +563,7 @@ private static AntProjectHelper setupProject(FileObject dirFO, String name,\n         String sourceLevel = v.toString();\n         // #89131: these levels are not actually distinct from 1.5.\n         // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-        if (sourceLevel.equals(\"1.7\")) {\n-            sourceLevel = \"1.6\";\n-        }\n+        // #181215: Not neccessary anymore because NetBeans should run on minimum JDK 8", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNTg1MQ=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 162}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTExMTI2OnYy", "diffSide": "LEFT", "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo0Mzo1NFrOIQoJyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo0Mzo1NFrOIQoJyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNTk5NA==", "bodyText": "See comment above - probably same situation.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554305994", "createdAt": "2021-01-09T07:43:54Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "diffHunk": "@@ -747,13 +770,10 @@ public void run() {\n                                 if (finalPlatformName == null) {\n                                     finalPlatformName = PreferredProjectPlatform.getPreferredPlatform(JavaPlatform.getDefault().getSpecification().getName()).getDisplayName();\n                                 }\n-\n                                 // #89131: these levels are not actually distinct from 1.5.\n                                 // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n+                                // #181215: Not neccessary anymore because NetBeans should run on minimum JDK 8\n                                 String srcLevel = sourceLevel;\n-                                if (sourceLevel.equals(\"1.7\")) {\n-                                    srcLevel = \"1.6\";\n-                                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 248}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTExMjQ1OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo0NTozNFrOIQoKUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQyMzoyOTowMFrOIYN7Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNjEyOA==", "bodyText": "I would move the PrintWriter also into the resource block of the try-with-resource construct. I don't see a reason to special case it here.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554306128", "createdAt": "2021-01-09T07:45:34Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "diffHunk": "@@ -780,15 +800,15 @@ private static void createManifest(FileObject dir, String path) throws IOExcepti\n             FileObject manifest = FileUtil.createData(dir, path);\n             FileLock lock = manifest.lock();\n             try {\n-                OutputStream os = manifest.getOutputStream(lock);\n-                try {\n-                    PrintWriter pw = new PrintWriter(os);\n+                PrintWriter pw = null;\n+                try (OutputStream os = manifest.getOutputStream(lock)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 260}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI2NDg0Mg==", "bodyText": "Fixed, thank you.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562264842", "createdAt": "2021-01-21T23:29:00Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.clientproject/src/org/netbeans/modules/j2ee/clientproject/api/AppClientProjectGenerator.java", "diffHunk": "@@ -780,15 +800,15 @@ private static void createManifest(FileObject dir, String path) throws IOExcepti\n             FileObject manifest = FileUtil.createData(dir, path);\n             FileLock lock = manifest.lock();\n             try {\n-                OutputStream os = manifest.getOutputStream(lock);\n-                try {\n-                    PrintWriter pw = new PrintWriter(os);\n+                PrintWriter pw = null;\n+                try (OutputStream os = manifest.getOutputStream(lock)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNjEyOA=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 260}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTExNjQ3OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.common/src/org/netbeans/modules/j2ee/common/dd/DDHelper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo1MDoyM1rOIQoMFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQyMzozMDozMFrOIYN9Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNjU4Mw==", "bodyText": "Should this really be logged on INFO level?", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554306583", "createdAt": "2021-01-09T07:50:23Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.common/src/org/netbeans/modules/j2ee/common/dd/DDHelper.java", "diffHunk": "@@ -81,10 +83,9 @@ public static FileObject createWebXml(Profile j2eeProfile, boolean webXmlRequire\n         } else if (Profile.J2EE_13 == j2eeProfile) {\n             template = \"web-2.3.xml\"; //NOI18N\n         }\n-\n         if (template == null)\n             return null;\n-\n+        Logger.getLogger(DDHelper.class.getName()).log(Level.INFO, \"template: {0}\", template);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI2NTQzOQ==", "bodyText": "I will remove all added logging, this is just for testing purposes.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562265439", "createdAt": "2021-01-21T23:30:30Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.common/src/org/netbeans/modules/j2ee/common/dd/DDHelper.java", "diffHunk": "@@ -81,10 +83,9 @@ public static FileObject createWebXml(Profile j2eeProfile, boolean webXmlRequire\n         } else if (Profile.J2EE_13 == j2eeProfile) {\n             template = \"web-2.3.xml\"; //NOI18N\n         }\n-\n         if (template == null)\n             return null;\n-\n+        Logger.getLogger(DDHelper.class.getName()).log(Level.INFO, \"template: {0}\", template);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNjU4Mw=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyMTE4OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/api/EjbJarProjectGenerator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo1Njo0N1rOIQoOSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo1Njo0N1rOIQoOSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzE0NQ==", "bodyText": "See comments about this above.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307145", "createdAt": "2021-01-09T07:56:47Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/api/EjbJarProjectGenerator.java", "diffHunk": "@@ -489,9 +503,7 @@ private static AntProjectHelper setupProject(FileObject dirFO, String name,\n         SpecificationVersion v = defaultPlatform.getSpecification().getVersion();\n         String sourceLevel = v.toString();\n         // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-        if (sourceLevel.equals(\"1.7\")) {\n-            sourceLevel = \"1.6\";\n-        }\n+        // #181215: Not neccessary anymore because NetBeans should run on minimum JDK 8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyMTk5OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/api/EjbJarProjectGenerator.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwNzo1ODowNlrOIQoOpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQyMzo0MzowN1rOIYOP2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzIzNw==", "bodyText": "Please add curly braces. In this case it costs one additional line and makes it IMHO clearer what goes on.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307237", "createdAt": "2021-01-09T07:58:06Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/api/EjbJarProjectGenerator.java", "diffHunk": "@@ -174,16 +176,26 @@ public Void run() throws Exception {\n             Exceptions.printStackTrace(ex.getException());\n         }\n         \n-        // create ejb-jar.xml\n+        // Create ejb-jar.xml just for J2EE (1.3 and 1.4)\n         Profile profile = createData.getJavaEEProfile();\n-        if (!Profile.JAVA_EE_5.equals(profile) && !Profile.JAVA_EE_6_FULL.equals(profile) && !Profile.JAVA_EE_6_WEB.equals(profile) &&\n-                !Profile.JAVA_EE_7_FULL.equals(profile) && !Profile.JAVA_EE_7_WEB.equals(profile)) {\n-            String resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.1.xml\";\n+        boolean isJ2EE = false;\n+\n+        if(profile.equals(Profile.J2EE_14) || profile.equals(Profile.J2EE_13)) {\n+            isJ2EE = true;\n+        }\n+        if(isJ2EE) {\n+            String resource;\n+            if(profile.equals(Profile.J2EE_14))\n+                resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.1.xml\";\n+            else\n+                resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.0.xml\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI3MDE3MQ==", "bodyText": "Done", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562270171", "createdAt": "2021-01-21T23:43:07Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.ejbjarproject/src/org/netbeans/modules/j2ee/ejbjarproject/api/EjbJarProjectGenerator.java", "diffHunk": "@@ -174,16 +176,26 @@ public Void run() throws Exception {\n             Exceptions.printStackTrace(ex.getException());\n         }\n         \n-        // create ejb-jar.xml\n+        // Create ejb-jar.xml just for J2EE (1.3 and 1.4)\n         Profile profile = createData.getJavaEEProfile();\n-        if (!Profile.JAVA_EE_5.equals(profile) && !Profile.JAVA_EE_6_FULL.equals(profile) && !Profile.JAVA_EE_6_WEB.equals(profile) &&\n-                !Profile.JAVA_EE_7_FULL.equals(profile) && !Profile.JAVA_EE_7_WEB.equals(profile)) {\n-            String resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.1.xml\";\n+        boolean isJ2EE = false;\n+\n+        if(profile.equals(Profile.J2EE_14) || profile.equals(Profile.J2EE_13)) {\n+            isJ2EE = true;\n+        }\n+        if(isJ2EE) {\n+            String resource;\n+            if(profile.equals(Profile.J2EE_14))\n+                resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.1.xml\";\n+            else\n+                resource = \"org-netbeans-modules-j2ee-ejbjarproject/ejb-jar-2.0.xml\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzIzNw=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyMzU2OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/ProjectEar.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMDoxMlrOIQoPUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMlQxNzowMjoxMFrOIYs4Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzQxMQ==", "bodyText": "The parameter is not necessary. If an exception is present, it will be logged with message, no need to for the placeholder.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307411", "createdAt": "2021-01-09T08:00:12Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/ProjectEar.java", "diffHunk": "@@ -885,7 +924,7 @@ public void artifactsUpdated(Iterable<Artifact> artifacts) {\n                     try {\n                         FileUtil.createData(destFile);\n                     } catch (IOException ex) {\n-                        LOGGER.log(Level.INFO, \"Could not prepare data file\", ex);\n+                        LOGGER.log(Level.INFO, \"Could not prepare data file {0}\", ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 292}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2Mjc3MjA2Ng==", "bodyText": "Fixed it. Thanks.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562772066", "createdAt": "2021-01-22T17:02:10Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/ProjectEar.java", "diffHunk": "@@ -885,7 +924,7 @@ public void artifactsUpdated(Iterable<Artifact> artifacts) {\n                     try {\n                         FileUtil.createData(destFile);\n                     } catch (IOException ex) {\n-                        LOGGER.log(Level.INFO, \"Could not prepare data file\", ex);\n+                        LOGGER.log(Level.INFO, \"Could not prepare data file {0}\", ex);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzQxMQ=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 292}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyNDMyOnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMToyMVrOIQoPrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMToyMVrOIQoPrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzUwMA==", "bodyText": "See my other comments about this.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307500", "createdAt": "2021-01-09T08:01:21Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "diffHunk": "@@ -600,16 +599,17 @@ public static void setPlatformSourceLevel(final AntProjectHelper helper, final S\n         }\n         try {\n             projectDir.getFileSystem().runAtomicAction(new AtomicAction() {\n+                @Override\n                 public void run() throws IOException {\n                     ProjectManager.mutex().writeAccess(new Runnable() {\n+                        @Override\n                         public void run() {\n                             try {\n                                 EditableProperties ep = helper.getProperties(AntProjectHelper.PROJECT_PROPERTIES_PATH);\n                                 // #89131: these levels are not actually distinct from 1.5.\n                                 String srcLevel = sourceLevel;\n                                 // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-                                if (sourceLevel.equals(\"1.7\"))\n-                                    srcLevel = \"1.6\";\n+                                // #181215: Not neccessary anymore because NetBeans should run on minimum JDK 8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyNDkzOnYy", "diffSide": "LEFT", "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMjoyMlrOIQoP_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMjoyMlrOIQoP_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzU4MQ==", "bodyText": "This is several places - I saw a source level defined in one of the classes touched by this PR, why is that not used?", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307581", "createdAt": "2021-01-09T08:02:22Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "diffHunk": "@@ -543,8 +543,7 @@ private AntProjectHelper setupProject() throws IOException {\n             srcLevel = v.toString();\n             // #89131: these levels are not actually distinct from 1.5.\n             // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-            if (srcLevel.equals(\"1.7\"))\n-                srcLevel = \"1.6\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyNTA5OnYy", "diffSide": "LEFT", "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMjozN1rOIQoQEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowMjozN1rOIQoQEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzYwMg==", "bodyText": "And source level again.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307602", "createdAt": "2021-01-09T08:02:37Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.earproject/src/org/netbeans/modules/j2ee/earproject/EarProjectGenerator.java", "diffHunk": "@@ -111,8 +109,7 @@ private EarProjectGenerator(File prjDir, FileObject prjDirFO, String name, Profi\n         this.j2eeProfile = j2eeProfile;\n         this.serverInstanceID = serverInstanceID;\n         // #181215: JDK 6 should be the default source/binary format for Java EE 6 projects\n-        if (sourceLevel != null && (sourceLevel.equals(\"1.7\")))\n-            sourceLevel = \"1.6\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4OTEyNzU4OnYy", "diffSide": "RIGHT", "path": "enterprise/j2ee.dd/src/org/netbeans/modules/j2ee/dd/api/common/RootInterface.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOVQwODowNTo1MFrOIQoRLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQyMzo0MzozMFrOIYOQVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzg4Nw==", "bodyText": "I think this should have been a delete - the word \"bean\" and the word \"root\" in the first position of the documentation are superfluous.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r554307887", "createdAt": "2021-01-09T08:05:50Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/j2ee.dd/src/org/netbeans/modules/j2ee/dd/api/common/RootInterface.java", "diffHunk": "@@ -69,7 +70,7 @@\n      *\t\tMERGE_UNION is \tG1 U G2 <=> G1 + E2\n      *\t\tMERGE_INTERSECT is\tG1 n G2 <=> (G1 U G2) - E1 - E2\n      *</pre>\n-     * @param bean root of the bean graph that is merged with actual bean graph\n+     * @param root root of the bean graph that is merged with actual bean graph", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI3MDI5Mw==", "bodyText": "Done.", "url": "https://github.com/apache/netbeans/pull/2491#discussion_r562270293", "createdAt": "2021-01-21T23:43:30Z", "author": {"login": "pepness"}, "path": "enterprise/j2ee.dd/src/org/netbeans/modules/j2ee/dd/api/common/RootInterface.java", "diffHunk": "@@ -69,7 +70,7 @@\n      *\t\tMERGE_UNION is \tG1 U G2 <=> G1 + E2\n      *\t\tMERGE_INTERSECT is\tG1 n G2 <=> (G1 U G2) - E1 - E2\n      *</pre>\n-     * @param bean root of the bean graph that is merged with actual bean graph\n+     * @param root root of the bean graph that is merged with actual bean graph", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDMwNzg4Nw=="}, "originalCommit": {"oid": "a2c1ccf237e8a9ffc71e07b63e32913a330ce224"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 345, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}