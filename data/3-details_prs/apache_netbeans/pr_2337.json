{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NzE5ODc3", "number": 2337, "title": "Using modern Java coding style when developing NetBeans", "bodyText": "A method of using modern Java code concepts while retaining compatibility with JDK 1.8 has recently come to our attention. There has been numerous requests to drop support for running NetBeans on JDK 1.8, but there have always been objections to do so. This PR tries to balance such objections with the need of NetBeans codebase to get the best of modern Java.\nFirst of all there is a small enhancement to the build system. If the in nbproject/project.properties specified javac.source is higher than javac.target, then the backporting compiler is triggered to handle the compilation. That allows one to use modern concepts like var and still produce JDK 1.8 compatible bytecode - this feature has been used in maven.htmlui module to demonstrate that the compiler works as expected. The biggest benefit has however been observed on api.html module - by replacing string concatenation with text blocks, the readability improved a lot.\nWe believe this PR helps to find balance between those who want to write modern code and those who need to execute it on older JVMs. We'd like to use the backporting compiler in the modules we maintain. Once this PR is in, others may opt-in and use this feature by setting javac.source=14 and javac.target=1.8 in appropriate module configuration files.", "createdAt": "2020-09-02T10:20:33Z", "url": "https://github.com/apache/netbeans/pull/2337", "merged": true, "mergeCommit": {"oid": "814184b7077c77216e70e05685973687a5f817be"}, "closed": true, "closedAt": "2020-09-14T01:50:40Z", "author": {"login": "dukescript"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEnNKAAH2gAyNDc3NzE5ODc3OmI1M2UyY2YyMWE0MjE3NzNjMmFiZWU1MWVmZmFlYWZiZmE3YjUyN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdILqFQgH2gAyNDc3NzE5ODc3OjFjYzBiOGNmMGE4YmFmOWI3YzJiNTA2NzVmMGJkYTYzZDBmNjQ5ZWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b53e2cf21a421773c2abee51effaeafbfa7b527b", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/b53e2cf21a421773c2abee51effaeafbfa7b527b", "committedDate": "2020-09-01T13:13:36Z", "message": "Use backporting compiler when target is lower than source"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6066163168eb0e76a5d2f0f40897b1b8f87d52ab", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/6066163168eb0e76a5d2f0f40897b1b8f87d52ab", "committedDate": "2020-09-01T13:13:43Z", "message": "Use modern coding style in maven.htmlui module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "938b7d26695511809f1ebae00a4cf6763edcc357", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/938b7d26695511809f1ebae00a4cf6763edcc357", "committedDate": "2020-09-01T13:13:44Z", "message": "Add --enable-safe-preview to allow usage of text blocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba7cf3353bf2a97e2ee3a3b2230aeb204d3c15d4", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/ba7cf3353bf2a97e2ee3a3b2230aeb204d3c15d4", "committedDate": "2020-09-11T18:45:14Z", "message": "Use Lookup to find implementation of proper NbApplicationAdapter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31a7eb92e3a850a9edfce635cfcd79d0dfdd1f7b", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/31a7eb92e3a850a9edfce635cfcd79d0dfdd1f7b", "committedDate": "2020-09-11T19:10:47Z", "message": "Replacing applemenu*.zip library with proper dependency on JDK-9 APIs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4311d608b8abcacd719f0a804afc3c627932a959", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/4311d608b8abcacd719f0a804afc3c627932a959", "committedDate": "2020-09-11T18:46:57Z", "message": "Replacing applemenu-external-desktop-classes-8.2.zip library with proper dependency on JDK-9 APIs"}, "afterCommit": {"oid": "31a7eb92e3a850a9edfce635cfcd79d0dfdd1f7b", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/31a7eb92e3a850a9edfce635cfcd79d0dfdd1f7b", "committedDate": "2020-09-11T19:10:47Z", "message": "Replacing applemenu*.zip library with proper dependency on JDK-9 APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "252290704512b8e8992f78c5d13af8aacf632cce", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/252290704512b8e8992f78c5d13af8aacf632cce", "committedDate": "2020-09-12T07:31:08Z", "message": "Editing, compiling and testing of api.htmlui works"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjE2NTM3", "url": "https://github.com/apache/netbeans/pull/2337#pullrequestreview-487216537", "createdAt": "2020-09-12T09:00:39Z", "commit": {"oid": "252290704512b8e8992f78c5d13af8aacf632cce"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwOTowMDozOVrOHQzzPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwOTowMDozOVrOHQzzPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM4Nzk2NQ==", "bodyText": "This is an API change and as such it should be documented with arch.xml, apichanges.xml and addition of this module to list of Javadocs.\nOr turn this into friend-packages. I don't like usage of friend packages much but in this case, it is probably fine as nobody is likely to provide other implementation anyway.", "url": "https://github.com/apache/netbeans/pull/2337#discussion_r487387965", "createdAt": "2020-09-12T09:00:39Z", "author": {"login": "JaroslavTulach"}, "path": "platform/applemenu/nbproject/project.xml", "diffHunk": "@@ -104,7 +104,9 @@\n                     </run-dependency>\n                 </dependency>\n             </module-dependencies>\n-            <public-packages/>\n+            <public-packages>\n+                <package>org.netbeans.modules.applemenu.spi</package>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "252290704512b8e8992f78c5d13af8aacf632cce"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cc0b8cf0a8baf9b7c2b50675f0bda63d0f649eb", "author": {"user": {"login": "dukescript", "name": "Duke Script"}}, "url": "https://github.com/apache/netbeans/commit/1cc0b8cf0a8baf9b7c2b50675f0bda63d0f649eb", "committedDate": "2020-09-12T15:23:33Z", "message": "Exporting the API only to applemenu.jdk9"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4021, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}