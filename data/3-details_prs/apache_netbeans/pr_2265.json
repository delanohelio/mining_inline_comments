{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNTEyNzgz", "number": 2265, "title": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part ", "bodyText": "https://issues.apache.org/jira/browse/NETBEANS-4443\n\nhttps://wiki.php.net/rfc/non-capturing_catches\nFix the ASTPHP5Parser.cup\nAdd the PHP80UnhandledError class\nAdd unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features", "createdAt": "2020-07-19T11:34:07Z", "url": "https://github.com/apache/netbeans/pull/2265", "merged": true, "mergeCommit": {"oid": "5d88f2a20c9effcf935d6e6662ee9ace41f33297"}, "closed": true, "closedAt": "2020-07-22T19:04:46Z", "author": {"login": "junichi11"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2bmgGgBqjM1NjI0Njc1MDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3ZZPngBqjM1NzU0MDA0NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fe35b3c4663b4a37aa7c8c3714b585b86f82388", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/3fe35b3c4663b4a37aa7c8c3714b585b86f82388", "committedDate": "2020-07-18T12:45:21Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}, "afterCommit": {"oid": "57c451082922c60efa2885a9e222eac11ff18386", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/57c451082922c60efa2885a9e222eac11ff18386", "committedDate": "2020-07-19T11:46:57Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTI1MjE3", "url": "https://github.com/apache/netbeans/pull/2265#pullrequestreview-451125217", "createdAt": "2020-07-19T11:58:57Z", "commit": {"oid": "57c451082922c60efa2885a9e222eac11ff18386"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMTo1ODo1N1rOGzu9LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMTo1ODo1N1rOGzu9LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg5OTg4NQ==", "bodyText": "This is the scheduled date: https://wiki.php.net/todo/php80", "url": "https://github.com/apache/netbeans/pull/2265#discussion_r456899885", "createdAt": "2020-07-19T11:58:57Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/PhpVersion.java", "diffHunk": "@@ -218,6 +224,7 @@ public String toString() {\n         PHP_72(LocalDate.of(2017, 11, 30), LocalDate.of(2019, 11, 30), LocalDate.of(2020, 11, 30)),\n         PHP_73(LocalDate.of(2018, 12, 6), LocalDate.of(2020, 12, 6), LocalDate.of(2021, 12, 6)),\n         PHP_74(LocalDate.of(2019, 11, 28), LocalDate.of(2021, 11, 28), LocalDate.of(2022, 11, 28)),\n+        PHP_80(LocalDate.of(2020, 11, 26), LocalDate.of(2022, 11, 26), LocalDate.of(2023, 11, 26)),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c451082922c60efa2885a9e222eac11ff18386"}, "originalPosition": 28}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57c451082922c60efa2885a9e222eac11ff18386", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/57c451082922c60efa2885a9e222eac11ff18386", "committedDate": "2020-07-19T11:46:57Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}, "afterCommit": {"oid": "7a04b467812c7832cb93f3cf828a9768782dcc79", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/7a04b467812c7832cb93f3cf828a9768782dcc79", "committedDate": "2020-07-19T12:23:53Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTI3MTI3", "url": "https://github.com/apache/netbeans/pull/2265#pullrequestreview-451127127", "createdAt": "2020-07-19T12:26:08Z", "commit": {"oid": "7a04b467812c7832cb93f3cf828a9768782dcc79"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMjoyNjowOFrOGzvH0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQxMjoyNjowOFrOGzvH0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkwMjYxMA==", "bodyText": "I didn't increment the spec version because I would like to avoid conflicting. Probably, the version is 2.74(2.72 + 2) when the merge window is opened. So, I fixed only @since.\ncurrent spec version:\n\n  \n    \n      netbeans/php/php.api.phpmodule/manifest.mf\n    \n    \n         Line 4\n      in\n      eb15c28\n    \n    \n    \n    \n\n        \n          \n           OpenIDE-Module-Specification-Version: 2.72", "url": "https://github.com/apache/netbeans/pull/2265#discussion_r456902610", "createdAt": "2020-07-19T12:26:08Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/PhpVersion.java", "diffHunk": "@@ -84,7 +85,12 @@\n      * PHP 7.4.\n      * @since 2.65\n      */\n-    PHP_74(Bundle.PhpVersion_PHP_74());\n+    PHP_74(Bundle.PhpVersion_PHP_74()),\n+    /**\n+     * PHP 8.0.\n+     * @since 2.74\n+     */\n+    PHP_80(Bundle.PhpVersion_PHP_80());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a04b467812c7832cb93f3cf828a9768782dcc79"}, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a04b467812c7832cb93f3cf828a9768782dcc79", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/7a04b467812c7832cb93f3cf828a9768782dcc79", "committedDate": "2020-07-19T12:23:53Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}, "afterCommit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/63a46a1b8bc87584f63a0d719b73013e8a583887", "committedDate": "2020-07-20T21:29:47Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjA3OTgz", "url": "https://github.com/apache/netbeans/pull/2265#pullrequestreview-453207983", "createdAt": "2020-07-22T10:54:59Z", "commit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMDo1NDo1OVrOG1dRwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMDo1NDo1OVrOG1dRwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcwNzM5Mg==", "bodyText": "Cannot the trailing comma be added? That would make the diffs much cleaner (next time).", "url": "https://github.com/apache/netbeans/pull/2265#discussion_r458707392", "createdAt": "2020-07-22T10:54:59Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/PhpVersion.java", "diffHunk": "@@ -35,7 +35,8 @@\n     \"PhpVersion.PHP_71=PHP 7.1\",\n     \"PhpVersion.PHP_72=PHP 7.2\",\n     \"PhpVersion.PHP_73=PHP 7.3\",\n-    \"PhpVersion.PHP_74=PHP 7.4\"\n+    \"PhpVersion.PHP_74=PHP 7.4\",\n+    \"PhpVersion.PHP_80=PHP 8.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjA4Nzg3", "url": "https://github.com/apache/netbeans/pull/2265#pullrequestreview-453208787", "createdAt": "2020-07-22T10:56:12Z", "commit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMDo1NjoxMlrOG1dUKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMDo1NjoxMlrOG1dUKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODcwODAxMA==", "bodyText": "Not needed, null is not instanceof, ever.", "url": "https://github.com/apache/netbeans/pull/2265#discussion_r458708010", "createdAt": "2020-07-22T10:56:12Z", "author": {"login": "tmysik"}, "path": "php/php.editor/src/org/netbeans/modules/php/editor/model/impl/ModelVisitor.java", "diffHunk": "@@ -1117,7 +1117,7 @@ public void visit(CatchClause node) {\n         Variable variable = node.getVariable();\n         Scope scope = modelBuilder.getCurrentScope();\n         List<Expression> classNames = node.getClassNames();\n-        if (scope instanceof VariableNameFactory) {\n+        if (variable != null && scope instanceof VariableNameFactory) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjEyNzQw", "url": "https://github.com/apache/netbeans/pull/2265#pullrequestreview-453212740", "createdAt": "2020-07-22T11:02:31Z", "commit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "646a308549dc056d9c1788b3ae9b506a8d962cee", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/646a308549dc056d9c1788b3ae9b506a8d962cee", "committedDate": "2020-07-22T11:45:48Z", "message": "Add PHP 8.0 to the `PhpVersion`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31c86e7ab8e9dc3a904b71df620023a7f86ac790", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/31c86e7ab8e9dc3a904b71df620023a7f86ac790", "committedDate": "2020-07-22T11:46:02Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63a46a1b8bc87584f63a0d719b73013e8a583887", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/63a46a1b8bc87584f63a0d719b73013e8a583887", "committedDate": "2020-07-20T21:29:47Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}, "afterCommit": {"oid": "31c86e7ab8e9dc3a904b71df620023a7f86ac790", "author": {"user": {"login": "junichi11", "name": "Junichi Yamamoto"}}, "url": "https://github.com/apache/netbeans/commit/31c86e7ab8e9dc3a904b71df620023a7f86ac790", "committedDate": "2020-07-22T11:46:02Z", "message": "[NETBEANS-4443] PHP 8.0 Support: Non-capturing catches part\n\n- https://wiki.php.net/rfc/non-capturing_catches\n- Fix the ASTPHP5Parser.cup\n- Add the `PHP80UnhandledError` class\n- Add unit tests for the parser, GotoDeclaration, MarkOccurrences, Formatter, and Code Completion features"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4905, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}