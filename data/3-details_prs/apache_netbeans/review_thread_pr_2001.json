{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NTcxNTkw", "number": 2001, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzowMToxNVrODl3w_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzowMzowMlrODl3zGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMDM3NTY3OnYy", "diffSide": "RIGHT", "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzowMToxNVrOFzARVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzowMToxNVrOFzARVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNjEzMg==", "bodyText": "Please use the getBytes(Charset) variant. Depending on the default file encoding can lead to bugs.", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389026132", "createdAt": "2020-03-06T17:01:15Z", "author": {"login": "matthiasblaesing"}, "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "diffHunk": "@@ -161,6 +169,13 @@ public void execute() throws BuildException {\n                             } else {\n                                 success &= fillInFile(hashAndFile[0], hashAndFile[1], manifest, () -> legacyDownload(hashAndFile[0] + \"-\" + hashAndFile[1]));\n                             }\n+                            if (report != null) {\n+                                Files.write(\n+                                        report.toPath(),\n+                                        (hashAndFile[0] + \";\" + hashAndFile[1] + \";\" + include + \"\\n\").getBytes(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfc5121271564b970ec4016daa57b440f7d30360"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMDM4MTA2OnYy", "diffSide": "RIGHT", "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzowMzowMlrOFzAU1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxODowMzo1NlrOFzCM5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNzAzMQ==", "bodyText": "The append looks strange here (you have a delete / touch before this). Why not just use StandardOpenOption.CREATE?", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389027031", "createdAt": "2020-03-06T17:03:02Z", "author": {"login": "matthiasblaesing"}, "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "diffHunk": "@@ -161,6 +169,13 @@ public void execute() throws BuildException {\n                             } else {\n                                 success &= fillInFile(hashAndFile[0], hashAndFile[1], manifest, () -> legacyDownload(hashAndFile[0] + \"-\" + hashAndFile[1]));\n                             }\n+                            if (report != null) {\n+                                Files.write(\n+                                        report.toPath(),\n+                                        (hashAndFile[0] + \";\" + hashAndFile[1] + \";\" + include + \"\\n\").getBytes(),\n+                                        StandardOpenOption.APPEND);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfc5121271564b970ec4016daa57b440f7d30360"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA1Nzc2Ng==", "bodyText": "This would lead to having only last binary in the file.", "url": "https://github.com/apache/netbeans/pull/2001#discussion_r389057766", "createdAt": "2020-03-06T18:03:56Z", "author": {"login": "ebarboni"}, "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/DownloadBinaries.java", "diffHunk": "@@ -161,6 +169,13 @@ public void execute() throws BuildException {\n                             } else {\n                                 success &= fillInFile(hashAndFile[0], hashAndFile[1], manifest, () -> legacyDownload(hashAndFile[0] + \"-\" + hashAndFile[1]));\n                             }\n+                            if (report != null) {\n+                                Files.write(\n+                                        report.toPath(),\n+                                        (hashAndFile[0] + \";\" + hashAndFile[1] + \";\" + include + \"\\n\").getBytes(),\n+                                        StandardOpenOption.APPEND);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyNzAzMQ=="}, "originalCommit": {"oid": "bfc5121271564b970ec4016daa57b440f7d30360"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 583, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}