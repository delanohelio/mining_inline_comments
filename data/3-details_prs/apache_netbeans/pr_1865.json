{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxODU4Njk2", "number": 1865, "title": "[NETBEANS-3428] FlatLaf: multi-tabs in FlatLaf style", "bodyText": "This PR implements FlatLaf style tabs for Multi-Tabs.\nMulti-Tabs are used in main window for editors when at least one of the marked options in the below screenshot are enabled. Otherwise another tab control is used, which was implemented in PR #1771\n\nMulti-Tabs internally use a JTable for tab rendering and therefore do not support UI delegates.\nSo it was necessary to extend Multi-Tabs for basic customizing.\nEverything changed by this PR is controlled thru new values in UI defaults (UIManager.get(...). Those UI defaults are not set in other LAFs. So other LAFs work as before.\nEach tab is painted as a simple filled rectangle and a \"underline\" bar. The \"underline\" bar placement depends on the tab placement. See screenshots below. There are separator lines between tabs if tab placement is \"top\" or \"bottom\". Hover effect is not supported by multi-tabs and can be implemented later.\nThru UI values it is possible to change all colors, tab insets, and height of \"underline\" bar. By setting underline height to zero it can be hidden.\nTab placement \"top\" and \"multi-row tabs\" enabled:\n\nTab placement \"top\" and \"show parent folder name\" enabled:\n\nTab placement \"bottom\":\n\nTab placement \"left\":\n\nTab placement \"right\":\n\nThe \"slight blue tint\" of the tabs area indicates that this tab group is active. If a view is active/focused, then the editor tabs became gray and the view group tabs get a \"slight blue tint\". This makes it easier to see the active/focused editor/view.\n\nSame happens when editor area is split:\n\nLight version with \"same background color for files from same project\" option enabled:\n\nSome \"before\" screenshots for comparison:\n\n\n\nThis screenshot shows a problem of basic Multi-Tabs: Which editor is the active one?", "createdAt": "2020-01-12T18:37:59Z", "url": "https://github.com/apache/netbeans/pull/1865", "merged": true, "mergeCommit": {"oid": "e53e002e34299ba57e85ffa1ce8e6707ea14721a"}, "closed": true, "closedAt": "2020-01-13T17:28:50Z", "author": {"login": "DevCharly"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5q7n6gH2gAyMzYxODU4Njk2OmQzYzlkMjRlZmU1YjhlNDhiMTljOTE3OTVjMTllOTkzNTRkOGM5YmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7Q3KwAFqTM0NDY3MzAwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd", "author": {"user": {"login": "DevCharly", "name": "Karl T"}}, "url": "https://github.com/apache/netbeans/commit/d3c9d24efe5b8e48b19c91795c19e99354d8c9bd", "committedDate": "2020-01-12T17:09:45Z", "message": "[NETBEANS-3428] FlatLaf: multi-tabs in FlatLaf style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNjE4ODI1", "url": "https://github.com/apache/netbeans/pull/1865#pullrequestreview-341618825", "createdAt": "2020-01-13T02:01:38Z", "commit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwMjowMTozOFrOFcsTXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwMjowNTozOVrOFcsUmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMDMwMg==", "bodyText": "Did you check to make sure this did not cause problems in other LAFs?", "url": "https://github.com/apache/netbeans/pull/1865#discussion_r365630302", "createdAt": "2020-01-13T02:01:38Z", "author": {"login": "eirikbakke"}, "path": "platform/core.multitabs/src/org/netbeans/core/multitabs/impl/ControlsToolbar.java", "diffHunk": "@@ -58,6 +58,7 @@ public void updateUI() {\n     private void configure() {\n         setFloatable( false );\n         setFocusable( false );\n+        setOpaque( false );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMDQzMg==", "bodyText": "Is this a gradient of some sort? Better to specify start and end colors, and interpolate, than have up to 100 properties. That will look better on HiDPI displays too (since you can actually get a smooth gradient rather than N hard steps).", "url": "https://github.com/apache/netbeans/pull/1865#discussion_r365630432", "createdAt": "2020-01-13T02:03:31Z", "author": {"login": "eirikbakke"}, "path": "platform/core.multitabs/src/org/netbeans/core/multitabs/impl/ProjectColorTabDecorator.java", "diffHunk": "@@ -63,15 +62,27 @@ public void stateChanged(ChangeEvent e) {\n \n     static {\n         backGroundColors = new ArrayList<Color>( 10 );\n-        backGroundColors.add( new Color( 216, 255, 237 ) );\n-        backGroundColors.add( new Color( 255, 221, 221 ) );\n-        backGroundColors.add( new Color( 255, 247, 214 ) );\n-        backGroundColors.add( new Color( 216, 239, 255 ) );\n-        backGroundColors.add( new Color( 241, 255, 209 ) );\n-        backGroundColors.add( new Color( 255, 225, 209 ) );\n-        backGroundColors.add( new Color( 228, 255, 216 ) );\n-        backGroundColors.add( new Color( 227, 255, 158 ) );\n-        backGroundColors.add( new Color( 238, 209, 255 ) );\n+\n+        // load background colors from UI defaults if available\n+        if (UIManager.getColor(\"nb.multitabs.project.1.background\") != null) {\n+            for (int i = 1; i <= 100; i++) {\n+                Color color = UIManager.getColor(\"nb.multitabs.project.\" + i + \".background\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMDYxNw==", "bodyText": "As before, when adding UIManager keys, I assume that you feel confident that they new keys are needed, and that you've figured out what the naming convention is for them...", "url": "https://github.com/apache/netbeans/pull/1865#discussion_r365630617", "createdAt": "2020-01-13T02:05:39Z", "author": {"login": "eirikbakke"}, "path": "platform/core.multitabs/src/org/netbeans/core/multitabs/impl/TabDataRenderer.java", "diffHunk": "@@ -48,6 +53,12 @@\n  */\n public class TabDataRenderer implements TableCellRenderer {\n \n+    private static final Insets tabInsets = UIManager.getInsets(\"nb.multitabs.tabInsets\"); // NOI18N\n+    private static final int underlineHeight = UIManager.getInt(\"nb.multitabs.underlineHeight\"); // NOI18N\n+    private static final Color underlineColor = UIManager.getColor(\"nb.multitabs.underlineColor\"); // NOI18N\n+    private static final Color inactiveUnderlineColor = UIManager.getColor(\"nb.multitabs.inactiveUnderlineColor\"); // NOI18N\n+    private static final Color activeBackground = UIManager.getColor(\"nb.multitabs.activeBackground\"); // NOI18N", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NjczMDA2", "url": "https://github.com/apache/netbeans/pull/1865#pullrequestreview-344673006", "createdAt": "2020-01-17T15:55:12Z", "commit": {"oid": "d3c9d24efe5b8e48b19c91795c19e99354d8c9bd"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 256, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}