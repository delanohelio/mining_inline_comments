{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2ODMzMzgz", "number": 2474, "title": "Read mainClass configuration or property. ", "bodyText": "Before asking the user, we try to read main class configuration, or property from pom.xml.", "createdAt": "2020-10-20T14:04:54Z", "url": "https://github.com/apache/netbeans/pull/2474", "merged": true, "mergeCommit": {"oid": "832de2cc92a2a7440f45aa8f3791195704958d78"}, "closed": true, "closedAt": "2020-10-21T12:21:13Z", "author": {"login": "entlicher"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUZgF4ABqjM4OTkwMDExNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUobAIgBqjM5MDIzNzQxNDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa2d8a75d387c58e81193879e2c034fda0859f25", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/aa2d8a75d387c58e81193879e2c034fda0859f25", "committedDate": "2020-10-20T13:58:58Z", "message": "Read mainClass configuration or property."}, "afterCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/bdaec406adf7b4f45026749cf22a96dc1b2f34c0", "committedDate": "2020-10-20T14:17:24Z", "message": "Read mainClass configuration or property."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODQ1OTcz", "url": "https://github.com/apache/netbeans/pull/2474#pullrequestreview-512845973", "createdAt": "2020-10-20T15:17:05Z", "commit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxNzowNVrOHlCXkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNToxOTowMFrOHlCdLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5ODE2Mg==", "bodyText": "maybe add // NOI18N as these texts shall never be localized.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r508598162", "createdAt": "2020-10-20T15:17:05Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/src/org/netbeans/modules/maven/runjar/RunJarPrereqChecker.java", "diffHunk": "@@ -99,6 +105,58 @@\n         return true;\n     }\n \n+    private static String findMainClass(RunConfig config) {\n+        // Read main class from the manifest property:\n+        String mainClass = getConfiguration(config, \"maven-jar-plugin\", \"archive\", \"manifest\", \"mainClass\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODU5OTU5OA==", "bodyText": "Does this also work with a property? E.g.  <mainClass>${clazz}</mainClass> - I assume it does, but it would be good to verify that.", "url": "https://github.com/apache/netbeans/pull/2474#discussion_r508599598", "createdAt": "2020-10-20T15:19:00Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/test/unit/src/org/netbeans/modules/maven/runjar/RunJarPrereqCheckerTest.java", "diffHunk": "@@ -63,4 +69,103 @@ public void testWriteMapping() throws Exception {\n         assertEquals(1, mapping.getActions().size());\n     }\n \n+    public void testMainClassManifest() throws Exception {\n+        TestFileUtils.writeFile(d, \"pom.xml\",\n+                \"<project>\\n\" +\n+                \"    <modelVersion>4.0.0</modelVersion>\\n\" +\n+                \"    <groupId>testgrp</groupId>\\n\" +\n+                \"    <artifactId>testart</artifactId>\\n\" +\n+                \"    <version>1.0</version>\\n\" +\n+                \"    <build>\\n\" +\n+                \"        <plugins>\\n\" +\n+                \"            <plugin>\\n\" +\n+                \"                <groupId>org.apache.maven.plugins</groupId>\\n\" +\n+                \"                <artifactId>maven-jar-plugin</artifactId>\\n\" +\n+                \"                <configuration>\\n\" +\n+                \"                    <archive>\\n\" +\n+                \"                        <manifest>\\n\" +\n+                \"                            <mainClass>com.mycompany.Main2</mainClass>\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMDczNTY2", "url": "https://github.com/apache/netbeans/pull/2474#pullrequestreview-513073566", "createdAt": "2020-10-20T19:42:38Z", "commit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b2dabe6baf7154533b4183b0b44fd423ab04066", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/3b2dabe6baf7154533b4183b0b44fd423ab04066", "committedDate": "2020-10-21T07:39:07Z", "message": "Read mainClass configuration or property."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bdaec406adf7b4f45026749cf22a96dc1b2f34c0", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/bdaec406adf7b4f45026749cf22a96dc1b2f34c0", "committedDate": "2020-10-20T14:17:24Z", "message": "Read mainClass configuration or property."}, "afterCommit": {"oid": "3b2dabe6baf7154533b4183b0b44fd423ab04066", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/3b2dabe6baf7154533b4183b0b44fd423ab04066", "committedDate": "2020-10-21T07:39:07Z", "message": "Read mainClass configuration or property."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 483, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}