{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNjc3MTY2", "number": 2579, "title": "Avoid to call add/addAll on a potentially unmodified collection", "bodyText": "The JDK (AdoptOpenJDK in this case) returns an unmodifiable collection, so we should not call add/addAll on it, but create a new ArrayList instead.", "createdAt": "2020-12-04T17:28:51Z", "url": "https://github.com/apache/netbeans/pull/2579", "merged": true, "mergeCommit": {"oid": "d8dfc52cb0792ebea42bab930859d2119fcbdc41"}, "closed": true, "closedAt": "2020-12-06T10:47:51Z", "author": {"login": "digiovinazzo"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi-PMNAFqTU0NTI5MzQ4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjQhMFgBqjQwNzU4NzUyMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MjkzNDg2", "url": "https://github.com/apache/netbeans/pull/2579#pullrequestreview-545293486", "createdAt": "2020-12-04T21:01:22Z", "commit": {"oid": "aee4f0bb789ef6526230f28af18795dce5b2bbd0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMTowMToyMlrOH_h3WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMTowMToyMlrOH_h3WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM3NzE3Nw==", "bodyText": "Minimal nitpick: The other branches of the conditional add their result to the list, that is initialized in line 66. Would it be an option to use the same approach here? If not, this is ok, just indicate so.", "url": "https://github.com/apache/netbeans/pull/2579#discussion_r536377177", "createdAt": "2020-12-04T21:01:22Z", "author": {"login": "matthiasblaesing"}, "path": "platform/core.network/src/org/netbeans/core/network/proxy/NbProxySelector.java", "diffHunk": "@@ -145,7 +145,7 @@ public NbProxySelector() {\n             case ProxySettings.AUTO_DETECT_PAC:\n                 if (useSystemProxies ()) {\n                     if (original != null) {\n-                        res = original.select(uri);                   \n+                        res = new ArrayList<>(original.select(uri));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aee4f0bb789ef6526230f28af18795dce5b2bbd0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3914fb5c870453bfa8a93b41e70c5c07523ba0b7", "author": {"user": {"login": "digiovinazzo", "name": "Matteo Di Giovinazzo"}}, "url": "https://github.com/apache/netbeans/commit/3914fb5c870453bfa8a93b41e70c5c07523ba0b7", "committedDate": "2020-12-05T18:16:48Z", "message": "Fix bug when adding to the potentially unmodifiable collection returned by original.select(URI).\n\nAlso always add to the res variable created at the beginning of the method."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aee4f0bb789ef6526230f28af18795dce5b2bbd0", "author": {"user": {"login": "digiovinazzo", "name": "Matteo Di Giovinazzo"}}, "url": "https://github.com/apache/netbeans/commit/aee4f0bb789ef6526230f28af18795dce5b2bbd0", "committedDate": "2020-12-04T17:27:03Z", "message": "Create a new ArrayList as the returned list from the original ProxySelector can potentially be an unmodifiable collection"}, "afterCommit": {"oid": "3914fb5c870453bfa8a93b41e70c5c07523ba0b7", "author": {"user": {"login": "digiovinazzo", "name": "Matteo Di Giovinazzo"}}, "url": "https://github.com/apache/netbeans/commit/3914fb5c870453bfa8a93b41e70c5c07523ba0b7", "committedDate": "2020-12-05T18:16:48Z", "message": "Fix bug when adding to the potentially unmodifiable collection returned by original.select(URI).\n\nAlso always add to the res variable created at the beginning of the method."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 394, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}