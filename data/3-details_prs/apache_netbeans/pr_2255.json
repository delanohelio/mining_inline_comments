{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4OTMxMjc4", "number": 2255, "title": "Removed java.platform dependency from the Gradle Projects module", "bodyText": "Well, this one shall fix the java.platform dependency issue for #2252. Unfortunately it means that the API compatibility is broken. Please review this and point at the weak spots!", "createdAt": "2020-07-14T14:51:53Z", "url": "https://github.com/apache/netbeans/pull/2255", "merged": true, "mergeCommit": {"oid": "bd5df68bdd069f30a988cec8dd645475eab0fed8"}, "closed": true, "closedAt": "2020-07-15T21:37:27Z", "author": {"login": "lkishalmi"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc04wqlgFqTQ0ODI3MjI0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1X9GEgFqTQ0OTUwNjE1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjcyMjQ1", "url": "https://github.com/apache/netbeans/pull/2255#pullrequestreview-448272245", "createdAt": "2020-07-14T16:31:30Z", "commit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNjozMTozMFrOGxbqdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNjozNzowMFrOGxb39w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4NjY0Nw==", "bodyText": "OK.", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454486647", "createdAt": "2020-07-14T16:31:30Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/nbproject/project.xml", "diffHunk": "@@ -139,15 +139,6 @@\n                         <specification-version>1.41.1</specification-version>\n                     </run-dependency>\n                 </dependency>\n-                <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4NzE3OA==", "bodyText": "I don't think you want to completely remove the file. You may want to remove just the lines that are no longer present.", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454487178", "createdAt": "2020-07-14T16:32:17Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/nbproject/org-netbeans-modules-gradle.sig", "diffHunk": "@@ -1,1074 +0,0 @@\n-#Signature file v4.1\n-#Version 2.0\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ4ODcyNw==", "bodyText": "You can keep these two methods around, just @deprecated. Change the return type to Pair - e.g. the raw type. JVM is going to link to these two methods without a problem. See more in my erasure blog post.", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454488727", "createdAt": "2020-07-14T16:34:55Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java", "diffHunk": "@@ -347,41 +337,6 @@ public static ReplaceTokenProvider simpleReplaceTokenProvider(final String token\n         };\n     }\n \n- /**\n-     * Returns the active platform used by the project or null if the active\n-     * project platform is broken.\n-     * @param activePlatformId the name of platform used by Ant script or null\n-     * for default platform.\n-     * @return active {@link JavaPlatform} or null if the project's platform\n-     * is broken\n-     */\n-    public static Pair<String, JavaPlatform> getActivePlatform(final String activePlatformId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ5MDEwMw==", "bodyText": "I suggest to keep the removed methods around, just deprecated. Then you don't have to increment the release version and you can stick with /2.\nBtw. the methods could even delegate to some provider to work the same way that did so far...", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r454490103", "createdAt": "2020-07-14T16:37:00Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n AutoUpdate-Show-In-Client: false\n-OpenIDE-Module: org.netbeans.modules.gradle/2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bca815cdea451269f602ec1e4456e2114c28cb59", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/bca815cdea451269f602ec1e4456e2114c28cb59", "committedDate": "2020-07-14T14:45:09Z", "message": "Removed java.platform dependency from the Gradle Projects module"}, "afterCommit": {"oid": "d5dab0351473b5ea3a67e66376e326defcade4ba", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/d5dab0351473b5ea3a67e66376e326defcade4ba", "committedDate": "2020-07-15T05:58:18Z", "message": "Removed java.platform dependency from the Gradle Projects module"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5dab0351473b5ea3a67e66376e326defcade4ba", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/d5dab0351473b5ea3a67e66376e326defcade4ba", "committedDate": "2020-07-15T05:58:18Z", "message": "Removed java.platform dependency from the Gradle Projects module"}, "afterCommit": {"oid": "2bbc51586e8ea94c36c835455db256076ae5ed5b", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/2bbc51586e8ea94c36c835455db256076ae5ed5b", "committedDate": "2020-07-15T06:03:54Z", "message": "Removed java.platform dependency from the Gradle Projects module"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2bbc51586e8ea94c36c835455db256076ae5ed5b", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/2bbc51586e8ea94c36c835455db256076ae5ed5b", "committedDate": "2020-07-15T06:03:54Z", "message": "Removed java.platform dependency from the Gradle Projects module"}, "afterCommit": {"oid": "a2149a2969f0970d2ff9bc947e147e75c298a410", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/a2149a2969f0970d2ff9bc947e147e75c298a410", "committedDate": "2020-07-15T06:07:00Z", "message": "Removed java.platform dependency from the Gradle Projects module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "committedDate": "2020-07-15T21:35:33Z", "message": "Removed java.platform dependency from the Gradle Projects module"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2149a2969f0970d2ff9bc947e147e75c298a410", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/a2149a2969f0970d2ff9bc947e147e75c298a410", "committedDate": "2020-07-15T06:07:00Z", "message": "Removed java.platform dependency from the Gradle Projects module"}, "afterCommit": {"oid": "0d779e1c763682e59038593db17661b2c0c34f90", "author": {"user": {"login": "lkishalmi", "name": "Laszlo Kishalmi"}}, "url": "https://github.com/apache/netbeans/commit/0d779e1c763682e59038593db17661b2c0c34f90", "committedDate": "2020-07-15T21:35:33Z", "message": "Removed java.platform dependency from the Gradle Projects module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NTA2MTUw", "url": "https://github.com/apache/netbeans/pull/2255#pullrequestreview-449506150", "createdAt": "2020-07-16T04:55:15Z", "commit": {"oid": "0d779e1c763682e59038593db17661b2c0c34f90"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNDo1NToxNVrOGyaGSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwNDo1NjowOFrOGyaHJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTU3Ng==", "bodyText": "Great.", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r455509576", "createdAt": "2020-07-16T04:55:15Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/nbproject/org-netbeans-modules-gradle.sig", "diffHunk": "@@ -480,8 +480,8 @@ meth public static org.netbeans.modules.gradle.spi.actions.ReplaceTokenProvider\n meth public static org.openide.execution.ExecutorTask executeGradle(org.netbeans.modules.gradle.api.execute.RunConfig,java.lang.String)\n meth public static org.openide.filesystems.FileObject extractFileObjectfromLookup(org.openide.util.Lookup)\n meth public static org.openide.filesystems.FileObject[] extractFileObjectsfromLookup(org.openide.util.Lookup)\n-meth public static org.openide.util.Pair<java.lang.String,org.netbeans.api.java.platform.JavaPlatform> getActivePlatform(java.lang.String)\n-meth public static org.openide.util.Pair<java.lang.String,org.netbeans.api.java.platform.JavaPlatform> getActivePlatform(org.netbeans.api.project.Project)\n+meth public static org.openide.util.Pair getActivePlatform(java.lang.String)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d779e1c763682e59038593db17661b2c0c34f90"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUwOTc5Nw==", "bodyText": "Btw. it is possible to use <a href=\"@TOP@/org/netbeans/modules/gradle/api/execute/RunUtills.html\">RunUtils</a> to connect to the Javadoc generated classes.", "url": "https://github.com/apache/netbeans/pull/2255#discussion_r455509797", "createdAt": "2020-07-16T04:56:08Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/apichanges.xml", "diffHunk": "@@ -83,6 +83,34 @@ is the proper place.\n     <!-- ACTUAL CHANGES BEGIN HERE: -->\n \n     <changes>\n+        <change id=\"gradle-java-independence\">\n+            <api name=\"general\"/>\n+            <summary>Remove Java Platform dependency.</summary>\n+            <version major=\"2\" minor=\"3\"/>\n+            <date year=\"2020\" month=\"7\" day=\"15\"/>\n+            <author login=\"lkishalmi\"/>\n+            <compatibility binary=\"compatible\" source=\"compatible\"/>\n+            <description>\n+                <p>\n+                    Due to recent movement and the plan to support Gradle native\n+                    projects as well in the future the dependency on\n+                    Java Platform module has been removed.\n+                </p>\n+                <p>\n+                    The removal affects <code>org.netbeans.modules.gradle.api.execute.RunUtils</code>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d779e1c763682e59038593db17661b2c0c34f90"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4897, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}