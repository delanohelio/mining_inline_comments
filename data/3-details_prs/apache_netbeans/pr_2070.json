{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjYxMDk5", "number": 2070, "title": "[NETBEANS-4029] Fix feature dialog", "bodyText": "Fix feature dialog: https://issues.apache.org/jira/browse/NETBEANS-4029", "createdAt": "2020-04-09T21:46:54Z", "url": "https://github.com/apache/netbeans/pull/2070", "merged": true, "mergeCommit": {"oid": "c0f625ebd18d60153a1f7193c8ceedc99ce1a2a5"}, "closed": true, "closedAt": "2020-05-05T12:05:15Z", "author": {"login": "hectorespert"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWVuNrABqjMyMjI3NTkyOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceS04sAFqTQwNTcxOTM3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b432f8e7b74467b4641f521a007dbbfc0242c7c", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/4b432f8e7b74467b4641f521a007dbbfc0242c7c", "committedDate": "2020-04-10T18:44:38Z", "message": "Tests"}, "afterCommit": {"oid": "8d4bfc7e13b818b7684db9f4f83e5337fcb117bf", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/8d4bfc7e13b818b7684db9f4f83e5337fcb117bf", "committedDate": "2020-04-10T18:50:40Z", "message": "[NETBEANS-4029] Fix feature dialog"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d4bfc7e13b818b7684db9f4f83e5337fcb117bf", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/8d4bfc7e13b818b7684db9f4f83e5337fcb117bf", "committedDate": "2020-04-10T18:50:40Z", "message": "[NETBEANS-4029] Fix feature dialog"}, "afterCommit": {"oid": "299b19f7b09554569b5f0604b5ff3819b50a5eac", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/299b19f7b09554569b5f0604b5ff3819b50a5eac", "committedDate": "2020-04-20T11:24:42Z", "message": "[NETBEANS-4029] Fix feature dialog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/fd9a7853b2357e4f0a91db1b6f20d4c15a157d15", "committedDate": "2020-04-28T18:44:29Z", "message": "[NETBEANS-4029] Fix feature dialog"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "299b19f7b09554569b5f0604b5ff3819b50a5eac", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/299b19f7b09554569b5f0604b5ff3819b50a5eac", "committedDate": "2020-04-20T11:24:42Z", "message": "[NETBEANS-4029] Fix feature dialog"}, "afterCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/fd9a7853b2357e4f0a91db1b6f20d4c15a157d15", "committedDate": "2020-04-28T18:44:29Z", "message": "[NETBEANS-4029] Fix feature dialog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyOTc3ODM3", "url": "https://github.com/apache/netbeans/pull/2070#pullrequestreview-402977837", "createdAt": "2020-04-29T19:36:45Z", "commit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNjo0NlrOGOOAbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0NDo0NlrOGOORSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2MjczMw==", "bodyText": "The original code contained a null check here, is it unnecessary ?", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r417562733", "createdAt": "2020-04-29T19:36:46Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NzA0OQ==", "bodyText": "A suggestion: these two functions (collectExtraModulesTextsFromFeatures and generateDownloadMessageFromExtraModulesTexts) are called in a sequence: you could merge it, producing the String for the label - and you could eventually print the required texts in Bold into the string ?", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r417567049", "createdAt": "2020-04-29T19:44:46Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {\n+                descriptionsList.add(s);\n+            }\n+        }\n+        return descriptionsList;\n+    } \n+    \n+    /**\n+     * Generate download message from extra modules texts\n+     * @param extraModulesTexts\n+     * @return String Text to set in download label\n+     */\n+    protected String generateDownloadMessageFromExtraModulesTexts(List<String> extraModulesTexts) {\n+        StringBuilder sbDownload = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 80}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/607523d511d1615f9ad437f5faf58504d3a5dac4", "committedDate": "2020-04-30T21:05:47Z", "message": "Check string is not null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODg3OTIw", "url": "https://github.com/apache/netbeans/pull/2070#pullrequestreview-403887920", "createdAt": "2020-04-30T21:23:44Z", "commit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMToyMzo0NFrOGO62OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMToyMzo0NFrOGO62OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NzQwMQ==", "bodyText": "While the check does its job isn't it a little overabstracting a simple s != null :-)  ?\nif there is an explicit import static for the nonNull, the preceding import j.u.Objects is not needed.", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418297401", "createdAt": "2020-04-30T21:23:44Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -188,7 +190,7 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n         List<String> descriptionsList = new ArrayList<>();\n         for (FeatureInfo fi : features) {\n             String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n-            if (!descriptionsList.contains(s)) {\n+            if (nonNull(s) && !descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dba9e54e90cb2cf13fa3305532469fcb899e1b4a", "author": {"user": {"login": "hectorespert", "name": "Hector Espert"}}, "url": "https://github.com/apache/netbeans/commit/dba9e54e90cb2cf13fa3305532469fcb899e1b4a", "committedDate": "2020-05-01T08:52:49Z", "message": "Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NzE5Mzc0", "url": "https://github.com/apache/netbeans/pull/2070#pullrequestreview-405719374", "createdAt": "2020-05-05T11:59:52Z", "commit": {"oid": "dba9e54e90cb2cf13fa3305532469fcb899e1b4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 127, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}