{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4MDcyOTMw", "number": 2530, "title": "First attempt for Java getter/setter generator for the Java LSP server.", "bodyText": "There are two (three) ways to run the generators:\n-if a piece of code is selected, and contains fields, the proposal to add them is sent using code actions (a light bulb should appear)\n-there is a new \"Generate\" sub-menu in the editor context menu in VS Code (note you need a fairly new VS Code to see it)\n-via the Command Palette in VS Code", "createdAt": "2020-11-09T22:17:47Z", "url": "https://github.com/apache/netbeans/pull/2530", "merged": true, "mergeCommit": {"oid": "053312430951fb1ae2c5d29e73f39600982f108e"}, "closed": true, "closedAt": "2020-12-02T05:38:37Z", "author": {"login": "jlahoda"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABda8S6vAH2gAyNTE4MDcyOTMwOmM2NGViMWExN2QzMzg5OWM4OTBmMWUwZDhkYzI3NDQ0ZjhiMjQwNWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmTtwgAFqTU1MjEyMjIxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c64eb1a17d33899c890f1e0d8dc27444f8b2405d", "author": {"user": {"login": "jlahoda", "name": "Jan Lahoda"}}, "url": "https://github.com/apache/netbeans/commit/c64eb1a17d33899c890f1e0d8dc27444f8b2405d", "committedDate": "2020-11-09T22:14:14Z", "message": "First attempt for Java getter/setter generator for the Java LSP server."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4NzU2ODEy", "url": "https://github.com/apache/netbeans/pull/2530#pullrequestreview-528756812", "createdAt": "2020-11-12T05:20:12Z", "commit": {"oid": "c64eb1a17d33899c890f1e0d8dc27444f8b2405d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwNToyMDoxMlrOHxq8jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwNToyMDoxMlrOHxq8jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTg0NTkwMQ==", "bodyText": "Great, there is a test!", "url": "https://github.com/apache/netbeans/pull/2530#discussion_r521845901", "createdAt": "2020-11-12T05:20:12Z", "author": {"login": "JaroslavTulach"}, "path": "java/java.lsp.server/test/unit/src/org/netbeans/modules/java/lsp/server/protocol/ServerTest.java", "diffHunk": "@@ -1134,6 +1140,93 @@ public void logMessage(MessageParams arg0) {\n         }\n     }\n \n+    public void testCodeActionGetterSetting() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c64eb1a17d33899c890f1e0d8dc27444f8b2405d"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMDQ0NTcw", "url": "https://github.com/apache/netbeans/pull/2530#pullrequestreview-541044570", "createdAt": "2020-11-30T15:55:12Z", "commit": {"oid": "c64eb1a17d33899c890f1e0d8dc27444f8b2405d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c48f4167cee530c9b47e05ab9f39c3e4310b85f2", "author": {"user": {"login": "jlahoda", "name": "Jan Lahoda"}}, "url": "https://github.com/apache/netbeans/commit/c48f4167cee530c9b47e05ab9f39c3e4310b85f2", "committedDate": "2020-12-01T06:56:03Z", "message": "Merging master into java-lsp-getters-setters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cccad540e67da6cd9e927e65dca129135ca9353", "author": {"user": {"login": "jlahoda", "name": "Jan Lahoda"}}, "url": "https://github.com/apache/netbeans/commit/7cccad540e67da6cd9e927e65dca129135ca9353", "committedDate": "2020-12-01T21:01:58Z", "message": "Removing broken import."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMTIyMjE3", "url": "https://github.com/apache/netbeans/pull/2530#pullrequestreview-552122217", "createdAt": "2020-12-15T05:44:32Z", "commit": {"oid": "7cccad540e67da6cd9e927e65dca129135ca9353"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNTo0NDozMlrOIF57gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQwNTo0NDozMlrOIF57gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzA2MjkxMg==", "bodyText": "I've noticed this code during #2587 and asked why we aren't using URLMapper.findURL(EXTERNAL)?", "url": "https://github.com/apache/netbeans/pull/2530#discussion_r543062912", "createdAt": "2020-12-15T05:44:32Z", "author": {"login": "JaroslavTulach"}, "path": "java/java.lsp.server/src/org/netbeans/modules/java/lsp/server/protocol/TextDocumentServiceImpl.java", "diffHunk": "@@ -1129,7 +1171,115 @@ private JavaSource getSource(String fileUri) {\n         }\n     }\n \n-    private static List<TextEdit> modify2TextEdits(JavaSource js, Task<WorkingCopy> task) throws IOException {\n+    public static Position createPosition(CompilationUnitTree cut, int offset) {\n+        return createPosition(cut.getLineMap(), offset);\n+    }\n+\n+    public static Position createPosition(LineMap lm, int offset) {\n+        return new Position((int) lm.getLineNumber(offset) - 1,\n+                            (int) lm.getColumnNumber(offset) - 1);\n+    }\n+\n+    public static Position createPosition(FileObject file, int offset) {\n+        try {\n+            EditorCookie ec = file.getLookup().lookup(EditorCookie.class);\n+            StyledDocument doc = ec.openDocument();\n+            int line = NbDocument.findLineNumber(doc, offset);\n+            int column = NbDocument.findLineColumn(doc, offset);\n+\n+            return new Position(line, column);\n+        } catch (IOException ex) {\n+            throw new IllegalStateException(ex);\n+        }\n+    }\n+\n+    public static int getOffset(Document doc, Position pos) {\n+        return LineDocumentUtils.getLineStartFromIndex((LineDocument) doc, pos.getLine()) + pos.getCharacter();\n+    }\n+\n+    private static String toUri(FileObject file) {\n+        if (FileUtil.isArchiveArtifact(file)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7cccad540e67da6cd9e927e65dca129135ca9353"}, "originalPosition": 113}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 327, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}