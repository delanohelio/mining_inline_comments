{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMjMwOTUz", "number": 2386, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0MjoxMFrOElncog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzo0NzoyOFrOEmMrGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODc5MDc0OnYy", "diffSide": "RIGHT", "path": "nbbuild/antsrc/org/netbeans/nbbuild/AutoUpdateCatalogParser.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0MjoxMFrOHVLyxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0MjoxMFrOHVLyxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NTM2Nw==", "bodyText": "The AutoUpdate task was very verbose with modern catalogs. Assuming this field got in with one of @matthiasblaesing  fixes, I've added it to the set of recognized, but not processed fields.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491975367", "createdAt": "2020-09-21T11:42:10Z", "author": {"login": "JaroslavTulach"}, "path": "nbbuild/antsrc/org/netbeans/nbbuild/AutoUpdateCatalogParser.java", "diffHunk": "@@ -240,6 +241,8 @@ public void endElement (String uri, String localName, String qName) throws SAXEx\n                 break;\n             case manifest :\n                 break;\n+            case message_digest:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b43cff3c371ce2d3fee8857435b7e12ed907a290"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODc5NDE0OnYy", "diffSide": "RIGHT", "path": "platform/settings/src/org/netbeans/modules/settings/RecognizeInstanceObjects.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0MzoyMFrOHVL03A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0MzoyMFrOHVL03A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NTkwMA==", "bodyText": "This message was printed out  everytime new instance of OverObjects was created in a unit test. Quite annoying. Enough to emit the warning once per test.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491975900", "createdAt": "2020-09-21T11:43:20Z", "author": {"login": "JaroslavTulach"}, "path": "platform/settings/src/org/netbeans/modules/settings/RecognizeInstanceObjects.java", "diffHunk": "@@ -93,24 +94,49 @@ protected Lookup lookupFor(Object obj) {\n         return null;\n     }\n     \n-    private static final class OverObjects extends ProxyLookup \n-    implements PropertyChangeListener, FileChangeListener {\n-        private final String path;\n-        \n-        public OverObjects(String path) {\n-            super(delegates(null, path));\n-            this.path = path;\n+    private static final class MSL implements PropertyChangeListener {\n+        private final PropertyChangeSupport pcs = new PropertyChangeSupport(this);\n+        public static final MSL DEFAULT = new MSL();\n+        static {\n             try {\n                 ModuleSystem ms = Main.getModuleSystem(false);\n                 if (ms != null) {\n                     ModuleManager man = ms.getManager();\n-                    man.addPropertyChangeListener(WeakListeners.propertyChange(this, man));\n+                    man.addPropertyChangeListener(WeakListeners.propertyChange(DEFAULT, man));\n                 } else {\n                     LOG.log(Level.WARNING, \"Not listening on module system\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b50155ac1e72da9263e5328b7a4cc0f161f884d"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODc5NzYwOnYy", "diffSide": "RIGHT", "path": "java/maven/src/org/netbeans/modules/maven/spi/actions/AbstractMavenActionsProvider.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0NDoyOVrOHVL26w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODozOTozNVrOHVv2nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NjQyNw==", "bodyText": "Ant projects honor FileObject as a selection in the Lookup, but Maven projects didn't. After this change they will use FileObject (if no DataObject is found) as the indentification of main file to execute.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491976427", "createdAt": "2020-09-21T11:44:29Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/src/org/netbeans/modules/maven/spi/actions/AbstractMavenActionsProvider.java", "diffHunk": "@@ -88,6 +88,10 @@ public AbstractMavenActionsProvider() {\n             files.add(method.getFile());\n         }\n \n+        if (files.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78fbf67a2791cf66df872a94521aeff9e326a183"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2NjE3Mg==", "bodyText": "Also fixed in Gradle.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492566172", "createdAt": "2020-09-22T08:39:35Z", "author": {"login": "JaroslavTulach"}, "path": "java/maven/src/org/netbeans/modules/maven/spi/actions/AbstractMavenActionsProvider.java", "diffHunk": "@@ -88,6 +88,10 @@ public AbstractMavenActionsProvider() {\n             files.add(method.getFile());\n         }\n \n+        if (files.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NjQyNw=="}, "originalCommit": {"oid": "78fbf67a2791cf66df872a94521aeff9e326a183"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODgwNDMzOnYy", "diffSide": "RIGHT", "path": "ide/projectapi.nb/manifest.mf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0NjoxOVrOHVL6nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1Mzo1MlrOHWDnlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NzM3Mw==", "bodyText": "@tzezula, there is no need to OpenIDE-Module-Provides: cnb.org.netbeans.modules.projectapi.nb it is provided automatically. Rather than that the module now provides token org.netbeans.spi.project.ProjectManagerImplementation to stress the fact that it provides  implementation of that service.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491977373", "createdAt": "2020-09-21T11:46:19Z", "author": {"login": "JaroslavTulach"}, "path": "ide/projectapi.nb/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.projectapi.nb\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/projectapi/nb/Bundle.properties\n-OpenIDE-Module-Provides: cnb.org.netbeans.modules.projectapi.nb\n-OpenIDE-Module-Specification-Version: 1.13\n+OpenIDE-Module-Provides: org.netbeans.spi.project.ProjectManagerImplementation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4198e62ca213e0b09f71a9bd6c8478839c96d73f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5MDAwNQ==", "bodyText": "OK.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492890005", "createdAt": "2020-09-22T16:53:52Z", "author": {"login": "tzezula"}, "path": "ide/projectapi.nb/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.projectapi.nb\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/projectapi/nb/Bundle.properties\n-OpenIDE-Module-Provides: cnb.org.netbeans.modules.projectapi.nb\n-OpenIDE-Module-Specification-Version: 1.13\n+OpenIDE-Module-Provides: org.netbeans.spi.project.ProjectManagerImplementation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3NzM3Mw=="}, "originalCommit": {"oid": "4198e62ca213e0b09f71a9bd6c8478839c96d73f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODgxMjY3OnYy", "diffSide": "RIGHT", "path": "ide/projectapi/manifest.mf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0ODowMVrOHVL_qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1NToyMVrOHWDrkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3ODY2Ng==", "bodyText": "@tzezula: Here we need an implementation of org.netbeans.spi.project.ProjectManagerImplementation. Previously the module recommended single implementation, but that wasn't enough. If the module was missing a NullPointerException was raised. Hence we \"need\" - e.g. the module isn't going to be enabled without an implementation, but the implementation can come from any module.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491978666", "createdAt": "2020-09-21T11:48:01Z", "author": {"login": "JaroslavTulach"}, "path": "ide/projectapi/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.projectapi/1\n-OpenIDE-Module-Specification-Version: 1.77\n+OpenIDE-Module-Specification-Version: 1.78\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/projectapi/Bundle.properties\n OpenIDE-Module-Layer: org/netbeans/modules/projectapi/layer.xml\n-OpenIDE-Module-Recommends: cnb.org.netbeans.modules.projectapi.nb\n+OpenIDE-Module-Needs: org.netbeans.spi.project.ProjectManagerImplementation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4198e62ca213e0b09f71a9bd6c8478839c96d73f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5MTAyNQ==", "bodyText": "Makes sense.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492891025", "createdAt": "2020-09-22T16:55:21Z", "author": {"login": "tzezula"}, "path": "ide/projectapi/manifest.mf", "diffHunk": "@@ -1,6 +1,6 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.projectapi/1\n-OpenIDE-Module-Specification-Version: 1.77\n+OpenIDE-Module-Specification-Version: 1.78\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/projectapi/Bundle.properties\n OpenIDE-Module-Layer: org/netbeans/modules/projectapi/layer.xml\n-OpenIDE-Module-Recommends: cnb.org.netbeans.modules.projectapi.nb\n+OpenIDE-Module-Needs: org.netbeans.spi.project.ProjectManagerImplementation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3ODY2Ng=="}, "originalCommit": {"oid": "4198e62ca213e0b09f71a9bd6c8478839c96d73f"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODgxNDk1OnYy", "diffSide": "RIGHT", "path": "ide/web.browser.api/manifest.mf", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0ODoyN1rOHVMBQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0ODoyN1rOHVMBQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3OTA3Mg==", "bodyText": "This module can run without window manager. Hence just \"recommends\".", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r491979072", "createdAt": "2020-09-21T11:48:27Z", "author": {"login": "JaroslavTulach"}, "path": "ide/web.browser.api/manifest.mf", "diffHunk": "@@ -2,5 +2,5 @@ Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.web.browser.api\n OpenIDE-Module-Layer: org/netbeans/modules/web/browser/ui/resources/layer.xml\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/web/browser/api/Bundle.properties\n-OpenIDE-Module-Requires: org.openide.windows.WindowManager\n+OpenIDE-Module-Recommends: org.openide.windows.WindowManager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4198e62ca213e0b09f71a9bd6c8478839c96d73f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjYxNDYwOnYy", "diffSide": "RIGHT", "path": "extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODozOTowMFrOHVv1Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODozOTowMFrOHVv1Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU2NTgwMw==", "bodyText": "This is the same fix as in Maven", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492565803", "createdAt": "2020-09-22T08:39:00Z", "author": {"login": "JaroslavTulach"}, "path": "extide/gradle/src/org/netbeans/modules/gradle/api/execute/RunUtils.java", "diffHunk": "@@ -100,6 +100,9 @@ public static FileObject extractFileObjectfromLookup(Lookup lookup) {\n             SingleMethod method = methods.iterator().next();\n             files.add(method.getFile());\n         }\n+        if (files.isEmpty()) {\n+            files.addAll(lookup.lookupAll(FileObject.class));\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "034a600c13290bc63581c87450b4a51050a98536"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDcxMTQxOnYy", "diffSide": "RIGHT", "path": "ide/projectui/src/org/netbeans/modules/project/ui/OpenProjectList.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzowMToxM1rOHWD6Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMjoyNzo1N1rOHWUGEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NDc0Mg==", "bodyText": "It's an interesting usage of resource bundle. :-)\nBut I think it's rather a hack to use module resource bundle for configuration.\nDo we already use such a pattern somewhere?\nIf not I would prefer a method.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492894742", "createdAt": "2020-09-22T17:01:13Z", "author": {"login": "tzezula"}, "path": "ide/projectui/src/org/netbeans/modules/project/ui/OpenProjectList.java", "diffHunk": "@@ -441,12 +441,18 @@ boolean closeBeforeOpen(final Project[] arr) {\n                 }\n             });\n         }\n-            \n+\n+        @NbBundle.Messages({\n+            \"LOAD_PROJECTS_ON_START=true\"\n+        })\n         private void loadOnBackground() {\n-            lazilyOpenedProjects = new ArrayList<Project>();\n-            List<URL> URLs = OpenProjectListSettings.getInstance().getOpenProjectsURLs();\n-            final List<Project> initial = new ArrayList<Project>();\n-            final LinkedList<Project> projects = URLs2Projects(URLs);\n+            lazilyOpenedProjects = new ArrayList<>();\n+            final boolean loadProjectsOnStart = \"true\".equals(Bundle.LOAD_PROJECTS_ON_START());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE1OTk1Mg==", "bodyText": "Yes, it is used at many places, controlling behavior of splash screen, controlling behavior of window system. We even have <api group='branding'..../> for that case - here is the current list of branding APIs.\nUsing branding API is useful if the change in behavior is made per NetBeans application - e.g. different behavior for NetBeans IDE, different for JDeveloper, different for VSCode, etc.", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r493159952", "createdAt": "2020-09-23T02:27:57Z", "author": {"login": "JaroslavTulach"}, "path": "ide/projectui/src/org/netbeans/modules/project/ui/OpenProjectList.java", "diffHunk": "@@ -441,12 +441,18 @@ boolean closeBeforeOpen(final Project[] arr) {\n                 }\n             });\n         }\n-            \n+\n+        @NbBundle.Messages({\n+            \"LOAD_PROJECTS_ON_START=true\"\n+        })\n         private void loadOnBackground() {\n-            lazilyOpenedProjects = new ArrayList<Project>();\n-            List<URL> URLs = OpenProjectListSettings.getInstance().getOpenProjectsURLs();\n-            final List<Project> initial = new ArrayList<Project>();\n-            final LinkedList<Project> projects = URLs2Projects(URLs);\n+            lazilyOpenedProjects = new ArrayList<>();\n+            final boolean loadProjectsOnStart = \"true\".equals(Bundle.LOAD_PROJECTS_ON_START());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NDc0Mg=="}, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDg1MTc2OnYy", "diffSide": "RIGHT", "path": "ide/javascript2.debug/nbproject/project.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzozNzozM1rOHWFQbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMjo0MzoyNlrOHWUWXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkxNjg0NA==", "bodyText": "I don't see the reason for this change - am I missing the dependency relationship?", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492916844", "createdAt": "2020-09-22T17:37:33Z", "author": {"login": "matthiasblaesing"}, "path": "ide/javascript2.debug/nbproject/project.xml", "diffHunk": "@@ -114,6 +114,7 @@\n             <friend-packages>\n                 <friend>org.netbeans.modules.debugger.jpda.js</friend>\n                 <friend>org.netbeans.modules.debugger.jpda.truffle</friend>\n+                <friend>org.netbeans.modules.java.lsp.server</friend>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE2NDEyNw==", "bodyText": "Good catch. This is a change needed for the java.lsp.server debugging, but not really a cleanup. Moreover one should bump module version when changing list of friends.\nLet's remove the change from this PR: 2847f6e", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r493164127", "createdAt": "2020-09-23T02:43:26Z", "author": {"login": "JaroslavTulach"}, "path": "ide/javascript2.debug/nbproject/project.xml", "diffHunk": "@@ -114,6 +114,7 @@\n             <friend-packages>\n                 <friend>org.netbeans.modules.debugger.jpda.js</friend>\n                 <friend>org.netbeans.modules.debugger.jpda.truffle</friend>\n+                <friend>org.netbeans.modules.java.lsp.server</friend>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkxNjg0NA=="}, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDg4OTg0OnYy", "diffSide": "RIGHT", "path": "ide/parsing.indexing/manifest.mf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzo0NzoyOFrOHWFnaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMjozNjo1MVrOHWUQDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkyMjcyOQ==", "bodyText": "Just to  understand this correctly: Is the intention here, that parsing.indexing and parsing.nb are loosely coupled? I.e. parsing.indexing needs and implemenation of that SPI?", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r492922729", "createdAt": "2020-09-22T17:47:28Z", "author": {"login": "matthiasblaesing"}, "path": "ide/parsing.indexing/manifest.mf", "diffHunk": "@@ -4,4 +4,5 @@ OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/parsing/indexing/Bundle.p\n OpenIDE-Module-Layer: org/netbeans/modules/parsing/impl/indexing/layer.xml\n AutoUpdate-Show-In-Client: false\n OpenIDE-Module-Implementation-Version: 1\n+OpenIDE-Module-Needs: org.netbeans.modules.parsing.impl.indexing.implspi.ActiveDocumentProvider", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE2MjUxMQ==", "bodyText": "I tried to assemble minimal application and I was getting IllegalStateException. Turned out that parsing.indexing cannot run without ActiveDocumentProvider. The OpenIDE-Module-Needs just formalizes that dependency. @tzezula may confirm, but the code in RepositoryUpdater speaks clearly:\n        this.activeDocProvider = Lookup.getDefault().lookup(ActiveDocumentProvider.class);\n        if (this.activeDocProvider == null) {\n            throw new IllegalStateException(\"No ActiveDocumentProvider instance in global lookup.\");    //NOI18N\n        }", "url": "https://github.com/apache/netbeans/pull/2386#discussion_r493162511", "createdAt": "2020-09-23T02:36:51Z", "author": {"login": "JaroslavTulach"}, "path": "ide/parsing.indexing/manifest.mf", "diffHunk": "@@ -4,4 +4,5 @@ OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/parsing/indexing/Bundle.p\n OpenIDE-Module-Layer: org/netbeans/modules/parsing/impl/indexing/layer.xml\n AutoUpdate-Show-In-Client: false\n OpenIDE-Module-Implementation-Version: 1\n+OpenIDE-Module-Needs: org.netbeans.modules.parsing.impl.indexing.implspi.ActiveDocumentProvider", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkyMjcyOQ=="}, "originalCommit": {"oid": "cbecea396a77fb70c722bf3bc6fe0e7c2750a770"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 428, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}