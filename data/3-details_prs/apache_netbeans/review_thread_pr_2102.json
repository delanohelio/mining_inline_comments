{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MDY4NjQx", "number": 2102, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjoyNjozOFrOD4gCOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjozNjo1MlrOD4gI0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNTcxNzA0OnYy", "diffSide": "RIGHT", "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjoyNjozOFrOGPXSuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjoyNjozOFrOGPXSuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc2MzQ0OQ==", "bodyText": "The comment seems correct. At first I thought maybe io.getIn().reset() would also need to be called, but as the comment says, we the implementation of NbWriter will call NbIO.reset() in turn..", "url": "https://github.com/apache/netbeans/pull/2102#discussion_r418763449", "createdAt": "2020-05-01T22:26:38Z", "author": {"login": "eirikbakke"}, "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "diffHunk": "@@ -214,7 +214,17 @@ public Lookup getIOLookup(InputOutput io) {\n     @Override\n     public void resetIO(InputOutput io) {\n         if (io instanceof NbIO) {\n-            ((NbIO) io).reset();\n+            if(io.getOut() instanceof NbWriter) {\n+                try {\n+                    // NbWriter does OutWriter fixup,\n+                    // then NbWriter invokes ((NbIO) io).reset()\n+                    io.getOut().reset();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7ceae1f038839939f5f66c7c9ed8ce4b5f3601"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNTcxNzI3OnYy", "diffSide": "RIGHT", "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjoyNjo0OFrOGPXS5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjoyNjo0OFrOGPXS5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc2MzQ5Mg==", "bodyText": "space after if", "url": "https://github.com/apache/netbeans/pull/2102#discussion_r418763492", "createdAt": "2020-05-01T22:26:48Z", "author": {"login": "eirikbakke"}, "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "diffHunk": "@@ -214,7 +214,17 @@ public Lookup getIOLookup(InputOutput io) {\n     @Override\n     public void resetIO(InputOutput io) {\n         if (io instanceof NbIO) {\n-            ((NbIO) io).reset();\n+            if(io.getOut() instanceof NbWriter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7ceae1f038839939f5f66c7c9ed8ce4b5f3601"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNTczMzg4OnYy", "diffSide": "RIGHT", "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjozNjo0OVrOGPXczA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwNDo1NDoyMVrOGPyv6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc2NjAyOA==", "bodyText": "This seems to be the way errors are handled in this class, I guess.", "url": "https://github.com/apache/netbeans/pull/2102#discussion_r418766028", "createdAt": "2020-05-01T22:36:49Z", "author": {"login": "eirikbakke"}, "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "diffHunk": "@@ -214,7 +214,17 @@ public Lookup getIOLookup(InputOutput io) {\n     @Override\n     public void resetIO(InputOutput io) {\n         if (io instanceof NbIO) {\n-            ((NbIO) io).reset();\n+            if(io.getOut() instanceof NbWriter) {\n+                try {\n+                    // NbWriter does OutWriter fixup,\n+                    // then NbWriter invokes ((NbIO) io).reset()\n+                    io.getOut().reset();\n+                } catch(IOException ex) {\n+                    Exceptions.printStackTrace(ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7ceae1f038839939f5f66c7c9ed8ce4b5f3601"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIxMzI5MQ==", "bodyText": "This will probably show a dialog to the user. If you just want to print errors to console, consider Exceptions.attachSeverity first.", "url": "https://github.com/apache/netbeans/pull/2102#discussion_r419213291", "createdAt": "2020-05-04T04:54:21Z", "author": {"login": "JaroslavTulach"}, "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "diffHunk": "@@ -214,7 +214,17 @@ public Lookup getIOLookup(InputOutput io) {\n     @Override\n     public void resetIO(InputOutput io) {\n         if (io instanceof NbIO) {\n-            ((NbIO) io).reset();\n+            if(io.getOut() instanceof NbWriter) {\n+                try {\n+                    // NbWriter does OutWriter fixup,\n+                    // then NbWriter invokes ((NbIO) io).reset()\n+                    io.getOut().reset();\n+                } catch(IOException ex) {\n+                    Exceptions.printStackTrace(ex);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc2NjAyOA=="}, "originalCommit": {"oid": "4f7ceae1f038839939f5f66c7c9ed8ce4b5f3601"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNTczMzk1OnYy", "diffSide": "RIGHT", "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjozNjo1MlrOGPXc2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMjozNjo1MlrOGPXc2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc2NjA0Mw==", "bodyText": "space before (", "url": "https://github.com/apache/netbeans/pull/2102#discussion_r418766043", "createdAt": "2020-05-01T22:36:52Z", "author": {"login": "eirikbakke"}, "path": "platform/core.output2/src/org/netbeans/core/output2/NbIOProvider.java", "diffHunk": "@@ -214,7 +214,17 @@ public Lookup getIOLookup(InputOutput io) {\n     @Override\n     public void resetIO(InputOutput io) {\n         if (io instanceof NbIO) {\n-            ((NbIO) io).reset();\n+            if(io.getOut() instanceof NbWriter) {\n+                try {\n+                    // NbWriter does OutWriter fixup,\n+                    // then NbWriter invokes ((NbIO) io).reset()\n+                    io.getOut().reset();\n+                } catch(IOException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f7ceae1f038839939f5f66c7c9ed8ce4b5f3601"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 504, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}