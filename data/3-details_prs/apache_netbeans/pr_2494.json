{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMTQyMDkw", "number": 2494, "title": "Where is the NbCode userdir?", "bodyText": "Sv\u00e1\u0165a has just asked: where can I find messages.log? The answer is $HOME/.config/Code/User/globalStorage/jlahoda.apache-netbeans-java/userdir/var/log/messages.log but the problem is - the log isn't there!\nTurns out I have deleted the --userdir option in one of the refactorings. This PR fixes that.", "createdAt": "2020-10-26T16:12:09Z", "url": "https://github.com/apache/netbeans/pull/2494", "merged": true, "mergeCommit": {"oid": "d492b87cc4754a0650bfb70c72ff07066d6824f1"}, "closed": true, "closedAt": "2020-10-26T16:28:57Z", "author": {"login": "JaroslavTulach"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWWsjugH2gAyNTEwMTQyMDkwOjMxOWY1MDY0YmU1N2E1YzhjZTdkMDA0ODBkZTA2NmFhMGM3ZWRiODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWW8-ggFqTUxNjk1NzE5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "319f5064be57a5c8ce7d00480de066aa0c7edb81", "author": {"user": {"login": "JaroslavTulach", "name": "Jaroslav Tulach"}}, "url": "https://github.com/apache/netbeans/commit/319f5064be57a5c8ce7d00480de066aa0c7edb81", "committedDate": "2020-10-26T16:10:09Z", "message": "Properly specify --userdir when lauching the nbcode launcher"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTQyOTU4", "url": "https://github.com/apache/netbeans/pull/2494#pullrequestreview-516942958", "createdAt": "2020-10-26T16:13:23Z", "commit": {"oid": "319f5064be57a5c8ce7d00480de066aa0c7edb81"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNjoxMzoyM1rOHoXMsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNjoxMzoyM1rOHoXMsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA4NTE3MQ==", "bodyText": "While at it, let also read the publisher and extension name from the actual package.json file. E.g. as soon as the publisher is changed from jlahoda to apache, the userdir stays synchronized between npm run nbcode and the actual global storage directory from inside of the VSCode extension.", "url": "https://github.com/apache/netbeans/pull/2494#discussion_r512085171", "createdAt": "2020-10-26T16:13:23Z", "author": {"login": "JaroslavTulach"}, "path": "java/java.lsp.server/vscode/src/nbcode.ts", "diffHunk": "@@ -86,7 +88,8 @@ if (typeof process === 'object' && process.argv0 === 'node') {\n     }\n     let clusters = fs.readdirSync(nbcode).filter(c => c !== 'bin' && c !== 'etc').map(c => path.join(nbcode, c));\n     let args = process.argv.slice(2);\n-    let globalStorage = path.join(os.homedir(), '.config', 'Code', 'User', 'globalStorage', 'jlahoda.apache-netbeans-java');\n+    let json = JSON.parse(\"\" + fs.readFileSync(path.join(extension, 'package.json')));\n+    let globalStorage = path.join(os.homedir(), '.config', 'Code', 'User', 'globalStorage', json.publisher + '.' + json.name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319f5064be57a5c8ce7d00480de066aa0c7edb81"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTU3MTkx", "url": "https://github.com/apache/netbeans/pull/2494#pullrequestreview-516957191", "createdAt": "2020-10-26T16:28:05Z", "commit": {"oid": "319f5064be57a5c8ce7d00480de066aa0c7edb81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 516, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}