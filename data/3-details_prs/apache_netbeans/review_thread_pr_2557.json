{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NTU3OTUy", "number": 2557, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxOTo0NzoxNFrOE9vxkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxOTo0NzoxNFrOE9vxkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTgxMzMwOnYy", "diffSide": "RIGHT", "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxOTo0NzoxNFrOH6mKrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQyMToxNToxNlrOH6neOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ==", "bodyText": "This should not be necessary. FileObject#getName would be better called \"getNameWithoutExtension\" and FileObject#getNameExt returns the normal filename. Could you please double check?", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531204781", "createdAt": "2020-11-26T19:47:14Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "diffHunk": "@@ -270,7 +270,7 @@ private static FileObject getResourcesDirectory(FileObject file) {\n             if (folder.getName().equalsIgnoreCase(\"resources\")) { //NOI18N\n                 //check if its parent is META-INF\n                 FileObject parent = folder.getParent();\n-                if (parent != null && parent.getNameExt().startsWith(\"META-INF\")) { //NOI18N\n+                if (parent != null && parent.getName().startsWith(\"META-INF\")) { //NOI18N", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyMzU0OA==", "bodyText": "The inclusion of the \"extension\" is irrelevant here I guess, as you're only looking for META-INF at the beginning. That's probably why the original patch, as suggested on stackoverflow, changed from getNameExt() to getName(). Additional benefit is that you also get rid of a string concat by not using getNameExt().\nAs for FileObject itself: do you really want to change such a \"core\" class? This would trigger a lot of changes all over the place, no?", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531223548", "createdAt": "2020-11-26T21:04:02Z", "author": {"login": "fcorneli"}, "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "diffHunk": "@@ -270,7 +270,7 @@ private static FileObject getResourcesDirectory(FileObject file) {\n             if (folder.getName().equalsIgnoreCase(\"resources\")) { //NOI18N\n                 //check if its parent is META-INF\n                 FileObject parent = folder.getParent();\n-                if (parent != null && parent.getNameExt().startsWith(\"META-INF\")) { //NOI18N\n+                if (parent != null && parent.getName().startsWith(\"META-INF\")) { //NOI18N", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}, "originalCommit": {"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNDI3NA==", "bodyText": "No I don't want to change FileObject, that sentence was meant as an explanation. I think FileObject is a broken abstraction, but indeed it so far into the base of netbeans, that it won't be changed. I prefer changes to be minimal. Not needing this change, dropping it is IMHO a good idea.", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531224274", "createdAt": "2020-11-26T21:06:45Z", "author": {"login": "matthiasblaesing"}, "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "diffHunk": "@@ -270,7 +270,7 @@ private static FileObject getResourcesDirectory(FileObject file) {\n             if (folder.getName().equalsIgnoreCase(\"resources\")) { //NOI18N\n                 //check if its parent is META-INF\n                 FileObject parent = folder.getParent();\n-                if (parent != null && parent.getNameExt().startsWith(\"META-INF\")) { //NOI18N\n+                if (parent != null && parent.getName().startsWith(\"META-INF\")) { //NOI18N", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}, "originalCommit": {"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIyNjE2OQ==", "bodyText": "FileObject indeed looks a bit, how to put it, hairy.", "url": "https://github.com/apache/netbeans/pull/2557#discussion_r531226169", "createdAt": "2020-11-26T21:15:16Z", "author": {"login": "fcorneli"}, "path": "enterprise/web.jsf.editor/src/org/netbeans/modules/web/jsf/editor/index/CompositeComponentModel.java", "diffHunk": "@@ -270,7 +270,7 @@ private static FileObject getResourcesDirectory(FileObject file) {\n             if (folder.getName().equalsIgnoreCase(\"resources\")) { //NOI18N\n                 //check if its parent is META-INF\n                 FileObject parent = folder.getParent();\n-                if (parent != null && parent.getNameExt().startsWith(\"META-INF\")) { //NOI18N\n+                if (parent != null && parent.getName().startsWith(\"META-INF\")) { //NOI18N", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTIwNDc4MQ=="}, "originalCommit": {"oid": "f3517423d17cc1c945ea6e8ab47eabbe8f19f984"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 252, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}