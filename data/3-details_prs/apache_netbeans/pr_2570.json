{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MzgwNzEy", "number": 2570, "title": "[NETBEANS:4447]:Fixed NullPointerException while computing switch exp\u2026", "bodyText": "Fixed NullPointerException while computing switch expression conversion and formatting issue", "createdAt": "2020-11-30T08:26:49Z", "url": "https://github.com/apache/netbeans/pull/2570", "merged": true, "mergeCommit": {"oid": "5a9c949e8e4e2820109de064f4c2b501dcb49242"}, "closed": true, "closedAt": "2021-04-02T19:14:14Z", "author": {"login": "Mohan-Sarilla"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiOT7hAFqTU0MjgxODc2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeIenLwAFqTYyNTA5MTUxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyODE4NzYz", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-542818763", "createdAt": "2020-12-02T13:11:06Z", "commit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODQxNjAw", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-543841600", "createdAt": "2020-12-03T11:04:43Z", "commit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNDo0NFrOH-UXTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNDo0NFrOH-UXTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEwNzQwNw==", "bodyText": "Please use not TABs but spaces.", "url": "https://github.com/apache/netbeans/pull/2570#discussion_r535107407", "createdAt": "2020-12-03T11:04:44Z", "author": {"login": "junichi11"}, "path": "java/java.source.base/src/org/netbeans/modules/java/source/save/CasualDiff.java", "diffHunk": "@@ -1900,7 +1900,14 @@ protected int diffSwitch(JCSwitch oldT, JCSwitch newT, int[] bounds) {\n         PositionEstimator est = EstimatorFactory.cases(oldT.getCases(), newT.getCases(), diffContext);\n         localPointer = diffList(oldT.cases, newT.cases, localPointer, est, Measure.MEMBER, printer);\n \n-        copyTo(localPointer, bounds[1]);\n+        List<JCCase> cases = newT.cases;\n+        if (cases.size() != 0) {\n+            String caseKind = String.valueOf(CasualDiff.getCaseKind(cases.get(0)));\n+            if (caseKind.equals(\"RULE\")) {\n+\t\tprinter.newline();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODQxOTU0", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-543841954", "createdAt": "2020-12-03T11:05:08Z", "commit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNTowOFrOH-UZKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNTowOFrOH-UZKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEwNzg4MA==", "bodyText": "Please use not a TAB but spaces.", "url": "https://github.com/apache/netbeans/pull/2570#discussion_r535107880", "createdAt": "2020-12-03T11:05:08Z", "author": {"login": "junichi11"}, "path": "java/java.source.base/src/org/netbeans/modules/java/source/save/CasualDiff.java", "diffHunk": "@@ -1900,7 +1900,14 @@ protected int diffSwitch(JCSwitch oldT, JCSwitch newT, int[] bounds) {\n         PositionEstimator est = EstimatorFactory.cases(oldT.getCases(), newT.getCases(), diffContext);\n         localPointer = diffList(oldT.cases, newT.cases, localPointer, est, Measure.MEMBER, printer);\n \n-        copyTo(localPointer, bounds[1]);\n+        List<JCCase> cases = newT.cases;\n+        if (cases.size() != 0) {\n+            String caseKind = String.valueOf(CasualDiff.getCaseKind(cases.get(0)));\n+            if (caseKind.equals(\"RULE\")) {\n+\t\tprinter.newline();\n+            }\n+        }\n+\tcopyTo(localPointer, bounds[1]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODQyNzUw", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-543842750", "createdAt": "2020-12-03T11:06:11Z", "commit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNjoxMlrOH-UeDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowNjoxMlrOH-UeDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEwOTEzMg==", "bodyText": "Please use not TABs but spaces.\nOther changes as well.", "url": "https://github.com/apache/netbeans/pull/2570#discussion_r535109132", "createdAt": "2020-12-03T11:06:12Z", "author": {"login": "junichi11"}, "path": "java/java.hints/src/org/netbeans/modules/java/hints/errors/Utilities.java", "diffHunk": "@@ -3137,7 +3137,8 @@ public static boolean isCompatibleWithSwitchExpression(SwitchTree st) {\n                             }\n                             break;\n                         } else {\n-                            if (leftTreeName != null && leftTreeName.contentEquals(getLeftTreeName(statements.get(0)))) {\n+\t\t\t    Name exprTree = getLeftTreeName(statements.get(0));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODQ0NDE3", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-543844417", "createdAt": "2020-12-03T11:08:22Z", "commit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowODoyMlrOH-UoHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMTowODoyMlrOH-UoHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTExMTcwOQ==", "bodyText": "Please add // NOI18N if it is not expect i18N", "url": "https://github.com/apache/netbeans/pull/2570#discussion_r535111709", "createdAt": "2020-12-03T11:08:22Z", "author": {"login": "junichi11"}, "path": "java/java.source.base/src/org/netbeans/modules/java/source/save/CasualDiff.java", "diffHunk": "@@ -1900,7 +1900,14 @@ protected int diffSwitch(JCSwitch oldT, JCSwitch newT, int[] bounds) {\n         PositionEstimator est = EstimatorFactory.cases(oldT.getCases(), newT.getCases(), diffContext);\n         localPointer = diffList(oldT.cases, newT.cases, localPointer, est, Measure.MEMBER, printer);\n \n-        copyTo(localPointer, bounds[1]);\n+        List<JCCase> cases = newT.cases;\n+        if (cases.size() != 0) {\n+            String caseKind = String.valueOf(CasualDiff.getCaseKind(cases.get(0)));\n+            if (caseKind.equals(\"RULE\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a2eab1cd2ac297b4b5f7d552b625faca3b79ffb"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NzE1OTAz", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-547715903", "createdAt": "2020-12-08T23:20:33Z", "commit": {"oid": "cb0f6927c51a7d6bcebb765648b704af2ca57913"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMzoyMDozM1rOIB62Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQyMzoyMDozM1rOIB62Og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODg4MzY0Mg==", "bodyText": "I would introduce a method for checking conditions because it's the same as above.\ncc: @Akshay-Gupta-Oracle", "url": "https://github.com/apache/netbeans/pull/2570#discussion_r538883642", "createdAt": "2020-12-08T23:20:33Z", "author": {"login": "junichi11"}, "path": "java/java.hints/src/org/netbeans/modules/java/hints/errors/Utilities.java", "diffHunk": "@@ -3155,7 +3156,8 @@ public static boolean isCompatibleWithSwitchExpression(SwitchTree st) {\n                             }\n                             firstCase = false;\n                         }\n-                        if (leftTreeName != null && leftTreeName.contentEquals(getLeftTreeName(statements.get(0)))) {\n+                        Name exprTree = getLeftTreeName(statements.get(0));\n+                        if (leftTreeName != null && exprTree != null && leftTreeName.contentEquals(exprTree)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb0f6927c51a7d6bcebb765648b704af2ca57913"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8e8fc5c8f62cc9ee8344aea8b2b375181ea13af", "author": {"user": {"login": "Mohan-Sarilla", "name": "Sarilla Mohanarao"}}, "url": "https://github.com/apache/netbeans/commit/e8e8fc5c8f62cc9ee8344aea8b2b375181ea13af", "committedDate": "2020-12-09T09:06:28Z", "message": "[NETBEANS:4447]:Fixed NullPointerException while computing switch expression conversion and Formatting Issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb0f6927c51a7d6bcebb765648b704af2ca57913", "author": {"user": {"login": "Mohan-Sarilla", "name": "Sarilla Mohanarao"}}, "url": "https://github.com/apache/netbeans/commit/cb0f6927c51a7d6bcebb765648b704af2ca57913", "committedDate": "2020-12-08T16:37:30Z", "message": "[NETBEANS:4447]:Correcting Formatting Issues"}, "afterCommit": {"oid": "e8e8fc5c8f62cc9ee8344aea8b2b375181ea13af", "author": {"user": {"login": "Mohan-Sarilla", "name": "Sarilla Mohanarao"}}, "url": "https://github.com/apache/netbeans/commit/e8e8fc5c8f62cc9ee8344aea8b2b375181ea13af", "committedDate": "2020-12-09T09:06:28Z", "message": "[NETBEANS:4447]:Fixed NullPointerException while computing switch expression conversion and Formatting Issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjI1MDkxNTE1", "url": "https://github.com/apache/netbeans/pull/2570#pullrequestreview-625091515", "createdAt": "2021-03-31T09:39:44Z", "commit": {"oid": "e8e8fc5c8f62cc9ee8344aea8b2b375181ea13af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 375, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}