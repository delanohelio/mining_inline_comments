{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3ODQ4NDc4", "number": 2250, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwNDoyNTo1MlrOENjsuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjo1MTozOVrOEOq5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyNjUxODMyOnYy", "diffSide": "RIGHT", "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQwNDoyNTo1MlrOGwRIIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMTozMjoxNlrOGx5_aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI2NTQ0Mg==", "bodyText": "I also thought other implementations:\nCreate Message.EMPTY and return it instead of null\n    public Message getFirstError() {\n        if (hasErrors()) {\n            return errors.get(0);\n        }\n        return Message.EMPTY;\n    }\n\n    public static final class Message {\n        public static final Message EMPTY = new Message(\"\", \"\"); \n\nUse Optional\n    public Optional<Message> getFirstError() {\n        if (hasErrors()) {\n            return Optional.of(errors.get(0));\n        }\n        return Optional.empty();\n    }\nWhich is better?", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r453265442", "createdAt": "2020-07-12T04:25:52Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.\n+     * @since 2.72\n+     */\n+    @CheckForNull\n+    public Message getFirstError() {\n+        if (hasErrors()) {\n+            return errors.get(0);\n+        }\n+        return null;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMTE3MQ==", "bodyText": "I think that Message.EMPTY would complicate things because the caller would need to (a) check whether it is an empty message (which is similar for the current check for null) or (b) adjust UI not to show the empty error as an error.\nUsing Optional would be better but I would perhaps keep the current implementation, it is more consistent with the rest of the NetBeans codebase (and we have @CheckForNull). But up to you, feel free to use it if you want to, I definitely have no objections.\nThanks.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454831171", "createdAt": "2020-07-15T06:53:27Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.\n+     * @since 2.72\n+     */\n+    @CheckForNull\n+    public Message getFirstError() {\n+        if (hasErrors()) {\n+            return errors.get(0);\n+        }\n+        return null;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI2NTQ0Mg=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk4MzUzMQ==", "bodyText": "Makes sense. I agree with you. I'll keep this. Thanks a lot!", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454983531", "createdAt": "2020-07-15T11:32:16Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.\n+     * @since 2.72\n+     */\n+    @CheckForNull\n+    public Message getFirstError() {\n+        if (hasErrors()) {\n+            return errors.get(0);\n+        }\n+        return null;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI2NTQ0Mg=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjkzOTQ3OnYy", "diffSide": "RIGHT", "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjo1NjowN1rOGxwxVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMTo0NTo1N1rOGx6Z2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMjQ2OQ==", "bodyText": "Maybe to be added or {@code null} if there are no errors?", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454832469", "createdAt": "2020-07-15T06:56:07Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk4NDAwOA==", "bodyText": "Will fix. Thanks!", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454984008", "createdAt": "2020-07-15T11:33:14Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMjQ2OQ=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk5MDI5Ng==", "bodyText": "Fixed.\nhttps://github.com/apache/netbeans/compare/5685f82c7815b1441ffe2188fa7c327dc79c8685..6c2e311da592782e23c67563514a380699ed4314", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454990296", "createdAt": "2020-07-15T11:45:57Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -80,6 +81,20 @@ public boolean hasErrors() {\n         return new ArrayList<>(errors);\n     }\n \n+    /**\n+     * Get the first error.\n+     *\n+     * @return the first error.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMjQ2OQ=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjk0MDc4OnYy", "diffSide": "RIGHT", "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjo1NjozMlrOGxwyGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMTozMzoyMlrOGx6BiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMjY2NQ==", "bodyText": "The same note as above.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454832665", "createdAt": "2020-07-15T06:56:32Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk4NDA3Mw==", "bodyText": "Will fix. Thanks!", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454984073", "createdAt": "2020-07-15T11:33:22Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMjY2NQ=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNjk0MzgxOnYy", "diffSide": "RIGHT", "path": "php/php.api.phpmodule/manifest.mf", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQwNjo1NzozNVrOGxwz_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1OTowM1rOGyCV9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMzE0OA==", "bodyText": "Don't we want to increase the dependency version in php.kit?", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454833148", "createdAt": "2020-07-15T06:57:35Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/manifest.mf", "diffHunk": "@@ -1,4 +1,4 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.php.api.phpmodule\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/php/api/phpmodule/resources/Bundle.properties\n-OpenIDE-Module-Specification-Version: 2.71\n+OpenIDE-Module-Specification-Version: 2.72", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk4NTYyNQ==", "bodyText": "It seems that php.kit doesn't have phpmodule.apias module-dependencies: https://github.com/apache/netbeans/blob/master/php/php.kit/nbproject/project.xml", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r454985625", "createdAt": "2020-07-15T11:36:36Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/manifest.mf", "diffHunk": "@@ -1,4 +1,4 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.php.api.phpmodule\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/php/api/phpmodule/resources/Bundle.properties\n-OpenIDE-Module-Specification-Version: 2.71\n+OpenIDE-Module-Specification-Version: 2.72", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMzE0OA=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNTcyNQ==", "bodyText": "OK, so some other module has to depend on it (my bet is php.project). But that would mean that also version of that module (together with php.kit) would need to be increased - probably not needed (I have no idea how \"live\" NB updates are). So, let's keep it as it is, thanks.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455025725", "createdAt": "2020-07-15T12:50:11Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/manifest.mf", "diffHunk": "@@ -1,4 +1,4 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.php.api.phpmodule\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/php/api/phpmodule/resources/Bundle.properties\n-OpenIDE-Module-Specification-Version: 2.71\n+OpenIDE-Module-Specification-Version: 2.72", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMzE0OA=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMDM3Mg==", "bodyText": "OK, so some other module has to depend on it (my bet is php.project).\n\nYes, php.project, php.editor, etc.\n\nSo, let's keep it as it is\n\nOK.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455120372", "createdAt": "2020-07-15T14:59:03Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/manifest.mf", "diffHunk": "@@ -1,4 +1,4 @@\n Manifest-Version: 1.0\n OpenIDE-Module: org.netbeans.modules.php.api.phpmodule\n OpenIDE-Module-Localizing-Bundle: org/netbeans/modules/php/api/phpmodule/resources/Bundle.properties\n-OpenIDE-Module-Specification-Version: 2.71\n+OpenIDE-Module-Specification-Version: 2.72", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDgzMzE0OA=="}, "originalCommit": {"oid": "5685f82c7815b1441ffe2188fa7c327dc79c8685"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODE4Mjg4OnYy", "diffSide": "RIGHT", "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjo1MTozOVrOGx8ntQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1OTo1MFrOGyCYGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjYxMw==", "bodyText": "Should be [...] no [warnings] ;)", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455026613", "createdAt": "2020-07-15T12:51:39Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning or {@code null} if there are no errors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c2e311da592782e23c67563514a380699ed4314"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNzA3Nw==", "bodyText": "Please, let me know if you are going to change it. If not, I will merge this PR. Thanks.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455027077", "createdAt": "2020-07-15T12:52:24Z", "author": {"login": "tmysik"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning or {@code null} if there are no errors", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjYxMw=="}, "originalCommit": {"oid": "6c2e311da592782e23c67563514a380699ed4314"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEwOTUxNg==", "bodyText": "Will fix it, sorry...", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455109516", "createdAt": "2020-07-15T14:47:12Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning or {@code null} if there are no errors", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjYxMw=="}, "originalCommit": {"oid": "6c2e311da592782e23c67563514a380699ed4314"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMDkyMQ==", "bodyText": "Fixed.", "url": "https://github.com/apache/netbeans/pull/2250#discussion_r455120921", "createdAt": "2020-07-15T14:59:50Z", "author": {"login": "junichi11"}, "path": "php/php.api.phpmodule/src/org/netbeans/modules/php/api/validation/ValidationResult.java", "diffHunk": "@@ -98,6 +113,20 @@ public boolean hasWarnings() {\n \n     }\n \n+    /**\n+     * Get the first warning.\n+     *\n+     * @return the first warning or {@code null} if there are no errors", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjYxMw=="}, "originalCommit": {"oid": "6c2e311da592782e23c67563514a380699ed4314"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 468, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}