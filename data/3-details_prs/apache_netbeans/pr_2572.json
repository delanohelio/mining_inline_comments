{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NjcyODky", "number": 2572, "title": "Display sources loaded from String and find their MIME type.", "bodyText": "Sources that have no File associated are put to a special virtual SourceFS filesystem. We add the MIME type information and use these files in NetBeans. It's also assured that breakpoints submitted into these files are resolved correctly.\nA simple API change needs to be done: DVFrame.getSourceMimeType().", "createdAt": "2020-11-30T16:43:29Z", "url": "https://github.com/apache/netbeans/pull/2572", "merged": true, "mergeCommit": {"oid": "d01392798985c3d056a196b0e23ff9c98a277028"}, "closed": true, "closedAt": "2020-12-02T09:52:32Z", "author": {"login": "entlicher"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhpiZigH2gAyNTI5NjcyODkyOjU4NzBjN2U3OGYyYjY3OTQwMGMwNjJkN2I4MjRjNjNlYjI4YTllNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh9DFjgFqTU0MjExMjUwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5870c7e78f2b679400c062d7b824c63eb28a9e76", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/5870c7e78f2b679400c062d7b824c63eb28a9e76", "committedDate": "2020-11-30T18:20:25Z", "message": "Display sources loaded from String and find their MIME type."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a7fcfacaea1262b7d03dc034d80633d31d61105", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/5a7fcfacaea1262b7d03dc034d80633d31d61105", "committedDate": "2020-11-30T18:20:27Z", "message": "Use the default MIME type, when not set on the Source."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "44c40388575a67dac45e28665705deb686b308a8", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/44c40388575a67dac45e28665705deb686b308a8", "committedDate": "2020-11-30T16:37:53Z", "message": "Display sources loaded from String and find their MIME type."}, "afterCommit": {"oid": "5a7fcfacaea1262b7d03dc034d80633d31d61105", "author": {"user": {"login": "entlicher", "name": "Martin Entlicher"}}, "url": "https://github.com/apache/netbeans/commit/5a7fcfacaea1262b7d03dc034d80633d31d61105", "committedDate": "2020-11-30T18:20:27Z", "message": "Use the default MIME type, when not set on the Source."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMTEyNTAx", "url": "https://github.com/apache/netbeans/pull/2572#pullrequestreview-542112501", "createdAt": "2020-12-01T17:04:13Z", "commit": {"oid": "5a7fcfacaea1262b7d03dc034d80633d31d61105"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzowNDoxM1rOH822kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzowNDoxM1rOH822kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU3NTMxMg==", "bodyText": "A test for this path would be nice. Maybe extend ServerTest?", "url": "https://github.com/apache/netbeans/pull/2572#discussion_r533575312", "createdAt": "2020-12-01T17:04:13Z", "author": {"login": "JaroslavTulach"}, "path": "java/java.lsp.server/src/org/netbeans/modules/java/lsp/server/debugging/NbProtocolServer.java", "diffHunk": "@@ -286,11 +290,33 @@ public NbProtocolServer(DebugAdapterContext context) {\n                     stackFrame.setId(frameId);\n                     stackFrame.setName(frame.getName());\n                     URI sourceURI = frame.getSourceURI();\n-                    if (sourceURI != null && sourceURI.getPath() != null) {\n+                    if (sourceURI != null) {\n                         Source source = new Source();\n-                        source.setName(Paths.get(sourceURI).getFileName().toString());\n-                        source.setPath(sourceURI.getPath());\n-                        source.setSourceReference(0);\n+                        String scheme = sourceURI.getScheme();\n+                        if (null == scheme || scheme.isEmpty() || \"file\".equalsIgnoreCase(scheme)) {\n+                            source.setName(Paths.get(sourceURI).getFileName().toString());\n+                            source.setPath(sourceURI.getPath());\n+                            source.setSourceReference(0);\n+                        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a7fcfacaea1262b7d03dc034d80633d31d61105"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 379, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}