{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjYxMDk5", "number": 2070, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNjo0NVrOD3xcJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMToyMzo0NFrOD4NkFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODA4Mjk1OnYy", "diffSide": "RIGHT", "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTozNjo0NlrOGOOAbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTowNzoyOFrOGO6YKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2MjczMw==", "bodyText": "The original code contained a null check here, is it unnecessary ?", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r417562733", "createdAt": "2020-04-29T19:36:46Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI4OTcwNQ==", "bodyText": "No, I added the null check", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418289705", "createdAt": "2020-04-30T21:07:28Z", "author": {"login": "hectorespert"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2MjczMw=="}, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5ODExMDQxOnYy", "diffSide": "RIGHT", "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOTo0NDo0NlrOGOORSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMToxOToxMFrOGO6uIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NzA0OQ==", "bodyText": "A suggestion: these two functions (collectExtraModulesTextsFromFeatures and generateDownloadMessageFromExtraModulesTexts) are called in a sequence: you could merge it, producing the String for the label - and you could eventually print the required texts in Bold into the string ?", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r417567049", "createdAt": "2020-04-29T19:44:46Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {\n+                descriptionsList.add(s);\n+            }\n+        }\n+        return descriptionsList;\n+    } \n+    \n+    /**\n+     * Generate download message from extra modules texts\n+     * @param extraModulesTexts\n+     * @return String Text to set in download label\n+     */\n+    protected String generateDownloadMessageFromExtraModulesTexts(List<String> extraModulesTexts) {\n+        StringBuilder sbDownload = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5MTUzNQ==", "bodyText": "I could merge both functions, but I created these to create tests for this part of the code.\nIt is not the best solution but test the ConfigurationPanel clas is too hard due his dependencies.", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418291535", "createdAt": "2020-04-30T21:11:22Z", "author": {"login": "hectorespert"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {\n+                descriptionsList.add(s);\n+            }\n+        }\n+        return descriptionsList;\n+    } \n+    \n+    /**\n+     * Generate download message from extra modules texts\n+     * @param extraModulesTexts\n+     * @return String Text to set in download label\n+     */\n+    protected String generateDownloadMessageFromExtraModulesTexts(List<String> extraModulesTexts) {\n+        StringBuilder sbDownload = new StringBuilder();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NzA0OQ=="}, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NTMzMQ==", "bodyText": "OK, it was just an idea; let's see how the entire message list will be readable", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418295331", "createdAt": "2020-04-30T21:19:10Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -190,6 +180,40 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n             org.openide.awt.Mnemonics.setLocalizedText(downloadButton, btnDownloadMsg);\n         }\n     }\n+    \n+    /**\n+     * Collect extra modules texts\n+     */\n+    protected List<String> collectExtraModulesTextsFromFeatures(Collection<FeatureInfo> features, boolean required) {\n+        List<String> descriptionsList = new ArrayList<>();\n+        for (FeatureInfo fi : features) {\n+            String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n+            if (!descriptionsList.contains(s)) {\n+                descriptionsList.add(s);\n+            }\n+        }\n+        return descriptionsList;\n+    } \n+    \n+    /**\n+     * Generate download message from extra modules texts\n+     * @param extraModulesTexts\n+     * @return String Text to set in download label\n+     */\n+    protected String generateDownloadMessageFromExtraModulesTexts(List<String> extraModulesTexts) {\n+        StringBuilder sbDownload = new StringBuilder();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU2NzA0OQ=="}, "originalCommit": {"oid": "fd9a7853b2357e4f0a91db1b6f20d4c15a157d15"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjY5MDc4OnYy", "diffSide": "RIGHT", "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMToyMzo0NFrOGO62OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxMjowMTozM1rOGQmJiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NzQwMQ==", "bodyText": "While the check does its job isn't it a little overabstracting a simple s != null :-)  ?\nif there is an explicit import static for the nonNull, the preceding import j.u.Objects is not needed.", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418297401", "createdAt": "2020-04-30T21:23:44Z", "author": {"login": "sdedic"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -188,7 +190,7 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n         List<String> descriptionsList = new ArrayList<>();\n         for (FeatureInfo fi : features) {\n             String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n-            if (!descriptionsList.contains(s)) {\n+            if (nonNull(s) && !descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2OTY4Nw==", "bodyText": "I removed unused import. I forgot to remove it.", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r418469687", "createdAt": "2020-05-01T09:00:54Z", "author": {"login": "hectorespert"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -188,7 +190,7 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n         List<String> descriptionsList = new ArrayList<>();\n         for (FeatureInfo fi : features) {\n             String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n-            if (!descriptionsList.contains(s)) {\n+            if (nonNull(s) && !descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NzQwMQ=="}, "originalCommit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA1MzcxNA==", "bodyText": "is this resolved ? can we merge ?", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r420053714", "createdAt": "2020-05-05T11:58:14Z", "author": {"login": "ebarboni"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -188,7 +190,7 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n         List<String> descriptionsList = new ArrayList<>();\n         for (FeatureInfo fi : features) {\n             String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n-            if (!descriptionsList.contains(s)) {\n+            if (nonNull(s) && !descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NzQwMQ=="}, "originalCommit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA1NTQzMg==", "bodyText": "It is resolved", "url": "https://github.com/apache/netbeans/pull/2070#discussion_r420055432", "createdAt": "2020-05-05T12:01:33Z", "author": {"login": "hectorespert"}, "path": "ergonomics/ide.ergonomics/src/org/netbeans/modules/ide/ergonomics/fod/ConfigurationPanel.java", "diffHunk": "@@ -188,7 +190,7 @@ public void setInfo(FeatureInfo info, String displayName, Collection<UpdateEleme\n         List<String> descriptionsList = new ArrayList<>();\n         for (FeatureInfo fi : features) {\n             String s = required ? fi.getExtraModulesRequiredText(): fi.getExtraModulesRecommendedText();\n-            if (!descriptionsList.contains(s)) {\n+            if (nonNull(s) && !descriptionsList.contains(s)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI5NzQwMQ=="}, "originalCommit": {"oid": "607523d511d1615f9ad437f5faf58504d3a5dac4"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 627, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}