{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NDQyMDAx", "number": 2124, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjozMToxN1rODtgpLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjoxOToxNlrODtmzVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDQ3MzQxOnYy", "diffSide": "RIGHT", "path": "site/docs/api/serialization.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjozMToxN1rOF--W5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjozNjoxMFrOF--h5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NzcwMA==", "bodyText": "do you need to add any additional classes ? (Protobuf specific) or just registering serializer is enough, without calling addClass ?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401577700", "createdAt": "2020-04-01T12:31:17Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -321,3 +321,56 @@ a jar file. Moreover, used type ids have to be unique across all\n serializers. Despite those limitations cluster level serializers offer\n full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n the possibility to query & update `Map`s as well as read from `EventJournal`.\n+\n+### 3rd Party Serialization Support\n+\n+#### Google Protocol Buffers\n+\n+As Google Protocol Buffers types already implement `Serializable` interface\n+they are natively supported and don't need custom serializer. However, for\n+best performance we encourage using Protocol Buffers specific serialization.\n+Jet extensions already contain an adapter and hook (supporting Protocol\n+Buffers v3) that allow you to make use of it.\n+\n+To include Maven dependency add following to your pom:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it with just a job, implement provided adapter:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecccec6985a6ebe403824484316b06200ad24062"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3ODgwMg==", "bodyText": "You need to addJar() the extension obviously.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401578802", "createdAt": "2020-04-01T12:33:13Z", "author": {"login": "gierlachg"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -321,3 +321,56 @@ a jar file. Moreover, used type ids have to be unique across all\n serializers. Despite those limitations cluster level serializers offer\n full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n the possibility to query & update `Map`s as well as read from `EventJournal`.\n+\n+### 3rd Party Serialization Support\n+\n+#### Google Protocol Buffers\n+\n+As Google Protocol Buffers types already implement `Serializable` interface\n+they are natively supported and don't need custom serializer. However, for\n+best performance we encourage using Protocol Buffers specific serialization.\n+Jet extensions already contain an adapter and hook (supporting Protocol\n+Buffers v3) that allow you to make use of it.\n+\n+To include Maven dependency add following to your pom:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it with just a job, implement provided adapter:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NzcwMA=="}, "originalCommit": {"oid": "ecccec6985a6ebe403824484316b06200ad24062"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU4MDUxNw==", "bodyText": "this should be in the docs. what about dependencies of the JAR? does it shade protobuf dependencies?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401580517", "createdAt": "2020-04-01T12:36:10Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -321,3 +321,56 @@ a jar file. Moreover, used type ids have to be unique across all\n serializers. Despite those limitations cluster level serializers offer\n full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n the possibility to query & update `Map`s as well as read from `EventJournal`.\n+\n+### 3rd Party Serialization Support\n+\n+#### Google Protocol Buffers\n+\n+As Google Protocol Buffers types already implement `Serializable` interface\n+they are natively supported and don't need custom serializer. However, for\n+best performance we encourage using Protocol Buffers specific serialization.\n+Jet extensions already contain an adapter and hook (supporting Protocol\n+Buffers v3) that allow you to make use of it.\n+\n+To include Maven dependency add following to your pom:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it with just a job, implement provided adapter:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NzcwMA=="}, "originalCommit": {"oid": "ecccec6985a6ebe403824484316b06200ad24062"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTQ3ODg4OnYy", "diffSide": "RIGHT", "path": "site/docs/api/serialization.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjoxODoyOVrOF_IUJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjozNDowOFrOF_I93Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MDgzNw==", "bodyText": "since it's reworded, we don't need to depend on the fat JAR here, and we should also include the equivalent gradle snippet as the first option (this is the convention throughout the documentation)", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401740837", "createdAt": "2020-04-01T16:18:29Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 167}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1MTUxNw==", "bodyText": "We actually want to support both approaches, with the extension installed on the Jet cluster and used just inside a job. We should update the docs in that direction.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401751517", "createdAt": "2020-04-01T16:34:08Z", "author": {"login": "mtopolnik"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MDgzNw=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 167}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTQ4MjQ1OnYy", "diffSide": "RIGHT", "path": "site/docs/api/serialization.md", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjoxOToxNlrOF_IWYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQwNjo1MzoyN1rOF_di8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ==", "bodyText": "wouldn't it be easier to use the registerSerializer(ProtobufSerializer.from(..) option?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401741411", "createdAt": "2020-04-01T16:19:16Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0Mzg3Mw==", "bodyText": "registerSerializer() takes serializer by class right now", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401743873", "createdAt": "2020-04-01T16:22:53Z", "author": {"login": "gierlachg"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0OTI4MQ==", "bodyText": "would it make sense to support instance as well?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401749281", "createdAt": "2020-04-01T16:30:50Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc2MDQ2MA==", "bodyText": "I guess we could do that, wanted to keep it simple.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401760460", "createdAt": "2020-04-01T16:48:17Z", "author": {"login": "gierlachg"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc3MTE1NA==", "bodyText": "However, in case of Protobuf adapter which isn't Serializable (Parser is not Serializable) that would not be very useful.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r401771154", "createdAt": "2020-04-01T17:03:47Z", "author": {"login": "gierlachg"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjA4ODY5MQ==", "bodyText": "ok I see. \ud83d\udc4d", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2124#discussion_r402088691", "createdAt": "2020-04-02T06:53:27Z", "author": {"login": "cangencer"}, "path": "site/docs/api/serialization.md", "diffHunk": "@@ -315,9 +316,58 @@ hazelcast:\n         \"class-name\": \"com.hazelcast.jet.examples.PersonSerializer\"\n ```\n \n-All the classes - data types, serializers & hooks - should be present\n-on the cluster classpath, ideally in server's `lib` directory packaged as\n-a jar file. Moreover, used type ids have to be unique across all\n-serializers. Despite those limitations cluster level serializers offer\n-full support for IMDG [sources and sinks](sources-sinks.md) - in particular\n-the possibility to query & update `Map`s as well as read from `EventJournal`.\n+Put the JAR containing the serializer hook and related classes in the\n+`<jet_home>/lib` directory. Make sure that ecah registered serializer\n+has a unique type ID.\n+\n+The advantage of a cluster-level serializer is that it is supported in\n+all Hazelcast Jet features.\n+\n+## 3rd-Party Serialization Support\n+\n+### Google Protocol Buffers\n+\n+Since the classes generated by Google Protocol Buffers (Protobuf)\n+already implement `java.io.Serializable`, Hazelcast Jet automatically\n+supports them without a custom serializer. However, for best performance\n+we encourage registering a Protobuf-specific serializer. There is a Jet\n+extension module that simplifies this for Protobuf version 3.\n+\n+Add the extension as a dependency to your Jet job's Maven project:\n+\n+```xml\n+<dependency>\n+    <groupId>com.hazelcast.jet</groupId>\n+    <artifactId>hazelcast-jet-protobuf</artifactId>\n+    <classifier>jar-with-dependencies</classifier>\n+    <version>${hazelcast.jet.version}</version>\n+</dependency>\n+```\n+\n+If you want to use it locally within a Jet job, implement an adapter\n+by extending the provided class:\n+\n+```java\n+class PersonSerializer extends ProtobufSerializer<Person> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0MTQxMQ=="}, "originalCommit": {"oid": "5bf66f2406ca822bdccb3f72e3b2ecf271246d45"}, "originalPosition": 176}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4779, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}