{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MTMxNDMx", "number": 2590, "title": "Improve container cleanup, when done explicitly", "bodyText": "In our CDC network tests we are doing manual container lifecycle management, for more control. It turned out to be flawed. It was stopping the containers used by the tests, but it wasn't also removing them nor the volumes they created. This PR fixes the problem and also improves the test code a bit.\nChecklist:\n\n Labels and Milestone set", "createdAt": "2020-10-07T10:01:26Z", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2590", "merged": true, "mergeCommit": {"oid": "2a264de2a6e2dccec4863833f787c410e8fdf1b4"}, "closed": true, "closedAt": "2020-10-07T11:17:08Z", "author": {"login": "jbartok"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQJ-h0AH2gAyNDk5MTMxNDMxOjNiZjNiYTljNWU5YmI1MWE2YjUxNDFhODhkODZjNTYyNWVmZTQ1ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQK2_GAH2gAyNDk5MTMxNDMxOjliZDY0MzQyMWUxNDkyN2Q3YWYyY2E3OWRiZGYyYjE1YWM0OGExNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3bf3ba9c5e9bb51a6b5141a88d86c5625efe45de", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/3bf3ba9c5e9bb51a6b5141a88d86c5625efe45de", "committedDate": "2020-10-07T09:57:28Z", "message": "Improve container cleanup, when done explicitly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "560fdef57d1507fbc4009558d311b80fd022b3b6", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/560fdef57d1507fbc4009558d311b80fd022b3b6", "committedDate": "2020-10-07T10:04:09Z", "message": "Make checkstyle happy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzNzM0NDQy", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2590#pullrequestreview-503734442", "createdAt": "2020-10-07T10:21:49Z", "commit": {"oid": "3bf3ba9c5e9bb51a6b5141a88d86c5625efe45de"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMDoyMTo1MFrOHdsmog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMDoyMTo1MFrOHdsmog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkwMTUzOA==", "bodyText": "I think it would be clearer to assign null directly here:\nstopContainer(mysql);\nmysql = null;", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2590#discussion_r500901538", "createdAt": "2020-10-07T10:21:50Z", "author": {"login": "frant-hartm"}, "path": "extensions/cdc-mysql/src/test/java/com/hazelcast/jet/cdc/mysql/MySqlCdcNetworkIntegrationTest.java", "diffHunk": "@@ -112,11 +114,18 @@ public void before() {\n         assertEquals(\"true\", System.getenv(\"TESTCONTAINERS_RYUK_DISABLED\"));\n     }\n \n+    @After\n+    public void after() {\n+        if (mysql != null) {\n+            mysql = stopContainer(mysql);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bf3ba9c5e9bb51a6b5141a88d86c5625efe45de"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bd643421e14927d7af2ca79dbdf2b15ac48a154", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/9bd643421e14927d7af2ca79dbdf2b15ac48a154", "committedDate": "2020-10-07T10:59:08Z", "message": "Do null assignments explicitly"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3474, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}