{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MTI2MjQw", "number": 2586, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNjoxMjoyNlrOEqlDhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNjoxMjoyNlrOEqlDhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMDgyNzU4OnYy", "diffSide": "LEFT", "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwNjoxMjoyNlrOHc3PGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwODoxMjoxMFrOHdnoSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAyNzE2Mg==", "bodyText": "Why remove this?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2586#discussion_r500027162", "createdAt": "2020-10-06T06:12:26Z", "author": {"login": "jbartok"}, "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "diffHunk": "@@ -133,8 +132,6 @@ void destroy() {\n             }\n         } catch (Exception e) {\n             throw new JetException(\"PythonService cleanup failed: \" + e, e);\n-        } finally {\n-            IOUtil.delete(runtimeBaseDir);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ca2968dcc9498e28ff2360b53e1c1fa5080bdc0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAzMjQxMA==", "bodyText": "We delete the directory passed to us which contains the init script and the actual python handler code. This directory is created by the user prior to submitting the job, user may have other resources in the directory or user may want to re-use the job related scripts for further use. I think it was wrong to delete this directory.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2586#discussion_r500032410", "createdAt": "2020-10-06T06:26:40Z", "author": {"login": "gurbuzali"}, "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "diffHunk": "@@ -133,8 +132,6 @@ void destroy() {\n             }\n         } catch (Exception e) {\n             throw new JetException(\"PythonService cleanup failed: \" + e, e);\n-        } finally {\n-            IOUtil.delete(runtimeBaseDir);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAyNzE2Mg=="}, "originalCommit": {"oid": "0ca2968dcc9498e28ff2360b53e1c1fa5080bdc0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA0NDA5MA==", "bodyText": "Ok, but let's wait for Marko's 5 cents too, because I wouldn't be surprised if he had a good reason for adding this delete.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2586#discussion_r500044090", "createdAt": "2020-10-06T06:54:13Z", "author": {"login": "jbartok"}, "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "diffHunk": "@@ -133,8 +132,6 @@ void destroy() {\n             }\n         } catch (Exception e) {\n             throw new JetException(\"PythonService cleanup failed: \" + e, e);\n-        } finally {\n-            IOUtil.delete(runtimeBaseDir);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAyNzE2Mg=="}, "originalCommit": {"oid": "0ca2968dcc9498e28ff2360b53e1c1fa5080bdc0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgyMDA0Mw==", "bodyText": "Yes, this deletes the temp directory created in the PythonServiceContext constructor, the context.attachedDirectory call. However, ProcSupplierCtx remembers for which atttached directories it already created a temp directory, so a repeated call to attachedDirectory won't repeat this.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2586#discussion_r500820043", "createdAt": "2020-10-07T08:12:10Z", "author": {"login": "mtopolnik"}, "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "diffHunk": "@@ -133,8 +132,6 @@ void destroy() {\n             }\n         } catch (Exception e) {\n             throw new JetException(\"PythonService cleanup failed: \" + e, e);\n-        } finally {\n-            IOUtil.delete(runtimeBaseDir);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDAyNzE2Mg=="}, "originalCommit": {"oid": "0ca2968dcc9498e28ff2360b53e1c1fa5080bdc0"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4403, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}