{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MzU3MzA1", "number": 2183, "title": "Fix flaky test in ExecutionLifecycleTest", "bodyText": "Fix flaky test where job can be completed from JobResult\nReproducible by adding delay to doInvokeJoinJob in AbstractJobProxy.\nFixes #2072\nAdd stacktrace to failureText in JobResult, stack trace is useful for debugging\nChecklist\n\n Tags Set\n Milestone Set", "createdAt": "2020-04-16T13:08:21Z", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2183", "merged": true, "mergeCommit": {"oid": "d4986d8f40c29db20453a29098d28bc1e1d6fc31"}, "closed": true, "closedAt": "2020-04-20T13:29:13Z", "author": {"login": "frant-hartm"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYL7OzgH2gAyNDA0MzU3MzA1OjhkNWI3MWZlYjI2YzVjNWJkNjc5NGEzNzMxYWI3YWVlOTc2ZDkwYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZedG2AFqTM5NjQxNjQ3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8d5b71feb26c5c5bd6794a3731ab7aee976d90c3", "author": {"user": {"login": "frant-hartm", "name": "Franti\u0161ek Hartman"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/8d5b71feb26c5c5bd6794a3731ab7aee976d90c3", "committedDate": "2020-04-16T12:33:55Z", "message": "Fix flaky test where job can be completed from JobResult\n\nReproducible by adding delay to doInvokeJoinJob in AbstractJobProxy.\n\nFixes# 2072"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "481917852d3ffdc2d4ea60e733636da639be0e6b", "author": {"user": {"login": "frant-hartm", "name": "Franti\u0161ek Hartman"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/481917852d3ffdc2d4ea60e733636da639be0e6b", "committedDate": "2020-04-16T12:39:36Z", "message": "Add stacktrace to failureText in JobResult"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0NjM5ODQ4", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2183#pullrequestreview-394639848", "createdAt": "2020-04-16T13:37:29Z", "commit": {"oid": "481917852d3ffdc2d4ea60e733636da639be0e6b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzozNzoyOVrOGGlrKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzozNzoyOVrOGGlrKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU2MTg5Ng==", "bodyText": "This deserves a specification in the javadoc.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2183#discussion_r409561896", "createdAt": "2020-04-16T13:37:29Z", "author": {"login": "viliam-durina"}, "path": "hazelcast-jet-core/src/test/java/com/hazelcast/jet/core/TestUtil.java", "diffHunk": "@@ -69,7 +69,9 @@ public static void assertExceptionInCauses(final Throwable expected, final Throw\n         boolean found = false;\n         Throwable t = caught;\n         while (!found && t != null) {\n-            found = Objects.equals(t.getMessage(), expected.getMessage()) && t.getClass() == expected.getClass();\n+            found = Objects.equals(t.getMessage(), expected.getMessage()) && t.getClass() == expected.getClass() ||\n+                    (t.getMessage().contains(expected.getMessage()) &&\n+                            t.getMessage().contains(expected.getClass().getName()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "481917852d3ffdc2d4ea60e733636da639be0e6b"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4ac0ba89849b69830a0fb3e1a92871b71776666", "author": {"user": {"login": "frant-hartm", "name": "Franti\u0161ek Hartman"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/c4ac0ba89849b69830a0fb3e1a92871b71776666", "committedDate": "2020-04-19T14:38:45Z", "message": "Fix space in the message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a8066bafad1c6ed51253b96919c38f7f5fcf29b", "author": {"user": {"login": "frant-hartm", "name": "Franti\u0161ek Hartman"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/5a8066bafad1c6ed51253b96919c38f7f5fcf29b", "committedDate": "2020-04-20T07:05:20Z", "message": "Update javadoc for assertExceptionInCauses"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDE2NDcz", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2183#pullrequestreview-396416473", "createdAt": "2020-04-20T12:43:08Z", "commit": {"oid": "5a8066bafad1c6ed51253b96919c38f7f5fcf29b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2812, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}