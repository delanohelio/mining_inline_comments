{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyNzMwMjgz", "number": 2672, "title": "Check if python3 is available before initializing python service context", "bodyText": "Fixes #2615\nChecklist:\n\n Labels and Milestone set\n Added a line in hazelcast-jet-distribution/src/root/release_notes.txt (for any non-trivial fix/enhancement/feature)\n New public APIs have @Nonnull/@Nullable annotations\n New public APIs have @since tags in Javadoc\n Updated examples/README.md (when adding a new code sample)", "createdAt": "2020-11-17T21:55:01Z", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2672", "merged": true, "mergeCommit": {"oid": "adb194e8afa7cdd7e38ed04b4d4f832e3208c341"}, "closed": true, "closedAt": "2020-11-24T10:40:32Z", "author": {"login": "gurbuzali"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddgyXkgH2gAyNTIyNzMwMjgzOjQ0ZTMyYTdhNTg0YmFjMTBkZjM5OTRhZjllZWEwOTlkMDAwZDlmNTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfmiIxAH2gAyNTIyNzMwMjgzOjk5MDZiMWQzOTVmM2I2NDFjNDg2OTg2N2QyYThkNzBmODQxZWFmOWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44e32a7a584bac10df3994af9eea099d000d9f56", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/44e32a7a584bac10df3994af9eea099d000d9f56", "committedDate": "2020-11-17T21:53:01Z", "message": "check if python3 is available before initializing python service context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "257152734dc8a34a04c0fc772847cb957b05dc7d", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/257152734dc8a34a04c0fc772847cb957b05dc7d", "committedDate": "2020-11-23T06:58:05Z", "message": "throw illegal state exception"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MTU1NTMx", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2672#pullrequestreview-537155531", "createdAt": "2020-11-24T07:53:50Z", "commit": {"oid": "257152734dc8a34a04c0fc772847cb957b05dc7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNzo1Mzo1MVrOH4v5tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNzo1Mzo1MVrOH4v5tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTI2NzEyNg==", "bodyText": "Is there a minimal python3 version we require?\nAlso, this will pass if python3 --version runs, but returns exit code other than 0. Maybe it would be better to log the output of the command, exit code. Possibly parse the version & check.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2672#discussion_r529267126", "createdAt": "2020-11-24T07:53:51Z", "author": {"login": "frant-hartm"}, "path": "extensions/python/src/main/java/com/hazelcast/jet/python/PythonServiceContext.java", "diffHunk": "@@ -108,6 +109,14 @@\n         }\n     }\n \n+    private void checkIfPythonIsAvailable() {\n+        try {\n+            new ProcessBuilder(\"python3\", \"--version\").start().waitFor();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "257152734dc8a34a04c0fc772847cb957b05dc7d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "286dae1fe6b00087e3e9ef068dbcce20e60f6d65", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/286dae1fe6b00087e3e9ef068dbcce20e60f6d65", "committedDate": "2020-11-24T08:28:16Z", "message": "handle exit value and version output"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8af684be8b0da780106caf44c6b4c03691fa5653", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/8af684be8b0da780106caf44c6b4c03691fa5653", "committedDate": "2020-11-24T08:56:47Z", "message": "close input stream"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MjgzODc3", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2672#pullrequestreview-537283877", "createdAt": "2020-11-24T09:15:02Z", "commit": {"oid": "8af684be8b0da780106caf44c6b4c03691fa5653"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9906b1d395f3b641c4869867d2a8d70f841eaf9e", "author": {"user": null}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/9906b1d395f3b641c4869867d2a8d70f841eaf9e", "committedDate": "2020-11-24T09:42:34Z", "message": "checkstyle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3540, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}