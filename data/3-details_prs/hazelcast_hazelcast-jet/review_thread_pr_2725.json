{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMTUxMjAz", "number": 2725, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzoxODo1MVrOE__xRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzoxODo1MVrOE__xRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1NTQwNTUwOnYy", "diffSide": "RIGHT", "path": "hazelcast-jet-sql/src/test/java/com/hazelcast/jet/sql/impl/connector/test/TestEmptyStreamSqlConnector.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzoxODo1MVrOH-BCfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwNzozOToxOFrOH-DGsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDc5MDc4Mw==", "bodyText": "Can't we use simply TestBatchSqlConnector with zero items?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2725#discussion_r534790783", "createdAt": "2020-12-03T07:18:51Z", "author": {"login": "gierlachg"}, "path": "hazelcast-jet-sql/src/test/java/com/hazelcast/jet/sql/impl/connector/test/TestEmptyStreamSqlConnector.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.hazelcast.jet.sql.impl.connector.test;\n+\n+import com.hazelcast.jet.core.DAG;\n+import com.hazelcast.jet.core.TestProcessors.MockP;\n+import com.hazelcast.jet.core.Vertex;\n+import com.hazelcast.jet.sql.impl.connector.SqlConnector;\n+import com.hazelcast.jet.sql.impl.schema.JetTable;\n+import com.hazelcast.jet.sql.impl.schema.MappingField;\n+import com.hazelcast.spi.impl.NodeEngine;\n+import com.hazelcast.sql.impl.QueryException;\n+import com.hazelcast.sql.impl.expression.Expression;\n+import com.hazelcast.sql.impl.schema.ConstantTableStatistics;\n+import com.hazelcast.sql.impl.schema.Table;\n+import com.hazelcast.sql.impl.schema.TableField;\n+import com.hazelcast.sql.impl.type.QueryDataType;\n+\n+import javax.annotation.Nonnull;\n+import javax.annotation.Nullable;\n+import java.util.List;\n+import java.util.Map;\n+\n+import static com.hazelcast.jet.impl.util.Util.toList;\n+import static java.util.Collections.singletonList;\n+\n+/**\n+ * A connector for SQL that has a single column `v` of type BIGINT, is a\n+ * streaming type, but never produces any items..\n+ */\n+public class TestEmptyStreamSqlConnector implements SqlConnector {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "063a55daeda87d6e651534912a8ec7696711a597"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDgyNDYyNQ==", "bodyText": "Nope, that would complete. I want it to get stuck waiting for more items.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2725#discussion_r534824625", "createdAt": "2020-12-03T07:39:18Z", "author": {"login": "viliam-durina"}, "path": "hazelcast-jet-sql/src/test/java/com/hazelcast/jet/sql/impl/connector/test/TestEmptyStreamSqlConnector.java", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.hazelcast.jet.sql.impl.connector.test;\n+\n+import com.hazelcast.jet.core.DAG;\n+import com.hazelcast.jet.core.TestProcessors.MockP;\n+import com.hazelcast.jet.core.Vertex;\n+import com.hazelcast.jet.sql.impl.connector.SqlConnector;\n+import com.hazelcast.jet.sql.impl.schema.JetTable;\n+import com.hazelcast.jet.sql.impl.schema.MappingField;\n+import com.hazelcast.spi.impl.NodeEngine;\n+import com.hazelcast.sql.impl.QueryException;\n+import com.hazelcast.sql.impl.expression.Expression;\n+import com.hazelcast.sql.impl.schema.ConstantTableStatistics;\n+import com.hazelcast.sql.impl.schema.Table;\n+import com.hazelcast.sql.impl.schema.TableField;\n+import com.hazelcast.sql.impl.type.QueryDataType;\n+\n+import javax.annotation.Nonnull;\n+import javax.annotation.Nullable;\n+import java.util.List;\n+import java.util.Map;\n+\n+import static com.hazelcast.jet.impl.util.Util.toList;\n+import static java.util.Collections.singletonList;\n+\n+/**\n+ * A connector for SQL that has a single column `v` of type BIGINT, is a\n+ * streaming type, but never produces any items..\n+ */\n+public class TestEmptyStreamSqlConnector implements SqlConnector {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDc5MDc4Mw=="}, "originalCommit": {"oid": "063a55daeda87d6e651534912a8ec7696711a597"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4336, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}