{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNDY4NzI5", "number": 2378, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMjoyMTo0MlrOEKEkjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMjoyMzoxMFrOEKEmdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4OTk2MTA5OnYy", "diffSide": "RIGHT", "path": "extensions/cdc-postgres/src/main/java/com/hazelcast/jet/cdc/postgres/PostgresCdcSources.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMjoyMTo0MlrOGq5wTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDowNzoyMlrOGq-HYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzYzOTYzMQ==", "bodyText": "The Debezium PostgreSQL Connector this source is based on has data loss issues when ... - this should be rewritten, seem like there are some left words after rewritting", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2378#discussion_r447639631", "createdAt": "2020-06-30T12:21:42Z", "author": {"login": "olukas"}, "path": "extensions/cdc-postgres/src/main/java/com/hazelcast/jet/cdc/postgres/PostgresCdcSources.java", "diffHunk": "@@ -46,12 +46,20 @@ private PostgresCdcSources() {\n      * Creates a CDC source that streams change data from a PostgreSQL database\n      * to Hazelcast Jet.\n      * <p>\n-     * If Jet can't reach the database when it attempts to start the source or\n-     * if it looses the connection to the database from an already running\n-     * source, it throws an exception and terminate the execution of the job.\n-     * This behaviour is not ideal, would be much better to try to reconnect,\n-     * at least for a certain amount of time. Future versions will address the\n-     * problem.\n+     * <b>KNOWN ISSUE 1:</b> If Jet can't reach the database when it attempts to\n+     * start the source or if it looses the connection to the database from an\n+     * already running source, it throws an exception and terminate the\n+     * execution of the job. This behaviour is not ideal, would be much better\n+     * to try to reconnect, at least for a certain amount of time. Future\n+     * versions will address the problem.\n+     * <p>\n+     * <b>KNOWN ISSUE 2:</b> The Debezium PostgreSQL Connector this source is", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d47f4c1b5906048605f5225ce9ce583242cf79ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcxMTA3NA==", "bodyText": "No, it's actually correct, barring some comas missing, but I'll rephrase it to a simpler form, because that will make it clearer.", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2378#discussion_r447711074", "createdAt": "2020-06-30T14:07:22Z", "author": {"login": "jbartok"}, "path": "extensions/cdc-postgres/src/main/java/com/hazelcast/jet/cdc/postgres/PostgresCdcSources.java", "diffHunk": "@@ -46,12 +46,20 @@ private PostgresCdcSources() {\n      * Creates a CDC source that streams change data from a PostgreSQL database\n      * to Hazelcast Jet.\n      * <p>\n-     * If Jet can't reach the database when it attempts to start the source or\n-     * if it looses the connection to the database from an already running\n-     * source, it throws an exception and terminate the execution of the job.\n-     * This behaviour is not ideal, would be much better to try to reconnect,\n-     * at least for a certain amount of time. Future versions will address the\n-     * problem.\n+     * <b>KNOWN ISSUE 1:</b> If Jet can't reach the database when it attempts to\n+     * start the source or if it looses the connection to the database from an\n+     * already running source, it throws an exception and terminate the\n+     * execution of the job. This behaviour is not ideal, would be much better\n+     * to try to reconnect, at least for a certain amount of time. Future\n+     * versions will address the problem.\n+     * <p>\n+     * <b>KNOWN ISSUE 2:</b> The Debezium PostgreSQL Connector this source is", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzYzOTYzMQ=="}, "originalCommit": {"oid": "d47f4c1b5906048605f5225ce9ce583242cf79ad"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4OTk2NTk2OnYy", "diffSide": "RIGHT", "path": "extensions/cdc-postgres/src/main/java/com/hazelcast/jet/cdc/postgres/PostgresCdcSources.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMjoyMzoxMFrOGq5zSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMjoyMzoxMFrOGq5zSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY0MDM5NA==", "bodyText": "It seems that more items still can be missed after some circumstances. It also not right for events which came a longer time after snapshot (i.e. if there is not update of DB during snapshotting)", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2378#discussion_r447640394", "createdAt": "2020-06-30T12:23:10Z", "author": {"login": "olukas"}, "path": "extensions/cdc-postgres/src/main/java/com/hazelcast/jet/cdc/postgres/PostgresCdcSources.java", "diffHunk": "@@ -46,12 +46,20 @@ private PostgresCdcSources() {\n      * Creates a CDC source that streams change data from a PostgreSQL database\n      * to Hazelcast Jet.\n      * <p>\n-     * If Jet can't reach the database when it attempts to start the source or\n-     * if it looses the connection to the database from an already running\n-     * source, it throws an exception and terminate the execution of the job.\n-     * This behaviour is not ideal, would be much better to try to reconnect,\n-     * at least for a certain amount of time. Future versions will address the\n-     * problem.\n+     * <b>KNOWN ISSUE 1:</b> If Jet can't reach the database when it attempts to\n+     * start the source or if it looses the connection to the database from an\n+     * already running source, it throws an exception and terminate the\n+     * execution of the job. This behaviour is not ideal, would be much better\n+     * to try to reconnect, at least for a certain amount of time. Future\n+     * versions will address the problem.\n+     * <p>\n+     * <b>KNOWN ISSUE 2:</b> The Debezium PostgreSQL Connector this source is\n+     * based on has data loss issues when synchronizing snapshots with event\n+     * streams based on the Postgres WAL (Write-Ahead Log). For details see\n+     * <a href=\"https://issues.redhat.com/browse/DBZ-2288\">DBZ-2288</a>.\n+     * Currently the first streaming event that should come in right after the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d47f4c1b5906048605f5225ce9ce583242cf79ad"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4656, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}