{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MTI3MjE2", "number": 2642, "title": "Require OR REPLACE for CREATE SNAPSHOT", "bodyText": "", "createdAt": "2020-11-05T15:04:53Z", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2642", "merged": true, "mergeCommit": {"oid": "d97ccdd5ac03a7d2d625c32a649da71859ea64ec"}, "closed": true, "closedAt": "2020-11-09T06:47:05Z", "author": {"login": "viliam-durina"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZjvslgH2gAyNTE2MTI3MjE2OjgzYjA0MTNkYTIzOGFiYzg4N2VjZjc1NWIzMTIyNWVmZGQxYjQwMGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZ5PYiAH2gAyNTE2MTI3MjE2OjE2MzRmMmJmNGE0MGI0YmVhNzQ4ODk5MGNkNjVjNzY0MGFjNmUzYmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "83b0413da238abc887ecf755b31225efdd1b400e", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/83b0413da238abc887ecf755b31225efdd1b400e", "committedDate": "2020-11-05T15:04:07Z", "message": "Require OR REPLACE for CREATE SNAPSHOT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MzY3ODQ2", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2642#pullrequestreview-524367846", "createdAt": "2020-11-05T15:19:07Z", "commit": {"oid": "83b0413da238abc887ecf755b31225efdd1b400e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToxOTowN1rOHuIMgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToxOTowN1rOHuIMgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEzMDgxNg==", "bodyText": "Throw SqlValidatorException (see ParserResource)?", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2642#discussion_r518130816", "createdAt": "2020-11-05T15:19:07Z", "author": {"login": "gierlachg"}, "path": "hazelcast-jet-sql/src/main/java/com/hazelcast/jet/sql/impl/parse/SqlCreateSnapshot.java", "diffHunk": "@@ -45,10 +46,15 @@\n     public SqlCreateSnapshot(\n             SqlIdentifier snapshotName,\n             SqlIdentifier jobName,\n+            boolean replace,\n             SqlParserPos pos\n     ) {\n         super(OPERATOR, pos, true, false);\n \n+        if (!replace) {\n+            throw QueryException.error(\"The OR REPLACE option is required for CREATE SNAPSHOT\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83b0413da238abc887ecf755b31225efdd1b400e"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "810d2829b39c8813dca6c4ee6b90cdadc92beff1", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/810d2829b39c8813dca6c4ee6b90cdadc92beff1", "committedDate": "2020-11-05T15:25:10Z", "message": "Fix unrelated typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb9223a82c0926879dea05999a1bedab4d2b6571", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/bb9223a82c0926879dea05999a1bedab4d2b6571", "committedDate": "2020-11-06T13:47:29Z", "message": "Use SqlValidationException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f90deb491cf968f712fa8625b0b6efb2f88d1c", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/46f90deb491cf968f712fa8625b0b6efb2f88d1c", "committedDate": "2020-11-06T15:09:53Z", "message": "Use SqlValidatorException everywhere"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MjQ1NDc1", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2642#pullrequestreview-525245475", "createdAt": "2020-11-06T15:16:00Z", "commit": {"oid": "46f90deb491cf968f712fa8625b0b6efb2f88d1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MjUyMTE2", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2642#pullrequestreview-525252116", "createdAt": "2020-11-06T15:22:40Z", "commit": {"oid": "46f90deb491cf968f712fa8625b0b6efb2f88d1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d03c6f015f4b5402411f8fd5f6a50fc0e9a87b0", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/0d03c6f015f4b5402411f8fd5f6a50fc0e9a87b0", "committedDate": "2020-11-06T15:24:30Z", "message": "Fix unparse"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b6a6ab61525b39c33d3f1e718b82094dd1318ca", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/6b6a6ab61525b39c33d3f1e718b82094dd1318ca", "committedDate": "2020-11-06T15:37:23Z", "message": "Merge remote-tracking branch 'remotes/hazelcast/master' into sql-snapshot-replace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1634f2bf4a40b4bea7488990cd65c7640ac6e3bc", "author": {"user": {"login": "viliam-durina", "name": "Viliam Durina"}}, "url": "https://github.com/hazelcast/hazelcast-jet/commit/1634f2bf4a40b4bea7488990cd65c7640ac6e3bc", "committedDate": "2020-11-06T16:06:44Z", "message": "Fix compilation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3498, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}