{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MjYzMTQ2", "number": 1996, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODoxMDozMlrODhbTfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODoxMDozMlrODhbTfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2Mzc2OTU4OnYy", "diffSide": "RIGHT", "path": "extensions/python/src/test/java/com/hazelcast/jet/python/PythonServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODoxMDozMlrOFsJmdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwODoxMDozMlrOFsJmdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTgzODk2Ng==", "bodyText": "Very minor, but this has a double comment", "url": "https://github.com/hazelcast/hazelcast-jet/pull/1996#discussion_r381838966", "createdAt": "2020-02-20T08:10:32Z", "author": {"login": "mtopolnik"}, "path": "extensions/python/src/test/java/com/hazelcast/jet/python/PythonServiceTest.java", "diffHunk": "@@ -228,6 +231,52 @@ public void streamStage_mapUsingPython_withCleanupScript() throws Exception {\n         assertTrue(\"Cleanup script didn't run\", new File(baseDir, outcomeFilename).isFile());\n     }\n \n+    @Test\n+    public void batchStage_mapUsingPythonFailure() {\n+        // Given\n+        PythonServiceConfig cfg = new PythonServiceConfig()\n+                .setBaseDir(baseDir.toString())\n+                .setHandlerModule(\"echo\")\n+                .setHandlerFunction(\"notExistsFunction\");\n+        Pipeline p = Pipeline.create();\n+        BatchStage<String> stage = p.readFrom(TestSources.items(\"1\"));\n+\n+        // When\n+        stage.apply(mapUsingPythonBatch(cfg)).setLocalParallelism(2)\n+                .writeTo(Sinks.logger());\n+\n+        // Then\n+        try {\n+            instance().newJob(p).join();\n+            fail();\n+        } catch (CompletionException ex) {\n+//            // expected", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b81308c665e3d4276742d24eb5ce23f9abea256c"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4876, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}