{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NzIzOTI5", "number": 1176, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjozNDoyM1rOEYUH2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjozNToxN1rOEYUIcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzOTMwOTY5OnYy", "diffSide": "RIGHT", "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/source/BatchCassandraSource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjozNDoyM1rOHAliwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMzozOTozMFrOHAmdJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NzE1NA==", "bodyText": "more clear to put in this way:\n!containsMacro(Cassandra.USERNAME) && !containsMacro(Cassandra.PASSWORD) && (Strings.isNullOrEmpty(username) ^ Strings.isNullOrEmpty(password))", "url": "https://github.com/cdapio/hydrator-plugins/pull/1176#discussion_r470377154", "createdAt": "2020-08-14T02:34:23Z", "author": {"login": "shifuxu0301"}, "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/source/BatchCassandraSource.java", "diffHunk": "@@ -273,6 +272,22 @@ private Schema getSchema() {\n         throw new IllegalArgumentException(\"Invalid schema: \" + e.getMessage());\n       }\n     }\n+\n+    public void validate(FailureCollector collector) {\n+      if (Strings.isNullOrEmpty(schema)) {\n+        collector.addFailure(\"Schema must be specified.\", null).withConfigProperty(Cassandra.SCHEMA);\n+      }\n+      if (port != null && (port < 1 || port > 65535)) {\n+        collector.addFailure(\"Invalid port.\", \"Port number must be an integer from 1 to 65535.\")\n+          .withConfigProperty(BatchCassandraSink.Cassandra.PORT);\n+      }\n+      if ((!containsMacro(Cassandra.USERNAME) && !containsMacro(Cassandra.PASSWORD)) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1838b518da6a4465270a68eef133429b2f625f6"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM5MjEwMA==", "bodyText": "Fixed", "url": "https://github.com/cdapio/hydrator-plugins/pull/1176#discussion_r470392100", "createdAt": "2020-08-14T03:39:30Z", "author": {"login": "dli357"}, "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/source/BatchCassandraSource.java", "diffHunk": "@@ -273,6 +272,22 @@ private Schema getSchema() {\n         throw new IllegalArgumentException(\"Invalid schema: \" + e.getMessage());\n       }\n     }\n+\n+    public void validate(FailureCollector collector) {\n+      if (Strings.isNullOrEmpty(schema)) {\n+        collector.addFailure(\"Schema must be specified.\", null).withConfigProperty(Cassandra.SCHEMA);\n+      }\n+      if (port != null && (port < 1 || port > 65535)) {\n+        collector.addFailure(\"Invalid port.\", \"Port number must be an integer from 1 to 65535.\")\n+          .withConfigProperty(BatchCassandraSink.Cassandra.PORT);\n+      }\n+      if ((!containsMacro(Cassandra.USERNAME) && !containsMacro(Cassandra.PASSWORD)) &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NzE1NA=="}, "originalCommit": {"oid": "e1838b518da6a4465270a68eef133429b2f625f6"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzOTMxMTIwOnYy", "diffSide": "RIGHT", "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/sink/BatchCassandraSink.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMjozNToxN1rOHAljsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwMzo0MDowMVrOHAmduA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NzM5Mg==", "bodyText": "\"Invalid port number.\" Same thing below.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1176#discussion_r470377392", "createdAt": "2020-08-14T02:35:17Z", "author": {"login": "shifuxu0301"}, "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/sink/BatchCassandraSink.java", "diffHunk": "@@ -178,6 +189,13 @@ public CassandraBatchConfig(String referenceName, String partitioner, @Nullable\n       this.columns = columns;\n       this.primaryKey = primaryKey;\n     }\n+\n+    public void validate(FailureCollector collector) {\n+      if (port != null && (port < 1 || port > 65535)) {\n+        collector.addFailure(\"Invalid port.\", \"Port number must be an integer from 1 to 65535.\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1838b518da6a4465270a68eef133429b2f625f6"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM5MjI0OA==", "bodyText": "Fixed", "url": "https://github.com/cdapio/hydrator-plugins/pull/1176#discussion_r470392248", "createdAt": "2020-08-14T03:40:01Z", "author": {"login": "dli357"}, "path": "cassandra-plugins/src/main/java/io/cdap/plugin/batch/sink/BatchCassandraSink.java", "diffHunk": "@@ -178,6 +189,13 @@ public CassandraBatchConfig(String referenceName, String partitioner, @Nullable\n       this.columns = columns;\n       this.primaryKey = primaryKey;\n     }\n+\n+    public void validate(FailureCollector collector) {\n+      if (port != null && (port < 1 || port > 65535)) {\n+        collector.addFailure(\"Invalid port.\", \"Port number must be an integer from 1 to 65535.\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDM3NzM5Mg=="}, "originalCommit": {"oid": "e1838b518da6a4465270a68eef133429b2f625f6"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2472, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}