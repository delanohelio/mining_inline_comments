{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTkwMTk0", "number": 1031, "title": "(CDAP-16324) Improve macro support in Joiner plugin", "bodyText": "Output schema is now macro enabled.\nHandle null input schema - this happens when the output schema of the previous node is a macro.", "createdAt": "2020-02-27T01:28:56Z", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031", "merged": true, "mergeCommit": {"oid": "9e597e6e6a1349f35749581199a49d49de99a3ed"}, "closed": true, "closedAt": "2020-03-04T18:36:20Z", "author": {"login": "rmstar"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIfekDgFqTM2NTg4MzMxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKNSLogBqjMwOTQ2OTg3NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODgzMzEz", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#pullrequestreview-365883313", "createdAt": "2020-02-27T18:08:47Z", "commit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxODowODo0N1rOFvbtCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxODoxNzozM1rOFvb-mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4MTI4OQ==", "bodyText": "nit: it's more readable in these situations to do:\nif (inputSchemas.isEmpty()) {\n  return;\n}\n\n// rest of logic\n\ndoesn't make much difference here, but is more true if the logic within the block is longer.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r385281289", "createdAt": "2020-02-27T18:08:47Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -95,11 +95,15 @@ public void prepareRun(BatchJoinerContext context) {\n       context.setNumPartitions(conf.getNumPartitions());\n     }\n     FailureCollector collector = context.getFailureCollector();\n-    init(context.getInputSchemas(), collector);\n-    collector.getOrThrowException();\n-    Collection<OutputFieldInfo> outputFieldInfos = createOutputFieldInfos(context.getInputSchemas(), collector);\n-    collector.getOrThrowException();\n-    context.record(createFieldOperations(outputFieldInfos, perStageJoinKeys));\n+    Map<String, Schema> inputSchemas = context.getInputSchemas();\n+    // inputSchemas will be empty if the output schema of the previous node is a macro\n+    if (!inputSchemas.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4MjM2OQ==", "bodyText": "are these types needed? Do the logical types (timestamp, date, etc) show up in the UI with this configuration?", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r385282369", "createdAt": "2020-02-27T18:10:54Z", "author": {"login": "albertshau"}, "path": "core-plugins/widgets/Joiner-batchjoiner.json", "diffHunk": "@@ -45,5 +45,24 @@\n       ]\n     }\n   ],\n-  \"outputs\": []\n+  \"outputs\": [\n+    {\n+      \"name\": \"schema\",\n+      \"widget-type\": \"schema\",\n+      \"widget-attributes\": {\n+        \"schema-types\": [\n+          \"boolean\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4Mzk2Mg==", "bodyText": "the correct behavior for the app would not be to give an empty map, but to have a null value as the schema. Let's check for that scenario as well (there is at least one null in the map values), so that this doesn't need to be revisited once the getInputSchemas() method is fixed.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r385283962", "createdAt": "2020-02-27T18:14:03Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -95,11 +95,15 @@ public void prepareRun(BatchJoinerContext context) {\n       context.setNumPartitions(conf.getNumPartitions());\n     }\n     FailureCollector collector = context.getFailureCollector();\n-    init(context.getInputSchemas(), collector);\n-    collector.getOrThrowException();\n-    Collection<OutputFieldInfo> outputFieldInfos = createOutputFieldInfos(context.getInputSchemas(), collector);\n-    collector.getOrThrowException();\n-    context.record(createFieldOperations(outputFieldInfos, perStageJoinKeys));\n+    Map<String, Schema> inputSchemas = context.getInputSchemas();\n+    // inputSchemas will be empty if the output schema of the previous node is a macro\n+    if (!inputSchemas.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4MTI4OQ=="}, "originalCommit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4NTA1MQ==", "bodyText": "this should never be null, it should be validated in the configurePipeline() method.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r385285051", "createdAt": "2020-02-27T18:16:08Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -178,6 +182,13 @@ public void initialize(BatchJoinerRuntimeContext context) {\n     init(inputSchemas, collector);\n     collector.getOrThrowException();\n     outputSchema = getOutputSchema(inputSchemas, collector);\n+    if (outputSchema == null) {\n+      // Could not derive output schema from input schema. Try to get output schema from config.\n+      outputSchema = conf.getOutputSchema(collector);\n+      if (outputSchema == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4NTc4NQ==", "bodyText": "in configurePipeline(), you should validate that a valid output schema is provided if the input schemas are unknown.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r385285785", "createdAt": "2020-02-27T18:17:33Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -178,6 +182,13 @@ public void initialize(BatchJoinerRuntimeContext context) {\n     init(inputSchemas, collector);\n     collector.getOrThrowException();\n     outputSchema = getOutputSchema(inputSchemas, collector);\n+    if (outputSchema == null) {\n+      // Could not derive output schema from input schema. Try to get output schema from config.\n+      outputSchema = conf.getOutputSchema(collector);\n+      if (outputSchema == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI4NTA1MQ=="}, "originalCommit": {"oid": "bbbb20df9e6511822701a899f051b2247f4b5908"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NTI3NjI4", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#pullrequestreview-367527628", "createdAt": "2020-03-02T21:07:33Z", "commit": {"oid": "3e79bb0bd67d0f9f3f1613178274c4c9f7491284"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMTowNzozM1rOFwvRRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQyMTo0Njo1NlrOFwweSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY1MDQzNw==", "bodyText": "can change this to a single line:\nreturn !inputSchemas.isEmpty() && ...", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386650437", "createdAt": "2020-03-02T21:07:33Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -361,6 +362,13 @@ Schema getOutputSchema(Map<String, Schema> inputSchemas, FailureCollector collec\n \n     return outputFieldInfo.values();\n   }\n+  private boolean inputSchemasAvailable(Map<String, Schema> inputSchemas) {\n+    // TODO: Remove isEmpty() check when CDAP-16351 is fixed\n+    if (inputSchemas.isEmpty() || inputSchemas.values().stream().anyMatch(v -> v == null)) {\n+      return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e79bb0bd67d0f9f3f1613178274c4c9f7491284"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2MzY4Mw==", "bodyText": "looks like duplicate code, can it be refactored so it's not in multiple places?", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386663683", "createdAt": "2020-03-02T21:34:03Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/JoinerConfig.java", "diffHunk": "@@ -217,7 +217,11 @@ private boolean isAliasPresent(Iterable<String> stageOldNameAliasPair) {\n \n   void validateJoinKeySchemas(Map<String, Schema> inputSchemas, Map<String, List<String>> joinKeys,\n                               FailureCollector collector) {\n-    if (!containsMacro(JoinerConfig.JOIN_KEYS) && inputSchemas.size() != 0 && joinKeys.size() != inputSchemas.size()) {\n+    // Skip validation if joinKeys is a macro, or if any input's output schema is a macro.\n+    if (!containsMacro(JoinerConfig.JOIN_KEYS) &&\n+      // TODO: Remove isEmpty() check when CDAP-16351 is fixed\n+      !inputSchemas.isEmpty() && !inputSchemas.values().stream().anyMatch(v -> v == null) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e79bb0bd67d0f9f3f1613178274c4c9f7491284"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2NDAzMQ==", "bodyText": "style: should have a newline separating methods", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386664031", "createdAt": "2020-03-02T21:34:51Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -361,6 +362,13 @@ Schema getOutputSchema(Map<String, Schema> inputSchemas, FailureCollector collec\n \n     return outputFieldInfo.values();\n   }\n+  private boolean inputSchemasAvailable(Map<String, Schema> inputSchemas) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e79bb0bd67d0f9f3f1613178274c4c9f7491284"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2NTY3Mw==", "bodyText": "is it an issue if the same name is used across runs?", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386665673", "createdAt": "2020-03-02T21:38:03Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/test/java/io/cdap/plugin/batch/joiner/JoinerTestRun.java", "diffHunk": "@@ -77,37 +82,55 @@ public void testInnerJoin() throws Exception {\n      *\n      */\n \n+    ETLBatchConfig config = ETLBatchConfig.builder(\"* * * * *\")\n+      .addStage(filmStage)\n+      .addStage(filmActorStage)\n+      .addStage(filmCategoryStage)\n+      .addStage(joinStage)\n+      .addStage(joinSinkStage)\n+      .addConnection(filmStage.getName(), joinStage.getName())\n+      .addConnection(filmActorStage.getName(), joinStage.getName())\n+      .addConnection(filmCategoryStage.getName(), joinStage.getName())\n+      .addConnection(joinStage.getName(), joinSinkStage.getName())\n+      .build();\n+    ApplicationManager appManager = deployETL(config, \"joiner-test\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4577589072cc4702d942485cc90b4957c9c75c8b"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2NzAzOQ==", "bodyText": "this method is deprecated and shouldn't be used, there is a builder method that doesn't take any arguments.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386667039", "createdAt": "2020-03-02T21:40:42Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/test/java/io/cdap/plugin/batch/joiner/JoinerTestRun.java", "diffHunk": "@@ -77,37 +82,55 @@ public void testInnerJoin() throws Exception {\n      *\n      */\n \n+    ETLBatchConfig config = ETLBatchConfig.builder(\"* * * * *\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4577589072cc4702d942485cc90b4957c9c75c8b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY2ODAxNQ==", "bodyText": "the schemas are being set here, isn't this test supposed to be for null input schemas? You should be using the method that doesn't take a schema as an argument.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386668015", "createdAt": "2020-03-02T21:42:34Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/test/java/io/cdap/plugin/batch/joiner/JoinerTestRun.java", "diffHunk": "@@ -216,6 +228,30 @@ public void testOuterJoin() throws Exception {\n                                    \"requiredInputs\", \"film,filmActor\"),\n                                  null));\n \n+    ETLStage joinSinkStage = new ETLStage(\n+      \"sink\", new ETLPlugin(\"TPFSAvro\", BatchSink.PLUGIN_TYPE,\n+                            ImmutableMap.of(Properties.TimePartitionedFileSetDataset.SCHEMA, outputSchema.toString(),\n+                                            Properties.TimePartitionedFileSetDataset.TPFS_NAME, joinedDatasetName),\n+                            null));\n+\n+    joinHelper(filmStage, filmActorStage, filmCategoryStage, joinStage, joinSinkStage,\n+               filmDatasetName, filmActorDatasetName, filmCategoryDatasetName, joinedDatasetName,\n+               outputSchema, this::verifyOuterJoinOutput);\n+  }\n+\n+  @Test\n+  public void testOuterJoinWithUnknownInputSchemas() throws Exception {\n+    String filmDatasetName = \"film-outerjoin-unknown-inputschemas\";\n+    String filmCategoryDatasetName = \"film-category-outerjoin-unknown-inputschemas\";\n+    String filmActorDatasetName = \"film-actor-outerjoin-unknown-inputschemas\";\n+    String joinedDatasetName = \"outerjoin-output-unknown-inputschemas\";\n+\n+\n+    ETLStage filmStage = new ETLStage(\"film\", MockSource.getPlugin(filmDatasetName, FILM_SCHEMA));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4577589072cc4702d942485cc90b4957c9c75c8b"}, "originalPosition": 287}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjY3MDE1Mg==", "bodyText": "empty required inputs means an outer join? We don't need to run a full pipeline in order to test this, it should be handled in the JoinerConfigTest with maybe some refactoring (these pipeline tests take a long time to run and are really more like integration tests).\nAlso, is this testing some behavior that you changed in this PR?", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r386670152", "createdAt": "2020-03-02T21:46:56Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/test/java/io/cdap/plugin/batch/joiner/JoinerTestRun.java", "diffHunk": "@@ -309,9 +310,32 @@ public void testOuterJoinWithoutRequiredInputs() throws Exception {\n                                    \"joinKeys\", \"film.film_id=filmActor.film_id=filmCategory.film_id&\" +\n                                      \"film.film_name=filmActor.film_name=filmCategory.film_name\",\n                                    \"selectedFields\", selectedFields,\n-                                   \"requiredInputs\", \"\"),\n+                                   \"requiredInputs\", \"\",\n+                                   \"schema\", outputSchema.toString()),\n                                  null));\n \n+    ETLStage joinSinkStage = new ETLStage(\n+      \"sink\", new ETLPlugin(\"TPFSAvro\", BatchSink.PLUGIN_TYPE,\n+                            ImmutableMap.of(Properties.TimePartitionedFileSetDataset.SCHEMA, outputSchema.toString(),\n+                                            Properties.TimePartitionedFileSetDataset.TPFS_NAME, joinedDatasetName),\n+                            null));\n+\n+    joinHelper(filmStage, filmActorStage, filmCategoryStage, joinStage, joinSinkStage,\n+               filmDatasetName, filmActorDatasetName, filmCategoryDatasetName, joinedDatasetName,\n+               outputSchema, this::verifyOuterJoinWithoutRequiredInputs);\n+  }\n+\n+  @Test\n+  public void testOuterJoinWithoutRequiredInputs() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4577589072cc4702d942485cc90b4957c9c75c8b"}, "originalPosition": 425}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NDQ5OTUw", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#pullrequestreview-368449950", "createdAt": "2020-03-04T01:36:31Z", "commit": {"oid": "f3e9ac84ef97efd48189197f6fda3e423bcc0852"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwMTozNjozMVrOFxdLiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQwMTozNzozMVrOFxdMmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQwMjYzNQ==", "bodyText": "collector isn't really needed in this scenario, just throw an exception directly. The collector is useful mostly at configure time, to collect more than one failure and display it to the user at once.", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r387402635", "createdAt": "2020-03-04T01:36:31Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -198,10 +198,19 @@ public StructuredRecord joinOn(String stageName, StructuredRecord record) {\n     List<Schema.Field> fields = new ArrayList<>();\n     Schema schema = record.getSchema();\n \n+\n     List<String> joinKeys = perStageJoinKeys.get(stageName);\n     int i = 1;\n     for (String joinKey : joinKeys) {\n-      Schema.Field joinField = Schema.Field.of(String.valueOf(i++), schema.getField(joinKey).getSchema());\n+      Schema.Field field = schema.getField(joinKey);\n+      if (field == null) {\n+        collector.addFailure(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3e9ac84ef97efd48189197f6fda3e423bcc0852"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzQwMjkwNg==", "bodyText": "Join key field '[field name]' does not exist in schema from '[stage name]'", "url": "https://github.com/cdapio/hydrator-plugins/pull/1031#discussion_r387402906", "createdAt": "2020-03-04T01:37:31Z", "author": {"login": "albertshau"}, "path": "core-plugins/src/main/java/io/cdap/plugin/batch/joiner/Joiner.java", "diffHunk": "@@ -198,10 +198,19 @@ public StructuredRecord joinOn(String stageName, StructuredRecord record) {\n     List<Schema.Field> fields = new ArrayList<>();\n     Schema schema = record.getSchema();\n \n+\n     List<String> joinKeys = perStageJoinKeys.get(stageName);\n     int i = 1;\n     for (String joinKey : joinKeys) {\n-      Schema.Field joinField = Schema.Field.of(String.valueOf(i++), schema.getField(joinKey).getSchema());\n+      Schema.Field field = schema.getField(joinKey);\n+      if (field == null) {\n+        collector.addFailure(\n+          String.format(\"Join key field '%s' is not present in input stage of '%s'.\", joinKey, stageName), null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3e9ac84ef97efd48189197f6fda3e423bcc0852"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8e97544a02b1a10a9ac4c27a1b86e781137efed", "author": {"user": {"login": "rmstar", "name": "Prashant Jaikumar"}}, "url": "https://github.com/cdapio/hydrator-plugins/commit/f8e97544a02b1a10a9ac4c27a1b86e781137efed", "committedDate": "2020-03-04T02:07:49Z", "message": "set app name = uuid. throw exception in joinOn"}, "afterCommit": {"oid": "119a30da46f2345b821d7ee494785e64f34c51ac", "author": {"user": {"login": "rmstar", "name": "Prashant Jaikumar"}}, "url": "https://github.com/cdapio/hydrator-plugins/commit/119a30da46f2345b821d7ee494785e64f34c51ac", "committedDate": "2020-03-04T02:10:38Z", "message": "(CDAP-16324) Improve macro support in Joiner plugin\n\nOutput schema is now macro enabled.\nHandle null input schema - this happens when the output schema of the previous node is a macro."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73104a9073184a47d607ad5d890c9614b46a1480", "author": {"user": {"login": "rmstar", "name": "Prashant Jaikumar"}}, "url": "https://github.com/cdapio/hydrator-plugins/commit/73104a9073184a47d607ad5d890c9614b46a1480", "committedDate": "2020-03-04T02:13:40Z", "message": "(CDAP-16324) Improve macro support in Joiner plugin\n\nOutput schema is now macro enabled.\nHandle null input schema - this happens when the output schema of the previous node is a macro."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "119a30da46f2345b821d7ee494785e64f34c51ac", "author": {"user": {"login": "rmstar", "name": "Prashant Jaikumar"}}, "url": "https://github.com/cdapio/hydrator-plugins/commit/119a30da46f2345b821d7ee494785e64f34c51ac", "committedDate": "2020-03-04T02:10:38Z", "message": "(CDAP-16324) Improve macro support in Joiner plugin\n\nOutput schema is now macro enabled.\nHandle null input schema - this happens when the output schema of the previous node is a macro."}, "afterCommit": {"oid": "73104a9073184a47d607ad5d890c9614b46a1480", "author": {"user": {"login": "rmstar", "name": "Prashant Jaikumar"}}, "url": "https://github.com/cdapio/hydrator-plugins/commit/73104a9073184a47d607ad5d890c9614b46a1480", "committedDate": "2020-03-04T02:13:40Z", "message": "(CDAP-16324) Improve macro support in Joiner plugin\n\nOutput schema is now macro enabled.\nHandle null input schema - this happens when the output schema of the previous node is a macro."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1601, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}