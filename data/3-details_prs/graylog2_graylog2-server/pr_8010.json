{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNDQyNTcy", "number": 8010, "title": "Only cancel default event action on widget title change if event is defined", "bodyText": "As described in #7998 the widget title is currently sometimes not being saved, when saving a dashboard or saved search. This only happens when a user blurs the widget title input (wit).\nThis happens because we are not providing an event for the submit handler on blur and e.preventDefault()throws an error.\nFixes: #7998\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)", "createdAt": "2020-04-30T12:42:31Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8010", "merged": true, "mergeCommit": {"oid": "3679663ba57833007e5fcc2fb32c704f3fce89cb"}, "closed": true, "closedAt": "2020-05-05T09:52:14Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccsfATgFqTQwMzQ4MzMzNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABceQ_6XAFqTQwNTY0MjA3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNDgzMzM0", "url": "https://github.com/Graylog2/graylog2-server/pull/8010#pullrequestreview-403483334", "createdAt": "2020-04-30T12:45:39Z", "commit": {"oid": "5f37125d472ab68f270141c801d59f6369802118"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjo0NTozOVrOGOnloA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjo0NTozOVrOGOnloA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTg1Ng==", "bodyText": "I thought about passing the blur event to the onSubmit method, but I see no benefit in calling .preventDefault() on the blur event. I've added proper type definitions instead, to make sure we will not run into this issue in the future. But just passing the event to the onSubmit method on blur would be another possible solution. Which one do you prefer?", "url": "https://github.com/Graylog2/graylog2-server/pull/8010#discussion_r417981856", "createdAt": "2020-04-30T12:45:39Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/views/components/common/EditableTitle.jsx", "diffHunk": "@@ -36,13 +48,15 @@ export default class EditableTitle extends React.Component {\n     this._onSubmit();\n   };\n \n-  _onChange = (evt) => {\n+  _onChange = (evt: SyntheticInputEvent<HTMLInputElement>) => {\n     evt.preventDefault();\n     this.setState({ value: evt.target.value });\n   };\n \n-  _onSubmit = (e) => {\n-    e.preventDefault();\n+  _onSubmit = (e?: SyntheticInputEvent<HTMLInputElement>) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f37125d472ab68f270141c801d59f6369802118"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a4fd2677d195106d2100e439bf3b6c74fce78b0", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4a4fd2677d195106d2100e439bf3b6c74fce78b0", "committedDate": "2020-05-04T15:21:10Z", "message": "Only cancel default event action on widget title change if event is defined"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "committedDate": "2020-05-04T15:21:10Z", "message": "Refactor title submit handling"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b46a91df056db491b4d802ad33253f5bd801267e", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b46a91df056db491b4d802ad33253f5bd801267e", "committedDate": "2020-05-04T08:18:37Z", "message": "Refactor title submit handling"}, "afterCommit": {"oid": "d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "committedDate": "2020-05-04T15:21:10Z", "message": "Refactor title submit handling"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjQyMDcw", "url": "https://github.com/Graylog2/graylog2-server/pull/8010#pullrequestreview-405642070", "createdAt": "2020-05-05T09:52:06Z", "commit": {"oid": "d5ffdbc000e90df22d04edb3caf37a5e11f763c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2462, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}