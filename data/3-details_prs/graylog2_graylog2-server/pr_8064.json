{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MTMwNzI3", "number": 8064, "title": "Unify styling of widget action icons", "bodyText": "This PR unifies the widget action icons styling by implementing an IconButton component.\nThis includes styling the hover / focus state, adding titles, and refactoring the widget actions bar grid.\nBefore:\n\nAfter:\n\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-05-08T09:02:46Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8064", "merged": true, "mergeCommit": {"oid": "16dcccc35dcd428c22cc0797bc0c8257f462c1d0"}, "closed": true, "closedAt": "2020-06-04T13:29:02Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgLDX9AFqTQwODk0NzQxNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn-FJiAFqTQyNDQ0MjgwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTQ3NDE2", "url": "https://github.com/Graylog2/graylog2-server/pull/8064#pullrequestreview-408947416", "createdAt": "2020-05-11T08:04:17Z", "commit": {"oid": "9f062a03cd72aa0171d6b4faff2d67803cd1cee3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowNDoxOFrOGTRIsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODowNDoxOFrOGTRIsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg1Njg4MA==", "bodyText": "I considered requiring the onClick prop, but e.g. in ReplaySearchButton we need to wrap the button with a link, because we can't open the page in another tab with history.push()", "url": "https://github.com/Graylog2/graylog2-server/pull/8064#discussion_r422856880", "createdAt": "2020-05-11T08:04:18Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/components/common/IconButton.jsx", "diffHunk": "@@ -0,0 +1,59 @@\n+// @flow strict\n+import * as React from 'react';\n+import PropTypes from 'prop-types';\n+import styled, { type StyledComponent } from 'styled-components';\n+\n+import { type ThemeInterface } from 'theme';\n+import { Icon } from 'components/common';\n+\n+const Wrapper: StyledComponent<{}, ThemeInterface, HTMLButtonElement> = styled.button(({ theme }) => `\n+  display: inline-flex;\n+  justify-content: center;\n+  align-items: center;\n+  \n+  height: 25px;\n+  width: 25px;\n+  border: 0\n+\n+  cursor: pointer;\n+  color: ${theme.color.gray[70]};\n+  font-size: 16px;\n+\n+  :hover {\n+    background-color: ${theme.color.gray[90]};\n+  }\n+\n+  :active {\n+    background-color: ${theme.color.gray[80]};\n+  }\n+`);\n+\n+\n+type Props = {\n+  title: string,\n+  onClick?: () => void,\n+};\n+\n+const handleClick = (onClick) => {\n+  if (typeof onClick === 'function') {\n+    onClick();\n+  }\n+};\n+\n+const IconButton = ({ title, onClick, ...rest }: Props) => (\n+  <Wrapper title={title} onClick={() => handleClick(onClick)}>\n+    <Icon {...rest} />\n+  </Wrapper>\n+);\n+\n+IconButton.propTypes = {\n+  title: PropTypes.string,\n+  onClick: PropTypes.func,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f062a03cd72aa0171d6b4faff2d67803cd1cee3"}, "originalPosition": 51}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9936dc7833cc76681667fa52942474d1181742c6", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/9936dc7833cc76681667fa52942474d1181742c6", "committedDate": "2020-05-11T08:11:30Z", "message": "Import common components directly in PageErrorOverview and IconButton to avoid eslint-disable for dependency cycles"}, "afterCommit": {"oid": "09fe704a3b4cd824531d732a1492061596f7c9fb", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/09fe704a3b4cd824531d732a1492061596f7c9fb", "committedDate": "2020-05-27T09:38:26Z", "message": "Import common components directly in PageErrorOverview and IconButton to avoid eslint-disable for dependency cycles"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09fe704a3b4cd824531d732a1492061596f7c9fb", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/09fe704a3b4cd824531d732a1492061596f7c9fb", "committedDate": "2020-05-27T09:38:26Z", "message": "Import common components directly in PageErrorOverview and IconButton to avoid eslint-disable for dependency cycles"}, "afterCommit": {"oid": "e8b11dccc156eb966c397e3d8a9a5965b3cd9941", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e8b11dccc156eb966c397e3d8a9a5965b3cd9941", "committedDate": "2020-06-02T15:19:51Z", "message": "Import common components directly in PageErrorOverview and IconButton to avoid eslint-disable for dependency cycles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df96ef25a14a1a7c223a5273c5befc313f82a22f", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/df96ef25a14a1a7c223a5273c5befc313f82a22f", "committedDate": "2020-06-04T09:21:44Z", "message": "Unify widget action buttons styling\n* Unify styling by implementing IconButton component\n* Add titles\n* Refactor widget actions toolbar grid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56c2298fa69f9b69508a9bdf02cdbddd6527a8a2", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/56c2298fa69f9b69508a9bdf02cdbddd6527a8a2", "committedDate": "2020-06-04T09:21:44Z", "message": "Update snapshot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f2a3ac2545b2c63dfdc1444e55cc3a2202c4a05", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/9f2a3ac2545b2c63dfdc1444e55cc3a2202c4a05", "committedDate": "2020-06-04T09:21:44Z", "message": "Remove not needed link role"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40f1a548ef71a700842dd8a1237b3f3b11071689", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/40f1a548ef71a700842dd8a1237b3f3b11071689", "committedDate": "2020-06-04T09:21:44Z", "message": "Disable eslint warning for IconButton and PageErrorOverview dependecy cycles in common components index file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c1e63cc80a89da7c01b7295120ef03e6b07360d", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/2c1e63cc80a89da7c01b7295120ef03e6b07360d", "committedDate": "2020-06-04T09:21:45Z", "message": "Import common components directly in PageErrorOverview and IconButton to avoid eslint-disable for dependency cycles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a78fce201372a6ec5bb101e870ad02c415a864a", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/2a78fce201372a6ec5bb101e870ad02c415a864a", "committedDate": "2020-06-04T09:21:45Z", "message": "Remove background color of IconButtons for Firefox"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2621db6f72fe3ce0fa6008cb8a55beabdddb5ec6", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/2621db6f72fe3ce0fa6008cb8a55beabdddb5ec6", "committedDate": "2020-06-02T15:35:26Z", "message": "Remove background color of IconButtons for Firefox"}, "afterCommit": {"oid": "2a78fce201372a6ec5bb101e870ad02c415a864a", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/2a78fce201372a6ec5bb101e870ad02c415a864a", "committedDate": "2020-06-04T09:21:45Z", "message": "Remove background color of IconButtons for Firefox"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f502e164093cf6f4d024c8f1d7f05d7a5469432d", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f502e164093cf6f4d024c8f1d7f05d7a5469432d", "committedDate": "2020-06-04T09:26:02Z", "message": "Update snapshots"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22909d9c351a6807e9af31ac235ee4c64d1c633d", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/22909d9c351a6807e9af31ac235ee4c64d1c633d", "committedDate": "2020-06-04T09:26:58Z", "message": "Add missing semicolon in Widget.jsx"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65e866c1935fe0ef13c409a11d2d142d1a1f4543", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/65e866c1935fe0ef13c409a11d2d142d1a1f4543", "committedDate": "2020-06-04T09:46:52Z", "message": "Updating snapshots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NDQyODA3", "url": "https://github.com/Graylog2/graylog2-server/pull/8064#pullrequestreview-424442807", "createdAt": "2020-06-04T13:28:52Z", "commit": {"oid": "65e866c1935fe0ef13c409a11d2d142d1a1f4543"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3199, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}