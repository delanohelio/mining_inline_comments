{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMDIzNjYz", "number": 7131, "title": "Display \"Create extractor\" action only in the context of a message", "bodyText": "As described in #7111 the action \"Create extractor\" should only be clickable in the context of a message and e.g. not in the context of a data table.\nFixes #7111\nTypes of changes\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-01-09T15:41:44Z", "url": "https://github.com/Graylog2/graylog2-server/pull/7131", "merged": true, "mergeCommit": {"oid": "1470fe9c9d1b2838d636ac8a77258018c48cd8d7"}, "closed": true, "closedAt": "2020-01-13T13:50:30Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4rs-kAH2gAyMzYxMDIzNjYzOjFiNzQ3YmU5ZWY5MmNiOTBiNDkzYzA2MWE1MmRhZTQ4NzI2Y2FjNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb58qreAFqTM0MTg1NDY3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1b747be9ef92cb90b493c061a52dae48726cac41", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1b747be9ef92cb90b493c061a52dae48726cac41", "committedDate": "2020-01-09T15:29:44Z", "message": "Display create extractor action only in the context of a message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7de23faeddc582584bb2ca9e4f6fe25ff4ffe0f5", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7de23faeddc582584bb2ca9e4f6fe25ff4ffe0f5", "committedDate": "2020-01-09T15:34:41Z", "message": "Remove only from bindings test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/dfcdbf88144e546382431d4ab914c282f50cee63", "committedDate": "2020-01-09T15:37:12Z", "message": "Unify action type definition for bindings text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwNjE3NDQ4", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#pullrequestreview-340617448", "createdAt": "2020-01-09T15:46:25Z", "commit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNTo0NjoyNlrOFb6aMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNTo0NjoyNlrOFb6aMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgxMjg1MA==", "bodyText": "Interesting learning: I had to implement the boolean casting, otherwise the function would not return false but undefined. I thought it is enough to do the chaining with &&.", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r364812850", "createdAt": "2020-01-09T15:46:26Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/views/bindings.jsx", "diffHunk": "@@ -249,7 +249,7 @@ export default {\n     {\n       type: 'create-extractor',\n       title: 'Create extractor',\n-      isEnabled: (({ type }) => (type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),\n+      isEnabled: (({ type, contexts }) => (!!contexts.message && type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMTc0MDkw", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#pullrequestreview-341174090", "createdAt": "2020-01-10T13:52:21Z", "commit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxMzo1MjoyMVrOFcUphA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQxMzo1Mzo0MlrOFcUrvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0Mjc1Ng==", "bodyText": "This is now part of the field actions describe-block, although it is a value action. I think this is a good time to either introduce a new value actions block, or split the file into two, bindings.fieldActions.test.jsx & bindings.valueActions.test.jsx.", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365242756", "createdAt": "2020-01-10T13:52:21Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/views/bindings.test.jsx", "diffHunk": "@@ -155,5 +156,51 @@ describe('Views bindings', () => {\n           .toEqual(false);\n       });\n     });\n+    describe('CreateExtractor', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0MzMyNA==", "bodyText": "Returning undefined here is okay, as falsyness is considered sufficient.", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365243324", "createdAt": "2020-01-10T13:53:42Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/views/bindings.jsx", "diffHunk": "@@ -249,7 +249,7 @@ export default {\n     {\n       type: 'create-extractor',\n       title: 'Create extractor',\n-      isEnabled: (({ type }) => (type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),\n+      isEnabled: (({ type, contexts }) => (!!contexts.message && type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgxMjg1MA=="}, "originalCommit": {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a6fb0932f8bf46ecb46b63573c8cfdd9af7ee3c", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6a6fb0932f8bf46ecb46b63573c8cfdd9af7ee3c", "committedDate": "2020-01-10T15:04:37Z", "message": "Create separate test files for bindings value and field actions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxODU0Njcy", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#pullrequestreview-341854672", "createdAt": "2020-01-13T13:49:32Z", "commit": {"oid": "6a6fb0932f8bf46ecb46b63573c8cfdd9af7ee3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2799, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}