{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNjUzNDg4", "number": 7626, "title": "Cleaning up old message components.", "bodyText": "Description\nMotivation and Context\n\n\nDuring the search cleanup, some message components were left but\ncomponents they are referencing through the components/search package\nindex were removed, as rewriting the components was out of scope for\nthat PR.\nThis PR is now cleaning up those components and reducing them to their\nspecific use case. They are being used in two places only:\n\nWhen loading a message for configuring an extractor\nWhen running a pipeline against a message in the pipeline simulator\n\nAs these are specific use cases that require customization, these\ncomponents are kept and the message components from the new search are\nnot reused.\nDuring the course of cleaning up and stripping down these components,\n178 linter hints were fixed.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-03-04T15:44:02Z", "url": "https://github.com/Graylog2/graylog2-server/pull/7626", "merged": true, "mergeCommit": {"oid": "803a0ce8a4fba4c64c405fd1fdaf6f769c97631c"}, "closed": true, "closedAt": "2020-03-09T11:57:41Z", "author": {"login": "dennisoelkers"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLBRskgFqTM3MDMwOTI2NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL8oR8gFqTM3MTEwNDA4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMzA5MjY1", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#pullrequestreview-370309265", "createdAt": "2020-03-06T13:11:08Z", "commit": {"oid": "9110805432097ff35e477521f21cf2d7e23ce4b7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzoxMTowOFrOFy4LJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDowOTozMVrOFy56ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg5MzQ3OQ==", "bodyText": "Row 98 and 99 can be written in one line.", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#discussion_r388893479", "createdAt": "2020-03-06T13:11:08Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/components/messageloaders/LoaderTabs.jsx", "diffHunk": "@@ -106,22 +82,25 @@ const LoaderTabs = createReactClass({\n       return this.TAB_KEYS.messageId;\n     }\n     return this.TAB_KEYS.raw;\n-  },\n+  };\n \n-  _changeActiveTab(selectedTab) {\n-    if (this.state.activeTab !== selectedTab) {\n+  _changeActiveTab = (selectedTab) => {\n+    const { activeTab } = this.state;\n+    if (activeTab !== selectedTab) {\n       this.setState({ activeTab: selectedTab, message: undefined });\n     }\n-  },\n+  };\n \n-  _formatMessageLoaders() {\n+  _formatMessageLoaders = () => {\n     const messageLoaders = [];\n \n     if (this._isTabVisible('recent')) {\n+      const { inputs } = this.props;\n+      const { selectedInputId } = this.props;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9110805432097ff35e477521f21cf2d7e23ce4b7"}, "originalPosition": 157}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkyMjA0Mg==", "bodyText": "Not really part of this PR, but could you move the key prop in the above _formatExtractorMenuItem method from the MenuItem to the LinkContainer? This will fix a warning. Otherwise I can do this in a separate PR.", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#discussion_r388922042", "createdAt": "2020-03-06T14:09:31Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/components/search/MessageFieldExtractorActions.jsx", "diffHunk": "@@ -34,15 +34,16 @@ class MessageFieldExtractorActions extends React.Component {\n   };\n \n   render() {\n-    const messageField = this.props.message.fields[this.props.fieldName];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9110805432097ff35e477521f21cf2d7e23ce4b7"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1421af4d332f18cf53729ecb38ded48bf83fa5a0", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1421af4d332f18cf53729ecb38ded48bf83fa5a0", "committedDate": "2020-03-06T15:21:19Z", "message": "Moving `key` prop where it belongs."}, "afterCommit": {"oid": "914255426b85b3f553bba1753a96613ec6d10fdf", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/914255426b85b3f553bba1753a96613ec6d10fdf", "committedDate": "2020-03-06T15:24:51Z", "message": "Moving `key` prop where it belongs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDQyMjU2", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#pullrequestreview-370442256", "createdAt": "2020-03-06T16:10:58Z", "commit": {"oid": "914255426b85b3f553bba1753a96613ec6d10fdf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjoxMDo1OVrOFy-Vng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjoxMDo1OVrOFy-Vng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODk5NDQ2Mg==", "bodyText": "@dennisoelkers looks like this slipped in", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#discussion_r388994462", "createdAt": "2020-03-06T16:10:59Z", "author": {"login": "linuspahl"}, "path": "graylog2-server/src/main/java/org/graylog2/inputs/transports/KafkaTransport.java", "diffHunk": "@@ -187,7 +186,9 @@ public void run() {\n         final Properties props = new Properties();\n \n         props.put(\"group.id\", configuration.getString(CK_GROUP_ID, DEFAULT_GROUP_ID));\n-        props.put(\"client.id\", \"gl2-\" + nodeId + \"-\" + input.getId());\n+        props.put(\"client.id\", \"gl2-\" + nodeId + \"-\" + input.getId(\n+\n+        ));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "914255426b85b3f553bba1753a96613ec6d10fdf"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8c35498502ee25d5dcc4044c34a5b3a631a8052", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b8c35498502ee25d5dcc4044c34a5b3a631a8052", "committedDate": "2020-03-09T11:03:11Z", "message": "Cleaning up `MessageDetail`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1676759e467d152f8fae359668853c532eae4366", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1676759e467d152f8fae359668853c532eae4366", "committedDate": "2020-03-09T11:03:11Z", "message": "Cleaning up `MessageFields`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f003016ddc98265706a96a5a27b38d78e067965a", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f003016ddc98265706a96a5a27b38d78e067965a", "committedDate": "2020-03-09T11:03:11Z", "message": "Removing obsolete `disableFieldActions` prop."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9b69dbdc2db1fbffe455ef37eda3f50dc511639", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e9b69dbdc2db1fbffe455ef37eda3f50dc511639", "committedDate": "2020-03-09T11:03:11Z", "message": "Removing unused components, fixing linter hints, removing unused code."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d80c9d7042ce09b4f30fb4b0a0bdf129bc97905", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1d80c9d7042ce09b4f30fb4b0a0bdf129bc97905", "committedDate": "2020-03-09T11:03:11Z", "message": "Fixing linter hints in `MessageDetail`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29bfb78aaa1a968bc5099b724526119cbdfff701", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/29bfb78aaa1a968bc5099b724526119cbdfff701", "committedDate": "2020-03-09T11:03:11Z", "message": "Fixing linter hints in `SimulationPreview`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc31888022229cd0da35373894723b5e5d74b624", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cc31888022229cd0da35373894723b5e5d74b624", "committedDate": "2020-03-09T11:03:11Z", "message": "Turning `LoaderTabs` into class-based component."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80debaf853edb4dc030bd4fcc27163490be55ae5", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/80debaf853edb4dc030bd4fcc27163490be55ae5", "committedDate": "2020-03-09T11:03:11Z", "message": "Cleaning up linter hints, turning into functional component."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d069a280cc9233aa7b7f27ad4f91992cd70dffe", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8d069a280cc9233aa7b7f27ad4f91992cd70dffe", "committedDate": "2020-03-09T11:03:11Z", "message": "Fixing linter hints, turning into class-based component."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4553f25e2ecb91c6c86a3587947efea39025031a", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4553f25e2ecb91c6c86a3587947efea39025031a", "committedDate": "2020-03-09T11:03:11Z", "message": "Removing obsolete snapshot."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "addd593cb62b23dae0dcc28e2d043ed4d25a8695", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/addd593cb62b23dae0dcc28e2d043ed4d25a8695", "committedDate": "2020-03-09T11:03:12Z", "message": "Merging destructuring instructions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6db69031b8e4d7ef7f4218c995bed40806cf0a3", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b6db69031b8e4d7ef7f4218c995bed40806cf0a3", "committedDate": "2020-03-09T11:03:12Z", "message": "Moving `key` prop where it belongs."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "914255426b85b3f553bba1753a96613ec6d10fdf", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/914255426b85b3f553bba1753a96613ec6d10fdf", "committedDate": "2020-03-06T15:24:51Z", "message": "Moving `key` prop where it belongs."}, "afterCommit": {"oid": "b6db69031b8e4d7ef7f4218c995bed40806cf0a3", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b6db69031b8e4d7ef7f4218c995bed40806cf0a3", "committedDate": "2020-03-09T11:03:12Z", "message": "Moving `key` prop where it belongs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTA0MDgz", "url": "https://github.com/Graylog2/graylog2-server/pull/7626#pullrequestreview-371104083", "createdAt": "2020-03-09T11:57:33Z", "commit": {"oid": "b6db69031b8e4d7ef7f4218c995bed40806cf0a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2553, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}