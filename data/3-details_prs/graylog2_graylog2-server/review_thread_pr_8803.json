{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3OTg0Nzc1", "number": 8803, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyNjo0OVrOEZBi-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyODowMlrOEZBkhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0Njc1MTk0OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/users/UsersOverview/UserOverviewItem/LoggedInCell.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyNjo0OVrOHBmnzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyNjo0OVrOHBmnzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ0MzQwNQ==", "bodyText": "We only wanted to remove the client address if the user was not logged in.", "url": "https://github.com/Graylog2/graylog2-server/pull/8803#discussion_r471443405", "createdAt": "2020-08-17T12:26:49Z", "author": {"login": "kmerz"}, "path": "graylog2-web-interface/src/components/users/UsersOverview/UserOverviewItem/LoggedInCell.jsx", "diffHunk": "@@ -20,19 +19,22 @@ const Td: StyledComponent<{}, ThemeInterface, HTMLTableCellElement> = styled.td`\n   text-align: right;\n `;\n \n-const LoggedInCell = ({ lastActivity, clientAddress, sessionActive }: Props) => (\n+const LoggedInInfo = ({ lastActivity }: { lastActivity: $PropertyType<UserOverview, 'lastActivity'> }) => (\n+  <OverlayTrigger trigger={['hover', 'focus']}\n+                  placement=\"right\"\n+                  overlay={(\n+                    <Popover id=\"session-badge-details\" title=\"Logged in\">\n+                      <div>Last activity: {lastActivity ? <Timestamp dateTime={lastActivity} relative /> : '-'}</div>\n+                    </Popover>\n+                  )}\n+                  rootClose>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0f2c10d310cc1c18070f9f9f317989ab3686fe5"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0Njc1NTg4OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/users/UsersOverview/UserOverviewItem/LoggedInCell.jsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyODowMlrOHBmqQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxMjoyODowMlrOHBmqQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQ0NDAzMg==", "bodyText": "And we still want to show the pop over but only then with the info: \"Not logged in\"", "url": "https://github.com/Graylog2/graylog2-server/pull/8803#discussion_r471444032", "createdAt": "2020-08-17T12:28:02Z", "author": {"login": "kmerz"}, "path": "graylog2-web-interface/src/components/users/UsersOverview/UserOverviewItem/LoggedInCell.jsx", "diffHunk": "@@ -20,19 +19,22 @@ const Td: StyledComponent<{}, ThemeInterface, HTMLTableCellElement> = styled.td`\n   text-align: right;\n `;\n \n-const LoggedInCell = ({ lastActivity, clientAddress, sessionActive }: Props) => (\n+const LoggedInInfo = ({ lastActivity }: { lastActivity: $PropertyType<UserOverview, 'lastActivity'> }) => (\n+  <OverlayTrigger trigger={['hover', 'focus']}\n+                  placement=\"right\"\n+                  overlay={(\n+                    <Popover id=\"session-badge-details\" title=\"Logged in\">\n+                      <div>Last activity: {lastActivity ? <Timestamp dateTime={lastActivity} relative /> : '-'}</div>\n+                    </Popover>\n+                  )}\n+                  rootClose>\n+    <LoggedInIcon active />\n+  </OverlayTrigger>\n+);\n+\n+const LoggedInCell = ({ lastActivity, sessionActive }: Props) => (\n   <Td>\n-    <OverlayTrigger trigger={['hover', 'focus']}\n-                    placement=\"right\"\n-                    overlay={(\n-                      <Popover id=\"session-badge-details\" title={sessionActive ? 'Logged in' : 'Logged out'}>\n-                        <div>Last activity: {lastActivity ? <Timestamp dateTime={lastActivity} relative /> : '-'}</div>\n-                        <div>Client address: {clientAddress ?? '-'}</div>\n-                      </Popover>\n-                    )}\n-                    rootClose>\n-      <LoggedInIcon active={sessionActive} />\n-    </OverlayTrigger>\n+    {sessionActive ? <LoggedInInfo lastActivity={lastActivity} /> : <LoggedInIcon active={false} />}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0f2c10d310cc1c18070f9f9f317989ab3686fe5"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4022, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}