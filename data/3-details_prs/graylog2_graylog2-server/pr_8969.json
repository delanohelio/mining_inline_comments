{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3ODM4MTk2", "number": 8969, "title": "Remove permission check for Search Nav Item (3.3)", "bodyText": "Description\n\nMotivation and Context\n\n\nThis is a backport of #8917 for 3.3.\nPrior to this change, the Search Menu Item was only displayed for admins or users which have searches:absolute', 'searches:relative', 'searches:keyword' permissions.\nThe mentioned permission could only be add via API requests. Which left the admin users as the only ones which could really see that Menu Item.\nBut a user could go to that page either via a link (on the streams page) or by typing the url manually.\nThis change will now simply remove this check and always display the menu item. The search still will only work if the user has read permissions to a stream.\nHow Has This Been Tested?\n\n\n\nScreenshots (if appropriate):\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-09-16T08:58:02Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8969", "merged": true, "mergeCommit": {"oid": "8fcdfb80435843e026fbb63c24b06ea7723bf4f2"}, "closed": true, "closedAt": "2020-09-22T15:15:57Z", "author": {"login": "dennisoelkers"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJYhCvAH2gAyNDg3ODM4MTk2OjU1ZGZlOGEzOGQ5ZDQ3M2NjNTE1YWU3NTRiNDAxNGVmNjI0ZmZiNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLZipEAFqTQ5MzU3NDUyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "55dfe8a38d9d473cc515ae754b4014ef624ffb48", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/55dfe8a38d9d473cc515ae754b4014ef624ffb48", "committedDate": "2020-09-16T08:56:22Z", "message": "Remove permission check for Search Nav Item (#8917)\n\n* Remove permission check for Search Nav Item\n\nPrior to this change, the Search Menu Item was only displayd for admins\nor users which have searches:absolute', 'searches:relative',\n'searches:keyword' permissions.\n\nThe mentioned permission could only be add via API requests. Which left\nthe admin users as the only ones which could really see that Menu Item.\n\nBut a user could go to that page either via a link (on the streams page)\nor by typing the url manually.\n\nThis change will now simply remove this check and always display the\nmenu item. The search still will only work if the user has read\npermissions to a stream.\n\n* Change default start page to search\n\nthe start page was set depending on the\nsearch permissions a user has.\n\nNow the start page will always default to Search Page\n\n(cherry picked from commit ca224b8dc8b39a4c7005cf20f7a34a853b59be25)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42096cc83034470f810932e03b07c60adc0c1723", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/42096cc83034470f810932e03b07c60adc0c1723", "committedDate": "2020-09-16T08:58:33Z", "message": "Adjusting item count."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NjM1Mzgz", "url": "https://github.com/Graylog2/graylog2-server/pull/8969#pullrequestreview-489635383", "createdAt": "2020-09-16T13:39:27Z", "commit": {"oid": "42096cc83034470f810932e03b07c60adc0c1723"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aadb2455ab32e59719753a670123e39752bb0949", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/aadb2455ab32e59719753a670123e39752bb0949", "committedDate": "2020-09-17T09:27:52Z", "message": "Fixing/suppressing linter hints."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b2ac69a089b4bb90ce528ab9036b4713a4e5657", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1b2ac69a089b4bb90ce528ab9036b4713a4e5657", "committedDate": "2020-09-17T10:14:06Z", "message": "Suppressing linter hints."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06c0b8d08161bcde718629e986c7362e75011d35", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/06c0b8d08161bcde718629e986c7362e75011d35", "committedDate": "2020-09-17T09:46:47Z", "message": "Replacing default import with named imports."}, "afterCommit": {"oid": "1b2ac69a089b4bb90ce528ab9036b4713a4e5657", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1b2ac69a089b4bb90ce528ab9036b4713a4e5657", "committedDate": "2020-09-17T10:14:06Z", "message": "Suppressing linter hints."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNTM1MTgx", "url": "https://github.com/Graylog2/graylog2-server/pull/8969#pullrequestreview-490535181", "createdAt": "2020-09-17T12:22:40Z", "commit": {"oid": "1b2ac69a089b4bb90ce528ab9036b4713a4e5657"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMjoyMjo0MFrOHTfcQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMjoyMjo0MFrOHTfcQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIwMDEyOQ==", "bodyText": "Why add the eslint-disable instead of destructing URLUtils?", "url": "https://github.com/Graylog2/graylog2-server/pull/8969#discussion_r490200129", "createdAt": "2020-09-17T12:22:40Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/components/navigation/Navigation.jsx", "diffHunk": "@@ -31,10 +28,12 @@ import StyledNavbar from './Navigation.styles';\n const CurrentUserStore = StoreProvider.getStore('CurrentUser');\n \n const _isActive = (requestPath, prefix) => {\n+  // eslint-disable-next-line import/no-named-as-default-member", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b2ac69a089b4bb90ce528ab9036b4713a4e5657"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTc0NTI2", "url": "https://github.com/Graylog2/graylog2-server/pull/8969#pullrequestreview-493574526", "createdAt": "2020-09-22T15:15:52Z", "commit": {"oid": "1b2ac69a089b4bb90ce528ab9036b4713a4e5657"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3535, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}