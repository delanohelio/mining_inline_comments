{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NDkxMzY3", "number": 7081, "title": "Fix reference errors in swagger.js", "bodyText": "Bug: If an API endpoint returns an error the api browser becomes unfunctional with ReferenceError: error is not defined\nDescription\nIf one or more API endpoints return error the API browser does not show any documentation for any of the endpoints or that an error occured with said api endpoints. This is because the JavaScript stops processing due to the reference error.\nHow Has This Been Tested?\nThis is untested. However for the change at line 308 was indirectly verfied by breaking to it in a debugger and examining the objects.  As there is no statusText for the object in line 308 I'm making the assumption there's none for the response object in line 62 either.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-01-06T10:48:38Z", "url": "https://github.com/Graylog2/graylog2-server/pull/7081", "merged": true, "mergeCommit": {"oid": "1bb9b22fb4071f690d84db7c3ec5b78009d0b23b"}, "closed": true, "closedAt": "2020-01-24T12:13:28Z", "author": {"login": "jrunu"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8yc9OAFqTM0NjQ1MDAxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9d4ixgFqTM0NzkxNTMwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDUwMDEx", "url": "https://github.com/Graylog2/graylog2-server/pull/7081#pullrequestreview-346450011", "createdAt": "2020-01-22T09:36:48Z", "commit": {"oid": "26b73988c02541d531e57bdef0bed0f8048b1bb3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwOTozNjo0OFrOFgVnzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwOTozNjo0OFrOFgVnzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ1MzAwNQ==", "bodyText": "this should be response.status", "url": "https://github.com/Graylog2/graylog2-server/pull/7081#discussion_r369453005", "createdAt": "2020-01-22T09:36:48Z", "author": {"login": "mpfz0r"}, "path": "graylog2-server/src/main/resources/swagger/lib/swagger.js", "diffHunk": "@@ -305,7 +305,7 @@\n           headers: {},\n           on: {\n             error: function(response) {\n-              return _this.api.fail(\"Unable to read api '\" + _this.name + \"' from path \" + _this.url + \" (server returned \" + error.statusText + \")\");\n+              return _this.api.fail(\"Unable to read api '\" + _this.name + \"' from path \" + _this.url + \" (server returned \" + error.status + \")\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26b73988c02541d531e57bdef0bed0f8048b1bb3"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "509f9e0dcaf897a668fb8b729e2bb09fb0649d31", "author": {"user": {"login": "jrunu", "name": null}}, "url": "https://github.com/Graylog2/graylog2-server/commit/509f9e0dcaf897a668fb8b729e2bb09fb0649d31", "committedDate": "2020-01-24T10:00:37Z", "message": "Fix reference errors in swagger.js\n\nFix reference errors that occure in error paths of swagger.js"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "26b73988c02541d531e57bdef0bed0f8048b1bb3", "author": {"user": {"login": "jrunu", "name": null}}, "url": "https://github.com/Graylog2/graylog2-server/commit/26b73988c02541d531e57bdef0bed0f8048b1bb3", "committedDate": "2020-01-06T10:45:34Z", "message": "Fix reference errors in swagger.js\n\nFix reference errors that occure in error paths of swagger.js"}, "afterCommit": {"oid": "509f9e0dcaf897a668fb8b729e2bb09fb0649d31", "author": {"user": {"login": "jrunu", "name": null}}, "url": "https://github.com/Graylog2/graylog2-server/commit/509f9e0dcaf897a668fb8b729e2bb09fb0649d31", "committedDate": "2020-01-24T10:00:37Z", "message": "Fix reference errors in swagger.js\n\nFix reference errors that occure in error paths of swagger.js"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3OTE1MzAw", "url": "https://github.com/Graylog2/graylog2-server/pull/7081#pullrequestreview-347915300", "createdAt": "2020-01-24T12:13:19Z", "commit": {"oid": "509f9e0dcaf897a668fb8b729e2bb09fb0649d31"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2773, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}