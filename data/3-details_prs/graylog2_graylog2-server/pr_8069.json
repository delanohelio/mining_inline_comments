{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MjAxNTc2", "number": 8069, "title": "Create flow type definition for search types", "bodyText": "This PR adds a flow type definition for query search types. There are a few more files were we could use this type definition, but these files are currently not using // @flow\nMotivation and Context\nI want to remove the searchType: any declaration in views/logic/queries/Query and the CSVExportModal.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)", "createdAt": "2020-05-08T12:05:56Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8069", "merged": true, "mergeCommit": {"oid": "f2360ec8a1ca3babb84e5a3bdf4f5d5947e98b79"}, "closed": true, "closedAt": "2020-05-27T07:35:02Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfQirzAH2gAyNDE1MjAxNTc2Ojg2NDY1NTQ0YzU0ZGQ0MGRhYTQ4ZDE4Y2MwNTU1NzI5YTE1NDM1YjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclUOMUgFqTQxODkyODc5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "86465544c54dd40daa48d18cc0555729a15435b5", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/86465544c54dd40daa48d18cc0555729a15435b5", "committedDate": "2020-05-08T11:54:06Z", "message": "Create flow type definition for SearchTypes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9d99cbeabcdbf5d561e9c3bd6d077e5cdeb350a", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a9d99cbeabcdbf5d561e9c3bd6d077e5cdeb350a", "committedDate": "2020-05-08T11:57:35Z", "message": "Fix indentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03936605cd20e308e20aeaba2bb4b217546d1dc0", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/03936605cd20e308e20aeaba2bb4b217546d1dc0", "committedDate": "2020-05-08T12:09:29Z", "message": "Restructure Query type definitions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4MTk2MTMx", "url": "https://github.com/Graylog2/graylog2-server/pull/8069#pullrequestreview-408196131", "createdAt": "2020-05-08T12:15:08Z", "commit": {"oid": "03936605cd20e308e20aeaba2bb4b217546d1dc0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMjoxNTowOFrOGSjg5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMjoxNTowOFrOGSjg5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEwOTQxNQ==", "bodyText": "I thought about using a union type here as well, but it would be good to know if the already have a type definition for pivots? I found some, but they were not suitable for a search type pivot.", "url": "https://github.com/Graylog2/graylog2-server/pull/8069#discussion_r422109415", "createdAt": "2020-05-08T12:15:08Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/views/logic/queries/SearchType.js", "diffHunk": "@@ -0,0 +1,40 @@\n+// @flow strict\n+import type MessageSortConfig from 'views/logic/searchtypes/messages/MessageSortConfig';\n+import type SortConfig from 'views/logic/aggregationbuilder/SortConfig';\n+import type { Decorator } from 'views/components/messagelist/decorators/Types';\n+import type { Interval } from 'views/components/aggregationbuilder/pivottypes/Interval';\n+import type { ElasticsearchQueryString, TimeRange } from './Query';\n+\n+type SearchTypePivot = {\n+  type: string,\n+  field: string,\n+  limit?: number,\n+  interval?: Interval,\n+};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03936605cd20e308e20aeaba2bb4b217546d1dc0"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4OTI4Nzkz", "url": "https://github.com/Graylog2/graylog2-server/pull/8069#pullrequestreview-418928793", "createdAt": "2020-05-27T07:34:53Z", "commit": {"oid": "03936605cd20e308e20aeaba2bb4b217546d1dc0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3203, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}