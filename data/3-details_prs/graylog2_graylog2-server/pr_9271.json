{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5OTA1ODc5", "number": 9271, "title": "Render conditionals for Cloud specific elements", "bodyText": "We need to be able to hide certain UI elements when conditions apply.\nDescription\nIn the case of cloud we need to be able to hide elements and disable whole pages altogether. This requires a conditional check, a higher order component that allows for easy hiding, and a function to filter any pages from registering in the app's menu and routes.\nMotivation and Context\nTo allow hiding / changing certain parts of the UI\nHow Has This Been Tested?\nUnit tested and tested using to hide specific elements in the UI and complete pages / routes.\nScreenshots (if appropriate):\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-10-26T09:47:22Z", "url": "https://github.com/Graylog2/graylog2-server/pull/9271", "merged": true, "mergeCommit": {"oid": "56bb2f59dae36566a53a991c8a0c2f2679ed01d7"}, "closed": true, "closedAt": "2020-11-04T12:03:38Z", "author": {"login": "Gaya"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWQMKUAH2gAyNTA5OTA1ODc5OmE1M2ZmOTY2YzM4MWZjYWM3OTE4MGJiZTdkYjdmMWVkYzRjMzY1NmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZMjw6AFqTUyMzI5NzgzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a53ff966c381fcac79180bbe7db7f1edc4c3656f", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a53ff966c381fcac79180bbe7db7f1edc4c3656f", "committedDate": "2020-10-26T08:35:20Z", "message": "HOC to hide hide UI elements when cloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ad8bf087358fd43c94b3dbb4dc35fd18e7dd43c", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1ad8bf087358fd43c94b3dbb4dc35fd18e7dd43c", "committedDate": "2020-10-26T09:26:37Z", "message": "allow filtering menu items"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e12c8e46bb33d1d3bdfbd0c65fe334cb8ac22a81", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e12c8e46bb33d1d3bdfbd0c65fe334cb8ac22a81", "committedDate": "2020-10-26T09:32:47Z", "message": "add tests for isCloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "252cb022a15f5f1c2878e429ecfc398dcb95f419", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/252cb022a15f5f1c2878e429ecfc398dcb95f419", "committedDate": "2020-10-26T09:33:58Z", "message": "add comments to withHideOnCloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd0f5d31b411ced9f106b570f1a14c1e7ee4291e", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cd0f5d31b411ced9f106b570f1a14c1e7ee4291e", "committedDate": "2020-10-26T09:40:17Z", "message": "add test for filter menu items"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjM5OTE0", "url": "https://github.com/Graylog2/graylog2-server/pull/9271#pullrequestreview-520639914", "createdAt": "2020-10-30T12:56:24Z", "commit": {"oid": "cd0f5d31b411ced9f106b570f1a14c1e7ee4291e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzowMTo0MlrOHrN_Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzowNjo1MVrOHrOJsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA3OTk1NA==", "bodyText": "I'm failing to see why we need this at the moment, could you please explain what the reasoning behind it is?", "url": "https://github.com/Graylog2/graylog2-server/pull/9271#discussion_r515079954", "createdAt": "2020-10-30T13:01:42Z", "author": {"login": "edmundoa"}, "path": "graylog2-web-interface/src/util/conditional/isCloud.js", "diffHunk": "@@ -0,0 +1,9 @@\n+// @flow strict\n+\n+import AppConfig from '../AppConfig';\n+\n+function isCloud(): boolean {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd0f5d31b411ced9f106b570f1a14c1e7ee4291e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA4MjY3Mw==", "bodyText": "Could we make it clearer that the array should contain the paths to filter? I think renaming the parameter to pathsToFilter would be enough.", "url": "https://github.com/Graylog2/graylog2-server/pull/9271#discussion_r515082673", "createdAt": "2020-10-30T13:06:51Z", "author": {"login": "edmundoa"}, "path": "graylog2-web-interface/src/util/conditional/filterMenuItems.js", "diffHunk": "@@ -0,0 +1,24 @@\n+// @flow strict\n+\n+import isCloud from './isCloud';\n+\n+type MenuItem = { path: string };\n+\n+function filterMenuItems(\n+  menuItems: Array<MenuItem>,\n+  toFilter: Array<string>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd0f5d31b411ced9f106b570f1a14c1e7ee4291e"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdedd146313cdebad234105f67785063fbe9dd08", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cdedd146313cdebad234105f67785063fbe9dd08", "committedDate": "2020-11-03T08:05:18Z", "message": "use isCloud directly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c070702368e2640a87253875e33a794ff100469d", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/c070702368e2640a87253875e33a794ff100469d", "committedDate": "2020-11-03T10:39:04Z", "message": "refactor filterMenuItems"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMjk3ODM4", "url": "https://github.com/Graylog2/graylog2-server/pull/9271#pullrequestreview-523297838", "createdAt": "2020-11-04T12:03:16Z", "commit": {"oid": "c070702368e2640a87253875e33a794ff100469d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3449, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}