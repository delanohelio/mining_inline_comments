{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNTgzNDYx", "number": 8456, "title": "Register ownership for newly created dashboards / eventdefinitions", "bodyText": "Register entity ownership in the db service layer.\nThis way, we can call that from RestResources and also when entities are created from content packs.\nIntroduce a UserContext which can be used in RetResource methods.", "createdAt": "2020-07-01T09:53:25Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8456", "merged": true, "mergeCommit": {"oid": "4683be482b4ba5fb41af07e6b0ab41963868185c"}, "closed": true, "closedAt": "2020-07-28T17:07:50Z", "author": {"login": "mpfz0r"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyhF1SAH2gAyNDQyNTgzNDYxOmViZGVkMzlmNTIwN2I2NDc4MjVkYjA3ODc5YzFmYzE2NWJmNWZhOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5Zk06gFqTQ1NjgzNzg4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ebded39f5207b647825db07879c1fc165bf5fa8e", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ebded39f5207b647825db07879c1fc165bf5fa8e", "committedDate": "2020-07-07T07:55:32Z", "message": "WIP: Register ownership for newly created views"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb1ab0ac1f587f01ea51cd9a2cbca6bcfb8adf80", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fb1ab0ac1f587f01ea51cd9a2cbca6bcfb8adf80", "committedDate": "2020-07-07T07:55:32Z", "message": "remove stale file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "692bba6025dd2324a6874558a25a28d100972fe6", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/692bba6025dd2324a6874558a25a28d100972fe6", "committedDate": "2020-07-07T07:55:32Z", "message": "Do user lookup from within EntityOwnerShipService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd76a675eb1bb51efebf4c74703f3c6cfc875716", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fd76a675eb1bb51efebf4c74703f3c6cfc875716", "committedDate": "2020-07-07T07:55:32Z", "message": "Add license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5da13a426b4493cf97ff04260ec11b55dff6ec35", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/5da13a426b4493cf97ff04260ec11b55dff6ec35", "committedDate": "2020-07-07T07:55:32Z", "message": "Make it more explicit that GrantsAuthorizingRealm does no authorization\n\nFound, while reading the shiro docs.\nTechnically, it shouldnt make a difference, but better safe than sorry."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd10121123f505c7a325aed509ebb82caf07c97c", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/dd10121123f505c7a325aed509ebb82caf07c97c", "committedDate": "2020-07-07T07:55:32Z", "message": "Register ownership for EventDefinitions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81da8ed4fcd4952c04ddef98844e7e2d337b1734", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/81da8ed4fcd4952c04ddef98844e7e2d337b1734", "committedDate": "2020-07-07T08:12:38Z", "message": "role -> capability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4602d26bfbf141b7467fa14f3b7c8f28e7d144c6", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4602d26bfbf141b7467fa14f3b7c8f28e7d144c6", "committedDate": "2020-07-07T15:14:40Z", "message": "Introduce UserContext helper\n\nThis allows us to access the current user context\nfrom anywhere, whithout having to pass it through from the\ncalling RestResource.\n\nShiro binds the current user to a ThreadContext, which is\naccessible from anywhere.\n\nWe also provide a UserContext#runAs() method,\nthat can be used to create a temporary user context\nto run code with."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9eb76c2b51c1b9ab4c8d7783262120e1177f7035", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/9eb76c2b51c1b9ab4c8d7783262120e1177f7035", "committedDate": "2020-07-01T10:22:16Z", "message": "Add license"}, "afterCommit": {"oid": "4602d26bfbf141b7467fa14f3b7c8f28e7d144c6", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4602d26bfbf141b7467fa14f3b7c8f28e7d144c6", "committedDate": "2020-07-07T15:14:40Z", "message": "Introduce UserContext helper\n\nThis allows us to access the current user context\nfrom anywhere, whithout having to pass it through from the\ncalling RestResource.\n\nShiro binds the current user to a ThreadContext, which is\naccessible from anywhere.\n\nWe also provide a UserContext#runAs() method,\nthat can be used to create a temporary user context\nto run code with."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea7aba17c9cf02a54f4e910525822b4bdb207812", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ea7aba17c9cf02a54f4e910525822b4bdb207812", "committedDate": "2020-07-07T15:33:22Z", "message": "Use registerNewEventDefinition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf324b3ae400fdaca15dc8076abeb990e41c20ca", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/bf324b3ae400fdaca15dc8076abeb990e41c20ca", "committedDate": "2020-07-08T08:40:02Z", "message": "add licenses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3b2e2bf17fd0bcf8ab57d805a4541eb4b8eefc2", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d3b2e2bf17fd0bcf8ab57d805a4541eb4b8eefc2", "committedDate": "2020-07-08T08:59:43Z", "message": "Remove nautic reference from EntityOwner_Ship_Service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1091fefd793565779857bb05636947a5c65c89a3", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1091fefd793565779857bb05636947a5c65c89a3", "committedDate": "2020-07-08T10:05:29Z", "message": "Return permissions from Grants to the frontend\n\nThe frontend code gets the current user permissions\nfrom the UsersResource.\nWe also need to add the permissions from grants\nfor the frontend to function."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "696f3aab1f56a78139987d85bbe05a13ce2ffbc6", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/696f3aab1f56a78139987d85bbe05a13ce2ffbc6", "committedDate": "2020-07-13T14:52:04Z", "message": "Rewrite UserContext handling\n\nInstead of creating the UserContext from Shiro's ThreadLocalStorage,\nadd support via jersey/hk2 per request method context injection.\n\nThis unfortunatly only works for methods. Field and constructor\ninjection doesn't seem to work.\n\nAdditionally:\n - add ownership support for EventDefinitions.\n - Add contentpack support for ownership registration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb934265c161d1be8eac4eacf8f7862e4d7cf48e", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cb934265c161d1be8eac4eacf8f7862e4d7cf48e", "committedDate": "2020-07-14T12:17:40Z", "message": "Merge remote-tracking branch 'origin/feature/permissions' into entity-ownership-service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "beef330c84ae68f3a42410403eae0060b7465b72", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/beef330c84ae68f3a42410403eae0060b7465b72", "committedDate": "2020-07-14T12:40:12Z", "message": "add licenses"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8a516e816ff379666d6b08bfa627795f9cbfeba", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f8a516e816ff379666d6b08bfa627795f9cbfeba", "committedDate": "2020-07-14T13:25:47Z", "message": "Fix ViewsResourceTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6d74193db737bd548a9f30c21be4456d5022ec0", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e6d74193db737bd548a9f30c21be4456d5022ec0", "committedDate": "2020-07-15T10:06:00Z", "message": "Merge remote-tracking branch 'origin/feature/permissions' into entity-ownership-service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f118aaf9649f2ace5b302e56648a6d2a3dad41f8", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f118aaf9649f2ace5b302e56648a6d2a3dad41f8", "committedDate": "2020-07-15T10:17:46Z", "message": "Fix UserContextTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/84fa60f65ae5f877ec8e5bfab73ae59aee14b65b", "committedDate": "2020-07-15T10:51:27Z", "message": "Cleanup and consistency / remove testing artifact from RestPermissions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNzU0Nzg4", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#pullrequestreview-450754788", "createdAt": "2020-07-17T15:30:28Z", "commit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTozMDoyOFrOGzXhmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNTozNzoyM1rOGzXw5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxNTk5Mg==", "bodyText": "Shouldn't we add the read permissions to the VIEW capability as well?", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#discussion_r456515992", "createdAt": "2020-07-17T15:30:28Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog/security/BuiltinCapabilities.java", "diffHunk": "@@ -53,7 +53,9 @@ public BuiltinCapabilities() {\n                                 RestPermissions.STREAMS_EDIT,\n                                 RestPermissions.STREAMS_CHANGESTATE,\n                                 RestPermissions.DASHBOARDS_READ,\n-                                RestPermissions.DASHBOARDS_EDIT\n+                                RestPermissions.DASHBOARDS_EDIT,\n+                                RestPermissions.EVENT_DEFINITIONS_READ,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxNzA2Nw==", "bodyText": "How about removing the commented code? Or at least add a comment why this is commented and should stay.", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#discussion_r456517067", "createdAt": "2020-07-17T15:32:19Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog/security/UserContextBinder.java", "diffHunk": "@@ -0,0 +1,31 @@\n+/**\n+ * This file is part of Graylog.\n+ *\n+ * Graylog is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Graylog is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Graylog.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.graylog.security;\n+\n+import org.glassfish.hk2.utilities.binding.AbstractBinder;\n+import org.glassfish.jersey.process.internal.RequestScoped;\n+\n+public class UserContextBinder extends AbstractBinder {\n+    @Override\n+    protected void configure() {\n+        bindFactory(UserContextFactory.class)\n+                .to(UserContext.class)\n+//                .proxy(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxOTE3Nw==", "bodyText": "I think we should use GRNTypes.EVENT_DEFINITION.type() here instead of using the ModelTypes.", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#discussion_r456519177", "createdAt": "2020-07-17T15:36:02Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog/security/entities/EntityOwnershipService.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/**\n+ * This file is part of Graylog.\n+ *\n+ * Graylog is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Graylog is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Graylog.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.graylog.security.entities;\n+\n+import org.graylog.grn.GRN;\n+import org.graylog.grn.GRNRegistry;\n+import org.graylog.security.Capability;\n+import org.graylog.security.DBGrantService;\n+import org.graylog.security.GrantDTO;\n+import org.graylog2.contentpacks.model.ModelTypes;\n+import org.graylog2.plugin.database.users.User;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import javax.inject.Inject;\n+import javax.inject.Singleton;\n+\n+@Singleton\n+public class EntityOwnershipService {\n+    private static final Logger LOG = LoggerFactory.getLogger(EntityOwnershipService.class);\n+\n+    private final DBGrantService dbGrantService;\n+    private final GRNRegistry grnRegistry;\n+\n+\n+    @Inject\n+    public EntityOwnershipService(DBGrantService dbGrantService,\n+                                  GRNRegistry grnRegistry) {\n+        this.dbGrantService = dbGrantService;\n+        this.grnRegistry = grnRegistry;\n+    }\n+\n+    public void registerNewEventDefinition(String id, User user) {\n+        final GRN grn = grnRegistry.newGRN(ModelTypes.EVENT_DEFINITION_V1.name(), id);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxOTM4MA==", "bodyText": "Same as above, let's use GRNTypes.DASHBOARD.type() here.", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#discussion_r456519380", "createdAt": "2020-07-17T15:36:23Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog/security/entities/EntityOwnershipService.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/**\n+ * This file is part of Graylog.\n+ *\n+ * Graylog is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Graylog is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Graylog.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.graylog.security.entities;\n+\n+import org.graylog.grn.GRN;\n+import org.graylog.grn.GRNRegistry;\n+import org.graylog.security.Capability;\n+import org.graylog.security.DBGrantService;\n+import org.graylog.security.GrantDTO;\n+import org.graylog2.contentpacks.model.ModelTypes;\n+import org.graylog2.plugin.database.users.User;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import javax.inject.Inject;\n+import javax.inject.Singleton;\n+\n+@Singleton\n+public class EntityOwnershipService {\n+    private static final Logger LOG = LoggerFactory.getLogger(EntityOwnershipService.class);\n+\n+    private final DBGrantService dbGrantService;\n+    private final GRNRegistry grnRegistry;\n+\n+\n+    @Inject\n+    public EntityOwnershipService(DBGrantService dbGrantService,\n+                                  GRNRegistry grnRegistry) {\n+        this.dbGrantService = dbGrantService;\n+        this.grnRegistry = grnRegistry;\n+    }\n+\n+    public void registerNewEventDefinition(String id, User user) {\n+        final GRN grn = grnRegistry.newGRN(ModelTypes.EVENT_DEFINITION_V1.name(), id);\n+        registerNewEntity(grn, user);\n+    }\n+\n+    public void registerNewView(String id, User user) {\n+        final GRN grn = grnRegistry.newGRN(ModelTypes.DASHBOARD_V2.name(), id);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjUxOTkwOA==", "bodyText": "How about writing a test for this class? \ud83d\ude04 Thanks!", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#discussion_r456519908", "createdAt": "2020-07-17T15:37:23Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog/security/entities/EntityOwnershipService.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/**\n+ * This file is part of Graylog.\n+ *\n+ * Graylog is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Graylog is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Graylog.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package org.graylog.security.entities;\n+\n+import org.graylog.grn.GRN;\n+import org.graylog.grn.GRNRegistry;\n+import org.graylog.security.Capability;\n+import org.graylog.security.DBGrantService;\n+import org.graylog.security.GrantDTO;\n+import org.graylog2.contentpacks.model.ModelTypes;\n+import org.graylog2.plugin.database.users.User;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import javax.inject.Inject;\n+import javax.inject.Singleton;\n+\n+@Singleton\n+public class EntityOwnershipService {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84fa60f65ae5f877ec8e5bfab73ae59aee14b65b"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a5b40db84ac3117512976703148f2cb947fa2c1", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7a5b40db84ac3117512976703148f2cb947fa2c1", "committedDate": "2020-07-22T11:41:15Z", "message": "Fix review comments, add EntityOwnershipServiceTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e8e2daa3a9bbc00f83f14276d5311573b703918", "author": {"user": {"login": "mpfz0r", "name": "Marco Pfatschbacher"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1e8e2daa3a9bbc00f83f14276d5311573b703918", "committedDate": "2020-07-22T13:23:06Z", "message": "Merge remote-tracking branch 'origin/feature/permissions' into entity-ownership-service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTYzMjYy", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#pullrequestreview-455963262", "createdAt": "2020-07-27T16:53:40Z", "commit": {"oid": "1e8e2daa3a9bbc00f83f14276d5311573b703918"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODM3ODg0", "url": "https://github.com/Graylog2/graylog2-server/pull/8456#pullrequestreview-456837884", "createdAt": "2020-07-28T17:07:37Z", "commit": {"oid": "1e8e2daa3a9bbc00f83f14276d5311573b703918"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3113, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}