{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NzY1NjMw", "number": 8379, "title": "Adding padding-line-between-statements to eslint", "bodyText": "Description\n\nAdding rules to insert blank lines:\n\nbefore a return\nafter a block of assignments (const, let)\n\nexcept if the const/let is multiple lines long\n\n\nAfter 'block-like' structures such as if, functions, etc...\nIntegrated eslint-plugin-jest-formatting for test formatting\n\n--fix ran in another PR #8400\nMotivation and Context\n\n\neslint --fix can insert required blank lines to be more consistent and improve readability.\nBefore\nconst ConfirmLeaveDialog = ({ question, router, route }) => {\n  const handleLeavePage = (e) => {\n    if (AppConfig.gl2DevMode()) {\n      return null;\n    }\n    e.returnValue = question;\n    return question;\n  };\n  const routerWillLeave = () => {\n    return handleLeavePage({});\n  };\n  useEffect(() => {\n    window.addEventListener('beforeunload', handleLeavePage);\n    const unsubscribe = router.setRouteLeaveHook(route, routerWillLeave);\n    return () => {\n      window.removeEventListener('beforeunload', handleLeavePage);\n      unsubscribe();\n    };\n  }, []);\n  return null;\n};\nAfter\nconst ConfirmLeaveDialog = ({ question, router, route }) => {\n  const handleLeavePage = (e) => {\n    if (AppConfig.gl2DevMode()) {\n      return null;\n    }\n\n    e.returnValue = question;\n\n    return question;\n  };\n\n  const routerWillLeave = () => {\n    return handleLeavePage({});\n  };\n\n  useEffect(() => {\n    window.addEventListener('beforeunload', handleLeavePage);\n    const unsubscribe = router.setRouteLeaveHook(route, routerWillLeave);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleLeavePage);\n      unsubscribe();\n    };\n  }, []);\n\n  return null;\n};\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-06-18T21:12:45Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8379", "merged": true, "mergeCommit": {"oid": "9a562146f109294bd26c878cb3441b8bec5b35da"}, "closed": true, "closedAt": "2020-06-25T09:21:20Z", "author": {"login": "kyleknighted"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcslHeSABqjM0NjAwODQzMjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcurH46AFqTQzNzMxNzUzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e821e7091002b86ddfaf5dd1aa29f7bf1872ca8e", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e821e7091002b86ddfaf5dd1aa29f7bf1872ca8e", "committedDate": "2020-06-18T21:10:18Z", "message": "Adding padding-line-between-statements to eslint"}, "afterCommit": {"oid": "1f225c0f22611e5f17b82490d36491ca1e70da8e", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/1f225c0f22611e5f17b82490d36491ca1e70da8e", "committedDate": "2020-06-18T21:13:12Z", "message": "Adding padding-line-between-statements to eslint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDUzNTky", "url": "https://github.com/Graylog2/graylog2-server/pull/8379#pullrequestreview-434053592", "createdAt": "2020-06-19T12:54:57Z", "commit": {"oid": "fede41265592ae06f88e31f005217883403c883d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjo1NDo1N1rOGmTz0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMjo1NDo1N1rOGmTz0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjgyMzYzMg==", "bodyText": "Afaics, directive means prologue imperatives like use strict, which we do not use at all. Maybe we can insert blank lines after function definitions instead?", "url": "https://github.com/Graylog2/graylog2-server/pull/8379#discussion_r442823632", "createdAt": "2020-06-19T12:54:57Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/packages/eslint-config-graylog/index.js", "diffHunk": "@@ -50,6 +50,15 @@ module.exports = {\n     'react/prefer-stateless-function': 'warn',\n     'react/static-property-placement': 'off',\n \n+    'padding-line-between-statements': [\n+      'error',\n+      { blankLine: 'always', prev: '*', next: 'return' },\n+      { blankLine: 'always', prev: ['const', 'let', 'var'], next: '*' },\n+      { blankLine: 'any', prev: ['const', 'let', 'var'], next: ['const', 'let', 'var'] },\n+      { blankLine: 'always', prev: 'directive', next: '*' },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fede41265592ae06f88e31f005217883403c883d"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fede41265592ae06f88e31f005217883403c883d", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fede41265592ae06f88e31f005217883403c883d", "committedDate": "2020-06-19T07:32:12Z", "message": "Merge branch 'master' into eslint-padding-line-between-statements"}, "afterCommit": {"oid": "a1d5716964c580621e24ba2f628500178db51a94", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a1d5716964c580621e24ba2f628500178db51a94", "committedDate": "2020-06-22T13:18:28Z", "message": "Updated eslint config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0OTY3ODAy", "url": "https://github.com/Graylog2/graylog2-server/pull/8379#pullrequestreview-434967802", "createdAt": "2020-06-22T14:17:45Z", "commit": {"oid": "df183c0873e990e55bb87451f1940fcfac867744"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65a36ef3021ce0fe5c6fe1b76042a95293cf9c8c", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/65a36ef3021ce0fe5c6fe1b76042a95293cf9c8c", "committedDate": "2020-06-22T16:17:57Z", "message": "allow singleline consts to have line breaks around"}, "afterCommit": {"oid": "a133bdf43751450544b517249c17c866f544a70a", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a133bdf43751450544b517249c17c866f544a70a", "committedDate": "2020-06-23T13:00:35Z", "message": "allow singleline consts to have line breaks around"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a133bdf43751450544b517249c17c866f544a70a", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a133bdf43751450544b517249c17c866f544a70a", "committedDate": "2020-06-23T13:00:35Z", "message": "allow singleline consts to have line breaks around"}, "afterCommit": {"oid": "055c46877fd6739454d7ddd1a2de8e89913f5622", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/055c46877fd6739454d7ddd1a2de8e89913f5622", "committedDate": "2020-06-24T12:29:51Z", "message": "allow singleline consts to have line breaks around"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95ee1e666387d1742d674a9b18fd5fe154fd6940", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/95ee1e666387d1742d674a9b18fd5fe154fd6940", "committedDate": "2020-06-24T17:25:45Z", "message": "Adding padding-line-between-statements to eslint"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3449dad407b58832f1527ba4b5de4f963df41326", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/3449dad407b58832f1527ba4b5de4f963df41326", "committedDate": "2020-06-24T14:30:03Z", "message": "Allow variable declaration spacing and add spacing around expression"}, "afterCommit": {"oid": "95ee1e666387d1742d674a9b18fd5fe154fd6940", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/95ee1e666387d1742d674a9b18fd5fe154fd6940", "committedDate": "2020-06-24T17:25:45Z", "message": "Adding padding-line-between-statements to eslint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzE3NTMw", "url": "https://github.com/Graylog2/graylog2-server/pull/8379#pullrequestreview-437317530", "createdAt": "2020-06-25T09:21:08Z", "commit": {"oid": "95ee1e666387d1742d674a9b18fd5fe154fd6940"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3089, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}