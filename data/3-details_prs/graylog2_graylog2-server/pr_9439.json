{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MTA0NDcy", "number": 9439, "title": "Hide outputs page on cloud", "bodyText": "Users on cloud shouldn't be able to setup outputs\nDescription\n\nHides the system outputs page for cloud users\nPlease not that this includes #9423, so please wait until this is merged\nMotivation and Context\n\n\nUsers on cloud shouldn't be able to setup outputs\nHow Has This Been Tested?\n\n\n\nChecking output of pages and menu\nScreenshots (if appropriate):\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-11-11T10:29:23Z", "url": "https://github.com/Graylog2/graylog2-server/pull/9439", "merged": true, "mergeCommit": {"oid": "8d1fc3efe595eecdc688031d0eabce3994d82b61"}, "closed": true, "closedAt": "2020-11-18T11:09:27Z", "author": {"login": "Gaya"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbJMJMAH2gAyNTE5MTA0NDcyOmZhM2QyOWE0MjEyNDg5M2VhNjBkZTFjMzljNTg2OTkyOTU2YjdmZTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddsLQ_AFqTUzMzMzNzI3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa3d29a42124893ea60de1c39c586992956b7fe3", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fa3d29a42124893ea60de1c39c586992956b7fe3", "committedDate": "2020-11-10T13:15:36Z", "message": "hide indices page component in cloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd490b664ca9be90516a0c19307c054a9756f91c", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/bd490b664ca9be90516a0c19307c054a9756f91c", "committedDate": "2020-11-10T13:21:07Z", "message": "abstract conditional away to component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19be6992b2b2279b1e6d6af482047e048df8d756", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/19be6992b2b2279b1e6d6af482047e048df8d756", "committedDate": "2020-11-10T13:22:14Z", "message": "hide indices menu item on cloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "343bc150cea170f4fb0948768598529207800275", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/343bc150cea170f4fb0948768598529207800275", "committedDate": "2020-11-10T13:27:47Z", "message": "hide indices failures"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61ee8277bc0b920099cf7699ca2a1da3a9ae3d93", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/61ee8277bc0b920099cf7699ca2a1da3a9ae3d93", "committedDate": "2020-11-10T15:21:30Z", "message": "rename jsx"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c85d3eebb89f464dd0cfc9c3ee3a6e22d4cf2f68", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/c85d3eebb89f464dd0cfc9c3ee3a6e22d4cf2f68", "committedDate": "2020-11-10T15:31:42Z", "message": "update mocks for settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfa9e00587fcba252d6c1910acb20f264b13c543", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/dfa9e00587fcba252d6c1910acb20f264b13c543", "committedDate": "2020-11-11T08:23:56Z", "message": "hide index pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6761f3af94c8e88752a9091a578eea2db454ab4", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e6761f3af94c8e88752a9091a578eea2db454ab4", "committedDate": "2020-11-11T09:21:22Z", "message": "hide outputs in systems menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "964ab76caca7865431effc0c43e7ff5c4dd9694e", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/964ab76caca7865431effc0c43e7ff5c4dd9694e", "committedDate": "2020-11-11T10:20:04Z", "message": "hide output page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0852800fa9271ac52cda83304ce880d912087a4", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a0852800fa9271ac52cda83304ce880d912087a4", "committedDate": "2020-11-11T15:44:42Z", "message": "do not register indices routes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64858cb992e3ac2bc5c7e668949c75ed9f14f683", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/64858cb992e3ac2bc5c7e668949c75ed9f14f683", "committedDate": "2020-11-11T15:47:48Z", "message": "disable indexes pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fba17b1bc503bf447f06bfa2744ec78e31aa515", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6fba17b1bc503bf447f06bfa2744ec78e31aa515", "committedDate": "2020-11-11T15:48:03Z", "message": "remove withHideOnCloud HOCs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0caba56051efcd828cb1124a621f13e4ca1169ec", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/0caba56051efcd828cb1124a621f13e4ca1169ec", "committedDate": "2020-11-11T15:49:21Z", "message": "whoops, typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80e9448db820d04344e5c1406b8918d10dfc068f", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/80e9448db820d04344e5c1406b8918d10dfc068f", "committedDate": "2020-11-11T15:52:35Z", "message": "Merge branch 'hide-indices' into hide-outputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa5fdef4fb0588220f52948b7c8cb6bb18d1ee56", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fa5fdef4fb0588220f52948b7c8cb6bb18d1ee56", "committedDate": "2020-11-11T15:54:18Z", "message": "use other method of hiding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48b444762ecaee79206efbb9afa3ca1cb5b84a42", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/48b444762ecaee79206efbb9afa3ca1cb5b84a42", "committedDate": "2020-11-16T10:51:57Z", "message": "fix eslint and group routes to hide on cloud"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c345c53de667ac2015f35b0358714ab0282e710b", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/c345c53de667ac2015f35b0358714ab0282e710b", "committedDate": "2020-11-16T10:56:53Z", "message": "Merge branch 'hide-indices' into hide-outputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af71671ec580997ff572268c71af4f81e89ce80e", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/af71671ec580997ff572268c71af4f81e89ce80e", "committedDate": "2020-11-16T12:34:06Z", "message": "prevent streams/id/outputs to be loaded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88bf1b2cb548b923c80d0cf8469a37199ca19326", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/88bf1b2cb548b923c80d0cf8469a37199ca19326", "committedDate": "2020-11-16T12:35:24Z", "message": "hide manage outputs on streams page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c53c0c4e6547be8479a81ceaeabc0a2c146d3ed", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/3c53c0c4e6547be8479a81ceaeabc0a2c146d3ed", "committedDate": "2020-11-16T13:16:53Z", "message": "Merge branch 'cloud-3.3' into hide-outputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ad31b7e876514c9e29cbaee3fdf8ca1199b95c6", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7ad31b7e876514c9e29cbaee3fdf8ca1199b95c6", "committedDate": "2020-11-16T13:46:15Z", "message": "hide stream index set select"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNDE0OTIz", "url": "https://github.com/Graylog2/graylog2-server/pull/9439#pullrequestreview-532414923", "createdAt": "2020-11-17T14:26:37Z", "commit": {"oid": "7ad31b7e876514c9e29cbaee3fdf8ca1199b95c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNDoyNjozN1rOH03W1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNDoyNjozN1rOH03W1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE5NDk2Nw==", "bodyText": "It should be the other way around, or? :)\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (!AppConfig.isCloud()) {\n          \n          \n            \n                if (AppConfig.isCloud()) {", "url": "https://github.com/Graylog2/graylog2-server/pull/9439#discussion_r525194967", "createdAt": "2020-11-17T14:26:37Z", "author": {"login": "edmundoa"}, "path": "graylog2-web-interface/src/components/streams/StreamForm.jsx", "diffHunk": "@@ -84,14 +85,15 @@ class StreamForm extends React.Component {\n     this.setState(change);\n   };\n \n-  state = this._getValuesFromProps(this.props);\n+  _indexSetSelect = () => {\n+    const { indexSetId } = this.state;\n \n-  render() {\n-    const { title, description, removeMatchesFromDefaultStream, indexSetId } = this.state;\n+    if (!AppConfig.isCloud()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ad31b7e876514c9e29cbaee3fdf8ca1199b95c6"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68dd42f8d8a44b9b13ffd9cd65f8d43dbdac20bd", "author": {"user": {"login": "Gaya", "name": "Gaya Kessler"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/68dd42f8d8a44b9b13ffd9cd65f8d43dbdac20bd", "committedDate": "2020-11-17T14:52:35Z", "message": "Stupid Gaya leaving test code in\n\nCo-authored-by: Edmundo Alvarez <edmundo@graylog.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMzM3Mjcw", "url": "https://github.com/Graylog2/graylog2-server/pull/9439#pullrequestreview-533337270", "createdAt": "2020-11-18T11:09:10Z", "commit": {"oid": "68dd42f8d8a44b9b13ffd9cd65f8d43dbdac20bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3416, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}