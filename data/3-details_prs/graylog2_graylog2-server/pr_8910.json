{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4NzA0MzUw", "number": 8910, "title": "Remove GlobalStylesProvider and use createGlobalStyles", "bodyText": "Description\n\nRemoves GlobalStylesProvider, replaced with directly using Styled-Components createGlobalStyles\twhere needed\nMotivation and Context\n\n\nLogin/Loading pages and sometimes after an error, the background was not resetting properly.\nFirst we attempted the difficult way, then we realized it was being overthought and went for the simple solution.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-09-03T15:14:53Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8910", "merged": true, "mergeCommit": {"oid": "1a0a69803f8a0c08e072c75351650f6d74d4d3d1"}, "closed": true, "closedAt": "2020-09-14T16:00:12Z", "author": {"login": "kyleknighted"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFTAeHAH2gAyNDc4NzA0MzUwOmIzODU2ZTJiY2JlMGM1ZmFlNTVhN2IxNjRjZGQ0Y2Y5YTJkYjAzYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI1YN7gFqTQ4NzkyMjA2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b3856e2bcbe0c5fae55a7b164cdd4cf9a2db03b2", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b3856e2bcbe0c5fae55a7b164cdd4cf9a2db03b2", "committedDate": "2020-09-03T16:15:34Z", "message": "Remove GlobalStylesProvider and use styled-components properly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd7523856fcc55e488a8ae242101081689f82a01", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/bd7523856fcc55e488a8ae242101081689f82a01", "committedDate": "2020-09-03T16:15:34Z", "message": "tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d436bd14181406d4883841f38c408c9d126d04c3", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d436bd14181406d4883841f38c408c9d126d04c3", "committedDate": "2020-09-03T16:15:34Z", "message": "lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44fa1415aa879ab825231bba63af9ab5c2f935c0", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/44fa1415aa879ab825231bba63af9ab5c2f935c0", "committedDate": "2020-09-03T16:15:34Z", "message": "flow"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "693d273080147b7333abb83fb3708a78a8da0f1e", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/693d273080147b7333abb83fb3708a78a8da0f1e", "committedDate": "2020-09-03T15:12:19Z", "message": "flow"}, "afterCommit": {"oid": "44fa1415aa879ab825231bba63af9ab5c2f935c0", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/44fa1415aa879ab825231bba63af9ab5c2f935c0", "committedDate": "2020-09-03T16:15:34Z", "message": "flow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNTkxODc1", "url": "https://github.com/Graylog2/graylog2-server/pull/8910#pullrequestreview-482591875", "createdAt": "2020-09-04T11:59:31Z", "commit": {"oid": "44fa1415aa879ab825231bba63af9ab5c2f935c0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMTo1OTozMVrOHNK1Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMjowMzowNlrOHNK7FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU3MTAwMg==", "bodyText": "Lets call it ErrorPageStyles", "url": "https://github.com/Graylog2/graylog2-server/pull/8910#discussion_r483571002", "createdAt": "2020-09-04T11:59:31Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/components/errors/ErrorPage.jsx", "diffHunk": "@@ -41,18 +39,13 @@ type Props = {\n };\n \n const ErrorPage = ({ children, title, description, backgroundImage }: Props) => {\n-  const { addGlobalStyles } = useContext(GlobalStylesContext);\n-\n-  useEffect(() => {\n-    addGlobalStyles(errorPageStyles(backgroundImage));\n-\n-    return () => {\n-      addGlobalStyles(null);\n-    };\n-  }, [backgroundImage]);\n+  const LoadingPageStyles = createGlobalStyle`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44fa1415aa879ab825231bba63af9ab5c2f935c0"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU3MjUwMQ==", "bodyText": "I prefer to use import * as React from 'react'; in general.", "url": "https://github.com/Graylog2/graylog2-server/pull/8910#discussion_r483572501", "createdAt": "2020-09-04T12:03:06Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/pages/LoadingPage.jsx", "diffHunk": "@@ -1,20 +1,19 @@\n import PropTypes from 'prop-types';\n-import React, { useContext, useEffect } from 'react';\n+import React from 'react';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44fa1415aa879ab825231bba63af9ab5c2f935c0"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b427403bf61eed718ec81c6064f644029e86429d", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b427403bf61eed718ec81c6064f644029e86429d", "committedDate": "2020-09-14T14:02:46Z", "message": "Feedback from @linuspahl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTIyMDY1", "url": "https://github.com/Graylog2/graylog2-server/pull/8910#pullrequestreview-487922065", "createdAt": "2020-09-14T16:00:03Z", "commit": {"oid": "b427403bf61eed718ec81c6064f644029e86429d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2891, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}