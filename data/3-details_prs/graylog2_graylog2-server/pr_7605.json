{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNDgzNzY0", "number": 7605, "title": "Show pivots with a value of zero in chart widgets", "bodyText": "With this PR, chart widgets display pivots with a value of zero. It looks like the one line I've adjusted is the only needed change.\nI had a look at all different chart types with different compositions and could not find / think of a case were this could result in an unintended visualization.\nOnly when all values of e.g. a line chart are zero, the line is. hardly visible:\n\nI thought about starting the y-axis with a negative value, but I would not adjust the current behaviour only for this case. What do you think?\nChecklist:\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-03-02T16:33:09Z", "url": "https://github.com/Graylog2/graylog2-server/pull/7605", "merged": true, "mergeCommit": {"oid": "3b47ae72c02b4f7713312f92b1fcfc3e7a582fe8"}, "closed": true, "closedAt": "2020-03-03T15:37:41Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJwMJtgH2gAyMzgyNDgzNzY0OjNmOTZkNGU5NDViMWVhMmE1NjBiNTMyYjk2NGY0OTNjN2M1ZDkyZDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKELjjAFqTM2ODA4NDQ0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3f96d4e945b1ea2a560b532b964f493c7c5d92d9", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/3f96d4e945b1ea2a560b532b964f493c7c5d92d9", "committedDate": "2020-03-02T16:20:07Z", "message": "Show pivots with value zero in chart widgets"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDU3Njgx", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#pullrequestreview-367457681", "createdAt": "2020-03-02T19:16:22Z", "commit": {"oid": "3f96d4e945b1ea2a560b532b964f493c7c5d92d9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOToxNjoyMlrOFwr52A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOToxNjoyMlrOFwr52A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTI4OA==", "bodyText": "What about testing that it's neither undefined nor null at this point? Otherwise we would need to check for other falsy values as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  if (value.value === 0 || value.value) {\n          \n          \n            \n                  if (value.value !== null && value.value !== undefined) {", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#discussion_r386595288", "createdAt": "2020-03-02T19:16:22Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/views/components/visualizations/ChartData.js", "diffHunk": "@@ -53,7 +53,7 @@ export const extractSeries = (keyJoiner: KeyJoiner = _defaultKeyJoiner, leafValu\n     flatLeafs.forEach(([key, value]) => {\n       const joinedKey = keyJoiner(value.key);\n       const targetIdx = xLabels.findIndex(l => isEqual(l, key));\n-      if (value.value) {\n+      if (value.value === 0 || value.value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f96d4e945b1ea2a560b532b964f493c7c5d92d9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62dd62862800b8b338e176b6a6f0b01137c42ede", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/62dd62862800b8b338e176b6a6f0b01137c42ede", "committedDate": "2020-03-03T08:22:30Z", "message": "Improve pivot value check and add test case for null and undefined values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDgwODMz", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#pullrequestreview-368080833", "createdAt": "2020-03-03T15:33:27Z", "commit": {"oid": "62dd62862800b8b338e176b6a6f0b01137c42ede"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDg0NDQ0", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#pullrequestreview-368084444", "createdAt": "2020-03-03T15:37:34Z", "commit": {"oid": "62dd62862800b8b338e176b6a6f0b01137c42ede"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2546, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}