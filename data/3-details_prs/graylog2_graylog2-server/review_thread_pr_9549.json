{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNzgxNDMw", "number": 9549, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOToyMDo0MVrOE7dQRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozOTowNlrOE7gX7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzgwNzQyOnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/permissions/EntityShareModal.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOToyMDo0MVrOH3He-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOToyMDo0MVrOH3He-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzU1NjM0NA==", "bodyText": "I am still curious why TypeScript complains about the optional chaining here. It looks like we can remove the @ts-ignores here, with const granteesSelectRef = useRef<typeof Select>();", "url": "https://github.com/Graylog2/graylog2-server/pull/9549#discussion_r527556344", "createdAt": "2020-11-20T09:20:41Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/components/permissions/EntityShareModal.tsx", "diffHunk": "@@ -52,7 +53,9 @@ const EntityShareModal = ({ description, entityId, entityType, entityTitle, enti\n   const _handleSave = () => {\n     setDisableSubmit(true);\n     const granteesSelect = granteesSelectRef?.current;\n+    // @ts-ignore We dealt with the undefined case here\n     const granteesSelectValue = granteesSelect?.state?.value;\n+    // @ts-ignore We dealt with the undefined case here", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb62c6949f938f142acba041bc4f207b2d307ad9"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODI4MTA3OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/common/IconButton.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMToyNjo1MVrOH3L5ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMToyNjo1MVrOH3L5ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyODczMA==", "bodyText": "I know it's not really migrating to TS, but could you also add the name prop into the prop types?", "url": "https://github.com/Graylog2/graylog2-server/pull/9549#discussion_r527628730", "createdAt": "2020-11-20T11:26:51Z", "author": {"login": "edmundoa"}, "path": "graylog2-web-interface/src/components/common/IconButton.tsx", "diffHunk": "@@ -49,6 +49,7 @@ type Props = {\n   title: string,\n   onClick?: () => void,\n   className?: string,\n+  name: string,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c141b7d84175ec9b96e8e7b78ba8d95df3977d3"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODMxODU0OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/logic/permissions/EntityShareState.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozOTowNlrOH3MQkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTozOTowNlrOH3MQkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYzNDU3OA==", "bodyText": "There are a bunch of ESLint: Identifier 'available_grantees' is not in camel case.(camelcase) in here, in case you want to take care of them :)", "url": "https://github.com/Graylog2/graylog2-server/pull/9549#discussion_r527634578", "createdAt": "2020-11-20T11:39:06Z", "author": {"login": "edmundoa"}, "path": "graylog2-web-interface/src/logic/permissions/EntityShareState.tsx", "diffHunk": "@@ -61,36 +62,36 @@ const _sortAndOrderGrantees = <T: GranteeInterface>(grantees: Immutable.List<T>,\n     .filter((grantee) => activeShares && activeShares.findIndex((activeShare) => activeShare.grantee === grantee.id) === -1)\n     .reverse();\n \n-  return Immutable.List().concat(\n+  return Immutable.List<T>().concat(\n     newGrantees,\n     granteesByType.get('error'),\n     granteesByType.get('global'),\n     granteesByType.get('team'),\n     granteesByType.get('user'),\n-  ).filter((grantee) => grantee);\n+  ).filter((grantee) => !!grantee).toList();\n };\n \n-type InternalState = {|\n+type InternalState = {\n   entity: GRN,\n   availableGrantees: GranteesList,\n   availableCapabilities: CapabilitiesList,\n   activeShares: ActiveShares,\n   selectedGranteeCapabilities: SelectedGranteeCapabilities,\n   missingDependencies: MissingDependencies,\n   validationResults: ValidationResult,\n-|};\n+};\n \n-export type EntityShareStateJson = {|\n+export type EntityShareStateJson = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c141b7d84175ec9b96e8e7b78ba8d95df3977d3"}, "originalPosition": 65}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4381, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}