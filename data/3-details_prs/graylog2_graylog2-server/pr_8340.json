{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0Mzc3MDY2", "number": 8340, "title": "Fix `ActionDropdown` toggle on child select, if child is wrapped in another element", "bodyText": "The ActionDropdown manipulates the onSelect prop of its children, to close the dropdown when onSelect is being executed. This is currently not working, when a child is wrapped in an element like IfDashboard.\nWith this PR we also apply this manipulation to the children of the ActionDropdown children, if the main child does not have an onSelect prop.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)", "createdAt": "2020-06-15T08:34:04Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8340", "merged": true, "mergeCommit": {"oid": "76b08993be87a6736f4736d9add2fc4054cfe293"}, "closed": true, "closedAt": "2020-12-10T12:53:05Z", "author": {"login": "linuspahl"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrhMF3ABqjM0NDQ1NzIzMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkyyhqgFqTU0OTE2MjM5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba5e28849191066fa875516d2615e12b021a4143", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ba5e28849191066fa875516d2615e12b021a4143", "committedDate": "2020-06-15T08:26:50Z", "message": "Fix ActionDropdown toggle on child select, if child is wrapped in another element"}, "afterCommit": {"oid": "12e30be788c4377dc45efb1309884a0bf8f8efd0", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/12e30be788c4377dc45efb1309884a0bf8f8efd0", "committedDate": "2020-06-15T14:04:43Z", "message": "Fix ActionDropdown toggle on child select, if child is wrapped in another element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyODkzMzgw", "url": "https://github.com/Graylog2/graylog2-server/pull/8340#pullrequestreview-442893380", "createdAt": "2020-07-06T08:56:17Z", "commit": {"oid": "12e30be788c4377dc45efb1309884a0bf8f8efd0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODo1NjoxOFrOGtOsKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODo1NjoxOFrOGtOsKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTc4NA==", "bodyText": "please rename option to child or node, it is in no case an option and it took me 3 minutes to understand that", "url": "https://github.com/Graylog2/graylog2-server/pull/8340#discussion_r450079784", "createdAt": "2020-07-06T08:56:18Z", "author": {"login": "kmerz"}, "path": "graylog2-web-interface/src/views/components/common/ActionDropdown.jsx", "diffHunk": "@@ -97,22 +97,41 @@ class ActionDropdown extends React.Component<ActionDropdownProps, ActionDropdown\n     this.setState(({ show }) => ({ show: !show }));\n   };\n \n-  render() {\n-    const { children, container, element } = this.props;\n-    const { show } = this.state;\n+  adjustOptionOnSelectProp = (option: React.Element<*>, updateDepth: number) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12e30be788c4377dc45efb1309884a0bf8f8efd0"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12e30be788c4377dc45efb1309884a0bf8f8efd0", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/12e30be788c4377dc45efb1309884a0bf8f8efd0", "committedDate": "2020-06-15T14:04:43Z", "message": "Fix ActionDropdown toggle on child select, if child is wrapped in another element"}, "afterCommit": {"oid": "ef5a9b8401ee8a4ec3d7e45adafd8a0fb65e638b", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ef5a9b8401ee8a4ec3d7e45adafd8a0fb65e638b", "committedDate": "2020-07-06T15:45:50Z", "message": "Fix update depth calculation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eeece598c0ea02e23ac12afd507eb671626a93c", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6eeece598c0ea02e23ac12afd507eb671626a93c", "committedDate": "2020-12-10T10:22:41Z", "message": "Fix ActionDropdown toggle on child select, if child is wrapped in another element"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9774408bafb55edff833c8403aae8be0f1f709a4", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/9774408bafb55edff833c8403aae8be0f1f709a4", "committedDate": "2020-12-10T10:22:41Z", "message": "Rename option to child"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b406262202356bf441c20ddfb13b726c40772b0c", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b406262202356bf441c20ddfb13b726c40772b0c", "committedDate": "2020-12-10T10:22:42Z", "message": "Fix update depth calculation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "702c9284109820722cc4a75b57dd0f4bc9b71f99", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/702c9284109820722cc4a75b57dd0f4bc9b71f99", "committedDate": "2020-12-10T10:22:42Z", "message": "Fix ActionDropdown prop manipulation for childrens without props"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef5a9b8401ee8a4ec3d7e45adafd8a0fb65e638b", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ef5a9b8401ee8a4ec3d7e45adafd8a0fb65e638b", "committedDate": "2020-07-06T15:45:50Z", "message": "Fix update depth calculation"}, "afterCommit": {"oid": "f1be1a1c430e9a220e1fc6fd0d8904f5fbcec841", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f1be1a1c430e9a220e1fc6fd0d8904f5fbcec841", "committedDate": "2020-12-10T11:02:39Z", "message": "Update type definitions and improve naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76c39a01bc6ce0b1669343a9483e2cfb64d347bd", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/76c39a01bc6ce0b1669343a9483e2cfb64d347bd", "committedDate": "2020-12-10T11:06:02Z", "message": "Update type definitions and improve naming"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1be1a1c430e9a220e1fc6fd0d8904f5fbcec841", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/f1be1a1c430e9a220e1fc6fd0d8904f5fbcec841", "committedDate": "2020-12-10T11:02:39Z", "message": "Update type definitions and improve naming"}, "afterCommit": {"oid": "76c39a01bc6ce0b1669343a9483e2cfb64d347bd", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/76c39a01bc6ce0b1669343a9483e2cfb64d347bd", "committedDate": "2020-12-10T11:06:02Z", "message": "Update type definitions and improve naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36ae7998e7fca5cc3eba42612a24b87eaee6477a", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/36ae7998e7fca5cc3eba42612a24b87eaee6477a", "committedDate": "2020-12-10T11:24:22Z", "message": "Fixing behaviour for the case that `MenuItem` only contains a string and not a component."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9941a47c0fad73b69aa4e2335937fb597dd596d3", "author": {"user": {"login": "linuspahl", "name": "Linus Pahl"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/9941a47c0fad73b69aa4e2335937fb597dd596d3", "committedDate": "2020-12-10T11:25:23Z", "message": "Adding test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MTYyMzk1", "url": "https://github.com/Graylog2/graylog2-server/pull/8340#pullrequestreview-549162395", "createdAt": "2020-12-10T12:48:57Z", "commit": {"oid": "9941a47c0fad73b69aa4e2335937fb597dd596d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3059, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}