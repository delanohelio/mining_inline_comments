{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMTM5NTQy", "number": 8329, "title": "Removing legacy Aggregation API.", "bodyText": "Description\n\nMotivation and Context\n\n\nAs previously announced (in be12bfe),\nthe legacy aggregation API is removed in 4.0. This PR is taking all\nthe required steps and prunes related classes and files.\nFor further details, please see #8323.\nHow Has This Been Tested?\n\n\n\nScreenshots (if appropriate):\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-06-11T15:00:58Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8329", "merged": true, "mergeCommit": {"oid": "82c8e848c6a04d01232ad50fbf2ffb5d11dcd1b1"}, "closed": true, "closedAt": "2020-06-15T10:12:28Z", "author": {"login": "dennisoelkers"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqgAI-gFqTQyOTU3MDYxNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrd25VAFqTQzMDUwNDkyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NTcwNjE3", "url": "https://github.com/Graylog2/graylog2-server/pull/8329#pullrequestreview-429570617", "createdAt": "2020-06-12T08:49:46Z", "commit": {"oid": "14adecf7bff900e01312030e584f2943a8c002c9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwODo0OTo0NlrOGi8RVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwOToxODo0NFrOGi9JlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTI5MjI0Ng==", "bodyText": "The public method createTermsBuilder and the constant AGG_TERMS can be deleted too.", "url": "https://github.com/Graylog2/graylog2-server/pull/8329#discussion_r439292246", "createdAt": "2020-06-12T08:49:46Z", "author": {"login": "alex-konn"}, "path": "graylog-storage-elasticsearch6/src/main/java/org/graylog/storage/elasticsearch6/SearchesAdapterES6.java", "diffHunk": "@@ -61,12 +45,9 @@\n \n public class SearchesAdapterES6 implements SearchesAdapter {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14adecf7bff900e01312030e584f2943a8c002c9"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwNDUwOQ==", "bodyText": "The constant STACKED_TERMS_AGG_SEPARATOR, and the enums TermsStatsOrder, and DateHistogramInterval can be deleted too.", "url": "https://github.com/Graylog2/graylog2-server/pull/8329#discussion_r439304509", "createdAt": "2020-06-12T09:14:20Z", "author": {"login": "alex-konn"}, "path": "graylog2-server/src/main/java/org/graylog2/indexer/searches/Searches.java", "diffHunk": "@@ -196,57 +191,6 @@ public SearchResult search(SearchesConfig config) {\n         return result;\n     }\n \n-    public TermsResult terms(String field, List<String> stackedFields, int size, String query, String filter, TimeRange range, Sorting.Direction sorting) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14adecf7bff900e01312030e584f2943a8c002c9"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMwNjY0NQ==", "bodyText": "The protected method splitStackedFields can be deleted too.", "url": "https://github.com/Graylog2/graylog2-server/pull/8329#discussion_r439306645", "createdAt": "2020-06-12T09:18:44Z", "author": {"login": "alex-konn"}, "path": "graylog2-server/src/main/java/org/graylog2/rest/resources/search/SearchResource.java", "diffHunk": "@@ -79,13 +70,6 @@ public SearchResource(Searches searches,\n         this.decoratorProcessor = decoratorProcessor;\n     }\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14adecf7bff900e01312030e584f2943a8c002c9"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dd981354293a38cdfd1f3cac5ded01cc1c716c1", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8dd981354293a38cdfd1f3cac5ded01cc1c716c1", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/terms-histogram` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5b06956906a23beca6933d4d3e06b53e88e6da6", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a5b06956906a23beca6933d4d3e06b53e88e6da6", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/histogram` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab70b52205ee8ffa9669f399de9ff77bafdd224d", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ab70b52205ee8ffa9669f399de9ff77bafdd224d", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/fieldhistogram` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be1f9ee567f8d870a1346eda3945a4e3edd3fdba", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/be1f9ee567f8d870a1346eda3945a4e3edd3fdba", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/stats` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7aa3e99192735d59454760d3dd9603966c6b420b", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7aa3e99192735d59454760d3dd9603966c6b420b", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/termsstats` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bef1889a2196ade55ea5f4b8ca5cfe890069c899", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/bef1889a2196ade55ea5f4b8ca5cfe890069c899", "committedDate": "2020-06-12T14:22:25Z", "message": "Cleaning up unused methods/classes/fields."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "316748a7efa61feca3e8f08e4e91bedb759cf45a", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/316748a7efa61feca3e8f08e4e91bedb759cf45a", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/sources` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d5537886b3a18eeaee62ce3ae6782ebb65a8343", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6d5537886b3a18eeaee62ce3ae6782ebb65a8343", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing `/terms` API endpoint."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cad2c3b100c3c4f785f49b124c1f5a30a7d6bd5a", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cad2c3b100c3c4f785f49b124c1f5a30a7d6bd5a", "committedDate": "2020-06-12T14:22:25Z", "message": "Removing orphaned result class."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15945ce08b5ef2092319712001bb50c5425e650f", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/15945ce08b5ef2092319712001bb50c5425e650f", "committedDate": "2020-06-12T14:22:26Z", "message": "Removing obsolete methods/enums/fields, fixing array allocation."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6edd509e47cd39ba0f4cb09eeb962a4e9fdddff7", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6edd509e47cd39ba0f4cb09eeb962a4e9fdddff7", "committedDate": "2020-06-12T14:19:36Z", "message": "Removing obsolete methods/enums/fields, fixing array allocation."}, "afterCommit": {"oid": "15945ce08b5ef2092319712001bb50c5425e650f", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/15945ce08b5ef2092319712001bb50c5425e650f", "committedDate": "2020-06-12T14:22:26Z", "message": "Removing obsolete methods/enums/fields, fixing array allocation."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTA0OTI2", "url": "https://github.com/Graylog2/graylog2-server/pull/8329#pullrequestreview-430504926", "createdAt": "2020-06-15T10:12:02Z", "commit": {"oid": "15945ce08b5ef2092319712001bb50c5425e650f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3051, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}