{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3Mzk1NTc4", "number": 9223, "title": "Offer GIM as a template option for index set configs.", "bodyText": "Goal\nAs a Graylog user, I would want to be able to configure an index set to use the Graylog Information Model mapping template, so every new index created in this index set automatically has the proper mappings.\nDescription of Changes\nThis PR is adding a mapping template class similar to our standard mapping template, which includes the field types and namings as defined in the Graylog Information Model. A new possible value (gim_v1) is added for the index_template_type field of the index set config, which can be used to enable the usage of this template type for a given index set.\nHow Has This Been Tested?\n\n\n\nScreenshots (if appropriate):\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-10-21T09:36:34Z", "url": "https://github.com/Graylog2/graylog2-server/pull/9223", "merged": true, "mergeCommit": {"oid": "4efbc69da1adc2c4179e9cd2cfd1388fa303022b"}, "closed": true, "closedAt": "2020-10-26T14:59:30Z", "author": {"login": "dennisoelkers"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUwatKAFqTUxMzk2NzIzMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWVrvSgFqTUxNjg2Njk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzOTY3MjMx", "url": "https://github.com/Graylog2/graylog2-server/pull/9223#pullrequestreview-513967231", "createdAt": "2020-10-21T17:00:15Z", "commit": {"oid": "74a224d9622361163e54d0cbefdf79104d1e0f36"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNzowMDoxNVrOHl2dMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNzowMDoxNVrOHl2dMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ1MTU2OA==", "bodyText": "What's the reasoning behind calling this generic? Wouldn't it be better to call this gim or graylog-schema or something similar?\nAnd should we include a version number? Or how would we handle different versions of the schema?", "url": "https://github.com/Graylog2/graylog2-server/pull/9223#discussion_r509451568", "createdAt": "2020-10-21T17:00:15Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog2/indexer/indexset/IndexSetConfig.java", "diffHunk": "@@ -58,7 +58,9 @@\n         @JsonProperty(\"messages\")\n         MESSAGES,\n         @JsonProperty(\"events\")\n-        EVENTS\n+        EVENTS,\n+        @JsonProperty(\"generic\")\n+        GENERIC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74a224d9622361163e54d0cbefdf79104d1e0f36"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3c461f4bef9b9ff9db2f99637c46596d0ad8c44", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a3c461f4bef9b9ff9db2f99637c46596d0ad8c44", "committedDate": "2020-10-23T07:29:33Z", "message": "Giving GIM template type a better name."}, "afterCommit": {"oid": "21f8bc68965f213d37e0a980454ec96fd4f069ba", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/21f8bc68965f213d37e0a980454ec96fd4f069ba", "committedDate": "2020-10-23T07:30:49Z", "message": "Giving GIM template type a better name."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NjQ3MTM4", "url": "https://github.com/Graylog2/graylog2-server/pull/9223#pullrequestreview-516647138", "createdAt": "2020-10-26T10:34:35Z", "commit": {"oid": "b116d64983c5080b7564047f990caf5637b1341b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMDozNDozNVrOHoJjxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMDozNDozNVrOHoJjxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg2MTcwMw==", "bodyText": "Duplicate license.", "url": "https://github.com/Graylog2/graylog2-server/pull/9223#discussion_r511861703", "createdAt": "2020-10-26T10:34:35Z", "author": {"login": "bernd"}, "path": "graylog2-server/src/main/java/org/graylog2/indexer/GIMMapping.java", "diffHunk": "@@ -0,0 +1,443 @@\n+/**\n+ * This file is part of Graylog.\n+ *\n+ * Graylog is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Graylog is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Graylog.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+/**\n+ * This file is part of Graylog.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b116d64983c5080b7564047f990caf5637b1341b"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5eebba5d22440d14bb99676d17972202874208d", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d5eebba5d22440d14bb99676d17972202874208d", "committedDate": "2020-10-26T14:26:20Z", "message": "Adding new index template type, extending factory."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4098b79dda144bb119621b219e9fa952c0f3b385", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4098b79dda144bb119621b219e9fa952c0f3b385", "committedDate": "2020-10-26T14:26:20Z", "message": "Adding tests for ES6 and ES7 templates."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae266c80d849115daa97c7bd3521f03673cc436", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/eae266c80d849115daa97c7bd3521f03673cc436", "committedDate": "2020-10-26T14:26:20Z", "message": "Merging standard template into GIM template."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4118d73aa90b500a42b73aa4e6a0272e74cb848", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/c4118d73aa90b500a42b73aa4e6a0272e74cb848", "committedDate": "2020-10-26T14:26:20Z", "message": "Fixing typo in field name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb7aa9c1df3b37c602d9279d6a8aeb0e9312dc22", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/eb7aa9c1df3b37c602d9279d6a8aeb0e9312dc22", "committedDate": "2020-10-26T14:26:20Z", "message": "Adjusting test fixtures."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6aefa2a96a605dca11e50cdfd5451ae8b75120db", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6aefa2a96a605dca11e50cdfd5451ae8b75120db", "committedDate": "2020-10-26T14:26:20Z", "message": "Giving GIM template type a better name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31e5595861ee231f8627b3bbe667808256a42758", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/31e5595861ee231f8627b3bbe667808256a42758", "committedDate": "2020-10-26T14:26:20Z", "message": "Include `analyzer_keyword` analyzer in GIM template."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c32905464fd6907c44815348d89e55b25dfae71", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6c32905464fd6907c44815348d89e55b25dfae71", "committedDate": "2020-10-26T14:26:21Z", "message": "Include optional template type property in index set config request/response."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15dfb8147cc61fcc6b5b78b6f8fb9bbe212c9c75", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/15dfb8147cc61fcc6b5b78b6f8fb9bbe212c9c75", "committedDate": "2020-10-26T14:26:21Z", "message": "Log full exception when new index creation fails."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b02b88f9fe2d683542fe052333f6241dd36c34b", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8b02b88f9fe2d683542fe052333f6241dd36c34b", "committedDate": "2020-10-26T14:26:21Z", "message": "Adjusting test fixtures."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd1b12e9bbe448b4d0918539d7b35974d1c5ac30", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fd1b12e9bbe448b4d0918539d7b35974d1c5ac30", "committedDate": "2020-10-26T14:26:21Z", "message": "Removing redundant license header."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b116d64983c5080b7564047f990caf5637b1341b", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b116d64983c5080b7564047f990caf5637b1341b", "committedDate": "2020-10-26T09:00:30Z", "message": "Adjusting test fixtures."}, "afterCommit": {"oid": "fd1b12e9bbe448b4d0918539d7b35974d1c5ac30", "author": {"user": {"login": "dennisoelkers", "name": "Dennis Oelkers"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/fd1b12e9bbe448b4d0918539d7b35974d1c5ac30", "committedDate": "2020-10-26T14:26:21Z", "message": "Removing redundant license header."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2ODY2OTY5", "url": "https://github.com/Graylog2/graylog2-server/pull/9223#pullrequestreview-516866969", "createdAt": "2020-10-26T14:59:21Z", "commit": {"oid": "fd1b12e9bbe448b4d0918539d7b35974d1c5ac30"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3441, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}