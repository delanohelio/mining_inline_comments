{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMjg3NDI1", "number": 8868, "title": "Search Popovers and Tooltips", "bodyText": "Description\n\n\nReposition DayPicker error Tooltip\nUpdate Popover right and left arrow colors to match the background\nUpdated Save Search Popover buttons to be smaller and resized width to make sure they all fit in one line\n\nMotivation and Context\n\n\nSome issues with Popover and Tooltip within the Search bar\nScreenshots (if appropriate):\n\n\n\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-08-25T15:30:18Z", "url": "https://github.com/Graylog2/graylog2-server/pull/8868", "merged": true, "mergeCommit": {"oid": "80711785b2436f6b9ec41bf295e1354bd336af9f"}, "closed": true, "closedAt": "2020-09-03T09:46:34Z", "author": {"login": "kyleknighted"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCfZWnABqjM2OTIyMjU2MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFNcPSAFqTQ4MTY3NjA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97b6def83a2c7b1aaaaa3b334c4e6c3e37e8ec2e", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/97b6def83a2c7b1aaaaa3b334c4e6c3e37e8ec2e", "committedDate": "2020-08-25T15:24:26Z", "message": "Search Popovers and Tooltips"}, "afterCommit": {"oid": "8d5edfe2e455efeaae9cccf8786612cad0f29a17", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8d5edfe2e455efeaae9cccf8786612cad0f29a17", "committedDate": "2020-08-25T22:56:28Z", "message": "Graph legend color popover"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d5edfe2e455efeaae9cccf8786612cad0f29a17", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8d5edfe2e455efeaae9cccf8786612cad0f29a17", "committedDate": "2020-08-25T22:56:28Z", "message": "Graph legend color popover"}, "afterCommit": {"oid": "341ec014a04c713851c43e746f1fa1322512b2d5", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/341ec014a04c713851c43e746f1fa1322512b2d5", "committedDate": "2020-08-27T14:39:53Z", "message": "flow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2Nzk0MDA1", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#pullrequestreview-476794005", "createdAt": "2020-08-27T14:45:05Z", "commit": {"oid": "341ec014a04c713851c43e746f1fa1322512b2d5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNDo0NTowNVrOHITwZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QxNDo0NTowNVrOHITwZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQ3NDM0Mg==", "bodyText": "Maybe a conditional here, if defaultMode is set, no reason to do the useCurrentThemeMode?", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#discussion_r478474342", "createdAt": "2020-08-27T14:45:05Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/theme/GraylogThemeProvider.jsx", "diffHunk": "@@ -37,13 +37,13 @@ const createTheme = (mode, themeColors, changeMode): ThemeInterface => {\n   };\n };\n \n-const GraylogThemeProvider = ({ children }: Props) => {\n-  const colorScheme = usePrefersColorScheme();\n-  const [mode, setCurrentThemeMode] = useCurrentThemeMode(colorScheme);\n+const GraylogThemeProvider = ({ children, defaultMode }: Props) => {\n+  const [mode, setCurrentThemeMode] = useCurrentThemeMode();\n+  const themeMode = defaultMode ?? mode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "341ec014a04c713851c43e746f1fa1322512b2d5"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NjM3Mjc2", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#pullrequestreview-479637276", "createdAt": "2020-09-01T11:11:59Z", "commit": {"oid": "b3ad5160d61703d20d95b2dae958bc3cd47982aa"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMToxMjowMFrOHKxiAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMToxMzowNFrOHKxkLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA1OTMzMQ==", "bodyText": "IMO this is a no-go for hooks, which should always be called unconditionally. Instead, we could pass in the defaultMode and use it accordingly.", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#discussion_r481059331", "createdAt": "2020-09-01T11:12:00Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/theme/GraylogThemeProvider.jsx", "diffHunk": "@@ -37,13 +37,12 @@ const createTheme = (mode, themeColors, changeMode): ThemeInterface => {\n   };\n };\n \n-const GraylogThemeProvider = ({ children }: Props) => {\n-  const colorScheme = usePrefersColorScheme();\n-  const [mode, setCurrentThemeMode] = useCurrentThemeMode(colorScheme);\n+const GraylogThemeProvider = ({ children, defaultMode }: Props) => {\n+  const [mode, setCurrentThemeMode] = defaultMode ? [defaultMode, () => {}] : useCurrentThemeMode();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ad5160d61703d20d95b2dae958bc3cd47982aa"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA1OTg4NA==", "bodyText": "Should we extract this into a styled component instead of using an inline style?", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#discussion_r481059884", "createdAt": "2020-09-01T11:13:04Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/views/components/searchbar/saved-search/SavedSearchForm.jsx", "diffHunk": "@@ -43,7 +43,7 @@ const SavedSearchForm = (props: Props) => {\n                 placement=\"left\"\n                 target={target}>\n         <Popover title=\"Name of search\" id=\"saved-search-popover\">\n-          <form onSubmit={stopEvent}>\n+          <form onSubmit={stopEvent} style={{ width: '210px' }}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ad5160d61703d20d95b2dae958bc3cd47982aa"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab9fc0e7f1c8617ef485def53ab778d252ec33b5", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ab9fc0e7f1c8617ef485def53ab778d252ec33b5", "committedDate": "2020-09-02T11:59:03Z", "message": "Search Popovers and Tooltips"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef6fe25dbe8432591650f8ee1aea57753f68f3ba", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/ef6fe25dbe8432591650f8ee1aea57753f68f3ba", "committedDate": "2020-09-02T11:59:03Z", "message": "Graph legend color popover"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf958aad4aa2bb1ace36ba2f319e5aeaeaf3ecaa", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/bf958aad4aa2bb1ace36ba2f319e5aeaeaf3ecaa", "committedDate": "2020-09-02T11:59:03Z", "message": "Revert some unnecessary changes and update theme in Popover & Tooltip"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b91472c35250889c67c1ca3c172065e4de4e870c", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b91472c35250889c67c1ca3c172065e4de4e870c", "committedDate": "2020-09-02T11:59:03Z", "message": "lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e01833e03d0e9a09ebe28ee94d0213dbc7888d18", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/e01833e03d0e9a09ebe28ee94d0213dbc7888d18", "committedDate": "2020-09-02T11:59:03Z", "message": "flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cb6c63103c7c0230b383a8a765f4cc688bfc3de", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/5cb6c63103c7c0230b383a8a765f4cc688bfc3de", "committedDate": "2020-09-02T11:59:03Z", "message": "conditional mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96a0ca29fc97fcd2268bf82f8c62770f8774de2d", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/96a0ca29fc97fcd2268bf82f8c62770f8774de2d", "committedDate": "2020-09-02T12:44:53Z", "message": "Feedback from @dennisoelkers"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b3ad5160d61703d20d95b2dae958bc3cd47982aa", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b3ad5160d61703d20d95b2dae958bc3cd47982aa", "committedDate": "2020-08-28T00:51:46Z", "message": "conditional mode"}, "afterCommit": {"oid": "96a0ca29fc97fcd2268bf82f8c62770f8774de2d", "author": {"user": {"login": "kyleknighted", "name": "Kyle Knight"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/96a0ca29fc97fcd2268bf82f8c62770f8774de2d", "committedDate": "2020-09-02T12:44:53Z", "message": "Feedback from @dennisoelkers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNjc2MDcy", "url": "https://github.com/Graylog2/graylog2-server/pull/8868#pullrequestreview-481676072", "createdAt": "2020-09-03T09:46:28Z", "commit": {"oid": "96a0ca29fc97fcd2268bf82f8c62770f8774de2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2872, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}