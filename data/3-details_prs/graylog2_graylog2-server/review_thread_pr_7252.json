{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MjMyNTU5", "number": 7252, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMDozMVrODaHmwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMzozM1rODaHqTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NzE0MTc4OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/views/logic/views/OnSaveViewAction.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMDozMVrOFg5KQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMDozMVrOFg5KQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzNTI2NQ==", "bodyText": "Do you prefer using the view title, returned from the database, or the initial view title we passed to the onSaveViewAction?", "url": "https://github.com/Graylog2/graylog2-server/pull/7252#discussion_r370035265", "createdAt": "2020-01-23T10:20:31Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/views/logic/views/OnSaveViewAction.js", "diffHunk": "@@ -1,8 +1,11 @@\n import UserNotification from 'util/UserNotification';\n import { ViewManagementActions } from 'views/stores/ViewManagementStore';\n+import { ViewActions } from 'views/stores/ViewStore';\n \n-export default (view) => {\n-  return ViewManagementActions.update(view)\n-    .then(() => UserNotification.success(`Saving view \"${view.title}\" was successful!`, 'Success!'))\n-    .catch(error => UserNotification.error(`Saving view failed: ${error}`, 'Error!'));\n+export default (newView) => {\n+  return ViewActions.update(newView).then(({ view }) => {\n+    return ViewManagementActions.update(view);\n+  }).then(({ title }) => {\n+    return UserNotification.success(`Saving view \"${title}\" was successful!`, 'Success!');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78e577385396d37297e96763cfc8ad3f6aa8de10"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NzE1MDg3OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/views/stores/ViewStore.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMzozM1rOFg5Psw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyMzozM1rOFg5Psw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzNjY1OQ==", "bodyText": "I am not sure if this action should return the ViewStoreState or just the View. ViewManagementActions.update returns only the view, but I decided to return the ViewStoreState, to unify the type of the return value with `ViewActions.create``", "url": "https://github.com/Graylog2/graylog2-server/pull/7252#discussion_r370036659", "createdAt": "2020-01-23T10:23:33Z", "author": {"login": "linuspahl"}, "path": "graylog2-web-interface/src/views/stores/ViewStore.js", "diffHunk": "@@ -27,30 +27,26 @@ export type ViewStoreState = {\n \n type ViewActionsType = RefluxActions<{\n   create: (ViewType, ?string) => Promise<ViewStoreState>,\n-  description: (string) => Promise<ViewStoreState>,\n   load: (View, ?boolean) => Promise<ViewStoreState>,\n   properties: (Properties) => Promise<void>,\n   search: (Search) => Promise<View>,\n   selectQuery: (string) => Promise<string>,\n   state: (ViewState) => Promise<View>,\n-  summary: (string) => Promise<void>,\n-  title: (string) => Promise<void>,\n+  update: (View) => Promise<ViewStoreState>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78e577385396d37297e96763cfc8ad3f6aa8de10"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3930, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}