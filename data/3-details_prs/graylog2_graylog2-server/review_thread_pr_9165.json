{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzOTU0MzY0", "number": 9165, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0MDozMFrOEvKlNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo1MDoyM1rOEvKwHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODkxODk0OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/navigation/Navigation.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0MDozMFrOHj_uKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0MDozMFrOHj_uKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwNjIxNg==", "bodyText": "I'd remove the prefix space here\nThere is already a space before DEV so I think we can leave it out of the 'CLOUD ' string, or remove the space before DEV\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      && <Badge bsStyle=\"danger\" className=\"small-scrn-badge dev-badge\">{AppConfig.isCloud() ? 'CLOUD ' : ''} DEV</Badge>\n          \n          \n            \n                      && <Badge bsStyle=\"danger\" className=\"small-scrn-badge dev-badge\">{AppConfig.isCloud() ? 'CLOUD' : ''} DEV</Badge>", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507506216", "createdAt": "2020-10-19T06:40:30Z", "author": {"login": "Gaya"}, "path": "graylog2-web-interface/src/components/navigation/Navigation.jsx", "diffHunk": "@@ -90,7 +90,7 @@ const Navigation = ({ permissions, fullName, location, loginName }) => {\n \n         {\n         AppConfig.gl2DevMode()\n-          && <Badge bsStyle=\"danger\" className=\"small-scrn-badge dev-badge\">DEV</Badge>\n+          && <Badge bsStyle=\"danger\" className=\"small-scrn-badge dev-badge\">{AppConfig.isCloud() ? 'CLOUD ' : ''} DEV</Badge>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODkxOTczOnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/components/navigation/Navigation.jsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0MDo0OFrOHj_ujg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0MDo0OFrOHj_ujg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwNjMxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            <Badge bsStyle=\"danger\" className=\"dev-badge\">{AppConfig.isCloud() ? 'CLOUD ' : ''} DEV</Badge>\n          \n          \n            \n                            <Badge bsStyle=\"danger\" className=\"dev-badge\">{AppConfig.isCloud() ? 'CLOUD ' : ''}DEV</Badge>", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507506318", "createdAt": "2020-10-19T06:40:48Z", "author": {"login": "Gaya"}, "path": "graylog2-web-interface/src/components/navigation/Navigation.jsx", "diffHunk": "@@ -124,7 +124,7 @@ const Navigation = ({ permissions, fullName, location, loginName }) => {\n           AppConfig.gl2DevMode()\n             && (\n               <InactiveNavItem className=\"dev-badge-wrap\">\n-                <Badge bsStyle=\"danger\" className=\"dev-badge\">DEV</Badge>\n+                <Badge bsStyle=\"danger\" className=\"dev-badge\">{AppConfig.isCloud() ? 'CLOUD ' : ''} DEV</Badge>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODkzNDExOnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/src/util/AppConfig.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0NTo0OFrOHj_2yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0NTo0OFrOHj_2yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwODQyNw==", "bodyText": "You can remove the parenthesis after typeof\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (typeof (IS_CLOUD) !== 'undefined') {\n          \n          \n            \n                if (typeof IS_CLOUD !== 'undefined') {", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507508427", "createdAt": "2020-10-19T06:45:48Z", "author": {"login": "Gaya"}, "path": "graylog2-web-interface/src/util/AppConfig.js", "diffHunk": "@@ -30,6 +30,15 @@ const AppConfig = {\n     return this.appConfig().rootTimeZone;\n   },\n \n+  isCloud() {\n+    if (typeof (IS_CLOUD) !== 'undefined') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODk0NDEyOnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/webpack.combined.config.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo0OToyMFrOHj_86Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxMToyMDoyNlrOHkJlsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwOTk5Mw==", "bodyText": "Array.some() will return true if there is any element which matches the condition. So no need to filter and then count the amount of elements.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            if (pluginConfigs.filter((config) => config.includes('graylog-plugin-cloud/server-plugin')).length > 0) {\n          \n          \n            \n            if (pluginConfigs.some((config) => config.includes('graylog-plugin-cloud/server-plugin'))) {", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507509993", "createdAt": "2020-10-19T06:49:20Z", "author": {"login": "Gaya"}, "path": "graylog2-web-interface/webpack.combined.config.js", "diffHunk": "@@ -16,7 +16,11 @@ const globOptions = {\n   nodir: true,\n };\n \n-const pluginConfigs = process.env.disable_plugins === 'true' ? [] : glob.sync(pluginConfigPattern, globOptions).map(config => `${globCwd}/${config}`);\n+const pluginConfigs = process.env.disable_plugins === 'true' ? [] : glob.sync(pluginConfigPattern, globOptions).map((config) => `${globCwd}/${config}`);\n+\n+if (pluginConfigs.filter((config) => config.includes('graylog-plugin-cloud/server-plugin')).length > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY2Nzg4OQ==", "bodyText": "Thanks!", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507667889", "createdAt": "2020-10-19T11:20:26Z", "author": {"login": "thll"}, "path": "graylog2-web-interface/webpack.combined.config.js", "diffHunk": "@@ -16,7 +16,11 @@ const globOptions = {\n   nodir: true,\n };\n \n-const pluginConfigs = process.env.disable_plugins === 'true' ? [] : glob.sync(pluginConfigPattern, globOptions).map(config => `${globCwd}/${config}`);\n+const pluginConfigs = process.env.disable_plugins === 'true' ? [] : glob.sync(pluginConfigPattern, globOptions).map((config) => `${globCwd}/${config}`);\n+\n+if (pluginConfigs.filter((config) => config.includes('graylog-plugin-cloud/server-plugin')).length > 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUwOTk5Mw=="}, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3ODk0Njg3OnYy", "diffSide": "RIGHT", "path": "graylog2-web-interface/webpack.combined.config.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo1MDoyM1rOHj_-kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNjo1MDoyM1rOHj_-kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzUxMDQxOA==", "bodyText": "Much better indeed!", "url": "https://github.com/Graylog2/graylog2-server/pull/9165#discussion_r507510418", "createdAt": "2020-10-19T06:50:23Z", "author": {"login": "Gaya"}, "path": "graylog2-web-interface/webpack.combined.config.js", "diffHunk": "@@ -29,10 +33,9 @@ function getPluginName(pluginConfig) {\n     // If a package.json file exists (should normally be the case) use the package name for pluginName\n     const pkg = JSON.parse(fs.readFileSync(packageConfig, 'utf8'));\n     return pkg.name.replace(/\\s+/g, '');\n-  } else {\n-    // Otherwise just use the directory name of the webpack config file\n-    return path.basename(path.dirname(pluginConfig));\n   }\n+  // Otherwise just use the directory name of the webpack config file", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03f5eda80af62415798b5d59b156c4e4558fdfc3"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4479, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}