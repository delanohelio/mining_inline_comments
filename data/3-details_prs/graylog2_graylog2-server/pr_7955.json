{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3OTY1MTQw", "number": 7955, "title": "Provide Plugin System to add Items to the Navigation", "bodyText": "Description\nWith this PR Plugins can now Provide Items to the Navigation. Also a customization store\n(which is using the ConfigurationsBackend) can now be used to provide Customization Settings.\nMotivation and Context\nIn a plugin we want to be able to add items to the navigation, this PR will allow that now.\nTypes of changes\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Refactoring (non-breaking change)\n Breaking change (fix or feature that would cause existing functionality to change)\n\nChecklist:\n\n My code follows the code style of this project.\n My change requires a change to the documentation.\n I have updated the documentation accordingly.\n I have read the CONTRIBUTING document.\n I have added tests to cover my changes.", "createdAt": "2020-04-23T14:34:36Z", "url": "https://github.com/Graylog2/graylog2-server/pull/7955", "merged": true, "mergeCommit": {"oid": "b63c3d4b88041118ae069fe75ae67a218d9715e2"}, "closed": true, "closedAt": "2020-06-24T08:34:29Z", "author": {"login": "kmerz"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccHbQUAFqTQwMjA1NjI4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuV2trAFqTQzNjQzNzM4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMDU2Mjg4", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#pullrequestreview-402056288", "createdAt": "2020-04-28T17:26:51Z", "commit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNjo1MVrOGNfBxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyODo0OFrOGNfGog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MzAzMA==", "bodyText": "This probably will need to wrap around the ThemeProvider stuff so that in the future we can reference the CustomizationProvider inside of src/theme/GraylogThemeProvider.jsx and get any modified color values.", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#discussion_r416793030", "createdAt": "2020-04-28T17:26:51Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/pages/LoggedInPage.jsx", "diffHunk": "@@ -1,11 +1,14 @@\n import React from 'react';\n import AppRouter from 'routing/AppRouter';\n import CurrentUserPreferencesProvider from '../contexts/CurrentUserPreferencesProvider';\n+import CustomizationProvider from '../contexts/CustomizationProvider';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MzgzOQ==", "bodyText": "Not sure if these changes are relevant to the Customization Plugin system?", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#discussion_r416793839", "createdAt": "2020-04-28T17:28:06Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/routing/ApiRoutes.js", "diffHunk": "@@ -53,6 +53,9 @@ const ApiRoutes = {\n     node: () => { return { url: '/system/cluster/node' }; },\n     elasticsearchStats: () => { return { url: '/system/cluster/stats/elasticsearch' }; },\n   },\n+  ClusterConfigResource: {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5Mzg4NQ==", "bodyText": "Not sure if these changes are relevant to the Customization Plugin system?", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#discussion_r416793885", "createdAt": "2020-04-28T17:28:11Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/stores/configurations/ConfigurationsStore.js", "diffHunk": "@@ -2,13 +2,14 @@\n import Reflux from 'reflux';\n import { qualifyUrl } from 'util/URLUtils';\n import fetch from 'logic/rest/FetchProvider';\n+import ApiRoutes from 'routing/ApiRoutes';\n import UserNotification from 'util/UserNotification';\n \n import ActionsProvider from 'injection/ActionsProvider';\n \n const ConfigurationActions = ActionsProvider.getActions('Configuration');\n \n-const urlPrefix = '/system/cluster_config';\n+const urlPrefix = ApiRoutes.ClusterConfigResource.config().url;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5NDI3NA==", "bodyText": "Should the {} be something more specific?", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#discussion_r416794274", "createdAt": "2020-04-28T17:28:48Z", "author": {"login": "kyleknighted"}, "path": "graylog2-web-interface/src/stores/customizations/CustomizationsStore.jsx", "diffHunk": "@@ -0,0 +1,72 @@\n+// @flow strict\n+import Reflux from 'reflux';\n+import { qualifyUrl } from 'util/URLUtils';\n+import ApiRoutes from 'routing/ApiRoutes';\n+import UserNotification from 'util/UserNotification';\n+import fetch from 'logic/rest/FetchProvider';\n+import ActionsProvider from 'injection/ActionsProvider';\n+import { singletonStore } from 'views/logic/singleton';\n+\n+const CustomizationActions = ActionsProvider.getActions('Customizations');\n+\n+const urlPrefix = ApiRoutes.ClusterConfigResource.config().url;\n+\n+type CustomizationsStoreState = {\n+  customization: {},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/a3bf58e53b61ff6b2ddcfb8db4d1f9119c204520", "committedDate": "2020-04-24T07:53:02Z", "message": "Fix warnings"}, "afterCommit": {"oid": "b4a9a784d85fd0323fecf51f8e0878d4f06452e3", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b4a9a784d85fd0323fecf51f8e0878d4f06452e3", "committedDate": "2020-04-30T13:00:38Z", "message": "Fix warnings"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4a9a784d85fd0323fecf51f8e0878d4f06452e3", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b4a9a784d85fd0323fecf51f8e0878d4f06452e3", "committedDate": "2020-04-30T13:00:38Z", "message": "Fix warnings"}, "afterCommit": {"oid": "7fc35b6accbb84aa1c275b8b9a5296df2b9a0405", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7fc35b6accbb84aa1c275b8b9a5296df2b9a0405", "committedDate": "2020-05-05T12:57:18Z", "message": "Fix warnings"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ebbdf62a18ee77bca9a9cb9777629b3b98e9c86", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/7ebbdf62a18ee77bca9a9cb9777629b3b98e9c86", "committedDate": "2020-05-05T13:00:43Z", "message": "Move CustomizationProvider to wrap GraylogThemeProvider"}, "afterCommit": {"oid": "05d314cfe9329b51a6109d7bc408ee4aed6b38db", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/05d314cfe9329b51a6109d7bc408ee4aed6b38db", "committedDate": "2020-05-20T14:02:45Z", "message": "Move CustomizationProvider to wrap GraylogThemeProvider"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTQwNDk5", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#pullrequestreview-415540499", "createdAt": "2020-05-20T17:02:43Z", "commit": {"oid": "05d314cfe9329b51a6109d7bc408ee4aed6b38db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4OTU5MzMw", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#pullrequestreview-428959330", "createdAt": "2020-06-11T14:18:28Z", "commit": {"oid": "05d314cfe9329b51a6109d7bc408ee4aed6b38db"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoxODoyOFrOGifhxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoxODoyOFrOGifhxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyMTMxNw==", "bodyText": "I think this should indicate that it's not a generic header badge, but the DevelopmentHeaderBadge or something similar.", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#discussion_r438821317", "createdAt": "2020-06-11T14:18:28Z", "author": {"login": "dennisoelkers"}, "path": "graylog2-web-interface/src/components/navigation/HeaderBadge.jsx", "diffHunk": "@@ -0,0 +1,25 @@\n+// @flow strict\n+import React from 'react';\n+import PropTypes from 'prop-types';\n+\n+import AppConfig from 'util/AppConfig';\n+import { Badge } from 'components/graylog';\n+\n+type Props = {\n+  smallScreen: boolean,\n+};\n+\n+const HeaderBadge = ({ smallScreen }: Props) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05d314cfe9329b51a6109d7bc408ee4aed6b38db"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05d314cfe9329b51a6109d7bc408ee4aed6b38db", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/05d314cfe9329b51a6109d7bc408ee4aed6b38db", "committedDate": "2020-05-20T14:02:45Z", "message": "Move CustomizationProvider to wrap GraylogThemeProvider"}, "afterCommit": {"oid": "abccf0541cc3d2493f810f0e1dcd96bb00661c1c", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/abccf0541cc3d2493f810f0e1dcd96bb00661c1c", "committedDate": "2020-06-12T13:30:56Z", "message": "Rename HeaderBadge to fit its purpose"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da42b6243438f6c4c8f58d2bbcd2ee14619b13a4", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/da42b6243438f6c4c8f58d2bbcd2ee14619b13a4", "committedDate": "2020-06-22T07:28:59Z", "message": "Allow Plugins to add Header Badge to Navigation\n\nThe enterprise plugin will add a new HeaderBadge\nfor custumiztion and this needs to be add to the navigation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "939ccab2fcf062a45d9a087471b347956a7699db", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/939ccab2fcf062a45d9a087471b347956a7699db", "committedDate": "2020-06-22T07:29:05Z", "message": "Use navigationItems key for PluginStore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b7d4541e924fbc2bcd44b74ec0b59d1288d800a", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/8b7d4541e924fbc2bcd44b74ec0b59d1288d800a", "committedDate": "2020-06-22T07:29:05Z", "message": "Use Context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f7c2b38b53d3b8ccc5d79cf5fea09b7450ff143", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6f7c2b38b53d3b8ccc5d79cf5fea09b7450ff143", "committedDate": "2020-06-22T07:29:05Z", "message": "Add missing flow type annotations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f431011b0f7bd910c8dbf3fb997a513f0b2df39", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/4f431011b0f7bd910c8dbf3fb997a513f0b2df39", "committedDate": "2020-06-22T07:29:25Z", "message": "Fix linter warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3133bd9daf090aac3d8c37b4b40859ed40eda339", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/3133bd9daf090aac3d8c37b4b40859ed40eda339", "committedDate": "2020-06-22T07:30:33Z", "message": "Fix warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43d3bbbc5652ba3ada291a38b1e42d0ff9354148", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/43d3bbbc5652ba3ada291a38b1e42d0ff9354148", "committedDate": "2020-06-22T07:31:44Z", "message": "Move CustomizationProvider to wrap GraylogThemeProvider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f696fdd26a855f96769b6b3c2db415edd219751", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/6f696fdd26a855f96769b6b3c2db415edd219751", "committedDate": "2020-06-22T07:31:46Z", "message": "Rename HeaderBadge to fit its purpose"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "881d88749b5ae189ca5c037de3ba49a544e56cbe", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/881d88749b5ae189ca5c037de3ba49a544e56cbe", "committedDate": "2020-06-22T07:31:46Z", "message": "Fix jest.mock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8af6bf366d38f732c55ea809b2c8ebe6e3c23f8", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/d8af6bf366d38f732c55ea809b2c8ebe6e3c23f8", "committedDate": "2020-06-22T07:32:07Z", "message": "Fix linter warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "675b0cc0b02f53499208786c15383a59f9694d52", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/675b0cc0b02f53499208786c15383a59f9694d52", "committedDate": "2020-06-22T07:32:27Z", "message": "Revert \"Fix linter warnings\"\n\nThis reverts commit eebce89f803bc1b33bc0d7c3859158d2413210b4."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc189446590cb3845f17cb1a068909d5ef393d75", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/cc189446590cb3845f17cb1a068909d5ef393d75", "committedDate": "2020-06-12T14:48:42Z", "message": "Revert \"Fix linter warnings\"\n\nThis reverts commit eebce89f803bc1b33bc0d7c3859158d2413210b4."}, "afterCommit": {"oid": "675b0cc0b02f53499208786c15383a59f9694d52", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/675b0cc0b02f53499208786c15383a59f9694d52", "committedDate": "2020-06-22T07:32:27Z", "message": "Revert \"Fix linter warnings\"\n\nThis reverts commit eebce89f803bc1b33bc0d7c3859158d2413210b4."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b74ef5a79cfc34647cca5224644043c118f93369", "author": {"user": {"login": "kmerz", "name": "Konrad Merz"}}, "url": "https://github.com/Graylog2/graylog2-server/commit/b74ef5a79cfc34647cca5224644043c118f93369", "committedDate": "2020-06-22T08:21:12Z", "message": "Fix all linter warnings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NDM3Mzgz", "url": "https://github.com/Graylog2/graylog2-server/pull/7955#pullrequestreview-436437383", "createdAt": "2020-06-24T08:34:22Z", "commit": {"oid": "b74ef5a79cfc34647cca5224644043c118f93369"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2431, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}