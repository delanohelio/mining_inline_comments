{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDM2MTU2", "number": 11825, "title": "[FLINK-17226][metrics]Remove Prometheus shade-plugin relocations", "bodyText": "What is the purpose of the change\nNow that we load the Prometheus reporters as plugins we should remove the shade-plugin configuration/relocations.\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (no)\nThe serializers: (no)\nThe runtime per-record code paths (performance sensitive): (no)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (no)\nThe S3 file system connector: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (no)\nIf yes, how is the feature documented? (not documented)", "createdAt": "2020-04-20T12:34:36Z", "url": "https://github.com/apache/flink/pull/11825", "merged": true, "mergeCommit": {"oid": "154382329c182bbd6e4921a70ef57c67629b7007"}, "closed": true, "closedAt": "2020-04-23T10:06:33Z", "author": {"login": "molsionmo"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZeR0MAH2gAyNDA2MDM2MTU2OmZhNWM0OGVjMjc4MWI3YTdjOWQxY2ZkMzA4YWNlNjQ5OGQ5NDY2Mjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaWifjAH2gAyNDA2MDM2MTU2OjcxODI1ZTA5MzVjOTcwMmJlZjU1OTNlZjQ0ZDY2ZWYwNTUzMjZlYjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fa5c48ec2781b7a7c9d1cfd308ace6498d946629", "author": {"user": {"login": "molsionmo", "name": null}}, "url": "https://github.com/apache/flink/commit/fa5c48ec2781b7a7c9d1cfd308ace6498d946629", "committedDate": "2020-04-20T12:30:48Z", "message": "[FLINK-17226][metrics]Remove Prometheus shade-plugin relocations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MDA2NDEx", "url": "https://github.com/apache/flink/pull/11825#pullrequestreview-398006411", "createdAt": "2020-04-22T09:25:18Z", "commit": {"oid": "fa5c48ec2781b7a7c9d1cfd308ace6498d946629"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOToyNToxOFrOGJsleQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOToyNToxOFrOGJsleQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgyMDg1Nw==", "bodyText": "My bad, we should only remove the relocations, but leave the rest. Otherwise we aren't building a fat jar.", "url": "https://github.com/apache/flink/pull/11825#discussion_r412820857", "createdAt": "2020-04-22T09:25:18Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-prometheus/pom.xml", "diffHunk": "@@ -102,34 +102,4 @@ under the License.\n \t\t</dependency>\n \t</dependencies>\n \n-\t<build>\n-\t\t<plugins>\n-\t\t\t<plugin>\n-\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n-\t\t\t\t<artifactId>maven-shade-plugin</artifactId>\n-\t\t\t\t<executions>\n-\t\t\t\t\t<execution>\n-\t\t\t\t\t\t<id>shade-flink</id>\n-\t\t\t\t\t\t<phase>package</phase>\n-\t\t\t\t\t\t<goals>\n-\t\t\t\t\t\t\t<goal>shade</goal>\n-\t\t\t\t\t\t</goals>\n-\t\t\t\t\t\t<configuration>\n-\t\t\t\t\t\t\t<artifactSet>\n-\t\t\t\t\t\t\t\t<includes>\n-\t\t\t\t\t\t\t\t\t<include>io.prometheus:*</include>\n-\t\t\t\t\t\t\t\t</includes>\n-\t\t\t\t\t\t\t</artifactSet>\n-\t\t\t\t\t\t\t<relocations combine.children=\"append\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa5c48ec2781b7a7c9d1cfd308ace6498d946629"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71825e0935c9702bef5593ef44d66ef055326eb7", "author": {"user": {"login": "molsionmo", "name": null}}, "url": "https://github.com/apache/flink/commit/71825e0935c9702bef5593ef44d66ef055326eb7", "committedDate": "2020-04-23T06:03:42Z", "message": "[FLINK-17226][metrics]restored the configuration of fatjar in pom.xml of module prometheus"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1930, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}