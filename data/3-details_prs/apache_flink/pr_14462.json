{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MDg1NDA1", "number": 14462, "title": "[FLINK-20439][runtime] Rework `scheduleOrUpdateConsumers` to `notifyPartitionDataAvailable`", "bodyText": "What is the purpose of the change\nExecution#scheduleOrUpdateConsumers() is no longer needed after we have introduced pipelined region scheduling and removed legacy scheduling strategies.\nVerifying this change\nThis change is already covered by existing tests\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-12-22T12:14:48Z", "url": "https://github.com/apache/flink/pull/14462", "merged": true, "mergeCommit": {"oid": "1aa9074e8a14765825f56e84caca806d4c17e227"}, "closed": true, "closedAt": "2020-12-23T18:22:32Z", "author": {"login": "zhuzhurk"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdos4P4AFqTU1NzE4Mjc1NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdo8INygFqTU1Nzc2MzUwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MTgyNzU0", "url": "https://github.com/apache/flink/pull/14462#pullrequestreview-557182754", "createdAt": "2020-12-22T15:56:29Z", "commit": {"oid": "c03b23779c75d060dbcfff0313ad4ea8532fdbae"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNTo1NjoyOVrOIKACAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNTo1NjoyOVrOIKACAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM1NzE4Nw==", "bodyText": "JavaDocs are missing.", "url": "https://github.com/apache/flink/pull/14462#discussion_r547357187", "createdAt": "2020-12-22T15:56:29Z", "author": {"login": "tillrohrmann"}, "path": "flink-runtime/src/main/java/org/apache/flink/runtime/executiongraph/ExecutionGraph.java", "diffHunk": "@@ -1319,28 +1319,15 @@ ResultPartitionID createResultPartitionId(final IntermediateResultPartitionID re\n \t\treturn null;\n \t}\n \n-\t/**\n-\t * Schedule or updates consumers of the given result partition.\n-\t *\n-\t * @param partitionId specifying the result partition whose consumer shall be scheduled or updated\n-\t * @throws ExecutionGraphException if the schedule or update consumers operation could not be executed\n-\t */\n-\tpublic void scheduleOrUpdateConsumers(ResultPartitionID partitionId) throws ExecutionGraphException {\n-\n+\tpublic void notifyPartitionDataAvailable(ResultPartitionID partitionId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03b23779c75d060dbcfff0313ad4ea8532fdbae"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfcfc0a70356a37dec2b551dc03380aba4de38ca", "author": {"user": {"login": "zhuzhurk", "name": "Zhu Zhu"}}, "url": "https://github.com/apache/flink/commit/dfcfc0a70356a37dec2b551dc03380aba4de38ca", "committedDate": "2020-12-23T08:13:22Z", "message": "[FLINK-20439][runtime] Rework scheduleOrUpdateConsumers in ExecutionGraph and its sub-components\n\nnotifyPartitionDataAvailable() is introduced to replace scheduleOrUpdateConsumers() in the RPC code path.\nExecution#scheduleOrUpdateConsumers is renamed to #updatePartitionConsumers to be aligned with what id does."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "725bb50688dc06f1743b968fdc5fedadf5667f3f", "author": {"user": {"login": "zhuzhurk", "name": "Zhu Zhu"}}, "url": "https://github.com/apache/flink/commit/725bb50688dc06f1743b968fdc5fedadf5667f3f", "committedDate": "2020-12-23T08:13:22Z", "message": "[FLINK-20439][runtime] Rename `scheduleOrUpdateConsumers` to `notifyPartitionDataAvailable` to avoid confusion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbb913388addb6eb31e5efe623715ff2b9d6d3f5", "author": {"user": {"login": "zhuzhurk", "name": "Zhu Zhu"}}, "url": "https://github.com/apache/flink/commit/dbb913388addb6eb31e5efe623715ff2b9d6d3f5", "committedDate": "2020-12-22T12:10:09Z", "message": "[FLINK-20439][runtime] Rename `scheduleOrUpdateConsumers` to `notifyPartitionDataAvailable` to avoid confusion"}, "afterCommit": {"oid": "725bb50688dc06f1743b968fdc5fedadf5667f3f", "author": {"user": {"login": "zhuzhurk", "name": "Zhu Zhu"}}, "url": "https://github.com/apache/flink/commit/725bb50688dc06f1743b968fdc5fedadf5667f3f", "committedDate": "2020-12-23T08:13:22Z", "message": "[FLINK-20439][runtime] Rename `scheduleOrUpdateConsumers` to `notifyPartitionDataAvailable` to avoid confusion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzYzNTAy", "url": "https://github.com/apache/flink/pull/14462#pullrequestreview-557763502", "createdAt": "2020-12-23T09:57:29Z", "commit": {"oid": "725bb50688dc06f1743b968fdc5fedadf5667f3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3353, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}