{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMzgxOTc1", "number": 11302, "title": "[FLINK-16414]fix sql validation failed when using udaf/udtf which doesn't implement getResultType", "bodyText": "What is the purpose of the change\nfix sql validation failed when using udaf/udtf which doesn't implement getResultTyp)\nBrief change log\n\n\n\nd549e32  fix sql validation bug and add test case *\n\n\n\nVerifying this change\nThis change added tests and can be verified as follows:\n\n*add more test case in FunctionDefinitionUtilTest.java *\n\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (no)\nThe serializers: (no )\nThe runtime per-record code paths (performance sensitive): (no )\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (no)\nThe S3 file system connector: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? ( no)\nIf yes, how is the feature documented? (not applicable)", "createdAt": "2020-03-04T07:24:00Z", "url": "https://github.com/apache/flink/pull/11302", "merged": true, "mergeCommit": {"oid": "0362d200e3cd9ed86fd363f0c48f1a7d2d7e852f"}, "closed": true, "closedAt": "2020-03-05T01:56:30Z", "author": {"login": "zjuwangg"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKRqCxAH2gAyMzgzMzgxOTc1OmQ1NDllMzI0Y2NmODQ1OWY1NzMxZjcyYTlkMWZmMGZhODcxODgxODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKUhi6AFqTM2ODY3MDkzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d549e324ccf8459f5731f72a9d1ff0fa87188182", "author": {"user": {"login": "zjuwangg", "name": "Terry Wang"}}, "url": "https://github.com/apache/flink/commit/d549e324ccf8459f5731f72a9d1ff0fa87188182", "committedDate": "2020-03-04T07:19:38Z", "message": "[FLINK-16414]fix sql validation failed when using udaf/udtf which doesn't implement getResultType"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NjM1NTQy", "url": "https://github.com/apache/flink/pull/11302#pullrequestreview-368635542", "createdAt": "2020-03-04T09:50:27Z", "commit": {"oid": "d549e324ccf8459f5731f72a9d1ff0fa87188182"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NjcwOTM0", "url": "https://github.com/apache/flink/pull/11302#pullrequestreview-368670934", "createdAt": "2020-03-04T10:40:03Z", "commit": {"oid": "d549e324ccf8459f5731f72a9d1ff0fa87188182"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMDo0MDowM1rOFxoLlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMDo0MDowM1rOFxoLlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzU4Mjg3MQ==", "bodyText": "Can we extend the TestTableAggFunction instead so that we can reuse the code ?", "url": "https://github.com/apache/flink/pull/11302#discussion_r387582871", "createdAt": "2020-03-04T10:40:03Z", "author": {"login": "danny0405"}, "path": "flink-table/flink-table-api-java/src/test/java/org/apache/flink/table/functions/FunctionDefinitionUtilTest.java", "diffHunk": "@@ -129,4 +174,14 @@ public TypeInformation getAccumulatorType() {\n \t\t\treturn TypeInformation.of(Object.class);\n \t\t}\n \t}\n+\n+\t/**\n+\t * Test function.\n+\t */\n+\tpublic static class TestTableAggFunctionWithoutResultType extends TableAggregateFunction<Long, Long> {\n+\t\t@Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d549e324ccf8459f5731f72a9d1ff0fa87188182"}, "originalPosition": 107}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3011, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}