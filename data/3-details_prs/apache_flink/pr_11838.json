{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NDY1OTQ5", "number": 11838, "title": "[FLINK-16965] Convert Graphite reporter to plugin", "bodyText": "What is the purpose of the change\nConvert Graphite reporter to plugin.\nBrief change log\nConvert Graphite reporter to plugin.\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): yes\nThe serializers: no\nThe runtime per-record code paths (performance sensitive): no\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no\nThe S3 file system connector: no\n\nDocumentation\n\nDoes this pull request introduce a new feature? no\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)\n\ncc @zentol", "createdAt": "2020-04-21T06:26:06Z", "url": "https://github.com/apache/flink/pull/11838", "merged": true, "mergeCommit": {"oid": "b41f09f43f2d0e49300873d1bd85c9f5196c5081"}, "closed": true, "closedAt": "2020-04-27T10:13:34Z", "author": {"login": "KarmaGYZ"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZtsETgBqjMyNTQ3Mjk1ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcanjTJABqjMyNjc1MDQ0MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1441885f1fec46d85e118ad9775be88eef65472", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/d1441885f1fec46d85e118ad9775be88eef65472", "committedDate": "2020-04-21T05:40:39Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "9dd1c071e271de645564791bc9267551eb7021a2", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/9dd1c071e271de645564791bc9267551eb7021a2", "committedDate": "2020-04-21T06:27:24Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTA0MDA4", "url": "https://github.com/apache/flink/pull/11838#pullrequestreview-397104008", "createdAt": "2020-04-21T08:29:19Z", "commit": {"oid": "9dd1c071e271de645564791bc9267551eb7021a2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODoyOToxOVrOGI5Y9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODoyOToxOVrOGI5Y9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk4MjA2OQ==", "bodyText": "we shouldn't be removing stuff", "url": "https://github.com/apache/flink/pull/11838#discussion_r411982069", "createdAt": "2020-04-21T08:29:19Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-graphite/src/main/java/org/apache/flink/metrics/graphite/GraphiteReporter.java", "diffHunk": "@@ -32,7 +32,7 @@\n  * This class acts as a factory for the {@link com.codahale.metrics.graphite.GraphiteReporter} and allows using it as a\n  * Flink reporter.\n  */\n-@PublicEvolving", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dd1c071e271de645564791bc9267551eb7021a2"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dd1c071e271de645564791bc9267551eb7021a2", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/9dd1c071e271de645564791bc9267551eb7021a2", "committedDate": "2020-04-21T06:27:24Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "c2aeb8b4e003a0ed895019122114821ef2514546", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/c2aeb8b4e003a0ed895019122114821ef2514546", "committedDate": "2020-04-21T09:48:33Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2aeb8b4e003a0ed895019122114821ef2514546", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/c2aeb8b4e003a0ed895019122114821ef2514546", "committedDate": "2020-04-21T09:48:33Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/a722129552523bfd0532d8b1e62a6093a05ba404", "committedDate": "2020-04-21T12:57:11Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3OTg2NDYz", "url": "https://github.com/apache/flink/pull/11838#pullrequestreview-397986463", "createdAt": "2020-04-22T09:00:42Z", "commit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOTowMDo0MlrOGJrhew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOTowMDo0MlrOGJrhew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgwMzQ1MQ==", "bodyText": "these should also be removed", "url": "https://github.com/apache/flink/pull/11838#discussion_r412803451", "createdAt": "2020-04-22T09:00:42Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-graphite/pom.xml", "diffHunk": "@@ -81,7 +81,6 @@ under the License.\n \t\t\t\t\t\t<configuration>\n \t\t\t\t\t\t\t<artifactSet>\n \t\t\t\t\t\t\t\t<includes>\n-\t\t\t\t\t\t\t\t\t<include>org.apache.flink:flink-metrics-dropwizard</include>\n \t\t\t\t\t\t\t\t\t<include>io.dropwizard.metrics:metrics-core</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3OTg2NjAz", "url": "https://github.com/apache/flink/pull/11838#pullrequestreview-397986603", "createdAt": "2020-04-22T09:00:52Z", "commit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOTowMDo1M1rOGJrh9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwOTowMDo1M1rOGJrh9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgwMzU3Mg==", "bodyText": "revert", "url": "https://github.com/apache/flink/pull/11838#discussion_r412803572", "createdAt": "2020-04-22T09:00:53Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-graphite/src/main/java/org/apache/flink/metrics/graphite/GraphiteReporter.java", "diffHunk": "@@ -29,10 +30,11 @@\n import java.util.concurrent.TimeUnit;\n \n /**\n- * This class acts as a factory for the {@link com.codahale.metrics.graphite.GraphiteReporter} and allows using it as a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a722129552523bfd0532d8b1e62a6093a05ba404", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/a722129552523bfd0532d8b1e62a6093a05ba404", "committedDate": "2020-04-21T12:57:11Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "f443c1371fa827b46d2f7f9bbc3929ce91563367", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/f443c1371fa827b46d2f7f9bbc3929ce91563367", "committedDate": "2020-04-22T09:16:14Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4MjM1NjQ4", "url": "https://github.com/apache/flink/pull/11838#pullrequestreview-398235648", "createdAt": "2020-04-22T14:14:35Z", "commit": {"oid": "f443c1371fa827b46d2f7f9bbc3929ce91563367"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNDoxNDozNVrOGJ4xMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNDoxNDozNVrOGJ4xMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzAyMDQ2Nw==", "bodyText": "ah, hold on, we do need this. Otherwise we aren't building a fat jar. Were we not relocating these? That's odd \ud83d\ude15", "url": "https://github.com/apache/flink/pull/11838#discussion_r413020467", "createdAt": "2020-04-22T14:14:35Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-graphite/pom.xml", "diffHunk": "@@ -65,31 +65,4 @@ under the License.\n \t\t\t<version>${dropwizard.version}</version>\n \t\t</dependency>\n \t</dependencies>\n-\n-\t<build>\n-\t\t<plugins>\n-\t\t\t<plugin>\n-\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n-\t\t\t\t<artifactId>maven-shade-plugin</artifactId>\n-\t\t\t\t<executions>\n-\t\t\t\t\t<execution>\n-\t\t\t\t\t\t<id>shade-flink</id>\n-\t\t\t\t\t\t<phase>package</phase>\n-\t\t\t\t\t\t<goals>\n-\t\t\t\t\t\t\t<goal>shade</goal>\n-\t\t\t\t\t\t</goals>\n-\t\t\t\t\t\t<configuration>\n-\t\t\t\t\t\t\t<artifactSet>\n-\t\t\t\t\t\t\t\t<includes>\n-\t\t\t\t\t\t\t\t\t<include>org.apache.flink:flink-metrics-dropwizard</include>\n-\t\t\t\t\t\t\t\t\t<include>io.dropwizard.metrics:metrics-core</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f443c1371fa827b46d2f7f9bbc3929ce91563367"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f443c1371fa827b46d2f7f9bbc3929ce91563367", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/f443c1371fa827b46d2f7f9bbc3929ce91563367", "committedDate": "2020-04-22T09:16:14Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "cd4f2390481d8edcea676f07a6db2eafe0a4025c", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/cd4f2390481d8edcea676f07a6db2eafe0a4025c", "committedDate": "2020-04-23T13:39:35Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MTkxMzQ1", "url": "https://github.com/apache/flink/pull/11838#pullrequestreview-399191345", "createdAt": "2020-04-23T15:03:36Z", "commit": {"oid": "cd4f2390481d8edcea676f07a6db2eafe0a4025c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNTowMzozNlrOGKs8Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNTowMzozNlrOGKs8Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzg3NTI0Ng==", "bodyText": "still need this too", "url": "https://github.com/apache/flink/pull/11838#discussion_r413875246", "createdAt": "2020-04-23T15:03:36Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-graphite/pom.xml", "diffHunk": "@@ -81,7 +81,6 @@ under the License.\n \t\t\t\t\t\t<configuration>\n \t\t\t\t\t\t\t<artifactSet>\n \t\t\t\t\t\t\t\t<includes>\n-\t\t\t\t\t\t\t\t\t<include>org.apache.flink:flink-metrics-dropwizard</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd4f2390481d8edcea676f07a6db2eafe0a4025c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b961c6a03d184e9a091b1513cb82f7aaa3956cf3", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/b961c6a03d184e9a091b1513cb82f7aaa3956cf3", "committedDate": "2020-04-24T01:52:42Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd4f2390481d8edcea676f07a6db2eafe0a4025c", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/cd4f2390481d8edcea676f07a6db2eafe0a4025c", "committedDate": "2020-04-23T13:39:35Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}, "afterCommit": {"oid": "b961c6a03d184e9a091b1513cb82f7aaa3956cf3", "author": {"user": {"login": "KarmaGYZ", "name": "Yangze Guo"}}, "url": "https://github.com/apache/flink/commit/b961c6a03d184e9a091b1513cb82f7aaa3956cf3", "committedDate": "2020-04-24T01:52:42Z", "message": "[FLINK-16965] Convert Graphite reporter to plugin"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4696, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}