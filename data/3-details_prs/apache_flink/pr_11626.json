{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MDQ3NTQ4", "number": 11626, "title": "[FLINK-16961] Bump Netty 4.X to 4.1.44", "bodyText": "To address multiple CVEs in netty.", "createdAt": "2020-04-03T08:54:36Z", "url": "https://github.com/apache/flink/pull/11626", "merged": true, "mergeCommit": {"oid": "9ef41a43a59dec7efd069055f0f45bde8349136c"}, "closed": true, "closedAt": "2020-04-14T08:45:15Z", "author": {"login": "zentol"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcU-ZvkAFqTM4ODIwMTE4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXfchWgBqjMyMzAxMDMzMjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjAxMTg1", "url": "https://github.com/apache/flink/pull/11626#pullrequestreview-388201185", "createdAt": "2020-04-06T12:30:13Z", "commit": {"oid": "3fa65369922f1bcbba5660e0e55a3c022a389408"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMjozMDoxM1rOGBVbEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQxMjo1Nzo0NVrOGBWauQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA1Mjc1NQ==", "bodyText": "Why don't we upgrade right away to 4.1.48.final?", "url": "https://github.com/apache/flink/pull/11626#discussion_r404052755", "createdAt": "2020-04-06T12:30:13Z", "author": {"login": "tillrohrmann"}, "path": "flink-connectors/flink-connector-elasticsearch5/pom.xml", "diffHunk": "@@ -82,6 +82,55 @@ under the License.\n \t\t\t<version>${elasticsearch.version}</version>\n \t\t</dependency>\n \n+\t\t<dependency>\n+\t\t\t<!-- Bump elasticsearch netty dependency -->\n+\t\t\t<groupId>io.netty</groupId>\n+\t\t\t<artifactId>netty-buffer</artifactId>\n+\t\t\t<version>4.1.44.Final</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fa65369922f1bcbba5660e0e55a3c022a389408"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA1NjI2NA==", "bodyText": "Same here, why not 4.1.48.final?", "url": "https://github.com/apache/flink/pull/11626#discussion_r404056264", "createdAt": "2020-04-06T12:36:34Z", "author": {"login": "tillrohrmann"}, "path": "flink-connectors/flink-hbase/pom.xml", "diffHunk": "@@ -210,6 +210,13 @@ under the License.\n \t\t\t</exclusions>\n \t\t</dependency>\n \n+\t\t<dependency>\n+\t\t\t<!-- Bump hbase netty dependency -->\n+\t\t\t<groupId>io.netty</groupId>\n+\t\t\t<artifactId>netty-all</artifactId>\n+\t\t\t<version>4.1.44.Final</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7763b2da1a287e092939f573a901300d54ab10c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2MzA2Nw==", "bodyText": "io.netty:netty-resolver:jar:4.1.44.Final is missing", "url": "https://github.com/apache/flink/pull/11626#discussion_r404063067", "createdAt": "2020-04-06T12:47:48Z", "author": {"login": "tillrohrmann"}, "path": "flink-connectors/flink-connector-cassandra/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -9,8 +9,8 @@ This project bundles the following dependencies under the Apache Software Licens\n - com.datastax.cassandra:cassandra-driver-core:3.0.0\n - com.datastax.cassandra:cassandra-driver-mapping:3.0.0\n - com.google.guava:guava:18.0\n-- io.netty:netty-handler:4.0.33.Final\n-- io.netty:netty-buffer:4.0.33.Final\n-- io.netty:netty-common:4.0.33.Final\n-- io.netty:netty-transport:4.0.33.Final\n-- io.netty:netty-codec:4.0.33.Final\n+- io.netty:netty-handler:4.1.44.Final\n+- io.netty:netty-buffer:4.1.44.Final\n+- io.netty:netty-common:4.1.44.Final\n+- io.netty:netty-transport:4.1.44.Final\n+- io.netty:netty-codec:4.1.44.Final", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3764d88e58021ea3d68b5d9aecb0717f94ad4602"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2NTAxNA==", "bodyText": "Why is it ok to use these older Netty dependencies?", "url": "https://github.com/apache/flink/pull/11626#discussion_r404065014", "createdAt": "2020-04-06T12:51:10Z", "author": {"login": "tillrohrmann"}, "path": "flink-python/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -20,13 +20,13 @@ This project bundles the following dependencies under the Apache Software Licens\n - io.grpc:grpc-protobuf:1.21.0\n - io.grpc:grpc-stub:1.21.0\n - io.grpc:grpc-testing:1.21.0\n-- io.netty:netty-buffer:4.1.27.Final\n+- io.netty:netty-buffer:4.1.44.Final\n - io.netty:netty-buffer:4.1.34.Final\n - io.netty:netty-codec:4.1.34.Final\n - io.netty:netty-codec-http:4.1.34.Final\n - io.netty:netty-codec-http2:4.1.34.Final\n - io.netty:netty-codec-socks:4.1.34.Final\n-- io.netty:netty-common:4.1.27.Final\n+- io.netty:netty-common:4.1.44.Final\n - io.netty:netty-common:4.1.34.Final\n - io.netty:netty-handler:4.1.34.Final\n - io.netty:netty-handler-proxy:4.1.34.Final", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10cea4c8ba6756ac31de11a5a6728a5dfc41d9c4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2NjE1Ng==", "bodyText": "Help me again. Why do we need these exclusions? Wouldn't they be overridden by the explicit Netty dependencies which are closer to the root?", "url": "https://github.com/apache/flink/pull/11626#discussion_r404066156", "createdAt": "2020-04-06T12:53:06Z", "author": {"login": "tillrohrmann"}, "path": "flink-connectors/flink-connector-hive/pom.xml", "diffHunk": "@@ -934,6 +934,42 @@ under the License.\n \t\t\t\t<hive.version>3.1.1</hive.version>\n \t\t\t</properties>\n \n+\t\t\t<dependencies>\n+\t\t\t\t<dependency>\n+\t\t\t\t\t<groupId>org.apache.hive</groupId>\n+\t\t\t\t\t<artifactId>hive-metastore</artifactId>\n+\t\t\t\t\t<version>${hive.version}</version>\n+\t\t\t\t\t<scope>provided</scope>\n+\t\t\t\t\t<exclusions>\n+\t\t\t\t\t\t<exclusion>\n+\t\t\t\t\t\t\t<!-- Override arrow netty dependency -->\n+\t\t\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t\t\t<artifactId>netty-buffer</artifactId>\n+\t\t\t\t\t\t</exclusion>\n+\t\t\t\t\t\t<exclusion>\n+\t\t\t\t\t\t\t<!-- Override arrow netty dependency -->\n+\t\t\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t\t\t<artifactId>netty-common</artifactId>\n+\t\t\t\t\t\t</exclusion>\n+\t\t\t\t\t</exclusions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da804e87116667886ab9f47a859152d590a3203f"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA2OTA0OQ==", "bodyText": "I couldn't really see that these pom entries have an effect on mvn dependency:tree. It looks as if this module does not have a netty-common and netty-buffer dependency.", "url": "https://github.com/apache/flink/pull/11626#discussion_r404069049", "createdAt": "2020-04-06T12:57:45Z", "author": {"login": "tillrohrmann"}, "path": "flink-connectors/flink-connector-hive/pom.xml", "diffHunk": "@@ -934,6 +934,42 @@ under the License.\n \t\t\t\t<hive.version>3.1.1</hive.version>\n \t\t\t</properties>\n \n+\t\t\t<dependencies>\n+\t\t\t\t<dependency>\n+\t\t\t\t\t<groupId>org.apache.hive</groupId>\n+\t\t\t\t\t<artifactId>hive-metastore</artifactId>\n+\t\t\t\t\t<version>${hive.version}</version>\n+\t\t\t\t\t<scope>provided</scope>\n+\t\t\t\t\t<exclusions>\n+\t\t\t\t\t\t<exclusion>\n+\t\t\t\t\t\t\t<!-- Override arrow netty dependency -->\n+\t\t\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t\t\t<artifactId>netty-buffer</artifactId>\n+\t\t\t\t\t\t</exclusion>\n+\t\t\t\t\t\t<exclusion>\n+\t\t\t\t\t\t\t<!-- Override arrow netty dependency -->\n+\t\t\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t\t\t<artifactId>netty-common</artifactId>\n+\t\t\t\t\t\t</exclusion>\n+\t\t\t\t\t</exclusions>\n+\t\t\t\t</dependency>\n+\t\t\t\t<dependency>\n+\t\t\t\t\t<!-- Bump arrow netty dependency -->\n+\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t<artifactId>netty-buffer</artifactId>\n+\t\t\t\t\t<version>4.1.44.Final</version>\n+\t\t\t\t\t<scope>provided</scope>\n+\t\t\t\t</dependency>\n+\n+\t\t\t\t<dependency>\n+\t\t\t\t\t<!-- Bump arrow netty dependency -->\n+\t\t\t\t\t<groupId>io.netty</groupId>\n+\t\t\t\t\t<artifactId>netty-common</artifactId>\n+\t\t\t\t\t<version>4.1.44.Final</version>\n+\t\t\t\t\t<scope>provided</scope>\n+\t\t\t\t</dependency>\n+\t\t\t</dependencies>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da804e87116667886ab9f47a859152d590a3203f"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTA1MDc5", "url": "https://github.com/apache/flink/pull/11626#pullrequestreview-390905079", "createdAt": "2020-04-09T15:35:22Z", "commit": {"oid": "cbfced9fe5f277b3ac5b6f12e79a64fa3dfe748a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af041c17e2d2856715dd4482df68533db0e4cd19", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/af041c17e2d2856715dd4482df68533db0e4cd19", "committedDate": "2020-04-14T08:43:02Z", "message": "[FLINK-16961][es] Bump Netty to 4.1.44"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2842ea1f63a556ed840ca0ad25db1e7451febd6", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/f2842ea1f63a556ed840ca0ad25db1e7451febd6", "committedDate": "2020-04-14T08:43:02Z", "message": "[FLINK-16961][hbase] Bump Netty to 4.1.44"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7ed5e40cbead92b53e8ab6149b973f412e1973", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/cd7ed5e40cbead92b53e8ab6149b973f412e1973", "committedDate": "2020-04-14T08:43:02Z", "message": "[FLINK-16961][cassandra] Bump Netty to 4.1.44"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "476a80a88be7a5aad4b35bf7ad00d904bac79400", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/476a80a88be7a5aad4b35bf7ad00d904bac79400", "committedDate": "2020-04-14T08:43:03Z", "message": "[FLINK-16961][python] Bump Netty to 4.1.44"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0773498a357fe14c97770ee45f66b3faa42c4ca", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/c0773498a357fe14c97770ee45f66b3faa42c4ca", "committedDate": "2020-04-14T08:43:03Z", "message": "[FLINK-16961][hive] Bump Netty to 4.1.44"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cbfced9fe5f277b3ac5b6f12e79a64fa3dfe748a", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/cbfced9fe5f277b3ac5b6f12e79a64fa3dfe748a", "committedDate": "2020-04-09T07:43:21Z", "message": "prevent exclusions from being cleared\n\nDeclaring a dependency in a profile, when it was already declared as a dependency outside the profile with exclusions, then the existing exclusions are being wiped.\nHence we move the metastore netty exclusions into the dependencyManagement, which is safe in this instance since we still explicitly declare the netty dependency."}, "afterCommit": {"oid": "c0773498a357fe14c97770ee45f66b3faa42c4ca", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/c0773498a357fe14c97770ee45f66b3faa42c4ca", "committedDate": "2020-04-14T08:43:03Z", "message": "[FLINK-16961][hive] Bump Netty to 4.1.44"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2283, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}