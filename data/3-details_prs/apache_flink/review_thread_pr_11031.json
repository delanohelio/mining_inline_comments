{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxODM2NDM2", "number": 11031, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo0NToyN1rODdr73w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxMDowMDowNVrODeZHTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNDU1MTM1OnYy", "diffSide": "RIGHT", "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/io/CheckpointedInputGate.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo0NToyN1rOFmbgiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwODo1ODo0OFrOFm2OHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MDkwNQ==", "bodyText": "? It's not used anywhere in the tests, isn't it?", "url": "https://github.com/apache/flink/pull/11031#discussion_r375840905", "createdAt": "2020-02-06T13:45:27Z", "author": {"login": "pnowojski"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/io/CheckpointedInputGate.java", "diffHunk": "@@ -233,15 +234,17 @@ public long getLatestCheckpointId() {\n \t *\n \t * @return The duration in nanoseconds\n \t */\n-\tpublic long getAlignmentDurationNanos() {\n+\t@VisibleForTesting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80543b67036d2b2d589bfc677e583199b96e4a61"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI1MTgwMw==", "bodyText": "It is actually used in many tests in CheckpointBarrierAlignerTestBase. I ever tried to refactor these tests to use these two methods from CheckpointBarrierHandler directly, then we can remove them from CheckpointedInputGate. But it would bring more refactoring work after checking the codes for exposing the CheckpointBarrierHandler while constructing the gate. So I still keep the current way now.", "url": "https://github.com/apache/flink/pull/11031#discussion_r376251803", "createdAt": "2020-02-07T07:46:02Z", "author": {"login": "zhijiangW"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/io/CheckpointedInputGate.java", "diffHunk": "@@ -233,15 +234,17 @@ public long getLatestCheckpointId() {\n \t *\n \t * @return The duration in nanoseconds\n \t */\n-\tpublic long getAlignmentDurationNanos() {\n+\t@VisibleForTesting", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MDkwNQ=="}, "originalCommit": {"oid": "80543b67036d2b2d589bfc677e583199b96e4a61"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3ODU1OQ==", "bodyText": "Ops, sorry for the confusion. I thought that you were changed this from private to @VisibleForTesting for some test that you didn't commit, while it was public before. Please ignore my comment.", "url": "https://github.com/apache/flink/pull/11031#discussion_r376278559", "createdAt": "2020-02-07T08:58:48Z", "author": {"login": "pnowojski"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/io/CheckpointedInputGate.java", "diffHunk": "@@ -233,15 +234,17 @@ public long getLatestCheckpointId() {\n \t *\n \t * @return The duration in nanoseconds\n \t */\n-\tpublic long getAlignmentDurationNanos() {\n+\t@VisibleForTesting", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MDkwNQ=="}, "originalCommit": {"oid": "80543b67036d2b2d589bfc677e583199b96e4a61"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTk1MzQyOnYy", "diffSide": "RIGHT", "path": "flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/TwoInputStreamTaskTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxMDowMDowNVrOFngB0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxMDoxNjowN1rOFngimw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk2MzUzOA==", "bodyText": "nit: I think we do not allow wildcard imports", "url": "https://github.com/apache/flink/pull/11031#discussion_r376963538", "createdAt": "2020-02-10T10:00:05Z", "author": {"login": "pnowojski"}, "path": "flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/TwoInputStreamTaskTest.java", "diffHunk": "@@ -51,14 +53,14 @@\n import org.apache.flink.streaming.util.TestBoundedTwoInputOperator;\n import org.apache.flink.streaming.util.TestHarnessUtil;\n \n+import org.hamcrest.collection.IsMapContaining;\n import org.junit.Assert;\n import org.junit.Test;\n \n-import java.util.Arrays;\n-import java.util.HashSet;\n-import java.util.List;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c411f7735ea814410840a46ecfde839340d4cf3b"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk3MTkzMQ==", "bodyText": "Yes, my home mac setting was wrong, did it automatically. I will fix it.", "url": "https://github.com/apache/flink/pull/11031#discussion_r376971931", "createdAt": "2020-02-10T10:16:07Z", "author": {"login": "zhijiangW"}, "path": "flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/tasks/TwoInputStreamTaskTest.java", "diffHunk": "@@ -51,14 +53,14 @@\n import org.apache.flink.streaming.util.TestBoundedTwoInputOperator;\n import org.apache.flink.streaming.util.TestHarnessUtil;\n \n+import org.hamcrest.collection.IsMapContaining;\n import org.junit.Assert;\n import org.junit.Test;\n \n-import java.util.Arrays;\n-import java.util.HashSet;\n-import java.util.List;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njk2MzUzOA=="}, "originalCommit": {"oid": "c411f7735ea814410840a46ecfde839340d4cf3b"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1036, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}