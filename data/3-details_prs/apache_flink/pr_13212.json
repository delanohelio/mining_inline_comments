{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNDQxMTQy", "number": 13212, "title": "[FLINK-18973][docs-zh] Translate the 'History Server' page of 'Debugging & Monitoring' into Chinese", "bodyText": "What is the purpose of the change\nTranslate the 'History Server' page of 'Debugging & Monitoring' into Chinese\nBrief change log\nTranslate the 'History Server' page of 'Debugging & Monitoring' into Chinese\n\nThe page url is https://ci.apache.org/projects/flink/flink-docs-release-1.11/zh/monitoring/historyserver.html\nThe markdown file is located in flink/docs/monitoring/historyserver.zh.md\n\nVerifying this change\nThis change is a pure documentation translation.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): no\nThe serializers: no\nThe runtime per-record code paths (performance sensitive): no\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no\nThe S3 file system connector: no\n\nDocumentation\n\nDoes this pull request introduce a new feature? no\nIf yes, how is the feature documented? no", "createdAt": "2020-08-21T06:24:37Z", "url": "https://github.com/apache/flink/pull/13212", "merged": true, "mergeCommit": {"oid": "6be3514e56b6813e3b89ad3c8f29f904979b421b"}, "closed": true, "closedAt": "2020-08-27T14:00:59Z", "author": {"login": "RocMarshal"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdA-nx8AH2gAyNDcxNDQxMTQyOmQ2YjgwNmIzYzUwZTUwNWIyZTdmZTBiZWVmMzdhNmVmYzlmMGFlNTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC-ADDgFqTQ3NjU5NDQxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d6b806b3c50e505b2e7fe0beef37a6efc9f0ae54", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/d6b806b3c50e505b2e7fe0beef37a6efc9f0ae54", "committedDate": "2020-08-21T06:14:48Z", "message": "[FLINK-18973][docs-zh] Translate the 'History Server' page of 'Debugging & Monitoring' into Chinese"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMTk3MDQ2", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-472197046", "createdAt": "2020-08-21T06:25:07Z", "commit": {"oid": "d6b806b3c50e505b2e7fe0beef37a6efc9f0ae54"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoyNTowN1rOHEdFOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjoyNTowN1rOHEdFOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQzMjgyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u8fdb\u884c\u54cd\u5e94\u3002\n          \n          \n            \n            \u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r474432827", "createdAt": "2020-08-21T06:25:07Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u8fdb\u884c\u54cd\u5e94\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6b806b3c50e505b2e7fe0beef37a6efc9f0ae54"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/0371b8be3b5a368623bf8dc553f94fd57cf0c60e", "committedDate": "2020-08-21T07:06:51Z", "message": "Update docs/monitoring/historyserver.zh.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTAwMTE2", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-472900116", "createdAt": "2020-08-22T05:49:01Z", "commit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQwNTo0OTowMVrOHFCzDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQwNjowMTowM1rOHFC2-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA1MDc2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u6240\u5305\u542b\u7684\u5f52\u6863\u88ab\u4e0b\u8f7d\u5e76\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n          \n          \n            \n            \u6240\u5305\u542b\u7684\u5b58\u6863\u88ab\u4e0b\u8f7d\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r475050764", "createdAt": "2020-08-22T05:49:01Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5f52\u6863\u88ab\u4e0b\u8f7d\u5e76\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA1MTMyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u6240\u6709\u8bf7\u6c42\u5747\u4e3a\u6837\u672c\u683c\u5f0f `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u53ea\u5217\u51fa\u4e86 URLs \u7684*\u8def\u5f84*\u90e8\u5206\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r475051325", "createdAt": "2020-08-22T05:55:44Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5f52\u6863\u88ab\u4e0b\u8f7d\u5e76\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n+\n+\u8bf7\u67e5\u770b\u914d\u7f6e\u9875\u9762\u4ee5\u83b7\u53d6[\u914d\u7f6e\u9009\u9879\u7684\u5b8c\u6574\u5217\u8868]({% link ops/config.zh.md %}#history-server)\u3002\n \n-Check out the configuration page for a [complete list of configuration options]({{ site.baseurl }}/ops/config.html#history-server).\n+<a name=\"available-requests\"></a>\n \n-## Available Requests\n+## \u53ef\u7528\u7684\u8bf7\u6c42\n \n-Below is a list of available requests, with a sample JSON response. All requests are of the sample form `http://hostname:8082/jobs`, below we list only the *path* part of the URLs.\n+\u4ee5\u4e0b\u662f\u53ef\u7528\u5e76\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u90fd\u662f\u793a\u4f8b\u8868\u683c http://hostname:8082/jobs\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4ec5\u5217\u51fa\u4e86URL \u7684\u8def\u5f84\u90e8\u5206\u3002\n+\u6240\u6709\u8bf7\u6c42\u5747\u4e3a\u6837\u672c\u683c\u5f0f `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u53ea\u5217\u51fa\u4e86 URLs \u7684*\u8def\u5f84*\u90e8\u5206\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA1MTM2Mw==", "bodyText": "Suggested change", "url": "https://github.com/apache/flink/pull/13212#discussion_r475051363", "createdAt": "2020-08-22T05:56:10Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5f52\u6863\u88ab\u4e0b\u8f7d\u5e76\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n+\n+\u8bf7\u67e5\u770b\u914d\u7f6e\u9875\u9762\u4ee5\u83b7\u53d6[\u914d\u7f6e\u9009\u9879\u7684\u5b8c\u6574\u5217\u8868]({% link ops/config.zh.md %}#history-server)\u3002\n \n-Check out the configuration page for a [complete list of configuration options]({{ site.baseurl }}/ops/config.html#history-server).\n+<a name=\"available-requests\"></a>\n \n-## Available Requests\n+## \u53ef\u7528\u7684\u8bf7\u6c42\n \n-Below is a list of available requests, with a sample JSON response. All requests are of the sample form `http://hostname:8082/jobs`, below we list only the *path* part of the URLs.\n+\u4ee5\u4e0b\u662f\u53ef\u7528\u5e76\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u90fd\u662f\u793a\u4f8b\u8868\u683c http://hostname:8082/jobs\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4ec5\u5217\u51fa\u4e86URL \u7684\u8def\u5f84\u90e8\u5206\u3002\n+\u6240\u6709\u8bf7\u6c42\u5747\u4e3a\u6837\u672c\u683c\u5f0f `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u53ea\u5217\u51fa\u4e86 URLs \u7684*\u8def\u5f84*\u90e8\u5206\u3002\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA1MTY2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u4ee5\u4e0b\u662f\u53ef\u7528\u5e76\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u90fd\u662f\u793a\u4f8b\u8868\u683c http://hostname:8082/jobs\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4ec5\u5217\u51fa\u4e86URL \u7684\u8def\u5f84\u90e8\u5206\u3002\n          \n          \n            \n            \u4ee5\u4e0b\u662f\u53ef\u7528\u4e14\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u683c\u5f0f\u6837\u4f8b\u5747\u4e3a `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u4ec5\u5217\u51fa\u4e86 URLs \u7684 *path* \u90e8\u5206\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r475051665", "createdAt": "2020-08-22T05:59:53Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5f52\u6863\u88ab\u4e0b\u8f7d\u5e76\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n+\n+\u8bf7\u67e5\u770b\u914d\u7f6e\u9875\u9762\u4ee5\u83b7\u53d6[\u914d\u7f6e\u9009\u9879\u7684\u5b8c\u6574\u5217\u8868]({% link ops/config.zh.md %}#history-server)\u3002\n \n-Check out the configuration page for a [complete list of configuration options]({{ site.baseurl }}/ops/config.html#history-server).\n+<a name=\"available-requests\"></a>\n \n-## Available Requests\n+## \u53ef\u7528\u7684\u8bf7\u6c42\n \n-Below is a list of available requests, with a sample JSON response. All requests are of the sample form `http://hostname:8082/jobs`, below we list only the *path* part of the URLs.\n+\u4ee5\u4e0b\u662f\u53ef\u7528\u5e76\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u90fd\u662f\u793a\u4f8b\u8868\u683c http://hostname:8082/jobs\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4ec5\u5217\u51fa\u4e86URL \u7684\u8def\u5f84\u90e8\u5206\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA1MTc2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n          \n          \n            \n            \u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r475051769", "createdAt": "2020-08-22T06:01:03Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,69 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u5f53\u524d\uff0c\u4f60\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0371b8be3b5a368623bf8dc553f94fd57cf0c60e"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/b3602a770dcbc2c274ad64f858ed55d68b70039e", "committedDate": "2020-08-22T06:03:55Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTY0ODUy", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-475164852", "createdAt": "2020-08-26T05:40:53Z", "commit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNTo0MDo1M1rOHG8mCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNTo1NDowNFrOHG82ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA0NjI4Mw==", "bodyText": "\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e \u4f1a\u597d\u4e00\u4e9b\u5417\uff1f", "url": "https://github.com/apache/flink/pull/13212#discussion_r477046283", "createdAt": "2020-08-26T05:40:53Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA0Nzg4Mw==", "bodyText": "\u4f60\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer \u4f1a\u597d\u4e00\u4e9b\u5417\uff1f", "url": "https://github.com/apache/flink/pull/13212#discussion_r477047883", "createdAt": "2020-08-26T05:45:53Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA0ODQ2Mg==", "bodyText": "\u201c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 localhost \u7684 8082 \u7aef\u53e3\u201d  \u8fd9\u6837\u63cf\u8ff0\u4f1a\u597d\u4e00\u4e9b\u5417\uff1f", "url": "https://github.com/apache/flink/pull/13212#discussion_r477048462", "createdAt": "2020-08-26T05:47:45Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA0OTE3NQ==", "bodyText": "\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574 \u8fd9\u91cc\u7684\u63cf\u8ff0\u53ef\u4ee5\u770b\u51fa\u610f\u601d\uff0c\u4e0d\u8fc7\u8bfb\u8d77\u6765\u6709\u70b9\u70b9\u62d7\u53e3\uff0c\u8fd9\u91cc\u6709\u66f4\u597d\u7684\u63cf\u8ff0\u5417\uff1f\u6216\u8005\u770b\u770b\u5176\u4ed6\u4eba\u662f\u5426\u6709\u66f4\u597d\u7684\u5efa\u8bae", "url": "https://github.com/apache/flink/pull/13212#discussion_r477049175", "createdAt": "2020-08-26T05:50:03Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA0OTY1MQ==", "bodyText": "\u4e0a\u9762\u7528 \u5f52\u6863\uff0c \u8fd9\u91cc\u7528\u4e86 \u5b58\u6863\uff0c\u5efa\u8bae\u5168\u6587\u53ef\u4ee5\u7edf\u4e00", "url": "https://github.com/apache/flink/pull/13212#discussion_r477049651", "createdAt": "2020-08-26T05:51:28Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA1MDQ2OA==", "bodyText": "\u8fd9\u53e5\u8bdd\u8bfb\u8d77\u6765\u6709\u4e9b\u62d7\u53e3\uff0c\u4e3b\u8981\u662f\u540e\u9762\u7684 \u201d\u5c06\u5fc5\u987b\u8bf7\u6c42\u5982 xxx\u201c \u6709\u66f4\u597d\u7684\u63cf\u8ff0\u5417\uff1f", "url": "https://github.com/apache/flink/pull/13212#discussion_r477050468", "createdAt": "2020-08-26T05:54:04Z", "author": {"login": "klion26"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5b58\u6863\u88ab\u4e0b\u8f7d\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n \n-Check out the configuration page for a [complete list of configuration options]({{ site.baseurl }}/ops/config.html#history-server).\n+\u8bf7\u67e5\u770b\u914d\u7f6e\u9875\u9762\u4ee5\u83b7\u53d6[\u914d\u7f6e\u9009\u9879\u7684\u5b8c\u6574\u5217\u8868]({% link ops/config.zh.md %}#history-server)\u3002\n \n-## Available Requests\n+<a name=\"available-requests\"></a>\n \n-Below is a list of available requests, with a sample JSON response. All requests are of the sample form `http://hostname:8082/jobs`, below we list only the *path* part of the URLs.\n+## \u53ef\u7528\u7684\u8bf7\u6c42\n \n-Values in angle brackets are variables, for example `http://hostname:port/jobs/<jobid>/exceptions` will have to requested for example as `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`.\n+\u4ee5\u4e0b\u662f\u53ef\u7528\u4e14\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u683c\u5f0f\u6837\u4f8b\u5747\u4e3a `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u4ec5\u5217\u51fa\u4e86 URLs \u7684 *path* \u90e8\u5206\u3002\n+\u5c16\u62ec\u53f7\u4e2d\u7684\u503c\u662f\u53d8\u91cf\uff0c\u4f8b\u5982 `http://hostname:port/jobs/<jobid>/exceptions` \u5c06\u5fc5\u987b\u8bf7\u6c42\u5982 `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MjU5ODkw", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-475259890", "createdAt": "2020-08-26T08:20:52Z", "commit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwODoyMDo1M1rOHHBLuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwODoyNDo1N1rOHHBXLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEyMTQ2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n          \n          \n            \n            \u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477121465", "createdAt": "2020-08-26T08:20:53Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEyMjAyMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n          \n          \n            \n            \u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a", "url": "https://github.com/apache/flink/pull/13212#discussion_r477122023", "createdAt": "2020-08-26T08:21:45Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEyMjk0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n          \n          \n            \n            \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u7684 `8082` \u7aef\u53e3\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477122944", "createdAt": "2020-08-26T08:23:04Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzEyNDM5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n          \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5b58\u6863\u8def\u5f84\u548c\u5df2\u5b58\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477124396", "createdAt": "2020-08-26T08:24:57Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u4ee5 JSON \u6570\u636e\u683c\u5f0f\u8fdb\u884c\u54cd\u5e94\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u76f8\u5e94\u7684\u542f\u52a8\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u5e76\u76d1\u542c `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5f52\u6863\u8def\u5f84\u548c\u5df2\u5f52\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3602a770dcbc2c274ad64f858ed55d68b70039e"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bc3859110ac2f7cbd589c06cd1b7fbb65aafd3f", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/7bc3859110ac2f7cbd589c06cd1b7fbb65aafd3f", "committedDate": "2020-08-26T08:27:32Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTIyODgz", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-475522883", "createdAt": "2020-08-26T14:04:14Z", "commit": {"oid": "7bc3859110ac2f7cbd589c06cd1b7fbb65aafd3f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDowNDoxNFrOHHNudw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoyOToxMVrOHHO4tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzMyNjk2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u5c16\u62ec\u53f7\u4e2d\u7684\u503c\u662f\u53d8\u91cf\uff0c\u4f8b\u5982 `http://hostname:port/jobs/<jobid>/exceptions` \u5c06\u5fc5\u987b\u8bf7\u6c42\u5982 `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`\u3002\n          \n          \n            \n            \u5c16\u62ec\u53f7\u4e2d\u7684\u503c\u4e3a\u53d8\u91cf\uff0c\u4f8b\u5982\u4f5c\u4e1a `7684be6004e4e955c2a558a9bc463f65` \u7684 \n          \n          \n            \n            `http://hostname:port/jobs/<jobid>/exceptions` \u8bf7\u6c42\u987b\u5199\u4e3a `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477326967", "createdAt": "2020-08-26T14:04:14Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u7684 `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5b58\u6863\u8def\u5f84\u548c\u5df2\u5b58\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n \n **JobManager**\n \n-The archiving of completed jobs happens on the JobManager, which uploads the archived job information to a file system directory. You can configure the directory to archive completed jobs in `flink-conf.yaml` by setting a directory via `jobmanager.archive.fs.dir`.\n+\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u5b58\u6863\u5728 JobManager \u4e0a\u8fdb\u884c\uff0c\u5c06\u5df2\u5b58\u6863\u7684\u4f5c\u4e1a\u4fe1\u606f\u4e0a\u4f20\u5230\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u4e2d\u3002\u4f60\u53ef\u4ee5\u5728 `flink-conf.yaml` \u6587\u4ef6\u4e2d\u901a\u8fc7 `jobmanager.archive.fs.dir` \u8bbe\u7f6e\u4e00\u4e2a\u76ee\u5f55\u5b58\u6863\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\u3002\n \n {% highlight yaml %}\n-# Directory to upload completed job information\n+# \u4e0a\u4f20\u5df2\u5b8c\u6210\u4f5c\u4e1a\u4fe1\u606f\u7684\u76ee\u5f55\n jobmanager.archive.fs.dir: hdfs:///completed-jobs\n {% endhighlight %}\n \n **HistoryServer**\n \n-The HistoryServer can be configured to monitor a comma-separated list of directories in via `historyserver.archive.fs.dir`. The configured directories are regularly polled for new archives; the polling interval can be configured via `historyserver.archive.fs.refresh-interval`.\n+\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.dir` \u8bbe\u7f6e HistoryServer \u76d1\u89c6\u4ee5\u9017\u53f7\u5206\u9694\u7684\u76ee\u5f55\u5217\u8868\u3002\u5b9a\u671f\u8f6e\u8be2\u5df2\u914d\u7f6e\u7684\u76ee\u5f55\u4ee5\u67e5\u627e\u65b0\u7684\u5b58\u6863\uff1b\u8f6e\u8be2\u95f4\u9694\u53ef\u4ee5\u901a\u8fc7 `historyserver.archive.fs.refresh-interval` \u6765\u914d\u7f6e\u3002\n \n {% highlight yaml %}\n-# Monitor the following directories for completed jobs\n+# \u76d1\u89c6\u4ee5\u4e0b\u76ee\u5f55\u4e2d\u5df2\u5b8c\u6210\u7684\u4f5c\u4e1a\n historyserver.archive.fs.dir: hdfs:///completed-jobs\n \n-# Refresh every 10 seconds\n+# \u6bcf 10 \u79d2\u5237\u65b0\u4e00\u6b21\n historyserver.archive.fs.refresh-interval: 10000\n {% endhighlight %}\n \n-The contained archives are downloaded and cached in the local filesystem. The local directory for this is configured via `historyserver.web.tmpdir`.\n+\u6240\u5305\u542b\u7684\u5b58\u6863\u88ab\u4e0b\u8f7d\u7f13\u5b58\u5728\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e2d\u3002\u672c\u5730\u76ee\u5f55\u901a\u8fc7 `historyserver.web.tmpdir` \u914d\u7f6e\u3002\n \n-Check out the configuration page for a [complete list of configuration options]({{ site.baseurl }}/ops/config.html#history-server).\n+\u8bf7\u67e5\u770b\u914d\u7f6e\u9875\u9762\u4ee5\u83b7\u53d6[\u914d\u7f6e\u9009\u9879\u7684\u5b8c\u6574\u5217\u8868]({% link ops/config.zh.md %}#history-server)\u3002\n \n-## Available Requests\n+<a name=\"available-requests\"></a>\n \n-Below is a list of available requests, with a sample JSON response. All requests are of the sample form `http://hostname:8082/jobs`, below we list only the *path* part of the URLs.\n+## \u53ef\u7528\u7684\u8bf7\u6c42\n \n-Values in angle brackets are variables, for example `http://hostname:port/jobs/<jobid>/exceptions` will have to requested for example as `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`.\n+\u4ee5\u4e0b\u662f\u53ef\u7528\u4e14\u5e26\u6709\u793a\u4f8b JSON \u54cd\u5e94\u7684\u8bf7\u6c42\u5217\u8868\u3002\u6240\u6709\u8bf7\u6c42\u683c\u5f0f\u6837\u4f8b\u5747\u4e3a `http://hostname:8082/jobs`\uff0c\u4e0b\u9762\u6211\u4eec\u4ec5\u5217\u51fa\u4e86 URLs \u7684 *path* \u90e8\u5206\u3002\n+\u5c16\u62ec\u53f7\u4e2d\u7684\u503c\u662f\u53d8\u91cf\uff0c\u4f8b\u5982 `http://hostname:port/jobs/<jobid>/exceptions` \u5c06\u5fc5\u987b\u8bf7\u6c42\u5982 `http://hostname:port/jobs/7684be6004e4e955c2a558a9bc463f65/exceptions`\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc3859110ac2f7cbd589c06cd1b7fbb65aafd3f"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM0NTk3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5b58\u6863\u8def\u5f84\u548c\u5df2\u5b58\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002\n          \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e`\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55`\u548c`\u5237\u65b0\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55\u7684\u65f6\u95f4\u95f4\u9694`\u8fdb\u884c\u8c03\u6574\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477345974", "createdAt": "2020-08-26T14:29:11Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,67 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u7684 `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e\u5b58\u6863\u8def\u5f84\u548c\u5df2\u5b58\u6863\u4f5c\u4e1a\u5237\u65b0\u95f4\u9694\u8fdb\u884c\u8c03\u6574\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bc3859110ac2f7cbd589c06cd1b7fbb65aafd3f"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "573b789a5293888cc002892d481fdebfee8a7163", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/573b789a5293888cc002892d481fdebfee8a7163", "committedDate": "2020-08-26T14:31:12Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTU5NTU4", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-475559558", "createdAt": "2020-08-26T14:41:04Z", "commit": {"oid": "573b789a5293888cc002892d481fdebfee8a7163"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDo0MTowNFrOHHPbww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDo0MTowNFrOHHPbww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzM1NDk0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e`\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55`\u548c`\u5237\u65b0\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55\u7684\u65f6\u95f4\u95f4\u9694`\u8fdb\u884c\u8c03\u6574\u3002\n          \n          \n            \n            \u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e `\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55` \u548c `\u5237\u65b0\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55\u7684\u65f6\u95f4\u95f4\u9694` \u8fdb\u884c\u8c03\u6574\u3002", "url": "https://github.com/apache/flink/pull/13212#discussion_r477354947", "createdAt": "2020-08-26T14:41:04Z", "author": {"login": "RocMarshal"}, "path": "docs/monitoring/historyserver.zh.md", "diffHunk": "@@ -22,62 +22,68 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n-Flink has a history server that can be used to query the statistics of completed jobs after the corresponding Flink cluster has been shut down.\n+Flink \u63d0\u4f9b\u4e86 history server\uff0c\u53ef\u4ee5\u5728\u76f8\u5e94\u7684 Flink \u96c6\u7fa4\u5173\u95ed\u4e4b\u540e\u67e5\u8be2\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\n \n-Furthermore, it exposes a REST API that accepts HTTP requests and responds with JSON data.\n+\u6b64\u5916\uff0c\u5b83\u66b4\u9732\u4e86\u4e00\u5957 REST API\uff0c\u8be5 API \u63a5\u53d7 HTTP \u8bf7\u6c42\u5e76\u8fd4\u56de JSON \u683c\u5f0f\u7684\u6570\u636e\u3002\n \n * This will be replaced by the TOC\n {:toc}\n \n-## Overview\n+<a name=\"overview\"></a>\n \n-The HistoryServer allows you to query the status and statistics of completed jobs that have been archived by a JobManager.\n+## \u6982\u89c8\n \n-After you have configured the HistoryServer *and* JobManager, you start and stop the HistoryServer via its corresponding startup script:\n+HistoryServer \u5141\u8bb8\u67e5\u8be2 JobManager \u5b58\u6863\u7684\u5df2\u5b8c\u6210\u4f5c\u4e1a\u7684\u72b6\u6001\u548c\u7edf\u8ba1\u4fe1\u606f\u3002\n+\n+\u5728\u914d\u7f6e HistoryServer *\u548c* JobManager \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684\u811a\u672c\u6765\u542f\u52a8\u548c\u505c\u6b62 HistoryServer\uff1a\n \n {% highlight shell %}\n-# Start or stop the HistoryServer\n+# \u542f\u52a8\u6216\u8005\u505c\u6b62 HistoryServer\n bin/historyserver.sh (start|start-foreground|stop)\n {% endhighlight %}\n \n-By default, this server binds to `localhost` and listens at port `8082`.\n+\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u670d\u52a1\u5668\u7ed1\u5b9a\u5230 `localhost` \u7684 `8082` \u7aef\u53e3\u3002\n+\n+\u76ee\u524d\uff0c\u53ea\u80fd\u5c06 HistoryServer \u4f5c\u4e3a\u72ec\u7acb\u7684\u8fdb\u7a0b\u8fd0\u884c\u3002\n \n-Currently, you can only run it as a standalone process.\n+<a name=\"configuration\"></a>\n \n-## Configuration\n+## \u914d\u7f6e\u53c2\u6570\n \n-The configuration keys `jobmanager.archive.fs.dir` and `historyserver.archive.fs.refresh-interval` need to be adjusted for archiving and displaying archived jobs.\n+\u914d\u7f6e\u9879 `jobmanager.archive.fs.dir` \u548c `historyserver.archive.fs.refresh-interval` \u9700\u8981\u6839\u636e`\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55`\u548c`\u5237\u65b0\u4f5c\u4e1a\u5b58\u6863\u76ee\u5f55\u7684\u65f6\u95f4\u95f4\u9694`\u8fdb\u884c\u8c03\u6574\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "573b789a5293888cc002892d481fdebfee8a7163"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c36cb4876c626b0d67048f0bd43381a2eab9fa60", "author": {"user": {"login": "RocMarshal", "name": "Yuepeng Pan"}}, "url": "https://github.com/apache/flink/commit/c36cb4876c626b0d67048f0bd43381a2eab9fa60", "committedDate": "2020-08-26T14:41:40Z", "message": "Update docs/monitoring/historyserver.zh.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NTk0NDEx", "url": "https://github.com/apache/flink/pull/13212#pullrequestreview-476594411", "createdAt": "2020-08-27T10:39:15Z", "commit": {"oid": "c36cb4876c626b0d67048f0bd43381a2eab9fa60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4675, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}