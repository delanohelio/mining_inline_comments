{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzOTQxMDg1", "number": 14139, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzozNzowM1rOE7KsHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzozODo1MVrOE7KutA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNDc2NTczOnYy", "diffSide": "RIGHT", "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/ExecutionCheckpointingOptions.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzozNzowM1rOH2qC3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzo0OTozNlrOH3D3uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3NDAxMg==", "bodyText": "Why is this change needed?", "url": "https://github.com/apache/flink/pull/14139#discussion_r527074012", "createdAt": "2020-11-19T17:37:03Z", "author": {"login": "rkhachatryan"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/ExecutionCheckpointingOptions.java", "diffHunk": "@@ -162,10 +162,11 @@\n \t\t\t\t\t\"will timeout and checkpoint barrier will start working as unaligned checkpoint.\")\n \t\t\t\t.build());\n \n+\t@Documentation.ExcludeFromDocumentation(\"Do not advertise this option until rescaling of unaligned checkpoint is completed.\")\n \tpublic static final ConfigOption<Boolean> FORCE_UNALIGNED =\n \t\tConfigOptions.key(\"execution.checkpointing.unaligned.forced\")\n \t\t\t.booleanType()\n-\t\t\t.defaultValue(false)\n+\t\t\t.defaultValue(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7f30f23c854949e8af6b0465631ee214839597a"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ4NTA4OA==", "bodyText": "Without this change UC wouldn't work with iterations. Now that there is no EndOfChannelStateEvent and with it no blocking, we can also support iterations for the time being.\nAlternatively, we could keep the force option and discourage using UC in iterations already in 1.12.", "url": "https://github.com/apache/flink/pull/14139#discussion_r527485088", "createdAt": "2020-11-20T07:18:58Z", "author": {"login": "AHeise"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/ExecutionCheckpointingOptions.java", "diffHunk": "@@ -162,10 +162,11 @@\n \t\t\t\t\t\"will timeout and checkpoint barrier will start working as unaligned checkpoint.\")\n \t\t\t\t.build());\n \n+\t@Documentation.ExcludeFromDocumentation(\"Do not advertise this option until rescaling of unaligned checkpoint is completed.\")\n \tpublic static final ConfigOption<Boolean> FORCE_UNALIGNED =\n \t\tConfigOptions.key(\"execution.checkpointing.unaligned.forced\")\n \t\t\t.booleanType()\n-\t\t\t.defaultValue(false)\n+\t\t\t.defaultValue(true)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3NDAxMg=="}, "originalCommit": {"oid": "e7f30f23c854949e8af6b0465631ee214839597a"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ5NzE0NA==", "bodyText": "I see, thanks.", "url": "https://github.com/apache/flink/pull/14139#discussion_r527497144", "createdAt": "2020-11-20T07:49:36Z", "author": {"login": "rkhachatryan"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/environment/ExecutionCheckpointingOptions.java", "diffHunk": "@@ -162,10 +162,11 @@\n \t\t\t\t\t\"will timeout and checkpoint barrier will start working as unaligned checkpoint.\")\n \t\t\t\t.build());\n \n+\t@Documentation.ExcludeFromDocumentation(\"Do not advertise this option until rescaling of unaligned checkpoint is completed.\")\n \tpublic static final ConfigOption<Boolean> FORCE_UNALIGNED =\n \t\tConfigOptions.key(\"execution.checkpointing.unaligned.forced\")\n \t\t\t.booleanType()\n-\t\t\t.defaultValue(false)\n+\t\t\t.defaultValue(true)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3NDAxMg=="}, "originalCommit": {"oid": "e7f30f23c854949e8af6b0465631ee214839597a"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNDc3MjM2OnYy", "diffSide": "RIGHT", "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/tasks/StreamTask.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzozODo1MVrOH2qHTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzozODo1MVrOH2qHTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA3NTE1MQ==", "bodyText": "nit: add todo and mention the reason?", "url": "https://github.com/apache/flink/pull/14139#discussion_r527075151", "createdAt": "2020-11-19T17:38:51Z", "author": {"login": "rkhachatryan"}, "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/runtime/tasks/StreamTask.java", "diffHunk": "@@ -501,7 +501,7 @@ protected void beforeInvoke() throws Exception {\n \t\tactionExecutor.runThrowing(() -> {\n \n \t\t\tSequentialChannelStateReader reader = getEnvironment().getTaskStateManager().getSequentialChannelStateReader();\n-\t\t\treader.readOutputData(getEnvironment().getAllWriters(), !configuration.isGraphContainingLoops());\n+\t\t\treader.readOutputData(getEnvironment().getAllWriters(), false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7f30f23c854949e8af6b0465631ee214839597a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4805, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}