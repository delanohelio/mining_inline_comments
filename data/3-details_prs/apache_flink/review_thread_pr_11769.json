{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MTgzOTMx", "number": 11769, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjowMzo1MlrODzjxkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNzowODoyMlrOD0mNGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1MzkwMDk5OnYy", "diffSide": "RIGHT", "path": "flink-python/pyflink/table/table_environment.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjowMzo1MlrOGIEcBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjowMzo1MlrOGIEcBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTExNDUwMA==", "bodyText": "BatchTableEnvironment => StreamTableEnvironment", "url": "https://github.com/apache/flink/pull/11769#discussion_r411114500", "createdAt": "2020-04-20T06:03:52Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/table/table_environment.py", "diffHunk": "@@ -1154,26 +1154,28 @@ def connect(self, connector_descriptor):\n             self._j_tenv.connect(connector_descriptor._j_connector_descriptor))\n \n     @staticmethod\n-    def create(stream_execution_environment, table_config=None, environment_settings=None):\n+    def create(stream_execution_environment=None, table_config=None, environment_settings=None):\n         \"\"\"\n-        Creates a :class:`~pyflink.table.TableEnvironment` for a\n+        Creates a :class:`~pyflink.table.StreamTableEnvironment` for a\n         :class:`~pyflink.datastream.StreamExecutionEnvironment`.\n \n         Example:\n         ::\n \n+            # create with StreamExecutionEnvironment.\n             >>> env = StreamExecutionEnvironment.get_execution_environment()\n-            # create without optional parameters.\n             >>> table_env = StreamTableEnvironment.create(env)\n-            # create with TableConfig\n+            # create with StreamExecutionEnvironment and TableConfig.\n             >>> table_config = TableConfig()\n             >>> table_config.set_null_check(False)\n             >>> table_env = StreamTableEnvironment.create(env, table_config)\n-            # create with EnvrionmentSettings\n+            # create with StreamExecutionEnvironment and EnvironmentSettings.\n             >>> environment_settings = EnvironmentSettings.new_instance().use_blink_planner() \\\\\n             ...     .build()\n             >>> table_env = StreamTableEnvironment.create(\n             ...     env, environment_settings=environment_settings)\n+            # create with EnvironmentSettings.\n+            >>> table_env = BatchTableEnvironment.create(environment_settings=environment_settings)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91e11790567ac173db216ac8d0a4bae76d2b81ae"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDAwOTE5OnYy", "diffSide": "RIGHT", "path": "flink-python/pyflink/table/table_environment.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjo0MTowNlrOGIFYgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjo0MTowNlrOGIFYgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTEyOTk4NA==", "bodyText": "Change to\nCreates a :class:`~pyflink.table.StreamTableEnvironment`.\n\nsince we can also create the TableEnvironment without the execution environment.", "url": "https://github.com/apache/flink/pull/11769#discussion_r411129984", "createdAt": "2020-04-20T06:41:06Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/table/table_environment.py", "diffHunk": "@@ -1154,26 +1154,28 @@ def connect(self, connector_descriptor):\n             self._j_tenv.connect(connector_descriptor._j_connector_descriptor))\n \n     @staticmethod\n-    def create(stream_execution_environment, table_config=None, environment_settings=None):\n+    def create(stream_execution_environment=None, table_config=None, environment_settings=None):\n         \"\"\"\n-        Creates a :class:`~pyflink.table.TableEnvironment` for a\n+        Creates a :class:`~pyflink.table.StreamTableEnvironment` for a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91e11790567ac173db216ac8d0a4bae76d2b81ae"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDAxMDUwOnYy", "diffSide": "RIGHT", "path": "flink-python/pyflink/table/table_environment.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjo0MTozNVrOGIFZUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwNjo0MTozNVrOGIFZUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTEzMDE5NQ==", "bodyText": "Revert the change as we can also create the TableEnvironment without the execution_environment.", "url": "https://github.com/apache/flink/pull/11769#discussion_r411130195", "createdAt": "2020-04-20T06:41:35Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/table/table_environment.py", "diffHunk": "@@ -1280,7 +1297,8 @@ def connect(self, connector_descriptor):\n     @staticmethod\n     def create(execution_environment=None, table_config=None, environment_settings=None):\n         \"\"\"\n-        Creates a :class:`~pyflink.table.BatchTableEnvironment`.\n+        Creates a :class:`~pyflink.table.BatchTableEnvironment` for a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91e11790567ac173db216ac8d0a4bae76d2b81ae"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NDc4NDkxOnYy", "diffSide": "RIGHT", "path": "flink-python/pyflink/table/tests/test_table_environment_api.py", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNzowODoyMlrOGJmypg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNzowODoyMlrOGJmypg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjcyNTkyNg==", "bodyText": "Would be great if we can also add tests for flink planner. FYI: test will be failed for flink planner with the current PR.", "url": "https://github.com/apache/flink/pull/11769#discussion_r412725926", "createdAt": "2020-04-22T07:08:22Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/table/tests/test_table_environment_api.py", "diffHunk": "@@ -296,6 +296,15 @@ def test_create_table_environment_with_blink_planner(self):\n             planner.getClass().getName(),\n             \"org.apache.flink.table.planner.delegation.StreamPlanner\")\n \n+        t_env = StreamTableEnvironment.create(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b052af39c5612f8ba67b3e650a3fdc3fdb8fdb9e"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1640, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}