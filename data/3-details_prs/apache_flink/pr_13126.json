{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2NTY0Mzg0", "number": 13126, "title": "[FLINK-18888][python] Support execute_async for StreamExecutionEnviro\u2026", "bodyText": "What is the purpose of the change\nExecute job asynchronously is supported in Java StreamExecutionEnvironment, we should also support it in Python StreamExecutionEnvironment.\nBrief change log\n\nAdd execute_async() for StreamExecutionEnvironment.\n\nVerifying this change\nThis change has test case covered by test_execute_async() in test_stream_execution_environment().\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): ( no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): ( no)\nThe serializers: (no)\nThe runtime per-record code paths (performance sensitive): (no)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (no)\nThe S3 file system connector: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? ( no)\nIf yes, how is the feature documented? ( not documented)", "createdAt": "2020-08-12T06:59:38Z", "url": "https://github.com/apache/flink/pull/13126", "merged": true, "mergeCommit": {"oid": "5dadbf312bb103dd3e8e812ac42a909479e2ca8a"}, "closed": true, "closedAt": "2020-08-12T10:59:23Z", "author": {"login": "shuiqiangchen"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-GSYvAFqTQ2NTY1NjA5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-HB_nAFqTQ2NTY5MjY5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjU2MDk4", "url": "https://github.com/apache/flink/pull/13126#pullrequestreview-465656098", "createdAt": "2020-08-12T07:27:30Z", "commit": {"oid": "37c2b844eff223c1eee14a83cf4ed1e295184af7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzoyNzozMVrOG_VHLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzoyODozNVrOG_VJRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA1OTM3Mw==", "bodyText": "Put the import in the right order.", "url": "https://github.com/apache/flink/pull/13126#discussion_r469059373", "createdAt": "2020-08-12T07:27:31Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/datastream/stream_execution_environment.py", "diffHunk": "@@ -20,6 +20,8 @@\n \n from typing import List, Any\n \n+from pyflink.common.job_client import JobClient", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37c2b844eff223c1eee14a83cf4ed1e295184af7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA1OTkwOA==", "bodyText": "This line is useless.", "url": "https://github.com/apache/flink/pull/13126#discussion_r469059908", "createdAt": "2020-08-12T07:28:35Z", "author": {"login": "hequn8128"}, "path": "flink-python/pyflink/datastream/tests/test_stream_execution_environment.py", "diffHunk": "@@ -271,3 +271,16 @@ def test_read_text_file(self):\n         results.sort()\n         texts.sort()\n         self.assertEqual(texts, results)\n+\n+    def test_execute_async(self):\n+        ds = self.env.from_collection([(1, 'Hi', 'Hello'), (2, 'Hello', 'Hi')],\n+                                      type_info=Types.ROW(\n+                                          [Types.INT(), Types.STRING(), Types.STRING()]))\n+        test_sink = DataStreamTestSinkFunction()\n+        ds.add_sink(test_sink)\n+        job_client = self.env.execute_async(\"test execute async\")\n+        job_id = job_client.get_job_id()\n+        self.assertIsNotNone(job_id)\n+        execution_result = job_client.get_job_execution_result().result()\n+        self.assertEqual(str(job_id), str(execution_result.get_job_id()))\n+        test_sink.get_results()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37c2b844eff223c1eee14a83cf4ed1e295184af7"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125532d42170dedc09b3319ffedc14178a2a54ff", "author": {"user": {"login": "shuiqiangchen", "name": "Shuiqiang Chen"}}, "url": "https://github.com/apache/flink/commit/125532d42170dedc09b3319ffedc14178a2a54ff", "committedDate": "2020-08-12T08:10:53Z", "message": "[FLINK-18888][python] Support execute_async for StreamExecutionEnvironment."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37c2b844eff223c1eee14a83cf4ed1e295184af7", "author": {"user": {"login": "shuiqiangchen", "name": "Shuiqiang Chen"}}, "url": "https://github.com/apache/flink/commit/37c2b844eff223c1eee14a83cf4ed1e295184af7", "committedDate": "2020-08-12T06:55:34Z", "message": "[FLINK-18888][python] Support execute_async for StreamExecutionEnvironment."}, "afterCommit": {"oid": "125532d42170dedc09b3319ffedc14178a2a54ff", "author": {"user": {"login": "shuiqiangchen", "name": "Shuiqiang Chen"}}, "url": "https://github.com/apache/flink/commit/125532d42170dedc09b3319ffedc14178a2a54ff", "committedDate": "2020-08-12T08:10:53Z", "message": "[FLINK-18888][python] Support execute_async for StreamExecutionEnvironment."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjkyNjkx", "url": "https://github.com/apache/flink/pull/13126#pullrequestreview-465692691", "createdAt": "2020-08-12T08:20:54Z", "commit": {"oid": "125532d42170dedc09b3319ffedc14178a2a54ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4835, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}