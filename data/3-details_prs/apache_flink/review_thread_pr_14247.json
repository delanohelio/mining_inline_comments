{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTAzMjY1", "number": 14247, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo0OTozMlrOE97YqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo0OTozMlrOE97YqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMzcxNTYwOnYy", "diffSide": "RIGHT", "path": "flink-formats/flink-avro/src/test/java/org/apache/flink/formats/avro/typeutils/AvroSchemaConverterTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo0OTozMlrOH63rFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo0OTozMlrOH63rFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ5MTYwNg==", "bodyText": "Use DataType directly. We should not advertise TableSchema anymore.", "url": "https://github.com/apache/flink/pull/14247#discussion_r531491606", "createdAt": "2020-11-27T09:49:32Z", "author": {"login": "twalthr"}, "path": "flink-formats/flink-avro/src/test/java/org/apache/flink/formats/avro/typeutils/AvroSchemaConverterTest.java", "diffHunk": "@@ -54,6 +64,44 @@ public void testAvroSchemaConversion() {\n \t\tvalidateUserSchema(AvroSchemaConverter.convertToTypeInfo(schema));\n \t}\n \n+\t@Test\n+\tpublic void testAddingOptionalField() throws IOException {\n+\t\tSchema oldSchema = SchemaBuilder.record(\"record\")\n+\t\t\t.fields()\n+\t\t\t.requiredLong(\"category_id\")\n+\t\t\t.optionalString(\"name\")\n+\t\t\t.endRecord();\n+\n+\t\tSchema newSchema = AvroSchemaConverter.convertToSchema(\n+\t\t\tTableSchema.builder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab64e8547b2c75071536ea06594cca07c4a14bb2"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4667, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}