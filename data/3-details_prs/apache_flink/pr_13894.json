{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0Mjk1NDgx", "number": 13894, "title": "[FLINK-18117][e2e] Dynamically allocate port causing test instabilities", "bodyText": "The E2E test regularly fails because it can not allocate a port. This change allows Hadoop to pick any port.", "createdAt": "2020-11-02T20:21:37Z", "url": "https://github.com/apache/flink/pull/13894", "merged": true, "mergeCommit": {"oid": "358713ba5b1f29fb9befa72c47864d1e49d5e30e"}, "closed": true, "closedAt": "2020-11-05T08:12:41Z", "author": {"login": "rmetzger"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY6WqgAFqTUyMjU3MzE0Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZKWApABqjM5NTY2MzcwMDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNTczMTQ2", "url": "https://github.com/apache/flink/pull/13894#pullrequestreview-522573146", "createdAt": "2020-11-03T14:50:40Z", "commit": {"oid": "3b8dea0d2fed1b79772511a0405d79132db05860"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDo1MDo0MFrOHsyXHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDo1MDo0MFrOHsyXHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcyNDUwOA==", "bodyText": "Why do you remove 50470 here? Is it because we switch to random ports for the namenode's HTTPS port? If yes: Why don't we also remove 50070 as well? It's the namenode's HTTP port which also became random (source).", "url": "https://github.com/apache/flink/pull/13894#discussion_r516724508", "createdAt": "2020-11-03T14:50:40Z", "author": {"login": "XComp"}, "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/Dockerfile", "diffHunk": "@@ -128,7 +128,7 @@ RUN set -x \\\n     && echo \"Port 2122\" >> /etc/ssh/sshd_config\n \n # Hdfs ports\n-EXPOSE 50470 9000 50010 50020 50070 50075 50090 50475 50091 8020\n+EXPOSE 9000 50010 50020 50070 50075 50090 50475 50091 8020", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b8dea0d2fed1b79772511a0405d79132db05860"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNTk2ODIw", "url": "https://github.com/apache/flink/pull/13894#pullrequestreview-522596820", "createdAt": "2020-11-03T15:13:59Z", "commit": {"oid": "3b8dea0d2fed1b79772511a0405d79132db05860"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3163eec24a4f23cf21fb7cec3fee62d4c11cea70", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/3163eec24a4f23cf21fb7cec3fee62d4c11cea70", "committedDate": "2020-11-04T09:28:11Z", "message": "[FLINK-18117][e2e] Dynamically allocate port causing test instabilities"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25d6240732656d98aa5b0dd97696e221080f6b2d", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/25d6240732656d98aa5b0dd97696e221080f6b2d", "committedDate": "2020-11-04T09:28:11Z", "message": "https port as well"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e5ecdfc1fdba9ca3c14cf989f789f0d625a2ec4", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/4e5ecdfc1fdba9ca3c14cf989f789f0d625a2ec4", "committedDate": "2020-11-04T09:28:11Z", "message": "remove http port as well"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b8dea0d2fed1b79772511a0405d79132db05860", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/3b8dea0d2fed1b79772511a0405d79132db05860", "committedDate": "2020-11-03T10:40:18Z", "message": "https port as well"}, "afterCommit": {"oid": "4e5ecdfc1fdba9ca3c14cf989f789f0d625a2ec4", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/4e5ecdfc1fdba9ca3c14cf989f789f0d625a2ec4", "committedDate": "2020-11-04T09:28:11Z", "message": "remove http port as well"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4701, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}