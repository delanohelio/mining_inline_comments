{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0OTc1OTE3", "number": 12957, "title": "[FLINK-18500][table] Make the legacy planner exception more clear whe\u2026", "bodyText": "\u2026n resolving computed columns types for schema\nWhat is the purpose of the change\nThe original stack trace throws an UnsupportedOperationException with null error message which is very confusing.\nThe new message suggest user to use the new planner.\nBrief change log\n\nEnhance the error message for computed columns of legacy planner\nAdd test cases\n\nVerifying this change\nAdded UT.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): no\nThe serializers: no\nThe runtime per-record code paths (performance sensitive): no\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no\nThe S3 file system connector: no\n\nDocumentation\n\nDoes this pull request introduce a new feature? no", "createdAt": "2020-07-22T08:52:41Z", "url": "https://github.com/apache/flink/pull/12957", "merged": true, "mergeCommit": {"oid": "1909e933a7b9d6cbbbc7b79b6db62ebce041c136"}, "closed": true, "closedAt": "2020-11-17T07:39:12Z", "author": {"login": "danny0405"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3eZNKAFqTQ1MzUzOTcxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABddUiNDAFqTUzMjA4NDM4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNTM5NzEy", "url": "https://github.com/apache/flink/pull/12957#pullrequestreview-453539712", "createdAt": "2020-07-22T17:36:35Z", "commit": {"oid": "027c4cb95690e75cb9a79e08bddcc67ee6d3a9c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzozNjozNlrOG1tGEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNzozNjozNlrOG1tGEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk2NjU0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tthrow new UnsupportedOperationException(\"Computed column is only supported by Blink planner.\");\n          \n          \n            \n            \t\tthrow new UnsupportedOperationException(\"Computed columns is only supported by the Blink planner.\");", "url": "https://github.com/apache/flink/pull/12957#discussion_r458966544", "createdAt": "2020-07-22T17:36:36Z", "author": {"login": "sjwiesman"}, "path": "flink-table/flink-table-planner/src/main/java/org/apache/flink/table/planner/ParserImpl.java", "diffHunk": "@@ -83,6 +83,6 @@ public UnresolvedIdentifier parseIdentifier(String identifier) {\n \n \t@Override\n \tpublic ResolvedExpression parseSqlExpression(String sqlExpression, TableSchema inputSchema) {\n-\t\tthrow new UnsupportedOperationException();\n+\t\tthrow new UnsupportedOperationException(\"Computed column is only supported by Blink planner.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "027c4cb95690e75cb9a79e08bddcc67ee6d3a9c0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6142f8bf5f9e4e146da83e7bea9977359fe7f60f", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/flink/commit/6142f8bf5f9e4e146da83e7bea9977359fe7f60f", "committedDate": "2020-07-23T02:59:53Z", "message": "[FLINK-18500][table] Make the legacy planner exception more clear when resolving computed columns types for schema"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "491363e1ed8d85b680cff74a8412fe4e878342b8", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/flink/commit/491363e1ed8d85b680cff74a8412fe4e878342b8", "committedDate": "2020-07-23T01:28:10Z", "message": "Update flink-table/flink-table-planner/src/main/java/org/apache/flink/table/planner/ParserImpl.java\n\nCo-authored-by: Seth Wiesman <sjwiesman@gmail.com>"}, "afterCommit": {"oid": "6142f8bf5f9e4e146da83e7bea9977359fe7f60f", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/flink/commit/6142f8bf5f9e4e146da83e7bea9977359fe7f60f", "committedDate": "2020-07-23T02:59:53Z", "message": "[FLINK-18500][table] Make the legacy planner exception more clear when resolving computed columns types for schema"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMDg0Mzg2", "url": "https://github.com/apache/flink/pull/12957#pullrequestreview-532084386", "createdAt": "2020-11-17T07:36:30Z", "commit": {"oid": "6142f8bf5f9e4e146da83e7bea9977359fe7f60f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2922, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}