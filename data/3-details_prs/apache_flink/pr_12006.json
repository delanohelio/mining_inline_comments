{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDA0MTUw", "number": 12006, "title": "[FLINK-17306] Add open method to (De)SerializationSchema", "bodyText": "What is the purpose of the change\nThis PR adds open method to the DeserializationSchema and SerializationSchema. It gives users access to metrics. Moreover it adds a well defined step in the lifecycle to perform initialization.\nIt also updates Kafka, Kinesis, PubSub and GCP connectors to call the method.\nVerifying this change\nCheck tests in corresponding connectors.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-05-06T10:16:50Z", "url": "https://github.com/apache/flink/pull/12006", "merged": true, "mergeCommit": {"oid": "22334ff3fcc1ad4e4466c40ea6ddb865f04fcc78"}, "closed": true, "closedAt": "2020-05-07T09:19:30Z", "author": {"login": "dawidwys"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceVGSWgH2gAyNDE0MDA0MTUwOjdmNjZlZjkxNTI5NjBjODg5MmJkMDUyNWRhNTA4MmFiNTMzMjVkMjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce4vDGgFqTQwNzI0MDM3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f66ef9152960c8892bd0525da5082ab53325d25", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/7f66ef9152960c8892bd0525da5082ab53325d25", "committedDate": "2020-05-05T14:38:41Z", "message": "[FLINK-17306] Added open to DeserializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59242e51268095e284fdacc00f9cf8cc8a8f12fd", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/59242e51268095e284fdacc00f9cf8cc8a8f12fd", "committedDate": "2020-05-06T10:13:19Z", "message": "[FLINK-17306] Add open to KafkaDeserializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d21af3e3a2cff848f29b2a475410e86f8b1a6dd", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/9d21af3e3a2cff848f29b2a475410e86f8b1a6dd", "committedDate": "2020-05-06T10:13:21Z", "message": "[FLINK-17306] Add open to KinesisDeserializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6abea80ec9a4fe1055f87bb5b3b0372dacc9c0e", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/d6abea80ec9a4fe1055f87bb5b3b0372dacc9c0e", "committedDate": "2020-05-06T10:13:21Z", "message": "[FLINK-17306] Add open to PubSubDeserializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9e5a9e555a9f16ed05ae78e499bbab403e92a23", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/d9e5a9e555a9f16ed05ae78e499bbab403e92a23", "committedDate": "2020-05-06T10:13:21Z", "message": "[FLINK-17306] Call open of DeserializationSchema in RMQ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dff5f993839c4e078f80dadd233d871f0795a104", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/dff5f993839c4e078f80dadd233d871f0795a104", "committedDate": "2020-05-06T10:13:21Z", "message": "[FLINK-17306] Add open to SerializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6207db27e9f047b0c8856c6233149ff697f2d46d", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/6207db27e9f047b0c8856c6233149ff697f2d46d", "committedDate": "2020-05-06T10:13:21Z", "message": "[FLINK-17306] Add open to KafkaSerializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e45f3d5205f64b10ab8ac9591c39d2f618be99a", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/0e45f3d5205f64b10ab8ac9591c39d2f618be99a", "committedDate": "2020-05-06T10:14:58Z", "message": "[FLINK-17306] Add open to KinesisSerializationSchema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94a31b7e10b154016ddf1c1e907c4141abfd6bd6", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/94a31b7e10b154016ddf1c1e907c4141abfd6bd6", "committedDate": "2020-05-06T10:15:22Z", "message": "[FLINK-17306] Call open of SerializationSchema in PubSub sink"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01fc239c8c30cfcc8d5f12bf6aaf6a55041ad25a", "author": {"user": {"login": "dawidwys", "name": "Dawid Wysakowicz"}}, "url": "https://github.com/apache/flink/commit/01fc239c8c30cfcc8d5f12bf6aaf6a55041ad25a", "committedDate": "2020-05-06T10:15:22Z", "message": " [FLINK-17306] Call open of SerializationSchema in RMQ sink"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MjQwMzcz", "url": "https://github.com/apache/flink/pull/12006#pullrequestreview-407240373", "createdAt": "2020-05-07T08:07:48Z", "commit": {"oid": "01fc239c8c30cfcc8d5f12bf6aaf6a55041ad25a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwODowNzo0OFrOGRzLKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwODowNzo0OFrOGRzLKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMxNzQxNg==", "bodyText": "Why don't we forward the open() call but need to do casts when invoking?", "url": "https://github.com/apache/flink/pull/12006#discussion_r421317416", "createdAt": "2020-05-07T08:07:48Z", "author": {"login": "aljoscha"}, "path": "flink-connectors/flink-connector-kafka-base/src/main/java/org/apache/flink/streaming/connectors/kafka/internals/KeyedSerializationSchemaWrapper.java", "diffHunk": "@@ -37,6 +37,10 @@ public KeyedSerializationSchemaWrapper(SerializationSchema<T> serializationSchem\n \t\tthis.serializationSchema = serializationSchema;\n \t}\n \n+\tpublic SerializationSchema<T> getSerializationSchema() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01fc239c8c30cfcc8d5f12bf6aaf6a55041ad25a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4594, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}