{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MTM4MzQx", "number": 13691, "title": "[FLINK-19458] Fix ZK-related CI instabilities", "bodyText": "What is the purpose of the change\nWe used to have an increased session and connection timeout configured for TravisCI.\nOn Azure, the environment variable we used for checking if we are in an CI environment doesn't exist anymore.\nThis change enables the increased timeout on Azure as well.", "createdAt": "2020-10-19T17:17:48Z", "url": "https://github.com/apache/flink/pull/13691", "merged": true, "mergeCommit": {"oid": "947b3d34daf01d15e6ad2e693e35e6637336e49f"}, "closed": true, "closedAt": "2020-10-20T13:19:12Z", "author": {"login": "rmetzger"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUHdEAAH2gAyNTA2MTM4MzQxOjQzMTJiYjA2YzVkYjYxNzE1MDgyMjNjYWUwNTZkNWUyOWIyNThmOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUYBq6AFqTUxMjY1NjE4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e", "author": {"user": {"login": "rmetzger", "name": "Robert Metzger"}}, "url": "https://github.com/apache/flink/commit/4312bb06c5db6171508223cae056d5e29b258f8e", "committedDate": "2020-10-19T17:16:48Z", "message": "[FLINK-19458] Fix ZK-related CI instabilities\n\nWe used to have an increased session and connection timeout configured for TravisCI.\nOn Azure, the environment variable we used for checking if we are in an CI environment doesn't exist anymore.\nThis change enables the increased timeout on Azure as well."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTMyODgy", "url": "https://github.com/apache/flink/pull/13691#pullrequestreview-512532882", "createdAt": "2020-10-20T09:54:44Z", "commit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwOTo1NDo0NFrOHk0QMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwOTo1NDo0NFrOHk0QMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM2Njg5OA==", "bodyText": "Do we have more checks like this? (if so, then maybe add a common utility for it?)", "url": "https://github.com/apache/flink/pull/13691#discussion_r508366898", "createdAt": "2020-10-20T09:54:44Z", "author": {"login": "zentol"}, "path": "flink-runtime/src/test/java/org/apache/flink/runtime/testutils/ZooKeeperTestUtils.java", "diffHunk": "@@ -68,8 +73,9 @@ public static Configuration configureZooKeeperHA(\n \t\tconfig.setString(HighAvailabilityOptions.HA_ZOOKEEPER_QUORUM, zooKeeperQuorum);\n \n \t\tint connTimeout = 5000;\n-\t\tif (System.getenv().containsKey(\"CI\")) {\n+\t\tif (System.getenv().containsKey(\"CI\") || System.getenv().containsKey(\"TF_BUILD\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTMyOTc5", "url": "https://github.com/apache/flink/pull/13691#pullrequestreview-512532979", "createdAt": "2020-10-20T09:54:52Z", "commit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNjU2MTg2", "url": "https://github.com/apache/flink/pull/13691#pullrequestreview-512656186", "createdAt": "2020-10-20T12:34:57Z", "commit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjozNDo1N1rOHk6Exw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjozNDo1N1rOHk6Exw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ2MjI3OQ==", "bodyText": "maybe introduce runsOnCIInfrastructure() to give this expression a more expressive name.", "url": "https://github.com/apache/flink/pull/13691#discussion_r508462279", "createdAt": "2020-10-20T12:34:57Z", "author": {"login": "tillrohrmann"}, "path": "flink-runtime/src/test/java/org/apache/flink/runtime/testutils/ZooKeeperTestUtils.java", "diffHunk": "@@ -68,8 +73,9 @@ public static Configuration configureZooKeeperHA(\n \t\tconfig.setString(HighAvailabilityOptions.HA_ZOOKEEPER_QUORUM, zooKeeperQuorum);\n \n \t\tint connTimeout = 5000;\n-\t\tif (System.getenv().containsKey(\"CI\")) {\n+\t\tif (System.getenv().containsKey(\"CI\") || System.getenv().containsKey(\"TF_BUILD\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM2Njg5OA=="}, "originalCommit": {"oid": "4312bb06c5db6171508223cae056d5e29b258f8e"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2897, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}