{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4NjMxNDY3", "number": 13410, "title": "[FLINK-19247][docs-zh] Update Chinese documentation after removal of Kafka 0.10 and 0.11", "bodyText": "What is the purpose of the change\nUpdate Chinese documentation after removal of Kafka 0.10 and 0.11.\nBrief change log\n\nUpdate Chinese documentation according to FLINK-19152.\nMake the Chinese documentation to keep sync with the newest Apache Kafka Connector documentation.\n\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-09-17T12:26:07Z", "url": "https://github.com/apache/flink/pull/13410", "merged": true, "mergeCommit": {"oid": "f234fad9ce2922f86de1c31d8aa05dda1a8ae65b"}, "closed": true, "closedAt": "2020-10-12T06:05:32Z", "author": {"login": "Shawn-Hx"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJwAQygH2gAyNDg4NjMxNDY3OmQ3ODUwMTE0MDEwNTYwZjU2NTJmMDY0MjJiZDA5ZDBhNTZmNTc4MWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRtTicgFqTUwNjMwNTE4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7850114010560f5652f06422bd09d0a56f5781d", "author": {"user": {"login": "Shawn-Hx", "name": "Shawn Huang"}}, "url": "https://github.com/apache/flink/commit/d7850114010560f5652f06422bd09d0a56f5781d", "committedDate": "2020-09-17T12:18:17Z", "message": "[FLINK-19247] Update Chinese documentation after removal of Kafka 0.10 and 0.11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759", "author": {"user": {"login": "Shawn-Hx", "name": "Shawn Huang"}}, "url": "https://github.com/apache/flink/commit/69930ae1221864a5ccc986ac23c6010b76043759", "committedDate": "2020-09-17T12:32:24Z", "message": "little change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDgxNjY3", "url": "https://github.com/apache/flink/pull/13410#pullrequestreview-497081667", "createdAt": "2020-09-27T13:31:06Z", "commit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "state": "COMMENTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxMzozMTowNlrOHYnZXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yN1QxNDowNzoyMVrOHYnnCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3MzM0Mw==", "bodyText": "\u7528\u4e8e\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165 \u8fd9\u91cc\u9700\u8981\u628a\u8fd9\u53e5\u8bdd\u62c6\u5f00\u6210 \u4ecexxx\u8bfb\u53d6 \u5411xxx \u5199\u5165\u5417\uff1f\u73b0\u5728\u8bfb\u8d77\u6765\u66f4\u50cf \u5411xxx\u8bfb\u53d6\u6709\u4e00\u70b9\u5947\u602a", "url": "https://github.com/apache/flink/pull/13410#discussion_r495573343", "createdAt": "2020-09-27T13:31:06Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -23,90 +23,32 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n+Flink \u63d0\u4f9b\u4e86 [Apache Kafka](https://kafka.apache.org) \u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\uff0c\u53ef\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u5904\u7406\u8bed\u4e49\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3MzQ3NA==", "bodyText": "\u8fd9\u91cc\u5e94\u8be5\u662f\u5411\u524d\u517c\u5bb9\uff1f", "url": "https://github.com/apache/flink/pull/13410#discussion_r495573474", "createdAt": "2020-09-27T13:32:31Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -23,90 +23,32 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n+Flink \u63d0\u4f9b\u4e86 [Apache Kafka](https://kafka.apache.org) \u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\uff0c\u53ef\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u5904\u7406\u8bed\u4e49\u3002\n+\n * This will be replaced by the TOC\n {:toc}\n \n-\u6b64\u8fde\u63a5\u5668\u63d0\u4f9b\u4e86\u8bbf\u95ee [Apache Kafka](https://kafka.apache.org/) \u4e8b\u4ef6\u6d41\u7684\u670d\u52a1\u3002\n-\n-Flink \u63d0\u4f9b\u4e86\u4e13\u95e8\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\u3002Flink Kafka Consumer \u96c6\u6210\u4e86 Flink \u7684 Checkpoint \u673a\u5236\uff0c\u53ef\u63d0\u4f9b exactly-once \u7684\u5904\u7406\u8bed\u4e49\u3002\u4e3a\u6b64\uff0cFlink \u5e76\u4e0d\u5b8c\u5168\u4f9d\u8d56\u4e8e\u8ddf\u8e2a Kafka \u6d88\u8d39\u7ec4\u7684\u504f\u79fb\u91cf\uff0c\u800c\u662f\u5728\u5185\u90e8\u8ddf\u8e2a\u548c\u68c0\u67e5\u504f\u79fb\u91cf\u3002\n-\n-\u6839\u636e\u4f60\u7684\u7528\u4f8b\u548c\u73af\u5883\u9009\u62e9\u76f8\u5e94\u7684\u5305\uff08maven artifact id\uff09\u548c\u7c7b\u540d\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u6765\u8bf4\uff0c\u4f7f\u7528 `FlinkKafkaConsumer`\uff08 `flink-connector-kafka` \u7684\u4e00\u90e8\u5206\uff09\u662f\u6bd4\u8f83\u5408\u9002\u7684\u3002\n-\n-<table class=\"table table-bordered\">\n-  <thead>\n-    <tr>\n-      <th class=\"text-left\">Maven \u4f9d\u8d56</th>\n-      <th class=\"text-left\">\u81ea\u4ece\u54ea\u4e2a\u7248\u672c<br>\u5f00\u59cb\u652f\u6301</th>\n-      <th class=\"text-left\">\u6d88\u8d39\u8005\u548c<br>\u751f\u4ea7\u8005\u7684\u7c7b\u540d\u79f0</th>\n-      <th class=\"text-left\">Kafka \u7248\u672c</th>\n-      <th class=\"text-left\">\u6ce8\u610f</th>\n-    </tr>\n-  </thead>\n-  <tbody>\n-    <tr>\n-        <td>flink-connector-kafka{{ site.scala_version_suffix }}</td>\n-        <td>1.7.0</td>\n-        <td>FlinkKafkaConsumer<br>\n-        FlinkKafkaProducer</td>\n-        <td>>= 1.0.0</td>\n-        <td>\n-        \u8fd9\u4e2a\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002\u4ece Flink 1.9 \u7248\u672c\u5f00\u59cb\uff0c\u5b83\u4f7f\u7528 Kafka 2.2.0 client\u3002\u5f53\u524d Kafka \u5ba2\u6237\u7aef\u5411\u540e\u517c\u5bb9 0.10.0 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Kafka broker\u3002\n-        \u4f46\u662f\u5bf9\u4e8e Kafka 0.11.x \u548c 0.10.x \u7248\u672c\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u5206\u522b\u4f7f\u7528\u4e13\u7528\u7684 flink-connector-kafka-0.11{{ site.scala_version_suffix }} \u548c flink-connector-kafka-0.10{{ site.scala_version_suffix }} \u8fde\u63a5\u5668\u3002\n-        </td>\n-    </tr>\n-  </tbody>\n-</table>\n-\n-\u63a5\u7740\uff0c\u5728\u4f60\u7684 maven \u9879\u76ee\u4e2d\u5bfc\u5165\u8fde\u63a5\u5668\uff1a\n-\n-{% highlight xml %}\n-<dependency>\n-  <groupId>org.apache.flink</groupId>\n-  <artifactId>flink-connector-kafka{{ site.scala_version_suffix }}</artifactId>\n-  <version>{{ site.version }}</version>\n-</dependency>\n-{% endhighlight %}\n-\n-\u8bf7\u6ce8\u610f\uff1a\u76ee\u524d\u6d41\u8fde\u63a5\u5668\u8fd8\u4e0d\u662f\u4e8c\u8fdb\u5236\u5206\u53d1\u7684\u4e00\u90e8\u5206\u3002\n-[\u5728\u6b64\u5904]({{ site.baseurl }}/zh/dev/project-configuration.html)\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u94fe\u63a5\u5b83\u4eec\u4ee5\u5b9e\u73b0\u5728\u96c6\u7fa4\u4e2d\u6267\u884c\u3002\n-\n-## \u5b89\u88c5 Apache Kafka\n-\n-* \u6309\u7167 [ Kafka \u5feb\u901f\u5165\u95e8](https://kafka.apache.org/documentation.html#quickstart)\u7684\u8bf4\u660e\u4e0b\u8f7d\u4ee3\u7801\u5e76\u542f\u52a8 Kafka \u670d\u52a1\u5668\uff08\u6bcf\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\u90fd\u9700\u8981\u542f\u52a8 Zookeeper \u548c Kafka server\uff09\u3002\n-* \u5982\u679c Kafka \u548c Zookeeper \u670d\u52a1\u5668\u8fd0\u884c\u5728\u8fdc\u7aef\u673a\u5668\u4e0a\uff0c\u90a3\u4e48\u5fc5\u987b\u8981\u5c06 `config/server.properties` \u6587\u4ef6\u4e2d\u7684 `advertised.host.name`\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u8fdc\u7aef\u8bbe\u5907\u7684 IP \u5730\u5740\u3002\n-\n-## Kafka 1.0.0+ \u8fde\u63a5\u5668\n-\n-\u4ece Flink 1.7 \u5f00\u59cb\uff0c\u6709\u4e00\u4e2a\u65b0\u7684\u901a\u7528 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4e0d\u8ddf\u8e2a\u7279\u5b9a\u7684 Kafka \u4e3b\u7248\u672c\u3002\u76f8\u53cd\uff0c\u5b83\u662f\u5728 Flink \u53d1\u5e03\u65f6\u8ddf\u8e2a\u6700\u65b0\u7248\u672c\u7684 Kafka\u3002\n-\u5982\u679c\u4f60\u7684 Kafka broker \u7248\u672c\u662f 1.0.0 \u6216 \u66f4\u65b0\u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u8fd9\u4e2a Kafka \u8fde\u63a5\u5668\u3002\n-\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Kafka \u7684\u65e7\u7248\u672c( 0.11 \u6216 0.10 )\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u4f7f\u7528\u4e0e Kafka broker \u7248\u672c\u76f8\u5bf9\u5e94\u7684\u8fde\u63a5\u5668\u3002\n-\n-### \u517c\u5bb9\u6027\n-\n-\u901a\u8fc7 Kafka client API \u548c broker \u7684\u517c\u5bb9\u6027\u4fdd\u8bc1\uff0c\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u517c\u5bb9\u8f83\u65e7\u548c\u8f83\u65b0\u7684 Kafka broker\u3002\n-\u5b83\u517c\u5bb9 Kafka broker 0.11.0 \u6216\u8005\u66f4\u9ad8\u7248\u672c\uff0c\u5177\u4f53\u517c\u5bb9\u6027\u53d6\u51b3\u4e8e\u6240\u4f7f\u7528\u7684\u529f\u80fd\u3002\u6709\u5173 Kafka \u517c\u5bb9\u6027\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 [Kafka \u6587\u6863](https://kafka.apache.org/protocol.html#protocol_compatibility)\u3002\n-\n-### \u5c06 Kafka Connector \u4ece 0.11 \u8fc1\u79fb\u5230\u901a\u7528\u7248\u672c\n+## \u4f9d\u8d56\n \n-\u4ee5\u4fbf\u6267\u884c\u8fc1\u79fb\uff0c\u8bf7\u53c2\u8003 [\u5347\u7ea7 Jobs \u548c Flink \u7248\u672c\u6307\u5357]({{ site.baseurl }}/zh/ops/upgrading.html)\uff1a\n-* \u5728\u5168\u7a0b\u4e2d\u4f7f\u7528 Flink 1.9 \u6216\u66f4\u65b0\u7248\u672c\u3002\n-* \u4e0d\u8981\u540c\u65f6\u5347\u7ea7 Flink \u548c Operator\u3002\n-* \u786e\u4fdd\u4f60\u7684 Job \u4e2d\u6240\u4f7f\u7528\u7684 Kafka Consumer \u548c Kafka Producer \u5206\u914d\u4e86\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08uid\uff09\u3002\n-* \u4f7f\u7528 stop with savepoint \u7684\u7279\u6027\u6765\u6267\u884c savepoint\uff08\u4f8b\u5982\uff0c\u4f7f\u7528 `stop --withSavepoint`\uff09[CLI \u547d\u4ee4]({{ site.baseurl }}/zh/ops/cli.html)\u3002\n-\n-### \u7528\u6cd5\n-\n-\u8981\u4f7f\u7528\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u8bf7\u4e3a\u5b83\u6dfb\u52a0\u4f9d\u8d56\u5173\u7cfb\uff1a\n+Apache Flink \u96c6\u6210\u4e86\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4f1a\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\n+\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002\n+\u5f53\u524d Kafka client \u5411\u540e\u517c\u5bb9 0.10.0 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Kafka broker\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NDIyNw==", "bodyText": "\u5efa\u8bae\u8fd9\u4e9b\u653e\u5230\u4e00\u884c\uff0c\u5426\u5219\u6e32\u67d3\u4e4b\u540e\uff0c\u4e24\u884c\u4e2d\u95f4\u4f1a\u6709\u7a7a\u683c", "url": "https://github.com/apache/flink/pull/13410#discussion_r495574227", "createdAt": "2020-09-27T13:40:31Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -23,90 +23,32 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n+Flink \u63d0\u4f9b\u4e86 [Apache Kafka](https://kafka.apache.org) \u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\uff0c\u53ef\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u5904\u7406\u8bed\u4e49\u3002\n+\n * This will be replaced by the TOC\n {:toc}\n \n-\u6b64\u8fde\u63a5\u5668\u63d0\u4f9b\u4e86\u8bbf\u95ee [Apache Kafka](https://kafka.apache.org/) \u4e8b\u4ef6\u6d41\u7684\u670d\u52a1\u3002\n-\n-Flink \u63d0\u4f9b\u4e86\u4e13\u95e8\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\u3002Flink Kafka Consumer \u96c6\u6210\u4e86 Flink \u7684 Checkpoint \u673a\u5236\uff0c\u53ef\u63d0\u4f9b exactly-once \u7684\u5904\u7406\u8bed\u4e49\u3002\u4e3a\u6b64\uff0cFlink \u5e76\u4e0d\u5b8c\u5168\u4f9d\u8d56\u4e8e\u8ddf\u8e2a Kafka \u6d88\u8d39\u7ec4\u7684\u504f\u79fb\u91cf\uff0c\u800c\u662f\u5728\u5185\u90e8\u8ddf\u8e2a\u548c\u68c0\u67e5\u504f\u79fb\u91cf\u3002\n-\n-\u6839\u636e\u4f60\u7684\u7528\u4f8b\u548c\u73af\u5883\u9009\u62e9\u76f8\u5e94\u7684\u5305\uff08maven artifact id\uff09\u548c\u7c7b\u540d\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u6765\u8bf4\uff0c\u4f7f\u7528 `FlinkKafkaConsumer`\uff08 `flink-connector-kafka` \u7684\u4e00\u90e8\u5206\uff09\u662f\u6bd4\u8f83\u5408\u9002\u7684\u3002\n-\n-<table class=\"table table-bordered\">\n-  <thead>\n-    <tr>\n-      <th class=\"text-left\">Maven \u4f9d\u8d56</th>\n-      <th class=\"text-left\">\u81ea\u4ece\u54ea\u4e2a\u7248\u672c<br>\u5f00\u59cb\u652f\u6301</th>\n-      <th class=\"text-left\">\u6d88\u8d39\u8005\u548c<br>\u751f\u4ea7\u8005\u7684\u7c7b\u540d\u79f0</th>\n-      <th class=\"text-left\">Kafka \u7248\u672c</th>\n-      <th class=\"text-left\">\u6ce8\u610f</th>\n-    </tr>\n-  </thead>\n-  <tbody>\n-    <tr>\n-        <td>flink-connector-kafka{{ site.scala_version_suffix }}</td>\n-        <td>1.7.0</td>\n-        <td>FlinkKafkaConsumer<br>\n-        FlinkKafkaProducer</td>\n-        <td>>= 1.0.0</td>\n-        <td>\n-        \u8fd9\u4e2a\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002\u4ece Flink 1.9 \u7248\u672c\u5f00\u59cb\uff0c\u5b83\u4f7f\u7528 Kafka 2.2.0 client\u3002\u5f53\u524d Kafka \u5ba2\u6237\u7aef\u5411\u540e\u517c\u5bb9 0.10.0 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Kafka broker\u3002\n-        \u4f46\u662f\u5bf9\u4e8e Kafka 0.11.x \u548c 0.10.x \u7248\u672c\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u5206\u522b\u4f7f\u7528\u4e13\u7528\u7684 flink-connector-kafka-0.11{{ site.scala_version_suffix }} \u548c flink-connector-kafka-0.10{{ site.scala_version_suffix }} \u8fde\u63a5\u5668\u3002\n-        </td>\n-    </tr>\n-  </tbody>\n-</table>\n-\n-\u63a5\u7740\uff0c\u5728\u4f60\u7684 maven \u9879\u76ee\u4e2d\u5bfc\u5165\u8fde\u63a5\u5668\uff1a\n-\n-{% highlight xml %}\n-<dependency>\n-  <groupId>org.apache.flink</groupId>\n-  <artifactId>flink-connector-kafka{{ site.scala_version_suffix }}</artifactId>\n-  <version>{{ site.version }}</version>\n-</dependency>\n-{% endhighlight %}\n-\n-\u8bf7\u6ce8\u610f\uff1a\u76ee\u524d\u6d41\u8fde\u63a5\u5668\u8fd8\u4e0d\u662f\u4e8c\u8fdb\u5236\u5206\u53d1\u7684\u4e00\u90e8\u5206\u3002\n-[\u5728\u6b64\u5904]({{ site.baseurl }}/zh/dev/project-configuration.html)\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u94fe\u63a5\u5b83\u4eec\u4ee5\u5b9e\u73b0\u5728\u96c6\u7fa4\u4e2d\u6267\u884c\u3002\n-\n-## \u5b89\u88c5 Apache Kafka\n-\n-* \u6309\u7167 [ Kafka \u5feb\u901f\u5165\u95e8](https://kafka.apache.org/documentation.html#quickstart)\u7684\u8bf4\u660e\u4e0b\u8f7d\u4ee3\u7801\u5e76\u542f\u52a8 Kafka \u670d\u52a1\u5668\uff08\u6bcf\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\u90fd\u9700\u8981\u542f\u52a8 Zookeeper \u548c Kafka server\uff09\u3002\n-* \u5982\u679c Kafka \u548c Zookeeper \u670d\u52a1\u5668\u8fd0\u884c\u5728\u8fdc\u7aef\u673a\u5668\u4e0a\uff0c\u90a3\u4e48\u5fc5\u987b\u8981\u5c06 `config/server.properties` \u6587\u4ef6\u4e2d\u7684 `advertised.host.name`\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u8fdc\u7aef\u8bbe\u5907\u7684 IP \u5730\u5740\u3002\n-\n-## Kafka 1.0.0+ \u8fde\u63a5\u5668\n-\n-\u4ece Flink 1.7 \u5f00\u59cb\uff0c\u6709\u4e00\u4e2a\u65b0\u7684\u901a\u7528 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4e0d\u8ddf\u8e2a\u7279\u5b9a\u7684 Kafka \u4e3b\u7248\u672c\u3002\u76f8\u53cd\uff0c\u5b83\u662f\u5728 Flink \u53d1\u5e03\u65f6\u8ddf\u8e2a\u6700\u65b0\u7248\u672c\u7684 Kafka\u3002\n-\u5982\u679c\u4f60\u7684 Kafka broker \u7248\u672c\u662f 1.0.0 \u6216 \u66f4\u65b0\u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u8fd9\u4e2a Kafka \u8fde\u63a5\u5668\u3002\n-\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Kafka \u7684\u65e7\u7248\u672c( 0.11 \u6216 0.10 )\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u4f7f\u7528\u4e0e Kafka broker \u7248\u672c\u76f8\u5bf9\u5e94\u7684\u8fde\u63a5\u5668\u3002\n-\n-### \u517c\u5bb9\u6027\n-\n-\u901a\u8fc7 Kafka client API \u548c broker \u7684\u517c\u5bb9\u6027\u4fdd\u8bc1\uff0c\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u517c\u5bb9\u8f83\u65e7\u548c\u8f83\u65b0\u7684 Kafka broker\u3002\n-\u5b83\u517c\u5bb9 Kafka broker 0.11.0 \u6216\u8005\u66f4\u9ad8\u7248\u672c\uff0c\u5177\u4f53\u517c\u5bb9\u6027\u53d6\u51b3\u4e8e\u6240\u4f7f\u7528\u7684\u529f\u80fd\u3002\u6709\u5173 Kafka \u517c\u5bb9\u6027\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 [Kafka \u6587\u6863](https://kafka.apache.org/protocol.html#protocol_compatibility)\u3002\n-\n-### \u5c06 Kafka Connector \u4ece 0.11 \u8fc1\u79fb\u5230\u901a\u7528\u7248\u672c\n+## \u4f9d\u8d56\n \n-\u4ee5\u4fbf\u6267\u884c\u8fc1\u79fb\uff0c\u8bf7\u53c2\u8003 [\u5347\u7ea7 Jobs \u548c Flink \u7248\u672c\u6307\u5357]({{ site.baseurl }}/zh/ops/upgrading.html)\uff1a\n-* \u5728\u5168\u7a0b\u4e2d\u4f7f\u7528 Flink 1.9 \u6216\u66f4\u65b0\u7248\u672c\u3002\n-* \u4e0d\u8981\u540c\u65f6\u5347\u7ea7 Flink \u548c Operator\u3002\n-* \u786e\u4fdd\u4f60\u7684 Job \u4e2d\u6240\u4f7f\u7528\u7684 Kafka Consumer \u548c Kafka Producer \u5206\u914d\u4e86\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08uid\uff09\u3002\n-* \u4f7f\u7528 stop with savepoint \u7684\u7279\u6027\u6765\u6267\u884c savepoint\uff08\u4f8b\u5982\uff0c\u4f7f\u7528 `stop --withSavepoint`\uff09[CLI \u547d\u4ee4]({{ site.baseurl }}/zh/ops/cli.html)\u3002\n-\n-### \u7528\u6cd5\n-\n-\u8981\u4f7f\u7528\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u8bf7\u4e3a\u5b83\u6dfb\u52a0\u4f9d\u8d56\u5173\u7cfb\uff1a\n+Apache Flink \u96c6\u6210\u4e86\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4f1a\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\n+\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NDY2OA==", "bodyText": "1 \u94fe\u63a5\u5efa\u8bae\u4f7f\u7528 {% link %} \u7684\u65b9\u5f0f\uff0c\u53c2\u8003\u90ae\u4ef6\u5217\u8868 [1]\n2 \u5982\u4f55\u94fe\u63a5\u5b83\u4eec\u4ee5\u5b9e\u73b0\u5728\u96c6\u7fa4\u4e2d\u6267\u884c \u8fd9\u4e2a\u8fd8\u80fd\u5426\u4f18\u5316\u4e0b\u5462\uff0c\u73b0\u5728\u77e5\u9053\u662f\u4ec0\u4e48\u610f\u601d\uff0c\u4f46\u662f\u8bfb\u8d77\u6765\u8fd8\u6709\u70b9\u62d7\u53e3\n[1] http://apache-flink-mailing-list-archive.1008284.n3.nabble.com/Reminder-Prefer-link-tag-in-documentation-td42362.html", "url": "https://github.com/apache/flink/pull/13410#discussion_r495574668", "createdAt": "2020-09-27T13:44:58Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -23,90 +23,32 @@ specific language governing permissions and limitations\n under the License.\n -->\n \n+Flink \u63d0\u4f9b\u4e86 [Apache Kafka](https://kafka.apache.org) \u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\uff0c\u53ef\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u5904\u7406\u8bed\u4e49\u3002\n+\n * This will be replaced by the TOC\n {:toc}\n \n-\u6b64\u8fde\u63a5\u5668\u63d0\u4f9b\u4e86\u8bbf\u95ee [Apache Kafka](https://kafka.apache.org/) \u4e8b\u4ef6\u6d41\u7684\u670d\u52a1\u3002\n-\n-Flink \u63d0\u4f9b\u4e86\u4e13\u95e8\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5411 Kafka topic \u4e2d\u8bfb\u53d6\u6216\u8005\u5199\u5165\u6570\u636e\u3002Flink Kafka Consumer \u96c6\u6210\u4e86 Flink \u7684 Checkpoint \u673a\u5236\uff0c\u53ef\u63d0\u4f9b exactly-once \u7684\u5904\u7406\u8bed\u4e49\u3002\u4e3a\u6b64\uff0cFlink \u5e76\u4e0d\u5b8c\u5168\u4f9d\u8d56\u4e8e\u8ddf\u8e2a Kafka \u6d88\u8d39\u7ec4\u7684\u504f\u79fb\u91cf\uff0c\u800c\u662f\u5728\u5185\u90e8\u8ddf\u8e2a\u548c\u68c0\u67e5\u504f\u79fb\u91cf\u3002\n-\n-\u6839\u636e\u4f60\u7684\u7528\u4f8b\u548c\u73af\u5883\u9009\u62e9\u76f8\u5e94\u7684\u5305\uff08maven artifact id\uff09\u548c\u7c7b\u540d\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u6765\u8bf4\uff0c\u4f7f\u7528 `FlinkKafkaConsumer`\uff08 `flink-connector-kafka` \u7684\u4e00\u90e8\u5206\uff09\u662f\u6bd4\u8f83\u5408\u9002\u7684\u3002\n-\n-<table class=\"table table-bordered\">\n-  <thead>\n-    <tr>\n-      <th class=\"text-left\">Maven \u4f9d\u8d56</th>\n-      <th class=\"text-left\">\u81ea\u4ece\u54ea\u4e2a\u7248\u672c<br>\u5f00\u59cb\u652f\u6301</th>\n-      <th class=\"text-left\">\u6d88\u8d39\u8005\u548c<br>\u751f\u4ea7\u8005\u7684\u7c7b\u540d\u79f0</th>\n-      <th class=\"text-left\">Kafka \u7248\u672c</th>\n-      <th class=\"text-left\">\u6ce8\u610f</th>\n-    </tr>\n-  </thead>\n-  <tbody>\n-    <tr>\n-        <td>flink-connector-kafka{{ site.scala_version_suffix }}</td>\n-        <td>1.7.0</td>\n-        <td>FlinkKafkaConsumer<br>\n-        FlinkKafkaProducer</td>\n-        <td>>= 1.0.0</td>\n-        <td>\n-        \u8fd9\u4e2a\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002\u4ece Flink 1.9 \u7248\u672c\u5f00\u59cb\uff0c\u5b83\u4f7f\u7528 Kafka 2.2.0 client\u3002\u5f53\u524d Kafka \u5ba2\u6237\u7aef\u5411\u540e\u517c\u5bb9 0.10.0 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Kafka broker\u3002\n-        \u4f46\u662f\u5bf9\u4e8e Kafka 0.11.x \u548c 0.10.x \u7248\u672c\uff0c\u6211\u4eec\u5efa\u8bae\u4f60\u5206\u522b\u4f7f\u7528\u4e13\u7528\u7684 flink-connector-kafka-0.11{{ site.scala_version_suffix }} \u548c flink-connector-kafka-0.10{{ site.scala_version_suffix }} \u8fde\u63a5\u5668\u3002\n-        </td>\n-    </tr>\n-  </tbody>\n-</table>\n-\n-\u63a5\u7740\uff0c\u5728\u4f60\u7684 maven \u9879\u76ee\u4e2d\u5bfc\u5165\u8fde\u63a5\u5668\uff1a\n-\n-{% highlight xml %}\n-<dependency>\n-  <groupId>org.apache.flink</groupId>\n-  <artifactId>flink-connector-kafka{{ site.scala_version_suffix }}</artifactId>\n-  <version>{{ site.version }}</version>\n-</dependency>\n-{% endhighlight %}\n-\n-\u8bf7\u6ce8\u610f\uff1a\u76ee\u524d\u6d41\u8fde\u63a5\u5668\u8fd8\u4e0d\u662f\u4e8c\u8fdb\u5236\u5206\u53d1\u7684\u4e00\u90e8\u5206\u3002\n-[\u5728\u6b64\u5904]({{ site.baseurl }}/zh/dev/project-configuration.html)\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u94fe\u63a5\u5b83\u4eec\u4ee5\u5b9e\u73b0\u5728\u96c6\u7fa4\u4e2d\u6267\u884c\u3002\n-\n-## \u5b89\u88c5 Apache Kafka\n-\n-* \u6309\u7167 [ Kafka \u5feb\u901f\u5165\u95e8](https://kafka.apache.org/documentation.html#quickstart)\u7684\u8bf4\u660e\u4e0b\u8f7d\u4ee3\u7801\u5e76\u542f\u52a8 Kafka \u670d\u52a1\u5668\uff08\u6bcf\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\u90fd\u9700\u8981\u542f\u52a8 Zookeeper \u548c Kafka server\uff09\u3002\n-* \u5982\u679c Kafka \u548c Zookeeper \u670d\u52a1\u5668\u8fd0\u884c\u5728\u8fdc\u7aef\u673a\u5668\u4e0a\uff0c\u90a3\u4e48\u5fc5\u987b\u8981\u5c06 `config/server.properties` \u6587\u4ef6\u4e2d\u7684 `advertised.host.name`\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u8fdc\u7aef\u8bbe\u5907\u7684 IP \u5730\u5740\u3002\n-\n-## Kafka 1.0.0+ \u8fde\u63a5\u5668\n-\n-\u4ece Flink 1.7 \u5f00\u59cb\uff0c\u6709\u4e00\u4e2a\u65b0\u7684\u901a\u7528 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4e0d\u8ddf\u8e2a\u7279\u5b9a\u7684 Kafka \u4e3b\u7248\u672c\u3002\u76f8\u53cd\uff0c\u5b83\u662f\u5728 Flink \u53d1\u5e03\u65f6\u8ddf\u8e2a\u6700\u65b0\u7248\u672c\u7684 Kafka\u3002\n-\u5982\u679c\u4f60\u7684 Kafka broker \u7248\u672c\u662f 1.0.0 \u6216 \u66f4\u65b0\u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u8fd9\u4e2a Kafka \u8fde\u63a5\u5668\u3002\n-\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Kafka \u7684\u65e7\u7248\u672c( 0.11 \u6216 0.10 )\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u4f7f\u7528\u4e0e Kafka broker \u7248\u672c\u76f8\u5bf9\u5e94\u7684\u8fde\u63a5\u5668\u3002\n-\n-### \u517c\u5bb9\u6027\n-\n-\u901a\u8fc7 Kafka client API \u548c broker \u7684\u517c\u5bb9\u6027\u4fdd\u8bc1\uff0c\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\u517c\u5bb9\u8f83\u65e7\u548c\u8f83\u65b0\u7684 Kafka broker\u3002\n-\u5b83\u517c\u5bb9 Kafka broker 0.11.0 \u6216\u8005\u66f4\u9ad8\u7248\u672c\uff0c\u5177\u4f53\u517c\u5bb9\u6027\u53d6\u51b3\u4e8e\u6240\u4f7f\u7528\u7684\u529f\u80fd\u3002\u6709\u5173 Kafka \u517c\u5bb9\u6027\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 [Kafka \u6587\u6863](https://kafka.apache.org/protocol.html#protocol_compatibility)\u3002\n-\n-### \u5c06 Kafka Connector \u4ece 0.11 \u8fc1\u79fb\u5230\u901a\u7528\u7248\u672c\n+## \u4f9d\u8d56\n \n-\u4ee5\u4fbf\u6267\u884c\u8fc1\u79fb\uff0c\u8bf7\u53c2\u8003 [\u5347\u7ea7 Jobs \u548c Flink \u7248\u672c\u6307\u5357]({{ site.baseurl }}/zh/ops/upgrading.html)\uff1a\n-* \u5728\u5168\u7a0b\u4e2d\u4f7f\u7528 Flink 1.9 \u6216\u66f4\u65b0\u7248\u672c\u3002\n-* \u4e0d\u8981\u540c\u65f6\u5347\u7ea7 Flink \u548c Operator\u3002\n-* \u786e\u4fdd\u4f60\u7684 Job \u4e2d\u6240\u4f7f\u7528\u7684 Kafka Consumer \u548c Kafka Producer \u5206\u914d\u4e86\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08uid\uff09\u3002\n-* \u4f7f\u7528 stop with savepoint \u7684\u7279\u6027\u6765\u6267\u884c savepoint\uff08\u4f8b\u5982\uff0c\u4f7f\u7528 `stop --withSavepoint`\uff09[CLI \u547d\u4ee4]({{ site.baseurl }}/zh/ops/cli.html)\u3002\n-\n-### \u7528\u6cd5\n-\n-\u8981\u4f7f\u7528\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u8bf7\u4e3a\u5b83\u6dfb\u52a0\u4f9d\u8d56\u5173\u7cfb\uff1a\n+Apache Flink \u96c6\u6210\u4e86\u901a\u7528\u7684 Kafka \u8fde\u63a5\u5668\uff0c\u5b83\u4f1a\u5c3d\u529b\u4e0e Kafka client \u7684\u6700\u65b0\u7248\u672c\u4fdd\u6301\u540c\u6b65\u3002\n+\u8be5\u8fde\u63a5\u5668\u4f7f\u7528\u7684 Kafka client \u7248\u672c\u53ef\u80fd\u4f1a\u5728 Flink \u7248\u672c\u4e4b\u95f4\u53d1\u751f\u53d8\u5316\u3002\n+\u5f53\u524d Kafka client \u5411\u540e\u517c\u5bb9 0.10.0 \u6216\u66f4\u9ad8\u7248\u672c\u7684 Kafka broker\u3002\n+\u6709\u5173 Kafka \u517c\u5bb9\u6027\u7684\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u8003  [Kafka \u5b98\u65b9\u6587\u6863](https://kafka.apache.org/protocol.html#protocol_compatibility)\u3002\n \n+<div class=\"codetabs\" markdown=\"1\">\n+<div data-lang=\"universal\" markdown=\"1\">\n {% highlight xml %}\n <dependency>\n-  <groupId>org.apache.flink</groupId>\n-  <artifactId>flink-connector-kafka{{ site.scala_version_suffix }}</artifactId>\n-  <version>{{ site.version }}</version>\n+\t<groupId>org.apache.flink</groupId>\n+\t<artifactId>flink-connector-kafka{{ site.scala_version_suffix }}</artifactId>\n+\t<version>{{ site.version }}</version>\n </dependency>\n-{% endhighlight %}\n+{% endhighlight %} \n+</div>\n+</div>\n \n-\u7136\u540e\uff0c\u5b9e\u4f8b\u5316 source\uff08 `FlinkKafkaConsumer`\uff09\u548c sink\uff08 `FlinkKafkaProducer`\uff09\u3002\u9664\u4e86\u4ece\u6a21\u5757\u548c\u7c7b\u540d\u4e2d\u5220\u9664\u4e86\u7279\u5b9a\u7684 Kafka \u7248\u672c\u5916\uff0c\u8fd9\u4e2a API \u5411\u540e\u517c\u5bb9 Kafka 0.11 \u7248\u672c\u7684 connector\u3002\n+Flink \u76ee\u524d\u7684\u6d41\u8fde\u63a5\u5668\u8fd8\u4e0d\u662f\u4e8c\u8fdb\u5236\u53d1\u884c\u7248\u7684\u4e00\u90e8\u5206\u3002\n+[\u5728\u6b64\u5904]({{ site.baseurl }}/zh/dev/project-configuration.html)\u53ef\u4ee5\u4e86\u89e3\u5230\u5982\u4f55\u94fe\u63a5\u5b83\u4eec\u4ee5\u5b9e\u73b0\u5728\u96c6\u7fa4\u4e2d\u6267\u884c\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NTExNQ==", "bodyText": "\u201c\u4e3a\u6bcf\u6761 Kafka \u6d88\u606f\u8c03\u7528 T deserialize(ConsumerRecord<byte[], byte[]> record) \u65b9\u6cd5\uff0c\u4f20\u9012\u6765\u81ea Kafka \u7684\u503c\u201d \u8fd9\u91cc\u5982\u679c\u6539\u6210 \u201c\u6bcf\u6761 Kafka \u4e2d\u7684\u6d88\u606f\u4f1a\u8c03\u7528 T deserialize(ConsumerRecord<byte[], byte[]> record) \u53cd\u5e8f\u5217\u5316\u201d \u8fd9\u6837\u4f1a\u597d\u4e00\u4e9b\u5417\uff1f", "url": "https://github.com/apache/flink/pull/13410#discussion_r495575115", "createdAt": "2020-09-27T13:49:42Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -120,38 +62,30 @@ Flink \u7684 Kafka consumer \u79f0\u4e3a `FlinkKafkaConsumer`\u3002\u5b83\u63d0\u4f9b\u5bf9\u4e00\u4e2a\u6216\u591a\n   - \"bootstrap.servers\"\uff08\u4ee5\u9017\u53f7\u5206\u9694\u7684 Kafka broker \u5217\u8868\uff09\n   - \"group.id\" \u6d88\u8d39\u7ec4 ID\n \n-\u793a\u4f8b\uff1a\n-\n <div class=\"codetabs\" markdown=\"1\">\n <div data-lang=\"java\" markdown=\"1\">\n {% highlight java %}\n Properties properties = new Properties();\n properties.setProperty(\"bootstrap.servers\", \"localhost:9092\");\n properties.setProperty(\"group.id\", \"test\");\n DataStream<String> stream = env\n-  .addSource(new FlinkKafkaConsumer<>(\"topic\", new SimpleStringSchema(), properties));\n+    .addSource(new FlinkKafkaConsumer<>(\"topic\", new SimpleStringSchema(), properties));\n {% endhighlight %}\n </div>\n <div data-lang=\"scala\" markdown=\"1\">\n {% highlight scala %}\n val properties = new Properties()\n properties.setProperty(\"bootstrap.servers\", \"localhost:9092\")\n properties.setProperty(\"group.id\", \"test\")\n-stream = env\n+val stream = env\n     .addSource(new FlinkKafkaConsumer[String](\"topic\", new SimpleStringSchema(), properties))\n-    .print()\n {% endhighlight %}\n </div>\n </div>\n \n ### `DeserializationSchema`\n \n-Flink Kafka Consumer \u9700\u8981\u77e5\u9053\u5982\u4f55\u5c06 Kafka \u4e2d\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a Java \u6216\u8005 Scala \u5bf9\u8c61\u3002`DeserializationSchema` \u5141\u8bb8\u7528\u6237\u6307\u5b9a\u8fd9\u6837\u7684 schema\uff0c\u4e3a\u6bcf\u6761 Kafka \u6d88\u606f\u8c03\u7528 `T deserialize(byte[] message)` \u65b9\u6cd5\uff0c\u4f20\u9012\u6765\u81ea Kafka \u7684\u503c\u3002\n-\n-\u4ece `AbstractDeserializationSchema` \u5f00\u59cb\u901a\u5e38\u5f88\u6709\u5e2e\u52a9\uff0c\u5b83\u8d1f\u8d23\u5c06\u751f\u6210\u7684 Java \u6216 Scala \u7c7b\u578b\u63cf\u8ff0\u4e3a Flink \u7684\u7c7b\u578b\u7cfb\u7edf\u3002\n-\u7528\u6237\u5982\u679c\u8981\u81ea\u5df1\u53bb\u5b9e\u73b0\u4e00\u4e2a`DeserializationSchema`\uff0c\u9700\u8981\u81ea\u5df1\u53bb\u5b9e\u73b0 `getProducedType(...)`\u65b9\u6cd5\u3002\n-\n-\u4e3a\u4e86\u8bbf\u95ee Kafka \u6d88\u606f\u7684 key\u3001value \u548c\u5143\u6570\u636e\uff0c`KafkaDeserializationSchema` \u5177\u6709\u4ee5\u4e0b\u53cd\u5e8f\u5217\u5316\u65b9\u6cd5 `T deserialize(ConsumerRecord<byte[], byte[]> record)`\u3002\n+Flink Kafka Consumer \u9700\u8981\u77e5\u9053\u5982\u4f55\u5c06 Kafka \u4e2d\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u8f6c\u6362\u4e3a Java \u6216\u8005 Scala \u5bf9\u8c61\u3002`KafkaDeserializationSchema` \u5141\u8bb8\u7528\u6237\u6307\u5b9a\u8fd9\u6837\u7684 schema\uff0c\u4e3a\u6bcf\u6761 Kafka \u6d88\u606f\u8c03\u7528 `T deserialize(ConsumerRecord<byte[], byte[]> record)` \u65b9\u6cd5\uff0c\u4f20\u9012\u6765\u81ea Kafka \u7684\u503c\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 146}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NTQ1Nw==", "bodyText": "1 \u8981\u4f7f\u7528\u5bb9\u9519\u7684 Kafka Consumer \u8fd9\u91cc\u80fd\u5426\u4f18\u5316\u4e0b\u5462\uff0c\u8bfb\u8d77\u6765\u6709\u70b9\u62d7\u53e3\n2 \u94fe\u63a5\u5efa\u8bae\u4f7f\u7528 {% link %} \u7684\u5f62\u5f0f", "url": "https://github.com/apache/flink/pull/13410#discussion_r495575457", "createdAt": "2020-09-27T13:52:36Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -273,24 +205,7 @@ myConsumer.setStartFromSpecificOffsets(specificStartOffsets)\n \n \u56e0\u6b64\uff0c\u8bbe\u7f6e checkpoint \u7684\u95f4\u9694\u5b9a\u4e49\u4e86\u7a0b\u5e8f\u5728\u53d1\u751f\u6545\u969c\u65f6\u6700\u591a\u9700\u8981\u8fd4\u56de\u591a\u5c11\u3002\n \n-\u8981\u4f7f\u7528\u5bb9\u9519\u7684 Kafka Consumer\uff0c\u9700\u8981\u5728\u6267\u884c\u73af\u5883\u4e2d\u542f\u7528\u62d3\u6251\u7684 checkpointing\u3002\n-\n-<div class=\"codetabs\" markdown=\"1\">\n-<div data-lang=\"java\" markdown=\"1\">\n-{% highlight java %}\n-final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n-env.enableCheckpointing(5000); // \u6bcf\u9694 5000 \u6beb\u79d2 \u6267\u884c\u4e00\u6b21 checkpoint\n-{% endhighlight %}\n-</div>\n-<div data-lang=\"scala\" markdown=\"1\">\n-{% highlight scala %}\n-val env = StreamExecutionEnvironment.getExecutionEnvironment()\n-env.enableCheckpointing(5000) // \u6bcf\u9694 5000 \u6beb\u79d2 \u6267\u884c\u4e00\u6b21 checkpoint\n-{% endhighlight %}\n-</div>\n-</div>\n-\n-\u53e6\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709\u5f53\u53ef\u7528\u7684 slots \u8db3\u591f\u65f6\uff0cFlink \u624d\u80fd\u91cd\u65b0\u542f\u52a8\u3002\u56e0\u6b64\uff0c\u5982\u679c\u62d3\u6251\u7531\u4e8e\u4e22\u5931\u4e86 TaskManager \u800c\u5931\u8d25\uff0c\u90a3\u4e48\u4e4b\u540e\u5fc5\u987b\u8981\u4e00\u76f4\u6709\u8db3\u591f\u53ef\u7528\u7684 solt\u3002Flink on YARN \u652f\u6301\u81ea\u52a8\u91cd\u542f\u4e22\u5931\u7684 YARN \u5bb9\u5668\u3002\n+\u8981\u4f7f\u7528\u5bb9\u9519\u7684 Kafka Consumer\uff0c\u9700\u8981\u5728 [\u6267\u884c\u73af\u5883]({{ site.baseurl }}/ops/config.html#execution-checkpointing-interval) \u4e2d\u542f\u7528\u62d3\u6251\u7684 checkpointing\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NTkxNw==", "bodyText": "\u94fe\u63a5\u6362\u6210 {% link %} \u7684\u5f62\u5f0f", "url": "https://github.com/apache/flink/pull/13410#discussion_r495575917", "createdAt": "2020-09-27T13:57:29Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -391,38 +304,44 @@ val properties = new Properties()\n properties.setProperty(\"bootstrap.servers\", \"localhost:9092\")\n properties.setProperty(\"group.id\", \"test\")\n \n-val myConsumer = new FlinkKafkaConsumer[String](\"topic\", new SimpleStringSchema(), properties)\n-myConsumer.assignTimestampsAndWatermarks(new CustomWatermarkEmitter())\n-stream = env\n-    .addSource(myConsumer)\n-    .print()\n+val myConsumer =\n+    new FlinkKafkaConsumer(\"topic\", new SimpleStringSchema(), properties);\n+myConsumer.assignTimestampsAndWatermarks(\n+    WatermarkStrategy.\n+        .forBoundedOutOfOrderness(Duration.ofSeconds(20)))\n+\n+val stream = env.addSource(myConsumer)\n {% endhighlight %}\n </div>\n </div>\n \n-\u5728\u5185\u90e8\uff0c\u6bcf\u4e2a Kafka \u5206\u533a\u6267\u884c\u4e00\u4e2a assigner \u5b9e\u4f8b\u3002\u5f53\u6307\u5b9a\u4e86\u8fd9\u6837\u7684 assigner \u65f6\uff0c\u5bf9\u4e8e\u4ece Kafka \u8bfb\u53d6\u7684\u6bcf\u6761\u6d88\u606f\uff0c\u8c03\u7528 `extractTimestamp(T element, long previousElementTimestamp)` \u6765\u4e3a\u8bb0\u5f55\u5206\u914d\u65f6\u95f4\u6233\uff0c\u5e76\u4e3a `Watermark getCurrentWatermark()`\uff08\u5b9a\u671f\u5f62\u5f0f\uff09\u6216 `Watermark checkAndGetNextWatermark(T lastElement, long extractedTimestamp)`\uff08\u6253\u70b9\u5f62\u5f0f\uff09\u4ee5\u786e\u5b9a\u662f\u5426\u5e94\u8be5\u53d1\u51fa\u65b0\u7684 watermark \u4ee5\u53ca\u4f7f\u7528\u54ea\u4e2a\u65f6\u95f4\u6233\u3002\n-\n-**\u8bf7\u6ce8\u610f**\uff1a\u5982\u679c watermark assigner \u4f9d\u8d56\u4e8e\u4ece Kafka \u8bfb\u53d6\u7684\u6d88\u606f\u6765\u4e0a\u6da8\u5176 watermark (\u901a\u5e38\u5c31\u662f\u8fd9\u79cd\u60c5\u51b5)\uff0c\u90a3\u4e48\u6240\u6709\u4e3b\u9898\u548c\u5206\u533a\u90fd\u9700\u8981\u6709\u8fde\u7eed\u7684\u6d88\u606f\u6d41\u3002\u5426\u5219\uff0c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684 watermark \u5c06\u65e0\u6cd5\u4e0a\u6da8\uff0c\u6240\u6709\u57fa\u4e8e\u65f6\u95f4\u7684\u7b97\u5b50(\u4f8b\u5982\u65f6\u95f4\u7a97\u53e3\u6216\u5e26\u6709\u8ba1\u65f6\u5668\u7684\u51fd\u6570)\u4e5f\u65e0\u6cd5\u8fd0\u884c\u3002\u5355\u4e2a\u7684 Kafka \u5206\u533a\u4e5f\u4f1a\u5bfc\u81f4\u8fd9\u79cd\u53cd\u5e94\u3002\u8fd9\u662f\u4e00\u4e2a\u5df2\u5728\u8ba1\u5212\u4e2d\u7684 Flink \u6539\u8fdb\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\uff08\u8bf7\u89c1[FLINK-5479: Per-partition watermarks in FlinkKafkaConsumer should consider idle partitions](https://issues.apache.org/jira/browse/FLINK-5479)\uff09\u3002\u540c\u65f6\uff0c\u53ef\u80fd\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06*\u5fc3\u8df3\u6d88\u606f*\u53d1\u9001\u5230\u6240\u6709 consumer \u7684\u5206\u533a\u91cc\uff0c\u4ece\u800c\u4e0a\u6da8\u7a7a\u95f2\u5206\u533a\u7684 watermark\u3002\n+**\u8bf7\u6ce8\u610f**\uff1a\u5982\u679c watermark assigner \u4f9d\u8d56\u4e8e\u4ece Kafka \u8bfb\u53d6\u7684\u6d88\u606f\u6765\u4e0a\u6da8\u5176 watermark \uff08\u901a\u5e38\u5c31\u662f\u8fd9\u79cd\u60c5\u51b5\uff09\uff0c\u90a3\u4e48\u6240\u6709\u4e3b\u9898\u548c\u5206\u533a\u90fd\u9700\u8981\u6709\u8fde\u7eed\u7684\u6d88\u606f\u6d41\u3002\u5426\u5219\uff0c\u6574\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684 watermark \u5c06\u65e0\u6cd5\u4e0a\u6da8\uff0c\u6240\u6709\u57fa\u4e8e\u65f6\u95f4\u7684\u7b97\u5b50\uff08\u4f8b\u5982\u65f6\u95f4\u7a97\u53e3\u6216\u5e26\u6709\u8ba1\u65f6\u5668\u7684\u51fd\u6570\uff09\u4e5f\u65e0\u6cd5\u8fd0\u884c\u3002\u5355\u4e2a\u7684 Kafka \u5206\u533a\u4e5f\u4f1a\u5bfc\u81f4\u8fd9\u79cd\u53cd\u5e94\u3002\u8003\u8651\u8bbe\u7f6e\u9002\u5f53\u7684 [idelness timeouts]({{ site.baseurl }}/dev/event_timestamps_watermarks.html#dealing-with-idle-sources) \u6765\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 258}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NjQzNA==", "bodyText": "\u65e2\u7136\u66f4\u50cf\u8fd9\u4e2a\u6587\u6863\u4e86\uff0c\u4e5f\u6309\u7167 wiki \u7684\u65b9\u5f0f\uff0c\u7ed9\u6240\u6709\u6807\u9898\u6dfb\u52a0\u4e00\u4e0b  \u6807\u7b7e\u5427\uff0c\u53ef\u4ee5\u4eff\u7167\u82f1\u6587\u7248\u7684 url \u8fdb\u884c\u6dfb\u52a0", "url": "https://github.com/apache/flink/pull/13410#discussion_r495576434", "createdAt": "2020-09-27T14:02:53Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -302,8 +217,6 @@ Flink Kafka Consumer \u652f\u6301\u53d1\u73b0\u52a8\u6001\u521b\u5efa\u7684 Kafka \u5206\u533a\uff0c\u5e76\u4f7f\u7528\u7cbe\u51c6\n \n \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u662f\u7981\u7528\u4e86\u5206\u533a\u53d1\u73b0\u7684\u3002\u82e5\u8981\u542f\u7528\u5b83\uff0c\u8bf7\u5728\u63d0\u4f9b\u7684\u5c5e\u6027\u914d\u7f6e\u4e2d\u4e3a `flink.partition-discovery.interval-millis` \u8bbe\u7f6e\u5927\u4e8e 0 \u7684\u503c\uff0c\u8868\u793a\u53d1\u73b0\u5206\u533a\u7684\u95f4\u9694\u662f\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u7684\u3002\n \n-<span class=\"label label-danger\">\u5c40\u9650\u6027</span> \u5f53\u4ece Flink 1.3.x \u4e4b\u524d\u7684 Flink \u7248\u672c\u7684 savepoint \u6062\u590d consumer \u65f6\uff0c\u5206\u533a\u53d1\u73b0\u65e0\u6cd5\u5728\u6062\u590d\u8fd0\u884c\u65f6\u542f\u7528\u3002\u5982\u679c\u542f\u7528\u4e86\uff0c\u90a3\u4e48\u8fd8\u539f\u5c06\u4f1a\u5931\u8d25\u5e76\u4e14\u51fa\u73b0\u5f02\u5e38\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e3a\u4e86\u4f7f\u7528\u5206\u533a\u53d1\u73b0\uff0c\u8bf7\u9996\u5148\u5728 Flink 1.3.x \u4e2d\u4f7f\u7528 savepoint\uff0c\u7136\u540e\u518d\u4ece savepoint \u4e2d\u6062\u590d\u3002\n-\n #### Topic \u53d1\u73b0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3NjQ5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u7528\u6237\u53ef\u4ee5\u5bf9\u5982\u4f55\u5c06\u6570\u636e\u5199\u5230Kafka\u8fdb\u884c\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 producer record\uff1a\n          \n          \n            \n            \u7528\u6237\u53ef\u4ee5\u5bf9\u5982\u4f55\u5c06\u6570\u636e\u5199\u5230 Kafka \u8fdb\u884c\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 producer record\uff1a", "url": "https://github.com/apache/flink/pull/13410#discussion_r495576494", "createdAt": "2020-09-27T14:03:25Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -431,39 +350,42 @@ stream.addSink(myProducer);\n {% highlight scala %}\n val stream: DataStream[String] = ...\n \n+Properties properties = new Properties\n+properties.setProperty(\"bootstrap.servers\", \"localhost:9092\")\n+\n val myProducer = new FlinkKafkaProducer[String](\n-        \"localhost:9092\",         // broker \u5217\u8868\n         \"my-topic\",               // \u76ee\u6807 topic\n-        new SimpleStringSchema)   // \u5e8f\u5217\u5316 schema\n-\n-// 0.10+ \u7248\u672c\u7684 Kafka \u5141\u8bb8\u5728\u5c06\u8bb0\u5f55\u5199\u5165 Kafka \u65f6\u9644\u52a0\u8bb0\u5f55\u7684\u4e8b\u4ef6\u65f6\u95f4\u6233\uff1b\n-// \u6b64\u65b9\u6cd5\u4e0d\u9002\u7528\u4e8e\u65e9\u671f\u7248\u672c\u7684 Kafka\n-myProducer.setWriteTimestampToKafka(true)\n+        new SimpleStringSchema(), // \u5e8f\u5217\u5316 schema\n+        properties,               // producer \u914d\u7f6e\n+        FlinkKafkaProducer.Semantic.EXACTLY_ONCE) // \u5bb9\u9519\n \n stream.addSink(myProducer)\n {% endhighlight %}\n </div>\n </div>\n \n-\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u521b\u5efa Flink Kafka Producer \u6765\u5c06\u6d41\u6d88\u606f\u5199\u5165\u5355\u4e2a Kafka \u76ee\u6807 topic \u7684\u57fa\u672c\u7528\u6cd5\u3002\n-\u5bf9\u4e8e\u66f4\u9ad8\u7ea7\u7684\u7528\u6cd5\uff0c\u8fd9\u8fd8\u6709\u5176\u4ed6\u6784\u9020\u51fd\u6570\u53d8\u4f53\u5141\u8bb8\u63d0\u4f9b\u4ee5\u4e0b\u5185\u5bb9\uff1a\n+## `SerializationSchema`\n \n- * *\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027*\uff1aproducer \u5141\u8bb8\u4e3a\u5185\u90e8 `KafkaProducer` \u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027\u914d\u7f6e\u3002\u6709\u5173\u5982\u4f55\u914d\u7f6e Kafka Producer \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605  [Apache Kafka \u6587\u6863](https://kafka.apache.org/documentation.html)\u3002\n- * *\u81ea\u5b9a\u4e49\u5206\u533a\u5668*\uff1a\u8981\u5c06\u6d88\u606f\u5206\u914d\u7ed9\u7279\u5b9a\u7684\u5206\u533a\uff0c\u53ef\u4ee5\u5411\u6784\u9020\u51fd\u6570\u63d0\u4f9b\u4e00\u4e2a `FlinkKafkaPartitioner` \u7684\u5b9e\u73b0\u3002\u8fd9\u4e2a\u5206\u533a\u5668\u5c06\u88ab\u6d41\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\u8c03\u7528\uff0c\u4ee5\u786e\u5b9a\u6d88\u606f\u5e94\u8be5\u53d1\u9001\u5230\u76ee\u6807 topic \u7684\u54ea\u4e2a\u5177\u4f53\u5206\u533a\u91cc\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 [Kafka Producer \u5206\u533a\u65b9\u6848](#kafka-producer-\u5206\u533a\u65b9\u6848)\u3002\n- * *\u9ad8\u7ea7\u7684\u5e8f\u5217\u5316 schema*\uff1a\u4e0e consumer \u7c7b\u4f3c\uff0cproducer \u8fd8\u5141\u8bb8\u4f7f\u7528\u540d\u4e3a `KeyedSerializationSchema` \u7684\u9ad8\u7ea7\u5e8f\u5217\u5316 schema\uff0c\u8be5 schema \u5141\u8bb8\u5355\u72ec\u5e8f\u5217\u5316 key \u548c value\u3002\u5b83\u8fd8\u5141\u8bb8\u8986\u76d6\u76ee\u6807 topic\uff0c\u4ee5\u4fbf producer \u5b9e\u4f8b\u53ef\u4ee5\u5c06\u6570\u636e\u53d1\u9001\u5230\u591a\u4e2a topic\u3002\n+Flink Kafka Producer \u9700\u8981\u77e5\u9053\u5982\u4f55\u5c06 Java/Scala \u5bf9\u8c61\u8f6c\u5316\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\u3002\n \n-### Kafka Producer \u5206\u533a\u65b9\u6848\n+`KafkaSerializationSchema` \u5141\u8bb8\u7528\u6237\u6307\u5b9a\u8fd9\u6837\u7684 schema\u3002\u5b83\u4f1a\u4e3a\u6bcf\u4e2a\u8bb0\u5f55\u8c03\u7528 `ProducerRecord<byte[], byte[]> serialize(T element, @Nullable Long timestamp)` \u65b9\u6cd5\uff0c\u4ea7\u751f\u4e00\u4e2a\u5199\u5165\u5230 Kafka \u7684 `ProducerRecord`\u3002\n \n-\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u4e3a Flink Kafka Producer \u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u5219 producer \u5c06\u4f7f\u7528 `FlinkFixedPartitioner` \u4e3a\u6bcf\u4e2a Flink Kafka Producer \u5e76\u884c\u5b50\u4efb\u52a1\u6620\u5c04\u5230\u5355\u4e2a Kafka \u5206\u533a\uff08\u5373\uff0c\u63a5\u6536\u5b50\u4efb\u52a1\u63a5\u6536\u5230\u7684\u6240\u6709\u6d88\u606f\u90fd\u5c06\u4f4d\u4e8e\u540c\u4e00\u4e2a Kafka \u5206\u533a\u4e2d\uff09\u3002\n+\u7528\u6237\u53ef\u4ee5\u5bf9\u5982\u4f55\u5c06\u6570\u636e\u5199\u5230Kafka\u8fdb\u884c\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 producer record\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 332}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3Njc0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \u542f\u7528 Flink \u7684checkpointing \u540e\uff0c`FlinkKafkaProducer` \u53ef\u4ee5\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u8bed\u4e49\u4fdd\u8bc1\u3002\n          \n          \n            \n            \u542f\u7528 Flink \u7684 checkpointing \u540e\uff0c`FlinkKafkaProducer` \u53ef\u4ee5\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u8bed\u4e49\u4fdd\u8bc1\u3002", "url": "https://github.com/apache/flink/pull/13410#discussion_r495576746", "createdAt": "2020-09-27T14:06:05Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -431,39 +350,42 @@ stream.addSink(myProducer);\n {% highlight scala %}\n val stream: DataStream[String] = ...\n \n+Properties properties = new Properties\n+properties.setProperty(\"bootstrap.servers\", \"localhost:9092\")\n+\n val myProducer = new FlinkKafkaProducer[String](\n-        \"localhost:9092\",         // broker \u5217\u8868\n         \"my-topic\",               // \u76ee\u6807 topic\n-        new SimpleStringSchema)   // \u5e8f\u5217\u5316 schema\n-\n-// 0.10+ \u7248\u672c\u7684 Kafka \u5141\u8bb8\u5728\u5c06\u8bb0\u5f55\u5199\u5165 Kafka \u65f6\u9644\u52a0\u8bb0\u5f55\u7684\u4e8b\u4ef6\u65f6\u95f4\u6233\uff1b\n-// \u6b64\u65b9\u6cd5\u4e0d\u9002\u7528\u4e8e\u65e9\u671f\u7248\u672c\u7684 Kafka\n-myProducer.setWriteTimestampToKafka(true)\n+        new SimpleStringSchema(), // \u5e8f\u5217\u5316 schema\n+        properties,               // producer \u914d\u7f6e\n+        FlinkKafkaProducer.Semantic.EXACTLY_ONCE) // \u5bb9\u9519\n \n stream.addSink(myProducer)\n {% endhighlight %}\n </div>\n </div>\n \n-\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u521b\u5efa Flink Kafka Producer \u6765\u5c06\u6d41\u6d88\u606f\u5199\u5165\u5355\u4e2a Kafka \u76ee\u6807 topic \u7684\u57fa\u672c\u7528\u6cd5\u3002\n-\u5bf9\u4e8e\u66f4\u9ad8\u7ea7\u7684\u7528\u6cd5\uff0c\u8fd9\u8fd8\u6709\u5176\u4ed6\u6784\u9020\u51fd\u6570\u53d8\u4f53\u5141\u8bb8\u63d0\u4f9b\u4ee5\u4e0b\u5185\u5bb9\uff1a\n+## `SerializationSchema`\n \n- * *\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027*\uff1aproducer \u5141\u8bb8\u4e3a\u5185\u90e8 `KafkaProducer` \u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027\u914d\u7f6e\u3002\u6709\u5173\u5982\u4f55\u914d\u7f6e Kafka Producer \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605  [Apache Kafka \u6587\u6863](https://kafka.apache.org/documentation.html)\u3002\n- * *\u81ea\u5b9a\u4e49\u5206\u533a\u5668*\uff1a\u8981\u5c06\u6d88\u606f\u5206\u914d\u7ed9\u7279\u5b9a\u7684\u5206\u533a\uff0c\u53ef\u4ee5\u5411\u6784\u9020\u51fd\u6570\u63d0\u4f9b\u4e00\u4e2a `FlinkKafkaPartitioner` \u7684\u5b9e\u73b0\u3002\u8fd9\u4e2a\u5206\u533a\u5668\u5c06\u88ab\u6d41\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\u8c03\u7528\uff0c\u4ee5\u786e\u5b9a\u6d88\u606f\u5e94\u8be5\u53d1\u9001\u5230\u76ee\u6807 topic \u7684\u54ea\u4e2a\u5177\u4f53\u5206\u533a\u91cc\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 [Kafka Producer \u5206\u533a\u65b9\u6848](#kafka-producer-\u5206\u533a\u65b9\u6848)\u3002\n- * *\u9ad8\u7ea7\u7684\u5e8f\u5217\u5316 schema*\uff1a\u4e0e consumer \u7c7b\u4f3c\uff0cproducer \u8fd8\u5141\u8bb8\u4f7f\u7528\u540d\u4e3a `KeyedSerializationSchema` \u7684\u9ad8\u7ea7\u5e8f\u5217\u5316 schema\uff0c\u8be5 schema \u5141\u8bb8\u5355\u72ec\u5e8f\u5217\u5316 key \u548c value\u3002\u5b83\u8fd8\u5141\u8bb8\u8986\u76d6\u76ee\u6807 topic\uff0c\u4ee5\u4fbf producer \u5b9e\u4f8b\u53ef\u4ee5\u5c06\u6570\u636e\u53d1\u9001\u5230\u591a\u4e2a topic\u3002\n+Flink Kafka Producer \u9700\u8981\u77e5\u9053\u5982\u4f55\u5c06 Java/Scala \u5bf9\u8c61\u8f6c\u5316\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\u3002\n \n-### Kafka Producer \u5206\u533a\u65b9\u6848\n+`KafkaSerializationSchema` \u5141\u8bb8\u7528\u6237\u6307\u5b9a\u8fd9\u6837\u7684 schema\u3002\u5b83\u4f1a\u4e3a\u6bcf\u4e2a\u8bb0\u5f55\u8c03\u7528 `ProducerRecord<byte[], byte[]> serialize(T element, @Nullable Long timestamp)` \u65b9\u6cd5\uff0c\u4ea7\u751f\u4e00\u4e2a\u5199\u5165\u5230 Kafka \u7684 `ProducerRecord`\u3002\n \n-\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u4e3a Flink Kafka Producer \u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u5219 producer \u5c06\u4f7f\u7528 `FlinkFixedPartitioner` \u4e3a\u6bcf\u4e2a Flink Kafka Producer \u5e76\u884c\u5b50\u4efb\u52a1\u6620\u5c04\u5230\u5355\u4e2a Kafka \u5206\u533a\uff08\u5373\uff0c\u63a5\u6536\u5b50\u4efb\u52a1\u63a5\u6536\u5230\u7684\u6240\u6709\u6d88\u606f\u90fd\u5c06\u4f4d\u4e8e\u540c\u4e00\u4e2a Kafka \u5206\u533a\u4e2d\uff09\u3002\n+\u7528\u6237\u53ef\u4ee5\u5bf9\u5982\u4f55\u5c06\u6570\u636e\u5199\u5230Kafka\u8fdb\u884c\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 producer record\uff1a\n \n-\u53ef\u4ee5\u901a\u8fc7\u6269\u5c55 `FlinkKafkaPartitioner` \u7c7b\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\u3002\u6240\u6709 Kafka \u7248\u672c\u7684\u6784\u9020\u51fd\u6570\u90fd\u5141\u8bb8\u5728\u5b9e\u4f8b\u5316 producer \u65f6\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\u3002\n-\u6ce8\u610f\uff1a\u5206\u533a\u5668\u5b9e\u73b0\u5fc5\u987b\u662f\u53ef\u5e8f\u5217\u5316\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u5c06\u5728 Flink \u8282\u70b9\u4e4b\u95f4\u4f20\u8f93\u3002\u6b64\u5916\uff0c\u8bf7\u8bb0\u4f4f\u5206\u533a\u5668\u4e2d\u7684\u4efb\u4f55\u72b6\u6001\u90fd\u5c06\u5728\u4f5c\u4e1a\u5931\u8d25\u65f6\u4e22\u5931\uff0c\u56e0\u4e3a\u5206\u533a\u5668\u4e0d\u662f producer \u7684 checkpoint \u72b6\u6001\u7684\u4e00\u90e8\u5206\u3002\n-\n-\u4e5f\u53ef\u4ee5\u5b8c\u5168\u907f\u514d\u4f7f\u7528\u5206\u533a\u5668\uff0c\u5e76\u7b80\u5355\u5730\u8ba9 Kafka \u901a\u8fc7\u5176\u9644\u52a0 key \u5199\u5165\u7684\u6d88\u606f\u8fdb\u884c\u5206\u533a\uff08\u4f7f\u7528\u63d0\u4f9b\u7684\u5e8f\u5217\u5316 schema \u4e3a\u6bcf\u6761\u8bb0\u5f55\u786e\u5b9a\u5206\u533a\uff09\u3002\n-\u4e3a\u6b64\uff0c\u5728\u5b9e\u4f8b\u5316 producer \u65f6\u63d0\u4f9b `null` \u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u63d0\u4f9b `null` \u4f5c\u4e3a\u81ea\u5b9a\u4e49\u5206\u533a\u5668\u662f\u5f88\u91cd\u8981\u7684; \u5982\u4e0a\u6240\u8ff0\uff0c\u5982\u679c\u672a\u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 `FlinkFixedPartitioner`\u3002\n+* \u8bbe\u7f6e header \u503c\n+* \u4e3a\u6bcf\u4e2a record \u5b9a\u4e49 key\n+* \u6307\u5b9a\u6570\u636e\u7684\u81ea\u5b9a\u4e49\u5206\u533a\n \n ### Kafka Producer \u548c\u5bb9\u9519\n \n+\u542f\u7528 Flink \u7684checkpointing \u540e\uff0c`FlinkKafkaProducer` \u53ef\u4ee5\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u8bed\u4e49\u4fdd\u8bc1\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 345}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3Njg0Mg==", "bodyText": "\u94fe\u63a5\u66ff\u6362\u6210 {% link %}", "url": "https://github.com/apache/flink/pull/13410#discussion_r495576842", "createdAt": "2020-09-27T14:07:21Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -512,6 +434,17 @@ Flink \u901a\u8fc7 Kafka \u8fde\u63a5\u5668\u63d0\u4f9b\u4e86\u4e00\u6d41\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u5bf9 Kerberos \u914d\u7f6e\n \n \u6709\u5173 Kerberos \u5b89\u5168\u6027 Flink \u914d\u7f6e\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1[\u8fd9\u91cc]({{ site.baseurl }}/zh/ops/config.html)\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728[\u8fd9\u91cc]({{ site.baseurl }}/zh/ops/security-kerberos.html)\u8fdb\u4e00\u6b65\u4e86\u89e3 Flink \u5982\u4f55\u5728\u5185\u90e8\u8bbe\u7f6e\u57fa\u4e8e kerberos \u7684\u5b89\u5168\u6027\u3002\n \n+## \u5347\u7ea7\u5230\u6700\u8fd1\u7684\u8fde\u63a5\u5668\u7248\u672c\n+\n+\u901a\u7528\u7684\u5347\u7ea7\u6b65\u9aa4\u6982\u8ff0\u89c1 [\u5347\u7ea7 Jobs \u548c Flink \u7248\u672c\u6307\u5357]({{ site.baseurl }}/ops/upgrading.html)\u3002\u5bf9\u4e8e Kafka\uff0c\u4f60\u8fd8\u9700\u8981\u9075\u5faa\u8fd9\u4e9b\u6b65\u9aa4\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69930ae1221864a5ccc986ac23c6010b76043759"}, "originalPosition": 371}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ba111e2e377a1ade74832b2fa026298437f53dc", "author": {"user": {"login": "Shawn-Hx", "name": "Shawn Huang"}}, "url": "https://github.com/apache/flink/commit/1ba111e2e377a1ade74832b2fa026298437f53dc", "committedDate": "2020-09-27T15:57:19Z", "message": "Improve according to review suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTE0MTM2", "url": "https://github.com/apache/flink/pull/13410#pullrequestreview-498114136", "createdAt": "2020-09-29T05:51:33Z", "commit": {"oid": "1ba111e2e377a1ade74832b2fa026298437f53dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNTo1MTozNFrOHZb4zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNTo1MTozNFrOHZb4zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQzMzM1Ng==", "bodyText": "\u8fd9\u91cc\u662f\u4e0d\u662f\u6f0f\u4e86  \u6807\u7b7e", "url": "https://github.com/apache/flink/pull/13410#discussion_r496433356", "createdAt": "2020-09-29T05:51:34Z", "author": {"login": "klion26"}, "path": "docs/dev/connectors/kafka.zh.md", "diffHunk": "@@ -431,39 +371,46 @@ stream.addSink(myProducer);\n {% highlight scala %}\n val stream: DataStream[String] = ...\n \n+Properties properties = new Properties\n+properties.setProperty(\"bootstrap.servers\", \"localhost:9092\")\n+\n val myProducer = new FlinkKafkaProducer[String](\n-        \"localhost:9092\",         // broker \u5217\u8868\n         \"my-topic\",               // \u76ee\u6807 topic\n-        new SimpleStringSchema)   // \u5e8f\u5217\u5316 schema\n-\n-// 0.10+ \u7248\u672c\u7684 Kafka \u5141\u8bb8\u5728\u5c06\u8bb0\u5f55\u5199\u5165 Kafka \u65f6\u9644\u52a0\u8bb0\u5f55\u7684\u4e8b\u4ef6\u65f6\u95f4\u6233\uff1b\n-// \u6b64\u65b9\u6cd5\u4e0d\u9002\u7528\u4e8e\u65e9\u671f\u7248\u672c\u7684 Kafka\n-myProducer.setWriteTimestampToKafka(true)\n+        new SimpleStringSchema(), // \u5e8f\u5217\u5316 schema\n+        properties,               // producer \u914d\u7f6e\n+        FlinkKafkaProducer.Semantic.EXACTLY_ONCE) // \u5bb9\u9519\n \n stream.addSink(myProducer)\n {% endhighlight %}\n </div>\n </div>\n \n-\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u521b\u5efa Flink Kafka Producer \u6765\u5c06\u6d41\u6d88\u606f\u5199\u5165\u5355\u4e2a Kafka \u76ee\u6807 topic \u7684\u57fa\u672c\u7528\u6cd5\u3002\n-\u5bf9\u4e8e\u66f4\u9ad8\u7ea7\u7684\u7528\u6cd5\uff0c\u8fd9\u8fd8\u6709\u5176\u4ed6\u6784\u9020\u51fd\u6570\u53d8\u4f53\u5141\u8bb8\u63d0\u4f9b\u4ee5\u4e0b\u5185\u5bb9\uff1a\n+<a name=\"the-serializationschema\"></a>\n+\n+## `SerializationSchema`\n \n- * *\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027*\uff1aproducer \u5141\u8bb8\u4e3a\u5185\u90e8 `KafkaProducer` \u63d0\u4f9b\u81ea\u5b9a\u4e49\u5c5e\u6027\u914d\u7f6e\u3002\u6709\u5173\u5982\u4f55\u914d\u7f6e Kafka Producer \u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605  [Apache Kafka \u6587\u6863](https://kafka.apache.org/documentation.html)\u3002\n- * *\u81ea\u5b9a\u4e49\u5206\u533a\u5668*\uff1a\u8981\u5c06\u6d88\u606f\u5206\u914d\u7ed9\u7279\u5b9a\u7684\u5206\u533a\uff0c\u53ef\u4ee5\u5411\u6784\u9020\u51fd\u6570\u63d0\u4f9b\u4e00\u4e2a `FlinkKafkaPartitioner` \u7684\u5b9e\u73b0\u3002\u8fd9\u4e2a\u5206\u533a\u5668\u5c06\u88ab\u6d41\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\u8c03\u7528\uff0c\u4ee5\u786e\u5b9a\u6d88\u606f\u5e94\u8be5\u53d1\u9001\u5230\u76ee\u6807 topic \u7684\u54ea\u4e2a\u5177\u4f53\u5206\u533a\u91cc\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 [Kafka Producer \u5206\u533a\u65b9\u6848](#kafka-producer-\u5206\u533a\u65b9\u6848)\u3002\n- * *\u9ad8\u7ea7\u7684\u5e8f\u5217\u5316 schema*\uff1a\u4e0e consumer \u7c7b\u4f3c\uff0cproducer \u8fd8\u5141\u8bb8\u4f7f\u7528\u540d\u4e3a `KeyedSerializationSchema` \u7684\u9ad8\u7ea7\u5e8f\u5217\u5316 schema\uff0c\u8be5 schema \u5141\u8bb8\u5355\u72ec\u5e8f\u5217\u5316 key \u548c value\u3002\u5b83\u8fd8\u5141\u8bb8\u8986\u76d6\u76ee\u6807 topic\uff0c\u4ee5\u4fbf producer \u5b9e\u4f8b\u53ef\u4ee5\u5c06\u6570\u636e\u53d1\u9001\u5230\u591a\u4e2a topic\u3002\n+Flink Kafka Producer \u9700\u8981\u77e5\u9053\u5982\u4f55\u5c06 Java/Scala \u5bf9\u8c61\u8f6c\u5316\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\u3002\n \n-### Kafka Producer \u5206\u533a\u65b9\u6848\n+`KafkaSerializationSchema` \u5141\u8bb8\u7528\u6237\u6307\u5b9a\u8fd9\u6837\u7684 schema\u3002\u5b83\u4f1a\u4e3a\u6bcf\u4e2a\u8bb0\u5f55\u8c03\u7528 `ProducerRecord<byte[], byte[]> serialize(T element, @Nullable Long timestamp)` \u65b9\u6cd5\uff0c\u4ea7\u751f\u4e00\u4e2a\u5199\u5165\u5230 Kafka \u7684 `ProducerRecord`\u3002\n \n-\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6ca1\u6709\u4e3a Flink Kafka Producer \u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u5219 producer \u5c06\u4f7f\u7528 `FlinkFixedPartitioner` \u4e3a\u6bcf\u4e2a Flink Kafka Producer \u5e76\u884c\u5b50\u4efb\u52a1\u6620\u5c04\u5230\u5355\u4e2a Kafka \u5206\u533a\uff08\u5373\uff0c\u63a5\u6536\u5b50\u4efb\u52a1\u63a5\u6536\u5230\u7684\u6240\u6709\u6d88\u606f\u90fd\u5c06\u4f4d\u4e8e\u540c\u4e00\u4e2a Kafka \u5206\u533a\u4e2d\uff09\u3002\n+\u7528\u6237\u53ef\u4ee5\u5bf9\u5982\u4f55\u5c06\u6570\u636e\u5199\u5230 Kafka \u8fdb\u884c\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 producer record\uff1a\n \n-\u53ef\u4ee5\u901a\u8fc7\u6269\u5c55 `FlinkKafkaPartitioner` \u7c7b\u6765\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\u3002\u6240\u6709 Kafka \u7248\u672c\u7684\u6784\u9020\u51fd\u6570\u90fd\u5141\u8bb8\u5728\u5b9e\u4f8b\u5316 producer \u65f6\u63d0\u4f9b\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\u3002\n-\u6ce8\u610f\uff1a\u5206\u533a\u5668\u5b9e\u73b0\u5fc5\u987b\u662f\u53ef\u5e8f\u5217\u5316\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u5c06\u5728 Flink \u8282\u70b9\u4e4b\u95f4\u4f20\u8f93\u3002\u6b64\u5916\uff0c\u8bf7\u8bb0\u4f4f\u5206\u533a\u5668\u4e2d\u7684\u4efb\u4f55\u72b6\u6001\u90fd\u5c06\u5728\u4f5c\u4e1a\u5931\u8d25\u65f6\u4e22\u5931\uff0c\u56e0\u4e3a\u5206\u533a\u5668\u4e0d\u662f producer \u7684 checkpoint \u72b6\u6001\u7684\u4e00\u90e8\u5206\u3002\n+* \u8bbe\u7f6e header \u503c\n+* \u4e3a\u6bcf\u4e2a record \u5b9a\u4e49 key\n+* \u6307\u5b9a\u6570\u636e\u7684\u81ea\u5b9a\u4e49\u5206\u533a\n \n-\u4e5f\u53ef\u4ee5\u5b8c\u5168\u907f\u514d\u4f7f\u7528\u5206\u533a\u5668\uff0c\u5e76\u7b80\u5355\u5730\u8ba9 Kafka \u901a\u8fc7\u5176\u9644\u52a0 key \u5199\u5165\u7684\u6d88\u606f\u8fdb\u884c\u5206\u533a\uff08\u4f7f\u7528\u63d0\u4f9b\u7684\u5e8f\u5217\u5316 schema \u4e3a\u6bcf\u6761\u8bb0\u5f55\u786e\u5b9a\u5206\u533a\uff09\u3002\n-\u4e3a\u6b64\uff0c\u5728\u5b9e\u4f8b\u5316 producer \u65f6\u63d0\u4f9b `null` \u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u63d0\u4f9b `null` \u4f5c\u4e3a\u81ea\u5b9a\u4e49\u5206\u533a\u5668\u662f\u5f88\u91cd\u8981\u7684; \u5982\u4e0a\u6240\u8ff0\uff0c\u5982\u679c\u672a\u6307\u5b9a\u81ea\u5b9a\u4e49\u5206\u533a\u7a0b\u5e8f\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 `FlinkFixedPartitioner`\u3002\n+<a name=\"kafka-producers-and-fault-tolerance\"></a>\n \n ### Kafka Producer \u548c\u5bb9\u9519\n \n+\u542f\u7528 Flink \u7684 checkpointing \u540e\uff0c`FlinkKafkaProducer` \u53ef\u4ee5\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u7684\u8bed\u4e49\u4fdd\u8bc1\u3002\n+\n+\u9664\u4e86\u542f\u7528 Flink \u7684 checkpointing\uff0c\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u9002\u5f53\u7684 `semantic` \u53c2\u6570\u4f20\u9012\u7ed9 `FlinkKafkaProducer` \u6765\u9009\u62e9\u4e09\u79cd\u4e0d\u540c\u7684\u64cd\u4f5c\u6a21\u5f0f\uff1a\n+\n+* `Semantic.NONE`\uff1aFlink \u4e0d\u4f1a\u6709\u4efb\u4f55\u8bed\u4e49\u7684\u4fdd\u8bc1\uff0c\u4ea7\u751f\u7684\u8bb0\u5f55\u53ef\u80fd\u4f1a\u4e22\u5931\u6216\u91cd\u590d\u3002\n+* `Semantic.AT_LEAST_ONCE`\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1a\u53ef\u4ee5\u4fdd\u8bc1\u4e0d\u4f1a\u4e22\u5931\u4efb\u4f55\u8bb0\u5f55\uff08\u4f46\u662f\u8bb0\u5f55\u53ef\u80fd\u4f1a\u91cd\u590d\uff09\n+* `Semantic.EXACTLY_ONCE`\uff1a\u4f7f\u7528 Kafka \u4e8b\u52a1\u63d0\u4f9b\u7cbe\u786e\u4e00\u6b21\u8bed\u4e49\u3002\u65e0\u8bba\u4f55\u65f6\uff0c\u5728\u4f7f\u7528\u4e8b\u52a1\u5199\u5165 Kafka \u65f6\uff0c\u90fd\u8981\u8bb0\u5f97\u4e3a\u6240\u6709\u6d88\u8d39 Kafka \u6d88\u606f\u7684\u5e94\u7528\u7a0b\u5e8f\u8bbe\u7f6e\u6240\u9700\u7684 `isolation.level`\uff08`read_committed` \u6216 `read_uncommitted` - \u540e\u8005\u662f\u9ed8\u8ba4\u503c\uff09\u3002\n+\n ##### \u6ce8\u610f\u4e8b\u9879", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ba111e2e377a1ade74832b2fa026298437f53dc"}, "originalPosition": 403}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9acb1c09f6b7db2178aa88a84f9c3a287fe40603", "author": {"user": {"login": "Shawn-Hx", "name": "Shawn Huang"}}, "url": "https://github.com/apache/flink/commit/9acb1c09f6b7db2178aa88a84f9c3a287fe40603", "committedDate": "2020-09-29T06:36:20Z", "message": "Add <a> tag for \"Caveats\""}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzA1MTgy", "url": "https://github.com/apache/flink/pull/13410#pullrequestreview-506305182", "createdAt": "2020-10-12T05:41:01Z", "commit": {"oid": "9acb1c09f6b7db2178aa88a84f9c3a287fe40603"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4036, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}