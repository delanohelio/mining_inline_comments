{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNDU0Mzcy", "number": 12806, "title": "[FLINK-18462][table-planner-blink] Improve the exception message when INSERT INTO mismatch types for empty char", "bodyText": "What is the purpose of the change\nFix the confusing exception message when INSERT INTO mismatch types for empty char\nBrief change log\n\nUse LogicalType#asSummaryString instead of LogicalType#asSerializableString when exception message and logging\n\nVerifying this change\n\nAdded unit tests to verify the exception messages.\n\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-07-02T11:25:55Z", "url": "https://github.com/apache/flink/pull/12806", "merged": true, "mergeCommit": {"oid": "7e1306cff40187824e5a4f5f1b6dd1c2b92821c8"}, "closed": true, "closedAt": "2020-07-03T11:18:00Z", "author": {"login": "wuchong"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcw9DB_AH2gAyNDQzNDU0MzcyOjI5MWZiOWRiYjk1M2ZiZmJiODM0MDlhM2Q0ZWU0OTk1ZWUyMjk0Yjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxNoGMAFqTQ0MjE3ODMxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "291fb9dbb953fbfbb83409a3d4ee4995ee2294b8", "author": {"user": {"login": "wuchong", "name": "Jark Wu"}}, "url": "https://github.com/apache/flink/commit/291fb9dbb953fbfbb83409a3d4ee4995ee2294b8", "committedDate": "2020-07-02T11:21:58Z", "message": "[FLINK-18462][table-planner-blink] Improve the exception message when INSERT INTO mismatch types for empty char"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c4696b7e3140bc7050bff4a2ab386e1b0be084", "author": {"user": {"login": "wuchong", "name": "Jark Wu"}}, "url": "https://github.com/apache/flink/commit/34c4696b7e3140bc7050bff4a2ab386e1b0be084", "committedDate": "2020-07-03T06:31:33Z", "message": "fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e76d35e98a4e68cd21a4284acd8cc5ac2f93e4c7", "author": {"user": {"login": "wuchong", "name": "Jark Wu"}}, "url": "https://github.com/apache/flink/commit/e76d35e98a4e68cd21a4284acd8cc5ac2f93e4c7", "committedDate": "2020-07-03T06:33:26Z", "message": "fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMTc4MzE1", "url": "https://github.com/apache/flink/pull/12806#pullrequestreview-442178315", "createdAt": "2020-07-03T06:39:09Z", "commit": {"oid": "e76d35e98a4e68cd21a4284acd8cc5ac2f93e4c7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjozOTowOVrOGslWhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjozOTowOVrOGslWhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQwMjUwMA==", "bodyText": "Why remove ''?", "url": "https://github.com/apache/flink/pull/12806#discussion_r449402500", "createdAt": "2020-07-03T06:39:09Z", "author": {"login": "JingsongLi"}, "path": "flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/TableSchema.java", "diffHunk": "@@ -421,9 +421,9 @@ private static void validateColumnsAndWatermarkSpecs(\n \t\t\tLogicalType watermarkOutputType = watermark.getWatermarkExprOutputType().getLogicalType();\n \t\t\tif (watermarkOutputType.getTypeRoot() != TIMESTAMP_WITHOUT_TIME_ZONE) {\n \t\t\t\tthrow new ValidationException(String.format(\n-\t\t\t\t\t\"Watermark strategy '%s' must be of type TIMESTAMP but is of type '%s'.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e76d35e98a4e68cd21a4284acd8cc5ac2f93e4c7"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3368, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}