{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxNDEzODEx", "number": 11256, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo0ODo0MlrODj3Bnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo0ODo0MlrODj3Bnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4OTI4Mjg3OnYy", "diffSide": "RIGHT", "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxNTo0ODo0MlrOFv5mmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQyMjo0MjowNVrOFwE32Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTE2Mw==", "bodyText": "shall we add a comment to mention that this option is for testing?", "url": "https://github.com/apache/flink/pull/11256#discussion_r385771163", "createdAt": "2020-02-28T15:48:42Z", "author": {"login": "tisonkun"}, "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "diffHunk": "@@ -48,6 +48,8 @@\n \tprivate static final int TIMEOUT = 3;\n \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\n \n+\tstatic boolean skipApiKeyValidation = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68d419a8e3a2738bda013ef0e2888f9eae7c3031"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTkxMw==", "bodyText": "or @VisibleForTesting", "url": "https://github.com/apache/flink/pull/11256#discussion_r385771913", "createdAt": "2020-02-28T15:50:03Z", "author": {"login": "tisonkun"}, "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "diffHunk": "@@ -48,6 +48,8 @@\n \tprivate static final int TIMEOUT = 3;\n \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\n \n+\tstatic boolean skipApiKeyValidation = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTE2Mw=="}, "originalCommit": {"oid": "68d419a8e3a2738bda013ef0e2888f9eae7c3031"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTgwNjAxNg==", "bodyText": "What about introducing a constructor DatadogHttpClient(dgApiKey, dgProxyHost, dgProxyPort, boolean validateApiKey) instead of this static field? It is also not perfect but I think it is a bit better than having this static field.", "url": "https://github.com/apache/flink/pull/11256#discussion_r385806016", "createdAt": "2020-02-28T16:51:09Z", "author": {"login": "tillrohrmann"}, "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "diffHunk": "@@ -48,6 +48,8 @@\n \tprivate static final int TIMEOUT = 3;\n \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\n \n+\tstatic boolean skipApiKeyValidation = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTE2Mw=="}, "originalCommit": {"oid": "68d419a8e3a2738bda013ef0e2888f9eae7c3031"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTgxMTc5Mw==", "bodyText": "I would go with that solution once factories are in place; as it stands we would need 2 constructors; one with the arguments, one no-arg constructor for reflection purposes (which would be detected as being unused), and I don't want to have to watch out for someone removing the constructor because he thought it's not used anyway, or migrate tests towards the new \"convenient\" constructor at which point we lose test coverage of runtime paths.\nI know it's super icky and Ideally we get rid of the reflection approach soon.", "url": "https://github.com/apache/flink/pull/11256#discussion_r385811793", "createdAt": "2020-02-28T17:02:17Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "diffHunk": "@@ -48,6 +48,8 @@\n \tprivate static final int TIMEOUT = 3;\n \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\n \n+\tstatic boolean skipApiKeyValidation = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTE2Mw=="}, "originalCommit": {"oid": "68d419a8e3a2738bda013ef0e2888f9eae7c3031"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTk1NTgwMQ==", "bodyText": "ooooooooooooooooooooooooooohhhhh....this is the client...yeah then we should totally do that.", "url": "https://github.com/apache/flink/pull/11256#discussion_r385955801", "createdAt": "2020-02-28T22:42:05Z", "author": {"login": "zentol"}, "path": "flink-metrics/flink-metrics-datadog/src/main/java/org/apache/flink/metrics/datadog/DatadogHttpClient.java", "diffHunk": "@@ -48,6 +48,8 @@\n \tprivate static final int TIMEOUT = 3;\n \tprivate static final ObjectMapper MAPPER = new ObjectMapper();\n \n+\tstatic boolean skipApiKeyValidation = false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTc3MTE2Mw=="}, "originalCommit": {"oid": "68d419a8e3a2738bda013ef0e2888f9eae7c3031"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 936, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}