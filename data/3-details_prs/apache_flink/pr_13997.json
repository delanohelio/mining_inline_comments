{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NzAxNTQw", "number": 13997, "title": "[FLINK-20058][kafka connector] Improve tests for per-partition-waterm\u2026", "bodyText": "\u2026ark kafka\n\nWhat is the purpose of the change\nImprove the tests for per-partition-watermark kafka.\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-11-09T11:40:37Z", "url": "https://github.com/apache/flink/pull/13997", "merged": true, "mergeCommit": {"oid": "592c2e7ab392cc0bb368d630eff0a89dd5ccf2a4"}, "closed": true, "closedAt": "2020-11-11T03:01:54Z", "author": {"login": "fsk119"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdazKZjgH2gAyNTE3NzAxNTQwOjQwZWE5ZmJkMDg3MWQwOTE3MGRhNTAyMTdjNDA1N2NjODFmZjEyMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbFprDAFqTUyNjk5MTY0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "40ea9fbd0871d09170da50217c4057cc81ff1203", "author": {"user": {"login": "fsk119", "name": "Shengkai "}}, "url": "https://github.com/apache/flink/commit/40ea9fbd0871d09170da50217c4057cc81ff1203", "committedDate": "2020-11-09T11:35:47Z", "message": "[FLINK-20058][kafka connector] Improve tests for per-partition-watermark kafka"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2OTEzNzYy", "url": "https://github.com/apache/flink/pull/13997#pullrequestreview-526913762", "createdAt": "2020-11-10T07:16:01Z", "commit": {"oid": "40ea9fbd0871d09170da50217c4057cc81ff1203"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzoxNjowMVrOHwO9zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzoxNjoxNVrOHwO-Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDMzODg5NQ==", "bodyText": "// currently, rowtime attribute always using 3 precision\n\t\t\t\t\tTimestampData rowtime = value.getTimestamp(rowtimeIndex, 3);", "url": "https://github.com/apache/flink/pull/13997#discussion_r520338895", "createdAt": "2020-11-10T07:16:01Z", "author": {"login": "wuchong"}, "path": "flink-table/flink-table-planner-blink/src/test/java/org/apache/flink/table/planner/factories/TestValuesRuntimeFunctions.java", "diffHunk": "@@ -318,9 +318,9 @@ public void invoke(RowData value, Context context) throws Exception {\n \t\t\t\tRow row = (Row) converter.toExternal(value);\n \t\t\t\tassert row != null;\n \t\t\t\tif (rowtimeIndex >= 0) {\n-\t\t\t\t\tLocalDateTime rowtime = (LocalDateTime) row.getField(rowtimeIndex);\n+\t\t\t\t\tTimestampData rowtime = TimestampData.fromLocalDateTime((LocalDateTime) row.getField(rowtimeIndex));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40ea9fbd0871d09170da50217c4057cc81ff1203"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDMzODk3MQ==", "bodyText": "Remove the @SuppressWarnings(\"rawtypes\") annotation on this method.", "url": "https://github.com/apache/flink/pull/13997#discussion_r520338971", "createdAt": "2020-11-10T07:16:15Z", "author": {"login": "wuchong"}, "path": "flink-table/flink-table-planner-blink/src/test/java/org/apache/flink/table/planner/factories/TestValuesRuntimeFunctions.java", "diffHunk": "@@ -318,9 +318,9 @@ public void invoke(RowData value, Context context) throws Exception {\n \t\t\t\tRow row = (Row) converter.toExternal(value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40ea9fbd0871d09170da50217c4057cc81ff1203"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5633a92535b29aebee6f7b885d1378d12bcf2dc0", "author": {"user": {"login": "fsk119", "name": "Shengkai "}}, "url": "https://github.com/apache/flink/commit/5633a92535b29aebee6f7b885d1378d12bcf2dc0", "committedDate": "2020-11-10T08:42:20Z", "message": "address the feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2OTkxNjQ1", "url": "https://github.com/apache/flink/pull/13997#pullrequestreview-526991645", "createdAt": "2020-11-10T09:08:14Z", "commit": {"oid": "5633a92535b29aebee6f7b885d1378d12bcf2dc0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4534, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}