{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4NzM0MDI4", "number": 13757, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoxMzozNlrOExLfjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoxNzo1M1rOExLl3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMDAzOTgxOnYy", "diffSide": "RIGHT", "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoxMzozNlrOHnLOVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoyMzoxM1rOHnLjJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0MDQwNQ==", "bodyText": "Are you sure that you want to use sudo -E sudo #...? I couldn't test it quickly but it looks strange.", "url": "https://github.com/apache/flink/pull/13757#discussion_r510840405", "createdAt": "2020-10-23T12:13:36Z", "author": {"login": "XComp"}, "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "diffHunk": "@@ -92,7 +92,12 @@ if [ \"$1\" == \"--help\" -o \"$1\" == \"-h\" ]; then\n     exit 0\n elif [ \"$1\" == \"master\" ]; then\n     yes| sudo -E -u hdfs $HADOOP_PREFIX/bin/hdfs namenode -format\n-\n+    sudo -E sudo netstat -tulpn >> /var/log/hadoop/debugging.out\n+    echo \"--------------------\" >> /var/log/hadoop/debugging.out\n+    sudo -E sudo ps -aux >> /var/log/hadoop/debugging.out\n+    echo \"--------------------\" >> /var/log/hadoop/debugging.out\n+    sudo -E sudo jps -v >> /var/log/hadoop/debugging.out", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2cc9638a9d919e924a4a67b8d15e68e4dad530d"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0NTczMg==", "bodyText": "oh, that's clearly a mistake. Good catch! I'll fix it.", "url": "https://github.com/apache/flink/pull/13757#discussion_r510845732", "createdAt": "2020-10-23T12:23:13Z", "author": {"login": "rmetzger"}, "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "diffHunk": "@@ -92,7 +92,12 @@ if [ \"$1\" == \"--help\" -o \"$1\" == \"-h\" ]; then\n     exit 0\n elif [ \"$1\" == \"master\" ]; then\n     yes| sudo -E -u hdfs $HADOOP_PREFIX/bin/hdfs namenode -format\n-\n+    sudo -E sudo netstat -tulpn >> /var/log/hadoop/debugging.out\n+    echo \"--------------------\" >> /var/log/hadoop/debugging.out\n+    sudo -E sudo ps -aux >> /var/log/hadoop/debugging.out\n+    echo \"--------------------\" >> /var/log/hadoop/debugging.out\n+    sudo -E sudo jps -v >> /var/log/hadoop/debugging.out", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0MDQwNQ=="}, "originalCommit": {"oid": "b2cc9638a9d919e924a4a67b8d15e68e4dad530d"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMDA1NTk5OnYy", "diffSide": "RIGHT", "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoxNzo1M1rOHnLX3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjoyMjo0OVrOHnLicw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0Mjg0Ng==", "bodyText": "Just as a side-note: I usually added also -e as a parameter getting \"extended\" output. Not sure whether it helps in that case but it's just nice to read for someone who knows German: netstat -tulpen \ud83d\ude04", "url": "https://github.com/apache/flink/pull/13757#discussion_r510842846", "createdAt": "2020-10-23T12:17:53Z", "author": {"login": "XComp"}, "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "diffHunk": "@@ -92,7 +92,12 @@ if [ \"$1\" == \"--help\" -o \"$1\" == \"-h\" ]; then\n     exit 0\n elif [ \"$1\" == \"master\" ]; then\n     yes| sudo -E -u hdfs $HADOOP_PREFIX/bin/hdfs namenode -format\n-\n+    sudo -E sudo netstat -tulpn >> /var/log/hadoop/debugging.out", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2cc9638a9d919e924a4a67b8d15e68e4dad530d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0NTU1NQ==", "bodyText": "I tried the -e argument, but it only adds things like \"package count\" per port, which is not relevant for understanding who's allocating the port. (I copy pasted \"tulpn\" from somewhere, and also remembered the -e)", "url": "https://github.com/apache/flink/pull/13757#discussion_r510845555", "createdAt": "2020-10-23T12:22:49Z", "author": {"login": "rmetzger"}, "path": "flink-end-to-end-tests/test-scripts/docker-hadoop-secure-cluster/bootstrap.sh", "diffHunk": "@@ -92,7 +92,12 @@ if [ \"$1\" == \"--help\" -o \"$1\" == \"-h\" ]; then\n     exit 0\n elif [ \"$1\" == \"master\" ]; then\n     yes| sudo -E -u hdfs $HADOOP_PREFIX/bin/hdfs namenode -format\n-\n+    sudo -E sudo netstat -tulpn >> /var/log/hadoop/debugging.out", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg0Mjg0Ng=="}, "originalCommit": {"oid": "b2cc9638a9d919e924a4a67b8d15e68e4dad530d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 85, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}