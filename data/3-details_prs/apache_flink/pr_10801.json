{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNTIxMjg4", "number": 10801, "title": "[FLINK-15521][e2e] Follow symbolic link when copying distribution", "bodyText": "Fixes an issue where pointing distDir to a symbolic link would fail with misleading exceptions.", "createdAt": "2020-01-08T15:41:47Z", "url": "https://github.com/apache/flink/pull/10801", "merged": true, "mergeCommit": {"oid": "3619543638f76cd452f44cad4c55cda89b1d45e4"}, "closed": true, "closedAt": "2020-01-16T09:15:46Z", "author": {"login": "zentol"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb58wuMAFqTM0MTg1ODk3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6neB1ABqjI5NTEyODM5MjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxODU4OTc5", "url": "https://github.com/apache/flink/pull/10801#pullrequestreview-341858979", "createdAt": "2020-01-13T13:56:07Z", "commit": {"oid": "ee810d1cbf22046bb237506c74e885a6c29b4b5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMzo1NjowOFrOFc3obg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMzo1NjowOFrOFc3obg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgxNTkxOA==", "bodyText": "Why are we swallowing the exception if targetDir is a directory?", "url": "https://github.com/apache/flink/pull/10801#discussion_r365815918", "createdAt": "2020-01-13T13:56:08Z", "author": {"login": "GJL"}, "path": "flink-end-to-end-tests/flink-end-to-end-tests-common/src/main/java/org/apache/flink/tests/util/TestUtils.java", "diffHunk": "@@ -87,15 +89,15 @@ public static Path getResourceJar(final String jarNameRegex) {\n \t * @throws IOException if any IO error happen.\n \t */\n \tpublic static Path copyDirectory(final Path source, final Path destination) throws IOException {\n-\t\tFiles.walkFileTree(source, new SimpleFileVisitor<Path>() {\n+\t\tFiles.walkFileTree(source, EnumSet.of(FileVisitOption.FOLLOW_LINKS), Integer.MAX_VALUE, new SimpleFileVisitor<Path>() {\n \t\t\t@Override\n \t\t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes ignored)\n \t\t\t\tthrows IOException {\n-\t\t\t\tfinal Path targetRir = destination.resolve(source.relativize(dir));\n+\t\t\t\tfinal Path targetDir = destination.resolve(source.relativize(dir));\n \t\t\t\ttry {\n-\t\t\t\t\tFiles.copy(dir, targetRir, StandardCopyOption.COPY_ATTRIBUTES);\n+\t\t\t\t\tFiles.copy(dir, targetDir, StandardCopyOption.COPY_ATTRIBUTES);\n \t\t\t\t} catch (FileAlreadyExistsException e) {\n-\t\t\t\t\tif (!Files.isDirectory(targetRir)) {\n+\t\t\t\t\tif (!Files.isDirectory(targetDir)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee810d1cbf22046bb237506c74e885a6c29b4b5c"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMTU5Mjg1", "url": "https://github.com/apache/flink/pull/10801#pullrequestreview-343159285", "createdAt": "2020-01-15T11:38:43Z", "commit": {"oid": "ee810d1cbf22046bb237506c74e885a6c29b4b5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "477801152391133d8ee7ff4543f6a1ed972f38a7", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/477801152391133d8ee7ff4543f6a1ed972f38a7", "committedDate": "2020-01-15T15:41:25Z", "message": "[FLINK-15521][e2e] Follow symbolic link when copying distribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47607178f852dfe950ce979a6d215c74c178235c", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/47607178f852dfe950ce979a6d215c74c178235c", "committedDate": "2020-01-15T15:41:25Z", "message": "[hotfix][tests] Fix typo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee810d1cbf22046bb237506c74e885a6c29b4b5c", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/ee810d1cbf22046bb237506c74e885a6c29b4b5c", "committedDate": "2020-01-08T15:40:05Z", "message": "[hotfix][tests] Fix typo"}, "afterCommit": {"oid": "47607178f852dfe950ce979a6d215c74c178235c", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/47607178f852dfe950ce979a6d215c74c178235c", "committedDate": "2020-01-15T15:41:25Z", "message": "[hotfix][tests] Fix typo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1753, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}