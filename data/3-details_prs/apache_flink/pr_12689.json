{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NjAxMDYx", "number": 12689, "title": "[FLINK-18320][notice][hive] Merge hive-exec dependencies for hive uber 2.3.6 and 3.1.2", "bodyText": "What is the purpose of the change\nflink-sql-connector-hive depends on hive-exec which is a uber jar and doesn't come with a proper NOTICE file. So we need to find out the artifacts included in hive-execand list them in our NOTICE file.\nBrief change log\nUpdate NOTICE file and add licenses for some dependencies.", "createdAt": "2020-06-17T04:50:35Z", "url": "https://github.com/apache/flink/pull/12689", "merged": true, "mergeCommit": {"oid": "3611fd74b1f9344191fc2d7626c9be667a56899f"}, "closed": true, "closedAt": "2020-06-20T01:28:17Z", "author": {"login": "JingsongLi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsCbYWAH2gAyNDM1NjAxMDYxOmZjYjc5MDdkYzMxZmMyNzc1NjA3NjQwNGY2MGFiOGZkNTA1MDNmMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsaoJcAFqTQzMzA4MTQ2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/fcb7907dc31fc27756076404f60ab8fd50503f03", "committedDate": "2020-06-17T04:48:28Z", "message": "[FLINK-18320][notice][hive] Merge hive-exec dependencies for hive uber 2.3.6 and 3.1.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMDEwNzQ3", "url": "https://github.com/apache/flink/pull/12689#pullrequestreview-433010747", "createdAt": "2020-06-18T07:29:35Z", "commit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNzoyOTozNVrOGli86Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwODowOToyNFrOGlkTtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjAyMzE0NQ==", "bodyText": "My maven-shade-plugin run said\n[INFO] Including com.tdunning:json:jar:1.8 in the shaded jar.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442023145", "createdAt": "2020-06-18T07:29:35Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-2.3.6/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -7,3 +7,51 @@ The Apache Software Foundation (http://www.apache.org/).\n This project bundles the following dependencies under the Apache Software License 2.0. (http://www.apache.org/licenses/LICENSE-2.0.txt)\n \n - org.apache.hive:hive-exec:2.3.6\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.google.guava:guava:14.0.1\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.14", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjAyNjQ0Mw==", "bodyText": "For some weird reason, my maven-shade plugin logged this\n[INFO] Including org.apache.hive:hive-storage-api:jar:2.4.0 in the shaded jar.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442026443", "createdAt": "2020-06-18T07:35:51Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-2.3.6/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -7,3 +7,51 @@ The Apache Software Foundation (http://www.apache.org/).\n This project bundles the following dependencies under the Apache Software License 2.0. (http://www.apache.org/licenses/LICENSE-2.0.txt)\n \n - org.apache.hive:hive-exec:2.3.6\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.google.guava:guava:14.0.1\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.14\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.8\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.8.1\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.7.7\n+- org.apache.avro:avro:1.7.7\n+- org.apache.commons:commons-lang3:3.1\n+- org.apache.hive.shims:hive-shims-0.23:2.3.6\n+- org.apache.hive.shims:hive-shims-common:2.3.6\n+- org.apache.hive:hive-common:2.3.6\n+- org.apache.hive:hive-llap-client:2.3.6\n+- org.apache.hive:hive-llap-common:2.3.6\n+- org.apache.hive:hive-metastore:2.3.6\n+- org.apache.hive:hive-serde:2.3.6\n+- org.apache.hive:hive-service-rpc:2.3.6\n+- org.apache.hive:hive-storage-api:2.3.6", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0MTI5Mw==", "bodyText": "com.esotericsoftware:reflectasm is listed twice, and not ASL2.0 licensed.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442041293", "createdAt": "2020-06-18T08:02:07Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0MjYzNw==", "bodyText": "where did you find this dependency listed? When I compiled hive 3.1.2, it wasn't listed by the shade plugin. However. there are indeed reflectasm classes in the final binary.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442042637", "createdAt": "2020-06-18T08:04:38Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1\n+- com.google.guava:guava:19.0\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.8\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.10\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.9.9\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.8.2\n+- org.apache.avro:avro:1.8.2\n+- org.apache.commons:commons-lang3:3.3.2\n+- org.apache.hive.shims:hive-shims-0.23:3.1.2\n+- org.apache.hive.shims:hive-shims-common:3.1.2\n+- org.apache.hive:hive-common:3.1.2\n+- org.apache.hive:hive-llap-client:3.1.2\n+- org.apache.hive:hive-llap-common:3.1.2\n+- org.apache.hive:hive-metastore:3.1.2\n+- org.apache.hive:hive-serde:3.1.2\n+- org.apache.hive:hive-service-rpc:3.1.2\n+- org.apache.hive:hive-spark-client:3.1.2\n+- org.apache.hive:hive-standalone-metastore:3.1.2\n+- org.apache.hive:hive-storage-api:3.1.2\n+- org.apache.orc:orc-core:1.5.6\n+- org.apache.orc:orc-shims:1.5.6\n+- org.apache.orc:orc-tools:1.5.6\n+- org.apache.parquet:parquet-hadoop-bundle:1.10.0\n+- org.apache.parquet:parquet-jackson:1.10.0\n+- org.apache.thrift:libthrift:0.9.3\n+- org.codehaus.jackson:jackson-core-asl:2.9.5\n+- org.codehaus.jackson:jackson-mapper-asl:2.9.5\n+- org.objenesis:objenesis:2.1\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under the BSD license.\n+See bundled license files for details.\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0MzA5OA==", "bodyText": "[INFO] Including org.apache.avro:avro-mapred:jar:hadoop2:1.7.7 in the shaded jar.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442043098", "createdAt": "2020-06-18T08:05:28Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1\n+- com.google.guava:guava:19.0\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.8\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.10\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.9.9\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.8.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0MzkxOQ==", "bodyText": "I don't know what's going on with my maven\n[INFO] Including org.apache.hive:hive-storage-api:jar:2.7.0 in the shaded jar.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442043919", "createdAt": "2020-06-18T08:06:51Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1\n+- com.google.guava:guava:19.0\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.8\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.10\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.9.9\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.8.2\n+- org.apache.avro:avro:1.8.2\n+- org.apache.commons:commons-lang3:3.3.2\n+- org.apache.hive.shims:hive-shims-0.23:3.1.2\n+- org.apache.hive.shims:hive-shims-common:3.1.2\n+- org.apache.hive:hive-common:3.1.2\n+- org.apache.hive:hive-llap-client:3.1.2\n+- org.apache.hive:hive-llap-common:3.1.2\n+- org.apache.hive:hive-metastore:3.1.2\n+- org.apache.hive:hive-serde:3.1.2\n+- org.apache.hive:hive-service-rpc:3.1.2\n+- org.apache.hive:hive-spark-client:3.1.2\n+- org.apache.hive:hive-standalone-metastore:3.1.2\n+- org.apache.hive:hive-storage-api:3.1.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0NTAxMw==", "bodyText": "parquet-jackson was not listed in my hive build", "url": "https://github.com/apache/flink/pull/12689#discussion_r442045013", "createdAt": "2020-06-18T08:08:46Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1\n+- com.google.guava:guava:19.0\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.8\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.10\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.9.9\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.8.2\n+- org.apache.avro:avro:1.8.2\n+- org.apache.commons:commons-lang3:3.3.2\n+- org.apache.hive.shims:hive-shims-0.23:3.1.2\n+- org.apache.hive.shims:hive-shims-common:3.1.2\n+- org.apache.hive:hive-common:3.1.2\n+- org.apache.hive:hive-llap-client:3.1.2\n+- org.apache.hive:hive-llap-common:3.1.2\n+- org.apache.hive:hive-metastore:3.1.2\n+- org.apache.hive:hive-serde:3.1.2\n+- org.apache.hive:hive-service-rpc:3.1.2\n+- org.apache.hive:hive-spark-client:3.1.2\n+- org.apache.hive:hive-standalone-metastore:3.1.2\n+- org.apache.hive:hive-storage-api:3.1.2\n+- org.apache.orc:orc-core:1.5.6\n+- org.apache.orc:orc-shims:1.5.6\n+- org.apache.orc:orc-tools:1.5.6\n+- org.apache.parquet:parquet-hadoop-bundle:1.10.0\n+- org.apache.parquet:parquet-jackson:1.10.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA0NTM2Nw==", "bodyText": "[INFO] Including org.codehaus.jackson:jackson-core-asl:jar:1.9.13 in the shaded jar.\n[INFO] Including org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13 in the shaded jar.", "url": "https://github.com/apache/flink/pull/12689#discussion_r442045367", "createdAt": "2020-06-18T08:09:24Z", "author": {"login": "rmetzger"}, "path": "flink-connectors/flink-sql-connector-hive-3.1.2/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -8,3 +8,51 @@ This project bundles the following dependencies under the Apache Software Licens\n \n - org.apache.hive:hive-exec:3.1.2\n - org.apache.thrift:libfb303:0.9.3\n+\n+The bundled Apache Hive org.apache.hive:hive-exec dependency bundles the following dependencies under\n+the Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0.txt)\n+\n+- com.esotericsoftware:kryo-shaded:3.0.3\n+- com.esotericsoftware:minlog:1.3.0\n+- com.esotericsoftware:reflectasm:1.10.1\n+- com.google.guava:guava:19.0\n+- com.googlecode.javaewah:JavaEWAH:0.3.2\n+- com.tdunning:json:1.8\n+- commons-lang:commons-lang:2.6\n+- io.airlift:aircompressor:0.10\n+- javax.jdo:jdo-api:3.0.1\n+- joda-time:joda-time:2.9.9\n+- net.sf.opencsv:opencsv:2.3\n+- org.apache.avro:avro-mapred:1.8.2\n+- org.apache.avro:avro:1.8.2\n+- org.apache.commons:commons-lang3:3.3.2\n+- org.apache.hive.shims:hive-shims-0.23:3.1.2\n+- org.apache.hive.shims:hive-shims-common:3.1.2\n+- org.apache.hive:hive-common:3.1.2\n+- org.apache.hive:hive-llap-client:3.1.2\n+- org.apache.hive:hive-llap-common:3.1.2\n+- org.apache.hive:hive-metastore:3.1.2\n+- org.apache.hive:hive-serde:3.1.2\n+- org.apache.hive:hive-service-rpc:3.1.2\n+- org.apache.hive:hive-spark-client:3.1.2\n+- org.apache.hive:hive-standalone-metastore:3.1.2\n+- org.apache.hive:hive-storage-api:3.1.2\n+- org.apache.orc:orc-core:1.5.6\n+- org.apache.orc:orc-shims:1.5.6\n+- org.apache.orc:orc-tools:1.5.6\n+- org.apache.parquet:parquet-hadoop-bundle:1.10.0\n+- org.apache.parquet:parquet-jackson:1.10.0\n+- org.apache.thrift:libthrift:0.9.3\n+- org.codehaus.jackson:jackson-core-asl:2.9.5\n+- org.codehaus.jackson:jackson-mapper-asl:2.9.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcb7907dc31fc27756076404f60ab8fd50503f03"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4988db5e86c9f98063a9ad4c21e4dfad17383b91", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/4988db5e86c9f98063a9ad4c21e4dfad17383b91", "committedDate": "2020-06-18T08:35:29Z", "message": "Fix comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMDgxNDY5", "url": "https://github.com/apache/flink/pull/12689#pullrequestreview-433081469", "createdAt": "2020-06-18T09:00:08Z", "commit": {"oid": "4988db5e86c9f98063a9ad4c21e4dfad17383b91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3644, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}