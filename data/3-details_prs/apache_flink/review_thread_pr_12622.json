{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNDMwNzU3", "number": 12622, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo0OTowM1rOEFB-fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDowMToyNlrOEFeL5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzEwNzE3OnYy", "diffSide": "LEFT", "path": "flink-formats/flink-sql-orc/src/main/resources/META-INF/services/NOTICE", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo0OTowM1rOGjBJmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo0OTowM1rOGjBJmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MjE4Nw==", "bodyText": "The location of this file is wrong. It needs to be in the META-INF folder, not the services folder.", "url": "https://github.com/apache/flink/pull/12622#discussion_r439372187", "createdAt": "2020-06-12T11:49:03Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/src/main/resources/META-INF/services/NOTICE", "diffHunk": "@@ -1,4 +1,4 @@\n-flink-orc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzEwNzY0OnYy", "diffSide": "LEFT", "path": "flink-formats/flink-sql-parquet/src/main/resources/META-INF/services/NOTICE", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo0OToxOFrOGjBJ8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo0OToxOFrOGjBJ8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MjI3NQ==", "bodyText": "same issue", "url": "https://github.com/apache/flink/pull/12622#discussion_r439372275", "createdAt": "2020-06-12T11:49:18Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-parquet/src/main/resources/META-INF/services/NOTICE", "diffHunk": "@@ -1,4 +1,4 @@\n-flink-parquet", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzExNTgyOnYy", "diffSide": "RIGHT", "path": "flink-formats/flink-sql-orc/pom.xml", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxMTo1MjoxNVrOGjBOqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwOTowNjowN1rOGjphsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg==", "bodyText": "I'm not sure if it is necessary to create new modules just to create the fat jar.\nAfaik, you can use the maven shade plugin to create a new jar. I guess the <finalName> or <outputFile> parameter will be of help for this.", "url": "https://github.com/apache/flink/pull/12622#discussion_r439373482", "createdAt": "2020-06-12T11:52:15Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM4NDc2MQ==", "bodyText": "If using <finalName> or <outputFile>, I can not find a way to install or deploy into repository. >_<", "url": "https://github.com/apache/flink/pull/12622#discussion_r439384761", "createdAt": "2020-06-12T12:20:03Z", "author": {"login": "JingsongLi"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM4ODU0MA==", "bodyText": "ah, so if you run \"mvn install\", the jar won't be added to your local .m2 directory?\nHave you tried these? http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html (and maybe also https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html ?)", "url": "https://github.com/apache/flink/pull/12622#discussion_r439388540", "createdAt": "2020-06-12T12:28:56Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcxODk3OA==", "bodyText": "My idea is to automatically upload to Maven repositories, through which users can download by themselves. (The previous jar-with-dependency didn't work too)\nLike jars in https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka_2.11/1.10.1/", "url": "https://github.com/apache/flink/pull/12622#discussion_r439718978", "createdAt": "2020-06-13T07:51:51Z", "author": {"login": "JingsongLi"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcxOTkwMQ==", "bodyText": "I found a JIRA related to sql-jars: https://issues.apache.org/jira/browse/FLINK-11026", "url": "https://github.com/apache/flink/pull/12622#discussion_r439719901", "createdAt": "2020-06-13T08:07:07Z", "author": {"login": "JingsongLi"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTcyMTIyMw==", "bodyText": "PR descriptor updated.\nProfile with maven-shade-plugin and shadedClassifierName can create a bundled jar and upload jar to maven repositories.\nBut for accurate notice files it is necessary to be able to supply each artifact with distinct NOTICE files, we need create a separate module.", "url": "https://github.com/apache/flink/pull/12622#discussion_r439721223", "createdAt": "2020-06-13T08:29:10Z", "author": {"login": "JingsongLi"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAxNDgyOA==", "bodyText": "But for accurate notice files it is necessary to be able to supply each artifact with distinct NOTICE files, we need create a separate module.\n\nBut we would only need one NOTICE file in flink-orc which we will use for the shaded fat jar. For the regular flink-orc.jar we don't need a special NOTICE file, as it contains only Flink binaries.\nSorry that I'm making this so complicated. I'm just trying to make sure that we are not introducing unnecessary complexity here, and that the NOTICE files are valid.", "url": "https://github.com/apache/flink/pull/12622#discussion_r440014828", "createdAt": "2020-06-15T08:34:17Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyOTE1MQ==", "bodyText": "Sorry that I'm making this so complicated.\n\nIt's all right, your review makes things clearer~\nI thought the meaning of #7251 is:\nFor the regular flink-orc.jar should has a NOTICE file too.\nIf we create a flink-sql-orc in flink-orc module with classifier sql-jar. Then, there are two jars in artifact flink-orc.\nAnd they should have different NOTICE files (Which is hard to do). One has many dependencies, but another just is an simple file like:\n// ------------------------------------------------------------------\n// NOTICE file corresponding to the section 4d of The Apache License,\n// Version 2.0, in this case for Apache Flink\n// ------------------------------------------------------------------\n\nApache Flink\nCopyright 2006-2020 The Apache Software Foundation\n\nThis product includes software developed at\nThe Apache Software Foundation (http://www.apache.org/).\n\nflink-orc\nCopyright 2014-2020 The Apache Software Foundation\n\nCorrect me if I wrong.\nCC: @zentol", "url": "https://github.com/apache/flink/pull/12622#discussion_r440029151", "createdAt": "2020-06-15T08:58:31Z", "author": {"login": "JingsongLi"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAzMzcxNA==", "bodyText": "Thanks a lot for the explanation and reference. It seems that adding a second module is the way to go!", "url": "https://github.com/apache/flink/pull/12622#discussion_r440033714", "createdAt": "2020-06-15T09:06:07Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/pom.xml", "diffHunk": "@@ -0,0 +1,92 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTM3MzQ4Mg=="}, "originalCommit": {"oid": "affedb647e7fc0b175f155b202dcc48a9775174a"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTQ4NTYyOnYy", "diffSide": "LEFT", "path": "flink-formats/flink-sql-orc/src/main/resources/META-INF/NOTICE", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo1NTozMVrOGjpIYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo1NTozMVrOGjpIYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyNzIzNA==", "bodyText": "\u2705  File looks good", "url": "https://github.com/apache/flink/pull/12622#discussion_r440027234", "createdAt": "2020-06-15T08:55:31Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-orc/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -1,4 +1,4 @@\n-flink-orc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d9675e9da52cd84df8f7b0b78ef7e2de8c23ef3"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTQ5MzY3OnYy", "diffSide": "RIGHT", "path": "flink-formats/flink-sql-parquet/src/main/resources/META-INF/NOTICE", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo1NzoyNlrOGjpNIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo1NzoyNlrOGjpNIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyODQ0OQ==", "bodyText": "\u2705  file looks good", "url": "https://github.com/apache/flink/pull/12622#discussion_r440028449", "createdAt": "2020-06-15T08:57:26Z", "author": {"login": "rmetzger"}, "path": "flink-formats/flink-sql-parquet/src/main/resources/META-INF/NOTICE", "diffHunk": "@@ -1,4 +1,4 @@\n-flink-parquet\n+flink-sql-parquet", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d9675e9da52cd84df8f7b0b78ef7e2de8c23ef3"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTcyOTAyOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDowMToyNlrOGjrfqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDowMToyNlrOGjrfqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA2NTk2Mw==", "bodyText": "I'd prefer this to be defined in flink-formats; to keep things as localized as possible.", "url": "https://github.com/apache/flink/pull/12622#discussion_r440065963", "createdAt": "2020-06-15T10:01:26Z", "author": {"login": "zentol"}, "path": "pom.xml", "diffHunk": "@@ -156,6 +156,7 @@ under the License.\n \t\t<hivemetastore.hadoop.version>2.7.5</hivemetastore.hadoop.version>\n \t\t<japicmp.referenceVersion>1.10.0</japicmp.referenceVersion>\n \t\t<japicmp.outputDir>tools/japicmp-output</japicmp.outputDir>\n+\t\t<flink.format.parquet.version>1.10.0</flink.format.parquet.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d9675e9da52cd84df8f7b0b78ef7e2de8c23ef3"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4260, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}