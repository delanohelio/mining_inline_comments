{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNjU3MTQ5", "number": 13487, "title": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "bodyText": "What is the purpose of the change\nIn class ListView, the comment for method getValue has unrelated code 'accumulator.list.add(id);'. Users and developers may be confused with the comment. It should be removed.\nBrief change log\n\nRemove the unrelated code comment and rewrite the example.\n\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (no)\nThe serializers: (no)\nThe runtime per-record code paths (performance sensitive): (no)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (no)\nThe S3 file system connector: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-09-27T02:28:43Z", "url": "https://github.com/apache/flink/pull/13487", "merged": true, "mergeCommit": {"oid": "adedf07967efb05445dd7cd5b228a07fd65a60f8"}, "closed": true, "closedAt": "2020-10-11T05:15:47Z", "author": {"login": "Myracle"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNgAP2gFqTQ5ODA1NjUwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRIizQAFqTUwNjA4ODMwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MDU2NTA4", "url": "https://github.com/apache/flink/pull/13487#pullrequestreview-498056508", "createdAt": "2020-09-29T03:55:29Z", "commit": {"oid": "9cbc32fe3fb52c05dce29124ac61c4a7c2952241"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cbc32fe3fb52c05dce29124ac61c4a7c2952241", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/9cbc32fe3fb52c05dce29124ac61c4a7c2952241", "committedDate": "2020-09-27T02:19:18Z", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView"}, "afterCommit": {"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "committedDate": "2020-09-29T04:37:47Z", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MzQ3MDIw", "url": "https://github.com/apache/flink/pull/13487#pullrequestreview-505347020", "createdAt": "2020-10-09T03:51:34Z", "commit": {"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwMzo1MTozNFrOHe6Oiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwMzo1MTozNFrOHe6Oiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjE3MzMyMw==", "bodyText": "We need to add an example to access the list here, because this is an example for ListView. Currently, there are no access to the list in the example.\nI think we can update the aggregate function to return a String value which concats the elements in list, e.g.\npublic String getValue(MyAccumulator accumulator) {\n    // return a concated elements and the count\n    return count + \":\" + String.join(\"|\", acc.list.get());\n}", "url": "https://github.com/apache/flink/pull/13487#discussion_r502173323", "createdAt": "2020-10-09T03:51:34Z", "author": {"login": "wuchong"}, "path": "flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java", "diffHunk": "@@ -73,17 +73,11 @@\n  *\n  *   public void accumulate(MyAccumulator accumulator, String id) {\n  *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n+ *     accumulator.count++;\n  *   }\n  *\n  *   {@literal @}Override\n  *   public Long getValue(MyAccumulator accumulator) {\n- *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n  *     return accumulator.count;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "committedDate": "2020-10-10T10:14:13Z", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "committedDate": "2020-09-29T04:37:47Z", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView"}, "afterCommit": {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "committedDate": "2020-10-10T10:14:13Z", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDg4MzAx", "url": "https://github.com/apache/flink/pull/13487#pullrequestreview-506088301", "createdAt": "2020-10-10T10:51:12Z", "commit": {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3408, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}