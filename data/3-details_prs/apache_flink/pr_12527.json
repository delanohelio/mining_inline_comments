{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMDc4ODgw", "number": 12527, "title": "[FLINK-18173][build] Bundle flink-csv and flink-json jars in lib", "bodyText": "What is the purpose of the change\nThe biggest problem for distributions I see is the variety of problems caused by users' lack of format dependency.\nThese three formats are very small and no third party dependence, and they are widely used by table users. We can just bundle them in \"flink/lib/\".\nIt not solve all problems and it is independent of \"fat\" and \"slim\". But also improve usability.\nBrief change log\nModify flink-dist to bundle jars.\nVerifying this change\nThis change is a trivial rework without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): no\nThe serializers: no\nThe runtime per-record code paths (performance sensitive): no\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no\nThe S3 file system connector: no\n\nDocumentation\n\nDoes this pull request introduce a new feature? no", "createdAt": "2020-06-08T11:54:11Z", "url": "https://github.com/apache/flink/pull/12527", "merged": true, "mergeCommit": {"oid": "2b2b643cc27b0396b61c9996d9db15de59b01e22"}, "closed": true, "closedAt": "2020-06-15T03:14:47Z", "author": {"login": "JingsongLi"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpkKt-AFqTQyNzA4NjM5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrXy9NAFqTQzMDI5NzAyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MDg2Mzk5", "url": "https://github.com/apache/flink/pull/12527#pullrequestreview-427086399", "createdAt": "2020-06-09T12:24:29Z", "commit": {"oid": "3c0eb22b7275fd4c897b49ab776de8f581985e3a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjoyNDozMFrOGhG0_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjoyNDozMFrOGhG0_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM2ODA2MQ==", "bodyText": "Not sure, but shall we use flink-csv-xxx-sql-jar.jar?", "url": "https://github.com/apache/flink/pull/12527#discussion_r437368061", "createdAt": "2020-06-09T12:24:30Z", "author": {"login": "wuchong"}, "path": "flink-dist/src/main/assemblies/bin.xml", "diffHunk": "@@ -84,6 +84,28 @@ under the License.\n \t\t\t<fileMode>0644</fileMode>\n \t\t</file>\n \n+\t\t<!-- Built-in formats -->\n+\t\t<file>\n+\t\t\t<source>../flink-formats/flink-csv/target/flink-csv-${project.version}.jar</source>\n+\t\t\t<outputDirectory>lib/</outputDirectory>\n+\t\t\t<destName>flink-csv-${project.version}.jar</destName>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c0eb22b7275fd4c897b49ab776de8f581985e3a"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9f08ec3f759dc19667162150bad8cf6197d0efd", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/d9f08ec3f759dc19667162150bad8cf6197d0efd", "committedDate": "2020-06-09T12:37:56Z", "message": "Fix comments"}, "afterCommit": {"oid": "861e2a4a123eeca7e81cf1e932a3e0cdff2f1a2e", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/861e2a4a123eeca7e81cf1e932a3e0cdff2f1a2e", "committedDate": "2020-06-10T02:48:53Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "861e2a4a123eeca7e81cf1e932a3e0cdff2f1a2e", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/861e2a4a123eeca7e81cf1e932a3e0cdff2f1a2e", "committedDate": "2020-06-10T02:48:53Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}, "afterCommit": {"oid": "a257e64aef0a534241a2ed8e78b733a4df26c354", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/a257e64aef0a534241a2ed8e78b733a4df26c354", "committedDate": "2020-06-10T09:11:32Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a257e64aef0a534241a2ed8e78b733a4df26c354", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/a257e64aef0a534241a2ed8e78b733a4df26c354", "committedDate": "2020-06-10T09:11:32Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}, "afterCommit": {"oid": "5e400b8122f8f1edd2a48967202912bf44f99b00", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/5e400b8122f8f1edd2a48967202912bf44f99b00", "committedDate": "2020-06-11T11:55:35Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e400b8122f8f1edd2a48967202912bf44f99b00", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/5e400b8122f8f1edd2a48967202912bf44f99b00", "committedDate": "2020-06-11T11:55:35Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}, "afterCommit": {"oid": "a6add24c7d5a479f5ad83bf25f3086881b69cad7", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/a6add24c7d5a479f5ad83bf25f3086881b69cad7", "committedDate": "2020-06-11T12:00:11Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6add24c7d5a479f5ad83bf25f3086881b69cad7", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/a6add24c7d5a479f5ad83bf25f3086881b69cad7", "committedDate": "2020-06-11T12:00:11Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}, "afterCommit": {"oid": "7ea595432ea5af30e292a6538eb27b6de6eeef1d", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/7ea595432ea5af30e292a6538eb27b6de6eeef1d", "committedDate": "2020-06-12T04:26:09Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ea595432ea5af30e292a6538eb27b6de6eeef1d", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/7ea595432ea5af30e292a6538eb27b6de6eeef1d", "committedDate": "2020-06-12T04:26:09Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}, "afterCommit": {"oid": "009cec97f179a29a9a72f5959499a28dfb9420e7", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/009cec97f179a29a9a72f5959499a28dfb9420e7", "committedDate": "2020-06-12T06:58:28Z", "message": "[FLINK-18173][build] Bundle flink-csv,flink-json,flink-avro jars in lib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "892eed374170a17ace4978d7796d6d2ae957164d", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/892eed374170a17ace4978d7796d6d2ae957164d", "committedDate": "2020-06-13T08:40:48Z", "message": "[FLINK-18173][build] Bundle flink-csv and flink-json jars in lib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00dc5fa6907762b4019c28d07160139b65d2bbb4", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/00dc5fa6907762b4019c28d07160139b65d2bbb4", "committedDate": "2020-06-12T11:06:23Z", "message": "Fix avro name"}, "afterCommit": {"oid": "892eed374170a17ace4978d7796d6d2ae957164d", "author": {"user": {"login": "JingsongLi", "name": "Jingsong Lee"}}, "url": "https://github.com/apache/flink/commit/892eed374170a17ace4978d7796d6d2ae957164d", "committedDate": "2020-06-13T08:40:48Z", "message": "[FLINK-18173][build] Bundle flink-csv and flink-json jars in lib"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMjk3MDI0", "url": "https://github.com/apache/flink/pull/12527#pullrequestreview-430297024", "createdAt": "2020-06-15T03:08:18Z", "commit": {"oid": "892eed374170a17ace4978d7796d6d2ae957164d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3795, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}