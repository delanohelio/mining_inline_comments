{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MDU5MTY1", "number": 13414, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNDozMToxMFrOEkz-Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNDozMjo0N1rOEkz_BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MDM1NzA2OnYy", "diffSide": "RIGHT", "path": "flink-connectors/flink-connector-hive/src/main/java/org/apache/flink/table/catalog/hive/HiveCatalog.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNDozMToxMFrOHT9spg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNjowNzoxMVrOHT_Rkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDY5NTg0Ng==", "bodyText": "This should not happen.", "url": "https://github.com/apache/flink/pull/13414#discussion_r490695846", "createdAt": "2020-09-18T04:31:10Z", "author": {"login": "JingsongLi"}, "path": "flink-connectors/flink-connector-hive/src/main/java/org/apache/flink/table/catalog/hive/HiveCatalog.java", "diffHunk": "@@ -223,6 +223,9 @@ public String getHiveVersion() {\n \tpublic void open() throws CatalogException {\n \t\tif (client == null) {\n \t\t\tclient = HiveMetastoreClientFactory.create(hiveConf, hiveVersion);\n+\t\t\tif (client == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b3479227664c09f527c045ab6d3623790fe3968"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDcyMTY4Mw==", "bodyText": "ok,i got it and i'll remove it", "url": "https://github.com/apache/flink/pull/13414#discussion_r490721683", "createdAt": "2020-09-18T06:07:11Z", "author": {"login": "zhuxiaoshang"}, "path": "flink-connectors/flink-connector-hive/src/main/java/org/apache/flink/table/catalog/hive/HiveCatalog.java", "diffHunk": "@@ -223,6 +223,9 @@ public String getHiveVersion() {\n \tpublic void open() throws CatalogException {\n \t\tif (client == null) {\n \t\t\tclient = HiveMetastoreClientFactory.create(hiveConf, hiveVersion);\n+\t\t\tif (client == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDY5NTg0Ng=="}, "originalCommit": {"oid": "5b3479227664c09f527c045ab6d3623790fe3968"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MDM1OTA5OnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/catalog/CatalogManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNDozMjo0N1rOHT9t6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNjoxMjowOVrOHT_XtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDY5NjE3MQ==", "bodyText": "Can you add a case for this?\nYou can create a Catalog extends GenericInMemoryCatalog and implement open to throw exception. The check the TableEnv should not contains this catalog.", "url": "https://github.com/apache/flink/pull/13414#discussion_r490696171", "createdAt": "2020-09-18T04:32:47Z", "author": {"login": "JingsongLi"}, "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/catalog/CatalogManager.java", "diffHunk": "@@ -187,8 +187,8 @@ public void registerCatalog(String catalogName, Catalog catalog) {\n \t\t\tthrow new CatalogException(format(\"Catalog %s already exists.\", catalogName));\n \t\t}\n \n-\t\tcatalogs.put(catalogName, catalog);\n \t\tcatalog.open();\n+\t\tcatalogs.put(catalogName, catalog);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b3479227664c09f527c045ab6d3623790fe3968"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDcyMzI1Mg==", "bodyText": "thanks for your suggestions.i'll add a test case.", "url": "https://github.com/apache/flink/pull/13414#discussion_r490723252", "createdAt": "2020-09-18T06:12:09Z", "author": {"login": "zhuxiaoshang"}, "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/catalog/CatalogManager.java", "diffHunk": "@@ -187,8 +187,8 @@ public void registerCatalog(String catalogName, Catalog catalog) {\n \t\t\tthrow new CatalogException(format(\"Catalog %s already exists.\", catalogName));\n \t\t}\n \n-\t\tcatalogs.put(catalogName, catalog);\n \t\tcatalog.open();\n+\t\tcatalogs.put(catalogName, catalog);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDY5NjE3MQ=="}, "originalCommit": {"oid": "5b3479227664c09f527c045ab6d3623790fe3968"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 286, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}