{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4MzQzOTQ4", "number": 14014, "title": "[FLINK-10274][flink-core]Add `env.pid.dir` configuration to CoreOptions", "bodyText": "What is the purpose of the change\n(For example: This pull request makes task deployment go through the blob server, rather than through RPC. That way we avoid re-transferring them on each deployment (during recovery).)\nThis pull request Ensure that the documentation does not confuse developers. Because I cannot find the env.pid.dir configuration in the documentation, but the conf will used in the conf.sh.  And reminde the developer who want to override it where to modify.\nBrief change log\n\nadd env.pid.dir configuration to Configuration page of Documentation.\n\nVerifying this change\nThis change is already covered by existing tests, such as Flink-docs test\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency):  no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): no\nThe serializers:  no\nThe runtime per-record code paths (performance sensitive): don't know\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: don't know\nThe S3 file system connector: don't know\n\nDocumentation\n\nDoes this pull request introduce a new feature?  no", "createdAt": "2020-11-10T09:21:01Z", "url": "https://github.com/apache/flink/pull/14014", "merged": true, "mergeCommit": {"oid": "9b5d50c3d9542572d5b33b8bbf1f40594d466ed6"}, "closed": true, "closedAt": "2020-12-17T22:11:07Z", "author": {"login": "archzi"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbFfOGgH2gAyNTE4MzQzOTQ4OjQ5MjRlMWE4ODg4ZmQ4NmQyZTYyYTIyZmVkYTJlOGU2MWQzMTkwZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnLAWOgH2gAyNTE4MzQzOTQ4Ojg2NjI5MWVmOGIxYzNlNGFlYTM2M2FmZGZhOWUxZTA0Y2MzNGQ5Nzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4924e1a8888fd86d2e62a22feda2e8e61d3190de", "author": {"user": {"login": "archzi", "name": null}}, "url": "https://github.com/apache/flink/commit/4924e1a8888fd86d2e62a22feda2e8e61d3190de", "committedDate": "2020-11-10T08:56:49Z", "message": "add configuration `env.pid.dir` to CoreOptions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb", "author": {"user": {"login": "archzi", "name": null}}, "url": "https://github.com/apache/flink/commit/effccc0bebb448c13266bc078799cc911b1b1bfb", "committedDate": "2020-11-10T08:59:30Z", "message": "add configuration `env.pid.dir` to CoreOptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NjMzOTM1", "url": "https://github.com/apache/flink/pull/14014#pullrequestreview-549633935", "createdAt": "2020-12-10T21:54:09Z", "commit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMTo1NDoxMFrOIDe_LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMTo1NjoxOVrOIDfEWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUyNDMzMw==", "bodyText": "the default is \"/tmp\", which we should document", "url": "https://github.com/apache/flink/pull/14014#discussion_r540524333", "createdAt": "2020-12-10T21:54:10Z", "author": {"login": "zentol"}, "path": "flink-core/src/main/java/org/apache/flink/configuration/CoreOptions.java", "diffHunk": "@@ -218,6 +218,17 @@\n \t\t.withDescription(\"Defines the directory where the Flink logs are saved. It has to be an absolute path.\" +\n \t\t\t\" (Defaults to the log directory under Flink\u2019s home)\");\n \n+\t/**\n+\t * This options is here only for documentation generation, it is only\n+\t * evaluated in the shell scripts.\n+\t */\n+\tpublic static final ConfigOption<String> FLINK_APP_PID_DIR = ConfigOptions\n+\t\t.key(\"env.pid.dir\")\n+\t\t.noDefaultValue()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUyNDkyNQ==", "bodyText": "It would be good to explicitly link to config.sh#KEY_ENV_PID_DIR and config.sh#DEFAULT_ENV_PID_DIR.", "url": "https://github.com/apache/flink/pull/14014#discussion_r540524925", "createdAt": "2020-12-10T21:55:09Z", "author": {"login": "zentol"}, "path": "flink-core/src/main/java/org/apache/flink/configuration/CoreOptions.java", "diffHunk": "@@ -218,6 +218,17 @@\n \t\t.withDescription(\"Defines the directory where the Flink logs are saved. It has to be an absolute path.\" +\n \t\t\t\" (Defaults to the log directory under Flink\u2019s home)\");\n \n+\t/**\n+\t * This options is here only for documentation generation, it is only", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUyNTI0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tpublic static final ConfigOption<String> FLINK_APP_PID_DIR = ConfigOptions\n          \n          \n            \n            \tpublic static final ConfigOption<String> FLINK_PID_DIR = ConfigOptions", "url": "https://github.com/apache/flink/pull/14014#discussion_r540525243", "createdAt": "2020-12-10T21:55:33Z", "author": {"login": "zentol"}, "path": "flink-core/src/main/java/org/apache/flink/configuration/CoreOptions.java", "diffHunk": "@@ -218,6 +218,17 @@\n \t\t.withDescription(\"Defines the directory where the Flink logs are saved. It has to be an absolute path.\" +\n \t\t\t\" (Defaults to the log directory under Flink\u2019s home)\");\n \n+\t/**\n+\t * This options is here only for documentation generation, it is only\n+\t * evaluated in the shell scripts.\n+\t */\n+\tpublic static final ConfigOption<String> FLINK_APP_PID_DIR = ConfigOptions", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUyNTY1Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\"Defines the directory where the flink-<host>-<process>.pid files are saved.\"\n          \n          \n            \n            \t\t\t\t+ \"(Defaults to the system tmp directory)\");\n          \n          \n            \n            \t\t\t\"Defines the directory where the flink-<host>-<process>.pid files are saved.\");", "url": "https://github.com/apache/flink/pull/14014#discussion_r540525657", "createdAt": "2020-12-10T21:56:19Z", "author": {"login": "zentol"}, "path": "flink-core/src/main/java/org/apache/flink/configuration/CoreOptions.java", "diffHunk": "@@ -218,6 +218,17 @@\n \t\t.withDescription(\"Defines the directory where the Flink logs are saved. It has to be an absolute path.\" +\n \t\t\t\" (Defaults to the log directory under Flink\u2019s home)\");\n \n+\t/**\n+\t * This options is here only for documentation generation, it is only\n+\t * evaluated in the shell scripts.\n+\t */\n+\tpublic static final ConfigOption<String> FLINK_APP_PID_DIR = ConfigOptions\n+\t\t.key(\"env.pid.dir\")\n+\t\t.noDefaultValue()\n+\t\t.withDescription(\n+\t\t\t\"Defines the directory where the flink-<host>-<process>.pid files are saved.\"\n+\t\t\t\t+ \"(Defaults to the system tmp directory)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "effccc0bebb448c13266bc078799cc911b1b1bfb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTI0OTg3", "url": "https://github.com/apache/flink/pull/14014#pullrequestreview-554524987", "createdAt": "2020-12-17T11:41:58Z", "commit": {"oid": "640f3259e28ac0d415307a77f4b4ba2d90e80307"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMTo0MTo1OFrOIHxtBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMTo0MTo1OFrOIHxtBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTAyNTI4Nw==", "bodyText": "can you put this change into a separate commit labeled \"[hotfix][docs] Fix order\"? Looks like someone modified the file manually once again...", "url": "https://github.com/apache/flink/pull/14014#discussion_r545025287", "createdAt": "2020-12-17T11:41:58Z", "author": {"login": "zentol"}, "path": "docs/_includes/generated/yarn_config_configuration.html", "diffHunk": "@@ -128,6 +122,12 @@\n             <td>List&lt;String&gt;</td>\n             <td>A semicolon-separated list of provided lib directories. They should be pre-uploaded and world-readable. Flink will use them to exclude the local Flink jars(e.g. flink-dist, lib/, plugins/)uploading to accelerate the job submission process. Also YARN will cache them on the nodes so that they doesn't need to be downloaded every time for each application. An example could be hdfs://$namenode_address/path/of/flink/lib</td>\n         </tr>\n+        <tr>\n+            <td><h5>yarn.security.kerberos.additionalFileSystems</h5></td>\n+            <td style=\"word-wrap: break-word;\">(none)</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "640f3259e28ac0d415307a77f4b4ba2d90e80307"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dca47b714c0fcd55f4892ea3ff4f42bd94af5d6b", "author": {"user": {"login": "archzi", "name": null}}, "url": "https://github.com/apache/flink/commit/dca47b714c0fcd55f4892ea3ff4f42bd94af5d6b", "committedDate": "2020-12-17T13:38:01Z", "message": "[hotfix][docs] Fix order"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dcc300f711476e2246b2b68ffd45b47d886728f", "author": {"user": {"login": "archzi", "name": null}}, "url": "https://github.com/apache/flink/commit/7dcc300f711476e2246b2b68ffd45b47d886728f", "committedDate": "2020-12-17T13:41:30Z", "message": "[FLINK-10274][flink-core] regenerate the documentation and accept the advice of code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "866291ef8b1c3e4aea363afdfa9e1e04cc34d977", "author": {"user": {"login": "zentol", "name": "Chesnay Schepler"}}, "url": "https://github.com/apache/flink/commit/866291ef8b1c3e4aea363afdfa9e1e04cc34d977", "committedDate": "2020-12-17T22:09:37Z", "message": "Update CoreOptions.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4572, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}