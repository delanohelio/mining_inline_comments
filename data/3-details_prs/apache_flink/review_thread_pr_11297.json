{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTE4NjM0", "number": 11297, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoxNToxMlrOD7EoUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyNjo1NFrOD7Ewmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjY4NDM0OnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/api/TableEnvironmentITCase.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoxNToxMlrOGTL2hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNzoxNDowMFrOGTPdDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MDMxMA==", "bodyText": "There are still quite some deprecated method call in this test class, is it intended?", "url": "https://github.com/apache/flink/pull/11297#discussion_r422770310", "createdAt": "2020-05-11T04:15:12Z", "author": {"login": "KurtYoung"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/api/TableEnvironmentITCase.scala", "diffHunk": "@@ -26,7 +26,7 @@ import org.apache.flink.table.api.internal.TableEnvironmentImpl\n import org.apache.flink.table.api.java.StreamTableEnvironment\n import org.apache.flink.table.api.scala.{StreamTableEnvironment => ScalaStreamTableEnvironment, _}\n import org.apache.flink.table.planner.factories.utils.TestCollectionTableFactory\n-import org.apache.flink.table.planner.runtime.utils.TestingAppendSink\n+import org.apache.flink.table.planner.runtime.utils.{TableEnvUtil, TestingAppendSink}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgyOTMyNQ==", "bodyText": "yes, these test cases are dedicated design to test buffer problem.", "url": "https://github.com/apache/flink/pull/11297#discussion_r422829325", "createdAt": "2020-05-11T07:14:00Z", "author": {"login": "godfreyhe"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/api/TableEnvironmentITCase.scala", "diffHunk": "@@ -26,7 +26,7 @@ import org.apache.flink.table.api.internal.TableEnvironmentImpl\n import org.apache.flink.table.api.java.StreamTableEnvironment\n import org.apache.flink.table.api.scala.{StreamTableEnvironment => ScalaStreamTableEnvironment, _}\n import org.apache.flink.table.planner.factories.utils.TestCollectionTableFactory\n-import org.apache.flink.table.planner.runtime.utils.TestingAppendSink\n+import org.apache.flink.table.planner.runtime.utils.{TableEnvUtil, TestingAppendSink}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MDMxMA=="}, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjY5MDgzOnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/api/TableEnvironment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoxODo0NlrOGTL6Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoxODo0NlrOGTL6Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MTIwNw==", "bodyText": "We should also deprecate Line#830 and Line#840?", "url": "https://github.com/apache/flink/pull/11297#discussion_r422771207", "createdAt": "2020-05-11T04:18:46Z", "author": {"login": "KurtYoung"}, "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/api/TableEnvironment.java", "diffHunk": "@@ -839,7 +845,9 @@ default Table fromValues(DataType rowType, Object... values) {\n \t *\n \t * @param extended if the plan should contain additional properties,\n \t * e.g. estimated cost, traits\n+\t * @deprecated use {@link StatementSet#explain(ExplainDetail...)}.\n \t */\n+\t@Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjY5OTA5OnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyMzoyM1rOGTL-Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNzoxNzo1MlrOGTPk-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MjMxOQ==", "bodyText": "It don't seem like a runtime util.", "url": "https://github.com/apache/flink/pull/11297#discussion_r422772319", "createdAt": "2020-05-11T04:23:23Z", "author": {"login": "KurtYoung"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.planner.runtime.utils", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgzMTM1Mg==", "bodyText": "like BatchTableEnvUtil and StreamTableEnvUtil, it's used for IT cases", "url": "https://github.com/apache/flink/pull/11297#discussion_r422831352", "createdAt": "2020-05-11T07:17:52Z", "author": {"login": "godfreyhe"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.planner.runtime.utils", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MjMxOQ=="}, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjcwNTEyOnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyNjo0NFrOGTMBgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyNjo0NFrOGTMBgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MzEyMQ==", "bodyText": "execInsertSqlAndWaitResult? Sync doesn't have clean semantic here.", "url": "https://github.com/apache/flink/pull/11297#discussion_r422773121", "createdAt": "2020-05-11T04:26:44Z", "author": {"login": "KurtYoung"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.planner.runtime.utils\n+\n+import org.apache.flink.api.common.JobExecutionResult\n+import org.apache.flink.table.api.{Table, TableEnvironment}\n+\n+object TableEnvUtil {\n+\n+  def syncExecuteInsert(tEnv: TableEnvironment, insert: String): JobExecutionResult = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjcwNTU1OnYy", "diffSide": "RIGHT", "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyNjo1NFrOGTMBuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNDoyNjo1NFrOGTMBuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc3MzE3Ng==", "bodyText": "execInsertAndWaitResult?", "url": "https://github.com/apache/flink/pull/11297#discussion_r422773176", "createdAt": "2020-05-11T04:26:54Z", "author": {"login": "KurtYoung"}, "path": "flink-table/flink-table-planner-blink/src/test/scala/org/apache/flink/table/planner/runtime/utils/TableEnvUtil.scala", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.flink.table.planner.runtime.utils\n+\n+import org.apache.flink.api.common.JobExecutionResult\n+import org.apache.flink.table.api.{Table, TableEnvironment}\n+\n+object TableEnvUtil {\n+\n+  def syncExecuteInsert(tEnv: TableEnvironment, insert: String): JobExecutionResult = {\n+    val tableResult = tEnv.executeSql(insert)\n+    // wait to finish\n+    tableResult.getJobClient.get\n+      .getJobExecutionResult(Thread.currentThread.getContextClassLoader)\n+      .get\n+  }\n+\n+  def syncExecuteInsert(table: Table, targetPath: String): JobExecutionResult = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd7ca0b4407e126739f17292b8a6a0561508351e"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 843, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}