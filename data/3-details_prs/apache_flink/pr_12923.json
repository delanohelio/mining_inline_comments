{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMDU1NjAy", "number": 12923, "title": "[FLINK-18621][sql-client] Simplify the methods of Executor interface in sql client", "bodyText": "What is the purpose of the change\nAfter TableEnvironment#executeSql is introduced, many methods of Executor interface in sql client can be replaced with TableEnvironment#executeSql. Those methods include:\nlistCatalogs, listDatabases, createTable, dropTable, listTables, listFunctions, useCatalog, useDatabase, getTableSchema (use DESCRIBE xx)\nBrief change log\n\nremove the methods which can be replaced with executeSql method in Executor interface, and update the related logic\n\nVerifying this change\nUpdate the existing tests, such as LocalExecutorITCase\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-07-17T11:31:18Z", "url": "https://github.com/apache/flink/pull/12923", "merged": true, "mergeCommit": {"oid": "c895737c43814a501888e2e3929f0123edc2af70"}, "closed": true, "closedAt": "2020-07-23T05:51:50Z", "author": {"login": "godfreyhe"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3DCC8AFqTQ1MjI5NTIyOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3o6HkAFqTQ1Mzg0OTgzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMjk1MjI5", "url": "https://github.com/apache/flink/pull/12923#pullrequestreview-452295229", "createdAt": "2020-07-21T09:43:52Z", "commit": {"oid": "63cb77304f929aecf4ec45f3be7baac23bebbccd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTYxOTc3", "url": "https://github.com/apache/flink/pull/12923#pullrequestreview-452961977", "createdAt": "2020-07-22T03:00:56Z", "commit": {"oid": "63cb77304f929aecf4ec45f3be7baac23bebbccd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzowMDo1NlrOG1Q8pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwMzowMDo1NlrOG1Q8pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODUwNTM4MQ==", "bodyText": "According to IteratorUtils.toList, if iterator is null, should throw NPE. I think it is good to be consistent with commons-collections.", "url": "https://github.com/apache/flink/pull/12923#discussion_r458505381", "createdAt": "2020-07-22T03:00:56Z", "author": {"login": "JingsongLi"}, "path": "flink-core/src/main/java/org/apache/flink/util/CollectionUtil.java", "diffHunk": "@@ -99,4 +100,18 @@ public static boolean isNullOrEmpty(Map<?, ?> map) {\n \t\titerable.iterator().forEachRemaining(list::add);\n \t\treturn list;\n \t}\n+\n+\t/**\n+\t * Collects the elements in the Iterator in a List. If the iterator argument is null,\n+\t * this method returns an empty list.\n+\t */\n+\tpublic static <E> List<E> iteratorToList(@Nullable Iterator<E> iterator) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63cb77304f929aecf4ec45f3be7baac23bebbccd"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60477b44b67de278b488a9355c435f21ea5b3953", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/60477b44b67de278b488a9355c435f21ea5b3953", "committedDate": "2020-07-23T01:39:12Z", "message": "[FLINK-18621][sql-client] Simplify the methods of Executor interface in sql client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e35150d1bb4867d967368340dc7a7a026d2412af", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/e35150d1bb4867d967368340dc7a7a026d2412af", "committedDate": "2020-07-23T01:39:12Z", "message": "fix compile error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81bfbff96af91c7543ab8222cfe6aadb551d3d15", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/81bfbff96af91c7543ab8222cfe6aadb551d3d15", "committedDate": "2020-07-23T01:39:13Z", "message": "fix compile error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63cb77304f929aecf4ec45f3be7baac23bebbccd", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/63cb77304f929aecf4ec45f3be7baac23bebbccd", "committedDate": "2020-07-20T12:04:24Z", "message": "fix compile error"}, "afterCommit": {"oid": "81bfbff96af91c7543ab8222cfe6aadb551d3d15", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/81bfbff96af91c7543ab8222cfe6aadb551d3d15", "committedDate": "2020-07-23T01:39:13Z", "message": "fix compile error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODQ5ODMw", "url": "https://github.com/apache/flink/pull/12923#pullrequestreview-453849830", "createdAt": "2020-07-23T05:51:36Z", "commit": {"oid": "81bfbff96af91c7543ab8222cfe6aadb551d3d15"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2894, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}