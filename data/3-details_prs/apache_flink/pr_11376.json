{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NTU1Mjc3", "number": 11376, "title": "[FLINK-16535] [table] BatchTableSink#emitDataSet returns DataSink", "bodyText": "What is the purpose of the change\nBatchTableSink#emitDataSet returns DataSink, and BatchTableEnvironment can generate Plan based on those DataSinks. This is an incompatible change, the existing BatchTableSinks should add return value for emitDataSet method.\nBrief change log\n\nadd return value for BatchTableSink#emitDataSet\n\nVerifying this change\nThis change is already covered by existing tests, such as org.apache.flink.table.catalog.CatalogTableITCase, org.apache.flink.table.api.TableEnvironmentITCase, etc. *\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no)\nThe serializers: (yes / no / don't know)\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (yes / no / don't know)\nThe S3 file system connector: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-03-11T08:46:04Z", "url": "https://github.com/apache/flink/pull/11376", "merged": true, "mergeCommit": {"oid": "9ffa85aaa1b9025e3d2becdc084a02aa8440d4d9"}, "closed": true, "closedAt": "2020-04-02T03:52:38Z", "author": {"login": "godfreyhe"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMifh1gH2gAyMzg2NTU1Mjc3OmE3MzdmYWZhOTAzMmE5OGE0Yjk4NDY2NDAwZDRlMTlkMzE3M2I2ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTkEGLAFqTM4NjA5MTY0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a737fafa9032a98a4b98466400d4e19d3173b6d0", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/a737fafa9032a98a4b98466400d4e19d3173b6d0", "committedDate": "2020-03-11T08:04:23Z", "message": "[FLINK-16535] [table] BatchTableSink#emitDataSet returns DataSink"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNDYyMTY5", "url": "https://github.com/apache/flink/pull/11376#pullrequestreview-373462169", "createdAt": "2020-03-12T11:07:23Z", "commit": {"oid": "a737fafa9032a98a4b98466400d4e19d3173b6d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMTowNzoyNFrOF1aNSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMTowNzoyNFrOF1aNSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU0ODIzMg==", "bodyText": "consumeDataSet?", "url": "https://github.com/apache/flink/pull/11376#discussion_r391548232", "createdAt": "2020-03-12T11:07:24Z", "author": {"login": "JingsongLi"}, "path": "flink-table/flink-table-api-java-bridge/src/main/java/org/apache/flink/table/sinks/BatchTableSink.java", "diffHunk": "@@ -31,5 +32,5 @@\n public interface BatchTableSink<T> extends TableSink<T> {\n \n \t/** Emits the DataSet. */\n-\tvoid emitDataSet(DataSet<T> dataSet);\n+\tDataSink<?> emitDataSet(DataSet<T> dataSet);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a737fafa9032a98a4b98466400d4e19d3173b6d0"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "001aadeb5d70da587aa67a997467e9856d81c2fd", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/001aadeb5d70da587aa67a997467e9856d81c2fd", "committedDate": "2020-03-31T07:35:49Z", "message": "rename emitDataSet to consumeDataSet in BatchTaleSink which could align with StreamTableSink#consumeDataStream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0ba2bfc98fd1e62d065f547a0f2eb985b475825", "author": {"user": {"login": "godfreyhe", "name": "godfrey he"}}, "url": "https://github.com/apache/flink/commit/f0ba2bfc98fd1e62d065f547a0f2eb985b475825", "committedDate": "2020-03-31T07:45:05Z", "message": "minor update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MDkxNjQ3", "url": "https://github.com/apache/flink/pull/11376#pullrequestreview-386091647", "createdAt": "2020-04-02T03:51:42Z", "commit": {"oid": "f0ba2bfc98fd1e62d065f547a0f2eb985b475825"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2694, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}