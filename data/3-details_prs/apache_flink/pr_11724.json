{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyOTgwOTAy", "number": 11724, "title": "[FLINK-16486][python][docs] Add documentation for vectorized Python UDF", "bodyText": "What is the purpose of the change\nThis pull request add documentation for vectorized Python UDF.\nBrief change log\n\nAdd documentation vectorized_python_udfs.md for vectorized Python UDF\n\nVerifying this change\nThis change is a documentation rework without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (no)\nThe serializers: (no)\nThe runtime per-record code paths (performance sensitive): (no)\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: (no)\nThe S3 file system connector: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (no)\nIf yes, how is the feature documented? (not applicable)", "createdAt": "2020-04-14T05:43:37Z", "url": "https://github.com/apache/flink/pull/11724", "merged": true, "mergeCommit": {"oid": "59a71b05f6ea23861a1052cd0b70d848c3517083"}, "closed": true, "closedAt": "2020-04-16T03:06:29Z", "author": {"login": "dianfu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXc0nQgH2gAyNDAyOTgwOTAyOjVhY2VjNGJiMzE5NjZlYzA1NDMzMWE2MjljZTUxYjYxNmI3YTAyMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX0lMpAH2gAyNDAyOTgwOTAyOjkzN2RmNmY1MWJmODc5NDQ2YjM3MzUxNmVmZDVlY2Q4YzMzMmI5OGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5acec4bb31966ec054331a629ce51b616b7a020b", "author": {"user": {"login": "dianfu", "name": "Dian Fu"}}, "url": "https://github.com/apache/flink/commit/5acec4bb31966ec054331a629ce51b616b7a020b", "committedDate": "2020-04-14T05:41:09Z", "message": "[FLINK-16486][python][docs] Add documentation for vectorized Python UDF"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNDcwMzUw", "url": "https://github.com/apache/flink/pull/11724#pullrequestreview-393470350", "createdAt": "2020-04-15T05:44:52Z", "commit": {"oid": "5acec4bb31966ec054331a629ce51b616b7a020b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNTo0NDo1MlrOGFqmhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNTo0ODozOVrOGFqq-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5NDA1NQ==", "bodyText": "change to `udf_type=\"pandas\"`", "url": "https://github.com/apache/flink/pull/11724#discussion_r408594055", "createdAt": "2020-04-15T05:44:52Z", "author": {"login": "hequn8128"}, "path": "docs/dev/table/python/vectorized_python_udfs.md", "diffHunk": "@@ -0,0 +1,62 @@\n+---\n+title: \"Vectorized User-defined Functions\"\n+nav-parent_id: python_tableapi\n+nav-pos: 30\n+---\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+Vectorized user-defined functions are functions which are executed by transferring a batch of elements between JVM and Python VM in Arrow columnar format.\n+It shares the similar way as the [non-vectorized user-defined functions]({{ site.baseurl }}/dev/table/python/python_udfs.html) on how to\n+define vectorized user-defined functions. Users only need to add an extra parameter udf_type=\"pandas\" in the decorator `udf` to mark it as a vectorized user-defined function.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5acec4bb31966ec054331a629ce51b616b7a020b"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5NTE5NQ==", "bodyText": "Also add some descriptions about the advantages of the vectorized udfs over regular udfs?", "url": "https://github.com/apache/flink/pull/11724#discussion_r408595195", "createdAt": "2020-04-15T05:48:39Z", "author": {"login": "hequn8128"}, "path": "docs/dev/table/python/vectorized_python_udfs.md", "diffHunk": "@@ -0,0 +1,62 @@\n+---\n+title: \"Vectorized User-defined Functions\"\n+nav-parent_id: python_tableapi\n+nav-pos: 30\n+---\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+Vectorized user-defined functions are functions which are executed by transferring a batch of elements between JVM and Python VM in Arrow columnar format.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5acec4bb31966ec054331a629ce51b616b7a020b"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e0eaaf59763bb0b64a4798e7f243b1c9bf12758", "author": {"user": {"login": "dianfu", "name": "Dian Fu"}}, "url": "https://github.com/apache/flink/commit/8e0eaaf59763bb0b64a4798e7f243b1c9bf12758", "committedDate": "2020-04-15T07:44:42Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNTk3OTgy", "url": "https://github.com/apache/flink/pull/11724#pullrequestreview-393597982", "createdAt": "2020-04-15T09:17:17Z", "commit": {"oid": "8e0eaaf59763bb0b64a4798e7f243b1c9bf12758"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOToxNzoxOFrOGFxAcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOToxNzoxOFrOGFxAcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY5ODk5Mg==", "bodyText": "to `pandas.Series`. Also note for other places.", "url": "https://github.com/apache/flink/pull/11724#discussion_r408698992", "createdAt": "2020-04-15T09:17:18Z", "author": {"login": "hequn8128"}, "path": "docs/dev/table/python/vectorized_python_udfs.md", "diffHunk": "@@ -0,0 +1,65 @@\n+---\n+title: \"Vectorized User-defined Functions\"\n+nav-parent_id: python_tableapi\n+nav-pos: 30\n+---\n+<!--\n+Licensed to the Apache Software Foundation (ASF) under one\n+or more contributor license agreements.  See the NOTICE file\n+distributed with this work for additional information\n+regarding copyright ownership.  The ASF licenses this file\n+to you under the Apache License, Version 2.0 (the\n+\"License\"); you may not use this file except in compliance\n+with the License.  You may obtain a copy of the License at\n+\n+  http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing,\n+software distributed under the License is distributed on an\n+\"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+KIND, either express or implied.  See the License for the\n+specific language governing permissions and limitations\n+under the License.\n+-->\n+\n+Vectorized Python user-defined functions are functions which are executed by transferring a batch of elements between JVM and Python VM in Arrow columnar format.\n+The performance of vectorized Python user-defined functions are usually much higher than non-vectorized Python user-defined functions as the serialization/deserialization\n+overhead is much reduced. Besides, users could leverage the popular Python libraries such as Pandas, Numpy, etc for the vectorized Python user-defined functions implementation.\n+These Python libraries are highly optimized and provide high-performance data structures and functions. It shares the similar way as the\n+[non-vectorized user-defined functions]({{ site.baseurl }}/dev/table/python/python_udfs.html) on how to define vectorized user-defined functions.\n+Users only need to add an extra parameter `udf_type=\"pandas\"` in the decorator `udf` to mark it as a vectorized user-defined function.\n+\n+**NOTE:** Python UDF execution requires Python version (3.5, 3.6 or 3.7) with PyFlink installed. It's required on both the client side and the cluster side. \n+\n+* This will be replaced by the TOC\n+{:toc}\n+\n+## Vectorized Scalar Functions\n+\n+Vectorized Python scalar functions take pandas.Series as the inputs and return a pandas.Series of the same length as the output.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e0eaaf59763bb0b64a4798e7f243b1c9bf12758"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "937df6f51bf879446b373516efd5ecd8c332b98b", "author": {"user": {"login": "dianfu", "name": "Dian Fu"}}, "url": "https://github.com/apache/flink/commit/937df6f51bf879446b373516efd5ecd8c332b98b", "committedDate": "2020-04-15T09:22:02Z", "message": "address review"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2123, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}