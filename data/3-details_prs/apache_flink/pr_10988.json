{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5ODM3NTE0", "number": 10988, "title": "[FLINK-16348][Runtime/WebFrontend] Add commas to large numeric accumulators", "bodyText": "What is the purpose of the change\n*Make large numeric accumulator values easier to read.\nBrief change log\n*Decimal piped the value if it is finite.\nVerifying this change\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\n\nDependencies (does it add or upgrade a dependency): (yes / no) no\nThe public API, i.e., is any changed class annotated with @Public(Evolving): (yes / no) no\nThe serializers: (yes / no / don't know) no\nThe runtime per-record code paths (performance sensitive): (yes / no / don't know) no\nAnything that affects deployment or recovery: JobManager (and its components), Checkpointing, Yarn/Mesos, ZooKeeper: (yes / no / don't know) no\nThe S3 file system connector: (yes / no / don't know) no\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no) no\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)", "createdAt": "2020-02-01T01:55:38Z", "url": "https://github.com/apache/flink/pull/10988", "merged": true, "mergeCommit": {"oid": "a9d47c75468dccf4785027b01d90bfd46c2e700e"}, "closed": true, "closedAt": "2020-03-03T14:06:22Z", "author": {"login": "kbohinski"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_5zVWgH2gAyMzY5ODM3NTE0OmNlYzMwM2E3YzJjNmU0MzM4Y2E1N2Y4MGY0ZmFkZmU3MTgyMTI2YmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIRxr8AH2gAyMzY5ODM3NTE0OmFjMzY0NjQ2MDIzNjgxYzlhNGIyMzdhZmU4NmYwNzNjM2ZlNWQxMDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cec303a7c2c6e4338ca57f80f4fadfe7182126bb", "author": {"user": {"login": "kbohinski", "name": "Kevin Bohinski"}}, "url": "https://github.com/apache/flink/commit/cec303a7c2c6e4338ca57f80f4fadfe7182126bb", "committedDate": "2020-02-01T01:52:49Z", "message": "Update job-overview-drawer-accumulators.component.html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6a65a4b76cfc13e5ee953e624fa6f109c8a178c", "author": {"user": null}, "url": "https://github.com/apache/flink/commit/a6a65a4b76cfc13e5ee953e624fa6f109c8a178c", "committedDate": "2020-02-01T07:00:49Z", "message": "Added isFinite to the Controller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d", "author": {"user": {"login": "kbohinski", "name": "Kevin Bohinski"}}, "url": "https://github.com/apache/flink/commit/03ed8174e26557a168fe5defeebbfa8bc139c08d", "committedDate": "2020-02-01T07:04:42Z", "message": "Merge pull request #2 from chushao/patch-2\n\nAdded isFinite to the Controller"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0OTIwODIw", "url": "https://github.com/apache/flink/pull/10988#pullrequestreview-364920820", "createdAt": "2020-02-26T14:02:28Z", "commit": {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNDowMjoyOFrOFusnog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNDowMjoyOFrOFusnog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDUwOTg1OA==", "bodyText": "I'm not sure, but is the {{accumulator.value}} always integer? if not we should not make it round to integer with number:'1.0-0',number:'1.0-3' is better", "url": "https://github.com/apache/flink/pull/10988#discussion_r384509858", "createdAt": "2020-02-26T14:02:28Z", "author": {"login": "vthinkxie"}, "path": "flink-runtime-web/web-dashboard/src/app/pages/job/overview/accumulators/job-overview-drawer-accumulators.component.html", "diffHunk": "@@ -37,7 +37,10 @@\n         <tr *ngFor=\"let accumulator of listOfAccumulator; trackBy:trackAccumulatorBy;\">\n           <td>{{ accumulator.name }}</td>\n           <td>{{ accumulator.type }}</td>\n-          <td>{{ accumulator.value }}</td>\n+          <td *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0OTIzMzYw", "url": "https://github.com/apache/flink/pull/10988#pullrequestreview-364923360", "createdAt": "2020-02-26T14:05:48Z", "commit": {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNDowNTo0OFrOFusvIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxNDowNTo0OFrOFusvIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDUxMTc3Ng==", "bodyText": "there is no need to duplicate the td here, try this way\n<td>\n  <ng-container *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</ng-container>\n  <ng-template #nonNumeric>{{ accumulator.value }}</ng-template>\n</td>\nand another easier way to do this\n<td>\n  {{ (accumulator.value | number:'1.0-3' ) || accumulator.value }}\n</td>", "url": "https://github.com/apache/flink/pull/10988#discussion_r384511776", "createdAt": "2020-02-26T14:05:48Z", "author": {"login": "vthinkxie"}, "path": "flink-runtime-web/web-dashboard/src/app/pages/job/overview/accumulators/job-overview-drawer-accumulators.component.html", "diffHunk": "@@ -37,7 +37,10 @@\n         <tr *ngFor=\"let accumulator of listOfAccumulator; trackBy:trackAccumulatorBy;\">\n           <td>{{ accumulator.name }}</td>\n           <td>{{ accumulator.type }}</td>\n-          <td>{{ accumulator.value }}</td>\n+          <td *ngIf=\"isFinite(accumulator.value); else nonNumeric\">{{ accumulator.value | number:'1.0-0' }}</td>\n+          <ng-template #nonNumeric>\n+            <td>{{ accumulator.value }}</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03ed8174e26557a168fe5defeebbfa8bc139c08d"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06668089b730778948e758f114c2ed34d141135f", "author": {"user": {"login": "kbohinski", "name": "Kevin Bohinski"}}, "url": "https://github.com/apache/flink/commit/06668089b730778948e758f114c2ed34d141135f", "committedDate": "2020-02-27T02:10:22Z", "message": "Update job-overview-drawer-accumulators.component.html"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac364646023681c9a4b237afe86f073c3fe5d108", "author": {"user": {"login": "kbohinski", "name": "Kevin Bohinski"}}, "url": "https://github.com/apache/flink/commit/ac364646023681c9a4b237afe86f073c3fe5d108", "committedDate": "2020-02-27T02:20:08Z", "message": "Update job-overview-drawer-accumulators.component.ts"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4565, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}