{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MDA2NzM0", "number": 3644, "title": "fix-NXP-28433-multi-complex-nullifying", "bodyText": "PR created from https://qa.nuxeo.org/jenkins/job/TestAndPush/job/ondemand-testandpush-kleturc/668/", "createdAt": "2020-01-03T14:27:37Z", "url": "https://github.com/nuxeo/nuxeo/pull/3644", "merged": true, "mergeCommit": {"oid": "9606d9dfd31bff3cd192d43b41f863d6c30d62a5"}, "closed": true, "closedAt": "2020-01-07T12:55:52Z", "author": {"login": "nuxeojenkins"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2YklJgH2gAyMzU5MDA2NzM0OjdkOWFhNDM0Yjg3MjhkN2I2ZWY2YTA2NDYyMWQwZTEyNjJiOWUzMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb395eWgFqTMzOTE0MDcwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7d9aa434b8728d7b6ef6a064621d0e1262b9e333", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7d9aa434b8728d7b6ef6a064621d0e1262b9e333", "committedDate": "2020-01-02T12:04:31Z", "message": "NXP-28433: Cleanup / Format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af9578745bea905448b61b88cbaa899f9ba9818e", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/af9578745bea905448b61b88cbaa899f9ba9818e", "committedDate": "2020-01-02T14:39:03Z", "message": "NXP-28433: Fix multi complex nullifying through REST"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NTkxMDky", "url": "https://github.com/nuxeo/nuxeo/pull/3644#pullrequestreview-338591092", "createdAt": "2020-01-06T11:19:12Z", "commit": {"oid": "7d9aa434b8728d7b6ef6a064621d0e1262b9e333"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMToxOToxMlrOFabQfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMTozMDoxMFrOFabdNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1Mzg4NA==", "bodyText": "Why not making it a facade that would call the specific setValue implementation rather than doing nothing ?", "url": "https://github.com/nuxeo/nuxeo/pull/3644#discussion_r363253884", "createdAt": "2020-01-06T11:19:12Z", "author": {"login": "NourNuxeo"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/model/impl/ListProperty.java", "diffHunk": "@@ -48,22 +48,21 @@\n      */\n     protected final Field field;\n \n-    protected final List<Property> children;\n+    protected final List<Property> children = new ArrayList<>();\n \n     public ListProperty(Property parent, Field field) {\n         super(parent);\n         this.field = field;\n-        children = new ArrayList<>();\n     }\n \n     public ListProperty(Property parent, Field field, int flags) {\n         super(parent, flags);\n         this.field = field;\n-        children = new ArrayList<>();\n     }\n \n     @Override\n     public void internalSetValue(Serializable value) throws PropertyException {\n+        // ListProperty uses a specific setValue implementation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d9aa434b8728d7b6ef6a064621d0e1262b9e333"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI1NzE0MA==", "bodyText": "Since you are cleaning here, why not typing with   since it's used as such next line ?", "url": "https://github.com/nuxeo/nuxeo/pull/3644#discussion_r363257140", "createdAt": "2020-01-06T11:30:10Z", "author": {"login": "NourNuxeo"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/model/impl/ListProperty.java", "diffHunk": "@@ -201,8 +198,7 @@ public Serializable getValueForWrite() throws PropertyException {\n         if (children.isEmpty()) {\n             return new ArrayList<String>();\n         }\n-        // noinspection CollectionDeclaredAsConcreteClass\n-        ArrayList<Object> list = new ArrayList<>(children.size());\n+        var list = new ArrayList<>(children.size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d9aa434b8728d7b6ef6a064621d0e1262b9e333"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTM0ODEy", "url": "https://github.com/nuxeo/nuxeo/pull/3644#pullrequestreview-339134812", "createdAt": "2020-01-07T09:57:09Z", "commit": {"oid": "af9578745bea905448b61b88cbaa899f9ba9818e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTQwNzAw", "url": "https://github.com/nuxeo/nuxeo/pull/3644#pullrequestreview-339140700", "createdAt": "2020-01-07T10:07:45Z", "commit": {"oid": "af9578745bea905448b61b88cbaa899f9ba9818e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4870, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}