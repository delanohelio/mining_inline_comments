{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNTUyMjY5", "number": 4366, "title": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock", "bodyText": "", "createdAt": "2020-10-09T12:21:45Z", "url": "https://github.com/nuxeo/nuxeo/pull/4366", "merged": true, "mergeCommit": {"oid": "4d5aab244ed9f579f8035e12ce04af7bc3989fc3"}, "closed": true, "closedAt": "2020-10-13T09:58:49Z", "author": {"login": "efge"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRy595gFqTUwNjU2MjAwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR0NOBgFqTUwNjYzMTU0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NTYyMDA4", "url": "https://github.com/nuxeo/nuxeo/pull/4366#pullrequestreview-506562008", "createdAt": "2020-10-12T12:10:43Z", "commit": {"oid": "e48e56fc1334bc17595edd6f7170490fea4e0c05"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMjoxMDo0M1rOHf8Djw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMjoxMDo0M1rOHf8Djw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI1MTg1NQ==", "bodyText": "What do you think about catching SdkBaseException?", "url": "https://github.com/nuxeo/nuxeo/pull/4366#discussion_r503251855", "createdAt": "2020-10-12T12:10:43Z", "author": {"login": "kevinleturc"}, "path": "modules/core/nuxeo-core-binarymanager-cloud/nuxeo-core-binarymanager-s3/src/main/java/org/nuxeo/ecm/blob/s3/S3BlobStore.java", "diffHunk": "@@ -265,6 +266,9 @@ protected String writeFile(String key, Path file, BlobContext blobContext, Strin\n         } catch (InterruptedException e) {\n             Thread.currentThread().interrupt();\n             throw new NuxeoException(e);\n+        } catch (SdkClientException e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e48e56fc1334bc17595edd6f7170490fea4e0c05"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "committedDate": "2020-10-12T13:28:55Z", "message": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e48e56fc1334bc17595edd6f7170490fea4e0c05", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e48e56fc1334bc17595edd6f7170490fea4e0c05", "committedDate": "2020-10-09T12:19:48Z", "message": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock"}, "afterCommit": {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f", "committedDate": "2020-10-12T13:28:55Z", "message": "NXP-29476: include MD5 when uploading to S3 bucket with ObjectLock"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjIwOTkw", "url": "https://github.com/nuxeo/nuxeo/pull/4366#pullrequestreview-506620990", "createdAt": "2020-10-12T13:30:39Z", "commit": {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjMxNTQ5", "url": "https://github.com/nuxeo/nuxeo/pull/4366#pullrequestreview-506631549", "createdAt": "2020-10-12T13:43:27Z", "commit": {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzo0MzoyN1rOHf_VOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzo0MzoyN1rOHf_VOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzMwNTUyOQ==", "bodyText": "What do you mean? That it's better to catch a wider exception than the one usually marked as thrown by the SDK API? Why?", "url": "https://github.com/nuxeo/nuxeo/pull/4366#discussion_r503305529", "createdAt": "2020-10-12T13:43:27Z", "author": {"login": "ataillefer"}, "path": "modules/core/nuxeo-core-binarymanager-cloud/nuxeo-core-binarymanager-s3/src/main/java/org/nuxeo/ecm/blob/s3/S3BlobStore.java", "diffHunk": "@@ -265,6 +266,9 @@ protected String writeFile(String key, Path file, BlobContext blobContext, Strin\n         } catch (InterruptedException e) {\n             Thread.currentThread().interrupt();\n             throw new NuxeoException(e);\n+        } catch (SdkBaseException e) {\n+            // catch SdkBaseException and not just AmazonServiceException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdf3a244099df02d9be2d2d8bf9c4b3ead94f33f"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4930, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}