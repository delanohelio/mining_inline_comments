{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MTYxNjEz", "number": 4228, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzowMjo1OVrOESreIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzowMjo1OVrOESreIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MDIyMDUwOnYy", "diffSide": "RIGHT", "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzowMjo1OVrOG3_Tdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMzoxODo0MFrOG4MHfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MjAzOA==", "bodyText": "Should we understand this as \"if the repository is not the default one and headless is not filled in (null), then it's considered as headless\"?\nIn this case, why is it different from master, see e018af0#diff-e73e25622874c080fe10b7cbcb291ea8R93?\nMight deserve a comment.", "url": "https://github.com/nuxeo/nuxeo/pull/4228#discussion_r461362038", "createdAt": "2020-07-28T07:02:59Z", "author": {"login": "ataillefer"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +93,14 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        if (isDefault()) {\n+            return Boolean.TRUE.equals(headless);\n+        }\n+        return !Boolean.FALSE.equals(headless);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878d443e8edaeaa644efd5102696a66de9fb5670"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4NTgwOQ==", "bodyText": "yes, this is different than in master because we want all repos to be headless by default unless it's the default one (if this is not explictly set to be headless).\nthis is so that a repository picker doesn't show up all of sudden after installing a HF.", "url": "https://github.com/nuxeo/nuxeo/pull/4228#discussion_r461485809", "createdAt": "2020-07-28T10:40:13Z", "author": {"login": "nelsonsilva"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +93,14 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        if (isDefault()) {\n+            return Boolean.TRUE.equals(headless);\n+        }\n+        return !Boolean.FALSE.equals(headless);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MjAzOA=="}, "originalCommit": {"oid": "878d443e8edaeaa644efd5102696a66de9fb5670"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUzOTQyMw==", "bodyText": "OK thanks.\nAgain, I think this explanation would be interesting as a comment in the code.", "url": "https://github.com/nuxeo/nuxeo/pull/4228#discussion_r461539423", "createdAt": "2020-07-28T12:26:59Z", "author": {"login": "ataillefer"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +93,14 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        if (isDefault()) {\n+            return Boolean.TRUE.equals(headless);\n+        }\n+        return !Boolean.FALSE.equals(headless);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MjAzOA=="}, "originalCommit": {"oid": "878d443e8edaeaa644efd5102696a66de9fb5670"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU1NjI1Mg==", "bodyText": "+1 on adding a comment explaining that this is for backward compat", "url": "https://github.com/nuxeo/nuxeo/pull/4228#discussion_r461556252", "createdAt": "2020-07-28T12:54:39Z", "author": {"login": "efge"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +93,14 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        if (isDefault()) {\n+            return Boolean.TRUE.equals(headless);\n+        }\n+        return !Boolean.FALSE.equals(headless);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MjAzOA=="}, "originalCommit": {"oid": "878d443e8edaeaa644efd5102696a66de9fb5670"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTU3MTk2Ng==", "bodyText": "\ud83d\udc4d added a comment", "url": "https://github.com/nuxeo/nuxeo/pull/4228#discussion_r461571966", "createdAt": "2020-07-28T13:18:40Z", "author": {"login": "nelsonsilva"}, "path": "nuxeo-core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +93,14 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        if (isDefault()) {\n+            return Boolean.TRUE.equals(headless);\n+        }\n+        return !Boolean.FALSE.equals(headless);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM2MjAzOA=="}, "originalCommit": {"oid": "878d443e8edaeaa644efd5102696a66de9fb5670"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4358, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}