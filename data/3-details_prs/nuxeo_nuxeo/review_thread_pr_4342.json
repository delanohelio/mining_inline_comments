{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MTQwNzE5", "number": 4342, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNzowNlrOEoFUxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNzowNlrOEoFUxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNDY1NzMyOnYy", "diffSide": "RIGHT", "path": "docker/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNzowNlrOHY-Ejg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjoyOTo0NVrOHZcteA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0NDg0Ng==", "bodyText": "Why replacing 2 images by one introduces this plugin?", "url": "https://github.com/nuxeo/nuxeo/pull/4342#discussion_r495944846", "createdAt": "2020-09-28T13:37:06Z", "author": {"login": "bdelbosc"}, "path": "docker/pom.xml", "diffHunk": "@@ -10,30 +10,60 @@\n   </parent>\n \n   <groupId>org.nuxeo.docker</groupId>\n-  <artifactId>nuxeo-docker-images</artifactId>\n-  <name>Nuxeo Docker Images</name>\n+  <artifactId>nuxeo-docker-image</artifactId>\n+  <name>Nuxeo Docker Image</name>\n   <packaging>pom</packaging>\n \n-  <modules>\n-    <module>nuxeo</module>\n-    <module>slim</module>\n-  </modules>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.nuxeo.ecm.distribution</groupId>\n+      <artifactId>nuxeo-server-tomcat</artifactId>\n+      <type>zip</type>\n+    </dependency>\n+  </dependencies>\n \n-  <dependencyManagement>\n-    <dependencies>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-slim-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-    </dependencies>\n-  </dependencyManagement>\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-dependency-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <id>copy-distrib</id>\n+            <goals>\n+              <goal>copy-dependencies</goal>\n+            </goals>\n+            <configuration>\n+              <includeArtifactIds>nuxeo-server-tomcat</includeArtifactIds>\n+              <outputDirectory>${project.build.directory}/distrib</outputDirectory>\n+              <overWriteIfNewer>true</overWriteIfNewer>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+      <plugin>\n+        <groupId>com.spotify</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyMzYzMA==", "bodyText": "It was already used by the 2 images: slim and nuxeo.\nIt allows to build the Docker image with Maven.", "url": "https://github.com/nuxeo/nuxeo/pull/4342#discussion_r496023630", "createdAt": "2020-09-28T15:11:58Z", "author": {"login": "ataillefer"}, "path": "docker/pom.xml", "diffHunk": "@@ -10,30 +10,60 @@\n   </parent>\n \n   <groupId>org.nuxeo.docker</groupId>\n-  <artifactId>nuxeo-docker-images</artifactId>\n-  <name>Nuxeo Docker Images</name>\n+  <artifactId>nuxeo-docker-image</artifactId>\n+  <name>Nuxeo Docker Image</name>\n   <packaging>pom</packaging>\n \n-  <modules>\n-    <module>nuxeo</module>\n-    <module>slim</module>\n-  </modules>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.nuxeo.ecm.distribution</groupId>\n+      <artifactId>nuxeo-server-tomcat</artifactId>\n+      <type>zip</type>\n+    </dependency>\n+  </dependencies>\n \n-  <dependencyManagement>\n-    <dependencies>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-slim-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-    </dependencies>\n-  </dependencyManagement>\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-dependency-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <id>copy-distrib</id>\n+            <goals>\n+              <goal>copy-dependencies</goal>\n+            </goals>\n+            <configuration>\n+              <includeArtifactIds>nuxeo-server-tomcat</includeArtifactIds>\n+              <outputDirectory>${project.build.directory}/distrib</outputDirectory>\n+              <overWriteIfNewer>true</overWriteIfNewer>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+      <plugin>\n+        <groupId>com.spotify</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0NDg0Ng=="}, "originalCommit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ0Njg0MA==", "bodyText": "ok so it was a missing dependency", "url": "https://github.com/nuxeo/nuxeo/pull/4342#discussion_r496446840", "createdAt": "2020-09-29T06:29:45Z", "author": {"login": "bdelbosc"}, "path": "docker/pom.xml", "diffHunk": "@@ -10,30 +10,60 @@\n   </parent>\n \n   <groupId>org.nuxeo.docker</groupId>\n-  <artifactId>nuxeo-docker-images</artifactId>\n-  <name>Nuxeo Docker Images</name>\n+  <artifactId>nuxeo-docker-image</artifactId>\n+  <name>Nuxeo Docker Image</name>\n   <packaging>pom</packaging>\n \n-  <modules>\n-    <module>nuxeo</module>\n-    <module>slim</module>\n-  </modules>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.nuxeo.ecm.distribution</groupId>\n+      <artifactId>nuxeo-server-tomcat</artifactId>\n+      <type>zip</type>\n+    </dependency>\n+  </dependencies>\n \n-  <dependencyManagement>\n-    <dependencies>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-slim-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-    </dependencies>\n-  </dependencyManagement>\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-dependency-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <id>copy-distrib</id>\n+            <goals>\n+              <goal>copy-dependencies</goal>\n+            </goals>\n+            <configuration>\n+              <includeArtifactIds>nuxeo-server-tomcat</includeArtifactIds>\n+              <outputDirectory>${project.build.directory}/distrib</outputDirectory>\n+              <overWriteIfNewer>true</overWriteIfNewer>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+      <plugin>\n+        <groupId>com.spotify</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0NDg0Ng=="}, "originalCommit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4327, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}