{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MTQwNzE5", "number": 4342, "title": "task NXP 29684 single nuxeo docker image", "bodyText": "", "createdAt": "2020-09-28T13:24:44Z", "url": "https://github.com/nuxeo/nuxeo/pull/4342", "merged": true, "mergeCommit": {"oid": "ce74ee7f605666addc17a2253f7499a40484f63a"}, "closed": true, "closedAt": "2020-09-29T08:52:44Z", "author": {"login": "ataillefer"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNTMqugH2gAyNDk0MTQwNzE5OjM5NzYxYzUxNmYxYzI3Y2Y5ZjI0NzhkZDNhNTkxODUzYzBjNjcxZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNjuqpAFqTQ5ODIxOTE3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "39761c516f1c27cf9f2478dd3a591853c0c671d8", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/39761c516f1c27cf9f2478dd3a591853c0c671d8", "committedDate": "2020-09-28T13:00:17Z", "message": "NXP-29684: Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17", "committedDate": "2020-09-28T13:23:24Z", "message": "NXP-29684: Build a single nuxeo/nuxeo Docker image"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NTE5MTE4", "url": "https://github.com/nuxeo/nuxeo/pull/4342#pullrequestreview-497519118", "createdAt": "2020-09-28T13:37:05Z", "commit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNzowNlrOHY-Ejg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxMzozNzowNlrOHY-Ejg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk0NDg0Ng==", "bodyText": "Why replacing 2 images by one introduces this plugin?", "url": "https://github.com/nuxeo/nuxeo/pull/4342#discussion_r495944846", "createdAt": "2020-09-28T13:37:06Z", "author": {"login": "bdelbosc"}, "path": "docker/pom.xml", "diffHunk": "@@ -10,30 +10,60 @@\n   </parent>\n \n   <groupId>org.nuxeo.docker</groupId>\n-  <artifactId>nuxeo-docker-images</artifactId>\n-  <name>Nuxeo Docker Images</name>\n+  <artifactId>nuxeo-docker-image</artifactId>\n+  <name>Nuxeo Docker Image</name>\n   <packaging>pom</packaging>\n \n-  <modules>\n-    <module>nuxeo</module>\n-    <module>slim</module>\n-  </modules>\n+  <dependencies>\n+    <dependency>\n+      <groupId>org.nuxeo.ecm.distribution</groupId>\n+      <artifactId>nuxeo-server-tomcat</artifactId>\n+      <type>zip</type>\n+    </dependency>\n+  </dependencies>\n \n-  <dependencyManagement>\n-    <dependencies>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-      <dependency>\n-        <groupId>org.nuxeo.docker</groupId>\n-        <artifactId>nuxeo-slim-docker-image</artifactId>\n-        <type>pom</type>\n-        <version>${nuxeo.platform.version}</version>\n-      </dependency>\n-    </dependencies>\n-  </dependencyManagement>\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-dependency-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <id>copy-distrib</id>\n+            <goals>\n+              <goal>copy-dependencies</goal>\n+            </goals>\n+            <configuration>\n+              <includeArtifactIds>nuxeo-server-tomcat</includeArtifactIds>\n+              <outputDirectory>${project.build.directory}/distrib</outputDirectory>\n+              <overWriteIfNewer>true</overWriteIfNewer>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>\n+      <plugin>\n+        <groupId>com.spotify</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTMxMTc1", "url": "https://github.com/nuxeo/nuxeo/pull/4342#pullrequestreview-498131175", "createdAt": "2020-09-29T06:30:00Z", "commit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MjE5MTcw", "url": "https://github.com/nuxeo/nuxeo/pull/4342#pullrequestreview-498219170", "createdAt": "2020-09-29T08:15:54Z", "commit": {"oid": "143f6e4e5e2ac4560f1d9d9c22f44d86bc8d7f17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4977, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}