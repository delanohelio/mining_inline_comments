{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NTgwMjA2", "number": 4210, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNTozMzozNFrOEPL30Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNTozMzo1OFrOEPL4gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzU4NjA5OnYy", "diffSide": "RIGHT", "path": "server/nuxeo-functional-tests/src/main/java/org/nuxeo/functionaltests/LogTestWatchman.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNTozMzozNFrOGywmJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowMjozNVrOGzNOPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3ODE4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.warn(\"file delete failed for \" + lastPageSource);\n          \n          \n            \n                        log.warn(\"file deletion failed for: {}\", lastPageSource);", "url": "https://github.com/nuxeo/nuxeo/pull/4210#discussion_r455878180", "createdAt": "2020-07-16T15:33:34Z", "author": {"login": "NourNuxeo"}, "path": "server/nuxeo-functional-tests/src/main/java/org/nuxeo/functionaltests/LogTestWatchman.java", "diffHunk": "@@ -196,11 +196,11 @@ public void starting(FrameworkMethod method) {\n \n     @Override\n     public void succeeded(FrameworkMethod method) {\n-        if (lastPageSource != null) {\n-            new File(lastPageSource).delete();\n+        if (lastPageSource != null && !new File(lastPageSource).delete()) {\n+            log.warn(\"file delete failed for \" + lastPageSource);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe41deba14ed389bf4cbbbbb1c1617e1367fb9d8"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NzE5Nw==", "bodyText": "Does not work if not using log4j2.", "url": "https://github.com/nuxeo/nuxeo/pull/4210#discussion_r456347197", "createdAt": "2020-07-17T10:02:35Z", "author": {"login": "troger"}, "path": "server/nuxeo-functional-tests/src/main/java/org/nuxeo/functionaltests/LogTestWatchman.java", "diffHunk": "@@ -196,11 +196,11 @@ public void starting(FrameworkMethod method) {\n \n     @Override\n     public void succeeded(FrameworkMethod method) {\n-        if (lastPageSource != null) {\n-            new File(lastPageSource).delete();\n+        if (lastPageSource != null && !new File(lastPageSource).delete()) {\n+            log.warn(\"file delete failed for \" + lastPageSource);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3ODE4MA=="}, "originalCommit": {"oid": "fe41deba14ed389bf4cbbbbb1c1617e1367fb9d8"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzU4Nzg1OnYy", "diffSide": "RIGHT", "path": "server/nuxeo-functional-tests/src/main/java/org/nuxeo/functionaltests/LogTestWatchman.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNTozMzo1OFrOGywnRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNTozMzo1OFrOGywnRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3ODQ3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.warn(\"file delete failed for \" + lastScreenshot);\n          \n          \n            \n                        log.warn(\"file deletion failed for: {}\", lastScreenshot);", "url": "https://github.com/nuxeo/nuxeo/pull/4210#discussion_r455878471", "createdAt": "2020-07-16T15:33:58Z", "author": {"login": "NourNuxeo"}, "path": "server/nuxeo-functional-tests/src/main/java/org/nuxeo/functionaltests/LogTestWatchman.java", "diffHunk": "@@ -196,11 +196,11 @@ public void starting(FrameworkMethod method) {\n \n     @Override\n     public void succeeded(FrameworkMethod method) {\n-        if (lastPageSource != null) {\n-            new File(lastPageSource).delete();\n+        if (lastPageSource != null && !new File(lastPageSource).delete()) {\n+            log.warn(\"file delete failed for \" + lastPageSource);\n         }\n-        if (lastScreenshot != null) {\n-            new File(lastScreenshot).delete();\n+        if (lastScreenshot != null && !new File(lastScreenshot).delete()) {\n+            log.warn(\"file delete failed for \" + lastScreenshot);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe41deba14ed389bf4cbbbbb1c1617e1367fb9d8"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4341, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}