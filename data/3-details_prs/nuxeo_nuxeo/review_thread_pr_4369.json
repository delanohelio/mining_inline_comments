{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNTkzMzg2", "number": 4369, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNzowMjo0M1rOE3Uotg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTozNzo1NVrOE4E51w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NDQ1MjM4OnYy", "diffSide": "RIGHT", "path": "modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNzowMjo0M1rOHwmaRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNzowMjo0M1rOHwmaRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDcyMzAxNA==", "bodyText": "You can remove this field completely, the code was buggy anyway, nothing initializes it.", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r520723014", "createdAt": "2020-11-10T17:02:43Z", "author": {"login": "efge"}, "path": "modules/platform/nuxeo-platform-filemanager/src/main/java/org/nuxeo/ecm/platform/filemanager/core/listener/AbstractUnicityChecker.java", "diffHunk": "@@ -46,6 +46,10 @@\n \n     private static final Log log = LogFactory.getLog(AbstractUnicityChecker.class);\n \n+    /**\n+     * @deprecated since 11.1. Use {@link Framework#getService(Class)} with {@link FileManager} instead.\n+     */\n+    @Deprecated(since = \"11.1\")\n     protected FileManager fileManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbb71a17909fc53cb2602704dd6098840c1ecfac"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NTA5MDk5OnYy", "diffSide": "RIGHT", "path": "modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTozNzowMFrOHwsqDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxOTozNzowMFrOHwsqDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDgyNTM1OQ==", "bodyText": "Missing copyright header", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r520825359", "createdAt": "2020-11-10T19:37:00Z", "author": {"login": "efge"}, "path": "modules/platform/nuxeo-liveconnect/src/test/java/org/nuxeo/ecm/liveconnect/LiveConnectFeature.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package org.nuxeo.ecm.liveconnect;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2dbde095f95570944e2cdf1df1514094b36a675"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjM2MDU1OnYy", "diffSide": "RIGHT", "path": "modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTozNzo1NVrOHxyTUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDozNjoxNVrOHx0olQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2NjQxNw==", "bodyText": "why in the context of this refactoring, maybe add a comment?", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r521966417", "createdAt": "2020-11-12T09:37:55Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java", "diffHunk": "@@ -301,9 +299,9 @@ protected DocumentModel createWatermarkDocument(File input) {\n                 \"Picture\");\n         pictureDoc.setPropertyValue(\"dc:title\", input.getName());\n         pictureDoc.setPropertyValue(\"file:content\", new FileBlob(input));\n+        pictureDoc.putContextData(DISABLE_PICTURE_VIEWS_GENERATION_LISTENER, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e4c1a8b51f2e01bff3e96ab1232b3124abbdfe3"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAwNDYyOQ==", "bodyText": "I think this is due to the nextTransaction call which makes the pictureViewsGenerationListener running, but failing later due to missing bundle (action framework).\nThis doesn't prevent the test to succeed but produces some NPE in logs.\nI will add a comment such as not needed.", "url": "https://github.com/nuxeo/nuxeo/pull/4369#discussion_r522004629", "createdAt": "2020-11-12T10:36:15Z", "author": {"login": "kevinleturc"}, "path": "modules/platform/nuxeo-platform-video/src/test/java/org/nuxeo/ecm/platform/video/tools/TestVideoToolsOperations.java", "diffHunk": "@@ -301,9 +299,9 @@ protected DocumentModel createWatermarkDocument(File input) {\n                 \"Picture\");\n         pictureDoc.setPropertyValue(\"dc:title\", input.getName());\n         pictureDoc.setPropertyValue(\"file:content\", new FileBlob(input));\n+        pictureDoc.putContextData(DISABLE_PICTURE_VIEWS_GENERATION_LISTENER, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2NjQxNw=="}, "originalCommit": {"oid": "1e4c1a8b51f2e01bff3e96ab1232b3124abbdfe3"}, "originalPosition": 91}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4337, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}