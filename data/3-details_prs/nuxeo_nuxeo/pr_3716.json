{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwMTIzMTQy", "number": 3716, "title": "feature-NXP-28581-remove-automation-client", "bodyText": "T&P ok: https://qa.nuxeo.org/jenkins/job/TestAndPush/job/ondemand-testandpush-fguillaume/761/\nThis should be reviewed with \"Hide whitespace changes\" activated for easier comparison of all the .set(...) calls that should be mostly unchanged.", "createdAt": "2020-02-03T05:10:34Z", "url": "https://github.com/nuxeo/nuxeo/pull/3716", "merged": true, "mergeCommit": {"oid": "ce52cc7c51cfd04c38c691bd535eeea029d3471d"}, "closed": true, "closedAt": "2020-02-16T14:55:27Z", "author": {"login": "nuxeojenkins"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcArJEFAFqTM1MjE4MTE1NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcD4SLwAFqTM1ODEwMjAzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMTgxMTU1", "url": "https://github.com/nuxeo/nuxeo/pull/3716#pullrequestreview-352181155", "createdAt": "2020-02-03T11:16:35Z", "commit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMToxNjozNlrOFkuA1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMToxNzo1MFrOFkuC3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA0NjkzMg==", "bodyText": "Why not using TransactionalFeature#nextTransation()?", "url": "https://github.com/nuxeo/nuxeo/pull/3716#discussion_r374046932", "createdAt": "2020-02-03T11:16:36Z", "author": {"login": "troger"}, "path": "nuxeo-services/login/nuxeo-platform-login-token/src/test/java/org/nuxeo/ecm/tokenauth/TestAnonymousTokenAuthenticator.java", "diffHunk": "@@ -53,51 +56,58 @@\n @RunWith(FeaturesRunner.class)\n @Features({ TokenAuthenticationServiceFeature.class, EmbeddedAutomationServerFeature.class })\n @Deploy(\"org.nuxeo.ecm.platform.login.token.test:OSGI-INF/test-token-authentication-anonymous-contrib.xml\")\n-@RepositoryConfig(init = TokenAuthenticationRepositoryInit.class, cleanup = Granularity.METHOD)\n public class TestAnonymousTokenAuthenticator {\n \n+    protected static final String TOKEN_HEADER = \"X-Authentication-Token\";\n+\n     @Inject\n     protected HotDeployer deployer;\n \n     @Inject\n-    protected CoreSession session;\n+    protected ServletContainerFeature servletContainerFeature;\n \n     @Inject\n-    protected HttpAutomationClient automationClient;\n+    protected TokenAuthenticationService tokenAuthenticationService;\n+\n+    protected CloseableHttpClient client = HttpClients.createDefault();\n+\n+    protected void nextTransaction() {\n+        TransactionHelper.commitOrRollbackTransaction();\n+        TransactionHelper.startTransaction();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA0NzQ1NA==", "bodyText": "Same, use TransactionalFeature#nextTransaction.", "url": "https://github.com/nuxeo/nuxeo/pull/3716#discussion_r374047454", "createdAt": "2020-02-03T11:17:50Z", "author": {"login": "troger"}, "path": "nuxeo-services/login/nuxeo-platform-login-token/src/test/java/org/nuxeo/ecm/tokenauth/TestTokenAuthenticator.java", "diffHunk": "@@ -53,70 +58,64 @@\n  */\n @RunWith(FeaturesRunner.class)\n @Features({ TokenAuthenticationServiceFeature.class, EmbeddedAutomationServerFeature.class })\n-@RepositoryConfig(init = TokenAuthenticationRepositoryInit.class, cleanup = Granularity.METHOD)\n public class TestTokenAuthenticator {\n \n+    protected static final String TOKEN_HEADER = \"X-Authentication-Token\";\n+\n     @Inject\n-    protected CoreSession session;\n+    protected ServletContainerFeature servletContainerFeature;\n \n     @Inject\n-    protected HttpAutomationClient automationClient;\n+    protected TokenAuthenticationService tokenAuthenticationService;\n+\n+    @Inject\n+    protected UserManager userManager;\n+\n+    protected CloseableHttpClient client = HttpClients.createDefault();\n+\n+    @Before\n+    public void setUp() {\n+        DocumentModel user = userManager.getBareUserModel();\n+        user.setPropertyValue(userManager.getUserIdField(), \"joe\");\n+        userManager.createUser(user);\n+    }\n+\n+    protected void nextTransaction() {\n+        TransactionHelper.commitOrRollbackTransaction();\n+        TransactionHelper.startTransaction();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMjAxMzU3", "url": "https://github.com/nuxeo/nuxeo/pull/3716#pullrequestreview-352201357", "createdAt": "2020-02-03T11:55:56Z", "commit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMTo1NTo1NlrOFku91A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMTo1NTo1NlrOFku91A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA2MjU0OA==", "bodyText": "why not checking the assertion on error to fail the test like  : assertEquals(\"NuxeoDrive.TearDownIntegrationTests operation should not be callable by a non administrator.\", error);  ?", "url": "https://github.com/nuxeo/nuxeo/pull/3716#discussion_r374062548", "createdAt": "2020-02-03T11:55:56Z", "author": {"login": "ThierryCasanova"}, "path": "addons/nuxeo-drive-server/nuxeo-drive-operations/src/test/java/org/nuxeo/drive/operations/TestIntegrationTestOperations.java", "diffHunk": "@@ -206,32 +184,22 @@ public void testIntegrationTestsSetupAndTearDown() throws IOException {\n         // ----------------------------------------------------------------------\n         String sarahCredentials = testUserCrendentialsArray[0];\n         String sarahPassword = sarahCredentials.substring(sarahCredentials.indexOf(':') + 1);\n-        Session unauthorizedSession = automationClient.getSession(\"drivesarah\", sarahPassword);\n-        try {\n-            unauthorizedSession.newRequest(NuxeoDriveSetupIntegrationTests.ID)\n-                               .set(\"userNames\", \"john,bob\")\n-                               .set(\"permission\", \"ReadWrite\")\n-                               .execute();\n-            fail(\"NuxeoDrive.SetupIntegrationTests operation should not be callable by a non administrator.\");\n-        } catch (Exception e) {\n-            // Expected\n-        }\n-\n+        service = getAutomationServiceFor(\"drivesarah\", sarahPassword);\n+        getOperationError(NuxeoDriveSetupIntegrationTests.ID, Map.of( //\n+                \"userNames\", \"john,bob\", //\n+                \"permission\", \"ReadWrite\"), SC_NOT_FOUND);\n         // ----------------------------------------------------------------------\n         // Try to tear down the integration tests environment as an unauthorized\n         // user => should fail\n         // ----------------------------------------------------------------------\n-        try {\n-            unauthorizedSession.newRequest(NuxeoDriveTearDownIntegrationTests.ID).execute();\n-            fail(\"NuxeoDrive.TearDownIntegrationTests operation should not be callable by a non administrator.\");\n-        } catch (Exception e) {\n-            // Expected\n-        }\n+        getOperationError(NuxeoDriveTearDownIntegrationTests.ID, null, Map.of(), SC_NOT_FOUND);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "originalPosition": 162}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMjQzNDEx", "url": "https://github.com/nuxeo/nuxeo/pull/3716#pullrequestreview-352243411", "createdAt": "2020-02-03T13:16:28Z", "commit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMzoxNjoyOFrOFkw7tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMzoyMToyOVrOFkxEtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5NDc3NA==", "bodyText": "What do you think of the following?\nmap.put(\"context\", requireNonNullElseGet(contextParams, Collections::emptyMap);", "url": "https://github.com/nuxeo/nuxeo/pull/3716#discussion_r374094774", "createdAt": "2020-02-03T13:16:28Z", "author": {"login": "kevinleturc"}, "path": "nuxeo-features/rest-api/nuxeo-rest-api-test/src/main/java/org/nuxeo/ecm/restapi/test/BaseAutomationTest.java", "diffHunk": "@@ -0,0 +1,247 @@\n+/*\n+ * (C) Copyright 2020 Nuxeo (http://nuxeo.com/) and others.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ * Contributors:\n+ *     Florent Guillaume\n+ */\n+package org.nuxeo.ecm.restapi.test;\n+\n+import static java.nio.charset.StandardCharsets.UTF_8;\n+import static org.apache.http.HttpStatus.SC_NO_CONTENT;\n+import static org.apache.http.HttpStatus.SC_OK;\n+import static org.junit.Assert.assertEquals;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.StringWriter;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.function.Function;\n+\n+import javax.ws.rs.core.MediaType;\n+\n+import org.apache.commons.io.IOUtils;\n+import org.junit.Before;\n+import org.nuxeo.ecm.core.api.Blob;\n+import org.nuxeo.ecm.core.api.NuxeoException;\n+import org.nuxeo.jaxrs.test.CloseableClientResponse;\n+\n+import com.fasterxml.jackson.core.type.TypeReference;\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.sun.jersey.api.client.WebResource;\n+import com.sun.jersey.multipart.BodyPart;\n+import com.sun.jersey.multipart.FormDataMultiPart;\n+import com.sun.jersey.multipart.MultiPart;\n+import com.sun.jersey.multipart.file.StreamDataBodyPart;\n+\n+/**\n+ * @since 11.1\n+ */\n+public abstract class BaseAutomationTest extends BaseTest {\n+\n+    @Before\n+    public void init() {\n+        service = getAutomationServiceFor(\"Administrator\", \"Administrator\");\n+    }\n+\n+    protected String getAutomationUrl() {\n+        return getBaseURL() + \"/automation/\";\n+    }\n+\n+    protected WebResource getAutomationServiceFor(String username, String password) {\n+        return getServiceFor(getAutomationUrl(), username, password);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Class<T> valueType) {\n+        return getOperationResponse(operationId, null, null, null, null, valueType);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, TypeReference<T> valueType) {\n+        return getOperationResponse(operationId, null, null, null, null, valueType);\n+    }\n+\n+    protected String getOperationResponse(String operationId, Map<String, Object> params) {\n+        return getOperationResponse(operationId, null, params, null, null);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Map<String, Object> params, Class<T> valueType) {\n+        return getOperationResponse(operationId, null, params, null, null, valueType);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Map<String, Object> params, TypeReference<T> valueType) {\n+        return getOperationResponse(operationId, null, params, null, null, valueType);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            Class<T> valueType) {\n+        return getOperationResponse(operationId, input, params, null, null, valueType);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            TypeReference<T> valueType) {\n+        return getOperationResponse(operationId, input, params, null, null, valueType);\n+    }\n+\n+    protected boolean getOperationBoolean(String operationId, Map<String, Object> params) {\n+        JsonNode node = getOperationResponse(operationId, null, params, null, null, JsonNode.class);\n+        assertEquals(\"boolean\", node.get(\"entity-type\").asText());\n+        return node.get(\"value\").asBoolean();\n+    }\n+\n+    protected String getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            Map<String, Object> contextParams, Map<String, String> headers) {\n+        Function<InputStream, String> bodyReader = stream -> {\n+            try {\n+                return IOUtils.toString(stream, UTF_8);\n+            } catch (IOException e) {\n+                throw new NuxeoException(e);\n+            }\n+        };\n+        return getOperationResponse(operationId, input, params, contextParams, headers, bodyReader);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            Map<String, Object> contextParams, Map<String, String> headers, Class<T> valueType) {\n+        Function<InputStream, T> bodyReader = stream -> {\n+            try {\n+                return mapper.readValue(stream, valueType);\n+            } catch (IOException e) {\n+                throw new NuxeoException(e);\n+            }\n+        };\n+        return getOperationResponse(operationId, input, params, contextParams, headers, bodyReader);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            Map<String, Object> contextParams, Map<String, String> headers, TypeReference<T> valueType) {\n+        Function<InputStream, T> bodyReader = stream -> {\n+            try {\n+                return mapper.readValue(stream, valueType);\n+            } catch (IOException e) {\n+                throw new NuxeoException(e);\n+            }\n+        };\n+        return getOperationResponse(operationId, input, params, contextParams, headers, bodyReader);\n+    }\n+\n+    protected <T> T getOperationResponse(String operationId, Object input, Map<String, Object> params,\n+            Map<String, Object> contextParams, Map<String, String> headers, Function<InputStream, T> bodyReader) {\n+        headers = headers == null ? new HashMap<>() : new HashMap<>(headers);\n+        headers.put(\"Content-Type\", MediaType.APPLICATION_JSON);\n+        String schemas = null;\n+        String acceptedType = MediaType.APPLICATION_JSON + \", */*\";\n+        String data = getAutomationBody(input, params, contextParams);\n+        try (MultiPart mp = getAutomationMultiPart(input, data);\n+                CloseableClientResponse response = getResponse(RequestType.POST, operationId, data, null, mp, schemas,\n+                        headers, acceptedType); //\n+                InputStream stream = response.getEntityInputStream()) {\n+            int status = response.getStatus();\n+            if (status == SC_NO_CONTENT) {\n+                return null;\n+            } else {\n+                assertEquals(SC_OK, status);\n+                return bodyReader.apply(stream);\n+            }\n+        } catch (IOException e) {\n+            throw new NuxeoException(e);\n+        }\n+    }\n+\n+    protected String getOperationError(String operationId, Map<String, Object> params, int expectedStatus) {\n+        return getOperationError(operationId, null, params, null, null, expectedStatus);\n+    }\n+\n+    protected String getOperationError(String operationId, String input, Map<String, Object> params,\n+            int expectedStatus) {\n+        return getOperationError(operationId, input, params, null, null, expectedStatus);\n+    }\n+\n+    protected String getOperationError(String operationId, String input, Map<String, Object> params,\n+            Map<String, Object> contextParams, Map<String, String> headers, int expectedStatus) {\n+        headers = headers == null ? new HashMap<>() : new HashMap<>(headers);\n+        headers.put(\"Content-Type\", MediaType.APPLICATION_JSON);\n+        String schemas = null;\n+        String acceptedType = MediaType.APPLICATION_JSON + \", */*\";\n+        String data = getAutomationBody(input, params, contextParams);\n+        try (CloseableClientResponse response = getResponse(RequestType.POST, operationId, data, null, null, schemas,\n+                headers, acceptedType); //\n+                InputStream stream = response.getEntityInputStream()) {\n+            assertEquals(expectedStatus, response.getStatus());\n+            JsonNode node = mapper.readTree(stream);\n+            if (node == null) {\n+                return null;\n+            }\n+            JsonNode messageNode = node.get(\"message\");\n+            return messageNode == null ? null : messageNode.asText();\n+        } catch (IOException e) {\n+            throw new NuxeoException(e);\n+        }\n+    }\n+\n+    protected String getAutomationBody(Object input, Map<String, Object> params, Map<String, Object> contextParams) {\n+        Map<String, Object> map = new HashMap<>();\n+        if (input instanceof String) {\n+            map.put(\"input\", input);\n+        }\n+        if (params == null) {\n+            params = Collections.emptyMap();\n+        }\n+        map.put(\"params\", params);\n+        if (contextParams == null) {\n+            contextParams = Collections.emptyMap();\n+        }\n+        map.put(\"context\", contextParams);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA5NzA3OQ==", "bodyText": "Shouldn't schemas be passed within the headers?", "url": "https://github.com/nuxeo/nuxeo/pull/3716#discussion_r374097079", "createdAt": "2020-02-03T13:21:29Z", "author": {"login": "kevinleturc"}, "path": "nuxeo-features/rest-api/nuxeo-rest-api-test/src/main/java/org/nuxeo/ecm/restapi/test/BaseTest.java", "diffHunk": "@@ -155,16 +155,25 @@ protected CloseableClientResponse getResponse(RequestType requestType, String pa\n     protected CloseableClientResponse getResponse(RequestType requestType, String path, String data,\n             MultivaluedMap<String, String> queryParams, MultiPart mp, Map<String, String> headers,\n             String... acceptedTypes) {\n+        return getResponse(requestType, path, data, queryParams, mp, \"dublincore\", headers, acceptedTypes);\n+    }\n+\n+    protected CloseableClientResponse getResponse(RequestType requestType, String path, String data,\n+            MultivaluedMap<String, String> queryParams, MultiPart mp, String schemas, Map<String, String> headers,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2583ec0f41a813efdcc4b59fbad5d81f6edbc502"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ea85d00e122d8c7325186ee3469dd36907a0374", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1ea85d00e122d8c7325186ee3469dd36907a0374", "committedDate": "2020-02-07T02:01:01Z", "message": "NXP-28581: WIP"}, "afterCommit": {"oid": "02b30a518025ab1c4ddd0073ea94d62781be8a87", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/02b30a518025ab1c4ddd0073ea94d62781be8a87", "committedDate": "2020-02-09T00:52:18Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02b30a518025ab1c4ddd0073ea94d62781be8a87", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/02b30a518025ab1c4ddd0073ea94d62781be8a87", "committedDate": "2020-02-09T00:52:18Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}, "afterCommit": {"oid": "f24a581233196a286af4a4be91a26f7104caface", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f24a581233196a286af4a4be91a26f7104caface", "committedDate": "2020-02-09T19:57:23Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f24a581233196a286af4a4be91a26f7104caface", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f24a581233196a286af4a4be91a26f7104caface", "committedDate": "2020-02-09T19:57:23Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}, "afterCommit": {"oid": "617aa7fbb65b2acf17767103490d6af250686989", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/617aa7fbb65b2acf17767103490d6af250686989", "committedDate": "2020-02-10T14:58:14Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "617aa7fbb65b2acf17767103490d6af250686989", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/617aa7fbb65b2acf17767103490d6af250686989", "committedDate": "2020-02-10T14:58:14Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}, "afterCommit": {"oid": "d51a96c79f53132ba1c88db3d704e0a2cfe68192", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d51a96c79f53132ba1c88db3d704e0a2cfe68192", "committedDate": "2020-02-10T16:07:48Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4e963d0f8e9ffea9757894180957944c7d643d6", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e4e963d0f8e9ffea9757894180957944c7d643d6", "committedDate": "2020-02-10T22:31:40Z", "message": "NXP-28581: remove dependency on nuxeo-automation-client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ad5b3e26080a71e53e697ad95466b7de3fcbfdb", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1ad5b3e26080a71e53e697ad95466b7de3fcbfdb", "committedDate": "2020-02-10T22:31:41Z", "message": "NXP-28646: remove nuxeo-automation-client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c8d3c27eb99404b754bdc1203f6ab586092575e3", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/c8d3c27eb99404b754bdc1203f6ab586092575e3", "committedDate": "2020-02-10T16:18:42Z", "message": "NXP-28646: remove nuxeo-automation-client"}, "afterCommit": {"oid": "1ad5b3e26080a71e53e697ad95466b7de3fcbfdb", "author": {"user": {"login": "efge", "name": "Florent Guillaume"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1ad5b3e26080a71e53e697ad95466b7de3fcbfdb", "committedDate": "2020-02-10T22:31:41Z", "message": "NXP-28646: remove nuxeo-automation-client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MTAyMDMw", "url": "https://github.com/nuxeo/nuxeo/pull/3716#pullrequestreview-358102030", "createdAt": "2020-02-13T10:22:24Z", "commit": {"oid": "1ad5b3e26080a71e53e697ad95466b7de3fcbfdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4835, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}