{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNjM3NzQw", "number": 3733, "title": "feature-NXP-28579-unit-tests-postgresql-mongodb-parallel", "bodyText": "", "createdAt": "2020-02-07T23:03:35Z", "url": "https://github.com/nuxeo/nuxeo/pull/3733", "merged": true, "mergeCommit": {"oid": "73c73857361312aa858bd82519aa066ffd95a7a5"}, "closed": true, "closedAt": "2020-02-26T14:53:46Z", "author": {"login": "ataillefer"}, "timelineItems": {"totalCount": 68, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCbz9JgBqjMwMjAyMDQzNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIHi6qgFqTM2NDkzOTEwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31a16af64e260713ee5c623d1d379237074ba802", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/31a16af64e260713ee5c623d1d379237074ba802", "committedDate": "2020-02-07T23:00:07Z", "message": "NXP-28579: WIP"}, "afterCommit": {"oid": "a6893c864d4665c928ee406e313763fba69fd8b0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a6893c864d4665c928ee406e313763fba69fd8b0", "committedDate": "2020-02-08T22:37:54Z", "message": "run only unit test stage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6893c864d4665c928ee406e313763fba69fd8b0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a6893c864d4665c928ee406e313763fba69fd8b0", "committedDate": "2020-02-08T22:37:54Z", "message": "run only unit test stage"}, "afterCommit": {"oid": "7ccd26b1a0cb8ac826590bd284ef664e427d7ff9", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7ccd26b1a0cb8ac826590bd284ef664e427d7ff9", "committedDate": "2020-02-08T22:39:55Z", "message": "run only unit test stage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ccd26b1a0cb8ac826590bd284ef664e427d7ff9", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7ccd26b1a0cb8ac826590bd284ef664e427d7ff9", "committedDate": "2020-02-08T22:39:55Z", "message": "run only unit test stage"}, "afterCommit": {"oid": "c18893934dee7b1083a56c8d7cc9f7437f6ef647", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/c18893934dee7b1083a56c8d7cc9f7437f6ef647", "committedDate": "2020-02-08T22:40:56Z", "message": "run only unit test stage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fb38f2159c9d1bb820458bec25f2677cb3731bb", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8fb38f2159c9d1bb820458bec25f2677cb3731bb", "committedDate": "2020-02-08T22:43:15Z", "message": "fix"}, "afterCommit": {"oid": "9654e325c255f76649ceb03e78fc7ac31b2f9a0e", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9654e325c255f76649ceb03e78fc7ac31b2f9a0e", "committedDate": "2020-02-08T22:45:41Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9654e325c255f76649ceb03e78fc7ac31b2f9a0e", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9654e325c255f76649ceb03e78fc7ac31b2f9a0e", "committedDate": "2020-02-08T22:45:41Z", "message": "fix"}, "afterCommit": {"oid": "abf22a06979726f84641416d2c3c33534a63cc79", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/abf22a06979726f84641416d2c3c33534a63cc79", "committedDate": "2020-02-08T22:50:58Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abf22a06979726f84641416d2c3c33534a63cc79", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/abf22a06979726f84641416d2c3c33534a63cc79", "committedDate": "2020-02-08T22:50:58Z", "message": "fix"}, "afterCommit": {"oid": "f3ae125fd449676002c33eca2f614a7c600fd905", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f3ae125fd449676002c33eca2f614a7c600fd905", "committedDate": "2020-02-09T08:04:30Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3ae125fd449676002c33eca2f614a7c600fd905", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f3ae125fd449676002c33eca2f614a7c600fd905", "committedDate": "2020-02-09T08:04:30Z", "message": "fix"}, "afterCommit": {"oid": "922db92a0c6b102ab3d5ebcb29fadc4996583c9b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/922db92a0c6b102ab3d5ebcb29fadc4996583c9b", "committedDate": "2020-02-09T10:59:12Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "922db92a0c6b102ab3d5ebcb29fadc4996583c9b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/922db92a0c6b102ab3d5ebcb29fadc4996583c9b", "committedDate": "2020-02-09T10:59:12Z", "message": "fix"}, "afterCommit": {"oid": "cde0e31a5bcea80f1557161181f61593d148bab0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cde0e31a5bcea80f1557161181f61593d148bab0", "committedDate": "2020-02-09T11:04:37Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cde0e31a5bcea80f1557161181f61593d148bab0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cde0e31a5bcea80f1557161181f61593d148bab0", "committedDate": "2020-02-09T11:04:37Z", "message": "fix"}, "afterCommit": {"oid": "0e8c47557f02ca87da11229f6ecb26a985885fae", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0e8c47557f02ca87da11229f6ecb26a985885fae", "committedDate": "2020-02-09T20:42:44Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e8c47557f02ca87da11229f6ecb26a985885fae", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0e8c47557f02ca87da11229f6ecb26a985885fae", "committedDate": "2020-02-09T20:42:44Z", "message": "fix"}, "afterCommit": {"oid": "0f25849665d1738f8d3886b5b323e1bd6f449419", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0f25849665d1738f8d3886b5b323e1bd6f449419", "committedDate": "2020-02-09T20:44:02Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0f25849665d1738f8d3886b5b323e1bd6f449419", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0f25849665d1738f8d3886b5b323e1bd6f449419", "committedDate": "2020-02-09T20:44:02Z", "message": "fix"}, "afterCommit": {"oid": "7fab9d810447b86fc7527f52f6362c52e07d7eb0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7fab9d810447b86fc7527f52f6362c52e07d7eb0", "committedDate": "2020-02-10T08:45:55Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7fab9d810447b86fc7527f52f6362c52e07d7eb0", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7fab9d810447b86fc7527f52f6362c52e07d7eb0", "committedDate": "2020-02-10T08:45:55Z", "message": "test failure"}, "afterCommit": {"oid": "6f76e20e02782e8f587c8d3c1e0d868fd17d4e8d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6f76e20e02782e8f587c8d3c1e0d868fd17d4e8d", "committedDate": "2020-02-10T08:56:33Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6f76e20e02782e8f587c8d3c1e0d868fd17d4e8d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6f76e20e02782e8f587c8d3c1e0d868fd17d4e8d", "committedDate": "2020-02-10T08:56:33Z", "message": "test failure"}, "afterCommit": {"oid": "9397a949afd9959dee5a6918296397403cacae54", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9397a949afd9959dee5a6918296397403cacae54", "committedDate": "2020-02-11T16:08:56Z", "message": "fixup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9397a949afd9959dee5a6918296397403cacae54", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9397a949afd9959dee5a6918296397403cacae54", "committedDate": "2020-02-11T16:08:56Z", "message": "fixup"}, "afterCommit": {"oid": "be797c36568375a06f0b59e70562264b4c0e22e1", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/be797c36568375a06f0b59e70562264b4c0e22e1", "committedDate": "2020-02-11T16:16:04Z", "message": "fixup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be797c36568375a06f0b59e70562264b4c0e22e1", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/be797c36568375a06f0b59e70562264b4c0e22e1", "committedDate": "2020-02-11T16:16:04Z", "message": "fixup"}, "afterCommit": {"oid": "01e4c7bb5b37e3b187700d66defb3dff38f83333", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/01e4c7bb5b37e3b187700d66defb3dff38f83333", "committedDate": "2020-02-11T21:27:25Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01e4c7bb5b37e3b187700d66defb3dff38f83333", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/01e4c7bb5b37e3b187700d66defb3dff38f83333", "committedDate": "2020-02-11T21:27:25Z", "message": "test failure"}, "afterCommit": {"oid": "326bd1d5e264e19f1610cf9ea7c977149e0dcc76", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/326bd1d5e264e19f1610cf9ea7c977149e0dcc76", "committedDate": "2020-02-11T21:43:27Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "326bd1d5e264e19f1610cf9ea7c977149e0dcc76", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/326bd1d5e264e19f1610cf9ea7c977149e0dcc76", "committedDate": "2020-02-11T21:43:27Z", "message": "test failure"}, "afterCommit": {"oid": "a414ef03e2e47958ecff7044cef3a5f6613bf41a", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a414ef03e2e47958ecff7044cef3a5f6613bf41a", "committedDate": "2020-02-11T21:58:09Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a414ef03e2e47958ecff7044cef3a5f6613bf41a", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a414ef03e2e47958ecff7044cef3a5f6613bf41a", "committedDate": "2020-02-11T21:58:09Z", "message": "test failure"}, "afterCommit": {"oid": "8374a53f15547a199cd025db79e191f52fb81839", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8374a53f15547a199cd025db79e191f52fb81839", "committedDate": "2020-02-11T22:15:55Z", "message": "test failure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8374a53f15547a199cd025db79e191f52fb81839", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8374a53f15547a199cd025db79e191f52fb81839", "committedDate": "2020-02-11T22:15:55Z", "message": "test failure"}, "afterCommit": {"oid": "d595853bf7ef26fc2e652df20d8abc65c4cd4069", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d595853bf7ef26fc2e652df20d8abc65c4cd4069", "committedDate": "2020-02-12T09:09:30Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d595853bf7ef26fc2e652df20d8abc65c4cd4069", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d595853bf7ef26fc2e652df20d8abc65c4cd4069", "committedDate": "2020-02-12T09:09:30Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "1c7ad199accdc420aa5d7be89aa20b824e07f459", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1c7ad199accdc420aa5d7be89aa20b824e07f459", "committedDate": "2020-02-12T09:15:30Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c7ad199accdc420aa5d7be89aa20b824e07f459", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1c7ad199accdc420aa5d7be89aa20b824e07f459", "committedDate": "2020-02-12T09:15:30Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "e04f61e0eeabe4f5f7deedf73372c6f2d96f792b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e04f61e0eeabe4f5f7deedf73372c6f2d96f792b", "committedDate": "2020-02-12T10:51:54Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e04f61e0eeabe4f5f7deedf73372c6f2d96f792b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e04f61e0eeabe4f5f7deedf73372c6f2d96f792b", "committedDate": "2020-02-12T10:51:54Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "da25d97170281aa37d3e5c2fb694d6a3f08dc9a8", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/da25d97170281aa37d3e5c2fb694d6a3f08dc9a8", "committedDate": "2020-02-12T22:34:07Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da25d97170281aa37d3e5c2fb694d6a3f08dc9a8", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/da25d97170281aa37d3e5c2fb694d6a3f08dc9a8", "committedDate": "2020-02-12T22:34:07Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "a63237b36204bbe1bca7d434035047e678af1324", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a63237b36204bbe1bca7d434035047e678af1324", "committedDate": "2020-02-13T09:38:47Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a63237b36204bbe1bca7d434035047e678af1324", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a63237b36204bbe1bca7d434035047e678af1324", "committedDate": "2020-02-13T09:38:47Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "2c7752eef39ef04fbd1929720596b3d8811f09ac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2c7752eef39ef04fbd1929720596b3d8811f09ac", "committedDate": "2020-02-13T14:51:32Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c7752eef39ef04fbd1929720596b3d8811f09ac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2c7752eef39ef04fbd1929720596b3d8811f09ac", "committedDate": "2020-02-13T14:51:32Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "c706c3c8f9d69d712a516e9e805a3666dd548f63", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/c706c3c8f9d69d712a516e9e805a3666dd548f63", "committedDate": "2020-02-14T11:37:55Z", "message": "tmp: debug storage config system prop"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c706c3c8f9d69d712a516e9e805a3666dd548f63", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/c706c3c8f9d69d712a516e9e805a3666dd548f63", "committedDate": "2020-02-14T11:37:55Z", "message": "tmp: debug storage config system prop"}, "afterCommit": {"oid": "ff32e39076953bb3743ff2cbe92b75a48697e0cf", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/ff32e39076953bb3743ff2cbe92b75a48697e0cf", "committedDate": "2020-02-14T17:01:17Z", "message": "tmp: debug storage config system prop"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2cba43ae49989f469794023868ad7304dc31320", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d2cba43ae49989f469794023868ad7304dc31320", "committedDate": "2020-02-15T23:17:47Z", "message": "tmp: debug PG sys props"}, "afterCommit": {"oid": "5aa4d265c16b20f8cc3b5e4537820d870325c4ee", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5aa4d265c16b20f8cc3b5e4537820d870325c4ee", "committedDate": "2020-02-15T23:31:42Z", "message": "tmp: test PG sys props"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5aa4d265c16b20f8cc3b5e4537820d870325c4ee", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5aa4d265c16b20f8cc3b5e4537820d870325c4ee", "committedDate": "2020-02-15T23:31:42Z", "message": "tmp: test PG sys props"}, "afterCommit": {"oid": "47caf365535433d93b0d73cc4425466d63175815", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/47caf365535433d93b0d73cc4425466d63175815", "committedDate": "2020-02-15T23:51:07Z", "message": "tmp: test PG sys props"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "47caf365535433d93b0d73cc4425466d63175815", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/47caf365535433d93b0d73cc4425466d63175815", "committedDate": "2020-02-15T23:51:07Z", "message": "tmp: test PG sys props"}, "afterCommit": {"oid": "cd28af5cb1d034a2229086d484c26a1cca15cabd", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cd28af5cb1d034a2229086d484c26a1cca15cabd", "committedDate": "2020-02-16T00:12:40Z", "message": "tmp: test PG sys props"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd28af5cb1d034a2229086d484c26a1cca15cabd", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cd28af5cb1d034a2229086d484c26a1cca15cabd", "committedDate": "2020-02-16T00:12:40Z", "message": "tmp: test PG sys props"}, "afterCommit": {"oid": "6389b39c593b629ffa8b80a504296ecd6c2b90f2", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6389b39c593b629ffa8b80a504296ecd6c2b90f2", "committedDate": "2020-02-16T06:53:38Z", "message": "tmp: test PG sys props"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6389b39c593b629ffa8b80a504296ecd6c2b90f2", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6389b39c593b629ffa8b80a504296ecd6c2b90f2", "committedDate": "2020-02-16T06:53:38Z", "message": "tmp: test PG sys props"}, "afterCommit": {"oid": "443db0483dfca9555e5e6c8321abba501745bd57", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/443db0483dfca9555e5e6c8321abba501745bd57", "committedDate": "2020-02-17T22:27:59Z", "message": "tmp: fix PG service URL?"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "443db0483dfca9555e5e6c8321abba501745bd57", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/443db0483dfca9555e5e6c8321abba501745bd57", "committedDate": "2020-02-17T22:27:59Z", "message": "tmp: fix PG service URL?"}, "afterCommit": {"oid": "3c6f41e23122c7283d194ebde2333070aba5e5c6", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3c6f41e23122c7283d194ebde2333070aba5e5c6", "committedDate": "2020-02-18T14:10:38Z", "message": "tmp: debug PG"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c6f41e23122c7283d194ebde2333070aba5e5c6", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3c6f41e23122c7283d194ebde2333070aba5e5c6", "committedDate": "2020-02-18T14:10:38Z", "message": "tmp: debug PG"}, "afterCommit": {"oid": "2d9dbe25f45757bd9d7f72dafc2d9c7c395fd3ac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2d9dbe25f45757bd9d7f72dafc2d9c7c395fd3ac", "committedDate": "2020-02-18T15:27:59Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d9dbe25f45757bd9d7f72dafc2d9c7c395fd3ac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2d9dbe25f45757bd9d7f72dafc2d9c7c395fd3ac", "committedDate": "2020-02-18T15:27:59Z", "message": "tmp: use PR chart to allow nuxeo disablement"}, "afterCommit": {"oid": "0a8a602acd08ef648902462be83fc1564e6374d7", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0a8a602acd08ef648902462be83fc1564e6374d7", "committedDate": "2020-02-19T07:37:28Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "caf5f9bbdfa69fe8be999e9740b2baffbc14c162", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/caf5f9bbdfa69fe8be999e9740b2baffbc14c162", "committedDate": "2020-02-19T15:31:32Z", "message": "NXP-28579: Format, cleanup, fix some SonarQube issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4848fe664d81c7800a8113e4039bda66e38707e", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f4848fe664d81c7800a8113e4039bda66e38707e", "committedDate": "2020-02-19T15:34:26Z", "message": "NXP-28579: Allow to customize the Maven build directory\n\nRequired to run unit tests in parallel for different environments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11cd89ef80c5fa0b2e6d4b31dfdbfd99dbb8c8f8", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/11cd89ef80c5fa0b2e6d4b31dfdbfd99dbb8c8f8", "committedDate": "2020-02-19T15:36:05Z", "message": "NXP-28579: Clean up H2 test datasources\n\nAnd make it explicit that the JDBC connection validation test depends on H2."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1bd5322b8527e055d42d57ebb57b219b858dcbb3", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1bd5322b8527e055d42d57ebb57b219b858dcbb3", "committedDate": "2020-02-19T15:55:09Z", "message": "tmp: skip common/runtime tests"}, "afterCommit": {"oid": "9ae37eb1c793f09c1e6deb190b78b40c6307f9aa", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9ae37eb1c793f09c1e6deb190b78b40c6307f9aa", "committedDate": "2020-02-19T15:57:19Z", "message": "tmp: skip common/runtime tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ae37eb1c793f09c1e6deb190b78b40c6307f9aa", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9ae37eb1c793f09c1e6deb190b78b40c6307f9aa", "committedDate": "2020-02-19T15:57:19Z", "message": "tmp: skip common/runtime tests"}, "afterCommit": {"oid": "211c209ff652a08e6957ff259d78f95ea5a92161", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/211c209ff652a08e6957ff259d78f95ea5a92161", "committedDate": "2020-02-19T15:58:26Z", "message": "tmp: skip common/runtime tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "211c209ff652a08e6957ff259d78f95ea5a92161", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/211c209ff652a08e6957ff259d78f95ea5a92161", "committedDate": "2020-02-19T15:58:26Z", "message": "tmp: skip common/runtime tests"}, "afterCommit": {"oid": "dd777f9100f56a3b2294d0ca72e7d6f1c15d70e9", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/dd777f9100f56a3b2294d0ca72e7d6f1c15d70e9", "committedDate": "2020-02-19T15:38:59Z", "message": "tmp: use PR chart to allow nuxeo disablement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbe8ccc51df74ad21dca4355d6a6efca599c39c6", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bbe8ccc51df74ad21dca4355d6a6efca599c39c6", "committedDate": "2020-02-19T19:27:53Z", "message": "tmp: install common/runtime"}, "afterCommit": {"oid": "8fcf6f138e6906573730d5c2a46b3aad1541e67c", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8fcf6f138e6906573730d5c2a46b3aad1541e67c", "committedDate": "2020-02-19T20:13:35Z", "message": "tmp: install common/runtime"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fcf6f138e6906573730d5c2a46b3aad1541e67c", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8fcf6f138e6906573730d5c2a46b3aad1541e67c", "committedDate": "2020-02-19T20:13:35Z", "message": "tmp: install common/runtime"}, "afterCommit": {"oid": "a80df9737c850eea2c16ce5d0710657e501f7055", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a80df9737c850eea2c16ce5d0710657e501f7055", "committedDate": "2020-02-19T20:15:55Z", "message": "tmp: install common/runtime"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a80df9737c850eea2c16ce5d0710657e501f7055", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a80df9737c850eea2c16ce5d0710657e501f7055", "committedDate": "2020-02-19T20:15:55Z", "message": "tmp: install common/runtime"}, "afterCommit": {"oid": "a0db372fa7b0d72d938f43acace6011fca6a77b1", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a0db372fa7b0d72d938f43acace6011fca6a77b1", "committedDate": "2020-02-20T14:07:16Z", "message": "tmp: common/runtime - deploy and skip tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a0db372fa7b0d72d938f43acace6011fca6a77b1", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a0db372fa7b0d72d938f43acace6011fca6a77b1", "committedDate": "2020-02-20T14:07:16Z", "message": "tmp: common/runtime - deploy and skip tests"}, "afterCommit": {"oid": "2305f9d23ad9744e0e01ed4d448941bbc368a029", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2305f9d23ad9744e0e01ed4d448941bbc368a029", "committedDate": "2020-02-20T23:05:33Z", "message": "tmp: common/runtime - deploy and skip tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "360d791e6bd154c01de5da066e0e891d8dd05274", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/360d791e6bd154c01de5da066e0e891d8dd05274", "committedDate": "2020-02-21T09:01:20Z", "message": "tmp: test mongodb core"}, "afterCommit": {"oid": "f683f2c6e0c0efe94d21395c86b4f4b257f7011b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f683f2c6e0c0efe94d21395c86b4f4b257f7011b", "committedDate": "2020-02-21T09:06:51Z", "message": "tmp: test mongodb core"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f683f2c6e0c0efe94d21395c86b4f4b257f7011b", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f683f2c6e0c0efe94d21395c86b4f4b257f7011b", "committedDate": "2020-02-21T09:06:51Z", "message": "tmp: test mongodb core"}, "afterCommit": {"oid": "e8ef2a89183c209d7614fda70b448cc21b77df12", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e8ef2a89183c209d7614fda70b448cc21b77df12", "committedDate": "2020-02-21T09:26:50Z", "message": "tmp: test mongodb core"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8ef2a89183c209d7614fda70b448cc21b77df12", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/e8ef2a89183c209d7614fda70b448cc21b77df12", "committedDate": "2020-02-21T09:26:50Z", "message": "tmp: test mongodb core"}, "afterCommit": {"oid": "1d011ed918143035ab534bec9ae655bd1027060f", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1d011ed918143035ab534bec9ae655bd1027060f", "committedDate": "2020-02-21T10:27:34Z", "message": "tmp: test mongodb core"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d011ed918143035ab534bec9ae655bd1027060f", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1d011ed918143035ab534bec9ae655bd1027060f", "committedDate": "2020-02-21T10:27:34Z", "message": "tmp: test mongodb core"}, "afterCommit": {"oid": "013543db847da87d549915ae0ae06dbc91280780", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/013543db847da87d549915ae0ae06dbc91280780", "committedDate": "2020-02-21T10:27:34Z", "message": "tmp: common/runtime - compile only"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "013543db847da87d549915ae0ae06dbc91280780", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/013543db847da87d549915ae0ae06dbc91280780", "committedDate": "2020-02-21T10:27:34Z", "message": "tmp: common/runtime - compile only"}, "afterCommit": {"oid": "448505b014864646062353939102fd1e7596846f", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/448505b014864646062353939102fd1e7596846f", "committedDate": "2020-02-21T15:39:34Z", "message": "tmp: ignore testInitDirectoryWithOnMissingColumnsAndAutoIncrementId"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "448505b014864646062353939102fd1e7596846f", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/448505b014864646062353939102fd1e7596846f", "committedDate": "2020-02-21T15:39:34Z", "message": "tmp: ignore testInitDirectoryWithOnMissingColumnsAndAutoIncrementId"}, "afterCommit": {"oid": "006048331d0005be09ff2ea364f95259b2e38ff7", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/006048331d0005be09ff2ea364f95259b2e38ff7", "committedDate": "2020-02-21T16:59:28Z", "message": "tmp: ignore testInitDirectoryWithOnMissingColumnsAndAutoIncrementId"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "006048331d0005be09ff2ea364f95259b2e38ff7", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/006048331d0005be09ff2ea364f95259b2e38ff7", "committedDate": "2020-02-21T16:59:28Z", "message": "tmp: ignore testInitDirectoryWithOnMissingColumnsAndAutoIncrementId"}, "afterCommit": {"oid": "bbf515227cf7a75635e16e3b821f164edc2a34ed", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bbf515227cf7a75635e16e3b821f164edc2a34ed", "committedDate": "2020-02-22T22:40:49Z", "message": "tmp: test stage acc"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84253bcad652f93fad3c10a4c3563cc759cd110c", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/84253bcad652f93fad3c10a4c3563cc759cd110c", "committedDate": "2020-02-22T22:47:56Z", "message": "tmp:quickly test stage"}, "afterCommit": {"oid": "555a6008df4327d340581031dacc11dcfbee1cb2", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/555a6008df4327d340581031dacc11dcfbee1cb2", "committedDate": "2020-02-22T23:09:10Z", "message": "tmp: quick test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "555a6008df4327d340581031dacc11dcfbee1cb2", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/555a6008df4327d340581031dacc11dcfbee1cb2", "committedDate": "2020-02-22T23:09:10Z", "message": "tmp: quick test"}, "afterCommit": {"oid": "fc1d27476bd28c154c372ca763d0cded3f17ecac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/fc1d27476bd28c154c372ca763d0cded3f17ecac", "committedDate": "2020-02-22T23:21:46Z", "message": "tmp: test no junit"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc1d27476bd28c154c372ca763d0cded3f17ecac", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/fc1d27476bd28c154c372ca763d0cded3f17ecac", "committedDate": "2020-02-22T23:21:46Z", "message": "tmp: test no junit"}, "afterCommit": {"oid": "a76131d304d448b43f9f812846b037a9782b4919", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a76131d304d448b43f9f812846b037a9782b4919", "committedDate": "2020-02-22T23:29:40Z", "message": "tmp: test labels"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a76131d304d448b43f9f812846b037a9782b4919", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a76131d304d448b43f9f812846b037a9782b4919", "committedDate": "2020-02-22T23:29:40Z", "message": "tmp: test labels"}, "afterCommit": {"oid": "04bc74f7302dc5ad132636c19508ec83c2ebfe6d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/04bc74f7302dc5ad132636c19508ec83c2ebfe6d", "committedDate": "2020-02-22T23:39:44Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMjk5NTE5", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-363299519", "createdAt": "2020-02-24T10:45:29Z", "commit": {"oid": "04bc74f7302dc5ad132636c19508ec83c2ebfe6d"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMDo0NToyOVrOFtcQWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMDo1Mjo0N1rOFtcfpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE5MzE3OA==", "bodyText": "What if the file does not exist? Dunno if we will have the case...", "url": "https://github.com/nuxeo/nuxeo/pull/3733#discussion_r383193178", "createdAt": "2020-02-24T10:45:29Z", "author": {"login": "troger"}, "path": "Jenkinsfile", "diffHunk": "@@ -130,7 +130,8 @@ def buildUnitTestStage(env) {\n             sh 'envsubst < ci/helm/nuxeo-test-base-values.yaml > nuxeo-test-base-values.yaml'\n             def testValues = '--set-file=nuxeo-test-base-values.yaml'\n             if (!isDev) {\n-              testValues += \" --set-file=ci/helm/nuxeo-test-${env}-values.yaml\"\n+              sh \"envsubst < ci/helm/nuxeo-test-${env}-values.yaml > nuxeo-test-${env}-values.yaml\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04bc74f7302dc5ad132636c19508ec83c2ebfe6d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE5NzA5Mg==", "bodyText": "Shouldn't we use something like:\nmvn -B -nsu -rm nuxeo-core \\\n\n?", "url": "https://github.com/nuxeo/nuxeo/pull/3733#discussion_r383197092", "createdAt": "2020-02-24T10:52:47Z", "author": {"login": "troger"}, "path": "Jenkinsfile", "diffHunk": "@@ -100,19 +105,111 @@ void skaffoldBuildAll() {\n   skaffoldBuild('docker/nuxeo/skaffold.yaml')\n }\n \n+def buildUnitTestStage(env) {\n+  def isDev = env == 'dev'\n+  def testNamespace = \"${TEST_NAMESPACE_PREFIX}-${env}\"\n+  def redisHost = \"${TEST_REDIS_RESOURCE}.${testNamespace}.${TEST_SERVICE_DOMAIN_SUFFIX}\"\n+  return {\n+    stage(\"Run ${env} unit tests\") {\n+      container('maven') {\n+        script {\n+          setGitHubBuildStatus(\"platform/utests/${env}\", \"Unit tests - ${env} environment\", 'PENDING')\n+          try {\n+            echo \"\"\"\n+            ----------------------------------------\n+            Run ${env} unit tests\n+            ----------------------------------------\"\"\"\n+\n+            echo \"${env} unit tests: install external services\"\n+            // initialize Helm without Tiller and add local repository\n+            sh \"\"\"\n+              helm init --client-only\n+              helm repo add ${HELM_CHART_REPOSITORY_NAME} ${HELM_CHART_REPOSITORY_URL}\n+            \"\"\"\n+            // prepare values to disable nuxeo and activate external services in the nuxeo Helm chart\n+            sh 'envsubst < ci/helm/nuxeo-test-base-values.yaml > nuxeo-test-base-values.yaml'\n+            def testValues = '--set-file=nuxeo-test-base-values.yaml'\n+            if (!isDev) {\n+              testValues += \" --set-file=ci/helm/nuxeo-test-${env}-values.yaml\"\n+            }\n+            // install the nuxeo Helm chart into a dedicated namespace that will be cleaned up afterwards\n+            sh \"\"\"\n+              jx step helm install ${HELM_CHART_REPOSITORY_NAME}/${HELM_CHART_NUXEO} \\\n+                --name ${TEST_HELM_CHART_RELEASE} \\\n+                --namespace ${testNamespace} \\\n+                ${testValues}\n+            \"\"\"\n+            // wait for external services to be ready\n+            sh \"kubectl rollout status statefulset ${TEST_REDIS_RESOURCE} --namespace ${testNamespace}\"\n+            if (!isDev) {\n+              def resourceType = env == 'mongodb' ? 'deployment' : 'statefulset'\n+              sh \"kubectl rollout status ${resourceType} ${TEST_HELM_CHART_RELEASE}-${env} --namespace ${testNamespace}\"\n+            }\n+\n+            echo \"${env} unit tests: run Maven\"\n+            // prepare backend-specific system properties\n+            if (!isDev) {\n+              sh \"\"\"\n+                CHART_RELEASE=${TEST_HELM_CHART_RELEASE} SERVICE=${env} NAMESPACE=${testNamespace} DOMAIN=${TEST_SERVICE_DOMAIN_SUFFIX} \\\n+                  envsubst < ci/mvn/nuxeo-test-${env}.properties > ${HOME}/nuxeo-test-${env}.properties\n+              \"\"\"\n+            } else {\n+              sh \"cp ci/mvn/nuxeo-test-${env}.properties ${HOME}/nuxeo-test-${env}.properties\"\n+            }\n+            // run unit tests:\n+            // - in nuxeo-core and dependent projects only (nuxeo-common and nuxeo-runtime are run in dedicated stages)\n+            // - for the given environment (see the customEnvironment profile in pom.xml):\n+            //   - in an alternative build directory\n+            //   - loading some backend-specific system properties\n+            def testCore = env == 'mongodb' ? 'mongodb' : 'vcs'\n+            sh \"\"\"\n+              mvn -B -nsu -pl nuxeo-core -amd \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "477ca77560b499b6a3d2b9286c3127e03ecb72a2"}, "originalPosition": 74}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04bc74f7302dc5ad132636c19508ec83c2ebfe6d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/04bc74f7302dc5ad132636c19508ec83c2ebfe6d", "committedDate": "2020-02-22T23:39:44Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}, "afterCommit": {"oid": "910eace44c03e42a7e089dedb962052361d5e98d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/910eace44c03e42a7e089dedb962052361d5e98d", "committedDate": "2020-02-24T11:26:03Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNTEyNTY1", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-363512565", "createdAt": "2020-02-24T16:14:34Z", "commit": {"oid": "910eace44c03e42a7e089dedb962052361d5e98d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MTU5Mzky", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-364159392", "createdAt": "2020-02-25T13:58:27Z", "commit": {"oid": "910eace44c03e42a7e089dedb962052361d5e98d"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMzo1ODoyN1rOFuHB7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxMzo1ODoyN1rOFuHB7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzg5Mzk5Ng==", "bodyText": "Do we have an interest to distinct the dev/non-dev case?\nIt may be easier to read to not have the if.", "url": "https://github.com/nuxeo/nuxeo/pull/3733#discussion_r383893996", "createdAt": "2020-02-25T13:58:27Z", "author": {"login": "kevinleturc"}, "path": "Jenkinsfile", "diffHunk": "@@ -100,19 +105,112 @@ void skaffoldBuildAll() {\n   skaffoldBuild('docker/nuxeo/skaffold.yaml')\n }\n \n+def buildUnitTestStage(env) {\n+  def isDev = env == 'dev'\n+  def testNamespace = \"${TEST_NAMESPACE_PREFIX}-${env}\"\n+  def redisHost = \"${TEST_REDIS_RESOURCE}.${testNamespace}.${TEST_SERVICE_DOMAIN_SUFFIX}\"\n+  return {\n+    stage(\"Run ${env} unit tests\") {\n+      container('maven') {\n+        script {\n+          setGitHubBuildStatus(\"platform/utests/${env}\", \"Unit tests - ${env} environment\", 'PENDING')\n+          try {\n+            echo \"\"\"\n+            ----------------------------------------\n+            Run ${env} unit tests\n+            ----------------------------------------\"\"\"\n+\n+            echo \"${env} unit tests: install external services\"\n+            // initialize Helm without Tiller and add local repository\n+            sh \"\"\"\n+              helm init --client-only\n+              helm repo add ${HELM_CHART_REPOSITORY_NAME} ${HELM_CHART_REPOSITORY_URL}\n+            \"\"\"\n+            // prepare values to disable nuxeo and activate external services in the nuxeo Helm chart\n+            sh 'envsubst < ci/helm/nuxeo-test-base-values.yaml > nuxeo-test-base-values.yaml'\n+            def testValues = '--set-file=nuxeo-test-base-values.yaml'\n+            if (!isDev) {\n+              sh \"envsubst < ci/helm/nuxeo-test-${env}-values.yaml > nuxeo-test-${env}-values.yaml\"\n+              testValues += \" --set-file=nuxeo-test-${env}-values.yaml\"\n+            }\n+            // install the nuxeo Helm chart into a dedicated namespace that will be cleaned up afterwards\n+            sh \"\"\"\n+              jx step helm install ${HELM_CHART_REPOSITORY_NAME}/${HELM_CHART_NUXEO} \\\n+                --name ${TEST_HELM_CHART_RELEASE} \\\n+                --namespace ${testNamespace} \\\n+                ${testValues}\n+            \"\"\"\n+            // wait for external services to be ready\n+            sh \"kubectl rollout status statefulset ${TEST_REDIS_RESOURCE} --namespace ${testNamespace}\"\n+            if (!isDev) {\n+              def resourceType = env == 'mongodb' ? 'deployment' : 'statefulset'\n+              sh \"kubectl rollout status ${resourceType} ${TEST_HELM_CHART_RELEASE}-${env} --namespace ${testNamespace}\"\n+            }\n+\n+            echo \"${env} unit tests: run Maven\"\n+            // prepare backend-specific system properties\n+            if (!isDev) {\n+              sh \"\"\"\n+                CHART_RELEASE=${TEST_HELM_CHART_RELEASE} SERVICE=${env} NAMESPACE=${testNamespace} DOMAIN=${TEST_SERVICE_DOMAIN_SUFFIX} \\\n+                  envsubst < ci/mvn/nuxeo-test-${env}.properties > ${HOME}/nuxeo-test-${env}.properties\n+              \"\"\"\n+            } else {\n+              sh \"cp ci/mvn/nuxeo-test-${env}.properties ${HOME}/nuxeo-test-${env}.properties\"\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "910eace44c03e42a7e089dedb962052361d5e98d"}, "originalPosition": 67}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "910eace44c03e42a7e089dedb962052361d5e98d", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/910eace44c03e42a7e089dedb962052361d5e98d", "committedDate": "2020-02-24T11:26:03Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}, "afterCommit": {"oid": "300a399cb824dbc56a85124def4d69d78a86076e", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/300a399cb824dbc56a85124def4d69d78a86076e", "committedDate": "2020-02-25T14:16:06Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MjMyMjM4", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-364232238", "createdAt": "2020-02-25T15:27:44Z", "commit": {"oid": "300a399cb824dbc56a85124def4d69d78a86076e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0Mzc2NjU1", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-364376655", "createdAt": "2020-02-25T19:12:10Z", "commit": {"oid": "300a399cb824dbc56a85124def4d69d78a86076e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0a31c884a1e2248522eea3c547c23aee7f8ca93", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/b0a31c884a1e2248522eea3c547c23aee7f8ca93", "committedDate": "2020-02-26T07:35:50Z", "message": "NXP-28579: Run unit tests against H2, MongoDB and PostgreSQL in parallel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efd7f617a9df4353f74ec552f44a7bf4058b4293", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/efd7f617a9df4353f74ec552f44a7bf4058b4293", "committedDate": "2020-02-26T07:35:50Z", "message": "NXP-28579: Set labels on the redis/mongodb/postgresql resources started for unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3604b326a010a6e07b0cad34e518504ac65b184", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a3604b326a010a6e07b0cad34e518504ac65b184", "committedDate": "2020-02-26T07:35:50Z", "message": "NXP-28579: Avoid mongodb/postgresql rollout status being stuck\n\nThis can happen in case of ImagePullBackOff, for instance:\n```\nstatus:\n  containerStatuses:\n  - image: docker.io/bitnami/postgresql:11.7\n    state:\n      waiting:\n        message: Back-off pulling image \"docker.io/bitnami/postgresql:11.7\"\n        reason: ImagePullBackOff\n```"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0437660e1a907da98f617b540f95f0b148f48ef7", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/0437660e1a907da98f617b540f95f0b148f48ef7", "committedDate": "2020-02-26T07:29:10Z", "message": "NXP-28579: Avoid mongodb/postgresql rollout status being stuck\n\nThis can happen in case of ImagePullBackOff, for instance:\n```\nstatus:\n  containerStatuses:\n  - image: docker.io/bitnami/postgresql:11.7\n    state:\n      waiting:\n        message: Back-off pulling image \"docker.io/bitnami/postgresql:11.7\"\n        reason: ImagePullBackOff\n```"}, "afterCommit": {"oid": "a3604b326a010a6e07b0cad34e518504ac65b184", "author": {"user": {"login": "ataillefer", "name": "Antoine Taillefer"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a3604b326a010a6e07b0cad34e518504ac65b184", "committedDate": "2020-02-26T07:35:50Z", "message": "NXP-28579: Avoid mongodb/postgresql rollout status being stuck\n\nThis can happen in case of ImagePullBackOff, for instance:\n```\nstatus:\n  containerStatuses:\n  - image: docker.io/bitnami/postgresql:11.7\n    state:\n      waiting:\n        message: Back-off pulling image \"docker.io/bitnami/postgresql:11.7\"\n        reason: ImagePullBackOff\n```"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0NzcxNDIw", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-364771420", "createdAt": "2020-02-26T10:10:37Z", "commit": {"oid": "a3604b326a010a6e07b0cad34e518504ac65b184"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0OTM5MTAz", "url": "https://github.com/nuxeo/nuxeo/pull/3733#pullrequestreview-364939103", "createdAt": "2020-02-26T14:24:57Z", "commit": {"oid": "a3604b326a010a6e07b0cad34e518504ac65b184"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4844, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}