{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NzI0OTY4", "number": 4223, "title": "fix-NXP-29331-headless-repository", "bodyText": "PR created from https://qa.nuxeo.org/jenkins/job/TestAndPush/job/ondemand-testandpush-nsilva/160/", "createdAt": "2020-07-21T20:19:39Z", "url": "https://github.com/nuxeo/nuxeo/pull/4223", "merged": true, "mergeCommit": {"oid": "e018af03de77189b05dc32357260f202b47e49d1"}, "closed": true, "closedAt": "2020-07-23T09:03:59Z", "author": {"login": "nuxeojenkins"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3Mix7AFqTQ1MjgxNzYzNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3cegngFqTQ1MzQyNjcyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyODE3NjM1", "url": "https://github.com/nuxeo/nuxeo/pull/4223#pullrequestreview-452817635", "createdAt": "2020-07-21T20:48:46Z", "commit": {"oid": "21ece77de36f3226ba19024fbe8bf445291dacb0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMDc2NDg0", "url": "https://github.com/nuxeo/nuxeo/pull/4223#pullrequestreview-453076484", "createdAt": "2020-07-22T07:51:09Z", "commit": {"oid": "21ece77de36f3226ba19024fbe8bf445291dacb0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzo1MTowOVrOG1W4qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzo1ODowMlrOG1XIGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYwMjY2Nw==", "bodyText": "Worth updating the Javadoc to state that this method can return null, and probably will in most of the cases.", "url": "https://github.com/nuxeo/nuxeo/pull/4223#discussion_r458602667", "createdAt": "2020-07-22T07:51:09Z", "author": {"login": "troger"}, "path": "modules/core/nuxeo-core-storage-dbs/src/main/java/org/nuxeo/ecm/core/storage/dbs/DBSRepositoryDescriptor.java", "diffHunk": "@@ -51,6 +51,18 @@ public Boolean isDefault() {\n         return isDefault;\n     }\n \n+    @XNode(\"@isHeadless\")\n+    protected Boolean isHeadless;\n+\n+    /**\n+     * Returns true if repository is headless.\n+     *\n+     * @since 11.2\n+     */\n+    public Boolean isHeadless() {\n+        return isHeadless;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21ece77de36f3226ba19024fbe8bf445291dacb0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODYwNjYxOQ==", "bodyText": "Do we need the @XNode here as this descriptor is only kept for backward-compatibility? Nobody will contribute with this attribute.", "url": "https://github.com/nuxeo/nuxeo/pull/4223#discussion_r458606619", "createdAt": "2020-07-22T07:58:02Z", "author": {"login": "troger"}, "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -45,6 +45,9 @@\n     @XNode(\"@isDefault\")\n     private Boolean isDefault;\n \n+    @XNode(\"@headless\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21ece77de36f3226ba19024fbe8bf445291dacb0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b", "author": {"user": {"login": "nelsonsilva", "name": "Nelson Silva"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5a1014cd2f17eff73d027de52171f6e3f90d926b", "committedDate": "2020-07-22T10:05:47Z", "message": "NXP-29331: support flagging repositories as headless"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "21ece77de36f3226ba19024fbe8bf445291dacb0", "author": {"user": {"login": "nelsonsilva", "name": "Nelson Silva"}}, "url": "https://github.com/nuxeo/nuxeo/commit/21ece77de36f3226ba19024fbe8bf445291dacb0", "committedDate": "2020-07-21T13:06:42Z", "message": "NXP-29331: support flagging repositories as headless"}, "afterCommit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b", "author": {"user": {"login": "nelsonsilva", "name": "Nelson Silva"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5a1014cd2f17eff73d027de52171f6e3f90d926b", "committedDate": "2020-07-22T10:05:47Z", "message": "NXP-29331: support flagging repositories as headless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMjg5MDQx", "url": "https://github.com/nuxeo/nuxeo/pull/4223#pullrequestreview-453289041", "createdAt": "2020-07-22T12:56:48Z", "commit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjo1Njo0OFrOG1hIvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjo1Njo0OFrOG1hIvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3MDYyMw==", "bodyText": "Why not:\n    public Boolean isHeadless() {\n        return headless;\n    }\n\nas for the other descriptors?", "url": "https://github.com/nuxeo/nuxeo/pull/4223#discussion_r458770623", "createdAt": "2020-07-22T12:56:48Z", "author": {"login": "ataillefer"}, "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/repository/Repository.java", "diffHunk": "@@ -84,6 +88,11 @@ public boolean isDefault() {\n         return Boolean.TRUE.equals(isDefault);\n     }\n \n+    /** @since 11.2 */\n+    public boolean isHeadless() {\n+        return Boolean.TRUE.equals(headless);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNDAwODM0", "url": "https://github.com/nuxeo/nuxeo/pull/4223#pullrequestreview-453400834", "createdAt": "2020-07-22T14:56:01Z", "commit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNDI2NzI3", "url": "https://github.com/nuxeo/nuxeo/pull/4223#pullrequestreview-453426727", "createdAt": "2020-07-22T15:22:35Z", "commit": {"oid": "5a1014cd2f17eff73d027de52171f6e3f90d926b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4986, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}