{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3Nzk1MTcz", "number": 4293, "title": "Feature NXP-29529 Elastic Upgrade to 7.9.2", "bodyText": "Upgrade to Elastic 7.9.1.\nNot to be merged immediately because CI pipeline needs to be updated.\nStill, the code can be reviewed.", "createdAt": "2020-09-02T12:46:20Z", "url": "https://github.com/nuxeo/nuxeo/pull/4293", "merged": true, "mergeCommit": {"oid": "435c28b20553bd0d8ca2372cd6941fb4a18b81bd"}, "closed": true, "closedAt": "2020-10-27T16:27:26Z", "author": {"login": "bdelbosc"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGdyAhgBqjM3MzU2NDg4MjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWrX8BAFqTUxNzg5MDMyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a846e27d41d15ef832dd88abb01449af26e449a", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7a846e27d41d15ef832dd88abb01449af26e449a", "committedDate": "2020-09-01T15:48:29Z", "message": "NXP-29529: upgrade other modules"}, "afterCommit": {"oid": "bb0dfdb4f2e80535a633e43ec1ee479fcac2a5a5", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bb0dfdb4f2e80535a633e43ec1ee479fcac2a5a5", "committedDate": "2020-09-07T07:22:23Z", "message": "NXP-29529: Upgrade other modules"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3106d448096f57a24b0d6295eff02ff89b568c39", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3106d448096f57a24b0d6295eff02ff89b568c39", "committedDate": "2020-09-08T19:00:47Z", "message": "NXP-29529: Try upgrade to 7.9.1"}, "afterCommit": {"oid": "7a3d9a80609c22fd82f0cd8f1185b54dae43a0af", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7a3d9a80609c22fd82f0cd8f1185b54dae43a0af", "committedDate": "2020-09-09T06:38:11Z", "message": "NXP-29529: Try upgrade to 7.9.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a3d9a80609c22fd82f0cd8f1185b54dae43a0af", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/7a3d9a80609c22fd82f0cd8f1185b54dae43a0af", "committedDate": "2020-09-09T06:38:11Z", "message": "NXP-29529: Try upgrade to 7.9.1"}, "afterCommit": {"oid": "8a1504a8cbd3f18c5fb169f86760399a3b7bc270", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8a1504a8cbd3f18c5fb169f86760399a3b7bc270", "committedDate": "2020-09-09T08:55:12Z", "message": "NXP-29529: Try upgrade to 7.9.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a1504a8cbd3f18c5fb169f86760399a3b7bc270", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8a1504a8cbd3f18c5fb169f86760399a3b7bc270", "committedDate": "2020-09-09T08:55:12Z", "message": "NXP-29529: Try upgrade to 7.9.1"}, "afterCommit": {"oid": "f1250a797ba43d3a939b65bc672e095ebd8d3d83", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f1250a797ba43d3a939b65bc672e095ebd8d3d83", "committedDate": "2020-09-11T12:45:00Z", "message": "NXP-29529: Try upgrade to 7.9.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1250a797ba43d3a939b65bc672e095ebd8d3d83", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f1250a797ba43d3a939b65bc672e095ebd8d3d83", "committedDate": "2020-09-11T12:45:00Z", "message": "NXP-29529: Try upgrade to 7.9.1"}, "afterCommit": {"oid": "ce2e5c43f72c6d362cedeb9b1dc8f97bf02de797", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/ce2e5c43f72c6d362cedeb9b1dc8f97bf02de797", "committedDate": "2020-09-11T13:22:56Z", "message": "NXP-29529: Upgrade to Elastic 7.9.1, ignore WARNs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce2e5c43f72c6d362cedeb9b1dc8f97bf02de797", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/ce2e5c43f72c6d362cedeb9b1dc8f97bf02de797", "committedDate": "2020-09-11T13:22:56Z", "message": "NXP-29529: Upgrade to Elastic 7.9.1, ignore WARNs"}, "afterCommit": {"oid": "bc8f98013083a8aef44171014afd103557d82506", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bc8f98013083a8aef44171014afd103557d82506", "committedDate": "2020-09-11T14:31:46Z", "message": "NXP-29529: Upgrade to Elastic 7.9.1, ignore WARNs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NTIyMjc4", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-487522278", "createdAt": "2020-09-14T08:19:34Z", "commit": {"oid": "bc8f98013083a8aef44171014afd103557d82506"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoxOTozNVrOHRI4LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoyMjowMFrOHRI9-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzczMzI5Mg==", "bodyText": "To remove?", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r487733292", "createdAt": "2020-09-14T08:19:35Z", "author": {"login": "kevinleturc"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/test/java/org/nuxeo/elasticsearch/test/TestESClient.java", "diffHunk": "@@ -97,12 +97,13 @@ public void closeESClient() throws Exception {\n     @Test\n     public void testIndexOptimisticConcurrency() {\n         client.createIndex(\"foo-index\", \"{\\\"index\\\" : {\\\"number_of_shards\\\" : 1, \\\"number_of_replicas\\\" : 0}}\");\n+        // client.createIndex(\"foo-index\", \"{\\\"settings\\\":{\\\"index\\\" : {\\\"number_of_shards\\\" : 1, \\\"number_of_replicas\\\" : 0}}}\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc8f98013083a8aef44171014afd103557d82506"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzczNDc3OA==", "bodyText": "Shouldn't we keep a backward compatibility mechanism for the existing queries with 4 parameters written by users?", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r487734778", "createdAt": "2020-09-14T08:22:00Z", "author": {"login": "kevinleturc"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/main/java/org/nuxeo/elasticsearch/hint/GeoShapeESHintQueryBuilder.java", "diffHunk": "@@ -40,10 +40,10 @@\n      */\n     @Override\n     public QueryBuilder make(EsHint hint, String fieldName, Object value) {\n-        String[] values = validate(value, 4, \"shapeId, type, index and path\");\n-        return QueryBuilders.geoShapeQuery(fieldName, values[0], values[1])\n+        String[] values = validate(value, 3, \"shapeId, index and path\");\n+        return QueryBuilders.geoShapeQuery(fieldName, values[0])\n                             .relation(ShapeRelation.WITHIN)\n-                            .indexedShapeIndex(values[2])\n-                            .indexedShapePath(values[3]);\n+                            .indexedShapeIndex(values[1])\n+                            .indexedShapePath(values[2]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc8f98013083a8aef44171014afd103557d82506"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d0cebf02d151bb78f82ce4378ab13b3b5803f09", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2d0cebf02d151bb78f82ce4378ab13b3b5803f09", "committedDate": "2020-09-16T13:09:04Z", "message": "NXP-29529: Upgrade helm to use a stack with elastic 7"}, "afterCommit": {"oid": "72c998747e1ca5b14f1aa2b3b76a978ca1174061", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/72c998747e1ca5b14f1aa2b3b76a978ca1174061", "committedDate": "2020-09-16T13:10:42Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72c998747e1ca5b14f1aa2b3b76a978ca1174061", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/72c998747e1ca5b14f1aa2b3b76a978ca1174061", "committedDate": "2020-09-16T13:10:42Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "23b02985af55b7a27dfe59d7f3756f1c77e0ee83", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/23b02985af55b7a27dfe59d7f3756f1c77e0ee83", "committedDate": "2020-09-16T13:37:53Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23b02985af55b7a27dfe59d7f3756f1c77e0ee83", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/23b02985af55b7a27dfe59d7f3756f1c77e0ee83", "committedDate": "2020-09-16T13:37:53Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "a66fa9265555a53aef3e9f2f9eea64e6e704b1cc", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a66fa9265555a53aef3e9f2f9eea64e6e704b1cc", "committedDate": "2020-09-16T13:50:47Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a66fa9265555a53aef3e9f2f9eea64e6e704b1cc", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a66fa9265555a53aef3e9f2f9eea64e6e704b1cc", "committedDate": "2020-09-16T13:50:47Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "a8156540ec3d250d25d4b876872f03ef98ada813", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a8156540ec3d250d25d4b876872f03ef98ada813", "committedDate": "2020-09-16T13:55:57Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8156540ec3d250d25d4b876872f03ef98ada813", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a8156540ec3d250d25d4b876872f03ef98ada813", "committedDate": "2020-09-16T13:55:57Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "6cba3ef689cebc326f9eeb0baa4ba713c1eb9f30", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6cba3ef689cebc326f9eeb0baa4ba713c1eb9f30", "committedDate": "2020-09-16T14:14:32Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6cba3ef689cebc326f9eeb0baa4ba713c1eb9f30", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6cba3ef689cebc326f9eeb0baa4ba713c1eb9f30", "committedDate": "2020-09-16T14:14:32Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "be818bc3a7412f01a54f6519201081ae97d7a62e", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/be818bc3a7412f01a54f6519201081ae97d7a62e", "committedDate": "2020-09-16T15:07:51Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be818bc3a7412f01a54f6519201081ae97d7a62e", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/be818bc3a7412f01a54f6519201081ae97d7a62e", "committedDate": "2020-09-16T15:07:51Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "f71fa72f3cd4a26c62275d17e30730a8dee8b7e4", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f71fa72f3cd4a26c62275d17e30730a8dee8b7e4", "committedDate": "2020-09-16T15:15:05Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f71fa72f3cd4a26c62275d17e30730a8dee8b7e4", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f71fa72f3cd4a26c62275d17e30730a8dee8b7e4", "committedDate": "2020-09-16T15:15:05Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "42c2adb3a8fe4cfc880a5b494e56f620d3038af0", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/42c2adb3a8fe4cfc880a5b494e56f620d3038af0", "committedDate": "2020-09-16T17:44:58Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42c2adb3a8fe4cfc880a5b494e56f620d3038af0", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/42c2adb3a8fe4cfc880a5b494e56f620d3038af0", "committedDate": "2020-09-16T17:44:58Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "afb4c44a36654edd3e6c5ac936c9037129c38d29", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/afb4c44a36654edd3e6c5ac936c9037129c38d29", "committedDate": "2020-09-17T08:28:00Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "afb4c44a36654edd3e6c5ac936c9037129c38d29", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/afb4c44a36654edd3e6c5ac936c9037129c38d29", "committedDate": "2020-09-17T08:28:00Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "cf11490f03052cdee33ca635dbb0f86f83a2d37f", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cf11490f03052cdee33ca635dbb0f86f83a2d37f", "committedDate": "2020-09-17T08:54:28Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf11490f03052cdee33ca635dbb0f86f83a2d37f", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cf11490f03052cdee33ca635dbb0f86f83a2d37f", "committedDate": "2020-09-17T08:54:28Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "a518c37d1009ffdde4ff3c71555692febe4eecc1", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a518c37d1009ffdde4ff3c71555692febe4eecc1", "committedDate": "2020-09-17T09:22:45Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a518c37d1009ffdde4ff3c71555692febe4eecc1", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a518c37d1009ffdde4ff3c71555692febe4eecc1", "committedDate": "2020-09-17T09:22:45Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "18e271669c959783812b53cca1debb276fd94dd2", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/18e271669c959783812b53cca1debb276fd94dd2", "committedDate": "2020-09-17T14:00:56Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18e271669c959783812b53cca1debb276fd94dd2", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/18e271669c959783812b53cca1debb276fd94dd2", "committedDate": "2020-09-17T14:00:56Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}, "afterCommit": {"oid": "d52a9879e681bad9838c6f53ca31f23a021d7d50", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d52a9879e681bad9838c6f53ca31f23a021d7d50", "committedDate": "2020-09-22T08:20:32Z", "message": "NXP-29529: TEST Upgrade helm to use elastic 7\n\nAlso disabling runtime unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMTAxMjk3", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-500101297", "createdAt": "2020-10-01T08:06:26Z", "commit": {"oid": "f2afb3d1cc87dd9b40c7e2d50499c7af381dd55e"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODowNjoyNlrOHa_EFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODozMTo1MlrOHa__SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1ODI2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } catch (IOException|ElasticsearchStatusException e) {\n          \n          \n            \n                    } catch (IOException | ElasticsearchStatusException e) {", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498058260", "createdAt": "2020-10-01T08:06:26Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/main/java/org/nuxeo/elasticsearch/client/ESRestClient.java", "diffHunk": "@@ -321,7 +323,8 @@ public DeleteResponse delete(DeleteRequest request) {\n     public SearchResponse search(SearchRequest request) {\n         try (Scope ignored = getScopedSpan(\"elastic/_search\", request.toString())) {\n             return client.search(request, RequestOptions.DEFAULT);\n-        } catch (IOException e) {\n+        } catch (IOException|ElasticsearchStatusException e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2afb3d1cc87dd9b40c7e2d50499c7af381dd55e"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1OTI5NQ==", "bodyText": "really needed?", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498059295", "createdAt": "2020-10-01T08:08:21Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/main/java/org/nuxeo/elasticsearch/core/ElasticSearchServiceImpl.java", "diffHunk": "@@ -20,13 +20,12 @@\n \n package org.nuxeo.elasticsearch.core;\n \n-import static org.nuxeo.elasticsearch.ElasticSearchConstants.DOC_TYPE;\n-\n import java.util.List;\n \n import org.apache.commons.lang3.StringUtils;\n import org.apache.commons.logging.Log;\n import org.apache.commons.logging.LogFactory;\n+import org.apache.lucene.search.TotalHits;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2afb3d1cc87dd9b40c7e2d50499c7af381dd55e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA2MTYxOA==", "bodyText": "not needed I guess", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498061618", "createdAt": "2020-10-01T08:12:32Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/test/java/org/nuxeo/elasticsearch/test/TestMapping.java", "diffHunk": "@@ -23,13 +23,15 @@\n \n import javax.inject.Inject;\n \n+import org.elasticsearch.ElasticsearchStatusException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2afb3d1cc87dd9b40c7e2d50499c7af381dd55e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA3MDE1MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Aggregation agg = searchResponse.getAggregations().get(\"maxAgg\");\n          \n          \n            \n                    long maxLogEntryId = 0;\n          \n          \n            \n                    if (agg.getMetadata() != null && agg.getMetadata().containsKey(Aggregation.CommonFields.VALUE)) {\n          \n          \n            \n                        maxLogEntryId = (long) agg.getMetadata().get(Aggregation.CommonFields.VALUE);\n          \n          \n            \n                    }\n          \n          \n            \n                    long maxLogEntryId = 0;\n          \n          \n            \n                    Aggregation agg = searchResponse.getAggregations().get(\"maxAgg\");\n          \n          \n            \n                    Map<String, Object> aggMetadata = agg.getMetaData();\n          \n          \n            \n                    if (aggMetadata != null) {\n          \n          \n            \n                        maxLogEntryId = (long) aggMetadata.getOrDefault(Aggregation.CommonFields.VALUE, 0);\n          \n          \n            \n                    }", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498070150", "createdAt": "2020-10-01T08:26:46Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-audit/src/main/java/org/nuxeo/elasticsearch/audit/ESAuditBackend.java", "diffHunk": "@@ -715,9 +715,11 @@ protected void ensureUIDSequencer(ESClient esClient) {\n         request.source(new SearchSourceBuilder().query(QueryBuilders.matchAllQuery())\n                                                 .aggregation(AggregationBuilders.max(\"maxAgg\").field(\"id\")));\n         SearchResponse searchResponse = esClient.search(request);\n-        Max agg = searchResponse.getAggregations().get(\"maxAgg\");\n-        long maxLogEntryId = (long) agg.getValue();\n-\n+        Aggregation agg = searchResponse.getAggregations().get(\"maxAgg\");\n+        long maxLogEntryId = 0;\n+        if (agg.getMetadata() != null && agg.getMetadata().containsKey(Aggregation.CommonFields.VALUE)) {\n+            maxLogEntryId = (long) agg.getMetadata().get(Aggregation.CommonFields.VALUE);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e912bb845c757e7ecdfb7cac47bca4a6e7a3a43c"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA3MjAxNw==", "bodyText": "to be clear, this should be in the same commit as f2afb3d#diff-f0d6271e8fca3291a638cf9797c75ddaL295", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498072017", "createdAt": "2020-10-01T08:29:29Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/main/java/org/nuxeo/elasticsearch/core/ElasticSearchIndexingImpl.java", "diffHunk": "@@ -290,7 +290,7 @@ void processIndexCommand(IndexingCommand cmd) {\n             return;\n         }\n         if (log.isDebugEnabled()) {\n-            logDebugMessageTruncated(String.format(\"Index request: curl -XPUT 'http://localhost:9200/%s/%s/%s' -d '%s'\",\n+            logDebugMessageTruncated(String.format(\"Index request: curl -XPUT 'http://localhost:9200/%s/%s' -d '%s'\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e912bb845c757e7ecdfb7cac47bca4a6e7a3a43c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA3MjE3NQ==", "bodyText": "and this too probably", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498072175", "createdAt": "2020-10-01T08:29:46Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/main/java/org/nuxeo/elasticsearch/core/ElasticSearchIndexingImpl.java", "diffHunk": "@@ -360,7 +360,7 @@ void processDeleteCommandRecursive(IndexingCommand cmd) {\n             // Build bulk delete request\n             BulkRequest bulkRequest = new BulkRequest();\n             for (SearchHit hit : response.getHits().getHits()) {\n-                bulkRequest.add(new DeleteRequest(hit.getIndex(), hit.getType(), hit.getId()));\n+                bulkRequest.add(new DeleteRequest(hit.getIndex(), hit.getId()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e912bb845c757e7ecdfb7cac47bca4a6e7a3a43c"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA3MjgyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <!-- Remove WARN on elastic embedded because node and cluster identifiers change between test suite -->\n          \n          \n            \n                <!-- Remove WARN on elastic embedded because node and cluster identifiers change between test suites -->", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498072820", "createdAt": "2020-10-01T08:30:50Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-core/src/test/resources/log4j2-test.xml", "diffHunk": "@@ -12,6 +12,10 @@\n   </Appenders>\n   <Loggers>\n     <Logger name=\"org.nuxeo\" level=\"info\" />\n+    <!-- Remove WARN on elastic embedded because dangling indices cannot be detected -->\n+    <Logger name=\"org.elasticsearch.gateway.DanglingIndicesState\" level=\"error\" />\n+    <!-- Remove WARN on elastic embedded because node and cluster identifiers change between test suite -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecc4e127151184d04b81533937c2e7dd5fc8e459"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA3MzQxNg==", "bodyText": "in the end, should be squashed with f2afb3d#diff-600376dffeb79835ede4a0b285078036L72", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r498073416", "createdAt": "2020-10-01T08:31:52Z", "author": {"login": "ataillefer"}, "path": "pom.xml", "diffHunk": "@@ -69,8 +69,8 @@\n     <jaxb-api.version>2.3.3</jaxb-api.version>\n     <jaxb.version>2.3.3</jaxb.version>\n     <tomcat.version>9.0.38</tomcat.version>\n-    <lucene.version>8.6.0</lucene.version>\n-    <elasticsearch.version>7.9.0</elasticsearch.version> <!-- when changing this make sure JNA version is in sync -->\n+    <lucene.version>8.6.2</lucene.version>\n+    <elasticsearch.version>7.9.1</elasticsearch.version> <!-- when changing this make sure JNA version is in sync -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ecc4e127151184d04b81533937c2e7dd5fc8e459"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ccec04e2eda545b8ff722d0031f8a9cabda842f", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/9ccec04e2eda545b8ff722d0031f8a9cabda842f", "committedDate": "2020-09-22T14:52:06Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}, "afterCommit": {"oid": "fcdd998603c8d2c65b8b306ac225bd32bdb099fb", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/fcdd998603c8d2c65b8b306ac225bd32bdb099fb", "committedDate": "2020-10-05T09:12:01Z", "message": "NXP-29529: Upgrade to Elastic 7.9.2"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fcdd998603c8d2c65b8b306ac225bd32bdb099fb", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/fcdd998603c8d2c65b8b306ac225bd32bdb099fb", "committedDate": "2020-10-05T09:12:01Z", "message": "NXP-29529: Upgrade to Elastic 7.9.2"}, "afterCommit": {"oid": "80bd5300c2e695f51b41406e381eb9df4fe0c382", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/80bd5300c2e695f51b41406e381eb9df4fe0c382", "committedDate": "2020-10-05T13:46:21Z", "message": "NXP-29529: Upgrade to Elastic 7.9.2"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80bd5300c2e695f51b41406e381eb9df4fe0c382", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/80bd5300c2e695f51b41406e381eb9df4fe0c382", "committedDate": "2020-10-05T13:46:21Z", "message": "NXP-29529: Upgrade to Elastic 7.9.2"}, "afterCommit": {"oid": "efa737d333add8548d271af36ff78911d0ae1185", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/efa737d333add8548d271af36ff78911d0ae1185", "committedDate": "2020-10-05T13:51:09Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMTAzNDk3", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-502103497", "createdAt": "2020-10-05T14:18:03Z", "commit": {"oid": "efa737d333add8548d271af36ff78911d0ae1185"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "efa737d333add8548d271af36ff78911d0ae1185", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/efa737d333add8548d271af36ff78911d0ae1185", "committedDate": "2020-10-05T13:51:09Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}, "afterCommit": {"oid": "1863a2a79bf7cdab1cb26fe3850c82080674dd25", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1863a2a79bf7cdab1cb26fe3850c82080674dd25", "committedDate": "2020-10-05T14:32:41Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1863a2a79bf7cdab1cb26fe3850c82080674dd25", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1863a2a79bf7cdab1cb26fe3850c82080674dd25", "committedDate": "2020-10-05T14:32:41Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}, "afterCommit": {"oid": "c5378713e522088ae5f4324fa3e0651a5cfdce6b", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/c5378713e522088ae5f4324fa3e0651a5cfdce6b", "committedDate": "2020-10-05T15:01:26Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMzQ5ODc0", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-502349874", "createdAt": "2020-10-05T19:20:28Z", "commit": {"oid": "c5378713e522088ae5f4324fa3e0651a5cfdce6b"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13e945d8f77004392f94830bc81ef05818d26ede", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/13e945d8f77004392f94830bc81ef05818d26ede", "committedDate": "2020-10-14T10:43:13Z", "message": "NXP-29529: Test against Elastic cluster in 7.7.1"}, "afterCommit": {"oid": "6ffb2ff58dcddfaa29d52d0d92e716d6980ed3fe", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6ffb2ff58dcddfaa29d52d0d92e716d6980ed3fe", "committedDate": "2020-10-22T09:19:44Z", "message": "NXP-29529: Test against Elastic cluster in 7.7.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDM2NDgx", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-515436481", "createdAt": "2020-10-23T08:08:59Z", "commit": {"oid": "6ffb2ff58dcddfaa29d52d0d92e716d6980ed3fe"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ffb2ff58dcddfaa29d52d0d92e716d6980ed3fe", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/6ffb2ff58dcddfaa29d52d0d92e716d6980ed3fe", "committedDate": "2020-10-22T09:19:44Z", "message": "NXP-29529: Test against Elastic cluster in 7.7.1"}, "afterCommit": {"oid": "3e4aef3533cd6eaa6e9d723083ae8bc6fb808db3", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3e4aef3533cd6eaa6e9d723083ae8bc6fb808db3", "committedDate": "2020-10-26T07:20:49Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTY2NzE0", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-516566714", "createdAt": "2020-10-26T08:50:00Z", "commit": {"oid": "3e4aef3533cd6eaa6e9d723083ae8bc6fb808db3"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTM0Nzkx", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-516934791", "createdAt": "2020-10-26T16:04:47Z", "commit": {"oid": "1b528f00e48559aa28236de7d40547f806070920"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNjowNDo0OFrOHoW0xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNjowNjozMlrOHoW5kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA3OTA0Ng==", "bodyText": "Could we put agg.getMetaData() in a local var at least to avoid repetition? It could be done directly with\nvar aggMetadata = searchResponse.getAggregations().get(\"maxAgg\").getMetaData();\n\nBut I would also really want to advocate getOrDefault, it's a habit that's good to have.", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r512079046", "createdAt": "2020-10-26T16:04:48Z", "author": {"login": "efge"}, "path": "modules/platform/nuxeo-elasticsearch/nuxeo-elasticsearch-audit/src/main/java/org/nuxeo/elasticsearch/audit/ESAuditBackend.java", "diffHunk": "@@ -715,8 +715,11 @@ protected void ensureUIDSequencer(ESClient esClient) {\n         request.source(new SearchSourceBuilder().query(QueryBuilders.matchAllQuery())\n                                                 .aggregation(AggregationBuilders.max(\"maxAgg\").field(\"id\")));\n         SearchResponse searchResponse = esClient.search(request);\n-        Max agg = searchResponse.getAggregations().get(\"maxAgg\");\n-        long maxLogEntryId = (long) agg.getValue();\n+        Aggregation agg = searchResponse.getAggregations().get(\"maxAgg\");\n+        long maxLogEntryId = 0;\n+        if (agg.getMetadata() != null && agg.getMetadata().containsKey(Aggregation.CommonFields.VALUE)) {\n+            maxLogEntryId = (long) agg.getMetadata().get(Aggregation.CommonFields.VALUE);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b528f00e48559aa28236de7d40547f806070920"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA4MDI3NQ==", "bodyText": "Note that 7.9.3 is out now.", "url": "https://github.com/nuxeo/nuxeo/pull/4293#discussion_r512080275", "createdAt": "2020-10-26T16:06:32Z", "author": {"login": "efge"}, "path": "pom.xml", "diffHunk": "@@ -69,8 +69,8 @@\n     <jaxb-api.version>2.3.3</jaxb-api.version>\n     <jaxb.version>2.3.3</jaxb.version>\n     <tomcat.version>9.0.39</tomcat.version>\n-    <lucene.version>7.5.0</lucene.version>\n-    <elasticsearch.version>6.5.3</elasticsearch.version> <!-- when changing this make sure JNA version is in sync -->\n+    <lucene.version>8.6.2</lucene.version>\n+    <elasticsearch.version>7.9.2</elasticsearch.version> <!-- when changing this make sure JNA version is in sync -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14b098de15be8e152407a8c6a509c1871d06b53d"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4052a4cc6a624e3cead55adb83592fafbf7dd10", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/d4052a4cc6a624e3cead55adb83592fafbf7dd10", "committedDate": "2020-10-27T14:55:08Z", "message": "NXP-29529: Upgrade Elastic to 7.9.2 align code\n\nUnit tests OK for nuxeo-elasticsearch-core\nIgnore some WARNs from lucene in clusterStateListener cannot be set twice\nwhich is to be expected in embedded mode during unit tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1f19c15e791647d9e6fe1937749fb2eb107b9a6", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/a1f19c15e791647d9e6fe1937749fb2eb107b9a6", "committedDate": "2020-10-27T15:03:10Z", "message": "NXP-29529: Align all modules to Elastic 7.9.2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51ec186be593c4bb7e2d114744b7fff97412b470", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/51ec186be593c4bb7e2d114744b7fff97412b470", "committedDate": "2020-10-27T15:03:10Z", "message": "NXP-29529: Upgrade helm to use elastic 7\n\nRequires latest nuxeo-helm-chart version > 1.0.14"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc15b56aba84bcf6ffe995abfaa634a89debe1b4", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cc15b56aba84bcf6ffe995abfaa634a89debe1b4", "committedDate": "2020-10-27T15:03:10Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e4aef3533cd6eaa6e9d723083ae8bc6fb808db3", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3e4aef3533cd6eaa6e9d723083ae8bc6fb808db3", "committedDate": "2020-10-26T07:20:49Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}, "afterCommit": {"oid": "cc15b56aba84bcf6ffe995abfaa634a89debe1b4", "author": {"user": {"login": "bdelbosc", "name": "Benoit Delbosc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/cc15b56aba84bcf6ffe995abfaa634a89debe1b4", "committedDate": "2020-10-27T15:03:10Z", "message": "NXP-29529: fix Duplicate component name: service:org.nuxeo.elasticsearch.test.contrib"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3ODY1NjY3", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-517865667", "createdAt": "2020-10-27T15:52:56Z", "commit": {"oid": "cc15b56aba84bcf6ffe995abfaa634a89debe1b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3ODkwMzIw", "url": "https://github.com/nuxeo/nuxeo/pull/4293#pullrequestreview-517890320", "createdAt": "2020-10-27T16:15:38Z", "commit": {"oid": "cc15b56aba84bcf6ffe995abfaa634a89debe1b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4968, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}