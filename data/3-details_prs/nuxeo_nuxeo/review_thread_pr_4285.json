{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MjYyMzkz", "number": 4285, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOEeSnCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOEeSnCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTk3NjQzOnYy", "diffSide": "RIGHT", "path": "modules/platform/nuxeo-platform-oauth/src/main/java/org/nuxeo/ecm/platform/oauth2/NuxeoOAuth2Servlet.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOHJ3Kgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOHJ3Kgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwMzA0Mw==", "bodyText": "maybe useless", "url": "https://github.com/nuxeo/nuxeo/pull/4285#discussion_r480103043", "createdAt": "2020-08-31T12:41:19Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-platform-oauth/src/main/java/org/nuxeo/ecm/platform/oauth2/NuxeoOAuth2Servlet.java", "diffHunk": "@@ -358,6 +355,14 @@ protected void doPostToken(HttpServletRequest request, HttpServletResponse respo\n                 return;\n             }\n \n+            Map<String, Object> claims = Framework.getService(JWTService.class).verifyToken(jwtToken);\n+            if (claims == null) {\n+                error = OAuth2Error.invalidClient(\"Secret not configured or invalid token\");\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d793e3fae13c0b4817493c13a03146e508eecd5"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4369, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}