{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MDQxODIw", "number": 4290, "title": "NXP-29338: build and release slack notifications", "bodyText": "", "createdAt": "2020-09-01T12:22:33Z", "url": "https://github.com/nuxeo/nuxeo/pull/4290", "merged": true, "mergeCommit": {"oid": "d5590feca1c8d77626647e1c3737981eee8528af"}, "closed": true, "closedAt": "2020-09-07T11:02:42Z", "author": {"login": "NourNuxeo"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEmfkCABqjM3MTQ2MzgyMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGfXNFgFqTQ4MzM5MDQyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "281d32a2519781435ebfd77eec1918b268ea685e", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/281d32a2519781435ebfd77eec1918b268ea685e", "committedDate": "2020-09-01T12:20:40Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "675deaf194b65b44723023b413039190912e0b7f", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/675deaf194b65b44723023b413039190912e0b7f", "committedDate": "2020-09-01T12:23:42Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "675deaf194b65b44723023b413039190912e0b7f", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/675deaf194b65b44723023b413039190912e0b7f", "committedDate": "2020-09-01T12:23:42Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "f5d488013d103afd14cfc7665051334b23683a1d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f5d488013d103afd14cfc7665051334b23683a1d", "committedDate": "2020-09-01T12:29:15Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5d488013d103afd14cfc7665051334b23683a1d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/f5d488013d103afd14cfc7665051334b23683a1d", "committedDate": "2020-09-01T12:29:15Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "2d9d96fcfa378f0d115b81905ff2fba3d9f1124d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2d9d96fcfa378f0d115b81905ff2fba3d9f1124d", "committedDate": "2020-09-01T13:11:19Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d9d96fcfa378f0d115b81905ff2fba3d9f1124d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2d9d96fcfa378f0d115b81905ff2fba3d9f1124d", "committedDate": "2020-09-01T13:11:19Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "11cdb41dfe4d9dd77c28a456b81ca44c9bd58491", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/11cdb41dfe4d9dd77c28a456b81ca44c9bd58491", "committedDate": "2020-09-01T13:22:31Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "11cdb41dfe4d9dd77c28a456b81ca44c9bd58491", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/11cdb41dfe4d9dd77c28a456b81ca44c9bd58491", "committedDate": "2020-09-01T13:22:31Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "da9b07d465bc72faa1179b2cf847126cfd61fa9d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/da9b07d465bc72faa1179b2cf847126cfd61fa9d", "committedDate": "2020-09-02T12:53:59Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da9b07d465bc72faa1179b2cf847126cfd61fa9d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/da9b07d465bc72faa1179b2cf847126cfd61fa9d", "committedDate": "2020-09-02T12:53:59Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d", "committedDate": "2020-09-02T13:02:55Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODA1MDIw", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-480805020", "createdAt": "2020-09-02T13:13:30Z", "commit": {"oid": "bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxMzozMFrOHLueaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxMzozMFrOHLueaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA1NzgzMw==", "bodyText": "Could color be added?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r482057833", "createdAt": "2020-09-02T13:13:30Z", "author": {"login": "kevinleturc"}, "path": "ci/Jenkinsfiles/build.groovy", "diffHunk": "@@ -885,6 +886,16 @@ pipeline {\n       script {\n         if (!isPullRequest() && env.DRY_RUN != \"true\") {\n           currentBuild.description = \"Build ${VERSION}\"\n+          if(!hudson.model.Result.FAILURE.equals(currentBuild.getPreviousBuild()?.getResult())) {\n+            slackSend(channel: \"${SLACK_CHANNEL}\", message: \"Successfully built ${BRANCH_NAME}/${BUILD_NUMBER}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/bcc372a81c271c24c4a5a631e5d6a6b5fb55c37d", "committedDate": "2020-09-02T13:02:55Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5c054e6049d7c60a5ac3cb22db1bb88591abb429", "committedDate": "2020-09-02T13:25:32Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODE2NjQ2", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-480816646", "createdAt": "2020-09-02T13:26:19Z", "commit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxOTQ5MzQ5", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-481949349", "createdAt": "2020-09-03T15:21:11Z", "commit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "state": "COMMENTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNToyMToxMVrOHMrt7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNTo0MzoyMVrOHMsrKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA2MTIyOQ==", "bodyText": "Don't we want unsuccessful here, as we handle it for each step?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483061229", "createdAt": "2020-09-03T15:21:11Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/build.groovy", "diffHunk": "@@ -885,6 +886,16 @@ pipeline {\n       script {\n         if (!isPullRequest() && env.DRY_RUN != \"true\") {\n           currentBuild.description = \"Build ${VERSION}\"\n+          if(!hudson.model.Result.FAILURE.equals(currentBuild.getPreviousBuild()?.getResult())) {\n+            slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully built ${BRANCH_NAME}/${BUILD_NUMBER}: ${BUILD_URL}\")\n+          }\n+        }\n+      }\n+    }\n+    failure {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA2NDgxNg==", "bodyText": "WDYT of \"Successfully built nuxeo/nuxeo ${BRANCH_NAME} #${BUILD_NUMBER}\"?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483064816", "createdAt": "2020-09-03T15:26:14Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/build.groovy", "diffHunk": "@@ -885,6 +886,16 @@ pipeline {\n       script {\n         if (!isPullRequest() && env.DRY_RUN != \"true\") {\n           currentBuild.description = \"Build ${VERSION}\"\n+          if(!hudson.model.Result.FAILURE.equals(currentBuild.getPreviousBuild()?.getResult())) {\n+            slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully built ${BRANCH_NAME}/${BUILD_NUMBER}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA2NjE0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                failure {\n          \n          \n            \n                unsuccessful {", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483066144", "createdAt": "2020-09-03T15:27:41Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -273,6 +284,10 @@ pipeline {\n           currentBuild.description = \"Release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\"\n         }\n       }\n+      slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully promoted ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")\n+    }\n+    failure {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3MDY1NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                stage('Notify Promotion start on slack') {\n          \n          \n            \n                stage('Notify promotion start to Slack') {\n          \n      \n    \n    \n  \n\nmaybe?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483070654", "createdAt": "2020-09-03T15:34:14Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -79,10 +79,21 @@ pipeline {\n     DOCKER_NAMESPACE = 'nuxeo'\n     NUXEO_IMAGE_NAME = 'nuxeo'\n     SLIM_IMAGE_NAME = 'slim'\n+    SLACK_CHANNEL = 'platform-notifs'\n   }\n \n   stages {\n \n+    stage('Notify Promotion start on slack') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3NTQ5MQ==", "bodyText": "I'd go with a message similar to the build description we set at the end in case of success:  \"Starting release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}: ${BUILD_URL}\", which will translate to \"Starting release 11.3 from build 11.3.47: https://xxx\" for instance.", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483075491", "createdAt": "2020-09-03T15:41:17Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -79,10 +79,21 @@ pipeline {\n     DOCKER_NAMESPACE = 'nuxeo'\n     NUXEO_IMAGE_NAME = 'nuxeo'\n     SLIM_IMAGE_NAME = 'slim'\n+    SLACK_CHANNEL = 'platform-notifs'\n   }\n \n   stages {\n \n+    stage('Notify Promotion start on slack') {\n+      steps {\n+        script {\n+          if (env.DRY_RUN != \"true\") {\n+            slackSend(channel: \"${SLACK_CHANNEL}\", color: \"#0167FF\", message: \"Promoting ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3NjE3MA==", "bodyText": "Should be it in the !DRY_RRUN block, no?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483076170", "createdAt": "2020-09-03T15:42:15Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -273,6 +284,10 @@ pipeline {\n           currentBuild.description = \"Release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\"\n         }\n       }\n+      slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully promoted ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3NjQ3Nw==", "bodyText": "Same thing I would go for \"Successfully released ${RELEASE_VERSION} from build ${params.BUILD_VERSION}: ${BUILD_URL}\"", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483076477", "createdAt": "2020-09-03T15:42:43Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -273,6 +284,10 @@ pipeline {\n           currentBuild.description = \"Release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\"\n         }\n       }\n+      slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully promoted ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3NjE3MA=="}, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzA3NjkwNg==", "bodyText": "Condtioned by DRY_RUN?\nAnd align message if updated.", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483076906", "createdAt": "2020-09-03T15:43:21Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -273,6 +284,10 @@ pipeline {\n           currentBuild.description = \"Release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\"\n         }\n       }\n+      slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully promoted ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")\n+    }\n+    failure {\n+      slackSend(channel: \"${SLACK_CHANNEL}\", colo: \"danger\", message: \"Failed to promote ${BRANCH_NAME} from ${CURRENT_VERSION} to ${RELEASE_VERSION}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429"}, "originalPosition": 29}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c054e6049d7c60a5ac3cb22db1bb88591abb429", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5c054e6049d7c60a5ac3cb22db1bb88591abb429", "committedDate": "2020-09-02T13:25:32Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "1e93e3bd8dac647c2c82e8341d0375a9d2cb3416", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1e93e3bd8dac647c2c82e8341d0375a9d2cb3416", "committedDate": "2020-09-03T16:58:12Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1e93e3bd8dac647c2c82e8341d0375a9d2cb3416", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/1e93e3bd8dac647c2c82e8341d0375a9d2cb3416", "committedDate": "2020-09-03T16:58:12Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "2a05613e6f9517da4da81e98d93177412200b99d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2a05613e6f9517da4da81e98d93177412200b99d", "committedDate": "2020-09-03T17:01:26Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a05613e6f9517da4da81e98d93177412200b99d", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/2a05613e6f9517da4da81e98d93177412200b99d", "committedDate": "2020-09-03T17:01:26Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "79f9062f74209530e8a88ffca2e72630aa0f8ee5", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/79f9062f74209530e8a88ffca2e72630aa0f8ee5", "committedDate": "2020-09-03T17:07:03Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMTg1NzE2", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-482185716", "createdAt": "2020-09-03T20:37:54Z", "commit": {"oid": "79f9062f74209530e8a88ffca2e72630aa0f8ee5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMDozNzo1NVrOHM2rNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMDozNzo1NVrOHM2rNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI0MDc1Nw==", "bodyText": "Stick with \"release\" instead of \"promote\"?", "url": "https://github.com/nuxeo/nuxeo/pull/4290#discussion_r483240757", "createdAt": "2020-09-03T20:37:55Z", "author": {"login": "ataillefer"}, "path": "ci/Jenkinsfiles/release.groovy", "diffHunk": "@@ -271,6 +282,14 @@ pipeline {\n       script {\n         if (env.DRY_RUN != \"true\") {\n           currentBuild.description = \"Release ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\"\n+          slackSend(channel: \"${SLACK_CHANNEL}\", color: \"good\", message: \"Successfully released ${RELEASE_VERSION} from build ${params.BUILD_VERSION}\")\n+        }\n+      }\n+    }\n+    unsuccessful {\n+      script {\n+        if (env.DRY_RUN != \"true\") {\n+          slackSend(channel: \"${SLACK_CHANNEL}\", color: \"danger\", message: \"Failed to promote ${RELEASE_VERSION} from build ${params.BUILD_VERSION}: ${BUILD_URL}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "79f9062f74209530e8a88ffca2e72630aa0f8ee5"}, "originalPosition": 33}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79f9062f74209530e8a88ffca2e72630aa0f8ee5", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/79f9062f74209530e8a88ffca2e72630aa0f8ee5", "committedDate": "2020-09-03T17:07:03Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "244b5cf896f5b3392d1ae4d37b759a2909e5d4cb", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/244b5cf896f5b3392d1ae4d37b759a2909e5d4cb", "committedDate": "2020-09-03T21:05:37Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "244b5cf896f5b3392d1ae4d37b759a2909e5d4cb", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/244b5cf896f5b3392d1ae4d37b759a2909e5d4cb", "committedDate": "2020-09-03T21:05:37Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "5d52053346e50d64f11b72ea45e5bc2f41e06b3f", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5d52053346e50d64f11b72ea45e5bc2f41e06b3f", "committedDate": "2020-09-04T08:01:41Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8291533633f4992f81b7296d7857f8ab654589f7", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8291533633f4992f81b7296d7857f8ab654589f7", "committedDate": "2020-09-04T13:21:09Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d52053346e50d64f11b72ea45e5bc2f41e06b3f", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5d52053346e50d64f11b72ea45e5bc2f41e06b3f", "committedDate": "2020-09-04T08:01:41Z", "message": "NXP-29338: build and release slack notifications"}, "afterCommit": {"oid": "8291533633f4992f81b7296d7857f8ab654589f7", "author": {"user": {"login": "NourNuxeo", "name": "Nour AL KOTOB"}}, "url": "https://github.com/nuxeo/nuxeo/commit/8291533633f4992f81b7296d7857f8ab654589f7", "committedDate": "2020-09-04T13:21:09Z", "message": "NXP-29338: build and release slack notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMzgyNTc5", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-483382579", "createdAt": "2020-09-07T09:02:36Z", "commit": {"oid": "8291533633f4992f81b7296d7857f8ab654589f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMzkwNDI4", "url": "https://github.com/nuxeo/nuxeo/pull/4290#pullrequestreview-483390428", "createdAt": "2020-09-07T09:13:11Z", "commit": {"oid": "8291533633f4992f81b7296d7857f8ab654589f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4967, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}