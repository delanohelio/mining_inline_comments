{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MjYyMzkz", "number": 4285, "title": "Fix NXP-29393 blank assertion oauth2", "bodyText": "", "createdAt": "2020-08-31T12:20:51Z", "url": "https://github.com/nuxeo/nuxeo/pull/4285", "merged": true, "mergeCommit": {"oid": "b4c4e237d005a9839c134e8c77ece1cca315719f"}, "closed": true, "closedAt": "2020-09-02T12:07:28Z", "author": {"login": "kevinleturc"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdER1U_AH2gAyNDc2MjYyMzkzOjVmZDJkZTJjN2EwNWJiZjVjOGFhNTU2NGFkYWY5ZjIwNzY0Nzc1OWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdES3_lgFqTQ3ODYxODg2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5fd2de2c7a05bbf5c8aa5564adaf9f207647759c", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/5fd2de2c7a05bbf5c8aa5564adaf9f207647759c", "committedDate": "2020-08-31T12:19:34Z", "message": "NXP-29393: Cleanup / Format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NTc4NjU5", "url": "https://github.com/nuxeo/nuxeo/pull/4285#pullrequestreview-478578659", "createdAt": "2020-08-31T12:41:19Z", "commit": {"oid": "3d793e3fae13c0b4817493c13a03146e508eecd5"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOHJ3Kgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjo0MToxOVrOHJ3Kgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwMzA0Mw==", "bodyText": "maybe useless", "url": "https://github.com/nuxeo/nuxeo/pull/4285#discussion_r480103043", "createdAt": "2020-08-31T12:41:19Z", "author": {"login": "ataillefer"}, "path": "modules/platform/nuxeo-platform-oauth/src/main/java/org/nuxeo/ecm/platform/oauth2/NuxeoOAuth2Servlet.java", "diffHunk": "@@ -358,6 +355,14 @@ protected void doPostToken(HttpServletRequest request, HttpServletResponse respo\n                 return;\n             }\n \n+            Map<String, Object> claims = Framework.getService(JWTService.class).verifyToken(jwtToken);\n+            if (claims == null) {\n+                error = OAuth2Error.invalidClient(\"Secret not configured or invalid token\");\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d793e3fae13c0b4817493c13a03146e508eecd5"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c92df7d8f147cae80a5d862f738c558915f771", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/34c92df7d8f147cae80a5d862f738c558915f771", "committedDate": "2020-08-31T12:55:03Z", "message": "NXP-29393: Correctly handle blank assertion parameter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d793e3fae13c0b4817493c13a03146e508eecd5", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/3d793e3fae13c0b4817493c13a03146e508eecd5", "committedDate": "2020-08-31T12:20:00Z", "message": "NXP-29393: Correctly handle blank assertion parameter"}, "afterCommit": {"oid": "34c92df7d8f147cae80a5d862f738c558915f771", "author": {"user": {"login": "kevinleturc", "name": "Kevin Leturc"}}, "url": "https://github.com/nuxeo/nuxeo/commit/34c92df7d8f147cae80a5d862f738c558915f771", "committedDate": "2020-08-31T12:55:03Z", "message": "NXP-29393: Correctly handle blank assertion parameter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NjA1NTkw", "url": "https://github.com/nuxeo/nuxeo/pull/4285#pullrequestreview-478605590", "createdAt": "2020-08-31T13:15:40Z", "commit": {"oid": "34c92df7d8f147cae80a5d862f738c558915f771"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NjE4ODY0", "url": "https://github.com/nuxeo/nuxeo/pull/4285#pullrequestreview-478618864", "createdAt": "2020-08-31T13:32:23Z", "commit": {"oid": "34c92df7d8f147cae80a5d862f738c558915f771"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4966, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}