{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwOTcxMjUz", "number": 4333, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyMDo1OVrOEmG9qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyMDo1OVrOEmG9qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4Mzk1NDM0OnYy", "diffSide": "RIGHT", "path": "modules/platform/nuxeo-platform-document-routing/nuxeo-routing-rest-api/src/test/java/org/nuxeo/ecm/restapi/server/RoutingRestBaseTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDoyMDo1OVrOHV8jGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo1NDoxNFrOHV-N9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc3NDE3MQ==", "bodyText": "This seems brittle, what if there's a \" in the value?", "url": "https://github.com/nuxeo/nuxeo/pull/4333#discussion_r492774171", "createdAt": "2020-09-22T14:20:59Z", "author": {"login": "efge"}, "path": "modules/platform/nuxeo-platform-document-routing/nuxeo-routing-rest-api/src/test/java/org/nuxeo/ecm/restapi/server/RoutingRestBaseTest.java", "diffHunk": "@@ -119,6 +126,15 @@ protected String getCreateAndStartWorkflowBodyContent(String workflowName, List<\n             result.append(\"]\");\n         }\n \n+        if (variables != null && !variables.isEmpty()) {\n+            result.append(\", \\\"variables\\\": {\");\n+            result.append(variables.entrySet()\n+                                   .stream()\n+                                   .map(e -> \"\\\"\" + e.getKey() + \"\\\": \\\"\" + e.getValue() + \"\\\"\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2871a4bc36b7011d33879206403fde90cdccf15d"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc4NzcyMg==", "bodyText": "It fails :)", "url": "https://github.com/nuxeo/nuxeo/pull/4333#discussion_r492787722", "createdAt": "2020-09-22T14:37:26Z", "author": {"login": "troger"}, "path": "modules/platform/nuxeo-platform-document-routing/nuxeo-routing-rest-api/src/test/java/org/nuxeo/ecm/restapi/server/RoutingRestBaseTest.java", "diffHunk": "@@ -119,6 +126,15 @@ protected String getCreateAndStartWorkflowBodyContent(String workflowName, List<\n             result.append(\"]\");\n         }\n \n+        if (variables != null && !variables.isEmpty()) {\n+            result.append(\", \\\"variables\\\": {\");\n+            result.append(variables.entrySet()\n+                                   .stream()\n+                                   .map(e -> \"\\\"\" + e.getKey() + \"\\\": \\\"\" + e.getValue() + \"\\\"\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc3NDE3MQ=="}, "originalCommit": {"oid": "2871a4bc36b7011d33879206403fde90cdccf15d"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjgwMTUyNw==", "bodyText": "Ah j'avais pas vu que c'\u00e9tait dans les tests...", "url": "https://github.com/nuxeo/nuxeo/pull/4333#discussion_r492801527", "createdAt": "2020-09-22T14:54:14Z", "author": {"login": "efge"}, "path": "modules/platform/nuxeo-platform-document-routing/nuxeo-routing-rest-api/src/test/java/org/nuxeo/ecm/restapi/server/RoutingRestBaseTest.java", "diffHunk": "@@ -119,6 +126,15 @@ protected String getCreateAndStartWorkflowBodyContent(String workflowName, List<\n             result.append(\"]\");\n         }\n \n+        if (variables != null && !variables.isEmpty()) {\n+            result.append(\", \\\"variables\\\": {\");\n+            result.append(variables.entrySet()\n+                                   .stream()\n+                                   .map(e -> \"\\\"\" + e.getKey() + \"\\\": \\\"\" + e.getValue() + \"\\\"\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc3NDE3MQ=="}, "originalCommit": {"oid": "2871a4bc36b7011d33879206403fde90cdccf15d"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4324, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}