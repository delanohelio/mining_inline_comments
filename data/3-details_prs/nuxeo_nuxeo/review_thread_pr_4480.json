{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzOTQ0Mzky", "number": 4480, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzoyNDozMVrOE7KXcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDo0MjozOVrOE7kfUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNDcxMjgxOnYy", "diffSide": "RIGHT", "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/security/impl/ACLImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzoyNDozMVrOH2ph7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzoyNDozMVrOH2ph7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA2NTU4MQ==", "bodyText": "There should be a space before ( and around ==.\nBut instead of these 3 lines please use Objects.requireNonNull(name, \"ACL name can't be null\"). It won't throw a NuxeoException but that's not a problem for this kind of check. Unit test will need to be updated of course.", "url": "https://github.com/nuxeo/nuxeo/pull/4480#discussion_r527065581", "createdAt": "2020-11-19T17:24:31Z", "author": {"login": "efge"}, "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/security/impl/ACLImpl.java", "diffHunk": "@@ -56,6 +57,9 @@\n     private final boolean isReadOnly;\n \n     public ACLImpl(String name, boolean isReadOnly) {\n+        if(name==null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "188f31afb512a8a42ecb49d8ff70ba175c55f973"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNDcyMDExOnYy", "diffSide": "RIGHT", "path": "modules/core/nuxeo-core-api/src/test/java/org/nuxeo/ecm/core/api/security/TestACL.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzoyNjowNlrOH2pmXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxNzoyNjowNlrOH2pmXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA2NjcxNg==", "bodyText": "Please assert on the message of the exception too:\nassertEquals(\"ACL name can't be null\", e.getMessage());", "url": "https://github.com/nuxeo/nuxeo/pull/4480#discussion_r527066716", "createdAt": "2020-11-19T17:26:06Z", "author": {"login": "efge"}, "path": "modules/core/nuxeo-core-api/src/test/java/org/nuxeo/ecm/core/api/security/TestACL.java", "diffHunk": "@@ -46,6 +48,16 @@ public void testGetName() {\n         assertEquals(\"test acl\", acl.getName());\n     }\n \n+    @Test\n+    public void testExceptionOnNullName() {\n+        try {\n+            acl = new ACLImpl(null, false);\n+            fail(\"ACL is not supposed to be created.\");\n+        } catch (NuxeoException e) {\n+            // Test ok", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "188f31afb512a8a42ecb49d8ff70ba175c55f973"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODk5MjgwOnYy", "diffSide": "RIGHT", "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/security/impl/ACLImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDo0MjozOVrOH3SjMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDo0MjozOVrOH3SjMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzczNzY0OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Objects.requireNonNull(name, \"ACL name can't be null\");\n          \n          \n            \n                    this.name = name;\n          \n          \n            \n                    this.name = Objects.requireNonNull(name, \"ACL name can't be null\");", "url": "https://github.com/nuxeo/nuxeo/pull/4480#discussion_r527737649", "createdAt": "2020-11-20T14:42:39Z", "author": {"login": "kevinleturc"}, "path": "modules/core/nuxeo-core-api/src/main/java/org/nuxeo/ecm/core/api/security/impl/ACLImpl.java", "diffHunk": "@@ -56,6 +56,7 @@\n     private final boolean isReadOnly;\n \n     public ACLImpl(String name, boolean isReadOnly) {\n+        Objects.requireNonNull(name, \"ACL name can't be null\");\n         this.name = name;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44aae12aee04fea5aa1b8e7858a897646bddf1b7"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4318, "cost": 1, "resetAt": "2021-11-03T18:41:40Z"}}}