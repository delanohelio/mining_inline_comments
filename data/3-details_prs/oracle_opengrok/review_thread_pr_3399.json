{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjI2NzU2", "number": 3399, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNzo1OTo0OVrOFHSeJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxODowMzoyMlrOFHSigw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMTg2OTgxOnYy", "diffSide": "RIGHT", "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNzo1OTo0OVrOIItBMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQwODo0MToyN1rOIjuBow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTk5NzEwNQ==", "bodyText": "This is mis-ordered and should come after both -T and -t below", "url": "https://github.com/oracle/opengrok/pull/3399#discussion_r545997105", "createdAt": "2020-12-18T17:59:49Z", "author": {"login": "idodeclare"}, "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "diffHunk": "@@ -756,6 +756,23 @@ public static void main(String[] argv) {\n                     \"stylesheet. The factory-setting is: \\\"default\\\".\").execute(stylePath ->\n                     cfg.setWebappLAF((String) stylePath));\n \n+            parser.on(\"--token\", \"=string|@file_with_string\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab99f516f796587f10983db7a8d0f6e8ba3d6ec7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDMyNTE1NQ==", "bodyText": "fixed", "url": "https://github.com/oracle/opengrok/pull/3399#discussion_r574325155", "createdAt": "2021-02-11T08:41:27Z", "author": {"login": "vladak"}, "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "diffHunk": "@@ -756,6 +756,23 @@ public static void main(String[] argv) {\n                     \"stylesheet. The factory-setting is: \\\"default\\\".\").execute(stylePath ->\n                     cfg.setWebappLAF((String) stylePath));\n \n+            parser.on(\"--token\", \"=string|@file_with_string\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTk5NzEwNQ=="}, "originalCommit": {"oid": "ab99f516f796587f10983db7a8d0f6e8ba3d6ec7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMTg4MDk5OnYy", "diffSide": "RIGHT", "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxODowMzoyMlrOIItHzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQwODo0NjozOFrOIjuMkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTk5ODc5OQ==", "bodyText": "Is this correct handling w.r.t. the @ sigil?", "url": "https://github.com/oracle/opengrok/pull/3399#discussion_r545998799", "createdAt": "2020-12-18T18:03:22Z", "author": {"login": "idodeclare"}, "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "diffHunk": "@@ -756,6 +756,23 @@ public static void main(String[] argv) {\n                     \"stylesheet. The factory-setting is: \\\"default\\\".\").execute(stylePath ->\n                     cfg.setWebappLAF((String) stylePath));\n \n+            parser.on(\"--token\", \"=string|@file_with_string\",\n+                    \"Authorization bearer API token to use when making API calls\",\n+                    \"to the web application\").\n+                    execute(optarg -> {\n+                        String value = ((String) optarg).trim();\n+                        if (value.startsWith(\"@\")) {\n+                            try {\n+                                String token = new String(Files.readAllBytes(Path.of(value))).trim();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab99f516f796587f10983db7a8d0f6e8ba3d6ec7"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDMyNzk1Mg==", "bodyText": "Maybe only single line from the file should be read ?", "url": "https://github.com/oracle/opengrok/pull/3399#discussion_r574327952", "createdAt": "2021-02-11T08:46:38Z", "author": {"login": "vladak"}, "path": "opengrok-indexer/src/main/java/org/opengrok/indexer/index/Indexer.java", "diffHunk": "@@ -756,6 +756,23 @@ public static void main(String[] argv) {\n                     \"stylesheet. The factory-setting is: \\\"default\\\".\").execute(stylePath ->\n                     cfg.setWebappLAF((String) stylePath));\n \n+            parser.on(\"--token\", \"=string|@file_with_string\",\n+                    \"Authorization bearer API token to use when making API calls\",\n+                    \"to the web application\").\n+                    execute(optarg -> {\n+                        String value = ((String) optarg).trim();\n+                        if (value.startsWith(\"@\")) {\n+                            try {\n+                                String token = new String(Files.readAllBytes(Path.of(value))).trim();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTk5ODc5OQ=="}, "originalCommit": {"oid": "ab99f516f796587f10983db7a8d0f6e8ba3d6ec7"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4891, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}