{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNjM0ODgx", "number": 1486, "title": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)", "bodyText": "see FINERACT-1252", "createdAt": "2020-11-01T14:48:28Z", "url": "https://github.com/apache/fineract/pull/1486", "merged": true, "mergeCommit": {"oid": "7b34e838432e0bc145d28b96640f98095a3386d9"}, "closed": true, "closedAt": "2020-11-03T08:46:02Z", "author": {"login": "vorburger"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYRKIOABqjM5NDUyNTI2MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdY1IrgAFqTUyMjI4MDg0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "789100bee325a2e33d5724ef64c7c99aaae35225", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/789100bee325a2e33d5724ef64c7c99aaae35225", "committedDate": "2020-11-01T14:48:09Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}, "afterCommit": {"oid": "ac66d53cdf7a378f7b94e7d5a0e1bf9fc5896099", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/ac66d53cdf7a378f7b94e7d5a0e1bf9fc5896099", "committedDate": "2020-11-01T14:50:42Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac66d53cdf7a378f7b94e7d5a0e1bf9fc5896099", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/ac66d53cdf7a378f7b94e7d5a0e1bf9fc5896099", "committedDate": "2020-11-01T14:50:42Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}, "afterCommit": {"oid": "48b3c60e31a4673a713117e15771a8594c18a629", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/48b3c60e31a4673a713117e15771a8594c18a629", "committedDate": "2020-11-01T14:56:08Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48b3c60e31a4673a713117e15771a8594c18a629", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/48b3c60e31a4673a713117e15771a8594c18a629", "committedDate": "2020-11-01T14:56:08Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}, "afterCommit": {"oid": "f8dba617d4282ca9b8274721b8d0e317131faf7c", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/f8dba617d4282ca9b8274721b8d0e317131faf7c", "committedDate": "2020-11-01T15:16:04Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8dba617d4282ca9b8274721b8d0e317131faf7c", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/f8dba617d4282ca9b8274721b8d0e317131faf7c", "committedDate": "2020-11-01T15:16:04Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}, "afterCommit": {"oid": "2bed4054c217e42906a97dc2bb51f461bb88747c", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/2bed4054c217e42906a97dc2bb51f461bb88747c", "committedDate": "2020-11-01T16:26:47Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/6d5b1ebe7165815c3d9418ac7b72473a453c763f", "committedDate": "2020-11-02T09:58:19Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2bed4054c217e42906a97dc2bb51f461bb88747c", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/2bed4054c217e42906a97dc2bb51f461bb88747c", "committedDate": "2020-11-01T16:26:47Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}, "afterCommit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f", "author": {"user": {"login": "vorburger", "name": "Michael Vorburger \u26d1\ufe0f"}}, "url": "https://github.com/apache/fineract/commit/6d5b1ebe7165815c3d9418ac7b72473a453c763f", "committedDate": "2020-11-02T09:58:19Z", "message": "Bump ancient OkHTTP & Retrofit in Hooks (FINERACT-1252)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTYwNzA1", "url": "https://github.com/apache/fineract/pull/1486#pullrequestreview-522160705", "createdAt": "2020-11-03T02:44:55Z", "commit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMjo0NDo1NVrOHsenWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMjo0NDo1NVrOHsenWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQwMDk4NA==", "bodyText": "just wondering if this part is taken care ?  \"  // Swallow error if it's because of method not supported or\n// if url throws 404 - required for integration test,\n// url generated on 1st POST request\"", "url": "https://github.com/apache/fineract/pull/1486#discussion_r516400984", "createdAt": "2020-11-03T02:44:55Z", "author": {"login": "fynmanoj"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/hooks/service/HookWritePlatformServiceJpaRepositoryImpl.java", "diffHunk": "@@ -282,15 +282,10 @@ private void validateHookRules(final HookTemplate template, final Set<HookConfig\n             if (conf.getFieldName().equals(payloadURLName)) {\n                 try {\n                     final WebHookService service = processorHelper.createWebHookService(fieldValue);\n-                    service.sendEmptyRequest();\n-                } catch (RetrofitError re) {\n-                    // Swallow error if it's because of method not supported or\n-                    // if url throws 404 - required for integration test,\n-                    // url generated on 1st POST request\n-                    if (re.getResponse() == null) {\n-                        String errorMessage = \"url.invalid\";\n-                        baseDataValidator.reset().failWithCodeNoParameterAddedToErrorCode(errorMessage);\n-                    }\n+                    service.sendEmptyRequest().execute();\n+                } catch (IOException re) {\n+                    String errorMessage = \"url.invalid\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMjgwODQw", "url": "https://github.com/apache/fineract/pull/1486#pullrequestreview-522280840", "createdAt": "2020-11-03T08:45:44Z", "commit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwODo0NTo0NFrOHskvZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwODo0NTo0NFrOHskvZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjUwMTM1MQ==", "bodyText": "Weird host this Heroku URL is failing in Postman with trailing / but working in Retrofit with trailing /.", "url": "https://github.com/apache/fineract/pull/1486#discussion_r516501351", "createdAt": "2020-11-03T08:45:44Z", "author": {"login": "avikganguly01"}, "path": "integration-tests/src/test/java/org/apache/fineract/integrationtests/HookIntegrationTest.java", "diffHunk": "@@ -98,12 +93,11 @@ public void shouldSendOfficeCreationNotification() {\n         } finally {\n             this.hookHelper.deleteHook(hookId.longValue());\n         }\n-\n     }\n \n     @Test\n     public void createUpdateAndDeleteHook() {\n-        final String payloadURL = \"http://echo-webhook.herokuapp.com:80/Z7RXoCBdLSFMDrpn?\";\n+        final String payloadURL = \"http://echo-webhook.herokuapp.com:80/Z7RXoCBdLSFMDrpn/\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d5b1ebe7165815c3d9418ac7b72473a453c763f"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1662, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}