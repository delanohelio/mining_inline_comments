{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3MzU1OTI0", "number": 1330, "title": "Interop KYC and Interop Loan Disbursement", "bodyText": "Description\nDescribe the changes made and why they were made.\n\nInteropAPI to get client KYC using account ID\nInterop API to disburse loan\n\nIgnore if these details are present on the associated Apache Fineract JIRA ticket.\nChecklist\nPlease make sure these boxes are checked before submitting your pull request - thanks!\n\n\n Write the commit message as per https://github.com/apache/fineract/#pull-requests\n\n\n Acknowledge that we will not review PRs that are not passing the build (\"green\") - it is your responsibility to get a proposed PR to pass the build, not primarily the project's maintainers.\n\n\n Create/update unit or integration tests for verifying the changes made.\n\n\n Follow coding conventions at https://cwiki.apache.org/confluence/display/FINERACT/Coding+Conventions.\n\n\n Add required Swagger annotation and update API documentation at fineract-provider/src/main/resources/static/api-docs/apiLive.htm with details of any API changes\n\n\n Submission is not a \"code dump\".  (Large changes can be made \"in repository\" via a branch.  Ask on the developer mailing list for guidance, if required.)\n\n\nFYI our guidelines for code reviews are at https://cwiki.apache.org/confluence/display/FINERACT/Code+Review+Guide.", "createdAt": "2020-09-15T14:54:10Z", "url": "https://github.com/apache/fineract/pull/1330", "merged": true, "mergeCommit": {"oid": "e5f3e8720d3c48494072bf4671080c7396a5a588"}, "closed": true, "closedAt": "2020-09-29T17:52:18Z", "author": {"login": "SubhamPramanik"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJEKVsAH2gAyNDg3MzU1OTI0OjBhMzJjMmE0MjU1YTYzZDM1ODc0ODQ5ZmVhY2EzZGY3N2EyMGVmNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLfLlpgBqjM3OTUzMjUwMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a32c2a4255a63d35874849feaca3df77a20ef70", "author": {"user": null}, "url": "https://github.com/apache/fineract/commit/0a32c2a4255a63d35874849feaca3df77a20ef70", "committedDate": "2020-09-15T09:13:28Z", "message": "Interop get account KYC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f200287e5557fe6f85eae431c1bef1131f3eea9d", "author": {"user": null}, "url": "https://github.com/apache/fineract/commit/f200287e5557fe6f85eae431c1bef1131f3eea9d", "committedDate": "2020-09-15T12:10:23Z", "message": "loan interop disbursement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNDA0MjA2", "url": "https://github.com/apache/fineract/pull/1330#pullrequestreview-490404206", "createdAt": "2020-09-17T09:21:20Z", "commit": {"oid": "f200287e5557fe6f85eae431c1bef1131f3eea9d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwOToyMToyMFrOHTZQLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QyMDowMjo1OFrOHTzhOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA5ODczNQ==", "bodyText": "Check permission for this action and entity (READ - CLIENTIDENTIFIER) ...context.authenticatedUser().validateHasReadPermission(ENTITY_NAME);", "url": "https://github.com/apache/fineract/pull/1330#discussion_r490098735", "createdAt": "2020-09-17T09:21:20Z", "author": {"login": "avikganguly01"}, "path": "fineract-provider/src/main/java/org/apache/fineract/interoperation/api/InteropApiResource.java", "diffHunk": "@@ -373,4 +374,29 @@ public String performTransfer(@QueryParam(\"action\") @Parameter(description = \"ac\n \n         return jsonSerializer.serialize(settings, result);\n     }\n+\n+    @GET\n+    @Consumes({ MediaType.APPLICATION_JSON })\n+    @Produces({ MediaType.APPLICATION_JSON })\n+    @Path(\"accounts/{accountId}/kyc\")\n+    @Operation(summary = \"Query KYC by Account Id\", description = \"\")\n+    @ApiResponses({\n+            @ApiResponse(responseCode = \"200\", description = \"OK\", content = @Content(schema = @Schema(implementation = InteropKycResponseData.class))) })\n+    public String getClientKyc(@PathParam(\"accountId\") @Parameter(description = \"accountId\") String accountId, @Context UriInfo uriInfo) {\n+        InteropKycResponseData result = interopService.getKyc(accountId);\n+        ApiRequestJsonSerializationSettings settings = this.apiRequestParameterHelper.process(uriInfo.getQueryParameters());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f200287e5557fe6f85eae431c1bef1131f3eea9d"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTA4Mw==", "bodyText": "Remove this if you're not planning to use it.", "url": "https://github.com/apache/fineract/pull/1330#discussion_r490529083", "createdAt": "2020-09-17T20:02:58Z", "author": {"login": "avikganguly01"}, "path": "fineract-provider/src/main/java/org/apache/fineract/interoperation/service/InteropServiceImpl.java", "diffHunk": "@@ -437,6 +550,19 @@ private SavingsAccount validateAndGetSavingAccount(@NotNull InteropRequestData r\n         return savingsAccount;\n     }\n \n+    // private Loan validateAndGetLoan(@NotNull InteropRequestData request) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f200287e5557fe6f85eae431c1bef1131f3eea9d"}, "originalPosition": 199}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b73950309be84c6b3a113ba6dfaa575598ee81", "author": {"user": null}, "url": "https://github.com/apache/fineract/commit/29b73950309be84c6b3a113ba6dfaa575598ee81", "committedDate": "2020-09-22T21:46:56Z", "message": "checkstyle fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30f39da1d818103e42c16bcb31e32d35c0462089", "author": {"user": null}, "url": "https://github.com/apache/fineract/commit/30f39da1d818103e42c16bcb31e32d35c0462089", "committedDate": "2020-09-22T21:13:08Z", "message": "checkstyle fix"}, "afterCommit": {"oid": "29b73950309be84c6b3a113ba6dfaa575598ee81", "author": {"user": null}, "url": "https://github.com/apache/fineract/commit/29b73950309be84c6b3a113ba6dfaa575598ee81", "committedDate": "2020-09-22T21:46:56Z", "message": "checkstyle fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1734, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}