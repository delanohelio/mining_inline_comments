{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MDkwMzIy", "number": 1292, "title": "FINERACT-1129: Gradle task to create release package", "bodyText": "Description\nsee: https://issues.apache.org/jira/browse/FINERACT-1129. Needs to be backported to 1.4.0.\nChecklist\nPlease make sure these boxes are checked before submitting your pull request - thanks!\n\n\n Commit message starts with the issue number from https://issues.apache.org/jira/projects/FINERACT/. Ex: FINERACT-646 Pockets API.\n\n\n Coding conventions at https://cwiki.apache.org/confluence/display/FINERACT/Coding+Conventions have been followed.\n\n\n API documentation at fineract-provider/src/main/resources/static/api-docs/apiLive.htm has been updated with details of any API changes.\n\n\n Integration tests have been created/updated for verifying the changes made.\n\n\n All Integrations tests are passing with the new commits.\n\n\n Submission is not a \"code dump\".  (Large changes can be made \"in repository\" via a branch.  Ask on the list.)\n\n\nOur guidelines for code reviews is at https://cwiki.apache.org/confluence/display/FINERACT/Code+Review+Guide", "createdAt": "2020-08-26T18:53:15Z", "url": "https://github.com/apache/fineract/pull/1292", "merged": true, "mergeCommit": {"oid": "e6d09d6c3bd3bca2e605cb545926f39e69f8077b"}, "closed": true, "closedAt": "2020-08-27T19:38:56Z", "author": {"login": "vidakovic"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCerYOgH2gAyNDc0MDkwMzIyOmNjZDk2MDFjZDAyMDM4NDk5ZDUwN2Q3MWVjNzEyNjk1NDlhY2Y1MTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDFn01AFqTQ3NzAyMDEzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ccd9601cd02038499d507d71ec71269549acf516", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/ccd9601cd02038499d507d71ec71269549acf516", "committedDate": "2020-08-25T22:09:37Z", "message": "Add release task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b65dbe06a6a6743d9fae9e5e0be2985356cc9f8", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/9b65dbe06a6a6743d9fae9e5e0be2985356cc9f8", "committedDate": "2020-08-26T11:58:21Z", "message": "Trying to add client JAR to release for #FINERACT-1129 (relates to #FINERACT-1102)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "718fca6e48740776b18d16a59459ab17c1677802", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/718fca6e48740776b18d16a59459ab17c1677802", "committedDate": "2020-08-26T15:57:52Z", "message": "Removed extra release task and replaced with simple project property flag; fixes #FINERACT-1129"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0591fc22f45f4b23d35325b46d0c17c82721a73b", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/0591fc22f45f4b23d35325b46d0c17c82721a73b", "committedDate": "2020-08-26T16:55:45Z", "message": "Merge branch 'develop' into feature/FINERACT-1129"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/1d83359249447f3b4af652c96e2a25b4b6f1d7b3", "committedDate": "2020-08-26T22:02:24Z", "message": "Add Fineract client to release distribution"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MzM0MTYx", "url": "https://github.com/apache/fineract/pull/1292#pullrequestreview-476334161", "createdAt": "2020-08-27T02:02:33Z", "commit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowMjozM1rOHHxt9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwMjowNjo0NFrOHHyEHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxNjY2MA==", "bodyText": "To avoid exactly this, is it possible to instruct people instead to pass these as command line parameters when they run the build?", "url": "https://github.com/apache/fineract/pull/1292#discussion_r477916660", "createdAt": "2020-08-27T02:02:33Z", "author": {"login": "ptuomola"}, "path": "README.md", "diffHunk": "@@ -353,6 +353,41 @@ Releasing\n \n [How to Release Apache Fineract](https://cwiki.apache.org/confluence/x/DRwIB) documents the process how we make the source code that is available here in this Git repository into a binary release ZIP available on http://fineract.apache.org.\n \n+Before you use Gradle to create a release you need to make sure that your GPG is properly setup and that you have set the following properties in your ~/gradle/gradle.properties:\n+```\n+signing.gnupg.keyName=7890ABCD\n+signing.gnupg.passphrase=secret\n+```\n+\n+IMPORTANT: Do not set your GPG secrets in one of the project gradle.properties and double check that you are not accidentally committing them to Git.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxODgwNQ==", "bodyText": "Would it be cleaner to have a specific distribution task that does all the distribution activities (package and signing etc), rather than relying on the build task and a new profile?", "url": "https://github.com/apache/fineract/pull/1292#discussion_r477918805", "createdAt": "2020-08-27T02:04:04Z", "author": {"login": "ptuomola"}, "path": "README.md", "diffHunk": "@@ -353,6 +353,41 @@ Releasing\n \n [How to Release Apache Fineract](https://cwiki.apache.org/confluence/x/DRwIB) documents the process how we make the source code that is available here in this Git repository into a binary release ZIP available on http://fineract.apache.org.\n \n+Before you use Gradle to create a release you need to make sure that your GPG is properly setup and that you have set the following properties in your ~/gradle/gradle.properties:\n+```\n+signing.gnupg.keyName=7890ABCD\n+signing.gnupg.passphrase=secret\n+```\n+\n+IMPORTANT: Do not set your GPG secrets in one of the project gradle.properties and double check that you are not accidentally committing them to Git.\n+\n+NOTE: Let's assume your GPG key ID would be \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCD\" then you have to use the last 8 characters (i. e. \"7890ABCD\") for the signing plugin property \"signing.gnupg.keyName\". \n+\n+Execute the following task to create a distribution with an ASCII armored signature (.asc) and a SHA512 checksum file (.sha512):\n+```\n+./gradlew -Pfineract.release clean build \n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkxOTcwMA==", "bodyText": "Would it make sense to include this in the distribution task as well - so that this gets automatically ran and the user just has to review the output?", "url": "https://github.com/apache/fineract/pull/1292#discussion_r477919700", "createdAt": "2020-08-27T02:04:47Z", "author": {"login": "ptuomola"}, "path": "README.md", "diffHunk": "@@ -353,6 +353,41 @@ Releasing\n \n [How to Release Apache Fineract](https://cwiki.apache.org/confluence/x/DRwIB) documents the process how we make the source code that is available here in this Git repository into a binary release ZIP available on http://fineract.apache.org.\n \n+Before you use Gradle to create a release you need to make sure that your GPG is properly setup and that you have set the following properties in your ~/gradle/gradle.properties:\n+```\n+signing.gnupg.keyName=7890ABCD\n+signing.gnupg.passphrase=secret\n+```\n+\n+IMPORTANT: Do not set your GPG secrets in one of the project gradle.properties and double check that you are not accidentally committing them to Git.\n+\n+NOTE: Let's assume your GPG key ID would be \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCD\" then you have to use the last 8 characters (i. e. \"7890ABCD\") for the signing plugin property \"signing.gnupg.keyName\". \n+\n+Execute the following task to create a distribution with an ASCII armored signature (.asc) and a SHA512 checksum file (.sha512):\n+```\n+./gradlew -Pfineract.release clean build \n+```\n+\n+Above task will create the following files in folder build/distributions:\n+\n+- distribution file: apache-fineract-1.4.0-binary.tar.gz\n+- ASCII armored signatures: apache-fineract-1.4.0-binary.tar.gz.asc\n+- SHA512 checksum: apache-fineract-1.4.0-binary.tar.gz.sha512\n+\n+Verify the validity of the release distribution with:\n+```\n+gpg --verify build/distributions/apache-fineract-1.4.0-binary.tar.gz.asc\n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzkyMjMzMg==", "bodyText": "Here we have the version hardcoded - for the Swagger documentation we pick it automatically from the git describe output. We should probably make this consistent and use one or the other...", "url": "https://github.com/apache/fineract/pull/1292#discussion_r477922332", "createdAt": "2020-08-27T02:06:44Z", "author": {"login": "ptuomola"}, "path": "fineract-provider/gradle.properties", "diffHunk": "@@ -16,5 +16,5 @@\n # specific language governing permissions and limitations\n # under the License.\n #\n-releaseVersion=1.0.0\n+releaseVersion=1.4.0\n buildType=BUILD", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d83359249447f3b4af652c96e2a25b4b6f1d7b3"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db2da98c7d2fff0a64a852b1c327e0bc01543fe6", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/db2da98c7d2fff0a64a852b1c327e0bc01543fe6", "committedDate": "2020-08-27T09:28:19Z", "message": "Add automatic signature verification, clarify release signing parameter setup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e06f019f81e876d41c4378f1cfcf6b082f91182", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/7e06f019f81e876d41c4378f1cfcf6b082f91182", "committedDate": "2020-08-27T12:19:56Z", "message": "Merge branch 'develop' into feature/FINERACT-1129"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05fb09a76499b71f7f1f4bab74a468592ba757a9", "author": {"user": {"login": "vidakovic", "name": "Aleksandar Vidakovic"}}, "url": "https://github.com/apache/fineract/commit/05fb09a76499b71f7f1f4bab74a468592ba757a9", "committedDate": "2020-08-27T13:15:05Z", "message": "Minor fix SHA-512 checksum file extension (ensure all lower cased as per Apache requirements)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MDIwMTMy", "url": "https://github.com/apache/fineract/pull/1292#pullrequestreview-477020132", "createdAt": "2020-08-27T19:32:02Z", "commit": {"oid": "05fb09a76499b71f7f1f4bab74a468592ba757a9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1728, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}