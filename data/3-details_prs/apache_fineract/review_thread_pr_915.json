{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzQ4MzIx", "number": 915, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDozNzowNlrOD-QAvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDozNzowNlrOD-QAvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjAwNjM4OnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNDozNzowNlrOGYPA3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxODo0MTozOVrOGYZKpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NDk5MQ==", "bodyText": "Hoping this is not checked for null somewhere in the code base?", "url": "https://github.com/apache/fineract/pull/915#discussion_r428064991", "createdAt": "2020-05-20T14:37:06Z", "author": {"login": "awasum"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "diffHunk": "@@ -474,7 +475,7 @@ public void update(final BigDecimal amount, final LocalDate dueDate, final Month\n                 break;\n                 case PERCENT_OF_AMOUNT:\n                     this.percentage = newValue;\n-                    this.amountPercentageAppliedTo = null;\n+                    this.amountPercentageAppliedTo = BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2OTY3OA==", "bodyText": "Can't tell for sure, Just know it's a nullable field and as null, spotbugs throws an error when the value is passed to update.percentageOf(BigDecimal, BigDecimal). So I just replaced that particular instance where I needed it to be something other than null", "url": "https://github.com/apache/fineract/pull/915#discussion_r428069678", "createdAt": "2020-05-20T14:43:06Z", "author": {"login": "xurror"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "diffHunk": "@@ -474,7 +475,7 @@ public void update(final BigDecimal amount, final LocalDate dueDate, final Month\n                 break;\n                 case PERCENT_OF_AMOUNT:\n                     this.percentage = newValue;\n-                    this.amountPercentageAppliedTo = null;\n+                    this.amountPercentageAppliedTo = BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NDk5MQ=="}, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE4Nzk0Mg==", "bodyText": "I think we cannot have this zero, since it would affect the calculation, there is a reason why they were using null, Zero means there is some value provided ie zero, did you test it though?", "url": "https://github.com/apache/fineract/pull/915#discussion_r428187942", "createdAt": "2020-05-20T17:32:47Z", "author": {"login": "maektwain"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "diffHunk": "@@ -474,7 +475,7 @@ public void update(final BigDecimal amount, final LocalDate dueDate, final Month\n                 break;\n                 case PERCENT_OF_AMOUNT:\n                     this.percentage = newValue;\n-                    this.amountPercentageAppliedTo = null;\n+                    this.amountPercentageAppliedTo = BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NDk5MQ=="}, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIyODIwOQ==", "bodyText": "Hmm, This is troublesome. I thought this was the most subtle way of going around this. I don't think multiplication by null is possible. This is actually some faulty method but I think I'll see how to make spotsbug ignore this just to stay on the safe side", "url": "https://github.com/apache/fineract/pull/915#discussion_r428228209", "createdAt": "2020-05-20T18:37:46Z", "author": {"login": "xurror"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "diffHunk": "@@ -474,7 +475,7 @@ public void update(final BigDecimal amount, final LocalDate dueDate, final Month\n                 break;\n                 case PERCENT_OF_AMOUNT:\n                     this.percentage = newValue;\n-                    this.amountPercentageAppliedTo = null;\n+                    this.amountPercentageAppliedTo = BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NDk5MQ=="}, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzMTMzMw==", "bodyText": "Yes true, might be just initializing it with null and then populating with real values... Could be like that", "url": "https://github.com/apache/fineract/pull/915#discussion_r428231333", "createdAt": "2020-05-20T18:41:39Z", "author": {"login": "maektwain"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/savings/domain/SavingsAccountCharge.java", "diffHunk": "@@ -474,7 +475,7 @@ public void update(final BigDecimal amount, final LocalDate dueDate, final Month\n                 break;\n                 case PERCENT_OF_AMOUNT:\n                     this.percentage = newValue;\n-                    this.amountPercentageAppliedTo = null;\n+                    this.amountPercentageAppliedTo = BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA2NDk5MQ=="}, "originalCommit": null, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1982, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}