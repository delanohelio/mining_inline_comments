{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5NTAzOTk3", "number": 990, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QwMDowOToyNVrOEDMqrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo0OToyNFrOEDn0GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzg4NzE5OnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QwMDowOToyNVrOGgGR9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QwMDowOToyNVrOGgGR9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxMDUxOA==", "bodyText": "let's throw some suitable exception in this case, don't just log it (and certainly not just ignore it, like the current bad code)", "url": "https://github.com/apache/fineract/pull/990#discussion_r436310518", "createdAt": "2020-06-07T00:09:25Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "diffHunk": "@@ -78,8 +78,9 @@ public SmsCampaignDropdownReadPlatformServiceImpl(final SmsConfigUtils smsConfig\n             ResponseEntity<Collection<SmsProviderData>> responseOne = restTemplate.exchange(uri, HttpMethod.GET, entity,\n                     new ParameterizedTypeReference<Collection<SmsProviderData>>() {});\n             smsProviderOptions = responseOne.getBody();\n-            if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {\n-            }\n+            //Better approch? Maybe log/throw exception that this happen?", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNzg4NzkyOnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wN1QwMDoxMDozN1rOGgGSUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMTo0ODo0NVrOGiv2Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxMDYwOQ==", "bodyText": "while you are already here anyway, let's get rid of this overly broad  } catch (Exception e) { as well? see if you can just remove it, or if not, make it catch a more specific exception, and then re-throw that. No need to log it if you rethrow. As per https://github.com/apache/fineract#error-handling-guidelines", "url": "https://github.com/apache/fineract/pull/990#discussion_r436310609", "createdAt": "2020-06-07T00:10:37Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "diffHunk": "@@ -78,8 +78,9 @@ public SmsCampaignDropdownReadPlatformServiceImpl(final SmsConfigUtils smsConfig\n             ResponseEntity<Collection<SmsProviderData>> responseOne = restTemplate.exchange(uri, HttpMethod.GET, entity,\n                     new ParameterizedTypeReference<Collection<SmsProviderData>>() {});\n             smsProviderOptions = responseOne.getBody();\n-            if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {\n-            }\n+            //Better approch? Maybe log/throw exception that this happen?\n+            // if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {\n+            // }\n         } catch (Exception e) {\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4ODc0Mw==", "bodyText": "this was done", "url": "https://github.com/apache/fineract/pull/990#discussion_r439088743", "createdAt": "2020-06-11T21:48:45Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "diffHunk": "@@ -78,8 +78,9 @@ public SmsCampaignDropdownReadPlatformServiceImpl(final SmsConfigUtils smsConfig\n             ResponseEntity<Collection<SmsProviderData>> responseOne = restTemplate.exchange(uri, HttpMethod.GET, entity,\n                     new ParameterizedTypeReference<Collection<SmsProviderData>>() {});\n             smsProviderOptions = responseOne.getBody();\n-            if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {\n-            }\n+            //Better approch? Maybe log/throw exception that this happen?\n+            // if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {\n+            // }\n         } catch (Exception e) {\n         }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMxMDYwOQ=="}, "originalCommit": null, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMjMxODk4OnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/organisation/teller/service/TellerManagementReadPlatformServiceImpl.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo0NDoxN1rOGgvudg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMTo0NDowN1rOGivtSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4OTU1OA==", "bodyText": "Why changing this? Just curious..", "url": "https://github.com/apache/fineract/pull/990#discussion_r436989558", "createdAt": "2020-06-08T20:44:17Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/organisation/teller/service/TellerManagementReadPlatformServiceImpl.java", "diffHunk": "@@ -261,8 +261,10 @@ private String getTellerCriteria(final String sqlSearch, final Long officeId, fi\n             extraCriteria.append(\" and status = 300 \");\n         } else if (status.equalsIgnoreCase(\"inActive\")) {\n             extraCriteria.append(\" and status = 0 \");\n-        } else if (status.equalsIgnoreCase(\"all\")) {} else {\n+        } else {\n+            if (!status.equalsIgnoreCase(\"all\")){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce134c7cf9ee8ce7ba634260bd223e328ef2cf2d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzExNTA0NQ==", "bodyText": "Else if block is empty for condition (status.equalsIgnoreCase(\"all\")), this is not supported.\nBut as else if block works, we cannot simply remove it, or even if the (status.equalsIgnoreCase(\"all\")) value is true it will go in else.\nWe don't want that, so I have added a extra check in else block to make sure (status.equalsIgnoreCase(\"all\")) is not true, and only then perform else action that what we received is incorrect and act on it.", "url": "https://github.com/apache/fineract/pull/990#discussion_r437115045", "createdAt": "2020-06-09T03:17:49Z", "author": {"login": "thesmallstar"}, "path": "fineract-provider/src/main/java/org/apache/fineract/organisation/teller/service/TellerManagementReadPlatformServiceImpl.java", "diffHunk": "@@ -261,8 +261,10 @@ private String getTellerCriteria(final String sqlSearch, final Long officeId, fi\n             extraCriteria.append(\" and status = 300 \");\n         } else if (status.equalsIgnoreCase(\"inActive\")) {\n             extraCriteria.append(\" and status = 0 \");\n-        } else if (status.equalsIgnoreCase(\"all\")) {} else {\n+        } else {\n+            if (!status.equalsIgnoreCase(\"all\")){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4OTU1OA=="}, "originalCommit": {"oid": "ce134c7cf9ee8ce7ba634260bd223e328ef2cf2d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA4NjQwOA==", "bodyText": "got it, thanks for clarifying!", "url": "https://github.com/apache/fineract/pull/990#discussion_r439086408", "createdAt": "2020-06-11T21:44:07Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/organisation/teller/service/TellerManagementReadPlatformServiceImpl.java", "diffHunk": "@@ -261,8 +261,10 @@ private String getTellerCriteria(final String sqlSearch, final Long officeId, fi\n             extraCriteria.append(\" and status = 300 \");\n         } else if (status.equalsIgnoreCase(\"inActive\")) {\n             extraCriteria.append(\" and status = 0 \");\n-        } else if (status.equalsIgnoreCase(\"all\")) {} else {\n+        } else {\n+            if (!status.equalsIgnoreCase(\"all\")){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk4OTU1OA=="}, "originalCommit": {"oid": "ce134c7cf9ee8ce7ba634260bd223e328ef2cf2d"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMjMzNDk2OnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo0OToyNFrOGgv4fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDo0OToyNFrOGgv4fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk5MjEyNQ==", "bodyText": "I'm not 100% sure if PlatformDataIntegrityException is \"correct\" here, but don't really have a better idea without more closely than I have time for, and it probably doesn't really matter all that much, anyway. One fine day we should look into and then write up Guidance in the README about which exact Fineract Exception type to use in which \"layer\" (e.g. *Resource VS *Service). @ptuomola I doubt that's something you would fancy digging into?", "url": "https://github.com/apache/fineract/pull/990#discussion_r436992125", "createdAt": "2020-06-08T20:49:24Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignDropdownReadPlatformServiceImpl.java", "diffHunk": "@@ -70,19 +71,18 @@ public SmsCampaignDropdownReadPlatformServiceImpl(final SmsConfigUtils smsConfig\n     public Collection<SmsProviderData> retrieveSmsProviders() {\n         Collection<SmsProviderData> smsProviderOptions = new ArrayList<>();\n         String hostName = \"\" ;\n-        try {\n             Map<String, Object> hostConfig = this.smsConfigUtils.getMessageGateWayRequestURI(\"smsbridges\", null);\n             URI uri = (URI) hostConfig.get(\"uri\");\n             hostName = uri.getHost() ;\n             HttpEntity<?> entity = (HttpEntity<?>) hostConfig.get(\"entity\");\n             ResponseEntity<Collection<SmsProviderData>> responseOne = restTemplate.exchange(uri, HttpMethod.GET, entity,\n                     new ParameterizedTypeReference<Collection<SmsProviderData>>() {});\n+             if (!responseOne.getStatusCode().equals(HttpStatus.OK)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce134c7cf9ee8ce7ba634260bd223e328ef2cf2d"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1930, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}