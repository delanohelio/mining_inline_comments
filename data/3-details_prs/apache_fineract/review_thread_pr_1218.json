{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5OTc3Mzk0", "number": 1218, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQxMToyOTowMlrOEUSEDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQxMToyOTowMlrOEUSEDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NzAyOTI0OnYy", "diffSide": "RIGHT", "path": "fineract-provider/src/main/java/org/apache/fineract/accounting/closure/service/GLClosureWritePlatformServiceJpaRepositoryImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQxMToyOTowMlrOG6ddBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMTo0NDo0OVrOG62YOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk1MzE1Nw==", "bodyText": "@xurror it's not super important, but I thought perhaps this code review feedback could interest you: Instead of changing this like you have, what you really want to do in a case like this is just use the common super class of JpaSystemException and DataIntegrityViolationException like suggested below, does this make sense? Do you want to change this like that? It makes the code easier to read.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private void handleGLClosureIntegrityIssues(final JsonCommand command, final Throwable realCause, final Exception dve) {\n          \n          \n            \n                private void handleGLClosureIntegrityIssues(final JsonCommand command, final NestedRuntimeException dve) {\n          \n          \n            \n                    final Throwable realCause = dve.getMostSpecificCause();", "url": "https://github.com/apache/fineract/pull/1218#discussion_r463953157", "createdAt": "2020-08-01T11:29:02Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/accounting/closure/service/GLClosureWritePlatformServiceJpaRepositoryImpl.java", "diffHunk": "@@ -142,8 +144,7 @@ public CommandProcessingResult deleteGLClosure(final Long glClosureId) {\n      * @param command\n      * @param dve\n      */\n-    private void handleGLClosureIntegrityIssues(final JsonCommand command, final DataIntegrityViolationException dve) {\n-        final Throwable realCause = dve.getMostSpecificCause();\n+    private void handleGLClosureIntegrityIssues(final JsonCommand command, final Throwable realCause, final Exception dve) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM2MTUzMQ==", "bodyText": "@vorburger instead NestedRuntimeException I used NonTransientDataAccessException which is a more suited super class.\nYou can check this and if it's LGTY you can merge.", "url": "https://github.com/apache/fineract/pull/1218#discussion_r464361531", "createdAt": "2020-08-03T11:44:49Z", "author": {"login": "xurror"}, "path": "fineract-provider/src/main/java/org/apache/fineract/accounting/closure/service/GLClosureWritePlatformServiceJpaRepositoryImpl.java", "diffHunk": "@@ -142,8 +144,7 @@ public CommandProcessingResult deleteGLClosure(final Long glClosureId) {\n      * @param command\n      * @param dve\n      */\n-    private void handleGLClosureIntegrityIssues(final JsonCommand command, final DataIntegrityViolationException dve) {\n-        final Throwable realCause = dve.getMostSpecificCause();\n+    private void handleGLClosureIntegrityIssues(final JsonCommand command, final Throwable realCause, final Exception dve) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk1MzE1Nw=="}, "originalCommit": null, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1858, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}