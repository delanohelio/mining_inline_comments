{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMjkyNjQx", "number": 716, "title": "FINERACT-696 - add spotbug bug-pattern plugin", "bodyText": "Description\nWhile code reviewing #464, I came accross a catch & printStackTrace, which is of course wrong (it should instead be, correctly, logged, instead).\nIn an ideal world, it would not take human code review to catch this, but just an automated build failure. This is possible using SpotBugs (not FindBugs anymore; SpotBugs is the new FindBugs, it's a fully compatible successor)  and https://github.com/KengoTODA/findbugs-slf4j/ (for this particular case KengoTODA/findbugs-slf4j#70, but using findbugs-slf4j for Fineract would have value even before that's implemented).\nChecklist\nPlease make sure these boxes are checked before submitting your pull request - thanks!\n\n\n Commit message starts with the issue number from https://issues.apache.org/jira/projects/FINERACT/. Ex: FINERACT-646 Pockets API.\n\n\n Coding conventions at https://cwiki.apache.org/confluence/display/FINERACT/Coding+Conventions have been followed.\n\n\n API documentation at https://github.com/apache/fineract/blob/develop/api-docs/apiLive.htm has been updated with details of any API changes.\n\n\n Integration tests have been created/updated for verifying the changes made.\n\n\n All Integrations tests are passing with the new commits.\n\n\n Submission is not a \"code dump\".  (Large changes can be made \"in repository\" via a branch.  Ask on the list.)\n\n\nOur guidelines for code reviews is at https://cwiki.apache.org/confluence/display/FINERACT/Code+Review+Guide", "createdAt": "2020-03-02T10:12:21Z", "url": "https://github.com/apache/fineract/pull/716", "merged": true, "mergeCommit": {"oid": "f484f884a073108a8847751c5bbd197aa356759a"}, "closed": true, "closedAt": "2020-03-13T08:27:35Z", "author": {"login": "xurror"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ9-RxABqjMwOTExMDM3Nzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNMA_9gFqTM3NDExODYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1c2b244b8221f92217a569d91b9da9af53660f6", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/e1c2b244b8221f92217a569d91b9da9af53660f6", "committedDate": "2020-03-02T16:31:25Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "f22d8a8c9b4497bc80c829bbcd54b450055fd98d", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/f22d8a8c9b4497bc80c829bbcd54b450055fd98d", "committedDate": "2020-03-03T15:22:59Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f22d8a8c9b4497bc80c829bbcd54b450055fd98d", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/f22d8a8c9b4497bc80c829bbcd54b450055fd98d", "committedDate": "2020-03-03T15:22:59Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "06501e4ad0e77caec2c9010d572dddb73040d68f", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/06501e4ad0e77caec2c9010d572dddb73040d68f", "committedDate": "2020-03-03T15:24:42Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06501e4ad0e77caec2c9010d572dddb73040d68f", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/06501e4ad0e77caec2c9010d572dddb73040d68f", "committedDate": "2020-03-03T15:24:42Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "d3d33ede770d8af2037f7be18e98196c59974029", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/d3d33ede770d8af2037f7be18e98196c59974029", "committedDate": "2020-03-04T01:46:27Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3d33ede770d8af2037f7be18e98196c59974029", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/d3d33ede770d8af2037f7be18e98196c59974029", "committedDate": "2020-03-04T01:46:27Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "a4a5c26a348c5d48008902ea87556c79da30fee2", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/a4a5c26a348c5d48008902ea87556c79da30fee2", "committedDate": "2020-03-06T01:04:05Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a4a5c26a348c5d48008902ea87556c79da30fee2", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/a4a5c26a348c5d48008902ea87556c79da30fee2", "committedDate": "2020-03-06T01:04:05Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "8320b04909c76e46c91c808d4600f79ea8e11c1c", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/8320b04909c76e46c91c808d4600f79ea8e11c1c", "committedDate": "2020-03-06T03:30:36Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8320b04909c76e46c91c808d4600f79ea8e11c1c", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/8320b04909c76e46c91c808d4600f79ea8e11c1c", "committedDate": "2020-03-06T03:30:36Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "aba151a326c8a2d87dc693999070288b01337729", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/aba151a326c8a2d87dc693999070288b01337729", "committedDate": "2020-03-11T00:01:09Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aba151a326c8a2d87dc693999070288b01337729", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/aba151a326c8a2d87dc693999070288b01337729", "committedDate": "2020-03-11T00:01:09Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}, "afterCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/f8e6f1f1d938acf10e58d28fd6d582712891efbc", "committedDate": "2020-03-11T00:03:30Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMDk1NDUx", "url": "https://github.com/apache/fineract/pull/716#pullrequestreview-372095451", "createdAt": "2020-03-10T16:02:40Z", "commit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowMjo0MVrOF0VyUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowMjo0MVrOF0VyUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNzIxNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    logger.info(\"sql: {}\", sqlBuilder.toString());\n          \n          \n            \n                    logger.info(\"sql: {}\", sqlBuilder);", "url": "https://github.com/apache/fineract/pull/716#discussion_r390427217", "createdAt": "2020-03-10T16:02:41Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/commands/service/AuditReadPlatformServiceImpl.java", "diffHunk": "@@ -214,7 +214,7 @@ public AuditData mapRow(final ResultSet rs, @SuppressWarnings(\"unused\") final in\n             this.columnValidator.validateSqlInjection(sqlBuilder.toString(), parameters.limitSql());\n         }\n \n-        logger.info(\"sql: \" + sqlBuilder.toString());\n+        logger.info(\"sql: {}\", sqlBuilder.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMDk2MTg5", "url": "https://github.com/apache/fineract/pull/716#pullrequestreview-372096189", "createdAt": "2020-03-10T16:03:23Z", "commit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowMzoyM1rOF0V0mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjowODoxOVrOF0WCag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyNzgwMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            logger.info(\"tenant time {} trigger time {}\", tenantDateNow.toString(), nextTriggerDate.toString());\n          \n          \n            \n                            logger.info(\"tenant time {} trigger time {}\", tenantDateNow, nextTriggerDate);", "url": "https://github.com/apache/fineract/pull/716#discussion_r390427800", "createdAt": "2020-03-10T16:03:23Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/email/service/EmailCampaignWritePlatformCommandHandlerImpl.java", "diffHunk": "@@ -293,7 +293,7 @@ public void storeTemplateMessageIntoEmailOutBoundTable() throws JobExecutionExce\n                 LocalDateTime tenantDateNow = tenantDateTime();\n                 LocalDateTime nextTriggerDate = emailCampaignData.getNextTriggerDate().toLocalDateTime();\n \n-                logger.info(\"tenant time \" + tenantDateNow.toString() + \" trigger time \" + nextTriggerDate.toString());\n+                logger.info(\"tenant time {} trigger time {}\", tenantDateNow.toString(), nextTriggerDate.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyODM1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                new Object[] { tenantDateNow.toString(), nextTriggerDate.toString(), JobName.UPDATE_SMS_OUTBOUND_WITH_CAMPAIGN_MESSAGE.name() });\n          \n          \n            \n                                new Object[] { tenantDateNow, nextTriggerDate, JobName.UPDATE_SMS_OUTBOUND_WITH_CAMPAIGN_MESSAGE.name() });", "url": "https://github.com/apache/fineract/pull/716#discussion_r390428351", "createdAt": "2020-03-10T16:04:10Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/campaigns/sms/service/SmsCampaignWritePlatformServiceJpaImpl.java", "diffHunk": "@@ -656,7 +656,8 @@ public void storeTemplateMessageIntoSmsOutBoundTable() throws JobExecutionExcept\n                 LocalDateTime tenantDateNow = tenantDateTime();\n                 LocalDateTime nextTriggerDate = smsCampaign.getNextTriggerDate();\n \n-                logger.info(\"tenant time \" + tenantDateNow.toString() + \" trigger time \" + nextTriggerDate.toString() + JobName.UPDATE_SMS_OUTBOUND_WITH_CAMPAIGN_MESSAGE.name());\n+                logger.info(\"tenant time {} trigger time {} {}\",\n+                    new Object[] { tenantDateNow.toString(), nextTriggerDate.toString(), JobName.UPDATE_SMS_OUTBOUND_WITH_CAMPAIGN_MESSAGE.name() });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQyOTMwNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    logger.debug(\"{}\", str.toString());\n          \n          \n            \n                    logger.debug(\"{}\", str);", "url": "https://github.com/apache/fineract/pull/716#discussion_r390429304", "createdAt": "2020-03-10T16:05:33Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/entityaccess/service/FineractEntityAccessReadServiceImpl.java", "diffHunk": "@@ -144,7 +143,7 @@ private String getSQLForRetriveEntityAccessFor() {\n                 str.append(\"from  m_entity_to_entity_mapping eem \");\n                 str.append(\"where eem.rel_id = ? \");\n                 str.append(\"and eem.from_id = ? \");\n-        logger.debug(str.toString());\n+        logger.debug(\"{}\", str.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQzMTMzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        logger.info(\"Sending triggered SMS to specific provider with request - {}\", request.toString());\n          \n          \n            \n                        logger.info(\"Sending triggered SMS to specific provider with request - {}\", request);", "url": "https://github.com/apache/fineract/pull/716#discussion_r390431338", "createdAt": "2020-03-10T16:08:19Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/infrastructure/sms/scheduler/SmsMessageScheduledJobServiceImpl.java", "diffHunk": "@@ -242,11 +242,11 @@ public void sendTriggeredMessage(Collection<SmsMessage> smsMessages, long provid\n             }\n             this.smsMessageRepository.saveAll(smsMessages);\n             request.append(SmsMessageApiQueueResourceData.toJsonString(apiQueueResourceDatas));\n-            logger.info(\"Sending triggered SMS to specific provider with request - \" + request.toString());\n+            logger.info(\"Sending triggered SMS to specific provider with request - {}\", request.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8e6f1f1d938acf10e58d28fd6d582712891efbc"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b070e0a708cae0b4562258a6e60c8fd54c934ee9", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/b070e0a708cae0b4562258a6e60c8fd54c934ee9", "committedDate": "2020-03-11T10:20:47Z", "message": "FINERACT-696\r\n\r\nApply suggestions from code review\n\nCo-Authored-By: Michael Vorburger \u26d1\ufe0f <mike@vorburger.ch>"}, "afterCommit": {"oid": "d87fa217f0046841c8f18c5b86c1c3af15cc915a", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/d87fa217f0046841c8f18c5b86c1c3af15cc915a", "committedDate": "2020-03-11T22:23:37Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\nApply suggestions from code review\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696\n\nCo-Authored-By: Michael Vorburger \u26d1\ufe0f <mike@vorburger.ch>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d87fa217f0046841c8f18c5b86c1c3af15cc915a", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/d87fa217f0046841c8f18c5b86c1c3af15cc915a", "committedDate": "2020-03-11T22:23:37Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\nApply suggestions from code review\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696\n\nCo-Authored-By: Michael Vorburger \u26d1\ufe0f <mike@vorburger.ch>"}, "afterCommit": {"oid": "a543d0a564338a3a3ed44c6508700bff9a86f979", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/a543d0a564338a3a3ed44c6508700bff9a86f979", "committedDate": "2020-03-11T23:50:14Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\nApply suggestions from code review\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696\n\nCo-Authored-By: Michael Vorburger \u26d1\ufe0f <mike@vorburger.ch>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a543d0a564338a3a3ed44c6508700bff9a86f979", "author": {"user": {"login": "xurror", "name": "Nasser Kaze"}}, "url": "https://github.com/apache/fineract/commit/a543d0a564338a3a3ed44c6508700bff9a86f979", "committedDate": "2020-03-11T23:50:14Z", "message": "FINERACT-696\n\nadd spotbug bug-pattern plugin.\n\nApply suggestions from code review\n\ncloses https://issues.apache.org/jira/browse/FINERACT-696\n\nCo-Authored-By: Michael Vorburger \u26d1\ufe0f <mike@vorburger.ch>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MTE4NjM5", "url": "https://github.com/apache/fineract/pull/716#pullrequestreview-374118639", "createdAt": "2020-03-13T08:27:03Z", "commit": {"oid": "a543d0a564338a3a3ed44c6508700bff9a86f979"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2005, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}