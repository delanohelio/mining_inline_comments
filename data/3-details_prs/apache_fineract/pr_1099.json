{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NTE0Mjkw", "number": 1099, "title": "FINERACT-822 Enforce UndefinedEquals check", "bodyText": "FINERACT-822\nhttps://errorprone.info/bugpattern/UndefinedEquals", "createdAt": "2020-06-21T08:28:31Z", "url": "https://github.com/apache/fineract/pull/1099", "merged": true, "mergeCommit": {"oid": "f1a06b42d7d4564ea8628a1e976799cd0625b966"}, "closed": true, "closedAt": "2020-06-23T20:36:53Z", "author": {"login": "percyashu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctXj-TgH2gAyNDM3NTE0MjkwOjhkNDc3NGY1NTlhMThiMTg3MjJiOTU1M2ZjYTcxNWQzZWM4ODNhM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuLleMgFqTQzNjEzNTQ0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c", "author": {"user": {"login": "percyashu", "name": "Percy Enoabane"}}, "url": "https://github.com/apache/fineract/commit/8d4774f559a18b18722b9553fca715d3ec883a3c", "committedDate": "2020-06-21T07:59:47Z", "message": "FINERACT-822 Enforce UndefinedEquals check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTE4MTQ0", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-434518144", "createdAt": "2020-06-21T17:15:29Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MTY1MjY4", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-435165268", "createdAt": "2020-06-22T18:15:30Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODoxNTozMVrOGnL24w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODoxNTozMVrOGnL24w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc0MTkyMw==", "bodyText": "Just curious about this:\nHow is other.entryDate.compareTo(entryDate) == 0 ? Boolean.TRUE: Boolean.FALSE\ndIfferent from just  other.entryDate.compareTo(entryDate) == 0   (In terms of end result) of the boolean?\nIs it because .equals returns Boolean.TRUE and not primitive data-type boolean?", "url": "https://github.com/apache/fineract/pull/1099#discussion_r443741923", "createdAt": "2020-06-22T18:15:31Z", "author": {"login": "thesmallstar"}, "path": "fineract-provider/src/main/java/org/apache/fineract/accounting/glaccount/domain/TrialBalance.java", "diffHunk": "@@ -100,8 +100,9 @@ public boolean equals(Object obj) {\n         }\n         TrialBalance other = (TrialBalance) obj;\n         return Objects.equals(other.officeId, officeId) && Objects.equals(other.glAccountId, glAccountId)\n-                && Objects.equals(other.amount, amount) && Objects.equals(other.entryDate, entryDate)\n-                && Objects.equals(other.transactionDate, transactionDate) && Objects.equals(other.closingBalance, closingBalance);\n+                && Objects.equals(other.amount, amount) && other.entryDate.compareTo(entryDate) == 0 ? Boolean.TRUE\n+                        : Boolean.FALSE && other.transactionDate.compareTo(transactionDate) == 0 ? Boolean.TRUE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MTY4MTQx", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-435168141", "createdAt": "2020-06-22T18:20:02Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODoyMDowM1rOGnMAHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxODoyMDowM1rOGnMAHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc0NDI4Ng==", "bodyText": "very very minor suggestion, can we not keep it just !=0 (this makes it little confusing IMO).", "url": "https://github.com/apache/fineract/pull/1099#discussion_r443744286", "createdAt": "2020-06-22T18:20:03Z", "author": {"login": "thesmallstar"}, "path": "fineract-provider/src/main/java/org/apache/fineract/portfolio/shareaccounts/domain/ShareAccount.java", "diffHunk": "@@ -224,7 +224,7 @@ public boolean setSubmittedDate(final Date submittedDate) {\n \n     public boolean setApprovedDate(final Date approvedDate) {\n         boolean toReturn = false;\n-        if (!this.approvedDate.equals(approvedDate)) {\n+        if (this.approvedDate.compareTo(approvedDate) == 0 ? Boolean.FALSE : Boolean.TRUE) {\n             this.approvedDate = approvedDate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MTY5MTI4", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-435169128", "createdAt": "2020-06-22T18:21:28Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NTMzMDg0", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-435533084", "createdAt": "2020-06-23T07:57:48Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzo1Nzo0OFrOGndsRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzo1Nzo0OFrOGndsRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAzNDExOA==", "bodyText": "@percyashu I don't understand this... given that entryDate and transactionDate are (both) java.util.Date, why is Objects.equals() not OK? That does not match what https://errorprone.info/bugpattern/UndefinedEquals seems to be about... what am I missing?", "url": "https://github.com/apache/fineract/pull/1099#discussion_r444034118", "createdAt": "2020-06-23T07:57:48Z", "author": {"login": "vorburger"}, "path": "fineract-provider/src/main/java/org/apache/fineract/accounting/glaccount/domain/TrialBalance.java", "diffHunk": "@@ -100,8 +100,9 @@ public boolean equals(Object obj) {\n         }\n         TrialBalance other = (TrialBalance) obj;\n         return Objects.equals(other.officeId, officeId) && Objects.equals(other.glAccountId, glAccountId)\n-                && Objects.equals(other.amount, amount) && Objects.equals(other.entryDate, entryDate)\n-                && Objects.equals(other.transactionDate, transactionDate) && Objects.equals(other.closingBalance, closingBalance);\n+                && Objects.equals(other.amount, amount) && other.entryDate.compareTo(entryDate) == 0 ? Boolean.TRUE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NTk3MDU5", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-435597059", "createdAt": "2020-06-23T09:18:06Z", "commit": {"oid": "8d4774f559a18b18722b9553fca715d3ec883a3c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1795825e18fa9c241068057806dcc0d547df4d5", "author": {"user": {"login": "percyashu", "name": "Percy Enoabane"}}, "url": "https://github.com/apache/fineract/commit/c1795825e18fa9c241068057806dcc0d547df4d5", "committedDate": "2020-06-23T11:15:41Z", "message": "Merge branch 'develop' into UndefinedEquals"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MTM1NDQ1", "url": "https://github.com/apache/fineract/pull/1099#pullrequestreview-436135445", "createdAt": "2020-06-23T20:36:29Z", "commit": {"oid": "c1795825e18fa9c241068057806dcc0d547df4d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1813, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}