{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MTQ3OTUx", "number": 4381, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOTowNFrOER5qSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOToxNVrOER5qig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MjA1OTYyOnYy", "diffSide": "RIGHT", "path": "src/main/src/main/java/org/geoserver/security/WrapperPolicy.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOTowNFrOG23N6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOTowNFrOG23N6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MDk3MQ==", "bodyText": "I see it was always hiding.", "url": "https://github.com/geoserver/geoserver/pull/4381#discussion_r460180971", "createdAt": "2020-07-24T17:09:04Z", "author": {"login": "nmco"}, "path": "src/main/src/main/java/org/geoserver/security/WrapperPolicy.java", "diffHunk": "@@ -33,7 +33,11 @@ public static final WrapperPolicy readOnlyHide(AccessLimits limits) {\n     }\n \n     public static final WrapperPolicy readWrite(AccessLimits limits) {\n-        return new WrapperPolicy(AccessLevel.READ_WRITE, Response.HIDE, limits);\n+        Response respone =\n+                limits == null || limits.getMode() == CatalogMode.HIDE\n+                        ? Response.HIDE\n+                        : Response.CHALLENGE;\n+        return new WrapperPolicy(AccessLevel.READ_WRITE, respone, limits);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da77aa1b98f975318f8a26335cde7df5c965b016"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MjA2MDI2OnYy", "diffSide": "RIGHT", "path": "src/wfs/src/main/java/org/geoserver/wfs/Transaction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOToxNVrOG23ORQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNzowOToxNVrOG23ORQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTA2MQ==", "bodyText": "Nice.", "url": "https://github.com/geoserver/geoserver/pull/4381#discussion_r460181061", "createdAt": "2020-07-24T17:09:15Z", "author": {"login": "nmco"}, "path": "src/wfs/src/main/java/org/geoserver/wfs/Transaction.java", "diffHunk": "@@ -298,6 +299,11 @@ protected TransactionResponse execute(TransactionRequest request) throws Excepti\n         } catch (WFSTransactionException e) {\n             LOGGER.log(Level.SEVERE, \"Transaction failed\", e);\n \n+            // don't process security exceptions, we want them to go up and change the way the\n+            // response is presented to the user, e.g., challenge authentication or describe access\n+            // was denied\n+            if (Dispatcher.isSecurityException(e.getCause())) throw e;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da77aa1b98f975318f8a26335cde7df5c965b016"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3961, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}