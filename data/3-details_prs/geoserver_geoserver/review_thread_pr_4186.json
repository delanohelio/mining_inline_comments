{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyODkyMzUy", "number": 4186, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzozOToyOVrODxbMOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzo0OTowMlrODxbUxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMTUyMzEzOnYy", "diffSide": "RIGHT", "path": "src/community/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzozOToyOVrOGE48yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMjowMjoyMVrOGE7dLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4MDU1Mg==", "bodyText": "You should remove ext-python.xml just above as well (I couldn't comment on the actual line since it wasn't near enough any changes)", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407780552", "createdAt": "2020-04-13T23:39:29Z", "author": {"login": "tbarsballe"}, "path": "src/community/pom.xml", "diffHunk": "@@ -73,7 +66,6 @@\n           <descriptor>release/ext-jdbcstore.xml</descriptor>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzgyMTYxMg==", "bodyText": "Done, moved it down to the appropriate profile.", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407821612", "createdAt": "2020-04-14T02:02:21Z", "author": {"login": "jodygarnett"}, "path": "src/community/pom.xml", "diffHunk": "@@ -73,7 +66,6 @@\n           <descriptor>release/ext-jdbcstore.xml</descriptor>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4MDU1Mg=="}, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMTUyODMwOnYy", "diffSide": "RIGHT", "path": "src/community/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzo0MTozNFrOGE4_pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMTo0MzoyOFrOGE7Ixg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4MTI4Ng==", "bodyText": "I don't think this is going to work how you want it to without significant revisions to src/community/release/pom.xml, since it is used for assembly and depends upon everything in communityRelease at the top level", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407781286", "createdAt": "2020-04-13T23:41:34Z", "author": {"login": "tbarsballe"}, "path": "src/community/pom.xml", "diffHunk": "@@ -321,6 +320,21 @@\n       <modules>\n         <module>script</module>\n       </modules>\n+      <build>\n+       <plugins>\n+         <plugin>\n+          <artifactId>maven-assembly-plugin</artifactId>\n+          <version>3.2.0</version>\n+          <configuration>\n+            <descriptors>\n+              <descriptor>release/ext-groovy.xml</descriptor>\n+              <descriptor>release/ext-javascript.xml</descriptor>\n+              <descriptor>release/ext-python.xml</descriptor>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzgxNjM5MA==", "bodyText": "I saw the profile names used in release/pom.xml and used the same names here.", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407816390", "createdAt": "2020-04-14T01:43:28Z", "author": {"login": "jodygarnett"}, "path": "src/community/pom.xml", "diffHunk": "@@ -321,6 +320,21 @@\n       <modules>\n         <module>script</module>\n       </modules>\n+      <build>\n+       <plugins>\n+         <plugin>\n+          <artifactId>maven-assembly-plugin</artifactId>\n+          <version>3.2.0</version>\n+          <configuration>\n+            <descriptors>\n+              <descriptor>release/ext-groovy.xml</descriptor>\n+              <descriptor>release/ext-javascript.xml</descriptor>\n+              <descriptor>release/ext-python.xml</descriptor>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4MTI4Ng=="}, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMTUzODc3OnYy", "diffSide": "RIGHT", "path": "src/community/release/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzo0NjoxNlrOGE5FzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMTo1MDo0M1rOGE7QlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4Mjg2MQ==", "bodyText": "This looks to be close to what is neccessary for individual assembly, but does not appear to be the same number of modules that you added release descriptors to in the community pom; spatialite at least appears to be missing (so assembly would fail)", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407782861", "createdAt": "2020-04-13T23:46:16Z", "author": {"login": "tbarsballe"}, "path": "src/community/release/pom.xml", "diffHunk": "@@ -440,4 +403,74 @@\n    </plugin>\n   </plugins>\n  </build>\n+ \n+ <!-- profiles for individual modules -->\n+ <profiles>\n+   <profile>\n+     <id>rest-ext</id>\n+     <activation>\n+       <property><name>rest-ext</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-ext</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>script</id>\n+     <activation>\n+       <property><name>script</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-py</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-js</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-groovy</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>monitor-hibernate</id>\n+     <dependencies>\n+       <dependency>\n+        <groupId>org.geoserver.community</groupId>\n+        <artifactId>gs-monitor-hibernate</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>geogig</id>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-geogig</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+    </dependencies>\n+   </profile>\n+   <profile>\n+     <id>rest-upload</id>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-upload</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+ </profiles>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 138}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzgxODM4OQ==", "bodyText": "As you noted the codebase was in consistent previously.\ngs-spatialite was not mentioned anywhere here before, I can add it back as a profile, if only as a starting point for anyone wishing to restore it.", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407818389", "createdAt": "2020-04-14T01:50:43Z", "author": {"login": "jodygarnett"}, "path": "src/community/release/pom.xml", "diffHunk": "@@ -440,4 +403,74 @@\n    </plugin>\n   </plugins>\n  </build>\n+ \n+ <!-- profiles for individual modules -->\n+ <profiles>\n+   <profile>\n+     <id>rest-ext</id>\n+     <activation>\n+       <property><name>rest-ext</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-ext</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>script</id>\n+     <activation>\n+       <property><name>script</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-py</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-js</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-groovy</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>monitor-hibernate</id>\n+     <dependencies>\n+       <dependency>\n+        <groupId>org.geoserver.community</groupId>\n+        <artifactId>gs-monitor-hibernate</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>geogig</id>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-geogig</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+    </dependencies>\n+   </profile>\n+   <profile>\n+     <id>rest-upload</id>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-upload</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+ </profiles>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4Mjg2MQ=="}, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 138}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMTU0NTAyOnYy", "diffSide": "RIGHT", "path": "src/community/release/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QyMzo0OTowMlrOGE5JUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwMTo0NDoyM1rOGE7J-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4Mzc2Mg==", "bodyText": "As per the commented out lines above, script-js and script-groovy don't work at all, so this doesn't help for building script-py very much.", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407783762", "createdAt": "2020-04-13T23:49:02Z", "author": {"login": "tbarsballe"}, "path": "src/community/release/pom.xml", "diffHunk": "@@ -440,4 +403,74 @@\n    </plugin>\n   </plugins>\n  </build>\n+ \n+ <!-- profiles for individual modules -->\n+ <profiles>\n+   <profile>\n+     <id>rest-ext</id>\n+     <activation>\n+       <property><name>rest-ext</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-ext</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>script</id>\n+     <activation>\n+       <property><name>script</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-py</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-js</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-groovy</artifactId>\n+         <version>${project.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzgxNjY5Nw==", "bodyText": "No it does not, but it does place them all into the same profile.", "url": "https://github.com/geoserver/geoserver/pull/4186#discussion_r407816697", "createdAt": "2020-04-14T01:44:23Z", "author": {"login": "jodygarnett"}, "path": "src/community/release/pom.xml", "diffHunk": "@@ -440,4 +403,74 @@\n    </plugin>\n   </plugins>\n  </build>\n+ \n+ <!-- profiles for individual modules -->\n+ <profiles>\n+   <profile>\n+     <id>rest-ext</id>\n+     <activation>\n+       <property><name>rest-ext</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.community</groupId>\n+         <artifactId>gs-rest-ext</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+     </dependencies>\n+   </profile>\n+   <profile>\n+     <id>script</id>\n+     <activation>\n+       <property><name>script</name></property>\n+     </activation>\n+     <dependencies>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-py</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-js</artifactId>\n+         <version>${project.version}</version>\n+       </dependency>\n+       <dependency>\n+         <groupId>org.geoserver.script</groupId>\n+         <artifactId>gs-script-groovy</artifactId>\n+         <version>${project.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc4Mzc2Mg=="}, "originalCommit": {"oid": "a6e1046f44838e84d20d62803164944d76e2b146"}, "originalPosition": 104}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4056, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}