{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzNjc0NDY5", "number": 4480, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0MTozMlrOEid_hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0Mjo1N1rOEieCvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTc4NDM4OnYy", "diffSide": "RIGHT", "path": "doc/en/user/source/community/wfs-templating/querying.rst", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0MTozMlrOHQXPnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDowODo0NVrOHQY4Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDA5Mg==", "bodyText": "This formatting looks off.", "url": "https://github.com/geoserver/geoserver/pull/4480#discussion_r486920092", "createdAt": "2020-09-11T09:41:32Z", "author": {"login": "nmco"}, "path": "doc/en/user/source/community/wfs-templating/querying.rst", "diffHunk": "@@ -36,9 +36,10 @@ Consider the following JSON-LD output example:\n                 \"http://vocabulary.odm2.org/samplingfeaturetype/mappedFeature\"\n             ],\n             \"name\": \"MERCIA MUDSTONE GROUP\",\n-            \"gsml:positionalAccuracy\": {\n-                \"value\": \"100.0\"\n-            },\n+            \"valueArray\": [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04b965b05dd1fc86402aa7480c7c35a16cfe146a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk0NjkxOA==", "bodyText": "fixed", "url": "https://github.com/geoserver/geoserver/pull/4480#discussion_r486946918", "createdAt": "2020-09-11T10:08:45Z", "author": {"login": "taba90"}, "path": "doc/en/user/source/community/wfs-templating/querying.rst", "diffHunk": "@@ -36,9 +36,10 @@ Consider the following JSON-LD output example:\n                 \"http://vocabulary.odm2.org/samplingfeaturetype/mappedFeature\"\n             ],\n             \"name\": \"MERCIA MUDSTONE GROUP\",\n-            \"gsml:positionalAccuracy\": {\n-                \"value\": \"100.0\"\n-            },\n+            \"valueArray\": [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMDA5Mg=="}, "originalCommit": {"oid": "04b965b05dd1fc86402aa7480c7c35a16cfe146a"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTc5MjYzOnYy", "diffSide": "LEFT", "path": "src/community/wfs-templating/src/main/java/org/geoserver/wfstemplating/builders/AbstractTemplateBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo0Mjo1N1rOHQXVJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDowOTo0MFrOHQY57w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMTUwOQ==", "bodyText": "So we can write a NULL key?", "url": "https://github.com/geoserver/geoserver/pull/4480#discussion_r486921509", "createdAt": "2020-09-11T09:42:57Z", "author": {"login": "nmco"}, "path": "src/community/wfs-templating/src/main/java/org/geoserver/wfstemplating/builders/AbstractTemplateBuilder.java", "diffHunk": "@@ -94,7 +94,6 @@ public int getFilterContextPos() {\n     protected void writeKey(TemplateOutputWriter writer) throws IOException {\n         if (key != null && !key.evaluate(null).equals(\"\"))\n             writer.writeElementName(key.evaluate(null));\n-        else throw new RuntimeException(\"Cannot write null key value\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04b965b05dd1fc86402aa7480c7c35a16cfe146a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk0NzMxMQ==", "bodyText": "evaluating on null since key might be an env function or a literal. In both cases the evaluate(Object o) method doesn't need any argument. I've added a clarifying comment.", "url": "https://github.com/geoserver/geoserver/pull/4480#discussion_r486947311", "createdAt": "2020-09-11T10:09:40Z", "author": {"login": "taba90"}, "path": "src/community/wfs-templating/src/main/java/org/geoserver/wfstemplating/builders/AbstractTemplateBuilder.java", "diffHunk": "@@ -94,7 +94,6 @@ public int getFilterContextPos() {\n     protected void writeKey(TemplateOutputWriter writer) throws IOException {\n         if (key != null && !key.evaluate(null).equals(\"\"))\n             writer.writeElementName(key.evaluate(null));\n-        else throw new RuntimeException(\"Cannot write null key value\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkyMTUwOQ=="}, "originalCommit": {"oid": "04b965b05dd1fc86402aa7480c7c35a16cfe146a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3919, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}