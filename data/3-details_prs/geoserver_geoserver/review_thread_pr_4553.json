{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzMTA4MTc0", "number": 4553, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTowMjo0M1rOE0VKBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTowMjo0M1rOE0VKBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzMzA4MDM5OnYy", "diffSide": "RIGHT", "path": "src/main/src/main/java/org/geoserver/config/GeoServerLoader.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTowMjo0M1rOHr_xNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxMTowNjoyNFrOHr_5EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg5NTYwNA==", "bodyText": "So this is collecting a list of nulls, which are all equals (actually all same) ... a boolean to track presence would do the same I guess. But I'm guessing it would not be same when removing them, removeAll should go an remove each one, otherwise if there are more than one, not all would be removed? :-D", "url": "https://github.com/geoserver/geoserver/pull/4553#discussion_r515895604", "createdAt": "2020-11-02T11:02:43Z", "author": {"login": "aaime"}, "path": "src/main/src/main/java/org/geoserver/config/GeoServerLoader.java", "diffHunk": "@@ -211,15 +211,18 @@ public void accept(LayerContents lc) {\n                 catalog.add(l);\n \n                 LOGGER.info(\"Loaded layer '\" + l.getName() + \"'\");\n-\n+                List<StyleInfo> badStyles = new ArrayList<>();\n                 for (StyleInfo style : l.getStyles()) {\n                     if (null == style) {\n                         LOGGER.log(\n                                 Level.SEVERE,\n                                 \"Layer '\" + l.getName() + \"' references a missing style\");\n                     }\n+                    badStyles.add(style);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fb3971f0a1262045e28a7afe7fef4301b19c63c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg5NzYxNw==", "bodyText": "You're right they are all Null - I should have thought of that! As for what removeAll does with many Nulls? https://stackoverflow.com/questions/60417963/does-arraylist-removeallcollection-cares-about-duplicates seems to indicate removing a single Null should work - I'll simplfy", "url": "https://github.com/geoserver/geoserver/pull/4553#discussion_r515897617", "createdAt": "2020-11-02T11:06:24Z", "author": {"login": "ianturton"}, "path": "src/main/src/main/java/org/geoserver/config/GeoServerLoader.java", "diffHunk": "@@ -211,15 +211,18 @@ public void accept(LayerContents lc) {\n                 catalog.add(l);\n \n                 LOGGER.info(\"Loaded layer '\" + l.getName() + \"'\");\n-\n+                List<StyleInfo> badStyles = new ArrayList<>();\n                 for (StyleInfo style : l.getStyles()) {\n                     if (null == style) {\n                         LOGGER.log(\n                                 Level.SEVERE,\n                                 \"Layer '\" + l.getName() + \"' references a missing style\");\n                     }\n+                    badStyles.add(style);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg5NTYwNA=="}, "originalCommit": {"oid": "4fb3971f0a1262045e28a7afe7fef4301b19c63c"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3834, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}