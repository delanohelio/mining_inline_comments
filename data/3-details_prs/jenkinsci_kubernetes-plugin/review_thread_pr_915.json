{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NDcyNjk4", "number": 915, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNDoyNlrOFDJTNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMlQxNzozNjoyNlrOFZ7Z9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQyNDIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNDoyNlrOICqJvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTozNzo1OVrOICqqCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1ODY4NA==", "bodyText": "Uh, why?", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539658684", "createdAt": "2020-12-09T21:24:26Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -133,17 +135,19 @@ public void setCommand(String command) {\n         this.command = command;\n     }\n \n+    @CheckForNull", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MzczOA==", "bodyText": "Habit I guess. I guess with the other change it's not necessary.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539663738", "createdAt": "2020-12-09T21:32:42Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -133,17 +135,19 @@ public void setCommand(String command) {\n         this.command = command;\n     }\n \n+    @CheckForNull", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1ODY4NA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2Njk1NQ==", "bodyText": "In fact it is wrong: if you are going to mark it at all, it should be @Nonnull (or @NonNull depending on the package imported).", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539666955", "createdAt": "2020-12-09T21:37:59Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -133,17 +135,19 @@ public void setCommand(String command) {\n         this.command = command;\n     }\n \n+    @CheckForNull", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1ODY4NA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQyNDU2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNDozNFrOICqJ-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0ODowNVrOICrBvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1ODc0Ng==", "bodyText": "ditto", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539658746", "createdAt": "2020-12-09T21:24:34Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -133,17 +135,19 @@ public void setCommand(String command) {\n         this.command = command;\n     }\n \n+    @CheckForNull\n     public String getCommand() {\n-        return command;\n+        return this.command == null ? DescriptorImpl.defaultCommand : this.command;\n     }\n \n     @DataBoundSetter\n     public void setArgs(String args) {\n         this.args = args;\n     }\n \n+    @CheckForNull", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MzAyMA==", "bodyText": "done", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539673020", "createdAt": "2020-12-09T21:48:05Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -133,17 +135,19 @@ public void setCommand(String command) {\n         this.command = command;\n     }\n \n+    @CheckForNull\n     public String getCommand() {\n-        return command;\n+        return this.command == null ? DescriptorImpl.defaultCommand : this.command;\n     }\n \n     @DataBoundSetter\n     public void setArgs(String args) {\n         this.args = args;\n     }\n \n+    @CheckForNull", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1ODc0Ng=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQzMDA3OnYy", "diffSide": "RIGHT", "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNTo1NVrOICqNMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0ODoxMVrOICrB8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1OTU2OA==", "bodyText": "Change the default to be false in this case. The only reason for tty: true was to pair with cat. IOW\ncat\nwith no input, but with a TTY (so no EOF), is just an idiom for sleeping.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539659568", "createdAt": "2020-12-09T21:25:55Z", "author": {"login": "jglick"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "diffHunk": "@@ -23,11 +23,11 @@\n   </f:entry>\n \n   <f:entry field=\"command\" title=\"${%Command to run}\">\n-    <f:textbox default=\"/bin/sh -c\"/>\n+    <f:textbox default=\"${descriptor.defaultCommand}\"/>\n   </f:entry>\n \n   <f:entry field=\"args\" title=\"${%Arguments to pass to the command}\">\n-    <f:textbox default=\"cat\"/>\n+    <f:textbox default=\"${descriptor.defaultArgs}\"/>\n   </f:entry>\n \n   <f:entry field=\"ttyEnabled\" title=\"${%Allocate pseudo-TTY}\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MzA3Mw==", "bodyText": "done", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539673073", "createdAt": "2020-12-09T21:48:11Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "diffHunk": "@@ -23,11 +23,11 @@\n   </f:entry>\n \n   <f:entry field=\"command\" title=\"${%Command to run}\">\n-    <f:textbox default=\"/bin/sh -c\"/>\n+    <f:textbox default=\"${descriptor.defaultCommand}\"/>\n   </f:entry>\n \n   <f:entry field=\"args\" title=\"${%Arguments to pass to the command}\">\n-    <f:textbox default=\"cat\"/>\n+    <f:textbox default=\"${descriptor.defaultArgs}\"/>\n   </f:entry>\n \n   <f:entry field=\"ttyEnabled\" title=\"${%Allocate pseudo-TTY}\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY1OTU2OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQzNDM1OnYy", "diffSide": "RIGHT", "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-command.html", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyNjo1OVrOICqPsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo0Nzo1N1rOICrBUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDIwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <p>For Windows containers 'powershell' is a good default.</p>\n          \n          \n            \n            <p>For Windows containers <code>powershell</code> is a good default.</p>", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539660209", "createdAt": "2020-12-09T21:26:59Z", "author": {"login": "jglick"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-command.html", "diffHunk": "@@ -1 +1,2 @@\n-Override the image entrypoint with a different one\n\\ No newline at end of file\n+<p>Override the image entrypoint with a different one.</p>\n+<p>For Windows containers 'powershell' is a good default.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3MjkxMg==", "bodyText": "done", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539672912", "createdAt": "2020-12-09T21:47:57Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-command.html", "diffHunk": "@@ -1 +1,2 @@\n-Override the image entrypoint with a different one\n\\ No newline at end of file\n+<p>Override the image entrypoint with a different one.</p>\n+<p>For Windows containers 'powershell' is a good default.</p>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDIwOQ=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQzOTY2OnYy", "diffSide": "RIGHT", "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-args.html", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMToyODoxNVrOICqSvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo1MDoxOFrOICrG1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDk4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <p>For Windows containers the args [\"Start-Sleep\", \"999999\"] are reasonable choices to go with powershell.</p>\n          \n          \n            \n            <p>For Windows containers the args <code>Start-Sleep 999999</code> are reasonable choices to go with <code>powershell</code>.</p>\n          \n      \n    \n    \n  \n\nI guess? The field is of type String not List<String>.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539660988", "createdAt": "2020-12-09T21:28:15Z", "author": {"login": "jglick"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-args.html", "diffHunk": "@@ -1,2 +1,3 @@\n-Arguments to pass to the command. \n-${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively. \n+<p>Arguments to pass to the command.</p>\n+<p>${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively.</p>\n+<p>For Windows containers the args [\"Start-Sleep\", \"999999\"] are reasonable choices to go with powershell.</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2NjkzNA==", "bodyText": "I think kubernetes is expecting a string that looks like a list. https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539666934", "createdAt": "2020-12-09T21:37:57Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-args.html", "diffHunk": "@@ -1,2 +1,3 @@\n-Arguments to pass to the command. \n-${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively. \n+<p>Arguments to pass to the command.</p>\n+<p>${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively.</p>\n+<p>For Windows containers the args [\"Start-Sleep\", \"999999\"] are reasonable choices to go with powershell.</p>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDk4OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3NDMyNg==", "bodyText": "Kubernetes expects a list of strings. But Jenkins expects a string as in \n  \n    \n      kubernetes-plugin/src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java\n    \n    \n        Lines 502 to 520\n      in\n      a8eba67\n    \n    \n    \n    \n\n        \n          \n               /** \n        \n\n        \n          \n                * Split a command in the parts that Docker need \n        \n\n        \n          \n                * \n        \n\n        \n          \n                * @param dockerCommand \n        \n\n        \n          \n                * @return \n        \n\n        \n          \n                */ \n        \n\n        \n          \n               @Restricted(NoExternalUse.class) \n        \n\n        \n          \n               static List<String> parseDockerCommand(String dockerCommand) { \n        \n\n        \n          \n                   if (dockerCommand == null || dockerCommand.isEmpty()) { \n        \n\n        \n          \n                       return null; \n        \n\n        \n          \n                   } \n        \n\n        \n          \n                   // handle quoted arguments \n        \n\n        \n          \n                   Matcher m = SPLIT_IN_SPACES.matcher(dockerCommand); \n        \n\n        \n          \n                   List<String> commands = new ArrayList<String>(); \n        \n\n        \n          \n                   while (m.find()) { \n        \n\n        \n          \n                       commands.add(substituteEnv(m.group(1).replace(\"\\\"\", \"\"))); \n        \n\n        \n          \n                   } \n        \n\n        \n          \n                   return commands; \n        \n\n        \n          \n               } \n        \n    \n  \n\n so from the PoV of snippet generation we want to be suggesting something that would become e.g.\ncontainer(name: '\u2026', image: '\u2026', command: 'powershell', args: 'Start-Sleep 999999')", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539674326", "createdAt": "2020-12-09T21:50:18Z", "author": {"login": "jglick"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/help-args.html", "diffHunk": "@@ -1,2 +1,3 @@\n-Arguments to pass to the command. \n-${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively. \n+<p>Arguments to pass to the command.</p>\n+<p>${computer.jnlpmac} and ${computer.name} are replaced with the agent secret and name respectively.</p>\n+<p>For Windows containers the args [\"Start-Sleep\", \"999999\"] are reasonable choices to go with powershell.</p>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2MDk4OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4ODQ3ODA3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTozNzozMFrOICqo9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQyMTo1MTowMlrOICrIhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2NjY3OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    public final static String defaultCommand = \"sleep\";\n          \n          \n            \n                    public final static String defaultArgs = \"9999999\";\n          \n          \n            \n                    public final static String DEFAULT_COMMAND = \"sleep\";\n          \n          \n            \n                    public final static String DEFAULT_ARGS = \"9999999\";\n          \n      \n    \n    \n  \n\nCustomary to use all caps for static final vars (constants). Not sure if Jelly has different rules..", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539666678", "createdAt": "2020-12-09T21:37:30Z", "author": {"login": "schottsfired"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -350,6 +354,8 @@ public FormValidation doCheckImage(@QueryParameter String value) {\n         public String getWorkingDir() {\n             return DEFAULT_WORKING_DIR;\n         }\n+        public final static String defaultCommand = \"sleep\";\n+        public final static String defaultArgs = \"9999999\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2ODk3OA==", "bodyText": "I'll test it to see if jelly is doing some sort of transformation, and change it if not.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539668978", "createdAt": "2020-12-09T21:41:20Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -350,6 +354,8 @@ public FormValidation doCheckImage(@QueryParameter String value) {\n         public String getWorkingDir() {\n             return DEFAULT_WORKING_DIR;\n         }\n+        public final static String defaultCommand = \"sleep\";\n+        public final static String defaultArgs = \"9999999\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2NjY3OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3Mjc5Nw==", "bodyText": "done.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539672797", "createdAt": "2020-12-09T21:47:44Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -350,6 +354,8 @@ public FormValidation doCheckImage(@QueryParameter String value) {\n         public String getWorkingDir() {\n             return DEFAULT_WORKING_DIR;\n         }\n+        public final static String defaultCommand = \"sleep\";\n+        public final static String defaultArgs = \"9999999\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2NjY3OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY3NDc1OQ==", "bodyText": "Jelly does not have different rules.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r539674759", "createdAt": "2020-12-09T21:51:02Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -350,6 +354,8 @@ public FormValidation doCheckImage(@QueryParameter String value) {\n         public String getWorkingDir() {\n             return DEFAULT_WORKING_DIR;\n         }\n+        public final static String defaultCommand = \"sleep\";\n+        public final static String defaultArgs = \"9999999\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY2NjY3OA=="}, "originalCommit": {"oid": "ce73ef57ceb5f0b11694962f875d661d4eec9302"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzAwOTU2OnYy", "diffSide": "RIGHT", "path": "examples/multi-container.groovy", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNjo1OToyMlrOIDTlDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODoyOTozMVrOIDXdgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzNzQyMw==", "bodyText": "Do we want to be consistent?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                command: ['sleep']\n          \n          \n            \n                args: ['9999999']\n          \n          \n            \n                command:\n          \n          \n            \n                - sleep\n          \n          \n            \n                args:\n          \n          \n            \n                - 9999999", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r540337423", "createdAt": "2020-12-10T16:59:22Z", "author": {"login": "jglick"}, "path": "examples/multi-container.groovy", "diffHunk": "@@ -13,8 +13,8 @@ spec:\n     tty: true\n   - name: golang\n     image: golang:1.8.0\n-    command: ['cat']\n-    tty: true\n+    command: ['sleep']\n+    args: ['9999999']", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d363c50fcf92a9f097a9a2e13f7bce0202b06bfc"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwMTAyNw==", "bodyText": "yes, consistency is better. Should have caught that on my own.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r540401027", "createdAt": "2020-12-10T18:29:31Z", "author": {"login": "kerogers-cloudbees"}, "path": "examples/multi-container.groovy", "diffHunk": "@@ -13,8 +13,8 @@ spec:\n     tty: true\n   - name: golang\n     image: golang:1.8.0\n-    command: ['cat']\n-    tty: true\n+    command: ['sleep']\n+    args: ['9999999']", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzNzQyMw=="}, "originalCommit": {"oid": "d363c50fcf92a9f097a9a2e13f7bce0202b06bfc"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzAxMzY0OnYy", "diffSide": "RIGHT", "path": "src/test/resources/org/csanchez/jenkins/plugins/kubernetes/pipeline/declarative.groovy", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowMDoxMlrOIDTnhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxODoyODozOFrOIDXbFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzODA1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    ttyEnabled false\n          \n      \n    \n    \n  \n\nsince the default if false right?", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r540338053", "createdAt": "2020-12-10T17:00:12Z", "author": {"login": "jglick"}, "path": "src/test/resources/org/csanchez/jenkins/plugins/kubernetes/pipeline/declarative.groovy", "diffHunk": "@@ -5,8 +5,9 @@ pipeline {\n       containerTemplate {\n         name 'maven'\n         image 'maven:3.3.9-jdk-8-alpine'\n-        ttyEnabled true\n-        command 'cat'\n+        ttyEnabled false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d363c50fcf92a9f097a9a2e13f7bce0202b06bfc"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwMDQwNg==", "bodyText": "good call, I'll change it.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r540400406", "createdAt": "2020-12-10T18:28:38Z", "author": {"login": "kerogers-cloudbees"}, "path": "src/test/resources/org/csanchez/jenkins/plugins/kubernetes/pipeline/declarative.groovy", "diffHunk": "@@ -5,8 +5,9 @@ pipeline {\n       containerTemplate {\n         name 'maven'\n         image 'maven:3.3.9-jdk-8-alpine'\n-        ttyEnabled true\n-        command 'cat'\n+        ttyEnabled false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzODA1Mw=="}, "originalCommit": {"oid": "d363c50fcf92a9f097a9a2e13f7bce0202b06bfc"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzAxODk0OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowMToxNVrOIDTqtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowMToxNVrOIDTqtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMzODg3MQ==", "bodyText": "just\ngit checkout master -- src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java\nto revert irrelevant changes", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r540338871", "createdAt": "2020-12-10T17:01:15Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -1,31 +1,29 @@\n package org.csanchez.jenkins.plugins.kubernetes;\n \n-import java.io.Serializable;\n-import java.util.ArrayList;\n-import java.util.Collections;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.TreeMap;\n-\n-import org.apache.commons.lang.StringUtils;\n-import org.csanchez.jenkins.plugins.kubernetes.model.TemplateEnvVar;\n-import org.jenkinsci.Symbol;\n-import org.kohsuke.accmod.Restricted;\n-import org.kohsuke.accmod.restrictions.DoNotUse;\n-import org.kohsuke.stapler.DataBoundConstructor;\n-import org.kohsuke.stapler.DataBoundSetter;\n-\n import com.google.common.base.Preconditions;\n-\n import hudson.Extension;\n import hudson.Util;\n import hudson.model.AbstractDescribableImpl;\n import hudson.model.Descriptor;\n import hudson.model.DescriptorVisibilityFilter;\n import hudson.util.FormValidation;\n import jenkins.model.Jenkins;\n+import org.apache.commons.lang.StringUtils;\n+import org.csanchez.jenkins.plugins.kubernetes.model.TemplateEnvVar;\n+import org.jenkinsci.Symbol;\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.DoNotUse;\n+import org.kohsuke.stapler.DataBoundConstructor;\n+import org.kohsuke.stapler.DataBoundSetter;\n import org.kohsuke.stapler.QueryParameter;\n \n+import java.io.Serializable;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.TreeMap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d363c50fcf92a9f097a9a2e13f7bce0202b06bfc"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYyNzMyMDIyOnYy", "diffSide": "RIGHT", "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMlQxNzozNjoyNlrOIkvCKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMlQxODozMTowNFrOIkx9LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTM5MDI0OA==", "bodyText": "typo: does talse evaluate to false anyway?", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r575390248", "createdAt": "2021-02-12T17:36:26Z", "author": {"login": "sbeaulie"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "diffHunk": "@@ -23,15 +23,15 @@\n   </f:entry>\n \n   <f:entry field=\"command\" title=\"${%Command to run}\">\n-    <f:textbox default=\"/bin/sh -c\"/>\n+    <f:textbox default=\"sleep\"/>\n   </f:entry>\n \n   <f:entry field=\"args\" title=\"${%Arguments to pass to the command}\">\n-    <f:textbox default=\"cat\"/>\n+    <f:textbox default=\"9999999\"/>\n   </f:entry>\n \n   <f:entry field=\"ttyEnabled\" title=\"${%Allocate pseudo-TTY}\">\n-    <f:checkbox default=\"true\"/>\n+    <f:checkbox default=\"talse\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9d98ce96c7c39ec9b3325c13fe460146433c35a"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTQzODEyNA==", "bodyText": "Good catch: #957\n\ndoes talse evaluate to false anyway?\n\nI think so, yes. For that matter, it is the default for the default.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/915#discussion_r575438124", "createdAt": "2021-02-12T18:31:04Z", "author": {"login": "jglick"}, "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate/config.jelly", "diffHunk": "@@ -23,15 +23,15 @@\n   </f:entry>\n \n   <f:entry field=\"command\" title=\"${%Command to run}\">\n-    <f:textbox default=\"/bin/sh -c\"/>\n+    <f:textbox default=\"sleep\"/>\n   </f:entry>\n \n   <f:entry field=\"args\" title=\"${%Arguments to pass to the command}\">\n-    <f:textbox default=\"cat\"/>\n+    <f:textbox default=\"9999999\"/>\n   </f:entry>\n \n   <f:entry field=\"ttyEnabled\" title=\"${%Allocate pseudo-TTY}\">\n-    <f:checkbox default=\"true\"/>\n+    <f:checkbox default=\"talse\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTM5MDI0OA=="}, "originalCommit": {"oid": "a9d98ce96c7c39ec9b3325c13fe460146433c35a"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4885, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}