{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNTg4MTQ4", "number": 869, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTowMzo1M1rOEzVz9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDowMzozMVrOE-Ae2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMjcwMTk3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTowMzo1M1rOHqgO6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNzoyNTo0OVrOHqmxFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzMDM0Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    String actualEpemeral = substituteEnv(ephemeral);\n          \n          \n            \n                    String actualEphemeral = substituteEnv(ephemeral);", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r514330346", "createdAt": "2020-10-29T15:03:53Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "diffHunk": "@@ -500,10 +500,11 @@ private VolumeMount getDefaultVolumeMount(@CheckForNull String workingDir) {\n         return commands;\n     }\n \n-    private Map<String, Quantity> getResourcesMap(String memory, String cpu) {\n+    private Map<String, Quantity> getResourcesMap(String memory, String cpu, String ephemeral) {\n         ImmutableMap.Builder<String, Quantity> builder = ImmutableMap.<String, Quantity>builder();\n         String actualMemory = substituteEnv(memory);\n         String actualCpu = substituteEnv(cpu);\n+        String actualEpemeral = substituteEnv(ephemeral);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a7fa09f5ee24d78cf3bf112e7613cf270a9837f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQzNzM5Ng==", "bodyText": "fix", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r514437396", "createdAt": "2020-10-29T17:25:49Z", "author": {"login": "KrapivinAndrey"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "diffHunk": "@@ -500,10 +500,11 @@ private VolumeMount getDefaultVolumeMount(@CheckForNull String workingDir) {\n         return commands;\n     }\n \n-    private Map<String, Quantity> getResourcesMap(String memory, String cpu) {\n+    private Map<String, Quantity> getResourcesMap(String memory, String cpu, String ephemeral) {\n         ImmutableMap.Builder<String, Quantity> builder = ImmutableMap.<String, Quantity>builder();\n         String actualMemory = substituteEnv(memory);\n         String actualCpu = substituteEnv(cpu);\n+        String actualEpemeral = substituteEnv(ephemeral);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzMDM0Ng=="}, "originalCommit": {"oid": "2a7fa09f5ee24d78cf3bf112e7613cf270a9837f"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMjcwMjc1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTowNDowM1rOHqgPXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNzoyNTo1NVrOHqmxWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzMDQ2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        Quantity ephemeralQuantity = new Quantity(actualEpemeral);\n          \n          \n            \n                        Quantity ephemeralQuantity = new Quantity(actualEphemeral);", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r514330463", "createdAt": "2020-10-29T15:04:03Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "diffHunk": "@@ -512,6 +513,10 @@ private VolumeMount getDefaultVolumeMount(@CheckForNull String workingDir) {\n             Quantity cpuQuantity = new Quantity(actualCpu);\n             builder.put(\"cpu\", cpuQuantity);\n         }\n+        if (StringUtils.isNotBlank(actualEpemeral)) {\n+            Quantity ephemeralQuantity = new Quantity(actualEpemeral);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a7fa09f5ee24d78cf3bf112e7613cf270a9837f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQzNzQ2Nw==", "bodyText": "fix", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r514437467", "createdAt": "2020-10-29T17:25:55Z", "author": {"login": "KrapivinAndrey"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplateBuilder.java", "diffHunk": "@@ -512,6 +513,10 @@ private VolumeMount getDefaultVolumeMount(@CheckForNull String workingDir) {\n             Quantity cpuQuantity = new Quantity(actualCpu);\n             builder.put(\"cpu\", cpuQuantity);\n         }\n+        if (StringUtils.isNotBlank(actualEpemeral)) {\n+            Quantity ephemeralQuantity = new Quantity(actualEpemeral);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzMDQ2Mw=="}, "originalCommit": {"oid": "2a7fa09f5ee24d78cf3bf112e7613cf270a9837f"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDU0MjI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDowMDo1NVrOH6_bew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwNTozODoyM1rOH7Qusg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxODY4Mw==", "bodyText": "Remove these.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531618683", "createdAt": "2020-11-27T14:00:55Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "diffHunk": "@@ -662,6 +666,18 @@ public void setResourceLimitCpu(String resourceLimitCpu) {\n         getFirstContainer().ifPresent((i) -> i.setResourceLimitCpu(resourceLimitCpu));\n     }\n \n+    @Deprecated\n+    @DataBoundSetter\n+    public void setResourceLimitEphemeral(String resourceLimitEphemeral) {\n+        getFirstContainer().ifPresent((i) -> i.setResourceLimitEphemeral(resourceLimitEphemeral));\n+    }\n+\n+    @Deprecated\n+    public String getResourceLimitEphemeral() {\n+        return getFirstContainer().map(ContainerTemplate::getResourceLimitEphemeral).orElse(null);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTkwMjEzMA==", "bodyText": "Fix", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531902130", "createdAt": "2020-11-28T05:38:23Z", "author": {"login": "KrapivinAndrey"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "diffHunk": "@@ -662,6 +666,18 @@ public void setResourceLimitCpu(String resourceLimitCpu) {\n         getFirstContainer().ifPresent((i) -> i.setResourceLimitCpu(resourceLimitCpu));\n     }\n \n+    @Deprecated\n+    @DataBoundSetter\n+    public void setResourceLimitEphemeral(String resourceLimitEphemeral) {\n+        getFirstContainer().ifPresent((i) -> i.setResourceLimitEphemeral(resourceLimitEphemeral));\n+    }\n+\n+    @Deprecated\n+    public String getResourceLimitEphemeral() {\n+        return getFirstContainer().map(ContainerTemplate::getResourceLimitEphemeral).orElse(null);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxODY4Mw=="}, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDU0MjU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDowMTowMVrOH6_bow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwNTozODoxNFrOH7QuUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxODcyMw==", "bodyText": "Remove these.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531618723", "createdAt": "2020-11-27T14:01:01Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "diffHunk": "@@ -684,6 +700,17 @@ public void setResourceRequestCpu(String resourceRequestCpu) {\n         getFirstContainer().ifPresent((i) -> i.setResourceRequestCpu(resourceRequestCpu));\n     }\n \n+    @Deprecated\n+    @DataBoundSetter\n+    public void setResourceRequestEphemeral(String resourceRequestEphemeral) {\n+        getFirstContainer().ifPresent((i) -> i.setResourceRequestEphemeral(resourceRequestEphemeral));\n+    }\n+    \n+    @Deprecated\n+    public String getResourceRequestEphemeral() {\n+        return getFirstContainer().map(ContainerTemplate::getResourceRequestEphemeral).orElse(null);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTkwMjAzMg==", "bodyText": "Fix", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531902032", "createdAt": "2020-11-28T05:38:14Z", "author": {"login": "KrapivinAndrey"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/PodTemplate.java", "diffHunk": "@@ -684,6 +700,17 @@ public void setResourceRequestCpu(String resourceRequestCpu) {\n         getFirstContainer().ifPresent((i) -> i.setResourceRequestCpu(resourceRequestCpu));\n     }\n \n+    @Deprecated\n+    @DataBoundSetter\n+    public void setResourceRequestEphemeral(String resourceRequestEphemeral) {\n+        getFirstContainer().ifPresent((i) -> i.setResourceRequestEphemeral(resourceRequestEphemeral));\n+    }\n+    \n+    @Deprecated\n+    public String getResourceRequestEphemeral() {\n+        return getFirstContainer().map(ContainerTemplate::getResourceRequestEphemeral).orElse(null);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxODcyMw=="}, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDU1MDY3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDowMzozMVrOH6_ghQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwNTozODowNVrOH7Qt6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxOTk3Mw==", "bodyText": "Replace ephemeral with ephemeralStorage in the PR please.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531619973", "createdAt": "2020-11-27T14:03:31Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -57,9 +57,13 @@\n \n     private String resourceRequestMemory;\n \n+    private String resourceRequestEphemeral;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTkwMTkyOA==", "bodyText": "Fix", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/869#discussion_r531901928", "createdAt": "2020-11-28T05:38:05Z", "author": {"login": "KrapivinAndrey"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/ContainerTemplate.java", "diffHunk": "@@ -57,9 +57,13 @@\n \n     private String resourceRequestMemory;\n \n+    private String resourceRequestEphemeral;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTYxOTk3Mw=="}, "originalCommit": {"oid": "158c3dd0338a54c8b3f8ca55d1e40c2078824b90"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4849, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}