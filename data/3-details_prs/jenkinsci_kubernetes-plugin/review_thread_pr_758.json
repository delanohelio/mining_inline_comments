{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0MzUyNDU5", "number": 758, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowMjo1NFrODyfePQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTozOTozOFrODyj8Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjcxMDM3OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowMjo1NFrOGGkMcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowMjo1NFrOGGkMcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTUzNzY1MA==", "bodyText": "Better to use the BOM.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/758#discussion_r409537650", "createdAt": "2020-04-16T13:02:54Z", "author": {"login": "jglick"}, "path": "pom.xml", "diffHunk": "@@ -53,6 +53,7 @@\n     <pipeline-model-definition.version>1.6.0</pipeline-model-definition.version>\n     <slf4jVersion>1.7.26</slf4jVersion>\n     <useBeta>true</useBeta>\n+    <configuration-as-code.version>1.36</configuration-as-code.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07561d6e0a616d444260ecc6fe0a332d36983575"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjcxNDczOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/csanchez/jenkins/plugins/kubernetes/casc/CasCTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowMzo1OFrOGGkPCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowMzo1OFrOGGkPCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTUzODMxNA==", "bodyText": "OK I am bored already. \ud83d\ude2a", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/758#discussion_r409538314", "createdAt": "2020-04-16T13:03:58Z", "author": {"login": "jglick"}, "path": "src/test/java/org/csanchez/jenkins/plugins/kubernetes/casc/CasCTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+package org.csanchez.jenkins.plugins.kubernetes.casc;\n+\n+import io.jenkins.plugins.casc.misc.RoundTripAbstractTest;\n+import org.csanchez.jenkins.plugins.kubernetes.ContainerLivenessProbe;\n+import org.csanchez.jenkins.plugins.kubernetes.ContainerTemplate;\n+import org.csanchez.jenkins.plugins.kubernetes.KubernetesCloud;\n+import org.csanchez.jenkins.plugins.kubernetes.PodTemplate;\n+import org.csanchez.jenkins.plugins.kubernetes.pod.yaml.Merge;\n+import org.csanchez.jenkins.plugins.kubernetes.pod.yaml.Overrides;\n+import org.csanchez.jenkins.plugins.kubernetes.volumes.workspace.DynamicPVCWorkspaceVolume;\n+import org.csanchez.jenkins.plugins.kubernetes.volumes.workspace.WorkspaceVolume;\n+import org.jvnet.hudson.test.RestartableJenkinsRule;\n+\n+import java.util.List;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.isA;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class CasCTest extends RoundTripAbstractTest {\n+\n+    @Override\n+    protected void assertConfiguredAsExpected(RestartableJenkinsRule r, String configContent) {\n+        KubernetesCloud cloud = r.j.jenkins.clouds.get(KubernetesCloud.class);\n+        assertNotNull(cloud);\n+        assertEquals(\"10\",cloud.getContainerCapStr());\n+        assertEquals(\"http://jenkinshost:8080/jenkins/\", cloud.getJenkinsUrl());\n+        assertEquals(\"32\", cloud.getMaxRequestsPerHostStr());\n+        assertEquals(\"kubernetes\", cloud.name);\n+        List<PodTemplate> templates = cloud.getTemplates();\n+        assertNotNull(templates);\n+        assertEquals(3, templates.size());\n+        PodTemplate podTemplate = templates.get(0);\n+        assertEquals(false, podTemplate.isHostNetwork());\n+        assertEquals(\"java\", podTemplate.getLabel());\n+        assertEquals(\"default-java\", podTemplate.getName());\n+        assertThat(podTemplate.getYamlMergeStrategy(), isA(Overrides.class));\n+        podTemplate = templates.get(1);\n+        assertEquals(false, podTemplate.isHostNetwork());\n+        assertEquals(\"dynamic-pvc\", podTemplate.getLabel());\n+        assertEquals(\"dynamic-pvc\", podTemplate.getName());\n+        assertThat(podTemplate.getYamlMergeStrategy(), isA(Overrides.class));\n+        WorkspaceVolume workspaceVolume = podTemplate.getWorkspaceVolume();\n+        assertNotNull(workspaceVolume);\n+        assertThat(workspaceVolume, isA(DynamicPVCWorkspaceVolume.class));\n+        DynamicPVCWorkspaceVolume dynamicPVCVolume = (DynamicPVCWorkspaceVolume) workspaceVolume;\n+        assertEquals(\"ReadWriteOnce\", dynamicPVCVolume.getAccessModes());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07561d6e0a616d444260ecc6fe0a332d36983575"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjczNDgzOnYy", "diffSide": "RIGHT", "path": "src/test/resources/org/csanchez/jenkins/plugins/kubernetes/casc/casc_envVar_keyValue.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowODo0NFrOGGkbrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzowODo0NFrOGGkbrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU0MTU1MA==", "bodyText": "Ugly. We cannot convert to type Integer?", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/758#discussion_r409541550", "createdAt": "2020-04-16T13:08:44Z", "author": {"login": "jglick"}, "path": "src/test/resources/org/csanchez/jenkins/plugins/kubernetes/casc/casc_envVar_keyValue.yaml", "diffHunk": "@@ -0,0 +1,12 @@\n+jenkins:\n+  clouds:\n+    - kubernetes:\n+        containerCapStr: \"10\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07561d6e0a616d444260ecc6fe0a332d36983575"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzQ0MjE4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTozOTozOFrOGGrcJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTo0MjoxNVrOGGrjtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY1NjM1Ng==", "bodyText": "They're up to 1.39 now.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/758#discussion_r409656356", "createdAt": "2020-04-16T15:39:38Z", "author": {"login": "kerogers-cloudbees"}, "path": "pom.xml", "diffHunk": "@@ -53,6 +53,7 @@\n     <pipeline-model-definition.version>1.6.0</pipeline-model-definition.version>\n     <slf4jVersion>1.7.26</slf4jVersion>\n     <useBeta>true</useBeta>\n+    <configuration-as-code.version>1.36</configuration-as-code.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07561d6e0a616d444260ecc6fe0a332d36983575"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY1ODI5Mg==", "bodyText": "I'll just pick up whatever is in BOM, I don't think we need anything particular that is in 1.39", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/758#discussion_r409658292", "createdAt": "2020-04-16T15:42:15Z", "author": {"login": "Vlatombe"}, "path": "pom.xml", "diffHunk": "@@ -53,6 +53,7 @@\n     <pipeline-model-definition.version>1.6.0</pipeline-model-definition.version>\n     <slf4jVersion>1.7.26</slf4jVersion>\n     <useBeta>true</useBeta>\n+    <configuration-as-code.version>1.36</configuration-as-code.version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY1NjM1Ng=="}, "originalCommit": {"oid": "07561d6e0a616d444260ecc6fe0a332d36983575"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4917, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}