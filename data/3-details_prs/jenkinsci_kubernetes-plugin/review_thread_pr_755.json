{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzMDE2Mzc1", "number": 755, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo1OToxOVrODxl8Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo1OToxOVrODxl8Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzI4NDcxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/pod/retention/Reaper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDo1OToxOVrOGFJWGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxMjowODozNFrOGF2sDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0OTE3OA==", "bodyText": "Under which circumstances would either of these be null?\nYou can use java.util.Objects.equals BTW.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/755#discussion_r408049178", "createdAt": "2020-04-14T10:59:19Z", "author": {"login": "jglick"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/pod/retention/Reaper.java", "diffHunk": "@@ -139,7 +140,7 @@ public void eventReceived(Watcher.Action action, Pod pod) {\n                         continue;\n                     }\n                     KubernetesSlave ks = (KubernetesSlave) n;\n-                    if (ks.getNamespace().equals(ns) && ks.getPodName().equals(name)) {\n+                    if (StringUtils.equals(ks.getNamespace(), ns) && StringUtils.equals(ks.getPodName(), name)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c20e4a20d70a1b7c4396cbccb8dfb24060665208"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc5MjA3Nw==", "bodyText": "I think there can be a race condition between Reaper and KubernetesLauncher. In particular, namespace is not set immediately when KubernetesSlave is created. And i've definitely seen occurrences of the NPE when launching a lot of agents concurrently.", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/755#discussion_r408792077", "createdAt": "2020-04-15T12:08:34Z", "author": {"login": "Vlatombe"}, "path": "src/main/java/org/csanchez/jenkins/plugins/kubernetes/pod/retention/Reaper.java", "diffHunk": "@@ -139,7 +140,7 @@ public void eventReceived(Watcher.Action action, Pod pod) {\n                         continue;\n                     }\n                     KubernetesSlave ks = (KubernetesSlave) n;\n-                    if (ks.getNamespace().equals(ns) && ks.getPodName().equals(name)) {\n+                    if (StringUtils.equals(ks.getNamespace(), ns) && StringUtils.equals(ks.getPodName(), name)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA0OTE3OA=="}, "originalCommit": {"oid": "c20e4a20d70a1b7c4396cbccb8dfb24060665208"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4913, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}