{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MjI4NDM1", "number": 7449, "title": "Allow function rebalance to be run periodically", "bodyText": "Motivation\nAfter a rebalance mechanism was implement for pulsar functions in:\n#7388\nit is only natural to add the functionality for the rebalance to be triggered periodically.\nModifications\nAllow rebalance to be triggered on a user defined frequency", "createdAt": "2020-07-04T02:21:18Z", "url": "https://github.com/apache/pulsar/pull/7449", "merged": true, "mergeCommit": {"oid": "304685bfd20912ee058e15ecafcf34d39b470a47"}, "closed": true, "closedAt": "2020-07-07T01:34:43Z", "author": {"login": "jerrypeng"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxefmFAH2gAyNDQ0MjI4NDM1OjM3NzJjZjNjMjYxYzY1ZTNhNDVmYTZkYTc2NzBhYTI3ZDk2ZWZiNmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyVyNwgFqTQ0MzMyNDI4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3772cf3c261c65e3a45fa6da7670aa27d96efb6d", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/3772cf3c261c65e3a45fa6da7670aa27d96efb6d", "committedDate": "2020-07-04T02:20:02Z", "message": "Allow function rebalance to be run periodically"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "246934f9724067a1ed9b828d8a28cfea03abd6da", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/246934f9724067a1ed9b828d8a28cfea03abd6da", "committedDate": "2020-07-04T02:21:40Z", "message": "cleaning up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNjIwMjI4", "url": "https://github.com/apache/pulsar/pull/7449#pullrequestreview-442620228", "createdAt": "2020-07-04T16:51:36Z", "commit": {"oid": "246934f9724067a1ed9b828d8a28cfea03abd6da"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxNjo1MTozN1rOGs84vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNFQxNjo1MTozN1rOGs84vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTc4ODA5Mw==", "bodyText": "Do we want to turn it on by default? Also is 15 min too frequent", "url": "https://github.com/apache/pulsar/pull/7449#discussion_r449788093", "createdAt": "2020-07-04T16:51:37Z", "author": {"login": "srkukarni"}, "path": "conf/functions_worker.yml", "diffHunk": "@@ -93,6 +93,8 @@ schedulerClassName: \"org.apache.pulsar.functions.worker.scheduler.RoundRobinSche\n functionAssignmentTopicName: \"assignments\"\n failureCheckFreqMs: 30000\n rescheduleTimeoutMs: 60000\n+# frequency at which to check if cluster needs rebalancing (15min default interval)\n+rebalanceCheckFreqSec: 900", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "246934f9724067a1ed9b828d8a28cfea03abd6da"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12040fc4a20e8f77aca7ea5497d948abcb8b1158", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/12040fc4a20e8f77aca7ea5497d948abcb8b1158", "committedDate": "2020-07-06T18:18:49Z", "message": "improving"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzIxOTM4", "url": "https://github.com/apache/pulsar/pull/7449#pullrequestreview-443321938", "createdAt": "2020-07-06T18:41:27Z", "commit": {"oid": "12040fc4a20e8f77aca7ea5497d948abcb8b1158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODo0MToyOFrOGti8EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxODo0MToyOFrOGti8EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQxMTUzNw==", "bodyText": "For backwards compatibility do you want it to be -1?", "url": "https://github.com/apache/pulsar/pull/7449#discussion_r450411537", "createdAt": "2020-07-06T18:41:28Z", "author": {"login": "srkukarni"}, "path": "conf/functions_worker.yml", "diffHunk": "@@ -93,6 +93,8 @@ schedulerClassName: \"org.apache.pulsar.functions.worker.scheduler.RoundRobinSche\n functionAssignmentTopicName: \"assignments\"\n failureCheckFreqMs: 30000\n rescheduleTimeoutMs: 60000\n+# frequency at which to check if cluster needs rebalancing (set to -1 to disable)\n+rebalanceCheckFreqSec: 3600", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12040fc4a20e8f77aca7ea5497d948abcb8b1158"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b01578332d028f7a0c949a5c76030648f644b04", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/3b01578332d028f7a0c949a5c76030648f644b04", "committedDate": "2020-07-06T18:44:33Z", "message": "changing default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzMzI0Mjg0", "url": "https://github.com/apache/pulsar/pull/7449#pullrequestreview-443324284", "createdAt": "2020-07-06T18:45:09Z", "commit": {"oid": "3b01578332d028f7a0c949a5c76030648f644b04"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 542, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}