{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNzg2MjMx", "number": 7420, "title": "[client authentication] add authentication client with oauth2 support", "bodyText": "Motivation\nPulsar supports authenticating clients using OAuth 2.0 access tokens. You can use tokens to identify a Pulsar client and associate with some \"principal\" (or \"role\") that is permitted to do some actions (eg: publish to a topic or consume from a topic).\nThis module is to support Pulsar Client Authentication Plugin for OAuth 2.0 directly. Client side communicate with Oauth 2.0 server,  then the client will get an access token from Oauth 2.0 server, and will pass this access token to Pulsar broker to do the authentication.\nSo the Broker side could still use org.apache.pulsar.broker.authentication.AuthenticationProviderToken,\nalso user can add their own AuthenticationProvider to work with this module.\nModifications\n\nadd related code;\nadd related test;\nadd related doc.\n\nThe init of this client authentication module would be like:\nAuthentication oauth2Authentication = AuthenticationFactoryOAuth2.clientCredentials(\n                new URL(\"https://dev-kt-aa9ne.us.auth0.com/oauth/token\"),\n                new URL(\"file:///path/to/credential/file.json\"),  // key file path\n                \"https://dev-kt-aa9ne.us.auth0.com/api/v2/\"\n        );\nPulsarClient client = PulsarClient.builder()\n    .serviceUrl(\"pulsar://broker.example.com:6650/\")\n    .authentication(oauth2Authentication)\n    .build();\nVerifying this change\ntests passed.", "createdAt": "2020-07-01T15:46:27Z", "url": "https://github.com/apache/pulsar/pull/7420", "merged": true, "mergeCommit": {"oid": "768813ea595697e317a0ac5af53191e6cf832766"}, "closed": true, "closedAt": "2020-07-02T06:41:32Z", "author": {"login": "jiazhai"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwsHTlgH2gAyNDQyNzg2MjMxOjYzYzRhMzRiOTgzNTMzNTQyZDhiMTE2Y2VhM2Y0NDNkYzJjMDkzZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcw3bnDgFqTQ0MTM0NzY5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "63c4a34b983533542d8b116cea3f443dc2c093d6", "author": {"user": {"login": "jiazhai", "name": "Jia Zhai"}}, "url": "https://github.com/apache/pulsar/commit/63c4a34b983533542d8b116cea3f443dc2c093d6", "committedDate": "2020-07-01T15:38:15Z", "message": "add authentication client with oauth2 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7d0f5f171e2d44c698dc54f1f402fab4c5a8782", "author": {"user": {"login": "jiazhai", "name": "Jia Zhai"}}, "url": "https://github.com/apache/pulsar/commit/e7d0f5f171e2d44c698dc54f1f402fab4c5a8782", "committedDate": "2020-07-01T15:38:15Z", "message": "update readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1475d74abf49887c9e02b272e278d960b9b624ab", "author": {"user": {"login": "jiazhai", "name": "Jia Zhai"}}, "url": "https://github.com/apache/pulsar/commit/1475d74abf49887c9e02b272e278d960b9b624ab", "committedDate": "2020-07-02T01:16:32Z", "message": "re-format license header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMzQ3Njk3", "url": "https://github.com/apache/pulsar/pull/7420#pullrequestreview-441347697", "createdAt": "2020-07-02T04:48:28Z", "commit": {"oid": "1475d74abf49887c9e02b272e278d960b9b624ab"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNDo0ODoyOFrOGr9Uyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNDo0ODoyOFrOGr9Uyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc0NjY5OA==", "bodyText": "@jiazhai Can you move this README to the website documentation?", "url": "https://github.com/apache/pulsar/pull/7420#discussion_r448746698", "createdAt": "2020-07-02T04:48:28Z", "author": {"login": "sijie"}, "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/Readme.md", "diffHunk": "@@ -0,0 +1,94 @@\n+# Pulsar Client Authentication Plugin for OAuth 2.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1475d74abf49887c9e02b272e278d960b9b624ab"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 513, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}