{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5OTM1MTg5", "number": 6422, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOToxMTozMlrODmFOPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOToxMTozMlrODmFOPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjU4MDQ3OnYy", "diffSide": "RIGHT", "path": "managed-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOToxMTozMlrOFzUDvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzoxMTowM1rOF02LVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MDMzMw==", "bodyText": "Can we delete offloadAutoTriggerSizeThresholdBytes and offloadLedgerDeletionLagMs in  ManagedLedgerConfig? since there is OffloadPolicies in LedgerOffloader.", "url": "https://github.com/apache/pulsar/pull/6422#discussion_r389350333", "createdAt": "2020-03-08T09:11:32Z", "author": {"login": "codelipenghui"}, "path": "managed-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java", "diffHunk": "@@ -1869,6 +1876,10 @@ private void maybeOffload(CompletableFuture<PositionImpl> finalPromise) {\n                 });\n \n             long threshold = config.getOffloadAutoTriggerSizeThresholdBytes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0038227fba13108bd3eafb1a2c998833d2072262"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY0Nzc4MA==", "bodyText": "@codelipenghui Thanks for the review. @sijie wanted to keep default configuration on ManagedLedgerConfig while OffloadPolicies in LedgerOffloader are not defined for current namespace. WDYT?", "url": "https://github.com/apache/pulsar/pull/6422#discussion_r389647780", "createdAt": "2020-03-09T13:08:08Z", "author": {"login": "KannarFr"}, "path": "managed-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java", "diffHunk": "@@ -1869,6 +1876,10 @@ private void maybeOffload(CompletableFuture<PositionImpl> finalPromise) {\n                 });\n \n             long threshold = config.getOffloadAutoTriggerSizeThresholdBytes();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MDMzMw=="}, "originalCommit": {"oid": "0038227fba13108bd3eafb1a2c998833d2072262"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwOTY5MA==", "bodyText": "@KannarFr  We already keep offload_threshold   and offload_deletion_lag_ms  in Policies, why  need to also keep offloadAutoTriggerSizeThresholdBytes  and offloadAutoTriggerSizeThresholdBytes  in managedldger config? I still don't understand, why need to keep them in managedldger config.", "url": "https://github.com/apache/pulsar/pull/6422#discussion_r390709690", "createdAt": "2020-03-11T02:10:21Z", "author": {"login": "codelipenghui"}, "path": "managed-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java", "diffHunk": "@@ -1869,6 +1876,10 @@ private void maybeOffload(CompletableFuture<PositionImpl> finalPromise) {\n                 });\n \n             long threshold = config.getOffloadAutoTriggerSizeThresholdBytes();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MDMzMw=="}, "originalCommit": {"oid": "0038227fba13108bd3eafb1a2c998833d2072262"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk1NzkwOQ==", "bodyText": "Got it, you are right, fixing...", "url": "https://github.com/apache/pulsar/pull/6422#discussion_r390957909", "createdAt": "2020-03-11T13:11:03Z", "author": {"login": "KannarFr"}, "path": "managed-ledger/src/main/java/org/apache/bookkeeper/mledger/impl/ManagedLedgerImpl.java", "diffHunk": "@@ -1869,6 +1876,10 @@ private void maybeOffload(CompletableFuture<PositionImpl> finalPromise) {\n                 });\n \n             long threshold = config.getOffloadAutoTriggerSizeThresholdBytes();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MDMzMw=="}, "originalCommit": {"oid": "0038227fba13108bd3eafb1a2c998833d2072262"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1906, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}