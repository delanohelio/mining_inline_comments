{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MzI4NzM2", "number": 8635, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDozNzozMFrOE7Tz2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0MTo1OFrOE7T8lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjI2MDEwOnYy", "diffSide": "RIGHT", "path": "conf/broker.conf", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDozNzozMFrOH24aWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDozNzozMFrOH24aWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMwOTQwMw==", "bodyText": "I think we already have this config in the broker.conf https://github.com/apache/pulsar/blob/master/conf/broker.conf#L680", "url": "https://github.com/apache/pulsar/pull/8635#discussion_r527309403", "createdAt": "2020-11-20T00:37:30Z", "author": {"login": "codelipenghui"}, "path": "conf/broker.conf", "diffHunk": "@@ -774,6 +774,9 @@ bookkeeperDiskWeightBasedPlacementEnabled=false\n # A value of '0' disables sending any explicit LACs. Default is 0.\n bookkeeperExplicitLacIntervalInMills=0\n \n+  # Use older Bookkeeper wire protocol with bookie\n+bookkeeperUseV2WireProtocol=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "338f3ea64cc4536fa99bc4f9d620029aae2e2fb6"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjI4MTE0OnYy", "diffSide": "RIGHT", "path": "pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarConnectorConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0MTo0M1rOH24ovQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0MTo0M1rOH24ovQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMxMzA4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean useV2Protocol = true;\n          \n          \n            \n                private boolean bookkeeperUseV2Protocol = true;", "url": "https://github.com/apache/pulsar/pull/8635#discussion_r527313085", "createdAt": "2020-11-20T00:41:43Z", "author": {"login": "codelipenghui"}, "path": "pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarConnectorConfig.java", "diffHunk": "@@ -72,6 +72,8 @@\n     private int bookkeeperThrottleValue = 0;\n     private int bookkeeperNumIOThreads = 2 * Runtime.getRuntime().availableProcessors();\n     private int bookkeeperNumWorkerThreads = Runtime.getRuntime().availableProcessors();\n+    private boolean useV2Protocol = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "338f3ea64cc4536fa99bc4f9d620029aae2e2fb6"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjI4MjQ3OnYy", "diffSide": "RIGHT", "path": "pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarConnectorConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0MTo1OFrOH24pqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0MTo1OFrOH24pqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMxMzMyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private int explicitInterval = 0;\n          \n          \n            \n                private int bookkeeperExplicitInterval = 0;", "url": "https://github.com/apache/pulsar/pull/8635#discussion_r527313322", "createdAt": "2020-11-20T00:41:58Z", "author": {"login": "codelipenghui"}, "path": "pulsar-sql/presto-pulsar/src/main/java/org/apache/pulsar/sql/presto/PulsarConnectorConfig.java", "diffHunk": "@@ -72,6 +72,8 @@\n     private int bookkeeperThrottleValue = 0;\n     private int bookkeeperNumIOThreads = 2 * Runtime.getRuntime().availableProcessors();\n     private int bookkeeperNumWorkerThreads = Runtime.getRuntime().availableProcessors();\n+    private boolean useV2Protocol = true;\n+    private int explicitInterval = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "338f3ea64cc4536fa99bc4f9d620029aae2e2fb6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2824, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}