{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NzU2NjUy", "number": 8278, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1MjoxMVrOEuhcog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1OToxNVrOEuhvfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjE3OTU0OnYy", "diffSide": "RIGHT", "path": "site2/docs/functions-develop.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1MjoxMVrOHi_DPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1MjoxMVrOHi_DPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ0NjY1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Pulsar has a built-in schema registry and is bundled with popular schema types, such as avro, json and protobuf. Pulsar Functions can leverage the existing schema information from input topics and derive the input type. The schema registry applies for output topic as well.\n          \n          \n            \n            Pulsar has a built-in schema registry and is bundled with popular schema types, such as Avro, JSON and Protobuf. Pulsar Functions can leverage the existing schema information from input topics and derive the input type. The schema registry applies for output topic as well.", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r506446652", "createdAt": "2020-10-16T13:52:11Z", "author": {"login": "Huanli-Meng"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -104,22 +104,14 @@ For complete code, see [here](https://github.com/apache/pulsar/blob/master/pulsa\n <!--END_DOCUSAURUS_CODE_TABS-->\n \n ## Schema registry\n-Pulsar has a built in schema registry and comes bundled with a variety of popular schema types(avro, json and protobuf). Pulsar Functions can leverage existing schema information from input topics and derive the input type. The schema registry applies for output topic as well.\n+Pulsar has a built-in schema registry and is bundled with popular schema types, such as avro, json and protobuf. Pulsar Functions can leverage the existing schema information from input topics and derive the input type. The schema registry applies for output topic as well.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjE4NjYzOnYy", "diffSide": "RIGHT", "path": "site2/docs/functions-develop.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1MzoxMFrOHi_IFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1MzoxMFrOHi_IFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ0Nzg5NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            SerDe works in the following way in Java Functions.\n          \n          \n            \n            SerDe works in the following ways in Java Functions.", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r506447895", "createdAt": "2020-10-16T13:53:10Z", "author": {"login": "Huanli-Meng"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -129,6 +121,12 @@ public interface SerDe<T> {\n     byte[] serialize(T input);\n }\n ```\n+SerDe works in the following way in Java Functions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjE5ODk5OnYy", "diffSide": "RIGHT", "path": "site2/docs/functions-develop.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1NDo1N1rOHi_QkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMTowODo1NVrOHjzsBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ1MDA2NA==", "bodyText": "either...or, neither...nor, Please double confirm which one you should use.", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r506450064", "createdAt": "2020-10-16T13:54:57Z", "author": {"login": "Huanli-Meng"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -129,6 +121,12 @@ public interface SerDe<T> {\n     byte[] serialize(T input);\n }\n ```\n+SerDe works in the following way in Java Functions.\n+- If the input and output topics have schema, Pulsar Functions use schema for SerDe.\n+- If the input and output topics do not exist, Pulsar Functions adopt the following rules to determine SerDe:\n+  - If the schema type is specified, Pulsar Functions use the specified schema type.\n+  - If SerDe is specified, Pulsar Functions use the specified SerDe, and the schema type for input and output topics is `Byte`.\n+  - If either the schema type nor SerDe is specified, Pulsar Functions use the built-in SerDe. For non-primitive schema type, the built-in SerDe serializes and deserializes objects in the `json` format. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzMwOTA2MA==", "bodyText": "neither ... nor...\nNice catch, thank you.", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r507309060", "createdAt": "2020-10-19T01:08:55Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -129,6 +121,12 @@ public interface SerDe<T> {\n     byte[] serialize(T input);\n }\n ```\n+SerDe works in the following way in Java Functions.\n+- If the input and output topics have schema, Pulsar Functions use schema for SerDe.\n+- If the input and output topics do not exist, Pulsar Functions adopt the following rules to determine SerDe:\n+  - If the schema type is specified, Pulsar Functions use the specified schema type.\n+  - If SerDe is specified, Pulsar Functions use the specified SerDe, and the schema type for input and output topics is `Byte`.\n+  - If either the schema type nor SerDe is specified, Pulsar Functions use the built-in SerDe. For non-primitive schema type, the built-in SerDe serializes and deserializes objects in the `json` format. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ1MDA2NA=="}, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MjIyNzgzOnYy", "diffSide": "RIGHT", "path": "site2/docs/functions-develop.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxMzo1OToxNVrOHi_jzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNDowNzozM1rOHj7JRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ1NDk5MA==", "bodyText": "If there is no input and output topics, what the schema is used for? Do you mean that the input and output topics do not specify the schema?", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r506454990", "createdAt": "2020-10-16T13:59:15Z", "author": {"login": "Huanli-Meng"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -129,6 +121,12 @@ public interface SerDe<T> {\n     byte[] serialize(T input);\n }\n ```\n+SerDe works in the following way in Java Functions.\n+- If the input and output topics have schema, Pulsar Functions use schema for SerDe.\n+- If the input and output topics do not exist, Pulsar Functions adopt the following rules to determine SerDe:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzQzMTIzNg==", "bodyText": "In some scenarios, we do not have input or output topics.\nMaybe I should change \"and\" into \"or\".", "url": "https://github.com/apache/pulsar/pull/8278#discussion_r507431236", "createdAt": "2020-10-19T04:07:33Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/functions-develop.md", "diffHunk": "@@ -129,6 +121,12 @@ public interface SerDe<T> {\n     byte[] serialize(T input);\n }\n ```\n+SerDe works in the following way in Java Functions.\n+- If the input and output topics have schema, Pulsar Functions use schema for SerDe.\n+- If the input and output topics do not exist, Pulsar Functions adopt the following rules to determine SerDe:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ1NDk5MA=="}, "originalCommit": {"oid": "274322cff369c33967d6ab0a71023bc8396f795e"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2928, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}