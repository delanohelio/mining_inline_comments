{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzODUwOTgx", "number": 7769, "title": "[Issue 5401][docs] Add deploy-docker doc", "bodyText": "Fixes #5401\nMotivation:\nAdd deployment on Docker doc.\nModification:\nThe doc about how to deploy a cluster on Docker is added and the sidebar is updated accordingly.", "createdAt": "2020-08-06T07:49:59Z", "url": "https://github.com/apache/pulsar/pull/7769", "merged": true, "mergeCommit": {"oid": "c7ead1589fa1c327a2e03beeb57ba4fe78f026c5"}, "closed": true, "closedAt": "2020-08-10T11:20:28Z", "author": {"login": "sijia-w"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8K9xyAH2gAyNDYzODUwOTgxOjQ0ZWEyMGQzZTM2NWEyYzQ3ZDVlMDA2NGI3YzYyZjc1NDliZjVhMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8wR7lAFqTQ2MzcxMzU3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44ea20d3e365a2c47d5e0064b7c62f7549bf5a31", "author": {"user": {"login": "sijia-w", "name": null}}, "url": "https://github.com/apache/pulsar/commit/44ea20d3e365a2c47d5e0064b7c62f7549bf5a31", "committedDate": "2020-08-06T07:48:04Z", "message": "add deploy-docker doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce8cb1c6bf212a380825c515fce76884381673ad", "author": {"user": {"login": "sijia-w", "name": null}}, "url": "https://github.com/apache/pulsar/commit/ce8cb1c6bf212a380825c515fce76884381673ad", "committedDate": "2020-08-06T07:55:22Z", "message": "Update deploy-docker.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDE4NDk0", "url": "https://github.com/apache/pulsar/pull/7769#pullrequestreview-463018494", "createdAt": "2020-08-07T03:57:50Z", "commit": {"oid": "ce8cb1c6bf212a380825c515fce76884381673ad"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzo1Nzo1MVrOG9LpTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMzo1OToxMFrOG9LqVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzExOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For detailed information about deployment for each Pulsar component, see [deploy a cluster on bare metal](https://pulsar.apache.org/docs/en/deploy-bare-metal/).\n          \n          \n            \n            For detailed information about how to deploy ZooKeeper cluster, BookKeeper cluster, brokers, see [deploy a cluster on bare metal](deploy-bare-metal.md).", "url": "https://github.com/apache/pulsar/pull/7769#discussion_r466807119", "createdAt": "2020-08-07T03:57:51Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/deploy-docker.md", "diffHunk": "@@ -0,0 +1,51 @@\n+---\n+id: deploy-docker\n+title: Deploy a cluster on Docker\n+sidebar_label: Docker\n+---\n+\n+To deploy a Pulsar cluster on Docker, complete the following steps:\n+1. Deploy a ZooKeeper cluster (optional)\n+2. Initialize cluster metadata\n+3. Deploy a BookKeeper cluster\n+4. Deploy one or more Pulsar brokers\n+\n+## Prepare\n+\n+To run Pulsar on Docker, you need to create a container for each Pulsar component: ZooKeeper, BookKeeper and broker. You can pull the images of ZooKeeper and BookKeeper separately on [Docker Hub](https://hub.docker.com/), and pull a [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) for the broker. You can also pull only one [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) and create three containers with this image. This tutorial takes the second option as an example.\n+\n+### Pull a Pulsar image\n+You can pull a Pulsar image from [Docker Hub](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) with the following command.\n+\n+```\n+docker run -it apachepulsar/pulsar-all:latest\n+```\n+\n+### Create three containers\n+Create containers for ZooKeeper, BookKeeper and broker. In this example, they are named as `zookeeper`, `bookkeeper` and `broker` respectively. You can name them as you want with the `--name` flag. By default, the container names are created randomly.\n+\n+```\n+docker run -it --name bookkeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name zookeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name broker apachepulsar/pulsar-all:latest /bin/bash\n+```\n+\n+### Create a network\n+To deploy a Pulsar cluster on Docker, you need to create a `network` and connect the containers of ZooKeeper, BookKeeper and broker to this network. The following command creates the network `pulsar`:\n+\n+```\n+docker network create pulsar\n+```\n+\n+### Connect containers to network\n+Connect the containers of ZooKeeper, BookKeeper and broker to the `pulsar` network with the following commands. \n+\n+```\n+docker network connect pulsar zookeeper\n+docker network connect pulsar bookkeeper\n+docker network connect pulsar broker\n+```\n+\n+To check whether the containers are successfully connected to the network, enter the `docker network inspect pulsar` command.\n+\n+For detailed information about deployment for each Pulsar component, see [deploy a cluster on bare metal](https://pulsar.apache.org/docs/en/deploy-bare-metal/).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce8cb1c6bf212a380825c515fce76884381673ad"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzM4Mw==", "bodyText": "When you tell users Pulsar component, they might think which component.\nUse relative path in reference link.", "url": "https://github.com/apache/pulsar/pull/7769#discussion_r466807383", "createdAt": "2020-08-07T03:59:10Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/deploy-docker.md", "diffHunk": "@@ -0,0 +1,51 @@\n+---\n+id: deploy-docker\n+title: Deploy a cluster on Docker\n+sidebar_label: Docker\n+---\n+\n+To deploy a Pulsar cluster on Docker, complete the following steps:\n+1. Deploy a ZooKeeper cluster (optional)\n+2. Initialize cluster metadata\n+3. Deploy a BookKeeper cluster\n+4. Deploy one or more Pulsar brokers\n+\n+## Prepare\n+\n+To run Pulsar on Docker, you need to create a container for each Pulsar component: ZooKeeper, BookKeeper and broker. You can pull the images of ZooKeeper and BookKeeper separately on [Docker Hub](https://hub.docker.com/), and pull a [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) for the broker. You can also pull only one [Pulsar image](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) and create three containers with this image. This tutorial takes the second option as an example.\n+\n+### Pull a Pulsar image\n+You can pull a Pulsar image from [Docker Hub](https://hub.docker.com/r/apachepulsar/pulsar-all/tags) with the following command.\n+\n+```\n+docker run -it apachepulsar/pulsar-all:latest\n+```\n+\n+### Create three containers\n+Create containers for ZooKeeper, BookKeeper and broker. In this example, they are named as `zookeeper`, `bookkeeper` and `broker` respectively. You can name them as you want with the `--name` flag. By default, the container names are created randomly.\n+\n+```\n+docker run -it --name bookkeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name zookeeper apachepulsar/pulsar-all:latest /bin/bash\n+docker run -it --name broker apachepulsar/pulsar-all:latest /bin/bash\n+```\n+\n+### Create a network\n+To deploy a Pulsar cluster on Docker, you need to create a `network` and connect the containers of ZooKeeper, BookKeeper and broker to this network. The following command creates the network `pulsar`:\n+\n+```\n+docker network create pulsar\n+```\n+\n+### Connect containers to network\n+Connect the containers of ZooKeeper, BookKeeper and broker to the `pulsar` network with the following commands. \n+\n+```\n+docker network connect pulsar zookeeper\n+docker network connect pulsar bookkeeper\n+docker network connect pulsar broker\n+```\n+\n+To check whether the containers are successfully connected to the network, enter the `docker network inspect pulsar` command.\n+\n+For detailed information about deployment for each Pulsar component, see [deploy a cluster on bare metal](https://pulsar.apache.org/docs/en/deploy-bare-metal/).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgwNzExOQ=="}, "originalCommit": {"oid": "ce8cb1c6bf212a380825c515fce76884381673ad"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aa8d1384ae17f69f7987e47c98fa32a7eaa7ea0", "author": {"user": {"login": "sijia-w", "name": null}}, "url": "https://github.com/apache/pulsar/commit/9aa8d1384ae17f69f7987e47c98fa32a7eaa7ea0", "committedDate": "2020-08-07T10:28:26Z", "message": "Update site2/docs/deploy-docker.md\n\nCo-authored-by: Jennifer Huang <47805623+Jennifer88huang@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNzEzNTcy", "url": "https://github.com/apache/pulsar/pull/7769#pullrequestreview-463713572", "createdAt": "2020-08-08T03:16:34Z", "commit": {"oid": "9aa8d1384ae17f69f7987e47c98fa32a7eaa7ea0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 236, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}