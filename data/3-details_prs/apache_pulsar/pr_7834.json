{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MTgzNjk3", "number": 7834, "title": "[Doc]--Update BookKeeper config", "bodyText": "Fixes #7481\nMotivation\nDefault bookkeeper conf that ships with apache pulsar indicates that the unit of openLedgerRereplicationGracePeriod is in seconds, but official bookkeeper doc(and code) mentions that the unit is in milliseconds.\nPulsar should configure default as 30000 instead of 30 and bookkeeper.conf should mention that the unit of this period is milliseconds instead of seconds.\nModifications\n\nUpdate the bookkeep.config file\nUpdate the following Pulsar docs for releases 2.5.2, 2.6.0, 2.6.1, and master\n\nReference > Pulsar Config > BookKeeper", "createdAt": "2020-08-18T03:55:02Z", "url": "https://github.com/apache/pulsar/pull/7834", "merged": true, "mergeCommit": {"oid": "9994d6dc11a9c04a674d4fec1cc0dc19a6526b3b"}, "closed": true, "closedAt": "2020-09-01T15:21:14Z", "author": {"login": "Huanli-Meng"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBFJD_gFqTQ3MjUwNjE0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEpBpFAFqTQ3OTg1NTUyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNTA2MTQx", "url": "https://github.com/apache/pulsar/pull/7834#pullrequestreview-472506141", "createdAt": "2020-08-21T13:50:35Z", "commit": {"oid": "84b4f1b7aa17e69880871ce6d457287dadb7d185"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMzo1MDozNVrOHEuC7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMzo1MDozNVrOHEuC7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDcxMDc2NQ==", "bodyText": "turn into 30000 instead of 3000", "url": "https://github.com/apache/pulsar/pull/7834#discussion_r474710765", "createdAt": "2020-08-21T13:50:35Z", "author": {"login": "jiazhai"}, "path": "conf/bookkeeper.conf", "diffHunk": "@@ -227,9 +227,9 @@ auditorPeriodicBookieCheckInterval=86400\n rereplicationEntryBatchSize=100\n \n # Auto-replication\n-# The grace period, in seconds, that the replication worker waits before fencing and\n+# The grace period, in milliseconds, that the replication worker waits before fencing and\n # replicating a ledger fragment that's still being written to upon bookie failure.\n-openLedgerRereplicationGracePeriod=30\n+openLedgerRereplicationGracePeriod=3000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84b4f1b7aa17e69880871ce6d457287dadb7d185"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0c14b9aa989f6196ea3f689f171cfcbe04885cb", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/f0c14b9aa989f6196ea3f689f171cfcbe04885cb", "committedDate": "2020-08-24T14:27:26Z", "message": "Update 3000 to 30000"}, "afterCommit": {"oid": "6d35249f1a7db2352f6e1e6de43bf3cfb8e8e7d5", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/6d35249f1a7db2352f6e1e6de43bf3cfb8e8e7d5", "committedDate": "2020-08-25T08:11:05Z", "message": "Update 3000 to 30000"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9ddc63f31e531351f8aed4c34d3ce9ea5a2330b", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/c9ddc63f31e531351f8aed4c34d3ce9ea5a2330b", "committedDate": "2020-08-27T01:08:44Z", "message": "Update bookkeeper config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b0211ce63b0c074dddc36bdaa9f705da99180c2", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/8b0211ce63b0c074dddc36bdaa9f705da99180c2", "committedDate": "2020-08-27T01:08:44Z", "message": "Update 3000 to 30000"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d35249f1a7db2352f6e1e6de43bf3cfb8e8e7d5", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/6d35249f1a7db2352f6e1e6de43bf3cfb8e8e7d5", "committedDate": "2020-08-25T08:11:05Z", "message": "Update 3000 to 30000"}, "afterCommit": {"oid": "8b0211ce63b0c074dddc36bdaa9f705da99180c2", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/8b0211ce63b0c074dddc36bdaa9f705da99180c2", "committedDate": "2020-08-27T01:08:44Z", "message": "Update 3000 to 30000"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "518f52cca7abce50ef0b1bcd5cf071df98a6489d", "author": {"user": {"login": "Huanli-Meng", "name": "Huanli Meng"}}, "url": "https://github.com/apache/pulsar/commit/518f52cca7abce50ef0b1bcd5cf071df98a6489d", "committedDate": "2020-09-01T03:10:37Z", "message": "Merge branch 'master' into kookkeeperconfig"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5ODU1NTIy", "url": "https://github.com/apache/pulsar/pull/7834#pullrequestreview-479855522", "createdAt": "2020-09-01T15:20:50Z", "commit": {"oid": "518f52cca7abce50ef0b1bcd5cf071df98a6489d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 289, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}