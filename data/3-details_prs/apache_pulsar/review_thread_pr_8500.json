{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4MjkzNDA3", "number": 8500, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzo1NDowNVrOE3Gcsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzo1NDowNVrOE3Gcsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MjEyNzg2OnYy", "diffSide": "RIGHT", "path": ".github/workflows/ci-pulsarbot.yaml", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNzo1NDowNVrOHwP_EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwMDo0MjowMlrOHw1LGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM1NTYwMA==", "bodyText": "Just use a github user who has permission to create a branch on the apache/pulsar repo. We can consider creating a bot user to do this.", "url": "https://github.com/apache/pulsar/pull/8500#discussion_r520355600", "createdAt": "2020-11-10T07:54:05Z", "author": {"login": "zymap"}, "path": ".github/workflows/ci-pulsarbot.yaml", "diffHunk": "@@ -41,6 +41,28 @@ jobs:\n \n       - name: Execute pulsarbot command\n         id:   pulsarbot\n+        if: github.event_name == 'issue_comment' && startsWith(github.event.comment.body, '/pulsarbot')\n         env:\n           GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n         uses: apache/pulsar-test-infra/pulsarbot@master\n+\n+      - name: Cherry-pick prompt\n+        if: github.event_name == 'pull_request' && github.event.pull_request.merged == true\n+        uses: apache/pulsar-test-infra/cherry-pick@master\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n+        with:\n+          type: prompt-comment\n+          github_user: codelipenghui", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20e5b4f1d091af0a9f0d6d67f6f90665c67fe56d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM2MTI1MA==", "bodyText": "Ok, we can update it later", "url": "https://github.com/apache/pulsar/pull/8500#discussion_r520361250", "createdAt": "2020-11-10T08:04:59Z", "author": {"login": "codelipenghui"}, "path": ".github/workflows/ci-pulsarbot.yaml", "diffHunk": "@@ -41,6 +41,28 @@ jobs:\n \n       - name: Execute pulsarbot command\n         id:   pulsarbot\n+        if: github.event_name == 'issue_comment' && startsWith(github.event.comment.body, '/pulsarbot')\n         env:\n           GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n         uses: apache/pulsar-test-infra/pulsarbot@master\n+\n+      - name: Cherry-pick prompt\n+        if: github.event_name == 'pull_request' && github.event.pull_request.merged == true\n+        uses: apache/pulsar-test-infra/cherry-pick@master\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n+        with:\n+          type: prompt-comment\n+          github_user: codelipenghui", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM1NTYwMA=="}, "originalCommit": {"oid": "20e5b4f1d091af0a9f0d6d67f6f90665c67fe56d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQzNTM5OQ==", "bodyText": "@zymap Can you leave a comment in the file?", "url": "https://github.com/apache/pulsar/pull/8500#discussion_r520435399", "createdAt": "2020-11-10T10:00:36Z", "author": {"login": "sijie"}, "path": ".github/workflows/ci-pulsarbot.yaml", "diffHunk": "@@ -41,6 +41,28 @@ jobs:\n \n       - name: Execute pulsarbot command\n         id:   pulsarbot\n+        if: github.event_name == 'issue_comment' && startsWith(github.event.comment.body, '/pulsarbot')\n         env:\n           GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n         uses: apache/pulsar-test-infra/pulsarbot@master\n+\n+      - name: Cherry-pick prompt\n+        if: github.event_name == 'pull_request' && github.event.pull_request.merged == true\n+        uses: apache/pulsar-test-infra/cherry-pick@master\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n+        with:\n+          type: prompt-comment\n+          github_user: codelipenghui", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM1NTYwMA=="}, "originalCommit": {"oid": "20e5b4f1d091af0a9f0d6d67f6f90665c67fe56d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDk2NDg5MQ==", "bodyText": "ok.", "url": "https://github.com/apache/pulsar/pull/8500#discussion_r520964891", "createdAt": "2020-11-11T00:42:02Z", "author": {"login": "zymap"}, "path": ".github/workflows/ci-pulsarbot.yaml", "diffHunk": "@@ -41,6 +41,28 @@ jobs:\n \n       - name: Execute pulsarbot command\n         id:   pulsarbot\n+        if: github.event_name == 'issue_comment' && startsWith(github.event.comment.body, '/pulsarbot')\n         env:\n           GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n         uses: apache/pulsar-test-infra/pulsarbot@master\n+\n+      - name: Cherry-pick prompt\n+        if: github.event_name == 'pull_request' && github.event.pull_request.merged == true\n+        uses: apache/pulsar-test-infra/cherry-pick@master\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.PULSARBOT_TOKEN }}\n+        with:\n+          type: prompt-comment\n+          github_user: codelipenghui", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM1NTYwMA=="}, "originalCommit": {"oid": "20e5b4f1d091af0a9f0d6d67f6f90665c67fe56d"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2895, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}