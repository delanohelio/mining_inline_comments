{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDY2NTQ2", "number": 7085, "title": "add feature: enable maxSizePerLedger settings in configuration", "bodyText": "Motivation\nThis pull request implements an entrance to set max size per ledger in configuration file (conf/broker.conf). Currently the default ledger rollover size is hardcode to 2048MB when initializing broker in BrokerService.\nExpected behaviors\nIf the user does not use the setting, the behaviors are the same as before. If the user sets managedLedgerMaxSizePerLedgerMbytes in conf/broker.conf, then the setting value will be used.\nModifications\n\ntwo configuration files (conf/broker.conf and ServiceConfiguration)\none modification in initializing broker (BrokerService)", "createdAt": "2020-05-28T12:53:27Z", "url": "https://github.com/apache/pulsar/pull/7085", "merged": true, "mergeCommit": {"oid": "0f5ffbf5058884de29784b759929e12c1f8cc7a0"}, "closed": true, "closedAt": "2020-05-31T21:41:23Z", "author": {"login": "wuzhanpeng"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcltLh0AH2gAyNDI0NDY2NTQ2OjAwNTM1ODQ3ODg3MDhiNGNkZmJkYmQxNWQ1MmU0ZTgwMmYzZDNiYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmiJmqAFqTQyMTQ1NjI3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0053584788708b4cdfbdbd15d52e4e802f3d3ba2", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/0053584788708b4cdfbdbd15d52e4e802f3d3ba2", "committedDate": "2020-05-28T12:39:36Z", "message": "add feature: enable maxSizePerLedger settings in configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjg2MTgy", "url": "https://github.com/apache/pulsar/pull/7085#pullrequestreview-420286182", "createdAt": "2020-05-28T16:26:23Z", "commit": {"oid": "0053584788708b4cdfbdbd15d52e4e802f3d3ba2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNjoyNjoyNFrOGb9KAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxNjoyNjoyNFrOGb9KAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk2NjcyMg==", "bodyText": "Can you also add this config into conf/standalone.conf?", "url": "https://github.com/apache/pulsar/pull/7085#discussion_r431966722", "createdAt": "2020-05-28T16:26:24Z", "author": {"login": "merlimat"}, "path": "conf/broker.conf", "diffHunk": "@@ -704,6 +704,9 @@ managedLedgerMinLedgerRolloverTimeMinutes=10\n # Maximum time before forcing a ledger rollover for a topic\n managedLedgerMaxLedgerRolloverTimeMinutes=240\n \n+# Maximum ledger size before triggering a rollover for a topic (MB)\n+managedLedgerMaxSizePerLedgerMbytes=2048", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0053584788708b4cdfbdbd15d52e4e802f3d3ba2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0186f3856663773d94b060ccb838439c81a27e74", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/0186f3856663773d94b060ccb838439c81a27e74", "committedDate": "2020-05-29T01:52:20Z", "message": "add feature: enable maxSizePerLedger settings in configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMjEwNzUy", "url": "https://github.com/apache/pulsar/pull/7085#pullrequestreview-421210752", "createdAt": "2020-05-29T19:00:50Z", "commit": {"oid": "0186f3856663773d94b060ccb838439c81a27e74"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNDU2Mjcy", "url": "https://github.com/apache/pulsar/pull/7085#pullrequestreview-421456272", "createdAt": "2020-05-31T02:22:28Z", "commit": {"oid": "0186f3856663773d94b060ccb838439c81a27e74"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2725, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}