{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NzY0OTkw", "number": 8893, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxODoxMjozM1rOFIQCPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxODoxMjozM1rOFIQCPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0MTk1NjQ2OnYy", "diffSide": "RIGHT", "path": "pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authorization/AuthorizationProvider.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxODoxMjozM1rOIKENEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QyMDoxNTo1NFrOIKzgkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQyNTU1NA==", "bodyText": "We need to add a method like https://github.com/apache/pulsar/pull/8893/files#diff-cea47b9766438a068de61669ccde5f4e8435941c8953edf176aa62ffddf80545R248. This is the new method of defining the permissions. Don't use the old pattern.", "url": "https://github.com/apache/pulsar/pull/8893#discussion_r547425554", "createdAt": "2020-12-22T18:12:33Z", "author": {"login": "sijie"}, "path": "pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authorization/AuthorizationProvider.java", "diffHunk": "@@ -162,6 +162,24 @@\n     CompletableFuture<Boolean> allowSinkOpsAsync(NamespaceName namespaceName, String role,\n                                                  AuthenticationDataSource authenticationData);\n \n+    /**\n+     * Check the a role has the permission to do the package operations in a namespace.\n+     *\n+     * @param namespaceName\n+     *              the namespace name you want to check\n+     * @param role\n+     *              the role to check\n+     * @param authenticationData\n+     *              authentication data related to the role\n+     * @return\n+     *              a boolean value to determine whether authorized or not\n+     */\n+    default CompletableFuture<Boolean> canDoPackageOpsAsync(NamespaceName namespaceName, String role,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21737aef58c1e8e3fb5f8bb88e99dfd252a9298f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk2NzEwOQ==", "bodyText": "It seems the link is the diff for this PR...", "url": "https://github.com/apache/pulsar/pull/8893#discussion_r547967109", "createdAt": "2020-12-23T13:48:40Z", "author": {"login": "zymap"}, "path": "pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authorization/AuthorizationProvider.java", "diffHunk": "@@ -162,6 +162,24 @@\n     CompletableFuture<Boolean> allowSinkOpsAsync(NamespaceName namespaceName, String role,\n                                                  AuthenticationDataSource authenticationData);\n \n+    /**\n+     * Check the a role has the permission to do the package operations in a namespace.\n+     *\n+     * @param namespaceName\n+     *              the namespace name you want to check\n+     * @param role\n+     *              the role to check\n+     * @param authenticationData\n+     *              authentication data related to the role\n+     * @return\n+     *              a boolean value to determine whether authorized or not\n+     */\n+    default CompletableFuture<Boolean> canDoPackageOpsAsync(NamespaceName namespaceName, String role,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQyNTU1NA=="}, "originalCommit": {"oid": "21737aef58c1e8e3fb5f8bb88e99dfd252a9298f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIwMDU5Mg==", "bodyText": "pulsar/pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authorization/AuthorizationProvider.java\n    \n    \n         Line 434\n      in\n      7c68ade\n    \n    \n    \n    \n\n        \n          \n           default CompletableFuture<Boolean> allowTopicOperationAsync(TopicName topic, \n        \n    \n  \n\n\nCheck this one.", "url": "https://github.com/apache/pulsar/pull/8893#discussion_r548200592", "createdAt": "2020-12-23T20:15:54Z", "author": {"login": "sijie"}, "path": "pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authorization/AuthorizationProvider.java", "diffHunk": "@@ -162,6 +162,24 @@\n     CompletableFuture<Boolean> allowSinkOpsAsync(NamespaceName namespaceName, String role,\n                                                  AuthenticationDataSource authenticationData);\n \n+    /**\n+     * Check the a role has the permission to do the package operations in a namespace.\n+     *\n+     * @param namespaceName\n+     *              the namespace name you want to check\n+     * @param role\n+     *              the role to check\n+     * @param authenticationData\n+     *              authentication data related to the role\n+     * @return\n+     *              a boolean value to determine whether authorized or not\n+     */\n+    default CompletableFuture<Boolean> canDoPackageOpsAsync(NamespaceName namespaceName, String role,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQyNTU1NA=="}, "originalCommit": {"oid": "21737aef58c1e8e3fb5f8bb88e99dfd252a9298f"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2681, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}