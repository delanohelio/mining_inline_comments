{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2MTQ1MTc3", "number": 8048, "title": "[Issue 7903][proxy]Enable AutoTopicCreationType partitioned through proxy", "bodyText": "(If this PR fixes a github issue, please add Fixes #<xyz>.)\nFixes #7903\n(or if this PR is one task of a github issue, please add Master Issue: #<xyz> to link to the master issue.)\nMaster Issue: #7903\nMotivation\nproxy should always fetch topic metadata from broker\nModifications\n\nProxy handle PartitionMetadataReqeust by selecting and fetching from an available broker instead of using  current ZK  metadata\nFix an issue(incorrect topic to receive message leads consumer blocking) on ProxyTest#testRegexSubscription unit test\n\nVerifying this change\nThis change added tests and can be verified as follows:\n\nrun ProxyTest#testAutoCreateTopic\n\nDoes this pull request potentially affect one of the following parts:\nIf yes was chosen, please highlight the changes\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API: (no)\nThe schema: ( no )\nThe default values of configurations: (no)\nThe wire protocol: (no)\nThe rest endpoints: (no)\nThe admin cli options: (no)\nAnything that affects deployment: (no)", "createdAt": "2020-09-13T07:53:04Z", "url": "https://github.com/apache/pulsar/pull/8048", "merged": true, "mergeCommit": {"oid": "c24df3355f4312b2eb4a62f0f0497367fac1dadc"}, "closed": true, "closedAt": "2021-05-19T15:51:11Z", "author": {"login": "rudy2steiner"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIZTtXgH2gAyNDg2MTQ1MTc3OjE0ODllMjAxODg0YmJmM2UwN2IyNjYyZjM3YWZmZDgzODQzZTI2YTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABeXhhU_gH2gAyNDg2MTQ1MTc3OjdhMDA0MDU3N2ExNjI4MWU1NjBjOGYxMGVlMTk5YWUwMWRlMzBkZWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1489e201884bbf3e07b2662f37affd83843e26a7", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/1489e201884bbf3e07b2662f37affd83843e26a7", "committedDate": "2020-09-13T07:17:47Z", "message": "Enable AutoTopicCreationType partitioned by proxy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9829b3713c3597a5f833edee129db3ed5d0d045", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/c9829b3713c3597a5f833edee129db3ed5d0d045", "committedDate": "2020-09-13T08:01:09Z", "message": "Merge remote-tracking branch 'upstream/master'\n\nmerge:"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODYzNDIz", "url": "https://github.com/apache/pulsar/pull/8048#pullrequestreview-487863423", "createdAt": "2020-09-14T15:02:52Z", "commit": {"oid": "c9829b3713c3597a5f833edee129db3ed5d0d045"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3ODY1MTg2", "url": "https://github.com/apache/pulsar/pull/8048#pullrequestreview-487865186", "createdAt": "2020-09-14T15:04:07Z", "commit": {"oid": "1489e201884bbf3e07b2662f37affd83843e26a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTowNDowN1rOHRZY8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTowNDowN1rOHRZY8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAwMzgyNA==", "bodyText": "@rudy2steiner why this?", "url": "https://github.com/apache/pulsar/pull/8048#discussion_r488003824", "createdAt": "2020-09-14T15:04:07Z", "author": {"login": "KannarFr"}, "path": "pulsar-proxy/src/test/java/org/apache/pulsar/proxy/server/ProxyTest.java", "diffHunk": "@@ -222,7 +244,7 @@ public void testRegexSubscription() throws Exception {\n             final int numMessages = 20;\n \n             try (Producer<byte[]> producer = client.newProducer(Schema.BYTES)\n-                .topic(\"persistent://sample/test/local/topic1\")\n+                .topic(\"persistent://sample/test/local/regex-sub-topic1\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1489e201884bbf3e07b2662f37affd83843e26a7"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3442404637bc4c4e36ce47f96a3de6724bb977e7", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/3442404637bc4c4e36ce47f96a3de6724bb977e7", "committedDate": "2020-09-19T03:53:46Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6818d1933dcc2d7b2a909397befd8c933b1af3e4", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/6818d1933dcc2d7b2a909397befd8c933b1af3e4", "committedDate": "2020-09-30T05:01:21Z", "message": "Merge remote-tracking branch 'upstream/master'\nmerge with upstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea9bd4578a01c2b69b3c91c9f579585eb292ff59", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/ea9bd4578a01c2b69b3c91c9f579585eb292ff59", "committedDate": "2020-12-21T15:02:21Z", "message": "Merge remote-tracking branch 'upstream/master'\nsync with master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5OTk0NDg3", "url": "https://github.com/apache/pulsar/pull/8048#pullrequestreview-559994487", "createdAt": "2020-12-30T10:37:53Z", "commit": {"oid": "ea9bd4578a01c2b69b3c91c9f579585eb292ff59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b03d8cf46c0e374dc264785f4e230761b55a59bc", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/b03d8cf46c0e374dc264785f4e230761b55a59bc", "committedDate": "2021-01-01T04:49:36Z", "message": "sync with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7debd80552b431d23955021905487000bc0f682", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/d7debd80552b431d23955021905487000bc0f682", "committedDate": "2021-02-24T15:00:31Z", "message": "sync with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccad7db2a36ba650eaf40a286893059bc01bf86f", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/ccad7db2a36ba650eaf40a286893059bc01bf86f", "committedDate": "2021-03-16T15:54:30Z", "message": "Merge remote-tracking branch 'upstream/master'\nsync with master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjQzMDQ3NTkz", "url": "https://github.com/apache/pulsar/pull/8048#pullrequestreview-643047593", "createdAt": "2021-04-23T08:21:48Z", "commit": {"oid": "ccad7db2a36ba650eaf40a286893059bc01bf86f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6597109f30c01755bd7bfcead7844e0133ae30b", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/c6597109f30c01755bd7bfcead7844e0133ae30b", "committedDate": "2021-04-27T14:53:01Z", "message": "Merge remote-tracking branch 'upstream/master'\nsync master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a0040577a16281e560c8f10ee199ae01de30dec", "author": {"user": {"login": "rudy2steiner", "name": "Rudy Steiner"}}, "url": "https://github.com/apache/pulsar/commit/7a0040577a16281e560c8f10ee199ae01de30dec", "committedDate": "2021-05-17T03:31:55Z", "message": "Merge remote-tracking branch 'upstream/master'"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 210, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}