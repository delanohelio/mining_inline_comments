{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4NjU3MjIw", "number": 8352, "title": "[Issue #8268][Pulsar Function] k8s runtime with go functions support", "bodyText": "Fixes #8268\nMotivation\ncurrently, go function cannot work with k8s runtime other than java and python, this PR is intended to add go function support with k8s runtime.\nModifications\nremoved UnsupportedOperationException with GO function, fixed go function executable permissions, and fix arguments passed to go function with correct format.\nthis PR is making k8s runtime with go function workable, but may not cover all k8s scenarios, so comments are welcome, also need some help with tests, havnt add any tests yet.\nVerifying this change\n\n Make sure that the change passes the CI checks.\n\nThis change added tests and can be verified as follows:\ntests WIP", "createdAt": "2020-10-23T02:25:44Z", "url": "https://github.com/apache/pulsar/pull/8352", "merged": true, "mergeCommit": {"oid": "bd475c28d34ac9d28530c7b8a8efe66261b03ef6"}, "closed": true, "closedAt": "2020-11-17T03:42:57Z", "author": {"login": "freeznet"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWebwHABqjM5MjM0NjEwMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZZgdCgBqjM5NjAzMzkwOTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "15b122037a087f7415313a7b1225e20c3eb3598f", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/15b122037a087f7415313a7b1225e20c3eb3598f", "committedDate": "2020-10-23T01:39:18Z", "message": "secretsprovider with go function"}, "afterCommit": {"oid": "cad7e660e8c6a8ab2c2a305500adb0202714a67d", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/cad7e660e8c6a8ab2c2a305500adb0202714a67d", "committedDate": "2020-10-27T01:10:42Z", "message": "secretsprovider with go function"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f873c8e3dd13d08eeed57de004420d446ffa1a3a", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/f873c8e3dd13d08eeed57de004420d446ffa1a3a", "committedDate": "2020-10-28T09:31:46Z", "message": "Merge branch 'k8s-runtime-with-go-functions-support' of github.com:freeznet/pulsar into k8s-runtime-with-go-functions-support"}, "afterCommit": {"oid": "e6599bfe5c3e39f3777dd13333d90622aa3db640", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/e6599bfe5c3e39f3777dd13333d90622aa3db640", "committedDate": "2020-10-28T09:31:16Z", "message": "add test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MjY3MjY4", "url": "https://github.com/apache/pulsar/pull/8352#pullrequestreview-519267268", "createdAt": "2020-10-29T01:23:11Z", "commit": {"oid": "e6599bfe5c3e39f3777dd13333d90622aa3db640"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6599bfe5c3e39f3777dd13333d90622aa3db640", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/e6599bfe5c3e39f3777dd13333d90622aa3db640", "committedDate": "2020-10-28T09:31:16Z", "message": "add test"}, "afterCommit": {"oid": "e87e1252952962cefdc32655f716b9f46c3872c9", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/e87e1252952962cefdc32655f716b9f46c3872c9", "committedDate": "2020-10-29T01:27:25Z", "message": "add test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNDM2Mzkw", "url": "https://github.com/apache/pulsar/pull/8352#pullrequestreview-520436390", "createdAt": "2020-10-30T07:49:59Z", "commit": {"oid": "e87e1252952962cefdc32655f716b9f46c3872c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNzo0OTo1OVrOHrESOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNzo0OTo1OVrOHrESOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMTAxNg==", "bodyText": "We need to create an issue and add a comment here to link to the issue. Otherwise, we will eventually forget to add secrets provider.", "url": "https://github.com/apache/pulsar/pull/8352#discussion_r514921016", "createdAt": "2020-10-30T07:49:59Z", "author": {"login": "sijie"}, "path": "pulsar-functions/secrets/src/main/java/org/apache/pulsar/functions/secretsproviderconfigurator/KubernetesSecretsProviderConfigurator.java", "diffHunk": "@@ -52,7 +52,7 @@ public String getSecretsProviderClassName(Function.FunctionDetails functionDetai\n             case PYTHON:\n                 return \"secretsprovider.EnvironmentBasedSecretsProvider\";\n             case GO:\n-                throw new UnsupportedOperationException();\n+                return \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e87e1252952962cefdc32655f716b9f46c3872c9"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e87e1252952962cefdc32655f716b9f46c3872c9", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/e87e1252952962cefdc32655f716b9f46c3872c9", "committedDate": "2020-10-29T01:27:25Z", "message": "add test"}, "afterCommit": {"oid": "34ded0efd306672e956a5cf030346a8e2c2b4e2c", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/34ded0efd306672e956a5cf030346a8e2c2b4e2c", "committedDate": "2020-11-02T08:25:15Z", "message": "issue link"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21cdf0eba5398e835f4f84200d14a4820284ba5f", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/21cdf0eba5398e835f4f84200d14a4820284ba5f", "committedDate": "2020-11-05T03:08:08Z", "message": "add go function support with k8s runtime"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e605f339a0ac059fed75010dc7e2dc8b0a82b96", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/3e605f339a0ac059fed75010dc7e2dc8b0a82b96", "committedDate": "2020-11-05T03:08:08Z", "message": "secretsprovider with go function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aae3650e7110244a6e488982943265c9ccda8e0e", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/aae3650e7110244a6e488982943265c9ccda8e0e", "committedDate": "2020-11-05T03:08:08Z", "message": "fix unit test\n\nfix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2b83010ab3dee9190e81c4d7e004474693aa8b3", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/e2b83010ab3dee9190e81c4d7e004474693aa8b3", "committedDate": "2020-11-05T03:08:08Z", "message": "add test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbbf01ebc51531556b68568419eb0df9cefd8586", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/bbbf01ebc51531556b68568419eb0df9cefd8586", "committedDate": "2020-11-05T03:08:08Z", "message": "issue link"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34ded0efd306672e956a5cf030346a8e2c2b4e2c", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/34ded0efd306672e956a5cf030346a8e2c2b4e2c", "committedDate": "2020-11-02T08:25:15Z", "message": "issue link"}, "afterCommit": {"oid": "bbbf01ebc51531556b68568419eb0df9cefd8586", "author": {"user": {"login": "freeznet", "name": "Rui Fu"}}, "url": "https://github.com/apache/pulsar/commit/bbbf01ebc51531556b68568419eb0df9cefd8586", "committedDate": "2020-11-05T03:08:08Z", "message": "issue link"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1286, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}