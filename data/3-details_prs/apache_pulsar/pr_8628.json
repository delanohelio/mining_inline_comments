{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzOTAzODk1", "number": 8628, "title": "[docs] Add transaction API", "bodyText": "Add transaction API content.", "createdAt": "2020-11-19T12:10:44Z", "url": "https://github.com/apache/pulsar/pull/8628", "merged": true, "mergeCommit": {"oid": "68d7c5f93c9cfd1683789f1534a41c6291f0ef07"}, "closed": true, "closedAt": "2020-11-19T12:37:23Z", "author": {"login": "Jennifer88huang"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeBpSfAH2gAyNTIzOTAzODk1OjQ1Y2M0MTI3ODFmMWNlM2UwYTVkYjU5NWIyOGJhMjFmNDU3N2NiYTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdesGthgFqTUzNTk2Njk4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45cc412781f1ce3e0a5db595b28ba21f4577cba6", "author": {"user": {"login": "Jennifer88huang", "name": "Jennifer Huang"}}, "url": "https://github.com/apache/pulsar/commit/45cc412781f1ce3e0a5db595b28ba21f4577cba6", "committedDate": "2020-11-19T12:09:58Z", "message": "add transaction APIz'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0Mzk1OTcw", "url": "https://github.com/apache/pulsar/pull/8628#pullrequestreview-534395970", "createdAt": "2020-11-19T12:37:01Z", "commit": {"oid": "45cc412781f1ce3e0a5db595b28ba21f4577cba6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1OTY2OTg5", "url": "https://github.com/apache/pulsar/pull/8628#pullrequestreview-535966989", "createdAt": "2020-11-21T13:38:06Z", "commit": {"oid": "45cc412781f1ce3e0a5db595b28ba21f4577cba6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxMzozODowN1rOH3unMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMVQxMzozODowN1rOH3unMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODE5NzQyNQ==", "bodyText": "@codelipenghui @sijie @jiazhai @rdhabalia\nis this a typo ?\nI suggest to change this to \"enableTransactions\", I feel it sounds better in English language", "url": "https://github.com/apache/pulsar/pull/8628#discussion_r528197425", "createdAt": "2020-11-21T13:38:07Z", "author": {"login": "eolivelli"}, "path": "site2/docs/transaction-api.md", "diffHunk": "@@ -0,0 +1,149 @@\n+---\n+id: transaction-api\n+title: Transaction API(Developer Preview)\n+sidebar_label: Transaction API\n+---\n+\n+All messages in a transaction is available only to consumers after the transaction is committed. If a transaction is aborted, all the writes and acknowledgments in this transaction rollback. \n+\n+Currently, Pulsar transaction is a developer preview feature. It is disabled by default. You can enable the feature and use transactions in your application in development environment.\n+\n+## Prerequisites\n+1. To enable transactions in Pulsar, you need to configure the parameter in the `broker.conf` file.\n+\n+```\n+transactionCoordinatorEnabled=true\n+```\n+\n+2. Initialize transaction coordinator metadata, so the transaction coordinators can leverage advantages of the partitioned topic, such as load balance.\n+\n+```\n+bin/pulsar initialize-transaction-coordinator-metadata -cs 127.0.0.1:2181 -c standalone\n+```\n+\n+After initializing transaction coordinator metadata, you can use the transactions API. The following APIs are available.\n+\n+## Initialize Pulsar client \n+\n+You can enable transaction for transaction client and initialize transaction coordinator client.\n+\n+```\n+PulsarClient pulsarClient = PulsarClient.builder()\n+        .serviceUrl(\"pulsar://localhost:6650\")\n+        .enableTransaction(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45cc412781f1ce3e0a5db595b28ba21f4577cba6"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1103, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}