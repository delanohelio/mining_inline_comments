{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NjM3MzUy", "number": 8535, "title": "[pulsar-perf] Support WebSocket Producer for V2 Topics", "bodyText": "Motivation\n\nNot support v2 topics.\nNot working because / is missing between \"ws/producer\" and topicName\n\n  \n    \n      pulsar/pulsar-testclient/src/main/java/org/apache/pulsar/proxy/socket/client/PerformanceClient.java\n    \n    \n         Line 169\n      in\n      1c7b12d\n    \n    \n    \n    \n\n        \n          \n           String produceBaseEndPoint = baseUrl + \"ws/producer\" + topicName; \n        \n    \n  \n\n\n\nModifications\n\nFix that if use V2 topics, use \"ws/v2/producer/\".", "createdAt": "2020-11-12T05:47:36Z", "url": "https://github.com/apache/pulsar/pull/8535", "merged": true, "mergeCommit": {"oid": "67f544cdaa34390016c52534886573e8ffad0177"}, "closed": true, "closedAt": "2020-11-13T08:11:26Z", "author": {"login": "k2la"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbvXbTgFqTUyODkxMTgxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcCohRgFqTUyOTg1MjM5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTExODEx", "url": "https://github.com/apache/pulsar/pull/8535#pullrequestreview-528911811", "createdAt": "2020-11-12T09:44:18Z", "commit": {"oid": "a71f8633bed57ea8d00a866f7e69d89f30b6a31e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTo0NDoxOVrOHxyjYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQwOTo0NDoxOVrOHxyjYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk3MDUyOQ==", "bodyText": "I think there has a method getRestPath in the TopicName do the same thing with you.", "url": "https://github.com/apache/pulsar/pull/8535#discussion_r521970529", "createdAt": "2020-11-12T09:44:19Z", "author": {"login": "zymap"}, "path": "pulsar-testclient/src/main/java/org/apache/pulsar/proxy/socket/client/PerformanceClient.java", "diffHunk": "@@ -166,7 +168,9 @@ public void runPerformanceTest(long messages, long limit, int numOfTopic, int si\n             String topicName, String authPluginClassName, String authParams) throws InterruptedException, FileNotFoundException {\n         ExecutorService executor = Executors.newCachedThreadPool(new DefaultThreadFactory(\"pulsar-perf-producer-exec\"));\n         HashMap<String, Tuple> producersMap = new HashMap<>();\n-        String produceBaseEndPoint = baseUrl + \"ws/producer\" + topicName;\n+        String replacedTopicName = topicName.replace(\"://\", \"/\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a71f8633bed57ea8d00a866f7e69d89f30b6a31e"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88d7fa2d3e94b2da8cccb83eacf2e7756c2e96e6", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/88d7fa2d3e94b2da8cccb83eacf2e7756c2e96e6", "committedDate": "2020-11-12T10:43:34Z", "message": "support websocket producer for v2 topic"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a71f8633bed57ea8d00a866f7e69d89f30b6a31e", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/a71f8633bed57ea8d00a866f7e69d89f30b6a31e", "committedDate": "2020-11-12T05:34:57Z", "message": "support websocket producer for v2 topic"}, "afterCommit": {"oid": "88d7fa2d3e94b2da8cccb83eacf2e7756c2e96e6", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/88d7fa2d3e94b2da8cccb83eacf2e7756c2e96e6", "committedDate": "2020-11-12T10:43:34Z", "message": "support websocket producer for v2 topic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NjEyNzAx", "url": "https://github.com/apache/pulsar/pull/8535#pullrequestreview-529612701", "createdAt": "2020-11-13T00:32:30Z", "commit": {"oid": "88d7fa2d3e94b2da8cccb83eacf2e7756c2e96e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c287f992234d1c7032f58bc5a166c14e513660b", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/8c287f992234d1c7032f58bc5a166c14e513660b", "committedDate": "2020-11-13T00:36:42Z", "message": "Merge remote-tracking branch 'upstream/master' into support_websocket_producer_for_v2_topic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODUyMzk3", "url": "https://github.com/apache/pulsar/pull/8535#pullrequestreview-529852397", "createdAt": "2020-11-13T08:11:11Z", "commit": {"oid": "8c287f992234d1c7032f58bc5a166c14e513660b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1047, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}