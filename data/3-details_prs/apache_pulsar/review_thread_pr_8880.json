{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjM3NzA3", "number": 8880, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjo1MjoxNVrOFDB1zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjo1Mjo1NVrOFDB2_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NzIwMjA0OnYy", "diffSide": "RIGHT", "path": "managed-ledger/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjo1MjoxNVrOICe6DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzowODowNlrOICfrlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ3NDQ0NQ==", "bodyText": "This depedency could be possibly removed alltogether, no?", "url": "https://github.com/apache/pulsar/pull/8880#discussion_r539474445", "createdAt": "2020-12-09T16:52:15Z", "author": {"login": "merlimat"}, "path": "managed-ledger/pom.xml", "diffHunk": "@@ -97,8 +97,8 @@\n     </dependency>\n \n     <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df88026f79aa17608f306987f22578c5bb644eb5"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ4NzEyNQ==", "bodyText": "I'll check that after investigating why the legacy log4j dependency was there previously.", "url": "https://github.com/apache/pulsar/pull/8880#discussion_r539487125", "createdAt": "2020-12-09T17:08:06Z", "author": {"login": "lhotari"}, "path": "managed-ledger/pom.xml", "diffHunk": "@@ -97,8 +97,8 @@\n     </dependency>\n \n     <dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ3NDQ0NQ=="}, "originalCommit": {"oid": "df88026f79aa17608f306987f22578c5bb644eb5"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NzIwNTA5OnYy", "diffSide": "RIGHT", "path": "distribution/server/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjo1Mjo1NVrOICe7_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzowOTowN1rOICfuWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ3NDk0Mg==", "bodyText": "For this we need the read depedency, since this determines what goes inside the distribution tar", "url": "https://github.com/apache/pulsar/pull/8880#discussion_r539474942", "createdAt": "2020-12-09T16:52:55Z", "author": {"login": "merlimat"}, "path": "distribution/server/pom.xml", "diffHunk": "@@ -95,8 +95,8 @@\n     </dependency>\n \n     <dependency>\n-      <artifactId>log4j</artifactId>\n-      <groupId>log4j</groupId>\n+      <groupId>org.apache.logging.log4j</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df88026f79aa17608f306987f22578c5bb644eb5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ4NjIxOQ==", "bodyText": "Thanks for the review.\nI'm just trying to understand that how the legacy log4j dependency is used. The log4j-1.2-api as part of Log4j2 provides the legacy log4j API but routes the log events to log4j2. I'd assume that this would be the correct approach if legacy log4j and log4j2 co-exist.\nHowever is legacy log4j even needed? I see that legacy log4j is excluded from many dependencies. mvn dependency:tree didn't give a direct answer, but I can try to investigate by temporarily removing the exclusions locally.", "url": "https://github.com/apache/pulsar/pull/8880#discussion_r539486219", "createdAt": "2020-12-09T17:06:55Z", "author": {"login": "lhotari"}, "path": "distribution/server/pom.xml", "diffHunk": "@@ -95,8 +95,8 @@\n     </dependency>\n \n     <dependency>\n-      <artifactId>log4j</artifactId>\n-      <groupId>log4j</groupId>\n+      <groupId>org.apache.logging.log4j</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ3NDk0Mg=="}, "originalCommit": {"oid": "df88026f79aa17608f306987f22578c5bb644eb5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ4NzgzMg==", "bodyText": "Oh, I got confused with log4j2. I think here we're adding this dependency because of ZK. Your change is probably the correct one then.", "url": "https://github.com/apache/pulsar/pull/8880#discussion_r539487832", "createdAt": "2020-12-09T17:09:07Z", "author": {"login": "merlimat"}, "path": "distribution/server/pom.xml", "diffHunk": "@@ -95,8 +95,8 @@\n     </dependency>\n \n     <dependency>\n-      <artifactId>log4j</artifactId>\n-      <groupId>log4j</groupId>\n+      <groupId>org.apache.logging.log4j</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ3NDk0Mg=="}, "originalCommit": {"oid": "df88026f79aa17608f306987f22578c5bb644eb5"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2669, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}