{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5NzA1OTg1", "number": 7705, "title": "[pulsar-client] Remove UUID generation on sending message", "bodyText": "Motivation\nPulsar client producer requires uuid while sending chunked messages.  right now, Pulsar-client lib generates UUID for every send message which is expensive and impacts publish performance. Therefore, UUID generation shouldn't be expensive and producer should not generate uuid for non-chunked messages.\nModification\n\nAvoid uuid generation for non-chunk messages\nGenerate uuid for message using global-producer name and message-sequenceId.\n\nNote\nThis fix should be cherry-picked to 2.6.1 release as well.", "createdAt": "2020-07-31T01:22:51Z", "url": "https://github.com/apache/pulsar/pull/7705", "merged": true, "mergeCommit": {"oid": "094d90ee22b92bd4da0f4af30b28d798f6770fee"}, "closed": true, "closedAt": "2020-08-02T19:48:51Z", "author": {"login": "rdhabalia"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6JvHhAH2gAyNDU5NzA1OTg1OjdlNDk5NTRiN2Y4MjU4ZWRkNjhhZWZlZGI1MWEyZmRlZWNmMGViZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7CHOdgFqTQ1OTY3MDcyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e49954b7f8258edd68aefedb51a2fdeecf0ebeb", "author": {"user": {"login": "rdhabalia", "name": "Rajan Dhabalia"}}, "url": "https://github.com/apache/pulsar/commit/7e49954b7f8258edd68aefedb51a2fdeecf0ebeb", "committedDate": "2020-07-31T01:14:18Z", "message": "[pulsar-client] Remove UUID generation on sending message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTI2OTk0", "url": "https://github.com/apache/pulsar/pull/7705#pullrequestreview-459526994", "createdAt": "2020-07-31T23:51:33Z", "commit": {"oid": "7e49954b7f8258edd68aefedb51a2fdeecf0ebeb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMzo1MTozM1rOG6ZmVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMzo1MTozM1rOG6ZmVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg5MDAwNg==", "bodyText": "This will always be the same as producerName. If the client overrides it, the server will use that name, but if a producer with same name is already connected, it will instead error it out", "url": "https://github.com/apache/pulsar/pull/7705#discussion_r463890006", "createdAt": "2020-07-31T23:51:33Z", "author": {"login": "merlimat"}, "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/ProducerImpl.java", "diffHunk": "@@ -103,7 +102,15 @@\n     private final BatchMessageContainerBase batchMessageContainer;\n     private CompletableFuture<MessageId> lastSendFuture = CompletableFuture.completedFuture(null);\n \n-    // Globally unique producer name\n+    /**\n+     * Globally unique producer name generated by server. It should be the same as {@link #producerName} unless user\n+     * configures {@link ProducerConfigurationData::setProducerName}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e49954b7f8258edd68aefedb51a2fdeecf0ebeb"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e3e481213946436df5ed9c60d6c2e701fb731be", "author": {"user": {"login": "rdhabalia", "name": "Rajan Dhabalia"}}, "url": "https://github.com/apache/pulsar/commit/7e3e481213946436df5ed9c60d6c2e701fb731be", "committedDate": "2020-08-01T01:12:52Z", "message": "fix prod name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjcwNzI1", "url": "https://github.com/apache/pulsar/pull/7705#pullrequestreview-459670725", "createdAt": "2020-08-02T18:55:19Z", "commit": {"oid": "7e3e481213946436df5ed9c60d6c2e701fb731be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 433, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}