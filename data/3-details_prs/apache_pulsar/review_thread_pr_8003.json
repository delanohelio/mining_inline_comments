{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxNzYzNTkz", "number": 8003, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToyMDo1OVrOEhoEjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToyMjowMFrOEhoFsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNjk0OTg5OnYy", "diffSide": "RIGHT", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherMultipleConsumers.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToyMDo1OVrOHPCpYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToyMDo1OVrOHPCpYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDA0OA==", "bodyText": "Looks dup withNonPersistentDispatcherSingleActiveConsumer.java.", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r485534048", "createdAt": "2020-09-09T11:20:59Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherMultipleConsumers.java", "diffHunk": "@@ -795,5 +808,35 @@ public PersistentTopic getTopic() {\n         return topic;\n     }\n \n+    /**\n+     * Get {@link TopicPolicies} for this topic.\n+     * @param topicName\n+     * @return TopicPolicies is exist else return null.\n+     */\n+    private TopicPolicies getTopicPolicies(TopicName topicName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNjk1MjgzOnYy", "diffSide": "RIGHT", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherSingleActiveConsumer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMToyMjowMVrOHPCrKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMToyMDo0N1rOHPu6iA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDUwNA==", "bodyText": "Same as the above comment, I think we can move this method to the BrokerService?", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r485534504", "createdAt": "2020-09-09T11:22:01Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherSingleActiveConsumer.java", "diffHunk": "@@ -537,5 +551,35 @@ public void initializeDispatchRateLimiterIfNeeded(Optional<Policies> policies) {\n         return disconnectAllConsumers();\n     }\n \n+    /**\n+     * Get {@link TopicPolicies} for this topic.\n+     * @param topicName\n+     * @return TopicPolicies is exist else return null.\n+     */\n+    private TopicPolicies getTopicPolicies(TopicName topicName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI1OTMzNg==", "bodyText": "Thanks for your reply. I have move the getTopicPolicies method to BrokerService, Please take a look again.", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r486259336", "createdAt": "2020-09-10T11:20:47Z", "author": {"login": "hangc0276"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherSingleActiveConsumer.java", "diffHunk": "@@ -537,5 +551,35 @@ public void initializeDispatchRateLimiterIfNeeded(Optional<Policies> policies) {\n         return disconnectAllConsumers();\n     }\n \n+    /**\n+     * Get {@link TopicPolicies} for this topic.\n+     * @param topicName\n+     * @return TopicPolicies is exist else return null.\n+     */\n+    private TopicPolicies getTopicPolicies(TopicName topicName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDUwNA=="}, "originalCommit": {"oid": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2168, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}