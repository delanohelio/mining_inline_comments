{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MTgwNjEw", "number": 6129, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyNzozN1rODaHvRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyOTo1OFrODaHybw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NzE2MzU5OnYy", "diffSide": "LEFT", "path": "pulsar-client-cpp/perf/RateLimiter.h", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyNzozN1rOFg5XiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjo0OToyOFrOFhFV6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzODY2NA==", "bodyText": "These last two changes look completely unrelated. Add something to the commit message to at least explain them.", "url": "https://github.com/apache/pulsar/pull/6129#discussion_r370038664", "createdAt": "2020-01-23T10:27:37Z", "author": {"login": "ivankelly"}, "path": "pulsar-client-cpp/perf/RateLimiter.h", "diffHunk": "@@ -50,7 +50,7 @@ RateLimiter::RateLimiter(double rate)\n         : interval_(std::chrono::microseconds((long)(1e6 / rate))),\n           storedPermits_(0.0),\n           maxPermits_(rate),\n-          nextFree_() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b85b2cc52d15f3c9f9e0d2323fed2afc357380c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIzNDg1Nw==", "bodyText": "These are to correct some initialization differences with the compiler/arch combinations. Without these, the simple perf producer was not working on arm with GCC 6.3.\nIt's mentioned (although briefly) in the description:\n\nFixed some variables initialization", "url": "https://github.com/apache/pulsar/pull/6129#discussion_r370234857", "createdAt": "2020-01-23T16:49:28Z", "author": {"login": "merlimat"}, "path": "pulsar-client-cpp/perf/RateLimiter.h", "diffHunk": "@@ -50,7 +50,7 @@ RateLimiter::RateLimiter(double rate)\n         : interval_(std::chrono::microseconds((long)(1e6 / rate))),\n           storedPermits_(0.0),\n           maxPermits_(rate),\n-          nextFree_() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzODY2NA=="}, "originalCommit": {"oid": "3b85b2cc52d15f3c9f9e0d2323fed2afc357380c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4NzE3MTY3OnYy", "diffSide": "RIGHT", "path": "pulsar-client-cpp/lib/checksum/crc32c_sse42.cc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxMDoyOTo1OFrOFg5cJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjo0Njo1MlrOFhFP7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzOTg0Nw==", "bodyText": "Does this mean that arm clients can't use crc32c at all?", "url": "https://github.com/apache/pulsar/pull/6129#discussion_r370039847", "createdAt": "2020-01-23T10:29:58Z", "author": {"login": "ivankelly"}, "path": "pulsar-client-cpp/lib/checksum/crc32c_sse42.cc", "diffHunk": "@@ -228,3 +239,12 @@ uint32_t crc32c(uint32_t init, const void *buf, size_t len, const chunk_config *\n     DEBUG_PRINTF1(\"crc = 0x%08x\\n\", crc);\n     return crc;\n }\n+\n+#else // ! BOOST_ARCH_X86_64", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b85b2cc52d15f3c9f9e0d2323fed2afc357380c"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIzMzMyNQ==", "bodyText": "This is only for the SSE 4.2 based implementation, otherwise we fallback to the pure C implementation.", "url": "https://github.com/apache/pulsar/pull/6129#discussion_r370233325", "createdAt": "2020-01-23T16:46:52Z", "author": {"login": "merlimat"}, "path": "pulsar-client-cpp/lib/checksum/crc32c_sse42.cc", "diffHunk": "@@ -228,3 +239,12 @@ uint32_t crc32c(uint32_t init, const void *buf, size_t len, const chunk_config *\n     DEBUG_PRINTF1(\"crc = 0x%08x\\n\", crc);\n     return crc;\n }\n+\n+#else // ! BOOST_ARCH_X86_64", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDAzOTg0Nw=="}, "originalCommit": {"oid": "3b85b2cc52d15f3c9f9e0d2323fed2afc357380c"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2002, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}