{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTU3NDcx", "number": 6247, "title": "Make tests more stable by using JSONAssert equals", "bodyText": "avroSchema.getSchemaInfo().getSchema()  in src/test/java/org/apache/pulsar/client/impl/schema/AvroSchemaTest.java returns a JSON object. schemaJson compares with hard-coded JSON String. However, the order of entries in schemaJson is not guaranteed so the json results can contain entries in any order.\nThis PR proposes to use JSONAssert and modify the corresponding json test assertions so that the test is more stable.\nMotivation\nUsing JSONAssert and modifying the corresponding json test assertions so that the test is more stable.\nModifications\nAdding assertJSONEquals method and replacing assertEquals with it in tests testNotAllowNullSchema and testAllowNullSchema.\nVerifying this change\n\n Make sure that the change passes the CI checks.\n\n(Please pick either of the following options)\nThis change is already covered by existing tests, such as (please describe tests).\nDoes this pull request potentially affect one of the following parts:\nIf yes was chosen, please highlight the changes\n\nDependencies (does it add or upgrade a dependency): (yes)\nThe public API: (no)\nThe schema: (don't know)\nThe default values of configurations: ( no)\nThe wire protocol: (no)\nThe rest endpoints: ( no)\nThe admin cli options: (no)\nAnything that affects deployment: (no)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)\nIf a feature is not applicable for documentation, explain why?\nIf a feature is not documented yet in this PR, please create a followup issue for adding the documentation", "createdAt": "2020-02-06T15:21:38Z", "url": "https://github.com/apache/pulsar/pull/6247", "merged": true, "mergeCommit": {"oid": "7dd52b8ae6ed5f7b392d6a921502c4c34509e52d"}, "closed": true, "closedAt": "2020-02-13T23:14:36Z", "author": {"login": "testfixer"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBuDD7gFqTM1NDYyOTIwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEB_ZkAFqTM1ODU3MTI3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjI5MjA2", "url": "https://github.com/apache/pulsar/pull/6247#pullrequestreview-354629206", "createdAt": "2020-02-06T17:18:18Z", "commit": {"oid": "c0d775332e18c6cf1ee5ba79e3b25f9e5d7a215c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzoxODoxOFrOFmjcxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzoxODoxOFrOFmjcxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk3MTAxNQ==", "bodyText": "Versions of dependencies should be defined in the top level pom", "url": "https://github.com/apache/pulsar/pull/6247#discussion_r375971015", "createdAt": "2020-02-06T17:18:18Z", "author": {"login": "merlimat"}, "path": "pulsar-client/pom.xml", "diffHunk": "@@ -151,6 +151,13 @@\n       <version>${project.parent.version}</version>\n       <scope>test</scope>\n     </dependency>\n+\n+    <dependency>\n+      <groupId>org.skyscreamer</groupId>\n+      <artifactId>jsonassert</artifactId>\n+      <version>1.5.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0d775332e18c6cf1ee5ba79e3b25f9e5d7a215c"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "931ac2da3c6539e091d504736494b99215c90563", "author": {"user": {"login": "testfixer", "name": null}}, "url": "https://github.com/apache/pulsar/commit/931ac2da3c6539e091d504736494b99215c90563", "committedDate": "2020-02-11T01:13:33Z", "message": "Make tests more stable by using JSONAssert equals"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NTIwMTAz", "url": "https://github.com/apache/pulsar/pull/6247#pullrequestreview-357520103", "createdAt": "2020-02-12T14:58:19Z", "commit": {"oid": "931ac2da3c6539e091d504736494b99215c90563"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTcxMjc0", "url": "https://github.com/apache/pulsar/pull/6247#pullrequestreview-358571274", "createdAt": "2020-02-13T21:40:56Z", "commit": {"oid": "931ac2da3c6539e091d504736494b99215c90563"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1399, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}