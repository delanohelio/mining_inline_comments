{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NDg5NzMz", "number": 7782, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOFQxNjozNTozN1rOEWfs5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxNDo0MToyNFrOEWlVjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyMDIzNTI2OnYy", "diffSide": "RIGHT", "path": "conf/broker.conf", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOFQxNjozNTozN1rOG900xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxNTozMzo0MFrOG974jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ4MTc5Ng==", "bodyText": "I would be better to default to something like Runtime.getRuntime().availableProcessors()", "url": "https://github.com/apache/pulsar/pull/7782#discussion_r467481796", "createdAt": "2020-08-08T16:35:37Z", "author": {"login": "merlimat"}, "path": "conf/broker.conf", "diffHunk": "@@ -61,6 +61,12 @@ numIOThreads=\n # Number of threads to use for HTTP requests processing. Default is set to 2 * Runtime.getRuntime().availableProcessors()\n numHttpServerThreads=\n \n+# Number of thread pool size to use for pulsar broker service.\n+# The executor in thread pool will do basic broker operation like load/unload bundle, update managedLedgerConfig,\n+# update topic/subscription/replicator message dispatch rate, do leader election etc.\n+# Default is 20\n+numExecutorThreadPoolSize=", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6d10f99065559c88de3cea59985b81aad91799c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzU5NzQ1NA==", "bodyText": "ok, it's better to change it to Runtime.getRuntime().availableProcessors(). it will update the pr.", "url": "https://github.com/apache/pulsar/pull/7782#discussion_r467597454", "createdAt": "2020-08-09T15:33:40Z", "author": {"login": "hangc0276"}, "path": "conf/broker.conf", "diffHunk": "@@ -61,6 +61,12 @@ numIOThreads=\n # Number of threads to use for HTTP requests processing. Default is set to 2 * Runtime.getRuntime().availableProcessors()\n numHttpServerThreads=\n \n+# Number of thread pool size to use for pulsar broker service.\n+# The executor in thread pool will do basic broker operation like load/unload bundle, update managedLedgerConfig,\n+# update topic/subscription/replicator message dispatch rate, do leader election etc.\n+# Default is 20\n+numExecutorThreadPoolSize=", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ4MTc5Ng=="}, "originalCommit": {"oid": "a6d10f99065559c88de3cea59985b81aad91799c"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyMTE1ODUyOnYy", "diffSide": "LEFT", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/PulsarService.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxNDo0MToyNFrOG97ilQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxNTozMjo1NVrOG974Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzU5MTgyOQ==", "bodyText": "@hangc0276  would you please help changed this value as Matteo suggested? Runtime.getRuntime().availableProcessors()", "url": "https://github.com/apache/pulsar/pull/7782#discussion_r467591829", "createdAt": "2020-08-09T14:41:24Z", "author": {"login": "jiazhai"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/PulsarService.java", "diffHunk": "@@ -170,8 +170,8 @@\n     private LocalZooKeeperConnectionService localZooKeeperConnectionProvider;\n     private Compactor compactor;\n \n-    private final ScheduledExecutorService executor = Executors.newScheduledThreadPool(20,\n-            new DefaultThreadFactory(\"pulsar\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6d10f99065559c88de3cea59985b81aad91799c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzU5NzM4Mg==", "bodyText": "Thanks for your review, i will update the pr.", "url": "https://github.com/apache/pulsar/pull/7782#discussion_r467597382", "createdAt": "2020-08-09T15:32:55Z", "author": {"login": "hangc0276"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/PulsarService.java", "diffHunk": "@@ -170,8 +170,8 @@\n     private LocalZooKeeperConnectionService localZooKeeperConnectionProvider;\n     private Compactor compactor;\n \n-    private final ScheduledExecutorService executor = Executors.newScheduledThreadPool(20,\n-            new DefaultThreadFactory(\"pulsar\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzU5MTgyOQ=="}, "originalCommit": {"oid": "a6d10f99065559c88de3cea59985b81aad91799c"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2230, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}