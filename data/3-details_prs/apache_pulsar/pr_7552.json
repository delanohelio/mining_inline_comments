{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5ODU4NzEx", "number": 7552, "title": "[Transaction] Produce transaction messages and commit", "bodyText": "Master Issue: #2664\nMotivation\nCurrently, the transaction components are all independent, the relationship between transaction client and transaction server needs to be established.\nThe target of this PR is making the Pulsar client could send transaction messages to the Pulsar broker and execute commit command.\nModifications\n\nPulsar client generates a new transaction and gets the txnID.\nPulsar client sends transaction messages to TransactionBuffer.\nThe Transaction sends a commit command to TransactionBuffer.\nAppend a committing marker in related TransactionBuffers.\nAppend a committed marker in related topic partitions.\nAppend a committed marker int related TransactionBuffers.\n\nVerifying this change\n\n Make sure that the change passes the CI checks.\n\nThis change added tests\n\norg.apache.pulsar.broker.transaction.PulsarClientTransactionTest.produceCommitTest\n\nDoes this pull request potentially affect one of the following parts:\nIf yes was chosen, please highlight the changes\n\nDependencies (does it add or upgrade a dependency): (no)\nThe public API: (yes)\nThe schema: (no)\nThe default values of configurations: (no)\nThe wire protocol: (yes)\nThe rest endpoints: (no)\nThe admin cli options: (no)\nAnything that affects deployment: (don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes)", "createdAt": "2020-07-16T02:52:26Z", "url": "https://github.com/apache/pulsar/pull/7552", "merged": true, "mergeCommit": {"oid": "ba5c5c72aad9bb3020ceaec6465077b5be3cd7a6"}, "closed": true, "closedAt": "2020-08-10T10:37:28Z", "author": {"login": "gaoran10"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1rwVlgBqjM1NTYxOTQ1NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8frZoABqjM2MzIxNzYxNDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c564a02208f4c5e9aba3421e58296078a7f4007", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/3c564a02208f4c5e9aba3421e58296078a7f4007", "committedDate": "2020-07-17T03:34:16Z", "message": "handle transactionSendFuture"}, "afterCommit": {"oid": "23a279bfad160b0d300aff46cc995e71b1d791c2", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/23a279bfad160b0d300aff46cc995e71b1d791c2", "committedDate": "2020-07-17T04:02:16Z", "message": "handle transactionSendFuture"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "656c9af9201b8b157126197ec6b1f35f9eb16738", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/656c9af9201b8b157126197ec6b1f35f9eb16738", "committedDate": "2020-07-20T17:56:59Z", "message": "sync pom files with master"}, "afterCommit": {"oid": "cc99b42bb503a96ff268c5a911f33028bdb564e6", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/cc99b42bb503a96ff268c5a911f33028bdb564e6", "committedDate": "2020-07-21T02:43:07Z", "message": "sync pom files with master"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e0b3e357e24117c48e1811824e602be5187edccf", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/e0b3e357e24117c48e1811824e602be5187edccf", "committedDate": "2020-07-22T07:05:56Z", "message": "fix test"}, "afterCommit": {"oid": "13ffd285a9e62485879b1ce819d2e4638b4179c9", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/13ffd285a9e62485879b1ce819d2e4638b4179c9", "committedDate": "2020-07-23T15:42:49Z", "message": "fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "32081ba90de3c1aae936342199d2303e240b554b", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/32081ba90de3c1aae936342199d2303e240b554b", "committedDate": "2020-07-24T07:24:38Z", "message": "test"}, "afterCommit": {"oid": "8fbcf1248f7b11219511ec38d8233bf52cea2320", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/8fbcf1248f7b11219511ec38d8233bf52cea2320", "committedDate": "2020-07-27T02:41:53Z", "message": "test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fbcf1248f7b11219511ec38d8233bf52cea2320", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/8fbcf1248f7b11219511ec38d8233bf52cea2320", "committedDate": "2020-07-27T02:41:53Z", "message": "test"}, "afterCommit": {"oid": "ce460c90dddd9da8b4aa44ea03a700de0e27fa82", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/ce460c90dddd9da8b4aa44ea03a700de0e27fa82", "committedDate": "2020-07-27T14:47:10Z", "message": "test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjcxNjkx", "url": "https://github.com/apache/pulsar/pull/7552#pullrequestreview-451271691", "createdAt": "2020-07-20T03:12:46Z", "commit": {"oid": "cd4bdb16433a3c4a44da08387b773cb867a99e3e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzoxMjo0NlrOGz1lxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNDowMToxMVrOG4OCFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAwODU4MA==", "bodyText": "It's better to config in the broker.conf.", "url": "https://github.com/apache/pulsar/pull/7552#discussion_r457008580", "createdAt": "2020-07-20T03:12:46Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/PulsarService.java", "diffHunk": "@@ -549,6 +552,9 @@ public Boolean get() {\n                 transactionMetadataStoreService = new TransactionMetadataStoreService(TransactionMetadataStoreProvider\n                         .newProvider(config.getTransactionMetadataStoreProviderClassName()), this);\n                 transactionMetadataStoreService.start();\n+\n+                transactionBufferProvider = TransactionBufferProvider.newProvider(\n+                        PersistentTransactionBufferProvider.class.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd4bdb16433a3c4a44da08387b773cb867a99e3e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYwMzM0OQ==", "bodyText": "It's better to handle the transaction message in the topic, not the server cnx.", "url": "https://github.com/apache/pulsar/pull/7552#discussion_r461603349", "createdAt": "2020-07-28T14:01:11Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/ServerCnx.java", "diffHunk": "@@ -1212,6 +1221,33 @@ protected void handleSend(CommandSend send, ByteBuf headersAndPayload) {\n \n         startSendOperation(producer, headersAndPayload.readableBytes(), send.getNumMessages());\n \n+        final long produceId = producer.getProducerId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce460c90dddd9da8b4aa44ea03a700de0e27fa82"}, "originalPosition": 96}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NTIyNDc4", "url": "https://github.com/apache/pulsar/pull/7552#pullrequestreview-457522478", "createdAt": "2020-07-29T13:30:53Z", "commit": {"oid": "00ea5fbc17e40a98f459d820998c608b3540c895"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzozMDo1M1rOG44hlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzozMDo1M1rOG44hlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjI5OTU0Mg==", "bodyText": "We should handle it in the TC and TC should retry to make sure the TB can handle success.", "url": "https://github.com/apache/pulsar/pull/7552#discussion_r462299542", "createdAt": "2020-07-29T13:30:53Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/ServerCnx.java", "diffHunk": "@@ -1674,40 +1687,134 @@ protected void handleAddPartitionToTxn(PulsarApi.CommandAddPartitionToTxn comman\n \n     @Override\n     protected void handleEndTxn(PulsarApi.CommandEndTxn command) {\n-        TxnStatus newStatus = null;\n+        TxnID txnID = new TxnID(command.getTxnidMostBits(), command.getTxnidLeastBits());\n+        final TxnStatus newStatus;\n         switch (command.getTxnAction()) {\n             case COMMIT:\n                 newStatus = TxnStatus.COMMITTING;\n                 break;\n             case ABORT:\n                 newStatus = TxnStatus.ABORTING;\n                 break;\n+            default:\n+                UnsupportedTxnActionException exception =\n+                        new UnsupportedTxnActionException(txnID, command.getTxnAction());\n+                log.error(exception.getMessage());\n+                ctx.writeAndFlush(Commands.newEndTxnResponse(command.getRequestId(), txnID.getMostSigBits(),\n+                        BrokerServiceException.getClientErrorCode(exception), exception.getMessage()));\n+                return;\n         }\n-        TxnID txnID = new TxnID(command.getTxnidMostBits(), command.getTxnidLeastBits());\n         if (log.isDebugEnabled()) {\n             log.debug(\"Receive end txn by {} request {} from {} with txnId {}\", newStatus, command.getRequestId(), remoteAddress, txnID);\n         }\n+        final long requestId = command.getRequestId();\n         service.pulsar().getTransactionMetadataStoreService().updateTxnStatus(txnID, newStatus, TxnStatus.OPEN)\n-            .whenComplete((v, ex) -> {\n-                if (ex == null) {\n-                    if (log.isDebugEnabled()) {\n-                        log.debug(\"Send response success for end txn request {}\", command.getRequestId());\n-                    }\n-                    ctx.writeAndFlush(Commands.newEndTxnResponse(command.getRequestId(),\n+            .thenRun(() -> {\n+                if (log.isDebugEnabled()) {\n+                    log.debug(\"Send response success for end txn request {}\", command.getRequestId());\n+                }\n+                updateTBStatus(txnID, newStatus).thenRun(() -> {\n+                    service.pulsar().getTransactionMetadataStoreService()\n+                            .updateTxnStatus(txnID, TxnStatus.COMMITTED, TxnStatus.COMMITTING);\n+                    ctx.writeAndFlush(Commands.newEndTxnResponse(requestId,\n                             txnID.getLeastSigBits(), txnID.getMostSigBits()));\n+                }).exceptionally(throwable -> {\n+                    log.error(\"Failed to get txn `\" + txnID + \"` txnMeta.\", throwable);\n+                    ctx.writeAndFlush(Commands.newEndTxnResponse(requestId, txnID.getMostSigBits(),\n+                            BrokerServiceException.getClientErrorCode(throwable), throwable.getMessage()));\n+                    return null;\n+                });\n+            }).exceptionally(throwable -> {\n+                if (log.isDebugEnabled()) {\n+                    log.debug(\"Send response error for end txn request {}\", command.getRequestId());\n+                }\n+                ctx.writeAndFlush(Commands.newEndTxnResponse(command.getRequestId(), txnID.getMostSigBits(),\n+                        BrokerServiceException.getClientErrorCode(throwable), throwable.getMessage()));\n+                return null;\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00ea5fbc17e40a98f459d820998c608b3540c895"}, "originalPosition": 154}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNDU2NTEy", "url": "https://github.com/apache/pulsar/pull/7552#pullrequestreview-460456512", "createdAt": "2020-08-04T02:36:03Z", "commit": {"oid": "829f2074fff3546ffc9264508aefa8bf7aab51db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd79409971836dbb2d0b05fab52cc4729acadd9d", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/bd79409971836dbb2d0b05fab52cc4729acadd9d", "committedDate": "2020-08-05T18:01:03Z", "message": "fix test"}, "afterCommit": {"oid": "70eb13b4767188e00202e5dfd5f1f06f98d7e400", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/70eb13b4767188e00202e5dfd5f1f06f98d7e400", "committedDate": "2020-08-05T18:07:03Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b732702ef2ced2d462433bc0ae8d48f7b88bb831", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/b732702ef2ced2d462433bc0ae8d48f7b88bb831", "committedDate": "2020-08-07T07:53:17Z", "message": "transaction integration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "791136099f300ebdb891037afaff351de6777dcd", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/791136099f300ebdb891037afaff351de6777dcd", "committedDate": "2020-08-07T07:53:17Z", "message": "produce messages transaction integration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20eda3237cc48406d3d9b466a04fcca7616065e8", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/20eda3237cc48406d3d9b466a04fcca7616065e8", "committedDate": "2020-08-07T07:55:31Z", "message": "handle transactionSendFuture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ed5f3a78f3ee43874d7f1b8a7acefe845eb7547", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/0ed5f3a78f3ee43874d7f1b8a7acefe845eb7547", "committedDate": "2020-08-07T07:55:31Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd11f1f2d388e7c95de693d94955117ec2529627", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/dd11f1f2d388e7c95de693d94955117ec2529627", "committedDate": "2020-08-07T07:55:31Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e13a8c238b4fed1224188f5c632ff66076d32fa7", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/e13a8c238b4fed1224188f5c632ff66076d32fa7", "committedDate": "2020-08-07T07:55:31Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c70ece4f56944e1eac0f4c7a051801b16ab1b3", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/17c70ece4f56944e1eac0f4c7a051801b16ab1b3", "committedDate": "2020-08-07T07:55:31Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f59e5e4805f17ce6a87fe032b2589998bcd5c0c3", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/f59e5e4805f17ce6a87fe032b2589998bcd5c0c3", "committedDate": "2020-08-07T07:55:31Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5c01c1a5e996b929199efe2c3dd545a398b30b6", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/a5c01c1a5e996b929199efe2c3dd545a398b30b6", "committedDate": "2020-08-07T07:55:31Z", "message": "Add a lock for the `transactionBuffer` of the `AbstractTopic.java` to avoid multi threads create transactionBuffer."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e597a8b12d34ff16d7496d09968d1198f0e0836", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/7e597a8b12d34ff16d7496d09968d1198f0e0836", "committedDate": "2020-08-07T07:55:31Z", "message": "revert pom files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb64e08db11e4554ba62fc5032e17ff85d7cbb42", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/eb64e08db11e4554ba62fc5032e17ff85d7cbb42", "committedDate": "2020-08-07T07:55:31Z", "message": "fix default value of the `txnid_least_bits` and `txnid_most_bits` in `PulsarApi.proto`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdb045a30205b5bc612814c1437c0a80970ddd8c", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/bdb045a30205b5bc612814c1437c0a80970ddd8c", "committedDate": "2020-08-07T07:55:31Z", "message": "Add pulsar client config `enableTransaction` to start transactionCoordinatorClient."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228d2e085d903eaf01949ea013458179b010f1c3", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/228d2e085d903eaf01949ea013458179b010f1c3", "committedDate": "2020-08-07T07:55:31Z", "message": "test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df58778d22c487e0ba10a3eeaef9367219383cf5", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/df58778d22c487e0ba10a3eeaef9367219383cf5", "committedDate": "2020-08-07T07:55:31Z", "message": "sync pom files with master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9609c7d716140b80d40605ad397fc32b37ae2815", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/9609c7d716140b80d40605ad397fc32b37ae2815", "committedDate": "2020-08-07T07:55:31Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "393ce74e8e2e6e60b572a3c868471ba3ea0321d7", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/393ce74e8e2e6e60b572a3c868471ba3ea0321d7", "committedDate": "2020-08-07T07:55:31Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1f77f0384dde71bd5fe2d05c28a46d84c4d7b54", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/b1f77f0384dde71bd5fe2d05c28a46d84c4d7b54", "committedDate": "2020-08-07T07:55:31Z", "message": "test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb89cfda04be771d736f8e9f842e9f6ae086847d", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/cb89cfda04be771d736f8e9f842e9f6ae086847d", "committedDate": "2020-08-07T07:55:32Z", "message": "1. Add transactionBufferProviderClassName in ServiceConfiguration;\n2. Adjust publish transaction message logic;\n2. Integrate with TransactionBufferClientImpl;\n3. Update unit test, support multi brokers."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "169b79603ec1000dd5cf9e2daaa56fcdae2d46f1", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/169b79603ec1000dd5cf9e2daaa56fcdae2d46f1", "committedDate": "2020-08-07T07:55:32Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eaf608bee4ea4e050a5bc22369c53647af0f858", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/2eaf608bee4ea4e050a5bc22369c53647af0f858", "committedDate": "2020-08-07T07:55:32Z", "message": "fix license check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99da075273fd114453cdb863ce55e96222273016", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/99da075273fd114453cdb863ce55e96222273016", "committedDate": "2020-08-07T07:55:32Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "beca4d2353fc109426b1d4719aaddf3a71cdb2ad", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/beca4d2353fc109426b1d4719aaddf3a71cdb2ad", "committedDate": "2020-08-07T07:55:32Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c1ba345d30bf8577b297c69cf09b4ccd7a1ea4f", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/5c1ba345d30bf8577b297c69cf09b4ccd7a1ea4f", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5745431c4c4c7eeba4ab4d1a680110460906585", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/d5745431c4c4c7eeba4ab4d1a680110460906585", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9ec47ac4b75ca037d49ed275a2dd056784f110e", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/f9ec47ac4b75ca037d49ed275a2dd056784f110e", "committedDate": "2020-08-07T07:55:32Z", "message": "adjust commit logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df2ee264d784864f58c3abc9472a1bd1c956a337", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/df2ee264d784864f58c3abc9472a1bd1c956a337", "committedDate": "2020-08-07T07:55:32Z", "message": "adjust endTxnOnPartition command process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f60fc38cdb447af5a9670d6947103f8336fc03b3", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/f60fc38cdb447af5a9670d6947103f8336fc03b3", "committedDate": "2020-08-07T07:55:32Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fb06a8cbfcefc90ef851f524a5b6b05b2b01584", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/7fb06a8cbfcefc90ef851f524a5b6b05b2b01584", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee591c8ff6eaf1a078c9e42f701fa2fbad0432c2", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/ee591c8ff6eaf1a078c9e42f701fa2fbad0432c2", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1f5490612b9cc1242a4d963e2ae59d67a41eddd", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/a1f5490612b9cc1242a4d963e2ae59d67a41eddd", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8c208e334c1b0cffee9aa953fa3a98509ce2e5f", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/d8c208e334c1b0cffee9aa953fa3a98509ce2e5f", "committedDate": "2020-08-05T18:30:39Z", "message": "fix test"}, "afterCommit": {"oid": "a1f5490612b9cc1242a4d963e2ae59d67a41eddd", "author": {"user": {"login": "gaoran10", "name": "ran"}}, "url": "https://github.com/apache/pulsar/commit/a1f5490612b9cc1242a4d963e2ae59d67a41eddd", "committedDate": "2020-08-07T07:55:32Z", "message": "fix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 630, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}