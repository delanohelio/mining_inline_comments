{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NTU4MDY0", "number": 7976, "title": "[DOCS] Small improvements and clarifications around AuthN / AuthZ", "bodyText": "Small improvements on documentation for AuthN/AuthZ\nMotivation\nCustom AuthN/AuthZ can get pretty complicated looking to tighten things up a little bit in this area.\nModifications\nMade some wording suggestions, added a little content especially for proxy/broker which can both do AuthN.\nVerifying this change\n\n Make sure that the change passes the CI checks.\n\nThis change is a trivial rework / code cleanup without any test coverage.\nDoes this pull request potentially affect one of the following parts:\nIf yes was chosen, please highlight the changes\n\nDependencies (does it add or upgrade a dependency): no\nThe public API: no\nThe schema: no\nThe default values of configurations: no\nThe wire protocol: no\nThe rest endpoints: no\nThe admin cli options: no\nAnything that affects deployment: no\n\nDocumentation\n\nDoes this pull request introduce a new feature? no\nIf yes, how is the feature documented? documentation-only change\nIf a feature is not applicable for documentation, explain why? documentation-only change\nIf a feature is not documented yet in this PR, please create a followup issue for adding the documentation", "createdAt": "2020-09-04T10:34:39Z", "url": "https://github.com/apache/pulsar/pull/7976", "merged": true, "mergeCommit": {"oid": "18a54c4105399d40e4e46147c720d0fcd88c42d0"}, "closed": true, "closedAt": "2020-09-08T01:56:48Z", "author": {"login": "kellyfj"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFioeHAH2gAyNDc5NTU4MDY0OjhiY2FkZjE4NGRhZDBiNjQ3Yjg4NjE3NmJlODg0NTM2MGE3MjUwYWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGts4iAFqTQ4Mzc1MDEzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae", "author": {"user": {"login": "kellyfj", "name": "Frank J Kelly"}}, "url": "https://github.com/apache/pulsar/commit/8bcadf184dad0b647b886176be8845360a7250ae", "committedDate": "2020-09-04T10:27:50Z", "message": "Small documentation improvements and clarifications around AuthN / AuthZ"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjE1OTkx", "url": "https://github.com/apache/pulsar/pull/7976#pullrequestreview-482615991", "createdAt": "2020-09-04T12:38:10Z", "commit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMTMwOTk4", "url": "https://github.com/apache/pulsar/pull/7976#pullrequestreview-483130998", "createdAt": "2020-09-06T10:27:37Z", "commit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxMDoyNzozN1rOHNoLsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQxMDo0ODo0MlrOHNoTQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MTg4OA==", "bodyText": "usually,  \"...not only...but also...\" is used  together.\nIf you remove \"not only\", you can also remove \"but also\" in this sentence.", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484051888", "createdAt": "2020-09-06T10:27:37Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/security-authorization.md", "diffHunk": "@@ -24,17 +24,17 @@ superUserRoles=my-super-user-1,my-super-user-2\n > A full list of parameters is available in the `conf/broker.conf` file.\n > You can also find the default values for those parameters in [Broker Configuration](reference-configuration.md#broker). \n \n-Typically, you can not only use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n+Typically, you use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjUyMQ==", "bodyText": "If you enable authorization on the broker, the broker checks the authorization of the request when the broker receives the forwarded request.", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052521", "createdAt": "2020-09-06T10:34:32Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/security-authorization.md", "diffHunk": "@@ -24,17 +24,17 @@ superUserRoles=my-super-user-1,my-super-user-2\n > A full list of parameters is available in the `conf/broker.conf` file.\n > You can also find the default values for those parameters in [Broker Configuration](reference-configuration.md#broker). \n \n-Typically, you can not only use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n+Typically, you use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n \n-You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. The broker still checks the authorization of the request when the broker receives the forwarded request.\n+You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. If authorization is also enabled on the broker, the broker will again check the authorization of the request when the broker receives the forwarded request.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjY4MA==", "bodyText": "use present tense instead of future tense in technical writing.\nFor guides, refer to https://developers.google.com/style/tense", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052680", "createdAt": "2020-09-06T10:35:43Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/security-authorization.md", "diffHunk": "@@ -24,17 +24,17 @@ superUserRoles=my-super-user-1,my-super-user-2\n > A full list of parameters is available in the `conf/broker.conf` file.\n > You can also find the default values for those parameters in [Broker Configuration](reference-configuration.md#broker). \n \n-Typically, you can not only use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n+Typically, you use superuser roles for administrators and clients but also for broker-to-broker authorization. When you use [geo-replication](concepts-replication.md), every broker needs to be able to publish to all the other topics of clusters.\n \n-You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. The broker still checks the authorization of the request when the broker receives the forwarded request.\n+You can also enable the authorization for the proxy in the proxy configuration file (`conf/proxy.conf`). Once you enable the authorization on the proxy, the proxy does an additional authorization check before forwarding the request to a broker. If authorization is also enabled on the broker, the broker will again check the authorization of the request when the broker receives the forwarded request.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjUyMQ=="}, "originalCommit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MjgyMw==", "bodyText": "You can use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Proxy and/or Pulsar Broker to validate the credentials.", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484052823", "createdAt": "2020-09-06T10:37:18Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/security-extending.md", "diffHunk": "@@ -10,11 +10,11 @@ Pulsar provides a way to use custom authentication and authorization mechanisms.\n \n Pulsar supports mutual TLS and Athenz authentication plugins. For how to use these authentication plugins, you can refer to the description in [Security](security-overview.md).\n \n-You can choose to use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Broker to validate the credentials.\n+You can choose to use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Proxy and/or Pulsar Broker to validate the credentials.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1MzgyNg==", "bodyText": "How about the following? You can take it as reference.\nBy default, you can use the embedded authorization provider provided by Pulsar. You can also configure a different authorization provider through a plugin.", "url": "https://github.com/apache/pulsar/pull/7976#discussion_r484053826", "createdAt": "2020-09-06T10:48:42Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/security-extending.md", "diffHunk": "@@ -90,9 +90,9 @@ The following is the example for Broker authentication plugins:\n \n ## Authorization\n \n-Authorization is the operation that checks whether a particular \"role\" or \"principal\" has a permission to perform a certain operation.\n+Authorization is the operation that checks whether a particular \"role\" or \"principal\" has permission to perform a certain operation.\n \n-By default, Pulsar provides an embedded authorization, though configuring a different one through a plugin is also an alternative choice.\n+By default, Pulsar provides an embedded authorization provider, though configuring a different one through a plugin is also a choice.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcadf184dad0b647b886176be8845360a7250ae"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54143822edc5775aa71533be235508bfa37eaf2e", "author": {"user": {"login": "kellyfj", "name": "Frank J Kelly"}}, "url": "https://github.com/apache/pulsar/commit/54143822edc5775aa71533be235508bfa37eaf2e", "committedDate": "2020-09-07T16:14:38Z", "message": "PR feedback and added some clarifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNzUwMTMw", "url": "https://github.com/apache/pulsar/pull/7976#pullrequestreview-483750130", "createdAt": "2020-09-08T01:55:32Z", "commit": {"oid": "54143822edc5775aa71533be235508bfa37eaf2e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 173, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}