{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NTY5NDI2", "number": 9064, "title": "Add refresh authentication command in broker", "bodyText": "Motivation\nSome authentication provider is using cached authentication data. Until\nredoing the 'getAuthData' then it will provide the new auth data. So\nI add a refresh command and do the refresh authentication data provider\nwhen received the command.\nVerify this change\n\nExistent tests can pass.", "createdAt": "2020-12-25T10:18:07Z", "url": "https://github.com/apache/pulsar/pull/9064", "merged": true, "mergeCommit": {"oid": "373948ee1df6294ef43dafe457a86e53cd86ab32"}, "closed": true, "closedAt": "2021-01-26T10:11:05Z", "author": {"login": "zymap"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdpj-zGAH2gAyNTQ1NTY5NDI2OjE2ODJiZjBlOGEzNzBlYTFhNTA4MTM5NjVmNDkxODM4ZDIzMDUyNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdzy6tQgFqTU3NTk4NTY5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1682bf0e8a370ea1a50813965f491838d2305275", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/1682bf0e8a370ea1a50813965f491838d2305275", "committedDate": "2020-12-25T08:23:24Z", "message": "Add refresh authentication command in broker\n---\n\n(If this PR fixes a github issue, please add `Fixes #<xyz>`)\n\nFixes #<xyz>\n\n(or if this PR is one task of a github issue, please add `Master Issue: #<xyz>`\nto link to the master issue)\n\nMaster Issue: #<xyz>\n\n*Motivation*\n\nDescribe here the context, and why you're making that change.\nWhat is the problem you're trying to solve.\n\n*Modifications*\n\nDescribe the modifications you've done.\n\n*Verify this change*\n\nPlease pick either of following options.\n\n- This change is a trivial rework / code cleanup without any test coverage.\n- This change is already covered by existing tests, such as *(please describe tests)*.\n- This change added tests and can be verified as follows:\n  *(example:)*\n  - *Added integration tests for end-to-end deployment*\n  - *Extended integration test for recovery after broker failure*"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/947bc2d3e1706c8ddea03e2794f9298e59782b1c", "committedDate": "2020-12-28T01:16:40Z", "message": "Handle refresh command when handling auth challenge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MDExODM3", "url": "https://github.com/apache/pulsar/pull/9064#pullrequestreview-559011837", "createdAt": "2020-12-28T06:29:56Z", "commit": {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNjoyOTo1NlrOILyZeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNjoyOTo1NlrOILyZeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIzMDk3MA==", "bodyText": "seems no valuable changes in this file", "url": "https://github.com/apache/pulsar/pull/9064#discussion_r549230970", "createdAt": "2020-12-28T06:29:56Z", "author": {"login": "jiazhai"}, "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationOAuth2.java", "diffHunk": "@@ -23,6 +23,7 @@\n import java.time.Clock;\n import java.time.Instant;\n import java.util.Map;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MDExODY4", "url": "https://github.com/apache/pulsar/pull/9064#pullrequestreview-559011868", "createdAt": "2020-12-28T06:30:04Z", "commit": {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNjozMDowNFrOILyZkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwNjozMDowNFrOILyZkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTIzMDk5NQ==", "bodyText": "seems no valuable changes in this file", "url": "https://github.com/apache/pulsar/pull/9064#discussion_r549230995", "createdAt": "2020-12-28T06:30:04Z", "author": {"login": "jiazhai"}, "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth/oauth2/AuthenticationDataOAuth2.java", "diffHunk": "@@ -21,6 +21,8 @@\n import java.util.Collections;\n import java.util.Map;\n import java.util.Set;\n+import java.util.function.Function;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "947bc2d3e1706c8ddea03e2794f9298e59782b1c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/c469ca341b887fe0c0eb57a65ea87fac2fbed179", "committedDate": "2020-12-28T07:14:51Z", "message": "Remove the unused chanages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "862143461ddad4322cda067517a6ab6e06d30f43", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/862143461ddad4322cda067517a6ab6e06d30f43", "committedDate": "2020-12-28T07:13:22Z", "message": "Remove the unused chanages"}, "afterCommit": {"oid": "c469ca341b887fe0c0eb57a65ea87fac2fbed179", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/c469ca341b887fe0c0eb57a65ea87fac2fbed179", "committedDate": "2020-12-28T07:14:51Z", "message": "Remove the unused chanages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e20f559f181672af70402095796979dd7812db69", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/e20f559f181672af70402095796979dd7812db69", "committedDate": "2020-12-28T08:38:47Z", "message": "Add the login in the proxy handler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8eac2a2e9ba8a0f15148d86f2684de081ce62b9", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/b8eac2a2e9ba8a0f15148d86f2684de081ce62b9", "committedDate": "2020-12-28T13:26:35Z", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c94b7afcd9f77aecd7b0ae9e74b97e23c6993ff", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/5c94b7afcd9f77aecd7b0ae9e74b97e23c6993ff", "committedDate": "2020-12-29T06:03:44Z", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed44998bfbd0da9a1f45da47f86bf1758e3132f9", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/ed44998bfbd0da9a1f45da47f86bf1758e3132f9", "committedDate": "2020-12-29T13:53:11Z", "message": "Fix the tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5OTg4NDI1", "url": "https://github.com/apache/pulsar/pull/9064#pullrequestreview-559988425", "createdAt": "2020-12-30T10:18:49Z", "commit": {"oid": "ed44998bfbd0da9a1f45da47f86bf1758e3132f9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61e6fddc4d9e1403aedb23c1a57bb905406e353a", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/61e6fddc4d9e1403aedb23c1a57bb905406e353a", "committedDate": "2021-01-18T09:46:12Z", "message": "Enhance the tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ef8a0fd27be0942a13f5f92dc7535ce2709ecfb", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/4ef8a0fd27be0942a13f5f92dc7535ce2709ecfb", "committedDate": "2021-01-18T09:47:43Z", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8074afb966d52d3536ec1416700a54eed0c75be", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/a8074afb966d52d3536ec1416700a54eed0c75be", "committedDate": "2021-01-18T12:56:45Z", "message": "Fix the tests and style issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11a92868818b3a32b7e31b04b7aa3014fdad4b2b", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/11a92868818b3a32b7e31b04b7aa3014fdad4b2b", "committedDate": "2021-01-25T10:54:38Z", "message": "Merge remote-tracking branch 'apache/master' into allow-broker-send-refresh-cmd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00b8efd2be120138235fe019bf33eb850ce0d708", "author": {"user": {"login": "zymap", "name": "Yong Zhang"}}, "url": "https://github.com/apache/pulsar/commit/00b8efd2be120138235fe019bf33eb850ce0d708", "committedDate": "2021-01-26T00:51:21Z", "message": "Add tests for oauth2 client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc1OTgxODg2", "url": "https://github.com/apache/pulsar/pull/9064#pullrequestreview-575981886", "createdAt": "2021-01-26T03:24:29Z", "commit": {"oid": "00b8efd2be120138235fe019bf33eb850ce0d708"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc1OTg1Njk1", "url": "https://github.com/apache/pulsar/pull/9064#pullrequestreview-575985695", "createdAt": "2021-01-26T03:26:46Z", "commit": {"oid": "00b8efd2be120138235fe019bf33eb850ce0d708"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 845, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}