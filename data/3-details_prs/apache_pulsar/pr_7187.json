{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4ODkzODgw", "number": 7187, "title": "Add ability for function services to notify errors", "bodyText": "Motivation\nCurrently, FunctionAssignmentTailer uses a thread to read and process assignments. If there is a fatal error in the process we should notify to worker service and restart the worker.", "createdAt": "2020-06-06T01:05:08Z", "url": "https://github.com/apache/pulsar/pull/7187", "merged": true, "mergeCommit": {"oid": "4beebb31a05afb0e310e7deed7ea1aac17b9521b"}, "closed": true, "closedAt": "2020-06-08T05:13:06Z", "author": {"login": "jerrypeng"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcocijQAH2gAyNDI4ODkzODgwOmFmMjhlNDhlMTU0ZjQ2YzUwNDNjMjk3NDNjOWNmNGJkZTM1Y2Y0N2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpJIDRgFqTQyNTkxNDcxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "af28e48e154f46c5043c29743c9cf4bde35cf47c", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/af28e48e154f46c5043c29743c9cf4bde35cf47c", "committedDate": "2020-06-06T00:58:08Z", "message": "Add ability for function services to notify errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1Njk5NDk0", "url": "https://github.com/apache/pulsar/pull/7187#pullrequestreview-425699494", "createdAt": "2020-06-06T01:06:00Z", "commit": {"oid": "af28e48e154f46c5043c29743c9cf4bde35cf47c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQwMTowNjowMFrOGgA6Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQwMTowNjowMFrOGgA6Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjIyMjUzMQ==", "bodyText": "@merlimat thoughts on how we should hand this if function service is running as part of the broker?", "url": "https://github.com/apache/pulsar/pull/7187#discussion_r436222531", "createdAt": "2020-06-06T01:06:00Z", "author": {"login": "jerrypeng"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/PulsarService.java", "diffHunk": "@@ -1265,7 +1266,8 @@ private void startWorkerService(AuthenticationService authenticationService,\n                 throw ioe;\n             }\n             LOG.info(\"Function worker service setup completed\");\n-            functionWorkerService.get().start(dlogURI, authenticationService, authorizationService);\n+            // TODO figure out how to handle errors from function worker service\n+            functionWorkerService.get().start(dlogURI, authenticationService, authorizationService, new ErrorNotifier());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af28e48e154f46c5043c29743c9cf4bde35cf47c"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "388fe79beb10394d00f114d68f343d1528f140ed", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/388fe79beb10394d00f114d68f343d1528f140ed", "committedDate": "2020-06-06T01:08:06Z", "message": "fix formating"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa4078407fb947a2731c7bc0f78bb6f2a2820eab", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/aa4078407fb947a2731c7bc0f78bb6f2a2820eab", "committedDate": "2020-06-07T22:59:18Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1OTE0NzEy", "url": "https://github.com/apache/pulsar/pull/7187#pullrequestreview-425914712", "createdAt": "2020-06-08T04:54:55Z", "commit": {"oid": "aa4078407fb947a2731c7bc0f78bb6f2a2820eab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2785, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}