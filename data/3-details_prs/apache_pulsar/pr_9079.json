{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2Mzk4MDc5", "number": 9079, "title": "[Doc] Add docs for ProtobufNative Schema", "bodyText": "Add docs based on #8372 and update the green-highlighted parts.", "createdAt": "2020-12-29T09:09:03Z", "url": "https://github.com/apache/pulsar/pull/9079", "merged": true, "mergeCommit": {"oid": "2981152d5d17c11b6493c692b9933be80983f4b8"}, "closed": true, "closedAt": "2020-12-30T10:20:30Z", "author": {"login": "Anonymitaet"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdq2439gH2gAyNTQ2Mzk4MDc5OjM3Y2I5ODQ5NTRiOTA2YzJmZjNjZGZjY2U5OTk2MGQxMWUxZDIyMDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrMpQRAFqTU1OTk4ODc3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209", "author": {"user": null}, "url": "https://github.com/apache/pulsar/commit/37cb984954b906c2ff3cdfcce99960d11e1d2209", "committedDate": "2020-12-29T08:59:03Z", "message": "add doc for protobufnative schema"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NDUzMTAx", "url": "https://github.com/apache/pulsar/pull/9079#pullrequestreview-559453101", "createdAt": "2020-12-29T09:42:56Z", "commit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NDg3OTU2", "url": "https://github.com/apache/pulsar/pull/9079#pullrequestreview-559487956", "createdAt": "2020-12-29T11:17:58Z", "commit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMToxNzo1OFrOIMNCIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMToxNzo1OFrOIMNCIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY2NzM2MQ==", "bodyText": "... to use the same tools...", "url": "https://github.com/apache/pulsar/pull/9079#discussion_r549667361", "createdAt": "2020-12-29T11:17:58Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/schema-understand.md", "diffHunk": "@@ -287,25 +289,36 @@ This example shows how to construct a key/value schema and then use it to produc\n     KeyValue<Integer, String> kv = msg.getValue();\n     ```\n \n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n #### struct\n \n-Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `struct` schema. \n+This section describes the details of type and usage of the `struct` schema.\n \n-This allows Pulsar:\n+##### Type\n \n-* to use same tools to manage schema definitions\n+`struct` schema supports `AvroBaseStructSchema` and `ProtobufNativeSchema`.\n \n-* to use different serialization/deserialization methods to handle data\n+|Type|Description|\n+---|---|\n+`AvroBaseStructSchema`|Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `AvroBaseStructSchema`, which supports  `AvroSchema`, `JsonSchema`, and `ProtobufSchema`. <br><br>This allows Pulsar:<br>- to use same tools to manage schema definitions<br>- to use different serialization or deserialization methods to handle data|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NDg4NTEz", "url": "https://github.com/apache/pulsar/pull/9079#pullrequestreview-559488513", "createdAt": "2020-12-29T11:19:44Z", "commit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMToxOTo0NFrOIMNEDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxMToxOTo0NFrOIMNEDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTY2Nzg1Mg==", "bodyText": "Technically, it's 100% correct.\nI suggest that we use \"Pulsar provides the following methods to ....\"\nWhen people add more methods below, they usually forget to update the specific number.", "url": "https://github.com/apache/pulsar/pull/9079#discussion_r549667852", "createdAt": "2020-12-29T11:19:44Z", "author": {"login": "Jennifer88huang"}, "path": "site2/docs/schema-understand.md", "diffHunk": "@@ -287,25 +289,36 @@ This example shows how to construct a key/value schema and then use it to produc\n     KeyValue<Integer, String> kv = msg.getValue();\n     ```\n \n+<!--END_DOCUSAURUS_CODE_TABS-->\n+\n #### struct\n \n-Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `struct` schema. \n+This section describes the details of type and usage of the `struct` schema.\n \n-This allows Pulsar:\n+##### Type\n \n-* to use same tools to manage schema definitions\n+`struct` schema supports `AvroBaseStructSchema` and `ProtobufNativeSchema`.\n \n-* to use different serialization/deserialization methods to handle data\n+|Type|Description|\n+---|---|\n+`AvroBaseStructSchema`|Pulsar uses [Avro Specification](http://avro.apache.org/docs/current/spec.html) to declare the schema definition for `AvroBaseStructSchema`, which supports  `AvroSchema`, `JsonSchema`, and `ProtobufSchema`. <br><br>This allows Pulsar:<br>- to use same tools to manage schema definitions<br>- to use different serialization or deserialization methods to handle data|\n+`ProtobufNativeSchema`|`ProtobufNativeSchema` is based on protobuf native Descriptor. <br><br>This allows Pulsar:<br>- to use native protobuf-v3 to serialize or deserialize data<br>- to use `AutoConsume` to deserialize data.\n \n-There are two methods to use `struct` schema\uff1a\n+##### Usage\n+\n+Pulsar provides three methods to use the `struct` schema:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37cb984954b906c2ff3cdfcce99960d11e1d2209"}, "originalPosition": 58}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ad3b02d0f043112d47390239ee43555bf1e966e", "author": {"user": {"login": "Anonymitaet", "name": null}}, "url": "https://github.com/apache/pulsar/commit/1ad3b02d0f043112d47390239ee43555bf1e966e", "committedDate": "2020-12-30T00:26:55Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5ODk0MzUw", "url": "https://github.com/apache/pulsar/pull/9079#pullrequestreview-559894350", "createdAt": "2020-12-30T06:22:02Z", "commit": {"oid": "1ad3b02d0f043112d47390239ee43555bf1e966e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5OTg4Nzcw", "url": "https://github.com/apache/pulsar/pull/9079#pullrequestreview-559988770", "createdAt": "2020-12-30T10:19:54Z", "commit": {"oid": "1ad3b02d0f043112d47390239ee43555bf1e966e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 860, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}