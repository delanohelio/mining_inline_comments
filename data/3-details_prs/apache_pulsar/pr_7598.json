{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMjgwNDM0", "number": 7598, "title": "Support configuring DeleteInactiveTopic setting in namespace policy", "bodyText": "Fixes #7485\nMotivation\nSupport configuring DeleteInactiveTopic setting in namespace policy\nModifications\nOnly the two parameters brokerDeleteInactiveTopicsMode and brokerDeleteInactiveTopicsMaxInactiveDurationSeconds support namespace policy. The parameters are changed to Map structure, the key is the namespace, and the value is the parameter value.\nSuch as: namespace1=delete_when_no_subscriptions, namespace2=delete_when_no_subscriptions.\nIn addition, there is a key name called default. If it is set, other namespaces that do not specify parameters will use this parameter.\nSuch as: default=delete_when_no_subscriptions\nVerifying this change\nInactiveTopicDeleteTest.java\n(Please pick either of the following options)\nThis change is a trivial rework / code cleanup without any test coverage.\n(or)\nThis change is already covered by existing tests, such as (please describe tests).\n(or)\nThis change added tests and can be verified as follows:\n(example:)\n\nAdded integration tests for end-to-end deployment with large payloads (10MB)\nExtended integration test for recovery after broker failure\n\nDoes this pull request potentially affect one of the following parts:\nIf yes was chosen, please highlight the changes\n\nDependencies (does it add or upgrade a dependency): (yes / no)\nThe public API: (yes / no)\nThe schema: (yes / no / don't know)\nThe default values of configurations: (yes / no)\nThe wire protocol: (yes / no)\nThe rest endpoints: (yes / no)\nThe admin cli options: (yes / no)\nAnything that affects deployment: (yes / no / don't know)\n\nDocumentation\n\nDoes this pull request introduce a new feature? (yes / no)\nIf yes, how is the feature documented? (not applicable / docs / JavaDocs / not documented)\nIf a feature is not applicable for documentation, explain why?\nIf a feature is not documented yet in this PR, please create a followup issue for adding the documentation", "createdAt": "2020-07-19T02:34:58Z", "url": "https://github.com/apache/pulsar/pull/7598", "merged": true, "mergeCommit": {"oid": "00e30895b22129d5189db1592851bdb62e8c498b"}, "closed": true, "closedAt": "2020-07-28T06:26:00Z", "author": {"login": "315157973"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2fPoBgBqjM1NjI3NzMxMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5Ex5OgFqTQ1NTk2MzQzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "86152fed308528448943d6557e95035f164881af", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/86152fed308528448943d6557e95035f164881af", "committedDate": "2020-07-19T13:25:17Z", "message": "fix unit test"}, "afterCommit": {"oid": "8441eed82f31e61af27f6c7a041ff745ed462b50", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/8441eed82f31e61af27f6c7a041ff745ed462b50", "committedDate": "2020-07-19T16:01:34Z", "message": "fix unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjAyODg4", "url": "https://github.com/apache/pulsar/pull/7598#pullrequestreview-451202888", "createdAt": "2020-07-20T01:14:03Z", "commit": {"oid": "8441eed82f31e61af27f6c7a041ff745ed462b50"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMjc4ODMx", "url": "https://github.com/apache/pulsar/pull/7598#pullrequestreview-451278831", "createdAt": "2020-07-20T03:45:37Z", "commit": {"oid": "8441eed82f31e61af27f6c7a041ff745ed462b50"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzo0NTozOFrOGz2UgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMzo0NTozOFrOGz2UgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzAyMDU0NA==", "bodyText": "Is this change needed?", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r457020544", "createdAt": "2020-07-20T03:45:38Z", "author": {"login": "jiazhai"}, "path": "pulsar-broker/src/test/resources/configurations/pulsar_broker_test.conf", "diffHunk": "@@ -85,7 +85,7 @@ replicationMetricsEnabled=true\n replicationConnectionsPerBroker=16\n replicationProducerQueueSize=1000\n replicatorPrefix=pulsar.repl\n-brokerDeleteInactiveTopicsMode=delete_when_subscriptions_caught_up\n+brokerDeleteInactiveTopicsMode=default=delete_when_subscriptions_caught_up", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8441eed82f31e61af27f6c7a041ff745ed462b50"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60a302f0a137c27114c211d84715b6b65f1b4194", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/60a302f0a137c27114c211d84715b6b65f1b4194", "committedDate": "2020-07-21T07:20:55Z", "message": "support namespaces inactive topic delete policy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8441eed82f31e61af27f6c7a041ff745ed462b50", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/8441eed82f31e61af27f6c7a041ff745ed462b50", "committedDate": "2020-07-19T16:01:34Z", "message": "fix unit test"}, "afterCommit": {"oid": "60a302f0a137c27114c211d84715b6b65f1b4194", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/60a302f0a137c27114c211d84715b6b65f1b4194", "committedDate": "2020-07-21T07:20:55Z", "message": "support namespaces inactive topic delete policy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "291b263aedfb5e0435a37064878af6c4093f0149", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/291b263aedfb5e0435a37064878af6c4093f0149", "committedDate": "2020-07-21T08:06:17Z", "message": "add whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/6be76d47da7974625db311d2c94e0fdc1a9ba3c6", "committedDate": "2020-07-21T08:27:20Z", "message": "add a period"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzk1MjE3", "url": "https://github.com/apache/pulsar/pull/7598#pullrequestreview-452395217", "createdAt": "2020-07-21T12:16:40Z", "commit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "state": "COMMENTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMjoxNjo0MVrOG01Niw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMjo0Mzo0NFrOG02IqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA1MDk1NQ==", "bodyText": "If the namespace level policy already specified and then restart the broker, the inactive topic policy should apply the namespace level policy.", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458050955", "createdAt": "2020-07-21T12:16:41Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/AbstractTopic.java", "diffHunk": "@@ -98,8 +99,7 @@ public AbstractTopic(String topic, BrokerService brokerService) {\n         this.producers = new ConcurrentHashMap<>();\n         this.isFenced = false;\n         this.replicatorPrefix = brokerService.pulsar().getConfiguration().getReplicatorPrefix();\n-        this.deleteWhileInactive =\n-                brokerService.pulsar().getConfiguration().isBrokerDeleteInactiveTopicsEnabled();\n+        this.inactiveTopicPolicies.setDeleteWhileInactive(brokerService.pulsar().getConfiguration().isBrokerDeleteInactiveTopicsEnabled());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA1MzkxNg==", "bodyText": "use deleteWhileInactive here is more reasonable because of the command name is set-inactive-topic.", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458053916", "createdAt": "2020-07-21T12:22:25Z", "author": {"login": "codelipenghui"}, "path": "pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNamespaces.java", "diffHunk": "@@ -1014,6 +1016,54 @@ void run() throws PulsarAdminException {\n         }\n     }\n \n+    @Parameters(commandDescription = \"Get the inactive topic policy for a namespace\")\n+    private class GetInactiveTopicPolicies extends CliCommand {\n+        @Parameter(description = \"tenant/namespace\\n\", required = true)\n+        private java.util.List<String> params;\n+\n+        @Override\n+        void run() throws PulsarAdminException {\n+            String namespace = validateNamespace(params);\n+            print(admin.namespaces().getInactiveTopicPolicies(namespace));\n+        }\n+    }\n+\n+    @Parameters(commandDescription = \"Set the inactive topic policies on a namespace\")\n+    private class SetInactiveTopicPolicies extends CliCommand {\n+        @Parameter(description = \"tenant/namespace\", required = true)\n+        private java.util.List<String> params;\n+\n+        @Parameter(names = { \"--enable\", \"-e\" }, description = \"Enable inactive topic messages\")\n+        private boolean enable = false;\n+\n+        @Parameter(names = { \"--disable\", \"-d\" }, description = \"Disable inactive topic messages\")\n+        private boolean disable = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA1NDQ2Ng==", "bodyText": "It's better to provide the options of inactiveTopicDeleteMode. So that users can know what to fill in.", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458054466", "createdAt": "2020-07-21T12:23:28Z", "author": {"login": "codelipenghui"}, "path": "pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNamespaces.java", "diffHunk": "@@ -1014,6 +1016,54 @@ void run() throws PulsarAdminException {\n         }\n     }\n \n+    @Parameters(commandDescription = \"Get the inactive topic policy for a namespace\")\n+    private class GetInactiveTopicPolicies extends CliCommand {\n+        @Parameter(description = \"tenant/namespace\\n\", required = true)\n+        private java.util.List<String> params;\n+\n+        @Override\n+        void run() throws PulsarAdminException {\n+            String namespace = validateNamespace(params);\n+            print(admin.namespaces().getInactiveTopicPolicies(namespace));\n+        }\n+    }\n+\n+    @Parameters(commandDescription = \"Set the inactive topic policies on a namespace\")\n+    private class SetInactiveTopicPolicies extends CliCommand {\n+        @Parameter(description = \"tenant/namespace\", required = true)\n+        private java.util.List<String> params;\n+\n+        @Parameter(names = { \"--enable\", \"-e\" }, description = \"Enable inactive topic messages\")\n+        private boolean enable = false;\n+\n+        @Parameter(names = { \"--disable\", \"-d\" }, description = \"Disable inactive topic messages\")\n+        private boolean disable = false;\n+\n+        @Parameter(names = {\"--max-inactive-duration\", \"-t\"}, description = \"Max duration of topic inactivity in seconds\" +\n+                \",topics that are inactive for longer than this value will be deleted (eg: 1s, 10s, 1m, 5h, 3d)\", required = true)\n+        private String deleteInactiveTopicsMaxInactiveDuration;\n+\n+        @Parameter(names = { \"--delete-mode\", \"-m\" }, description = \"Disable inactive topic messages\", required = true)\n+        private String inactiveTopicDeleteMode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2MTU4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    jcommander.addCommand(\"get-inactive-topic\", new GetInactiveTopicPolicies());\n          \n          \n            \n                    jcommander.addCommand(\"get-inactive-topic-policy\", new GetInactiveTopicPolicies());", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458061582", "createdAt": "2020-07-21T12:36:02Z", "author": {"login": "codelipenghui"}, "path": "pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNamespaces.java", "diffHunk": "@@ -1696,6 +1746,9 @@ public CmdNamespaces(PulsarAdmin admin) {\n         jcommander.addCommand(\"set-delayed-delivery\", new SetDelayedDelivery());\n         jcommander.addCommand(\"get-delayed-delivery\", new GetDelayedDelivery());\n \n+        jcommander.addCommand(\"get-inactive-topic\", new GetInactiveTopicPolicies());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2MTY2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    jcommander.addCommand(\"set-inactive-topic\", new SetInactiveTopicPolicies());\n          \n          \n            \n                    jcommander.addCommand(\"set-inactive-topic-policy\", new SetInactiveTopicPolicies());", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458061669", "createdAt": "2020-07-21T12:36:11Z", "author": {"login": "codelipenghui"}, "path": "pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNamespaces.java", "diffHunk": "@@ -1696,6 +1746,9 @@ public CmdNamespaces(PulsarAdmin admin) {\n         jcommander.addCommand(\"set-delayed-delivery\", new SetDelayedDelivery());\n         jcommander.addCommand(\"get-delayed-delivery\", new GetDelayedDelivery());\n \n+        jcommander.addCommand(\"get-inactive-topic\", new GetInactiveTopicPolicies());\n+        jcommander.addCommand(\"set-inactive-topic\", new SetInactiveTopicPolicies());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2MjQ5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Path(\"/{tenant}/{namespace}/inactiveTopic\")\n          \n          \n            \n                @Path(\"/{tenant}/{namespace}/inactiveTopicPolicy\")", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458062494", "createdAt": "2020-07-21T12:37:36Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/admin/v2/Namespaces.java", "diffHunk": "@@ -859,6 +860,30 @@ public void setDelayedDeliveryPolicies(@PathParam(\"tenant\") String tenant,\n         internalSetDelayedDelivery(deliveryPolicies);\n     }\n \n+    @GET\n+    @Path(\"/{tenant}/{namespace}/inactiveTopic\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2MjYwOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Path(\"/{tenant}/{namespace}/inactiveTopic\")\n          \n          \n            \n                @Path(\"/{tenant}/{namespace}/inactiveTopicPolicy\")", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458062608", "createdAt": "2020-07-21T12:37:47Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/admin/v2/Namespaces.java", "diffHunk": "@@ -859,6 +860,30 @@ public void setDelayedDeliveryPolicies(@PathParam(\"tenant\") String tenant,\n         internalSetDelayedDelivery(deliveryPolicies);\n     }\n \n+    @GET\n+    @Path(\"/{tenant}/{namespace}/inactiveTopic\")\n+    @ApiOperation(value = \"Get inactive topic messages config on a namespace.\")\n+    @ApiResponses(value = { @ApiResponse(code = 403, message = \"Don't have admin permission\"),\n+            @ApiResponse(code = 404, message = \"Tenant or cluster or namespace doesn't exist\"),\n+            @ApiResponse(code = 409, message = \"Concurrent modification\"), })\n+    public InactiveTopicPolicies getInactiveTopicPolicies(@PathParam(\"tenant\") String tenant,\n+                                                              @PathParam(\"namespace\") String namespace) {\n+        validateNamespaceName(tenant, namespace);\n+        return internalGetInactiveTopic();\n+    }\n+\n+    @POST\n+    @Path(\"/{tenant}/{namespace}/inactiveTopic\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2NDg4NQ==", "bodyText": "If we already use InactiveTopicPolicies, I think we don't need to pass maxInactiveDurationSeconds and inactiveTopicDeleteMode in the param list. Of course, if only use InactiveTopicPolicies to maintain the namespace level policy, we still need to pass parameters.", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458064885", "createdAt": "2020-07-21T12:41:40Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/nonpersistent/NonPersistentTopic.java", "diffHunk": "@@ -829,11 +829,14 @@ public boolean isActive() {\n     }\n \n     @Override\n-    public void checkGC(int maxInactiveDurationInSec, InactiveTopicDeleteMode deleteMode) {\n-        if (!deleteWhileInactive) {\n+    public void checkGC(int maxInactiveDurationSeconds, InactiveTopicDeleteMode inactiveTopicDeleteMode) {\n+        if (!isDeleteWhileInactive()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2NTEzNQ==", "bodyText": "Same as the comment that I left in the NonPersistentTopic.", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458065135", "createdAt": "2020-07-21T12:42:04Z", "author": {"login": "codelipenghui"}, "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentTopic.java", "diffHunk": "@@ -1628,11 +1628,17 @@ private boolean hasBacklogs() {\n     }\n \n     @Override\n-    public void checkGC(int maxInactiveDurationInSec, InactiveTopicDeleteMode deleteMode) {\n-        if (!deleteWhileInactive) {\n+    public void checkGC(int maxInactiveDurationSeconds, InactiveTopicDeleteMode inactiveTopicDeleteMode) {\n+        if (!isDeleteWhileInactive()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA2NjA4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private int brokerDeleteInactiveTopicsMaxInactiveDurationSeconds;\n          \n          \n            \n                private int maxInactiveDurationSeconds;", "url": "https://github.com/apache/pulsar/pull/7598#discussion_r458066089", "createdAt": "2020-07-21T12:43:44Z", "author": {"login": "codelipenghui"}, "path": "pulsar-common/src/main/java/org/apache/pulsar/common/policies/data/InactiveTopicPolicies.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.pulsar.common.policies.data;\n+\n+import lombok.AllArgsConstructor;\n+import lombok.Data;\n+import lombok.NoArgsConstructor;\n+\n+/**\n+ * Definition of the inactive topic policy.\n+ */\n+@Data\n+@AllArgsConstructor\n+@NoArgsConstructor\n+public class InactiveTopicPolicies {\n+    private InactiveTopicDeleteMode inactiveTopicDeleteMode;\n+    private int brokerDeleteInactiveTopicsMaxInactiveDurationSeconds;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6be76d47da7974625db311d2c94e0fdc1a9ba3c6"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "145518837716f91192179a1a7c074249209a2cf4", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/145518837716f91192179a1a7c074249209a2cf4", "committedDate": "2020-07-22T15:30:46Z", "message": "add remove policy and so on"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9c8b83f39af6ab269cb9b5a919d6d9730a08355", "author": {"user": {"login": "315157973", "name": "feynmanlin"}}, "url": "https://github.com/apache/pulsar/commit/e9c8b83f39af6ab269cb9b5a919d6d9730a08355", "committedDate": "2020-07-25T14:11:51Z", "message": "Merge branch 'master' into ns-topic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NzMwOTI4", "url": "https://github.com/apache/pulsar/pull/7598#pullrequestreview-455730928", "createdAt": "2020-07-27T12:24:48Z", "commit": {"oid": "e9c8b83f39af6ab269cb9b5a919d6d9730a08355"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTYzNDMw", "url": "https://github.com/apache/pulsar/pull/7598#pullrequestreview-455963430", "createdAt": "2020-07-27T16:53:53Z", "commit": {"oid": "e9c8b83f39af6ab269cb9b5a919d6d9730a08355"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 369, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}