{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxODQyMzU4", "number": 573, "title": "Add context to single page async client methods", "bodyText": "Add context to single page async and paging async client methods.", "createdAt": "2020-04-10T09:52:32Z", "url": "https://github.com/Azure/autorest.java/pull/573", "merged": true, "mergeCommit": {"oid": "776035f9d936bbba99218861b3ee002f0c765f28"}, "closed": true, "closedAt": "2020-04-10T18:43:04Z", "author": {"login": "srnagar"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWN-2jAH2gAyNDAxODQyMzU4OjZiYjRlYThlYmVmODljYzU5Y2QzZThiNzFjZjY0Mzk1YWRlODRiM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWVSLugH2gAyNDAxODQyMzU4OjY4Y2E1YjA0YTNiM2U3MjYwZDUxNTUwYTk0ZTIzNWIzZTY1NDZhMDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/autorest.java/commit/6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c", "committedDate": "2020-04-10T09:49:50Z", "message": "Add context to single page async client methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMzY5MjUz", "url": "https://github.com/Azure/autorest.java/pull/573#pullrequestreview-391369253", "createdAt": "2020-04-10T10:05:56Z", "commit": {"oid": "6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMDowNTo1NlrOGD2oDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMDowNTo1NlrOGD2oDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY5MzkwMQ==", "bodyText": "Not sure whether need to set all these?\nIt seems to me that only thing need to be swapped is withContextParameters? All rest appears to be same as the builder from input parameter?", "url": "https://github.com/Azure/autorest.java/pull/573#discussion_r406693901", "createdAt": "2020-04-10T10:05:56Z", "author": {"login": "weidongxu-microsoft"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -360,6 +348,37 @@ public static ClientMethodMapper getInstance() {\n         return methods;\n     }\n \n+    private void addClientMethodWithContext(List<ClientMethod> methods, Builder builder, ProxyMethod proxyMethod,\n+        List<ClientMethodParameter> parameters, ClientMethodType clientMethodType, String proxyMethodName,\n+        ReturnValue returnValue) {\n+        ClientMethodParameter contextParam = new ClientMethodParameter.Builder()\n+            .description(\"The context to associate with this operation.\")\n+            .wireType(ClassType.Context)\n+            .name(\"context\")\n+            .annotations(new ArrayList<>())\n+            .isConstant(false)\n+            .defaultValue(null)\n+            .fromClient(false)\n+            .isFinal(false)\n+            .isRequired(true)\n+            .build();\n+\n+        List<ClientMethodParameter> withContextParameters = new ArrayList<>();\n+        withContextParameters.addAll(parameters);\n+        withContextParameters.add(contextParam);\n+\n+        methods.add(builder\n+            .parameters(withContextParameters) // update builder parameters to include context\n+            .returnValue(returnValue)\n+            .name(proxyMethodName)\n+            .onlyRequiredParameters(false)\n+            .type(clientMethodType)\n+            .isGroupedParameterRequired(false)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c"}, "originalPosition": 110}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNTY1Njk4", "url": "https://github.com/Azure/autorest.java/pull/573#pullrequestreview-391565698", "createdAt": "2020-04-10T17:33:21Z", "commit": {"oid": "6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzozMzoyMlrOGEA3ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNzozMzoyMlrOGEA3ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg2MTY2OQ==", "bodyText": "nit: JavaSettings.getInstance() is assigned to a local variable settings on line 53", "url": "https://github.com/Azure/autorest.java/pull/573#discussion_r406861669", "createdAt": "2020-04-10T17:33:22Z", "author": {"login": "jianghaolu"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -196,6 +197,12 @@ public static ClientMethodMapper getInstance() {\n                         .type(ClientMethodType.PagingAsyncSinglePage)\n                         .isGroupedParameterRequired(false)\n                         .build());\n+                if (JavaSettings.getInstance().isContextClientMethodParameter()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bb4ea8ebef89cc59cd3e8b71cf64395ade84b3c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68ca5b04a3b3e7260d51550a94e235b3e6546a06", "author": {"user": {"login": "srnagar", "name": "Srikanta"}}, "url": "https://github.com/Azure/autorest.java/commit/68ca5b04a3b3e7260d51550a94e235b3e6546a06", "committedDate": "2020-04-10T18:20:17Z", "message": "Address review comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1931, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}