{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMDA5ODYy", "number": 674, "title": "Create options model for optional parameters in client methods", "bodyText": "collapse optional parameters in client method into an options model\ngenerate options model", "createdAt": "2020-08-04T21:07:37Z", "url": "https://github.com/Azure/autorest.java/pull/674", "merged": true, "mergeCommit": {"oid": "115d800406326d08374595789bf755b410d7aa88"}, "closed": true, "closedAt": "2020-08-07T17:11:50Z", "author": {"login": "JianpingChen"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7tJi1AH2gAyNDYzMDA5ODYyOmY3MDc0ZjQ3NzUzNGIxNmM0NmYwY2VmNzFmNjBmZjMyZTMzZGE1NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8nmBdAFqTQ2MzQ3MTA1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7074f477534b16c46f0cef71f60ff32e33da557", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/f7074f477534b16c46f0cef71f60ff32e33da557", "committedDate": "2020-08-04T21:03:46Z", "message": "collapse optional parameters in client method into an options model; generate options model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28ca01dec1a44ab1a629c311b0a1c1e1e772dd76", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/28ca01dec1a44ab1a629c311b0a1c1e1e772dd76", "committedDate": "2020-08-04T21:50:01Z", "message": "Remove import *"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "685762ed2ae5262e0a00fb329fe9229f42aa28cc", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/685762ed2ae5262e0a00fb329fe9229f42aa28cc", "committedDate": "2020-08-04T22:59:55Z", "message": "Handle more than one methods with optional parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e79ead85bba05e53590053487b52f5dead912f42", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/e79ead85bba05e53590053487b52f5dead912f42", "committedDate": "2020-08-04T23:16:03Z", "message": "Handle more than one methods with optional parameters in a better way"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/0963a385ddb45b378fd497c52f7b50031a872071", "committedDate": "2020-08-04T23:32:07Z", "message": "Add java doc for optional parameter in clients"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzAyOTE5", "url": "https://github.com/Azure/autorest.java/pull/674#pullrequestreview-461302919", "createdAt": "2020-08-05T02:47:34Z", "commit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo0NzozNFrOG74NxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo0NzozNFrOG74NxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MDE5Nw==", "bodyText": "Seems better just have a getOptionsModels and return the List of ClientModels, easier to understand what it for, IMHO. Also please add javadoc.", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r465440197", "createdAt": "2020-08-05T02:47:34Z", "author": {"login": "weidongxu-microsoft"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -42,13 +42,23 @@\n     private static ClientMethodMapper instance = new ClientMethodMapper();\n     private Map<Operation, List<ClientMethod>> parsed = new HashMap<>();\n \n-    private ClientMethodMapper() {\n+    protected ClientMethodMapper() {\n     }\n \n     public static ClientMethodMapper getInstance() {\n         return instance;\n     }\n \n+    public void addModelsTo(List<ClientModel> clientModels) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNTg5NDU5", "url": "https://github.com/Azure/autorest.java/pull/674#pullrequestreview-461589459", "createdAt": "2020-08-05T11:49:35Z", "commit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMTo0OTozNVrOG8GOrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMTo0OTozNVrOG8GOrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY2OTgwNg==", "bodyText": "Will it happen that 2 method in different operation group get same name (likely for list etc.), which result in same model name for Options class?", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r465669806", "createdAt": "2020-08-05T11:49:35Z", "author": {"login": "weidongxu-microsoft"}, "path": "androidgen/src/main/java/com/azure/autorest/android/mapper/AndroidOptionalParameterMapper.java", "diffHunk": "@@ -0,0 +1,128 @@\n+package com.azure.autorest.android.mapper;\n+\n+import com.azure.autorest.extension.base.model.codemodel.Parameter;\n+import com.azure.autorest.mapper.Mappers;\n+import com.azure.autorest.model.clientmodel.ClientMethodParameter;\n+import com.azure.autorest.model.clientmodel.ClientModel;\n+import com.azure.autorest.model.clientmodel.ClientModelProperty;\n+import com.azure.autorest.model.clientmodel.IType;\n+import com.azure.autorest.util.CodeNamer;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+public class AndroidOptionalParameterMapper {\n+    private String packageName;\n+    private String methodName;\n+    private List<Parameter> parameters = new ArrayList<Parameter>();\n+\n+    public AndroidOptionalParameterMapper packageName(String packageName) {\n+        this.packageName = packageName;\n+        return this;\n+    }\n+    public AndroidOptionalParameterMapper methodName(String methodName) {\n+        this.methodName = methodName;\n+        return this;\n+    }\n+\n+    public AndroidOptionalParameterMapper parameters(List<Parameter> parameters) {\n+        this.parameters = parameters;\n+        return this;\n+    }\n+\n+    public boolean hasOptionalParameters() {\n+        return parameters.size() > 0;\n+    }\n+\n+    public String getModelTypeName() {\n+        return CodeNamer.toPascalCase(String.format(\"%1$sOptions\", methodName));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b7bf4a81dfad2e71bee678a8e134254bd93229a", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/1b7bf4a81dfad2e71bee678a8e134254bd93229a", "committedDate": "2020-08-05T17:15:44Z", "message": "Only generate options model when optional parameters are more than one"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7aebbf3a767c3e93496d3c1b27644e695e228eb8", "author": {"user": null}, "url": "https://github.com/Azure/autorest.java/commit/7aebbf3a767c3e93496d3c1b27644e695e228eb8", "committedDate": "2020-08-05T19:15:30Z", "message": "Add java doc for new methods introduced; remove an unused variable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDcxMDU3", "url": "https://github.com/Azure/autorest.java/pull/674#pullrequestreview-463471057", "createdAt": "2020-08-07T17:09:22Z", "commit": {"oid": "7aebbf3a767c3e93496d3c1b27644e695e228eb8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1974, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}