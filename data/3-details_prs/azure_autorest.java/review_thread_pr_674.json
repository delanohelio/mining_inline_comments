{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMDA5ODYy", "number": 674, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo0NzozNFrOEVPM2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMTo0OTozNVrOEVYQcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNzA0NjAyOnYy", "diffSide": "RIGHT", "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo0NzozNFrOG74NxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwMjoyOTowN1rOG9KX2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MDE5Nw==", "bodyText": "Seems better just have a getOptionsModels and return the List of ClientModels, easier to understand what it for, IMHO. Also please add javadoc.", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r465440197", "createdAt": "2020-08-05T02:47:34Z", "author": {"login": "weidongxu-microsoft"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -42,13 +42,23 @@\n     private static ClientMethodMapper instance = new ClientMethodMapper();\n     private Map<Operation, List<ClientMethod>> parsed = new HashMap<>();\n \n-    private ClientMethodMapper() {\n+    protected ClientMethodMapper() {\n     }\n \n     public static ClientMethodMapper getInstance() {\n         return instance;\n     }\n \n+    public void addModelsTo(List<ClientModel> clientModels) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc1NDg5MA==", "bodyText": "I'm just trying to follow addImportsTo. :-) In fact, passing what existed already may give this class a chance to check for duplicates (as you suggested in other comment). If people want to be smarter in renaming the newly generated model, this is a chance for doing so.", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r466754890", "createdAt": "2020-08-07T00:26:33Z", "author": {"login": "JianpingChen"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -42,13 +42,23 @@\n     private static ClientMethodMapper instance = new ClientMethodMapper();\n     private Map<Operation, List<ClientMethod>> parsed = new HashMap<>();\n \n-    private ClientMethodMapper() {\n+    protected ClientMethodMapper() {\n     }\n \n     public static ClientMethodMapper getInstance() {\n         return instance;\n     }\n \n+    public void addModelsTo(List<ClientModel> clientModels) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MDE5Nw=="}, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njc4NjI2Ng==", "bodyText": "Sure. I've no strong opinion here.", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r466786266", "createdAt": "2020-08-07T02:29:07Z", "author": {"login": "weidongxu-microsoft"}, "path": "javagen/src/main/java/com/azure/autorest/mapper/ClientMethodMapper.java", "diffHunk": "@@ -42,13 +42,23 @@\n     private static ClientMethodMapper instance = new ClientMethodMapper();\n     private Map<Operation, List<ClientMethod>> parsed = new HashMap<>();\n \n-    private ClientMethodMapper() {\n+    protected ClientMethodMapper() {\n     }\n \n     public static ClientMethodMapper getInstance() {\n         return instance;\n     }\n \n+    public void addModelsTo(List<ClientModel> clientModels) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MDE5Nw=="}, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwODUyOTc3OnYy", "diffSide": "RIGHT", "path": "androidgen/src/main/java/com/azure/autorest/android/mapper/AndroidOptionalParameterMapper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMTo0OTozNVrOG8GOrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxOToxNDowM1rOG8XFmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY2OTgwNg==", "bodyText": "Will it happen that 2 method in different operation group get same name (likely for list etc.), which result in same model name for Options class?", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r465669806", "createdAt": "2020-08-05T11:49:35Z", "author": {"login": "weidongxu-microsoft"}, "path": "androidgen/src/main/java/com/azure/autorest/android/mapper/AndroidOptionalParameterMapper.java", "diffHunk": "@@ -0,0 +1,128 @@\n+package com.azure.autorest.android.mapper;\n+\n+import com.azure.autorest.extension.base.model.codemodel.Parameter;\n+import com.azure.autorest.mapper.Mappers;\n+import com.azure.autorest.model.clientmodel.ClientMethodParameter;\n+import com.azure.autorest.model.clientmodel.ClientModel;\n+import com.azure.autorest.model.clientmodel.ClientModelProperty;\n+import com.azure.autorest.model.clientmodel.IType;\n+import com.azure.autorest.util.CodeNamer;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+public class AndroidOptionalParameterMapper {\n+    private String packageName;\n+    private String methodName;\n+    private List<Parameter> parameters = new ArrayList<Parameter>();\n+\n+    public AndroidOptionalParameterMapper packageName(String packageName) {\n+        this.packageName = packageName;\n+        return this;\n+    }\n+    public AndroidOptionalParameterMapper methodName(String methodName) {\n+        this.methodName = methodName;\n+        return this;\n+    }\n+\n+    public AndroidOptionalParameterMapper parameters(List<Parameter> parameters) {\n+        this.parameters = parameters;\n+        return this;\n+    }\n+\n+    public boolean hasOptionalParameters() {\n+        return parameters.size() > 0;\n+    }\n+\n+    public String getModelTypeName() {\n+        return CodeNamer.toPascalCase(String.format(\"%1$sOptions\", methodName));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0NjAwOA==", "bodyText": "Valid concern but that's kind of the assumption we made above this level already. For example, if two operations at two different paths have the same \"operationId\", they will cause name clash in the client (even though may have different signatures). We can work around that by modifying the swagger file so that they have different operationId. Fixing this assumption in autorest requires a lot more effort than we can afford. I'll just take a note and investigate later.", "url": "https://github.com/Azure/autorest.java/pull/674#discussion_r465946008", "createdAt": "2020-08-05T19:14:03Z", "author": {"login": "JianpingChen"}, "path": "androidgen/src/main/java/com/azure/autorest/android/mapper/AndroidOptionalParameterMapper.java", "diffHunk": "@@ -0,0 +1,128 @@\n+package com.azure.autorest.android.mapper;\n+\n+import com.azure.autorest.extension.base.model.codemodel.Parameter;\n+import com.azure.autorest.mapper.Mappers;\n+import com.azure.autorest.model.clientmodel.ClientMethodParameter;\n+import com.azure.autorest.model.clientmodel.ClientModel;\n+import com.azure.autorest.model.clientmodel.ClientModelProperty;\n+import com.azure.autorest.model.clientmodel.IType;\n+import com.azure.autorest.util.CodeNamer;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+public class AndroidOptionalParameterMapper {\n+    private String packageName;\n+    private String methodName;\n+    private List<Parameter> parameters = new ArrayList<Parameter>();\n+\n+    public AndroidOptionalParameterMapper packageName(String packageName) {\n+        this.packageName = packageName;\n+        return this;\n+    }\n+    public AndroidOptionalParameterMapper methodName(String methodName) {\n+        this.methodName = methodName;\n+        return this;\n+    }\n+\n+    public AndroidOptionalParameterMapper parameters(List<Parameter> parameters) {\n+        this.parameters = parameters;\n+        return this;\n+    }\n+\n+    public boolean hasOptionalParameters() {\n+        return parameters.size() > 0;\n+    }\n+\n+    public String getModelTypeName() {\n+        return CodeNamer.toPascalCase(String.format(\"%1$sOptions\", methodName));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY2OTgwNg=="}, "originalCommit": {"oid": "0963a385ddb45b378fd497c52f7b50031a872071"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3107, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}