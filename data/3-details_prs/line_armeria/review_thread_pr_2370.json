{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjA0NzQ4", "number": 2370, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNToyMTo0MlrODWJ3Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxNjo0OFrODWMLpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTU2ODE4OnYy", "diffSide": "RIGHT", "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloExtensions.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNToyMTo0MlrOFawFUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNjoxNToxMFrOFawozw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5NTA5MA==", "bodyText": "This is not related to the Armeria core feature. However, I think string extension methods are not a good example to build a Hello message because String is a common class that represents char sequences. It looks fancy but I feel it is a bit abused.\nHow about remove the string extension methods and add a class like HelloMessageExtensions or HelloMessageFatory?\nclass HeloMessageFatory {\n  fun newHelloReply(message: String): HelloReply = ...\n  fun newHelloRequest(message: String): HelloRequest = ...\n  ...\n}", "url": "https://github.com/line/armeria/pull/2370#discussion_r363595090", "createdAt": "2020-01-07T05:21:42Z", "author": {"login": "ikhoon"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloExtensions.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+fun String.buildHelloReply(): HelloReply = HelloReply.newBuilder().setMessage(this).build()\n+\n+fun String.buildHelloRequest(): HelloRequest = HelloRequest.newBuilder().setName(this).build()\n+\n+fun String.hello(): String = \"Hello, $this!\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzYwNDE3NQ==", "bodyText": "I agree. Usually in Kotlin, adding Extension to the end of a class name has a different purpose, so we'll change it to HelloMessageFatory.", "url": "https://github.com/line/armeria/pull/2370#discussion_r363604175", "createdAt": "2020-01-07T06:15:10Z", "author": {"login": "heowc"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloExtensions.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+fun String.buildHelloReply(): HelloReply = HelloReply.newBuilder().setMessage(this).build()\n+\n+fun String.buildHelloRequest(): HelloRequest = HelloRequest.newBuilder().setName(this).build()\n+\n+fun String.hello(): String = \"Hello, $this!\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5NTA5MA=="}, "originalCommit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NTk0ODUyOnYy", "diffSide": "RIGHT", "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxNjo0OFrOFazr2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxMTo0OToyMFrOFa3SGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg==", "bodyText": "How about using private methods like the other examples?\nhttps://github.com/line/armeria/blob/master/examples/grpc-reactor/src/main/java/example/armeria/grpc/reactor/HelloServiceImpl.java#L104\nUnless that's a total antipattern in Kotlin, I think it's better for the examples to be as close to each other as possible for comparison", "url": "https://github.com/line/armeria/pull/2370#discussion_r363654106", "createdAt": "2020-01-07T09:16:48Z", "author": {"login": "anuraaga"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+class HelloMessageFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY5MzIxOQ==", "bodyText": "I think it's better for the examples to be as close to each other as possible for comparison\n\nThat makes sense.\n@heowc Sorry for the interrupting multiple times. \ud83d\ude05 I think @anuraaga \u2018s suggestion is better than mine.", "url": "https://github.com/line/armeria/pull/2370#discussion_r363693219", "createdAt": "2020-01-07T10:52:08Z", "author": {"login": "ikhoon"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+class HelloMessageFactory {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg=="}, "originalCommit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzcxMzA1MA==", "bodyText": "Fine. \ud83d\ude04I will reflect on the code soon.", "url": "https://github.com/line/armeria/pull/2370#discussion_r363713050", "createdAt": "2020-01-07T11:49:20Z", "author": {"login": "heowc"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+class HelloMessageFactory {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg=="}, "originalCommit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2849, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}