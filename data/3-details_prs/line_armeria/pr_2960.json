{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxMjk1NzQw", "number": 2960, "title": "Add DocServiceConfigurator into boot2-webflux-autoconfigure", "bodyText": "Hi.\nCurrently can't use DocServiceConfigurator in boot2-webflux-autoconfigure, so I'd like to add it.", "createdAt": "2020-08-01T17:56:00Z", "url": "https://github.com/line/armeria/pull/2960", "merged": true, "mergeCommit": {"oid": "b321d90c1321896879d6dc3366173cd0a05c26dc"}, "closed": true, "closedAt": "2020-08-04T03:44:46Z", "author": {"login": "matsumana"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6ssRQAH2gAyNDYxMjk1NzQwOmM4NGM1NWRiOWRhZjQxNWJhMzkxNjJjMzgxNDQzNzYwYjJmNWVkYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7eSkhgFqTQ2MDQ3NTk0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1", "author": {"user": {"login": "matsumana", "name": "Manabu Matsuzaki"}}, "url": "https://github.com/line/armeria/commit/c84c55db9daf415ba39162c381443760b2f5eda1", "committedDate": "2020-08-01T17:57:52Z", "message": "Add DocServiceConfigurator into boot2-webflux-autoconfigure"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "472d9e9af73b13e31400502a99f8dc3249c57e2c", "author": {"user": null}, "url": "https://github.com/line/armeria/commit/472d9e9af73b13e31400502a99f8dc3249c57e2c", "committedDate": "2020-08-01T17:45:45Z", "message": "Add DocServiceConfigurator into boot2-webflux-autoconfigure"}, "afterCommit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1", "author": {"user": {"login": "matsumana", "name": "Manabu Matsuzaki"}}, "url": "https://github.com/line/armeria/commit/c84c55db9daf415ba39162c381443760b2f5eda1", "committedDate": "2020-08-01T17:57:52Z", "message": "Add DocServiceConfigurator into boot2-webflux-autoconfigure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NzE1OTUz", "url": "https://github.com/line/armeria/pull/2960#pullrequestreview-459715953", "createdAt": "2020-08-03T02:33:06Z", "commit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwMjozMzowN1rOG6qX6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwMjozMzowN1rOG6qX6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2NDg0Mw==", "bodyText": "If fails to find DocServiceConfigurator, how about calling configureArmeriaService(sb, settings)?", "url": "https://github.com/line/armeria/pull/2960#discussion_r464164843", "createdAt": "2020-08-03T02:33:07Z", "author": {"login": "ikhoon"}, "path": "spring/boot2-webflux-autoconfigure/src/main/java/com/linecorp/armeria/spring/web/reactive/ArmeriaReactiveWebServerFactory.java", "diffHunk": "@@ -192,9 +193,13 @@ public WebServer getWebServer(HttpHandler httpHandler) {\n                                                   Ints.saturatedCast(minResponseSize)));\n         }\n \n+        final DocServiceBuilder docServiceBuilder = DocService.builder();\n+        findBeans(DocServiceConfigurator.class).forEach(\n+                configurator -> configurator.configure(docServiceBuilder));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NzE3MDg5", "url": "https://github.com/line/armeria/pull/2960#pullrequestreview-459717089", "createdAt": "2020-08-03T02:38:04Z", "commit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwMjozODowNFrOG6qb2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwMjo0MDo0OFrOG6qeBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2NTg0OA==", "bodyText": "Could you include ArmeriaBeanPostProcessorConfiguration by changing\ninclude '**/*ArmeriaBeanPostProcessor.java' to include '**/*ArmeriaBeanPostProcessor*.java'\nplease?", "url": "https://github.com/line/armeria/pull/2960#discussion_r464165848", "createdAt": "2020-08-03T02:38:04Z", "author": {"login": "minwoox"}, "path": "spring/boot2-webflux-autoconfigure/build.gradle", "diffHunk": "@@ -37,6 +37,7 @@ task generateSources(type: Copy) {\n     include '**/ArmeriaServerConfigurator.java'\n     include '**/ArmeriaSettings.java'\n     include '**/CustomAlias*KeyManager*.java'\n+    include '**/DocServiceConfigurator.java'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2NjQwNw==", "bodyText": "Also could group the classes with the package so that we can easily recognize what we missed please?\nlike:\n// Copy from /internal/spring package.\ninclude '**/ArmeriaConfigurationNetUtil.java'\ninclude '**/ArmeriaConfigurationUtil.java'\ninclude '**/CustomAlias*KeyManager*.java'\n\n// Copy from /spring package.", "url": "https://github.com/line/armeria/pull/2960#discussion_r464166407", "createdAt": "2020-08-03T02:40:48Z", "author": {"login": "minwoox"}, "path": "spring/boot2-webflux-autoconfigure/build.gradle", "diffHunk": "@@ -37,6 +37,7 @@ task generateSources(type: Copy) {\n     include '**/ArmeriaServerConfigurator.java'\n     include '**/ArmeriaSettings.java'\n     include '**/CustomAlias*KeyManager*.java'\n+    include '**/DocServiceConfigurator.java'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2NTg0OA=="}, "originalCommit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NzIwNDM5", "url": "https://github.com/line/armeria/pull/2960#pullrequestreview-459720439", "createdAt": "2020-08-03T02:52:38Z", "commit": {"oid": "c84c55db9daf415ba39162c381443760b2f5eda1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f28bcefa9a4a0446166cfea3ff22b6b6b2b6693a", "author": {"user": {"login": "matsumana", "name": "Manabu Matsuzaki"}}, "url": "https://github.com/line/armeria/commit/f28bcefa9a4a0446166cfea3ff22b6b6b2b6693a", "committedDate": "2020-08-03T19:10:57Z", "message": "Add test for DocServiceConfigurator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e5a3af2987731df088e608e7d089b3866562e83", "author": {"user": {"login": "matsumana", "name": "Manabu Matsuzaki"}}, "url": "https://github.com/line/armeria/commit/9e5a3af2987731df088e608e7d089b3866562e83", "committedDate": "2020-08-03T19:13:35Z", "message": "Organize copy task using group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNDc1OTQx", "url": "https://github.com/line/armeria/pull/2960#pullrequestreview-460475941", "createdAt": "2020-08-04T03:45:03Z", "commit": {"oid": "9e5a3af2987731df088e608e7d089b3866562e83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4984, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}