{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjA0NzQ4", "number": 2370, "title": "Add examples:grpc-kotlin", "bodyText": "Related: #1078, #1880\nMotivation:\n\nAn example is provided to users of Kotlin.\n\nModifications:\n\nMake an example in Kotlin that looks like grpc-example.\n\nResult:\n\nPartial fix for #1880\nUser-friendliness", "createdAt": "2020-01-04T11:03:56Z", "url": "https://github.com/line/armeria/pull/2370", "merged": true, "mergeCommit": {"oid": "48f738f856d57bbab7a47b6bd10db7cb92b588df"}, "closed": true, "closedAt": "2020-01-08T03:12:06Z", "author": {"login": "heowc"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3A3nvgH2gAyMzU5MjA0NzQ4OjdiOWE2ODg3YjVmMDAxMWJhNjY1ZThkZDNlYTZlYmQ3ODE2M2I3OGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3_6q6AFqTMzOTIwNTkyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7b9a6887b5f0011ba665e8dd3ea6ebd78163b78b", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/7b9a6887b5f0011ba665e8dd3ea6ebd78163b78b", "committedDate": "2020-01-04T11:01:31Z", "message": "Add examples:grpc-kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbb0d6ed7da5b7ebec483020daacd688fb6bfc76", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/dbb0d6ed7da5b7ebec483020daacd688fb6bfc76", "committedDate": "2020-01-05T03:36:17Z", "message": "Fix examples/README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b58f00aa99371ef312f9576152ebd7652b2c15a", "author": {"user": {"login": "trustin", "name": "Trustin Lee"}}, "url": "https://github.com/line/armeria/commit/9b58f00aa99371ef312f9576152ebd7652b2c15a", "committedDate": "2020-01-06T07:43:15Z", "message": "Update README.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NTAzMDEw", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-338503010", "createdAt": "2020-01-06T07:43:30Z", "commit": {"oid": "9b58f00aa99371ef312f9576152ebd7652b2c15a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc55624cf120f2be81e6bdc4690bc224939e43de", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/fc55624cf120f2be81e6bdc4690bc224939e43de", "committedDate": "2020-01-06T13:43:02Z", "message": "Merge branch 'master' into add_example_grpc-kotlin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9247579270c850ecc7b4742248b9f6491ffe5768", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/9247579270c850ecc7b4742248b9f6491ffe5768", "committedDate": "2020-01-06T13:55:02Z", "message": "Replace code about remove `Optional<>`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4381bbb01bf2e0c53163a620ad982c1c94c2639f", "author": {"user": null}, "url": "https://github.com/line/armeria/commit/4381bbb01bf2e0c53163a620ad982c1c94c2639f", "committedDate": "2020-01-07T03:57:00Z", "message": "Merge branch 'master' into add_example_grpc-kotlin"}, "afterCommit": {"oid": "9247579270c850ecc7b4742248b9f6491ffe5768", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/9247579270c850ecc7b4742248b9f6491ffe5768", "committedDate": "2020-01-06T13:55:02Z", "message": "Replace code about remove `Optional<>`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/531ae65bfc06a4225862512eb46880ebe192a040", "committedDate": "2020-01-07T03:58:34Z", "message": "Merge branch 'master' into add_example_grpc-kotlin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MDI5NjQ4", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-339029648", "createdAt": "2020-01-07T04:51:15Z", "commit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MDM1NDIx", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-339035421", "createdAt": "2020-01-07T05:21:41Z", "commit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNToyMTo0MlrOFawFUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwNToyMTo0MlrOFawFUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU5NTA5MA==", "bodyText": "This is not related to the Armeria core feature. However, I think string extension methods are not a good example to build a Hello message because String is a common class that represents char sequences. It looks fancy but I feel it is a bit abused.\nHow about remove the string extension methods and add a class like HelloMessageExtensions or HelloMessageFatory?\nclass HeloMessageFatory {\n  fun newHelloReply(message: String): HelloReply = ...\n  fun newHelloRequest(message: String): HelloRequest = ...\n  ...\n}", "url": "https://github.com/line/armeria/pull/2370#discussion_r363595090", "createdAt": "2020-01-07T05:21:42Z", "author": {"login": "ikhoon"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloExtensions.kt", "diffHunk": "@@ -0,0 +1,10 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+fun String.buildHelloReply(): HelloReply = HelloReply.newBuilder().setMessage(this).build()\n+\n+fun String.buildHelloRequest(): HelloRequest = HelloRequest.newBuilder().setName(this).build()\n+\n+fun String.hello(): String = \"Hello, $this!\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "531ae65bfc06a4225862512eb46880ebe192a040"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/e1bf1a46a8e785c436747d2d778f8f414d2e25bb", "committedDate": "2020-01-07T08:37:03Z", "message": "Change `HelloMessageFatory` from `HelloExtensions`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTEyNTgx", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-339112581", "createdAt": "2020-01-07T09:16:48Z", "commit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxNjo0OFrOFazr2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwOToxNjo0OFrOFazr2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzY1NDEwNg==", "bodyText": "How about using private methods like the other examples?\nhttps://github.com/line/armeria/blob/master/examples/grpc-reactor/src/main/java/example/armeria/grpc/reactor/HelloServiceImpl.java#L104\nUnless that's a total antipattern in Kotlin, I think it's better for the examples to be as close to each other as possible for comparison", "url": "https://github.com/line/armeria/pull/2370#discussion_r363654106", "createdAt": "2020-01-07T09:16:48Z", "author": {"login": "anuraaga"}, "path": "examples/grpc-kotlin/src/main/kotlin/example/armeria/grpc/kotlin/HelloMessageFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package example.armeria.grpc.kotlin\n+\n+import example.armeria.grpc.kotlin.Hello.HelloReply\n+import example.armeria.grpc.kotlin.Hello.HelloRequest\n+\n+class HelloMessageFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MTY0MzA2", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-339164306", "createdAt": "2020-01-07T10:52:51Z", "commit": {"oid": "e1bf1a46a8e785c436747d2d778f8f414d2e25bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87bd32f75b8ed928c6e168a3cadad3fc19105f7d", "author": {"user": {"login": "heowc", "name": "WonChul Heo"}}, "url": "https://github.com/line/armeria/commit/87bd32f75b8ed928c6e168a3cadad3fc19105f7d", "committedDate": "2020-01-07T12:04:45Z", "message": "Remove `HelloMessageFactory`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5MjA1OTI0", "url": "https://github.com/line/armeria/pull/2370#pullrequestreview-339205924", "createdAt": "2020-01-07T12:28:52Z", "commit": {"oid": "87bd32f75b8ed928c6e168a3cadad3fc19105f7d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 792, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}