{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MTk4Mjk2", "number": 2890, "title": "Hide over-exposed public APIs part 2", "bodyText": "(Breaking)\n\nMove common.util.NonNullByDefault to common.annotation.NonNullByDefault\nMove common.util.UnstableApi to common.annotation.UnstableApi\nKeyedCircuitBreakerMapping and KeyedCircuitBreakerMapping.KeySelector are now package-private.\n\nUse static methods in CircuitBreakerMapping.\n\n\nCircuitBreakerMapping.perHostAndMethod(Function<> factory) now takes BiFunction instead of Function.\n\n\n\n(Deprecated)\n\nClientFactoryOptions.of() is deprecated. Use ClientFactoryOptions.empty().\nMetricCollectingCircuitBreakerListener is deprecated.\nUse CircuitBreakerListener.metricCollecting().\nRateLimitingThrottlingStrategy is deprecated. Use ThrottlingStrategy#rateLimiting().\n\n\n\nMiscellaneous\n\nAdd rnn and final where applicable\nUpdate Javadoc", "createdAt": "2020-07-10T03:15:07Z", "url": "https://github.com/line/armeria/pull/2890", "merged": true, "mergeCommit": {"oid": "ac398ea9f1e69b837fc32e663830ae2f2ade002f"}, "closed": true, "closedAt": "2020-07-14T04:26:31Z", "author": {"login": "minwoox"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcza2iJgH2gAyNDQ3MTk4Mjk2OjUxY2ZlNGExZWEzMmMyYjBjNzA3MzgwNzI3NDBkNGM2ZTI5NjM1Zjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0tYJlgH2gAyNDQ3MTk4Mjk2OjA5NGYzYjA1NDAxNTc2Mzg0ODRjNjM4ZDQxNWQ2N2NmNmQ5MWQ0NTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "51cfe4a1ea32c2b0c70738072740d4c6e29635f8", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/51cfe4a1ea32c2b0c70738072740d4c6e29635f8", "committedDate": "2020-07-10T03:13:19Z", "message": "Hide over-exposed public APIs part 2\n- (Breaking)\n  - Move `common.util.NonNullByDefault` to `common.annotation.NonNullByDefault`\n  - Move `common.util.UnstableApi` to `common.annotation.UnstableApi`\n  - `KeyedCircuitBreakerMapping.KeySelector` is now `KeySelector`.\n  - `KeyedCircuitBreakerMapping.KeySelector.HOST` is removed. Use `CircuitBreakerMapping.perHost()`.\n  - `KeyedCircuitBreakerMapping.KeySelector.METHOD` is removed. Use `CircuitBreakerMapping.perMethod()`.\n  - `KeyedCircuitBreakerMapping.KeySelector.HOST_AND_METHOD` is removed.\n     Use `CircuitBreakerMapping.perHostAndMethod()`.\n\n- (Deprecated)\n  - `ClientFactoryOptions.of()` is deprecated. Use `ClientFactoryOptions.emtpy()`.\n  - `MetricCollectingCircuitBreakerListener` is deprecated.\n     Use `CircuitBreakerListener.metricCollection()`.\n  - `RateLimitingThrottlingStrategy` is deprecated. Use `ThrottlingStrategy#rateLimiting()`.\n\n- Miscellenious\n  - Add rnn and final where applicable\n  - Update Javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTQ5MjM0", "url": "https://github.com/line/armeria/pull/2890#pullrequestreview-446949234", "createdAt": "2020-07-13T02:40:34Z", "commit": {"oid": "51cfe4a1ea32c2b0c70738072740d4c6e29635f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTUyNTcy", "url": "https://github.com/line/armeria/pull/2890#pullrequestreview-446952572", "createdAt": "2020-07-13T02:55:40Z", "commit": {"oid": "51cfe4a1ea32c2b0c70738072740d4c6e29635f8"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwMjo1NTo0MFrOGwZ5Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwMjo1NTo0MFrOGwZ5Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQwOTA1OA==", "bodyText": "Add @Deprecation in class?", "url": "https://github.com/line/armeria/pull/2890#discussion_r453409058", "createdAt": "2020-07-13T02:55:40Z", "author": {"login": "ikhoon"}, "path": "core/src/main/java/com/linecorp/armeria/client/circuitbreaker/MetricCollectingCircuitBreakerListener.java", "diffHunk": "@@ -57,22 +57,28 @@\n  */\n public final class MetricCollectingCircuitBreakerListener implements CircuitBreakerListener {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51cfe4a1ea32c2b0c70738072740d4c6e29635f8"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ccb87f39bbcbc0f476d072feba7956371cc68e7", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/4ccb87f39bbcbc0f476d072feba7956371cc68e7", "committedDate": "2020-07-13T06:16:47Z", "message": "Revert KeySelector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MDExNjc5", "url": "https://github.com/line/armeria/pull/2890#pullrequestreview-447011679", "createdAt": "2020-07-13T06:33:30Z", "commit": {"oid": "4ccb87f39bbcbc0f476d072feba7956371cc68e7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwNjozMzozMFrOGwdDfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwNjozMzozMFrOGwdDfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ2MDg2Mw==", "bodyText": "How about making it accept a BiFunction<String, String, CircuitBreaker>?", "url": "https://github.com/line/armeria/pull/2890#discussion_r453460863", "createdAt": "2020-07-13T06:33:30Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/client/circuitbreaker/CircuitBreakerMapping.java", "diffHunk": "@@ -71,7 +61,7 @@ static CircuitBreakerMapping perHost(Function<String, CircuitBreaker> factory) {\n      *                creates a new {@link CircuitBreaker}\n      */\n     static CircuitBreakerMapping perHostAndMethod(Function<String, CircuitBreaker> factory) {\n-        return new KeyedCircuitBreakerMapping<>(KeySelectorUtil.hostAndMethodSelector, factory);\n+        return new KeyedCircuitBreakerMapping<>(KeySelector.HOST_AND_METHOD, factory);\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ccb87f39bbcbc0f476d072feba7956371cc68e7"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7454537eb8ed70f23167508532621d614882ef72", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/7454537eb8ed70f23167508532621d614882ef72", "committedDate": "2020-07-13T10:24:07Z", "message": "Add BiFunctions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84a0aec16a51e8a448e386939b7750051ad5f49c", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/84a0aec16a51e8a448e386939b7750051ad5f49c", "committedDate": "2020-07-13T10:44:29Z", "message": "Revert \"Add BiFunctions\"\n\nThis reverts commit 7454537eb8ed70f23167508532621d614882ef72."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eaaf7e133f659969112f9951f23f2d0f591864d", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/3eaaf7e133f659969112f9951f23f2d0f591864d", "committedDate": "2020-07-14T01:44:41Z", "message": "Remove KeySelector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NzU0Mzgy", "url": "https://github.com/line/armeria/pull/2890#pullrequestreview-447754382", "createdAt": "2020-07-14T03:11:38Z", "commit": {"oid": "3eaaf7e133f659969112f9951f23f2d0f591864d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "094f3b0540157638484c638d415d67cf6d91d456", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/094f3b0540157638484c638d415d67cf6d91d456", "committedDate": "2020-07-14T03:22:15Z", "message": "Merge branch 'master' into over_exposed_api"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4885, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}