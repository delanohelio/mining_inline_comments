{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MjA4ODM3", "number": 2776, "title": "Fix the errors reported by NullAway", "bodyText": "Motivation:\nBefore adopting NullAway(#1680) or other static analysis tools.\nManually run it and clean up errors.\nModifications:\n\nFix all true positives reported by NullAway\n\nResult:\nLess NullAway errors", "createdAt": "2020-06-05T04:08:53Z", "url": "https://github.com/line/armeria/pull/2776", "merged": true, "mergeCommit": {"oid": "8d59ec226ba715461e7298c749e4cdc1cd252247"}, "closed": true, "closedAt": "2020-06-08T06:32:58Z", "author": {"login": "ikhoon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoLA7EgFqTQyNDk4ODc1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpH-PpAFqTQyNTg5NzcyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTg4NzU5", "url": "https://github.com/line/armeria/pull/2776#pullrequestreview-424988759", "createdAt": "2020-06-05T04:31:08Z", "commit": {"oid": "e02980007790f7ce2223ee349adb2a58790ab78b"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNDozMTowOVrOGfgDOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNDozMjo1M1rOGfgEkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY4NDE1Mg==", "bodyText": "@Nullable is an inherited annotation, which means you do not have to specify it when the method you are overriding already has it, i.e. this is false positive.", "url": "https://github.com/line/armeria/pull/2776#discussion_r435684152", "createdAt": "2020-06-05T04:31:09Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/client/Client.java", "diffHunk": "@@ -71,6 +73,7 @@\n      * @see ClientFactory#unwrap(Object, Class)\n      * @see Unwrappable\n      */\n+    @Nullable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02980007790f7ce2223ee349adb2a58790ab78b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY4NDMxOA==", "bodyText": "How about using assert? It's perhaps a bug if this method is exposed to a user before init() is invoked.", "url": "https://github.com/line/armeria/pull/2776#discussion_r435684318", "createdAt": "2020-06-05T04:32:01Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/client/DefaultClientRequestContext.java", "diffHunk": "@@ -393,11 +393,13 @@ public ClientOptions options() {\n \n     @Override\n     public EndpointGroup endpointGroup() {\n+        checkState(endpointGroup != null, \"Should call init(endpoint) before invoking this method.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02980007790f7ce2223ee349adb2a58790ab78b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTY4NDQ5Nw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/line/armeria/pull/2776#discussion_r435684497", "createdAt": "2020-06-05T04:32:53Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/internal/server/annotation/AnnotationUtil.java", "diffHunk": "@@ -220,14 +220,14 @@\n \n     private static <T extends Annotation> void findMetaAnnotations(\n             Builder<T> builder, Annotation annotation,\n-            Class<T> annotationType, Class<? extends Annotation> containerType) {\n+            Class<T> annotationType, @Nullable Class<? extends Annotation> containerType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02980007790f7ce2223ee349adb2a58790ab78b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f773c1bb4177172408ea3fd78aab8ac285114d4b", "author": {"user": {"login": "ikhoon", "name": "Ikhun Um"}}, "url": "https://github.com/line/armeria/commit/f773c1bb4177172408ea3fd78aab8ac285114d4b", "committedDate": "2020-06-05T06:15:39Z", "message": "Apply Nullaway"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e02980007790f7ce2223ee349adb2a58790ab78b", "author": {"user": {"login": "ikhoon", "name": "Ikhun Um"}}, "url": "https://github.com/line/armeria/commit/e02980007790f7ce2223ee349adb2a58790ab78b", "committedDate": "2020-06-05T04:03:01Z", "message": "Apply NullAway\n\nMotivation:\n\nBefore adopting NullAway(#1680) or other static analysis tools.\nManually run it and clean up errors.\n\nModifications:\n\n- Fix all true positives reported by NullAway\n\nResult:\n\nLess NullAway errors"}, "afterCommit": {"oid": "f773c1bb4177172408ea3fd78aab8ac285114d4b", "author": {"user": {"login": "ikhoon", "name": "Ikhun Um"}}, "url": "https://github.com/line/armeria/commit/f773c1bb4177172408ea3fd78aab8ac285114d4b", "committedDate": "2020-06-05T06:15:39Z", "message": "Apply Nullaway"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37bb2d31a73f68812a09080833f42d3037468034", "author": {"user": {"login": "ikhoon", "name": "Ikhun Um"}}, "url": "https://github.com/line/armeria/commit/37bb2d31a73f68812a09080833f42d3037468034", "committedDate": "2020-06-05T06:17:08Z", "message": "Remove cruft"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MDgxNjAw", "url": "https://github.com/line/armeria/pull/2776#pullrequestreview-425081600", "createdAt": "2020-06-05T08:03:10Z", "commit": {"oid": "37bb2d31a73f68812a09080833f42d3037468034"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MjI2Mjgy", "url": "https://github.com/line/armeria/pull/2776#pullrequestreview-425226282", "createdAt": "2020-06-05T11:45:01Z", "commit": {"oid": "37bb2d31a73f68812a09080833f42d3037468034"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "257fbdbc8e35080c3ee6221b64aceecf10056954", "author": {"user": {"login": "ikhoon", "name": "Ikhun Um"}}, "url": "https://github.com/line/armeria/commit/257fbdbc8e35080c3ee6221b64aceecf10056954", "committedDate": "2020-06-06T16:26:22Z", "message": "Revert assert"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1ODk3NzI4", "url": "https://github.com/line/armeria/pull/2776#pullrequestreview-425897728", "createdAt": "2020-06-08T03:34:18Z", "commit": {"oid": "257fbdbc8e35080c3ee6221b64aceecf10056954"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 171, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}