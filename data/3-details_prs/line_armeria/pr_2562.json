{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzgzNjAz", "number": 2562, "title": "Fix AuthSuccessHandler to use HttpRequest and HttpResponse", "bodyText": "Motivation:\nRelated: #2323\nResult:\n\n(Breaking) AuthSuccessHandler and AuthFailureHandler now does not have type parameters.", "createdAt": "2020-03-09T04:48:25Z", "url": "https://github.com/line/armeria/pull/2562", "merged": true, "mergeCommit": {"oid": "8e0cdb15e6a818e08964104a525825048039bdc9"}, "closed": true, "closedAt": "2020-03-18T05:18:19Z", "author": {"login": "minwoox"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL2WBzgH2gAyMzg1MzgzNjAzOjg3OGM2MjMxZmNhNGFlYjBmNzg2YTEyYWNmN2Q2MDBkZTQ5ZTEyYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOwRF2AFqTM3NjU2OTM0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "878c6231fca4aeb0f786a12acf7d600de49e12a1", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/878c6231fca4aeb0f786a12acf7d600de49e12a1", "committedDate": "2020-03-09T04:38:11Z", "message": "[WIP] Fix AuthSuccessHandler to use HttpRequest and HttpResponse\nMotivation:\nRelated: #2323"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTE2MTAw", "url": "https://github.com/line/armeria/pull/2562#pullrequestreview-370916100", "createdAt": "2020-03-09T04:48:58Z", "commit": {"oid": "878c6231fca4aeb0f786a12acf7d600de49e12a1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNDo0ODo1OFrOFza4AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwNDo0ODo1OFrOFza4AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ2MjAxNw==", "bodyText": "I have a question about this. Because I have changed to this to use HttpRequest only,\n(I should've done this in #2323) is there any chance that a user might not want to return different status than 401?\nIf so, I was wondering if we can guide them to use HttpResponseException or HttpStatusException.\nAnd remove these handlers and just add sort of AuthorizingStrategy with a builder, so that a user just can return true or false. \ud83e\udd14", "url": "https://github.com/line/armeria/pull/2562#discussion_r389462017", "createdAt": "2020-03-09T04:48:58Z", "author": {"login": "minwoox"}, "path": "core/src/main/java/com/linecorp/armeria/server/auth/AuthServiceBuilder.java", "diffHunk": "@@ -154,7 +154,7 @@ public AuthServiceBuilder onSuccess(AuthSuccessHandler<HttpRequest, HttpResponse\n      * By default, an exception thrown during authorization is logged at WARN level (if any) and a\n      * {@code 401 Unauthorized} response will be sent.\n      */\n-    public AuthServiceBuilder onFailure(AuthFailureHandler<HttpRequest, HttpResponse> failureHandler) {\n+    public AuthServiceBuilder onFailure(AuthFailureHandler failureHandler) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878c6231fca4aeb0f786a12acf7d600de49e12a1"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTY2OTA2", "url": "https://github.com/line/armeria/pull/2562#pullrequestreview-370966906", "createdAt": "2020-03-09T07:55:47Z", "commit": {"oid": "878c6231fca4aeb0f786a12acf7d600de49e12a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NTY5MzQx", "url": "https://github.com/line/armeria/pull/2562#pullrequestreview-376569341", "createdAt": "2020-03-18T05:15:08Z", "commit": {"oid": "878c6231fca4aeb0f786a12acf7d600de49e12a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 664, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}